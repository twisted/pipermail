<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] LivePage and Safari
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20LivePage%20and%20Safari&In-Reply-To=F020BCD4-849B-452A-9E10-6E96F98E69F4%40gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002169.html">
   <LINK REL="Next"  HREF="002172.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] LivePage and Safari</H1>
    <B>Valentino Volonghi aka Dialtone</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20LivePage%20and%20Safari&In-Reply-To=F020BCD4-849B-452A-9E10-6E96F98E69F4%40gmail.com"
       TITLE="[Twisted-web] LivePage and Safari">dialtone at divmod.com
       </A><BR>
    <I>Thu Dec  1 10:24:19 MST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="002169.html">[Twisted-web] LivePage and Safari
</A></li>
        <LI>Next message: <A HREF="002172.html">[Twisted-web] LivePage and Safari
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2171">[ date ]</a>
              <a href="thread.html#2171">[ thread ]</a>
              <a href="subject.html#2171">[ subject ]</a>
              <a href="author.html#2171">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Dec 01, 2005 at 12:13:16PM -0500, Beau Hartshorne wrote:

I'm not a javascript or Safari expert but...

&gt;<i> When I loaded up the Chatola demo, I noticed that Safari (2.0.2) was  
</I>&gt;<i> still &quot;loading&quot; the page. I sat there waiting for a few seconds  
</I>&gt;<i> before I realized that it would never stop because of the way the  
</I>&gt;<i> LivePage works. (Yes, I'm brand-new.) The first time, I clicked on  
</I>&gt;<i> Stop and of course nothing worked.
</I>
The problem is that the livepage opens a connection from the browser to the
server after the rendering is complete. This makes the browser believe the
page has still to finish rendering and keeps the loading up.

I'm unsure if this has to be considered a bug or a different implementation
but it is indeed annoying.

&gt;<i> To work around the problem, I included the LivePage code in the  
</I>&gt;<i> &lt;head&gt;, and added an onload handler to &lt;body&gt; to call connect(0).  
</I>&gt;<i> This didn't fix it, so I changed it to setTimeout('connect()', 1).  
</I>&gt;<i> That worked, Safari no longer tells the user that it's waiting for  
</I>&gt;<i> the page to load.
</I>
LivePage is about to be deprecated in favour of Athena but this fix still
makes sense for Athena too (since the same problem is available there).
I think patching both makes sense and if using the timeout actually fixes the
problem without breaking functionality then be it. :).

&gt;<i> This seems like a Safari bug, but would it make sense to patch the  
</I>&gt;<i> Nevow code with this work-around? Where do you get started to submit  
</I>&gt;<i> a change like this?
</I>
In the nevow bug tracker.

<A HREF="http://divmod.org/trac/newticket">http://divmod.org/trac/newticket</A>

-- 
Valentino Volonghi aka Dialtone
Now Running MacOSX 10.4
Blog: <A HREF="http://vvolonghi.blogspot.com">http://vvolonghi.blogspot.com</A>
<A HREF="http://weever.berlios.de">http://weever.berlios.de</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 186 bytes
Desc: not available
Url : <A HREF="http://twistedmatrix.com/pipermail/twisted-web/attachments/20051201/1a252c56/attachment.pgp">http://twistedmatrix.com/pipermail/twisted-web/attachments/20051201/1a252c56/attachment.pgp</A>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002169.html">[Twisted-web] LivePage and Safari
</A></li>
	<LI>Next message: <A HREF="002172.html">[Twisted-web] LivePage and Safari
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2171">[ date ]</a>
              <a href="thread.html#2171">[ thread ]</a>
              <a href="subject.html#2171">[ subject ]</a>
              <a href="author.html#2171">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
