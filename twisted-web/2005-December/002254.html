<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Off topic: streaming animated GIFs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Off%20topic%3A%20streaming%20animated%20GIFs&In-Reply-To=200512201507.49736.mike%40mkp.ca">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002253.html">
   <LINK REL="Next"  HREF="002232.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Off topic: streaming animated GIFs</H1>
    <B>Tommi Virtanen</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Off%20topic%3A%20streaming%20animated%20GIFs&In-Reply-To=200512201507.49736.mike%40mkp.ca"
       TITLE="[Twisted-web] Off topic: streaming animated GIFs">tv at twistedmatrix.com
       </A><BR>
    <I>Wed Dec 21 02:07:44 MST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="002253.html">[Twisted-web] Off topic: streaming animated GIFs
</A></li>
        <LI>Next message: <A HREF="002232.html">[Twisted-web] Using Twisted Web for browser-based control
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2254">[ date ]</a>
              <a href="thread.html#2254">[ thread ]</a>
              <a href="subject.html#2254">[ subject ]</a>
              <a href="author.html#2254">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Mike Pelletier wrote:
&gt;<i> This is a really great idea!  Are there any gotchas that should be mentioned?  
</I>&gt;<i> Does the GIF header not specify the number of frames?  And even if the GIF 
</I>
Dug up old code with more concrete things. Now that I look at it in more
detail, there were problems with multiframe GIFs, so I ended up doing
this:

HTTP/1.1 200 OK
Connection: close
Content-type: multipart/x-mixed-replace; boundary=--myboundary
Pragma: no-cache
Cache-Control: no-cache

--myboundary
Content-Type: image/jpeg

&lt;put a jpeg here&gt;
--myboundary
&lt;delay for e.g. 5 seconds here&gt;Content-Type: image/jpeg

&lt;put a jpeg here&gt;
--myboundary
etc etc..

just make sure you close that stream at some point, at least at that
time Netscape on windows did not obey refreshes dictated by HTTP headers
if the page contained an &lt;img&gt; that was still being pushed.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002253.html">[Twisted-web] Off topic: streaming animated GIFs
</A></li>
	<LI>Next message: <A HREF="002232.html">[Twisted-web] Using Twisted Web for browser-based control
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2254">[ date ]</a>
              <a href="thread.html#2254">[ thread ]</a>
              <a href="subject.html#2254">[ subject ]</a>
              <a href="author.html#2254">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
