<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] interface.queryDescriptionFor instead of getattr
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20interface.queryDescriptionFor%20instead%20of%20getattr&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002238.html">
   <LINK REL="Next"  HREF="002235.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] interface.queryDescriptionFor instead of getattr</H1>
    <B>Andrea Arcangeli</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20interface.queryDescriptionFor%20instead%20of%20getattr&In-Reply-To="
       TITLE="[Twisted-web] interface.queryDescriptionFor instead of getattr">andrea at cpushare.com
       </A><BR>
    <I>Sat Dec 17 07:31:13 MST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="002238.html">[Twisted-web] Using Twisted Web for browser-based control
</A></li>
        <LI>Next message: <A HREF="002235.html">[Twisted-web] Standard sequence renderer &quot;loosing&quot; tags?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2234">[ date ]</a>
              <a href="thread.html#2234">[ thread ]</a>
              <a href="subject.html#2234">[ subject ]</a>
              <a href="author.html#2234">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I noticed a deprecation warning, and I tried to fix it but it breaks
stuff so I backed it out, I post it just in case somebody can make a
right fix for the deprecation warning. This intermediate step between
compy and zope interfaces is very confusing.

Also note I totally dislike interfaces, all of them, no matter if
they're form zope, twisted, nevow.copy or whatever else interface.
They're an huge waste of cpu too, I wish all code was written without
them. Unless I'm absolutely forced by things like nevow, I never use
the interfaces insanity in my code. Perhaps I will change my mind after
I stop seeing all my cpu sucked by them, but at the moment I would never
dream to touch them in my code.

I strongly reccomend people to never use interfaces, they're a bad idea,
language lawyers may appreciate them so they can put to work all
features of python, but if you want your code simple, fast and readable
you should always avoid them.

2005/12/17 15:22 CET [HTTPChannel,0,127.0.0.1]
/home/andrea/bin/x86_64/python/lib/python2.4/site-packages/formless/webform.py:460:
twisted.python.components.ComponentsDeprecationWarning: Don't get
attributes (in this case, '__spec__') off Interface, use
.queryDescriptionFor() etc. instead

Index: configurable.py
===================================================================
--- configurable.py	(revision 3683)
+++ configurable.py	(working copy)
@@ -30,7 +30,7 @@
         for interface in ifs:
             ## TypedInterfaces have a __spec__ attribute which is a list of all Typed properties and
             ## autocallable methods
-            for binding in getattr(interface, '__spec__', []):
+            for binding in interface.queryDescriptionFor('__spec__', []):
                 bindingDict[binding.name] = binding
                 if binding.name not in bindingNames:
                     bindingNames.append(binding.name)
@@ -162,7 +162,7 @@
         bindingNames = []
         self.bindingDict = bindingDict = {}
         interface = self.groupInterface
-        for binding in getattr(interface, '__spec__', []):
+        for binding in interface.queryDescriptionFor('__spec__', []):
             bindingDict[binding.name] = binding
             if binding.name not in bindingNames:
                 bindingNames.append(binding.name)

</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002238.html">[Twisted-web] Using Twisted Web for browser-based control
</A></li>
	<LI>Next message: <A HREF="002235.html">[Twisted-web] Standard sequence renderer &quot;loosing&quot; tags?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2234">[ date ]</a>
              <a href="thread.html#2234">[ thread ]</a>
              <a href="subject.html#2234">[ subject ]</a>
              <a href="author.html#2234">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
