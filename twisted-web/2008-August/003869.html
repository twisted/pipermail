<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Re: Fwd: Setting up a project.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Re%3A%20Fwd%3A%20Setting%20up%20a%20project.&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003866.html">
   <LINK REL="Next"  HREF="003868.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Re: Fwd: Setting up a project.</H1>
    <B>David Bolen</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Re%3A%20Fwd%3A%20Setting%20up%20a%20project.&In-Reply-To="
       TITLE="[Twisted-web] Re: Fwd: Setting up a project.">db3l.net at gmail.com
       </A><BR>
    <I>Wed Aug  6 13:46:38 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003866.html">Fwd: [Twisted-web] Setting up a project.
</A></li>
        <LI>Next message: <A HREF="003868.html">[Twisted-web] linking javascript and CSS file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3869">[ date ]</a>
              <a href="thread.html#3869">[ thread ]</a>
              <a href="subject.html#3869">[ subject ]</a>
              <a href="author.html#3869">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&quot;Govind Salinas&quot; &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">blix at sophiasuchtig.com</A>&gt; writes:

&gt;<i> There are a few things wrong with my current approach.  One is that it
</I>&gt;<i> feels sort of like a hack the way I am doing it.  It doesn't seem like the
</I>&gt;<i> right way.  Second, since manually doing things that I normally expect
</I>&gt;<i> the web server to be doing
</I>
Remember, with twisted.web, for the most part aside from pure HTTP
processing, not much is going to happen for free without explicitly
being coded.  There are some utility method (like for request
sessions) and some utility modules (like static.py for file serving),
but your code is pretty much in charge, for better or worse :-)

&gt;<i> the web server to be doing,  I expect there are 100 things that I should
</I>&gt;<i> be doing that I am not to act like a proper server.  For instance, my
</I>&gt;<i> css pages wouldn't load so I am manually setting the content-type,
</I>&gt;<i> but *only* for css pages.  If I end up needing other types of files, I
</I>&gt;<i> will have to add that in as well.
</I>
twisted.web's static.File implementation does the content type based
on file extension, using Python's internal mimetypes module
dictionary, some custom additions, and anything in /etc/mime.types by
default.  You can also augment class or instance contentTypes variable
if needed to apply your own mappings, as well as establish a default
mapping for a file/directory for non-matching files when you
instantiate static.File (see the favicon usage in my last post).

For resources that aren't static and identifiable by file extension,
yes, you'll need to establish the correct content type as part of your
resource handler during request processing if it's not going to be HTML.

&gt;<i>                                     Another example is that I am having
</I>&gt;<i> to roll my own page-not-found implementation.  Aside from setting
</I>&gt;<i> the response code to 404, I am not sure what else I need to be doing.
</I>
Depends on what you want the user to see in such a case.  I don't
think anything more than that is truly required for correct operation
protocol wise.  The resource is still in control of what will be
rendered, so you can use your own template, static content, etc.. in
addition to setting the response code.

twisted.web.error has some simple resources that render some plain
text and set the appropriate HTTP response code, but yes, anything
much above that is your responsibility.

The only exception to this is if displayTracebacks is set to True (the
default) in your Site object.  In that case, exceptions/Failures that
reach the top level will be rendered nicely to the browser (using
twisted.web.util.formatFailure).

&gt;<i> This is not too important, I was hoping that there was a &quot;framework&quot; that I
</I>&gt;<i> could use that would be portable to other webservers if someone wanted
</I>&gt;<i> to do so.
</I>
Sounds like you may be looking for a more extensive framework, perhaps
with a wsgi interface.  twisted.web is largely a protocol
implementation.

-- David


</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003866.html">Fwd: [Twisted-web] Setting up a project.
</A></li>
	<LI>Next message: <A HREF="003868.html">[Twisted-web] linking javascript and CSS file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3869">[ date ]</a>
              <a href="thread.html#3869">[ thread ]</a>
              <a href="subject.html#3869">[ subject ]</a>
              <a href="author.html#3869">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
