<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Session Based Security for PyAmf application
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Session%20Based%20Security%20for%20PyAmf%20application&In-Reply-To=f4a7d4e0808181307j3da20ab9nd07afeac05da419e%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003890.html">
   <LINK REL="Next"  HREF="003892.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Session Based Security for PyAmf application</H1>
    <B>Phil Christensen</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Session%20Based%20Security%20for%20PyAmf%20application&In-Reply-To=f4a7d4e0808181307j3da20ab9nd07afeac05da419e%40mail.gmail.com"
       TITLE="[Twisted-web] Session Based Security for PyAmf application">phil at bubblehouse.org
       </A><BR>
    <I>Mon Aug 18 16:28:35 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003890.html">[Twisted-web] Session Based Security for PyAmf application
</A></li>
        <LI>Next message: <A HREF="003892.html">[Twisted-web] Session Based Security for PyAmf application
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3891">[ date ]</a>
              <a href="thread.html#3891">[ thread ]</a>
              <a href="subject.html#3891">[ subject ]</a>
              <a href="author.html#3891">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Aug 18, 2008, at 4:07 PM, Shawn Church wrote:
&gt;<i> I want to store user data in t.w.s.Session to allow a persistent  
</I>&gt;<i> logon.  As the login will be made with a PyAmf method call I do not  
</I>&gt;<i> think that t.w.w.Guard will work because it appears to process the  
</I>&gt;<i> login from POST data.   It is trivial to store the user data in the  
</I>&gt;<i> session object with Request.getSession,  but is this a secure  
</I>&gt;<i> method?  Could someone guess the session key and use it to forge  
</I>&gt;<i> credentials?  Is there a better way to do this?
</I>
Whenever you're dealing with sessions over unencrypted HTTP, it it  
potentially possible to forge credentials. I don't know for sure  
whether guard checks the IP address of a request against the original  
one that created the session in the first place, but even that could  
technically be forged.

&gt;<i> The PyAmf examples send the username and password with every method  
</I>&gt;<i> call.  I would prefer to use the session because the user can log-on  
</I>&gt;<i> once for multiple windows/tabs.  The twisted PB security model seems  
</I>&gt;<i> much more elegant then what is available for twisted.web.  Am I  
</I>&gt;<i> missing something????
</I>

I know what you mean; there are a number of things I don't like about  
Nevow guard, although I have to say I haven't spent any time with  
twisted.web's guard, and I know there are some differences.

However, the only real difference between the PB and twisted.web  
security models is guard itself (versus the PB login() methods). They  
both use twisted.cred for dealing with authentication, which is an  
excellent implementation of a common requirement.

If you can get a decent familiarity with twisted.cred, you can  
implement just about any session mechanism you might like. For an  
example, you could check out my txOpenID project (<A HREF="https://launchpad.net/txopenid">https://launchpad.net/txopenid</A> 
). In this case, I needed to handle sessions without adding redirects  
to the authentication flow, save session data in a relational  
database, and programmatically determine where to redirect an  
unauthenticated user.

My solution in this case was to create a superclass resource that all  
my authenticated resources would inherit from. This is almost  
definitely not the &quot;Twisted way&quot; to do this, but it works  
exceptionally well for my needs.

Hope this was some help,

-phil

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003890.html">[Twisted-web] Session Based Security for PyAmf application
</A></li>
	<LI>Next message: <A HREF="003892.html">[Twisted-web] Session Based Security for PyAmf application
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3891">[ date ]</a>
              <a href="thread.html#3891">[ thread ]</a>
              <a href="subject.html#3891">[ subject ]</a>
              <a href="author.html#3891">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
