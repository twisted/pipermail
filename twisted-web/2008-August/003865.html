<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Setting up a project.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Setting%20up%20a%20project.&In-Reply-To=5d46db230808051630h216dee76g54af35db8e74621a%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003864.html">
   <LINK REL="Next"  HREF="003867.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Setting up a project.</H1>
    <B>Phil Mayers</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Setting%20up%20a%20project.&In-Reply-To=5d46db230808051630h216dee76g54af35db8e74621a%40mail.gmail.com"
       TITLE="[Twisted-web] Setting up a project.">p.mayers at imperial.ac.uk
       </A><BR>
    <I>Wed Aug  6 05:27:31 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003864.html">[Twisted-web] Setting up a project.
</A></li>
        <LI>Next message: <A HREF="003867.html">[Twisted-web] Re: Setting up a project.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3865">[ date ]</a>
              <a href="thread.html#3865">[ thread ]</a>
              <a href="subject.html#3865">[ subject ]</a>
              <a href="author.html#3865">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Aug 05, 2008 at 06:30:23PM -0500, Govind Salinas wrote:
&gt;<i>Hi Folks,
</I>&gt;<i>
</I>&gt;<i>I am trying to set up an application that uses twisted.web for doing
</I>&gt;<i>some ad-hoc serving of data.  If you are familiar with mercurial, what
</I>&gt;<i>i am doing is very similar to the &quot;hg serve&quot; command except it is for
</I>&gt;<i>use with git.
</I>&gt;<i>
</I>&gt;<i>So my question is, how should I compose the project.  The how-tos and
</I>&gt;<i>examples left me not sure of what I should do.  I have something that
</I>&gt;<i>runs and can serve up mako templates, but that is all it can do since
</I>&gt;<i>I am doing everything manually.  I would prefer not to have to code in
</I>&gt;<i>serving things like css pages, 404 pages etc.  I am sure this is
</I>&gt;<i>already in twisted.web somewhere.
</I>

You haven't really given enough information.

I presume you're using twisted.web &quot;Resource&quot; classes and http server?

&gt;<i>
</I>&gt;<i>
</I>&gt;<i>Let me give you some information about the set up I have .  Basically
</I>&gt;<i>I have a python program running somewhere.  I will have a default set
</I>&gt;<i>of files that serve the content a particular way.  The default set
</I>&gt;<i>will contain mako templates[1], style sheets and perhaps some images.
</I>&gt;<i>So I need a way to kick off the mako templates based on the URL.  The
</I>&gt;<i>templates may include each other.
</I>&gt;<i>
</I>&gt;<i>Here is the layout
</I>&gt;<i>
</I>&gt;<i>content-dir/
</I>&gt;<i>   __config__.py -- This is a file that currently just sets up the mapping
</I>&gt;<i>                            between a regex that selects a page and a path to
</I>&gt;<i>                            where that page's template is under the 
</I>&gt;<i>                            content-dir
</I>&gt;<i>   main.html -- The html files here are really the mako templates
</I>&gt;<i>   main.css
</I>&gt;<i>   etc...
</I>&gt;<i>
</I>&gt;<i>My server class takes in a template dir, loads the config and starts a
</I>&gt;<i>server.  When it gets a request it matches it against the regexes and
</I>&gt;<i>runs the template.  There should be some initialization that sets up
</I>&gt;<i>objects that get passed to the template (in addition to values from
</I>&gt;<i>the regex parsing). This is all pretty brain-dead code.
</I>
Why does it need to be anything more than that? What's wrong with the 
current code?

&gt;<i>
</I>&gt;<i>I was hoping for some guidance on a better strategy for doing this.
</I>
Better how?

&gt;<i>Any help would be appreciated.  Bonus points if it is something that
</I>&gt;<i>could easily be re-used on another webserver if someone wanted to host
</I>&gt;<i>this on an existing website.
</I>
I don't understand that bit.

&gt;<i>
</I>&gt;<i>I tried to post this before signing up to the list and I was rejected.  I don't
</I>&gt;<i>know if you guys consider that a problem.
</I>&gt;<i>
</I>&gt;<i>[1] I am only using mako because it seems to suit my needs from a
</I>&gt;<i>templating perspective.   If there is something built into twisted
</I>&gt;<i>that will do the job as well, then that would be one less dependency
</I>&gt;<i>that I have.
</I>
You probably want to look at the Nevow toolkit which contains:

 * A slightly better application server / resource object hierarhcy on 
top of twisted.web - my understanding is this will eventually be 
backported into twisted.web

 * An XHTML &amp; native-python deferred-aware templating engine

 * An AJAX/COMET server called Athena

A little more detail about what's wrong with the current system would be 
helpful.

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003864.html">[Twisted-web] Setting up a project.
</A></li>
	<LI>Next message: <A HREF="003867.html">[Twisted-web] Re: Setting up a project.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3865">[ date ]</a>
              <a href="thread.html#3865">[ thread ]</a>
              <a href="subject.html#3865">[ subject ]</a>
              <a href="author.html#3865">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
