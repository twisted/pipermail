<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] html cache with timeout
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20html%20cache%20with%20timeout&In-Reply-To=20050130141900.GN10440%40opteron.random">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001122.html">
   <LINK REL="Next"  HREF="001124.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] html cache with timeout</H1>
    <B>James Y Knight</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20html%20cache%20with%20timeout&In-Reply-To=20050130141900.GN10440%40opteron.random"
       TITLE="[Twisted-web] html cache with timeout">foom at fuhm.net
       </A><BR>
    <I>Mon Jan 31 22:32:25 MST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001122.html">[Twisted-web] html cache with timeout
</A></li>
        <LI>Next message: <A HREF="001124.html">[Twisted-web] load balancing and performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1130">[ date ]</a>
              <a href="thread.html#1130">[ thread ]</a>
              <a href="subject.html#1130">[ subject ]</a>
              <a href="author.html#1130">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Jan 30, 2005, at 9:19 AM, Andrea Arcangeli wrote:

&gt;<i> On Sun, Jan 30, 2005 at 01:56:50PM +0100, Andrea Arcangeli wrote:
</I>&gt;&gt;<i> but I fixed you great hack and here we go:
</I>&gt;<i>
</I>&gt;<i> Ok I already made it good enough for merging IMHO! Please don't keep
</I>&gt;<i> this in a branch that risks to get obsolete. This is a major useful
</I>&gt;<i> feature IMHO.
</I>
Yes, it is. One thing that I think would make it more useful, if it can 
be pulled off, is to allow caching at any level. That is, something 
like the following stan:
html[body[cached(timeout=10, keys=(IFoo, 
IBar))[semi_constant_header_stuff], very_dynamic_content]]

That is, a function which will render its contents to a string the 
first time it's called, and store/return it for the next 10 seconds, 
using the same mechanism as the posted patch. The cache would be keyed 
off certain interfaces, and only those will get passed on to the 
functions being rendered inside, thus ensuring the safety of the cache.

I think there are a lot of pages that are mostly &quot;semi-static&quot;, but 
have some very dynamic content in them, so something like could be 
*very* useful.

Anyhow, this is just an outline of how I think it might work, but I 
haven't tried to implement it yet, so I don't know if it will work out 
the way I'd like it to. :)

James


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001122.html">[Twisted-web] html cache with timeout
</A></li>
	<LI>Next message: <A HREF="001124.html">[Twisted-web] load balancing and performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1130">[ date ]</a>
              <a href="thread.html#1130">[ thread ]</a>
              <a href="subject.html#1130">[ subject ]</a>
              <a href="author.html#1130">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
