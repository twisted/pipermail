<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Re: /__logout__ doesn't expire the session
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Re%3A%20/__logout__%20doesn%27t%20expire%20the%20session&In-Reply-To=41E7F2B6.6000706%40polynode.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001030.html">
   <LINK REL="Next"  HREF="001034.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Re: /__logout__ doesn't expire the session</H1>
    <B>Andrea Arcangeli</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Re%3A%20/__logout__%20doesn%27t%20expire%20the%20session&In-Reply-To=41E7F2B6.6000706%40polynode.com"
       TITLE="[Twisted-web] Re: /__logout__ doesn't expire the session">andrea at cpushare.com
       </A><BR>
    <I>Fri Jan 14 11:30:35 MST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001030.html">[Twisted-web] Re: /__logout__ doesn't expire the session
</A></li>
        <LI>Next message: <A HREF="001034.html">[Twisted-web] Re: /__logout__ doesn't expire the session
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1032">[ date ]</a>
              <a href="thread.html#1032">[ thread ]</a>
              <a href="subject.html#1032">[ subject ]</a>
              <a href="author.html#1032">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Jan 14, 2005 at 11:26:30AM -0500, Alex Levy wrote:
&gt;<i> Yes, you're right; good call. I'd forgotten about that part.
</I>&gt;<i> 
</I>&gt;<i> So, I've attached an example that should allow you to define code that 
</I>&gt;<i> runs on logout, and also has full access to the session. I've tested it 
</I>&gt;<i> (briefly), so if anyone has any better ideas, they are more than welcome 
</I>&gt;<i> to share.
</I>&gt;<i> 
</I>&gt;<i> Andrea, this should address your needs. Does anyone else think we should 
</I>&gt;<i> make this (or, better yet, a cleaned-up version of it) part of the Nevow 
</I>&gt;<i> examples?
</I>
Yes I see how the mind works now, there was code in nevow just for this
purpose! So at least the expiry part I can definitely do it in the
logout callback and you can obsolete my proposed patch (unless you feel
safer to apply it and to let special aware users not to do the forced
expiry by passing a variable when creating the sessionwrapper).

However to do everything in the logout callback I need the ctx too, not
only the session (then I could drop an intermediate redirecting page).

I'll try to find a way to move from request to ctx (they're an 1:1
mapping, going from ctx to request is easy with inevow.IRequest, I'm
just not sure about the reverse... ;).

Many thanks!

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001030.html">[Twisted-web] Re: /__logout__ doesn't expire the session
</A></li>
	<LI>Next message: <A HREF="001034.html">[Twisted-web] Re: /__logout__ doesn't expire the session
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1032">[ date ]</a>
              <a href="thread.html#1032">[ thread ]</a>
              <a href="subject.html#1032">[ subject ]</a>
              <a href="author.html#1032">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
