<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] nevow.compy.CannotAdapt: WovenContext...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20nevow.compy.CannotAdapt%3A%20WovenContext...&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000997.html">
   <LINK REL="Next"  HREF="000999.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] nevow.compy.CannotAdapt: WovenContext...</H1>
    <B>Mohamed Lrhazi</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20nevow.compy.CannotAdapt%3A%20WovenContext...&In-Reply-To="
       TITLE="[Twisted-web] nevow.compy.CannotAdapt: WovenContext...">mohamed at your-site.com
       </A><BR>
    <I>Tue Jan  4 15:04:58 MST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000997.html">[Twisted-web] [PATCH] Pass context to static.File processors
</A></li>
        <LI>Next message: <A HREF="000999.html">[Twisted-web] Please review: make nevow vhosts log to separate files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#998">[ date ]</a>
              <a href="thread.html#998">[ thread ]</a>
              <a href="subject.html#998">[ subject ]</a>
              <a href="author.html#998">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sorry resending after a small edit. sent to wrong list by msitake.

I copied some code from an existing site of mine to a new machine and
boom.... does not work anymore :) the code is based on the guard
example... :

It seems the code that fails is:

def render_sessionId(self, context, data):
		sess = inevow.ISession(context)
		return context.tag[sess.uid]

The complete trace follows. Any ideas? I probably forget to install
something... did I?

this is gentoo standard ebuilds for python, twisted and nevow:


2005/01/04 16:31 EST [HTTPChannel,0,127.0.0.1] Traceback (most recent
call last):
          File
&quot;/usr/lib/python2.3/site-packages/twisted/protocols/http.py&quot;, line 557,
in requestReceived
            self.process()
          File &quot;/usr/lib/python2.3/site-packages/nevow/appserver.py&quot;,
line 129, in process
            return self.site.getResourceFor(
          File
&quot;/usr/lib/python2.3/site-packages/twisted/internet/defer.py&quot;, line 214,
in addCallback
            callbackKeywords=kw)
          File
&quot;/usr/lib/python2.3/site-packages/twisted/internet/defer.py&quot;, line 205,
in addCallbacks
            self._runCallbacks()
        --- &lt;exception caught here&gt; ---
          File
&quot;/usr/lib/python2.3/site-packages/twisted/internet/defer.py&quot;, line 338,
in _runCallbacks
            self.result = callback(self.result, *args, **kw)
          File &quot;/usr/lib/python2.3/site-packages/nevow/appserver.py&quot;,
line 132, in &lt;lambda&gt;
            lambda resource: inevow.IResource(resource).renderHTTP(self)
          File &quot;/usr/lib/python2.3/site-packages/nevow/rend.py&quot;, line
363, in renderHTTP
            return self.flattenFactory(doc, ctx, writer, finisher)
          File &quot;/usr/lib/python2.3/site-packages/nevow/rend.py&quot;, line
227, in deferFlattenFactory
            return deferflatten(stan, ctx, writer).addCallback(finisher)
          File &quot;/usr/lib/python2.3/site-packages/nevow/rend.py&quot;, line
223, in deferflatten
            drive()
          File &quot;/usr/lib/python2.3/site-packages/nevow/rend.py&quot;, line
207, in drive
            deferred, returner = iterable.next()
          File &quot;/usr/lib/python2.3/site-packages/nevow/flat/ten.py&quot;,
line 71, in iterflatten
            for item in gen:
          File
&quot;/usr/lib/python2.3/site-packages/nevow/flat/flatstan.py&quot;, line 89, in
TagSerializer
            yield serialize(toBeRenderedBy,context)
          File &quot;/usr/lib/python2.3/site-packages/nevow/flat/ten.py&quot;,
line 53, in serialize
            return serializer(obj, context)
          File
&quot;/usr/lib/python2.3/site-packages/nevow/flat/flatstan.py&quot;, line 215, in
DirectiveSerializer
            return serialize(renderer, context)
          File &quot;/usr/lib/python2.3/site-packages/nevow/flat/ten.py&quot;,
line 53, in serialize
            return serializer(obj, context)
          File
&quot;/usr/lib/python2.3/site-packages/nevow/flat/flatstan.py&quot;, line 199, in
MethodSerializer
            return FunctionSerializer(original, context, nocontext)
          File
&quot;/usr/lib/python2.3/site-packages/nevow/flat/flatstan.py&quot;, line 184, in
FunctionSerializer
            result = original(context, data)
          File &quot;&lt;string&gt;&quot;, line 209, in render_sessionId

          File &quot;/usr/lib/python2.3/site-packages/nevow/compy.py&quot;, line
73, in __call__
            raise CannotAdapt(&quot;%s (type %s) cannot be adapted to %s.&quot; %
        nevow.compy.CannotAdapt: WovenContext(tag=Tag('',
specials={'render': Unset}, children=[''])) (type
nevow.context.WovenContext) cannot be adapted to &lt;class
'nevow.inevow.ISession'&gt;.




</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000997.html">[Twisted-web] [PATCH] Pass context to static.File processors
</A></li>
	<LI>Next message: <A HREF="000999.html">[Twisted-web] Please review: make nevow vhosts log to separate files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#998">[ date ]</a>
              <a href="thread.html#998">[ thread ]</a>
              <a href="subject.html#998">[ subject ]</a>
              <a href="author.html#998">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
