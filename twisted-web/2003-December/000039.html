<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Q: Hidden field in TypedInterface?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000038.html">
   <LINK REL="Next"  HREF="000040.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Q: Hidden field in TypedInterface?
   </H1>
    <B>Samuel Reynolds
    </B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com"
       TITLE="[Twisted-web] Q: Hidden field in TypedInterface?">twisted-web@twistedmatrix.com
       </A><BR>
    <I>Tue, 16 Dec 2003 14:15:40 -0700</I>
    <P><UL>
        <LI> Previous message: <A HREF="000038.html">[Twisted-web] Q: Hidden field in TypedInterface?
</A></li>
        <LI> Next message: <A HREF="000040.html">[Twisted-web] Q: Hidden field in TypedInterface?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39">[ date ]</a>
              <a href="thread.html#39">[ thread ]</a>
              <a href="subject.html#39">[ subject ]</a>
              <a href="author.html#39">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>At 2003-12-16 01:39 PM -0500, you wrote:

&gt;<i>On Dec 16, 2003, at 1:19 PM, Samuel Reynolds wrote:
</I>&gt;<i>
</I>&gt;&gt;<i>In a formless.TypedInterface, how does one specify a &quot;hidden&quot; parameter 
</I>&gt;&gt;<i>(i.e., force generation of a 'hidden' input widget in the generated form)?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>E.g., in :
</I>&gt;&gt;<i>class IMyProxy(formless.TypedInterface):
</I>&gt;&gt;<i>     class PropertyGroup(formless.TypedInterface):
</I>&gt;&gt;<i>         id = formless.Integer()
</I>&gt;&gt;<i>         subject = formless.String()
</I>&gt;&gt;<i>How to make id become a hidden field
</I>&gt;&gt;<i>     &lt;input type='hidden' value ='...' name='id' /&gt;
</I>&gt;&gt;<i>?
</I>&gt;<i>
</I>&gt;<i>It looks like you can't right now, although you used to be able to in the 
</I>&gt;<i>older formless and formmethod. I'll probably add it, but I'd like to think 
</I>&gt;<i>a bit about the right way to do it. I can think of two methods:
</I>&gt;<i>
</I>&gt;<i>class IMyProxy(TypedInterface):
</I>&gt;<i>         id = formless.Hidden()
</I>&gt;<i>
</I>&gt;<i>or
</I>&gt;<i>
</I>&gt;<i>class IMyProxy(TypedInterface):
</I>&gt;<i>         id = formless.Integer(hidden=True)
</I>&gt;<i>
</I>&gt;<i>I think the former makes more sense, at least when it comes to html, but 
</I>&gt;<i>it also discards information about which Typed.coerce method to use. I 
</I>&gt;<i>would really like to know what you were planning to do with this invisible 
</I>&gt;<i>field. Right now, I can see three ways to fill the invisible field with 
</I>&gt;<i>your python code. The first is simply to have an 'id' attribute on your 
</I>&gt;<i>configurable which implements IMyProxy. This id attribute will be used to 
</I>&gt;<i>fill the field. The second is to pass a default value (which will always 
</I>&gt;<i>be the value that is used...) like so: Integer(default=5). The third is to 
</I>&gt;<i>get the IFormDefaults adapter around the request, and call setDefault with 
</I>&gt;<i>the fully-qualified key of the form field.
</I>&gt;<i>
</I>&gt;<i>If you were planning on filling this field using javascript on the client, 
</I>&gt;<i>that is a different matter entirely.
</I>&gt;<i>
</I>&gt;<i>Can you give me a bit more information about what you are trying to do, 
</I>&gt;<i>and how you would *like* to accomplish it?
</I>&gt;<i>
</I>&gt;<i>dp
</I>
I was planning to use it to look up the appropriate object
from an SQL database, for doing an update. However, as fzZzy
pointed out to me on #twisted.web, I should already have the
correct object from the previous stage of path resolution.
So the id field does not need to be present in the form at all;
it's implicit in the path. (E.g., in /myapp/mything/17/view,
the id is 17.)

The other use I had for a hidden field was for providing a
processing directive (possibly set by Javascript) to my form
processing code. Again, this is unnecessary with REST URLs.
Instead of, e.g., .../17/submit with dbc='update' or dbc='delete',
I can simply use .../17/update or  .../17/delete.

I'm just not accustomed to REST addressing yet.
Gotta get my head turned around.

I guess what I need to do is figure out how to handle
    .../17 (view entry)
    .../17/edit (return edit form)
    .../17/update (process edit form submission)
    .../17/delete (process delete submission), and
    .../new (process new object submission)
or the equivalent. (17 is just a representative ID).

- Sam




</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000038.html">[Twisted-web] Q: Hidden field in TypedInterface?
</A></li>
	<LI> Next message: <A HREF="000040.html">[Twisted-web] Q: Hidden field in TypedInterface?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39">[ date ]</a>
              <a href="thread.html#39">[ thread ]</a>
              <a href="subject.html#39">[ subject ]</a>
              <a href="author.html#39">[ author ]</a>
         </LI>
       </UL>
</body></html>
