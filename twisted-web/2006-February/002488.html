<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] web client &amp; &quot;TimeoutError: User timeout caused
	connection failure&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20web%20client%20%26%20%22TimeoutError%3A%20User%20timeout%20caused%0A%09connection%20failure%22&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002484.html">
   <LINK REL="Next"  HREF="002489.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] web client &amp; &quot;TimeoutError: User timeout caused
	connection failure&quot;</H1>
    <B>Lenny G Arbage</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20web%20client%20%26%20%22TimeoutError%3A%20User%20timeout%20caused%0A%09connection%20failure%22&In-Reply-To="
       TITLE="[Twisted-web] web client &amp; &quot;TimeoutError: User timeout caused
	connection failure&quot;">alengarbage at yahoo.com
       </A><BR>
    <I>Fri Feb 10 15:25:38 MST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="002484.html">[Twisted-web] sprinting at PyCon
</A></li>
        <LI>Next message: <A HREF="002489.html">[Twisted-web] Re: web client &amp; &quot;TimeoutError: User timeout caused
	connection failure&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2488">[ date ]</a>
              <a href="thread.html#2488">[ thread ]</a>
              <a href="subject.html#2488">[ subject ]</a>
              <a href="author.html#2488">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm running into a problem under high client (not
server) load.  If I create a client process that makes
only light requests to the server, everything works
perfectly.  If, however, I spawn a bunch of client
requests simultaneously, using HTTPDownloader and
HTTPClientFactory (or getPage and downloadPage, it
doesn't seem to matter), I invariably get a bunch of
&quot;TimeoutError: User timeout caused connection failure&quot;
failures.  These failures have no stack associated
with them, so it isn't clear where they are
originating, but it appears that they are due to
timeouts on waiting for the connection setup, not on
the response.

I know that there is a lot of activity on redoing the
client in web2, but I didn't see any mention of this
particular problem (or potential ways to avoid it) in
the list archives.  Is this a known problem?  Is there
a workaround I can rely on until something better
comes along in web2?

The breakpoint (on my 2.8Ghz Pentium) seems to be
around 40-50 simultaneous client connections.  On my
slower 2.53 Ghz machine, it is closer to 70-80.

thanks,
Lenny

(I can produce a short example that reproduces the
behavior if needed)

__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
<A HREF="http://mail.yahoo.com">http://mail.yahoo.com</A> 

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002484.html">[Twisted-web] sprinting at PyCon
</A></li>
	<LI>Next message: <A HREF="002489.html">[Twisted-web] Re: web client &amp; &quot;TimeoutError: User timeout caused
	connection failure&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2488">[ date ]</a>
              <a href="thread.html#2488">[ thread ]</a>
              <a href="subject.html#2488">[ subject ]</a>
              <a href="author.html#2488">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
