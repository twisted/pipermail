<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] remote admin app, ssh connection costs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20remote%20admin%20app%2C%20ssh%20connection%20costs&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002536.html">
   <LINK REL="Next"  HREF="002538.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] remote admin app, ssh connection costs</H1>
    <B>Gustavo Rahal</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20remote%20admin%20app%2C%20ssh%20connection%20costs&In-Reply-To="
       TITLE="[Twisted-web] remote admin app, ssh connection costs">gustavo at grahal.net
       </A><BR>
    <I>Thu Feb 23 15:33:38 MST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="002536.html">[Twisted-web] Using Cheetah with twisted.web
</A></li>
        <LI>Next message: <A HREF="002538.html">[Twisted-web] Some help with Nevow and databse I/O
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2537">[ date ]</a>
              <a href="thread.html#2537">[ thread ]</a>
              <a href="subject.html#2537">[ subject ]</a>
              <a href="author.html#2537">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi All


I did a small xmlrpc webservice that basicly expose some methods to interact
(run commands, for example) with a lists of UNIX servers.
At startup, the webservice connects via ssh to all the UNIX servers
(currently 16) and leave the connections open waiting for requests from
clients.
The app was designed mostly as a way of learninig how to use twisted ssh
modules, deferreds etc...

Some questions (I'll try to be brief):

1) At startup, the ssh connections to the UNIX servers goes as far as the
client connection step (connection.SSHConnection) and are kept open.
So, each time a client requests (via xmlrpc) a shell command to run, the
webservice opens a channel to this server (channel.SSHChannel) runs the
command, gets the output and closes the channel.

Would it be better to leave a channel open so there is no overhead of
openning a channel each time there is a command to run? What are the pros
and cons?

2) Supposing that the number of servers grow, how many simultaneous ssh
connections is a reasonable amount?

Let's say a Pentium III 500MHz with 1 GB RAM and a 4 Mbits link. What is a
reasonable amont? 0-50, 50-100, 100-150?

I know it depends on the internet link and server specs but is there a math
that calculate a reasonable amount of tcp/ssh connections?

I guess that's it for now...


Thanks
Gustavo
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-web/attachments/20060223/48899e31/attachment.htm">http://twistedmatrix.com/pipermail/twisted-web/attachments/20060223/48899e31/attachment.htm</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002536.html">[Twisted-web] Using Cheetah with twisted.web
</A></li>
	<LI>Next message: <A HREF="002538.html">[Twisted-web] Some help with Nevow and databse I/O
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2537">[ date ]</a>
              <a href="thread.html#2537">[ thread ]</a>
              <a href="subject.html#2537">[ subject ]</a>
              <a href="author.html#2537">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
