<tt>
&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;border-collapse:&nbsp;collapse;&nbsp;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;13px;&nbsp;&quot;&gt;&lt;div&gt;So&nbsp;far&nbsp;this&nbsp;is&nbsp;where&nbsp;I&nbsp;have&nbsp;got&nbsp;to.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In&nbsp;my&nbsp;timeout&nbsp;using&nbsp;callLater,&nbsp;I&nbsp;call&nbsp;d._canceller().&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;calls&nbsp;_connectionLost_WAITING&nbsp;which&nbsp;is&nbsp;partly&nbsp;what&nbsp;I&nbsp;would&nbsp;expect.&nbsp;But&nbsp;it&nbsp;does&nbsp;not&nbsp;call&nbsp;_canceller_WAITING&nbsp;which&nbsp;I&nbsp;would&nbsp;have&nbsp;expected&nbsp;as&nbsp;well.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;function&nbsp;at&nbsp;d._canceller&nbsp;would&nbsp;appear&nbsp;to&nbsp;be&nbsp;cancelConnection&nbsp;so&nbsp;I&nbsp;can&nbsp;see&nbsp;why&nbsp;it&nbsp;would&nbsp;go&nbsp;to&nbsp;loseConnection&nbsp;right&nbsp;away.&nbsp;But&nbsp;I&nbsp; have&nbsp;not&nbsp;found&nbsp;where&nbsp;cancelConnection&nbsp;resides&nbsp;yet.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;_connectLost_WAITING&nbsp;then&nbsp;calls&nbsp;disconnectParser&nbsp;and&nbsp;finally&nbsp;does&nbsp;the&nbsp;errback&nbsp;with&nbsp;ResponseFailed&nbsp;and&nbsp;the&nbsp;connection&nbsp;is&nbsp;dropped&nbsp;cleanly.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;fact&nbsp;that&nbsp;_canceller_WAITING&nbsp;is&nbsp;not&nbsp;called&nbsp;makes&nbsp;me&nbsp;think&nbsp;I&nbsp;am&nbsp;making&nbsp;the&nbsp;wrong&nbsp;call&nbsp;on&nbsp;the&nbsp;request&nbsp;deferred&nbsp;when&nbsp;I&nbsp;use&nbsp;d._canceller(),&nbsp;but&nbsp;I&nbsp;have&nbsp;not&nbsp;seen&nbsp;anything&nbsp;else&nbsp;I&nbsp;can&nbsp;call.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Also&nbsp;d._canceller&nbsp;requires&nbsp;a&nbsp;parameter.&nbsp;And&nbsp;I&nbsp;can&nbsp;pass&nbsp;it&nbsp;anything&nbsp;and&nbsp;it&nbsp;seems&nbsp;to&nbsp;not&nbsp;make&nbsp;use&nbsp;of&nbsp;any&nbsp;argument&nbsp;I&nbsp;pass&nbsp;in.&nbsp;I&nbsp;have&nbsp;used&nbsp;d&nbsp;the&nbsp;deferred,&nbsp;None,&nbsp;&amp;#39;TRANSMITTING&amp;#39;&nbsp;the&nbsp;string&nbsp;all&nbsp;with&nbsp;exactly&nbsp;the&nbsp;same&nbsp;effect.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;So&nbsp;it&nbsp;makes&nbsp;me&nbsp;think&nbsp;I&nbsp;am&nbsp;making&nbsp;the&nbsp;wrong&nbsp;call&nbsp;on&nbsp;the&nbsp;request&nbsp;deferred.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Does&nbsp;anyone&nbsp;know&nbsp;if&nbsp;I&nbsp;should&nbsp;be&nbsp;calling&nbsp;some&nbsp;other&nbsp;function.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Below&nbsp;is&nbsp;the&nbsp;result&nbsp;from&nbsp;a&nbsp;test&nbsp;run&nbsp;outputting&nbsp;various&nbsp;points&nbsp;the&nbsp;program&nbsp;runs&nbsp;through&nbsp;which&nbsp;might&nbsp;be&nbsp;helpful.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;E:\jahtest&amp;gt;test_post.py&lt;/div&gt;&lt;div&gt;dispatcher&nbsp;&amp;lt;function&nbsp;dispatcher&nbsp;at&nbsp;0x00FD57B0&amp;gt;&nbsp;template&nbsp;&amp;lt;function&nbsp;deliverBody&nbsp;at&lt;/div&gt;&lt;div&gt; 0x00FD5770&amp;gt;&lt;/div&gt;&lt;div&gt;dispatcher&nbsp;&amp;lt;function&nbsp;dispatcher&nbsp;at&nbsp;0x00FD58F0&amp;gt;&nbsp;template&nbsp;&amp;lt;function&nbsp;_bodyDataRecei&lt;/div&gt;<br>
&lt;div&gt;ved&nbsp;at&nbsp;0x00FD58B0&amp;gt;&lt;/div&gt;&lt;div&gt;dispatcher&nbsp;&amp;lt;function&nbsp;dispatcher&nbsp;at&nbsp;0x00FD5A30&amp;gt;&nbsp;template&nbsp;&amp;lt;function&nbsp;_bodyDataFinis&lt;/div&gt;&lt;div&gt;hed&nbsp;at&nbsp;0x00FD59F0&amp;gt;&lt;/div&gt;&lt;div&gt;dispatcher&nbsp;&amp;lt;function&nbsp;dispatcher&nbsp;at&nbsp;0x00FD5F70&amp;gt;&nbsp;template&nbsp;&amp;lt;function&nbsp;_canceller&nbsp;at&lt;/div&gt;<br>
&lt;div&gt;0x00FD5F30&amp;gt;&lt;/div&gt;&lt;div&gt;dispatcher&nbsp;&amp;lt;function&nbsp;dispatcher&nbsp;at&nbsp;0x00FD9170&amp;gt;&nbsp;template&nbsp;&amp;lt;function&nbsp;connectionLost&lt;/div&gt;&lt;div&gt; at&nbsp;0x00FD9130&amp;gt;&lt;/div&gt;&lt;div&gt;body&nbsp;&amp;lt;stringprod_resp.StringProducer&nbsp;object&nbsp;at&nbsp;0x00F9BCB0&amp;gt;&lt;/div&gt;<br>
&lt;div&gt;fff&nbsp;canceller&nbsp;&amp;lt;function&nbsp;cancelConnect&nbsp;at&nbsp;0x00FD95B0&amp;gt;&lt;/div&gt;&lt;div&gt;got&nbsp;do&nbsp;cancel&lt;/div&gt;&lt;div&gt;connectionlost&nbsp;waiting&nbsp;[Failure&nbsp;instance:&nbsp;Traceback&nbsp;(failure&nbsp;with&nbsp;no&nbsp;frames):&nbsp;&amp;lt;c&lt;/div&gt;&lt;div&gt;lass&nbsp;&amp;#39;twisted.internet.error.ConnectionDone&amp;#39;&amp;gt;:&nbsp;Connection&nbsp;was&nbsp;closed&nbsp;cleanly.&lt;/div&gt;<br>
&lt;div&gt;]&lt;/div&gt;&lt;div&gt;disconnect&nbsp;parser&nbsp;[Failure&nbsp;instance:&nbsp;Traceback&nbsp;(failure&nbsp;with&nbsp;no&nbsp;frames):&nbsp;&amp;lt;class&lt;/div&gt;&lt;div&gt;&amp;#39;twisted.internet.error.ConnectionDone&amp;#39;&amp;gt;:&nbsp;Connection&nbsp;was&nbsp;closed&nbsp;cleanly.&lt;/div&gt;&lt;div&gt;]&lt;/div&gt;&lt;div&gt;got&nbsp;error&nbsp;&amp;lt;bound&nbsp;method&nbsp;Failure.getErrorMessage&nbsp;of&nbsp;&amp;lt;twisted.python.failure.Failu&lt;/div&gt;<br>
&lt;div&gt;re&nbsp;&amp;lt;class&nbsp;&amp;#39;twisted.web._newclient.ResponseFailed&amp;#39;&amp;gt;&amp;gt;&amp;gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;for&nbsp;any&nbsp;info.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;John&nbsp;Aherne&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/span&gt;<br>

</tt>
