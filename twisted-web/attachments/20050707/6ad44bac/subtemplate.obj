

from nevow import rend, loaders, appserver


class Main(rend.Page):
    addSlash = True
    docFactory = loaders.xmlfile('Main.xml')

    def data_one(self, ctx, _):
        return 1

    def data_two(self, ctx, _):
        return 2

    def render_sub(self, ctx, data):
        return Sub(data)


class Sub(rend.Fragment):
    docFactory = loaders.xmlfile('Sub.xml')

    def render_something(self, ctx, data):
        return "My data: ", data


from twisted.application import service, strports
application = service.Application("subtemplate")
strports.service("8080", appserver.NevowSite(Main())).setServiceParent(application)