<tt>
&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;9/9/06,&nbsp;&lt;b&nbsp;class=&quot;gmail_sendername&quot;&gt;Manlio&nbsp;Perillo&lt;/b&gt;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:manlio_perillo@libero.it&quot;&gt;manlio_perillo@libero.it&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;/span&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp;There&nbsp;are&nbsp;some&nbsp;problems&nbsp;with&nbsp;this:&lt;br&gt;&amp;gt;&amp;gt;&lt;br&gt;&amp;gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;elif&nbsp;isinstance(obj,&nbsp;str):&lt;br&gt;&amp;gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;w('&amp;quot;')&lt;br&gt;&amp;gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;w(stringEncode(obj.decode(&amp;quot;us-ascii&amp;quot;))&lt;br&gt;&amp;gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;w('&amp;quot;')<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp;?&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;Yes.&amp;nbsp;&amp;nbsp;What&nbsp;if&nbsp;it&nbsp;is&nbsp;not&nbsp;an&nbsp;ASCII&nbsp;string?&lt;br&gt;&lt;br&gt;Raise&nbsp;an&nbsp;arror?&lt;br&gt;Is&nbsp;this&nbsp;really&nbsp;a&nbsp;problem?&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;Yes.&amp;nbsp;&nbsp;Yes&nbsp;it&nbsp;is.&amp;nbsp;&nbsp;Javascript&nbsp;strings&nbsp;are&nbsp;unicode.&amp;nbsp;&nbsp;Therefore&nbsp;the&nbsp;implementation&nbsp;must&nbsp;be&nbsp;able&nbsp;to&nbsp;convert&nbsp;the&nbsp;encoded&nbsp;string&nbsp;(byte&nbsp;representation)&nbsp;into&nbsp;Unicode&nbsp;when&nbsp;it&nbsp;arrives.<br>
&lt;br&gt;&lt;br&gt;In&nbsp;order&nbsp;to&nbsp;convert&nbsp;the&nbsp;parameter&nbsp;to&nbsp;unicode,&nbsp;the&nbsp;API&nbsp;has&nbsp;to&nbsp;know&nbsp;what&nbsp;encoding&nbsp;the&nbsp;original&nbsp;string&nbsp;was;&nbsp;or&nbsp;it&nbsp;must&nbsp;have&nbsp;it&nbsp;in&nbsp;Unicode&nbsp;form&nbsp;already.&amp;nbsp;&nbsp;If&nbsp;the&nbsp;API&nbsp;accepts&nbsp;8-bit&nbsp;str&nbsp;objects,&nbsp;then&nbsp;it&nbsp;must&nbsp;guess&nbsp;at&nbsp;the&nbsp;encoding&nbsp;to&nbsp;produce&nbsp;a&nbsp;unicode&nbsp;object.&amp;nbsp;&nbsp;It&nbsp;will&nbsp;guess&nbsp;wrong&nbsp;very&nbsp;often,&nbsp;which&nbsp;leads&nbsp;to&nbsp;bugs.&amp;nbsp;&nbsp;Therefore,&nbsp;it&nbsp;does&nbsp;not&nbsp;accept&nbsp;8-bit&nbsp;str&nbsp;objects.<br>
&lt;br&gt;&lt;br&gt;You&nbsp;must&nbsp;provide&nbsp;Unicode&nbsp;objects&nbsp;to&nbsp;the&nbsp;API&nbsp;so&nbsp;that&nbsp;it&nbsp;does&nbsp;not&nbsp;have&nbsp;to&nbsp;guess.&amp;nbsp;&nbsp;The&nbsp;errors&nbsp;you&nbsp;get&nbsp;are&nbsp;essentially&nbsp;the&nbsp;API&nbsp;telling&nbsp;you&nbsp;&amp;quot;I&nbsp;refuse&nbsp;to&nbsp;guess.&amp;quot;&amp;nbsp;&nbsp;It&nbsp;forces&nbsp;the&nbsp;programmer&nbsp;to&nbsp;tell&nbsp;the&nbsp;API&nbsp;what&nbsp;encoding&nbsp;the&nbsp;original&nbsp;string&nbsp;had;&nbsp;the&nbsp;way&nbsp;you&nbsp;answer&nbsp;it&nbsp;is&nbsp;by&nbsp;decoding&nbsp;it&nbsp;yourself&nbsp;with&nbsp;the&nbsp;right&nbsp;encoding&nbsp;argument&nbsp;into&nbsp;a&nbsp;Unicode&nbsp;object.<br>
&lt;br&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://gedcom-parse.sourceforge.net/doc/encoding.html&quot;&gt;http://gedcom-parse.sourceforge.net/doc/encoding.html&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;C&lt;br&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
