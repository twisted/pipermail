<tt>
&lt;html&gt;&lt;body&gt;&lt;div&nbsp;style=&quot;color:#000;&nbsp;background-color:#fff;&nbsp;font-family:times&nbsp;new&nbsp;roman,&nbsp;new&nbsp;york,&nbsp;times,&nbsp;serif;font-size:12pt&quot;&gt;&lt;div&gt;&lt;span&gt;Let&nbsp;me&nbsp;think&nbsp;about&nbsp;it.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&nbsp;&nbsp;&lt;div&nbsp;style=&quot;font-family:&nbsp;'times&nbsp;new&nbsp;roman',&nbsp;'new&nbsp;york',&nbsp;times,&nbsp;serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;&nbsp;&lt;div&nbsp;style=&quot;font-family:&nbsp;'times&nbsp;new&nbsp;roman',&nbsp;'new&nbsp;york',&nbsp;times,&nbsp;serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;&nbsp;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;Arial&quot;&gt;&nbsp;&lt;hr&nbsp;size=&quot;1&quot;&gt;&nbsp;&nbsp;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:bold;&quot;&gt;From:&lt;/span&gt;&lt;/b&gt;&nbsp;Glyph&nbsp;&amp;lt;glyph@twistedmatrix.com&amp;gt;&lt;br&gt;&nbsp;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;To:&lt;/span&gt;&lt;/b&gt;&nbsp;A&nbsp;Desai&nbsp;&amp;lt;ardesai@yahoo.com&amp;gt;&nbsp;&lt;br&gt;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;Cc:&lt;/span&gt;&lt;/b&gt;&nbsp;Twisted&nbsp;Web&nbsp;World&nbsp;&amp;lt;twisted-web@twistedmatrix.com&amp;gt;&nbsp;&lt;br&gt;&nbsp;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;Sent:&lt;/span&gt;&lt;/b&gt;&nbsp;Wednesday,&nbsp;March&nbsp;13,&nbsp;2013&nbsp;11:33&nbsp;AM&lt;br&gt;&nbsp;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;Subject:&lt;/span&gt;&lt;/b&gt;&nbsp;Re:&nbsp;[Twisted-web]&nbsp;Setting&nbsp;of&nbsp;TCP&nbsp;Receive&nbsp;buffer&nbsp;size&nbsp;and&nbsp;Flow&nbsp;Control&nbsp;in&nbsp;producer/consumer&lt;br&gt;<br>
&nbsp;&lt;/font&gt;&nbsp;&lt;/div&gt;&nbsp;&lt;br&gt;&lt;div&nbsp;id=&quot;yiv681358593&quot;&gt;&lt;div&gt;&lt;div&gt;On&nbsp;Mar&nbsp;12,&nbsp;2013,&nbsp;at&nbsp;9:04&nbsp;PM,&nbsp;A&nbsp;Desai&nbsp;&amp;lt;&lt;a&nbsp;rel=&quot;nofollow&quot;&nbsp;ymailto=&quot;mailto:ardesai@yahoo.com&quot;&nbsp;target=&quot;_blank&quot;&nbsp;href=&quot;mailto:ardesai@yahoo.com&quot;&gt;ardesai@yahoo.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&nbsp;style=&quot;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&nbsp;font-family:&nbsp;'times&nbsp;new&nbsp;roman',&nbsp;'new&nbsp;york',&nbsp;times,&nbsp;serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;Using&nbsp;the&nbsp;protocol's&nbsp;transport&nbsp;object,&nbsp;I&nbsp;can&nbsp;fetch&nbsp;the&nbsp;SO_RCVBUF&nbsp;value&nbsp;on&nbsp;the&nbsp;'accepted'&nbsp;connection&nbsp;and&nbsp;even&nbsp;set&nbsp;the&nbsp;SO_SNDBUF&nbsp;value.&amp;nbsp;&nbsp;However,&nbsp;since&nbsp;TCP&nbsp;Window&nbsp;scaling&nbsp;is&nbsp;enabled&nbsp;by&nbsp;default,&nbsp;it&nbsp;is&nbsp;my&nbsp;understanding&nbsp;that&nbsp;the&nbsp;SO_RCVBUF&nbsp;has&nbsp;to&nbsp;be&nbsp;set&nbsp;before&nbsp;the&nbsp;listen()&nbsp;call&nbsp;is&nbsp;invoked.&amp;nbsp;&nbsp;The&nbsp;.tac&nbsp;file&nbsp;passes&nbsp;the&nbsp;TCPServer&nbsp;object&nbsp;to&nbsp;application/service&nbsp;framework,&nbsp;which&nbsp;in&nbsp;turn&nbsp;calls&nbsp;the&nbsp;listener.&amp;nbsp;&nbsp;So&nbsp;I&nbsp;am&nbsp;wondering&nbsp;if&nbsp;I&nbsp;have&nbsp;to&nbsp;derive&nbsp;a&nbsp;subclass&nbsp;of&nbsp;TCPServer&nbsp;and&nbsp;somehow&nbsp;set&nbsp;the&nbsp;SO_RCVBUF&nbsp;value&nbsp;before&nbsp;the&nbsp;application&nbsp;framework&nbsp;invokes&nbsp;listen();&amp;nbsp;&nbsp;i.e.<br>
&nbsp;drill&nbsp;down&nbsp;to&nbsp;the&nbsp;Port<br>
&nbsp;object&nbsp;where&nbsp;it&nbsp;calls&nbsp;createInternetSocket()?&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;You'd&nbsp;need&nbsp;to&nbsp;actually&nbsp;subclass&nbsp;tcp.Server,&nbsp;an&nbsp;implementation&nbsp;mechanism&nbsp;that&nbsp;we&nbsp;would&nbsp;really&nbsp;like&nbsp;to&nbsp;deprecate&nbsp;:).&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Really,&nbsp;the&nbsp;right&nbsp;way&nbsp;to&nbsp;do&nbsp;this&nbsp;is&nbsp;to&nbsp;contribute&nbsp;a&nbsp;fix&nbsp;to&nbsp;the&nbsp;ticket&nbsp;I&nbsp;linked,&nbsp;and&nbsp;do&nbsp;it&nbsp;directly&nbsp;next&nbsp;to&nbsp;the&nbsp;listen()&nbsp;call&nbsp;within&nbsp;Twisted&nbsp;:).&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-glyph&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;&nbsp;&lt;/div&gt;&nbsp;&lt;/div&gt;&nbsp;&nbsp;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
