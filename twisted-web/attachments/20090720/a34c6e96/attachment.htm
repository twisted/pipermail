<tt>
&lt;br&gt;Ok,&nbsp;I&amp;#39;ve&nbsp;read&nbsp;the&nbsp;entire&nbsp;Twisted&nbsp;O&amp;#39;Reilly&nbsp;book&nbsp;and&nbsp;gone&nbsp;through&nbsp;many&nbsp;of&nbsp;the&nbsp;docs&nbsp;and&nbsp;tutorials&nbsp;but&nbsp;I&nbsp;still&nbsp;need&nbsp;a&nbsp;bit&nbsp;of&nbsp;direction.&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;br&gt;I&amp;#39;m&nbsp;trying&nbsp;to&nbsp;make&nbsp;a&nbsp;simple&nbsp;web-based&nbsp;proxy. &nbsp;Similar&nbsp;to&nbsp;the&nbsp;proxy&nbsp;in&nbsp;the&nbsp;Twisted&nbsp;book,&nbsp;but&nbsp;with&nbsp;a&nbsp;web&nbsp;interface. &nbsp;So&nbsp;I&nbsp;could&nbsp;go&nbsp;to  &nbsp;&lt;a&nbsp;href=&quot;http://asdf.com.MYPROXYSITE.com&quot;&nbsp;target=&quot;_blank&quot;&gt;http://asdf.com.MYPROXYSITE.com&lt;/a&gt;&nbsp;and&nbsp;see&nbsp;the&nbsp;contents&nbsp;of&nbsp;&lt;a&nbsp;href=&quot;http://asdf.com&quot;&nbsp;target=&quot;_blank&quot;&gt;asdf.com&lt;/a&gt;. &nbsp;&lt;br&gt;<br>
<br>
&lt;br&gt;I&nbsp;have&nbsp;the&nbsp;following&nbsp;code&nbsp;that&nbsp;works&nbsp;well&nbsp;as&nbsp;a&nbsp;browser&nbsp;proxy,&nbsp;but&nbsp;I&nbsp;need&nbsp;to&nbsp;figure&nbsp;out&nbsp;how&nbsp;make&nbsp;it&nbsp;web&nbsp;based. &nbsp;&lt;br&gt;&lt;br&gt;My&nbsp;thoughts&nbsp;are&nbsp;that&nbsp;I&nbsp;need&nbsp;to&nbsp;make&nbsp;an&nbsp;HTTP&nbsp;server&nbsp;and&nbsp;then&nbsp;adjust&nbsp;the&nbsp;address&nbsp;in&nbsp;the&nbsp;protocol&nbsp;before&nbsp;finishing&nbsp;the&nbsp;proxy&nbsp;request. &nbsp;Am&nbsp;I&nbsp;on&nbsp;the&nbsp;right&nbsp;track? &nbsp;Does&nbsp;anyone&nbsp;have&nbsp;examples&nbsp;of&nbsp;this?&nbsp;&lt;br&gt;<br>
<br>
&lt;br&gt;Should&nbsp;I&nbsp;ditch&nbsp;the&nbsp;Proxy&nbsp;classes&nbsp;all&nbsp;together?&lt;br&gt;&lt;br&gt;Thanks&nbsp;for&nbsp;any&nbsp;input.&lt;br&gt;&lt;br&gt;Dave&nbsp;Fowler&lt;br&gt;&lt;br&gt;&lt;br&gt;from&nbsp;twisted.web&nbsp;import&nbsp;proxy,&nbsp;http&lt;br&gt;from&nbsp;twisted.python&nbsp;import&nbsp;log&lt;br&gt;import&nbsp;sys&lt;br&gt;log.startLogging(sys.stdout)&lt;br&gt;<br>
<br>
&lt;br&gt;class&nbsp;Proxy(proxy.Proxy):&lt;br&gt;   &nbsp;def&nbsp;__init__(self,&nbsp;*args):&lt;br&gt;       &nbsp;print&nbsp;&amp;quot;inside&nbsp;Proxy&amp;quot;&lt;br&gt;       &nbsp;proxy.Proxy.__init__(self,&nbsp;*args)&lt;br&gt;       &nbsp;print&nbsp;&amp;quot;Proxy:&nbsp;&amp;quot;,&nbsp;self.__dict__&lt;br&gt;       &nbsp;print&nbsp;dir(self)&lt;br&gt;<br>
<br>
   &nbsp;&lt;br&gt;&lt;br&gt;class&nbsp;ProxyFactory(http.HTTPFactory): &nbsp;#&nbsp;Receive&nbsp;connections&nbsp;from&nbsp;the&nbsp;client&lt;br&gt;   &nbsp;&amp;quot;&amp;quot;&amp;quot;&nbsp;Receives&nbsp;connections&nbsp;from&nbsp;the&nbsp;client&nbsp;&amp;quot;&amp;quot;&amp;quot;&lt;br&gt;   &nbsp;def&nbsp;__init__(self): &nbsp;#&nbsp;This&nbsp;function&nbsp;only&nbsp;needed&nbsp;for&nbsp;printing&nbsp;input&nbsp;and&nbsp;stuff&lt;br&gt;<br>
<br>
       &nbsp;print&nbsp;&amp;quot;inside&nbsp;proxy&nbsp;factory&amp;quot;&lt;br&gt;       &nbsp;http.HTTPFactory.__init__(self) &nbsp;&lt;br&gt;       &nbsp;print&nbsp;self.__dict__&lt;br&gt;       &nbsp;print&nbsp;dir(self)&lt;br&gt;&lt;br&gt;   &nbsp;def&nbsp;buildProtocol(self,&nbsp;addr):&lt;br&gt;       &nbsp;protocol&nbsp;=&nbsp;Proxy()&lt;br&gt;<br>
<br>
       &nbsp;print&nbsp;&amp;quot;making&nbsp;protocol&nbsp;for&nbsp;addr&amp;quot;,&nbsp;addr&lt;br&gt;       &nbsp;print&nbsp;&amp;quot;protocol:&amp;quot;,&nbsp;protocol.__dict__&lt;br&gt;       &nbsp;return&nbsp;protocol&lt;br&gt;&lt;br&gt;if&nbsp;__name__&nbsp;==&nbsp;&amp;quot;__main__&amp;quot;:&lt;br&gt;&lt;br&gt;   &nbsp;PROXY_PORT&nbsp;=&nbsp;8001&lt;br&gt;   &nbsp;&lt;br&gt;<br>
<br>
   &nbsp;from&nbsp;twisted.internet&nbsp;import&nbsp;reactor&lt;br&gt;   &nbsp;&lt;br&gt;   &nbsp;reactor.listenTCP(PROXY_PORT,&nbsp;ProxyFactory())&lt;br&gt;   &nbsp;reactor.run()&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;br&gt;<br>

</tt>
