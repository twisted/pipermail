<tt>
other&nbsp;successful&nbsp;variant&lt;br&gt;Instead&lt;br&gt;var&nbsp;node&nbsp;=&nbsp;$(&amp;quot;termid&amp;quot;);&lt;br&gt;to&nbsp;use&lt;br&gt;var&nbsp;node&nbsp;=&nbsp;document.getElementById(&amp;quot;termid&amp;quot;);&lt;br&gt;<br>
that&nbsp;about&nbsp;was&nbsp;written&nbsp;by&nbsp;Jean-Paul&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;2007/12/9,&nbsp;Михаил&nbsp;Михайлов&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:mihailovmv77@gmail.com&quot;&gt;mihailovmv77@gmail.com&lt;/a&gt;&amp;gt;:&lt;/span&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
i&nbsp;had&nbsp;refused&nbsp;using&nbsp;nodeid&nbsp;(&amp;quot;termid&amp;quot;)&nbsp;and&nbsp;It&nbsp;has&nbsp;been&nbsp;worked&nbsp;in&nbsp;later&nbsp;nevow&nbsp;version&nbsp;(0.9.27)!&lt;br&gt;&lt;br&gt;I&nbsp;tried&nbsp;to&nbsp;get&nbsp;widget&nbsp;in&nbsp;2&nbsp;ways&lt;br&gt;1)&lt;br&gt;var&nbsp;node&nbsp;=&nbsp;$(&amp;quot;termid&amp;quot;);&lt;br&gt;var&nbsp;widget&nbsp;=&nbsp;Nevow.Athena.Widget.get<br>
<br>
(node);&lt;br&gt;2)&lt;br&gt;var&nbsp;widget&nbsp;=&nbsp;Nevow.Athena.Widget.fromAthenaID(&amp;quot;termid&amp;quot;);&lt;br&gt;&lt;br&gt;both&nbsp;of&nbsp;a&nbsp;case&nbsp;give&nbsp;exception&nbsp;(cannot&nbsp;find&nbsp;node&nbsp;by&nbsp;id)&lt;br&gt;&lt;br&gt;I&amp;#39;ve&nbsp;added&nbsp;a&nbsp;method&nbsp;keypress2&nbsp;into&nbsp;AaccWeb.Users&nbsp;(aacc_web.js)&lt;br&gt;<br>
<br>
and&nbsp;string&nbsp;mystr&nbsp;=&nbsp;u&amp;quot;&amp;quot;&amp;quot;&amp;lt;textarea&nbsp;cols=&amp;quot;10&amp;quot;&nbsp;rows=&amp;quot;5&amp;quot;&nbsp;onkeypress=&amp;quot;return&nbsp;Nevow.Athena.Widget.get(this).keypress2(event);&amp;quot;&amp;gt;&amp;quot;&amp;quot;&amp;quot;&nbsp;+&nbsp;sym&nbsp;+&nbsp;u&amp;quot;&amp;quot;&amp;quot;&amp;lt;/textarea&amp;gt;&amp;quot;&amp;quot;&amp;quot;&nbsp;into&nbsp;aacc_web.py<br>
&lt;br&gt;&lt;br&gt;&lt;br&gt;aacc_web.py&lt;span&nbsp;class=&quot;q&quot;&gt;&lt;br&gt;&lt;br&gt;&amp;lt;&nbsp;mystr&nbsp;=&nbsp;u&amp;quot;&amp;quot;&amp;quot;&amp;lt;textarea&nbsp;id=&amp;quot;termid&amp;quot;&nbsp;cols=&amp;quot;10&amp;quot;&nbsp;rows=&amp;quot;5&amp;quot;&nbsp;onkeypress=&amp;quot;return&nbsp;keypress(event)&amp;quot;&amp;gt;&amp;quot;&amp;quot;&amp;quot;&nbsp;+&nbsp;sym&nbsp;+&nbsp;u&amp;quot;&amp;quot;&amp;quot;&amp;lt;/textarea&amp;gt;&amp;quot;&amp;quot;&amp;quot;<br>
&lt;br&gt;&lt;/span&gt;&amp;gt;&nbsp;#mystr&nbsp;=&nbsp;u&amp;quot;&amp;quot;&amp;quot;&amp;lt;textarea&nbsp;id=&amp;quot;termid&amp;quot;&nbsp;cols=&amp;quot;10&amp;quot;&nbsp;rows=&amp;quot;5&amp;quot;&nbsp;onkeypress=&amp;quot;return&nbsp;keypress(event)&amp;quot;&amp;gt;&amp;quot;&amp;quot;&amp;quot;&nbsp;+&nbsp;sym&nbsp;+&nbsp;u&amp;quot;&amp;quot;&amp;quot;&amp;lt;/textarea&amp;gt;&amp;quot;&amp;quot;&amp;quot;<br>
&lt;br&gt;&amp;gt;&nbsp;mystr&nbsp;=&nbsp;u&amp;quot;&amp;quot;&amp;quot;&amp;lt;textarea&nbsp;cols=&amp;quot;10&amp;quot;&nbsp;rows=&amp;quot;5&amp;quot;&nbsp;onkeypress=&amp;quot;return&nbsp;Nevow.Athena.Widget.get(this).keypress2(event);&amp;quot;&amp;gt;&amp;quot;&amp;quot;&amp;quot;&nbsp;+&nbsp;sym&nbsp;+&nbsp;u&amp;quot;&amp;quot;&amp;quot;&amp;lt;/textarea&amp;gt;&amp;quot;&amp;quot;&amp;quot;<br>
&lt;span&nbsp;class=&quot;q&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;aacc_web.js&lt;br&gt;&lt;br&gt;//&nbsp;import&nbsp;Nevow.Athena&lt;br&gt;&lt;br&gt;function&nbsp;keypress(event)&lt;br&gt;{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;var&nbsp;key&nbsp;=&nbsp;event.charCode&nbsp;?&nbsp;event.charCode&nbsp;:&nbsp;event.keyCode;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;//var&nbsp;node&nbsp;=&nbsp;$(&amp;quot;termid&amp;quot;);&lt;br&gt;&lt;/span&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;//var&nbsp;widget&nbsp;=&nbsp;<br>
Nevow.Athena.Widget.get(node);&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;var&nbsp;widget&nbsp;=&nbsp;Nevow.Athena.Widget.fromAthenaID(&amp;quot;termid&amp;quot;);&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;(widget)&nbsp;{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;alert(&amp;quot;widget&nbsp;get&nbsp;ok&amp;quot;);&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;widget.callRemote(&amp;quot;aacc_keypress&amp;quot;,&nbsp;<br>
event.charCode,&nbsp;event.keyCode,&nbsp;event.metaKey,&nbsp;event.altKey,&nbsp;event.ctrlKey,&nbsp;event.shiftKey);&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;else&nbsp;{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;alert(&amp;quot;widget&nbsp;get&nbsp;error&amp;quot;);&lt;span&nbsp;class=&quot;q&quot;&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;}&lt;br&gt;&lt;br&gt;AaccWeb.Users&nbsp;=&nbsp;Nevow.Athena.Widget.subclass<br>
<br>
(&amp;quot;AaccWeb.Users&amp;quot;);&lt;br&gt;AaccWeb.Users.methods(&lt;br&gt;&lt;br&gt;&lt;/span&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;function&nbsp;keypress2(self,&nbsp;event)&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;var&nbsp;key&nbsp;=&nbsp;event.charCode&nbsp;?&nbsp;event.charCode&nbsp;:&nbsp;event.keyCode;&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;self.callRemote<br>
(&amp;quot;aacc_keypress&amp;quot;,&nbsp;<br>
event.charCode,&nbsp;event.keyCode,&nbsp;event.metaKey,&nbsp;event.altKey,&nbsp;event.ctrlKey,&nbsp;event.shiftKey);&lt;span&nbsp;class=&quot;q&quot;&gt;&lt;br&gt;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;},&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;function&nbsp;start(self,&nbsp;node,&nbsp;event)&nbsp;{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;self.callRemote(&amp;quot;aacc_start&amp;quot;);<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;false;<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;},&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;function&nbsp;showConference(self,&nbsp;toWhat)&nbsp;{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;var&nbsp;client_data&nbsp;=&nbsp;Nevow.Athena.NodeByAttribute(self.node,&nbsp;&amp;quot;class&amp;quot;,&nbsp;&amp;quot;Users&amp;quot;);&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;client_data.innerHTML&nbsp;=&nbsp;toWhat;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}<br>
&lt;br&gt;);&lt;br&gt;&lt;br&gt;&lt;/span&gt;ps:&lt;br&gt;however,&nbsp;why&nbsp;in&nbsp;old&nbsp;versions&nbsp;(0.9.0)&nbsp;it&nbsp;worked&nbsp;without&nbsp;these&nbsp;changes&nbsp;and&nbsp;in&nbsp;new&nbsp;(0.9.27)&nbsp;is&nbsp;not&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;2007/12/9,&nbsp;Михаил&nbsp;Михайлов&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:mihailovmv77@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&nbsp;onclick=&quot;return&nbsp;top.js.OpenExtLink(window,event,this)&quot;&gt;<br>
<br>
mihailovmv77@gmail.com&lt;/a&gt;&amp;gt;:&lt;/span&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;e&quot;&nbsp;id=&quot;q_116bea3f9b2baca1_9&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;Jean-Paul<br>
&lt;br&gt;thanks&nbsp;for&nbsp;the&nbsp;operative&nbsp;answer&lt;br&gt;but&nbsp;my&nbsp;file&nbsp;aacc_web.py&nbsp;contains&nbsp;a&nbsp;line&nbsp;u&nbsp;&amp;quot;<br>
AaccWeb.Users&amp;quot;&nbsp;instead&nbsp;of&nbsp;u&nbsp;&amp;quot;&nbsp;AaccWeb.Users&amp;quot;&lt;br&gt;the&nbsp;space&nbsp;is&nbsp;not&nbsp;present,&lt;br&gt;space&nbsp;have&nbsp;appeared&nbsp;because&nbsp;of&nbsp;copying&nbsp;the&nbsp;text&nbsp;from&nbsp;my&nbsp;electronic&nbsp;translator<br>
&lt;br&gt;(differently&nbsp;it&nbsp;did&nbsp;not&nbsp;work&nbsp;and&nbsp;in&nbsp;version&nbsp;9.0&nbsp;but&nbsp;it&nbsp;works)&lt;br&gt;If&nbsp;You&nbsp;will&nbsp;give&nbsp;Your&nbsp;mail&nbsp;I&nbsp;can&nbsp;send&nbsp;files&lt;br&gt;problem&nbsp;probably&nbsp;another&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;2007/12/9,&nbsp;Jean-Paul&nbsp;Calderone&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:exarkun@divmod.com&quot;&nbsp;target=&quot;_blank&quot;&nbsp;onclick=&quot;return&nbsp;top.js.OpenExtLink(window,event,this)&quot;&gt;<br>
<br>
<br>
exarkun@divmod.com&lt;/a&gt;&amp;gt;:&lt;/span&gt;&lt;div&gt;&lt;span&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;On&nbsp;Sun,&nbsp;9&nbsp;Dec&nbsp;2007&nbsp;00:43:31&nbsp;+0300,&nbsp;Михаил&nbsp;Михайлов&nbsp;&amp;lt;<br>
&lt;a&nbsp;href=&quot;mailto:mihailovmv77@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&nbsp;onclick=&quot;return&nbsp;top.js.OpenExtLink(window,event,this)&quot;&gt;<br>
mihailovmv77@gmail.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;&amp;gt;Hi&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;my&nbsp;example&nbsp;consists&nbsp;2&nbsp;files:&nbsp;aacc_web.py&nbsp;and&nbsp;aacc_web.js&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;python&nbsp;aacc_web.py&lt;br&gt;&amp;gt;will&nbsp;start&nbsp;on&nbsp;port&nbsp;8080&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;generated&nbsp;html&nbsp;contains&nbsp;textarea&nbsp;and&nbsp;in&nbsp;case&nbsp;of&nbsp;input<br>
&lt;br&gt;&amp;gt;prints&nbsp;the&nbsp;entered&nbsp;symbol&nbsp;on&nbsp;the&nbsp;console&nbsp;and&nbsp;in&nbsp;textarea&lt;br&gt;&amp;gt;It&nbsp;works&nbsp;ONLY&nbsp;in&nbsp;version&nbsp;9.0&nbsp;and&nbsp;does&nbsp;NOT&nbsp;(!)&nbsp;work&nbsp;in&nbsp;last&nbsp;versions&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;Explain&nbsp;what&amp;#39;s&nbsp;wrong&lt;br&gt;&amp;gt;&lt;br&gt;&lt;br&gt;You&amp;#39;re&nbsp;using&nbsp;a&nbsp;feature&nbsp;of&nbsp;MochiKit,&nbsp;$().&amp;nbsp;&amp;nbsp;Athena&nbsp;pages&nbsp;used&nbsp;to&nbsp;include<br>
&lt;br&gt;MochiKit&nbsp;by&nbsp;default,&nbsp;but&nbsp;they&nbsp;don&amp;#39;t&nbsp;anymore.&amp;nbsp;&amp;nbsp;This&nbsp;may&nbsp;be&nbsp;the&nbsp;problem.&lt;br&gt;&lt;br&gt;Your&nbsp;JavaScript&nbsp;file&nbsp;includes&nbsp;&amp;quot;//import&nbsp;Nevow.Athena&amp;quot;&nbsp;which&nbsp;will&nbsp;be&lt;br&gt;ignored.&amp;nbsp;&amp;nbsp;This&nbsp;should&nbsp;be&nbsp;&amp;quot;//&nbsp;import&nbsp;Nevow.Athena<br>
<br>
&amp;quot;.&amp;nbsp;&amp;nbsp;This&nbsp;probably&nbsp;isn&amp;#39;t<br>
&lt;br&gt;the&nbsp;cause&nbsp;of&nbsp;the&nbsp;problem,&nbsp;but&nbsp;it&amp;#39;s&nbsp;still&nbsp;wrong.&lt;br&gt;&lt;br&gt;Your&nbsp;Python&nbsp;class&nbsp;&amp;quot;Users&amp;quot;&nbsp;has&nbsp;a&nbsp;jsClass&nbsp;of&nbsp;u&amp;quot;&nbsp;AaccWeb.Users&amp;quot;.&amp;nbsp;&amp;nbsp;This&nbsp;causes&lt;br&gt;a&nbsp;KeyError&nbsp;because&nbsp;there&nbsp;is&nbsp;no&nbsp;such&nbsp;class.&amp;nbsp;&amp;nbsp;Instead&nbsp;it&nbsp;should&nbsp;be<br>
&lt;br&gt;u&amp;quot;AaccWeb.Users&amp;quot;.&lt;br&gt;&lt;br&gt;After&nbsp;changing&nbsp;these&nbsp;three&nbsp;things,&nbsp;I&nbsp;see&nbsp;events&nbsp;being&nbsp;reported&nbsp;on&nbsp;the&lt;br&gt;server.&lt;br&gt;&lt;br&gt;Jean-Paul&lt;br&gt;&lt;br&gt;_______________________________________________&lt;br&gt;Twisted-web&nbsp;mailing&nbsp;list&lt;br&gt;<br>
<br>
<br>
&lt;a&nbsp;href=&quot;mailto:Twisted-web@twistedmatrix.com&quot;&nbsp;target=&quot;_blank&quot;&nbsp;onclick=&quot;return&nbsp;top.js.OpenExtLink(window,event,this)&quot;&gt;Twisted-web@twistedmatrix.com&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web&quot;&nbsp;target=&quot;_blank&quot;&nbsp;onclick=&quot;return&nbsp;top.js.OpenExtLink(window,event,this)&quot;&gt;<br>
<br>
http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web&lt;/a&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;<br>
&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;
</tt>
