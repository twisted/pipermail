Index: nevow/url.py
===================================================================
--- nevow/url.py	(revision 789)
+++ nevow/url.py	(working copy)
@@ -69,11 +69,25 @@
     fromString = classmethod(fromString)
 
     def fromRequest(klass, request):
+        import warnings
+        warnings.warn(
+            "URL.fromRequest() will change behaviour sometime. Use fromContext instead.",
+            DeprecationWarning,
+            stacklevel=2)
         uri = request.prePathURL()
         if '?' in request.uri:
             uri += '?' + request.uri.split('?')[-1]
         return klass.fromString(uri)
     fromRequest = classmethod(fromRequest)
+    
+    def fromContext(klass, ctx):
+        '''Create a URL for the currently *located* segments.'''
+        request = inevow.IRequest(ctx)
+        uri = request.prePathURL()
+        if '?' in request.uri:
+            uri += '?' + request.uri.split('?')[-1]
+        return klass.fromString(uri)
+    fromContext = classmethod(fromContext)
 
     ## path manipulations ##
     
@@ -317,7 +331,7 @@
 
 def hereaccessor(context):
     req = context.locate(inevow.IRequest)
-    return URL.fromRequest(req).clear()
+    return URL.fromContext(req).clear()
 here = URLOverlay(
     hereaccessor, 
     "A lazy url construction object representing the current page's URL. "
@@ -328,7 +342,7 @@
 
 def gethereaccessor(context):
     req = context.locate(inevow.IRequest)
-    return URL.fromRequest(req)
+    return URL.fromContext(req)
 gethere = URLOverlay(gethereaccessor,
     "A lazy url construction object like 'here' except query parameters "
     "are preserved. Useful for constructing a URL to this same object "
@@ -359,7 +373,7 @@
     req = context.locate(inevow.IRequest)
     root = req.getRootURL()
     if root is None:
-        return URL.fromRequest(req).click('/')
+        return URL.fromContext(req).click('/')
     return URL.fromString(root)
 root = URLOverlay(rootaccessor,
     "A lazy URL construction object representing the root of the "
