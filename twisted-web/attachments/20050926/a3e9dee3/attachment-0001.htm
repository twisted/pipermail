<tt>
&lt;HTML&gt;&lt;BODY&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-khtml-nbsp-mode:&nbsp;space;&nbsp;-khtml-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;&lt;DIV&gt;&lt;DIV&gt;On&nbsp;Sep&nbsp;24,&nbsp;2005,&nbsp;at&nbsp;12:41&nbsp;PM,&nbsp;Scott&nbsp;Lamb&nbsp;wrote:&lt;/DIV&gt;&lt;BLOCKQUOTE&nbsp;type=&quot;cite&quot;&gt;&lt;DIV&gt;On&nbsp;second,&nbsp;thought,&nbsp;i&nbsp;don't&nbsp;buy&nbsp;this&nbsp;at&nbsp;all.&nbsp;You're&nbsp;saying&nbsp;that&nbsp;this&nbsp;wrapper&nbsp;should&nbsp;provide&nbsp;the&nbsp;buffering&nbsp;itself&nbsp;to&nbsp;provide&nbsp;restartability?&nbsp;Will&nbsp;the&nbsp;data&nbsp;be&nbsp;large&nbsp;/&nbsp;should&nbsp;this&nbsp;buffering&nbsp;happen&nbsp;in&nbsp;memory&nbsp;or&nbsp;on&nbsp;disk?&nbsp;For&nbsp;MemoryStream&nbsp;and&nbsp;FileStream,&nbsp;the&nbsp;answers&nbsp;differ.&nbsp;In&nbsp;both&nbsp;cases,&nbsp;the&nbsp;buffering&nbsp;is&nbsp;silly,&nbsp;though;&nbsp;they&nbsp;have&nbsp;all&nbsp;the&nbsp;information&nbsp;to&nbsp;reset&nbsp;themselves.&lt;/DIV&gt;&lt;/BLOCKQUOTE&gt;&lt;/DIV&gt;&lt;DIV&gt;&lt;BR&nbsp;class=&quot;khtml-block-placeholder&quot;&gt;&lt;/DIV&gt;&lt;DIV&gt;Doing&nbsp;any&nbsp;sort&nbsp;of&nbsp;automatic&nbsp;buffering&nbsp;is&nbsp;going&nbsp;to&nbsp;be&nbsp;a&nbsp;bad&nbsp;solution,&nbsp;because&nbsp;you&nbsp;won't&nbsp;be&nbsp;able&nbsp;to&nbsp;discard&nbsp;the&nbsp;buffer&nbsp;until&nbsp;you've&nbsp;got&nbsp;the&nbsp;final&nbsp;response&nbsp;from&nbsp;the&nbsp;other&nbsp;side,&nbsp;which&nbsp;may&nbsp;not&nbsp;happen&nbsp;until&nbsp;you've&nbsp;sent&nbsp;all&nbsp;20GB&nbsp;of&nbsp;data,&nbsp;two&nbsp;days&nbsp;from&nbsp;now.&nbsp;If&nbsp;the&nbsp;server&nbsp;is&nbsp;well-designed,&nbsp;it&nbsp;will&nbsp;send&nbsp;an&nbsp;authorization&nbsp;denied&nbsp;error&nbsp;before&nbsp;you've&nbsp;uploaded&nbsp;everything,&nbsp;but&nbsp;you&nbsp;cannot&nbsp;rely&nbsp;on&nbsp;that.&nbsp;And&nbsp;you&nbsp;really&nbsp;don't&nbsp;really&nbsp;want&nbsp;to&nbsp;have&nbsp;the&nbsp;server&nbsp;buffer&nbsp;all&nbsp;that&nbsp;data&nbsp;for&nbsp;two&nbsp;days.&nbsp;Of&nbsp;course,&nbsp;you&nbsp;also&nbsp;don't&nbsp;want&nbsp;to&nbsp;upload&nbsp;it&nbsp;twice,&nbsp;but&nbsp;some&nbsp;things&nbsp;you've&nbsp;just&nbsp;gotta&nbsp;live&nbsp;with.&nbsp;So,&nbsp;anyhow,&nbsp;I&nbsp;think&nbsp;any&nbsp;buffering&nbsp;must&nbsp;be&nbsp;explicit&nbsp;so&nbsp;the&nbsp;developer&nbsp;has&nbsp;to&nbsp;explicitly&nbsp;ask&nbsp;to&nbsp;shoot&nbsp;themselves&nbsp;in&nbsp;the&nbsp;foot.&lt;/DIV&gt;&lt;DIV&gt;&lt;BR&nbsp;class=&quot;khtml-block-placeholder&quot;&gt;&lt;/DIV&gt;&lt;DIV&gt;Also,&nbsp;I've&nbsp;tried&nbsp;to&nbsp;keep&nbsp;the&nbsp;stream&nbsp;API&nbsp;and&nbsp;implementation&nbsp;relatively&nbsp;simple&nbsp;and&nbsp;easy&nbsp;to&nbsp;understand.&nbsp;Some&nbsp;bits&nbsp;of&nbsp;it&nbsp;do&nbsp;get&nbsp;complicated&nbsp;already,&nbsp;but&nbsp;I&nbsp;think&nbsp;adding&nbsp;reset&nbsp;will&nbsp;complicate&nbsp;it&nbsp;quite&nbsp;a&nbsp;bit&nbsp;further&nbsp;for&nbsp;any&nbsp;non-trivial&nbsp;stream. So,&nbsp;what&nbsp;do&nbsp;you&nbsp;do?&nbsp;Probably&nbsp;it'd&nbsp;be&nbsp;best&nbsp;to&nbsp;pass&nbsp;something&nbsp;from&nbsp;which&nbsp;you&nbsp;can&nbsp;get&nbsp;a&nbsp;stream,&nbsp;rather&nbsp;than&nbsp;a&nbsp;stream&nbsp;itself.&nbsp;Thus&nbsp;if&nbsp;you&nbsp;need&nbsp;to&nbsp;get&nbsp;the&nbsp;stream&nbsp;again,&nbsp;you&nbsp;can&nbsp;call&nbsp;the&nbsp;function&nbsp;again.&nbsp;No&nbsp;muss,&nbsp;no&nbsp;fuss.&lt;/DIV&gt;&lt;DIV&gt;&lt;BR&nbsp;class=&quot;khtml-block-placeholder&quot;&gt;&lt;/DIV&gt;&lt;DIV&gt;James&lt;/DIV&gt;&lt;FONT&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#0000DE&quot;&gt;&lt;/FONT&gt;&lt;/BODY&gt;&lt;/HTML&gt;
</tt>
