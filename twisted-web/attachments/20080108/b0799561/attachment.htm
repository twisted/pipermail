<tt>
I&nbsp;have&nbsp;a&nbsp;HTTP&nbsp;connection&nbsp;where&nbsp;the&nbsp;client&nbsp;has&nbsp;died,&nbsp;and&nbsp;twisted.web2&lt;br&gt;is&nbsp;getting&nbsp;stuck&nbsp;waiting&nbsp;for&nbsp;data.&nbsp;Can&nbsp;anyone&nbsp;tell&nbsp;me&nbsp;how&nbsp;to&lt;br&gt;timeout&nbsp;this&nbsp;case?&lt;br&gt;&lt;br&gt;Details:&lt;br&gt;&lt;br&gt;-&nbsp;client&nbsp;connects&nbsp;to&nbsp;server&nbsp;to&nbsp;perform&nbsp;a&nbsp;POST&nbsp;(XMLRPC&nbsp;in&nbsp;this&nbsp;case)<br>
&lt;br&gt;-&nbsp;twisted&nbsp;accepts&nbsp;connection,&nbsp;hands&nbsp;off&nbsp;to&nbsp;twisted.web2&lt;br&gt;-&nbsp;twisted.web2&nbsp;wsgi&nbsp;handler&nbsp;runs&nbsp;wsgi&nbsp;app&nbsp;in&nbsp;a&nbsp;thread&lt;br&gt;-&nbsp;wsgi&nbsp;app&nbsp;tries&nbsp;to&nbsp;read&nbsp;the&nbsp;full&nbsp;body,&nbsp;based&nbsp;on&nbsp;Content-Length&lt;br&gt;-&nbsp;client&nbsp;dies&nbsp;before&nbsp;sending&nbsp;all&nbsp;the&nbsp;data<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;(crashes&nbsp;or&nbsp;disconnects&nbsp;without&nbsp;TCP&nbsp;connection&nbsp;being&nbsp;closed)&lt;br&gt;-&nbsp;wsgi&nbsp;app&nbsp;thread&nbsp;is&nbsp;stuck&nbsp;forever&nbsp;in&nbsp;read()&lt;br&gt;&lt;br&gt;Traceback:&lt;br&gt;&amp;nbsp;&nbsp;.......&lt;br&gt;&amp;nbsp;&nbsp;File&nbsp;&amp;quot;D:\LabManager-Jan-07-2\src\wsgi\XMLRPCServer.py&amp;quot;,&nbsp;line&nbsp;98,&nbsp;in&nbsp;__call__<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;data&nbsp;=&nbsp;environ[&amp;#39;wsgi.input&amp;#39;].read(length)&lt;br&gt;&amp;nbsp;&nbsp;File&nbsp;&amp;quot;D:\LabManager-Jan-07-2\src\twisted\web2\wsgi.py&amp;quot;,&nbsp;line&nbsp;66,&nbsp;in&nbsp;read&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;callInReactor(self.stream.readExactly,&nbsp;size)&lt;br&gt;&amp;nbsp;&nbsp;File&nbsp;&amp;quot;D:\LabManager-Jan-07-2\src\twisted\web2\wsgi.py&amp;quot;,&nbsp;line&nbsp;48,&nbsp;in&nbsp;callInReactor<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;result&nbsp;=&nbsp;queue.get()&lt;br&gt;&amp;nbsp;&nbsp;File&nbsp;&amp;quot;D:\LabManager-Jan-07-2\python24\lib\Queue.py&amp;quot;,&nbsp;line&nbsp;119,&nbsp;in&nbsp;get&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;self.not_empty.wait()&lt;br&gt;&amp;nbsp;&nbsp;File&nbsp;&amp;quot;D:\LabManager-Jan-07-2\Python24\lib\threading.py&amp;quot;,&nbsp;line&nbsp;203,&nbsp;in&nbsp;wait<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;waiter.acquire()&lt;br&gt;&lt;br&gt;The&nbsp;function&nbsp;self.stream.readExactly&nbsp;is&nbsp;BufferedStream.readExactly&lt;br&gt;(wsgi.py,&nbsp;line&nbsp;987).&lt;br&gt;&lt;br&gt;However,&nbsp;it&amp;#39;s&nbsp;not&nbsp;clear&nbsp;how&nbsp;to&nbsp;fix&nbsp;this&nbsp;up,&nbsp;since&nbsp;there&nbsp;seems&nbsp;to&nbsp;be&lt;br&gt;another&nbsp;class&nbsp;in&nbsp;the&nbsp;middle&nbsp;<br>
i.e.&nbsp;_NotifyingProducerStream&nbsp;(and&lt;br&gt;it&amp;#39;s&nbsp;base&nbsp;class&nbsp;ProducerStream)&lt;br&gt;&lt;br&gt;Does&nbsp;anyone&nbsp;have&nbsp;any&nbsp;example&nbsp;code&nbsp;for&nbsp;this,&nbsp;or&nbsp;can&nbsp;you&nbsp;give&nbsp;me&nbsp;a&nbsp;rough&lt;br&gt;guide&nbsp;on&nbsp;how&nbsp;to&nbsp;implement&nbsp;this?&lt;br&gt;&lt;br&gt;(I&nbsp;am&nbsp;using&nbsp;Python&nbsp;2.4.3,&nbsp;Twisted&nbsp;<br>
2.4.0,&nbsp;and&nbsp;Twisted.Web2&nbsp;0.2.0)&lt;br&gt;&lt;br&gt;<br>

</tt>
