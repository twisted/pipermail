<tt>
&lt;div&gt;Hi,&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;div&gt;I&amp;#39;m&nbsp;using&nbsp;Nevow&nbsp;&lt;a&nbsp;href=&quot;http://0.9.31.&quot;&gt;0.9.31.&lt;/a&gt;&nbsp;Have&nbsp;been&nbsp;struggling&nbsp;with&nbsp;catching&nbsp;the&nbsp;onbeforeunload&nbsp;event&nbsp;for&nbsp;a&nbsp;couple&nbsp;of&nbsp;days.&nbsp;From&nbsp;the&nbsp;JS&nbsp;code&nbsp;in&nbsp;Athena/__init__.js,&nbsp;it&nbsp;looks&nbsp;like&nbsp;the&nbsp;events&nbsp;&amp;#39;onkeypress&amp;#39;&nbsp;and&nbsp;&amp;#39;onbeforeunload&amp;#39;&nbsp;are&nbsp;handled&nbsp;pretty&nbsp;automatically;&nbsp;and&nbsp;by&nbsp;adding&nbsp;alerts&nbsp;to&nbsp;their&nbsp;methods,&nbsp;I&nbsp;can&nbsp;verify&nbsp;that&nbsp;both&nbsp;are&nbsp;caught&nbsp;fine&nbsp;on&nbsp;Firefox.&lt;/div&gt;<br>
<br>
&lt;div&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;div&gt;However,&nbsp;on&nbsp;Internet&nbsp;Explorer&nbsp;-&nbsp;v&nbsp;6.0.2800&nbsp;on&nbsp;W2000,&nbsp;and&nbsp;7.0.6000&nbsp;on&nbsp;Vista&nbsp;-&amp;nbsp;neither&nbsp;of&nbsp;these&nbsp;2&nbsp;events&amp;nbsp;is&nbsp;trapped.&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;div&gt;Does&nbsp;anybody&nbsp;know&nbsp;whether&nbsp;this&nbsp;is&nbsp;a&nbsp;known&nbsp;problem&nbsp;with&nbsp;Athena&nbsp;on&nbsp;IE?&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;div&gt;(A&nbsp;further&nbsp;observation&nbsp;-&nbsp;the&nbsp;Athena&nbsp;test&nbsp;files&nbsp;TestInit.js&nbsp;and&nbsp;TestWidget.js&nbsp;both&nbsp;appear&nbsp;to&nbsp;have&nbsp;tests&nbsp;for&nbsp;onbeforeunload.&nbsp;Now,&nbsp;when&nbsp;I&nbsp;do&nbsp;&amp;#39;nit&nbsp;--port=9876&nbsp;nevow&amp;#39;&nbsp;and&nbsp;press&nbsp;&amp;quot;Run&nbsp;Tests&amp;quot;&nbsp;in&nbsp;the&nbsp;browser,&nbsp;these&nbsp;files&nbsp;do&nbsp;not&nbsp;seem&nbsp;to&nbsp;run.&nbsp;I&nbsp;don&amp;#39;t&nbsp;understand&nbsp;too&nbsp;much&nbsp;of&nbsp;the&nbsp;interactive&nbsp;unit&nbsp;tests&nbsp;yet,&nbsp;but&nbsp;I&nbsp;get&nbsp;a&nbsp;feeling&nbsp;that&nbsp;file&nbsp;livetest_athena.py&nbsp;would&nbsp;need&nbsp;to&nbsp;have&nbsp;a&nbsp;line&nbsp;like&nbsp;&amp;quot;jsClass&nbsp;=&nbsp;u&amp;#39;Nevow.Test..&amp;quot;&nbsp;for&nbsp;these&nbsp;2&nbsp;files&nbsp;to&nbsp;be&nbsp;found&nbsp;and&nbsp;executed,&nbsp;and&nbsp;it&nbsp;doesn&amp;#39;t.)&lt;/div&gt;<br>
<br>
&lt;div&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;div&gt;Getting&amp;nbsp;an&nbsp;answer&nbsp;to&amp;nbsp;this&nbsp;would&nbsp;really&nbsp;save&nbsp;some&nbsp;time.&nbsp;If&nbsp;not,&nbsp;I&amp;#39;ll&nbsp;go&nbsp;on&nbsp;digging&nbsp;throught&nbsp;the&nbsp;sources&nbsp;-&nbsp;it&amp;#39;s&nbsp;been&nbsp;educational&nbsp;so&nbsp;far&nbsp;:-)&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;div&gt;Regards,&lt;/div&gt;<br>
&lt;div&gt;Harald&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&lt;/div&gt;<br>

</tt>
