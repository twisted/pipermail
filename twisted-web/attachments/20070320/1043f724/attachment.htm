<tt>
&lt;br&gt;&lt;div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;&lt;br&gt;&lt;br&gt;Which&nbsp;version&nbsp;of&nbsp;cherrypy&nbsp;are&nbsp;you&nbsp;using?&amp;nbsp;&amp;nbsp;I&nbsp;did&nbsp;an&nbsp;easy_install&lt;br&gt;cherrypy&nbsp;and&nbsp;got&nbsp;<br>
3.0.1&nbsp;but&nbsp;your&nbsp;code&nbsp;didn&amp;#39;t&nbsp;work&nbsp;on&nbsp;it.&amp;nbsp;&amp;nbsp;wsgiApp&nbsp;is&lt;br&gt;somewhere&nbsp;else&nbsp;now&nbsp;or&nbsp;something.&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;OK,&nbsp;I&amp;#39;ve&nbsp;updated&nbsp;my&nbsp;test&nbsp;example&nbsp;to&nbsp;work&nbsp;with&nbsp;CherryPy&nbsp;3.0.&amp;nbsp;&nbsp;This&nbsp;works&nbsp;a&nbsp;bit&nbsp;better,&lt;br&gt;in&nbsp;fact,&nbsp;when&nbsp;I&nbsp;visit&nbsp;the&nbsp;root&nbsp;of&nbsp;the&nbsp;site&nbsp;I&nbsp;get&nbsp;my&nbsp;cherrypy&nbsp;application!&amp;nbsp;&nbsp;Since<br>
&lt;br&gt;I&amp;#39;m&nbsp;not&nbsp;tied&nbsp;to&nbsp;CherryPy&nbsp;2.2&nbsp;(unless&nbsp;TurboGears&nbsp;requires&nbsp;it)&nbsp;this&nbsp;&amp;#39;fixes&amp;#39;&nbsp;most&nbsp;of&nbsp;my&nbsp;problem.&lt;br&gt;I&amp;#39;m&nbsp;still&nbsp;having&nbsp;a&nbsp;problem&nbsp;if&nbsp;I&nbsp;access&nbsp;some&nbsp;URLs&nbsp;under&nbsp;the&nbsp;root,&nbsp;but&nbsp;I&nbsp;have&nbsp;yet&nbsp;to&nbsp;determine&nbsp;if&nbsp;it&amp;#39;s&nbsp;going<br>
&lt;br&gt;to&nbsp;be&nbsp;a&nbsp;problem.&lt;br&gt;&lt;br&gt;Here&amp;#39;s&nbsp;a&nbsp;CherryPy&nbsp;3.0.1&nbsp;application&nbsp;that&nbsp;works&nbsp;with&nbsp;Twisted&nbsp;web2&nbsp;using&nbsp;the&nbsp;WSGI&nbsp;app&nbsp;support.&lt;br&gt;&lt;br&gt;from&nbsp;twisted.internet&nbsp;import&nbsp;reactor&lt;br&gt;from&nbsp;twisted.application&nbsp;import&nbsp;service,&nbsp;strports<br>
&lt;br&gt;from&nbsp;twisted.web2&nbsp;import&nbsp;server,&nbsp;channel&lt;br&gt;from&nbsp;twisted.web2&nbsp;import&nbsp;log&lt;br&gt;from&nbsp;twisted.web2&nbsp;import&nbsp;wsgi&lt;br&gt;from&nbsp;twisted.web2.wsgi&nbsp;import&nbsp;WSGIResource&lt;br&gt;import&nbsp;cherrypy&lt;br&gt;&lt;br&gt;##&nbsp;Basic&nbsp;cherrypy&nbsp;index&nbsp;object&nbsp;that&nbsp;dumps&nbsp;the&nbsp;WSGI&nbsp;environment<br>
&lt;br&gt;class&nbsp;Root(object):&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;@cherrypy.expose&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;def&nbsp;index(self):&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;s&nbsp;=&nbsp;[]&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;for&nbsp;key&nbsp;in&nbsp;cherrypy.request.wsgi_environ:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;s.append(&amp;quot;%s=%s&amp;lt;br/&amp;gt;&amp;quot;&nbsp;%&nbsp;(key,&nbsp;cherrypy.request.wsgi_environ<br>
[key]))&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;&amp;quot;&amp;quot;.join(s)&lt;br&gt;&lt;br&gt;##&nbsp;Create&nbsp;an&nbsp;instance&nbsp;of&nbsp;the&nbsp;root&nbsp;application&nbsp;and&nbsp;mount&nbsp;it&nbsp;at&nbsp;/&lt;br&gt;r&nbsp;=&nbsp;Root()&lt;br&gt;&lt;br&gt;##&nbsp;Convert&nbsp;the&nbsp;Root&nbsp;application&nbsp;to&nbsp;a&nbsp;hostable&nbsp;WSGI&nbsp;application&lt;br&gt;cpwsgiapp&nbsp;=&nbsp;<br>
cherrypy.Application(Root(),&nbsp;&amp;#39;/&amp;#39;)&lt;br&gt;&lt;br&gt;##&nbsp;Convert&nbsp;the&nbsp;CherryPy&nbsp;WSGI&nbsp;app&nbsp;to&nbsp;a&nbsp;Twisted&nbsp;WSGI&nbsp;resource&lt;br&gt;wsgi&nbsp;=&nbsp;wsgi.WSGIResource(cpwsgiapp)&lt;br&gt;&lt;br&gt;##&nbsp;Set&nbsp;up&nbsp;the&nbsp;cherrypy&nbsp;environment&lt;br&gt;cherrypy.config.update({&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;#39;server.environment&amp;#39;:&amp;#39;production&amp;#39;,&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;})&lt;br&gt;&lt;br&gt;##&nbsp;Start&nbsp;the&nbsp;cherrypy&nbsp;engine&nbsp;without&nbsp;starting&nbsp;a&nbsp;blocking&nbsp;server&lt;br&gt;cherrypy.engine.start(blocking=False)&lt;br&gt;&lt;br&gt;##&nbsp;Setup&nbsp;default&nbsp;common&nbsp;access&nbsp;logging<br>
&lt;br&gt;res&nbsp;=&nbsp;log.LogWrapperResource(wsgi)&lt;br&gt;log.DefaultCommonAccessLoggingObserver().start()&lt;br&gt;&lt;br&gt;#&nbsp;Create&nbsp;twisted&nbsp;web2&nbsp;site&lt;br&gt;site&nbsp;=&nbsp;server.Site(res)&lt;br&gt;&lt;br&gt;##&nbsp;Launch&nbsp;the&nbsp;HTTP&nbsp;site&nbsp;at&nbsp;port&nbsp;8080&lt;br&gt;&lt;br&gt;##&nbsp;code&nbsp;path&nbsp;invoked&nbsp;by&nbsp;twistd<br>
&lt;br&gt;if&nbsp;__name__&nbsp;==&nbsp;&amp;#39;__builtin__&amp;#39;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;application&nbsp;=&nbsp;service.Application(&amp;quot;demo&amp;quot;)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;s&nbsp;=&nbsp;strports.service(&amp;#39;tcp:8080&amp;#39;,&nbsp;channel.HTTPFactory(site))&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;s.setServiceParent(application)&lt;br&gt;&lt;br&gt;<br>
##&nbsp;code&nbsp;path&nbsp;when&nbsp;run&nbsp;directly&lt;br&gt;if&nbsp;__name__&nbsp;==&nbsp;&amp;#39;__main__&amp;#39;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;from&nbsp;twisted.python&nbsp;import&nbsp;log&nbsp;as&nbsp;pythonlog&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;import&nbsp;sys&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;pythonlog.startLogging(sys.stdout)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;reactor.listenTCP(8080,&nbsp;channel.HTTPFactory<br>
(site))&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;reactor.run()&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
