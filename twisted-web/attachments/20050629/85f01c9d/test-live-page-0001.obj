

from nevow import livepage, appserver, loaders

class TestLivePage(livepage.LivePage):
    addSlash = True
    docFactory = loaders.xmlstr("""<html xmlns:n="http://nevow.com/ns/nevow/0.1">
    <head>
        <div n:render="liveid" />
        <div n:render="liveglue" />
    </head>
    <body>
        <ol>
            <li onclick="server.handle('click', 'one')">One</li>
            <li onclick="server.handle('click', 'two')">Two</li>
            <li onclick="server.handle('click', 'three')">Three</li>
        </ol>
    </body>
</html>""")

    def handle_click(self, ctx, whichNode):
        return livepage.alert("Greetings. You clicked the %s node." % whichNode)


from twisted.application import service, strports
application = service.Application('test-live-page')
strports.service("8080", appserver.NevowSite(TestLivePage())).setServiceParent(application)

