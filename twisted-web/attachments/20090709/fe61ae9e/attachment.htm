<tt>
&lt;div&gt;Thanks,&nbsp;Colin.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In&nbsp;my&nbsp;case,&nbsp;I&nbsp;have&nbsp;to&nbsp;take&nbsp;2&nbsp;steps&nbsp;to&nbsp;get&nbsp;data&nbsp;from&nbsp;database.&lt;/div&gt;&lt;div&gt;1.&nbsp;execute&nbsp;sql,&nbsp;get&nbsp;a DeferredResult&nbsp;instance.&lt;/div&gt;&lt;div&gt;2.&nbsp;use DeferredResult.get_all/one()&nbsp;to&nbsp;get&nbsp;the&nbsp;real&nbsp;data.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;it&nbsp;is&nbsp;a&nbsp;more&nbsp;complicated&nbsp;process&nbsp;than&nbsp;just&nbsp;one&nbsp;deferred.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Code:&lt;/div&gt;&lt;div&gt;def&nbsp;test_execute(self):&lt;/div&gt;&lt;div&gt;  &nbsp; def&nbsp;cb_execute(result):&lt;/div&gt;&lt;div&gt;  &nbsp; &nbsp; &nbsp; #this&nbsp;result&nbsp;is&nbsp;a DeferredResult,&nbsp;not&nbsp;the&nbsp;actual&nbsp;data.&lt;/div&gt;<br>
&lt;div&gt;  &nbsp; &nbsp; &nbsp; return&nbsp;result.get_one().addCallback(cb_result)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;  &nbsp; def&nbsp;cb_result(result):&lt;/div&gt;&lt;div&gt;  &nbsp; &nbsp; &nbsp; #the&nbsp;data&nbsp;returns&lt;/div&gt;&lt;div&gt;  &nbsp; &nbsp; &nbsp;  print&nbsp;result&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;  &nbsp; self.store.execute(&amp;quot;SELECT&nbsp;title&nbsp;FROM&nbsp;foo&nbsp;WHERE&nbsp;id=10&amp;quot;).addCallback(cb_execute)&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;  &nbsp; return&nbsp;?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;What&nbsp;should&nbsp;I&nbsp;return?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;execute&nbsp;sql&nbsp;statements&nbsp;directly&nbsp;using&nbsp;store.&nbsp;Possibly&nbsp;it&nbsp;is&nbsp;not&nbsp;a&nbsp;good&nbsp;choice.&lt;/div&gt;&lt;div&gt;If&nbsp;I&nbsp;use&nbsp;the&nbsp;ORM&nbsp;way:&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;  &nbsp; def&nbsp;test_get(self):&lt;/div&gt;&lt;div&gt;  &nbsp; &nbsp; &nbsp; &amp;quot;&amp;quot;&amp;quot;&lt;/div&gt;&lt;div&gt;  &nbsp; &nbsp; &nbsp; Try&nbsp;to&nbsp;get&nbsp;an&nbsp;object&nbsp;from&nbsp;the&nbsp;store&nbsp;and&nbsp;check&nbsp;its&nbsp;attributes.&lt;/div&gt;&lt;div&gt;  &nbsp; &nbsp; &nbsp; &amp;quot;&amp;quot;&amp;quot;&lt;/div&gt;&lt;div&gt;  &nbsp; &nbsp; &nbsp; def&nbsp;cb(result):&lt;/div&gt;<br>
&lt;div&gt;  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; self.assertEquals(result.title,&nbsp;u&amp;#39;Title&nbsp;30&amp;#39;)&lt;/div&gt;&lt;div&gt;  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; self.assertEquals(&lt;a&nbsp;href=&quot;http://result.id&quot;&gt;result.id&lt;/a&gt;,&nbsp;10)&lt;/div&gt;&lt;div&gt;  &nbsp; &nbsp; &nbsp; return&nbsp;self.store.get(Foo,&nbsp;10).addCallback(cb)&lt;/div&gt;<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;That&amp;#39;d&nbsp;be&nbsp;much&nbsp;easier.&lt;/div&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Jul&nbsp;8,&nbsp;2009&nbsp;at&nbsp;11:22&nbsp;PM,&nbsp;Colin&nbsp;Alston&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:karnaugh@karnaugh.za.net&quot;&gt;karnaugh@karnaugh.za.net&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Jul&nbsp;8,&nbsp;2009&nbsp;at&nbsp;5:21&nbsp;PM,&nbsp;Colin&nbsp;Alston&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:karnaugh@karnaugh.za.net&quot;&nbsp;target=&quot;_blank&quot;&gt;karnaugh@karnaugh.za.net&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);margin:0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;padding-left:1ex&quot;&gt;<br>
&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&gt;On&nbsp;Wed,&nbsp;Jul&nbsp;8,&nbsp;2009&nbsp;at&nbsp;4:59&nbsp;PM,&nbsp;Daniel&nbsp;Yang&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:daniel.yang.zhenyu@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;daniel.yang.zhenyu@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);margin:0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;padding-left:1ex&quot;&gt;<br>
&lt;div&gt;Hi&nbsp;people,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;am&nbsp;using&nbsp;storm&nbsp;orm(&lt;span&nbsp;style=&quot;font-family:&amp;#39;Lucida&nbsp;Grande&amp;#39;;font-size:12px&quot;&gt;twisted-integration&lt;span&nbsp;style=&quot;font-family:arial;font-size:small&quot;&gt;)&nbsp;with&nbsp;Nevow.&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;<br>
<br>
<br>
<br>
&lt;div&gt;There&nbsp;is&nbsp;a&nbsp;question&nbsp;that&nbsp;confuses&nbsp;me&nbsp;a&nbsp;lot:&lt;/div&gt;&lt;div&gt;(since&nbsp;storm&nbsp;orm(&lt;span&nbsp;style=&quot;font-family:&amp;#39;Lucida&nbsp;Grande&amp;#39;;font-size:12px&quot;&gt;twisted-integration&lt;span&nbsp;style=&quot;font-family:arial;font-size:small&quot;&gt;)&nbsp;does&nbsp;db&nbsp;io&nbsp;in&nbsp;a &lt;span&nbsp;style=&quot;font-family:verdana,arial,&amp;#39;Bitstream&nbsp;Vera&nbsp;Sans&amp;#39;,helvetica,sans-serif;font-size:13px&quot;&gt;asynchronous&nbsp;way).&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;<br>
<br>
<br>
<br>
&lt;div&gt;In&nbsp;a&nbsp;render&nbsp;function,&nbsp;before&nbsp;my&nbsp;data&nbsp;returns,&nbsp;what&nbsp;should&nbsp;I&nbsp;return&nbsp;for&nbsp;the&nbsp;render&nbsp;function?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;does&nbsp;Nevow&nbsp;has&nbsp;something&nbsp;like&nbsp;server.NOT_DONE_YET?&lt;/div&gt;&lt;div&gt;or&nbsp;there&nbsp;is&nbsp;a&nbsp;&amp;quot;deferred&amp;quot;&nbsp;way&nbsp;to&nbsp;do&nbsp;this?&lt;/div&gt;<br>
<br>
<br>
<br>
&lt;div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;Hi,&nbsp;&lt;br&gt;&lt;br&gt;You&nbsp;can&nbsp;simply&nbsp;use&nbsp;a&nbsp;deferred&nbsp;in&nbsp;any&nbsp;render&nbsp;function&nbsp;as&nbsp;you&nbsp;would&nbsp;expect.&nbsp;Nevow&nbsp;deals&nbsp;with&nbsp;this&nbsp;for&nbsp;you.&lt;br&gt;&lt;br&gt;def&nbsp;render_foo(self,&nbsp;ctx,&nbsp;data):&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;/div&gt;Wow..&nbsp;Google&nbsp;mail&nbsp;fails&nbsp;and&nbsp;I&amp;#39;m&nbsp;too&nbsp;used&nbsp;to&nbsp;using&nbsp;TAB&nbsp;when&nbsp;writing&nbsp;code... &nbsp;&lt;br&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;def&nbsp;render_foo(self,&nbsp;ctx,&nbsp;data):&lt;br&gt;&lt;/div&gt;  &nbsp;def&nbsp;continueRendering(results):&lt;br&gt;      &nbsp;#&nbsp;do&nbsp;something&nbsp;with&nbsp;results&lt;br&gt;<br>
      &nbsp;return&nbsp;ctx.tag[whatever]&lt;br&gt;<br>
   &nbsp;&lt;br&gt;  &nbsp;return&nbsp;myDeferredDatabaseQuery(some&nbsp;args).addBoth(continueRendering)&lt;br&gt;&lt;br&gt;&lt;br&gt;<br>
&lt;br&gt;_______________________________________________&lt;br&gt;<br>
Twisted-web&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Twisted-web@twistedmatrix.com&quot;&gt;Twisted-web@twistedmatrix.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;br&gt;--&nbsp;&lt;br&gt;-----------------------------------------------&lt;br&gt;Yours&lt;br&gt;Faithfully&lt;br&gt;&lt;br&gt;Daniel&nbsp;Yang&lt;br&gt;<br>

</tt>
