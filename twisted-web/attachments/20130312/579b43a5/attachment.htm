<tt>
&lt;html&gt;&lt;head&gt;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html&nbsp;charset=iso-8859-1&quot;&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&quot;&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;On&nbsp;Mar&nbsp;12,&nbsp;2013,&nbsp;at&nbsp;3:15&nbsp;AM,&nbsp;A&nbsp;Desai&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:ardesai@yahoo.com&quot;&gt;ardesai@yahoo.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&nbsp;style=&quot;letter-spacing:&nbsp;normal;&nbsp;orphans:&nbsp;auto;&nbsp;text-align:&nbsp;start;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;widows:&nbsp;auto;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-text-size-adjust:&nbsp;auto;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&quot;&gt;&lt;div&nbsp;style=&quot;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&nbsp;font-family:&nbsp;'times&nbsp;new&nbsp;roman',&nbsp;'new&nbsp;york',&nbsp;times,&nbsp;serif;&nbsp;font-size:&nbsp;12pt;&nbsp;position:&nbsp;static;&nbsp;z-index:&nbsp;auto;&quot;&gt;&lt;div&gt;Scenario:&amp;nbsp;&nbsp;TCP&nbsp;Receive&nbsp;Buffer&nbsp;on&nbsp;twisted&nbsp;HTTP&nbsp;server&nbsp;using&nbsp;the&nbsp;twisted&nbsp;application&nbsp;framework.&amp;nbsp;&nbsp;And&nbsp;its&nbsp;behavior&nbsp;when&nbsp;set&nbsp;up&nbsp;as&nbsp;producer/consumer.&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:&nbsp;16px;&nbsp;font-family:&nbsp;'times&nbsp;new&nbsp;roman',&nbsp;'new&nbsp;york',&nbsp;times,&nbsp;serif;&nbsp;background-color:&nbsp;transparent;&nbsp;font-style:&nbsp;normal;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:&nbsp;16px;&nbsp;font-family:&nbsp;'times&nbsp;new&nbsp;roman',&nbsp;'new&nbsp;york',&nbsp;times,&nbsp;serif;&nbsp;background-color:&nbsp;transparent;&nbsp;font-style:&nbsp;normal;&quot;&gt;(1)&nbsp;Would&nbsp;like&nbsp;to&nbsp;set&nbsp;the&nbsp;receive&nbsp;buffer&nbsp;size&nbsp;on&nbsp;socket.&amp;nbsp;&nbsp;One&nbsp;way&nbsp;to&nbsp;do&nbsp;this&nbsp;would&nbsp;be&nbsp;to&nbsp;create&nbsp;a&nbsp;derived&nbsp;class&nbsp;of&nbsp;TCPServer&nbsp;(or&nbsp;SSLServer)&nbsp;and&nbsp;set&nbsp;the&nbsp;buffer&nbsp;size&nbsp;and&nbsp;use&nbsp;derived&nbsp;class&nbsp;server&nbsp;in&nbsp;the&nbsp;.tac&nbsp;file.&amp;nbsp;&nbsp;Would&nbsp;like&nbsp;to&nbsp;know&nbsp;if&nbsp;there&nbsp;is&nbsp;any&nbsp;sample&nbsp;code&nbsp;for&nbsp;such&nbsp;usage?&amp;nbsp;&nbsp;For&nbsp;example,&nbsp;in&nbsp;which&nbsp;method&nbsp;of&nbsp;the&nbsp;derived&nbsp;class&nbsp;would&nbsp;one&nbsp;set&nbsp;the&nbsp;receive&nbsp;buffer&nbsp;size?&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;You&nbsp;don't&nbsp;need&nbsp;to&nbsp;subclass&nbsp;these&nbsp;classes;&nbsp;and&nbsp;in&nbsp;any&nbsp;event,&nbsp;it&nbsp;wouldn't&nbsp;help,&nbsp;TCPServer&nbsp;and&nbsp;SSLServer&nbsp;don't&nbsp;have&nbsp;connections&nbsp;of&nbsp;their&nbsp;own,&nbsp;they're&nbsp;services&nbsp;that&nbsp;hold&nbsp;&lt;i&gt;listening&lt;/i&gt;&nbsp;sockets,&nbsp;not&nbsp;connected&nbsp;sockets.&nbsp;&amp;nbsp;If&nbsp;you&nbsp;want&nbsp;to&nbsp;set&nbsp;an&nbsp;option&nbsp;unsupported&nbsp;by&nbsp;Twisted,&nbsp;&quot;transport.getHandle()&quot;&nbsp;will&nbsp;give&nbsp;you&nbsp;the&nbsp;Python&nbsp;socket&nbsp;object&nbsp;(on&nbsp;those&nbsp;reactors&nbsp;which&nbsp;use&nbsp;socket&nbsp;objects&nbsp;internally,&nbsp;which&nbsp;is&nbsp;most&nbsp;of&nbsp;them).&nbsp;&amp;nbsp;You&nbsp;can&nbsp;just&nbsp;set&nbsp;SO_RCVBUF&nbsp;on&nbsp;that&nbsp;socket&nbsp;from&nbsp;your&nbsp;Protocol&nbsp;class.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Also,&nbsp;this&nbsp;ticket&nbsp;may&nbsp;be&nbsp;of&nbsp;interest&nbsp;to&nbsp;you:&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;https://twistedmatrix.com/trac/ticket/4089&quot;&gt;https://twistedmatrix.com/trac/ticket/4089&lt;/a&gt;&amp;gt;.&nbsp;&amp;nbsp;Tuning&nbsp;send&nbsp;and&nbsp;receive&nbsp;buffers&nbsp;&lt;i&gt;should&lt;/i&gt;&amp;nbsp;be&nbsp;more&nbsp;explicitly&nbsp;supported&nbsp;by&nbsp;Twisted.&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&nbsp;style=&quot;letter-spacing:&nbsp;normal;&nbsp;orphans:&nbsp;auto;&nbsp;text-align:&nbsp;start;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;widows:&nbsp;auto;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-text-size-adjust:&nbsp;auto;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&quot;&gt;&lt;div&nbsp;style=&quot;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&nbsp;font-family:&nbsp;'times&nbsp;new&nbsp;roman',&nbsp;'new&nbsp;york',&nbsp;times,&nbsp;serif;&nbsp;font-size:&nbsp;12pt;&nbsp;position:&nbsp;relative;&nbsp;z-index:&nbsp;0;&quot;&gt;&lt;div&nbsp;style=&quot;font-size:&nbsp;16px;&nbsp;font-family:&nbsp;'times&nbsp;new&nbsp;roman',&nbsp;'new&nbsp;york',&nbsp;times,&nbsp;serif;&nbsp;background-color:&nbsp;transparent;&nbsp;font-style:&nbsp;normal;&quot;&gt;(2)&nbsp;When&nbsp;an&nbsp;incoming&nbsp;http&nbsp;POST&nbsp;request&nbsp;is&nbsp;acting&nbsp;as&nbsp;a&nbsp;producer&nbsp;of&nbsp;data,&nbsp;which&nbsp;is&nbsp;tied&nbsp;to&nbsp;a&nbsp;consumer&nbsp;resource&nbsp;(some&nbsp;other&nbsp;connection),&nbsp;how&nbsp;can&nbsp;I&nbsp;control&nbsp;the&nbsp;incoming&nbsp;tcp&nbsp;window&nbsp;size,&nbsp;if&nbsp;the&nbsp;consumer&nbsp;has&nbsp;paused&nbsp;consuming?&amp;nbsp;&nbsp;I&nbsp;presume&nbsp;the&nbsp;incoming&nbsp;network&nbsp;data&nbsp;will&nbsp;keep&nbsp;piling&nbsp;up&nbsp;in&nbsp;the&nbsp;'huge'&nbsp;tcp&nbsp;buffer&nbsp;eventually&nbsp;advertising&nbsp;a&nbsp;'tcp&nbsp;zero&nbsp;window'&nbsp;to&nbsp;the&nbsp;network&nbsp;peer&nbsp;of&nbsp;the&nbsp;data&nbsp;producer,&nbsp;AND&nbsp;the&nbsp;server&nbsp;ends&nbsp;up&nbsp;using&nbsp;up&nbsp;a&nbsp;large&nbsp;amount&nbsp;of&nbsp;memory&nbsp;for&nbsp;the&nbsp;paused&nbsp;connection.&amp;nbsp;&nbsp;Is&nbsp;there&nbsp;an&nbsp;alternative?&amp;nbsp;&nbsp;I&nbsp;realize&nbsp;that&nbsp;the&nbsp;TCP&nbsp;protocol&nbsp;inhibits&nbsp;'reducing&nbsp;of&nbsp;an&nbsp;already&nbsp;advertised&nbsp;receive&nbsp;window',&nbsp;but&nbsp;I&nbsp;am&nbsp;wondering&nbsp;if&nbsp;pauseProducing()&nbsp;on&nbsp;an&nbsp;http&nbsp;channel&nbsp;could&nbsp;do&nbsp;something&nbsp;to&nbsp;at&nbsp;least&nbsp;prevent&nbsp;the&nbsp;tcp&nbsp;window&nbsp;size&nbsp;from&nbsp;increasing&nbsp;any&nbsp;further?&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;don't&nbsp;know&nbsp;that&nbsp;much&nbsp;about&nbsp;window&nbsp;scaling,&nbsp;but&nbsp;won't&nbsp;the&nbsp;fact&nbsp;that&nbsp;the&nbsp;application&nbsp;isn't&nbsp;receiving&nbsp;any&nbsp;data&nbsp;from&nbsp;the&nbsp;kernel&nbsp;automatically&nbsp;prevent&nbsp;the&nbsp;window&nbsp;from&nbsp;scaling&nbsp;any&nbsp;bigger?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-glyph&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
