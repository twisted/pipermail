<tt>
&lt;html&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;On&nbsp;4&nbsp;Jul&nbsp;2009,&nbsp;at&nbsp;08:34,&nbsp;Michał&nbsp;Pasternak&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;border-collapse:&nbsp;separate;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;Helvetica;&nbsp;font-size:&nbsp;medium;&nbsp;font-style:&nbsp;normal;&nbsp;font-variant:&nbsp;normal;&nbsp;font-weight:&nbsp;normal;&nbsp;letter-spacing:&nbsp;normal;&nbsp;line-height:&nbsp;normal;&nbsp;orphans:&nbsp;2;&nbsp;text-align:&nbsp;auto;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;widows:&nbsp;2;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-border-horizontal-spacing:&nbsp;0px;&nbsp;-webkit-border-vertical-spacing:&nbsp;0px;&nbsp;-webkit-text-decorations-in-effect:&nbsp;none;&nbsp;-webkit-text-size-adjust:&nbsp;auto;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&nbsp;&quot;&gt;&lt;div&nbsp;lang=&quot;PL&quot;&nbsp;link=&quot;blue&quot;&nbsp;vlink=&quot;purple&quot;&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;&lt;div&nbsp;class=&quot;Section1&quot;&gt;&lt;div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0cm;&nbsp;margin-right:&nbsp;0cm;&nbsp;margin-bottom:&nbsp;0.0001pt;&nbsp;margin-left:&nbsp;0cm;&nbsp;font-size:&nbsp;12pt;&nbsp;font-family:&nbsp;'Times&nbsp;New&nbsp;Roman',&nbsp;serif;&nbsp;&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&nbsp;style=&quot;font-size:&nbsp;11pt;&nbsp;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;color:&nbsp;rgb(31,&nbsp;73,&nbsp;125);&nbsp;&quot;&gt;Hi,&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0cm;&nbsp;margin-right:&nbsp;0cm;&nbsp;margin-bottom:&nbsp;0.0001pt;&nbsp;margin-left:&nbsp;0cm;&nbsp;font-size:&nbsp;12pt;&nbsp;font-family:&nbsp;'Times&nbsp;New&nbsp;Roman',&nbsp;serif;&nbsp;&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&nbsp;style=&quot;font-size:&nbsp;11pt;&nbsp;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;color:&nbsp;rgb(31,&nbsp;73,&nbsp;125);&nbsp;&quot;&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0cm;&nbsp;margin-right:&nbsp;0cm;&nbsp;margin-bottom:&nbsp;0.0001pt;&nbsp;margin-left:&nbsp;0cm;&nbsp;font-size:&nbsp;12pt;&nbsp;font-family:&nbsp;'Times&nbsp;New&nbsp;Roman',&nbsp;serif;&nbsp;&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&nbsp;style=&quot;font-size:&nbsp;11pt;&nbsp;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;color:&nbsp;rgb(31,&nbsp;73,&nbsp;125);&nbsp;&quot;&gt;as&nbsp;you&nbsp;can&nbsp;see&nbsp;here:&lt;span&nbsp;class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;a&nbsp;href=&quot;http://www.divmod.org/trac/browser/trunk/Nevow/nevow/athena.py#L800&quot;&nbsp;style=&quot;color:&nbsp;blue;&nbsp;text-decoration:&nbsp;underline;&nbsp;&quot;&gt;http://www.divmod.org/trac/browser/trunk/Nevow/nevow/athena.py#L800&lt;/a&gt;&amp;nbsp;&nbsp;,&nbsp;if&nbsp;incomingMessages&nbsp;is&nbsp;a&nbsp;very,&nbsp;very&nbsp;long&nbsp;list,&nbsp;chances&nbsp;are,&nbsp;that&nbsp;it&nbsp;will&nbsp;block&nbsp;for&nbsp;a&nbsp;small&nbsp;amount&nbsp;of&nbsp;time.&nbsp;Also,&nbsp;if&nbsp;you&nbsp;happen&nbsp;to&nbsp;run&nbsp;the&nbsp;web&nbsp;server&nbsp;interactively,&nbsp;calling&nbsp;a&nbsp;lot&nbsp;of&nbsp;log.msg(…)&nbsp;functions&nbsp;will&nbsp;print&nbsp;out&nbsp;a&nbsp;lot&nbsp;of&nbsp;stuff&nbsp;on&nbsp;the&nbsp;console,&nbsp;which&nbsp;will&nbsp;also&nbsp;take&nbsp;some&nbsp;CPU&nbsp;cycles&nbsp;and&nbsp;GUI&nbsp;resources[1].&nbsp;I&nbsp;think&nbsp;the&nbsp;best&nbsp;approach&nbsp;would&nbsp;be&nbsp;first&nbsp;to&nbsp;remove&nbsp;lines&nbsp;803&nbsp;–&nbsp;806&nbsp;(“else:&nbsp;log.msg(…)”)&nbsp;and&nbsp;test&nbsp;if&nbsp;the&nbsp;problem&nbsp;of&nbsp;browser&nbsp;lagging&nbsp;still&nbsp;exists&nbsp;–&nbsp;of&nbsp;course&nbsp;if&nbsp;you&nbsp;run&nbsp;server&nbsp;and&nbsp;browser&nbsp;on&nbsp;the&nbsp;same&nbsp;machine.&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0cm;&nbsp;margin-right:&nbsp;0cm;&nbsp;margin-bottom:&nbsp;0.0001pt;&nbsp;margin-left:&nbsp;0cm;&nbsp;font-size:&nbsp;12pt;&nbsp;font-family:&nbsp;'Times&nbsp;New&nbsp;Roman',&nbsp;serif;&nbsp;&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&nbsp;style=&quot;font-size:&nbsp;11pt;&nbsp;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;color:&nbsp;rgb(31,&nbsp;73,&nbsp;125);&nbsp;&quot;&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0cm;&nbsp;margin-right:&nbsp;0cm;&nbsp;margin-bottom:&nbsp;0.0001pt;&nbsp;margin-left:&nbsp;0cm;&nbsp;font-size:&nbsp;12pt;&nbsp;font-family:&nbsp;'Times&nbsp;New&nbsp;Roman',&nbsp;serif;&nbsp;&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&nbsp;style=&quot;font-size:&nbsp;11pt;&nbsp;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;color:&nbsp;rgb(31,&nbsp;73,&nbsp;125);&nbsp;&quot;&gt;There&nbsp;are&nbsp;some&nbsp;cases,&nbsp;which&nbsp;may&nbsp;lead&nbsp;to&nbsp;accumulation&nbsp;of&nbsp;the&nbsp;messages&nbsp;on&nbsp;client,&nbsp;which&nbsp;then&nbsp;lead&nbsp;to&nbsp;lags&nbsp;on&nbsp;the&nbsp;client&nbsp;side&nbsp;(and&nbsp;a&nbsp;lots&nbsp;of&nbsp;log&nbsp;messages&nbsp;on&nbsp;the&nbsp;server).&nbsp;Those&nbsp;may&nbsp;be&nbsp;bugs&nbsp;in&nbsp;the&nbsp;application&nbsp;code,&nbsp;but&nbsp;I&nbsp;think&nbsp;some&nbsp;of&nbsp;those&nbsp;cases&nbsp;are&nbsp;browser-dependent&nbsp;too&nbsp;(for&nbsp;some&nbsp;code&nbsp;I&nbsp;tested,&nbsp;Google&nbsp;Chrome&nbsp;sent&nbsp;a&nbsp;lot&nbsp;of&nbsp;duplicate&nbsp;messages,&nbsp;while&nbsp;Firefox&nbsp;sent&nbsp;none).&nbsp;Some&nbsp;people&nbsp;say,&nbsp;that&nbsp;duplicate&nbsp;messages&nbsp;phenomenon&nbsp;may&nbsp;be&nbsp;even&nbsp;extension-dependent,&nbsp;as&nbsp;in&nbsp;case&nbsp;of&nbsp;Firefox&nbsp;with&nbsp;FireBug&nbsp;enabled.&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0cm;&nbsp;margin-right:&nbsp;0cm;&nbsp;margin-bottom:&nbsp;0.0001pt;&nbsp;margin-left:&nbsp;0cm;&nbsp;font-size:&nbsp;12pt;&nbsp;font-family:&nbsp;'Times&nbsp;New&nbsp;Roman',&nbsp;serif;&nbsp;&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&nbsp;style=&quot;font-size:&nbsp;11pt;&nbsp;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;color:&nbsp;rgb(31,&nbsp;73,&nbsp;125);&nbsp;&quot;&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0cm;&nbsp;margin-right:&nbsp;0cm;&nbsp;margin-bottom:&nbsp;0.0001pt;&nbsp;margin-left:&nbsp;0cm;&nbsp;font-size:&nbsp;12pt;&nbsp;font-family:&nbsp;'Times&nbsp;New&nbsp;Roman',&nbsp;serif;&nbsp;&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&nbsp;style=&quot;font-size:&nbsp;11pt;&nbsp;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;color:&nbsp;rgb(31,&nbsp;73,&nbsp;125);&nbsp;&quot;&gt;Unfortunately,&nbsp;it&nbsp;seems&nbsp;that&nbsp;none&nbsp;of&nbsp;us&nbsp;is&nbsp;able&nbsp;to&nbsp;provide&nbsp;a&nbsp;minimal&nbsp;code&nbsp;sample&nbsp;of&nbsp;described&nbsp;misbehavior.&nbsp;Maybe&nbsp;it&nbsp;would&nbsp;be&nbsp;better&nbsp;just&nbsp;to&nbsp;disable&nbsp;those&nbsp;log&nbsp;messages&nbsp;in&nbsp;the&nbsp;release&nbsp;builds&nbsp;or&nbsp;make&nbsp;them&nbsp;optional?&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I'll&nbsp;certainly&nbsp;look&nbsp;into&nbsp;this,&nbsp;but&nbsp;I&nbsp;believe&nbsp;that&nbsp;the&nbsp;system&nbsp;causing&nbsp;concern&nbsp;was&nbsp;run&nbsp;without&nbsp;a&nbsp;controlling&nbsp;terminal&nbsp;-&nbsp;and&nbsp;I&nbsp;have&nbsp;a&nbsp;suspicion&nbsp;that&nbsp;the&nbsp;offending&nbsp;log&nbsp;was&nbsp;even&nbsp;removed.&nbsp;The&nbsp;system&nbsp;is&nbsp;IO&nbsp;intensive&nbsp;though&nbsp;(hence&nbsp;using&nbsp;twisted&nbsp;in&nbsp;the&nbsp;first&nbsp;place)&nbsp;and&nbsp;we&nbsp;have&nbsp;had&nbsp;instances&nbsp;in&nbsp;the&nbsp;past&nbsp;of&nbsp;accidentally&nbsp;using&nbsp;blocking&nbsp;calls.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I'll&nbsp;report&nbsp;back&nbsp;in&nbsp;a&nbsp;few&nbsp;weeks&nbsp;if&nbsp;we&nbsp;get&nbsp;some&nbsp;real&nbsp;tests&nbsp;going.&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
