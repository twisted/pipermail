<tt>
Hi&nbsp;all,&lt;br&gt;I&amp;#39;m&nbsp;a&nbsp;complete&nbsp;Twisted&nbsp;newcomer,&nbsp;so&nbsp;still&nbsp;getting&nbsp;to&nbsp;grips&nbsp;with&nbsp;the&nbsp;ways&nbsp;thing&nbsp;work..&lt;br&gt;&lt;br&gt;What&nbsp;I&amp;#39;m&nbsp;trying&nbsp;to&nbsp;do&nbsp;is&nbsp;submit&nbsp;a&nbsp;POST&nbsp;request&nbsp;when&nbsp;I&nbsp;receive&nbsp;email&nbsp;into&nbsp;my&nbsp;SMTP&nbsp;server.&lt;br&gt;&lt;br&gt;At&nbsp;the&nbsp;moment,&nbsp;I&amp;#39;ve&nbsp;basically&nbsp;modified&nbsp;<br>
emailserver.tac&nbsp;from&nbsp;the&nbsp;examples&nbsp;(&lt;a&nbsp;href=&quot;http://twistedmatrix.com/projects/mail/documentation/examples/emailserver.tac&quot;&gt;http://twistedmatrix.com/projects/mail/documentation/examples/emailserver.tac&lt;/a&gt;)&lt;br&gt;&lt;br&gt;My&nbsp;eomReceived&nbsp;message&nbsp;has&nbsp;this&nbsp;code&nbsp;added&nbsp;to&nbsp;it:<br>
&lt;br&gt;...&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;client&nbsp;=&nbsp;getPage(url=&amp;#39;&lt;a&nbsp;href=&quot;http://localhost:8080/message_event_notify&quot;&gt;http://localhost:8080/message_event_notify&lt;/a&gt;&amp;#39;,&nbsp;method=&amp;#39;POST&amp;#39;,&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;postdata=urlencode(postdata),&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;headers={&nbsp;&amp;#39;Content-Type&amp;#39;:&nbsp;&amp;#39;application/x-www-form-urlencoded&amp;#39;&nbsp;}&nbsp;)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;client.addCallback(self.success)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;client.addErrback(self.failure)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;reactor.run()&lt;br&gt;&lt;br&gt;...&lt;br&gt;&lt;br&gt;<br>
The&nbsp;POST&nbsp;request&nbsp;is&nbsp;received&nbsp;and&nbsp;processed&nbsp;as&nbsp;expected,&nbsp;and&nbsp;the&nbsp;success&nbsp;method&nbsp;is&nbsp;invoked,&nbsp;but&nbsp;then&nbsp;the&nbsp;server&nbsp;stacktraces&nbsp;and&nbsp;halts,&nbsp;while&nbsp;the&nbsp;SMTP&nbsp;sender&nbsp;client&nbsp;never&nbsp;completes.&nbsp;The&nbsp;server&nbsp;stacktrace:&lt;br&gt;2007/12/08&nbsp;23:50&nbsp;+0100&nbsp;[SMTP,0,<br>
&lt;a&nbsp;href=&quot;http://127.0.0.1&quot;&gt;127.0.0.1&lt;/a&gt;]&nbsp;(Port&nbsp;2500&nbsp;Closed)&lt;br&gt;2007/12/08&nbsp;23:50&nbsp;+0100&nbsp;[SMTP,0,&lt;a&nbsp;href=&quot;http://127.0.0.1&quot;&gt;127.0.0.1&lt;/a&gt;]&nbsp;Stopping&nbsp;factory&nbsp;&amp;lt;__builtin__.Smtp2HttpFactory&nbsp;instance&nbsp;at&nbsp;0x13a4e68&amp;gt;&lt;br&gt;2007/12/08&nbsp;23:50&nbsp;+0100&nbsp;[HTTPPageGetter,client]&nbsp;Stopping&nbsp;factory&nbsp;&amp;lt;HTTPClientFactory:&nbsp;<br>
&lt;a&nbsp;href=&quot;http://localhost:8080/message_event_notify&quot;&gt;http://localhost:8080/message_event_notify&lt;/a&gt;&amp;gt;&lt;br&gt;2007/12/08&nbsp;23:50&nbsp;+0100&nbsp;[SMTP,0,&lt;a&nbsp;href=&quot;http://127.0.0.1&quot;&gt;127.0.0.1&lt;/a&gt;]&nbsp;Main&nbsp;loop&nbsp;terminated.&lt;br&gt;2007/12/08&nbsp;23:50&nbsp;+0100&nbsp;[SMTP,0,<br>
&lt;a&nbsp;href=&quot;http://127.0.0.1&quot;&gt;127.0.0.1&lt;/a&gt;]&nbsp;Unhandled&nbsp;Error&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Traceback&nbsp;(most&nbsp;recent&nbsp;call&nbsp;last):&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;File&nbsp;&amp;quot;/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/site-packages/twisted/application/app.py&amp;quot;,&nbsp;line&nbsp;113,&nbsp;in&nbsp;runReactorWithLogging<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;reactor.run()&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;File&nbsp;&amp;quot;/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/site-packages/twisted/internet/posixbase.py&amp;quot;,&nbsp;line&nbsp;220,&nbsp;in&nbsp;run&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;self.mainLoop()&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;File&nbsp;&amp;quot;/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/site-packages/twisted/internet/posixbase.py&amp;quot;,&nbsp;line&nbsp;231,&nbsp;in&nbsp;mainLoop<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;self.doIteration(t)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;File&nbsp;&amp;quot;/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/site-packages/twisted/internet/selectreactor.py&amp;quot;,&nbsp;line&nbsp;133,&nbsp;in&nbsp;doSelect&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;_logrun(selectable,&nbsp;_drdw,&nbsp;selectable,&nbsp;method,&nbsp;dict)<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;---&nbsp;&amp;lt;exception&nbsp;caught&nbsp;here&amp;gt;&nbsp;---&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;File&nbsp;&amp;quot;/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/site-packages/twisted/python/log.py&amp;quot;,&nbsp;line&nbsp;48,&nbsp;in&nbsp;callWithLogger&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;callWithContext({&amp;quot;system&amp;quot;:&nbsp;lp},&nbsp;func,&nbsp;*args,&nbsp;**kw)<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;File&nbsp;&amp;quot;/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/site-packages/twisted/python/log.py&amp;quot;,&nbsp;line&nbsp;33,&nbsp;in&nbsp;callWithContext&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;context.call({ILogContext:&nbsp;newCtx},&nbsp;func,&nbsp;*args,&nbsp;**kw)<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;File&nbsp;&amp;quot;/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/site-packages/twisted/python/context.py&amp;quot;,&nbsp;line&nbsp;59,&nbsp;in&nbsp;callWithContext&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;self.currentContext().callWithContext(ctx,&nbsp;func,&nbsp;*args,&nbsp;**kw)<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;File&nbsp;&amp;quot;/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/site-packages/twisted/python/context.py&amp;quot;,&nbsp;line&nbsp;37,&nbsp;in&nbsp;callWithContext&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;func(*args,**kw)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;File&nbsp;&amp;quot;/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/site-packages/twisted/internet/selectreactor.py&amp;quot;,&nbsp;line&nbsp;149,&nbsp;in&nbsp;_doReadOrWrite<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;self._disconnectSelectable(selectable,&nbsp;why,&nbsp;method==&amp;quot;doRead&amp;quot;)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;File&nbsp;&amp;quot;/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/site-packages/twisted/internet/posixbase.py&amp;quot;,&nbsp;line&nbsp;258,&nbsp;in&nbsp;_disconnectSelectable<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;selectable.connectionLost(failure.Failure(why))&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;File&nbsp;&amp;quot;/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/site-packages/twisted/internet/tcp.py&amp;quot;,&nbsp;line&nbsp;411,&nbsp;in&nbsp;connectionLost<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;self._closeSocket()&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;File&nbsp;&amp;quot;/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/site-packages/twisted/internet/tcp.py&amp;quot;,&nbsp;line&nbsp;100,&nbsp;in&nbsp;_closeSocket&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;skt&nbsp;=&nbsp;self.socket<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;exceptions.AttributeError:&nbsp;&amp;#39;Server&amp;#39;&nbsp;object&nbsp;has&nbsp;no&nbsp;attribute&nbsp;&amp;#39;socket&amp;#39;&lt;br&gt;&lt;br&gt;2007/12/08&nbsp;23:50&nbsp;+0100&nbsp;[-]&nbsp;Main&nbsp;loop&nbsp;terminated.&lt;br&gt;2007/12/08&nbsp;23:50&nbsp;+0100&nbsp;[-]&nbsp;Server&nbsp;Shut&nbsp;Down.&lt;br&gt;&lt;br&gt;&lt;br&gt;Does&nbsp;anyone&nbsp;have&nbsp;any&nbsp;suggestions?<br>
&lt;br&gt;&lt;br&gt;Thanks,&lt;br&gt;James&lt;br&gt;<br>

</tt>
