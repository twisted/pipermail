<tt>
&lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.01&nbsp;Transitional//EN&quot;&gt;<br>
&lt;html&gt;<br>
&lt;head&gt;<br>
&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;charset=ISO-8859-1&quot;&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&nbsp;&nbsp;&lt;title&gt;&lt;/title&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;bgcolor=&quot;#ffffff&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
Hi,&lt;br&gt;<br>
&lt;br&gt;<br>
We&nbsp;are&nbsp;working&nbsp;on&nbsp;a&nbsp;middleware&nbsp;with&nbsp;Twisted&nbsp;that&nbsp;connects&nbsp;to&nbsp;a&nbsp;POP3<br>
server&nbsp;and&nbsp;provides&nbsp;an&nbsp;XMLRPC&nbsp;interface&nbsp;(using&nbsp;twisted.web))&nbsp;to<br>
interacts&nbsp;with&nbsp;third&nbsp;party&nbsp;clients.&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;twisted&nbsp;middleware&nbsp;has&nbsp;to&nbsp;deal&nbsp;with&nbsp;non&nbsp;ASCII&nbsp;(UTF-8&nbsp;or&nbsp;Latin-1)<br>
encodings&nbsp;in&nbsp;the&nbsp;subject&nbsp;and&nbsp;the&nbsp;body&nbsp;of&nbsp;the&nbsp;mail&nbsp;messages.&nbsp;I&nbsp;have&nbsp;seen<br>
that&nbsp;Twisted&nbsp;XMLRPC&nbsp;server&nbsp;doesn't&nbsp;specify&nbsp;the&nbsp;encoding&nbsp;of&nbsp;the&nbsp;XMLRPC<br>
response,&nbsp;for&nbsp;example:&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;pre&gt;&amp;lt;?xml&nbsp;version='1.0'?&amp;gt;&lt;/pre&gt;<br>
&lt;pre&gt;&amp;lt;methodCall&amp;gt;&lt;/pre&gt;<br>
&lt;pre&gt;&amp;lt;methodName&amp;gt;connect&amp;lt;/methodName&amp;gt;&lt;/pre&gt;<br>
&lt;pre&gt;&amp;lt;params&amp;gt;&lt;/pre&gt;<br>
&lt;pre&gt;...&lt;/pre&gt;<br>
&lt;pre&gt;&amp;lt;/params&amp;gt;&lt;/pre&gt;<br>
&lt;pre&gt;&amp;lt;/methodCall&amp;gt;&lt;/pre&gt;<br>
&lt;br&gt;<br>
This&nbsp;issue&nbsp;produces&nbsp;an&nbsp;error&nbsp;when&nbsp;&quot;expat&quot;&nbsp;parses&nbsp;the&nbsp;response&nbsp;in&nbsp;the<br>
xmlrpc&nbsp;client:&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;pre&gt;xml.parsers.expat.ExpatError:&nbsp;not&nbsp;well-formed&nbsp;(invalid&nbsp;token)<br>
<br>
&lt;/pre&gt;<br>
There&nbsp;is&nbsp;an&nbsp;open&nbsp;ticket&nbsp;with&nbsp;a&nbsp;patch&nbsp;to&nbsp;deal&nbsp;with&nbsp;&quot;Latin-1&quot;&nbsp;encodings<br>
at&nbsp;the&nbsp;xmlrpc&nbsp;server:&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://twistedmatrix.com/trac/ticket/1909&quot;&gt;http://twistedmatrix.com/trac/ticket/1909&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
But&nbsp;it&nbsp;is&nbsp;not&nbsp;closed&nbsp;and&nbsp;it&nbsp;has&nbsp;been&nbsp;opened&nbsp;one&nbsp;year&nbsp;ago.&nbsp;&lt;br&gt;<br>
&lt;br&gt;<br>
How&nbsp;can&nbsp;I&nbsp;solve&nbsp;the&nbsp;encoding&nbsp;problem&nbsp;in&nbsp;the&nbsp;XMLRPC&nbsp;server&nbsp;response?&nbsp;&lt;br&gt;<br>
&lt;br&gt;<br>
Thank&nbsp;you.&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;moz-signature&quot;&gt;&lt;br&gt;<br>
--&nbsp;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;title&gt;&lt;/title&gt;<br>
&lt;p&nbsp;align=&quot;left&quot;&gt;&lt;span&nbsp;lang=&quot;es&quot;&gt;&lt;b&gt;&lt;font&nbsp;color=&quot;#808080&quot;<br>
&nbsp;face=&quot;RotisSemiSans&quot;&gt;Daniel&nbsp;de&nbsp;la&nbsp;Cuesta&nbsp;Navarrete&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&nbsp;&lt;br&gt;<br>
&lt;span&nbsp;lang=&quot;es&quot;&gt;&lt;b&gt;&lt;font&nbsp;color=&quot;#808080&quot;&nbsp;face=&quot;RotisSemiSans&quot;&gt;T&amp;eacute;cnico<br>
de&nbsp;Desarrollo&nbsp;de&nbsp;Software&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;align=&quot;left&quot;&gt;&lt;span&nbsp;lang=&quot;es&quot;&gt;&lt;/span&gt;&lt;span&nbsp;lang=&quot;es&quot;&gt;&lt;font<br>
&nbsp;color=&quot;#339966&quot;&nbsp;face=&quot;IAVANTE&quot;&nbsp;size=&quot;4&quot;&gt;FUNDACI&amp;Oacute;N&nbsp;IAVANTE&lt;/font&gt;&lt;/span&gt;<br>
&lt;br&gt;<br>
&lt;span&nbsp;lang=&quot;es&quot;&gt;&lt;font&nbsp;color=&quot;#339966&quot;&nbsp;face=&quot;RotisSemiSans&quot;&gt;&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;mailto:daniel.cuesta@iavantefundacion.com&quot;&gt;daniel.cuesta@iavantefundacion.com&lt;/a&gt;&lt;/font&gt;&lt;/span&gt;<br>
&lt;br&gt;<br>
&lt;span&nbsp;lang=&quot;es&quot;&gt;&lt;font&nbsp;color=&quot;#339966&quot;&nbsp;face=&quot;RotisSemiSans&quot;&gt;Tel.&nbsp;951&nbsp;015<br>
300&lt;/font&gt;&lt;/span&gt;&nbsp;&lt;/p&gt;<br>
&lt;br&gt;<br>
&lt;p&nbsp;align=&quot;center&quot;&gt;&lt;span&nbsp;lang=&quot;es&quot;&gt;&lt;font&nbsp;color=&quot;#999999&quot;&nbsp;face=&quot;Verdana&quot;<br>
&nbsp;size=&quot;1&quot;&gt;Este&nbsp;correo&nbsp;electr&amp;oacute;nico&nbsp;y,&nbsp;en&nbsp;su&nbsp;caso,&nbsp;cualquier&nbsp;fichero<br>
anexo,&nbsp;contiene&nbsp;informaci&amp;oacute;n&nbsp;confidencial&nbsp;exclusivamente&nbsp;dirigida&nbsp;a<br>
su(s)&nbsp;destinatario(s).&nbsp;Toda&nbsp;copia&nbsp;o&nbsp;divulgaci&amp;oacute;n&nbsp;deber&amp;aacute;&nbsp;ser&nbsp;autorizada<br>
por&nbsp;IAVANTE.&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;align=&quot;center&quot;&gt;&lt;span&nbsp;lang=&quot;en-gb&quot;&gt;&lt;font&nbsp;color=&quot;#999999&quot;<br>
&nbsp;face=&quot;Verdana&quot;&nbsp;size=&quot;1&quot;&gt;This&nbsp;e-mail&nbsp;and&nbsp;any&nbsp;attachments&nbsp;are<br>
confidential&nbsp;and&nbsp;exclusively&nbsp;directed&nbsp;to&nbsp;its&nbsp;adressee(s).&nbsp;Any&nbsp;copy&nbsp;or<br>
distribution&nbsp;will&nbsp;have&nbsp;to&nbsp;be&nbsp;authorized&nbsp;by&nbsp;IAVANTE.&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>
<br>
<br>

</tt>
