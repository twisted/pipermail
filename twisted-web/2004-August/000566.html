<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] nested nevow:data?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20nested%20nevow%3Adata%3F&In-Reply-To=2804DFAC-E4B7-11D8-BA7F-000A95864FC4%40divmod.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000565.html">
   <LINK REL="Next"  HREF="000576.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] nested nevow:data?</H1>
    <B>Jeff Bowden</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20nested%20nevow%3Adata%3F&In-Reply-To=2804DFAC-E4B7-11D8-BA7F-000A95864FC4%40divmod.org"
       TITLE="[Twisted-web] nested nevow:data?">jlb at houseofdistraction.com
       </A><BR>
    <I>Fri Aug  6 17:27:14 MDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000565.html">[Twisted-web] nested nevow:data?
</A></li>
        <LI>Next message: <A HREF="000576.html">[Twisted-web] nested nevow:data?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#566">[ date ]</a>
              <a href="thread.html#566">[ thread ]</a>
              <a href="subject.html#566">[ subject ]</a>
              <a href="author.html#566">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I made a little app to try to try to get nested data declarations 
working (attached).  The app works if I remove nevow:data=&quot;outer&quot; from 
the template (render_outer doesn't depend on any data) but otherwise it 
complains:

    nevow.accessors.NoAccessor: None does not implement IContainer, and
    there is no registered adapter.

My expectation was that since data_outer just returns self this should 
just mean that there are two copies of the TestPage instance on the 
context stack.  Apparently my understanding is wrong.  Are there any 
working examples of nested data declarations out there?


-------------- next part --------------
from twisted.application import service, internet
from nevow import rend, loaders, appserver


class TestPage(rend.Page):
    docFactory = loaders.htmlfile(&quot;testpage.html&quot;)
    def __init__(self):
        rend.Page.__init__(self)


    def data_outer(self, context, data):
        return self

    def data_inner(self, context, data):
        return [{'prop.1': 'data1', 'prop.2': 'data2'}]

    def render_outer(self, context, data):
        context.fillSlots(&quot;outer.title&quot;, &quot;I'm soooo outer&quot;)
        return context.tag

site = appserver.NevowSite(TestPage())
 
application = service.Application(&quot;example&quot;)
internet.TCPServer(8086, site).setServiceParent(application)

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://pyramid.twistedmatrix.com/pipermail/twisted-web/attachments/20040806/7c46a532/testpage.html">http://pyramid.twistedmatrix.com/pipermail/twisted-web/attachments/20040806/7c46a532/testpage.html</A>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000565.html">[Twisted-web] nested nevow:data?
</A></li>
	<LI>Next message: <A HREF="000576.html">[Twisted-web] nested nevow:data?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#566">[ date ]</a>
              <a href="thread.html#566">[ thread ]</a>
              <a href="subject.html#566">[ subject ]</a>
              <a href="author.html#566">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
