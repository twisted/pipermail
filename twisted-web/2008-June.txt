From tbranham at gmail.com  Mon Jun  2 00:10:41 2008
From: tbranham at gmail.com (Travis Branham)
Date: Mon Jun  2 00:10:46 2008
Subject: [Twisted-web] Connecting to external JavaScript libs with Athena
Message-ID: <6da73c340806012110x4291639se843437f8dd518cf@mail.gmail.com>

Hi all,

So, I've been racking my brain for a couple of days on this, and I can't
seem to get anywhere. My question is: Is it possible to connect to an
external JavaScript library, and subsequently make calls to said library
through an Athena LivePage element?

Just to let you know where this is going, I had planned on embedding a map
in my web application, using the Google Maps API. The problem, as I'm sure
you can guess, is that the JavaScript for GM is loaded directly from their
servers through the Google AJAX API. Now, I know their Ajax API does create
a unique namespace for the function calls (eg: google.maps.Map2, etc.), but,
so far, I have been unable to get a method from a LivePage or LiveElement to
be able to talk with the Google API. Just to be clear, I have no problem
simply importing the GM API and displaying the map -- my problem is that I
want to add markers to the map, based on some server-side events.
Effectively, I will have little to no client -> server communication during
a normal visit (except, of course, the user's interaction with the map,
which happens on Google's end anyway).

When I tried to figure out how to do this in the first place, I tried
modifying the "Athena LiveElement Tutorial" by embedding the JavaScript call
(a simple "echo" function) directly into the HTML source (instead of using
the jsClass attribute in LiveElement); from there, I tried a number of ways
to get the LiveElement to "talk" to the embedded JS. No dice.

Perhaps I'm missing something, or perhaps what I'm trying to do is just not
supported. I'd supply some code here, but I really don't know if that would
be very useful; let me know, however, if you feel otherwise.

Anyway, any insight will be helpful.

Thanks a lot,
Travis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-web/attachments/20080602/5e=
5f165d/attachment.htm
From glyph at divmod.com  Mon Jun  2 02:09:36 2008
From: glyph at divmod.com (glyph@divmod.com)
Date: Mon Jun  2 02:09:43 2008
Subject: [Twisted-web] Connecting to external JavaScript libs with Athena
In-Reply-To: <6da73c340806012110x4291639se843437f8dd518cf@mail.gmail.com>
References: <6da73c340806012110x4291639se843437f8dd518cf@mail.gmail.com>
Message-ID: <20080602060936.25821.1140017936.divmod.xquotient.9091@joule.divmod.com>

On 04:10 am, tbranham@gmail.com wrote:
>So, I've been racking my brain for a couple of days on this, and I 
>can't
>seem to get anywhere. My question is: Is it possible to connect to an
>external JavaScript library, and subsequently make calls to said 
>library
>through an Athena LivePage element?

Sure, maybe.  It depends what you mean by all those words.  "connect" to 
an external javascript library?  Don't you mean "load" an external 
javascript library?  And how is making calls to a library different than 
making calls to any random function?

I don't know a lot about Google Maps, but I do know that Divmod's most 
recent product (Blendix) uses Google Maps to display locations.

You can see this in action on my blendix page:

    http://blendix.com/users/glyph/

or view the source code:

http://blendix.com/__jsmodule__/16f16613df2ba86d19271a41115d50bedf4b461d/Blendix.PersonDetail

Have a look at the 'initializeMap' method to see an example of 
integration between Athena and Google Maps.

Please note that this isn't open source; we haven't released the code 
anywhere yet (although this part is JavaScript, so you could of course 
have just done 'view source' and figured out that link for yourself).

From wthie at thiengineering.ch  Mon Jun  2 05:34:08 2008
From: wthie at thiengineering.ch (Werner Thie)
Date: Mon Jun  2 05:34:41 2008
Subject: [Twisted-web] Connecting to external JavaScript libs with Athena
In-Reply-To: <6da73c340806012110x4291639se843437f8dd518cf@mail.gmail.com>
References: <6da73c340806012110x4291639se843437f8dd518cf@mail.gmail.com>
Message-ID: <4843BE90.4070102@thiengineering.ch>

Hi Travis

Say you want to use MochiKit functionality then just do a

	:
	:
class XYZPage(athena.LivePage):
   javaScript = ('/scripts/MochiKit.js')

def beforeRender(self, ctx:
	:
	:

Simply use all MochiKit functionality as provided.

Best working environment for me is Firefox with Firebug installed, if 
you want to have a look at some experiments of mine in this area head to

http://jass.thie.ch

U:optobyte
P:optobyte

and poke around. Be warned though, those are early experiments of mine, 
dating back to 2006

HTH, Werner

Travis Branham wrote:
> Hi all,
> 
> So, I've been racking my brain for a couple of days on this, and I can't 
> seem to get anywhere. My question is: Is it possible to connect to an 
> external JavaScript library, and subsequently make calls to said library 
> through an Athena LivePage element?
> 
> Just to let you know where this is going, I had planned on embedding a 
> map in my web application, using the Google Maps API. The problem, as 
> I'm sure you can guess, is that the JavaScript for GM is loaded directly 
> from their servers through the Google AJAX API. Now, I know their Ajax 
> API does create a unique namespace for the function calls (eg: 
> google.maps.Map2, etc.), but, so far, I have been unable to get a method 
> from a LivePage or LiveElement to be able to talk with the Google API. 
> Just to be clear, I have no problem simply importing the GM API and 
> displaying the map -- my problem is that I want to add markers to the 
> map, based on some server-side events. Effectively, I will have little 
> to no client -> server communication during a normal visit (except, of 
> course, the user's interaction with the map, which happens on Google's 
> end anyway).
> 
> When I tried to figure out how to do this in the first place, I tried 
> modifying the "Athena LiveElement Tutorial" by embedding the JavaScript 
> call (a simple "echo" function) directly into the HTML source (instead 
> of using the jsClass attribute in LiveElement); from there, I tried a 
> number of ways to get the LiveElement to "talk" to the embedded JS. No dice.
> 
> Perhaps I'm missing something, or perhaps what I'm trying to do is just 
> not supported. I'd supply some code here, but I really don't know if 
> that would be very useful; let me know, however, if you feel otherwise.
> 
> Anyway, any insight will be helpful.
> 
> Thanks a lot,
> Travis
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Twisted-web mailing list
> Twisted-web@twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web

From tbranham at gmail.com  Mon Jun  2 09:41:53 2008
From: tbranham at gmail.com (Travis Branham)
Date: Mon Jun  2 09:42:06 2008
Subject: [Twisted-web] Connecting to external JavaScript libs with Athena
In-Reply-To: <20080602060936.25821.1140017936.divmod.xquotient.9091@joule.divmod.com>
References: <6da73c340806012110x4291639se843437f8dd518cf@mail.gmail.com>
	<20080602060936.25821.1140017936.divmod.xquotient.9091@joule.divmod.com>
Message-ID: <6da73c340806020641q7b0ae80ds1d5c80a5d3237315@mail.gmail.com>

Thanks, Glyph.

Yes, by 'connect', I really meant 'load'. Your links were quite helpful; I
believe that the following snippet was enough to keep me moving along:

function _makeGoogleMap(self, mapContainerNode) {
        return (new GMap2(mapContainerNode));
},

I'll have to double-check my trials, because I was trying something similar
from the outset. Of course, "something similar" and "something wrong" are,
in this case, one and the same ;)

Thanks for taking the time!

-Travis

On Mon, Jun 2, 2008 at 2:09 AM, <glyph@divmod.com> wrote:

> On 04:10 am, tbranham@gmail.com wrote:
>
>> So, I've been racking my brain for a couple of days on this, and I can't
>> seem to get anywhere. My question is: Is it possible to connect to an
>> external JavaScript library, and subsequently make calls to said library
>> through an Athena LivePage element?
>>
>
> Sure, maybe.  It depends what you mean by all those words.  "connect" to =
an
> external javascript library?  Don't you mean "load" an external javascript
> library?  And how is making calls to a library different than making calls
> to any random function?
>
> I don't know a lot about Google Maps, but I do know that Divmod's most
> recent product (Blendix) uses Google Maps to display locations.
>
> You can see this in action on my blendix page:
>
>   http://blendix.com/users/glyph/
>
> or view the source code:
>
>
> http://blendix.com/__jsmodule__/16f16613df2ba86d19271a41115d50bedf4b461d/=
Blendix.PersonDetail
>
> Have a look at the 'initializeMap' method to see an example of integration
> between Athena and Google Maps.
>
> Please note that this isn't open source; we haven't released the code
> anywhere yet (although this part is JavaScript, so you could of course ha=
ve
> just done 'view source' and figured out that link for yourself).
>
> _______________________________________________
> Twisted-web mailing list
> Twisted-web@twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web
>



-- =

Travis Lee Branham
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-web/attachments/20080602/d3=
585358/attachment.htm
From phil at bubblehouse.org  Thu Jun  5 14:58:21 2008
From: phil at bubblehouse.org (Phil Christensen)
Date: Thu Jun  5 14:58:28 2008
Subject: [Twisted-web] requestHeaders issues
Message-ID: <258A54BE-3913-477D-90D4-85956ECEEA91@bubblehouse.org>

Hi all,

I've run into a problem in Twisted.Web with a recent addition to SVN  
head. The problem occurs in my WSGI gateway module, which is derived  
from web2's version. When I'm creating the environment dictionary by  
iterating like this:

     # Propagate HTTP headers
     for title in request.received_headers:
         header = request.received_headers[title]
         ...
         ...

the iteration through received_headers causes the following exception:

     Traceback (most recent call last):
       File "/Users/phil/Workspace/modu/modu/web/wsgi.py", line 91, in  
createCGIEnvironment
         for title in request.received_headers:
       File "/Users/phil/Workspace/Twisted/twisted/web/ 
http_headers.py", line 41, in __getitem__
         if self._headers.hasHeader(key):
       File "/Users/phil/Workspace/Twisted/twisted/web/ 
http_headers.py", line 247, in hasHeader
         return name.lower() in self._rawHeaders
     exceptions.AttributeError: 'int' object has no attribute 'lower'

After some searching, I found this patch:

     r23826 | exarkun | 2008-06-02 11:06:06 -0400 (Mon, 02 Jun 2008) |  
15 lines

     Merge web-headers-165-2

     Author: dreid, exarkun
     Reviewer: therve
     Fixes: #165

     Add two new attributes to twisted.web.http.Request,  
`requestHeaders` and
     `responseHeaders`, which parallel the previous attributes  
`received_headers`
     and `headers`.  The new attributes are preferred and provide a  
structured
     interface to accessing and manipulating header information,  
including
     multiples values per header which was unsupported by the previous  
API.
     `received_headers` and `headers` are not deprecated and coding  
using
     them will continue to work, but their use is discouraged and they  
will be
     deprecated at some future time.

If I make those changes and use `requestHeaders` instead, like this:

     # Propagate HTTP headers
     for title in request.received_headers:
         header = request.received_headers[title]
         ...
         ...

I instead get the following traceback:

     Traceback (most recent call last):
       File "/Users/phil/Workspace/modu/modu/web/wsgi.py", line 91, in  
createCGIEnvironment
         for title in request.requestHeaders:
     exceptions.TypeError: 'Headers' object is not iterable

which seems strange to me, since from what I can tell,  
request.requestHeaders should be a http_headers._DictHeaders instance.  
Should I be calling request.requestHeaders.getAllRawHeaders() and  
iterate through that result instead?

Any guidance in this matter would be greatly appreciated.

Thanks again,

-phil

From exarkun at divmod.com  Thu Jun  5 16:01:15 2008
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Thu Jun  5 16:01:24 2008
Subject: [Twisted-web] requestHeaders issues
In-Reply-To: <258A54BE-3913-477D-90D4-85956ECEEA91@bubblehouse.org>
Message-ID: <20080605200115.4714.756273230.divmod.quotient.5962@ohm>

On Thu, 5 Jun 2008 14:58:21 -0400, Phil Christensen <phil@bubblehouse.org> wrote:
>Hi all,
>
>I've run into a problem in Twisted.Web with a recent addition to SVN  head. 
>The problem occurs in my WSGI gateway module, which is derived  from web2's 
>version. When I'm creating the environment dictionary by  iterating like 
>this:
>
>     # Propagate HTTP headers
>     for title in request.received_headers:
>         header = request.received_headers[title]
>         ...
>         ...

Hi Phil,

Thanks for reporting this and tracking down the cause.  I'll back out that
revision shortly until it can be fixed.

>
>If I make those changes and use `requestHeaders` instead, like this:
>
>     # Propagate HTTP headers
>     for title in request.received_headers:
>         header = request.received_headers[title]
>         ...
>         ...
>
>I instead get the following traceback:
>
>     Traceback (most recent call last):
>       File "/Users/phil/Workspace/modu/modu/web/wsgi.py", line 91, in 
>createCGIEnvironment
>         for title in request.requestHeaders:
>     exceptions.TypeError: 'Headers' object is not iterable
>
>which seems strange to me, since from what I can tell, 
>request.requestHeaders should be a http_headers._DictHeaders instance. 
>Should I be calling request.requestHeaders.getAllRawHeaders() and  iterate 
>through that result instead?
>
>Any guidance in this matter would be greatly appreciated.

In the future, using `requestHeaders.getAllRawHeaders? will be the right
thing to do.  `request.requestHeaders? isn't a `_DictHeaders? though, it's
a `Headers? - `request.received_headers? is the `_DictHeaders?.  I suspect
that's what you meant, though.

Jean-Paul

From phil at bubblehouse.org  Thu Jun  5 16:09:09 2008
From: phil at bubblehouse.org (Phil Christensen)
Date: Thu Jun  5 16:09:19 2008
Subject: [Twisted-web] requestHeaders issues
In-Reply-To: <20080605200115.4714.756273230.divmod.quotient.5962@ohm>
References: <20080605200115.4714.756273230.divmod.quotient.5962@ohm>
Message-ID: <5F465F0A-DAC6-47A6-AABC-CE9101D08B68@bubblehouse.org>

On Jun 5, 2008, at 4:01 PM, Jean-Paul Calderone wrote:
> Thanks for reporting this and tracking down the cause.  I'll back  
> out that
> revision shortly until it can be fixed.

Thank you for the quick response!

-phil

From exarkun at divmod.com  Thu Jun 19 08:20:14 2008
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Thu Jun 19 08:20:26 2008
Subject: [Twisted-web] Python 2.3 support in Nevow
In-Reply-To: 0
Message-ID: <20080619122014.4714.318823462.divmod.quotient.10785@ohm>

Glyph and I had a discussion about Nevow on Python 2.3 yesterday.
We ended up wondering who is using Nevow with Python 2.3 and who
would notice or care if Python 2.4 became the minimum requirement.
So, if you're using Nevow, what version of Python are you using it
with?

Jean-Paul

From p.mayers at imperial.ac.uk  Thu Jun 19 08:45:02 2008
From: p.mayers at imperial.ac.uk (Phil Mayers)
Date: Thu Jun 19 08:45:39 2008
Subject: [Twisted-web] Re: [Divmod-dev] Python 2.3 support in Nevow
In-Reply-To: <20080619122014.4714.318823462.divmod.quotient.10785@ohm>
References: <20080619122014.4714.318823462.divmod.quotient.10785@ohm>
Message-ID: <485A54CE.3040303@imperial.ac.uk>

Jean-Paul Calderone wrote:
> Glyph and I had a discussion about Nevow on Python 2.3 yesterday.
> We ended up wondering who is using Nevow with Python 2.3 and who
> would notice or care if Python 2.4 became the minimum requirement.
> So, if you're using Nevow, what version of Python are you using it
> with?

2.5 because we want @inlineCallbacks. The occasional 2.4 for a 
tiny/simple interface. No 2.3, and I can't see we'd ever want any - we 
roll RPMs for python25 on systems where the OS python is too low e.g. 
RHEL3/4

From drakesmith at adelphia.net  Thu Jun 19 09:09:58 2008
From: drakesmith at adelphia.net (Drake Smith)
Date: Thu Jun 19 09:10:50 2008
Subject: [Twisted-web] Python 2.3 support in Nevow
In-Reply-To: <20080619122014.4714.318823462.divmod.quotient.10785@ohm>
References: <20080619122014.4714.318823462.divmod.quotient.10785@ohm>
Message-ID: <20080619131435.XKIU4520.mta9.adelphia.net@homedell.adelphia.net>

At 08:20 AM 6/19/2008, you wrote:
>Glyph and I had a discussion about Nevow on Python 2.3 yesterday.
>We ended up wondering who is using Nevow with Python 2.3 and who
>would notice or care if Python 2.4 became the minimum requirement.
>So, if you're using Nevow, what version of Python are you using it
>with?
>
>Jean-Paul

We use Nevow for several projects but only under Python 2.5.


From zooko at zooko.com  Thu Jun 19 09:16:41 2008
From: zooko at zooko.com (zooko)
Date: Thu Jun 19 09:17:00 2008
Subject: [Twisted-web] Python 2.3 support in Nevow
In-Reply-To: <20080619122014.4714.318823462.divmod.quotient.10785@ohm>
References: <20080619122014.4714.318823462.divmod.quotient.10785@ohm>
Message-ID: <393F010F-E51B-44D0-9A1D-AFECDA85412A@zooko.com>


On Jun 19, 2008, at 5:20 AM, Jean-Paul Calderone wrote:

> So, if you're using Nevow, what version of Python are you using it
> with?

http://allmydata.org uses Nevow.  We currently support Python 2.4 and  
Python 2.5.

Regards,

Zooko

From matt at pollenation.net  Thu Jun 19 09:17:27 2008
From: matt at pollenation.net (Matt Goodall)
Date: Thu Jun 19 09:17:53 2008
Subject: [Twisted-web] Python 2.3 support in Nevow
In-Reply-To: <20080619122014.4714.318823462.divmod.quotient.10785@ohm>
References: <20080619122014.4714.318823462.divmod.quotient.10785@ohm>
Message-ID: <485A5C67.9010007@pollenation.net>

Jean-Paul Calderone wrote:
> Glyph and I had a discussion about Nevow on Python 2.3 yesterday.
> We ended up wondering who is using Nevow with Python 2.3 and who
> would notice or care if Python 2.4 became the minimum requirement.
> So, if you're using Nevow, what version of Python are you using it
> with?

Python 2.5 whenever possible, 2.4 as a fallback. Never 2.3.

- Matt

From karnaugh at karnaugh.za.net  Thu Jun 19 10:07:36 2008
From: karnaugh at karnaugh.za.net (Colin Alston)
Date: Thu Jun 19 10:09:08 2008
Subject: [Twisted-web] Python 2.3 support in Nevow
In-Reply-To: <20080619122014.4714.318823462.divmod.quotient.10785@ohm>
References: <20080619122014.4714.318823462.divmod.quotient.10785@ohm>
Message-ID: <485A6828.6090406@karnaugh.za.net>

Jean-Paul Calderone wrote:
> Glyph and I had a discussion about Nevow on Python 2.3 yesterday.
> We ended up wondering who is using Nevow with Python 2.3 and who
> would notice or care if Python 2.4 became the minimum requirement.
> So, if you're using Nevow, what version of Python are you using it
> with?

We may very well have 2.3 boxes around but they aren't likely to upgrade 
their Nevow version anyway. I'm quite happy for them to die too :)

From mithrandi at mithrandi.net  Thu Jun 19 10:15:34 2008
From: mithrandi at mithrandi.net (Tristan Seligmann)
Date: Thu Jun 19 10:15:44 2008
Subject: [Twisted-web] Python 2.3 support in Nevow
In-Reply-To: <20080619122014.4714.318823462.divmod.quotient.10785@ohm>
References: <20080619122014.4714.318823462.divmod.quotient.10785@ohm>
Message-ID: <20080619141534.GB11926@mithrandi.net>

KiBKZWFuLVBhdWwgQ2FsZGVyb25lIDxleGFya3VuQGRpdm1vZC5jb20+IFsyMDA4LTA2LTE5IDA4
OjIwOjE0IC0wNDAwXToKCj4gU28sIGlmIHlvdSdyZSB1c2luZyBOZXZvdywgd2hhdCB2ZXJzaW9u
IG9mIFB5dGhvbiBhcmUgeW91IHVzaW5nIGl0Cj4gd2l0aD8KCjIuNCBhbmQgMi41LgotLSAKbWl0
aHJhbmRpLCBpIEFpbmlsIGVuLUJhbGFuZG9yLCBhIGZhZXIgQW1iYXIKLS0tLS0tLS0tLS0tLS0g
bmV4dCBwYXJ0IC0tLS0tLS0tLS0tLS0tCkEgbm9uLXRleHQgYXR0YWNobWVudCB3YXMgc2NydWJi
ZWQuLi4KTmFtZTogbm90IGF2YWlsYWJsZQpUeXBlOiBhcHBsaWNhdGlvbi9wZ3Atc2lnbmF0dXJl
ClNpemU6IDE5NyBieXRlcwpEZXNjOiBEaWdpdGFsIHNpZ25hdHVyZQpVcmwgOiBodHRwOi8vdHdp
c3RlZG1hdHJpeC5jb20vcGlwZXJtYWlsL3R3aXN0ZWQtd2ViL2F0dGFjaG1lbnRzLzIwMDgwNjE5
LzJhMzJlMzg2L2F0dGFjaG1lbnQucGdwCg==
From karnaugh at karnaugh.za.net  Thu Jun 19 10:19:28 2008
From: karnaugh at karnaugh.za.net (Colin Alston)
Date: Thu Jun 19 10:20:18 2008
Subject: [Twisted-web] Python 2.3 support in Nevow
In-Reply-To: <485A6828.6090406@karnaugh.za.net>
References: <20080619122014.4714.318823462.divmod.quotient.10785@ohm>
	<485A6828.6090406@karnaugh.za.net>
Message-ID: <485A6AF0.1020800@karnaugh.za.net>

Colin Alston wrote:
> Jean-Paul Calderone wrote:
>> Glyph and I had a discussion about Nevow on Python 2.3 yesterday.
>> We ended up wondering who is using Nevow with Python 2.3 and who
>> would notice or care if Python 2.4 became the minimum requirement.
>> So, if you're using Nevow, what version of Python are you using it
>> with?
> 
> We may very well have 2.3 boxes around but they aren't likely to upgrade 
> their Nevow version anyway. I'm quite happy for them to die too :)

Oh, we're using 2.5 and 2.4.

From federicotom at yahoo.it  Thu Jun 19 10:38:26 2008
From: federicotom at yahoo.it (Federico Tomassini)
Date: Thu Jun 19 10:39:04 2008
Subject: [Twisted-web] Python 2.3 support in Nevow
In-Reply-To: <20080619122014.4714.318823462.divmod.quotient.10785@ohm>
References: <20080619122014.4714.318823462.divmod.quotient.10785@ohm>
Message-ID: <485A6F62.2070001@yahoo.it>

Jean-Paul Calderone wrote:
> Glyph and I had a discussion about Nevow on Python 2.3 yesterday.
> We ended up wondering who is using Nevow with Python 2.3 and who
> would notice or care if Python 2.4 became the minimum requirement.
> So, if you're using Nevow, what version of Python are you using it
> with?

2.[45]

-- 
efphe
Today is Setting Orange, the 24th day of Confusion in the YOLD 3174

From moebius.lists at gmail.com  Thu Jun 19 10:54:16 2008
From: moebius.lists at gmail.com (Adrian Perez)
Date: Thu Jun 19 10:56:19 2008
Subject: [Twisted-web] Python 2.3 support in Nevow
In-Reply-To: <20080619122014.4714.318823462.divmod.quotient.10785@ohm>
References: <20080619122014.4714.318823462.divmod.quotient.10785@ohm>
Message-ID: <1213887256.8185.18.camel@gila.local>

On Thu, 2008-06-19 at 08:20 -0400, Jean-Paul Calderone wrote:
> Glyph and I had a discussion about Nevow on Python 2.3 yesterday.
> We ended up wondering who is using Nevow with Python 2.3 and who
> would notice or care if Python 2.4 became the minimum requirement.
> So, if you're using Nevow, what version of Python are you using it
> with?

I tend to support Python 2.4, but I use 2.5 for everyday development :)

-- 
Adrian Perez <moebius.lists@gmail.com>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : http://twistedmatrix.com/pipermail/twisted-web/attachments/20080619/7e315285/attachment.pgp
From marek at xivilization.net  Thu Jun 19 17:27:52 2008
From: marek at xivilization.net (Marek Kubica)
Date: Thu Jun 19 17:27:59 2008
Subject: [Twisted-web] Python 2.3 support in Nevow
In-Reply-To: <20080619122014.4714.318823462.divmod.quotient.10785@ohm>
References: <20080619122014.4714.318823462.divmod.quotient.10785@ohm>
Message-ID: <20080619232752.0155eb9f@halmanfloyd.lan.local>

Hi,

On Thu, 19 Jun 2008 08:20:14 -0400
Jean-Paul Calderone <exarkun@divmod.com> wrote:

> Glyph and I had a discussion about Nevow on Python 2.3 yesterday.
> We ended up wondering who is using Nevow with Python 2.3 and who
> would notice or care if Python 2.4 became the minimum requirement.
> So, if you're using Nevow, what version of Python are you using it
> with?

Python 2.5 only.

regards,
Marek

From christian.simms at gmail.com  Thu Jun 19 18:05:24 2008
From: christian.simms at gmail.com (Christian Simms)
Date: Thu Jun 19 18:05:26 2008
Subject: [Twisted-web] Python 2.3 support in Nevow
In-Reply-To: <20080619122014.4714.318823462.divmod.quotient.10785@ohm>
References: <20080619122014.4714.318823462.divmod.quotient.10785@ohm>
Message-ID: <cd8fa6f90806191505x41640284r8793e4f97fabb21f@mail.gmail.com>

On Thu, Jun 19, 2008 at 8:20 AM, Jean-Paul Calderone <exarkun@divmod.com> wrote:
> Glyph and I had a discussion about Nevow on Python 2.3 yesterday.
> We ended up wondering who is using Nevow with Python 2.3 and who
> would notice or care if Python 2.4 became the minimum requirement.
> So, if you're using Nevow, what version of Python are you using it
> with?
>
> Jean-Paul
>
> _______________________________________________
> Twisted-web mailing list
> Twisted-web@twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web
>

We use 2.5 only.  I used to try to support multiple versions of
Python, and then discovered it's easier to just download and compile
the latest version of Python all the time, as opposed to trying to
rely on the system-installed version.  Plus, I don't have to worry
about screwing up other apps that use the system-installed Python when
I install a bunch of extra packages.

Cheers,
Christian

From tarjei at nu.no  Fri Jun 20 06:45:51 2008
From: tarjei at nu.no (tarjei)
Date: Fri Jun 20 06:46:33 2008
Subject: [Twisted-web] Redirect problem
Message-ID: <485B8A5F.6020409@nu.no>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi, using Nevow, I want to send an extra header X-objectId to the client
when the client has posted an image to a page.

My problem is that when I do a post, the client returns the headers
(including mine) but then hangs partly out into the request.

Example:
curl http://localhost:8000/store/ -F image=@./globalwarming.jpg
HTTP/1.1 302 Found
Content-length: 391
Content-type: application/xml
Accept-ranges: bytes
Server: TwistedWeb/8.1.0
Last-modified: Fri, 20 Jun 2008 10:42:22 GMT
Location:
/info/2008/6/20/f/f95556fd25cc4a8a8cb87b7453bbd0de/f95556fd25cc4a8a8cb87b7453bbd0de.jpg
Date: Fri, 20 Jun 2008 10:42:22 GMT
X-objectId:
2008/6/20/f/f95556fd25cc4a8a8cb87b7453bbd0de/f95556fd25cc4a8a8cb87b7453bbd0de.jpg

<imageMetadata><property name="width" value="934" /><property
name="extension" value=".jpg" /><property name="format" value="JPEG"
/><property name="colour" value="768" /><property name="height"
value="524" /><property name="id"
value="2008/6/20/f/f95556fd25cc4a8a8cb87b7453bbd0de/f95556fd25cc4a8a8cb87b7453bbd0de.jpg"
/><property name="filename" value="globalwarming.jpg" /></imageMetad



class StoreImage(rend.Page):
    addSlash=True
    """
    Gets a file and a set of metadata fields.
    POST with the image in the field image and a metadata dictionary of
name => value pairs.
    """

    def __init__(self, config):
        self.config = config

    def locateChild(self, ctx, segments):
	# removed som internal processing here to make the example smaller.
        self.metadata = {'id': "pokpokpokpo/oijoioij" } # dummy data
        self.xmlFileName = "/somefile.xml"
        return self, ()

    def renderHTTP(self, ctx):
        metadata = self.metadata
        request = inevow.IRequest(ctx)
        request.setHeader('Content-Type', 'text/xml; charset=UTF-8')
        request.setHeader('X-objectId', metadata['id'] )
        #request.setResponseCode("303") # 303
        request.redirect( "/info/" + metadata['id'] )
        #request.finish()

        # I have also tried to return "" but with the same results.
        return static.File(self.xmlFileName, 'text/xml')



I have tried various ways to get this working. I've tried to call
request.finish(), but then the process bombs out.

Any tips to what I should do to get this working would be very welcome.

Kind regards,
Tarjei
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFIW4pfYVRKCnSvzfIRArmOAJ9rR94r2taNbFav18FJGPy70iwAvwCfX0v8
FbEX7pBHtvpXJ9qtySEveCc=
=L6YP
-----END PGP SIGNATURE-----

From dotecho at gmail.com  Sat Jun 21 06:10:19 2008
From: dotecho at gmail.com (echo)
Date: Sat Jun 21 06:10:25 2008
Subject: [Twisted-web] Does twisted.web2 have similar
	twisted.web.server.NOT_DONE_YET usage?
Message-ID: <c9bd7f5f0806210310r54ec01x53c44784130b77b4@mail.gmail.com>

aGVsbG8sIGV2ZXJ5Ym9keToKSSBoYXZlIGEgcmVxdWVzdCBhbmQgdGhlIHJlc3BvbnNlIG5lZWQg
c2ltaWxhcgp0d2lzdGVkLndlYi5zZXJ2ZXIuTk9UX0RPTkVfWUVUIGZ1bmN0aW9uLgpkb2VzIHR3
aXN0ZWQud2ViMiBoYXZlIHNpbWlsYXIgdHdpc3RlZC53ZWIuc2VydmVyLk5PVF9ET05FX1lFVCB1
c2FnZT8KdGhhbmtzLgotLS0tLS0tLS0tLS0tLSBuZXh0IHBhcnQgLS0tLS0tLS0tLS0tLS0KQW4g
SFRNTCBhdHRhY2htZW50IHdhcyBzY3J1YmJlZC4uLgpVUkw6IGh0dHA6Ly90d2lzdGVkbWF0cml4
LmNvbS9waXBlcm1haWwvdHdpc3RlZC13ZWIvYXR0YWNobWVudHMvMjAwODA2MjEvNDg1OTU5NDkv
YXR0YWNobWVudC5odG0K
From dotecho at gmail.com  Sat Jun 21 09:33:32 2008
From: dotecho at gmail.com (echo)
Date: Sat Jun 21 09:33:46 2008
Subject: [Twisted-web] Re: Does twisted.web2 have similar
	twisted.web.server.NOT_DONE_YET usage?
In-Reply-To: <c9bd7f5f0806210310r54ec01x53c44784130b77b4@mail.gmail.com>
References: <c9bd7f5f0806210310r54ec01x53c44784130b77b4@mail.gmail.com>
Message-ID: <c9bd7f5f0806210633t645ca1j7559bc0dc76a81@mail.gmail.com>

aGksIGkgcmVzb2x2ZWQgdGhlIHByb2JsZW0uCgp1c2UgdHdpc3RlZC53ZWIyLnN0cmVhbS5Qcm9k
dWNlclN0cmVhbQp3aGVuIGdldFBhZ2UgZnVuY3Rpb24gaXMgZmluaXNoZWQsIHRoZW4gd3JpdGUg
ZGF0YSB0byB0aGUgc3RyZWFtLgoKY2xhc3MgVGVzdChyZXNvdXJjZS5SZXNvdXJjZSk6CiAgICBk
ZWYgcmVuZGVyKHNlbGYsIHJlcXVlc3QpOgogICAgICAgIHJlbW90ZXVybCA9ICdodHRwOi8vd3d3
LnNmLm9yZy8nCiAgICAgICAgZnJvbSB0d2lzdGVkLndlYjIuc3RyZWFtIGltcG9ydCBQcm9kdWNl
clN0cmVhbQogICAgICAgIHJlc3BvbnNlU3RyZWFtID0gUHJvZHVjZXJTdHJlYW0oKQogICAgICAg
IGdldFBhZ2UocmVtb3RldXJsLCB0aW1lb3V0PTYwKS5hZGRDYWxsYmFjayhzZWxmLnJlcW9rLCBy
ZXF1ZXN0LApyZXNwb25zZVN0cmVhbSkuYWRkRXJyYmFjayhzZWxmLnJlcWZhaWx1cmUsIHJlcXVl
c3QsIHJlc3BvbnNlU3RyZWFtKQogICAgICAgIHJldHVybiBodHRwLlJlc3BvbnNlKDIwMCwgeydj
b250ZW50LXR5cGUnOiBjb250ZW50dHlwZX0KLHJlc3BvbnNlU3RyZWFtKQoKICAgIGRlZiByZXFv
ayhzZWxmLCByZXN1bHQsIHJlcXVlc3QsIHJlc3BvbnNlU3RyZWFtKToKICAgICAgICByZXNwb25z
ZVN0cmVhbS53cml0ZShyZXN1bHQpCiAgICAgICAgcmVzcG9uc2VTdHJlYW0uZmluaXNoKCkKCiAg
ICBkZWYgcmVxZmFpbHVyZShzZWxmLCBmYWlsdXJlLCByZXF1ZXN0LCByZXNwb25zZVN0cmVhbSk6
CiAgICAgICAgcmVzcG9uc2VTdHJlYW0ud3JpdGUoJ0JhZCBSZXF1ZXN0JykKICAgICAgICByZXNw
b25zZVN0cmVhbS5maW5pc2goKTx0d2lzdGVkLXdlYiU0MHR3aXN0ZWRtYXRyaXguY29tP1N1Ympl
Y3Q9JTVCVHdpc3RlZC13ZWIlNUQlMjB3ZWIyJTIwYW5kJTIwZGF0YWJhc2UlMjBoYW5kbGluZyZJ
bi1SZXBseS1Ubz00NTgwMjM3OC42MDAwNjA1JTQwYWctcHJvamVjdHMuY29tPgoKCmJ1dCB3aGVu
IGdldCByZW1vdGV1cmwgY290ZW50IG5lZWQgbG9uZ3RpbWUsIG15IHByb2dyYW0gb2Z0ZXIgcmFp
c2UuLgoKMjAwOC0wNi0yMSAyMTowMjoxOSswODAwIFstXSBVbmhhbmRsZWQgRXJyb3IKICAgIFRy
YWNlYmFjayAobW9zdCByZWNlbnQgY2FsbCBsYXN0KToKICAgICAgRmlsZQoiL3Vzci9sb2NhbC9s
aWIvcHl0aG9uMi41L3NpdGUtcGFja2FnZXMvdHdpc3RlZC9hcHBsaWNhdGlvbi9hcHAucHkiLCBs
aW5lCjQzMywgaW4gc3RhcnRSZWFjdG9yCiAgICAgICAgc2VsZi5jb25maWcsIG9sZHN0ZG91dCwg
b2xkc3RkZXJyLCBzZWxmLnByb2ZpbGVyLCByZWFjdG9yKQogICAgICBGaWxlCiIvdXNyL2xvY2Fs
L2xpYi9weXRob24yLjUvc2l0ZS1wYWNrYWdlcy90d2lzdGVkL2FwcGxpY2F0aW9uL2FwcC5weSIs
IGxpbmUKMzM2LCBpbiBydW5SZWFjdG9yV2l0aExvZ2dpbmcKICAgICAgICByZWFjdG9yLnJ1bigp
CiAgICAgIEZpbGUKIi91c3IvbG9jYWwvbGliL3B5dGhvbjIuNS9zaXRlLXBhY2thZ2VzL3R3aXN0
ZWQvaW50ZXJuZXQvYmFzZS5weSIsIGxpbmUKMTExNCwgaW4gcnVuCiAgICAgICAgc2VsZi5tYWlu
TG9vcCgpCiAgICAgIEZpbGUKIi91c3IvbG9jYWwvbGliL3B5dGhvbjIuNS9zaXRlLXBhY2thZ2Vz
L3R3aXN0ZWQvaW50ZXJuZXQvYmFzZS5weSIsIGxpbmUKMTEyNiwgaW4gbWFpbkxvb3AKICAgICAg
ICBzZWxmLmRvSXRlcmF0aW9uKHQpCiAgICAtLS0gPGV4Y2VwdGlvbiBjYXVnaHQgaGVyZT4gLS0t
CiAgICAgIEZpbGUKIi91c3IvbG9jYWwvbGliL3B5dGhvbjIuNS9zaXRlLXBhY2thZ2VzL3R3aXN0
ZWQvaW50ZXJuZXQvc2VsZWN0cmVhY3Rvci5weSIsCmxpbmUgMTA0LCBpbiBkb1NlbGVjdAogICAg
ICAgIFtdLCB0aW1lb3V0KQogICAgZXhjZXB0aW9ucy5WYWx1ZUVycm9yOiBmaWxlZGVzY3JpcHRv
ciBvdXQgb2YgcmFuZ2UgaW4gc2VsZWN0KCkKLS0tLS0tLS0tLS0tLS0gbmV4dCBwYXJ0IC0tLS0t
LS0tLS0tLS0tCkFuIEhUTUwgYXR0YWNobWVudCB3YXMgc2NydWJiZWQuLi4KVVJMOiBodHRwOi8v
dHdpc3RlZG1hdHJpeC5jb20vcGlwZXJtYWlsL3R3aXN0ZWQtd2ViL2F0dGFjaG1lbnRzLzIwMDgw
NjIxLzliZjJlNWMzL2F0dGFjaG1lbnQuaHRtCg==
From wthie at thiengineering.ch  Fri Jun 27 05:58:24 2008
From: wthie at thiengineering.ch (Werner Thie)
Date: Fri Jun 27 05:59:16 2008
Subject: [Twisted-web] Silently dying server processes started with twistd
In-Reply-To: <485B8A5F.6020409@nu.no>
References: <485B8A5F.6020409@nu.no>
Message-ID: <4864B9C0.9010403@thiengineering.ch>

Hi all

being in the early production stage of two http servers implemented with 
twisted/nevow and making heavy use of athena I observe the following:

Either server dies silently after some time ranging from 10 mins to 
several days with the logs being inconclusive and stopping at random points.

Process image size is stable at around 120 MByte, number of concurrent 
users is around 150, CPU load per core is around 20%.

All my testing does not reveal a single problem, everything runs fine 
until I let 'normal' users hit the server.

The underlying OS (OpenBSD) is of no help, not a trace of the process in 
question can be found, it looks like they vanish into thin air.

I am stumped about processes vanishing, no core, no log entries, no nothing.

Does somebody out there have a clue on how to debug such a problem.

TIA, Werner

From yasusii at gmail.com  Sat Jun 28 02:58:54 2008
From: yasusii at gmail.com (Yasushi Iwata)
Date: Sat Jun 28 02:59:05 2008
Subject: [Twisted-web] Multiple choice with formless
Message-ID: <48399fda0806272358n54e35e63o26aad009b970e093@mail.gmail.com>

Hi, I'm using Nevow.

How do I write  multiple choice (checkbox) with formless?

Should I use formal.widget.CheckboxMultiChoice?
  http://forms-project.pollenation.net/cgi-bin/trac.cgi/browser/trunk/formal/widget.py

From abdulwahid at gmail.com  Sat Jun 28 06:15:44 2008
From: abdulwahid at gmail.com (Abdul-Wahid Paterson)
Date: Sat Jun 28 06:15:48 2008
Subject: [Twisted-web] nevow's loaders.xmlfile returning XML
Message-ID: <995fcdb00806280315o2c2d4cem13bc67fc77c84993@mail.gmail.com>

Hi,

I am a bit confused about loaders.xmlfile() method and what it is
donig to my XML templates. It seems to be HTMLifying my XML by doing
things like stripping the / out of <br />.

I am trying to develop some pages where I have inline SVG in the code.
My static XHTML files work fine but the code returned from nevow does
not work.

How can I get nevow to return XHTML and not HTML? How can I put the
HTML namespace into my returned XHTM?

Regards,

Abdul-Wahid

From exarkun at divmod.com  Sat Jun 28 07:33:19 2008
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Sat Jun 28 07:33:29 2008
Subject: [Twisted-web] nevow's loaders.xmlfile returning XML
In-Reply-To: <995fcdb00806280315o2c2d4cem13bc67fc77c84993@mail.gmail.com>
Message-ID: <20080628113319.4714.1176081261.divmod.quotient.14363@ohm>

On Sat, 28 Jun 2008 13:15:44 +0300, Abdul-Wahid Paterson <abdulwahid@gmail.com> wrote:
>Hi,
>
>I am a bit confused about loaders.xmlfile() method and what it is
>donig to my XML templates. It seems to be HTMLifying my XML by doing
>things like stripping the / out of <br />.

Can you provide an example of this?  That's not something xmlfile is
supposed to do, nor something I've ever seen it do.

Jean-Paul

From abdulwahid at gmail.com  Sat Jun 28 07:56:37 2008
From: abdulwahid at gmail.com (Abdul-Wahid Paterson)
Date: Sat Jun 28 07:56:42 2008
Subject: [Twisted-web] nevow's loaders.xmlfile returning XML
In-Reply-To: <20080628113319.4714.1176081261.divmod.quotient.14363@ohm>
References: <995fcdb00806280315o2c2d4cem13bc67fc77c84993@mail.gmail.com>
	<20080628113319.4714.1176081261.divmod.quotient.14363@ohm>
Message-ID: <995fcdb00806280456q6004d87cqa4d882a8181a028d@mail.gmail.com>

>> I am a bit confused about loaders.xmlfile() method and what it is
>> donig to my XML templates. It seems to be HTMLifying my XML by doing
>> things like stripping the / out of <br />.
>
> Can you provide an example of this?  That's not something xmlfile is
> supposed to do, nor something I've ever seen it do.
>
Actually, my mistake. It is not nevow doing this. It is firefox. When
I view source the /'s are there but when I save the source from file
save the /'s have disappeared. Strange.

Anyway, perhaps I am barking up the wrong tree. What I am trying to do
is put inline SVG into my XHTML. When I saved the source of the XHTML
I found there were XML errors. Some of those appear now to have been
introduced by firefox when I saved the source of the page.

However, there is something from nevow that I don't understand. I have
a template that says something like this at the top.

<html xmlns:nevow="http://nevow.com/ns/nevow/0.1">
<head>
	<title>Firewall</title>

	<link href="/css/main.css" type="text/css" rel="stylesheet" />
        <script src="/js/core-functions.js" type="text/javascript"></script>
</head>

<body>

  <div class="topbar">


<< CUT >>

The output XHTML is like this....

<html><head><title>Athuentication</title></head><body><html>
<head>
	<title>Firewall</title>

	<link href="/css/main.css" type="text/css" rel="stylesheet" />
        <script src="/js/core-functions.js" type="text/javascript"></script>
</head>

<body>


<< CUT >>

Why it it putting the extra HTML tags in? How can I get the xmlns in
the <html> tag. Why is it putting <title> twice?


Bit confused about what this function is doing.

Thanks,

Abdul-Wahid

From exarkun at divmod.com  Sat Jun 28 11:12:45 2008
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Sat Jun 28 11:12:53 2008
Subject: [Twisted-web] nevow's loaders.xmlfile returning XML
In-Reply-To: <995fcdb00806280456q6004d87cqa4d882a8181a028d@mail.gmail.com>
Message-ID: <20080628151245.4714.1788998677.divmod.quotient.14439@ohm>

On Sat, 28 Jun 2008 14:56:37 +0300, Abdul-Wahid Paterson <abdulwahid@gmail.com> wrote:
> [snip]
>
>Anyway, perhaps I am barking up the wrong tree. What I am trying to do
>is put inline SVG into my XHTML. When I saved the source of the XHTML
>I found there were XML errors. Some of those appear now to have been
>introduced by firefox when I saved the source of the page.
>
>However, there is something from nevow that I don't understand. I have
>a template that says something like this at the top.
>
><html xmlns:nevow="http://nevow.com/ns/nevow/0.1">
><head>
>	<title>Firewall</title>
>
>	<link href="/css/main.css" type="text/css" rel="stylesheet" />
>        <script src="/js/core-functions.js" type="text/javascript"></script>
></head>
>
><body>
>
>  <div class="topbar">
>
>
><< CUT >>
>
>The output XHTML is like this....
>
><html><head><title>Athuentication</title></head><body><html>
><head>
>	<title>Firewall</title>
>
>	<link href="/css/main.css" type="text/css" rel="stylesheet" />
>        <script src="/js/core-functions.js" type="text/javascript"></script>
></head>
>
><body>
>
>
><< CUT >>
>
>Why it it putting the extra HTML tags in? How can I get the xmlns in
>the <html> tag. Why is it putting <title> twice?
>
>
>Bit confused about what this function is doing.
>

My guess is that you either have two templates that have html tags or
that you are loading one template with an html tag twice and then putting
one inside the other.  Nevow won't stop you from doing this, even though
in most cases, the result isn't very sensible.

Jean-Paul

From duncan.mcgreggor at gmail.com  Mon Jun 30 00:00:56 2008
From: duncan.mcgreggor at gmail.com (Duncan McGreggor)
Date: Mon Jun 30 00:01:01 2008
Subject: [Twisted-web] Twisted Hosting and Twisted in the Cloud
Message-ID: <4327dfbd0806292100y4723b30ema2698f52773c43da@mail.gmail.com>

Hey everyone,

Divmod's been talking to various hosting companies about potential
Twisted deals (and maybe even support). I wanted to get a gauge of
people's level of interest in the services we've been discussing.
We're currently looking at the following options:
 * Dedicated hosts, with Twisted libs pre-installed on them
 * Virtual hosts/"slices" with Twisted libs pre-installed on them
 * Clouds that support uploading and running Twisted apps
 * Potential support contracts where Divmod engineers provide
high-level assistance for paying customers
 * Becoming a reseller and offering these services directly through Divmod

I've been approached privately by a few developers who use Twisted in
their projects at home and at work with questions about Twisted
hosting. They've been interested to know if 1) Divmod does Twisted
hosting, 2) anyone provides "out of the box" support for Twisted, and
3) who we recommend.

I know that as the years pass, I have less and less time to manage my
own systems responsibly. After 6 years, I'm closing down my colocated
boxes. When Twisted makes it to the cloud, I'll close down my virtual
hosts, too. I just don't have the time any more. All I need is
reliable uptime for my apps (most of them are just sites with dynamic
content).

How many others on these lists feel that they would benefit from the
ease of pre-installed Twisted and/or support for Twisted apps in the
cloud?

If you do, what kinds of apps (that you are currently running) do you
want to be able to run in such environments? Simple web sites? DNS
servers? Game servers? Chat applications? Web/data services apps?

And lastly, what hosting companies are your favorites? Where would you
be happiest, if they supported Twisted? Would you consider switching
to a hosting provider that *did* support Twisted?

Looking forward to hearing the people speak,

d

From sipickles at googlemail.com  Mon Jun 30 03:12:56 2008
From: sipickles at googlemail.com (Simon Pickles)
Date: Mon Jun 30 03:20:11 2008
Subject: [Twisted-web] Twisted Hosting and Twisted in the Cloud
In-Reply-To: <4327dfbd0806292100y4723b30ema2698f52773c43da@mail.gmail.com>
References: <4327dfbd0806292100y4723b30ema2698f52773c43da@mail.gmail.com>
Message-ID: <48688778.3030106@googlemail.com>

Duncan McGreggor wrote:
> Hey everyone,
>
> Divmod's been talking to various hosting companies about potential
> Twisted deals (and maybe even support). I wanted to get a gauge of
> people's level of interest in the services we've been discussing.
> We're currently looking at the following options:
>  * Dedicated hosts, with Twisted libs pre-installed on them
>  * Virtual hosts/"slices" with Twisted libs pre-installed on them
>  * Clouds that support uploading and running Twisted apps
>  * Potential support contracts where Divmod engineers provide
> high-level assistance for paying customers
>  * Becoming a reseller and offering these services directly through Divmod
>
> I've been approached privately by a few developers who use Twisted in
> their projects at home and at work with questions about Twisted
> hosting. They've been interested to know if 1) Divmod does Twisted
> hosting, 2) anyone provides "out of the box" support for Twisted, and
> 3) who we recommend.
>
> I know that as the years pass, I have less and less time to manage my
> own systems responsibly. After 6 years, I'm closing down my colocated
> boxes. When Twisted makes it to the cloud, I'll close down my virtual
> hosts, too. I just don't have the time any more. All I need is
> reliable uptime for my apps (most of them are just sites with dynamic
> content).
>
> How many others on these lists feel that they would benefit from the
> ease of pre-installed Twisted and/or support for Twisted apps in the
> cloud?
>
> If you do, what kinds of apps (that you are currently running) do you
> want to be able to run in such environments? Simple web sites? DNS
> servers? Game servers? Chat applications? Web/data services apps?
>   
We use a stackless python/twisted self-hosted server with MySQL for our 
online game (in alpha). This isn't particularly satisfactory and would 
consider a twisted host in the future.

I made enquiries with several ISPs here in the UK and none were prepared 
to offer twisted capable servers. I guess divmod may have more leverage!
> And lastly, what hosting companies are your favorites? Where would you
> be happiest, if they supported Twisted? Would you consider switching
> to a hosting provider that *did* support Twisted?
>
> Looking forward to hearing the people speak,
>
> d
>
> _______________________________________________
> Twisted-web mailing list
> Twisted-web@twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web
>
>   


From graemeglass at gmail.com  Mon Jun 30 05:18:43 2008
From: graemeglass at gmail.com (Graeme Glass)
Date: Mon Jun 30 05:18:46 2008
Subject: [Twisted-web] Twisted Hosting and Twisted in the Cloud
In-Reply-To: <4327dfbd0806292100y4723b30ema2698f52773c43da@mail.gmail.com>
References: <4327dfbd0806292100y4723b30ema2698f52773c43da@mail.gmail.com>
Message-ID: <ead817660806300218i580d9a09u25999e803b6dfd42@mail.gmail.com>

On Mon, Jun 30, 2008 at 6:00 AM, Duncan McGreggor <
duncan.mcgreggor@gmail.com> wrote:

> Hey everyone,
>
> Divmod's been talking to various hosting companies about potential
> Twisted deals (and maybe even support). I wanted to get a gauge of
> people's level of interest in the services we've been discussing.
> We're currently looking at the following options:
>  * Dedicated hosts, with Twisted libs pre-installed on them
>  * Virtual hosts/"slices" with Twisted libs pre-installed on them
>  * Clouds that support uploading and running Twisted apps
>  * Potential support contracts where Divmod engineers provide
> high-level assistance for paying customers
>  * Becoming a reseller and offering these services directly through Divmod
>
> I've been approached privately by a few developers who use Twisted in
> their projects at home and at work with questions about Twisted
> hosting. They've been interested to know if 1) Divmod does Twisted
> hosting, 2) anyone provides "out of the box" support for Twisted, and
> 3) who we recommend.
>
> I know that as the years pass, I have less and less time to manage my
> own systems responsibly. After 6 years, I'm closing down my colocated
> boxes. When Twisted makes it to the cloud, I'll close down my virtual
> hosts, too. I just don't have the time any more. All I need is
> reliable uptime for my apps (most of them are just sites with dynamic
> content).
>
> How many others on these lists feel that they would benefit from the
> ease of pre-installed Twisted and/or support for Twisted apps in the
> cloud?
>
> If you do, what kinds of apps (that you are currently running) do you
> want to be able to run in such environments? Simple web sites? DNS
> servers? Game servers? Chat applications? Web/data services apps?
>
> And lastly, what hosting companies are your favorites? Where would you
> be happiest, if they supported Twisted? Would you consider switching
> to a hosting provider that *did* support Twisted?
>
> Looking forward to hearing the people speak,
>
> d
>

I would definitely be interested in pre-installed Twisted servers and
Virtual hosts. I currently use Twisted for serving dynamic web content, data
capturing and chat services. Webfaction is a great hosting company and they
have twisted support, albeit rather limited.

I would think that if Divmod where to offer this service, you would find
many a happy and eager python developer using your service.

G
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-web/attachments/20080630/0c=
b71513/attachment.htm
From p.mayers at imperial.ac.uk  Mon Jun 30 07:25:44 2008
From: p.mayers at imperial.ac.uk (Phil Mayers)
Date: Mon Jun 30 07:26:20 2008
Subject: [Twisted-web] xmlrpc resource file descriptor leak
Message-ID: <4868C2B8.4010109@imperial.ac.uk>

This is a bit vague, and I wanted to get some feedback before I submit a 
ticket.

We have a long-running twisted / nevow process that basically has:

  root
   \- RPC2 - a twisted.web.xmlrpc.XMLRPC sub-class
   \- ui   - nevow pages

The thing hung up over the weekend with "too many open file descriptors" 
and before I killed it I did an "lsof"; lots of the files were:

python25 20163  nsg   31u   REG              253,0      370   3276854 
/tmp/tmp5QJivu (deleted)

...and "cat /proc/20163/fd/31" shows:

<?xml version='1.0'?>
<methodCall>
<methodName>classify_maclist</methodName>
<params>
<param>
<value><string>HORPROD</string></value>
</param>
<param>
<value><array><data>
<value><string>xxxx</string></value>
</data></array></value>
</param>
<param>
<value><int>-1</int></value>
</param>
<param>
<value><int>5</int></value>
</param>
</params>
</methodCall>

...which is an XMLRPC call from a Zope server on another machine to this 
process. I presume the t.w.http.Request content is getting written to a 
tempfile, but I can't understand why - the Content-Length is tiny (<400 
bytes).

I can't seem to reproduce this in a sample application though; does 
anyone have any ideas how I can narrow down the problem?

