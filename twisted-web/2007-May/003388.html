<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Problem with web2 HTTP server + authentication
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Problem%20with%20web2%20HTTP%20server%20%2B%20authentication&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003382.html">
   <LINK REL="Next"  HREF="003389.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Problem with web2 HTTP server + authentication</H1>
    <B>Mircea Amarascu</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Problem%20with%20web2%20HTTP%20server%20%2B%20authentication&In-Reply-To="
       TITLE="[Twisted-web] Problem with web2 HTTP server + authentication">mircea at ag-projects.com
       </A><BR>
    <I>Thu May 31 11:09:19 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="003382.html">[Twisted-web] nevow &quot;context removal&quot;
</A></li>
        <LI>Next message: <A HREF="003389.html">[Twisted-web] Problem with web2 HTTP server + authentication
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3388">[ date ]</a>
              <a href="thread.html#3388">[ thread ]</a>
              <a href="subject.html#3388">[ subject ]</a>
              <a href="author.html#3388">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I'm using a web2 server with Basic authentication provided by 
twisted.web2.auth.basic

There are cases when PUT requests with attachments from a client time 
out, as following:

1. When the client issues the first PUT request, without an 
Authentication header, the server responds with a 401 Unauthorized 
before receiving all the attachment (I see this in a TCP trace made with 
ngrep). I want to ask if this is the right behavior, I saw that Apache 
waits for the entire attachment before replying with 401.

2.
The client I used sends the next PUT request right after the attachment, 
without an \r\n separator, e.g.

...&lt;closing-xml-tag&gt;PUT /resource HTTP/1.1
Host: ...

Is this normal ?

 Sometimes, when the attachment is bigger, some 10KB, the second PUT 
sent by the client (with the Authentication header present),  is not 
entirely received by the server, which times out as it waits for the 
entire attachment, with size = ContentLength. I've printed the data 
received on the TCP socket, in the doRead() method of 
twisted.internet.tcp.Connection, and I think sometimes in the processing 
the HTTPChannel or HTTPFactory stops reading the data, it close the 
connection for reading, or something like that.

Did anyone got a similar behavior?
Thank you.


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003382.html">[Twisted-web] nevow &quot;context removal&quot;
</A></li>
	<LI>Next message: <A HREF="003389.html">[Twisted-web] Problem with web2 HTTP server + authentication
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3388">[ date ]</a>
              <a href="thread.html#3388">[ thread ]</a>
              <a href="subject.html#3388">[ subject ]</a>
              <a href="author.html#3388">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
