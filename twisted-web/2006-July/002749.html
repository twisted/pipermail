<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] 
	Thoughts on documentation, wading into Twisted, Nevow, etc.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20%0A%09Thoughts%20on%20documentation%2C%20wading%20into%20Twisted%2C%20Nevow%2C%20etc.&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002759.html">
   <LINK REL="Next"  HREF="002750.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] 
	Thoughts on documentation, wading into Twisted, Nevow, etc.</H1>
    <B>Jean-Paul Calderone</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20%0A%09Thoughts%20on%20documentation%2C%20wading%20into%20Twisted%2C%20Nevow%2C%20etc.&In-Reply-To="
       TITLE="[Twisted-web] 
	Thoughts on documentation, wading into Twisted, Nevow, etc.">exarkun at divmod.com
       </A><BR>
    <I>Sun Jul  2 21:50:14 CDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="002759.html">[Twisted-web]  Thoughts on documentation, wading into Twisted,
	Nevow, etc.
</A></li>
        <LI>Next message: <A HREF="002750.html">[Twisted-web] 
	Thoughts on documentation, wading into Twisted, Nevow, etc.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2749">[ date ]</a>
              <a href="thread.html#2749">[ thread ]</a>
              <a href="subject.html#2749">[ subject ]</a>
              <a href="author.html#2749">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 3 Jul 2006 03:15:32 +0200, Terry Jones &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">terry at jon.es</A>&gt; wrote:
&gt;<i>Here's a summary of thoughts I've had over the last month or so. Please try
</I>&gt;<i>to take the following as positive / constructive. I'm happy to be involved
</I>&gt;<i>in trying to alleviate what some people may agree are problems.  Or people
</I>&gt;<i>may not agree that they're problems, which is fine too - more on this
</I>&gt;<i>below.
</I>
Thanks for taking the time to write this up, Terry.

&gt;<i>
</I>&gt;<i>A few months ago I started looking at various (mainly Python) frameworks
</I>&gt;<i>with an eye to using one for a project I'm working on. When I found Twisted
</I>&gt;<i>(and friends) I was really happy. I've been writing code for what seems
</I>&gt;<i>like a long time (30 years) and I think I'm pretty critical and demanding
</I>&gt;<i>when it comes to good and clean design. I certainly had not expected to
</I>&gt;<i>find something like Twisted and its various additional components. Without
</I>&gt;<i>having written a line of Twisted code, I made the decision to throw away a
</I>&gt;<i>full year of my own low-level, efficient, debugged, C code (networking,
</I>&gt;<i>custom RPC, argument marshaling, tons of sweat). That was a pretty serious
</I>&gt;<i>step, not taken lightly, and, I still think, a good one.
</I>
I'm very happy to hear that you like Twisted, particularly since you
already had such a significant investment in another project at the
time you came upon it.  I'm also glad it means enough to you to take
the time to write an email like this one.

&gt;<i>That's why I'm still here, spending hours writing this email, wanting to
</I>&gt;<i>press ahead, and willing to put in time and effort to help.
</I>&gt;<i>
</I>&gt;<i>In one corner then, we have a great foundation - elegant, dynamic, well
</I>&gt;<i>designed, full of potential, nice programming language, written by talented
</I>&gt;<i>and responsive developers, etc. But... in the other corner, documentation
</I>&gt;<i>that very often seems to be a complete shambles.
</I>&gt;<i>
</I>&gt;<i>There, I've said it.
</I>
Actually, I don't think this comes as much of a surprise to anyone. ;)

&gt;<i>
</I>&gt;<i>I don't claim that this is actually a problem. That depends. It may well be
</I>&gt;<i>that I've happened along at a moment which is not optimal for my needs and
</I>&gt;<i>abilities; that there is a well-organized design, development, and
</I>&gt;<i>documentation trajectory; and that I just happened to arrive at a bad point
</I>&gt;<i>on that curve.
</I>
I will go so far as to say that it is a problem.  Unfortunately this can't
be blamed on bad timing: if anything, the documentation is in better shape
now than at any other point at which I have been involved with the project.

The project has probably been in better shape with respect to design and 
development planning at various points, but documentation has almost always
been added with little or not forethought to the bigger picture.  The
current plugin document was written because I felt like slacking off work
one afternoon; the producer/consumer document (pitiful as it is) happened
because I was bored one sunday.  I can't really speak for the motivation
behind other writers, but I suspect it is similar in more cases than not.

That said, things have been improving.  The trend is pretty subtle but it
is definitely there.

&gt;<i>I fully sympathize with things being less well documented than they could
</I>&gt;<i>otherwise be.  I love writing code. Following the rise of highlighting
</I>&gt;<i>editors I've even become quite fond of comments. But I'm not even slightly
</I>&gt;<i>fond of writing external docs. I think an important part of getting things
</I>&gt;<i>right in design is to implement something that feels right and then rework
</I>&gt;<i>it until it really feels right and clean, and is also useful. There's
</I>&gt;<i>little point in documenting things before they have settled. Writing code,
</I>&gt;<i>debugging, re-designing, building apps on top of libraries - all those
</I>&gt;<i>things, to me, should take precedence over documentation. I don't believe
</I>&gt;<i>in writing fully fleshed-out specs, docs, and tests ahead of
</I>&gt;<i>implementation.  I even have little time or sympathy for people (like
</I>&gt;<i>myself in this case) who don't have what it takes to use emerging tools
</I>&gt;<i>before they're fully documented for use. I've spent plenty of my own free
</I>&gt;<i>time in the last 20 years writing, giving away, and supporting, code I felt
</I>&gt;<i>like producing.  So I think I understand the equation pretty well.
</I>
I can agree with most of what you said above.  The one thing I will disagree
with is not writing tests before the implementation.  Aside from their other
uses, tests can also serve as a form of documentation.  Twisted already
requires tests for all new functionality and all changes to existing
functionality.  Soon it will be required that all tests have docstrings
explaining their purpose.  While this isn't the same as comprehensive prose
describing the motivation and use of a particular API, it can often convey
much of the same information.

&gt;<i>But, Twisted and its related components are released. Valuable (to the
</I>&gt;<i>project) people are trying to use them. This can be frustrating. I think I
</I>&gt;<i>have a reasonably high frustration threshold (but maybe I'm wrong - maybe
</I>&gt;<i>I'm just old &amp; cranky).
</I>
True.  Hidden (or not so hidden) here is one of Twisted's biggest problems
right now.  Twisted's developer base is incredibly small, particularly when
considering the scope it encompasses.  Over half of Twisted was developed
by just four people.  With twisted.pb and twisted.web2 one might think that
the load has been spread out a bit more, but other factors have combined to
result in the opposite: over the last year almost 3/5ths of Twisted code
has been written by only three people.  That's a huge amount of effort by
an amazingly small team.

I can't argue that documentation would benefit a great deal of people, but
hopefully it should be clear now why Twisted's documentation isn't better
off than it is.  If anything, I think it's pretty unclear how it is as good
as it is. :)

&gt;<i>It's quite general to talk about &quot;Twisted and its related components&quot;.
</I>&gt;<i>There are many moving parts (some conveniently accompanied by moving
</I>&gt;<i>names).  So let me just pick on Nevow - it's perhaps in the middle in terms
</I>&gt;<i>of maturity, documentation, frustration level, etc. I actually don't mean
</I>&gt;<i>to single out Nevow in particular, but it has qualities that make it a good
</I>&gt;<i>example target for discussion. Apologies in advance to anyone this seems to
</I>&gt;<i>pick on - that's not my intention, I have no idea who wrote (or didn't
</I>&gt;<i>write) some of this stuff. I know Matt is involved as he's been kind enough
</I>&gt;<i>to several times send me long explanations and code in email.
</I>
Let me clarify Nevow's position a little bit.  Please excuse me if you are
already aware of these details, but I at least want to make sure the archive
contains an accurate description of this.

Glyph started Twisted and accumulated a community of developers.  For a
long time development was performed entirely by volunteers, mostly
scratching a personal itch (ie, no corporate contributions).  There are
a couple exceptions here, but by and large this is an accurate picture.

Later Divmod was started and produced, among other things, Nevow.  Nevow
developed by Divmod in support of a product being developed.  Much of it
went undocumented because the Divmod team knew how it worked well enough
and we had less than no time to spend writing down how to use it for other
people.  Heck, we were already giving it away for free. ;)  Much of what
there is in the way of documentation for Nevow came from the community
after most of the core ideas of Nevow had stabalized.  Unfortunately,
around that point Nevow became complete enough that Divmod didn't need to
invest much time in it (but not complete enough to make all our development
get done overnight by magic elves, so we still didn't have time to document
it) and Nevow started to drift as different parts of the community pulled
it in different directions.  This didn't help the documentation situation
much, since most of the time the only way a new feature was documented was
with another entry in examples.tac.  This went on for a while, as anyone
who has looked at examples.tac might guess.

Lately Nevow has gotten some more attention from Divmod and, while I don't
mean to imply that the directions Nevow was being pulled in by the community
were bad, it was certainly bad that there was no single direction.  A bit
more rudder is being applied now and hopefully in the near future this will
take Nevow to an even greater place than that at which it is now.

These circumstances are all specific to Nevow, of course, and you are talking
about a more general problem.  However, at least you know Nevow's story now,
and anyway it always turns out that whatever project you're talking about has
its own story, too, which explains exactly why it's in the shape it's in. :)

&gt;<i>
</I>&gt;<i>Again, I'm not claiming there's a problem here.
</I>&gt;<i>
</I>&gt;<i>I find Nevow to be extremely promising and yet quite cryptic. Sadly, I've
</I>&gt;<i>built dozens of web sites, many of them commercial, done under contracts
</I>&gt;<i>with real deadlines, budgets, staff, etc. I hate editing ugly templates in
</I>&gt;<i>awkward ugly non-code file formats. There's just so much disgusting stuff
</I>&gt;<i>out there. So to see Nevow and Stan is a real pleasure.  But to try to
</I>&gt;<i>understand it... argh. Hop onto google and try &quot;nevow documentation&quot; and
</I>&gt;<i>read through some other people's experiences (e.g.
</I>&gt;<i><A HREF="http://www.third-bit.com/pywebblog/archives/cat_twisted.html">http://www.third-bit.com/pywebblog/archives/cat_twisted.html</A>)
</I>&gt;<i>
</I>&gt;<i>The recent &quot;nevow documentation&quot; thread (kicked off by Manlio, at
</I>&gt;<i><A HREF="http://twistedmatrix.com/pipermail/twisted-web/2006-May/002652.html">http://twistedmatrix.com/pipermail/twisted-web/2006-May/002652.html</A>) is
</I>&gt;<i>mainly illustrative for its lack of conclusion. I don't find the suggested
</I>&gt;<i>page at <A HREF="http://divmod.org/trac/wiki/TitleIndex">http://divmod.org/trac/wiki/TitleIndex</A> to have much (if anything)
</I>&gt;<i>to do with documentation - it seems to be links to code. It's not clear if
</I>&gt;<i>the wiki is more a help or a hindrance (this is probably too condemning,
</I>&gt;<i>but after spending more than enough time looking at things that one later
</I>&gt;<i>discovers are out of date, replaced, deprecated, etc., you start to wonder
</I>&gt;<i>about everything).
</I>&gt;<i>
</I>&gt;<i>Nevow comes with many examples, and that's great. But they're still
</I>&gt;<i>cryptic. E.g., a grep url\\. */*.py in Nevow's examples directory gets me
</I>&gt;<i>over 30 hits, but I don't see that class documented anywhere and when I try
</I>&gt;<i>to use it in my code it doesn't work. E.g., formless is used in many
</I>&gt;<i>examples, but is apparently a dead end. If you disagree with that, you'll
</I>&gt;<i>be reinforcing my sentiment that things are a bit of a mess :-).
</I>&gt;<i>I can give more examples. There's quite a bit that seems very cryptic, and
</I>&gt;<i>I mean beyond the things described in the already very terse and piecemeal
</I>&gt;<i>Nevow documentation.  Of course it takes time to spell things out, but if
</I>&gt;<i>people want them I will. I already decided to take the evening off, have a
</I>&gt;<i>couple of beers, and write this email.
</I>&gt;<i>
</I>&gt;<i>Before trying to finish on a politically correct, upbeat, &amp; constructive
</I>&gt;<i>note, here's a question:
</I>&gt;<i>
</I>&gt;<i>How was it that Twisted (or just Nevow?) managed to lose the attentions of
</I>&gt;<i>Kieran Holland? He (she?) was clearly into Nevow, put a lot of effort into
</I>&gt;<i>understanding things, and yet headed off to Django, which, reading between
</I>&gt;<i>the lines, he/she didn't really think was even nearly up to the
</I>&gt;<i>Twisted/Nevow standard.  That's a bad loss. People who can read and write
</I>&gt;<i>code and who are willing to spend serious amounts of time helping ease
</I>&gt;<i>others into projects are so valuable. The Addendum of Kieran's Stan page
</I>&gt;<i>(<A HREF="http://www.kieranholland.com/code/documentation/nevow-stan/">http://www.kieranholland.com/code/documentation/nevow-stan/</A>) seems to
</I>&gt;<i>spell things out pretty clearly. It feels like the Nevow (and broader?)
</I>&gt;<i>community has done itself a serious disservice in losing Kieran's attention
</I>&gt;<i>(but, see above comments on whether this is perceived as a problem,
</I>&gt;<i>trajectories, etc).
</I>
I don't know the answer to this question.  I am somewhat curious myself.

&gt;<i>To me, totally on the outside, I do not get the impression that there is a
</I>&gt;<i>clear design, code, and release trajectory in place. It feels like there is
</I>&gt;<i>a bunch of very talented designers and coders who are banging out an
</I>&gt;<i>increasing number of cool projects at high speed, leaving a frustratingly
</I>&gt;<i>incomplete, misleading, and atrophying breadcrumb trail of documentation
</I>&gt;<i>behind them.
</I>
&gt;<i>From my comments above, you may gather that I don't entirely disagree with
</I>this assessment.  I hope that things are changing, though.

&gt;<i>On to another question: do people think there a problem here, or not?  The
</I>&gt;<i>answer may be no.  I think that's fine, I'm happy to be told to read the
</I>&gt;<i>code and to shut up. At least that would be definitive, and not at all
</I>&gt;<i>unwelcome.
</I>&gt;<i>
</I>&gt;<i>But, if you think there is a problem, what can we do? Here are some
</I>&gt;<i>possible concrete steps that wouldn't take huge amounts of time.
</I>&gt;<i>
</I>&gt;<i> 1) Go through all Twisted &amp; friends web sites and wiki and _ruthlessly
</I>&gt;<i>    delete everything_ that mentions obsolete, deprecated, or renamed
</I>&gt;<i>    projects / modules, broken links, example code using such, etc. There
</I>&gt;<i>    are many of these things, and they are highly misleading and
</I>&gt;<i>    frustrating and give a bad overall impression.
</I>
Marking things as deprecated or out of date might be better than deleting
things outright.  On the other hand, any documentation which refers to
code which actually doesn't exist anymore or is known to not work at all
should probably be removed.

&gt;<i> 2) State, where appropriate, that the source code is currently the best
</I>&gt;<i>    documentation. There's no shame in this, and it's much better than
</I>&gt;<i>    having people run across and waste time on obsolete docs, or spend time
</I>&gt;<i>    looking for things that do not exist. E.g., &quot;At this point the
</I>&gt;<i>    nevow.url class is totally undocumented. See examples/{x,y,z} for
</I>&gt;<i>    example usage and the code and comments in nevow/url.py for the best
</I>&gt;<i>    current documentation.&quot;
</I>
I think this is a good idea.  It seems obvious, but I don't think I've heard
it suggested before.  Of /course/ I always go to the source when I want to
know how something works, and I often recommend that other people do the
same, but having this specifically mentioned /in the documentation/ where
there would otherwise be no mention at all strikes me as very useful.  Just
knowing conclusively that ones search has failed rather than having to keep
looking in case the goal has been overlooked is quite valuable.

&gt;<i> 3) Have someone, preferably an outsider (could be me), write up and
</I>&gt;<i>    maintain a no-punches-pulled overview document about using the various
</I>&gt;<i>    Twisted components. Stick a link to this in a prominent place.
</I>&gt;<i>    <A HREF="http://twistedmatrix.com/trac/wiki/WebDevelopmentWithTwisted">http://twistedmatrix.com/trac/wiki/WebDevelopmentWithTwisted</A> is a good
</I>&gt;<i>    start.
</I>
This would be quite welcome.

&gt;<i> 4) Have someone go through example code to stick in more comments, get rid
</I>&gt;<i>    of old stuff (no need to rewrite if that takes too long, just throw it
</I>&gt;<i>    away). E.g., the widespread use of formless in Nevow examples. Is it
</I>&gt;<i>    in, is it out?  If the latter, get rid of it before more people die.
</I>
This would be useful as well, although I suspect the time would be better
spent writing up real documentation.

&gt;<i> 5) Have someone do some web searches for stuff known to be fixed or out of
</I>&gt;<i>    date, and send mail to the authors asking if they'd please consider
</I>&gt;<i>    updating or otherwise clarifying what they've written, could they add a
</I>&gt;<i>    link or a postscript, to help out future people looking to use Twisted
</I>&gt;<i>    &amp; friends? No need to try to hide the fact that things were a bit of a
</I>&gt;<i>    mess - just aim not to have people get an out-of-date impression or
</I>&gt;<i>    follow links to incorrect / obsolete pages (e.g., links to nevow.com).
</I>
This would be useful as well, if it could be done successfully.  I suspect
it is a losing battle, though.  What I would rather see is for more people
to contribute documentation to the project where it could be maintained,
even if the original authors no longer have the motivation to do so.

&gt;<i>I could probably come up with more suggestions. Given the inclinations of
</I>&gt;<i>(I assume) many people still reading this message, no-one is too much
</I>&gt;<i>inclined towards producing actual documentation (and it may not be the
</I>&gt;<i>right moment, as above). So it makes sense to focus on easy hits: purging
</I>&gt;<i>old crud, minimizing wasting the time of people looking to get involved,
</I>&gt;<i>making it clear what the barriers are (e.g., point people at the source,
</I>&gt;<i>tell them that at this point the only way to understand is to ask questions
</I>&gt;<i>(but time is precious) and to read the code).
</I>&gt;<i>
</I>&gt;<i>OK, enough words for now. Thanks again for all the help, all the code, etc.
</I>&gt;<i>
</I>&gt;<i>Terry
</I>&gt;<i>
</I>
You're very welcome.  Thank you for the well thought out criticism.

Jean-Paul

</PRE>
























































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002759.html">[Twisted-web]  Thoughts on documentation, wading into Twisted,
	Nevow, etc.
</A></li>
	<LI>Next message: <A HREF="002750.html">[Twisted-web] 
	Thoughts on documentation, wading into Twisted, Nevow, etc.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2749">[ date ]</a>
              <a href="thread.html#2749">[ thread ]</a>
              <a href="subject.html#2749">[ subject ]</a>
              <a href="author.html#2749">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
