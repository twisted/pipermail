<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Re: [Twisted-Python] again on nested sequence
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Re%3A%20%5BTwisted-Python%5D%20again%20on%20nested%20sequence&In-Reply-To=44BBC5B2.50109%40libero.it">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002814.html">
   <LINK REL="Next"  HREF="002818.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Re: [Twisted-Python] again on nested sequence</H1>
    <B>Valentino Volonghi aka Dialtone</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Re%3A%20%5BTwisted-Python%5D%20again%20on%20nested%20sequence&In-Reply-To=44BBC5B2.50109%40libero.it"
       TITLE="[Twisted-web] Re: [Twisted-Python] again on nested sequence">dialtone at divmod.com
       </A><BR>
    <I>Mon Jul 17 12:24:43 CDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="002814.html">[Twisted-web] Re: [Twisted-Python] again on nested sequence
</A></li>
        <LI>Next message: <A HREF="002818.html">[Twisted-web] Re: [Twisted-Python] again on nested sequence
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2816">[ date ]</a>
              <a href="thread.html#2816">[ thread ]</a>
              <a href="subject.html#2816">[ subject ]</a>
              <a href="author.html#2816">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 17 Jul 2006 15:15:30 -0200, Manlio Perillo &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">manlio_perillo at libero.it</A>&gt; wrote:
&gt;<i>Here is another solution:
</I>
The following is NOT a solution for multiple reasons the main of which is that the context is going away and soon you won't be able to use this.

The second is that IData is not for external use but rather internal Nevow usage.

&gt;<i>class Main(rend.Page):
</I>&gt;<i>    addSlash = True
</I>&gt;<i>    docFactory = loaders.xmlfile('nestedsequence.xhtml')
</I>&gt;<i>
</I>&gt;<i>    def data_control_list(self, ctx, data):
</I>&gt;<i>        print &quot;data_control_list&quot;
</I>&gt;<i>
</I>&gt;<i>        return [('a', 'first'),  ('b', 'second')]
</I>&gt;<i>
</I>&gt;<i>    def render_control(self, ctx, data):
</I>&gt;<i>        print 'render_control'
</I>&gt;<i>
</I>&gt;<i>        ctx.fillSlots('ctrl_label', data[1])
</I>&gt;<i>        ctx.fillSlots('ctrl_name', data[0])
</I>&gt;<i>
</I>&gt;<i>        option_list = [('1', 'uno'), ('2', 'due')]
</I>&gt;<i>        ctx.remember(option_list, inevow.IData)
</I>&gt;<i>
</I>&gt;<i>        return ctx.tag
</I>&gt;<i>
</I>&gt;<i>    def render_option(self, ctx, data):
</I>&gt;<i>        ctx.fillSlots('opt_label', data[1])
</I>&gt;<i>        ctx.fillSlots('opt_value', data[0])
</I>&gt;<i>
</I>&gt;<i>        return ctx
</I>&gt;<i>
</I>&gt;<i>The template is the same, the only change is
</I>&gt;<i>n:render=&quot;sequence&quot; instead of
</I>&gt;<i>n:render=&quot;option_list&quot;
</I>&gt;<i>in the &lt;select&gt; element.
</I>&gt;<i>
</I>&gt;<i>However there is a thing the I don't understand:
</I>&gt;<i>why render_control is called two times?
</I>&gt;<i>
</I>&gt;<i>In my previous solution, both render_option_list and render_control are
</I>&gt;<i> called two times.
</I>
I don't remember the template and thus I don't think I can be of any help here. But this way of coding is called 'being clever' and you'll regret it when you'll have to maintain that code or understand how the code actually works.

</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002814.html">[Twisted-web] Re: [Twisted-Python] again on nested sequence
</A></li>
	<LI>Next message: <A HREF="002818.html">[Twisted-web] Re: [Twisted-Python] again on nested sequence
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2816">[ date ]</a>
              <a href="thread.html#2816">[ thread ]</a>
              <a href="subject.html#2816">[ subject ]</a>
              <a href="author.html#2816">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
