<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Athena callRemote with str()
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Athena%20callRemote%20with%20str%28%29&In-Reply-To=20060701212016.29014.585032309.divmod.quotient.18279%40ohm">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002745.html">
   <LINK REL="Next"  HREF="002747.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Athena callRemote with str()</H1>
    <B>Phil Mayers</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Athena%20callRemote%20with%20str%28%29&In-Reply-To=20060701212016.29014.585032309.divmod.quotient.18279%40ohm"
       TITLE="[Twisted-web] Athena callRemote with str()">p.mayers at imperial.ac.uk
       </A><BR>
    <I>Sat Jul  1 18:01:49 CDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="002745.html">[Twisted-web] Athena callRemote with str()
</A></li>
        <LI>Next message: <A HREF="002747.html">[Twisted-web] Athena callRemote with str()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2746">[ date ]</a>
              <a href="thread.html#2746">[ thread ]</a>
              <a href="subject.html#2746">[ subject ]</a>
              <a href="author.html#2746">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jean-Paul Calderone wrote:
&gt;<i> On Sat, 01 Jul 2006 22:12:19 +0100, Phil Mayers 
</I>&gt;<i> &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">p.mayers at imperial.ac.uk</A>&gt; wrote:
</I>&gt;&gt;<i> Is the behaviour that Athena won't permit a server-side callRemote to 
</I>&gt;&gt;<i> return a str() and mandates a unicode() intentional? If so, what is 
</I>&gt;&gt;<i> the rationale?
</I>&gt;<i> 
</I>&gt;<i> Yep.  JavaScript doesn't have a byte string type, only a character string
</I>&gt;<i> type.  Athena won't guess what kind of characters you want to result from
</I>&gt;<i> a Python str.
</I>
Hmm. I had not appreciated the wholly character-based nature of 
javascript strings. Thanks - I'll recast str() as unicode(). In case 
anyone is interested the specific thing I was passing was packed MAC and 
IP addresses, which of course are not unicode strings, for a host 
management database. I will have to unpack them to get unambiguous 
encodings :o(

On a related note, is there any particular reason that Nevow uses it's 
own json lib instead of $thebetter of the python json libs? Because at 
least one of them has support for pluggable mappings of types to 
serialisers - e.g. DateTime -&gt; $thestringrep - allowing applications to 
be explicit and hook when sending complex types over the wire, but 
without having to do so in boilerplate each call.

Thinking about it some more, when operating in a Mantissa-like 
environment where multiple independent fragments from independent 
applications are running in a single page, the serialiser mappings would 
have to be per-fragment/application. Tricky.

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002745.html">[Twisted-web] Athena callRemote with str()
</A></li>
	<LI>Next message: <A HREF="002747.html">[Twisted-web] Athena callRemote with str()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2746">[ date ]</a>
              <a href="thread.html#2746">[ thread ]</a>
              <a href="subject.html#2746">[ subject ]</a>
              <a href="author.html#2746">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
