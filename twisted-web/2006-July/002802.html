<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Re: Thoughts on documentation, wading into Twisted, 
	Nevow, etc.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Re%3A%20Thoughts%20on%20documentation%2C%20wading%20into%20Twisted%2C%20%0A%09Nevow%2C%20etc.&In-Reply-To=32885.206.173.68.153.1152645058.squirrel%40www.wbsysnet.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002803.html">
   <LINK REL="Next"  HREF="002805.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Re: Thoughts on documentation, wading into Twisted, 
	Nevow, etc.</H1>
    <B>Valentino Volonghi aka Dialtone</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Re%3A%20Thoughts%20on%20documentation%2C%20wading%20into%20Twisted%2C%20%0A%09Nevow%2C%20etc.&In-Reply-To=32885.206.173.68.153.1152645058.squirrel%40www.wbsysnet.com"
       TITLE="[Twisted-web] Re: Thoughts on documentation, wading into Twisted, 
	Nevow, etc.">dialtone at divmod.com
       </A><BR>
    <I>Tue Jul 11 20:10:24 CDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="002803.html">[Twisted-web] Re: Thoughts on documentation, wading into Twisted, 
	Nevow, etc.
</A></li>
        <LI>Next message: <A HREF="002805.html">[Twisted-web] Re: Thoughts on documentation,
	wading into Twisted,  Nevow, etc.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2802">[ date ]</a>
              <a href="thread.html#2802">[ thread ]</a>
              <a href="subject.html#2802">[ subject ]</a>
              <a href="author.html#2802">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, 11 Jul 2006 15:10:58 -0400 (EDT), <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">lloyd at paisite.com</A> wrote:
&gt;<i>Hi Valentino,
</I>&gt;<i>
</I>&gt;<i>On Tue, July 11, 2006 8:07 am, Valentino Volonghi aka Dialtone wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> For IResource the right example is most_basic which uses the following
</I>&gt;&gt;<i> code:
</I>&gt;<i>
</I>&gt;<i>Note that I've added the road map to <A HREF="http://twisted.paisite.com.">http://twisted.paisite.com.</A>
</I>&gt;<i>
</I>&gt;<i>When I started to rebuild my Twisted environment, I realized that version
</I>&gt;<i>updates may have broken Turkey Adventures one through four.
</I>&gt;<i>
</I>&gt;<i>Todo list:
</I>&gt;<i>
</I>&gt;<i>1. Retest Adventures one through four using current Twisted versions.
</I>&gt;<i>2. Update Adventures one through four if necessary
</I>&gt;<i>
</I>&gt;<i>Once I have my environment back up I'll try to tackle these two tasks. If
</I>&gt;<i>anyone else feels so inclined, feel free to jump in.
</I>
&gt;<i>From what I've seen in your current adventures I don't think you'll need to
</I>update anything since currently you only use twisted.web which hasn't been
updated for a long time (and twisted.web2 will take its place when ready).

To be honest this changing-situation is true for Nevow too since in a branch
(already working and waiting review and approval) Nevow introduces 2 new objects
and a new way of dealing with pages that removes the context (ctx argument).

This is why in the next adventures I wouldn't spend much time talking about the
context except for some basic notions that are needed to do what the new objects
allow without using it. Don't worry about it too much then.

&gt;<i>Re: IRequest code:
</I>&gt;<i>
</I>&gt;<i>Great start, Valentino!
</I>&gt;<i>
</I>&gt;<i>Questions:
</I>&gt;<i>
</I>&gt;<i>-- Does this need some kind or wrapper to run it or will it run as is?
</I>
It will run as is on top of Nevow (which introduces some wrappers for twisted.web).

from twisted.internet import reactor
from nevow import appserver
site = appserver.NevowSite(root)
reactor.listenTCP(8080, site)

this lines added at the end of the file will make it work. You can run the
example obtained in this way using the standard:

python myscript.py
Then browing to <A HREF="http://localhost:8080/">http://localhost:8080/</A> will start the experience.

An alternative solution uses the tac file approach and is the following:

from twisted.application import strports, service
from nevow import appserver
application = service.Application('example')
website = appserver.NevowSite(root)
webservice = strports.service('8080', website)
webservice.setServiceParent(application)

You can run the example obtained in this way using:
twistd -noy myscript.tac
then browsing to <A HREF="http://localhost:8080/">http://localhost:8080/</A> will start the experience.

The tac extension is arbitrary and only used because the file uses this alternative
way of setting up the application.

&gt;<i>-- What's the step-by-step procedure to get it running?
</I>
See above.

&gt;<i>-- What should we see when we do get it running?
</I>
A root page with an Hello world and a link to a child page named foo.
Trying to get any other url except the one with the child foo will result in a 404.

If you go in the foo child you'll see a page with the content 'you are in foo'
and a link to foo's child page baz. Any other child page will result in a 404.

If you go in the baz child you'll see a page with the content 'you are in baz'.
This page has no children and any other url will result in a 404.

&gt;<i>-- How does it work?
</I>I think it is explained in the comments. I wouldn't know how to explain it better
without precise questions. :)

&gt;<i>-- From the big picture point-of-view, what have we learned by running
</I>&gt;<i>this code?
</I>
We have learned that Nevow is fundamentally based on the following request
processing schema:

arrives request \
                 --&gt; root resource \
                                    --&gt; root.locateChild(url segments)
                                    . child_resource.locateChild(url segments[1:])
                                    . child_resource2.locateChild(url segments[2:])
                                    . so forth until url segments == ()
                            ==&gt; FOUND RIGHT RESOURCE
                                    ==&gt; RIGHT_RESOURCE.renderHTTP()  \
browser &lt;================================


HTH.


</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002803.html">[Twisted-web] Re: Thoughts on documentation, wading into Twisted, 
	Nevow, etc.
</A></li>
	<LI>Next message: <A HREF="002805.html">[Twisted-web] Re: Thoughts on documentation,
	wading into Twisted,  Nevow, etc.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2802">[ date ]</a>
              <a href="thread.html#2802">[ thread ]</a>
              <a href="subject.html#2802">[ subject ]</a>
              <a href="author.html#2802">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
