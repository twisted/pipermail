<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Re: new nevow know-how needs...;-)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000215.html">
   <LINK REL="Next"  HREF="000217.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Re: new nevow know-how needs...;-)
   </H1>
    <B>James Y Knight
    </B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com"
       TITLE="[Twisted-web] Re: new nevow know-how needs...;-)">twisted-web@twistedmatrix.com
       </A><BR>
    <I>Fri, 5 Mar 2004 11:14:38 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="000215.html">[Twisted-web] Re: new nevow know-how needs...;-)
</A></li>
        <LI> Next message: <A HREF="000217.html">[Twisted-web] Re: Re: new nevow know-how needs...;-)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#216">[ date ]</a>
              <a href="thread.html#216">[ thread ]</a>
              <a href="subject.html#216">[ subject ]</a>
              <a href="author.html#216">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mar 5, 2004, at 6:15 AM, Alex Martelli wrote:
&gt;<i> So, won't every
</I>&gt;<i> HTML construct coming from a template of some form such as:
</I>&gt;<i>
</I>&gt;<i> &lt;span nevow:data=&quot;bar&quot;&gt;
</I>&gt;<i>     etc, etc
</I>&gt;<i> &lt;/span&gt;
</I>&gt;<i>
</I>&gt;<i> end up &quot;compiled&quot; into a &quot;span(data=directive('bar'))[etc, etc]&quot; 
</I>&gt;<i> anyway,
</I>&gt;<i> leading me right back into subtle issues of &quot;WHERE is this 'bar'
</I>&gt;<i> going to be looked up, depending on phase of the moon etc&quot;...?  Or are
</I>&gt;<i> there two different ways I should code that '&lt;span nevow:data=&quot;bar&quot;&gt;' 
</I>&gt;<i> in
</I>&gt;<i> the on-disk template depending on whether I mean one thing or the 
</I>&gt;<i> other?
</I>
Welll, it doesn't depend on the phase of the moon. directives always 
get looked up on the first data it finds above it in the tree. I'm not 
sure exactly what your question is, but, is it the lack of being able 
to go back up the tree? e.g.:
class MyPage:
   def data_foo(context, data):
     return {'bar':2, 'baz':3}
   def data_other(context, data):
     return 1
   docFactory = xmlstr(&quot;&quot;&quot;
   &lt;html&gt;
     &lt;span data=&quot;foo&quot;&gt;
       &lt;span data=&quot;bar&quot; render=&quot;string&quot;&gt;This works fine.&lt;/span&gt;
       &lt;span data=&quot;other&quot; render=&quot;string&quot;&gt;This won't work because 
'other' isn't a key in {'bar':2, 'baz':3}.&lt;/span&gt;
     &lt;/span&gt;
   &lt;/html&gt;&quot;&quot;&quot;)


&gt;<i> Anyway, if I understand correctly, I'll now get this &quot;new behavior&quot; 
</I>&gt;<i> with
</I>&gt;<i> just a cvs up on the (stand-alone) Nevow CVS, which I intend to do at
</I>&gt;<i> once, so I can experiment.
</I>
Yep.

&gt;<i> But, if I can get some explanation of how
</I>&gt;<i> things are designed to work, this might help.  Perhaps as small a 
</I>&gt;<i> change
</I>&gt;<i> as &quot;if the current IData remembrance is not adaptable to IContainer 
</I>&gt;<i> [and
</I>&gt;<i> perhaps also if it is, but its .get raises?], just back off to 
</I>&gt;<i> 'external'
</I>&gt;<i> IData remembrances until a satisfactory one is found&quot; would be 
</I>&gt;<i> sufficient
</I>&gt;<i> for my purposes, and -- if you can confirm there's no other solution 
</I>&gt;<i> that
</I>&gt;<i> better matches the current intent of the code -- I could experiment 
</I>&gt;<i> with
</I>&gt;<i> that kind of approach.
</I>
I dont think that's the right solution. Too magical. And, what if your 
data *is* a container but you still want to get to something outside 
it? One idea that's been proposed and that makes a lot of sense to me 
is a &quot;../&quot; syntax, so you could say data=&quot;../other&quot; or &quot;/other&quot; in the 
example above. It just hasn't been implemented yet.

James



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000215.html">[Twisted-web] Re: new nevow know-how needs...;-)
</A></li>
	<LI> Next message: <A HREF="000217.html">[Twisted-web] Re: Re: new nevow know-how needs...;-)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#216">[ date ]</a>
              <a href="thread.html#216">[ thread ]</a>
              <a href="subject.html#216">[ subject ]</a>
              <a href="author.html#216">[ author ]</a>
         </LI>
       </UL>
</body></html>
