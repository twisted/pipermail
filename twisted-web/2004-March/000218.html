<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Re: Re: new nevow know-how needs...;-)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000217.html">
   <LINK REL="Next"  HREF="000219.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Re: Re: new nevow know-how needs...;-)
   </H1>
    <B>James Y Knight
    </B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com"
       TITLE="[Twisted-web] Re: Re: new nevow know-how needs...;-)">twisted-web@twistedmatrix.com
       </A><BR>
    <I>Sat, 6 Mar 2004 15:41:55 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="000217.html">[Twisted-web] Re: Re: new nevow know-how needs...;-)
</A></li>
        <LI> Next message: <A HREF="000219.html">[Twisted-web] Re: Re: new nevow know-how needs...;-)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#218">[ date ]</a>
              <a href="thread.html#218">[ thread ]</a>
              <a href="subject.html#218">[ subject ]</a>
              <a href="author.html#218">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mar 6, 2004, at 3:07 AM, Alex Martelli wrote:
&gt;<i>  If there is any
</I>&gt;<i> possibility at all that the templates-author (a web designer separate
</I>&gt;<i> from the programmer who codes the logic behind the templates) may want
</I>&gt;<i> to get to such other data suppliers, &quot;hidden&quot; by the current mechanism,
</I>&gt;<i> then I have to code render methods that know how to get their own
</I>&gt;<i> data.
</I>
You could also write a render method that retrieves the root data (the 
page), and remembers it as IData. Then any data directive inside will 
use the Page as the container and call one of its data_ methods. I 
would consider this a horrible hack, but it will work; a path solution 
for directive() would be much cleaner.

&gt;<i> I have indeed experimented, with my adapter still in place and print
</I>&gt;<i> statements in said adapter to track when it's called; the number of
</I>&gt;<i> occurrences has dropped from many dozens to just a couple in a typical
</I>&gt;<i> rendering pass -- real progress, but still a LITTLE to go.
</I>
I'm not sure I understand. The function will be called exactly once per 
render of the associated tag. Anything else is a bug.

&gt;<i> It seems to me that, while a syntax to explicitly access &quot;overridden
</I>&gt;<i> names&quot; (of data suppliers) is helpful in some corner cases, the 
</I>&gt;<i> fundamental
</I>&gt;<i> mechanism should still be &quot;if a name has not been overridden it's still
</I>&gt;<i> accessible&quot; -- by analogy with OO programming, and also with CSS 
</I>&gt;<i> mechanics
</I>&gt;<i> (the latter may be more accessible to my target audience -- template 
</I>&gt;<i> authors
</I>&gt;<i> who are fundamentally web designers, rather than programmers).
</I>
In programming, the set of local names is generally not dynamic. With 
data, like this, it is. Think of the result of a data_users. The user 
names can be anything. It would be extremely dangerous to do '&lt;span 
data=&quot;usernames&quot;&gt;&lt;span data=&quot;title&quot;&gt;' expecting the page's data_title 
method to be called -- what if a user was later created with username 
'title'?

&gt;<i> new_data = IContainer(said_data).get('new_name')
</I>
Minor correction -- that is IContainer(said_data).child('new_name').

&gt;<i> Guess I'll try to play with these concepts in my copious spare time and
</I>&gt;<i> see if I can grasp enough of the remembrance and lookup mechanisms to
</I>&gt;<i> implement a sandbox version of this.  Any suggestions of where to focus
</I>&gt;<i> in the nevow sources?
</I>
The policy is implemented completely in the short function 
&quot;nevow.accessors.DirectiveAccessor&quot;. You could use things like 
context.locate(inevow.IData, depth=numDotDots+1) to search go up the 
context stack, or context.locate(inevow.IResource) to support an 
initial '/'.

James



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000217.html">[Twisted-web] Re: Re: new nevow know-how needs...;-)
</A></li>
	<LI> Next message: <A HREF="000219.html">[Twisted-web] Re: Re: new nevow know-how needs...;-)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#218">[ date ]</a>
              <a href="thread.html#218">[ thread ]</a>
              <a href="subject.html#218">[ subject ]</a>
              <a href="author.html#218">[ author ]</a>
         </LI>
       </UL>
</body></html>
