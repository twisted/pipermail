<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] LiveEvil output buffer patch
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000208.html">
   <LINK REL="Next"  HREF="000223.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] LiveEvil output buffer patch
   </H1>
    <B>Justin Johnson
    </B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com"
       TITLE="[Twisted-web] LiveEvil output buffer patch">twisted-web@twistedmatrix.com
       </A><BR>
    <I>Thu, 04 Mar 2004 14:46:01 -0600</I>
    <P><UL>
        <LI> Previous message: <A HREF="000208.html">[Twisted-web] LiveEvil output buffer patch
</A></li>
        <LI> Next message: <A HREF="000223.html">[Twisted-web] Nevow guard with other than 'root' resource
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#209">[ date ]</a>
              <a href="thread.html#209">[ thread ]</a>
              <a href="subject.html#209">[ subject ]</a>
              <a href="author.html#209">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This is a multi-part message in MIME format.

--_----------=_1078433161149340
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset=&quot;ISO-8859-1&quot;

After discussing this on twisted.web, I've created a new patch that adds
all necessary code to get buffering working.  Patch is attached.


On Thu, 04 Mar 2004 13:13:25 -0600, &quot;Justin Johnson&quot;
&lt;<A HREF="mailto:justinjohnson@fastmail.fm">justinjohnson@fastmail.fm</A>&gt; said:
&gt;<i> Will someone please apply the attached patch to liveevil?  It adds an
</I>&gt;<i> output buffer.  The only additional thing that is needed is for the
</I>&gt;<i> LiveEvil.output to be reset to None after every request.  I'm
</I>&gt;<i> accomplishing this in my own code currently by doing setting mind.output
</I>&gt;<i> = None.
</I>&gt;<i> 
</I>&gt;<i> I would like this code to be added now though, as it takes steps in the
</I>&gt;<i> right direction until we find the best place to put the code to reset the
</I>&gt;<i> output.
</I>&gt;<i> 
</I>&gt;<i> Comments?
</I>&gt;<i> 
</I>&gt;<i> -Justin
</I>
--_----------=_1078433161149340
Content-Disposition: attachment; filename=&quot;patch.txt&quot;
Content-Transfer-Encoding: base64
Content-Type: text/plain; name=&quot;patch.txt&quot;

SW5kZXg6IGxpdmVldmlsLnB5DQo9PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpS
Q1MgZmlsZTogL2N2cy9OZXZvdy9uZXZvdy9saXZlZXZpbC5weSx2DQpyZXRy
aWV2aW5nIHJldmlzaW9uIDEuMS4xLjENCmRpZmYgLXUgLXIxLjEuMS4xIGxp
dmVldmlsLnB5DQotLS0gbGl2ZWV2aWwucHkgMTkgRmViIDIwMDQgMDY6NDM6
MTcgLTAwMDAgICAgICAxLjEuMS4xDQorKysgbGl2ZWV2aWwucHkgNCBNYXIg
MjAwNCAyMDo0NDoyOSAtMDAwMA0KQEAgLTQsNiArNCw3IEBADQoNCiBmcm9t
IHR3aXN0ZWQuaW50ZXJuZXQgaW1wb3J0IHJlYWN0b3INCiBmcm9tIHR3aXN0
ZWQud2ViIGltcG9ydCByZXNvdXJjZSwgc2VydmVyDQorZnJvbSB0d2lzdGVk
LnByb3RvY29scyBpbXBvcnQgaHR0cA0KIGZyb20gbmV2b3cgaW1wb3J0IGV2
ZW50cywgdGFncw0KIGZyb20gbmV2b3cgaW1wb3J0IGluZXZvdw0KIGZyb20g
bmV2b3cgaW1wb3J0IGNvbXB5DQpAQCAtMzgsMTEgKzM5LDE2IEBADQogICAg
ICAgICAjIFRPRE8gc2V0IHVwIGFuIGV2ZW50IGh1Yg0KICAgICAgICAgc2Vs
Zi5ldmVudHMgPSBldmVudHMuRXZlbnROb3RpZmljYXRpb24oKQ0KICAgICAg
ICAgc2VsZi5ob29rdXBOb3RpZmljYXRpb25zID0gW10NCisgICAgICAgIHNl
bGYub3V0cHV0QnVmZmVyID0gW10NCg0KICAgICBkZWYgaG9va3VwT3V0cHV0
KHNlbGYsIG91dHB1dCwgZmluaXNoZXIgPSBOb25lKToNCiAgICAgICAgICNw
cmludCAib3V0cHV0IGhvb2tlZCB1cC4iDQogICAgICAgICBzZWxmLm91dHB1
dCA9IG91dHB1dA0KICAgICAgICAgc2VsZi5maW5pc2hlciA9IGZpbmlzaGVy
DQorICAgICAgICBmb3IgYnVmIGluIHNlbGYub3V0cHV0QnVmZmVyOg0KKyAg
ICAgICAgICAgIG91dHB1dChidWYpDQorICAgICAgICAgICAgcHJpbnQgIlNl
bnQgYnVmZmVyZWQgaXRlbTogIiwgYnVmDQorICAgICAgICBzZWxmLm91dHB1
dEJ1ZmZlciA9IFtdDQogICAgICAgICBmb3Igbm90aWZ5IGluIHNlbGYuaG9v
a3VwTm90aWZpY2F0aW9uczoNCiAgICAgICAgICAgICBub3RpZnkoc2VsZikN
Cg0KQEAgLTUxLDkgKzU3LDExIEBADQoNCiAgICAgZGVmIHNlbmRTY3JpcHQo
c2VsZiwgc2NyaXB0KToNCiAgICAgICAgIGlmIHNlbGYub3V0cHV0Og0KKyAg
ICAgICAgICAgICNwcmludCAib3V0cHV0IHNlbnQhIiwgc2NyaXB0DQogICAg
ICAgICAgICAgc2VsZi5vdXRwdXQoc2NyaXB0KQ0KICAgICAgICAgZWxzZToN
Ci0gICAgICAgICAgICBwcmludCAib3V0cHV0IGlnbm9yZWQhIiwgc2NyaXB0
DQorICAgICAgICAgICAgc2VsZi5vdXRwdXRCdWZmZXIuYXBwZW5kKHNjcmlw
dCkNCisgICAgICAgICAgICBwcmludCAib3V0cHV0IGJ1ZmZlcmVkISIsIHNj
cmlwdA0KDQogICAgIGRlZiBoYW5kbGVJbnB1dChzZWxmLCBpZGVudGlmaWVy
LCAqYXJncyk6DQogICAgICAgICAjc2VsZi5zZW5kU2NyaXB0KGlucHV0KQ0K
QEAgLTYzLDYgKzcxLDE0IEBADQogY2xhc3MgT3V0cHV0KHJlc291cmNlLlJl
c291cmNlKToNCiAgICAgZGVmIHJlbmRlcihzZWxmLCByZXF1ZXN0KToNCiAg
ICAgICAgIHNlbGYubWluZCA9IG1pbmQgPSByZXF1ZXN0LmdldFNlc3Npb24o
KS5nZXRDb21wb25lbnQoSUxpdmVFdmlsKQ0KKw0KKyAgICAgICAgIyMgV2hl
biB0aGUgY29ubmVjdGlvbiBpcyBsb3N0LCByZXNldCBMaXZlRXZpbC5vdXRw
dXQgdG8gTm9uZQ0KKyAgICAgICAgIyMgc28gd2Uga25vdyB3aGVuIHRvIGJ1
ZmZlciBhbmQgd2hlbiBub3QgdG8gYnVmZmVyDQorICAgICAgICBkZWYgX3Jl
c2V0T3V0cHV0KHJlc3VsdHMsIGxpdmVldmlsKToNCisgICAgICAgICAgICBs
aXZlZXZpbC5vdXRwdXQgPSBOb25lDQorICAgICAgICAgICAgcmV0dXJuIHJl
c3VsdHMNCisgICAgICAgIHJlcXVlc3Qubm90aWZ5RmluaXNoKCkuYWRkQm90
aChfcmVzZXRPdXRwdXQsIG1pbmQpDQorDQogICAgICAgICBtaW5kLmhvb2t1
cE91dHB1dChyZXF1ZXN0LndyaXRlLCByZXF1ZXN0LmZpbmlzaCkNCiAgICAg
ICAgIHJlYWN0b3IuY2FsbExhdGVyKDMwLCBzZWxmLm5vb3ApDQogICAgICAg
ICByZXR1cm4gc2VydmVyLk5PVF9ET05FX1lFVA0K

--_----------=_1078433161149340--



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000208.html">[Twisted-web] LiveEvil output buffer patch
</A></li>
	<LI> Next message: <A HREF="000223.html">[Twisted-web] Nevow guard with other than 'root' resource
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#209">[ date ]</a>
              <a href="thread.html#209">[ thread ]</a>
              <a href="subject.html#209">[ subject ]</a>
              <a href="author.html#209">[ author ]</a>
         </LI>
       </UL>
</body></html>
