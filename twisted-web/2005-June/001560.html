<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Formless, custom form layout
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Formless%2C%20custom%20form%20layout&In-Reply-To=42B32E63.50200%40the-moon.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001556.html">
   <LINK REL="Next"  HREF="001602.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Formless, custom form layout</H1>
    <B>Matt Goodall</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Formless%2C%20custom%20form%20layout&In-Reply-To=42B32E63.50200%40the-moon.net"
       TITLE="[Twisted-web] Formless, custom form layout">matt at pollenation.net
       </A><BR>
    <I>Sat Jun 18 08:23:08 MDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001556.html">[Twisted-web] Formless, custom form layout
</A></li>
        <LI>Next message: <A HREF="001602.html">[Twisted-web] Formless, custom form layout
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1560">[ date ]</a>
              <a href="thread.html#1560">[ thread ]</a>
              <a href="subject.html#1560">[ subject ]</a>
              <a href="author.html#1560">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Richard Wall wrote:
&gt;<i> Phil,
</I>&gt;<i> 
</I>&gt;<i> Have just learnt on irc that a replacement for formless is imminent...
</I>&gt;<i> <A HREF="svn://pollenation.net/forms/trunk">svn://pollenation.net/forms/trunk</A>
</I>
Grr, I keep telling people this in #twisted.web ... forms is *not* a
replacement for formless. Feel free to use forms if it meets your needs
but it's really only an HTML forms toolkit.

Perhaps I should explain my reasoning for forms better ...

Formless is really a naked object implementation. Formless is about
exposing the interface (attributes and methods) of an application's
object on the web.

In theory, formless is agnostic about how and where the forms are used
although, at present, there is only webform. Christopher Armstrong
(radix) once wrote a GTK+ renderer for formless typed interfaces but I
think it's probably dead now.

forms, by comparison, is not about object interfaces; it's about
explicitly creating a Form, adding fields to it, rendering it, and
processing it (with validation). Because forms is only interested in
HTML, it also allows a field's widget to be switched easily, without
having to create a new Typed subclass. For instance, I can add a Date
field to a forms form and choose to render that as a text input, three
inputs (dd/mm/yyyy) or even a &lt;select&gt; list of predefined dates, just by
changing the widget.

My original goal with forms was to provide a reasonably flexible HTML
forms package that developers *and* formless.webform could use. It will
never replace formless because it's working at a lower level but it
could potentially replace a lot of formless.webform. Unfortunately, I've
never had time to achieve the formless part of that goal but forms is
quite usable as it is.

In some ways, formless is actually more flexible than forms because it
supports almost complete customisation of the HTML output (see Nevow's
customform example). Personally, I find it quite cumbersome to use and,
since writing forms, I have not needed to customise the form to that
extent anyway. I have to admit that there are times when better control
of the generated HTML would be nice, but I've always got away with it so
far :).

&lt;rant&gt;
While I'm on the subject ;-) ... my pet hate is seeing people &quot;abuse&quot;
formless: using a nested TypedInterface to group attributes so they are
on the same form and submitted in one request; using autocallable to
submit a bunch of attributes because storing the data is easier in a
method than trying to hook into formless after the attributes are set.

I also dislike having to subclass Typed to provide a different widget,
even though the value I get back does not change.
&lt;/rant&gt;

Anyway, please try forms out and let me and the other Nevow developers
know what you think of it. If there is enough interest, and I can find
time, I will happily move it into Nevow. Heck, I'll even write some
tests for it ;-). If we can get formless.webform to use it, without
breaking everything people are already doing, then even better.

Cheers, Matt


&gt;<i> 
</I>&gt;<i> -RichardW.
</I>&gt;<i> 
</I>&gt;<i> Richard Wall wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i>Phil Mayers wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>Richard Wall wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>I am trying to customise my Formless layout based on
</I>&gt;&gt;&gt;&gt;<i>examples/customform.py, but I'm not sure how I can group inputs in
</I>&gt;&gt;&gt;&gt;<i>fieldsets.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>Good question. I asked the same one a while back (no reply - maybe the
</I>&gt;&gt;&gt;<i>mail didn't get through). I mused:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>It did, but I didn't spot it until after I'd posted my message. I've
</I>&gt;&gt;<i>learned alot since.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>I suspect I can subclass annotate.Typed or use the complexType stuff to
</I>&gt;&gt;&gt;<i>somehow group a textbox and dropdown together into one logical bit of
</I>&gt;&gt;&gt;<i>HTML that is rendered as a single &quot;control&quot;
</I>&gt;&gt;&gt;<i>...but other commitments have kept me from revisiting this
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>For custom output look at custom renderers. You have to register them as
</I>&gt;&gt;<i>adaptors using compy.registerAdaptor.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Read this article if adaptors are new to you (they were to me)...
</I>&gt;&gt;<i><A HREF="http://twistedmatrix.com/projects/core/documentation/howto/components.html">http://twistedmatrix.com/projects/core/documentation/howto/components.html</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Incase your wondering where Nevow registers it's default adaptors (I
</I>&gt;&gt;<i>did) they're in nevow/__init__.py.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Some examples...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>A multiple choice element (missing from Nevow)...
</I>&gt;&gt;<i><A HREF="http://deadbeefbabe.org/paste/888">http://deadbeefbabe.org/paste/888</A>
</I>&gt;&gt;<i>...I'd like to see this (or something similar) included as default. It's
</I>&gt;&gt;<i>a very common form pattern.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>A date parser element. User can enter date into text box however they
</I>&gt;&gt;<i>want...
</I>&gt;&gt;<i><A HREF="http://deadbeefbabe.org/paste/889">http://deadbeefbabe.org/paste/889</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>A fix for the output of radio lists...
</I>&gt;&gt;<i><A HREF="http://deadbeefbabe.org/paste/890">http://deadbeefbabe.org/paste/890</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>eg. <A HREF="http://rafb.net/paste/results/dhZOhk37.html">http://rafb.net/paste/results/dhZOhk37.html</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>I get a 404
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>I think they expire after a while. Have used another pastebin here.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>That's my ideal layout, can anyone give me hints on howto achieve it?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>Let me know if you find out!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>I found out on #twisted.web from fog, STemplar and others.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>First checkout examples/customform.py from Nevow svn but it doesn't
</I>&gt;&gt;<i>demonstrate argument slots (as opposed to argument patterns)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Here's an example of argument slots and patterns...
</I>&gt;&gt;<i><A HREF="http://rafb.net/paste/results/Tko2XM57.html">http://rafb.net/paste/results/Tko2XM57.html</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>So you do get control over each arguments layout and position. The
</I>&gt;&gt;<i>default Nevow argument pattern doesn't validate (div inside span!).
</I>&gt;&gt;<i>Using dl,dt,dd makes more sense.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>You might also want to apply this patch to nevow...
</I>&gt;&gt;<i><A HREF="http://divmod.org/users/roundup.twistd/nevow/issue203">http://divmod.org/users/roundup.twistd/nevow/issue203</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Hope this saves you some time.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>-RichardW.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-web mailing list
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">Twisted-web at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web</A>
</I>

-- 
     __
    /  \__     Matt Goodall, Pollenation Internet Ltd
    \__/  \    w: <A HREF="http://www.pollenation.net">http://www.pollenation.net</A>
  __/  \__/    e: <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">matt at pollenation.net</A>
 /  \__/  \    t: +44 (0)113 2252500
 \__/  \__/
 /  \	       Any views expressed are my own and do not necessarily
 \__/          reflect the views of my employer.

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001556.html">[Twisted-web] Formless, custom form layout
</A></li>
	<LI>Next message: <A HREF="001602.html">[Twisted-web] Formless, custom form layout
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1560">[ date ]</a>
              <a href="thread.html#1560">[ thread ]</a>
              <a href="subject.html#1560">[ subject ]</a>
              <a href="author.html#1560">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
