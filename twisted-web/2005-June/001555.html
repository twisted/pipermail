<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Returning Deferred from coerce method in formless
	- patch
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Returning%20Deferred%20from%20coerce%20method%20in%20formless%0A%09-%20patch&In-Reply-To=44BB17A4-4F02-418A-B4DA-1F72F2D32E00%40ulaluma.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001548.html">
   <LINK REL="Next"  HREF="001541.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Returning Deferred from coerce method in formless
	- patch</H1>
    <B>Jp Calderone</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Returning%20Deferred%20from%20coerce%20method%20in%20formless%0A%09-%20patch&In-Reply-To=44BB17A4-4F02-418A-B4DA-1F72F2D32E00%40ulaluma.com"
       TITLE="[Twisted-web] Returning Deferred from coerce method in formless
	- patch">exarkun at divmod.com
       </A><BR>
    <I>Thu Jun 16 23:47:17 MDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001548.html">[Twisted-web] Returning Deferred from coerce method in formless -
	patch
</A></li>
        <LI>Next message: <A HREF="001541.html">[Twisted-web] XML-RPC and None
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1555">[ date ]</a>
              <a href="thread.html#1555">[ thread ]</a>
              <a href="subject.html#1555">[ subject ]</a>
              <a href="author.html#1555">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 16 Jun 2005 12:04:58 -0700, Donovan Preston &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">dp at ulaluma.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i>On Jun 15, 2005, at 8:43 PM, Andrea Arcangeli wrote:
</I>&gt;&gt;<i>On Wed, Jun 15, 2005 at 07:46:46PM +0200, Michal Pasternak wrote:
</I>&gt;&gt;&gt;<i>various reasons. You could validate an e-mail address using
</I>&gt;&gt;&gt;<i>queries to DNS servers, or you could validate login name
</I>&gt;<i>
</I>&gt;&gt;<i>Thanks for working to add this feature.
</I>&gt;<i>
</I>&gt;<i>I got it to work, but I'm seeing some weirdness in several  situations. I 
</I>&gt;<i>guess they would be classified &quot;regressions&quot;.
</I>&gt;<i>
</I>&gt;<i>I seem to need this all of a sudden, so you are in luck. I will take  a look 
</I>&gt;<i>at fixing the weirdness I see and try to fix it, and commit it  to trunk 
</I>&gt;<i>soon.
</I>&gt;&gt;<i>BTW, I'd also need &quot;context&quot; to be passed to the coerce method (as  last
</I>&gt;&gt;<i>argument), I had to write my own ProcessTypedContext to do that, and
</I>&gt;&gt;<i>it'd be much nicer if the default formless process handler would pass
</I>&gt;&gt;<i>the context to coerce too (though I believe it would break current  apps,
</I>&gt;&gt;<i>but it'd be a very visible breakage, no risk of silent malfunctions at
</I>&gt;&gt;<i>runtime). Said that I also appreciate backwards compatibility ;)
</I>&gt;<i>
</I>&gt;<i>It should be the first argument, for consistency. Also, to retain  backwards 
</I>&gt;<i>compatibility, we could rename the &quot;coerce&quot; method which  takes a context. 
</I>&gt;<i>Perhaps it could be named &quot;convert&quot;.
</I>&gt;&gt;<i>I need the context in order to reach the session with
</I>&gt;&gt;<i>inevow.ISession(ctx) inside the coerce handler.
</I>&gt;<i>
</I>&gt;<i>Indeed. formless was originally designed to be web-agnostic and be  usable 
</I>&gt;<i>outside of nevow, but in this case I think it's compelling  enough to allow 
</I>&gt;<i>it.
</I>&gt;<i>
</I>
Rather than propagating the context to yet another API, how about just improving the support for dynamic autocallable signatures?  If it weren't so difficult to do dynamic bindings, Typed subclasses could be instantiated with references to anything they needed, rather than needing to magically pull objects out of thin air.

I also wonder what's more compelling about this use-case than about any other use-case of the context.

Jp

</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001548.html">[Twisted-web] Returning Deferred from coerce method in formless -
	patch
</A></li>
	<LI>Next message: <A HREF="001541.html">[Twisted-web] XML-RPC and None
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1555">[ date ]</a>
              <a href="thread.html#1555">[ thread ]</a>
              <a href="subject.html#1555">[ subject ]</a>
              <a href="author.html#1555">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
