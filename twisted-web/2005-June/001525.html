<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] problem with livepage-completion-notification-3
	branche
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20problem%20with%20livepage-completion-notification-3%0A%09branche&In-Reply-To=20050607025205.GC12536%40m.0xx0.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001524.html">
   <LINK REL="Next"  HREF="001526.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] problem with livepage-completion-notification-3
	branche</H1>
    <B>Donovan Preston</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20problem%20with%20livepage-completion-notification-3%0A%09branche&In-Reply-To=20050607025205.GC12536%40m.0xx0.net"
       TITLE="[Twisted-web] problem with livepage-completion-notification-3
	branche">dp at ulaluma.com
       </A><BR>
    <I>Tue Jun  7 11:22:28 MDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001524.html">[Twisted-web] problem with livepage-completion-notification-3
	branche
</A></li>
        <LI>Next message: <A HREF="001526.html">[Twisted-web] Need help getting started...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1525">[ date ]</a>
              <a href="thread.html#1525">[ thread ]</a>
              <a href="subject.html#1525">[ subject ]</a>
              <a href="author.html#1525">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Jun 6, 2005, at 7:52 PM, Siegmund Fuehringer wrote:

&gt;<i> hi!
</I>&gt;<i>
</I>&gt;<i> livepage doesn't work, when i return a LivePage instance from
</I>&gt;<i> a childFactory.
</I>&gt;<i>
</I>&gt;<i> eg:
</I>&gt;<i> class Test( livepage.LivePage ):
</I>&gt;<i> ...
</I>&gt;<i> class Root( rend.Page ):
</I>&gt;<i>     def childFactory( self, ctx, name ):
</I>&gt;<i>     return Test( )   &lt;---- doesn't work
</I>&gt;<i>
</I>&gt;<i>     child_muh = Test( )  &lt;---- works
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> it works in nevow trunk though.
</I>
Yes. This is correct. This gives the developer the correct amount of  
control over the lifetime of all ClientHandle instances associated  
with a LivePage.

If you want to build your LivePage in a childFactory method, just  
build it and cache it somewhere (self, for example) that will live  
for the appropriate lifetime for your application (which may be the  
entire lifetime of the application). Then, return the same instance  
out of this cache the next time it is requested. In this way, all  
LivePage requests go through the same LivePage instance, and thus  
through the same clientHandleFactory, and thus the correct  
ClientHandle instances can be located.

This allows you to do things like have one LivePage per person, using  
guard, or share the same LivePage between everybody, by always  
returning the same instance for the same URL.

Donovan


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001524.html">[Twisted-web] problem with livepage-completion-notification-3
	branche
</A></li>
	<LI>Next message: <A HREF="001526.html">[Twisted-web] Need help getting started...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1525">[ date ]</a>
              <a href="thread.html#1525">[ thread ]</a>
              <a href="subject.html#1525">[ subject ]</a>
              <a href="author.html#1525">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
