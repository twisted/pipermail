<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Livepage, ClientHandle and context [continued]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Livepage%2C%20ClientHandle%20and%20context%20%5Bcontinued%5D&In-Reply-To=42C09896.1080602%40feedtagger.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001582.html">
   <LINK REL="Next"  HREF="001583.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Livepage, ClientHandle and context [continued]</H1>
    <B>Donovan Preston</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Livepage%2C%20ClientHandle%20and%20context%20%5Bcontinued%5D&In-Reply-To=42C09896.1080602%40feedtagger.com"
       TITLE="[Twisted-web] Livepage, ClientHandle and context [continued]">dp at ulaluma.com
       </A><BR>
    <I>Tue Jun 28 12:51:46 MDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001582.html">[Twisted-web] Livepage, ClientHandle and context [continued]
</A></li>
        <LI>Next message: <A HREF="001583.html">[Twisted-web] Generating exe using Twisted py2exe
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1590">[ date ]</a>
              <a href="thread.html#1590">[ thread ]</a>
              <a href="subject.html#1590">[ subject ]</a>
              <a href="author.html#1590">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Jun 27, 2005, at 5:23 PM, Chris Were wrote:

&gt;<i> I'd say dispatch is fine (and not just because I'd like to see this
</I>&gt;<i> implemented ;-)
</I>&gt;<i> Taking from the chatola example:
</I>&gt;<i> return context.tag(onsubmit=livepage.handler(onSubmit,
</I>&gt;<i> getValue('inputline')))
</I>&gt;<i>
</I>&gt;<i> What would be good is if something similar could be used with  
</I>&gt;<i> dispatch,
</I>&gt;<i> perhaps the following (assuming this code is within a fragment):
</I>&gt;<i>
</I>&gt;<i> return context.tag(onsubmit=livepage.handler(onSubmit,
</I>&gt;<i> getValue('inputline',self)))
</I>&gt;<i> ie: livepage.handler(func,arg,fragment=None)
</I>&gt;<i>
</I>&gt;<i> if this mapped the javascript to
</I>&gt;<i> server.handleWithPath('action','fragment','arg') and also mapped  
</I>&gt;<i> (if not
</I>&gt;<i> there already) the dispatch_fragment in the MainPage
</I>&gt;<i>
</I>&gt;<i> Would something along those lines be feasible?
</I>
This is already possible using IClientHandle.transient. The problem  
with allowing arbitrary callables from arbitrary objects is that you  
have to identify them somehow using a string which can then later be  
used to retrieve the same object/callable. Forcing the developer to  
use strings (dispatch_*/handle_* and handleWithPath) means that  
everything about which callables are exposed is explicit, and the  
lifetime is well-defined.

&gt;&gt;<i> I suggest using a query parameter rather than an additional URL  
</I>&gt;&gt;<i> segment. xml is a different &quot;view&quot; of the same &quot;object&quot;; in my  
</I>&gt;&gt;<i> opinion, URLs should represent &quot;objects&quot; (Resources) and query  
</I>&gt;&gt;<i> parameters should be used to parameterize how the view renders.  
</I>&gt;&gt;<i> One might also be able to use the &quot;Accept&quot; header that browsers  
</I>&gt;&gt;<i> send to negotiate the rendered content type. But this is just a  
</I>&gt;&gt;<i> suggestion. Whatever works for you is fine with me :-)
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I tend to agree that xml is a different &quot;view&quot;, but I see a benefit  
</I>&gt;<i> in a
</I>&gt;<i> REST-like approach to have /xml at the end of an existing Resource...
</I>&gt;<i> perhaps the idea that /xml is an extended view to the existing  
</I>&gt;<i> Resource.
</I>
But this is exactly why I was proposing using query args. REST is  
representational state transfer of web resources; with foo/ and foo/ 
xml you have two separate web resources which should really only be  
one resource. With a query parameter and one resource, the query  
parameter (or header, etc) is requesting a different representation  
of the state of that one resource.

Donovan


</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001582.html">[Twisted-web] Livepage, ClientHandle and context [continued]
</A></li>
	<LI>Next message: <A HREF="001583.html">[Twisted-web] Generating exe using Twisted py2exe
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1590">[ date ]</a>
              <a href="thread.html#1590">[ thread ]</a>
              <a href="subject.html#1590">[ subject ]</a>
              <a href="author.html#1590">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
