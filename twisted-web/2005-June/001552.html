<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Formless, custom form layout
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Formless%2C%20custom%20form%20layout&In-Reply-To=42B20565.3060809%40imperial.ac.uk">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001551.html">
   <LINK REL="Next"  HREF="001556.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Formless, custom form layout</H1>
    <B>Richard Wall</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Formless%2C%20custom%20form%20layout&In-Reply-To=42B20565.3060809%40imperial.ac.uk"
       TITLE="[Twisted-web] Formless, custom form layout">m-lists at the-moon.net
       </A><BR>
    <I>Thu Jun 16 17:56:29 MDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001551.html">[Twisted-web] Formless, custom form layout
</A></li>
        <LI>Next message: <A HREF="001556.html">[Twisted-web] Formless, custom form layout
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1552">[ date ]</a>
              <a href="thread.html#1552">[ thread ]</a>
              <a href="subject.html#1552">[ subject ]</a>
              <a href="author.html#1552">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Phil Mayers wrote:
&gt;<i> Richard Wall wrote:
</I>&gt;&gt;<i> I am trying to customise my Formless layout based on
</I>&gt;&gt;<i> examples/customform.py, but I'm not sure how I can group inputs in
</I>&gt;&gt;<i> fieldsets.
</I>&gt;<i> Good question. I asked the same one a while back (no reply - maybe the
</I>&gt;<i> mail didn't get through). I mused:
</I>
It did, but I didn't spot it until after I'd posted my message. I've
learned alot since.

&gt;<i> I suspect I can subclass annotate.Typed or use the complexType stuff to
</I>&gt;<i> somehow group a textbox and dropdown together into one logical bit of
</I>&gt;<i> HTML that is rendered as a single &quot;control&quot;
</I>&gt;<i> ...but other commitments have kept me from revisiting this
</I>
For custom output look at custom renderers. You have to register them as
adaptors using compy.registerAdaptor.

Read this article if adaptors are new to you (they were to me)...
<A HREF="http://twistedmatrix.com/projects/core/documentation/howto/components.html">http://twistedmatrix.com/projects/core/documentation/howto/components.html</A>

Incase your wondering where Nevow registers it's default adaptors (I
did) they're in nevow/__init__.py.

Some examples...

A multiple choice element (missing from Nevow)...
<A HREF="http://deadbeefbabe.org/paste/888">http://deadbeefbabe.org/paste/888</A>
...I'd like to see this (or something similar) included as default. It's
a very common form pattern.

A date parser element. User can enter date into text box however they
want...
<A HREF="http://deadbeefbabe.org/paste/889">http://deadbeefbabe.org/paste/889</A>

A fix for the output of radio lists...
<A HREF="http://deadbeefbabe.org/paste/890">http://deadbeefbabe.org/paste/890</A>

&gt;&gt;<i> eg. <A HREF="http://rafb.net/paste/results/dhZOhk37.html">http://rafb.net/paste/results/dhZOhk37.html</A>
</I>&gt;<i> I get a 404
</I>
I think they expire after a while. Have used another pastebin here.

&gt;&gt;<i> That's my ideal layout, can anyone give me hints on howto achieve it?
</I>&gt;<i> Let me know if you find out!
</I>
I found out on #twisted.web from fog, STemplar and others.

First checkout examples/customform.py from Nevow svn but it doesn't
demonstrate argument slots (as opposed to argument patterns)

Here's an example of argument slots and patterns...
<A HREF="http://rafb.net/paste/results/Tko2XM57.html">http://rafb.net/paste/results/Tko2XM57.html</A>

So you do get control over each arguments layout and position. The
default Nevow argument pattern doesn't validate (div inside span!).
Using dl,dt,dd makes more sense.

You might also want to apply this patch to nevow...
<A HREF="http://divmod.org/users/roundup.twistd/nevow/issue203">http://divmod.org/users/roundup.twistd/nevow/issue203</A>

Hope this saves you some time.

-RichardW.


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001551.html">[Twisted-web] Formless, custom form layout
</A></li>
	<LI>Next message: <A HREF="001556.html">[Twisted-web] Formless, custom form layout
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1552">[ date ]</a>
              <a href="thread.html#1552">[ thread ]</a>
              <a href="subject.html#1552">[ subject ]</a>
              <a href="author.html#1552">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
