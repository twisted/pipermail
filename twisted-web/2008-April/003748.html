<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] web2 stream errback's with ConnectionDone: Connection
	was closed cleanly
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20web2%20stream%20errback%27s%20with%20ConnectionDone%3A%20Connection%0A%09was%20closed%20cleanly&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003746.html">
   <LINK REL="Next"  HREF="003749.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] web2 stream errback's with ConnectionDone: Connection
	was closed cleanly</H1>
    <B>Cameron Dale</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20web2%20stream%20errback%27s%20with%20ConnectionDone%3A%20Connection%0A%09was%20closed%20cleanly&In-Reply-To="
       TITLE="[Twisted-web] web2 stream errback's with ConnectionDone: Connection
	was closed cleanly">camrdale at gmail.com
       </A><BR>
    <I>Sun Apr 20 19:29:44 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003746.html">[Twisted-web] HTTPClient vs. HTTPClientFactory
</A></li>
        <LI>Next message: <A HREF="003749.html">[Twisted-web] how to serve static files?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3748">[ date ]</a>
              <a href="thread.html#3748">[ thread ]</a>
              <a href="subject.html#3748">[ subject ]</a>
              <a href="author.html#3748">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I just upgraded from an April 2007 SVN version of twisted web2 to 8.0,
and I started getting some errors from my client streams. The errors
don't really seem to be errors though, as they only indicate that the
connection was closed properly, which it is supposed to be.

I'm not sure if this &quot;error&quot; is something I should be handling myself,
or if there is some defect in web2 since maybe it should handle this
situation itself.

I traced the change that is causing this to changeset 21366:

<A HREF="http://twistedmatrix.com/trac/changeset/21366">http://twistedmatrix.com/trac/changeset/21366</A>

where I think the relevant change is the new call to stream.finish()
added to the _error() function. Perhaps _error() or stream.finish()
should be handling ConnectionDone errors?

Thanks,
Cameron

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003746.html">[Twisted-web] HTTPClient vs. HTTPClientFactory
</A></li>
	<LI>Next message: <A HREF="003749.html">[Twisted-web] how to serve static files?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3748">[ date ]</a>
              <a href="thread.html#3748">[ thread ]</a>
              <a href="subject.html#3748">[ subject ]</a>
              <a href="author.html#3748">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
