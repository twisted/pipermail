<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] athena widgets and IE
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20athena%20widgets%20and%20IE&In-Reply-To=20061011123146.1717.2032044096.divmod.quotient.73618%40ohm">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003086.html">
   <LINK REL="Next"  HREF="003088.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] athena widgets and IE</H1>
    <B>Fabio Forno</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20athena%20widgets%20and%20IE&In-Reply-To=20061011123146.1717.2032044096.divmod.quotient.73618%40ohm"
       TITLE="[Twisted-web] athena widgets and IE">fabio.forno at gmail.com
       </A><BR>
    <I>Wed Oct 11 17:19:04 CDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="003086.html">[Twisted-web] athena widgets and IE
</A></li>
        <LI>Next message: <A HREF="003088.html">[Twisted-web] athena widgets and IE
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3087">[ date ]</a>
              <a href="thread.html#3087">[ thread ]</a>
              <a href="subject.html#3087">[ subject ]</a>
              <a href="author.html#3087">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10/11/06, Jean-Paul Calderone &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">exarkun at divmod.com</A>&gt; wrote:

&gt;<i> It's better to not use getElementById.  Instead, make the chat area node
</I>&gt;<i> a child of the ChatWidget's node and find it either by class or using the
</I>&gt;<i> new Widget.nodeById method.
</I>&gt;<i>
</I>
I'm using trunk, but I can't find it. Anyway in the handler I've no
problems in getting references to the items of the page, instead it's
the reference to handler that makes problems.

&gt;<i> Likewise, &quot;athena:1&quot; is an implementation detail, and you can't rely on
</I>&gt;<i> your widget getting id &quot;1&quot; all the time.
</I>
Yep, this was only a quick shortcut for doing a test trying to have a
ref to the handler.

&gt;<i> Instead, try using the
</I>&gt;<i> athena:handler feature:
</I>&gt;<i>
</I>&gt;<i>     &lt;div nevow:render=&quot;liveFragment&quot;&gt;
</I>&gt;<i>       ...
</I>&gt;<i>       &lt;textarea&gt;
</I>&gt;<i>           &lt;athena:handler event=&quot;onkeypress&quot; handler=&quot;keyPressed&quot; /&gt;
</I>&gt;<i>       &lt;/textarea&gt;
</I>&gt;<i>     &lt;/div&gt;
</I>&gt;<i>
</I>
IT was my first option. But I had a problem of synchronization with
the server. After the first exachange of messages each time the
handler is called, there's also a duplicate message sent to the
server. I think this is a problem with the ack sequence and the
outgoing message queue, but I hadn't the time to figure out. So I
tried to use the Mochikit event handler, but I had to pass it a
reference to a widget method in order to send data back to the server.
And there came the problems with IE

&gt;<i>
</I>&gt;<i> A difference here wouldn't surprise me.  Iteration in JavaScript is extremely
</I>&gt;<i> inconsistent, even within a single runtime.  I don't know of the /specific/
</I>&gt;<i> problem which causes the behavior you're describing above, and it may be
</I>&gt;<i> fixable, but it'd probably be better just to not rely on iteration.
</I>
I know, I did it just to check if I had a reference to the right
objetc, since I couldn't find any method of the widget. With iteration
I can see that they are there, somewere, but I cannot use them :(

-- 
Fabio Forno, PhD
Istituto Superiore Mario Boella
Jabber ID: xmpp:<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">ff at kamin.polito.it</A>
** Try Jabber <A HREF="http://www.jabber.org">http://www.jabber.org</A>

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003086.html">[Twisted-web] athena widgets and IE
</A></li>
	<LI>Next message: <A HREF="003088.html">[Twisted-web] athena widgets and IE
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3087">[ date ]</a>
              <a href="thread.html#3087">[ thread ]</a>
              <a href="subject.html#3087">[ subject ]</a>
              <a href="author.html#3087">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
