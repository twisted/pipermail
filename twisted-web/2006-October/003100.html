<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] fragments with child lookup
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20fragments%20with%20child%20lookup&In-Reply-To=452E8C3C.6090404%40bluegap.ch">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003099.html">
   <LINK REL="Next"  HREF="003102.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] fragments with child lookup</H1>
    <B>L. Daniel Burr</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20fragments%20with%20child%20lookup&In-Reply-To=452E8C3C.6090404%40bluegap.ch"
       TITLE="[Twisted-web] fragments with child lookup">ldanielburr at mac.com
       </A><BR>
    <I>Thu Oct 12 14:36:50 CDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="003099.html">[Twisted-web] fragments with child lookup
</A></li>
        <LI>Next message: <A HREF="003102.html">[Twisted-web] Re: fragments with child lookup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3100">[ date ]</a>
              <a href="thread.html#3100">[ thread ]</a>
              <a href="subject.html#3100">[ subject ]</a>
              <a href="author.html#3100">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Markus,

On Thu, 12 Oct 2006 13:41:00 -0500, Markus Schiltknecht  
&lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">markus at bluegap.ch</A>&gt; wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> thank you for your answer, it's definitely not to long for me ;-)
</I>&gt;<i>
</I>&gt;<i> L. Daniel Burr wrote:
</I>&gt;&gt;<i> Ok, first things first.  The reason I hate &quot;template per segment&quot;  
</I>&gt;&gt;<i> designs
</I>&gt;&gt;<i> is the same reason that I hate Zope acquisition.  They both suffer from
</I>&gt;&gt;<i> the same illness, which is complexity. Take the following URL:
</I>&gt;&gt;<i>  <A HREF="http://myhost.com/foo/bar/baz">http://myhost.com/foo/bar/baz</A>
</I>&gt;&gt;<i>  This URL identifies a resource, and when some client requests this URL,
</I>&gt;&gt;<i> a representation of that resource will be sent to the client.  In order
</I>&gt;&gt;<i> to render this representation in &quot;template-per-segment&quot; design, I have
</I>&gt;&gt;<i> to first traverse the tree and render &quot;foo&quot;, then &quot;bar&quot; then lastly,
</I>&gt;&gt;<i> &quot;baz&quot;.
</I>&gt;<i>
</I>&gt;<i> Yes, that's how Mason, Myghty and all those do it.
</I>&gt;<i>
</I>&gt;&gt;<i> This enforces a needless dependency upon containment.  Why does
</I>&gt;&gt;<i> the resource living at &quot;baz&quot; have to depend upon &quot;foo&quot; and &quot;bar&quot; in
</I>&gt;&gt;<i> order to produce a representation of &quot;baz&quot;?  Answer: It doesn't have to,
</I>&gt;&gt;<i> and it shouldn't.
</I>&gt;<i>
</I>&gt;<i> Please define 'resource' here.
</I>&gt;<i>
</I>
See <A HREF="http://en.wikipedia.org/wiki/Representational_State_Transfer">http://en.wikipedia.org/wiki/Representational_State_Transfer</A>

&gt;<i> I agree with the 'should not have to depend on' statement if you are  
</I>&gt;<i> speaking about programm code, i.e. perl or python objects.
</I>&gt;<i>
</I>
You can't get away from it: a python object is responsible for rendering
the template.  The template by itself is just a text file; in order to
define the kind of template inheritance you seem to prefer, you have to
do it in code.  So you are, in fact, enforcing dependencies in code.

&gt;<i> Concerning HTML Fragments or templates, I do not agree. You don't want  
</I>&gt;<i> to output a table row (&lt;tr...&gt;) if you are not in a table definition  
</I>&gt;<i> (&lt;table...&gt;).
</I>&gt;<i>
</I>
Precisely.  Given that you have to output the table anyway, you have
created a tight coupling between your &quot;row&quot; template and your &quot;table&quot;
template.  If you can show me how having a &quot;row&quot; template and a &quot;table&quot;
template as opposed to a single template describing the entire table,
is in any way useful to a designer, I'll be amazed ;)

&gt;<i> I think it's important do distinguish between those two. I'm not sure  
</I>&gt;<i> how to call it: code vs. design, controller vs. view or in your words:  
</I>&gt;<i> dependency vs containment.
</I>&gt;<i>
</I>
I call it a misguided emphasis on componentizing templates, rather than
componentizing application functionality, but that's just me ;)

&gt;<i> As of now, I don't know a decent way on how to represent containment in  
</I>&gt;<i> nevow. (Yes, there are macros, but...)  I very much agree with you that  
</I>&gt;<i> it has nothing to do with (code) dependencies even (OOP) inheritance.
</I>&gt;<i>
</I>
Nevow does containment just fine.  There is a tree of resources, that's
the containment.  I think you're just way too focused on html markup, and
that causes you to ignore the fact that a resource in the tree may be
more than just a means of emitting html to a browser.

&gt;&gt;<i>  Put more simply, the problem with both &quot;template-per-segment&quot; and
</I>&gt;&gt;<i> acquisition is that they do not scale.  Cannot scale.  Will never
</I>&gt;&gt;<i> be made to scale without massive effort on the part of the coder,
</I>&gt;&gt;<i> and weren't you thinking that you wanted this model because it would
</I>&gt;&gt;<i> be *less* work?
</I>&gt;<i>
</I>&gt;<i> Your 'scaling' is referring to the amount of human work, right?
</I>&gt;<i>
</I>
Yes, and also to the performance of the application.  The more complex
your template nesting becomes, the slower the server will be.  The
common answer is &quot;but, caching!&quot;.  My rebuttal: Caching is a great
thing, but it shouldn't be used as a means of making inefficient
architectures tolerably performant.  It should be used to make an
efficient architecture more scalable.  In other words, it should
be a vitamin supplement, not a pain-reliever.

&gt;<i> Maybe it's not &quot;template-per-segment&quot;, but some form of template  
</I>&gt;<i> containment is necessary, IMHO. It reduces the amount of work for  
</I>&gt;<i> template designers.
</I>&gt;<i>
</I>
There's the magic phrase: IMHO.  I simply can't agree with you on this,
as my own experience is the opposite of yours.

Creating snippets of html does *not* reduce the designer's work.  The
average designer uses tools, and those tools usually result in complete
page of html markup.  You're actually imposing more work on them, not
by making them cut-down their tool's output to match your vision of
template reusability.

Someone will doubtless object strenuously to my use of the phrase, &quot;the
average designer&quot;.  Insert disclaimer about how my generalizations do
not apply to anyone else in the world, etc.

&gt;&gt;<i> That said, nevow could certainly use some help in documenting what the
</I>&gt;&gt;<i> &quot;best practices&quot; are, for building both nevow sites, and nevow apps.
</I>&gt;&gt;<i> I have long had good intentions about helping in this area, but I have
</I>&gt;&gt;<i> so far failed to find time to do it.
</I>&gt;<i>
</I>&gt;<i> Well, some people even read mailing lists. So you've already helped  
</I>&gt;<i> somewhat!
</I>&gt;<i>
</I>
I'm certainly glad if this discussion proves useful to someone.

&gt;<i> Certainly URL segments do not equal inheritance in the code. Sometimes  
</I>&gt;<i> not even containment on the template level (as in  
</I>&gt;<i> &quot;template-per-segment&quot;). OTOH, the URL hierarchy very often resembles  
</I>&gt;<i> the template hierarchy (especially for websites).
</I>&gt;<i>
</I>
It does?  Your statement assumes that most web sites do things the way
Myghty or Mason do.  I'd revise that statement to say &quot;the URL hierarchy
in a Mason or Myghty application often (always) resembles the template
hierarchy&quot;.

Whether the majority of web sites actually do things that way or not
is open to debate of course.

&gt;&gt;<i> WSGI.  This is one that I am virtually certain to be alone on.  The
</I>&gt;&gt;<i> fact is, some very smart people came up with WSGI.  Another fact is
</I>&gt;&gt;<i> that some very smart people came up with SOAP, WSDL, UDDI, etc.
</I>&gt;<i>
</I>&gt;<i> Please define 'smart' ;-)
</I>&gt;<i>
</I>&gt;<i> No, seriously, I'm not a fan of all of those, so...
</I>&gt;<i>
</I>
By &quot;smart&quot;, I mean &quot;possessed of intelligence, education, and experience&quot;.
That's certainly not the best definition in the world, but it is the one
I find useful.

I made mention of it to underscore the fact that simply because some
very smart people produce a solution, it does not always follow that the
solution is good.

The twisted devs are all very smart people, and they'll certainly attest
that there are things in twisted that didn't turn out to be great.  That
they recognize it, and work to improve those areas, is one of the things
I like about the twisted project.

&gt;&gt;<i> I find WSGI of little value because, to me, it is just another attempt
</I>&gt;&gt;<i> at creating the &quot;lego&quot; model.  Every once in awhile, some smart people
</I>&gt;&gt;<i> get together and try to come up with a component model that will truly
</I>&gt;&gt;<i> give them &quot;lego&quot; style pluggability.  WSGI is all about saying, &quot;hey,
</I>&gt;&gt;<i> choose whatever app server you want, as long as it speaks German. Want
</I>&gt;&gt;<i> a session component?  Go ahead, use any one you like, as long as it
</I>&gt;&gt;<i> speaks German.  An ORM?  If it speaks German, you're good to go!&quot;
</I>&gt;<i>
</I>&gt;<i> Oh, I'm glad I'm speaking German :-)
</I>&gt;<i>
</I>
Nicht sprechen sie gut Deutsch, I'm afraid :)

&gt;&gt;<i> Seriously, the whole pluggability, freedom-of-choice thing is a bunch
</I>&gt;&gt;<i> of nonsense.  Who the hell cares if you can plug stuff together, when
</I>&gt;&gt;<i> it all has to plug together in the same way?  Any color you want, as
</I>&gt;&gt;<i> long as it is black.
</I>&gt;<i>
</I>&gt;<i> I guess they are all looking for the most colorful variant of black. ;-)
</I>&gt;<i>
</I>
Again, that's precisely my point.  Everyone likes their own idea best.

&gt;&gt;<i> Also, I've been using twisted since version 0.9 or so, and WSGI is
</I>&gt;&gt;<i> very honest about saying that it doesn't really have anything useful
</I>&gt;&gt;<i> to contribute to the async model of web development.  WSGI is really
</I>&gt;&gt;<i> great for those people who like threads, and that's great for them.
</I>&gt;&gt;<i> For people who prefer async architectures, WSGI will never be a good
</I>&gt;&gt;<i> fit.  Note that web2 does support WSGI, but in order to do so, it
</I>&gt;&gt;<i> has to give up most of the value of being async.
</I>&gt;<i>
</I>&gt;<i> I don't want to get into the sync vs async issue now, but it would  
</I>&gt;<i> certainly be possible to write an async WSGI-like interface, doing  
</I>&gt;<i> similar URL segment processing, content filtering and such. Why should  
</I>&gt;<i> such a thing not be great if you consider WSGI to be &quot;great for people  
</I>&gt;<i> who like threads&quot; (i.e. sync)?
</I>&gt;<i>
</I>
Read the WSGI archives from the beginning.  You'll see the debate about
async apps, and you'll see why they decided that WSGI doesn't really
address asynchronous servers.  Trust me, the reasons are there, and
they are laid out in excellent detail by Phillip J. Eby.

Also, when I say &quot;great for people who like threads&quot;, I am being mean.
I think people who like threads are hopelessly misguided, much as I
think people who focus on server-side template includes are misguided ;)

&gt;<i> As you might have guessed, I do not agree with your point of view  
</I>&gt;<i> regarding the 'lego model'. I'm surprised to read that &quot;pluggability ...  
</I>&gt;<i> is a bunch of nonsense&quot; from somebody who obviously knows OOP, python,  
</I>&gt;<i> interfaces, etc.. I don't understand how you came to that conclusion (or  
</I>&gt;<i> believe) WRT templates.
</I>&gt;<i>
</I>
I was fairly certain you weren't going to change your views based on
any argument I might make.  This *is* the Internet, after all, and I
find very few cases where someone actually changes their mind about
anything as the result of a debate on a mailing list.

As for being surprised by my dislike of the &quot;lego&quot; model, I'll answer
thusly:

&quot;&quot;&quot;
According to some accounts, Emerson visited Thoreau in jail and
asked, &#8220;Henry, what are you doing in there?&#8221; Thoreau replied,
&#8220;Waldo, the question is what are you doing out there?&#8221;
&quot;&quot;&quot;

&gt;<i> Again, thank you for your answer. I very much enjoy discussing such  
</I>&gt;<i> design issues.
</I>&gt;<i>
</I>
You're welcome.  I doubt we'll ever agree on these matters, but I
do believe in respectful disagreement.

&gt;<i> Regards
</I>&gt;<i>
</I>&gt;<i> Markus
</I>&gt;<i>
</I>
L. Daniel Burr

</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003099.html">[Twisted-web] fragments with child lookup
</A></li>
	<LI>Next message: <A HREF="003102.html">[Twisted-web] Re: fragments with child lookup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3100">[ date ]</a>
              <a href="thread.html#3100">[ thread ]</a>
              <a href="subject.html#3100">[ subject ]</a>
              <a href="author.html#3100">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
