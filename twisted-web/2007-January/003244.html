<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] [Nevow] again on data directive
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20%5BNevow%5D%20again%20on%20data%20directive&In-Reply-To=op.tlmu7oec3oj628%40l-daniel-burrs-powerbook-g4-17.local">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003243.html">
   <LINK REL="Next"  HREF="003245.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] [Nevow] again on data directive</H1>
    <B>Manlio Perillo</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20%5BNevow%5D%20again%20on%20data%20directive&In-Reply-To=op.tlmu7oec3oj628%40l-daniel-burrs-powerbook-g4-17.local"
       TITLE="[Twisted-web] [Nevow] again on data directive">manlio_perillo at libero.it
       </A><BR>
    <I>Thu Jan  4 08:48:21 CST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="003243.html">[Twisted-web] [Nevow] again on data directive
</A></li>
        <LI>Next message: <A HREF="003245.html">[Twisted-web] [Nevow] again on data directive
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3244">[ date ]</a>
              <a href="thread.html#3244">[ thread ]</a>
              <a href="subject.html#3244">[ subject ]</a>
              <a href="author.html#3244">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>L. Daniel Burr ha scritto:
&gt;<i> Hi Manlio,
</I>&gt;<i> 
</I>&gt;<i> On Thu, 04 Jan 2007 04:58:16 -0600, Manlio Perillo 
</I>&gt;<i> &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">manlio_perillo at libero.it</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> To put it simple, I would like to have this feature:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &lt;div n:data=&quot;xxx&quot; n:render=&quot;yyy&quot; /&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> def render_yyy(request, tag):
</I>&gt;&gt;<i>     assert tag.data == 'xxx'
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> That is: data directives are only used to pass data from the template 
</I>&gt;&gt;<i> to the renderer.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Is this a good idea?
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> I think it is a bad idea, because it encourages what is, in my opinion, a
</I>&gt;<i> bad practice: You shouldn't be passing data from the template to the
</I>&gt;<i> renderer.  Data should reside in a model class, not within the attributes
</I>&gt;<i> of a template.  The view class should already have access to an instance
</I>&gt;<i> of the model, via self.original.
</I>&gt;<i> 
</I>&gt;<i> Why do you want to pass data directly from the template to the renderer?
</I>
Here is an example of &quot;complex&quot; template.
The form handling is done via a package I have written:


   &lt;form method=&quot;post&quot; action=&quot;./&quot; accept-charset=&quot;utf-8&quot;
         n:data=&quot;form_data&quot;&gt;
     &lt;div class=&quot;form_errors&quot; n:render=&quot;form_errors&quot; /&gt;

     &lt;fieldset&gt;
       &lt;legend&gt;Please, fill this&lt;/legend&gt;

       &lt;div n:data=&quot;somedate&quot; n:render=&quot;form_control&quot;&gt;
         &lt;p class=&quot;label&quot;&gt;&lt;n:slot name=&quot;label&quot; /&gt;&lt;/p&gt;
         &lt;input class=&quot;inline&quot; type=&quot;text&quot; size=&quot;2&quot;
                n:data=&quot;somedate.day&quot; n:render=&quot;form_value&quot; /&gt; /
         &lt;input class=&quot;inline&quot; type=&quot;text&quot; size=&quot;2&quot;
                n:data=&quot;somedate.month&quot; n:render=&quot;form_value&quot; /&gt; /
         &lt;input class=&quot;inline&quot; type=&quot;text&quot; size=&quot;4&quot;
                n:data=&quot;somedate.year&quot; n:render=&quot;form_value&quot; /&gt;
         &lt;p&gt;&lt;n:slot name=&quot;help&quot; /&gt;&lt;/p&gt;
         &lt;p class=&quot;required&quot; n:render=&quot;form_required&quot;&gt;
            The field is required
         &lt;/p&gt;
       &lt;/div&gt;

       &lt;div n:data=&quot;x&quot; n:render=&quot;form_control&quot;&gt;
         &lt;label for=&quot;x&quot;&gt;&lt;n:slot name=&quot;label&quot; /&gt;&lt;/label&gt;
         &lt;select id=&quot;x&quot; n:render=&quot;form_value&quot;&gt;
           &lt;option n:pattern=&quot;option&quot; /&gt;
         &lt;/select&gt;
         &lt;p&gt;&lt;n:slot name=&quot;help&quot; /&gt;&lt;/p&gt;
       &lt;/div&gt;


The first form_data data directive push the form data into the context.

The form_control renderer fills the slot with label, and so.
The form_value renderer modifies the form control, setting the value 
attribute and so, depending on the type of control.

Without the use of data directives, that helps the renderer to locate 
the data, I can use only one renderer, attached to the &lt;form&gt; element.

Please note that I do not need all the IData stuff, I only need to now 
the tag.data value-

It should be possibile(?) to use only patterns and one renderer, I'll 
try to figure out how.





Regards  Manlio Perillo

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003243.html">[Twisted-web] [Nevow] again on data directive
</A></li>
	<LI>Next message: <A HREF="003245.html">[Twisted-web] [Nevow] again on data directive
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3244">[ date ]</a>
              <a href="thread.html#3244">[ thread ]</a>
              <a href="subject.html#3244">[ subject ]</a>
              <a href="author.html#3244">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
