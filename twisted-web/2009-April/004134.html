<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Is there a way to implement a deferred sequence?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Is%20there%20a%20way%20to%20implement%20a%20deferred%20sequence%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004133.html">
   <LINK REL="Next"  HREF="004132.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Is there a way to implement a deferred sequence?</H1>
    <B>Terry Jones</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Is%20there%20a%20way%20to%20implement%20a%20deferred%20sequence%3F&In-Reply-To="
       TITLE="[Twisted-web] Is there a way to implement a deferred sequence?">terry at jon.es
       </A><BR>
    <I>Fri Apr 10 12:10:35 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004133.html">[Twisted-web] Is there a way to implement a deferred sequence?
</A></li>
        <LI>Next message: <A HREF="004132.html">[Twisted-web] Is there a way to implement a deferred sequence?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4134">[ date ]</a>
              <a href="thread.html#4134">[ thread ]</a>
              <a href="subject.html#4134">[ subject ]</a>
              <a href="author.html#4134">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi again Alexey

I guess it's clear from all the other comments that we should call what
you're after something other than a Deferred. I agree with all the others
that Deferreds are great as they are, and especially with the comment that
you can/should use them as building blocks in the class you actually want.

As for what it is that you actually want, it still sounds like something in
the middle of the various things provided for you by DeferredList, the
reactor itself, the code I pointed you to, LoopingCall, etc. I know it's
not any of those things exactly, but it's some mixture of them.

The other thing that comes to mind is defer.inlineCallbacks. You can use it
to simply implement complex logic, state machines, multiple unpredictable
needs and events, etc., and the caller of an inlineCallbacks decorated
function gets a normal deferred back which will deliver the final
result(s), if any. Using inlineCallbacks you can write fairly &quot;natural&quot;
(i.e., synchronous-looking) code that's calling functions that return
deferreds, yielding them, getting their results, and continuing as though
nothing had happened.  You can write state machines, you can yield
DeferredLists, etc. You can do many many things, and the code you write
doesn't have to look bizarre. defer._inlineCallbacks (note the underscore)
takes care of interacting with your deferred yielding code and getting the
results of the intermediate deferreds back to you.


Note that the functionality of inlineCallbacks (and DeferredList and
LoopingCall) is built upon the humble Deferred. That's pretty strong
evidence that the class you'll end up writing can also offer great
flexibility and generality and also be based just on Deferreds.

Understanding inlineCallbacks might be another piece of the puzzle in
seeing how to do what it is you need.  (Apologies if you already do
understand inlineCallbacks - I mention it because no-one else has and I
think it's probably relevant).

Terry

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004133.html">[Twisted-web] Is there a way to implement a deferred sequence?
</A></li>
	<LI>Next message: <A HREF="004132.html">[Twisted-web] Is there a way to implement a deferred sequence?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4134">[ date ]</a>
              <a href="thread.html#4134">[ thread ]</a>
              <a href="subject.html#4134">[ subject ]</a>
              <a href="author.html#4134">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
