<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Re: some questions about twisted.web
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Re%3A%20some%20questions%20about%20twisted.web&In-Reply-To=m2y6ubt193.fsf%40valheru.db3l.homeip.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004123.html">
   <LINK REL="Next"  HREF="004125.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Re: some questions about twisted.web</H1>
    <B>Jack Moffitt</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Re%3A%20some%20questions%20about%20twisted.web&In-Reply-To=m2y6ubt193.fsf%40valheru.db3l.homeip.net"
       TITLE="[Twisted-web] Re: some questions about twisted.web">jack at chesspark.com
       </A><BR>
    <I>Wed Apr  8 16:21:48 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004123.html">[Twisted-web] Re: some questions about twisted.web
</A></li>
        <LI>Next message: <A HREF="004125.html">[Twisted-web] Re: some questions about twisted.web
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4124">[ date ]</a>
              <a href="thread.html#4124">[ thread ]</a>
              <a href="subject.html#4124">[ subject ]</a>
              <a href="author.html#4124">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> I generally just use the default logging but then it's mostly for my
</I>&gt;<i> own use, not end users.
</I>
We do as well.  This app in particular is end user focused, so I
wanted something nicer.

&gt;<i> As an interim to any more extensive changes, perhaps you could just
</I>&gt;<i> use a local HTTPFactory subclass for your site, overriding with your
</I>&gt;<i> own log method that bypasses the twisted logging to do whatever you
</I>&gt;<i> want?
</I>
That's essentially what I did in the code.  It's not pretty though.

&gt;<i> I normally have more than just the web server running in a single process,
</I>&gt;<i> but all you'd probably need is to instantiate your &quot;Site&quot; class, connect
</I>&gt;<i> it with reactor.listenTCP, and then sit in reactor.run().
</I>
Yep.  Tape currently does this, and all my command line XMPP tools do
as well.  There's a lot of bootstrap though, and since most people I
know starting out want to write command line type utilities, this
makes learning Twisted significantly harder.  At least making a tac
file is easy.  You just make some services, call setServiceParent and
you're done.  All that bootstrapping happens out of your view.

&gt;<i> As another view on this point, for me, I find the &quot;work segment by
</I>&gt;<i> segment&quot; approach of twisted's to be very natural, albeit different
</I>&gt;<i> than an arbitrary path mapping mechanism such as apache or many web
</I>&gt;<i> frameworks. &#160;I actually missed the incremental lookup mechanism when
</I>&gt;<i> first working with django on a project, for example. It can feel weird
</I>&gt;<i> compared to other mechanisms, but just because it doesn't match how
</I>&gt;<i> Apache works need not make it a problem. &#160;There's more than one way to
</I>&gt;<i> navigate an object hierarchy within a server based on the URL in a
</I>&gt;<i> request.
</I>
I think it's fine to support both approaches.  I think my original
complaint was actually worded that way.  The issue is that there may
not be a path from root to a child.  Ie, /some/path/to/proxy exists,
but /some/path doesn't.  It takes some jiggering to set that up right
now, because you have to make dummy nodes along the path.  Which
works, but is not as optimal for this use case.

&gt;<i> One way to tie into the current framework to take more control is to
</I>&gt;<i> define the resource at the root of your mapper-capable tree using
</I>&gt;<i> &quot;isLeaf&quot;. &#160;That resource's &quot;render&quot; method will then get called for
</I>&gt;<i> any URLs at that point or below, have access to the full URL (already
</I>&gt;<i> split into segments), and it can do whatever lookups/mapping to
</I>&gt;<i> resource objects it might like. &#160;I've used that to strip out URL
</I>&gt;<i> prefixes (such as client keys unique to them) and then re-perform the
</I>&gt;<i> URL lookup to locate the resource, but it could just as easily do a
</I>&gt;<i> mapper based URL lookup at that point to yield the right resource
</I>&gt;<i> object to then call (instantiating it if needed) to render the
</I>&gt;<i> request.
</I>
When the first getChild is called how do I know it's the first
getChild call so that I do the special logic?  Perhaps that's what is
confusing me.

jack.

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004123.html">[Twisted-web] Re: some questions about twisted.web
</A></li>
	<LI>Next message: <A HREF="004125.html">[Twisted-web] Re: some questions about twisted.web
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4124">[ date ]</a>
              <a href="thread.html#4124">[ thread ]</a>
              <a href="subject.html#4124">[ subject ]</a>
              <a href="author.html#4124">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
