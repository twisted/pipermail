<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Is there a way to implement a deferred sequence?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Is%20there%20a%20way%20to%20implement%20a%20deferred%20sequence%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004121.html">
   <LINK REL="Next"  HREF="004128.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Is there a way to implement a deferred sequence?</H1>
    <B>twisted-web at udmvt.ru</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Is%20there%20a%20way%20to%20implement%20a%20deferred%20sequence%3F&In-Reply-To="
       TITLE="[Twisted-web] Is there a way to implement a deferred sequence?">twisted-web at udmvt.ru
       </A><BR>
    <I>Thu Apr  9 11:30:41 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004121.html">[Twisted-web] some questions about twisted.web
</A></li>
        <LI>Next message: <A HREF="004128.html">[Twisted-web] Is there a way to implement a deferred sequence?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4127">[ date ]</a>
              <a href="thread.html#4127">[ thread ]</a>
              <a href="subject.html#4127">[ subject ]</a>
              <a href="author.html#4127">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Greetings.

I want a sequence which is Deferred with two callbacks:
   one as usual - for the whole result called at the end of the sequence,
   another - called for every element of the sequence (as they arrive).

The number of elements is not known beforehand, so it is not a defer.DeferredList,
but the idea is almost the same.
To provide some interface to send items to the sequence, fire item callback for every
item arrived and have main callback to be called at the end of the sequence.

It could be used for example in AJAX web-applications that use Athena to
simplify/automate the dynamic updates of some slowly arriving results (while in
AJAX-supporting environment) and to gracefully fallback when javascript
is not enabled/not desired.

It could be deployed as using a slightly modified &quot;sequence&quot;-like renderer with
&quot;data&quot; function returning this form of Deferred. The renderer will output
some 'live' element immediately and then will append remotely it's contents
as items arrive. Or will fallback to the usual builtin &quot;sequence&quot; renderer
when AJAX is not desired.

I think this approach will make it possible to hide all details into the
renderer code.

The same could be done to make items replace each other with the last being
displayed as the final result...

Or maybe it is already done in a different way?
Or have I missed something, could anyone point me, please?

Thanks for your time.

--
Alexey S.

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004121.html">[Twisted-web] some questions about twisted.web
</A></li>
	<LI>Next message: <A HREF="004128.html">[Twisted-web] Is there a way to implement a deferred sequence?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4127">[ date ]</a>
              <a href="thread.html#4127">[ thread ]</a>
              <a href="subject.html#4127">[ subject ]</a>
              <a href="author.html#4127">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
