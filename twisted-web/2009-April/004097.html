<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] some questions about twisted.web
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20some%20questions%20about%20twisted.web&In-Reply-To=9b58f4550904070957s5cd7d46ci52a94d4068ff9554%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004096.html">
   <LINK REL="Next"  HREF="004098.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] some questions about twisted.web</H1>
    <B>Phil Mayers</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20some%20questions%20about%20twisted.web&In-Reply-To=9b58f4550904070957s5cd7d46ci52a94d4068ff9554%40mail.gmail.com"
       TITLE="[Twisted-web] some questions about twisted.web">p.mayers at imperial.ac.uk
       </A><BR>
    <I>Tue Apr  7 13:10:52 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004096.html">[Twisted-web] some questions about twisted.web
</A></li>
        <LI>Next message: <A HREF="004098.html">[Twisted-web] some questions about twisted.web
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4097">[ date ]</a>
              <a href="thread.html#4097">[ thread ]</a>
              <a href="subject.html#4097">[ subject ]</a>
              <a href="author.html#4097">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jack Moffitt wrote:
&gt;&gt;<i> When you start your application:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     from twisted.python import log
</I>&gt;&gt;<i>     log.startLogging(sys.stdout)
</I>&gt;<i> 
</I>&gt;<i> Now I've just deluged the poor user with lots of factory start and
</I>&gt;<i> stops.  All I want is normal HTTP style logs.  Twisted's logging
</I>&gt;<i> infrastructure has its place, but it is not quite ready to produce
</I>&gt;<i> user friendly output for a simple utility.
</I>
That's probably a bug/feature request.

&gt;<i> 
</I>&gt;&gt;<i> Or, even better, create an Application object and use twistd(1) to start
</I>&gt;&gt;<i> your service. Using twistd(1), you have a choice to daemonize your process
</I>&gt;&gt;<i> or not.
</I>&gt;<i> 
</I>&gt;<i> Great, now the user has to edit a tac file just to configure the
</I>&gt;<i> thing.  I'd rather them be able to type &quot;tape&quot; and not have to worry
</I>&gt;<i> about twistd -ny some.tac.  I use tac files a lot, but they don't make
</I>&gt;<i> much sense for simple utilities.  It sucks that it's either/or with
</I>&gt;<i> Twisted applications.
</I>
I'm assuming &quot;tape&quot; is your application?

&gt;<i> 
</I>&gt;&gt;<i> These sessions helped to reinforce for me the need to repeat this frequently
</I>&gt;&gt;<i> for our users: if Twisted is doing something which confuses you but seems
</I>&gt;&gt;<i> wrong, please go ahead and file a bug on twistedmatrix.com.
</I>&gt;<i> 
</I>&gt;<i> This mailing list should be indexed by Google as well.  I do plan to
</I>&gt;<i> file the bugs we find here as well.
</I>&gt;<i> 
</I>&gt;&gt;<i> * The only way to stick something in the tree at an arbitrary location
</I>&gt;&gt;<i> seems to be to walk the tree to that spot, creating dummy locations as
</I>&gt;&gt;<i> you go.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Override locateChild
</I>&gt;<i> 
</I>&gt;<i> What is that?   I see no such function:
</I>&gt;<i> Not in IResource:
</I>&gt;<i> <A HREF="http://twistedmatrix.com/documents/current/api/twisted.web.resource.IResource.html">http://twistedmatrix.com/documents/current/api/twisted.web.resource.IResource.html</A>
</I>&gt;<i> 
</I>&gt;<i> Not in the server.Site:
</I>&gt;<i> <A HREF="http://twistedmatrix.com/documents/current/api/twisted.web.server.Site.html">http://twistedmatrix.com/documents/current/api/twisted.web.server.Site.html</A>
</I>&gt;<i> 
</I>&gt;<i> grep -r doesn't show it in the twisted/web or any child directories.
</I>&gt;<i> Not even in SVN trunk.
</I>
It's in nevow's appserver/resource sub-classes, not in t.web; not that 
this helps you of course.

Basically, you're right - the resource dispatch in t.web is, to say the 
least, difficult. Sadly, you need to change both the http server, 
channel and request code to alter it (which is what Nevow does)

&gt;<i> 
</I>&gt;&gt;<i> I find it extremely weird coming from several other web
</I>&gt;&gt;<i> frameworks.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Twisted initially seems very different, no matter what framework you came
</I>&gt;&gt;<i> from.
</I>&gt;<i> 
</I>&gt;<i> I grok Twisted just fine.  This may be my first post to twisted-web,
</I>&gt;<i> but I've been hacking on and around Twisted for some time.  Even
</I>&gt;<i> Apache doesn't work this way.  I can tell apache that my proxy is at
</I>&gt;<i> /some/url/over/here and it will work.  It will return 404s for the
</I>&gt;<i> intermediate URLs.  Because Resources only have immediate children and
</I>&gt;<i> paths are only dealt with in single element pieces, there doesn't seem
</I>&gt;<i> to be a way to do this in Twisted Web.  It feels weird that the tree
</I>&gt;<i> must be complete.  It feels weird that paths are dealt with in tiny
</I>&gt;<i> sections.
</I>
I believe the eventual plan is to have t.web use the nevow appserver &amp; 
resource model, with backwards compatibility stubs.

&gt;<i> 
</I>&gt;&gt;<i> * Related to the above, the handling of foo vs. foo/ is pretty
</I>&gt;&gt;<i> confusing.  foo/ is considered the '' child of foo.  This is pretty
</I>&gt;&gt;<i> yuck to me.  Unfortunately, I don't have any creative suggestions
</I>&gt;&gt;<i> about how to do it better right now.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> addSlash = True
</I>&gt;<i> 
</I>&gt;<i> This does not exist in Resource or in server.Site.  What am I missing?
</I>&gt;<i>  It's not mentioned in the docs either.
</I>
Again, that's a nevow thing. This does have an equivalent in t.web - set

isLeaf = True

Basically, you want the nevow resource model. Sadly, that loses you the 
easy render_METHOD helpers, though you can easily re-add them by hooking 
renderHTTP and dispatching on a base class.

To the devs: If there are a list of tickets for bringing the nevow stuff 
into t.web, I'd probably be able to spend some time working on them.

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004096.html">[Twisted-web] some questions about twisted.web
</A></li>
	<LI>Next message: <A HREF="004098.html">[Twisted-web] some questions about twisted.web
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4097">[ date ]</a>
              <a href="thread.html#4097">[ thread ]</a>
              <a href="subject.html#4097">[ subject ]</a>
              <a href="author.html#4097">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
