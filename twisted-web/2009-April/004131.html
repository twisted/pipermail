<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Is there a way to implement a deferred sequence?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Is%20there%20a%20way%20to%20implement%20a%20deferred%20sequence%3F&In-Reply-To=20090410084339.12555.1501819595.divmod.xquotient.7752%40weber.divmod.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004130.html">
   <LINK REL="Next"  HREF="004133.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Is there a way to implement a deferred sequence?</H1>
    <B>Alexey S.</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Is%20there%20a%20way%20to%20implement%20a%20deferred%20sequence%3F&In-Reply-To=20090410084339.12555.1501819595.divmod.xquotient.7752%40weber.divmod.com"
       TITLE="[Twisted-web] Is there a way to implement a deferred sequence?">twisted-web at udmvt.ru
       </A><BR>
    <I>Fri Apr 10 05:41:28 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004130.html">[Twisted-web] Is there a way to implement a deferred sequence?
</A></li>
        <LI>Next message: <A HREF="004133.html">[Twisted-web] Is there a way to implement a deferred sequence?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4131">[ date ]</a>
              <a href="thread.html#4131">[ thread ]</a>
              <a href="subject.html#4131">[ subject ]</a>
              <a href="author.html#4131">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Apr 10, 2009 at 08:43:39AM -0000, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">glyph at divmod.com</A> wrote:
&gt;<i>
</I>&gt;<i> Because Deferreds are intended to be an asynchronous mechanism for  
</I>&gt;<i> control flow.  They are the way to return a value which is not yet  
</I>&gt;<i> present.  In other words they are an asynchronous version of exit  
</I>&gt;<i> semantics; &quot;return&quot; and &quot;raise&quot;.
</I>&gt;<i>
</I>&gt;<i> They are very explicitly *not* designed to simultaneously implement  
</I>&gt;<i> asynchronous versions of every other potential control flow - looping,  
</I>&gt;<i> for example, which seems to be what you want.
</I>
Yes, but there is no synchronous version of what I want, I can't name any.
Asynchronousness adds some more capabilities to be introduced into flow control.
&gt;<i>From my perception Deferred is a point where two entities exchange events
</I>(one send, other receive)
And if we think about Deferred as an event router, then my question was
&quot;why there is only two types of events possible and both of them are 'final' events?&quot;
I just asked about subclassing that event router to include capability
to route some other events in addition to two existing.
It is worth noting, that such improvement does not forbid Deferred from being
&quot;the way to return a value which is not yet present&quot;. It just make the term
&quot;value&quot; more complex, allows it to be dispersed in time, not only concentrated
at a single moment. I think there is no natural analogy for synchronous flow
control and can't be - results are not synchronous.
Perhaps the thing I am talking about should not be called &quot;Deferred&quot;, since
it is only asynchronous version of syncronous flow control. But for me
extending Deferred looks natural, that is why I am asking.

&gt;<i>
</I>&gt;<i> There are other mechanisms for doing those things.  For example, if you  
</I>&gt;<i> want to get a stream of data and handle it incrementally, you want to  
</I>&gt;<i> implement an IProtocol or ITransport.  Trying to cram all of IProtocol  
</I>&gt;<i> into Deferred is a mistake.
</I>IProtocol and ITransport looks like being a byte-oriented interfaces, not
an arbitrary-object-oriented.

&gt;<i>
</I>&gt;<i> If you want some abstraction to support an incremental stream of results  
</I>&gt;<i> with a size known in advance, for example to support drawing a progress  
</I>              ^^^^^ - did you mean unknown?
&gt;<i> bar on an upload or download, then please feel free to propose that as a  
</I>&gt;<i> *separate* mechanism from Deferred, and we can debate its merits and  
</I>&gt;<i> usefulness on its own.  But I doubt very much that Deferred should do  
</I>&gt;<i> such a thing itself.
</I>I am asking for an half-duplex Event-pipe which can be closed from the sending end.
Just as variant it can be used to deliver cumulative results, but not fixed to that.
I said &quot;Deferred&quot; because the implementation of such thing will be identical to
Deferred's. It will be a Deferred with additional callback(s) which is(are) not
restricted to be invoked only once. 

Thank for your time.

-- 
Alexey S.

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004130.html">[Twisted-web] Is there a way to implement a deferred sequence?
</A></li>
	<LI>Next message: <A HREF="004133.html">[Twisted-web] Is there a way to implement a deferred sequence?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4131">[ date ]</a>
              <a href="thread.html#4131">[ thread ]</a>
              <a href="subject.html#4131">[ subject ]</a>
              <a href="author.html#4131">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
