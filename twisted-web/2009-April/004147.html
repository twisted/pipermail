<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] reactor.listenSSL() question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20reactor.listenSSL%28%29%20question&In-Reply-To=20090421134706.13916qrh7exg5msk%40216.129.205.5">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004146.html">
   <LINK REL="Next"  HREF="004148.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] reactor.listenSSL() question</H1>
    <B>Jean-Paul Calderone</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20reactor.listenSSL%28%29%20question&In-Reply-To=20090421134706.13916qrh7exg5msk%40216.129.205.5"
       TITLE="[Twisted-web] reactor.listenSSL() question">exarkun at divmod.com
       </A><BR>
    <I>Tue Apr 21 14:13:00 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004146.html">[Twisted-web] reactor.listenSSL() question
</A></li>
        <LI>Next message: <A HREF="004148.html">[Twisted-web] reactor.listenSSL() question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4147">[ date ]</a>
              <a href="thread.html#4147">[ thread ]</a>
              <a href="subject.html#4147">[ subject ]</a>
              <a href="author.html#4147">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, 21 Apr 2009 13:47:06 -0400, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">vitaly at synapticvision.com</A> wrote:
&gt;<i>Hi,
</I>&gt;<i>I'm trying to make work the following client/server, but the
</I>&gt;<i>server always return: HTTP/1.1 400 Bad Request.
</I>
You seem to be connecting something which is not an HTTP client to an
HTTP server.  So the HTTP server complains because what is being sent
to it is not an HTTP request.

&gt;<i> [snip - setup]
</I>&gt;<i>      reactor.listenSSL(8050, server.Site(root), ServerContextFactory())
</I>&gt;<i>      reactor.run()
</I>&gt;<i>
</I>
There's your HTTP server.

&gt;<i> [snip - imports]
</I>&gt;<i>class EchoClient(LineReceiver):
</I>&gt;<i>      end=&quot;Bye-bye!&quot;
</I>&gt;<i>      def connectionMade(self):
</I>&gt;<i>          self.sendLine(&quot;Hello, world!&quot;)
</I>&gt;<i>          self.sendLine(&quot;What a fine day it is.&quot;)
</I>&gt;<i>          self.sendLine(self.end)
</I>&gt;<i> [snip - more stuff]
</I>&gt;<i>      factory = EchoClientFactory()
</I>&gt;<i>
</I>&gt;<i>      reactor.connectSSL('localhost', 8050, factory,
</I>&gt;<i>ssl.ClientContextFactory(), timeout=3)
</I>&gt;<i>      reactor.run()
</I>
And there's your client - something which isn't going to send HTTP
requests to the server it connects to.

So a 400 response is precisely what you should expect here. :)

Jean-Paul

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004146.html">[Twisted-web] reactor.listenSSL() question
</A></li>
	<LI>Next message: <A HREF="004148.html">[Twisted-web] reactor.listenSSL() question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4147">[ date ]</a>
              <a href="thread.html#4147">[ thread ]</a>
              <a href="subject.html#4147">[ subject ]</a>
              <a href="author.html#4147">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
