<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Athena behind apache
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Athena%20behind%20apache&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004058.html">
   <LINK REL="Next"  HREF="004060.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Athena behind apache</H1>
    <B>Federico Tomassini</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Athena%20behind%20apache&In-Reply-To="
       TITLE="[Twisted-web] Athena behind apache">federicotom at yahoo.it
       </A><BR>
    <I>Fri Jan 16 22:12:07 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004058.html">[Twisted-web] wsgi vs win32service
</A></li>
        <LI>Next message: <A HREF="004060.html">[Twisted-web] Invitation to connect on LinkedIn
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4059">[ date ]</a>
              <a href="thread.html#4059">[ thread ]</a>
              <a href="subject.html#4059">[ subject ]</a>
              <a href="author.html#4059">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi alls,

LivePage is working fine when I connect directly to the
twisted server.

When I put my resources behind apache, I need to define
transportRoot and jsModuleRoot, otherwise my client has
localhost'ed references.

When I connect directly, I have references like this:

  <A HREF="http://localhost:8090/foo/bar/&lt;HASH">http://localhost:8090/foo/bar/&lt;HASH</A>&gt;/jsmodule/Nevow

For Apache, I'm trying to init the LivePage with:

  jsModuleRoot= url.URL('https', FQDN, ['foo', 'bar', 'jsmodule'])
  transportRoot= url.URL('https', FQDN, ['foo', 'bar'])

LivePage doesn't work. I can't guess the right urls.

Apache works as transparent proxy, so I'm wondering if I need
to specify jsRoot and transportRoot to obtain something like:

  <A HREF="https://fqdn/foo/bar/&lt;HASH">https://fqdn/foo/bar/&lt;HASH</A>&gt;/jsmodule/Nevow

But... how? Any hint from Athena coders?

Finally, a stupid question.

Why LivePage build javascript references using the FQDN?

Maybe it's a better idea to build links like:

   '/foo/bar/&lt;hash_there&gt;/jsmodule/Nevow'

Obviously, one can always specify trasnportRoot and jsModuleRoot.

But in this case it should work for transparent proxies out of
the box.

Isnt'it?

Best Regards

-- 
efphe
Today is Sweetmorn, the 16th day of Chaos in the YOLD 3175


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004058.html">[Twisted-web] wsgi vs win32service
</A></li>
	<LI>Next message: <A HREF="004060.html">[Twisted-web] Invitation to connect on LinkedIn
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4059">[ date ]</a>
              <a href="thread.html#4059">[ thread ]</a>
              <a href="subject.html#4059">[ subject ]</a>
              <a href="author.html#4059">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
