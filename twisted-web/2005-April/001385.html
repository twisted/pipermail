<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] web2 vs. access.log
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20web2%20vs.%20access.log&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001383.html">
   <LINK REL="Next"  HREF="001388.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] web2 vs. access.log</H1>
    <B>Tommi Virtanen</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20web2%20vs.%20access.log&In-Reply-To="
       TITLE="[Twisted-web] web2 vs. access.log">tv at twistedmatrix.com
       </A><BR>
    <I>Sun Apr 10 09:05:19 MDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001383.html">[Twisted-web] exception when try to list example source code?
</A></li>
        <LI>Next message: <A HREF="001388.html">[Twisted-web] web2 vs. access.log
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1385">[ date ]</a>
              <a href="thread.html#1385">[ thread ]</a>
              <a href="subject.html#1385">[ subject ]</a>
              <a href="author.html#1385">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi. I'm trying to hack vhost-specific access.log
(.../vhost/canonicalhostnamehere.log) support into
nevow, and while doing that, ran into web2's logging
features -- I don't want to do things totally differently
from web2.

What I did with nevow was add ILogger, which is looked
up from the context and is responsible for writing the
access.log entry for the current request. Thus, vhosts
can just remember an ILogger to implement different access
log destinations.

What web2 seems to be heading at is using log.msg and a
interface=IRequest to do access.logging. How do you see
my vhost logging functionality should be done with web2?
Adding observers doesn't really help, AFAICS the best you
could do that way is log the request in both the default
access.log and the vhost log file.

Also, web2 really should pass the context to log.msg().

Also, how do you feel the date and time generation and parsing
in t.w.http should be done? I need to be able to generate
access.log entries, and current t.w.http really isn't librarified
enough. I'm thinking of extracting that functionality in a more
library-like manner into nevow.timestamp and nevow.log, which could at
the same time become t.web2.{timestamp,log}.

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001383.html">[Twisted-web] exception when try to list example source code?
</A></li>
	<LI>Next message: <A HREF="001388.html">[Twisted-web] web2 vs. access.log
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1385">[ date ]</a>
              <a href="thread.html#1385">[ thread ]</a>
              <a href="subject.html#1385">[ subject ]</a>
              <a href="author.html#1385">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
