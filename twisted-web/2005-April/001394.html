<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Efficient server-side web-scraping?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Efficient%20server-side%20web-scraping%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001393.html">
   <LINK REL="Next"  HREF="001395.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Efficient server-side web-scraping?</H1>
    <B>Tom Locke</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Efficient%20server-side%20web-scraping%3F&In-Reply-To="
       TITLE="[Twisted-web] Efficient server-side web-scraping?">tom at livelogix.com
       </A><BR>
    <I>Mon Apr 18 04:54:03 MDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001393.html">[Twisted-web] freeform and adbapi
</A></li>
        <LI>Next message: <A HREF="001395.html">[Twisted-web] Efficient server-side web-scraping?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1394">[ date ]</a>
              <a href="thread.html#1394">[ thread ]</a>
              <a href="subject.html#1394">[ subject ]</a>
              <a href="author.html#1394">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I've developed a small Python CGI app which I'm porting to Twisted Web 
in order to add some in-memory caching.

The app (you can see the current version at etrays.net) sticks a bunch 
of hits from the ebay advanced search into a box for folks to stick on 
their site. The server makes an HTTP request to the eBay search form, 
and scrapes the result using Beautiful Soup.

Right now, I simply do all the work in a .rpy script. If I've understood 
Twisted correctly, the whole server blocks while my render_GET method 
runs, right. (Twisted is single threaded)

So the search on eBay blocks Twisted (I just call urllib.urlopen) which 
is bad because it's pretty slow. Could anyone suggest a setup where the 
eBay search can take place in the background, leaving twisted free to 
process other incoming requests. When the eBay results come back, the 
corresponding Twisted request would wake up, scrape the HTML and complete.

I guess I need to use threads here? And have a Twisted callback 
triggered when the thread completes?

Thanks

Tom.

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001393.html">[Twisted-web] freeform and adbapi
</A></li>
	<LI>Next message: <A HREF="001395.html">[Twisted-web] Efficient server-side web-scraping?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1394">[ date ]</a>
              <a href="thread.html#1394">[ thread ]</a>
              <a href="subject.html#1394">[ subject ]</a>
              <a href="author.html#1394">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
