<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Sessions and Authentication for Web2
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Sessions%20and%20Authentication%20for%20Web2&In-Reply-To=20051117212936.GE62588%40prometheusresearch.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002094.html">
   <LINK REL="Next"  HREF="002089.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Sessions and Authentication for Web2</H1>
    <B>Valentino Volonghi aka Dialtone</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Sessions%20and%20Authentication%20for%20Web2&In-Reply-To=20051117212936.GE62588%40prometheusresearch.com"
       TITLE="[Twisted-web] Sessions and Authentication for Web2">dialtone at divmod.com
       </A><BR>
    <I>Thu Nov 17 15:24:02 MST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="002094.html">[Twisted-web] Sessions and Authentication for Web2
</A></li>
        <LI>Next message: <A HREF="002089.html">[Twisted-web] Sessions and Authentication for Web2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2096">[ date ]</a>
              <a href="thread.html#2096">[ thread ]</a>
              <a href="subject.html#2096">[ subject ]</a>
              <a href="author.html#2096">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Nov 17, 2005 at 04:29:36PM -0500, Clark C. Evans wrote:
&gt;<i> | def sessionfilter(req, res, ctx):
</I>&gt;<i> |     # do session handling here
</I>&gt;<i> | 
</I>&gt;<i> | def authenticationfilter(req, res, ctx):
</I>&gt;<i> |     # do authentication handling here
</I>&gt;<i> |
</I>&gt;<i> 
</I>&gt;<i> 1. How do I know what the response is before I even authenticate or
</I>&gt;<i>    create a session?
</I>
In order to start writing the response to the outside you have to call
response.startProducing()

So you can 'easily' avoid transmitting anything but keep producing the page with
a BufferedStream that can consume but not produce until you tell it to. In
this way the environment will change without any output and then you will be
able to see the changes at the end and decide consequently.

&gt;<i> 2. Which comes first, I assume session then authentication.
</I>
Easily changeable by changing the order of Request.responseFilters

&gt;<i> 3. These need to come _before_ any of my other resources get
</I>&gt;<i>    the request.
</I>
I don't understand the implication of this. Can you elaborate a bit? :)

&gt;<i> It seems that the dispatch mechansim might need a way to &quot;register&quot;
</I>&gt;<i> that a filter should be applied at the end of processing; so that
</I>&gt;<i> once the Response is generated, it can be wrapped on the way out.
</I>
There already is:
Request.addResponseFilter(f, atEnd=False)

-- 
Valentino Volonghi aka Dialtone
Now Running MacOSX 10.4
Blog: <A HREF="http://vvolonghi.blogspot.com">http://vvolonghi.blogspot.com</A>
<A HREF="http://weever.berlios.de">http://weever.berlios.de</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 186 bytes
Desc: not available
Url : <A HREF="http://twistedmatrix.com/pipermail/twisted-web/attachments/20051117/1eb57077/attachment.pgp">http://twistedmatrix.com/pipermail/twisted-web/attachments/20051117/1eb57077/attachment.pgp</A>
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002094.html">[Twisted-web] Sessions and Authentication for Web2
</A></li>
	<LI>Next message: <A HREF="002089.html">[Twisted-web] Sessions and Authentication for Web2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2096">[ date ]</a>
              <a href="thread.html#2096">[ thread ]</a>
              <a href="subject.html#2096">[ subject ]</a>
              <a href="author.html#2096">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
