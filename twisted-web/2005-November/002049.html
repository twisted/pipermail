<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] why doesn't work nevow.example.callremote with IE
	(InternetExplorer)?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20why%20doesn%27t%20work%20nevow.example.callremote%20with%20IE%0A%09%28InternetExplorer%29%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002048.html">
   <LINK REL="Next"  HREF="002050.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] why doesn't work nevow.example.callremote with IE
	(InternetExplorer)?</H1>
    <B>Peter Arwanitis</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20why%20doesn%27t%20work%20nevow.example.callremote%20with%20IE%0A%09%28InternetExplorer%29%3F&In-Reply-To="
       TITLE="[Twisted-web] why doesn't work nevow.example.callremote with IE
	(InternetExplorer)?">spex66 at gmx.net
       </A><BR>
    <I>Wed Nov  9 15:59:21 MST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="002048.html">[Twisted-web] Instance of child element class never goes away?
</A></li>
        <LI>Next message: <A HREF="002050.html">[Twisted-web] Re: why doesn't work nevow.example.callremote with IE
	(InternetExplorer)?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2049">[ date ]</a>
              <a href="thread.html#2049">[ thread ]</a>
              <a href="subject.html#2049">[ subject ]</a>
              <a href="author.html#2049">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi there,

callremote example demonstrates the notifyOnDisconnect() feature for
athena-livepages (using twisted2.0.1 / nevow0.6.0 / python2.3.5 on winXP).

Firefox triggers with a reload of the page or a change to another page the
callbacks added to notifyOnDisconnect _immediately_ --&gt; perfect!
'A client lives!'
'A client dies!' twisted.internet.error.ConnectionDone: Connection was
closed cleanly.
'A client lives!'
'A client dies!' twisted.internet.error.ConnectionDone: Connection was
closed cleanly.
...
Why doesn't this work with IE, too??? The connections dies in a delayed
timeout... but not immediately. The problem is, that meanwhile open
connections from IE to webserver was established, and they are limited to
TWO!!! And the whole things hangs, waiting for timeouts to free the
connections.So this will be a serious bottleneck! (at least for my design
:<i>-/)
</I>'A client lives!'
'A client lives!'
...
...
later: 'A client dies!' twisted.internet.error.TimeoutError: User timeout
transports created by client.

thanks to exarkun on irc and his hint to
<A HREF="http://www.winguides.com/registry/display.php/536,">http://www.winguides.com/registry/display.php/536,</A> you can play with number
of needed connections, but leaving / refreshing a livepage

The mechanism is based on twisted.web.server.Request.notifyFinish() and
hopes that this one is throwing a
&quot;twisted.internet.error.ConnectionDone: Connection was closed cleanly.&quot; if
the connection got lost.

But this error to trigger the req.notifyFinish().addErrback(...) does not
come with IE leaving or reloading a page.

Is this specific for me, or can somebody else reproduce this &quot;feature&quot;.

Does someone have deeper knowledge about the live-connection hold with IE
from athena? And how notifyOnDisconnect() could work with IE, too???

thanks a lot

greetings from germany, munich
Peter
(=PA=)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-web/attachments/20051109/d00c8ba5/attachment.htm">http://twistedmatrix.com/pipermail/twisted-web/attachments/20051109/d00c8ba5/attachment.htm</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002048.html">[Twisted-web] Instance of child element class never goes away?
</A></li>
	<LI>Next message: <A HREF="002050.html">[Twisted-web] Re: why doesn't work nevow.example.callremote with IE
	(InternetExplorer)?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2049">[ date ]</a>
              <a href="thread.html#2049">[ thread ]</a>
              <a href="subject.html#2049">[ subject ]</a>
              <a href="author.html#2049">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
