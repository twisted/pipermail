<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] web2 response.setCookie and request.getCookie
	shortcuts?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20web2%20response.setCookie%20and%20request.getCookie%0A%09shortcuts%3F&In-Reply-To=1132186939.7885.10.camel%40audrey.local">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002081.html">
   <LINK REL="Next"  HREF="002091.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] web2 response.setCookie and request.getCookie
	shortcuts?</H1>
    <B>glyph at divmod.com</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20web2%20response.setCookie%20and%20request.getCookie%0A%09shortcuts%3F&In-Reply-To=1132186939.7885.10.camel%40audrey.local"
       TITLE="[Twisted-web] web2 response.setCookie and request.getCookie
	shortcuts?">glyph at divmod.com
       </A><BR>
    <I>Thu Nov 17 04:57:11 MST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="002081.html">[Twisted-web] web2 response.setCookie and request.getCookie
	shortcuts?
</A></li>
        <LI>Next message: <A HREF="002091.html">[Twisted-web] web2 response.setCookie and request.getCookie
	shortcuts?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2084">[ date ]</a>
              <a href="thread.html#2084">[ thread ]</a>
              <a href="subject.html#2084">[ subject ]</a>
              <a href="author.html#2084">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 16 Nov 2005 16:22:19 -0800, David Reid &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">dreid at dreid.org</A>&gt; wrote:
&gt;<i>On Wed, 2005-11-16 at 17:42 -0500, Clark C. Evans wrote:
</I>&gt;&gt;<i> I'm still having fun with web2, it is such a huge improvment over
</I>&gt;&gt;<i> twisted.web and I'm absolutely thrilled with it.  However, I have
</I>&gt;&gt;<i> a few suggestions:
</I>
&gt;<i>You're in luck context is going away.  Far far away never to be seen again.
</I>&gt;<i>As soon as an appropriate method for per-request data can be decided upon.
</I>
Do we have a list of use-cases somewhere that detail what &quot;per-request data&quot; is really a requirement?  Most places I've seen the context actually *used* in this manner it has been a disaster...

&gt;&gt;<i>    2. I would love a request.getCookie('cookie-name') and
</I>&gt;&gt;<i>       response.setCookie('cookie-name','cookie-value', path = '/')
</I>&gt;&gt;<i>       helper; that adds the given cookie to the current list.
</I>&gt;<i>
</I>&gt;<i>I'm personally against polluting the request and response interfaces
</I>&gt;<i>with this kind of stuff, in my opinion cookies are just headers, they
</I>&gt;<i>shouldn't be special.  I wouldn't be opposed to higher level cookie
</I>&gt;<i>management that presented a similar interface to both the client and the
</I>&gt;<i>server developer, but I probably won't have any interest in writing
</I>&gt;<i>it.
</I>
&quot;content-length&quot; and &quot;connection&quot; are just headers too: but the code has to support them because they're in the RFC.  Technically speaking cookies aren't in the *same* RFC, but they do have a standard of their own, rfc2109.

If there were multiple possible implementations of cookies, I'd say there should be an adapter or something to keep it separate.  Since there is just the one way to do them, though, I think that it's reasonable to treat the standards as merged, and just put the methods on request to handle it.  Pragmatically speaking cookies are not an &quot;optional&quot; extension to HTTP/1.1.

&gt;&gt;<i>    3. Make the 'path' in the Cookie constructor and setCookie default
</I>&gt;&gt;<i>       to '/'.  Almost all of the time you want your cookies to be
</I>&gt;&gt;<i>       site-wide; adding path = '/' to each request adds a point of
</I>&gt;&gt;<i>       failure that makes the system less usable.
</I>&gt;<i>
</I>&gt;<i>I'm all for sane-defaults, but I'm not sure this is one.  I'll let foom
</I>&gt;<i>decide.
</I>
I can speak from experience that cce's right; when you need a path, you know it, and you can pass it.  When you don't need a path, what you mean (in every case I've ever worked on) is /.

</PRE>
































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002081.html">[Twisted-web] web2 response.setCookie and request.getCookie
	shortcuts?
</A></li>
	<LI>Next message: <A HREF="002091.html">[Twisted-web] web2 response.setCookie and request.getCookie
	shortcuts?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2084">[ date ]</a>
              <a href="thread.html#2084">[ thread ]</a>
              <a href="subject.html#2084">[ subject ]</a>
              <a href="author.html#2084">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
