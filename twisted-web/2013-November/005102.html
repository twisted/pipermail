<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] deployment with twistd of simple web application
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-web%5D%20deployment%20with%20twistd%20of%20simple%20web%20application&In-Reply-To=%3C20131112140417.8349.751854392.divmod.xquotient.577%40top%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005101.html">
   <LINK REL="Next"  HREF="005100.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] deployment with twistd of simple web application</H1>
    <B>exarkun at twistedmatrix.com</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-web%5D%20deployment%20with%20twistd%20of%20simple%20web%20application&In-Reply-To=%3C20131112140417.8349.751854392.divmod.xquotient.577%40top%3E"
       TITLE="[Twisted-web] deployment with twistd of simple web application">exarkun at twistedmatrix.com
       </A><BR>
    <I>Tue Nov 12 07:04:17 MST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="005101.html">[Twisted-web] deployment with twistd of simple web application
</A></li>
        <LI>Next message: <A HREF="005100.html">[Twisted-web] Twisted 13.2.0 Release Announcement
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5102">[ date ]</a>
              <a href="thread.html#5102">[ thread ]</a>
              <a href="subject.html#5102">[ subject ]</a>
              <a href="author.html#5102">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 01:20 pm, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">axel.rau at chaos1.de</A> wrote:
&gt;<i>
</I>&gt;<i>Am 08.11.2013 um 19:43 schrieb Axel Rau &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">Axel.Rau at chaos1.de</A>&gt;:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>makeService expects a protocol factory, but I have only
</I>&gt;&gt;<i>         meteoFactory = Site(resource)
</I>&gt;&gt;<i>How do I interface the former to the http protocol?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>After fixing my low-level Python errors (sorry for wasting you time), 
</I>&gt;<i>the attached plugin works out of the box with my original code:
</I>&gt;<i>---
</I>&gt;<i>resource = RootWeatherPage()
</I>&gt;<i>meteo_factory = Site(resource)
</I>&gt;<i>---
</I>
If you want to run multiple services then the pattern to follow is just:


    def makeService(config):
        parent = MultiService()
        oneChild.setServiceParent(parent)
        anotherChild.setServiceParent(parent)
        ...
        return parent

You may also want to consider using offering endpoints via the command- 
line configuration options.  Instead of writing options to explicitly 
support IPv4 and IPv6, write an option that accepts an endpoint string 
description.

You can see an example of this (sort of) in the implementation of 
&quot;twistd mail&quot; which accepts endpoints for several of its option (eg 
`--pop3`):

<A HREF="https://twistedmatrix.com/trac/browser/trunk/twisted/mail/tap.py#L103">https://twistedmatrix.com/trac/browser/trunk/twisted/mail/tap.py#L103</A>

You can also read about endpoints here:

  <A HREF="https://twistedmatrix.com/documents/current/core/howto/endpoints.html">https://twistedmatrix.com/documents/current/core/howto/endpoints.html</A>

and here:

  <A HREF="https://twistedmatrix.com/documents/current/core/howto/servers.html">https://twistedmatrix.com/documents/current/core/howto/servers.html</A>

Jean-Paul

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005101.html">[Twisted-web] deployment with twistd of simple web application
</A></li>
	<LI>Next message: <A HREF="005100.html">[Twisted-web] Twisted 13.2.0 Release Announcement
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5102">[ date ]</a>
              <a href="thread.html#5102">[ thread ]</a>
              <a href="subject.html#5102">[ subject ]</a>
              <a href="author.html#5102">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
