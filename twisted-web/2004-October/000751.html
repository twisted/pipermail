<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Alternative to &lt;nevow:attr&gt;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Alternative%20to%20%3Cnevow%3Aattr%3E&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000767.html">
   <LINK REL="Next"  HREF="000752.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Alternative to &lt;nevow:attr&gt;</H1>
    <B>David Reid</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Alternative%20to%20%3Cnevow%3Aattr%3E&In-Reply-To="
       TITLE="[Twisted-web] Alternative to &lt;nevow:attr&gt;">dreid at dreid.org
       </A><BR>
    <I>Tue Oct 19 01:42:46 MDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000767.html">[Twisted-web] Re: Passing context through/around/across webform
</A></li>
        <LI>Next message: <A HREF="000752.html">[Twisted-web] Alternative to &lt;nevow:attr&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#751">[ date ]</a>
              <a href="thread.html#751">[ thread ]</a>
              <a href="subject.html#751">[ subject ]</a>
              <a href="author.html#751">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ok, so currently if you want dynamic stuff to happen in an attribute you
have to do something along the lines of this.

&lt;a render=&quot;mylink&quot;&gt;
    &lt;nevow:attr name=&quot;href&quot;&gt;
        &lt;nevow:slot name=&quot;link&quot; /&gt;
    &lt;/nevow:attr&gt;
    &lt;nevow:slot name=&quot;label&quot; /&gt;
&lt;/a&gt;

def render_mylink(self, ctx, data):
	ctx.fillSlots('link', data[0])
	ctx.fillSlots('label', data[1])
	
	return ctx.tag

Which is horrendously ugly and difficult to explain to pretty much
anyone.  Now, there are plenty of other solutions to this problem, but
none of them provide the flexability for the template author as
&lt;nevow:attr&gt; and &lt;nevow:slot&gt; do.

For instance:
   &lt;nevow:attr name=&quot;href&quot;&gt;
        /users/&lt;nevow:slot name=&quot;username&quot; /&gt;/images
   &lt;/ nevow:attr&gt;

Works perfectly well.  Which according to fzZzy is the main reason for
choosing this syntax.

A comparison to this with the syntax of TAL was recently mentioned on
the ML (Comparison with ZPT [Was: [Twisted-web] Sub-tag level templating
in Nevow: possible?]), and the TAL syntax seems to be cleaner, though
I'm not sure if it provides the above functionality.  While discussing
it on IRC I came to a conclusion that the following would be
comfortable, and flexible syntax alternative (not replacement) for
&lt;nevow:attr&gt;

&lt;a href=&quot;/images/archives/%(year)/%(month)/%(day)&quot;
nevow:attributes=&quot;href=year,month,day alt=label&quot;&gt;
    &lt;nevow:slot name=&quot;label&quot; /&gt;
&lt;/a&gt;

basically when the template was getting parsed, the Tag instance would
end up something like this.
	
Tag(name='a', attributes={'href': 
	['/images/archives/', slot(name='year'), slot(name='month'),
slot(name='day')]
})

It provides the flexibility, and in my opinion is just a little more
intuitive than &lt;nevow:attr&gt;.

--David
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part
Url : <A HREF="http://twistedmatrix.com/pipermail/twisted-web/attachments/20041019/addeb3cd/attachment.bin">http://twistedmatrix.com/pipermail/twisted-web/attachments/20041019/addeb3cd/attachment.bin</A>
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000767.html">[Twisted-web] Re: Passing context through/around/across webform
</A></li>
	<LI>Next message: <A HREF="000752.html">[Twisted-web] Alternative to &lt;nevow:attr&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#751">[ date ]</a>
              <a href="thread.html#751">[ thread ]</a>
              <a href="subject.html#751">[ subject ]</a>
              <a href="author.html#751">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
