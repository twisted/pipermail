<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Re: Nevow: Authenticated site with &quot;remember me&quot; and
	vhosts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Re%3A%20Nevow%3A%20Authenticated%20site%20with%20%22remember%20me%22%20and%0A%09vhosts&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000800.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Re: Nevow: Authenticated site with &quot;remember me&quot; and
	vhosts</H1>
    <B>Paul Moore</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Re%3A%20Nevow%3A%20Authenticated%20site%20with%20%22remember%20me%22%20and%0A%09vhosts&In-Reply-To="
       TITLE="[Twisted-web] Re: Nevow: Authenticated site with &quot;remember me&quot; and
	vhosts">pf_moore at yahoo.co.uk
       </A><BR>
    <I>Sat Oct 30 11:01:27 MDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000800.html">[Twisted-web] Nevow: Authenticated site with &quot;remember me&quot; and
	vhosts
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#801">[ date ]</a>
              <a href="thread.html#801">[ thread ]</a>
              <a href="subject.html#801">[ subject ]</a>
              <a href="author.html#801">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Donovan Preston &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">dp at divmod.org</A>&gt; writes:

&gt;<i> Are you using 0.3 or SVN head? I think Tv was working on fixing 
</I>&gt;<i> guard-related problems in this area. You might have more luck using SVN 
</I>&gt;<i> head, if you are not.
</I>
I'm using SVN head. Actually, grubbing round in the source, it looks
like putChild comes from ChildLookupMixin, which Page subclasses, but
SessionGuard doesn't. So an empty class derived from both
SessionGuard and ChildLookupMixin should work...

[Tries it]
Yes, that works. Feels like a hack, but it's a working hack :-) I'm
still not sure if that leaves the vhost guarded or not, and what that
means...

&gt;&gt;<i> 2. I'd like to add a &quot;remember me&quot; checkbox, which if checked sets a
</I>&gt;&gt;<i>    cookie to remember the user's ID, so that they don't have to log
</I>&gt;&gt;<i>    in again for (say) 2 weeks. Much like gmail, or Yahoo, do. But I'm
</I>&gt;&gt;<i>    not too sure how I'd go about this. I'm not even sure where I'd
</I>&gt;&gt;<i>    *put* auto-login code: the page is too late (the guard has done
</I>&gt;&gt;<i>    its thing by then) but anything else seems to be too early (ie,
</I>&gt;&gt;<i>    not per-session, if you see what I mean). I suspect I need to
</I>&gt;&gt;<i>    subclass the Portal, or something, but I'm not sure...
</I>&gt;<i>
</I>&gt;<i> I'm not sure guard is sufficiently flexible to allow this. Perhaps one 
</I>&gt;<i> of the guard replacements that is being worked on will help? mg, can 
</I>&gt;<i> you comment? Also, indigo, can you comment on the session system you 
</I>&gt;<i> wrote and/or perhaps turn it into an example or a module?
</I>
Interesting. I was getting that impression, too. Also, the code of
guard looks very hairy, so I'm not surprised that replacements are
under development. If a guinea pig is needed, let me know...

I looked at the current guard code, and it seems odd. I don't see the
point of things like __session_just_started__ (particularly as it's
user-visible :-() and the fact that login/logout are represented by
separate URLs, rather than just posting back to the current URL and
reading the form data is different from other approaches I have seen.

&gt;&gt;<i> Is there any documentation effort for Nevow going on anywhere? I'd
</I>&gt;&gt;<i> happily contribute, although it would more likely be in the form of
</I>&gt;&gt;<i> questions than answers at the moment :-)
</I>&gt;<i>
</I>&gt;<i> There should be, and it is creeping up higher on my priority list. 
</I>&gt;<i> However, life prevents me. Hopefully sometime in the next few months.
</I>&gt;<i>
</I>&gt;<i> Perhaps lurking on #twisted.web on irc.freenode.net would help?
</I>
I'll certainly do that. I'll also see if I can add any useful bits to
the Wiki...

Paul.
-- 
SCSI is not magic. There are fundamental technical reasons why it is
necessary to sacrifice a young goat to your SCSI chain now and then.
-- John Woods


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000800.html">[Twisted-web] Nevow: Authenticated site with &quot;remember me&quot; and
	vhosts
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#801">[ date ]</a>
              <a href="thread.html#801">[ thread ]</a>
              <a href="subject.html#801">[ subject ]</a>
              <a href="author.html#801">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
