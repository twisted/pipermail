<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Nevow: Authenticated site with &quot;remember me&quot; and
	vhosts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Nevow%3A%20Authenticated%20site%20with%20%22remember%20me%22%20and%0A%09vhosts&In-Reply-To=uoeik9rkr.fsf%40yahoo.co.uk">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000799.html">
   <LINK REL="Next"  HREF="000801.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Nevow: Authenticated site with &quot;remember me&quot; and
	vhosts</H1>
    <B>Donovan Preston</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Nevow%3A%20Authenticated%20site%20with%20%22remember%20me%22%20and%0A%09vhosts&In-Reply-To=uoeik9rkr.fsf%40yahoo.co.uk"
       TITLE="[Twisted-web] Nevow: Authenticated site with &quot;remember me&quot; and
	vhosts">dp at divmod.org
       </A><BR>
    <I>Sat Oct 30 10:26:46 MDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000799.html">[Twisted-web] Nevow: Authenticated site with &quot;remember me&quot; and
	vhosts
</A></li>
        <LI>Next message: <A HREF="000801.html">[Twisted-web] Re: Nevow: Authenticated site with &quot;remember me&quot; and
	vhosts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#800">[ date ]</a>
              <a href="thread.html#800">[ thread ]</a>
              <a href="subject.html#800">[ subject ]</a>
              <a href="author.html#800">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Oct 30, 2004, at 11:03 AM, Paul Moore wrote:

&gt;<i> I'm trying to use Nevow to build a site which displays the results of
</I>&gt;<i> a series of SQL queries. It looks good so far, I have the basic site
</I>&gt;<i> structure all sorted out in my mind (it's *very* impressive how quick
</I>&gt;<i> that was in Nevow). Before I flesh things out much further, I want to
</I>&gt;<i> add some authentication - basically, &quot;guest&quot; users will be able to
</I>&gt;<i> see a limited subset of the data.
</I>&gt;<i>
</I>&gt;<i> Adding authentication including a &quot;login&quot; form in the sidebar (a bit
</I>&gt;<i> like Roundup does) was again very easy. I basically cribbed from the
</I>&gt;<i> existing examples. But there are a few things I's now like to add:
</I>&gt;<i>
</I>&gt;<i> 1. Ultimately, I want to proxy the app through Apache, so I was using
</I>&gt;<i>    the Virtual Host Monster. Im ny original, unauthenticated,
</I>&gt;<i>    application, I added a &quot;vhost&quot; child to the main application
</I>&gt;<i>    resource, and that was it. I can no longer do that, as the
</I>&gt;<i>    resource is wrapped in a guard.SessionWrapper, which doesn't have
</I>&gt;<i>    a putChild method. I'm not clear that I want the vhost child to be
</I>&gt;<i>    authenticated anyway - what I *think* I want is for &quot;/&quot; to be
</I>&gt;<i>    authenticated, but &quot;/vhost&quot; not to be. Or do I? Any suggestions?
</I>
Are you using 0.3 or SVN head? I think Tv was working on fixing 
guard-related problems in this area. You might have more luck using SVN 
head, if you are not.

&gt;<i> 2. I'd like to add a &quot;remember me&quot; checkbox, which if checked sets a
</I>&gt;<i>    cookie to remember the user's ID, so that they don't have to log
</I>&gt;<i>    in again for (say) 2 weeks. Much like gmail, or Yahoo, do. But I'm
</I>&gt;<i>    not too sure how I'd go about this. I'm not even sure where I'd
</I>&gt;<i>    *put* auto-login code: the page is too late (the guard has done
</I>&gt;<i>    its thing by then) but anything else seems to be too early (ie,
</I>&gt;<i>    not per-session, if you see what I mean). I suspect I need to
</I>&gt;<i>    subclass the Portal, or something, but I'm not sure...
</I>
I'm not sure guard is sufficiently flexible to allow this. Perhaps one 
of the guard replacements that is being worked on will help? mg, can 
you comment? Also, indigo, can you comment on the session system you 
wrote and/or perhaps turn it into an example or a module?

&gt;<i> I've scanned the various examples, both in the distribution and in
</I>&gt;<i> the Nevow sandbox, but nothing seems to do what I want. Can anyone
</I>&gt;<i> give me some pointers?
</I>
Sorry I can't be of more help. Guard is one of nevow's weak spots, 
since I didn't write it and therefore don't understand it, because it 
is pretty horrifically complex.

&gt;<i> &lt;off on a tangent&gt;
</I>&gt;<i> This is the sort of area where the lack of documentation really
</I>&gt;<i> hurts. Examples are great (and the wealth of Nevow examples is realy
</I>&gt;<i> nice) but there's a lack of &quot;general principle&quot; documentation to make
</I>&gt;<i> it easy to generalise the example code. My best example of this is
</I>&gt;<i> that I can't work out what to return from a render_* method - should
</I>&gt;<i> it be a function, or a string, or a stan tree, or what? I suspect
</I>&gt;<i> that by the magic of interfaces, the answer is &quot;anything that can be
</I>&gt;<i> adapted to an ISomething&quot; (which needs further documentation to say
</I>&gt;<i> what standard adapters from string, sequence, whatever to ISomething
</I>&gt;<i> exist) - but it's not stated anywhere, which makes writing render_*
</I>&gt;<i> methods an exciting exercise in experimentation :-)
</I>
Yes.

&gt;<i> At the other end of the scale, the source is really too low-level to
</I>&gt;<i> follow for this sort of thing (I have tried).
</I>
Yes.

&gt;<i> Is there any documentation effort for Nevow going on anywhere? I'd
</I>&gt;<i> happily contribute, although it would more likely be in the form of
</I>&gt;<i> questions than answers at the moment :-)
</I>&gt;<i> &lt;/off on a tangent&gt;
</I>
There should be, and it is creeping up higher on my priority list. 
However, life prevents me. Hopefully sometime in the next few months.

Perhaps lurking on #twisted.web on irc.freenode.net would help?

dp


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000799.html">[Twisted-web] Nevow: Authenticated site with &quot;remember me&quot; and
	vhosts
</A></li>
	<LI>Next message: <A HREF="000801.html">[Twisted-web] Re: Nevow: Authenticated site with &quot;remember me&quot; and
	vhosts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#800">[ date ]</a>
              <a href="thread.html#800">[ thread ]</a>
              <a href="subject.html#800">[ subject ]</a>
              <a href="author.html#800">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
