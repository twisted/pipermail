<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] leightweight CMS
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20leightweight%20CMS&In-Reply-To=ac4d40ecbd86b8ac639f7d8cbe92b9a7%40fuhm.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001311.html">
   <LINK REL="Next"  HREF="001307.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] leightweight CMS</H1>
    <B>Andrea Arcangeli</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20leightweight%20CMS&In-Reply-To=ac4d40ecbd86b8ac639f7d8cbe92b9a7%40fuhm.net"
       TITLE="[Twisted-web] leightweight CMS">andrea at cpushare.com
       </A><BR>
    <I>Mon Mar 14 18:03:56 MST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001311.html">[Twisted-web] leightweight CMS
</A></li>
        <LI>Next message: <A HREF="001307.html">[Twisted-web] nevow:attr problem and patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1312">[ date ]</a>
              <a href="thread.html#1312">[ thread ]</a>
              <a href="subject.html#1312">[ subject ]</a>
              <a href="author.html#1312">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Mar 14, 2005 at 01:02:58AM -0500, James Y Knight wrote:
&gt;<i> Of course you are correct, but I would disagree about the short-term 
</I>&gt;<i> importance. I suspect you'll get better performance actually by reading 
</I>&gt;<i> files blockingly than by using an SQL server. For a typical website, I 
</I>&gt;<i> expect all the most active content will fit in the cache quite handily, 
</I>
A typical website yes, but an application server with potentially a ton
of articles may not allow all data to fit in cache.

And if the cache is flushed by some other task the sync behaviour will
return.

&gt;<i> not matter. If you read in small chunks, the disk will likely be able 
</I>&gt;<i> to read quicker than your kernel TCP buffers can become empty. However, 
</I>
Depends on the performance of the HD and of the network. For small/mid
projects it's ok of course, but I doubt people should risk to build
anything significant on top of this model.

&gt;<i> notice my use of the &quot;likely&quot;, &quot;expect&quot;, &quot;suspect&quot; qualifiers: I have 
</I>&gt;<i> not actually *done* this measurement, but from my experience with SQL 
</I>&gt;<i> servers, they are not excessively speedy.
</I>
The object is to allow the high traffic part of the website to be
served while somebody is browsing the old articles that don't fit in
cache.

The latency of the sql server isn't the interesting point here.

&gt;<i> Spawning threads to do your reads is of course an option, but not one I 
</I>&gt;<i> would recommend worrying about unless you've&#160;actually measured it being 
</I>&gt;<i> a problem. And, if you *have* done that measurement, please help to 
</I>&gt;<i> write a generic async-disk-io module for Twisted which can use either 
</I>&gt;<i> threads or kernel async IO, as appropriate, and put this to rest once 
</I>&gt;<i> and for all. :)
</I>
Sure, I didn't mean people should implement the async-disk-io module
immediatly, but they should be aware that reading or writing within
twisted breaks the async model and that they must be prepared to fix it
if something goes wrong. After the user is aware about this, it's up to
him/her to balance the tradeoff between coding simplicity and the
scalability of his code. It's perfectly ok to go for code simplicity for
small/mid projects that don't get more than 1 connection per second (in
1 second tons of I/O can happen of course).

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001311.html">[Twisted-web] leightweight CMS
</A></li>
	<LI>Next message: <A HREF="001307.html">[Twisted-web] nevow:attr problem and patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1312">[ date ]</a>
              <a href="thread.html#1312">[ thread ]</a>
              <a href="subject.html#1312">[ subject ]</a>
              <a href="author.html#1312">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
