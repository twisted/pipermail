<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Old Style python classes in Twisted
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Old%20Style%20python%20classes%20in%20Twisted&In-Reply-To=20121006215010.7857.508107605.divmod.xquotient.264%40localhost6.localdomain6">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004941.html">
   <LINK REL="Next"  HREF="004943.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Old Style python classes in Twisted</H1>
    <B>Glyph</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Old%20Style%20python%20classes%20in%20Twisted&In-Reply-To=20121006215010.7857.508107605.divmod.xquotient.264%40localhost6.localdomain6"
       TITLE="[Twisted-web] Old Style python classes in Twisted">glyph at twistedmatrix.com
       </A><BR>
    <I>Sun Oct  7 04:33:36 EDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="004941.html">[Twisted-web] Old Style python classes in Twisted
</A></li>
        <LI>Next message: <A HREF="004943.html">[Twisted-web]  Old Style python classes in Twisted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4942">[ date ]</a>
              <a href="thread.html#4942">[ thread ]</a>
              <a href="subject.html#4942">[ subject ]</a>
              <a href="author.html#4942">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Oct 6, 2012, at 2:50 PM, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">exarkun at twistedmatrix.com</A> wrote:

&gt;<i> On 09:22 pm, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">ardesai at yahoo.com</A> wrote:
</I>&gt;&gt;<i> Given that twisted tutorials and other written materials show examples 
</I>&gt;&gt;<i> of derived classes for Protocol, HTTP Request etc., is there a good 
</I>&gt;&gt;<i> reason for many classes (almost all I suspect) (e.g. 'class Request' , 
</I>&gt;&gt;<i> 'class BaseProtocol',  'class _PauseableMixin', etc.) to be old style 
</I>&gt;&gt;<i> classes as opposed to a new style python classes?
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Given that newer versions of twisted (and user apps) run on newer 
</I>&gt;&gt;<i> versions of python, I initially (a few years ago) tried to call the 
</I>&gt;&gt;<i> base class using super(), but was surprised to find twisted implements 
</I>&gt;&gt;<i> using old style classes.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> New style classes make it easy to call a base class method (by using 
</I>&gt;&gt;<i> super).  Would the MRO in new style classes make it better or worse? 
</I>&gt;&gt;<i> However, nothing wrong with old style classes, esp. if twisted depends 
</I>&gt;&gt;<i> on the depth-first MRO of old style classes.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Can someone clarify whether use of old style classes is intentional 
</I>&gt;&gt;<i> (e.g. due to MRO)?
</I>&gt;<i> 
</I>&gt;<i> It is intentional in case any applications based on Twisted rely on 
</I>&gt;<i> behavior of classic classes, such as the MRO differences.  Classes added 
</I>&gt;<i> to Twisted now are all new-style, though.
</I>
In your own applications, if you want to call the base class using super(), in most cases you may simply do this:

class MyNewStyleThing(OldStyleThingFromTwisted, object):

Sticking 'object' on the end of the inheritance hierarchy is always[1] safe; it will make your new class new-style, and it will keep working if you ever manage to migrate to Python 3, where all classes are new-style; or, if Twisted ever undergoes a &quot;flag day&quot; to switch over to new-style classes for everything.

(Warning: sticking 'object' on the front of your inheritance hierarchy will rarely appear to work, but it will almost always cause weird issues and can easily fail later.  Remember to put it on the end.)

This inspired me to write a new ticket, &lt;<A HREF="http://twistedmatrix.com/trac/ticket/6076">http://twistedmatrix.com/trac/ticket/6076</A>&gt;, in case anyone would at least like to prevent the type-distinction infection from becoming worse over time.

Good luck,

-glyph

[1]: by which I mean, of course, &quot;almost always&quot;.  Caveat coder.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-web/attachments/20121007/2daf95e1/attachment.htm">http://twistedmatrix.com/pipermail/twisted-web/attachments/20121007/2daf95e1/attachment.htm</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004941.html">[Twisted-web] Old Style python classes in Twisted
</A></li>
	<LI>Next message: <A HREF="004943.html">[Twisted-web]  Old Style python classes in Twisted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4942">[ date ]</a>
              <a href="thread.html#4942">[ thread ]</a>
              <a href="subject.html#4942">[ subject ]</a>
              <a href="author.html#4942">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
