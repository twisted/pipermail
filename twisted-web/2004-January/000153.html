<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Page navigation: a cry for help
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000143.html">
   <LINK REL="Next"  HREF="000137.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Page navigation: a cry for help
   </H1>
    <B>Jonathan M. Lange
    </B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com"
       TITLE="[Twisted-web] Page navigation: a cry for help">twisted-web@twistedmatrix.com
       </A><BR>
    <I>Sat, 31 Jan 2004 00:21:07 +1100</I>
    <P><UL>
        <LI> Previous message: <A HREF="000143.html">[Twisted-web] Newbie Question? -- Running xmlrpc client and server together
</A></li>
        <LI> Next message: <A HREF="000137.html">[Twisted-web] Rendering unicode instances.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#153">[ date ]</a>
              <a href="thread.html#153">[ thread ]</a>
              <a href="subject.html#153">[ subject ]</a>
              <a href="author.html#153">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--vkogqOf2sHV7VnPd
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

On Tue, Jan 27, 2004 at 10:26:37PM +0100, Michal Pasternak wrote:
&gt;<i> The basic question is: if I have website, and that website's structure is
</I>&gt;<i> tree-like, how will be the most proper way to create navigation?
</I>
&gt;<i> I'd like to have links to neighbour pages (pages on the same node), I'd l=
</I>ike
&gt;<i> to be able to get a list of pages on the &quot;above&quot; nodes.
</I>
&gt;<i> Do you have any methods or solutions for a good, easy woven page navigati=
</I>on
&gt;<i> model?
</I>=20

The basic answer is a combination of wchild_ methods and getDynamicChild()

class MyPage(page.Page):
  def __init__(self, ...):
    self.someParam =3D 'bar'
    self.kids =3D { 'alice': AlicePage(), 'bob': BobPage() }

  def wchild_carol(self, request):
    &quot;&quot;&quot;Use this style for static structure.&quot;&quot;&quot;
    return CarolPage()

  def getDynamicChild(self, name, request):
    &quot;&quot;&quot;Use this style for dynamic structure.
    Example: <A HREF="http://mysite/users/<username">http://mysite/users/&lt;username</A>&gt;
    &quot;&quot;&quot;
    child =3D self.kids[name]
    child.parent =3D self
    return child

This demonstrates the two major ways in woven to handle site structure.=20
That'd give you a site like:
 <A HREF="http://root/">http://root/</A>
 <A HREF="http://root/alice,">http://root/alice,</A> <A HREF="http://root/bob">http://root/bob</A>
 <A HREF="http://root/carol">http://root/carol</A>

Any Page subclass that you define can do these things, so you can effective=
ly
achieve a tree structure, which each Page knowing how to make / get at its=
=20
child pages.

In the example, the 'alice' and 'bob' pages know their parent. 'carol' does
not. This is obviously a problem, and a mistake that one might be likely to
make when mixing wchild_* and getDynamicChild

So, a better way to deal with this might be to override getChild(). You
shouldn't unless you know what you are doing, so I'll leave you to read the
code to find out how.=20

One benefit would be that you'd have less to worry about. Another would be =
that
you'd just use wchild_*, which is more appropriate for your site, based on =
the
way you've described it.

cheers,
jml

PS. Use Nevow.


--vkogqOf2sHV7VnPd
Content-Type: application/pgp-signature; name=&quot;signature.asc&quot;
Content-Description: Digital signature
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.3 (GNU/Linux)

iD8DBQFAGlpDOp5n04HhSp8RAiL5AJ9uE1hlb3CpIfm3womk2CXVQyGgmgCfek9K
H9ntuqozlWypkS2DAX9P5R8=
=5hEp
-----END PGP SIGNATURE-----

--vkogqOf2sHV7VnPd--


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000143.html">[Twisted-web] Newbie Question? -- Running xmlrpc client and server together
</A></li>
	<LI> Next message: <A HREF="000137.html">[Twisted-web] Rendering unicode instances.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#153">[ date ]</a>
              <a href="thread.html#153">[ thread ]</a>
              <a href="subject.html#153">[ subject ]</a>
              <a href="author.html#153">[ author ]</a>
         </LI>
       </UL>
</body></html>
