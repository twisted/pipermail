<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] A more Twisted approach to async apps in WSGI
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20A%20more%20Twisted%20approach%20to%20async%20apps%20in%20WSGI&In-Reply-To=5.1.1.6.0.20040922204838.024f61c0%40mail.telecommunity.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000675.html">
   <LINK REL="Next"  HREF="000677.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] A more Twisted approach to async apps in WSGI</H1>
    <B>William Dode</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20A%20more%20Twisted%20approach%20to%20async%20apps%20in%20WSGI&In-Reply-To=5.1.1.6.0.20040922204838.024f61c0%40mail.telecommunity.com"
       TITLE="[Twisted-web] A more Twisted approach to async apps in WSGI">wilk-ml at flibuste.net
       </A><BR>
    <I>Thu Sep 23 02:33:33 MDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000675.html">[Twisted-web] A more Twisted approach to async apps in WSGI
</A></li>
        <LI>Next message: <A HREF="000677.html">[Web-SIG] Re: [Twisted-web] A more Twisted approach to
	async apps in WSGI
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#676">[ date ]</a>
              <a href="thread.html#676">[ thread ]</a>
              <a href="subject.html#676">[ subject ]</a>
              <a href="author.html#676">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&quot;Phillip J. Eby&quot; &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">pje at telecommunity.com</A>&gt; writes:

&gt;<i> Hi all.  I've been away for a few days due to loss of e-mail service
</I>&gt;<i> when my dedicated server lost a hard drive.  Unfortunately my ISP
</I>&gt;<i> didn't support the OS version any more, so I had to rebuild everything
</I>&gt;<i> for the new OS version.
</I>&gt;<i>
</I>&gt;<i> Anyway, on to the topic of my post.  Should 'wsgi.input' become an
</I>&gt;<i> iterator?  Or should we develop a different API for asynchronous
</I>&gt;<i> applications?
</I>&gt;<i>
</I>&gt;<i> On the positive side of the iterator approach, it could make it easier
</I>&gt;<i> for asynchronous applications to pause waiting for input, and it could
</I>&gt;<i> in principle support &quot;chunked&quot; transfer encoding of the input stream.
</I>&gt;<i>
</I>&gt;<i> However, since we last discussed this, I did some Googling on CGI and
</I>&gt;<i> chunked encoding.  By far and away, the most popular links regarding
</I>&gt;<i> chunked encoding and CGI, are all about bugs in IIS and Apache leading
</I>&gt;<i> to various vulnerabilities when chunked encoding is used.  :(
</I>&gt;<i>
</I>&gt;<i> Once you get past those items (e.g. by adding &quot;-IIS -vulnerability&quot; to
</I>&gt;<i> your search), you then find *our* discussion here on the Web-SIG!
</I>&gt;<i> Finally, digging further, I found some 1998 discussion from the IPP
</I>&gt;<i> (Internet Printing Protocol!) mailing list about what HTTP/1.1 servers
</I>&gt;<i> support chunked encoding for CGI and which don't.
</I>&gt;<i>
</I>&gt;<i> Anyway, the long and short of it is that CGI and chunked encoding are
</I>&gt;<i> quite simply incompatible, which means that relying on its
</I>&gt;<i> availability would be nonportable in a WSGI application anyway.
</I>
I don't understand the problem with an iterator on CGI. A CGI script is
by definition multi-process. If one block, a new script will be run and
anyway the first client will wait... If no one block, an iterator or not
will not change anything for him.

It will be up to the server to decide if he can use chunked encoding or
not. If the script block and doesn't use chunked encoding, it will be
not possible to run the script in cgi anyway... I know people who use
chunked encoding in cgi, they know what they do and it's fine, i'm sure
they will use iterator.

I don't see the difference between

[sleep...]
[sleep...]
[sleep...]
return data

and 

[sleep...]
yield
[sleep...]
yield
[sleep...]
yield

for a cgi script if it's not possible to don't sleep.

-- 
William Dod&#233; - <A HREF="http://flibuste.net">http://flibuste.net</A>

</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000675.html">[Twisted-web] A more Twisted approach to async apps in WSGI
</A></li>
	<LI>Next message: <A HREF="000677.html">[Web-SIG] Re: [Twisted-web] A more Twisted approach to
	async apps in WSGI
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#676">[ date ]</a>
              <a href="thread.html#676">[ thread ]</a>
              <a href="subject.html#676">[ subject ]</a>
              <a href="author.html#676">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
