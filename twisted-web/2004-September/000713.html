<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Re: How to get rid of web logs?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Re%3A%20How%20to%20get%20rid%20of%20web%20logs%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000711.html">
   <LINK REL="Next"  HREF="000712.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Re: How to get rid of web logs?</H1>
    <B>David Bolen</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Re%3A%20How%20to%20get%20rid%20of%20web%20logs%3F&In-Reply-To="
       TITLE="[Twisted-web] Re: How to get rid of web logs?">db3l at fitlinxx.com
       </A><BR>
    <I>Thu Sep 30 16:51:38 MDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000711.html">[Twisted-web] How to get rid of web logs? 
</A></li>
        <LI>Next message: <A HREF="000712.html">[Twisted-web] nevow/stackless bugs -- patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#713">[ date ]</a>
              <a href="thread.html#713">[ thread ]</a>
              <a href="subject.html#713">[ subject ]</a>
              <a href="author.html#713">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yun Mao &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">maoy+twisted at cis.upenn.edu</A>&gt; writes:

&gt;<i> Right now I'm using the log for debugging, and I don't wan to log those
</I>&gt;<i> info like below. How should I achieve this?  Thanks!
</I>&gt;<i> 
</I>&gt;<i> 2004/09/30 13:31 Eastern Daylight Time [HTTPChannel,1,127.0.0.1] 127.0.0.1
</I>&gt;<i> - - [
</I>&gt;<i> 30/Sep/2004:17:31:56 +0000] &quot;GET /?view=all HTTP/1.1&quot; 200 2767
</I>&gt;<i> &quot;<A HREF="http://localhost">http://localhost</A>
</I>&gt;<i> :1083/&quot; &quot;Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7)
</I>&gt;<i> Gecko/20040803
</I>&gt;<i> Firefox/0.9.3&quot;
</I>
You could set up your own log observer (based on log.FileLogObserver
for simplicity) and filter out anything where the system entry in the
event dictionary started with HTTPChannel.  It does have a dependency
if HTTPChannel changes its prefix in the future, but it should work
fine.

E.g., if you use to do the typical:

    from twisted.python import log

    log.startLogging(somefile)

switch it to:

    from twisted.python import log

    class NoHTTPLogFileObserver(log.FileLogObserver):
        def emit(self, eventDict):
            if not eventDict.get('system','').startswith('HTTPChannel'):
                log.FileLogObserver.emit(self, eventDict)

    log.startLoggingWithObserver(NoHTTPLogFileObserver(sys.stdout).emit)


Alternatively, you can use your own observer to do anything you want
with those.  For example, in one of our applications, we just filter
out the HTTPChannel events to a separate log file whereas most of the
log messages go to a central log.

-- David


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000711.html">[Twisted-web] How to get rid of web logs? 
</A></li>
	<LI>Next message: <A HREF="000712.html">[Twisted-web] nevow/stackless bugs -- patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#713">[ date ]</a>
              <a href="thread.html#713">[ thread ]</a>
              <a href="subject.html#713">[ subject ]</a>
              <a href="author.html#713">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
