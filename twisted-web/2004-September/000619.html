<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] nevow FileUpload
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20nevow%20FileUpload&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000617.html">
   <LINK REL="Next"  HREF="000622.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] nevow FileUpload</H1>
    <B>Williamson, Mark</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20nevow%20FileUpload&In-Reply-To="
       TITLE="[Twisted-web] nevow FileUpload">Mark.Williamson at bl.uk
       </A><BR>
    <I>Wed Sep  8 05:01:02 MDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000617.html">[Twisted-web] (no subject)
</A></li>
        <LI>Next message: <A HREF="000622.html">[Twisted-web] nevow FileUpload
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#619">[ date ]</a>
              <a href="thread.html#619">[ thread ]</a>
              <a href="subject.html#619">[ subject ]</a>
              <a href="author.html#619">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, 

I'm building a web app with nevow/twisted and I'm really 
impressed. 

I'm having a small problem with Formless though when trying to 
upload a file: 

here is my interface:

class IAddDocument( formless.TypedInterface ):
   &quot;&quot;&quot;Interface for Add Document form&quot;&quot;&quot;
   def addDocument( self , context = annotate.Context() , fdata =
annotate.FileUpload( required = True ) ):
      pass
   addDocument = formless.autocallable( addDocument )

The form renders fine (I'm using a template pretty much based on the one in
one of the 
tutorials except I've messed about with the table layout a bit) and lets me
choose a file
for upload - it also seems to upload the file. However when my method is
called 
on my page class: 

   def addDocument( self , context , fdata ):
       ...

fdata is None. I've looked at the request from the context and the filename
seems to be there 
but not the file data. 

Can anyone shed any light on this. Its a bit of a sticking point for me 
right now

cheers 

mark 


**************************************************************************

Experience the British Library online at www.bl.uk 

Help the British Library conserve the world's knowledge. Adopt a Book.
www.bl.uk/adoptabook 

*************************************************************************

The information contained in this e-mail is confidential and may be legally
privileged. It is intended for the addressee(s) only. If you are not the
intended recipient, please delete this e-mail and notify the
<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">postmaster at bl.uk</A> : The contents of this e-mail must not be disclosed or
copied without the sender's consent. 

The statements and opinions expressed in this message are those of the
author and do not necessarily reflect those of the British Library. The
British Library does not take any responsibility for the views of the
author. 

************************************************************************* 


</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000617.html">[Twisted-web] (no subject)
</A></li>
	<LI>Next message: <A HREF="000622.html">[Twisted-web] nevow FileUpload
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#619">[ date ]</a>
              <a href="thread.html#619">[ thread ]</a>
              <a href="subject.html#619">[ subject ]</a>
              <a href="author.html#619">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
