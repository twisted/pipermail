<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Re: Serving files from many web-servers thru one
	central	web-server
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Re%3A%20Serving%20files%20from%20many%20web-servers%20thru%20one%0A%09central%09web-server&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000698.html">
   <LINK REL="Next"  HREF="000700.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Re: Serving files from many web-servers thru one
	central	web-server</H1>
    <B>David Bolen</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Re%3A%20Serving%20files%20from%20many%20web-servers%20thru%20one%0A%09central%09web-server&In-Reply-To="
       TITLE="[Twisted-web] Re: Serving files from many web-servers thru one
	central	web-server">db3l at fitlinxx.com
       </A><BR>
    <I>Tue Sep 28 13:25:15 MDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000698.html">[Twisted-web] Serving files from many web-servers thru one central
	web-server
</A></li>
        <LI>Next message: <A HREF="000700.html">[Twisted-web] Re: Serving files from many web-servers thru one
	central web-server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#699">[ date ]</a>
              <a href="thread.html#699">[ thread ]</a>
              <a href="subject.html#699">[ subject ]</a>
              <a href="author.html#699">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thomas Weholt &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">thomas.weholt at gmail.com</A>&gt; writes:

&gt;<i> A few users connect to the main server, requesting files on the
</I>&gt;<i> subnet web-servers. The main server reads data from several subnet
</I>&gt;<i> servers and writes the data back to the requesting clients. How can I
</I>&gt;<i> do this in twisted, without blocking, and handle several clients?
</I>&gt;<i> We're not talking hardcore P2P here with thousands of clients, most
</I>&gt;<i> likely 2-5 concurrent users, 10 at the most.
</I>
I haven't had an opportunity to use it myself yet, but there is a
twisted.web.spread module that may work since all of your servers are
using Twisted.

On the subnet servers, wrap your site object in the ResourcePublisher
object (a pb.Root subclass) and set that up to listen on an
appropriate port.

On the main server, for each resource root that you want proxied out
to a remote server, insert an appropriate child resource using
ResourceSubscription.

A PB link used to transmit the requests between the two machines,
which means that all of the server render() calls to be proxied are
handled in a deferred fashion.

I expect there may be a way to interconnect your server into a client
HTTP class to proxy to the subset servers using a more traditional web
request, but given that you are Twisted throughout, probably no reason
not to go ahead and use the PB approach.

It does look like these classes still use the older pb.getObjectAt
approach for the connection rather than the newer getRootObject, but
it should still work.  If it doesn't directly suit what you want, it
it may at least give you an idea for your own approach (since neither
of those classes is overly complex).

-- David


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000698.html">[Twisted-web] Serving files from many web-servers thru one central
	web-server
</A></li>
	<LI>Next message: <A HREF="000700.html">[Twisted-web] Re: Serving files from many web-servers thru one
	central web-server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#699">[ date ]</a>
              <a href="thread.html#699">[ thread ]</a>
              <a href="subject.html#699">[ subject ]</a>
              <a href="author.html#699">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
