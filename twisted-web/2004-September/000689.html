<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Re: Nevow status
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Re%3A%20Nevow%20status&In-Reply-To=B0B35A92-10AE-11D9-9654-003065D4F272%40acm.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000688.html">
   <LINK REL="Next"  HREF="000692.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Re: Nevow status</H1>
    <B>Donovan Preston</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Re%3A%20Nevow%20status&In-Reply-To=B0B35A92-10AE-11D9-9654-003065D4F272%40acm.org"
       TITLE="[Twisted-web] Re: Nevow status">dp at ulaluma.com
       </A><BR>
    <I>Mon Sep 27 14:17:24 MDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000688.html">[Twisted-web] Implement &quot;Page Not Found &quot;
</A></li>
        <LI>Next message: <A HREF="000692.html">[Twisted-web] Remembering things in context from a Realm
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#689">[ date ]</a>
              <a href="thread.html#689">[ thread ]</a>
              <a href="subject.html#689">[ subject ]</a>
              <a href="author.html#689">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Sep 27, 2004, at 1:57 PM, Marc-Antoine Parent wrote:

&gt;<i> I wrote some for the hell of it. Page patterns and children factories 
</I>&gt;<i> are dead easy; working my way through the forms logic right now. My 
</I>&gt;<i> only comment so far: I wish adding events did not require writing an 
</I>&gt;<i> interface. (Or does it? Don't answer if you're busy, I'll figure it 
</I>&gt;<i> out ;)
</I>&gt;<i>
</I>&gt;<i> I expected something like
</I>&gt;<i> class myPage(rend.Page):
</I>&gt;<i>     def action_someAction(self, ctx, *kwargs):
</I>&gt;<i> 	....
</I>&gt;<i>
</I>&gt;<i> so that I could call, in a simple href or form:
</I>&gt;<i> myPage?action=someAction&amp;arg1=1&amp;arg2=b
</I>&gt;<i> I know formless and/or liveEvil are better ways to do some of this, 
</I>&gt;<i> but I like calling a RESTful interface from Javascript to transmit 
</I>&gt;<i> data to the server.
</I>&gt;<i> I may just code it atop what is there, it looks easy enough ;-)
</I>&gt;<i> If there are deep reasons _not_ to do it, I'd like to know.
</I>
I'm ccing this to the list to solicit more general feedback.

I agree it should be easier and it's something I have been thinking 
about for a little while now. The main reason formless requires 
interfaces is because of the type annotation, coercion and error 
handling features of formless. If you are just submitting strings and 
don't care if they are valid or not it would be easy enough to do what 
you want to do:

class ActionPage(rend.Page):
	def renderHTTP(self, ctx):
		action = ctx.arg('action')
		if action:
			args = IRequest(ctx).args.copy()
			del args['action']
			return getattr(self, 'action_%s' % action)(ctx, **args)
		return rend.Page.renderHTTP(self, ctx)

I might go ahead and add this to rend so people can use it if they 
want. The thing I like about this approach is that it is simple enough 
to get started quickly, since formless is a lot to swallow when you are 
learning the framework.

I still think the formless interface approach is valid and useful 
however, because of all the things you get from it:

* Form rendering
* Error checking
* Error form rendering
* Type coercion
* Method calling and property setting

Really, formless is designed as the ultimate REST architecture, where 
form POSTs only mutate server side objects and are immediately 
redirected to a GET for that same object. But it is overkill for 
simpler tasks. Maybe there should be some sort of middle ground.

dp


</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000688.html">[Twisted-web] Implement &quot;Page Not Found &quot;
</A></li>
	<LI>Next message: <A HREF="000692.html">[Twisted-web] Remembering things in context from a Realm
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#689">[ date ]</a>
              <a href="thread.html#689">[ thread ]</a>
              <a href="subject.html#689">[ subject ]</a>
              <a href="author.html#689">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
