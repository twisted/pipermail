<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Twisted and reverse proxies
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Twisted%20and%20reverse%20proxies&In-Reply-To=48AA356F-A7AE-4AC2-B762-A18A08C1C4D9%40ucsd.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004446.html">
   <LINK REL="Next"  HREF="004449.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Twisted and reverse proxies</H1>
    <B>Ray Cote</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Twisted%20and%20reverse%20proxies&In-Reply-To=48AA356F-A7AE-4AC2-B762-A18A08C1C4D9%40ucsd.edu"
       TITLE="[Twisted-web] Twisted and reverse proxies">rgacote at appropriatesolutions.com
       </A><BR>
    <I>Tue Mar 30 21:50:55 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="004446.html">[Twisted-web] Twisted and reverse proxies
</A></li>
        <LI>Next message: <A HREF="004449.html">[Twisted-web] Twisted and reverse proxies
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4447">[ date ]</a>
              <a href="thread.html#4447">[ thread ]</a>
              <a href="subject.html#4447">[ subject ]</a>
              <a href="author.html#4447">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Rob: 

We have a number of different installations running precisely that arrangement -- Twisted running behind Apache (or Nginx). Very stable and reliable.

One note, you ask how your static resources 'will react' to being reverse proxied. 
When running Twisted behind Apache, we find it most useful to serve all the static files directly from Apache and leave Twisted to serve only the dynamic content. No reason to use Twisted to serve static files when there's a perfectly good Apache server available. 

The one small issue we've had is that all the log entries in Twisted come out showing a source IP of 127.0.0.1 (i.e., the Apache server). We turned on the X-Forwarded headers in Apache and ended up hacking some library code in Twisted, but always figured we must have missed something since it seems that grabbing the X-Forwarded header should either a) be something Twisted would do; or b) have a simple setting to indicate the use of X-Forwarded. (perhaps some more knowledgeable person will point me in the right direction.)
--Ray



----- Original Message -----
From: &quot;Rob Newman&quot; &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">rlnewman at ucsd.edu</A>&gt;
To: <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">twisted-web at twistedmatrix.com</A>
Sent: Tuesday, March 30, 2010 7:52:46 PM GMT -05:00 US/Canada Eastern
Subject: [Twisted-web] Twisted and reverse proxies

Hi Twisted folks,

We have a pure Twisted application that runs on a URL akin to:

<A HREF="http://hostname:8080">http://hostname:8080</A>

We wish to use an Apache reverse proxy to allow our web users to transparently view the Twisted application 'within' our existing Apache served site. So that, something like:

<A HREF="http://www.companyname.com/tools/twisted_app">http://www.companyname.com/tools/twisted_app</A>

proxies to:

<A HREF="http://hostname:8080">http://hostname:8080</A>

As someone relatively new to Twisted, how will our static (and other) resources react to being reverse proxy served? Will they barf? Is there any online documentation I can look at for case studies?

Thanks in advance,
- Rob
_______________________________________________
Twisted-web mailing list
<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">Twisted-web at twistedmatrix.com</A>
<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web</A>

-- 
Ray Cote, President
Appropriate Solutions, Inc.
We Build Software
603.924.6079

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004446.html">[Twisted-web] Twisted and reverse proxies
</A></li>
	<LI>Next message: <A HREF="004449.html">[Twisted-web] Twisted and reverse proxies
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4447">[ date ]</a>
              <a href="thread.html#4447">[ thread ]</a>
              <a href="subject.html#4447">[ subject ]</a>
              <a href="author.html#4447">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
