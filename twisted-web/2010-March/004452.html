<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Twisted and reverse proxies
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Twisted%20and%20reverse%20proxies&In-Reply-To=926718221.1631270000659978.JavaMail.rgacote%40Raymond-Cotes-Mac-mini.local">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004451.html">
   <LINK REL="Next"  HREF="004448.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Twisted and reverse proxies</H1>
    <B>exarkun at twistedmatrix.com</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Twisted%20and%20reverse%20proxies&In-Reply-To=926718221.1631270000659978.JavaMail.rgacote%40Raymond-Cotes-Mac-mini.local"
       TITLE="[Twisted-web] Twisted and reverse proxies">exarkun at twistedmatrix.com
       </A><BR>
    <I>Wed Mar 31 18:03:01 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="004451.html">[Twisted-web] Twisted and reverse proxies
</A></li>
        <LI>Next message: <A HREF="004448.html">[Twisted-web] Twisted and reverse proxies
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4452">[ date ]</a>
              <a href="thread.html#4452">[ thread ]</a>
              <a href="subject.html#4452">[ subject ]</a>
              <a href="author.html#4452">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 01:50 am, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">rgacote at appropriatesolutions.com</A> wrote:
&gt;<i>
</I>&gt;<i>The one small issue we've had is that all the log entries in Twisted 
</I>&gt;<i>come out showing a source IP of 127.0.0.1 (i.e., the Apache server). We 
</I>&gt;<i>turned on the X-Forwarded headers in Apache and ended up hacking some 
</I>&gt;<i>library code in Twisted, but always figured we must have missed 
</I>&gt;<i>something since it seems that grabbing the X-Forwarded header should 
</I>&gt;<i>either a) be something Twisted would do; or b) have a simple setting to 
</I>&gt;<i>indicate the use of X-Forwarded. (perhaps some more knowledgeable 
</I>&gt;<i>person will point me in the right direction.)
</I>
This is a poor behavior of Twisted Web logging, and something I'd very 
much like to see fixed.  Since the better header handling code appeared 
in Twisted 8.2 or so, and since the Twisted Web proxy itself is again 
apparently working in Twisted 10.0, this is probably more feasible to 
actually fix.

<A HREF="http://twistedmatrix.com/trac/ticket/1468">http://twistedmatrix.com/trac/ticket/1468</A> is the ticket for this. 
Notice that I said I was going to work on it a while ago, but then ran 
into the various issues above, and never got anywhere.  Possibly with 
those roadblocks out of the way, the plan I described there could be 
attempted (and perhaps it will even turn out to be a good one, but no 
promises).

Jean-Paul

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004451.html">[Twisted-web] Twisted and reverse proxies
</A></li>
	<LI>Next message: <A HREF="004448.html">[Twisted-web] Twisted and reverse proxies
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4452">[ date ]</a>
              <a href="thread.html#4452">[ thread ]</a>
              <a href="subject.html#4452">[ subject ]</a>
              <a href="author.html#4452">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
