<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] system.multicall support for the XML-RPC server
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20system.multicall%20support%20for%20the%20XML-RPC%20server&In-Reply-To=mailman.7.1241280002.7196.twisted-web%40twistedmatrix.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004170.html">
   <LINK REL="Next"  HREF="004172.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] system.multicall support for the XML-RPC server</H1>
    <B>Dave Benjamin</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20system.multicall%20support%20for%20the%20XML-RPC%20server&In-Reply-To=mailman.7.1241280002.7196.twisted-web%40twistedmatrix.com"
       TITLE="[Twisted-web] system.multicall support for the XML-RPC server">dave at ramenlabs.com
       </A><BR>
    <I>Tue May  5 19:31:13 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004170.html">[Twisted-web] system.multicall support for the XML-RPC server
</A></li>
        <LI>Next message: <A HREF="004172.html">[Twisted-web] Close TCP Connection Using web resource.Resource
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4171">[ date ]</a>
              <a href="thread.html#4171">[ thread ]</a>
              <a href="subject.html#4171">[ subject ]</a>
              <a href="author.html#4171">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, 2 May 2009, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">twisted-web-request at twistedmatrix.com</A> wrote:

&gt;<i> Hi Dave!  Thanks for taking the time to contribute.
</I>&gt;<i>
</I>&gt;<i> Unfortunately, this contribution will almost certainly be lost if you
</I>&gt;<i> don't open a ticket for it at &lt;<A HREF="http://twistedmatrix.com/trac/newticket">http://twistedmatrix.com/trac/newticket</A>&gt;.
</I>&gt;<i> Once you've done that, you'll need to mark it for review by adding the
</I>&gt;<i> &quot;review&quot; keyword and reassigning it to nobody - the empty entry at the
</I>&gt;<i> top of the &quot;reassign&quot; menu.
</I>
Thanks for your thoughtful comments! I created a ticket with a patch and 
unit test and tried to respond to all of the things you mentioned. The 
ticket is here:

<A HREF="http://twistedmatrix.com/trac/ticket/3823">http://twistedmatrix.com/trac/ticket/3823</A>

&gt;&gt;<i> I had to add to the XMLRPCIntrospection class in order to include my
</I>&gt;&gt;<i> method in the system namespace, even though it is not really an
</I>&gt;&gt;<i> introspection method. It's also possible to subclass
</I>&gt;&gt;<i> XMLRPCIntrospection
</I>&gt;&gt;<i> from outside of xmlrpc.py and use putSubHandler instead of
</I>&gt;&gt;<i> xmlrpc.addIntrospection to create the &quot;system&quot; namespace.
</I>&gt;<i>
</I>&gt;<i> I'm not quite sure what you're getting at here - do you think one of
</I>&gt;<i> these other approaches would be better!
</I>
Well, I'm sort of thinking out loud here, because I'm not sure. As 
designed, the way to get a &quot;system&quot; namespace in your XML-RPC server is to 
call xmlrpc.addIntrospection(server). However, the &quot;system.multicall&quot; 
method belongs to the &quot;system&quot; namespace and is not an introspection 
method. If I were to add another method called xmlrpc.addMulticall(), the 
two methods would both be responsible for creating the system namespace. 
Would the multicall method go in its own class? Or would it be 
monkey-patched onto the XMLRPCIntrospection class? The latter would 
avoid breaking existing code, but it would also create an order of 
operations requirement (first introspection, then multicall), which would 
be inelegant.

For comparison, this is how SimpleXMLRPCServer does it:
<A HREF="http://docs.python.org/library/simplexmlrpcserver.html#SimpleXMLRPCServer.SimpleXMLRPCServer.register_introspection_functions">http://docs.python.org/library/simplexmlrpcserver.html#SimpleXMLRPCServer.SimpleXMLRPCServer.register_introspection_functions</A>

&gt;<i> ... join us in the #twisted IRC channel on chat.freenode.net.
</I>
I'll be around as &quot;ramenboy&quot; - maybe I'll see you around.

Thanks,
Dave

-- 
.. Dave Benjamin - Software Developer - Phoenix, Arizona
.. <A HREF="http://ramenlabs.com">http://ramenlabs.com</A> | <A HREF="http://twitter.com/ramenlabs">http://twitter.com/ramenlabs</A>

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004170.html">[Twisted-web] system.multicall support for the XML-RPC server
</A></li>
	<LI>Next message: <A HREF="004172.html">[Twisted-web] Close TCP Connection Using web resource.Resource
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4171">[ date ]</a>
              <a href="thread.html#4171">[ thread ]</a>
              <a href="subject.html#4171">[ subject ]</a>
              <a href="author.html#4171">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
