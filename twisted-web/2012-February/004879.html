<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Get access to Avatar from Resource object?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Get%20access%20to%20Avatar%20from%20Resource%20object%3F&In-Reply-To=CAGDztiF3Lv1Ppmzm673u%3DfGfDodDuCnWN0rH9FRiG927_dS-Ng%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004878.html">
   <LINK REL="Next"  HREF="004880.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Get access to Avatar from Resource object?</H1>
    <B>exarkun at twistedmatrix.com</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Get%20access%20to%20Avatar%20from%20Resource%20object%3F&In-Reply-To=CAGDztiF3Lv1Ppmzm673u%3DfGfDodDuCnWN0rH9FRiG927_dS-Ng%40mail.gmail.com"
       TITLE="[Twisted-web] Get access to Avatar from Resource object?">exarkun at twistedmatrix.com
       </A><BR>
    <I>Thu Feb 23 13:29:51 EST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="004878.html">[Twisted-web] Get access to Avatar from Resource object?
</A></li>
        <LI>Next message: <A HREF="004880.html">[Twisted-web] Get access to Avatar from Resource object?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4879">[ date ]</a>
              <a href="thread.html#4879">[ thread ]</a>
              <a href="subject.html#4879">[ subject ]</a>
              <a href="author.html#4879">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 05:37 pm, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">jacek99 at gmail.com</A> wrote:
&gt;<i>D'oh!
</I>&gt;<i>That's what happens when you copy code from the web, sorry :-(
</I>&gt;<i>
</I>&gt;<i>So just a follow up to my other question: how do I add my child 
</I>&gt;<i>resources?
</I>&gt;<i>Does my TestRealm need to extend Resource? Is that the recommended 
</I>&gt;<i>approach?
</I>
Your TestRealm is responsible for giving out avatars, in this case 
IResource implementations.  If you want to add child resources, they 
need to be added to the IResource implementation that TestRealm is going 
to give out.  I don't remember if you gave the implementation of 
TestRealm anywhere in this thread already, but take this simple 
imaginary version:

    class User(Resource):
        def __init__(self):
            Resource.__init__(self)
            self.addChild(&quot;innocuous&quot;, InnocuousResource())


    class Administrator(User):
        def __init__(self):
            User.__init__(self)            self.addChild(&quot;sensitive&quot;, 
SensitiveResource())


    class TestRealmobject):
        ...
        def requestAvatar(self, avatarId, mind, *interfaces):
            ...
            if self.isAdministrator(avatarId):
                avatar = Administrator()
            else:
                avatar = User()

            return IResource, avatar, logout


Put another way, the resources given out by TestRealm are just 
resources.  Treat them as you would treat any other resources.

Jean-Paul

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004878.html">[Twisted-web] Get access to Avatar from Resource object?
</A></li>
	<LI>Next message: <A HREF="004880.html">[Twisted-web] Get access to Avatar from Resource object?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4879">[ date ]</a>
              <a href="thread.html#4879">[ thread ]</a>
              <a href="subject.html#4879">[ subject ]</a>
              <a href="author.html#4879">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
