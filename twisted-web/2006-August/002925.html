<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] [Nevow] about new guard in sandbox
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20%5BNevow%5D%20about%20new%20guard%20in%20sandbox&In-Reply-To=20060802001906.1717.490022136.divmod.quotient.11585%40ohm">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002921.html">
   <LINK REL="Next"  HREF="002926.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] [Nevow] about new guard in sandbox</H1>
    <B>Manlio Perillo</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20%5BNevow%5D%20about%20new%20guard%20in%20sandbox&In-Reply-To=20060802001906.1717.490022136.divmod.quotient.11585%40ohm"
       TITLE="[Twisted-web] [Nevow] about new guard in sandbox">manlio_perillo at libero.it
       </A><BR>
    <I>Thu Aug  3 04:12:17 CDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="002921.html">[Twisted-web] [Nevow] about new guard in sandbox
</A></li>
        <LI>Next message: <A HREF="002926.html">[Twisted-web] [Nevow] about new guard in sandbox
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2925">[ date ]</a>
              <a href="thread.html#2925">[ thread ]</a>
              <a href="subject.html#2925">[ subject ]</a>
              <a href="author.html#2925">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Valentino Volonghi aka Dialtone ha scritto:
&gt;<i> On Tue, 01 Aug 2006 21:05:15 +0200, Manlio Perillo
</I>&gt;<i> &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">manlio_perillo at libero.it</A>&gt; wrote:
</I>&gt;&gt;<i> And what's the problem?
</I>&gt;&gt;<i> Hopefully you are not going to reboot the server every week, and users
</I>&gt;&gt;<i> can always relogin.
</I>&gt;<i> 
</I>&gt;<i> I as a user _HATE_ when I lose my session just because the developers
</I>&gt;<i> rebooted the application. I even hate when the browser loses the session
</I>&gt;<i> between restarts. You might also be browsing the website when suddenly
</I>&gt;<i> you are logged out because of a restart.
</I>&gt;<i> 
</I>
But in this case your solution does not always works.
The user can have a transient session.

&gt;<i> [...]
</I>
&gt;&gt;<i> I don't want (still) to use guard because there are a lot of things that
</I>&gt;&gt;<i> I do not understand.
</I>&gt;<i> 
</I>&gt;<i> Why are you using Nevow or Twisted at all then? Even _I_ do not
</I>&gt;<i> understand completely what Nevow does with the context in its
</I>&gt;<i> internals... guard (even in its current shape) is much less complicated
</I>&gt;<i> than the whole context business.
</I>&gt;<i> 
</I>&gt;&gt;<i> Like support for multiple portals, setResourceForPortal and so.
</I>&gt;<i> 
</I>&gt;<i> This has nothing to do with guard. I suggest reading the cred tutorial
</I>&gt;<i> from twisted.
</I>&gt;<i> 
</I>
setResourceForPortal is actually very trivial ;-)
It just store the resource on the session object.

The problem is with multiple portals support: any examples?



Some considerations
-------------------

Now I think to understand why Guard store a session for anonymous users.
For cred point of view anonymous user is just like an ordinary user.

Since Guard store resources on the session object, it needs to create
sessions for anonymous users.

However this poses a security problem (session fixation).

The anonymous user is registered with the Credentials Checker in the
same way as an ordinary user.
However the credentials checker can handle this case specially;
as an example it does not require to access a database for a
DatabasePasswordDB.

This means that resources for anonymous users can not be stored on
sessions, requiring a new login to the portal and no need for sessions
at all.

Only ordinary users resources can/should be stored on the session.

This also means that the guard implementation in the sanbox (as is)
**does** not needs to create sessions for anonymous users.


What we need is to run some benchmarks:
1) access to a simple resource
2) access to a guard protected resource
3) access to a guard draft (in Valentino sandox) protected resource

Tests 2 and 3 should be repeated for a Credentials Checker that simulate
an access to a time consuming resource to authenticate users.



Thanks and regards  Manlio Perillo


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002921.html">[Twisted-web] [Nevow] about new guard in sandbox
</A></li>
	<LI>Next message: <A HREF="002926.html">[Twisted-web] [Nevow] about new guard in sandbox
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2925">[ date ]</a>
              <a href="thread.html#2925">[ thread ]</a>
              <a href="subject.html#2925">[ subject ]</a>
              <a href="author.html#2925">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
