<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] [Nevow] new chapter about authentication
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20%5BNevow%5D%20new%20chapter%20about%20authentication&In-Reply-To=44D1CD1F.7060305%40libero.it">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002929.html">
   <LINK REL="Next"  HREF="002931.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] [Nevow] new chapter about authentication</H1>
    <B>Valentino Volonghi aka Dialtone</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20%5BNevow%5D%20new%20chapter%20about%20authentication&In-Reply-To=44D1CD1F.7060305%40libero.it"
       TITLE="[Twisted-web] [Nevow] new chapter about authentication">dialtone at divmod.com
       </A><BR>
    <I>Thu Aug  3 05:58:16 CDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="002929.html">[Twisted-web] [Nevow] new chapter about authentication
</A></li>
        <LI>Next message: <A HREF="002931.html">[Twisted-web] [Nevow] new chapter about authentication
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2930">[ date ]</a>
              <a href="thread.html#2930">[ thread ]</a>
              <a href="subject.html#2930">[ subject ]</a>
              <a href="author.html#2930">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 03 Aug 2006 12:17:03 +0200, Manlio Perillo &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">manlio_perillo at libero.it</A>&gt; wrote:
&gt;<i>I'm interested in this.
</I>&gt;<i>Are there any examples?
</I>&gt;<i>
</I>&gt;<i>I would like to add a section on authorization, too.
</I>
The avatar object is exactly that kind of example. It contains all the needed information to authorize it at application level through some locateChild level mechanism.

There are many examples of that in stiq.

&gt;&gt;<i> Line 19:
</I>&gt;&gt;<i> The most secure way is to use HTTPS, based on SSL. But SSL can cause
</I>&gt;&gt;<i> too burden on an application.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The most secure way to do what?
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>To use sessions.
</I>
I think you are confused here... HTTPS and sessions are 2 totally different things.

&gt;&gt;<i> Line 82:
</I>&gt;&gt;<i> * when an user want to change the email and you send the forgotten
</I>&gt;&gt;<i>  password via email, ask for the password.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This is just senseless. I forgot the password and I want it back. To
</I>&gt;&gt;<i> have it back I should insert it? Didn't I forget it?
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>No, you misunderstand what I have written ;-).
</I>
It's not very clear.

&gt;<i>The system should ask for the user password when the user wants to
</I>&gt;<i>change its email address.
</I>&gt;<i>This is important *if* the system allow an user to ask for its forgotten
</I>&gt;<i>password and this is sent to its email address.
</I>&gt;<i>
</I>&gt;<i>An attacker (that obtained a valid session ID) can change the account
</I>&gt;<i>email address and ask for the password!
</I>
This is a non-problem with my guard. Asking authentication each time invalidates the current session credentials (because you changed the password in the database when you autogenerated a new one). To reach the user pages again you'd have to know the autogenerated one. because the one stored in the session is not valid anymore.

&gt;&gt;<i> Session section:
</I>&gt;&gt;<i> Why is it suggested to use cookies when at the end of the same
</I>&gt;&gt;<i> subsection you say that this approach has several flaws?
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>Because, by design, sessions are not good for authentication.
</I>
sessions are not authentication, of course they are not good for that.

&gt;<i>However cookies based sessions are better that URL based sessions or
</I>&gt;<i>form based sessions.
</I>
They are different kind of things. Sometimes clients don't support cookies. How are you going to provide a usable website for them?

&gt;<i>The only flaw of a well written session management system (as I can
</I>&gt;<i>understand) is a replication attack (done by someone that can see the
</I>&gt;<i>traffic beetwen client and server).
</I>
Just use HTTPS.

&gt;<i>This assuming that one isn't using permanent sessions.
</I>
There is no such thing as permanent sessions. They might be persistent for some time but not permanent.

&gt;&gt;<i> A persistent cookie for a day or so can be used when a
</I>&gt;&gt;<i> simple login is done. Transient cookies and session for anonymous sessions.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Line 41x:
</I>&gt;&gt;<i> This looks WAAAAAAY too paranoid for the real risks. Just use HTTPS is
</I>&gt;&gt;<i> you are so scared of people stealing other's passwords.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>No, because HTTPS **is not** needed to keep user's password safe.
</I>&gt;<i>It is only need for the login page.
</I>
Much of the problems you are trying to find here are all resolved by using https for everything in your website. I doubt it's worth to lose so much developer time in trying to make secure something that cannot be secure by design (there is a machine that is not under your control and that is also the one you want to protect). Just use HTTPS for all your website. Safer and simpler.

&gt;<i>No.
</I>&gt;<i>I can create a complete &quot;static&quot; site, with all Resources created at
</I>&gt;<i>start time.
</I>
You can do _EXACTLY_ the same thing with guard. Did I mention that guard is like it is to avoid changing ANY code in your application?

&gt;<i>Maybe I need to add some examples.
</I>&gt;<i>And I would like to do some benchmark to understand the cost of creating
</I>&gt;<i>every resource object on the fly.
</I>
rend.Page() objects are made to be destroyed for every request. And this will be enforced without the context. Also... Are you actually worrying about creating one object compared to the cost of rendering a dynamic page? (and locating it!) Of course there's nothing that prevents you to return always the same page object from guard.

&gt;<i>And guard has some (avoidable) security problems, too...
</I>&gt;<i>It uses URLs based sessions without my permission.
</I>
my who? user? developer?

&gt;<i>Here I'm really curious.
</I>&gt;<i>Is cred + guard really so reusable?
</I>
yes.

&gt;<i>As an example, how easy it is to write an integrated authentication code
</I>&gt;<i>(as an example on Windows's Active Directory)?
</I>
IIRC Active Directory is pretty much LDAP. Which means that it's almost a no-brainer.

&gt;<i>The session handling code can be factored out in a Mixin class.
</I>&gt;<i>This mixin only have to check for a session and, if available, to set
</I>&gt;<i>the username attribute on the request object (or None, if no session
</I>&gt;<i>exists).
</I>
Requires changing the application code which might not react as expected to the mixin.

&gt;<i>This allow one to write custom code, as an example one can create an
</I>&gt;<i>additional cookie with a signed and crypted client address, using the
</I>&gt;<i>same interface.
</I>&gt;<i>
</I>&gt;<i>Or, more paranoic, one can create an additional cookie with a signed and
</I>&gt;<i> maybe encrypted serial number.
</I>&gt;<i>This number is incremented at every request (both on the session cookie
</I>&gt;<i>and on the session object) and checked.
</I>
This looks so paranoid I can't believe anyone could use it... Why should I need such a secure way of communicating through the web? there are already other kinds of mechanism that are even more secure than that. I think HTTPS, secure cookies and encrypted cookie values are more than enough to barely trust a cookie.

Anyway it seems reasonable to factor out the cookie handling stuff.

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002929.html">[Twisted-web] [Nevow] new chapter about authentication
</A></li>
	<LI>Next message: <A HREF="002931.html">[Twisted-web] [Nevow] new chapter about authentication
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2930">[ date ]</a>
              <a href="thread.html#2930">[ thread ]</a>
              <a href="subject.html#2930">[ subject ]</a>
              <a href="author.html#2930">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
