<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Re: Context Help
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Re%3A%20Context%20Help&In-Reply-To=3a767c39050910010529101a26%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001907.html">
   <LINK REL="Next"  HREF="001905.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Re: Context Help</H1>
    <B>Michael M</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Re%3A%20Context%20Help&In-Reply-To=3a767c39050910010529101a26%40mail.gmail.com"
       TITLE="[Twisted-web] Re: Context Help">m.milvo at gmail.com
       </A><BR>
    <I>Mon Sep 12 23:55:31 MDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001907.html">[Twisted-web] Context Help
</A></li>
        <LI>Next message: <A HREF="001905.html">[Twisted-web] Twisted virtual sprint weekend: 8-9 October 2005
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1908">[ date ]</a>
              <a href="thread.html#1908">[ thread ]</a>
              <a href="subject.html#1908">[ subject ]</a>
              <a href="author.html#1908">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Its been pointed out to me that some of my messages have not been
going to the list so I will post a summary of what I have learnt so
far thanks to Tommi.


I was under the impression that with context it would be possible to
remember an interface by doing ctx.remember(data, ISomeInterface) and
then recall this interface anywhere throughout the request.

This does not work as I expected and the reason for this is that
context changes throughout the request and so looses what it has
remembered when it changes.

Example:
def render_cow(self, ctx, data):
    &quot;&quot;&quot;Context is say WovenContext&quot;&quot;&quot;
    ctx.remember('myinfo', ISomeInterface)

def render_dog(self, ctx, data):
    &quot;&quot;&quot;Context is now PageContext&quot;&quot;&quot;
    myinfo = ctx.locate(ISomeInterface)

This will fail because I remembered data when the context was
WovenContext and now the context is PageContext and so it does not
have the data and interface that I remembered.

Now I didn't think that this would be a problem because I thought that
the context stack?? would be searched, i,e PageContext is searched for
ISomeInterface, then maybe WovenContext is searched etc until the
interface is found.

Obviously this is not quite right.

Tommi stated that:
&quot;Nested in template does not mean nested in implementation.&quot; and
&quot;remember the thing you want on something that stays on the stack for
the duration you want.&quot;

&gt;<i>From this I gather that some interfaces stay on the context stack
</I>longer than others?

So I need to investigate the following.  

1.) How do I find out what interfaces stays on the stack for the
duration of the whole request?

2.) If I remebered say ctx.remember('myinfo', IRequest)...will this
mean I cannot use IRequest to retrieve the request, i.e I will have
overwritten request.

3.) How to I make my own interfaces stay on the stack throughout the request.

Off to read some more nevow code and do some tests and I will post
back to the list the results so hopefully some other users benefit.

Cheers
Michael

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001907.html">[Twisted-web] Context Help
</A></li>
	<LI>Next message: <A HREF="001905.html">[Twisted-web] Twisted virtual sprint weekend: 8-9 October 2005
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1908">[ date ]</a>
              <a href="thread.html#1908">[ thread ]</a>
              <a href="subject.html#1908">[ subject ]</a>
              <a href="author.html#1908">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
