<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] small json improvements
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20small%20json%20improvements&In-Reply-To=20050905183748.3914.1105861486.divmod.quotient.12487%40ohm">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001894.html">
   <LINK REL="Next"  HREF="001889.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] small json improvements</H1>
    <B>Eric Faurot</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20small%20json%20improvements&In-Reply-To=20050905183748.3914.1105861486.divmod.quotient.12487%40ohm"
       TITLE="[Twisted-web] small json improvements">eric.faurot at gmail.com
       </A><BR>
    <I>Mon Sep  5 14:14:58 MDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001894.html">[Twisted-web] small json improvements
</A></li>
        <LI>Next message: <A HREF="001889.html">[Twisted-web] how to redirect to another url
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1895">[ date ]</a>
              <a href="thread.html#1895">[ thread ]</a>
              <a href="subject.html#1895">[ subject ]</a>
              <a href="author.html#1895">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 9/5/05, Jp Calderone &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">exarkun at divmod.com</A>&gt; wrote:
&gt;<i> On Mon, 5 Sep 2005 09:56:05 +0200, Eric Faurot &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">eric.faurot at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt;On 9/4/05, Jp Calderone &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">exarkun at divmod.com</A>&gt; wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; [snip]
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;All I wanted was to be able to serialize 'regular' strings
</I>&gt;<i> &gt;conveniently. Of course
</I>&gt;<i> &gt;strings containing non-printable chars should be handled differently.
</I>
&gt;<i> It sounds like you're in favor of the treat-as-ASCII rule then.  I've certainly written code that would have benefited from this behavior too, I just want to make sure there's no lurking downside before making the change.
</I>
Just because it is more convenient and it is what is expected many cases
where strings are used (email address, hostnames, ip address...).
The string could be checked by the serializer to ensure that it does not
contain non-ASCII chars, in wich case a contextual string serializer can be
used instead (on a per page basis for example)

&gt;<i> &gt;Could you elaborate on this? I'm not sure to understand the issue here.
</I>&gt;<i> &gt;What are javascript/browser requirements regarding unicode?
</I>&gt;<i> 
</I>&gt;<i> The problem is server-side (at least for the moment).  json.serialize() will do something if you give it a unicode string, but it will usually not be the correct thing.  This is fixable, someone just needs to get around to it.
</I>
So what is the correct thing to do?

BTW, this patch should allow deferred response from callRemote, but I does
not seem to work. I don't understand why.
<A HREF="http://ekyo.nerim.net/wantresponse.diff">http://ekyo.nerim.net/wantresponse.diff</A>

Eric.
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001894.html">[Twisted-web] small json improvements
</A></li>
	<LI>Next message: <A HREF="001889.html">[Twisted-web] how to redirect to another url
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1895">[ date ]</a>
              <a href="thread.html#1895">[ thread ]</a>
              <a href="subject.html#1895">[ subject ]</a>
              <a href="author.html#1895">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
