<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] warning appears after upgrading Nevow
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20warning%20appears%20after%20upgrading%20Nevow&In-Reply-To=Pine.LNX.4.61.0509012253360.1029%40codex-l.cis.upenn.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001876.html">
   <LINK REL="Next"  HREF="001878.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] warning appears after upgrading Nevow</H1>
    <B>Matt Goodall</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20warning%20appears%20after%20upgrading%20Nevow&In-Reply-To=Pine.LNX.4.61.0509012253360.1029%40codex-l.cis.upenn.edu"
       TITLE="[Twisted-web] warning appears after upgrading Nevow">matt at pollenation.net
       </A><BR>
    <I>Fri Sep  2 01:48:25 MDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001876.html">[Twisted-web] warning appears after upgrading Nevow
</A></li>
        <LI>Next message: <A HREF="001878.html">[Twisted-web] access control feature,
 ctx removal from locateChild and renderHTTP, what's going on?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1877">[ date ]</a>
              <a href="thread.html#1877">[ thread ]</a>
              <a href="subject.html#1877">[ subject ]</a>
              <a href="author.html#1877">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yun Mao wrote:
&gt;<i> 
</I>&gt;<i> exceptions.UserWarning: All inevow.IResource APIs now take a Context
</I>&gt;<i> object instead of the Request; Please adapt the context to IRequest
</I>&gt;<i> before attempting to access attributes of the request
</I>
Wow, you haven't upgraded Nevow for a *long* time! ;-)

&gt;<i> 
</I>&gt;<i> The code looks like: view = request.args.get(&quot;view&quot;,[''])[0]
</I>&gt;<i> 
</I>&gt;<i> How should I deal with the warning?  Thanks..
</I>
Firstly, if the argument to your method is still called 'request' then
change it to 'context', 'ctx', or whatever you like to use.

Then adapt that context to inevow.IRequest and use the adapter object
from there on.

For instance, if you currently have some code that looks like:

    def locateChild(self, request, segments):
        view = request.args.get(&quot;view&quot;,[''])[0]

Then you should change it to:

    def locateChild(self, context, segments):
        request = inevow.IRequest(context)
        view = request.args.get(&quot;view&quot;,[''])[0]

Both IResource methods - locateChild and renderHTTP - now take a context
instead of a request so those methods, and any methods called from them,
will now take a context arg too.

Hope this helps.

Cheers, Matt

-- 
     __
    /  \__     Matt Goodall, Pollenation Internet Ltd
    \__/  \    w: <A HREF="http://www.pollenation.net">http://www.pollenation.net</A>
  __/  \__/    e: <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">matt at pollenation.net</A>
 /  \__/  \    t: +44 (0)113 2252500
 \__/  \__/
 /  \	       Any views expressed are my own and do not necessarily
 \__/          reflect the views of my employer.

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001876.html">[Twisted-web] warning appears after upgrading Nevow
</A></li>
	<LI>Next message: <A HREF="001878.html">[Twisted-web] access control feature,
 ctx removal from locateChild and renderHTTP, what's going on?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1877">[ date ]</a>
              <a href="thread.html#1877">[ thread ]</a>
              <a href="subject.html#1877">[ subject ]</a>
              <a href="author.html#1877">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
