<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] server crashes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000191.html">
   <LINK REL="Next"  HREF="000194.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] server crashes
   </H1>
    <B>James Y Knight
    </B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com"
       TITLE="[Twisted-web] server crashes">twisted-web@twistedmatrix.com
       </A><BR>
    <I>Tue, 24 Feb 2004 14:36:03 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="000191.html">[Twisted-web] server crashes
</A></li>
        <LI> Next message: <A HREF="000194.html">[Twisted-web] server crashes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#193">[ date ]</a>
              <a href="thread.html#193">[ thread ]</a>
              <a href="subject.html#193">[ subject ]</a>
              <a href="author.html#193">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Well, the request object certainly doesn't do any locking for 
multithreadeded access, so it could easily be in an inconsistant state 
sometimes. I'd certainly suggest not accessing the request object from 
a different thread, but, that shouldn't cause python to just up and 
quit without any error.

Maybe you can try running it with the python debugger, or if that 
doesn't catch anything, gdb. Are you using any external C libraries? 
(database/etc?) Perhaps one of those isn't multithreaded safe?

James

On Feb 24, 2004, at 2:19 PM, stephan wrote:
&gt;<i> def render(self, request):
</I>&gt;<i>     threads.deferToThread(handleRequest, request).addCallback(\
</I>&gt;<i>         writeRequestAndFinish, request).addErrback(\
</I>&gt;<i>         request.processingFailed)
</I>&gt;<i>     return server.NOT_DONE_YET
</I>


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000191.html">[Twisted-web] server crashes
</A></li>
	<LI> Next message: <A HREF="000194.html">[Twisted-web] server crashes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#193">[ date ]</a>
              <a href="thread.html#193">[ thread ]</a>
              <a href="subject.html#193">[ subject ]</a>
              <a href="author.html#193">[ author ]</a>
         </LI>
       </UL>
</body></html>
