<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Obvious stuff... just not to me,
	re: 	Failure to Install...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Obvious%20stuff...%20just%20not%20to%20me%2C%0A%09re%3A%20%09Failure%20to%20Install...&In-Reply-To=E1I0Je7-0002b3-GP%40cube.twistedmatrix.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003420.html">
   <LINK REL="Next"  HREF="003422.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Obvious stuff... just not to me,
	re: 	Failure to Install...</H1>
    <B>Dav Clark</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Obvious%20stuff...%20just%20not%20to%20me%2C%0A%09re%3A%20%09Failure%20to%20Install...&In-Reply-To=E1I0Je7-0002b3-GP%40cube.twistedmatrix.com"
       TITLE="[Twisted-web] Obvious stuff... just not to me,
	re: 	Failure to Install...">dav at securme.net
       </A><BR>
    <I>Mon Jun 18 23:17:12 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="003420.html">[Twisted-web] Obvious stuff... just not to me,	re: Failure to
	Install...
</A></li>
        <LI>Next message: <A HREF="003422.html">[Twisted-web] Obvious stuff... just not to me,
	re: 	Failure to Install...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3421">[ date ]</a>
              <a href="thread.html#3421">[ thread ]</a>
              <a href="subject.html#3421">[ subject ]</a>
              <a href="author.html#3421">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>First off, thanks for answering my e-mail so thoroughly!  I even had  
a lightbulb moment with your &quot;nevow/plugins is just a directory&quot;  
comment (though now I'm thinking &quot;but why does it use an __init__.py  
then?&quot; - but I'm letting it go for now).  As for your questions, I  
attempt to answer below.

On Jun 18, 2007, at 12:00 PM, Jean-Paul Calderone wrote:

&gt;<i> setup.py is basically fully supported.  If you find bugs in it, we  
</I>&gt;<i> will do
</I>&gt;<i> our best to fix them.  easy_install isn't really supported at all;  
</I>&gt;<i> please
</I>&gt;<i> don't suggest it or anything related to setuptools.
</I>
Got it - I guess the failure to install javascripts really is a  
&quot;real&quot; bug then... but I've reported it already.

&gt;&gt;<i> 3a) So, for example, after getting the thing working with the stock
</I>&gt;&gt;<i> nevow/plugins directory, I standardized on having a local nevow/  
</I>&gt;&gt;<i> plugins
</I>&gt;&gt;<i> directory as a sibling of my tac file.  I would suggest this  be the
</I>&gt;&gt;<i> recommended (or at least an alternative) method described in  the  
</I>&gt;&gt;<i> wiki -
</I>&gt;&gt;<i> this keeps all example files bundled under the same root  dir.   
</I>&gt;&gt;<i> This also
</I>&gt;&gt;<i> allows the possibility of bundling a tar or zip of an  athena  
</I>&gt;&gt;<i> package, you
</I>&gt;&gt;<i> un-archive it, and the example just works with  twistd -ny  
</I>&gt;&gt;<i> example.tac from
</I>&gt;&gt;<i> where it sits.  (well, you need to alter  the /path/to/your/file to
</I>&gt;&gt;<i> sibpath(__file__, 'mymodule.js')).
</I>&gt;<i>
</I>&gt;<i> I'm not totally clear on what you're suggesting here.  As described  
</I>&gt;<i> on the
</I>&gt;<i> wiki, the plugin system does let you keep all of your source files  
</I>&gt;<i> beneath
</I>&gt;<i> one directory.  Maybe I'm not understanding your concern, or maybe  
</I>&gt;<i> you're
</I>&gt;<i> still missing something about how plugins work.  Could you describe  
</I>&gt;<i> this
</I>&gt;<i> issue further?
</I>
An example is probably more useful.  I've put something here for you:

<A HREF="http://www.keepopen.com/files/athena-example.tar.bz2">http://www.keepopen.com/files/athena-example.tar.bz2</A>

You can just un-archive that and immediately run `twistd -ny  
myelement.tac` (and you can check those files with a quick diff  
against the default Athena tutorial files to see the very few changes  
- basically those described above).

Anyway, I'll admit that you're not forced to learn as much my way!

&gt;&gt;<i> 3b)  I would go a step further and suggest that, as in zope, a way to
</I>&gt;&gt;<i> create &quot;instances&quot; be created.  This would just mean populating a   
</I>&gt;&gt;<i> directory
</I>&gt;&gt;<i> with things like a plugins direcotry, a js dir for
</I>&gt;&gt;<i> nevow.athena.autoJSPackage to load and other stuff I haven't  
</I>&gt;&gt;<i> learned  about
</I>&gt;&gt;<i> yet.  A set of scripts localized for that instance would add  the
</I>&gt;&gt;<i> appropriate root to the python path before running.  Or, you   
</I>&gt;&gt;<i> could just
</I>&gt;&gt;<i> require people to run twistd from the root dir of the  bundle.   
</I>&gt;&gt;<i> This would
</I>&gt;&gt;<i> be remarkably similar to the &quot;solution&quot; for 3a.
</I>&gt;<i>
</I>&gt;<i> Requiring extra programs in order to run the actually interesting  
</I>&gt;<i> program
</I>&gt;<i> doesn't interest me very much.  Beyond this, I'm not really sure  
</I>&gt;<i> how this
</I>&gt;<i> suggestion differs much from the current system, except that it  
</I>&gt;<i> explicitly
</I>&gt;<i> makes environment setup something that goes into a helper script,  
</I>&gt;<i> rather
</I>&gt;<i> than relying on each user to have an environment which is &quot;correctly&quot;
</I>&gt;<i> configured.  Perhaps the documentation should go into more detail  
</I>&gt;<i> about
</I>&gt;<i> what Nevow considers a &quot;correct&quot; environment?
</I>
Agreed - maybe some of the &quot;agreed&quot; changes to the wiki will go some  
way towards this.  I was thinking of something more like a helper  
script.  But I'm beginning to understand that if you're using  
twisted, you're probably doing something complicated... so you should  
probably think about things before you do them :)

Maybe an environment recipe collection would be nice.

&gt;&gt;<i> 3d) Speaking of strange .js includes, some system (correctly?)   
</I>&gt;&gt;<i> associates
</I>&gt;&gt;<i> the nevow/empty.js file with most Nevow classes.  But for  root  
</I>&gt;&gt;<i> classes, you
</I>&gt;&gt;<i> also get these __init__.js associations, which are  non-existent  
</I>&gt;&gt;<i> *.js files.
</I>&gt;&gt;<i> Is this a bug?
</I>&gt;<i>
</I>&gt;<i> Hmm, could be.  Can you describe this further?
</I>
--
import nevow.athena
jsd.getModuleForName('MyModule') # or whatever
print jsd.mapping
--

yeilds (among many other things):

{ ......
u'Divmod': '/Users/dav/Desktop/SecurMe/dev/Nevow/nevow/js/Divmod/ 
__init__.js',
u'Divmod..svn': '/Users/dav/Desktop/SecurMe/dev/Nevow/nevow/empty.js',
u'Divmod..svn.prop-base': '/Users/dav/Desktop/SecurMe/dev/Nevow/nevow/ 
empty.js'
.....}

These &quot;empty.js&quot; files occur if and only if we're mapping to a .svn  
directory.  So, I guess this is just a side-effect of my using a svn  
checkout.  But it's still weird.  That emtpy.js file does exist -  
it's empty.

The __init__.js entries refer to non-existent files.

&gt;&gt;<i> 5) Why do all examples have twistd -noy, when -y implies -o?
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Historic reasons.  The people writing these wiki pages probably  
</I>&gt;<i> still have
</I>&gt;<i> finger memory from before -y implied -o. :)  Feel free to fix this.
</I>
I see no need to remove history!

Thanks again,
Dav

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003420.html">[Twisted-web] Obvious stuff... just not to me,	re: Failure to
	Install...
</A></li>
	<LI>Next message: <A HREF="003422.html">[Twisted-web] Obvious stuff... just not to me,
	re: 	Failure to Install...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3421">[ date ]</a>
              <a href="thread.html#3421">[ thread ]</a>
              <a href="subject.html#3421">[ subject ]</a>
              <a href="author.html#3421">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
