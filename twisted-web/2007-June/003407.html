<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Twisted and SQLAlchemy Cache Problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Twisted%20and%20SQLAlchemy%20Cache%20Problem&In-Reply-To=466FEC31.7070805%40libero.it">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003405.html">
   <LINK REL="Next"  HREF="003408.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Twisted and SQLAlchemy Cache Problem</H1>
    <B>Magnus Hult</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Twisted%20and%20SQLAlchemy%20Cache%20Problem&In-Reply-To=466FEC31.7070805%40libero.it"
       TITLE="[Twisted-web] Twisted and SQLAlchemy Cache Problem">magnus at spotify.com
       </A><BR>
    <I>Wed Jun 13 09:56:23 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="003405.html">[Twisted-web] Twisted and SQLAlchemy Cache Problem
</A></li>
        <LI>Next message: <A HREF="003408.html">[Twisted-web] Twisted and SQLAlchemy Cache Problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3407">[ date ]</a>
              <a href="thread.html#3407">[ thread ]</a>
              <a href="subject.html#3407">[ subject ]</a>
              <a href="author.html#3407">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks for your swift reply!

On 6/13/07, Manlio Perillo &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">manlio_perillo at libero.it</A>&gt; wrote:
&gt;<i> Magnus Hult ha scritto:
</I>&gt;<i> &gt; When executing the following program, changes in the database (other
</I>&gt;<i> &gt; than those made by this program) aren't visible until it is restarted,
</I>&gt;<i> &gt; due to some form of SQLAlchemy caching:
</I>&gt;<i>
</I>&gt;<i> Are you using PostgreSQL?
</I>
Yes, I am. With psycopg2.

&gt;<i> [...]
</I>&gt;<i> The solution is: make sure to add a commit after every select.
</I>
It doesn't seem to help though. In fact, the following little program

t = objectstore.create_transaction()
m = model.MyModel.get(1)
print m.some_column
t.commit()
sys.stdin.readline()
t = objectstore.create_transaction()
m = model.MyModel.get(1)
print m.some_column
t.commit()

only seems to execute one select statement. The other result seems to
be taken from the cache. If this is the case, then this question would
rather belong in an SQLAlchemy mailing list, I guess.

&gt;<i> You can read a discussion with the psycopg author in the
</I>&gt;<i> it.comp.lang.python newsgroup:
</I>&gt;<i> <A HREF="http://groups.google.com/group/it.comp.lang.python/browse_thread/thread/bf98fd21e78958e4">http://groups.google.com/group/it.comp.lang.python/browse_thread/thread/bf98fd21e78958e4</A>
</I>
Yes, I could, if I could read Italian. :)

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003405.html">[Twisted-web] Twisted and SQLAlchemy Cache Problem
</A></li>
	<LI>Next message: <A HREF="003408.html">[Twisted-web] Twisted and SQLAlchemy Cache Problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3407">[ date ]</a>
              <a href="thread.html#3407">[ thread ]</a>
              <a href="subject.html#3407">[ subject ]</a>
              <a href="author.html#3407">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
