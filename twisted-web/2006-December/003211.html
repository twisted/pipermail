<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] [Nevow] template performance
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20%5BNevow%5D%20template%20performance&In-Reply-To=4582B4A0.70307%40libero.it">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003225.html">
   <LINK REL="Next"  HREF="003214.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] [Nevow] template performance</H1>
    <B>L. Daniel Burr</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20%5BNevow%5D%20template%20performance&In-Reply-To=4582B4A0.70307%40libero.it"
       TITLE="[Twisted-web] [Nevow] template performance">ldanielburr at mac.com
       </A><BR>
    <I>Fri Dec 15 09:04:28 CST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="003225.html">[Twisted-web] [Nevow] template performance
</A></li>
        <LI>Next message: <A HREF="003214.html">[Twisted-web] [Nevow] template performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3211">[ date ]</a>
              <a href="thread.html#3211">[ thread ]</a>
              <a href="subject.html#3211">[ subject ]</a>
              <a href="author.html#3211">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, 15 Dec 2006 08:43:44 -0600, Manlio Perillo  
&lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">manlio_perillo at libero.it</A>&gt; wrote:

&gt;<i> Jean-Paul Calderone ha scritto:
</I>&gt;&gt;<i> On Fri, 15 Dec 2006 11:56:55 +0100, Manlio Perillo  
</I>&gt;&gt;<i> &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">manlio_perillo at libero.it</A>&gt; wrote:
</I>&gt;&gt;<i> [...]
</I>&gt;&gt;&gt;<i> Is it possible to use that same model used by django.template?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> You pass a context (that is a dictionary usable like a stack:  
</I>&gt;&gt;&gt;<i> push/pop) to the render function.
</I>&gt;&gt;&gt;<i> All the data directive will search the data in the context (like  
</I>&gt;&gt;&gt;<i> djando, first dictionary lookup, then attribute lookup, and so).
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> As an example n:data='x.y' ==&gt; ctx['x']['y'].
</I>&gt;&gt;&gt;<i> A rend.Page.renderHTTP can build a context from the instance  
</I>&gt;&gt;&gt;<i> dictionary.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>  Optimization can be a complicated undertaking.
</I>&gt;<i>
</I>&gt;<i> I'm not asking for optimization.
</I>&gt;<i> I'm asking for a possible rewriting of how rend.Page (and flat) works.
</I>&gt;<i>
</I>
Re-writing rend,Page and flat to improve execution speed would most
certainly be considered optimization.  I'm not sure why you think
otherwise; could you please explain?

Note that I am confident that we'd all like Nevow to be faster, but
optimization requires a lot more than just a cursory analysis.  I
get the impression from reading your post that you think your
request is simple/trivial, and perhaps it seems that way, but there
is a lot more to this.

What you have done, so far, is to measure raw serialization speed,
and in so doing, you've found that Django is faster.  That part
is fine, but the conclusion you've drawn is questionable.  Do you
know if the difference in speed actually makes any difference in
a real web application?  I'll bet that other factors, such as
database access and network latency generally account for the
majority of time that it takes for a request to be serviced.

Please understand, I am not trying to offend you or tell you that
Nevow doesn't need improving; everyone agrees that it could be a
lot better.  I am just trying to point out that your observations
regarding serialization speed have not been made in a context that
demonstrates a serious need to rewrite rend.Page and flat.flatten.

Put another way, there are lots of automobiles in the world that
go faster than my automobile, but unless my automobile is so slow
that it overwhelms all other factors (traffic, for example), I
don't really need to fix it, and could better spend my time on
other things, like finding a better route to work.

Hope this helps,

L. Daniel Burr

</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003225.html">[Twisted-web] [Nevow] template performance
</A></li>
	<LI>Next message: <A HREF="003214.html">[Twisted-web] [Nevow] template performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3211">[ date ]</a>
              <a href="thread.html#3211">[ thread ]</a>
              <a href="subject.html#3211">[ subject ]</a>
              <a href="author.html#3211">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
