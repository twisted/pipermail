<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] newbiew question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20newbiew%20question&In-Reply-To=4327dfbd0807221702i10398300me4f520298af60976%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003848.html">
   <LINK REL="Next"  HREF="003850.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] newbiew question</H1>
    <B>arun chhetri</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20newbiew%20question&In-Reply-To=4327dfbd0807221702i10398300me4f520298af60976%40mail.gmail.com"
       TITLE="[Twisted-web] newbiew question">chhetriarun84 at gmail.com
       </A><BR>
    <I>Wed Jul 23 11:41:36 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003848.html">[Twisted-web] newbiew question
</A></li>
        <LI>Next message: <A HREF="003850.html">[Twisted-web] newbiew question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3856">[ date ]</a>
              <a href="thread.html#3856">[ thread ]</a>
              <a href="subject.html#3856">[ subject ]</a>
              <a href="author.html#3856">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Duncan Mcgregor,

You have guessed it right, I have posted my problem on wiki,,


bye

On Tue, Jul 22, 2008 at 7:02 PM, Duncan McGreggor &lt;
<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">duncan.mcgreggor at gmail.com</A>&gt; wrote:

&gt;<i> On Tue, Jul 22, 2008 at 3:47 PM, arun chhetri &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">chhetriarun84 at gmail.com</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i> &gt; from twisted.web import resource, server
</I>&gt;<i> &gt; from twisted.web import http
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; class HomePage(resource.Resource):
</I>&gt;<i> &gt;     def __init__(self):
</I>&gt;<i> &gt;         resource.Resource.__init__(self)
</I>&gt;<i> &gt;
</I>&gt;<i> self.putChild('calendar',Calendar(user=3DNone,pswd=3DNone,server=3DNone))
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     def render(self,request):
</I>&gt;<i> &gt;         return&quot;&quot;&quot;&lt;html&gt;&lt;body&gt;
</I>&gt;<i> &gt;                 &lt;a href =3D calendar&gt;Here is the solution
</I>&gt;<i> &gt;                 &lt;body&gt;
</I>&gt;<i> &gt;             &lt;/html&gt;&quot;&quot;&quot;
</I>&gt;<i> &gt;     def getChild(self,path,request):
</I>&gt;<i> &gt;         return
</I>&gt;<i> &gt;
</I>&gt;<i> Calendar(request.args[&quot;user&quot;],request.args[&quot;pswd&quot;],request.args[&quot;server&quot;])
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; class Calendar(resource.Resource):
</I>&gt;<i> &gt;     def __init__(self,user,pswd,server):
</I>&gt;<i> &gt;         resource.Resource.__init__(self)
</I>&gt;<i> &gt;         self.user =3D user
</I>&gt;<i> &gt;         self.pswd =3D pswd
</I>&gt;<i> &gt;         self.server =3D server
</I>&gt;<i> &gt;         self.putChild('month',Month(user))
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     def render(self,request):
</I>&gt;<i> &gt;         return&quot;&quot;&quot;&lt;p&gt; The user is %s
</I>&gt;<i> &gt;     &lt;a href=3D/calendar/month&gt; The link to the month is this
</I>&gt;<i> &gt;     &quot;&quot;&quot;%self.user[0]
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     def getChild(self,path,request):
</I>&gt;<i> &gt;         return Month(self.user[0])
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; class Month(resource.Resource):
</I>&gt;<i> &gt;     def __init__(self,user):
</I>&gt;<i> &gt;         resource.Resource.__init__(self)
</I>&gt;<i> &gt;         self.user =3D user
</I>&gt;<i> &gt;     def render(self,request):
</I>&gt;<i> &gt;         return &quot;&quot;&quot; %s&quot;&quot;&quot;%self.user
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; if __name__=3D=3D&quot;__main__&quot;:
</I>&gt;<i> &gt;     from twisted.internet import reactor
</I>&gt;<i> &gt;     root =3D HomePage()
</I>&gt;<i> &gt;     site =3D server.Site(root)
</I>&gt;<i> &gt;     reactor.listenTCP(8000,site)
</I>&gt;<i> &gt;     reactor.run()
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; now if i go to <A HREF="http://localhost:8000/?user=3Darun&amp;pswd=3Dtest&amp;server=3D=">http://localhost:8000/?user=3Darun&amp;pswd=3Dtest&amp;server=3D=</A>
</I>test
&gt;<i> &gt; i get this   The user is arun The link to the month is this
</I>&gt;<i> &gt; and if I click the link then I get    None
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Can anybody help me how I can redirect the value self.user to Month so
</I>&gt;<i> that
</I>&gt;<i> &gt; instead of None it shows the user name provided in query string
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thanks in advance
</I>&gt;<i>
</I>&gt;<i> Hey Arun,
</I>&gt;<i>
</I>&gt;<i> The problem is that you're mixing two different patterns: an object
</I>&gt;<i> store (pre-created hierarchy of parents/children) and dynamically
</I>&gt;<i> generated children.
</I>&gt;<i>
</I>&gt;<i> The latter is the easiest case to talk about, since it's the classic
</I>&gt;<i> HTTP GET where you pass all the arguments you need for any given
</I>&gt;<i> request. If that's what you want to do, then your application needs to
</I>&gt;<i> add query parameters to every link that it renders.
</I>&gt;<i>
</I>&gt;<i> The quickest way to do that with your example code and without
</I>&gt;<i> changing anything would be to change Calendar.render to the following:
</I>&gt;<i>
</I>&gt;<i>    def render(self,request):
</I>&gt;<i>        return &quot;&quot;&quot;
</I>&gt;<i>            &lt;p&gt; The user is %s
</I>&gt;<i>             &lt;a href=3D/calendar/month?user=3D%s&amp;pswd=3D%s&amp;server=3D%s&gt;The
</I>&gt;<i>             link to the month is this &quot;&quot;&quot; % (
</I>&gt;<i>             self.user[0], self.user[0], self.pswd[0], self.server[0])
</I>&gt;<i>
</I>&gt;<i> and remove your HomePage.__init__ method.
</I>&gt;<i>
</I>&gt;<i> The first option is what I'd guess you were originally aiming for.
</I>&gt;<i> This is a very different pattern: you want an object to be created
</I>&gt;<i> with appropriate data stored on attributes, and you want to be able to
</I>&gt;<i> refer to those objects and the values of their attributes in the
</I>&gt;<i> future, not create them on the fly. There are probably some quick
</I>&gt;<i> hacks that could demonstrate how to do this, but as soon as you tried
</I>&gt;<i> to do anything remotely real with those hacks, you'd be in trouble. If
</I>&gt;<i> this is really what you want, then you should spend some time getting
</I>&gt;<i> to know Axiom.
</I>&gt;<i>
</I>&gt;<i> Hope that helps. If not, feel free to ask more questions,
</I>&gt;<i>
</I>&gt;<i> d
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-web mailing list
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">Twisted-web at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-web/attachments/20080723/6e=">http://twistedmatrix.com/pipermail/twisted-web/attachments/20080723/6e=</A>
5f3dcf/attachment-0001.htm
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003848.html">[Twisted-web] newbiew question
</A></li>
	<LI>Next message: <A HREF="003850.html">[Twisted-web] newbiew question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3856">[ date ]</a>
              <a href="thread.html#3856">[ thread ]</a>
              <a href="subject.html#3856">[ subject ]</a>
              <a href="author.html#3856">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
