<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] [Athena] Is ReliableMessageDelivery really necessary?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20%5BAthena%5D%20Is%20ReliableMessageDelivery%20really%0A%20necessary%3F&In-Reply-To=D12F5E7B-F6D5-4689-86E5-FD3ED3D3D637%40googlemail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004214.html">
   <LINK REL="Next"  HREF="004223.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] [Athena] Is ReliableMessageDelivery really necessary?</H1>
    <B>Jean-Paul Calderone</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20%5BAthena%5D%20Is%20ReliableMessageDelivery%20really%0A%20necessary%3F&In-Reply-To=D12F5E7B-F6D5-4689-86E5-FD3ED3D3D637%40googlemail.com"
       TITLE="[Twisted-web] [Athena] Is ReliableMessageDelivery really necessary?">exarkun at divmod.com
       </A><BR>
    <I>Wed Jul  1 17:45:50 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004214.html">[Twisted-web] [Athena] Is ReliableMessageDelivery really necessary?
</A></li>
        <LI>Next message: <A HREF="004223.html">[Twisted-web] [Athena] Is ReliableMessageDelivery really	necessary?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4220">[ date ]</a>
              <a href="thread.html#4220">[ thread ]</a>
              <a href="subject.html#4220">[ subject ]</a>
              <a href="author.html#4220">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 1 Jul 2009 11:15:35 +0100, Paul Thomas &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">spongelavapaul at googlemail.com</A>&gt; wrote:
&gt;<i>Hi,
</I>&gt;<i>
</I>&gt;<i>I've hit a problem as my app has got bigger (about 30-40 widgets now,  all 
</I>&gt;<i>chattering roughly once every 2 seconds) where the reliable  message 
</I>&gt;<i>delivery mechanism is spiralling out of control. It seems that  the constant 
</I>&gt;<i>back and forth means that large 'baskets' of messages are  resent. The more 
</I>&gt;<i>this happens, the busier everything gets until the  browser becomes 
</I>&gt;<i>unresponsive.
</I>
If you can produce a minimal example which demonstrates this behavior, it
would probably be very helpful in improving the situation.

&gt;<i>
</I>&gt;<i>There's a fix for it: [Divmod-dev] athena duplicate messages issue but  I'm 
</I>&gt;<i>slightly concerned about the potential for lost messages - and  also 
</I>&gt;<i>confused about how this could happen. Given that HTTP is a  reliable 
</I>&gt;<i>connection-oriented transport, where is the gap that messages  can fall 
</I>&gt;<i>through?
</I>
Actually, HTTP is not a reliable transport.  The most obvious shortcoming
it has is that there is no way for a server to know if a client received
a response or not, but there are others.  So ReliableMessageDelivery is
necessary.

&gt;<i>
</I>&gt;<i>I think I can cope with lost messages in most cases, so would it be  useful 
</I>&gt;<i>to add a kind of 'sendRemote' that was like 'callRemote' but  didn't care 
</I>&gt;<i>about a response? Or maybe this already exists and I've  missed it?
</I>
This is an interesting idea.  I haven't considered having such a feature in
Athena before.  It may be worth exploring.  The first problem that comes to
mind is that if any part of a page uses callRemote, sendRemote's advantages
are largely lost.  This would be because the messages generated by callRemote
will still need to be sent, so whatever retransmission logic is present in
ReliableMessageDelivery will still be invoked.

&gt;<i>Paul.
</I>&gt;<i>
</I>&gt;<i>P.S. this app is likely to get more noisy - is it likely that I'll  have to 
</I>&gt;<i>abandon Athena for Orbited or similar? I mean, are there  architectural 
</I>&gt;<i>differences that will prevent Athena scaling?
</I>&gt;<i>
</I>
I certainly hope that Athena can handle whatever load you intended to put on
it, or that we can work together to fix whatever problems it has which would
prevent that. :)

Jean-Paul

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004214.html">[Twisted-web] [Athena] Is ReliableMessageDelivery really necessary?
</A></li>
	<LI>Next message: <A HREF="004223.html">[Twisted-web] [Athena] Is ReliableMessageDelivery really	necessary?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4220">[ date ]</a>
              <a href="thread.html#4220">[ thread ]</a>
              <a href="subject.html#4220">[ subject ]</a>
              <a href="author.html#4220">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
