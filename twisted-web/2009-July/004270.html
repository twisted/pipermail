<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Fwd: Web-Based Proxy
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Fwd%3A%20Web-Based%20Proxy&In-Reply-To=5acf0ea80907210944p70653a4if7e9afb7ca6e664f%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004269.html">
   <LINK REL="Next"  HREF="004272.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Fwd: Web-Based Proxy</H1>
    <B>Jean-Paul Calderone</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Fwd%3A%20Web-Based%20Proxy&In-Reply-To=5acf0ea80907210944p70653a4if7e9afb7ca6e664f%40mail.gmail.com"
       TITLE="[Twisted-web] Fwd: Web-Based Proxy">exarkun at divmod.com
       </A><BR>
    <I>Tue Jul 21 13:19:55 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004269.html">[Twisted-web] Fwd: Web-Based Proxy
</A></li>
        <LI>Next message: <A HREF="004272.html">[Twisted-web] Fwd: Web-Based Proxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4270">[ date ]</a>
              <a href="thread.html#4270">[ thread ]</a>
              <a href="subject.html#4270">[ subject ]</a>
              <a href="author.html#4270">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, 21 Jul 2009 11:44:43 -0500, dave fowler &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">davefowler at gmail.com</A>&gt; wrote:
&gt;<i>Thanks for your help Jean-Paul.
</I>&gt;<i>
</I>&gt;<i>In my example I've just subclassed the protocol and factory so I could print
</I>&gt;<i>out the properties and have a little control over things as I learn.  The
</I>&gt;<i>proxy could of course be much easily run as
</I>&gt;<i>
</I>&gt;<i>   from twisted.web import http
</I>&gt;<i>   f = http.HTTPFactory()
</I>&gt;<i>   f.protocol = Proxy
</I>&gt;<i>
</I>&gt;<i>I should be a bit more specific about what I'm currently confused about.
</I>&gt;<i>
</I>&gt;<i>*I'm trying to find where I can grab the request URI from the client so I
</I>&gt;<i>can modify it from www.asdf.com.MYPROXYSITE.com to www.asdf.com before the
</I>&gt;<i>proxy client makes its requests.  Where can you access and modify those
</I>&gt;<i>parameters?*
</I>&gt;<i>
</I>
Proxy uses twisted.web.proxy.ProxyRequest as its request factory.  The
request will have its &quot;process&quot; method called when it has been completely
received.  You can subclass ProxyRequest, set your proxy to use that subclass
as its request factory, and in that subclass, override process to change the
uri before calling the base implementation.  How's that?

Jean-Paul

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004269.html">[Twisted-web] Fwd: Web-Based Proxy
</A></li>
	<LI>Next message: <A HREF="004272.html">[Twisted-web] Fwd: Web-Based Proxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4270">[ date ]</a>
              <a href="thread.html#4270">[ thread ]</a>
              <a href="subject.html#4270">[ subject ]</a>
              <a href="author.html#4270">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
