<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] [Athena] Is ReliableMessageDelivery really	necessary?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20%5BAthena%5D%20Is%20ReliableMessageDelivery%20really%0A%09necessary%3F&In-Reply-To=20090701214550.22176.727267859.divmod.quotient.11784%40henry.divmod.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004220.html">
   <LINK REL="Next"  HREF="004228.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] [Athena] Is ReliableMessageDelivery really	necessary?</H1>
    <B>Paul Thomas</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20%5BAthena%5D%20Is%20ReliableMessageDelivery%20really%0A%09necessary%3F&In-Reply-To=20090701214550.22176.727267859.divmod.quotient.11784%40henry.divmod.com"
       TITLE="[Twisted-web] [Athena] Is ReliableMessageDelivery really	necessary?">spongelavapaul at googlemail.com
       </A><BR>
    <I>Fri Jul  3 05:56:28 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004220.html">[Twisted-web] [Athena] Is ReliableMessageDelivery really necessary?
</A></li>
        <LI>Next message: <A HREF="004228.html">[Twisted-web] My $0.25 (was: RE: [Athena] Is	ReliableMessageDelivery really	necessary?)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4223">[ date ]</a>
              <a href="thread.html#4223">[ thread ]</a>
              <a href="subject.html#4223">[ subject ]</a>
              <a href="author.html#4223">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 1 Jul 2009, at 22:45, Jean-Paul Calderone wrote:

&gt;<i> On Wed, 1 Jul 2009 11:15:35 +0100, Paul Thomas &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">spongelavapaul at googlemail.com</A> 
</I>&gt;<i> &gt; wrote:
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I've hit a problem as my app has got bigger (about 30-40 widgets  
</I>&gt;&gt;<i> now,  all
</I>&gt;&gt;<i> chattering roughly once every 2 seconds) where the reliable  message
</I>&gt;&gt;<i> delivery mechanism is spiralling out of control. It seems that  the  
</I>&gt;&gt;<i> constant
</I>&gt;&gt;<i> back and forth means that large 'baskets' of messages are  resent.  
</I>&gt;&gt;<i> The more
</I>&gt;&gt;<i> this happens, the busier everything gets until the  browser becomes
</I>&gt;&gt;<i> unresponsive.
</I>&gt;<i>
</I>&gt;<i> If you can produce a minimal example which demonstrates this  
</I>&gt;<i> behavior, it
</I>&gt;<i> would probably be very helpful in improving the situation.
</I>
I've been tasked with doing this anyway to help us evaluate other  
solutions. I'm sure I can convince the boss to make it available.

&gt;&gt;<i>
</I>&gt;&gt;<i> There's a fix for it: [Divmod-dev] athena duplicate messages issue  
</I>&gt;&gt;<i> but  I'm
</I>&gt;&gt;<i> slightly concerned about the potential for lost messages - and  also
</I>&gt;&gt;<i> confused about how this could happen. Given that HTTP is a  reliable
</I>&gt;&gt;<i> connection-oriented transport, where is the gap that messages  can  
</I>&gt;&gt;<i> fall
</I>&gt;&gt;<i> through?
</I>&gt;<i>
</I>&gt;<i> Actually, HTTP is not a reliable transport.  The most obvious  
</I>&gt;<i> shortcoming
</I>&gt;<i> it has is that there is no way for a server to know if a client  
</I>&gt;<i> received
</I>&gt;<i> a response or not, but there are others.  So ReliableMessageDelivery  
</I>&gt;<i> is
</I>&gt;<i> necessary.
</I>
Got it.

&gt;&gt;<i>
</I>&gt;&gt;<i> I think I can cope with lost messages in most cases, so would it  
</I>&gt;&gt;<i> be  useful
</I>&gt;&gt;<i> to add a kind of 'sendRemote' that was like 'callRemote' but   
</I>&gt;&gt;<i> didn't care
</I>&gt;&gt;<i> about a response? Or maybe this already exists and I've  missed it?
</I>&gt;<i>
</I>&gt;<i> This is an interesting idea.  I haven't considered having such a  
</I>&gt;<i> feature in
</I>&gt;<i> Athena before.  It may be worth exploring.  The first problem that  
</I>&gt;<i> comes to
</I>&gt;<i> mind is that if any part of a page uses callRemote, sendRemote's  
</I>&gt;<i> advantages
</I>&gt;<i> are largely lost.  This would be because the messages generated by  
</I>&gt;<i> callRemote
</I>&gt;<i> will still need to be sent, so whatever retransmission logic is  
</I>&gt;<i> present in
</I>&gt;<i> ReliableMessageDelivery will still be invoked.
</I>
Right - and I _would_ need both in the same page. Also, as Glyph  
points out, I wouldn't like out-of-order messages.

&gt;<i>
</I>&gt;&gt;<i> Paul.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> P.S. this app is likely to get more noisy - is it likely that I'll   
</I>&gt;&gt;<i> have to
</I>&gt;&gt;<i> abandon Athena for Orbited or similar? I mean, are there   
</I>&gt;&gt;<i> architectural
</I>&gt;&gt;<i> differences that will prevent Athena scaling?
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I certainly hope that Athena can handle whatever load you intended  
</I>&gt;<i> to put on
</I>&gt;<i> it, or that we can work together to fix whatever problems it has  
</I>&gt;<i> which would
</I>&gt;<i> prevent that. :)
</I>
We'll be doing an evaluation soon. Performance will play a part but we  
also have to consider integration with UI toolkits (jQuery UI etc.).  
If we do stick with Athena, we'll be providing patches and tests.

Thanks to you both,
paul.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-web/attachments/20090703/d0565aae/attachment.htm">http://twistedmatrix.com/pipermail/twisted-web/attachments/20090703/d0565aae/attachment.htm</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004220.html">[Twisted-web] [Athena] Is ReliableMessageDelivery really necessary?
</A></li>
	<LI>Next message: <A HREF="004228.html">[Twisted-web] My $0.25 (was: RE: [Athena] Is	ReliableMessageDelivery really	necessary?)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4223">[ date ]</a>
              <a href="thread.html#4223">[ thread ]</a>
              <a href="subject.html#4223">[ subject ]</a>
              <a href="author.html#4223">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
