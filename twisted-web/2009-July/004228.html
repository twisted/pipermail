<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] My $0.25 (was: RE: [Athena] Is	ReliableMessageDelivery really	necessary?)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20My%20%240.25%20%28was%3A%20RE%3A%20%5BAthena%5D%20Is%0A%09ReliableMessageDelivery%20really%09necessary%3F%29&In-Reply-To=F3E4154B-54BB-4E49-9F59-889CCDEDFA08%40googlemail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004223.html">
   <LINK REL="Next"  HREF="004229.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] My $0.25 (was: RE: [Athena] Is	ReliableMessageDelivery really	necessary?)</H1>
    <B>Micha&#322; Pasternak</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20My%20%240.25%20%28was%3A%20RE%3A%20%5BAthena%5D%20Is%0A%09ReliableMessageDelivery%20really%09necessary%3F%29&In-Reply-To=F3E4154B-54BB-4E49-9F59-889CCDEDFA08%40googlemail.com"
       TITLE="[Twisted-web] My $0.25 (was: RE: [Athena] Is	ReliableMessageDelivery really	necessary?)">michal.dtz at gmail.com
       </A><BR>
    <I>Sat Jul  4 03:34:47 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004223.html">[Twisted-web] [Athena] Is ReliableMessageDelivery really	necessary?
</A></li>
        <LI>Next message: <A HREF="004229.html">[Twisted-web] My $0.25 (was: RE: [Athena] Is	ReliableMessageDelivery really	necessary?)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4228">[ date ]</a>
              <a href="thread.html#4228">[ thread ]</a>
              <a href="subject.html#4228">[ subject ]</a>
              <a href="author.html#4228">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

 

as you can see here:
<A HREF="http://www.divmod.org/trac/browser/trunk/Nevow/nevow/athena.py#L800">http://www.divmod.org/trac/browser/trunk/Nevow/nevow/athena.py#L800</A>  , if
incomingMessages is a very, very long list, chances are, that it will block
for a small amount of time. Also, if you happen to run the web server
interactively, calling a lot of log.msg(.) functions will print out a lot of
stuff on the console, which will also take some CPU cycles and GUI
resources[1]. I think the best approach would be first to remove lines 803 -
806 (&quot;else: log.msg(.)&quot;) and test if the problem of browser lagging still
exists - of course if you run server and browser on the same machine.

 

There are some cases, which may lead to accumulation of the messages on
client, which then lead to lags on the client side (and a lots of log
messages on the server). Those may be bugs in the application code, but I
think some of those cases are browser-dependent too (for some code I tested,
Google Chrome sent a lot of duplicate messages, while Firefox sent none).
Some people say, that duplicate messages phenomenon may be even
extension-dependent, as in case of Firefox with FireBug enabled. 

 

Unfortunately, it seems that none of us is able to provide a minimal code
sample of described misbehavior. Maybe it would be better just to disable
those log messages in the release builds or make them optional?

 

-- 

M

 

Ad. 1 - . and, even if you log web server output to a file, in this case,
duplicate message logs may take some space. 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-web/attachments/20090704/b7d3a1d7/attachment.htm">http://twistedmatrix.com/pipermail/twisted-web/attachments/20090704/b7d3a1d7/attachment.htm</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004223.html">[Twisted-web] [Athena] Is ReliableMessageDelivery really	necessary?
</A></li>
	<LI>Next message: <A HREF="004229.html">[Twisted-web] My $0.25 (was: RE: [Athena] Is	ReliableMessageDelivery really	necessary?)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4228">[ date ]</a>
              <a href="thread.html#4228">[ thread ]</a>
              <a href="subject.html#4228">[ subject ]</a>
              <a href="author.html#4228">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
