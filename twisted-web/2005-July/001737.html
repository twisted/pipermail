<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] How to set the selected item in a select box?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20How%20to%20set%20the%20selected%20item%20in%20a%20select%20box%3F&In-Reply-To=20050720182604.hh2nmfvztji80s4g%40itchy.wasabout.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001736.html">
   <LINK REL="Next"  HREF="001735.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] How to set the selected item in a select box?</H1>
    <B>Donovan Preston</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20How%20to%20set%20the%20selected%20item%20in%20a%20select%20box%3F&In-Reply-To=20050720182604.hh2nmfvztji80s4g%40itchy.wasabout.net"
       TITLE="[Twisted-web] How to set the selected item in a select box?">dp at ulaluma.com
       </A><BR>
    <I>Wed Jul 20 13:42:22 MDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001736.html">[Twisted-web] How to set the selected item in a select box?
</A></li>
        <LI>Next message: <A HREF="001735.html">[Twisted-web] web proxy with twistd
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1737">[ date ]</a>
              <a href="thread.html#1737">[ thread ]</a>
              <a href="subject.html#1737">[ subject ]</a>
              <a href="author.html#1737">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Jul 20, 2005, at 9:26 AM, Thomas HERVE wrote:

&gt;<i> Quoting Alberto Trujillo &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">alberto.trujillo at ucd.ie</A>&gt;:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> The problem is that the attribute selected allways appear in my  
</I>&gt;&gt;<i> html code, and then allways the last item is the selected.
</I>&gt;&gt;<i> Can anybody tell me how to fix this problem? If possible don't use  
</I>&gt;&gt;<i> a attribute even when I have set this one in my template?
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> selected is a strange attribute as it don't have a value. You can  
</I>&gt;<i> use this :
</I>&gt;<i>
</I>&gt;<i>    def render_selectauthor(self, ctx, data):
</I>&gt;<i>        author = data.firstname + &quot; &quot; + data.lastname
</I>&gt;<i>        ctx.fillSlots(&quot;authorvalue&quot;, data.id)
</I>&gt;<i>        ctx.fillSlots(&quot;authorlabel&quot;, author)
</I>&gt;<i>        if data.id == self.idauthor:
</I>&gt;<i>            return ctx.tag(selected=True)
</I>&gt;<i>        else:
</I>&gt;<i>            return ctx.tag
</I>&gt;<i>
</I>&gt;<i> and remove the slot &quot;selected&quot; in your template.
</I>
It is also a known &quot;issue&quot; that if a slot is in an html attribute,  
there is no way to prevent that attribute from showing up in the HTML  
output. To do so would require Nevow have the ability to rewind time,  
to erase the attribute name from the output stream (in this case,  
selectecd=&quot;). There is a way to do this which would involve rendering  
the attribute value to a temporary location before rendering the  
attribute name, and checking to see if the value is a string of 0  
length or not. However, nobody has yet taken the time to implement  
this properly (it's tricky; several people have tried).

Once this issue is fixed, you could go back to using the slot  
approach. For now, what Thomas suggests is a reasonable workaround.

Donovan


</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001736.html">[Twisted-web] How to set the selected item in a select box?
</A></li>
	<LI>Next message: <A HREF="001735.html">[Twisted-web] web proxy with twistd
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1737">[ date ]</a>
              <a href="thread.html#1737">[ thread ]</a>
              <a href="subject.html#1737">[ subject ]</a>
              <a href="author.html#1737">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
