<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Turkey Questions 1-5
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Turkey%20Questions%201-5&In-Reply-To=2130.129.44.180.6.1120766611.squirrel%40www.wbsysnet.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001689.html">
   <LINK REL="Next"  HREF="001669.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Turkey Questions 1-5</H1>
    <B>Jp Calderone</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Turkey%20Questions%201-5&In-Reply-To=2130.129.44.180.6.1120766611.squirrel%40www.wbsysnet.com"
       TITLE="[Twisted-web] Turkey Questions 1-5">exarkun at divmod.com
       </A><BR>
    <I>Thu Jul  7 19:00:54 MDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001689.html">[Twisted-web] Turkey Questions 9-12
</A></li>
        <LI>Next message: <A HREF="001669.html">[Twisted-web] Use WubWubWub
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1641">[ date ]</a>
              <a href="thread.html#1641">[ thread ]</a>
              <a href="subject.html#1641">[ subject ]</a>
              <a href="author.html#1641">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 7 Jul 2005 16:03:31 -0400 (EDT), <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">lloyd at paisite.com</A> wrote:
&gt;<i>Hello,
</I>&gt;<i>
</I>&gt;<i>I've changed the thread from &quot;Re: Introduction, newbie confusion plus an
</I>&gt;<i>offer&quot; to &quot;Turkey Questions 1-5&quot; to start the Q&amp;A.
</I>&gt;<i>
</I>&gt;<i>Goal: Create the world's simplest web-server
</I>&gt;<i>
</I>&gt;<i>My first set of questions are based on &quot;Configuring and Using the
</I>&gt;<i>Twisted.Web Server in &quot;Twisted.Web Documentation.&quot;
</I>&gt;<i>
</I>&gt;<i> [snip]
</I>&gt;<i>
</I>&gt;<i>Questions:
</I>&gt;<i>
</I>&gt;<i>1) Why did mktap write web.tap to my home directory rather than
</I>&gt;<i>~/twisted/www?
</I>
You didn't specify a path to a tap file to write, so it picked a reasonable-seeming default.  The surprisingly named --append option lets you specify the name of the tap to write (as well as letting you add a new application to an existing tap).  For example,

  mktap --append ~/twisted/www/web.tap web ...

&gt;<i> [snip]
</I>&gt;<i>
</I>&gt;<i>3) How can I see the source for the server created by mktap?
</I>&gt;<i>
</I>
  TAP stands for Twisted Application Pickle.  Its contents are a Python pickle of a Twisted Application instance (twisted.application.service.Application) configured to do whatever you specified on the mktap command line.

  You can inspect it using pickle interactively:

    <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">exarkun at boson</A>:~$ python
    Python 2.4.1 (#2, Mar 30 2005, 21:51:10) 
    [GCC 3.3.5 (Debian 1:3.3.5-8ubuntu2)] on linux2
    Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
    &gt;&gt;&gt; import pickle
    &gt;&gt;&gt; app = pickle.load(file('web.tap', 'rb'))
    &gt;&gt;&gt; print app
    &lt;twisted.python.components.Componentized instance at 0xb7e05b8c&gt;
    &gt;&gt;&gt; from twisted.application import service
    &gt;&gt;&gt; svc = service.IService(app)
    &gt;&gt;&gt; print svc
    &lt;twisted.application.service.MultiService instance at 0xb7e11d0c&gt;
    &gt;&gt;&gt; list(svc)
    [&lt;twisted.application.service.MultiService instance at 0xb7ae126c&gt;]
    &gt;&gt;&gt; list(svc)[0]
    &lt;twisted.application.service.MultiService instance at 0xb7ae126c&gt;
    &gt;&gt;&gt; list(list(svc)[0])
    [&lt;twisted.application.internet.TCPServer instance at 0xb7a54d8c&gt;]
    &gt;&gt;&gt; list(list(svc)[0])[0].args
    (8080, &lt;twisted.web.server.Site instance at 0xb7a5a66c&gt;)
    &gt;&gt;&gt; 
    [etc]

  There are some other formats mktap can write, but they are generally more fragile than pickle.  If you want to explore, try the `--type' argument to mktap (eg, mktap --type source web).

The key here is that mktap outputs configuration, not code.  Of course, if you asked &quot;How can I view the configuration for the server generated by mktap?&quot; I wouldn't have a better answer for you ;)

Jp

</PRE>



































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001689.html">[Twisted-web] Turkey Questions 9-12
</A></li>
	<LI>Next message: <A HREF="001669.html">[Twisted-web] Use WubWubWub
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1641">[ date ]</a>
              <a href="thread.html#1641">[ thread ]</a>
              <a href="subject.html#1641">[ subject ]</a>
              <a href="author.html#1641">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
