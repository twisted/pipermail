<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] How to set the selected item in a select box?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20How%20to%20set%20the%20selected%20item%20in%20a%20select%20box%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001733.html">
   <LINK REL="Next"  HREF="001736.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] How to set the selected item in a select box?</H1>
    <B>Alberto Trujillo</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20How%20to%20set%20the%20selected%20item%20in%20a%20select%20box%3F&In-Reply-To="
       TITLE="[Twisted-web] How to set the selected item in a select box?">alberto.trujillo at ucd.ie
       </A><BR>
    <I>Wed Jul 20 09:30:48 MDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001733.html">[Twisted-web] cookie parsing
</A></li>
        <LI>Next message: <A HREF="001736.html">[Twisted-web] How to set the selected item in a select box?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1734">[ date ]</a>
              <a href="thread.html#1734">[ thread ]</a>
              <a href="subject.html#1734">[ subject ]</a>
              <a href="author.html#1734">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm trying to fill a simple select box using templates but I have a 
problem when I try to set the selected value. Here is my code:

file.py
------------

    def render_selectauthor(self, ctx, data):
        author = data.firstname + &quot; &quot; + data.lastname
        if data.id == self.idauthor:
            ctx.fillSlots(&quot;authorselected&quot;, &quot;selected&quot;)
        else:
            ctx.fillSlots(&quot;authorselected&quot;, None)
        ctx.fillSlots(&quot;authorvalue&quot;, data.id)
        ctx.fillSlots(&quot;authorlabel&quot;, author)
        return ctx.tag


file.html
----------------

     &lt;select name=&quot;idauthor&quot; nevow:data=&quot;selectusers&quot; 
nevow:render=&quot;sequence&quot;&gt;
          &lt;option nevow:pattern=&quot;item&quot; nevow:render=&quot;selectauthor&quot;&gt;
              &lt;nevow:attr name=&quot;value&quot;&gt;&lt;nevow:slot name=&quot;authorvalue&quot; 
/&gt;&lt;/nevow:attr&gt;
              &lt;nevow:attr name=&quot;selected&quot;&gt;&lt;nevow:slot 
name=&quot;authorselected&quot; /&gt;&lt;/nevow:attr&gt;
              &lt;nevow:slot name=&quot;authorlabel&quot;&gt;select...&lt;/nevow:slot&gt;
          &lt;/option&gt;
     &lt;/select&gt;

The problem is that the attribute selected allways appear in my html 
code, and then allways the last item is the selected.
Can anybody tell me how to fix this problem? If possible don't use a 
attribute even when I have set this one in my template?

Thank you very much.

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001733.html">[Twisted-web] cookie parsing
</A></li>
	<LI>Next message: <A HREF="001736.html">[Twisted-web] How to set the selected item in a select box?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1734">[ date ]</a>
              <a href="thread.html#1734">[ thread ]</a>
              <a href="subject.html#1734">[ subject ]</a>
              <a href="author.html#1734">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
