<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] multiple sessions on same host:port
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20multiple%20sessions%20on%20same%20host%3Aport&In-Reply-To=48EBD298.8050505%40karnaugh.za.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003947.html">
   <LINK REL="Next"  HREF="003950.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] multiple sessions on same host:port</H1>
    <B>Federico Tomassini</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20multiple%20sessions%20on%20same%20host%3Aport&In-Reply-To=48EBD298.8050505%40karnaugh.za.net"
       TITLE="[Twisted-web] multiple sessions on same host:port">federicotom at yahoo.it
       </A><BR>
    <I>Tue Oct  7 17:41:49 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003947.html">[Twisted-web] multiple sessions on same host:port
</A></li>
        <LI>Next message: <A HREF="003950.html">[Twisted-web] Tests in #3384 fix
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3948">[ date ]</a>
              <a href="thread.html#3948">[ thread ]</a>
              <a href="subject.html#3948">[ subject ]</a>
              <a href="author.html#3948">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Colin Alston wrote:
&gt;<i> On 2008/10/07 10:55 PM Federico Tomassini wrote:
</I>&gt;&gt;<i> The problem is: each twisted-nevow application will want to create a
</I>&gt;&gt;<i> cookie to handle the session. Being these cookies related to the same
</I>&gt;&gt;<i> host:port, the different twisted-nevow applications will be in conflict,
</I>&gt;&gt;<i> maybe overwriting the cookies created by their friends.
</I>&gt;<i> 
</I>&gt;<i> I'm not sure I agree with your deployment idea. Why not just link these
</I>&gt;<i> applications off the same process instead of complicating it behind Apache?
</I>
The architectural problem is: different logins have to raise different
resources. On the same fqdn, because we use a SSL certificate for it.

For now, we are using different ports and different nevow application
behind each port. Now, we have the need to serve multiple applications
not only the same host, but also on the same port.

What do you mean with &quot;link these applications off the same process&quot;?
Is your idea compatible with these needs?

&gt;<i> 
</I>&gt;<i> Regardless of the reasons for that (I'm sure you have some) it's
</I>&gt;<i> perfectly possible to override the cookie created for Guard. It should
</I>&gt;<i> be easy to add a prefix for each if you override the SessionWrapper
</I>&gt;<i> object. From looking at it though, the actual session key is a
</I>&gt;<i> randomised hash not at all based on the hostname or port so it will not
</I>&gt;<i> conflict between different guarded instances. Logically this is a good
</I>&gt;<i> design because nothing stops you from having numerous different guard
</I>&gt;<i> instances in one app.
</I>&gt;<i> 
</I>&gt;<i> Read the source :)
</I>
waiting for an answer i was doing this: reading SessionWrapper sources.

Yes, cookieKey seems to be there for this purpose and, when it's not
specified during SessionWrapper initialization, it's a random hash.

That seems to solve my problem: i need only to complicate apache,
proxy-ing requests (depending on the first segments) and redirecting
them to different applications.

-- 
efphe
Today is Setting Orange, the 61st day of Bureaucracy in the YOLD 3174

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003947.html">[Twisted-web] multiple sessions on same host:port
</A></li>
	<LI>Next message: <A HREF="003950.html">[Twisted-web] Tests in #3384 fix
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3948">[ date ]</a>
              <a href="thread.html#3948">[ thread ]</a>
              <a href="subject.html#3948">[ subject ]</a>
              <a href="author.html#3948">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
