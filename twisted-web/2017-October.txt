From Ohad.Shai at Cyberbit.com  Tue Oct 17 01:36:33 2017
From: Ohad.Shai at Cyberbit.com (Ohad Shai)
Date: Tue, 17 Oct 2017 07:36:33 +0000
Subject: [Twisted-web] Twisted HTTPS Server-Client Communication problem
Message-ID: <VI1PR0701MB2446D6A0A38C81E1676344619A4C0@VI1PR0701MB2446.eurprd07.prod.outlook.com>

Hi,


I have an important question about twisted HTTPS client-server communication.


I ran an HTTPS server with my own certs and tried to communicate with a twisted HTTPS client with the specific cert.


I am getting an error that says: "Invalid DNS-ID".


all the error info with all my code is in here: https://gist.github.com/anonymous/e46d4d8dc1c102857497cde9e2fc4725#file-gistfile1-txt

Twisted-HTTPS-client-server<https://gist.github.com/anonymous/e46d4d8dc1c102857497cde9e2fc4725#file-gistfile1-txt>
gist.github.com
Twisted-HTTPS-client-server




I will be appreciate if someone has a clue how can I fix this error.


Thanks,



Ohad Shai
Software Engineer, EDR Linux
972-052-6887792
ohad.shai at cyberbit.com<mailto:daniel.doron at cyberbit.com>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-web/attachments/20171017/661a4000/attachment.html>

From danielmeirdoron at gmail.com  Tue Oct 17 03:12:58 2017
From: danielmeirdoron at gmail.com (Daniel Doron)
Date: Tue, 17 Oct 2017 12:12:58 +0300
Subject: [Twisted-web] Twisted Application(Daemon) with multiple clients
Message-ID: <CAFwN=+yWpbqt8kanoYhP86AQgaJ9Z5i35AxsSQi4tx2OE9fZCA@mail.gmail.com>

Hi,

Sorry in advance for sending this to both Twisted mailing list. i was
not sure for which was it was most appropriate.

I have a design in which I would like to have a Twisted Application
which would periodically connect to a REST Server to pull
configuration information, i.e. as client and upon receiving that
information and processing would communicate spawn 1 or more clients
connecting to local process via Unix sockets to send them
configuration information.
I think I understand how the standard approach would be:
1. create a function that would be called with callLater/LoopingCall
2. in that function create my client, connect to the REST Server, get
info etc...

So:
1. Do you think my approach is correct? Essentially as explained I
need a service/daemon to periodically connect ot one server to pull
information and then connect to other local process to forward them
the relevant configuration.
2. How do I turn this into a twisted plugin? (daemon)


Thanks
-Daniel


From cwaldbieser at gmail.com  Sun Oct 22 18:14:56 2017
From: cwaldbieser at gmail.com (Carl Waldbieser)
Date: Sun, 22 Oct 2017 20:14:56 -0400
Subject: [Twisted-web] Twisted HTTPS Server-Client Communication problem
In-Reply-To: <VI1PR0701MB2446D6A0A38C81E1676344619A4C0@VI1PR0701MB2446.eurprd07.prod.outlook.com>
References: <VI1PR0701MB2446D6A0A38C81E1676344619A4C0@VI1PR0701MB2446.eurprd07.prod.outlook.com>
Message-ID: <CAHPVzqY2fSmENJdNVCaUMd52MsUhQRmxLbFKbsp2mtCjvdD2yg@mail.gmail.com>

Sounds like maybe you are trying to access the server by an IP address
rather than a DNS name?  I believe the TLS handshake will fail in this case
since it tries to match the host name to the subject name on the
certificate or a SAN on the certificate.  If you can arrange for DNS or the
local resolver to point to the host with a name matching the name on the
certificate, that should work.

Thanks,
Carl Waldbieser


On Tue, Oct 17, 2017 at 3:36 AM, Ohad Shai <Ohad.Shai at cyberbit.com> wrote:

> Hi,
>
>
> I have an important question about twisted HTTPS client-server
> communication.
>
>
> I ran an HTTPS server with my own certs and tried to communicate with a
> twisted HTTPS client with the specific cert.
>
>
> I am getting an error that says: "Invalid DNS-ID".
>
>
> all the error info with all my code is in here: https://gist.github.com/
> anonymous/e46d4d8dc1c102857497cde9e2fc4725#file-gistfile1-txt
> Twisted-HTTPS-client-server
> <https://gist.github.com/anonymous/e46d4d8dc1c102857497cde9e2fc4725#file-gistfile1-txt>
> gist.github.com
> Twisted-HTTPS-client-server
>
>
> I will be appreciate if someone has a clue how can I fix this error.
>
>
> Thanks,
>
>
> *Ohad Shai*
> Software Engineer, EDR Linux
> 972-052-6887792
> ohad.shai at cyberbit.com <daniel.doron at cyberbit.com>
>
>
> _______________________________________________
> Twisted-web mailing list
> Twisted-web at twistedmatrix.com
> https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-web/attachments/20171022/267b5032/attachment.html>

From cwaldbieser at gmail.com  Sun Oct 22 18:28:27 2017
From: cwaldbieser at gmail.com (Carl Waldbieser)
Date: Sun, 22 Oct 2017 20:28:27 -0400
Subject: [Twisted-web] Twisted Application(Daemon) with multiple clients
In-Reply-To: <CAFwN=+yWpbqt8kanoYhP86AQgaJ9Z5i35AxsSQi4tx2OE9fZCA@mail.gmail.com>
References: <CAFwN=+yWpbqt8kanoYhP86AQgaJ9Z5i35AxsSQi4tx2OE9fZCA@mail.gmail.com>
Message-ID: <CAHPVzqY_0_+d+guRPLZpQrKmRFTF3LD5NAxa-z1U-kinqm5C=Q@mail.gmail.com>

Without knowing many details, it seems like your approach seems
reasonable.  I'd have expected that your configuration service would act as
both a client (using the REST service to download configuration) and a
server (providing config information over UNIX sockets), but I don't really
know much about your particular set up.

To turn the program into a service, you could follow the steps for "Writing
A Twisted Plugin" [1], or "Using the Twisted Application Framework" [2].

Thanks,
Carl Waldbieser

[1]  http://twistedmatrix.com/documents/current/core/howto/tap.html
[2] http://twistedmatrix.com/documents/current/core/howto/application.html


On Tue, Oct 17, 2017 at 5:12 AM, Daniel Doron <danielmeirdoron at gmail.com>
wrote:

> Hi,
>
> Sorry in advance for sending this to both Twisted mailing list. i was
> not sure for which was it was most appropriate.
>
> I have a design in which I would like to have a Twisted Application
> which would periodically connect to a REST Server to pull
> configuration information, i.e. as client and upon receiving that
> information and processing would communicate spawn 1 or more clients
> connecting to local process via Unix sockets to send them
> configuration information.
> I think I understand how the standard approach would be:
> 1. create a function that would be called with callLater/LoopingCall
> 2. in that function create my client, connect to the REST Server, get
> info etc...
>
> So:
> 1. Do you think my approach is correct? Essentially as explained I
> need a service/daemon to periodically connect ot one server to pull
> information and then connect to other local process to forward them
> the relevant configuration.
> 2. How do I turn this into a twisted plugin? (daemon)
>
>
> Thanks
> -Daniel
>
> _______________________________________________
> Twisted-web mailing list
> Twisted-web at twistedmatrix.com
> https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-web/attachments/20171022/de32d2d2/attachment.html>

