<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] really beginner example
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20really%20beginner%20example&In-Reply-To=1081123808.13003.178.camel%40hyla">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000264.html">
   <LINK REL="Next"  HREF="000271.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] really beginner example</H1>
    <B>Ellers</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20really%20beginner%20example&In-Reply-To=1081123808.13003.178.camel%40hyla"
       TITLE="[Twisted-web] really beginner example">andrew at ellerton.net
       </A><BR>
    <I>Mon Apr  5 12:24:05 MDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000264.html">[Twisted-web] really beginner example
</A></li>
        <LI>Next message: <A HREF="000271.html">[Twisted-web] Re: NevowSite and renderString (was: really beginner
	example)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#269">[ date ]</a>
              <a href="thread.html#269">[ thread ]</a>
              <a href="subject.html#269">[ subject ]</a>
              <a href="author.html#269">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey Alex,
Thanks for your help - thats awesome.
More comments below...

On Sun, 04 Apr 2004 20:10:08 -0400, Alex Levy &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">mesozoic at polynode.com</A>&gt; wrote:

&gt;<i> On Sun, 2004-04-04 at 17:06, Ellers wrote:
</I>&gt;&gt;<i> Right now I want to use my own Site object, not a subclass of the
</I>&gt;&gt;<i> Nevow site object, and use the Nevow classes to generate html based on
</I>&gt;&gt;<i> templates from files.
</I>&gt;<i>
</I>&gt;<i> Why in particular don't you want to use NevowSite? You don't need to
</I>&gt;<i> subclass NevowSite, it can be used as-is (see the attached example).
</I>
thats a good question.

Primarily my logic is that I shouldn't &quot;have&quot; to use a NevowSite. The twisted framework is, well, quite a heavy framework as it is. I have my existing (admittedly somewhat lame) resource.Resource subclasses, and I felt that I &quot;should&quot; be able to use Nevow without having to do everything its way (ie using NevowSite).

Hope that doesn't sound too militant... I guess I figure Nevow sounds like a great opportunity for a cool API, but I'm hoping I don't have to use it as a heavyweight framework. Where the difference between API and framework is how locked in I am to do my code &quot;its way&quot;.

WDYT?


&gt;&gt;<i> I have this in a file &quot;hello_template.html&quot;:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> (snip)
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I've attached a slight reworking of your example. You can run this
</I>&gt;<i> normally, or you can run it with 'twistd -ony example1.tac.py' to
</I>&gt;<i> actually start a web server. It shows both how to use data_ and render_
</I>&gt;<i> methods, and also answers your question about rendering pages into plain
</I>&gt;<i> text strings.
</I>&gt;<i>
</I>&gt;<i> Hope this helps.
</I>
it does - thanks!

The core of what you sent is this part:

def printPage():
     p = HelloPage()
     # Ordinarily this remembering nonsense is done for us.
     p.remember(p, inevow.IData)
     p.remember(p, inevow.IRendererFactory)
     # Rend.Page.renderString() returns a deferred, so...
     def gotRenderedPage(html):
         print
         print 'Page:'
         print html
     p.renderString().addCallback(gotRenderedPage)

Nifty trick with the deferred and the gotRenderedPage() callback. I'm still having trouble getting my mind around deferred so thats helpful.

Can you expand a bit on how the remember() calls are helpful? I use interfaces a lot generally (though usually thats C++ or Java), but I don't quite get how they're useful in this case?

thanks for any tips :)

Ellers



</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000264.html">[Twisted-web] really beginner example
</A></li>
	<LI>Next message: <A HREF="000271.html">[Twisted-web] Re: NevowSite and renderString (was: really beginner
	example)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#269">[ date ]</a>
              <a href="thread.html#269">[ thread ]</a>
              <a href="subject.html#269">[ subject ]</a>
              <a href="author.html#269">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
