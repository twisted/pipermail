<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Re: NevowSite and renderString (was: really
	beginner example)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Re%3A%20NevowSite%20and%20renderString%20%28was%3A%20really%0A%09beginner%20example%29&In-Reply-To=1081195811.13011.419.camel%40hyla">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000274.html">
   <LINK REL="Next"  HREF="000281.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Re: NevowSite and renderString (was: really
	beginner example)</H1>
    <B>Ellers</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Re%3A%20NevowSite%20and%20renderString%20%28was%3A%20really%0A%09beginner%20example%29&In-Reply-To=1081195811.13011.419.camel%40hyla"
       TITLE="[Twisted-web] Re: NevowSite and renderString (was: really
	beginner example)">andrew at ellerton.net
       </A><BR>
    <I>Wed Apr  7 14:28:57 MDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000274.html">[Twisted-web] Re: NevowSite and renderString (was: really
	beginner example)
</A></li>
        <LI>Next message: <A HREF="000281.html">[Twisted-web] Re: NevowSite and renderString (was: really
	beginner example)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#280">[ date ]</a>
              <a href="thread.html#280">[ thread ]</a>
              <a href="subject.html#280">[ subject ]</a>
              <a href="author.html#280">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> Have you tried using NevowSite, but giving it one of your custom
</I>&gt;<i> resources instead of a nevow.rend.Page instance? I'm not sure whether
</I>&gt;<i> that will work or not, but I don't see why it shouldn't. NevowSite is
</I>&gt;<i> just a subclass of t.w.server.Site, which you need anyways.
</I>
That works nicely, thanks :)

I'll keep experimenting there and tinker with things to get a better understanding of how the parts work together.

In the meantime, I'm having trouble with lists now - in particular, I want to display a list and have each item be a link. I looked at the Nevow calendar example but I can't follow it.

In my page class I have this (excerpt):

	def data_names(self, context, data):
		# this is a list of strings
		return self.names

	def getURLForName( self, name ):
		# a crappy demo of how I can parameterise getting the URL
		# for a given name
		return &quot;/data/%s&quot; % name

	def render_link(self, context, data):
		# would it be better to do something like:
		#
		#    return T.a(href=url)[title],
		#
		# ?
		#
		name = ??
		url = self.getURLForName( name )
		return &quot;&lt;a href='%s'&gt;%s&lt;/a&gt;&quot; % ( url, title )

I know this code isn't great, but the thing I'm stuck on right now is how do I get the name argument - from the data parameter?

Oh, and I probably shouldn't be calling it render_link... sorry guys, I get lost with Nevow a bit! :)

The html fragment I'm using is:

		&lt;p&gt;This is called &lt;span nevow:data=&quot;title&quot; nevow:render=&quot;string&quot; /&gt;&lt;/p&gt;
		&lt;p&gt;This is a list of stuff:&lt;br/&gt;
		&lt;ol nevow:data=&quot;names&quot; nevow:render=&quot;sequence&quot;&gt;
			&lt;span nevow:pattern=&quot;header&quot;&gt;HEADER&lt;/span&gt;
			&lt;li nevow:pattern=&quot;item&quot;&gt;&lt;span nevow:render=&quot;string&quot; /&gt;&lt;/li&gt;

			&lt;span nevow:pattern=&quot;divider&quot;&gt;-----&lt;/span&gt;
			&lt;div nevow:pattern=&quot;empty&quot;&gt;Nothing.&lt;/div&gt;
			&lt;span nevow:pattern=&quot;footer&quot;&gt;FOOTER&lt;/span&gt;
		&lt;/ol&gt;
		&lt;/p&gt;

The title span is working really well - and many thanks here go to Alex Levy!

thanks for any help on the above

Ellers

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000274.html">[Twisted-web] Re: NevowSite and renderString (was: really
	beginner example)
</A></li>
	<LI>Next message: <A HREF="000281.html">[Twisted-web] Re: NevowSite and renderString (was: really
	beginner example)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#280">[ date ]</a>
              <a href="thread.html#280">[ thread ]</a>
              <a href="subject.html#280">[ subject ]</a>
              <a href="author.html#280">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
