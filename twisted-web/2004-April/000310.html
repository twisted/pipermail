<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] operating on literals in nevow html templates
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20operating%20on%20literals%20in%20nevow%20html%20templates&In-Reply-To=AGEIJJAOINCAPLOMDIAHCECDDKAA.joe%40seventy-twodpi.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000309.html">
   <LINK REL="Next"  HREF="000300.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] operating on literals in nevow html templates</H1>
    <B>Donovan Preston</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20operating%20on%20literals%20in%20nevow%20html%20templates&In-Reply-To=AGEIJJAOINCAPLOMDIAHCECDDKAA.joe%40seventy-twodpi.com"
       TITLE="[Twisted-web] operating on literals in nevow html templates">dp at ulaluma.com
       </A><BR>
    <I>Tue Apr 13 15:31:54 MDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000309.html">[Twisted-web] operating on literals in nevow html templates
</A></li>
        <LI>Next message: <A HREF="000300.html">[Twisted-web] Nevow Templating question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#310">[ date ]</a>
              <a href="thread.html#310">[ thread ]</a>
              <a href="subject.html#310">[ subject ]</a>
              <a href="author.html#310">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Apr 12, 2004, at 4:59 PM, Joe Bowers wrote:

&lt;snip&gt;

&gt;<i> It's acceptable for me to bend, fold, or otherwise
</I>&gt;<i> mutilate the designer-provided tag to some degree, so
</I>&gt;<i> something like:
</I>&gt;<i>
</I>&gt;<i> &lt;a href=&quot;GUI_GENERATED_CALL(garbage, 'WindowName', 'WindowParams')&quot;
</I>&gt;<i>    nevow:data=&quot;{'name' : 'WindowName', 'params' : 'WindowParams'}&quot;
</I>&gt;<i>    nevow:render=&quot;dynamicPopup&quot;
</I>&gt;&gt;<i> Click here for a popup&lt;/a&gt;
</I>&gt;<i>
</I>&gt;<i> would be fine- but the literal parameters I need to
</I>&gt;<i> preserve need to be under the control of the designers
</I>&gt;<i> and present in the template rather than in the code.
</I>
There is an experimental feature in the Nevow codebase that probably 
not too many people know about. I call them render parameters. They 
were designed for almost exactly this use, to allow designers to 
provide parameters to a renderer which will affect how it renders. The 
syntax is a bit odd and probably still open for discussion, but it is 
currently:

&lt;a nevow:render=&quot;dynamicPopup WindowName,WindowParams&quot;&gt;Click here&lt;/a&gt;

The renderer name and arguments are separated by a space; the 
individual arguments are separated by commas. The arguments would be 
sent to the render method like so:

def render_dynamicPopup(self, name, params):
	print name, params
	return &quot;woo&quot;

Since you probably also want access to the context and data parameters 
normally passed to a renderer, you probably want to create and return a 
closure (nested function) which gets ctx and data:

def render_dynamicPopup(self, name, params):
	def nestedFunction(ctx, data):
		print name, params, ctx, data # has access to name and params because 
they are &quot;closed over&quot;
		return &quot;woo&quot;
	return nestedFunction

This is still a somewhat experimental feature; there is an example of 
usage in &quot;sandbox/mg/reroot.py&quot;. If you try it out, please give us 
feedback on whether it solves your problem, how useful it is, and 
whether the syntax or semantics could be improved to make it more 
useful.

dp


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000309.html">[Twisted-web] operating on literals in nevow html templates
</A></li>
	<LI>Next message: <A HREF="000300.html">[Twisted-web] Nevow Templating question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#310">[ date ]</a>
              <a href="thread.html#310">[ thread ]</a>
              <a href="subject.html#310">[ subject ]</a>
              <a href="author.html#310">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
