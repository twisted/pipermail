<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] IRenderer interface for Nevow
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20IRenderer%20interface%20for%20Nevow&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000286.html">
   <LINK REL="Next"  HREF="000266.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] IRenderer interface for Nevow</H1>
    <B>Matt Goodall</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20IRenderer%20interface%20for%20Nevow&In-Reply-To="
       TITLE="[Twisted-web] IRenderer interface for Nevow">matt at pollenation.net
       </A><BR>
    <I>Sun Apr  4 18:40:11 MDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000286.html">[Twisted-web] Seeking more examples
</A></li>
        <LI>Next message: <A HREF="000266.html">[Twisted-web] Re: [PATCH] nevow.static.File directory listing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#265">[ date ]</a>
              <a href="thread.html#265">[ thread ]</a>
              <a href="subject.html#265">[ subject ]</a>
              <a href="author.html#265">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

While testing out an idea, I noticed that I was implementing
IRendererFactory just to turn a class instance into a renderer. For
instance:

        class ISummaryView(compy.Interface):
            pass
        
        class FooSummaryView(compy.Adapter):
            __implements__ = ISummaryView, IRendererFactory
            def __call__(self, context, data):
                return whatever
        
That didn't make sense to me and I also had no reason to add
IRendererFactory's renderer() method.

I then noticed that quite a few classes (freeform in particular) that
implement IRendererFactory were actually just renderers and didn't have
or need a renderer() method either.

So ... I created a IRenderer marker interface and changed most uses of
IRendererFactory to IRenderer. See the attached diff (against svn
trunk). It seems to work (i.e. no more tests fail than usual ;-)) but I
didn't want to commit it without some feedback first.

You'll notice that a couple of test_flatstan tests changed slightly to
make them pass. I don't think the renderer function signature was
correct in the context but please shout if you can think of a legitimate
reason why it should be supported.

James Knight (aka foom) suggested that IRenderer may not be needed at
all and that adapting anything callable would probably be enough. That
is probably correct but a) it's too early in the morning to think about
it and b) I'd rather make the change it two steps.

OK, let me know what you think to all this.

Cheers, Matt

-- 
Matt Goodall, Pollenation Internet Ltd
w: <A HREF="http://www.pollenation.net">http://www.pollenation.net</A>
e: <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">matt at pollenation.net</A>

Any views expressed are my own and do not necessarily reflect
the views of my employer.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: irendererfactory_irenderer.diff
Type: text/x-patch
Size: 7752 bytes
Desc: not available
Url : <A HREF="http://pyramid.twistedmatrix.com/pipermail/twisted-web/attachments/20040405/bf977d40/irendererfactory_irenderer.bin">http://pyramid.twistedmatrix.com/pipermail/twisted-web/attachments/20040405/bf977d40/irendererfactory_irenderer.bin</A>
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000286.html">[Twisted-web] Seeking more examples
</A></li>
	<LI>Next message: <A HREF="000266.html">[Twisted-web] Re: [PATCH] nevow.static.File directory listing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#265">[ date ]</a>
              <a href="thread.html#265">[ thread ]</a>
              <a href="subject.html#265">[ subject ]</a>
              <a href="author.html#265">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
