<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] really beginner example
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20really%20beginner%20example&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000263.html">
   <LINK REL="Next"  HREF="000264.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] really beginner example</H1>
    <B>Ellers</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20really%20beginner%20example&In-Reply-To="
       TITLE="[Twisted-web] really beginner example">andrew at ellerton.net
       </A><BR>
    <I>Sun Apr  4 15:06:16 MDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000263.html">[Twisted-web] Re: [PATCH] nevow.static.File directory listing
</A></li>
        <LI>Next message: <A HREF="000264.html">[Twisted-web] really beginner example
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#262">[ date ]</a>
              <a href="thread.html#262">[ thread ]</a>
              <a href="subject.html#262">[ subject ]</a>
              <a href="author.html#262">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello all,

I've been getting into Twisted apps recently and saw in the docs that use of Woven is not recommended and that Nevow should be used instead. Thats cool.

I've been trying to get into it, and have read lots of docs and examples, but its seriously hard going. I'm not trying to dump on anyone, but the examples don't start out with really simple building blocks then build on that into something big and usable as-is. Something I can say &quot;I need to do a multistage form - ah theres an example&quot;, and &quot;I need to store user sessions in a persistent way, so they're there after a database restart - ah an example...&quot; etc.

That is, start with really really basic apps, adding extra details and features that someone will commonly want.

For example, it might start with a really simple html template example, using minimal Nevow stuff - just a renderer or at most a page, and everything else from Twisted. Maybe this isn't the &quot;done&quot; thing, but I think it would be really helpful to someone coming from now understanding Twisted classes to see how to use a minimal set of Nevow classes to do something cool with Nevow. I would've thought Nevow would work well in this way, but tell me if I'm wrong and I should really be using the whole Nevow framework, not just the xhtml templating part.

Right now I want to use my own Site object, not a subclass of the Nevow site object, and use the Nevow classes to generate html based on templates from files. I'm sure this is possible, but I just can't figure it out.

So, here is my question...

I have this in a file &quot;hello_template.html&quot;:

&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;<A HREF="http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;">http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;</A>&gt;
&lt;html lang=&quot;en&quot; xml:lang=&quot;en&quot; xmlns=&quot;<A HREF="http://www.w3.org/1999/xhtml&quot;">http://www.w3.org/1999/xhtml&quot;</A>&gt;
	&lt;head&gt;
		&lt;title nevow:data=&quot;title&quot;&gt;This is title&lt;/title&gt;
	&lt;/head&gt;
	&lt;body&gt;
		&lt;p&gt;This page is called &lt;span nevow:date=&quot;title&quot; /&gt;&lt;/p&gt;
	&lt;/body&gt;
&lt;/html&gt;

and I have the following python code.
The function demo1() does what I expect,
but what I really want is for demo2() to print to stdout the xhtml
after it has been substituted with the title.

&lt;&lt;
 from nevow import rend

class HelloPage(rend.Page):

	docFactory = rend.htmlfile('hello_template.html')
	
	def data_title(self, context, data):
		return &quot;Hello Nevow World&quot;
	
	def data_empty(self, context, data):
		return []

	def someMethodToWriteToAFileLikeObject( self, writer ):
		writer.write( &quot;not yet implemented\n&quot; )

def demo1( ):
	&quot;&quot;&quot;This will print the html just as it is in the template file - cool&quot;&quot;&quot;
	
	import sys
	d = rend.htmlfile('hello_template.html', '../shared/Assets/template')
	d.load()
	print &quot;\nDocument:\n&quot;
	d.getDoc( ).writexml(sys.stdout)
	print &quot;\n&quot;


def demo2( ):
	&quot;&quot;&quot;This does not work yet, but what I want it to do, is put the
	substituted title into the template then return the composite result.
	&quot;&quot;&quot;
	import sys
	p = HelloPage( )
	p.someMethodToWriteToAFileLikeObject( sys.stdout )
	
	
if __name__ == &quot;__main__&quot;:
	demo1( )
	demo2( )
&gt;&gt;<i>
</I>
I know that in normal usage there isn't much point doing sys.stdout.write
with the xhtml content, but there has to be some room between that extreme
and using a framework where I can't even tell how the content is getting
sent back to the http stream!

Thanks to all for any suggestions, and for your patience with this beginner...

Ellers

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000263.html">[Twisted-web] Re: [PATCH] nevow.static.File directory listing
</A></li>
	<LI>Next message: <A HREF="000264.html">[Twisted-web] really beginner example
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#262">[ date ]</a>
              <a href="thread.html#262">[ thread ]</a>
              <a href="subject.html#262">[ subject ]</a>
              <a href="author.html#262">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
