<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Splitting twisted-web from core twisted.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Splitting%20twisted-web%20from%20core%20twisted.&In-Reply-To=DDF1E50B-8F0A-11D8-94D4-000A95A50FB2%40fuhm.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000324.html">
   <LINK REL="Next"  HREF="000329.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Splitting twisted-web from core twisted.</H1>
    <B>David Reid</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Splitting%20twisted-web%20from%20core%20twisted.&In-Reply-To=DDF1E50B-8F0A-11D8-94D4-000A95A50FB2%40fuhm.net"
       TITLE="[Twisted-web] Splitting twisted-web from core twisted.">dreid at dreid.org
       </A><BR>
    <I>Thu Apr 15 12:57:13 MDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000324.html">[Twisted-web] Splitting twisted-web from core twisted.
</A></li>
        <LI>Next message: <A HREF="000329.html">[Twisted-web] Splitting twisted-web from core twisted.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#325">[ date ]</a>
              <a href="thread.html#325">[ thread ]</a>
              <a href="subject.html#325">[ subject ]</a>
              <a href="author.html#325">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 2004-04-15 at 11:29, James Y Knight wrote:
&gt;<i> On Apr 15, 2004, at 6:47 AM, David Reid wrote:
</I>&gt;<i> &gt; Goals of a split:
</I>&gt;<i> &gt; * Use new APIs.
</I>&gt;<i> &gt; 	This is as good a chance as any to get rid of all those
</I>&gt;<i> &gt; DeprecationWarnings we get when starting a twisted.web server.
</I>&gt;<i> 
</I>&gt;<i> I'm currently working on rewriting protocols.http. The goal is to 
</I>&gt;<i> actually be RFC compliant, with enough builtin functionality to make 
</I>&gt;<i> writing a server, client, and proxy on top of it fairly easy. I don't 
</I>&gt;<i> plan on keeping API compatibility, although there's some chance a 
</I>&gt;<i> wrapper implementing the old API could be made.
</I>&gt;<i> 
</I>&gt;<i> &gt; * Implement things like distrib and vhosts at a lower level.
</I>&gt;<i> &gt; 	Currently distrib and vhosts need to be reimplemented or atleast
</I>&gt;<i> &gt; violently shoehorned into working with Nevow.  This will likely be the
</I>&gt;<i> &gt; same with any future alternatives to Nevow.  I'll get into specifics
</I>&gt;<i> &gt; about distrib and vhosts later.
</I>&gt;<i> 
</I>&gt;<i> Agreed. I think web should *not* be serializing Request objects at all. 
</I>&gt;<i> Distrib is essentially just a non-caching proxy and could be 
</I>&gt;<i> implemented more like one. (E.g. use a custom HTTPChannel that talks 
</I>&gt;<i> over PB and doesn't require multiple sockets, but otherwise has just 
</I>&gt;<i> normal HTTP string data being sent back and forth). This would have the 
</I>&gt;<i> advantage of decoupling the distrib'd servers from any changes.
</I>&gt;<i> 
</I>&gt;<i> &gt; * Simplify the twisted.web, don't make it do anything clever.
</I>&gt;<i> &gt; 	The clever stuff should be left up to nevow and perhaps kept a 
</I>&gt;<i> &gt; seperate
</I>&gt;<i> &gt; module.  Also given fzZzy's history it seems very likely that 
</I>&gt;<i> &gt; eventually
</I>&gt;<i> &gt; he will come up with something even better than Nevow, and it would 
</I>&gt;<i> &gt; just
</I>&gt;<i> &gt; be a waste to have to rewrite twisted.web (again) to support it. ;)
</I>&gt;<i> 
</I>&gt;<i> Sure, nevow (the templating part only) can be in a separate module 
</I>&gt;<i> (newtwistedweb.nevow, say), but I'm not sure it's good to separate them 
</I>&gt;<i> completely.
</I>
Yes that was my thinking also, because supporting modular rendering
engines is useless unless you provide a default that makes the system
generally useable.

&gt;<i> What I think needs to happen:
</I>&gt;<i> 1) finish rewriting http protocol
</I>&gt;<i> 2) fork t.web to a new dir
</I>&gt;<i> 3) Remove crap: woven, monitor, html, dom*, google, trp, widgets, wmvc, 
</I>&gt;<i> ...
</I>&gt;<i> 4) Merge nevow's appserver, request, static, dirlist, ... change back, 
</I>&gt;<i> and modify for the new http API.
</I>&gt;<i> 5) ??
</I>&gt;<i> 
</I>&gt;<i> As I'm not the only person interested (yay!), someone else could be 
</I>&gt;<i> working on 2-4 while I'm getting 1 to a good enough state that &quot;modify 
</I>&gt;<i> to new API&quot; part can happen.
</I>
I guess that's me!

I assume protocols.http's refactored state will remain in the core
twisted?  It would seem silly not to, and it also seems silly to do
major refactorying without having someone prepared to port twisted-web
to the new api.  So I'm volunteering, but I might need a lot of help
along the way.

&gt;<i> &gt; * Failing.
</I>&gt;<i> &gt; 	I don't want to fork the code, I want to officially split twisted.web
</I>&gt;<i> &gt; from core twisted and refactor it to support the above goals.  I need 
</I>&gt;<i> &gt; to
</I>&gt;<i> &gt; know this is what people want to happen, and I need input to make sure
</I>&gt;<i> &gt; it's done Reasonably Right (TM)
</I>&gt;<i> 
</I>&gt;<i> I think this is what people want to do. We *will* need to fork for a 
</I>&gt;<i> while, until a proper mostly-stable release happens, but it shouldn't 
</I>&gt;<i> need to be forever. Deprecating twisted.web before a replacement has 
</I>&gt;<i> happened isn't really possible.
</I>
Of course not, I didn't intend to imply that it was, a code fork in the
technical sense is necessary, I did not want to fork the project in a
political sense.

--David


</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000324.html">[Twisted-web] Splitting twisted-web from core twisted.
</A></li>
	<LI>Next message: <A HREF="000329.html">[Twisted-web] Splitting twisted-web from core twisted.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#325">[ date ]</a>
              <a href="thread.html#325">[ thread ]</a>
              <a href="subject.html#325">[ subject ]</a>
              <a href="author.html#325">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
