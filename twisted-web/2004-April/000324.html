<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Splitting twisted-web from core twisted.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Splitting%20twisted-web%20from%20core%20twisted.&In-Reply-To=1082026063.1236.68.camel%40localhost">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000328.html">
   <LINK REL="Next"  HREF="000325.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Splitting twisted-web from core twisted.</H1>
    <B>James Y Knight</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Splitting%20twisted-web%20from%20core%20twisted.&In-Reply-To=1082026063.1236.68.camel%40localhost"
       TITLE="[Twisted-web] Splitting twisted-web from core twisted.">foom at fuhm.net
       </A><BR>
    <I>Thu Apr 15 12:29:44 MDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000328.html">[Twisted-web] Splitting twisted-web from core twisted.
</A></li>
        <LI>Next message: <A HREF="000325.html">[Twisted-web] Splitting twisted-web from core twisted.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#324">[ date ]</a>
              <a href="thread.html#324">[ thread ]</a>
              <a href="subject.html#324">[ subject ]</a>
              <a href="author.html#324">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Apr 15, 2004, at 6:47 AM, David Reid wrote:
&gt;<i> Goals of a split:
</I>&gt;<i> * Use new APIs.
</I>&gt;<i> 	This is as good a chance as any to get rid of all those
</I>&gt;<i> DeprecationWarnings we get when starting a twisted.web server.
</I>
I'm currently working on rewriting protocols.http. The goal is to 
actually be RFC compliant, with enough builtin functionality to make 
writing a server, client, and proxy on top of it fairly easy. I don't 
plan on keeping API compatibility, although there's some chance a 
wrapper implementing the old API could be made.

&gt;<i> * Implement things like distrib and vhosts at a lower level.
</I>&gt;<i> 	Currently distrib and vhosts need to be reimplemented or atleast
</I>&gt;<i> violently shoehorned into working with Nevow.  This will likely be the
</I>&gt;<i> same with any future alternatives to Nevow.  I'll get into specifics
</I>&gt;<i> about distrib and vhosts later.
</I>
Agreed. I think web should *not* be serializing Request objects at all. 
Distrib is essentially just a non-caching proxy and could be 
implemented more like one. (E.g. use a custom HTTPChannel that talks 
over PB and doesn't require multiple sockets, but otherwise has just 
normal HTTP string data being sent back and forth). This would have the 
advantage of decoupling the distrib'd servers from any changes.

&gt;<i> * Simplify the twisted.web, don't make it do anything clever.
</I>&gt;<i> 	The clever stuff should be left up to nevow and perhaps kept a 
</I>&gt;<i> seperate
</I>&gt;<i> module.  Also given fzZzy's history it seems very likely that 
</I>&gt;<i> eventually
</I>&gt;<i> he will come up with something even better than Nevow, and it would 
</I>&gt;<i> just
</I>&gt;<i> be a waste to have to rewrite twisted.web (again) to support it. ;)
</I>
Sure, nevow (the templating part only) can be in a separate module 
(newtwistedweb.nevow, say), but I'm not sure it's good to separate them 
completely.

What I think needs to happen:
1) finish rewriting http protocol
2) fork t.web to a new dir
3) Remove crap: woven, monitor, html, dom*, google, trp, widgets, wmvc, 
...
4) Merge nevow's appserver, request, static, dirlist, ... change back, 
and modify for the new http API.
5) ??

As I'm not the only person interested (yay!), someone else could be 
working on 2-4 while I'm getting 1 to a good enough state that &quot;modify 
to new API&quot; part can happen.

&gt;<i> * Failing.
</I>&gt;<i> 	I don't want to fork the code, I want to officially split twisted.web
</I>&gt;<i> from core twisted and refactor it to support the above goals.  I need 
</I>&gt;<i> to
</I>&gt;<i> know this is what people want to happen, and I need input to make sure
</I>&gt;<i> it's done Reasonably Right (TM)
</I>
I think this is what people want to do. We *will* need to fork for a 
while, until a proper mostly-stable release happens, but it shouldn't 
need to be forever. Deprecating twisted.web before a replacement has 
happened isn't really possible.

James


</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000328.html">[Twisted-web] Splitting twisted-web from core twisted.
</A></li>
	<LI>Next message: <A HREF="000325.html">[Twisted-web] Splitting twisted-web from core twisted.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#324">[ date ]</a>
              <a href="thread.html#324">[ thread ]</a>
              <a href="subject.html#324">[ subject ]</a>
              <a href="author.html#324">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
