<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Re: session, quick one
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Re%3A%20session%2C%20quick%20one&In-Reply-To=opr6xchzug3lm9gq%40mail.geekmail.cc">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000401.html">
   <LINK REL="Next"  HREF="000404.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Re: session, quick one</H1>
    <B>Donovan Preston</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Re%3A%20session%2C%20quick%20one&In-Reply-To=opr6xchzug3lm9gq%40mail.geekmail.cc"
       TITLE="[Twisted-web] Re: session, quick one">dp at ulaluma.com
       </A><BR>
    <I>Fri Apr 23 18:19:58 MDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000401.html">[Twisted-web] Re: session, quick one
</A></li>
        <LI>Next message: <A HREF="000404.html">[Twisted-web] Re: session, quick one
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#403">[ date ]</a>
              <a href="thread.html#403">[ thread ]</a>
              <a href="subject.html#403">[ subject ]</a>
              <a href="author.html#403">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Apr 23, 2004, at 3:31 PM, noema wrote:

&gt;<i> ...I should have said that in the first place: I am trying to set the 
</I>&gt;<i> lifetime of my session but I am not using nevow. Here is the code I 
</I>&gt;<i> use to retrieve the session. It works fine but the session times out 
</I>&gt;<i> every 20min or so:
</I>
First of all, for old twisted.web code, just use request.getSession(). 
This does what you appear to have recreated yourself in the code you 
pasted, and what you seem to be asking for in the method name 
request.getCurrentOrNewSession (That's what request.getSession already 
does).

Unfortunately, it doesn't have your proposed lifetime=7200 argument, 
and the lifetime is totally hardcoded into the session. I recommend 
reading twisted.web.server.Request.getSession and 
twisted.web.server.Session; it's not that much code. If you notice, 
Session.checkExpired checks whether to expire the session every 15 
minutes. You might want to create your own code which touches the 
session every 10 minutes or so (by calling touch()) and expires it when 
you like (by calling expire()).

We'll keep this in mind for the upcoming twisted.web cleanup and 
refactoring.

dp


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000401.html">[Twisted-web] Re: session, quick one
</A></li>
	<LI>Next message: <A HREF="000404.html">[Twisted-web] Re: session, quick one
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#403">[ date ]</a>
              <a href="thread.html#403">[ thread ]</a>
              <a href="subject.html#403">[ subject ]</a>
              <a href="author.html#403">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
