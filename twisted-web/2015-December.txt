From hawkowl at atleastfornow.net  Mon Dec  7 06:06:41 2015
From: hawkowl at atleastfornow.net (Amber "Hawkie" Brown)
Date: Mon, 7 Dec 2015 21:06:41 +0800
Subject: [Twisted-web] Twisted 15.4 was the last release to support Python
	2.6; or: a HawkOwl Can't Words Situation
Message-ID: <A99237EA-2D90-41F8-8895-B436FA880456@atleastfornow.net>

Hi everyone!

It's been brought to my attention that I misworded something in the release notes and it slipped through the cracks. In the NEWS I said:

> This is the last Twisted release where Python 2.6 is supported, on any platform.

However, I meant that this is the first Twisted release to drop 2.6 support wholesale, preventing import on this platform. Twisted 15.4 will still operate, so if you have Python 2.6 deployment requirements, bracket the maximum to 15.4 on that platform by using an if statement in your setup.py, and `Twisted >=*minreq*,<=15.4; python_version < '2.7'` under requires_dist in your setup.cfg, where minreq is the minimum required Twisted.

Sorry for the inconvenience!

- Amber "HawkOwl" Brown
Twisted Release Manager
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 455 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: <http://twistedmatrix.com/pipermail/twisted-web/attachments/20151207/63a3179c/attachment.pgp>

From mithrandi at mithrandi.net  Wed Dec 16 10:21:19 2015
From: mithrandi at mithrandi.net (Tristan Seligmann)
Date: Wed, 16 Dec 2015 17:21:19 +0000
Subject: [Twisted-web] Nevow 0.12.0
Message-ID: <CAMcKhMT_-uc3t7VLOUUT21vH_7R6kTMoUcj=WAfy-AJZ3Nd-dQ@mail.gmail.com>

Hi all,

I've just released Nevow 0.12.0[1]; this release will primarily be of
interest to Athena users, as the Athena runtime system now handles Internet
Explorer versions newer than IE7 (a long overdue fix).

I would greatly appreciate it if any Athena users could give this version a
try, and either report any problems encountered, or report that your
application is working successfully. The changes to the runtime system are
fairly extensive, and it is possible that some application-level breakage
may result. Originally this was going to be an rc1 version, but it turns
out that a lot of the version handling code can't tolerate rc versions, so
instead I'll just promise to follow up with a 0.12.1 very quickly if it
proves to be necessary.

There are a few other fixes included, see the changelog[2] for more details.

[1] https://pypi.python.org/pypi/Nevow/0.12.0

[2] https://github.com/twisted/nevow/blob/nevow-0.12.0/NEWS.txt#L1-L17
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-web/attachments/20151216/3cf7bb1c/attachment.html>

From glyph at twistedmatrix.com  Thu Dec 17 04:38:42 2015
From: glyph at twistedmatrix.com (Glyph Lefkowitz)
Date: Thu, 17 Dec 2015 03:38:42 -0800
Subject: [Twisted-web] Nevow 0.12.0
In-Reply-To: <CAMcKhMT_-uc3t7VLOUUT21vH_7R6kTMoUcj=WAfy-AJZ3Nd-dQ@mail.gmail.com>
References: <CAMcKhMT_-uc3t7VLOUUT21vH_7R6kTMoUcj=WAfy-AJZ3Nd-dQ@mail.gmail.com>
Message-ID: <013B5FB6-7633-49EF-84AC-F3AA272F36B9@twistedmatrix.com>


> On Dec 16, 2015, at 9:21 AM, Tristan Seligmann <mithrandi at mithrandi.net> wrote:
> 
> Hi all,
> 
> I've just released Nevow 0.12.0[1]; this release will primarily be of interest to Athena users, as the Athena runtime system now handles Internet Explorer versions newer than IE7 (a long overdue fix).

Woohoo!  Sadly I don't have any Nevow sites in production these days, but it's really nice to see that it's still receiving maintenance.

> I would greatly appreciate it if any Athena users could give this version a try, and either report any problems encountered, or report that your application is working successfully. The changes to the runtime system are fairly extensive, and it is possible that some application-level breakage may result. Originally this was going to be an rc1 version, but it turns out that a lot of the version handling code can't tolerate rc versions, so instead I'll just promise to follow up with a 0.12.1 very quickly if it proves to be necessary.
> 
> There are a few other fixes included, see the changelog[2] for more details.
> 
> [1] https://pypi.python.org/pypi/Nevow/0.12.0 <https://pypi.python.org/pypi/Nevow/0.12.0>
> 
> [2] https://github.com/twisted/nevow/blob/nevow-0.12.0/NEWS.txt#L1-L17 <https://github.com/twisted/nevow/blob/nevow-0.12.0/NEWS.txt#L1-L17>
> _______________________________________________
> Twisted-web mailing list
> Twisted-web at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-web/attachments/20151217/6b7cfab6/attachment.html>

From hawkowl at atleastfornow.net  Mon Dec 21 23:27:23 2015
From: hawkowl at atleastfornow.net (Amber "Hawkie" Brown)
Date: Tue, 22 Dec 2015 14:27:23 +0800
Subject: [Twisted-web] [BACKWARDS INCOMPATIBLE] Moving Twisted to PEP-3333
Message-ID: <39E4584B-03DD-4042-9393-E5445C9F6E70@atleastfornow.net>

Hi everyone!

We've been attempting to port twisted.web.wsgi to Python 3, as of recent. The existence of PEP-3333 makes this easier, but due to our backwards compatibility policy, implementing stricter checks to make sure t.w.wsgi-using applications are actually PEP-3333 may be a change which cannot be easily done.

The patch we have currently, which is based on work by jMyles (of Hendrix), tirelessly worked on allennap (of Canonical MAAS), and sheparded along by the wonderful Adi (our other Twisted Fellow), is in very good shape, bringing Twisted's WSGI support to be compliant with PEP-3333. PEP-3333 is much stricter on bytes/Unicode, and the patch introduces some further type checking that the original PEP-333 describes as a must, even though we did not check this before.

This branch cannot currently be merged because of backwards compatibility issues -- the spirit of our Compatibility Policy is that 'apps keep working', and sufficiently Unicode unclean WSGI applications may break due to it, even though PEP-333 is very explicit in saying that "HTTP does not directly support Unicode, and neither does this interface".

So, I am looking to get a compat exception for this -- WSGI is very explicit in its types, and any misbehaving applications are violating the specification grossly enough for there to possibly not need a compat exception -- but going through this way may catch the attention of anyone with a potentially misbehaving application and fix it before Twisted 16.0, when I expect this will be merged.

The ticket is https://twistedmatrix.com/trac/ticket/7993, and the branch you should test against is linked at the top. The compatibility policy will allow a week before we move to merge the ticket, although we may have some changes to the branch to make warnings turn into errors, if we are breaking backwards compat, so please ensure no exceptions *or warnings* are produced by your code.

Thanks,

- Amber
Twisted Fellow, RM, Python 3 Overlord
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 455 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: <http://twistedmatrix.com/pipermail/twisted-web/attachments/20151222/e631024e/attachment.pgp>

From hawkowl at atleastfornow.net  Tue Dec 22 07:29:12 2015
From: hawkowl at atleastfornow.net (Amber "Hawkie" Brown)
Date: Tue, 22 Dec 2015 22:29:12 +0800
Subject: [Twisted-web] [(maybe) BACKWARDS INCOMPATIBLE] Moving Twisted to
	PEP-3333
In-Reply-To: <39E4584B-03DD-4042-9393-E5445C9F6E70@atleastfornow.net>
References: <39E4584B-03DD-4042-9393-E5445C9F6E70@atleastfornow.net>
Message-ID: <47B3B6E4-BC91-4701-836F-2B8337649CA0@atleastfornow.net>


> On 22 Dec 2015, at 14:27, Amber Hawkie Brown <hawkowl at atleastfornow.net> wrote:
> 
> Hi everyone!
> 
> We've been attempting to port twisted.web.wsgi to Python 3, as of recent. The existence of PEP-3333 makes this easier, but due to our backwards compatibility policy, implementing stricter checks to make sure t.w.wsgi-using applications are actually PEP-3333 may be a change which cannot be easily done.
> 
> The patch we have currently, which is based on work by jMyles (of Hendrix), tirelessly worked on allennap (of Canonical MAAS), and sheparded along by the wonderful Adi (our other Twisted Fellow), is in very good shape, bringing Twisted's WSGI support to be compliant with PEP-3333. PEP-3333 is much stricter on bytes/Unicode, and the patch introduces some further type checking that the original PEP-333 describes as a must, even though we did not check this before.
> 
> This branch cannot currently be merged because of backwards compatibility issues -- the spirit of our Compatibility Policy is that 'apps keep working', and sufficiently Unicode unclean WSGI applications may break due to it, even though PEP-333 is very explicit in saying that "HTTP does not directly support Unicode, and neither does this interface".
> 
> So, I am looking to get a compat exception for this -- WSGI is very explicit in its types, and any misbehaving applications are violating the specification grossly enough for there to possibly not need a compat exception -- but going through this way may catch the attention of anyone with a potentially misbehaving application and fix it before Twisted 16.0, when I expect this will be merged.
> 
> The ticket is https://twistedmatrix.com/trac/ticket/7993, and the branch you should test against is linked at the top. The compatibility policy will allow a week before we move to merge the ticket, although we may have some changes to the branch to make warnings turn into errors, if we are breaking backwards compat, so please ensure no exceptions *or warnings* are produced by your code.
> 
> Thanks,
> 
> - Amber
> Twisted Fellow, RM, Python 3 Overlord
> _______________________________________________
> Twisted-web mailing list
> Twisted-web at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web

Hi everyone!

So, with further looking with Tom Prince, it appears that my backwards compat fears in regards to Unicode were from my older remembering of the branch, allenap and Adi have made it so that it raises a warning on Python 2 if you're not Unicode/bytes clean, as well as introducing hard-checks on Python 3, where it is reasonable to do so.

So, this should mean that all your Python 2 WSGI apps should keep working, even if they're not Unicode clean, but I am still wanting to go through the exception process to give users of Twisted's WSGI support a chance to raise any problems that they may have with the PEP-3333-compatible code, as unlikely as they are to be.

I'd like to say thanks again to allenap and Adi's herculean efforts on this branch :)

- Amber

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 455 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: <http://twistedmatrix.com/pipermail/twisted-web/attachments/20151222/a4784479/attachment.pgp>

