<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Large file uploads
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Large%20file%20uploads&In-Reply-To=20100716153318.1722.1325748314.divmod.xquotient.9%40localhost.localdomain">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004503.html">
   <LINK REL="Next"  HREF="004510.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Large file uploads</H1>
    <B>Julian Pietron</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Large%20file%20uploads&In-Reply-To=20100716153318.1722.1325748314.divmod.xquotient.9%40localhost.localdomain"
       TITLE="[Twisted-web] Large file uploads">julian at whisper-net.de
       </A><BR>
    <I>Fri Jul 23 16:34:21 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="004503.html">[Twisted-web] Large file uploads
</A></li>
        <LI>Next message: <A HREF="004510.html">[Twisted-web] Large file uploads
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4509">[ date ]</a>
              <a href="thread.html#4509">[ thread ]</a>
              <a href="subject.html#4509">[ subject ]</a>
              <a href="author.html#4509">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Am 16.07.2010 17:33, schrieb <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">exarkun at twistedmatrix.com</A>:
&gt;<i> 
</I>&gt;<i> You can override `Request.gotLength` to inspect the request and select 
</I>&gt;<i> an appropriate destination for the request body.
</I>&gt;<i> 
</I>&gt;<i> You can convince Site to use your custom request by setting it as the 
</I>&gt;<i> `requestFactory` attribute.
</I>&gt;<i> 
</I>&gt;<i> Jean-Paul
</I>&gt;<i> 
</I>
Hi,

thanks for your reply. In meantime I tried cherrypy, which does its job
very good but has some flaws compared to my twisted applications when it
comes to performance and resource usage. So I'm still interested in
solving my problem by using twisted.
The problem is as follows: The file which shall be uploaded is sent via
a HTML form (encoded as multipart/form-data), and I'd like to use
Python's FieldStorage to parse the request body because it handles the
file matters very well. You can tell cherrypy, that for a certain
request uri cherrypy should not parse the request body but instead pass
it on unparsed to the handler method.
Is there a simple way of configuring twisted.web in this way to?
So that e.g. if request uri /do-upload-form is issued, twisted.web does
not try to parse the request body on its own and generate the args dict
to pass on to the render_POST method, but instead uses FieldStorage (or
better: my own subclass of FieldStorage, which employs a NamedTempFile
instead of an anonymous tempfile, which allows me to simply rename it
after it has passed some sanity checks) for parsing the body?

Thanks for your reply,
Julian
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.15 (GNU/Linux)
Comment: Using GnuPG with Mozilla - <A HREF="http://enigmail.mozdev.org/">http://enigmail.mozdev.org/</A>

iQIcBAEBAgAGBQJMSfzNAAoJENidYKvYQHlQNvwQAMdZLl6S2hXgGyMDYEezILEB
xSQgaZ0ZcvWbuoAt4wwwYwzWHT778VaYfsnn5IJnpumluylu2KiMj1TDJpumOo7I
WvSVpBVojrr1akXx8QLNOYCtFVLteRWOahKYG6P2OQlf5moJm/E4PfAKwVn4Ogba
TgJ3joujIYyZy/WX5n+TBHWweT1dthr7a1nDsJJzMhTuqW7X3O9lw+ewC83n320L
3V4rO0rgBF84ltCjiiOK10lR5F2VjjkS975Y1N6CEYhtl0NORbWmKIummb5bpnjT
uSqvwCb0WOXhzvPPHs+MDXDCxkW83TmFOHtCsFnWtS9FXmTUuMi1eNZX8PyshT9D
2t8lvdFFZFwvsgR0BATt+jI3nJzcz06Xo1OrYUr2G91UI8ITsFRcP4EdawKFAfap
CInUvB7bZMDe19j+cRlGGRBEiLFaLMG6KUoaCFkHWVleMmgKPuEtq4Iz9QTNRNq1
HMZDFhmYIJGa8sSbijI6+UqrCqY70VcMQNScm0D3nUlLlXEoYM+myY2VC89NLWfx
8IN44CzLBI2KO9J8B2m/dk8rMRUvYRKP+Wll3OyOEdQvCh7pJh3auIn8nY3P14Az
5E3LvXxOJP4NCHIW8rImy/3Fpfl4dOANF7QuXdeXBp8XOnkG5qX69cqX6T2Cemtq
9qCEF/ddp3yoiNr4Kwng
=EPhL
-----END PGP SIGNATURE-----

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004503.html">[Twisted-web] Large file uploads
</A></li>
	<LI>Next message: <A HREF="004510.html">[Twisted-web] Large file uploads
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4509">[ date ]</a>
              <a href="thread.html#4509">[ thread ]</a>
              <a href="subject.html#4509">[ subject ]</a>
              <a href="author.html#4509">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
