<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] t.w.client.downloadPage with large amount	of	postData
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20t.w.client.downloadPage%20with%20large%20amount%0A%09of%09postData&In-Reply-To=1286304315.15085.21.camel%40areti">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004542.html">
   <LINK REL="Next"  HREF="004546.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] t.w.client.downloadPage with large amount	of	postData</H1>
    <B>exarkun at twistedmatrix.com</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20t.w.client.downloadPage%20with%20large%20amount%0A%09of%09postData&In-Reply-To=1286304315.15085.21.camel%40areti"
       TITLE="[Twisted-web] t.w.client.downloadPage with large amount	of	postData">exarkun at twistedmatrix.com
       </A><BR>
    <I>Fri Oct  8 09:23:20 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="004542.html">[Twisted-web] t.w.client.downloadPage with large amount of postData
</A></li>
        <LI>Next message: <A HREF="004546.html">[Twisted-web] [SOLVED] Re: t.w.client.downloadPage with large amount of	postData
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4544">[ date ]</a>
              <a href="thread.html#4544">[ thread ]</a>
              <a href="subject.html#4544">[ subject ]</a>
              <a href="author.html#4544">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 5 Oct, 06:45 pm, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">seadog at sealabs.net</A> wrote:
&gt;<i>Hello everyone,
</I>&gt;<i>I'm writing a client that is using t.w.client.downloadPage function to
</I>&gt;<i>download a large chunk of data into a file from a webserver. This is
</I>&gt;<i>working fine.
</I>&gt;<i>
</I>&gt;<i>Now I want use the same function (or at least take advantage of the
</I>&gt;<i>&quot;save to file&quot; functionality) and be able to send along with my request
</I>&gt;<i>a large chunk of data, without storing that chunk into memory.
</I>&gt;<i>
</I>&gt;<i>To clarify my need here is an example
</I>&gt;<i>
</I>&gt;<i>(1) client -&gt; POST &lt;large data file&gt; -&gt; server
</I>&gt;<i>(2) server computes
</I>&gt;<i>(3) server -&gt; &lt;REPLY with large data file&gt; -&gt; client
</I>&gt;<i>
</I>&gt;<i>the (3) step is done in a memory efficient way using
</I>&gt;<i>t.w.c.downloadPage(). Right now I execute the (1) step using the
</I>&gt;<i>&quot;postData&quot; argument of t.w.c.downloadPage after loading all data into
</I>&gt;<i>memory.
</I>&gt;<i>
</I>&gt;<i>Is there a way I can avoid loading all data into memory?
</I>
Twisted 9.0 introduced twisted.web.client.Agent which is intended to 
eventually replace getPage, downloadPage, and all the other stuff in the 
twisted.web.client module.

If you're lucky, then Agent already supports all the features you're 
interested in, depending on Twisted 9.0 is okay for you, and you can 
switch to using it right away.  There are some helpers still missing, so 
you'll find it a little clunkier to use than downloadPage, but it will 
let you send your upload without loading it all into memory.

Otherwise, you might have to move to using HTTPClientFactory or 
HTTPDownloader directly (the factories used by getPage and downloadPage) 
in order to feed it data incrementally.  Avoid this if you can, those 
two factories are a mess.

Jean-Paul

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004542.html">[Twisted-web] t.w.client.downloadPage with large amount of postData
</A></li>
	<LI>Next message: <A HREF="004546.html">[Twisted-web] [SOLVED] Re: t.w.client.downloadPage with large amount of	postData
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4544">[ date ]</a>
              <a href="thread.html#4544">[ thread ]</a>
              <a href="subject.html#4544">[ subject ]</a>
              <a href="author.html#4544">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
