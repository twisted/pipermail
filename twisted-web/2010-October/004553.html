<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Adding service to virtual path
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Adding%20service%20to%20virtual%20path&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004559.html">
   <LINK REL="Next"  HREF="004554.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Adding service to virtual path</H1>
    <B>Eric Chamberlain</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Adding%20service%20to%20virtual%20path&In-Reply-To="
       TITLE="[Twisted-web] Adding service to virtual path">Eric.Chamberlain at zonarsystems.com
       </A><BR>
    <I>Thu Oct 21 16:17:36 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="004559.html">[Twisted-web] How to handle interrupted responses in nevow?
</A></li>
        <LI>Next message: <A HREF="004554.html">[Twisted-web] Adding service to virtual path
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4553">[ date ]</a>
              <a href="thread.html#4553">[ thread ]</a>
              <a href="subject.html#4553">[ subject ]</a>
              <a href="author.html#4553">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm trying to add a single service to a virtual path like <A HREF="http://localhost:8080/geospatial/geocoder/XMLRPC.">http://localhost:8080/geospatial/geocoder/XMLRPC.</A>

Version info:
Twisted: 9.0
Python: 2.6

The following code does not work:

root = resource.Resource()
srv = XMLRPCGeocoder()
root.putChild(&quot;geospatial/geocoder/XMLRPC&quot;, srv)

When I attempt to access the service, twisted gives the following error:
Request failed: &lt;ProtocolError for localhost:8080/geospatial/geocoder/XMLRPC: 404 Not Found&gt;

If I use the following code, and change the client to point only to localhost:8080/XMLRPC, it _does_ work:

root.putChild(&quot;XMLRPC&quot;, srv)

The docs say something about using putChild.putChild... so I tried the following:

root.putChild(&quot;geospatial&quot;, None).putChild(&quot;geocoder&quot;, None).putChild(&quot;XMLRPC&quot;, srv)

The problem is Resource.putChild _always_ returns None!  Even the following, which is the working version:
print root.putChild(&quot;XMLRPC&quot;, srv) # Prints None too

Looking at twisted.web.resource.Resource's source code, all it does is add the path to a hash array and returns nothing...

It seems like such a simple thing to do!  Thanks for your help!



________________________________
Confidentiality Notice: This e-mail may contain proprietary information some of which may be legally privileged. It is for the intended recipient(s) only. If you believe that it has been sent to you in error, please notify the sender by reply e-mail and delete the message. Any disclosure, copying, distribution or use of this information by someone other than the intended recipient(s) is prohibited and may be unlawful.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-web/attachments/20101021/1ac8e4dd/attachment.htm">http://twistedmatrix.com/pipermail/twisted-web/attachments/20101021/1ac8e4dd/attachment.htm</A> 
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004559.html">[Twisted-web] How to handle interrupted responses in nevow?
</A></li>
	<LI>Next message: <A HREF="004554.html">[Twisted-web] Adding service to virtual path
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4553">[ date ]</a>
              <a href="thread.html#4553">[ thread ]</a>
              <a href="subject.html#4553">[ subject ]</a>
              <a href="author.html#4553">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
