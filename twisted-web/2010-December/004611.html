<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] render_GET and memory consumption
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20render_GET%20and%20memory%20consumption&In-Reply-To=20101221192420.5919.613974464.divmod.xquotient.214%40localhost.localdomain">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004610.html">
   <LINK REL="Next"  HREF="004614.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] render_GET and memory consumption</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20render_GET%20and%20memory%20consumption&In-Reply-To=20101221192420.5919.613974464.divmod.xquotient.214%40localhost.localdomain"
       TITLE="[Twisted-web] render_GET and memory consumption">glyph at twistedmatrix.com
       </A><BR>
    <I>Wed Dec 22 01:51:04 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="004610.html">[Twisted-web] render_GET and memory consumption
</A></li>
        <LI>Next message: <A HREF="004614.html">[Twisted-web] render_GET and memory consumption
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4611">[ date ]</a>
              <a href="thread.html#4611">[ thread ]</a>
              <a href="subject.html#4611">[ subject ]</a>
              <a href="author.html#4611">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Dec 21, 2010, at 2:24 PM, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">exarkun at twistedmatrix.com</A> wrote:

&gt;<i> Instead, you have to go all the way to producers/consumers, and only write more data to the transport buffer when it has finished dealing with what you previously gave it.
</I>
While everybody should of course use producers and consumers, I feel like there should be a twisted core ticket for this behavior of transport buffering, and a twisted web ticket for this behavior of the request buffering.  The naive implementation _could_ be much cheaper memory-wise; at the very least, twisted.web.static.Data ought to do the smart thing.

Would there be some deleterious effect to another usage pattern to fixing this?  AFAIK there's no network in the world where you'll ever _actually_ be able to send more than about 64k in one send() anyway, and Twisted doesn't even try to do more than 128k (c.f. twisted.internet.abstract.FileDescriptor).
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-web/attachments/20101222/31b4ca2a/attachment.htm">http://twistedmatrix.com/pipermail/twisted-web/attachments/20101222/31b4ca2a/attachment.htm</A> 
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004610.html">[Twisted-web] render_GET and memory consumption
</A></li>
	<LI>Next message: <A HREF="004614.html">[Twisted-web] render_GET and memory consumption
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4611">[ date ]</a>
              <a href="thread.html#4611">[ thread ]</a>
              <a href="subject.html#4611">[ subject ]</a>
              <a href="author.html#4611">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
