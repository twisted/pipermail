<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] nevow.wolf
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20nevow.wolf&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000862.html">
   <LINK REL="Next"  HREF="000864.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] nevow.wolf</H1>
    <B>Peter Hunt</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20nevow.wolf&In-Reply-To="
       TITLE="[Twisted-web] nevow.wolf">floydophone at gmail.com
       </A><BR>
    <I>Thu Nov 18 07:50:43 MST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000862.html">[Twisted-web] _nevow_carryover_
</A></li>
        <LI>Next message: <A HREF="000864.html">[Twisted-web] getting started with nevow 
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#863">[ date ]</a>
              <a href="thread.html#863">[ thread ]</a>
              <a href="subject.html#863">[ subject ]</a>
              <a href="author.html#863">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi everyone,

I've been discussing this with a few people on #twisted.web, and after
reviewing the code, I've decided it's time to show it off to a larger
audience. I've committed a new package called wolf (flow backwards).
It's available at <A HREF="http://www.divmod.org/svn/Nevow/sandbox/phunt/wolf/.">http://www.divmod.org/svn/Nevow/sandbox/phunt/wolf/.</A>
Download that and drop it into your site-packages.

Essentially, it lets you write web applications in a linear style
instead of writing a bunch of ugly FSMs. For example, let's say you
wanted to write a user registration system...

from nevow import wolf

# assume RegisterPage, ProfilePage, and SuccessPage are nevow Pages
# RegisterPage asks for username and desired password
# ProfilePage asks for name and age
# SuccessPage is success

regpage = wolf.callable_page(RegisterPage) # simplifies usage within wolf
profpage = wolf.callable_page(ProfilePage)
successpage = wolf.callable_page(SuccessPage)

class Example(wolf.IndexedContainer):
    def _validate_reg(self, req):
        # TODO: make sure everything is ok with the form
        return True
    def _validate_prof(self, req):
        # todo
        return True
    def _regform(self, req):
        # underscore-prefixed methods cannot be called from outside
        while True
            yield regpage(req)
            if self._validate_reg(req):
                break
    def _profform(self, req):
        while True:
            yield profpage(req)
            if self._validate_prof(req):
                break
    def index(self, req):
        # this is the whole register routine
        yield self._regform(req)
        yield self._profform(req)
        yield successpage(req)
        
    
You can connect this to a Nevow site by using:

root.addChild(&quot;childname&quot;, wolf.WolfResource(Example))

Then, you can request it by going to:
<A HREF="http://host/childname/">http://host/childname/</A>
or
<A HREF="http://host/childname/index">http://host/childname/index</A>

Download the code, try it out. If you run Stackless, you get to use
the back button, otherwise you're stuck with not being able to go
back. There is an example.py file which is a fully working example of
a guess-the-number game.

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000862.html">[Twisted-web] _nevow_carryover_
</A></li>
	<LI>Next message: <A HREF="000864.html">[Twisted-web] getting started with nevow 
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#863">[ date ]</a>
              <a href="thread.html#863">[ thread ]</a>
              <a href="subject.html#863">[ subject ]</a>
              <a href="author.html#863">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
