<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] [PATCH] Are we ready for a Page.remember fix?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20%5BPATCH%5D%20Are%20we%20ready%20for%20a%20Page.remember%20fix%3F&In-Reply-To=20041122180009.GU4076%40perpetual.moxn.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000878.html">
   <LINK REL="Next"  HREF="000881.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] [PATCH] Are we ready for a Page.remember fix?</H1>
    <B>Matt Goodall</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20%5BPATCH%5D%20Are%20we%20ready%20for%20a%20Page.remember%20fix%3F&In-Reply-To=20041122180009.GU4076%40perpetual.moxn.net"
       TITLE="[Twisted-web] [PATCH] Are we ready for a Page.remember fix?">matt at pollenation.net
       </A><BR>
    <I>Tue Nov 23 04:37:40 MST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000878.html">[Twisted-web] [PATCH] Are we ready for a Page.remember fix?
</A></li>
        <LI>Next message: <A HREF="000881.html">[Twisted-web] [PATCH] Are we ready for a Page.remember fix?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#880">[ date ]</a>
              <a href="thread.html#880">[ thread ]</a>
              <a href="subject.html#880">[ subject ]</a>
              <a href="author.html#880">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> This was suggested a long time ago, and when I tried adding it, I broke
</I>&gt;<i> Quotient somewhat badly. From what I can tell, the problem in Quotient
</I>&gt;<i> which
</I>&gt;<i> prevented Page.remember from being changed has been fixed; I'd like to see
</I>&gt;<i> this patch added.
</I>&gt;<i>
</I>&gt;<i> Some have suggested a SiteContext as an alternative; however, I see these
</I>&gt;<i> two as addressing two different concerns. A SiteContext (as described in
</I>&gt;<i> Roundup &lt;<A HREF="http://divmod.org/users/roundup.twistd/nevow/issue137">http://divmod.org/users/roundup.twistd/nevow/issue137</A>&gt;) would be
</I>&gt;<i> good for remembering data that are universal to a specific NevowSite
</I>&gt;<i> instance. However, this is not my use case.
</I>
Yes, remembering on the site vs page have quite different uses.

&gt;<i>
</I>&gt;<i> In my case, I want my Realm to be able to remember objects that are
</I>&gt;<i> particular to a certain logged in user. The obvious example is an
</I>&gt;<i> ICurrentUser interface, which lets the resource hierarchy quickly
</I>&gt;<i> reference
</I>&gt;<i> what user (if any) is logged in. I'm sure I'll come up with other uses,
</I>&gt;<i> but
</I>&gt;<i> this is my current need. Doing this at the SiteContext level would (from
</I>&gt;<i> what I can tell) produce overlaps when more than one user is logged in.
</I>
This is a common usecase and definitely not something to remember in the
site's context.

I have implemented this using a resource wrapper but that is somewhat
complex for what it's actually doing.

&gt;<i>
</I>&gt;<i> So, are there any objections to Page.remember()? Even if it's not an
</I>&gt;<i> elegant
</I>&gt;<i> solution, it works for me, and it's generic enough that I think it's worth
</I>&gt;<i> keeping.
</I>
For some reason I've never liked Page.remember() even though I would
probably use it if it existed (and worked properly).

So, a reluctant +1 from me.

There's one problem with the patch - once the PageContext has been created
Page.remember() doesn't do anything. The Page *used* to have a context set
via a property but that's been gone for a while now. Any ideas how to fix
that?

Perhaps the solution is to change the method name to something more in
line with what it's doing, i.e. addToRemember, rememberLater, etc, and
update the docstring to explain.

Cheers, Matt

-- 
     __
    /  \__     Matt Goodall, Pollenation Internet Ltd
    \__/  \    w: <A HREF="http://www.pollenation.net">http://www.pollenation.net</A>
  __/  \__/    e: <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">matt at pollenation.net</A>
 /  \__/  \    t: +44 (0)113 2252500
 \__/  \__/
 /  \          Any views expressed are my own and do not necessarily
 \__/          reflect the views of my employer.


</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000878.html">[Twisted-web] [PATCH] Are we ready for a Page.remember fix?
</A></li>
	<LI>Next message: <A HREF="000881.html">[Twisted-web] [PATCH] Are we ready for a Page.remember fix?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#880">[ date ]</a>
              <a href="thread.html#880">[ thread ]</a>
              <a href="subject.html#880">[ subject ]</a>
              <a href="author.html#880">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
