<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Nevow: Authenticated site with &quot;remember me&quot; and
	vhosts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Nevow%3A%20Authenticated%20site%20with%20%22remember%20me%22%20and%0A%09vhosts&In-Reply-To=7E2ACDB2-2A90-11D9-82AC-000A95864FC4%40divmod.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000810.html">
   <LINK REL="Next"  HREF="000813.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Nevow: Authenticated site with &quot;remember me&quot; and
	vhosts</H1>
    <B>Matt Goodall</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Nevow%3A%20Authenticated%20site%20with%20%22remember%20me%22%20and%0A%09vhosts&In-Reply-To=7E2ACDB2-2A90-11D9-82AC-000A95864FC4%40divmod.org"
       TITLE="[Twisted-web] Nevow: Authenticated site with &quot;remember me&quot; and
	vhosts">matt at pollenation.net
       </A><BR>
    <I>Thu Nov  4 15:47:01 MST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000810.html">[Twisted-web] Nested Nevow templates
</A></li>
        <LI>Next message: <A HREF="000813.html">[Twisted-web] Nevow: Authenticated site with &quot;remember me&quot; and
	vhosts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#811">[ date ]</a>
              <a href="thread.html#811">[ thread ]</a>
              <a href="subject.html#811">[ subject ]</a>
              <a href="author.html#811">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, 2004-10-30 at 12:26 -0400, Donovan Preston wrote:
&gt;<i> On Oct 30, 2004, at 11:03 AM, Paul Moore wrote:
</I>[...]
&gt;<i> &gt; 2. I'd like to add a &quot;remember me&quot; checkbox, which if checked sets a
</I>&gt;<i> &gt;    cookie to remember the user's ID, so that they don't have to log
</I>&gt;<i> &gt;    in again for (say) 2 weeks. Much like gmail, or Yahoo, do. But I'm
</I>&gt;<i> &gt;    not too sure how I'd go about this. I'm not even sure where I'd
</I>&gt;<i> &gt;    *put* auto-login code: the page is too late (the guard has done
</I>&gt;<i> &gt;    its thing by then) but anything else seems to be too early (ie,
</I>&gt;<i> &gt;    not per-session, if you see what I mean). I suspect I need to
</I>&gt;<i> &gt;    subclass the Portal, or something, but I'm not sure...
</I>&gt;<i> 
</I>&gt;<i> I'm not sure guard is sufficiently flexible to allow this. Perhaps one 
</I>&gt;<i> of the guard replacements that is being worked on will help? mg, can 
</I>&gt;<i> you comment? Also, indigo, can you comment on the session system you 
</I>&gt;<i> wrote and/or perhaps turn it into an example or a module?
</I>
Hmm, I don't think there's any way of handling cookie logins right now
except maybe redirecting to the __login__ URL with the username and
password as query params. But yuck!

One of the problems with guard is that there is no API exposed. It might
be nice if guard remembered an IGuard interface for application code to
use. What that would look like and how it would behave is something I
have not considered.


&gt;<i> &gt; I've scanned the various examples, both in the distribution and in
</I>&gt;<i> &gt; the Nevow sandbox, but nothing seems to do what I want. Can anyone
</I>&gt;<i> &gt; give me some pointers?
</I>&gt;<i> 
</I>&gt;<i> Sorry I can't be of more help. Guard is one of nevow's weak spots, 
</I>&gt;<i> since I didn't write it and therefore don't understand it, because it 
</I>&gt;<i> is pretty horrifically complex.
</I>
Yes. I tried to understand the guard code and got lost so I ended up
rewriting it as a learning exercise with the intention of porting bits
back into nevow.guard.

My rewrite is *much* simpler. It's not as complete as nevow.guard
although it does work and has the distinct advantage that it does not
create a session until it's really needed.

Valentino (aka dialtone) recently started patching my version in an
attempt to bring it inline with the real guard. He's even started
calling it newguard ;-). I guess this is a case of &quot;watch this space&quot;.

Cheers, Matt

-- 
Matt Goodall &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">matt at pollenation.net</A>&gt;


</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000810.html">[Twisted-web] Nested Nevow templates
</A></li>
	<LI>Next message: <A HREF="000813.html">[Twisted-web] Nevow: Authenticated site with &quot;remember me&quot; and
	vhosts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#811">[ date ]</a>
              <a href="thread.html#811">[ thread ]</a>
              <a href="subject.html#811">[ subject ]</a>
              <a href="author.html#811">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
