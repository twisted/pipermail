<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] webform  success message?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20webform%20%20success%20message%3F&In-Reply-To=E1CU9mC-0005x0-00%40pyramid.twistedmatrix.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000856.html">
   <LINK REL="Next"  HREF="000859.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] webform  success message?</H1>
    <B>Cory Dodt</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20webform%20%20success%20message%3F&In-Reply-To=E1CU9mC-0005x0-00%40pyramid.twistedmatrix.com"
       TITLE="[Twisted-web] webform  success message?">corydodt at twistedmatrix.com
       </A><BR>
    <I>Tue Nov 16 14:31:56 MST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000856.html">[Twisted-web] webform  success message?
</A></li>
        <LI>Next message: <A HREF="000859.html">[Twisted-web] webform  success message?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#857">[ date ]</a>
              <a href="thread.html#857">[ thread ]</a>
              <a href="subject.html#857">[ subject ]</a>
              <a href="author.html#857">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>One approach to take is like this:
&lt;html&gt;
   &lt;body n:render=&quot;amICompleted&quot;&gt;
   &lt;div n:pattern=&quot;notCompleted&quot;&gt;
    ... the regular form ...
   &lt;/div&gt;
   &lt;div n:pattern=&quot;completed&quot;&gt;
    ... the success message ...
   &lt;/div&gt;
   &lt;/body&gt;
&lt;/html&gt;

and then do a ctx.onePattern('completed') or 'notCompleted' somewhere in
render_amICompleted.  You can determine whether or not it's completed by
examining IHand(ctx), which is the return value of your autocallable.

The html above will present either one or the other, either the form or the
success message.  You can easily adapt this so you get either the
form-without-completed-message or the form-with-completed-message, I'll leave
that as an exercise to you.  The key thing is knowing about IHand.

C


Alexander May wrote:
&gt;<i> When a form is submitted successfully using webform, is there a way to add a
</I>&gt;<i> success message to the re-rendered form output? 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-web mailing list
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">Twisted-web at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web</A>
</I>

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000856.html">[Twisted-web] webform  success message?
</A></li>
	<LI>Next message: <A HREF="000859.html">[Twisted-web] webform  success message?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#857">[ date ]</a>
              <a href="thread.html#857">[ thread ]</a>
              <a href="subject.html#857">[ subject ]</a>
              <a href="author.html#857">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
