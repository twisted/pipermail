<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] overriding resource getting with nevow+twisted
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20overriding%20resource%20getting%20with%20nevow%2Btwisted&In-Reply-To=E1CX0Mu-0005VD-00%40meejah.homeip.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000892.html">
   <LINK REL="Next"  HREF="000888.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] overriding resource getting with nevow+twisted</H1>
    <B>Donovan Preston</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20overriding%20resource%20getting%20with%20nevow%2Btwisted&In-Reply-To=E1CX0Mu-0005VD-00%40meejah.homeip.net"
       TITLE="[Twisted-web] overriding resource getting with nevow+twisted">dp at ulaluma.com
       </A><BR>
    <I>Wed Nov 24 14:42:40 MST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000892.html">[Twisted-web] overriding resource getting with nevow+twisted
</A></li>
        <LI>Next message: <A HREF="000888.html">[Twisted-web] overriding resource getting with nevow+twisted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#887">[ date ]</a>
              <a href="thread.html#887">[ thread ]</a>
              <a href="subject.html#887">[ subject ]</a>
              <a href="author.html#887">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Nov 24, 2004, at 8:51 AM, Mike Warren wrote:

&gt;<i>
</I>&gt;<i> Greetings,
</I>&gt;<i>
</I>&gt;<i> I want to invisibly remap URLs sometimes (&quot;invisibly&quot; to the client)
</I>&gt;<i> and return basically an arbitrary resource for a URL but can't figure
</I>&gt;<i> out how to do this within the getChild (etc.) machinery. My first
</I>&gt;<i> inclination was to override locateChild, since I get the context there
</I>&gt;<i> (and could, e.g., have an interface to get my remapped path). However,
</I>&gt;<i> this never appears to get called -- the only thing which gets called
</I>&gt;<i> on my root resource is getChildWithDefault, which is apparently being
</I>&gt;<i> driven by twisted.web.resource's module-level getChildWithDefault
</I>&gt;<i> which merely recurses the path looking for a leaf resource --
</I>&gt;<i> precisely what I want to prevent.
</I>&gt;<i>
</I>&gt;<i> I could of course just re-assign the module-level getChildWithDefault,
</I>&gt;<i> but this seems wrong, somehow -- is there a better way?
</I>&gt;<i>
</I>&gt;<i> (I am doing this because I want to implement aliases for some things
</I>&gt;<i> -- e.g. I have URLs like /article/&lt;ID&gt; and want those to sometimes
</I>&gt;<i> also be available at /some/other/url and I don't want clients to
</I>&gt;<i> simply be redirected to /article/&lt;ID&gt;, which is sort of what happens
</I>&gt;<i> if I just re-map the path in getPageContextForRequestContext)
</I>&gt;<i>
</I>&gt;<i> (Also, I may want to return different resources depending upon user
</I>&gt;<i> preferences, although I'm not working on that precisely at the
</I>&gt;<i> moment.)
</I>&gt;<i>
</I>&gt;<i> I haven't looked at web2 yet -- should I? (i.e. is this going to be
</I>&gt;<i> easier there?)
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>
You are incorrectly using twisted.web.server.Site instead of 
nevow.appserver.NevowSite. NevowSite is the basis of what will become 
web2, yes. web2 is not yet usable.

If you are using mktap web, don't. Please look at any of the examples 
in the examples directory to see how to start a server using NevowSite.

Your use cases are absolutely, exactly what locateChild is for, so you 
were on the right track -- just heading down the wrong path ;-)

dp


</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000892.html">[Twisted-web] overriding resource getting with nevow+twisted
</A></li>
	<LI>Next message: <A HREF="000888.html">[Twisted-web] overriding resource getting with nevow+twisted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#887">[ date ]</a>
              <a href="thread.html#887">[ thread ]</a>
              <a href="subject.html#887">[ subject ]</a>
              <a href="author.html#887">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
