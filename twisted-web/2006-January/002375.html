<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> twisted.web2.vhost and X-Forwarded-For (was Re: [Twisted-web]
	Cheetah+twisted.web2
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=twisted.web2.vhost%20and%20X-Forwarded-For%20%28was%20Re%3A%20%5BTwisted-web%5D%0A%09Cheetah%2Btwisted.web2&In-Reply-To=20060119212934.GN19010%40opteron.random">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002373.html">
   <LINK REL="Next"  HREF="002378.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>twisted.web2.vhost and X-Forwarded-For (was Re: [Twisted-web]
	Cheetah+twisted.web2</H1>
    <B>David Reid</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=twisted.web2.vhost%20and%20X-Forwarded-For%20%28was%20Re%3A%20%5BTwisted-web%5D%0A%09Cheetah%2Btwisted.web2&In-Reply-To=20060119212934.GN19010%40opteron.random"
       TITLE="twisted.web2.vhost and X-Forwarded-For (was Re: [Twisted-web]
	Cheetah+twisted.web2">dreid at dreid.org
       </A><BR>
    <I>Thu Jan 19 14:59:28 MST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="002373.html">[Twisted-web] Cheetah+twisted.web2
</A></li>
        <LI>Next message: <A HREF="002378.html">twisted.web2.vhost and X-Forwarded-For (was Re: [Twisted-web]
	Cheetah+twisted.web2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2375">[ date ]</a>
              <a href="thread.html#2375">[ thread ]</a>
              <a href="subject.html#2375">[ subject ]</a>
              <a href="author.html#2375">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Andrea Arcangeli wrote:
&gt;<i> On Thu, Jan 19, 2006 at 09:24:01AM -0800, David Reid wrote:
</I>&gt;&gt;<i> Judging from the way Request actually deals with .uri it should be _uri, 
</I>&gt;&gt;<i> I'll discuss this with foom and fix it later.
</I>&gt;<i> 
</I>&gt;<i> So you mean, it should be private? But then how can the vhost fixup the
</I>&gt;<i> uri if it's private?
</I>
well uri actually gets parsed out to all the things that VHostURIRewrite
 assigns to.  What is more likely to happen in the next few days is
request.uri will become a URI object and req.path, req.scheme, req.host,
req.port etc will all be provided instead by req.uri.scheme etc ...
This way assigning something to req.uri will make sense and actually
affect things.  Currently nothing important actually happens if you
assign to request.uri (because by the time we get to user code we've
already parsed out all the useful bits)

&gt;<i> There are large ISP that I assume log the stuff properly.
</I>
You know what they say about assumptions. :)

&gt;&gt;<i> I'm not sure if tacking a :port onto the X-Forwarded-For header will 
</I>&gt;&gt;<i> break other http servers.
</I>&gt;<i> 
</I>&gt;<i> I don't know. Should I use a x-forwarded-port instead?
</I>
probably X-Forwarded-For-Port or something.  I'm not sure, I was kinda
hoping someone else could give some input.

&gt;&gt;<i> Send me a patch (on or offlist) that changes chanRequest to _chanRequest[1]
</I>&gt;<i> 
</I>&gt;<i> What do you mean exactly with [1]? And why only one &quot;_&quot; I thought two __
</I>&gt;<i> were needed to make it private. Or you want it only as an hint?
</I>
[1] indicates a footnote, which could be found after my name (I probably
should have
put it before my name it was meant to indicate that you should read the
Twisted coding standards and that this document would explain why '_'
instead of '__'.

- -David
[
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.2 (GNU/Linux)
Comment: Using GnuPG with Mozilla - <A HREF="http://enigmail.mozdev.org">http://enigmail.mozdev.org</A>

iD8DBQFD0Au/rsrO6aeULcgRAsfeAJ90lg4B6HBQv37na70JHRzdywfouwCeI6aI
zeeixXNzOIf9T2GNNyag0X0=
=n/hp
-----END PGP SIGNATURE-----

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002373.html">[Twisted-web] Cheetah+twisted.web2
</A></li>
	<LI>Next message: <A HREF="002378.html">twisted.web2.vhost and X-Forwarded-For (was Re: [Twisted-web]
	Cheetah+twisted.web2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2375">[ date ]</a>
              <a href="thread.html#2375">[ thread ]</a>
              <a href="subject.html#2375">[ subject ]</a>
              <a href="author.html#2375">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
