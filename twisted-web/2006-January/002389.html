<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] web2 log patch
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20web2%20log%20patch&In-Reply-To=20060120183621.GE10354%40opteron.random">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002388.html">
   <LINK REL="Next"  HREF="002391.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] web2 log patch</H1>
    <B>glyph at divmod.com</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20web2%20log%20patch&In-Reply-To=20060120183621.GE10354%40opteron.random"
       TITLE="[Twisted-web] web2 log patch">glyph at divmod.com
       </A><BR>
    <I>Fri Jan 20 13:03:54 MST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="002388.html">[Twisted-web] web2 log patch
</A></li>
        <LI>Next message: <A HREF="002391.html">[Twisted-web] web2 log patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2389">[ date ]</a>
              <a href="thread.html#2389">[ thread ]</a>
              <a href="subject.html#2389">[ subject ]</a>
              <a href="author.html#2389">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

On Fri, 20 Jan 2006 19:36:21 +0100, Andrea Arcangeli &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">andrea at cpushare.com</A>&gt; wrote:
&gt;<i>On Thu, Jan 19, 2006 at 10:31:20PM -0500, Jean-Paul Calderone wrote:
</I>
&gt;&gt;<i> Andrea,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks for the patch.  Could you attach it to an issue at
</I>&gt;&gt;<i> &lt;<A HREF="http://twistedmatrix.com/bugs/">http://twistedmatrix.com/bugs/</A>&gt;?  Also, patches with unit tests are likely
</I>&gt;&gt;<i> to be applied more quickly than those without.
</I>&gt;<i>
</I>&gt;<i>My test suite is the CPUShare server code, I tested it.
</I>
James put this pretty well: if you fixed it this one time, how do we know that this won't just be reverted and broken again by some other patch?  We have tests for a reason.  We're not going to run CPUShare every time to make sure that it didn't break again.

&gt;<i>I hope I can be applied right away without special requirements
</I>
This is not a special requirement.  All patches are required to come with unit tests - JP's response is repeated so often, it was probably just some text he keeps in his clipboard whenever he is reading email.  You are asking for special consideration which, I might add, is more likely to be afforded to those who have a good track-record of writing tests and filing bugs.  You've contributed patches, but always free-form on the mailing list with little explanation and no tests - in some cases, that's more work to figure out than fixing the bug myself.

&gt;<i> Or at least I've not nearly the time to write testsuites
</I>&gt;<i>for such trivial fixes,
</I>
Maybe if you did, my kernel wouldn't crash once a week... :)

&gt;<i>nor to attach them somewhere with a web browser, sorry.
</I>
Yet, you spent *all this time* in your email client.  How is that easier?  This message contained 5x as much text as would have been required in the bug report, probably more than would have been in the test and the report combined.

&gt;<i>I hoped I could contribute despite significant constraints, I'm
</I>
You are not special.  We are *all* operating under significant time constraints for working on Twisted.

&gt;<i>sorry if that's not the case. I think development of twisted is too
</I>&gt;<i>slow if it requires these formalities (especially given this is a web2
</I>&gt;<i>_unstable_ branch, I didn't touch anything else in my patch).
</I>
At this point, and I realize this may not be intentional, you are actually contributing negatively.  The &quot;formalities&quot; are in place to speed up the development process.  Without tests, we'd be spending twice or three times as much time reviewing every patch, and preparing for a release would require acceptance testing from dozens or hundreds of people.

&gt;<i>So I'm going to fork twisted into a private twisted-CPUShare branch for
</I>&gt;<i>my own server use where I won't have to waste time to fix bugs and, I'll
</I>&gt;<i>keep merging stuff from trunk as long as it makes sense.
</I>
You remember that 'epsilon' thing you objected to?  That is effectively Divmod doing exactly this.  It's a great idea.  Please do it!

&gt;<i>This way restarting the server won't logout users like it happens
</I>&gt;<i>currently with nevow, which is unacceptable for the long term.
</I>
Libraries provide mechanism, user code provides policy.  Nevow did not want to specify a required persistence mechanism for sessions, so it is up to the user to implement that - but it has specific hooks (*documented*, *tested* specific hooks, even) which support this use case.  There are at least two examples of this: the old Quotient repository, at &lt;<A HREF="http://divmod.org/svn/Quotient/trunk/quotient/web/sessionpersist.py">http://divmod.org/svn/Quotient/trunk/quotient/web/sessionpersist.py</A>&gt; and one in the new Mantissa, at &lt;<A HREF="http://divmod.org/svn/Divmod/trunk/Mantissa/xmantissa/websession.py">http://divmod.org/svn/Divmod/trunk/Mantissa/xmantissa/websession.py</A>&gt;.  Both of these use the guard provided by nevow.

&gt;<i>I'll simplify it with the library-model as usual
</I>
I already asked you to stop trolling.

&gt;<i>(I'll stop using all those portal/realm nosense,
</I>
I'm sorry you don't understand cred, but that doesn't make it &quot;nonsense&quot;.  Care to provide a specific criticism?

&gt;<i> where I even had to hack the logout with a
</I>&gt;<i>local function because it was missing parameters to the callback).
</I>
(By the way, this doesn't count as a &quot;specific criticism&quot; - the convention of using closures in Lisp to accomplish this probably predates the programming career of anyone who posts to this list, and while it wasn't available in early releases of Python, bound methods were used to accomplish the same effect.)

&gt;<i>I've no time for anything else sorry.
</I>
Why do you assume that everyone else has so much time, to write tests for your code, to file your bugs for you?  For that matter, where does all this time for posting to mailing lists come from?

&gt;<i>I'll drop twisted entirely from the server side since I've wasted enough time
</I>&gt;<i>already
</I>
You've certainly wasted enough of everyone's time at this point.  If you are going to keep using Twisted, could you direct your energies towards more positive contributions?  Your bugfixes are welcome enough, but &gt;1 post per day about the &quot;library model&quot; isn't helping anybody, least of all you.

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002388.html">[Twisted-web] web2 log patch
</A></li>
	<LI>Next message: <A HREF="002391.html">[Twisted-web] web2 log patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2389">[ date ]</a>
              <a href="thread.html#2389">[ thread ]</a>
              <a href="subject.html#2389">[ subject ]</a>
              <a href="author.html#2389">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
