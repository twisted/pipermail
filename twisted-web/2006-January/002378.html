<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> twisted.web2.vhost and X-Forwarded-For (was Re: [Twisted-web]
	Cheetah+twisted.web2
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=twisted.web2.vhost%20and%20X-Forwarded-For%20%28was%20Re%3A%20%5BTwisted-web%5D%0A%09Cheetah%2Btwisted.web2&In-Reply-To=43D00BC0.20909%40dreid.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002375.html">
   <LINK REL="Next"  HREF="002379.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>twisted.web2.vhost and X-Forwarded-For (was Re: [Twisted-web]
	Cheetah+twisted.web2</H1>
    <B>Andrea Arcangeli</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=twisted.web2.vhost%20and%20X-Forwarded-For%20%28was%20Re%3A%20%5BTwisted-web%5D%0A%09Cheetah%2Btwisted.web2&In-Reply-To=43D00BC0.20909%40dreid.org"
       TITLE="twisted.web2.vhost and X-Forwarded-For (was Re: [Twisted-web]
	Cheetah+twisted.web2">andrea at cpushare.com
       </A><BR>
    <I>Thu Jan 19 15:32:06 MST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="002375.html">twisted.web2.vhost and X-Forwarded-For (was Re: [Twisted-web]
	Cheetah+twisted.web2
</A></li>
        <LI>Next message: <A HREF="002379.html">twisted.web2.vhost and X-Forwarded-For (was Re: [Twisted-web]
	Cheetah+twisted.web2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2378">[ date ]</a>
              <a href="thread.html#2378">[ thread ]</a>
              <a href="subject.html#2378">[ subject ]</a>
              <a href="author.html#2378">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Jan 19, 2006 at 01:59:28PM -0800, David Reid wrote:
&gt;<i> well uri actually gets parsed out to all the things that VHostURIRewrite
</I>&gt;<i>  assigns to.  What is more likely to happen in the next few days is
</I>&gt;<i> request.uri will become a URI object and req.path, req.scheme, req.host,
</I>&gt;<i> req.port etc will all be provided instead by req.uri.scheme etc ...
</I>&gt;<i> This way assigning something to req.uri will make sense and actually
</I>
Will prepath/postpath go there too?

&gt;<i> affect things.  Currently nothing important actually happens if you
</I>&gt;<i> assign to request.uri (because by the time we get to user code we've
</I>&gt;<i> already parsed out all the useful bits)
</I>
Yep. The only place where request.uri was needed, was is in the log. The
log was screwed without my own patching of req.uri (the same way you
also patched req.path). The log is the only reason I've changed the uri.

&gt;<i> You know what they say about assumptions. :)
</I>
Well, then in the unlikely case they log, and in the unlikely case that
there's a legal inquiry, they would then require me to know the port ;).

&gt;<i> probably X-Forwarded-For-Port or something.  I'm not sure, I was kinda
</I>&gt;<i> hoping someone else could give some input.
</I>
Looks good to me.

&gt;<i> &gt;&gt; Send me a patch (on or offlist) that changes chanRequest to _chanRequest[1]
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; What do you mean exactly with [1]? And why only one &quot;_&quot; I thought two __
</I>&gt;<i> &gt; were needed to make it private. Or you want it only as an hint?
</I>&gt;<i> 
</I>&gt;<i> [1] indicates a footnote, which could be found after my name (I probably
</I>
Oh well that was fun... sorry for not noticing the footnote (I mistaken it
for a mailing list signature).

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002375.html">twisted.web2.vhost and X-Forwarded-For (was Re: [Twisted-web]
	Cheetah+twisted.web2
</A></li>
	<LI>Next message: <A HREF="002379.html">twisted.web2.vhost and X-Forwarded-For (was Re: [Twisted-web]
	Cheetah+twisted.web2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2378">[ date ]</a>
              <a href="thread.html#2378">[ thread ]</a>
              <a href="subject.html#2378">[ subject ]</a>
              <a href="author.html#2378">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
