<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] streaming request (was: status of Twisted Web
	and Web 2)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20streaming%20request%20%28was%3A%20status%20of%20Twisted%20Web%0A%09and%20Web%202%29&In-Reply-To=20080306171652.GA13580%40mcnabbs.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003690.html">
   <LINK REL="Next"  HREF="003662.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] streaming request (was: status of Twisted Web
	and Web 2)</H1>
    <B>Jean-Paul Calderone</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20streaming%20request%20%28was%3A%20status%20of%20Twisted%20Web%0A%09and%20Web%202%29&In-Reply-To=20080306171652.GA13580%40mcnabbs.org"
       TITLE="[Twisted-web] streaming request (was: status of Twisted Web
	and Web 2)">exarkun at divmod.com
       </A><BR>
    <I>Thu Mar  6 12:52:12 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003690.html">[Twisted-web] Re: streaming request (was: status of Twisted
	Web and Web 2)
</A></li>
        <LI>Next message: <A HREF="003662.html">[Twisted-web] streaming request (was: status of Twisted Web and
	Web 2)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3672">[ date ]</a>
              <a href="thread.html#3672">[ thread ]</a>
              <a href="subject.html#3672">[ subject ]</a>
              <a href="author.html#3672">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 6 Mar 2008 10:16:52 -0700, Andrew McNabb &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">amcnabb at mcnabbs.org</A>&gt; wrote:
&gt;<i>On Thu, Mar 06, 2008 at 11:42:15AM -0500, Christopher Armstrong wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'm not sure how that applies. I really don't know how it would work.
</I>&gt;&gt;<i> Generally, getting access to a one-shot deferred is done by calling a
</I>&gt;&gt;<i> function which represents a request of some sort. This, on the other
</I>&gt;&gt;<i> hand, is the opposite: the request is being made of the resource, and
</I>&gt;&gt;<i> some data is being uploaded.
</I>&gt;<i>
</I>&gt;<i>Seriously, it would be the same.  You call a function which represents a
</I>&gt;<i>request.  That function knows that the response might come incrementally
</I>&gt;<i>rather than all at once, so it returns a multi-shot deferred.
</I>
This doesn't seem like it would be easier than having a non-Deferred based
callback (noun) solution.  Involving all the behavior of a Deferred seems
to mostly add complexity, not functionality.  For example, what do you need
errbacks here for?  What do you do if one of the &quot;shots&quot; of a MultiDeferred
ends in a Failure?  There's no way for the HTTP implementation to observe
this, so it would just continue to deliver data, even after an unrecoverable
unhandled error.  Useful?  Probably not.  And there would be other difficult
implementation issues.  For example, to present something that behaves even
remotely like a Deferred, it must be possible to add callbacks after a result
has been passed to the `callback&#180; method.  So MultiDeferred has to keep all
of its results around for its entire lifetime.  This doesn't seem useful in
most cases, but there's not really any way to avoid it.

So it might be the same as a single-shot Deferred, but since the use-case is
so radically different than a single-shot Deferred, being &quot;the same&quot; is now
a liability, not an advantage.

Perhaps there is a place for an abstraction for handling this sort of case
which is unrelated to Deferreds, but I haven't ever had a problem with the
&quot;named callback (noun)&quot; style before.  Admittedly, I have a much greater
familiarity with Twisted than the average user, so it's entirely possible
that there are difficulties I've become used to which, if fixed or
simplified, would greatly help people who have not developed as high a
tolerance.

Jean-Paul

</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003690.html">[Twisted-web] Re: streaming request (was: status of Twisted
	Web and Web 2)
</A></li>
	<LI>Next message: <A HREF="003662.html">[Twisted-web] streaming request (was: status of Twisted Web and
	Web 2)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3672">[ date ]</a>
              <a href="thread.html#3672">[ thread ]</a>
              <a href="subject.html#3672">[ subject ]</a>
              <a href="author.html#3672">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
