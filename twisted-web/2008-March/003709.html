<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Nevow-Stan How to save file?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Nevow-Stan%20How%20to%20save%20file%3F&In-Reply-To=49a67b230803130646q2d2186bqf9a60e0782805137%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003707.html">
   <LINK REL="Next"  HREF="003708.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Nevow-Stan How to save file?</H1>
    <B>Maarten ter Huurne</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Nevow-Stan%20How%20to%20save%20file%3F&In-Reply-To=49a67b230803130646q2d2186bqf9a60e0782805137%40mail.gmail.com"
       TITLE="[Twisted-web] Nevow-Stan How to save file?">maarten at treewalker.org
       </A><BR>
    <I>Thu Mar 13 18:35:28 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003707.html">[Twisted-web] Nevow-Stan How to save file?
</A></li>
        <LI>Next message: <A HREF="003708.html">[Twisted-web] Nevow-Stan How to save file?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3709">[ date ]</a>
              <a href="thread.html#3709">[ thread ]</a>
              <a href="subject.html#3709">[ subject ]</a>
              <a href="author.html#3709">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thursday 13 March 2008, Suha Onay wrote:

&gt;<i> How is it possible to set the HTTP header of the link to this file
</I>&gt;<i> (qqq.lqp )?
</I>&gt;<i>
</I>&gt;<i> f= open(os.path.join(LQS.WEB_SERVER, 'xxx', 'qqq.lqp'), 'w')
</I>&gt;<i> f.write(fileInput)
</I>&gt;<i> f.close()
</I>&gt;<i>
</I>&gt;<i> return [
</I>&gt;<i>     T.a(href=&quot;/xxx/qqq.lqp&quot;)['Save'],
</I>&gt;<i>     webform.renderForms()[FORM_LAYOUT],
</I>&gt;<i> ]
</I>
The HTTP header cannot be set on the link; the header should be set when 
serving the file download. This is just a matter of calling setHeader() on 
the request. I'm not very familiar with Nevow, so I don't know where that 
call should be placed.

By the way, instead of generating a file on the server and offering that for 
download, it might be simpler to send the data directly to the client. That 
way you don't have to worry about uniqueness of file names, cleaning up 
files when they are no longer needed etc.

Bye,
		Maarten
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 194 bytes
Desc: This is a digitally signed message part.
Url : <A HREF="http://twistedmatrix.com/pipermail/twisted-web/attachments/20080313/9f9e872e/attachment.pgp">http://twistedmatrix.com/pipermail/twisted-web/attachments/20080313/9f9e872e/attachment.pgp</A>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003707.html">[Twisted-web] Nevow-Stan How to save file?
</A></li>
	<LI>Next message: <A HREF="003708.html">[Twisted-web] Nevow-Stan How to save file?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3709">[ date ]</a>
              <a href="thread.html#3709">[ thread ]</a>
              <a href="subject.html#3709">[ subject ]</a>
              <a href="author.html#3709">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
