<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> WSGI support (was [Twisted-web] Re: status of Twisted Web and Web
	2)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=WSGI%20support%20%28was%20%5BTwisted-web%5D%20Re%3A%20status%20of%20Twisted%20Web%20and%20Web%0A%092%29&In-Reply-To=B66A587A-46C7-480F-A6FA-60D5F6227B12%40dreid.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003661.html">
   <LINK REL="Next"  HREF="003676.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>WSGI support (was [Twisted-web] Re: status of Twisted Web and Web
	2)</H1>
    <B>Phil Christensen</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=WSGI%20support%20%28was%20%5BTwisted-web%5D%20Re%3A%20status%20of%20Twisted%20Web%20and%20Web%0A%092%29&In-Reply-To=B66A587A-46C7-480F-A6FA-60D5F6227B12%40dreid.org"
       TITLE="WSGI support (was [Twisted-web] Re: status of Twisted Web and Web
	2)">phil at bubblehouse.org
       </A><BR>
    <I>Thu Mar  6 11:38:51 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003661.html">WSGI support (was [Twisted-web] Re: status of Twisted Web and Web
	2)
</A></li>
        <LI>Next message: <A HREF="003676.html">WSGI support (was [Twisted-web] Re: status of Twisted Web and
	Web	2)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3667">[ date ]</a>
              <a href="thread.html#3667">[ thread ]</a>
              <a href="subject.html#3667">[ subject ]</a>
              <a href="author.html#3667">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mar 6, 2008, at 10:56 AM, David Reid wrote:
&gt;<i> On Mar 6, 2008, at 2:00 AM, Manlio Perillo wrote:
</I>&gt;&gt;<i> I think that having a &quot;pure&quot; asynchronous WSGI implementation in  
</I>&gt;&gt;<i> Twisted Web that implements this extension can be a good starting  
</I>&gt;&gt;<i> point for trying to standardize asynchronous web applications.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> P.S.: the wsgi.pause_output extension, proposed some years ago here  
</I>&gt;&gt;<i> by Donovan Preston should be very easy to implement using ngx.poll,  
</I>&gt;&gt;<i> and a pipe.
</I>&gt;<i>
</I>&gt;<i> Does anyone support said extension?  Does everyone support the same  
</I>&gt;<i> pause_output? Or just functions of the same name?
</I>&gt;<i>
</I>&gt;<i> It shouldn't be very hard to add support for it to Twisted.web2's  
</I>&gt;<i> WSGI implementation either, but I don't much see the point if no one  
</I>&gt;<i> else supports it.  I'm not convinced that WSGI is at all a useful  
</I>&gt;<i> means of writing asynchronous web applications.  I think WSGI's only  
</I>&gt;<i> benefit is that it allows you to almost write your application code  
</I>&gt;<i> once and run it on multiple containers.
</I>
I'd have to disagree (slightly). There's nothing about WSGI that makes  
it only applicable to one approach or another (that is, synchronous  
versus asynchronous). It's just as easy to write a Deferred-using  
asynchronous application as a blocking one.

The real issue is that a &quot;proper&quot; WSGI app gets informed of it's  
environment by the wsgi.multithreaded and wsgi.multiprocess environ  
variables, so if you really wanted a write-once-run-anywhere, you'd  
need to be able to handle both scenarios.

As far as Twisted's WSGI implementation, it should probably support  
both approaches, maybe where some kind of argument to the WSGIResource  
class constructor determines what it specifies in the environ  
dictionary. It should be the responsibility of the WSGI application  
itself to do the right thing depending on what's inside the environ  
dict.

Also, as an aside, I have recently ported web2's WSGI support back to  
web1, and am using it on a production site with much success. I'd like  
to contribute it, but I have little to no time to participate in the  
Twisted review process. Anyone who would like a copy is welcome to it,  
however...

-phil

</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003661.html">WSGI support (was [Twisted-web] Re: status of Twisted Web and Web
	2)
</A></li>
	<LI>Next message: <A HREF="003676.html">WSGI support (was [Twisted-web] Re: status of Twisted Web and
	Web	2)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3667">[ date ]</a>
              <a href="thread.html#3667">[ thread ]</a>
              <a href="subject.html#3667">[ subject ]</a>
              <a href="author.html#3667">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
