<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Re: static file performance
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Re%3A%20static%20file%20performance&In-Reply-To=m2bq5uqb8w.fsf%40valheru.db3l.homeip.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003637.html">
   <LINK REL="Next"  HREF="003674.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Re: static file performance</H1>
    <B>Phil Christensen</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Re%3A%20static%20file%20performance&In-Reply-To=m2bq5uqb8w.fsf%40valheru.db3l.homeip.net"
       TITLE="[Twisted-web] Re: static file performance">phil at bubblehouse.org
       </A><BR>
    <I>Tue Mar  4 19:37:39 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003637.html">[Twisted-web] Re: static file performance
</A></li>
        <LI>Next message: <A HREF="003674.html">[Twisted-web] Re: static file performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3638">[ date ]</a>
              <a href="thread.html#3638">[ thread ]</a>
              <a href="subject.html#3638">[ subject ]</a>
              <a href="author.html#3638">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mar 4, 2008, at 7:13 PM, David Bolen wrote:
&gt;<i> Phil Christensen &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">phil at bubblehouse.org</A>&gt; writes:
</I>&gt;&gt;<i> What is the best way to send static files to the client in
</I>&gt;&gt;<i> twisted.web? I know web2 had some preliminary support for mmap for
</I>&gt;&gt;<i> small files, but I know it didn't work the last time I checked, and
</I>&gt;&gt;<i> I'm trying to stick with twisted.web for now, anyways.
</I>[snip snip snip]
&gt;<i> To be honest, while I'm sure there's a measurable overhead to serving
</I>&gt;<i> static content through Python/Twisted rather than a front end server
</I>&gt;<i> like Apache, I've never seen it be an issue.  Certainly streaming
</I>&gt;<i> large files are going to be more I/O bound than CPU bound anyway.
</I>
Thanks for the tips, but I'm pretty well up to speed on the existing  
static file mechanisms. My big concern was performance, though.

Obviously it depends on the site in question. My current project has  
a large number of external assets of varying kinds, and informal  
JMeter testing is showing that serving static content separately  
improves throughput greatly, almost by an order of magnitude.

This actually makes me question whether sendfile would make much of a  
difference; considering it would only be used for files over 5MB. The  
external assets that I'm serving with Apache are all Javascript/CSS/ 
images, with some miscellaneous PDF/PPT/DOC/etc files.

For me right now, this is all just academic, anyways, since my  
current deployment setup is working just fine for me, but I'll try to  
generate some relevant stats to illustrate this later on.

Thanks all for your input,

-phil

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003637.html">[Twisted-web] Re: static file performance
</A></li>
	<LI>Next message: <A HREF="003674.html">[Twisted-web] Re: static file performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3638">[ date ]</a>
              <a href="thread.html#3638">[ thread ]</a>
              <a href="subject.html#3638">[ subject ]</a>
              <a href="author.html#3638">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
