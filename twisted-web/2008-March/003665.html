<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] streaming request (was: status of Twisted Web and
	Web 2)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20streaming%20request%20%28was%3A%20status%20of%20Twisted%20Web%20and%0A%09Web%202%29&In-Reply-To=20080306161610.GD2270%40mcnabbs.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003663.html">
   <LINK REL="Next"  HREF="003666.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] streaming request (was: status of Twisted Web and
	Web 2)</H1>
    <B>Christopher Armstrong</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20streaming%20request%20%28was%3A%20status%20of%20Twisted%20Web%20and%0A%09Web%202%29&In-Reply-To=20080306161610.GD2270%40mcnabbs.org"
       TITLE="[Twisted-web] streaming request (was: status of Twisted Web and
	Web 2)">radix at twistedmatrix.com
       </A><BR>
    <I>Thu Mar  6 11:29:56 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003663.html">[Twisted-web] streaming request (was: status of Twisted Web
	and Web 2)
</A></li>
        <LI>Next message: <A HREF="003666.html">[Twisted-web] streaming request (was: status of Twisted Web
	and Web 2)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3665">[ date ]</a>
              <a href="thread.html#3665">[ thread ]</a>
              <a href="subject.html#3665">[ subject ]</a>
              <a href="author.html#3665">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Mar 6, 2008 at 11:16 AM, Andrew McNabb &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">amcnabb at mcnabbs.org</A>&gt; wrote:
&gt;<i> On Thu, Mar 06, 2008 at 10:55:00AM -0500, Christopher Armstrong wrote:
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt; This is really overcomplicating things. Calling a method repeatedly
</I>&gt;<i>  &gt; with some data is a very simple and very effective and very
</I>&gt;<i>  &gt; conventional way (not a &quot;new system!&quot;) of streaming some data to an
</I>&gt;<i>  &gt; object. This is how our protocol system works: IProtocol.dataReceived
</I>&gt;<i>  &gt; gets called every time some data comes in over the network.
</I>&gt;<i>  &gt; LineReceiver.lineReceived gets called every time a line is received.
</I>&gt;<i>  &gt; In this case, IStreamingRequestHandler.streamingDataReceived could be
</I>&gt;<i>  &gt; called. I think you should take exarkun's advice. Adding deferreds
</I>&gt;<i>  &gt; will just make it pointlessly complicated and slower than it needs to
</I>&gt;<i>  &gt; be.
</I>&gt;<i>
</I>&gt;<i>  I appreciate your point, and I can probably be convinced that this way
</I>&gt;<i>  is better.  However, it's not obvious that calling back multiple times
</I>&gt;<i>  is pointlessly complicated.  I could easily argue that having dozens of
</I>&gt;<i>  interfaces like IProtocol and LineReceiver and IStreamingRequestHandler
</I>&gt;<i>  and IHaveToKeepTrackOfTooManyInterfaces is also pointlessly complicated.
</I>&gt;<i>
</I>&gt;<i>  Just in my limited experience with Twisted, figuring out how it deals
</I>&gt;<i>  with deferreds and callbacks was easy.  Figuring out how all of the
</I>&gt;<i>  classes and interfaces interact was/is much more difficult.  The problem
</I>&gt;<i>  is that every time you learn about a new class or interface, you have to
</I>&gt;<i>  learn all of the nuances of that class.
</I>
Ok then, let's consider your approach. Let's say we have a multi-shot
deferred object. How does our application code get a reference to it?
How does the framework code get hooked up to the ultimate resource
object that wants to handle this streaming data?

The point of these questions is to indicate to you that you need to
figure out how to do this &quot;hooking up&quot; anyway, regardless of whether
you have a MultiDeferred, and thus a new interface (whether formalized
in terms of an Interface) must be created.


-- 
Christopher Armstrong
International Man of Twistery
<A HREF="http://radix.twistedmatrix.com/">http://radix.twistedmatrix.com/</A>
<A HREF="http://twistedmatrix.com/">http://twistedmatrix.com/</A>
<A HREF="http://canonical.com/">http://canonical.com/</A>

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003663.html">[Twisted-web] streaming request (was: status of Twisted Web
	and Web 2)
</A></li>
	<LI>Next message: <A HREF="003666.html">[Twisted-web] streaming request (was: status of Twisted Web
	and Web 2)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3665">[ date ]</a>
              <a href="thread.html#3665">[ thread ]</a>
              <a href="subject.html#3665">[ subject ]</a>
              <a href="author.html#3665">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
