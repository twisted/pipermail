From therve at free.fr  Wed Apr  3 07:11:21 2013
From: therve at free.fr (=?ISO-8859-1?Q?Thomas_Herv=E9?=)
Date: Wed, 03 Apr 2013 13:11:21 +0200
Subject: [Twisted-web] Twisted 13.0.0 released
Message-ID: <515C0E59.8070109@free.fr>

On behalf of Twisted Matrix Laboratories, I am pleased to announce the
release of Twisted 13.0.

Among the 70 tickets closed, we can see:

 * A new "Introduction to Deferreds" document that you can find here:
http://twistedmatrix.com/documents/13.0.0/core/howto/defer-intro.html

 * A fix in twisted.web.template where attributes were not quoted
properly, risking HTML injection.

 * Support for unicode domain names in twisted.names SRVConnector and
Name classes, after a 12.3 regression.

 * A workaround for platform limitations when trying to schedule events
far in the future.


For more information, see the NEWS file here:

 http://twistedmatrix.com/Releases/Twisted/13.0/NEWS.txt


Download it now from:

 http://pypi.python.org/packages/source/T/Twisted/Twisted-13.0.0.tar.bz2 or

 http://pypi.python.org/packages/2.7/T/Twisted/Twisted-13.0.0.win32-py2.7.msi


Thanks to the supporters of Twisted via the Software Freedom Conservancy
and to the many contributors for this release.

-- 
Thomas


From glyph at twistedmatrix.com  Wed Apr  3 17:36:28 2013
From: glyph at twistedmatrix.com (Glyph)
Date: Wed, 3 Apr 2013 14:36:28 -0700
Subject: [Twisted-web] [Twisted-Python] Twisted 13.0.0 released
In-Reply-To: <515C0E59.8070109@free.fr>
References: <515C0E59.8070109@free.fr>
Message-ID: <9F157DE3-726F-405C-AC11-94904D8D9380@twistedmatrix.com>

On Apr 3, 2013, at 4:11 AM, Thomas Herv? <therve at free.fr> wrote:

> On behalf of Twisted Matrix Laboratories, I am pleased to announce the
> release of Twisted 13.0.

Thank you Thomas for managing yet another excellent release!

> Among the 70 tickets closed, we can see:
> 
> * A new "Introduction to Deferreds" document that you can find here:
> http://twistedmatrix.com/documents/13.0.0/core/howto/defer-intro.html
> 
> * A fix in twisted.web.template where attributes were not quoted
> properly, risking HTML injection.
> 
> * Support for unicode domain names in twisted.names SRVConnector and
> Name classes, after a 12.3 regression.
> 
> * A workaround for platform limitations when trying to schedule events
> far in the future.

This is a great list.  And we have even more great stuff in the pipeline.  Everybody get to work on 13.1 ;-).

-glyph




From _ at lvh.cc  Wed Apr  3 17:59:38 2013
From: _ at lvh.cc (Laurens Van Houtven)
Date: Wed, 3 Apr 2013 23:59:38 +0200
Subject: [Twisted-web] [Twisted-Python] Twisted 13.0.0 released
In-Reply-To: <515C0E59.8070109@free.fr>
References: <515C0E59.8070109@free.fr>
Message-ID: <CAE_Hg6aNAgARRyUXLfAu+w6BhyShfOYKK=yAk6Tg08qqK3dyoQ@mail.gmail.com>

Yay! Thanks, Thomas and everyone who contributed to this release :)


On Wed, Apr 3, 2013 at 1:11 PM, Thomas Herv? <therve at free.fr> wrote:

> On behalf of Twisted Matrix Laboratories, I am pleased to announce the
> release of Twisted 13.0.
>
> Among the 70 tickets closed, we can see:
>
>  * A new "Introduction to Deferreds" document that you can find here:
> http://twistedmatrix.com/documents/13.0.0/core/howto/defer-intro.html
>
>  * A fix in twisted.web.template where attributes were not quoted
> properly, risking HTML injection.
>
>  * Support for unicode domain names in twisted.names SRVConnector and
> Name classes, after a 12.3 regression.
>
>  * A workaround for platform limitations when trying to schedule events
> far in the future.
>
>
> For more information, see the NEWS file here:
>
>  http://twistedmatrix.com/Releases/Twisted/13.0/NEWS.txt
>
>
> Download it now from:
>
>  http://pypi.python.org/packages/source/T/Twisted/Twisted-13.0.0.tar.bz2or
>
>
> http://pypi.python.org/packages/2.7/T/Twisted/Twisted-13.0.0.win32-py2.7.msi
>
>
> Thanks to the supporters of Twisted via the Software Freedom Conservancy
> and to the many contributors for this release.
>
> --
> Thomas
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>



-- 
cheers
lvh
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-web/attachments/20130403/d6f1b2b9/attachment.htm 

From matt at zigg.com  Fri Apr  5 08:15:40 2013
From: matt at zigg.com (Matt Behrens)
Date: Fri, 5 Apr 2013 08:15:40 -0400
Subject: [Twisted-web] HTTP authentication for twisted.web.client.Agent
	(#5148)
Message-ID: <66ACA70E-30C1-4F23-A839-6CC43D8E62CE@zigg.com>

Hi all,

I'm looking into Twisted for some projects at work and believe I may be able to work on #5148 <http://twistedmatrix.com/trac/ticket/5148> to add HTTP authentication to twisted.web.client.Agent, since I need at least Basic support (and will probably just add Digest too while I'm at it.)

I took a look at the branch changeset <http://twistedmatrix.com/trac/changeset?new=32269%40branches%2Fhttp-client-auth-5148-2&old=32267%40trunk> and it looks like what's been done so far is the addition of a basic agent that will eventually talk to an as-of-yet-uninvented responder that will provide the authentication.  Is there any more than this at this point?  Did anyone have ideas that they felt would work better?

I'm pretty new to actually using Twisted, but I think I get it.  I may need some help making the end result fit well, since I'm discovering a lot of new things as I dig into the source.  (Obviously, step 1 is bring that work up to the trunk? my merge attempt was a disaster, so I might just hand-apply the changes for now.)

P.S. I'm zigg on IRC and Trac, but I'm not necessarily online or responsive most of the time.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-web/attachments/20130405/53257dde/attachment.htm 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 4334 bytes
Desc: not available
Url : http://twistedmatrix.com/pipermail/twisted-web/attachments/20130405/53257dde/attachment.bin 

From glyph at twistedmatrix.com  Sun Apr  7 03:20:04 2013
From: glyph at twistedmatrix.com (Glyph)
Date: Sun, 7 Apr 2013 03:20:04 -0400
Subject: [Twisted-web] HTTP authentication for twisted.web.client.Agent
	(#5148)
In-Reply-To: <66ACA70E-30C1-4F23-A839-6CC43D8E62CE@zigg.com>
References: <66ACA70E-30C1-4F23-A839-6CC43D8E62CE@zigg.com>
Message-ID: <9F13B6AF-31CE-469E-A880-2F1E4690128F@twistedmatrix.com>


On Apr 5, 2013, at 8:15 AM, Matt Behrens <matt at zigg.com> wrote:

> Hi all,
> 
> I'm looking into Twisted for some projects at work and believe I may be able to work on #5148 <http://twistedmatrix.com/trac/ticket/5148> to add HTTP authentication to twisted.web.client.Agent, since I need at least Basic support (and will probably just add Digest too while I'm at it.)

Great!

> I took a look at the branch changeset <http://twistedmatrix.com/trac/changeset?new=32269%40branches%2Fhttp-client-auth-5148-2&old=32267%40trunk> and it looks like what's been done so far is the addition of a basic agent that will eventually talk to an as-of-yet-uninvented responder that will provide the authentication.  Is there any more than this at this point?  Did anyone have ideas that they felt would work better?

None off the top of my head.  I reserve the right to raise some during review, but assuming the strategy you are describing works, it sounds fine :).

> I'm pretty new to actually using Twisted, but I think I get it.  I may need some help making the end result fit well, since I'm discovering a lot of new things as I dig into the source.  (Obviously, step 1 is bring that work up to the trunk? my merge attempt was a disaster, so I might just hand-apply the changes for now.)

Feel free to ask for help early and often.  The more specific the questions, the better, of course.

> P.S. I'm zigg on IRC and Trac, but I'm not necessarily online or responsive most of the time.

I haven't seen you around much - make sure to hang out on #twisted-dev if you're talking about developing Twisted itself; #twisted is more a support channel for people *using* Twisted now.

-glyph
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-web/attachments/20130407/065575ed/attachment.htm 

From jonathan+twisted at jsphere.com  Sun Apr  7 15:23:03 2013
From: jonathan+twisted at jsphere.com (Jonathan Jacobs)
Date: Sun, 7 Apr 2013 21:23:03 +0200
Subject: [Twisted-web] HTTP authentication for twisted.web.client.Agent
	(#5148)
In-Reply-To: <66ACA70E-30C1-4F23-A839-6CC43D8E62CE@zigg.com>
References: <66ACA70E-30C1-4F23-A839-6CC43D8E62CE@zigg.com>
Message-ID: <CAM187SEcEg-O4ge7BJzOpg0GRMwNnhi3X+ESXxi43oQmd_YDOw@mail.gmail.com>

On Fri, Apr 5, 2013 at 2:15 PM, Matt Behrens <matt at zigg.com> wrote:
>
> Hi all,
>
> I'm looking into Twisted for some projects at work and believe I may be able to work on #5148 <http://twistedmatrix.com/trac/ticket/5148> to add HTTP authentication to twisted.web.client.Agent, since I need at least Basic support (and will probably just add Digest too while I'm at it.)

Hi Matt,

After reading your mail I was surprised this wasn't already in
Twisted, JP Calderone, the branch author, brought something to my
attention that perhaps makes this a little harder than it seems:

The body producer may not be restartable, which means you need to
buffer a copy of the body in case it needs to be replayed. With 100
Continue support you might be able to work around that but then you
need to be communicating with a server that supports that feature.
Hopefully the currently-in-development tubes API
<https://twistedmatrix.com/trac/ticket/1956> will make it easier to
accommodate this requirement (and if not then perhaps the tubes API
*should* make something like this easier.)

-Jonathan


From matt at zigg.com  Mon Apr  8 07:59:10 2013
From: matt at zigg.com (Matt Behrens)
Date: Mon, 8 Apr 2013 07:59:10 -0400
Subject: [Twisted-web] HTTP authentication for twisted.web.client.Agent
	(#5148)
In-Reply-To: <CAM187SEcEg-O4ge7BJzOpg0GRMwNnhi3X+ESXxi43oQmd_YDOw@mail.gmail.com>
References: <66ACA70E-30C1-4F23-A839-6CC43D8E62CE@zigg.com>
	<CAM187SEcEg-O4ge7BJzOpg0GRMwNnhi3X+ESXxi43oQmd_YDOw@mail.gmail.com>
Message-ID: <0EA97E75-7B30-4531-9720-A9CB0E7E817A@zigg.com>


On Apr 7, 2013, at 3:23 PM, Jonathan Jacobs <jonathan+twisted at jsphere.com> wrote:

> After reading your mail I was surprised this wasn't already in
> Twisted, JP Calderone, the branch author, brought something to my
> attention that perhaps makes this a little harder than it seems:
> 
> The body producer may not be restartable, which means you need to
> buffer a copy of the body in case it needs to be replayed. With 100
> Continue support you might be able to work around that but then you
> need to be communicating with a server that supports that feature.

Right, yes, that would complicate matters.  Clearly, I hadn't thought that all the way through yet.

> Hopefully the currently-in-development tubes API
> <https://twistedmatrix.com/trac/ticket/1956> will make it easier to
> accommodate this requirement (and if not then perhaps the tubes API
> *should* make something like this easier.)

I can see where it would, but given as that's almost certainly a bit out yet I think will see about building out my own agent for now, and see where that goes.  Sorry if I got anyone's hopes up, but my original thought is looking a bit more out of my reach at the moment. ;-)

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 4334 bytes
Desc: not available
Url : http://twistedmatrix.com/pipermail/twisted-web/attachments/20130408/179a0b4a/attachment.bin 

From matt at zigg.com  Mon Apr  8 13:44:45 2013
From: matt at zigg.com (Matt Behrens)
Date: Mon, 8 Apr 2013 13:44:45 -0400
Subject: [Twisted-web] HTTP authentication for twisted.web.client.Agent
	(#5148)
In-Reply-To: <CAM187SEcEg-O4ge7BJzOpg0GRMwNnhi3X+ESXxi43oQmd_YDOw@mail.gmail.com>
References: <66ACA70E-30C1-4F23-A839-6CC43D8E62CE@zigg.com>
	<CAM187SEcEg-O4ge7BJzOpg0GRMwNnhi3X+ESXxi43oQmd_YDOw@mail.gmail.com>
Message-ID: <FF427493-0415-4932-94BA-31B56A0F6192@zigg.com>

On Apr 7, 2013, at 3:23 PM, Jonathan Jacobs <jonathan+twisted at jsphere.com> wrote:

> The body producer may not be restartable, which means you need to
> buffer a copy of the body in case it needs to be replayed. With 100
> Continue support you might be able to work around that but then you
> need to be communicating with a server that supports that feature.

One more thought on this that I just found--the auth-int variant of digest authentication appears to require the MD5 hash of the request body, if I'm reading it correctly.  Thus, you'd need to know the hash while generating the Authorization header.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 4334 bytes
Desc: not available
Url : http://twistedmatrix.com/pipermail/twisted-web/attachments/20130408/9c68d8fe/attachment.bin 

From xxy-php at qq.com  Thu Apr 18 03:01:56 2013
From: xxy-php at qq.com (=?gb18030?B?0KHRp9SwUEhQ?=)
Date: Thu, 18 Apr 2013 15:01:56 +0800
Subject: [Twisted-web] Can i inherit the
	twisted.web.http.Request.requestReceived ??
Message-ID: <tencent_3D05E930066B9D1B2A65861F@qq.com>

Can i inherit the twisted.web.http.Request.requestReceived ??


In the comment, said that "This method is not intended for users".
I has inherited the rawDataReceived and it like this:


def rawDataReceived(self, data):
        self.resetTimeout()
        if len(data) < self.length:
            self.requests[-1].content.send(data)
            self.length = self.length - len(data)
        else:
            self.requests[-1].content.send(data[:self.length])
            self._finishRequestBody(data[self.length:])



the "self.requests[-1].content.send(data)" will send the data in another http connection. In fact, i use the httplib here.
All goes well, but it doesn't work at the last step in allContentReceived. And it's req.requestReceived(command, path, version).


So can i inherit this method requestReceived. Or where is it go wrong? 


my code is in the accessory
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-web/attachments/20130418/1fc72d82/attachment-0001.htm 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: cumulus.py
Type: application/octet-stream
Size: 30167 bytes
Desc: not available
Url : http://twistedmatrix.com/pipermail/twisted-web/attachments/20130418/1fc72d82/attachment-0001.obj 

From xxy-php at qq.com  Thu Apr 18 03:36:07 2013
From: xxy-php at qq.com (=?gb18030?B?0KHRp9SwUEhQ?=)
Date: Thu, 18 Apr 2013 15:36:07 +0800
Subject: [Twisted-web] Can i inherit the
	twisted.web.http.Request.requestReceived ??
Message-ID: <tencent_12DE4F9772C0F11F3CE4B565@qq.com>

Can i inherit the twisted.web.http.Request.requestReceived ??


In the comment, said that "This method is not intended for users".
I has inherited the rawDataReceived and it like this:


def rawDataReceived(self, data):
        self.resetTimeout()
        if len(data) < self.length:
            self.requests[-1].content.send(data)
            self.length = self.length - len(data)
        else:
            self.requests[-1].content.send(data[:self.length])
            self._finishRequestBody(data[self.length:])



the "self.requests[-1].content.send(data)" will send the data in another http connection. In fact, i use the httplib here.
All goes well, but it doesn't work at the last step in allContentReceived. And it's req.requestReceived(command, path, version).


So can i inherit this method requestReceived. Or where is it go wrong? 


my code is here. You can download it.
http://pan.baidu.com/share/link?shareid=569597&uk=926264233
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-web/attachments/20130418/2eba298a/attachment-0001.htm 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: cumulus.py
Type: application/octet-stream
Size: 30166 bytes
Desc: not available
Url : http://twistedmatrix.com/pipermail/twisted-web/attachments/20130418/2eba298a/attachment-0001.obj 

From exarkun at twistedmatrix.com  Thu Apr 18 05:43:49 2013
From: exarkun at twistedmatrix.com (exarkun at twistedmatrix.com)
Date: Thu, 18 Apr 2013 09:43:49 -0000
Subject: [Twisted-web] Can i inherit
	the	twisted.web.http.Request.requestReceived ??
In-Reply-To: <tencent_12DE4F9772C0F11F3CE4B565@qq.com>
References: <tencent_12DE4F9772C0F11F3CE4B565@qq.com>
Message-ID: <20130418094349.2793.833593520.divmod.xquotient.136@top>

On 07:36 am, xxy-php at qq.com wrote:
>Can i inherit the twisted.web.http.Request.requestReceived ??

Subclasses inherit all methods from base classes automatically.  So I 
don't see what would stop you from inheriting this method if you 
subclass twisted.web.http.Request.

You might get more helpful information if you explain what you actually 
want to achieve, though.  See http://www.catb.org/esr/faqs/smart- 
questions.html and http:/sscce.org/ for some tips.
>my code is here. You can download it.
>http://pan.baidu.com/share/link?shareid=569597&uk=926264233

Unfortunately I can't read the UI on that page, so I can't actually 
download it.  A good example will fit inline in an email, though.

Jean-Paul


