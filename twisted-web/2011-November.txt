From poisonoff at gmail.com  Sat Nov  5 00:09:04 2011
From: poisonoff at gmail.com (=?UTF-8?B?0JDRgNC60LDQtNC40Lkg0JvQtdCy0LjQvQ==?=)
Date: Sat, 5 Nov 2011 10:09:04 +0600
Subject: [Twisted-web] How to restore sessions after restart app?
Message-ID: <CACgbmJ=BFyF4vW8MU+o33OTJ5bE2rhLFRLK05q3-a8FaVQpVTQ@mail.gmail.com>

After restart twisted.web.server.Site all sessions lost, how it restore?


From exarkun at twistedmatrix.com  Mon Nov  7 08:53:20 2011
From: exarkun at twistedmatrix.com (exarkun at twistedmatrix.com)
Date: Mon, 07 Nov 2011 13:53:20 -0000
Subject: [Twisted-web] How to restore sessions after restart app?
In-Reply-To: <CACgbmJ=BFyF4vW8MU+o33OTJ5bE2rhLFRLK05q3-a8FaVQpVTQ@mail.gmail.com>
References: <CACgbmJ=BFyF4vW8MU+o33OTJ5bE2rhLFRLK05q3-a8FaVQpVTQ@mail.gmail.com>
Message-ID: <20111107135320.17986.1760993359.divmod.xquotient.363@localhost.localdomain>

On 5 Nov, 04:09 am, poisonoff at gmail.com wrote:
>After restart twisted.web.server.Site all sessions lost, how it 
>restore?

Twisted Web doesn't support persistent sessions out of the box.  You 
could try to implement them by overriding the session storage 
implementation on the Site object.  See `Site.makeSession`, 
`Site.getSession`, and the `Site.sessions` dictionary.

Jean-Paul


From peter.westlake at pobox.com  Wed Nov 16 10:08:17 2011
From: peter.westlake at pobox.com (Peter Westlake)
Date: Wed, 16 Nov 2011 15:08:17 +0000
Subject: [Twisted-web] Bug 3031, handling interrupted responses in nevow
Message-ID: <1321456097.24090.140660999710577@webmail.messagingengine.com>

Did anything happen with my patch for ticket 3031?

It fixed an error where Request.finish() is called after a redirection,
or when the connection closes for some other reason.

Peter.



From exarkun at twistedmatrix.com  Wed Nov 16 15:06:58 2011
From: exarkun at twistedmatrix.com (exarkun at twistedmatrix.com)
Date: Wed, 16 Nov 2011 20:06:58 -0000
Subject: [Twisted-web] Bug 3031, handling interrupted responses in nevow
In-Reply-To: <1321456097.24090.140660999710577@webmail.messagingengine.com>
References: <1321456097.24090.140660999710577@webmail.messagingengine.com>
Message-ID: <20111116200658.20412.1242119940.divmod.xquotient.128@localhost.localdomain>

On 03:08 pm, peter.westlake at pobox.com wrote:
>Did anything happen with my patch for ticket 3031?

Did you mistype the ticket number?  3031 doesn't look related.

Jean-Paul
>It fixed an error where Request.finish() is called after a redirection,
>or when the connection closes for some other reason.
>
>Peter.
>
>
>_______________________________________________
>Twisted-web mailing list
>Twisted-web at twistedmatrix.com
>http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web


From peter.westlake at pobox.com  Wed Nov 16 17:55:25 2011
From: peter.westlake at pobox.com (Peter Westlake)
Date: Wed, 16 Nov 2011 22:55:25 +0000
Subject: [Twisted-web] Bug 3031, handling interrupted responses in nevow
In-Reply-To: <20111116200658.20412.1242119940.divmod.xquotient.128@localhost.localdomain>
References: <1321456097.24090.140660999710577@webmail.messagingengine.com>
	<20111116200658.20412.1242119940.divmod.xquotient.128@localhost.localdomain>
Message-ID: <1321484125.25775.140660999904365@webmail.messagingengine.com>

On Wednesday, November 16, 2011 8:06 PM, exarkun at twistedmatrix.com
wrote:
> On 03:08 pm, peter.westlake at pobox.com wrote:
> >Did anything happen with my patch for ticket 3031?
> 
> Did you mistype the ticket number?  3031 doesn't look related.

That's what it said in my mail at the time:

  http://divmod.org/trac/ticket/3031

but of course I wasn't able to check it.

Peter.

> Jean-Paul
> >It fixed an error where Request.finish() is called after a redirection,
> >or when the connection closes for some other reason.
> >
> >Peter.
> >
> >
> >_______________________________________________
> >Twisted-web mailing list
> >Twisted-web at twistedmatrix.com
> >http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web
> 
> _______________________________________________
> Twisted-web mailing list
> Twisted-web at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web
> 


From jerry at westrick.com  Thu Nov 17 12:19:47 2011
From: jerry at westrick.com (Jerry Westrick)
Date: Thu, 17 Nov 2011 12:19:47 -0500
Subject: [Twisted-web] Adding a private protocol to Twisted SSL Web server...
Message-ID: <4EC54233.6090405@westrick.com>

  Hello fellow twisters:

I'm writing an ActionScript application with it's corresponding server 
built upon twisted.
first off, I'd like to thank you all for the awesome software you've all 
put into my hands.

Since I'm taking your time I'll get right to the point.

What is required
- secure serving of web pages (works via twisted web/SSL)
- proprietary socket protocol (works with TCPServer and pyAMF).
- client access server only via port 443 <--- here I have the questions

What I think I need to do is to capture an SSL CONNECT command, steal the
the connection and use it as my proprietary communication socket.

I've gotten access to the connection using the render_CONNECT() method,
and having the client issue a corresponding command.

What I cant figure out is how best to remove the connection from the 
HTTP protocol
and setup a pass-thru to my application.  (This is prefered to be able 
to run multiple servers
on different machines)

I would hate to 'fudged' code into the system all the way down in 
basic.py, and
your code is well modularized that I feel there should be a way to 
accomplish
this, but it seams to be above my current pay grade ;-)

Thank You all for your time,
and hope the problem is interesting enough to evoke responses

Jerry



From therve at free.fr  Thu Nov 17 13:02:17 2011
From: therve at free.fr (=?UTF-8?B?VGhvbWFzIEhlcnbDqQ==?=)
Date: Thu, 17 Nov 2011 19:02:17 +0100
Subject: [Twisted-web] Twisted 11.1.0 Released
Message-ID: <4EC54C29.80300@free.fr>

On behalf of Twisted Matrix Laboratories, I am pleased to announce the
release of Twisted 11.1.

Highlights of the 185 tickets closed include:

  * The poll reactor as default where applicable, instead of select
    everywhere.

  * A new SSL implementation only relying on OpenSSL for cryptography,
    (not I/O) making it more robust.

  * Several improvements to the fresh HTTP/1.1 client implementation,
    including proxy and cookie support.

  * My personal favorite: a new howto has been published on test-driven
    development with Twisted.

  * A special mention to the new abortConnection support on TCP and SSL
    connections, heroically pushed by Itamar and Jean-Paul, and the
    oldest ticket closed by this release.

This is the last release supporting Python 2.4 (the support on Windows stopped with 11.0).

For more information, see the NEWS file here:

  http://twistedmatrix.com/Releases/Twisted/11.1/NEWS.txt

Download it now from:

  http://pypi.python.org/packages/source/T/Twisted/Twisted-11.1.0.tar.bz2 or
  http://pypi.python.org/packages/2.5/T/Twisted/Twisted-11.1.0.win32-py2.5.msi or
  http://pypi.python.org/packages/2.6/T/Twisted/Twisted-11.1.0.win32-py2.6.msi or
  http://pypi.python.org/packages/2.7/T/Twisted/Twisted-11.1.0.win32-py2.7.msi

Thanks to the supporters of the Twisted Software Foundation and to the many contributors for this release.

-- 
Thomas



From jacek99 at gmail.com  Thu Nov 17 13:40:22 2011
From: jacek99 at gmail.com (Jacek Furmankiewicz)
Date: Thu, 17 Nov 2011 13:40:22 -0500
Subject: [Twisted-web] Twisted 11.1.0 Released
In-Reply-To: <4EC54C29.80300@free.fr>
References: <4EC54C29.80300@free.fr>
Message-ID: <CAGDztiGVOzQyt18pa4bW5kgovfdvy1sU1rqpR9uV6y0fqeN58A@mail.gmail.com>

Congrats and one quick question:

Does this release manage to install under latest PyPy without having to
tweak PYTHONPATH?

Related to this thread on the PyPy side:
https://bugs.pypy.org/issue735


Thanks!

On Thu, Nov 17, 2011 at 1:02 PM, Thomas Herv? <therve at free.fr> wrote:

> On behalf of Twisted Matrix Laboratories, I am pleased to announce the
> release of Twisted 11.1.
>
> Highlights of the 185 tickets closed include:
>
>  * The poll reactor as default where applicable, instead of select
>    everywhere.
>
>  * A new SSL implementation only relying on OpenSSL for cryptography,
>    (not I/O) making it more robust.
>
>  * Several improvements to the fresh HTTP/1.1 client implementation,
>    including proxy and cookie support.
>
>  * My personal favorite: a new howto has been published on test-driven
>    development with Twisted.
>
>  * A special mention to the new abortConnection support on TCP and SSL
>    connections, heroically pushed by Itamar and Jean-Paul, and the
>    oldest ticket closed by this release.
>
> This is the last release supporting Python 2.4 (the support on Windows
> stopped with 11.0).
>
> For more information, see the NEWS file here:
>
>  http://twistedmatrix.com/Releases/Twisted/11.1/NEWS.txt
>
> Download it now from:
>
>  http://pypi.python.org/packages/source/T/Twisted/Twisted-11.1.0.tar.bz2or
>
> http://pypi.python.org/packages/2.5/T/Twisted/Twisted-11.1.0.win32-py2.5.msior
>
> http://pypi.python.org/packages/2.6/T/Twisted/Twisted-11.1.0.win32-py2.6.msior
>
> http://pypi.python.org/packages/2.7/T/Twisted/Twisted-11.1.0.win32-py2.7.msi
>
> Thanks to the supporters of the Twisted Software Foundation and to the
> many contributors for this release.
>
> --
> Thomas
>
>
> _______________________________________________
> Twisted-web mailing list
> Twisted-web at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-web/attachments/20111117/e6554392/attachment.htm 

From glyph at twistedmatrix.com  Thu Nov 17 14:11:36 2011
From: glyph at twistedmatrix.com (Glyph)
Date: Thu, 17 Nov 2011 14:11:36 -0500
Subject: [Twisted-web] Twisted 11.1.0 Released
In-Reply-To: <4EC54C29.80300@free.fr>
References: <4EC54C29.80300@free.fr>
Message-ID: <2D70BD79-722C-4F08-8DBD-135FE37814FB@twistedmatrix.com>


On Nov 17, 2011, at 1:02 PM, Thomas Herv? wrote:

> On behalf of Twisted Matrix Laboratories, I am pleased to announce the
> release of Twisted 11.1.

WOOOOOOOOO!

Thanks to Thomas and everyone who worked on fixes and features for this release.

>  * My personal favorite: a new howto has been published on test-driven
>    development with Twisted.

LEARN IT.  LOVE IT.  LIVE IT.

<http://twistedmatrix.com/documents/current/core/howto/trial.html>

> Thanks to the supporters of the Twisted Software Foundation and to the many contributors for this release.

A gentle reminder: those supporters should renew their sponsorships; we were remarkably lax in 2011, but at the beginning of 2012, all those logos will be coming down off the front page unless they are renewed :-).  Sponsored development and especially sponsored reviews really helped to make 11.1 what it is, It would be great to make 12.0 (and beyond) even better!

-glyph



From jerry at westrick.com  Thu Nov 17 14:15:04 2011
From: jerry at westrick.com (Jerry Westrick)
Date: Thu, 17 Nov 2011 14:15:04 -0500
Subject: [Twisted-web] Adding a private protocol to Twisted SSL Web
	server...
In-Reply-To: <4EC54233.6090405@westrick.com>
References: <4EC54233.6090405@westrick.com>
Message-ID: <4EC55D38.9020409@westrick.com>

  Found setRaw() method, maybe can use an override of the 
rawDataRecieved(...)
to forward data to another tcp connection... now need to look for some kind
plugin glue that connects 2 TCP sockets... (one SSL and one not)...

This stuff is so big I feel, I'm spending more time looking for the 
"correct way",
than it would be to re-invent the wheel...

Sorry about answering my own post, but hoping someone will jump in and
tell where I'm going wrong...

Jerry


On 11/17/2011 12:19 PM, Jerry Westrick wrote:
>    Hello fellow twisters:
>
> I'm writing an ActionScript application with it's corresponding server
> built upon twisted.
> first off, I'd like to thank you all for the awesome software you've all
> put into my hands.
>
> Since I'm taking your time I'll get right to the point.
>
> What is required
> - secure serving of web pages (works via twisted web/SSL)
> - proprietary socket protocol (works with TCPServer and pyAMF).
> - client access server only via port 443<--- here I have the questions
>
> What I think I need to do is to capture an SSL CONNECT command, steal the
> the connection and use it as my proprietary communication socket.
>
> I've gotten access to the connection using the render_CONNECT() method,
> and having the client issue a corresponding command.
>
> What I cant figure out is how best to remove the connection from the
> HTTP protocol
> and setup a pass-thru to my application.  (This is prefered to be able
> to run multiple servers
> on different machines)
>
> I would hate to 'fudged' code into the system all the way down in
> basic.py, and
> your code is well modularized that I feel there should be a way to
> accomplish
> this, but it seams to be above my current pay grade ;-)
>
> Thank You all for your time,
> and hope the problem is interesting enough to evoke responses
>
> Jerry
>
>
> _______________________________________________
> Twisted-web mailing list
> Twisted-web at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web
>



From dynamicgl at gmail.com  Thu Nov 17 14:19:14 2011
From: dynamicgl at gmail.com (gelin yan)
Date: Fri, 18 Nov 2011 03:19:14 +0800
Subject: [Twisted-web] Twisted 11.1.0 Released
In-Reply-To: <2D70BD79-722C-4F08-8DBD-135FE37814FB@twistedmatrix.com>
References: <4EC54C29.80300@free.fr>
	<2D70BD79-722C-4F08-8DBD-135FE37814FB@twistedmatrix.com>
Message-ID: <CABkOF6S4X5BqRVDYXbULz3fTZU6rLQJGfNQv0MONgr59QurfpA@mail.gmail.com>

good to hear that... i will update it right now...

On Fri, Nov 18, 2011 at 3:11 AM, Glyph <glyph at twistedmatrix.com> wrote:

>
> On Nov 17, 2011, at 1:02 PM, Thomas Herv? wrote:
>
> > On behalf of Twisted Matrix Laboratories, I am pleased to announce the
> > release of Twisted 11.1.
>
> WOOOOOOOOO!
>
> Thanks to Thomas and everyone who worked on fixes and features for this
> release.
>
> >  * My personal favorite: a new howto has been published on test-driven
> >    development with Twisted.
>
> LEARN IT.  LOVE IT.  LIVE IT.
>
> <http://twistedmatrix.com/documents/current/core/howto/trial.html>
>
> > Thanks to the supporters of the Twisted Software Foundation and to the
> many contributors for this release.
>
> A gentle reminder: those supporters should renew their sponsorships; we
> were remarkably lax in 2011, but at the beginning of 2012, all those logos
> will be coming down off the front page unless they are renewed :-).
>  Sponsored development and especially sponsored reviews really helped to
> make 11.1 what it is, It would be great to make 12.0 (and beyond) even
> better!
>
> -glyph
>
>
> _______________________________________________
> Twisted-web mailing list
> Twisted-web at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-web/attachments/20111118/cbcd09c4/attachment.htm 

From jacek99 at gmail.com  Thu Nov 17 14:59:44 2011
From: jacek99 at gmail.com (Jacek Furmankiewicz)
Date: Thu, 17 Nov 2011 14:59:44 -0500
Subject: [Twisted-web] Fwd: Troubles installing 11.1.0 - is this expected?
In-Reply-To: <mailman.3644.1321559946.5291.twisted-python@twistedmatrix.com>
References: <mailman.3644.1321559946.5291.twisted-python@twistedmatrix.com>
Message-ID: <CAGDztiGFnti0rV-byxW42yUWmGiAFH5vA1bdnBNr47-Q4oggvg@mail.gmail.com>

Under python2.7

*sudo python2.7 -m easy_install -U twisted*
*[sudo] password for jacekf: *
*Searching for twisted*
*Reading http://pypi.python.org/simple/twisted/*
*Reading http://www.twistedmatrix.com*
*Reading http://twistedmatrix.com/products/download*
*Reading http://twistedmatrix.com/*
*Reading http://tmrc.mit.edu/mirror/twisted/Twisted/9.0/*
*Reading http://twistedmatrix.com/projects/core/*
*Reading http://tmrc.mit.edu/mirror/twisted/Twisted/8.1/*
*Reading http://tmrc.mit.edu/mirror/twisted/Twisted/8.2/*
*Reading http://tmrc.mit.edu/mirror/twisted/Twisted/10.0/*
*Best match: Twisted 11.1.0*
*Downloading
http://pypi.python.org/packages/source/T/Twisted/Twisted-11.1.0.tar.bz2#md5=972f3497e6e19318c741bf2900ffe31c
*
*Processing Twisted-11.1.0.tar.bz2*
*Running Twisted-11.1.0/setup.py -q bdist_egg --dist-dir
/tmp/easy_install-YBvWK_/Twisted-11.1.0/egg-dist-tmp-zIO__W*
*Traceback (most recent call last):*
*  File "/usr/local/lib/python2.7/runpy.py", line 162, in
_run_module_as_main*
*    "__main__", fname, loader, pkg_name)*
*  File "/usr/local/lib/python2.7/runpy.py", line 72, in _run_code*
*    exec code in run_globals*
*  File "build/bdist.linux-i686/egg/easy_install.py", line 5, in <module>*
*  File "build/bdist.linux-i686/egg/setuptools/command/easy_install.py",
line 1712, in main*
*  File "build/bdist.linux-i686/egg/setuptools/command/easy_install.py",
line 1700, in with_ei_usage*
*  File "build/bdist.linux-i686/egg/setuptools/command/easy_install.py",
line 1716, in <lambda>*
*  File "/usr/local/lib/python2.7/distutils/core.py", line 152, in setup*
*    dist.run_commands()*
*  File "/usr/local/lib/python2.7/distutils/dist.py", line 953, in
run_commands*
*    self.run_command(cmd)*
*  File "/usr/local/lib/python2.7/distutils/dist.py", line 972, in
run_command*
*    cmd_obj.run()*
*  File "build/bdist.linux-i686/egg/setuptools/command/easy_install.py",
line 211, in run*
*  File "build/bdist.linux-i686/egg/setuptools/command/easy_install.py",
line 446, in easy_install*
*  File "build/bdist.linux-i686/egg/setuptools/command/easy_install.py",
line 476, in install_item*
*  File "build/bdist.linux-i686/egg/setuptools/command/easy_install.py",
line 655, in install_eggs*
*  File "build/bdist.linux-i686/egg/setuptools/command/easy_install.py",
line 930, in build_and_install*
*  File "build/bdist.linux-i686/egg/setuptools/command/easy_install.py",
line 919, in run_setup*
*  File "build/bdist.linux-i686/egg/setuptools/sandbox.py", line 62, in
run_setup*
*  File "build/bdist.linux-i686/egg/setuptools/sandbox.py", line 105, in run
*
*  File "build/bdist.linux-i686/egg/setuptools/sandbox.py", line 64, in
<lambda>*
*  File "setup.py", line 103, in <module>*
*  File "setup.py", line 74, in main*
*  File "setup.py", line 31, in getExtensions*
*  File "twisted/topfiles/setup.py", line 21, in <module>*
*ImportError: cannot import name _isCPython*

Under PyPy, same errors as before:

*pypy -m easy_install -U twisted*
*Searching for twisted*
*Reading http://pypi.python.org/simple/twisted/*
*Reading http://www.twistedmatrix.com*
*Reading http://twistedmatrix.com/products/download*
*Reading http://twistedmatrix.com/*
*Reading http://tmrc.mit.edu/mirror/twisted/Twisted/9.0/*
*Reading http://twistedmatrix.com/projects/core/*
*Reading http://tmrc.mit.edu/mirror/twisted/Twisted/8.1/*
*Reading http://tmrc.mit.edu/mirror/twisted/Twisted/8.2/*
*Reading http://tmrc.mit.edu/mirror/twisted/Twisted/10.0/*
*Best match: Twisted 11.1.0*
*Downloading
http://pypi.python.org/packages/source/T/Twisted/Twisted-11.1.0.tar.bz2#md5=972f3497e6e19318c741bf2900ffe31c
*
*Processing Twisted-11.1.0.tar.bz2*
*Running Twisted-11.1.0/setup.py -q bdist_egg --dist-dir
/tmp/easy_install-K4bVb9/Twisted-11.1.0/egg-dist-tmp-e8Q1QN*
*Traceback (most recent call last):*
*  File "app_main.py", line 53, in run_toplevel*
*  File "/home/jacekf/bin/pypy-1.6/lib-python/2.7/runpy.py", line 162, in
_run_module_as_main*
*    "__main__", fname, loader, pkg_name)*
*  File "/home/jacekf/bin/pypy-1.6/lib-python/2.7/runpy.py", line 72, in
_run_code*
*    exec code in run_globals*
*  File
"/home/jacekf/bin/pypy-1.6/site-packages/distribute-0.6.19-py2.7.egg/easy_install.py",
line 5, in <module>*
*    main()*
*  File
"/home/jacekf/bin/pypy-1.6/site-packages/distribute-0.6.19-py2.7.egg/setuptools/command/easy_install.py",
line 1864, in main*
*    with_ei_usage(lambda:*
*  File
"/home/jacekf/bin/pypy-1.6/site-packages/distribute-0.6.19-py2.7.egg/setuptools/command/easy_install.py",
line 1845, in with_ei_usage*
*    return f()*
*  File
"/home/jacekf/bin/pypy-1.6/site-packages/distribute-0.6.19-py2.7.egg/setuptools/command/easy_install.py",
line 1868, in <lambda>*
*    distclass=DistributionWithoutHelpCommands, **kw*
*  File
"/home/jacekf/bin/pypy-1.6/lib-python/modified-2.7/distutils/core.py", line
152, in setup*
*    dist.run_commands()*
*  File
"/home/jacekf/bin/pypy-1.6/lib-python/modified-2.7/distutils/dist.py", line
953, in run_commands*
*    self.run_command(cmd)*
*  File
"/home/jacekf/bin/pypy-1.6/lib-python/modified-2.7/distutils/dist.py", line
972, in run_command*
*    cmd_obj.run()*
*  File
"/home/jacekf/bin/pypy-1.6/site-packages/distribute-0.6.19-py2.7.egg/setuptools/command/easy_install.py",
line 345, in run*
*    self.easy_install(spec, not self.no_deps)*
*  File
"/home/jacekf/bin/pypy-1.6/site-packages/distribute-0.6.19-py2.7.egg/setuptools/command/easy_install.py",
line 585, in easy_install*
*    return self.install_item(spec, dist.location, tmpdir, deps)*
*  File
"/home/jacekf/bin/pypy-1.6/site-packages/distribute-0.6.19-py2.7.egg/setuptools/command/easy_install.py",
line 615, in install_item*
*    dists = self.install_eggs(spec, download, tmpdir)*
*  File
"/home/jacekf/bin/pypy-1.6/site-packages/distribute-0.6.19-py2.7.egg/setuptools/command/easy_install.py",
line 805, in install_eggs*
*    return self.build_and_install(setup_script, setup_base)*
*  File
"/home/jacekf/bin/pypy-1.6/site-packages/distribute-0.6.19-py2.7.egg/setuptools/command/easy_install.py",
line 1082, in build_and_install*
*    self.run_setup(setup_script, setup_base, args)*
*  File
"/home/jacekf/bin/pypy-1.6/site-packages/distribute-0.6.19-py2.7.egg/setuptools/command/easy_install.py",
line 1071, in run_setup*
*    run_setup(setup_script, args)*
*  File
"/home/jacekf/bin/pypy-1.6/site-packages/distribute-0.6.19-py2.7.egg/setuptools/sandbox.py",
line 30, in run_setup*
*    lambda: execfile(*
*  File
"/home/jacekf/bin/pypy-1.6/site-packages/distribute-0.6.19-py2.7.egg/setuptools/sandbox.py",
line 72, in run*
*    return func()*
*  File
"/home/jacekf/bin/pypy-1.6/site-packages/distribute-0.6.19-py2.7.egg/setuptools/sandbox.py",
line 32, in <lambda>*
*    {'__file__':setup_script, '__name__':'__main__'}*
*  File "setup.py", line 103, in <module>*
*  File "setup.py", line 45, in main*
*ImportError: cannot import name 'copyright'*

Sorry :-(

Jacek
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-web/attachments/20111117/e5255bae/attachment-0001.htm 

From glyph at twistedmatrix.com  Thu Nov 17 15:14:09 2011
From: glyph at twistedmatrix.com (Glyph)
Date: Thu, 17 Nov 2011 15:14:09 -0500
Subject: [Twisted-web] Fwd: Troubles installing 11.1.0 - is this
	expected?
In-Reply-To: <CAGDztiGFnti0rV-byxW42yUWmGiAFH5vA1bdnBNr47-Q4oggvg@mail.gmail.com>
References: <mailman.3644.1321559946.5291.twisted-python@twistedmatrix.com>
	<CAGDztiGFnti0rV-byxW42yUWmGiAFH5vA1bdnBNr47-Q4oggvg@mail.gmail.com>
Message-ID: <F0FAD6EB-05D3-4A41-AFFC-83314D615E99@twistedmatrix.com>


On Nov 17, 2011, at 2:59 PM, Jacek Furmankiewicz wrote:
(tracebacks snipped for brevity)

> Sorry :-(

Did you have these errors under the prerelease as well?  Under 11.0?

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-web/attachments/20111117/e6dfce6b/attachment.htm 

From jacek99 at gmail.com  Thu Nov 17 15:29:28 2011
From: jacek99 at gmail.com (Jacek Furmankiewicz)
Date: Thu, 17 Nov 2011 15:29:28 -0500
Subject: [Twisted-web] Fwd: Troubles installing 11.1.0 - is this
	expected?
In-Reply-To: <F0FAD6EB-05D3-4A41-AFFC-83314D615E99@twistedmatrix.com>
References: <mailman.3644.1321559946.5291.twisted-python@twistedmatrix.com>
	<CAGDztiGFnti0rV-byxW42yUWmGiAFH5vA1bdnBNr47-Q4oggvg@mail.gmail.com>
	<F0FAD6EB-05D3-4A41-AFFC-83314D615E99@twistedmatrix.com>
Message-ID: <CAGDztiHygST2H0d4iFH_Mai9OhTt6VtDzvK2=si-uCKxN3fvnQ@mail.gmail.com>

Under python2.7, I was always able to install Twisted 11.0.0, no problem.

Under pypy 1.6, never (but I am not sure if 11.1.0 is supposed to fix it or
not).

I am running this on Ubuntu 10.04 LTS.Python 2.7 was manually installed
(compiled the actual packages from source, not sure if that makes a
difference),
Will try on a different laptop with Ubuntu 11.10 to see if at least the
default python2.7 works there...give me a second...

Jacek

On Thu, Nov 17, 2011 at 3:14 PM, Glyph <glyph at twistedmatrix.com> wrote:

>
> On Nov 17, 2011, at 2:59 PM, Jacek Furmankiewicz wrote:
> (tracebacks snipped for brevity)
>
> Sorry :-(
>
>
> Did you have these errors under the prerelease as well?  Under 11.0?
>
>
> _______________________________________________
> Twisted-web mailing list
> Twisted-web at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-web/attachments/20111117/b63510ee/attachment.htm 

From jacek99 at gmail.com  Thu Nov 17 15:34:13 2011
From: jacek99 at gmail.com (Jacek Furmankiewicz)
Date: Thu, 17 Nov 2011 15:34:13 -0500
Subject: [Twisted-web] Fwd: Troubles installing 11.1.0 - is this
	expected?
In-Reply-To: <CAGDztiHygST2H0d4iFH_Mai9OhTt6VtDzvK2=si-uCKxN3fvnQ@mail.gmail.com>
References: <mailman.3644.1321559946.5291.twisted-python@twistedmatrix.com>
	<CAGDztiGFnti0rV-byxW42yUWmGiAFH5vA1bdnBNr47-Q4oggvg@mail.gmail.com>
	<F0FAD6EB-05D3-4A41-AFFC-83314D615E99@twistedmatrix.com>
	<CAGDztiHygST2H0d4iFH_Mai9OhTt6VtDzvK2=si-uCKxN3fvnQ@mail.gmail.com>
Message-ID: <CAGDztiHfke_bwkOHhxqrZM7mCDttTa0Gi2OHYhaxsy84ozncow@mail.gmail.com>

Installed fine on brand new install of Ubuntu 11.10 using python2.7.
So that's good news.

let me know if I can help debugging why it fails to install on the older
Ubuntu build...

Jacek

On Thu, Nov 17, 2011 at 3:29 PM, Jacek Furmankiewicz <jacek99 at gmail.com>wrote:

> Under python2.7, I was always able to install Twisted 11.0.0, no problem.
>
> Under pypy 1.6, never (but I am not sure if 11.1.0 is supposed to fix it
> or not).
>
> I am running this on Ubuntu 10.04 LTS.Python 2.7 was manually installed
> (compiled the actual packages from source, not sure if that makes a
> difference),
> Will try on a different laptop with Ubuntu 11.10 to see if at least the
> default python2.7 works there...give me a second...
>
> Jacek
>
> On Thu, Nov 17, 2011 at 3:14 PM, Glyph <glyph at twistedmatrix.com> wrote:
>
>>
>> On Nov 17, 2011, at 2:59 PM, Jacek Furmankiewicz wrote:
>> (tracebacks snipped for brevity)
>>
>> Sorry :-(
>>
>>
>> Did you have these errors under the prerelease as well?  Under 11.0?
>>
>>
>> _______________________________________________
>> Twisted-web mailing list
>> Twisted-web at twistedmatrix.com
>> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-web/attachments/20111117/ee0a2d67/attachment.htm 

From jacek99 at gmail.com  Thu Nov 17 15:36:32 2011
From: jacek99 at gmail.com (Jacek Furmankiewicz)
Date: Thu, 17 Nov 2011 15:36:32 -0500
Subject: [Twisted-web] Fwd: Troubles installing 11.1.0 - is this
	expected?
In-Reply-To: <CAGDztiHfke_bwkOHhxqrZM7mCDttTa0Gi2OHYhaxsy84ozncow@mail.gmail.com>
References: <mailman.3644.1321559946.5291.twisted-python@twistedmatrix.com>
	<CAGDztiGFnti0rV-byxW42yUWmGiAFH5vA1bdnBNr47-Q4oggvg@mail.gmail.com>
	<F0FAD6EB-05D3-4A41-AFFC-83314D615E99@twistedmatrix.com>
	<CAGDztiHygST2H0d4iFH_Mai9OhTt6VtDzvK2=si-uCKxN3fvnQ@mail.gmail.com>
	<CAGDztiHfke_bwkOHhxqrZM7mCDttTa0Gi2OHYhaxsy84ozncow@mail.gmail.com>
Message-ID: <CAGDztiF0o3iR5agAAnfGP+ooMcm0dw9Hy_vSNtXvNYzghP+DGg@mail.gmail.com>

Followup: failed to install with the regular default python (2.6)
interpreter on the 10.04 box as well, exact same error.
So it doesn't seem to be related to my custom compiled install of 2.7 on
that box.

Would be good to see if others get the same error on the current Ubuntu
10.04 LTS release....

Jacek
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-web/attachments/20111117/1babd0c4/attachment.htm 

From ypercube at gmail.com  Thu Nov 17 17:15:34 2011
From: ypercube at gmail.com (Pantelis Theodosiou)
Date: Thu, 17 Nov 2011 22:15:34 +0000
Subject: [Twisted-web] Twisted 11.1.0 Released
In-Reply-To: <4EC54C29.80300@free.fr>
References: <4EC54C29.80300@free.fr>
Message-ID: <CAE3TBxyZ4D4F0SDPpKFZCAKuoC_63M71JAZLnxAT7byUvjOXAQ@mail.gmail.com>

Great, just great!

(nitpicking: the title should be changed from "Twisted *11.1.0* Released"
to "*Twisted 11.1.1 Released*")

Pandelis


On Thu, Nov 17, 2011 at 6:02 PM, Thomas Herv? <therve at free.fr> wrote:

> On behalf of Twisted Matrix Laboratories, I am pleased to announce the
> release of Twisted 11.1.
>
> Highlights of the 185 tickets closed include:
>
>  * The poll reactor as default where applicable, instead of select
>    everywhere.
>
>  * A new SSL implementation only relying on OpenSSL for cryptography,
>    (not I/O) making it more robust.
>
>  * Several improvements to the fresh HTTP/1.1 client implementation,
>    including proxy and cookie support.
>
>  * My personal favorite: a new howto has been published on test-driven
>    development with Twisted.
>
>  * A special mention to the new abortConnection support on TCP and SSL
>    connections, heroically pushed by Itamar and Jean-Paul, and the
>    oldest ticket closed by this release.
>
> This is the last release supporting Python 2.4 (the support on Windows
> stopped with 11.0).
>
> For more information, see the NEWS file here:
>
>  http://twistedmatrix.com/Releases/Twisted/11.1/NEWS.txt
>
> Download it now from:
>
>  http://pypi.python.org/packages/source/T/Twisted/Twisted-11.1.0.tar.bz2or
>
> http://pypi.python.org/packages/2.5/T/Twisted/Twisted-11.1.0.win32-py2.5.msior
>
> http://pypi.python.org/packages/2.6/T/Twisted/Twisted-11.1.0.win32-py2.6.msior
>
> http://pypi.python.org/packages/2.7/T/Twisted/Twisted-11.1.0.win32-py2.7.msi
>
> Thanks to the supporters of the Twisted Software Foundation and to the
> many contributors for this release.
>
> --
> Thomas
>
>
> _______________________________________________
> Twisted-web mailing list
> Twisted-web at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-web/attachments/20111117/2a4f5d4b/attachment.htm 

From ypercube at gmail.com  Thu Nov 17 17:17:57 2011
From: ypercube at gmail.com (Pantelis Theodosiou)
Date: Thu, 17 Nov 2011 22:17:57 +0000
Subject: [Twisted-web] Twisted 11.1.0 Released
In-Reply-To: <CAE3TBxyZ4D4F0SDPpKFZCAKuoC_63M71JAZLnxAT7byUvjOXAQ@mail.gmail.com>
References: <4EC54C29.80300@free.fr>
	<CAE3TBxyZ4D4F0SDPpKFZCAKuoC_63M71JAZLnxAT7byUvjOXAQ@mail.gmail.com>
Message-ID: <CAE3TBxwWt4Gs++nsoG4wuQSCeaKa6V3HyqsyZGLQfWMT29ebcQ@mail.gmail.com>

On Thu, Nov 17, 2011 at 10:15 PM, Pantelis Theodosiou <ypercube at gmail.com>wrote:

> Great, just great!
>
> (nitpicking: the title should be changed from "Twisted *11.1.0* Released"
> to "*Twisted 11.1.1 Released*")
>

Oops, my bad. Too many 1s can confuse one's mind. Sorry.


>
> Pandelis
>
>
>
> On Thu, Nov 17, 2011 at 6:02 PM, Thomas Herv? <therve at free.fr> wrote:
>
>> On behalf of Twisted Matrix Laboratories, I am pleased to announce the
>> release of Twisted 11.1.
>>
>> Highlights of the 185 tickets closed include:
>>
>>  * The poll reactor as default where applicable, instead of select
>>    everywhere.
>>
>>  * A new SSL implementation only relying on OpenSSL for cryptography,
>>    (not I/O) making it more robust.
>>
>>  * Several improvements to the fresh HTTP/1.1 client implementation,
>>    including proxy and cookie support.
>>
>>  * My personal favorite: a new howto has been published on test-driven
>>    development with Twisted.
>>
>>  * A special mention to the new abortConnection support on TCP and SSL
>>    connections, heroically pushed by Itamar and Jean-Paul, and the
>>    oldest ticket closed by this release.
>>
>> This is the last release supporting Python 2.4 (the support on Windows
>> stopped with 11.0).
>>
>> For more information, see the NEWS file here:
>>
>>  http://twistedmatrix.com/Releases/Twisted/11.1/NEWS.txt
>>
>> Download it now from:
>>
>>  http://pypi.python.org/packages/source/T/Twisted/Twisted-11.1.0.tar.bz2or
>>
>> http://pypi.python.org/packages/2.5/T/Twisted/Twisted-11.1.0.win32-py2.5.msior
>>
>> http://pypi.python.org/packages/2.6/T/Twisted/Twisted-11.1.0.win32-py2.6.msior
>>
>> http://pypi.python.org/packages/2.7/T/Twisted/Twisted-11.1.0.win32-py2.7.msi
>>
>> Thanks to the supporters of the Twisted Software Foundation and to the
>> many contributors for this release.
>>
>> --
>> Thomas
>>
>>
>> _______________________________________________
>> Twisted-web mailing list
>> Twisted-web at twistedmatrix.com
>> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-web/attachments/20111117/5d73f9a7/attachment-0001.htm 

From dripton at ripton.net  Thu Nov 17 18:29:05 2011
From: dripton at ripton.net (David Ripton)
Date: Thu, 17 Nov 2011 18:29:05 -0500
Subject: [Twisted-web] Twisted 11.1.0 Released
In-Reply-To: <CAGDztiGVOzQyt18pa4bW5kgovfdvy1sU1rqpR9uV6y0fqeN58A@mail.gmail.com>
References: <4EC54C29.80300@free.fr>
	<CAGDztiGVOzQyt18pa4bW5kgovfdvy1sU1rqpR9uV6y0fqeN58A@mail.gmail.com>
Message-ID: <4EC598C1.2050604@ripton.net>

On 11/17/11 13:40, Jacek Furmankiewicz wrote:
> Congrats and one quick question:
>
> Does this release manage to install under latest PyPy without having to
> tweak PYTHONPATH?

Worked for me.  I used a recently nightly build of PyPy, and installed 
Twisted into PyPy using pip.

-- 
David Ripton    dripton at ripton.net


From exarkun at twistedmatrix.com  Thu Nov 17 23:02:22 2011
From: exarkun at twistedmatrix.com (exarkun at twistedmatrix.com)
Date: Fri, 18 Nov 2011 04:02:22 -0000
Subject: [Twisted-web] Fwd: Troubles installing 11.1.0 - is this
	expected?
In-Reply-To: <CAGDztiGFnti0rV-byxW42yUWmGiAFH5vA1bdnBNr47-Q4oggvg@mail.gmail.com>
References: <mailman.3644.1321559946.5291.twisted-python@twistedmatrix.com>
	<CAGDztiGFnti0rV-byxW42yUWmGiAFH5vA1bdnBNr47-Q4oggvg@mail.gmail.com>
Message-ID: <20111118040222.20412.1380835790.divmod.xquotient.142@localhost.localdomain>

On 17 Nov, 07:59 pm, jacek99 at gmail.com wrote:
>Under python2.7
>
>*sudo python2.7 -m easy_install -U twisted*
>[snip]
>*  File "setup.py", line 103, in <module>*
>*  File "setup.py", line 74, in main*
>*  File "setup.py", line 31, in getExtensions*
>*  File "twisted/topfiles/setup.py", line 21, in <module>*
>*ImportError: cannot import name _isCPython*

"easy_install -U twisted" isn't something we ever test or claimed to 
support.  I don't recall anyone ever asking for support for it either. 
We do test "easy_install <local twisted tarball filename>" and that 
works, at least on Python 2.5, on Twisted 11.1.  We don't test it on any 
other Python version.
>Under PyPy, same errors as before:
>
>*pypy -m easy_install -U twisted*
>[snip]
>*  File
>"/home/jacekf/bin/pypy-1.6/site- 
>packages/distribute-0.6.19-py2.7.egg/setuptools/sandbox.py",
>line 32, in <lambda>*
>*    {'__file__':setup_script, '__name__':'__main__'}*
>*  File "setup.py", line 103, in <module>*
>*  File "setup.py", line 45, in main*
>*ImportError: cannot import name 'copyright'*

Apart from the same comments about -U above, I don't recall this error 
on PyPy ever being reported.  The install errors we fixed had to do with 
extension compilation, not a failure to import the name 'copyright'.

Please file tickets for issues you encounter or features you'd like 
supported.  For these, the testing path likely involves setting up a new 
BuildSlave in the appropriate environment, so if you can donate hardware 
to run these slaves, that would help out a lot.  Otherwise we're not 
likely to be able to test the configurations, so they won't be 
supported.

Thanks,
Jean-Paul


From eulores at gmail.com  Fri Nov 18 07:57:49 2011
From: eulores at gmail.com (eulores)
Date: Fri, 18 Nov 2011 13:57:49 +0100
Subject: [Twisted-web] Bug 3031, handling interrupted responses in nevow
In-Reply-To: <1321484125.25775.140660999904365@webmail.messagingengine.com>
References: <1321456097.24090.140660999710577@webmail.messagingengine.com>
	<20111116200658.20412.1242119940.divmod.xquotient.128@localhost.localdomain>
	<1321484125.25775.140660999904365@webmail.messagingengine.com>
Message-ID: <CAKc7WwMP76kRWsvgzvDuXi+gpmjJ33iR=qMSg6bqv=M8vZraOw@mail.gmail.com>

Referring to this?
http://thread.gmane.org/gmane.comp.python.twisted.web/4537/focus=4538


On Wed, Nov 16, 2011 at 11:55 PM, Peter Westlake
<peter.westlake at pobox.com> wrote:
> On Wednesday, November 16, 2011 8:06 PM, exarkun at twistedmatrix.com
> wrote:
>> On 03:08 pm, peter.westlake at pobox.com wrote:
>> >Did anything happen with my patch for ticket 3031?
>>
>> Did you mistype the ticket number? ?3031 doesn't look related.
>
> That's what it said in my mail at the time:
>
> ?http://divmod.org/trac/ticket/3031
>
> but of course I wasn't able to check it.
>
> Peter.
>
>> Jean-Paul
>> >It fixed an error where Request.finish() is called after a redirection,
>> >or when the connection closes for some other reason.
>> >
>> >Peter.
>> >
>> >
>> >_______________________________________________
>> >Twisted-web mailing list
>> >Twisted-web at twistedmatrix.com
>> >http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web
>>
>> _______________________________________________
>> Twisted-web mailing list
>> Twisted-web at twistedmatrix.com
>> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web
>>
>
> _______________________________________________
> Twisted-web mailing list
> Twisted-web at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web
>


From jacek99 at gmail.com  Fri Nov 18 09:26:24 2011
From: jacek99 at gmail.com (Jacek Furmankiewicz)
Date: Fri, 18 Nov 2011 09:26:24 -0500
Subject: [Twisted-web] Fwd: Troubles installing 11.1.0 - is this
	expected?
In-Reply-To: <20111118040222.20412.1380835790.divmod.xquotient.142@localhost.localdomain>
References: <mailman.3644.1321559946.5291.twisted-python@twistedmatrix.com>
	<CAGDztiGFnti0rV-byxW42yUWmGiAFH5vA1bdnBNr47-Q4oggvg@mail.gmail.com>
	<20111118040222.20412.1380835790.divmod.xquotient.142@localhost.localdomain>
Message-ID: <CAGDztiFjSy5rqWGwWQf56tERAdzsWGv1P63Bq9gHpCPeHWofuw@mail.gmail.com>

python -m easy_install is just a way to use easy_install as a library,
instead of invoking the easy_install shell command (which is problematic,
since on some machines I have up to 4 different versions of Python: 2.6,
2.7, PyPy, Jython).

if I use easy_install directly, I get the exact same error:

sudo easy_install -U Twisted
[sudo] password for jacekf:
Searching for Twisted
Reading http://pypi.python.org/simple/Twisted/
Reading http://www.twistedmatrix.com
Reading http://twistedmatrix.com/products/download
Reading http://twistedmatrix.com/
Reading http://tmrc.mit.edu/mirror/twisted/Twisted/9.0/
Reading http://twistedmatrix.com/projects/core/
Reading http://tmrc.mit.edu/mirror/twisted/Twisted/8.1/
Reading http://tmrc.mit.edu/mirror/twisted/Twisted/8.2/
Reading http://tmrc.mit.edu/mirror/twisted/Twisted/10.0/
Best match: Twisted 11.1.0
Downloading
http://pypi.python.org/packages/source/T/Twisted/Twisted-11.1.0.tar.bz2#md5=972f3497e6e19318c741bf2900ffe31c
Processing Twisted-11.1.0.tar.bz2
Running Twisted-11.1.0/setup.py -q bdist_egg --dist-dir
/tmp/easy_install-Un9XH3/Twisted-11.1.0/egg-dist-tmp-Pq7ihl
Traceback (most recent call last):
  File "/usr/local/bin/easy_install", line 8, in <module>
    load_entry_point('setuptools==0.6c11', 'console_scripts',
'easy_install')()
  File "build/bdist.linux-i686/egg/setuptools/command/easy_install.py",
line 1712, in main
  File "build/bdist.linux-i686/egg/setuptools/command/easy_install.py",
line 1700, in with_ei_usage
  File "build/bdist.linux-i686/egg/setuptools/command/easy_install.py",
line 1716, in <lambda>
  File "/usr/local/lib/python2.7/distutils/core.py", line 152, in setup
    dist.run_commands()
  File "/usr/local/lib/python2.7/distutils/dist.py", line 953, in
run_commands
    self.run_command(cmd)
  File "/usr/local/lib/python2.7/distutils/dist.py", line 972, in
run_command
    cmd_obj.run()
  File "build/bdist.linux-i686/egg/setuptools/command/easy_install.py",
line 211, in run
  File "build/bdist.linux-i686/egg/setuptools/command/easy_install.py",
line 446, in easy_install
  File "build/bdist.linux-i686/egg/setuptools/command/easy_install.py",
line 476, in install_item
  File "build/bdist.linux-i686/egg/setuptools/command/easy_install.py",
line 655, in install_eggs
  File "build/bdist.linux-i686/egg/setuptools/command/easy_install.py",
line 930, in build_and_install
  File "build/bdist.linux-i686/egg/setuptools/command/easy_install.py",
line 919, in run_setup
  File "build/bdist.linux-i686/egg/setuptools/sandbox.py", line 62, in
run_setup
  File "build/bdist.linux-i686/egg/setuptools/sandbox.py", line 105, in run
  File "build/bdist.linux-i686/egg/setuptools/sandbox.py", line 64, in
<lambda>
  File "setup.py", line 103, in <module>
  File "setup.py", line 74, in main
  File "setup.py", line 31, in getExtensions
  File "twisted/topfiles/setup.py", line 21, in <module>
ImportError: cannot import name _isCPython

Will file a ticket for both

Cheers
Jacek

On Thu, Nov 17, 2011 at 11:02 PM, <exarkun at twistedmatrix.com> wrote:

> On 17 Nov, 07:59 pm, jacek99 at gmail.com wrote:
> >Under python2.7
> >
> >*sudo python2.7 -m easy_install -U twisted*
> >[snip]
> >*  File "setup.py", line 103, in <module>*
> >*  File "setup.py", line 74, in main*
> >*  File "setup.py", line 31, in getExtensions*
> >*  File "twisted/topfiles/setup.py", line 21, in <module>*
> >*ImportError: cannot import name _isCPython*
>
> "easy_install -U twisted" isn't something we ever test or claimed to
> support.  I don't recall anyone ever asking for support for it either.
> We do test "easy_install <local twisted tarball filename>" and that
> works, at least on Python 2.5, on Twisted 11.1.  We don't test it on any
> other Python version.
> >Under PyPy, same errors as before:
> >
> >*pypy -m easy_install -U twisted*
> >[snip]
> >*  File
> >"/home/jacekf/bin/pypy-1.6/site-
> >packages/distribute-0.6.19-py2.7.egg/setuptools/sandbox.py",
> >line 32, in <lambda>*
> >*    {'__file__':setup_script, '__name__':'__main__'}*
> >*  File "setup.py", line 103, in <module>*
> >*  File "setup.py", line 45, in main*
> >*ImportError: cannot import name 'copyright'*
>
> Apart from the same comments about -U above, I don't recall this error
> on PyPy ever being reported.  The install errors we fixed had to do with
> extension compilation, not a failure to import the name 'copyright'.
>
> Please file tickets for issues you encounter or features you'd like
> supported.  For these, the testing path likely involves setting up a new
> BuildSlave in the appropriate environment, so if you can donate hardware
> to run these slaves, that would help out a lot.  Otherwise we're not
> likely to be able to test the configurations, so they won't be
> supported.
>
> Thanks,
> Jean-Paul
>
> _______________________________________________
> Twisted-web mailing list
> Twisted-web at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-web/attachments/20111118/e6bc92f1/attachment.htm 

From peter.westlake at pobox.com  Fri Nov 18 12:24:29 2011
From: peter.westlake at pobox.com (Peter Westlake)
Date: Fri, 18 Nov 2011 17:24:29 +0000
Subject: [Twisted-web] Bug 3031, handling interrupted responses in nevow
In-Reply-To: <CAKc7WwMP76kRWsvgzvDuXi+gpmjJ33iR=qMSg6bqv=M8vZraOw@mail.gmail.com>
References: <1321456097.24090.140660999710577@webmail.messagingengine.com><20111116200658.20412.1242119940.divmod.xquotient.128@localhost.localdomain><1321484125.25775.140660999904365@webmail.messagingengine.com>
	<CAKc7WwMP76kRWsvgzvDuXi+gpmjJ33iR=qMSg6bqv=M8vZraOw@mail.gmail.com>
Message-ID: <1321637069.19549.140661000718773@webmail.messagingengine.com>

On Friday, November 18, 2011 1:57 PM, "eulores" <eulores at gmail.com>
wrote:
> Referring to this?
> http://thread.gmane.org/gmane.comp.python.twisted.web/4537/focus=4538

Yes, that's the one.

Peter. 
 
> On Wed, Nov 16, 2011 at 11:55 PM, Peter Westlake
> <peter.westlake at pobox.com> wrote:
> > On Wednesday, November 16, 2011 8:06 PM, exarkun at twistedmatrix.com
> > wrote:
> >> On 03:08 pm, peter.westlake at pobox.com wrote:
> >> >Did anything happen with my patch for ticket 3031?
> >>
> >> Did you mistype the ticket number? ?3031 doesn't look related.
> >
> > That's what it said in my mail at the time:
> >
> > ?http://divmod.org/trac/ticket/3031
> >
> > but of course I wasn't able to check it.
> >
> > Peter.
> >
> >> Jean-Paul
> >> >It fixed an error where Request.finish() is called after a redirection,
> >> >or when the connection closes for some other reason.
> >> >
> >> >Peter.
> >> >
> >> >
> >> >_______________________________________________
> >> >Twisted-web mailing list
> >> >Twisted-web at twistedmatrix.com
> >> >http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web
> >>
> >> _______________________________________________
> >> Twisted-web mailing list
> >> Twisted-web at twistedmatrix.com
> >> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web
> >>
> >
> > _______________________________________________
> > Twisted-web mailing list
> > Twisted-web at twistedmatrix.com
> > http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web
> >
> 
> _______________________________________________
> Twisted-web mailing list
> Twisted-web at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web
> 


From exarkun at twistedmatrix.com  Fri Nov 18 14:51:24 2011
From: exarkun at twistedmatrix.com (exarkun at twistedmatrix.com)
Date: Fri, 18 Nov 2011 19:51:24 -0000
Subject: [Twisted-web] Fwd: Troubles installing 11.1.0 - is this
	expected?
In-Reply-To: <CAGDztiFjSy5rqWGwWQf56tERAdzsWGv1P63Bq9gHpCPeHWofuw@mail.gmail.com>
References: <mailman.3644.1321559946.5291.twisted-python@twistedmatrix.com>
	<CAGDztiGFnti0rV-byxW42yUWmGiAFH5vA1bdnBNr47-Q4oggvg@mail.gmail.com>
	<20111118040222.20412.1380835790.divmod.xquotient.142@localhost.localdomain>
	<CAGDztiFjSy5rqWGwWQf56tERAdzsWGv1P63Bq9gHpCPeHWofuw@mail.gmail.com>
Message-ID: <20111118195124.20412.937983363.divmod.xquotient.161@localhost.localdomain>

On 02:26 pm, jacek99 at gmail.com wrote:
>python -m easy_install is just a way to use easy_install as a library,
>instead of invoking the easy_install shell command (which is 
>problematic,
>since on some machines I have up to 4 different versions of Python: 
>2.6,
>2.7, PyPy, Jython).
>
>if I use easy_install directly, I get the exact same error:

It's the "-U" I was trying to highlight.
>sudo easy_install -U Twisted
>[snip]
>  File "twisted/topfiles/setup.py", line 21, in <module>
>ImportError: cannot import name _isCPython
>
>Will file a ticket for both

And contribute a host to run a build slave? :)

Jean-Paul


From exarkun at twistedmatrix.com  Fri Nov 18 14:54:43 2011
From: exarkun at twistedmatrix.com (exarkun at twistedmatrix.com)
Date: Fri, 18 Nov 2011 19:54:43 -0000
Subject: [Twisted-web] Bug 3031, handling interrupted responses in nevow
In-Reply-To: <1321637069.19549.140661000718773@webmail.messagingengine.com>
References: <1321456097.24090.140660999710577@webmail.messagingengine.com><20111116200658.20412.1242119940.divmod.xquotient.128@localhost.localdomain><1321484125.25775.140660999904365@webmail.messagingengine.com>
	<CAKc7WwMP76kRWsvgzvDuXi+gpmjJ33iR=qMSg6bqv=M8vZraOw@mail.gmail.com>
	<1321637069.19549.140661000718773@webmail.messagingengine.com>
Message-ID: <20111118195443.20412.1540432629.divmod.xquotient.164@localhost.localdomain>

On 05:24 pm, peter.westlake at pobox.com wrote:
>On Friday, November 18, 2011 1:57 PM, "eulores" <eulores at gmail.com>
>wrote:
>>Referring to this?
>>http://thread.gmane.org/gmane.comp.python.twisted.web/4537/focus=4538
>
>Yes, that's the one.

Re-opening the issue on http://bugs.launchpad.net/divmod.org might get 
the ball rolling again.  If you don't still have the patch, I can 
probably find a copy and apply it to a bzr branch.

Jean-Paul
>Peter.
>>On Wed, Nov 16, 2011 at 11:55 PM, Peter Westlake
>><peter.westlake at pobox.com> wrote:
>> > On Wednesday, November 16, 2011 8:06 PM, exarkun at twistedmatrix.com
>> > wrote:
>> >> On 03:08 pm, peter.westlake at pobox.com wrote:
>> >> >Did anything happen with my patch for ticket 3031?
>> >>
>> >> Did you mistype the ticket number? ?3031 doesn't look related.
>> >
>> > That's what it said in my mail at the time:
>> >
>> > ?http://divmod.org/trac/ticket/3031
>> >
>> > but of course I wasn't able to check it.
>> >
>> > Peter.
>> >
>> >> Jean-Paul
>> >> >It fixed an error where Request.finish() is called after a 
>>redirection,
>> >> >or when the connection closes for some other reason.
>> >> >
>> >> >Peter.
>> >> >
>> >> >
>> >> >_______________________________________________
>> >> >Twisted-web mailing list
>> >> >Twisted-web at twistedmatrix.com
>> >> >http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web
>> >>
>> >> _______________________________________________
>> >> Twisted-web mailing list
>> >> Twisted-web at twistedmatrix.com
>> >> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web
>> >>
>> >
>> > _______________________________________________
>> > Twisted-web mailing list
>> > Twisted-web at twistedmatrix.com
>> > http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web
>> >
>>
>>_______________________________________________
>>Twisted-web mailing list
>>Twisted-web at twistedmatrix.com
>>http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web
>
>_______________________________________________
>Twisted-web mailing list
>Twisted-web at twistedmatrix.com
>http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web


From jacek99 at gmail.com  Fri Nov 18 15:18:33 2011
From: jacek99 at gmail.com (Jacek Furmankiewicz)
Date: Fri, 18 Nov 2011 15:18:33 -0500
Subject: [Twisted-web] Fwd: Troubles installing 11.1.0 - is this
	expected?
In-Reply-To: <20111118195124.20412.937983363.divmod.xquotient.161@localhost.localdomain>
References: <mailman.3644.1321559946.5291.twisted-python@twistedmatrix.com>
	<CAGDztiGFnti0rV-byxW42yUWmGiAFH5vA1bdnBNr47-Q4oggvg@mail.gmail.com>
	<20111118040222.20412.1380835790.divmod.xquotient.142@localhost.localdomain>
	<CAGDztiFjSy5rqWGwWQf56tERAdzsWGv1P63Bq9gHpCPeHWofuw@mail.gmail.com>
	<20111118195124.20412.937983363.divmod.xquotient.161@localhost.localdomain>
Message-ID: <CAGDztiH7RSg06iY1Z8aGAr4_M8auw8ooAdrrjr1-O46H3ZJA3g@mail.gmail.com>

Sorry, I am just a lonely developer with no funds for extra slaves :-(

My interest in Twisted is personal, not work-related (although that may
change one day)

Cheers
Jacek

On Fri, Nov 18, 2011 at 2:51 PM, <exarkun at twistedmatrix.com> wrote:

> On 02:26 pm, jacek99 at gmail.com wrote:
> >python -m easy_install is just a way to use easy_install as a library,
> >instead of invoking the easy_install shell command (which is
> >problematic,
> >since on some machines I have up to 4 different versions of Python:
> >2.6,
> >2.7, PyPy, Jython).
> >
> >if I use easy_install directly, I get the exact same error:
>
> It's the "-U" I was trying to highlight.
> >sudo easy_install -U Twisted
> >[snip]
> >  File "twisted/topfiles/setup.py", line 21, in <module>
> >ImportError: cannot import name _isCPython
> >
> >Will file a ticket for both
>
> And contribute a host to run a build slave? :)
>
> Jean-Paul
>
> _______________________________________________
> Twisted-web mailing list
> Twisted-web at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-web/attachments/20111118/62ab9a1f/attachment.htm 

From peter.westlake at pobox.com  Sat Nov 19 18:54:53 2011
From: peter.westlake at pobox.com (Peter Westlake)
Date: Sat, 19 Nov 2011 23:54:53 +0000
Subject: [Twisted-web] Bug 3031, handling interrupted responses in nevow
In-Reply-To: <20111118195443.20412.1540432629.divmod.xquotient.164@localhost.localdomain>
References: <1321456097.24090.140660999710577@webmail.messagingengine.com><20111116200658.20412.1242119940.divmod.xquotient.128@localhost.localdomain><1321484125.25775.140660999904365@webmail.messagingengine.com>
	<CAKc7WwMP76kRWsvgzvDuXi+gpmjJ33iR=qMSg6bqv=M8vZraOw@mail.gmail.com>
	<1321637069.19549.140661000718773@webmail.messagingengine.com>
	<20111118195443.20412.1540432629.divmod.xquotient.164@localhost.localdomain>
Message-ID: <1321746893.3783.140661001146629@webmail.messagingengine.com>

On Friday, November 18, 2011 7:54 PM, exarkun at twistedmatrix.com wrote:
> On 05:24 pm, peter.westlake at pobox.com wrote:
> >On Friday, November 18, 2011 1:57 PM, "eulores" <eulores at gmail.com>
> >wrote:
> >>Referring to this?
> >>http://thread.gmane.org/gmane.comp.python.twisted.web/4537/focus=4538
> >
> >Yes, that's the one.
> 
> Re-opening the issue on http://bugs.launchpad.net/divmod.org might get 
> the ball rolling again.  If you don't still have the patch, I can 
> probably find a copy and apply it to a bzr branch.

I've attached a copy.

That page just says it needs to be configured - there doesn't appear
to be a way of entering an issue?

Peter.

> Jean-Paul
> >Peter.
> >>On Wed, Nov 16, 2011 at 11:55 PM, Peter Westlake
> >><peter.westlake at pobox.com> wrote:
> >> > On Wednesday, November 16, 2011 8:06 PM, exarkun at twistedmatrix.com
> >> > wrote:
> >> >> On 03:08 pm, peter.westlake at pobox.com wrote:
> >> >> >Did anything happen with my patch for ticket 3031?
> >> >>
> >> >> Did you mistype the ticket number? ?3031 doesn't look related.
> >> >
> >> > That's what it said in my mail at the time:
> >> >
> >> > ?http://divmod.org/trac/ticket/3031
> >> >
> >> > but of course I wasn't able to check it.
> >> >
> >> > Peter.
> >> >
> >> >> Jean-Paul
> >> >> >It fixed an error where Request.finish() is called after a 
> >>redirection,
> >> >> >or when the connection closes for some other reason.
> >> >> >
> >> >> >Peter.
> >> >> >
> >> >> >
-------------- next part --------------
A non-text attachment was scrubbed...
Name: avoid-request-finish-error.patch
Type: application/octet-stream
Size: 2150 bytes
Desc: not available
Url : http://twistedmatrix.com/pipermail/twisted-web/attachments/20111119/69162bee/attachment.obj 

From exarkun at twistedmatrix.com  Sat Nov 19 19:30:49 2011
From: exarkun at twistedmatrix.com (exarkun at twistedmatrix.com)
Date: Sun, 20 Nov 2011 00:30:49 -0000
Subject: [Twisted-web] Bug 3031, handling interrupted responses in nevow
In-Reply-To: <1321746893.3783.140661001146629@webmail.messagingengine.com>
References: <1321456097.24090.140660999710577@webmail.messagingengine.com><20111116200658.20412.1242119940.divmod.xquotient.128@localhost.localdomain><1321484125.25775.140660999904365@webmail.messagingengine.com>
	<CAKc7WwMP76kRWsvgzvDuXi+gpmjJ33iR=qMSg6bqv=M8vZraOw@mail.gmail.com>
	<1321637069.19549.140661000718773@webmail.messagingengine.com>
	<20111118195443.20412.1540432629.divmod.xquotient.164@localhost.localdomain>
	<1321746893.3783.140661001146629@webmail.messagingengine.com>
Message-ID: <20111120003049.20412.524955608.divmod.xquotient.171@localhost.localdomain>

On 19 Nov, 11:54 pm, peter.westlake at pobox.com wrote:
>On Friday, November 18, 2011 7:54 PM, exarkun at twistedmatrix.com wrote:
>>On 05:24 pm, peter.westlake at pobox.com wrote:
>> >On Friday, November 18, 2011 1:57 PM, "eulores" <eulores at gmail.com>
>> >wrote:
>> >>Referring to this?
>> >>http://thread.gmane.org/gmane.comp.python.twisted.web/4537/focus=4538
>> >
>> >Yes, that's the one.
>>
>>Re-opening the issue on http://bugs.launchpad.net/divmod.org might get
>>the ball rolling again.  If you don't still have the patch, I can
>>probably find a copy and apply it to a bzr branch.
>
>I've attached a copy.
>
>That page just says it needs to be configured - there doesn't appear
>to be a way of entering an issue?

sigh.  sorry about that.  I should have pointed you at 
<http://bugs.launchpad.net/nevow>.

Jean-Paul


From peter.westlake at pobox.com  Sun Nov 20 11:10:04 2011
From: peter.westlake at pobox.com (Peter Westlake)
Date: Sun, 20 Nov 2011 16:10:04 +0000
Subject: [Twisted-web] Bug 3031, handling interrupted responses in nevow
In-Reply-To: <20111120003049.20412.524955608.divmod.xquotient.171@localhost.localdomain>
References: <1321456097.24090.140660999710577@webmail.messagingengine.com><20111116200658.20412.1242119940.divmod.xquotient.128@localhost.localdomain><1321484125.25775.140660999904365@webmail.messagingengine.com>
	<CAKc7WwMP76kRWsvgzvDuXi+gpmjJ33iR=qMSg6bqv=M8vZraOw@mail.gmail.com>
	<1321637069.19549.140661000718773@webmail.messagingengine.com>
	<20111118195443.20412.1540432629.divmod.xquotient.164@localhost.localdomain>
	<1321746893.3783.140661001146629@webmail.messagingengine.com>
	<20111120003049.20412.524955608.divmod.xquotient.171@localhost.localdomain>
Message-ID: <1321805404.17853.140661001341889@webmail.messagingengine.com>

> 
> sigh.  sorry about that.  I should have pointed you at 
> <http://bugs.launchpad.net/nevow>.
> 
> Jean-Paul

Thanks! Here it is:

   https://bugs.launchpad.net/nevow/+bug/892794

Peter.


From jacek99 at gmail.com  Tue Nov 22 09:58:04 2011
From: jacek99 at gmail.com (Jacek Furmankiewicz)
Date: Tue, 22 Nov 2011 09:58:04 -0500
Subject: [Twisted-web] CorePost 0.0.8 is out
Message-ID: <CAGDztiGRbFvrWJ5L1r-nJX91Bkw-eA-p7U=Oj5c_6MH=onmaVQ@mail.gmail.com>

New release of the REST microframework built on top of Twisted Web APIs.

http://pypi.python.org/pypi/CorePost

Minor enhancements to support properly YAML/XML marshaling of Python return
types.

Cheers,
Jacek
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-web/attachments/20111122/c1c455ac/attachment.htm 

From exarkun at twistedmatrix.com  Sat Nov 26 11:52:10 2011
From: exarkun at twistedmatrix.com (exarkun at twistedmatrix.com)
Date: Sat, 26 Nov 2011 16:52:10 -0000
Subject: [Twisted-web] twisted.web.template output encoding
Message-ID: <20111126165210.2308.1108209216.divmod.xquotient.319@localhost.localdomain>

Hello all,

I recently did some work on <http://twistedmatrix.com/trac/ticket/4896> 
("twisted.web.util.formatFailure vulnerable to XSS in rare cases"). 
Rather than apply the patch adding extra html.escape calls, I tried 
porting the function to twisted.web.template (presently it builds the 
html string manually).

Apart from various issues relating to the lack of patterns in 
twisted.web.template, the main difficulty is in handling non-ascii 
contents in the traceback.  Apart from any unicode that may show up in 
the source code being rendered (or, perhaps, eventually, the values of 
variables to be rendered - though for now I do not plan to implement 
this) the no-break space characters which are necessary to get traceback 
lines indented properly mean that there is always some non-ascii to 
include in the output.

twisted.web.template encodes its output using UTF-8, and this is not 
customizable.  Thus, using twisted.web.template, formatFailure's result 
will be a str containing UTF-8 encoded text.  Previously the result was 
a str containing only ASCII encoded text, with no-break space 
represented as `&nbsp;?.  Consequently, callers of `formatFailure? will 
probably mishandle the result - the caller in `twisted.web.server? does, 
at least, including the bytes in a page with a content type of 
"text/html".

The solutions that come to mind are all about removing this incompatible 
change and making it so `formatFailure? can continue to return a str 
with ASCII-encoded text.

One solution is to add support for named entities or numeric character 
references to twisted.web.template.  Very likely this is a good idea 
regardless (Nevow supported these).

Another solution is to use a different encoding in 
`twisted.web.template? - ASCII, with xmlcharrefreplace as the error 
handler.  This is tempting since it avoids an obtrusive non-ASCII 
support API (the way Nevow supports these is via `nevow.entities?, which 
must be used rather than normal Python unicode objects).

Perhaps another question is whether the encoding used by 
`twisted.web.template? should be a parameter.  A related question raised 
might be whether `twisted.web.template? should encoded to bytes at all, 
or delegate the responsibility for that to code closer to a socket.

As a work-around in `formatFailure? I can decode the output of the 
flattener using UTF-8 and then re-encode it to avoid non-ASCII, but it 
seems like this should be solved in `twisted.web.template? rather than 
over and over again in application code.

Jean-Paul


From p.mayers at imperial.ac.uk  Sun Nov 27 04:43:15 2011
From: p.mayers at imperial.ac.uk (Phil Mayers)
Date: Sun, 27 Nov 2011 09:43:15 +0000
Subject: [Twisted-web] twisted.web.template output encoding
In-Reply-To: <20111126165210.2308.1108209216.divmod.xquotient.319@localhost.localdomain>
References: <20111126165210.2308.1108209216.divmod.xquotient.319@localhost.localdomain>
Message-ID: <4ED20633.5040409@imperial.ac.uk>

On 11/26/2011 04:52 PM, exarkun at twistedmatrix.com wrote:

> as `&nbsp;?. Consequently, callers of `formatFailure? will probably
> mishandle the result - the caller in `twisted.web.server? does, at
> least, including the bytes in a page with a content type of "text/html".

Amusingly for a unicode-related email, Thunderbird mangled your 
close-quotes for me ;o)

> One solution is to add support for named entities or numeric character
> references to twisted.web.template. Very likely this is a good idea
> regardless (Nevow supported these).

Always useful.


> Perhaps another question is whether the encoding used by
> `twisted.web.template? should be a parameter. A related question raised
> might be whether `twisted.web.template? should encoded to bytes at all,
> or delegate the responsibility for that to code closer to a socket.

FWIW that would be my instinct. If t.w.template emitted unicode, then 
code closer to the socket could decide on the encoding. Presumably the 
default would be to encode to utf-8, but there are cases where you might 
want to do otherwise e.g. some HTML has already been streamed to the 
client with no encoding specified - which equates to iso-8859-1 IIRC? - 
and you want to match that.

Conceptually, HTML is better treated as unicode too.


From glyph at twistedmatrix.com  Sun Nov 27 16:12:52 2011
From: glyph at twistedmatrix.com (Glyph Lefkowitz)
Date: Sun, 27 Nov 2011 16:12:52 -0500
Subject: [Twisted-web] twisted.web.template output encoding
In-Reply-To: <20111126165210.2308.1108209216.divmod.xquotient.319@localhost.localdomain>
References: <20111126165210.2308.1108209216.divmod.xquotient.319@localhost.localdomain>
Message-ID: <7E00C567-9D73-41FF-831E-BD981EFEE147@twistedmatrix.com>

I should probably respond to the rest of the post as well, but...:

On Nov 26, 2011, at 11:52 AM, exarkun at twistedmatrix.com wrote:

> including the bytes in a page with a content type of "text/html".

It's pretty much always wrong to give a page the content type of "text/html".  Browsers will then guess the encoding based on wonky heuristics about the page, which in certain obscure cases can lead to security problems (see <https://en.wikipedia.org/wiki/UTF-7#Security>).

So, in addition to whatever other fix is done here, the encoding on the error page should be adjusted to be explicit about its character set.

-glyph

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-web/attachments/20111127/a169b797/attachment.htm 

From exarkun at twistedmatrix.com  Sun Nov 27 17:55:17 2011
From: exarkun at twistedmatrix.com (exarkun at twistedmatrix.com)
Date: Sun, 27 Nov 2011 22:55:17 -0000
Subject: [Twisted-web] twisted.web.template output encoding
In-Reply-To: <7E00C567-9D73-41FF-831E-BD981EFEE147@twistedmatrix.com>
References: <20111126165210.2308.1108209216.divmod.xquotient.319@localhost.localdomain>
	<7E00C567-9D73-41FF-831E-BD981EFEE147@twistedmatrix.com>
Message-ID: <20111127225517.2308.1447503922.divmod.xquotient.324@localhost.localdomain>

On 09:12 pm, glyph at twistedmatrix.com wrote:
>I should probably respond to the rest of the post as well, but...:
>
>On Nov 26, 2011, at 11:52 AM, exarkun at twistedmatrix.com wrote:
>>including the bytes in a page with a content type of "text/html".
>
>It's pretty much always wrong to give a page the content type of 
>"text/html".  Browsers will then guess the encoding based on wonky 
>heuristics about the page, which in certain obscure cases can lead to 
>security problems (see <https://en.wikipedia.org/wiki/UTF-7#Security>).
>
>So, in addition to whatever other fix is done here, the encoding on the 
>error page should be adjusted to be explicit about its character set.

I filed http://tm.tl/5416 for this.

Jean-Paul


