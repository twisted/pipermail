<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Nevow future
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Nevow%20future&In-Reply-To=20060411221009.22481.224910828.divmod.quotient.12546%40ohm">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002598.html">
   <LINK REL="Next"  HREF="002596.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Nevow future</H1>
    <B>Manlio Perillo</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Nevow%20future&In-Reply-To=20060411221009.22481.224910828.divmod.quotient.12546%40ohm"
       TITLE="[Twisted-web] Nevow future">manlio_perillo at libero.it
       </A><BR>
    <I>Wed Apr 12 04:04:00 CDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="002598.html">[Twisted-web] Nevow future
</A></li>
        <LI>Next message: <A HREF="002596.html">[Twisted-web] test failure of Nevow on Windows XP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2599">[ date ]</a>
              <a href="thread.html#2599">[ thread ]</a>
              <a href="subject.html#2599">[ subject ]</a>
              <a href="author.html#2599">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">glyph at divmod.com</A> ha scritto:
&gt;<i> [...]
</I>&gt;&gt;&gt;<i> When there is a 1.x release, you can begin to expect things
</I>&gt;&gt;&gt;<i> to stop changing as much.
</I>&gt;<i> 
</I>&gt;&gt;<i> There are previsions?
</I>&gt;<i> 
</I>&gt;<i> What is a 'prevision'?
</I>&gt;<i> 
</I>
1) We don't have any idea of what will happen in the future
2) We have an ideal architecture and API definition in mind, but we
don't know how it will take to complete the developement

&gt;<i> [...]
</I>&gt;<i> The WSGI support may not work at all.  It is unsupported, undocumented,
</I>&gt;<i> and there are no tests which import it.
</I>&gt;<i> 
</I>&gt;<i> The WSGI support will only realistically work in a Twisted-style
</I>&gt;<i> environment.  Athena depends explicitly on the reactor, so invoking any
</I>&gt;<i> Athena-using applications in a non-Twisted context will not work. 
</I>&gt;<i> Livetest requires the reactor as well, so you will not be able to write
</I>&gt;<i> nit tests for your application or use any 3rd party fragments which use
</I>&gt;<i> athena or are tested in this manner.
</I>&gt;<i> 
</I>
I'm not sure of this point.
Athena depends on the reactor, but when using Nevow with Zomne, don't we
have a full twisted application running?


By the way, what about:
&quot;&quot;&quot;Running your Nevow applications under twisted.web also gives you
access to some of the more advanced &quot;Live&quot; features of Nevow, such as
nevow.livepage and nevow.canvas. Currently, these modules require more
control over the HTTP socket than CGI or WSGI can provide. (This may
change in the future.)&quot;&quot;&quot;
in
nevow-deployment.html
?


&gt;<i>  [...]
</I>
&gt;<i> Don't get me wrong, I would love it if there were dedicated maintainers
</I>&gt;<i> for these use-cases, since I realize they are important to many people.
</I>
In my case I'm still investigating this.

lighttp is gaining popularity, so there are opportunities to have it
available on many hosting solutions.

&gt;<i> They just aren't important to *us*, so we're not going to spend time.
</I>&gt;<i> 
</I>&gt;&gt;&gt;<i> Your Nevow applications should remain independent of it, though.
</I>&gt;<i> 
</I>&gt;&gt;<i> I would like to use lighttp as the *only* webserver, and Nevow *only*
</I>&gt;&gt;<i> for the rendering, session support, and so.
</I>&gt;<i> 
</I>&gt;<i> lighttpd supports reverse proxies.  Nevow's session support, in
</I>&gt;<i> nevow.guard, depends on the reactor and twisted.web, so you will be
</I>&gt;<i> unable to use it otherwise.
</I>&gt;<i> 
</I>
Just a question:
it is possible to forward an HTTP request using Unix domain sockets?
Is this supported with Apache and lighhtp?


&gt;&gt;&gt;&gt;<i> Reverse Proxy is not an option for me (*why* to use two or more
</I>&gt;&gt;&gt;&gt;<i> webservers and duplicate HTTP protocol handling?).
</I>&gt;<i> 
</I>&gt;&gt;&gt;<i> Because it solves a problem?  Why *not* do this?
</I>&gt;<i> 
</I>&gt;&gt;<i> I don't like the idea.
</I>&gt;<i> 
</I>&gt;<i> Yes but _WHY_ don't you like the idea?  
</I>
I like the idea of a full separation between a web server and a web
application.

&gt;<i> Do you live in some alternate
</I>&gt;<i> reality where the arrangement of bytes in an HTTP packet has harmful
</I>&gt;<i> effects but the arrangement of bytes in a FastCGI packet does not?
</I>&gt;<i> 
</I>
There is not only the question of arrangment of packets.

&gt;<i> [...]
</I>&gt;<i> 
</I>&gt;<i> This is a common mistake, because it seems &quot;simpler&quot; to design your own
</I>&gt;<i> protocol for talking about HTTP than to use HTTP itself.  It isn't.  In
</I>&gt;<i> fact, by definition, it cannot be: your new protocol has to provide all
</I>&gt;<i> the information present in the original HTTP request (or risk breaking
</I>&gt;<i> applications that depend on some information you did not relay), so in
</I>&gt;<i> the best case it can be exactly as complex as HTTP.  
</I>
A web server does not simply parse tha HTTP headers; it have to do some
pre and post processing.

The question is:
- what can do a web server?
- what have to do a web application?


&gt;<i> I wrote something
</I>&gt;<i> like this in twisted.web.distrib, where I converted the HTTP requests to
</I>&gt;<i> PB and back again.  While the &quot;automated proxying for users&quot;
</I>&gt;<i> functionality was cool, I had *just written* an HTTP parser and it was
</I>&gt;<i> silly not to just use it over a unix socket.  I am pleased to note that
</I>&gt;<i> web2, when it implements something like web.distrib, will do it the
</I>&gt;<i> correct way and just make it a regular reverse proxy over a unix socket.
</I>&gt;<i> 
</I>
This is interesting.

&gt;<i> FastCGI itself is also actually harder to parse, contains numerous
</I>&gt;<i> design errors, and more confusing and inconsistent than HTTP itself. 
</I>&gt;<i> There are numerous inconsistencies it could have fixed in HTTP - it
</I>&gt;<i> could have properly optimized the multiplexed-channel case with inband
</I>&gt;<i> flow control to avoid TCP startup overhead for distant FastCGI proxies -
</I>&gt;<i> it could have normalized the transport over something easy to audit and
</I>&gt;<i> implement like netstrings - but it totally failed to do anything
</I>&gt;<i> worthwhile despite being an entirely new protocol.
</I>&gt;<i> 
</I>
I agree.
FastCGI failed because it could have been a more better protocol.

&gt;<i> [...]
</I>
&gt;<i> Nevertheless, dumb as it is, supporting FastCGI is still worthwhile. 
</I>&gt;<i> Various bits of useful software have integrated it for one reason or
</I>&gt;<i> another, and some of them don't have other ways of talking to the
</I>&gt;<i> outside world.  That doesn't mean it's a good idea to write new software
</I>&gt;<i> that is similarly hamstrung by a bad integration decision.
</I>&gt;<i> 
</I>
Ok.

&gt;<i> [...]
</I>&gt;<i> 
</I>&gt;<i> I hope I've made it clear that no, it isn't.
</I>&gt;<i> 
</I>
Thanks for the exhaustive explanation.


Regards  Manlio Perillo

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002598.html">[Twisted-web] Nevow future
</A></li>
	<LI>Next message: <A HREF="002596.html">[Twisted-web] test failure of Nevow on Windows XP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2599">[ date ]</a>
              <a href="thread.html#2599">[ thread ]</a>
              <a href="subject.html#2599">[ subject ]</a>
              <a href="author.html#2599">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
