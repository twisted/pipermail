<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Nevow athena
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Nevow%20athena&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002618.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Nevow athena</H1>
    <B>Christopher Zorn</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Nevow%20athena&In-Reply-To="
       TITLE="[Twisted-web] Nevow athena">christopher.zorn at gmail.com
       </A><BR>
    <I>Thu Apr 27 12:56:40 CDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="002618.html">[Twisted-web] Twisted-Web2 perf numbers
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2619">[ date ]</a>
              <a href="thread.html#2619">[ thread ]</a>
              <a href="subject.html#2619">[ subject ]</a>
              <a href="author.html#2619">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey,

  I have been using livepage in a project and I use gaurd and
twisted.cred for different livepage resources. Everything works well,
but I wanted to use athena. I run into two problems with athena. The
first problem is when I have one athena.Livepage object in my realm I
get errors saying I can only render the LivePage once.

So, to get around that I just do something like the following in the
realm class :

 def requestAvatar(self, avatarId, mind, *interfaces):
       for iface in interfaces:
           if iface is inevow.IResource:
               if avatarId is checkers.ANONYMOUS:
                   resc = AnonPage()
                   resc.realm = self
                   return (inevow.IResource, resc, noLogout)
               else:
                   resc = MyPage(avatarId)
                   resc.realm = self
                   return (inevow.IResource, resc, resc.logout)

This seems to work ok. Is this something I have to do? Or can I use
one class that takes avatarId as a paramater on __init__?

Now for the second problem. (This problem happens after I use the above fix. )

If I use checkers.InMemoryUsernamePasswordDatabaseDontUse() everything
works ok. But if I use my checker or other checkers the page does not
get rendered and everything just hangs. If I run my tac file with
twisted -noy I can not control-C to kill the process, I have to kill
it with signal 9.

I have tried a basic athena.LivePage class with nothing but html,
body, and liveglue that is supposed to be rendered out and it still
hangs.

Everything works well with livepage.LivePage, but hangs with athena.
Does anyone know why this would happen? I hope this email is not too
vague. Let me know if I need more details.

Thanks in advance.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002618.html">[Twisted-web] Twisted-Web2 perf numbers
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2619">[ date ]</a>
              <a href="thread.html#2619">[ thread ]</a>
              <a href="subject.html#2619">[ subject ]</a>
              <a href="author.html#2619">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
