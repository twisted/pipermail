<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Twisted and WSGI...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Twisted%20and%20WSGI...&In-Reply-To=443414B5.60805%40zope.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002573.html">
   <LINK REL="Next"  HREF="002575.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Twisted and WSGI...</H1>
    <B>Ian Bicking</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Twisted%20and%20WSGI...&In-Reply-To=443414B5.60805%40zope.com"
       TITLE="[Twisted-web] Twisted and WSGI...">ianb at colorstudy.com
       </A><BR>
    <I>Wed Apr  5 14:39:36 CDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="002573.html">[Twisted-web] Twisted and WSGI...
</A></li>
        <LI>Next message: <A HREF="002575.html">[Twisted-web] Twisted and WSGI...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2574">[ date ]</a>
              <a href="thread.html#2574">[ thread ]</a>
              <a href="subject.html#2574">[ subject ]</a>
              <a href="author.html#2574">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jim Fulton wrote:
&gt;&gt;<i> As WSGI is going into python 2.5, I was wondering what the general
</I>&gt;&gt;<i> consensus is among twisted web devs about it?  Does the WSGI model map
</I>&gt;&gt;<i> well into twisted's asynchronous model? 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Not as well as it should IMO.  There seems to be some disdain
</I>&gt;<i> for asynchronous servers on the WSGI list.  I tried to
</I>&gt;<i> advocate on the WSGI list for better support for asynchronous
</I>&gt;<i> servers, especially wrt threading issues.
</I>
I think &quot;disdain&quot; is too strong.  There's a lack of any complete 
proposal which would work, especially one that doesn't have Deferred or 
other particular bits of code as a prerequesite.  There was discussion a 
long time ago, but it drifted off.  More generally, there's no larger 
consensus on how to do asynchronous programming in Python, though 
there's obvious consensus on how to do synchronous programming (that is: 
with functions).

I remember some discussion about allowing an asynchronous application to 
return '' in the WSGI app response iterator, which would signify a 
yield, but I'm not sure where any ready signal would go.

&gt;&gt;<i> Say I have a WSGI
</I>&gt;&gt;<i> app and I want to port it to twisted.  How easy is that?  (I know
</I>&gt;&gt;<i> there is a twisted wsgi module)
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Trivial.
</I>
Which reminds me -- I started doing this in Paste, but got bogged down 
in all the setup and imports I didn't understand, and then subscribed 
here and never followed up.  Can someone provide an example of a simple 
function that would look like:

def serve_with_twisted(hosts, wsgi_app, **kw):
     &quot;&quot;&quot;Serve wsgi_app indefinitely

     hosts is a list of 'address:port', and wsgi_app is a
     WSGI application.  **kw is... whatever other interesting things
     you might want to use to configure a Twisted server
     &quot;&quot;&quot;

Then I can lightly wrap that and people could use Twisted with their 
Paste configuration files.

&gt;&gt;<i>  Do I just need to wrap some logic in deferreds?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> No. You don't have to do any twisted programming at all to use the
</I>&gt;<i> web server via WSGI.
</I>&gt;<i> 
</I>&gt;<i> IMO, to get the full scalability benefits you want, you may
</I>&gt;<i> need to address some threading issues.  You might look at the
</I>&gt;<i> Zope 3 integration, which isn't as clean as it ought to me.
</I>
Is this related to the threadpool, or are you using backdoors to the 
underlying Twisted server to do some things in an asynchronous manner?


-- 
Ian Bicking  /  <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">ianb at colorstudy.com</A>  /  <A HREF="http://blog.ianbicking.org">http://blog.ianbicking.org</A>

</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002573.html">[Twisted-web] Twisted and WSGI...
</A></li>
	<LI>Next message: <A HREF="002575.html">[Twisted-web] Twisted and WSGI...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2574">[ date ]</a>
              <a href="thread.html#2574">[ thread ]</a>
              <a href="subject.html#2574">[ subject ]</a>
              <a href="author.html#2574">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
