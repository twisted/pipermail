<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] XMLRPC response encoding
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20XMLRPC%20response%20encoding&In-Reply-To=471C8A13.3010102%40iavante.es">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003549.html">
   <LINK REL="Next"  HREF="003551.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] XMLRPC response encoding</H1>
    <B>Jean-Paul Calderone</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20XMLRPC%20response%20encoding&In-Reply-To=471C8A13.3010102%40iavante.es"
       TITLE="[Twisted-web] XMLRPC response encoding">exarkun at divmod.com
       </A><BR>
    <I>Mon Oct 22 07:55:49 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="003549.html">[Twisted-web] XMLRPC response encoding
</A></li>
        <LI>Next message: <A HREF="003551.html">[Twisted-web] XMLRPC response encoding
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3550">[ date ]</a>
              <a href="thread.html#3550">[ thread ]</a>
              <a href="subject.html#3550">[ subject ]</a>
              <a href="author.html#3550">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 22 Oct 2007 13:31:31 +0200, Daniel de la Cuesta &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">daniel.cuesta at iavante.es</A>&gt; wrote:
&gt;<i>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;
</I>&gt;<i>&lt;html&gt;
</I>&gt;<i>&lt;head&gt;
</I>&gt;<i>  &lt;meta content=&quot;text/html;charset=ISO-8859-1&quot; http-equiv=&quot;Content-Type&quot;&gt;
</I>&gt;<i>  &lt;title&gt;&lt;/title&gt;
</I>&gt;<i>&lt;/head&gt;
</I>&gt;<i>&lt;body bgcolor=&quot;#ffffff&quot; text=&quot;#000000&quot;&gt;
</I>&gt;<i>Hi,&lt;br&gt;
</I>&gt;<i>&lt;br&gt;
</I>&gt;<i>We are working on a middleware with Twisted that connects to a POP3
</I>&gt;<i>server and provides an XMLRPC interface (using twisted.web)) to
</I>&gt;<i>interacts with third party clients.&lt;br&gt;
</I>&gt;<i>&lt;br&gt;
</I>&gt;<i>The twisted middleware has to deal with non ASCII (UTF-8 or Latin-1)
</I>&gt;<i>encodings in the subject and the body of the mail messages. I have seen
</I>&gt;<i>that Twisted XMLRPC server doesn't specify the encoding of the XMLRPC
</I>&gt;<i>response, for example:&lt;br&gt;
</I>&gt;<i>&lt;br&gt;
</I>&gt;<i>&lt;pre&gt;&amp;lt;?xml version='1.0'?&amp;gt;&lt;/pre&gt;
</I>&gt;<i>&lt;pre&gt;&amp;lt;methodCall&amp;gt;&lt;/pre&gt;
</I>&gt;<i>&lt;pre&gt;&amp;lt;methodName&amp;gt;connect&amp;lt;/methodName&amp;gt;&lt;/pre&gt;
</I>&gt;<i>&lt;pre&gt;&amp;lt;params&amp;gt;&lt;/pre&gt;
</I>&gt;<i>&lt;pre&gt;...&lt;/pre&gt;
</I>&gt;<i>&lt;pre&gt;&amp;lt;/params&amp;gt;&lt;/pre&gt;
</I>&gt;<i>&lt;pre&gt;&amp;lt;/methodCall&amp;gt;&lt;/pre&gt;
</I>&gt;<i>&lt;br&gt;
</I>&gt;<i>This issue produces an error when &quot;expat&quot; parses the response in the
</I>&gt;<i>xmlrpc client:&lt;br&gt;
</I>&gt;<i>&lt;br&gt;
</I>&gt;<i>&lt;pre&gt;xml.parsers.expat.ExpatError: not well-formed (invalid token)
</I>&gt;<i>
</I>&gt;<i>&lt;/pre&gt;
</I>&gt;<i>There is an open ticket with a patch to deal with &quot;Latin-1&quot; encodings
</I>&gt;<i>at the xmlrpc server:&lt;br&gt;
</I>&gt;<i>&lt;br&gt;
</I>&gt;<i>&lt;a href=&quot;<A HREF="http://twistedmatrix.com/trac/ticket/1909&quot;">http://twistedmatrix.com/trac/ticket/1909&quot;</A>&gt;<A HREF="http://twistedmatrix.com/trac/ticket/1909&lt;/a">http://twistedmatrix.com/trac/ticket/1909&lt;/a</A>&gt;&lt;br&gt;
</I>&gt;<i>&lt;br&gt;
</I>&gt;<i>But it is not closed and it has been opened one year ago. &lt;br&gt;
</I>&gt;<i>&lt;br&gt;
</I>&gt;<i>How can I solve the encoding problem in the XMLRPC server response? &lt;br&gt;
</I>
Help resolve #1909.  The patch attached to the ticket is at least missing
unit tests for the new functionality it provides.  If you can provide this,
then we might be able to add the feature and resolve the ticket

Jean-Paul

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003549.html">[Twisted-web] XMLRPC response encoding
</A></li>
	<LI>Next message: <A HREF="003551.html">[Twisted-web] XMLRPC response encoding
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3550">[ date ]</a>
              <a href="thread.html#3550">[ thread ]</a>
              <a href="subject.html#3550">[ subject ]</a>
              <a href="author.html#3550">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
