<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] [Twisted-Python] Speed of rendering?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20%5BTwisted-Python%5D%20Speed%20of%20rendering%3F&In-Reply-To=20130106202209.4649.2128100837.divmod.xquotient.138%40localhost6.localdomain6">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="004990.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] [Twisted-Python] Speed of rendering?</H1>
    <B>Peter Westlake</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20%5BTwisted-Python%5D%20Speed%20of%20rendering%3F&In-Reply-To=20130106202209.4649.2128100837.divmod.xquotient.138%40localhost6.localdomain6"
       TITLE="[Twisted-web] [Twisted-Python] Speed of rendering?">peter.westlake at pobox.com
       </A><BR>
    <I>Tue Feb 26 13:05:45 EST 2013</I>
    <P><UL>
        
        <LI>Next message: <A HREF="004990.html">[Twisted-web] [Twisted-Python] Speed of rendering?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4989">[ date ]</a>
              <a href="thread.html#4989">[ thread ]</a>
              <a href="subject.html#4989">[ subject ]</a>
              <a href="author.html#4989">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, Jan 6, 2013, at 20:22, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">exarkun at twistedmatrix.com</A> wrote:
&gt;<i> On 12:48 am, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">peter.westlake at pobox.com</A> wrote:
</I>&gt;<i> &gt;On Fri, Jan 4, 2013, at 19:58, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">exarkun at twistedmatrix.com</A> wrote:
</I>...
&gt;<i> Codespeed cannot handle more than one result per benchmark.
</I>&gt;<i> &gt;&gt;The `timeit` module is probably not suitable to use to collect the data
</I>.....
&gt;<i> &gt;What method would you prefer?
</I>&gt;<i> 
</I>&gt;<i> Something simple and accurate. :)  You may need to do some investigation 
</I>&gt;<i> to determine the best approach.
</I>
1. This is simple:

    def do_benchmark(content):
         t1 = time.time()
         d = flatten(request, content, lambda _: None)
         t2 = time.time()
         assert d.called
         return t2 - t1

Do you think it's acceptably accurate? After a few million iterations,
the relative error should be pretty small.

2. For the choice of test data, I had a quick search for benchmarks from
other web frameworks. All I found was &quot;hello world&quot; benchmarks, that
test the overhead of the framework itself by rendering an empty page.
I'll include that, of course.

3. Regarding option parsing, is there any reason to prefer
twisted.python.usage.Options over argparse? Or optparse if Python 2.7 is
too new. The docs imply that Options was written long before any decent
argument parsing was available.

Peter.

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="004990.html">[Twisted-web] [Twisted-Python] Speed of rendering?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4989">[ date ]</a>
              <a href="thread.html#4989">[ thread ]</a>
              <a href="subject.html#4989">[ subject ]</a>
              <a href="author.html#4989">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
