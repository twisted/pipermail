<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] nevow livepage - where are my
	parameters	(request.args) gone?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20nevow%20livepage%20-%20where%20are%20my%0A%09parameters%09%28request.args%29%20gone%3F&In-Reply-To=4f5e04810510180918o62fc6e9ekcede35f527fb5972%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001994.html">
   <LINK REL="Next"  HREF="001995.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] nevow livepage - where are my
	parameters	(request.args) gone?</H1>
    <B>Peter Arwanitis</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20nevow%20livepage%20-%20where%20are%20my%0A%09parameters%09%28request.args%29%20gone%3F&In-Reply-To=4f5e04810510180918o62fc6e9ekcede35f527fb5972%40mail.gmail.com"
       TITLE="[Twisted-web] nevow livepage - where are my
	parameters	(request.args) gone?">spex66 at gmx.net
       </A><BR>
    <I>Wed Oct 19 11:07:40 MDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001994.html">[Twisted-web] nevow livepage - where are my parameters
	(request.args) gone?
</A></li>
        <LI>Next message: <A HREF="001995.html">[Twisted-web] Memory leak with twisted web server on QNX
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1998">[ date ]</a>
              <a href="thread.html#1998">[ thread ]</a>
              <a href="subject.html#1998">[ subject ]</a>
              <a href="author.html#1998">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

OK, the riddle of the lost parameters is solved

part of my fault... cause I'm not able to render my nevow Page with 
plain-html (problem:1), Ive taken the the shortcut via hook in 
livepage.goingLive and
client.send(set('idOfMyDiv', plainHTMLasString), eol)

Fact is: in goingLive my parameters appended to the url (and visible in 
browser!) are LOST!!!

hacking down to liveglue.js they are abviously cut-of and trashed

my solution (pragmatic and without knowledge about sense and further 
sideeffects):

/* hacking liveglue.js * /
...
/* route parameter to server site */
var queryParam = '';
if (queryParamIndex != -1) {
  queryParam = '&amp;' + base_url.substring(queryParamIndex+1, base_url.length);
  base_url = base_url.substring(0, queryParamIndex);
 }
...
function connect(outputNum) {
...
  /* building the url in connect() --&gt; appending extracted parameter if any
     mysite/livepage_client/output?outputNum=0&amp;when=20051010
*/
  var U = base_url + nevow_clientHandleId + &quot;/output?outputNum=&quot; + 
outputNum + queryParam;
...

now I can retrieve my parameters during goingLive (problem:2) solved

any hints for a better (existing) solution???
recommendations for (problem:1)?

bye
Peter
(=PA=)

Peter Arwanitis schrieb:

&gt;<i> Hi there,
</I>&gt;<i>
</I>&gt;<i> first: Thanks for nevow 0.5!
</I>&gt;<i> JIT :) for evaluation and integration in an ongoing project of mine.
</I>&gt;<i>
</I>&gt;<i> Searching for AJAX features with python-support the &quot;chatola&quot; example 
</I>&gt;<i> is an amazing eye-opener!!!
</I>&gt;<i>
</I>&gt;<i> The bi-directional support is stunning! And the code is compact...
</I>&gt;<i>
</I>&gt;<i> Hacking through the roughs, I have
</I>&gt;<i> * migrated my existing twisted.web.server to nevow.appserver stuff: 
</I>&gt;<i> DONE (cannot have them both, cause of interface-adaption-hell)
</I>&gt;<i> * sucessful broadcasting from wxPython/twisted.reactor-application to 
</I>&gt;<i> connected browsers, via send()
</I>&gt;<i> * ...
</I>&gt;<i>
</I>&gt;<i> Problems I cannot hack:
</I>&gt;<i> (problem:1) using nevow:render=&quot;store&quot; and appropriate render_store() 
</I>&gt;<i> method. I'm returning plain string WITH rendered html (from existing 
</I>&gt;<i> code) --&gt; HOW can I avoid the escaping of all '&lt;' '&amp;' and '&gt;'??? No, 
</I>&gt;<i> it's not sure that ii is xhtml.
</I>&gt;<i> (problem:2) Problem using href-links form inside my lifepage with 
</I>&gt;<i> additional parameters <A HREF="http://localhost:8080/lifesite?when=20051010">http://localhost:8080/lifesite?when=20051010</A> 
</I>&gt;<i> (not AJAX -&gt; plain request)
</I>&gt;<i> Where does my parameters gone??? only things like ('livepage_client', 
</I>&gt;<i> '0', 'output') occuring?
</I>&gt;<i>
</I>&gt;<i> thanks for hints
</I>&gt;<i> Peter
</I>&gt;<i> (=PA=)
</I>&gt;<i>
</I>&gt;<i>------------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i>_______________________________________________
</I>&gt;<i>Twisted-web mailing list
</I>&gt;<i><A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">Twisted-web at twistedmatrix.com</A>
</I>&gt;<i><A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web</A>
</I>&gt;<i>  
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001994.html">[Twisted-web] nevow livepage - where are my parameters
	(request.args) gone?
</A></li>
	<LI>Next message: <A HREF="001995.html">[Twisted-web] Memory leak with twisted web server on QNX
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1998">[ date ]</a>
              <a href="thread.html#1998">[ thread ]</a>
              <a href="subject.html#1998">[ subject ]</a>
              <a href="author.html#1998">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
