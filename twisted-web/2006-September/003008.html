<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] web2.client pipelining (was: Web2: What is to be
	Done)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20web2.client%20pipelining%20%28was%3A%20Web2%3A%20What%20is%20to%20be%0A%09Done%29&In-Reply-To=7E06C3D3-4C0A-42BD-A6EA-8CFEE0F6A3F9%40slamb.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003005.html">
   <LINK REL="Next"  HREF="003009.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] web2.client pipelining (was: Web2: What is to be
	Done)</H1>
    <B>James Y Knight</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20web2.client%20pipelining%20%28was%3A%20Web2%3A%20What%20is%20to%20be%0A%09Done%29&In-Reply-To=7E06C3D3-4C0A-42BD-A6EA-8CFEE0F6A3F9%40slamb.org"
       TITLE="[Twisted-web] web2.client pipelining (was: Web2: What is to be
	Done)">foom at fuhm.net
       </A><BR>
    <I>Thu Sep 14 13:36:26 CDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="003005.html">[Twisted-web] web2.client pipelining (was: Web2: What is to be Done)
</A></li>
        <LI>Next message: <A HREF="003009.html">[Twisted-web] web2.client pipelining (was: Web2: What is to be
	Done)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3008">[ date ]</a>
              <a href="thread.html#3008">[ thread ]</a>
              <a href="subject.html#3008">[ subject ]</a>
              <a href="author.html#3008">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sep 13, 2006, at 2:00 PM, Scott Lamb wrote:
&gt;<i> I hadn't noticed until now that y'all have added a  
</I>&gt;<i> twisted.web2.client to trunk. (Copied from a web2-client4 branch; I  
</I>&gt;<i> guess the previous castle burned down, fell over, and then sank  
</I>&gt;<i> into the swamp. ;)
</I>&gt;<i>
</I>&gt;<i> &lt;pipelining/retry/etc&gt;
</I>
The client that's in there right now is a low-level http client. The  
higher level web client (the connection manager, queuing, pooling,  
etc.) is not completed. That is where the retry logic and the  
determination of which requests can be pipelined and which cannot  
would go. Please note that even *keepalive* can only be (reliably)  
used for idempotent actions. For example, client sends request A,  
gets response A, sends request B, but at the same time, server closes  
the connection from a timeout condition.

The twisted.web2.client.HTTPClientProtocol.submitRequest has a  
keyword arg &quot;closeAfter&quot;, which defaults to True. Thus, without you  
doing anything to change it, there is no keepalive and no pipelining.  
Each connection will only be usable for one request. Pipelining and  
keepalive features should really only be enabled when a request is  
submitted by a client manager which is able to handle the appropriate  
failure retry conditions.

James


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003005.html">[Twisted-web] web2.client pipelining (was: Web2: What is to be Done)
</A></li>
	<LI>Next message: <A HREF="003009.html">[Twisted-web] web2.client pipelining (was: Web2: What is to be
	Done)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3008">[ date ]</a>
              <a href="thread.html#3008">[ thread ]</a>
              <a href="subject.html#3008">[ subject ]</a>
              <a href="author.html#3008">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
