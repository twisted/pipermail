<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Re: Nevow and template like files
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Re%3A%20Nevow%20and%20template%20like%20files&In-Reply-To=87venzap23.fsf%40aka.i.naked.iki.fi">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002987.html">
   <LINK REL="Next"  HREF="002989.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Re: Nevow and template like files</H1>
    <B>Valentino Volonghi aka Dialtone</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Re%3A%20Nevow%20and%20template%20like%20files&In-Reply-To=87venzap23.fsf%40aka.i.naked.iki.fi"
       TITLE="[Twisted-web] Re: Nevow and template like files">dialtone at divmod.com
       </A><BR>
    <I>Thu Sep  7 07:10:48 CDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="002987.html">[Twisted-web] Re: Nevow and template like files
</A></li>
        <LI>Next message: <A HREF="002989.html">[Twisted-web] Re: Nevow and template like files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2988">[ date ]</a>
              <a href="thread.html#2988">[ thread ]</a>
              <a href="subject.html#2988">[ subject ]</a>
              <a href="author.html#2988">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 07 Sep 2006 14:33:56 +0300, Nuutti Kotivuori &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">naked at iki.fi</A>&gt; wrote:
&gt;<i>Nuutti Kotivuori wrote:
</I>&gt;<i>,----[ datapage.py ]
</I>&gt;|<i> class DataPage(TestPage):
</I>&gt;|<i>     datapageFactory = loaders.xmlfile('datapage.xhtml')
</I>&gt;|<i>
</I>&gt;|<i>     def macro_test(self, ctx):
</I>&gt;|<i>         return 'Test successful.'
</I>&gt;|<i>
</I>&gt;|<i>     def macro_snippet_one(self, ctx):
</I>&gt;|<i>         return Snippets().one(ctx)
</I>&gt;|<i>
</I>&gt;|<i>     def macro_snippet_two(self, ctx):
</I>&gt;|<i>         return Snippets().two(ctx, 'foo', 'bar')
</I>&gt;|<i>
</I>&gt;|<i>     def macro_snippet_three(self, ctx):
</I>&gt;|<i>         return Snippets().three(ctx)
</I>&gt;|<i>
</I>&gt;|<i> class Snippets(rend.Fragment):
</I>&gt;|<i>     docFactory = loaders.xmlfile('snippets.xhtml')
</I>&gt;|<i>
</I>&gt;|<i>     def one(self, ctx):
</I>&gt;|<i>         context = self.rend(ctx, None)
</I>&gt;|<i>         context.tag = inevow.IQ(context.tag).onePattern('one')
</I>&gt;|<i>         return context
</I>&gt;|<i>
</I>&gt;|<i>     def two(self, ctx, arg1, arg2):
</I>&gt;|<i>         context = self.rend(ctx, None)
</I>&gt;|<i>         context.tag = inevow.IQ(context.tag).onePattern('two')
</I>&gt;|<i>         context.tag = context.tag.fillSlots('arg1', arg1)
</I>&gt;|<i>                                  .fillSlots('arg2', arg2)
</I>&gt;|<i>         return context
</I>&gt;|<i>
</I>&gt;|<i>     def three(self, ctx):
</I>&gt;|<i>         context = self.rend(ctx, None)
</I>&gt;|<i>         context.tag = inevow.IQ(context.tag).onePattern('three')
</I>&gt;|<i>         return context
</I>&gt;|<i>
</I>&gt;|<i>     def render_three_special(self, ctx, data):
</I>&gt;|<i>         import datetime
</I>&gt;|<i>         return 'special render with time %s' % datetime.datetime.now()
</I>&gt;<i>`----
</I>&gt;<i>
</I>&gt;<i>Now, this method seems to work, but I'm not sure if I'm too happy with
</I>&gt;<i>it yet.
</I>
I have to say that this way of organizing code doesn't strike me as too effective. Also you seem to be misusing the Fragment object IMHO. It's pretty useless to call self.rend and then substituting the tag attribute (which was created by the rend object, just don't call rend at all and do something else).

Anyway the real problem with this organization is encapsulation of the relevant methods, in my opinion it might become very hard to handle these very complex templates togheter with their methods. Unfortunately since I've never needed something like this I can't even come up with a valuable solution, sorry.

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002987.html">[Twisted-web] Re: Nevow and template like files
</A></li>
	<LI>Next message: <A HREF="002989.html">[Twisted-web] Re: Nevow and template like files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2988">[ date ]</a>
              <a href="thread.html#2988">[ thread ]</a>
              <a href="subject.html#2988">[ subject ]</a>
              <a href="author.html#2988">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
