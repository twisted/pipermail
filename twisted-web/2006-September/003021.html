<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] fragments with child lookup
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20fragments%20with%20child%20lookup&In-Reply-To=20060922123628.1717.740167549.divmod.quotient.56704%40ohm">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003019.html">
   <LINK REL="Next"  HREF="003022.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] fragments with child lookup</H1>
    <B>Markus Schiltknecht</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20fragments%20with%20child%20lookup&In-Reply-To=20060922123628.1717.740167549.divmod.quotient.56704%40ohm"
       TITLE="[Twisted-web] fragments with child lookup">markus at bluegap.ch
       </A><BR>
    <I>Fri Sep 22 08:27:38 CDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="003019.html">[Twisted-web] fragments with child lookup
</A></li>
        <LI>Next message: <A HREF="003022.html">[Twisted-web] fragments with child lookup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3021">[ date ]</a>
              <a href="thread.html#3021">[ thread ]</a>
              <a href="subject.html#3021">[ subject ]</a>
              <a href="author.html#3021">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Valentino Volonghi aka Dialtone wrote:
&gt;<i> To be honest I've tried reading your first email many times and in 
</I>&gt;<i> different days but I've not understood the actual usecase.
</I>
Thank you for trying! I'm not a native English speaker, thus sometimes 
I'm not very good at explaining.

&gt;<i> Other than that what *IS* a child of a fragment conceptually? A Fragment 
</I>&gt;<i> is a Fragment, a reusable element of a page.
</I>
Right. I try in nevow terms: I want to write a Page, which dynamically 
displays different Fragments depending on the URL. I wanted to use all 
the 'locateChild()' mechanism for that, but this seems not possible.

Since Pages are derived from Fragments, I didn't think about using 
Fragments in the first place at all. (Of course, I'm 'using' Fragments, 
but hidden from me through the Page class, which inherits from Fragments).

As you can see in my example, I've written my own 
'locateFragmentChild()' method which does exactly what I'm describing above.

The use case is very simple and (IMHO) common: I have a top top level 
template containing all the HTML headers and some common design 
elements. Plus the top level navigation. Depending on the URL, different 
other templates should be inserted (Fragments?). If you know Mason 
(perl) or Myghty (python), I want to migrate from there. They have a 
structure like that:

autohandler			# the default template which gets
                                 # rendered for every request

dhandler                        # a default handler, called if no child
                                 # is given in the URL, i.e.:
                                 # www.mysite.com/

foo.html                        # a normal site available at:
                                 # www.mysite.com/foo.html
                                 # it gets rendered as 'child' of the
                                 # toplevel autohandler, thus it
                                 # inherits it's methods and template.

foo/autohandler			# the template for subdir 'foo' on:
                                 # www.mysite.com/foo/*

foo/bar.html                    # a site in the subdirectory
                                 # www.mysite.com/foo/bar.html
                                 # For this, the toplevel autohandler is
                                 # rendered first, then foo/autohandler
                                 # and then foo/bar.html

This is very usefull when writing 'hierarchical' sites, i.e. where you 
can navigate in a tree. What's the best way to do that in nevow?

&gt;<i> Another issue is that it uses the context, we are moving away from it 
</I>&gt;<i> and it's highly likely that no new patches/features are accepted if they 
</I>&gt;<i> still use or rely completely on the context.
</I>
Hm. I don't know if that matters to me.

Something else I'm very thankful about are the 'preprocessors'. It seems 
they have (more or less) recently been added. Any chance I can pass them 
arguments? Currently I simply insert a renderer in my preprocessor, but 
I'm not sure if I can do everything with just inserting renderers (but 
probably I can, I'll see).

Thank you.

Markus

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003019.html">[Twisted-web] fragments with child lookup
</A></li>
	<LI>Next message: <A HREF="003022.html">[Twisted-web] fragments with child lookup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3021">[ date ]</a>
              <a href="thread.html#3021">[ thread ]</a>
              <a href="subject.html#3021">[ subject ]</a>
              <a href="author.html#3021">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
