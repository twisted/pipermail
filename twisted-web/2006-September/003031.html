<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] fragments with child lookup
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20fragments%20with%20child%20lookup&In-Reply-To=45165BB9.6000004%40bluegap.ch">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003030.html">
   <LINK REL="Next"  HREF="003032.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] fragments with child lookup</H1>
    <B>Valentino Volonghi aka Dialtone</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20fragments%20with%20child%20lookup&In-Reply-To=45165BB9.6000004%40bluegap.ch"
       TITLE="[Twisted-web] fragments with child lookup">dialtone at divmod.com
       </A><BR>
    <I>Sun Sep 24 14:43:20 CDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="003030.html">[Twisted-web] fragments with child lookup
</A></li>
        <LI>Next message: <A HREF="003032.html">[Twisted-web] fragments with child lookup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3031">[ date ]</a>
              <a href="thread.html#3031">[ thread ]</a>
              <a href="subject.html#3031">[ subject ]</a>
              <a href="author.html#3031">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, 24 Sep 2006 12:19:37 +0200, Markus Schiltknecht &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">markus at bluegap.ch</A>&gt; wrote:
&gt;<i>Hi,
</I>&gt;<i>
</I>&gt;<i>Valentino Volonghi aka Dialtone wrote:
</I>&gt;&gt;<i>You can't do that because pastebin is not designed to be used in that way.
</I>&gt;<i>
</I>&gt;<i>You mean, even though pastebin's RootPage is derived from a Fragment, I 
</I>&gt;<i>can't embed it into another Page? This would mean nevow is not component 
</I>&gt;<i>based, according to my understanding at least. I can't believe that.
</I>
No it means another thing. It means that the RootPage contains information on the children of that page and rendering that as a Fragment will lose this information. This means that the pastebin is not embeddable (which is what I said) and it should also be clear to you (I already tried to explain this and also exarkun did now) that a Page should not be used as a Fragment and it's also wrong to ask a Fragment about its Page children of course.

&gt;&gt;<i>Otherwise simply return the root page of the pastebin from the 
</I>&gt;&gt;<i>child_pastebin method of the root page of your site.
</I>&gt;<i>
</I>&gt;<i>That does the URL-space-embedding of the pastebin into another page. But not 
</I>&gt;<i>the design wise embedding.
</I>
That does what the pastebin can do at most. If it's not designed to be embedded than you cannot embed it, simple.

&gt;<i>Why? I still didn't encounter an example in nevow with fragments containing 
</I>&gt;<i>other fragments, deciding which child-fragment to show based on the URL.
</I>
That's because nobody ever encountered this usecase, which might mean that what you are trying to do is done in a different way in Nevow or that you are tring to use Nevow in a new way.

But anyway there is only ONE segment that is used by the fragment and thus the ONE segment can be used as a key in a dictionary that contains some Fragments, here is how you can solve this problem. Also if you name you templates in the same way you use for the segment then you can also make this even more dynamic and easy to write.

&gt;&gt;<i>Just pass the docFactory argument to the Page class when you create it and 
</I>&gt;&gt;<i>let the Fragments render themselves with the appropriate template (when the 
</I>&gt;&gt;<i>are needed, and they are not strictly here).
</I>&gt;<i>
</I>&gt;<i>That does not solve my problem.
</I>
IMHO it does and fairly well, you might not have completely grasped nevow or I may not have completely understood your usecase.

&gt;<i>Macros seem far to static and I don't see how they could solve my problem 
</I>&gt;<i>neither.
</I>
They are not too static.

&gt;<i>I'll keep trying, as I don't believe nevow is unable to do that.
</I>
I think you are trying to use nevow in the same way you use other frameworks which unfortunately doesn't work at all.

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003030.html">[Twisted-web] fragments with child lookup
</A></li>
	<LI>Next message: <A HREF="003032.html">[Twisted-web] fragments with child lookup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3031">[ date ]</a>
              <a href="thread.html#3031">[ thread ]</a>
              <a href="subject.html#3031">[ subject ]</a>
              <a href="author.html#3031">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
