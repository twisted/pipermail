<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Using Twisted to process a pool of messages
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Using%20Twisted%20to%20process%20a%20pool%20of%20messages&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004801.html">
   <LINK REL="Next"  HREF="004804.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Using Twisted to process a pool of messages</H1>
    <B>AmirBehzad Eslami</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Using%20Twisted%20to%20process%20a%20pool%20of%20messages&In-Reply-To="
       TITLE="[Twisted-web] Using Twisted to process a pool of messages">behzad.eslami at gmail.com
       </A><BR>
    <I>Sun Oct 16 10:34:07 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004801.html">[Twisted-web] Ampoule deferToAMPProcess confusion
</A></li>
        <LI>Next message: <A HREF="004804.html">[Twisted-web] Using Twisted to process a pool of messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4803">[ date ]</a>
              <a href="thread.html#4803">[ thread ]</a>
              <a href="subject.html#4803">[ subject ]</a>
              <a href="author.html#4803">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear List,
e-Greetings,

i'm a PHP developer, and I'm very new to the world of Python and Twisted.
When it comes to use Twisted, my mind is unable to go beyond the
Top-To-Down Code execution model of PHP... Help!

i've been asked to write a service to process a list of SMS-messages, and send
each person a response. The messages are located on a PostgreSQL database
at a remote server.

Inside an infitie loop in Python, I call a single URL every 5 seconds, which
gives me an array of messages in JSON format. This URL has a special
format, which a parameter, named &quot;last_sms_id&quot;.

URL: /give_me_messages.php?last_sms_id=XXX

In the Python script, I set a value to this paramter to tell the Remote Script
to only give me new messages, and ignore the old ones which I have
already recieved. It means that I must update last_sms_id after
processing each message.

The URL finally returns an array of messages.
i'm responsbile to process this array, and based on contents of each
message, call
a new URL, which doesn't matter for now.

Now I'm asked to use Twisted to make my python script asynchronous.
Well, I was  PHP Programmer. I'm wondering how this application could
become asynchronous.

Let me explain.
If the first call to the above URL fails to recieve content for some reason,
what will happen? Does asynchronous mean that Python will invoke
a new URL to the same URL again? or It will make a new URL call?
How can I handle &quot;last_sms_id&quot; during these asynchronous calls?

Thank you in advance,
-behzad

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004801.html">[Twisted-web] Ampoule deferToAMPProcess confusion
</A></li>
	<LI>Next message: <A HREF="004804.html">[Twisted-web] Using Twisted to process a pool of messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4803">[ date ]</a>
              <a href="thread.html#4803">[ thread ]</a>
              <a href="subject.html#4803">[ subject ]</a>
              <a href="author.html#4803">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
