<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] A twisted wsgi success
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-web%5D%20A%20twisted%20wsgi%20success&In-Reply-To=%3C465C7762-9AA3-4246-85F4-64BFA036794B%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005158.html">
   <LINK REL="Next"  HREF="005160.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] A twisted wsgi success</H1>
    <B>Glyph</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-web%5D%20A%20twisted%20wsgi%20success&In-Reply-To=%3C465C7762-9AA3-4246-85F4-64BFA036794B%40twistedmatrix.com%3E"
       TITLE="[Twisted-web] A twisted wsgi success">glyph at twistedmatrix.com
       </A><BR>
    <I>Wed May 20 13:21:16 MDT 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="005158.html">[Twisted-web] A twisted wsgi success
</A></li>
        <LI>Next message: <A HREF="005160.html">[Twisted-web] A twisted wsgi success
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5159">[ date ]</a>
              <a href="thread.html#5159">[ thread ]</a>
              <a href="subject.html#5159">[ subject ]</a>
              <a href="author.html#5159">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> On May 20, 2015, at 10:56, Ian Schenck &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">ian.schenck at gmail.com</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> I mostly lurk on here, but I wanted to share my recent experience switching my company's wsgi container to twisted wsgi.
</I>&gt;<i> 
</I>&gt;<i> We had been using a particular wsgi container implemented in C. As time went on problems creeped up with cython modules, segfaults happened, and threading had to be disabled. Things that worked in development would not work in production. At this point I wanted two things: the development container should be the production container, and the container of choice should provide a python interpreter environment consistent with actual python. These containers written in C which treat your application like a plugin fail to do that across the board.
</I>&gt;<i> 
</I>&gt;<i> We no longer have any of the issues we had before (cython, threading, segfaults), and if something were to break in production, it is probably broken in development and won't make it out the door. Development servers run the same twisted wsgi container that runs in production, in fact they are both launched the same (but middlewares and reloaders differ). That consistency is a really big deal. Additionally, deployment and config management dropped a few hundred lines.
</I>&gt;<i> 
</I>&gt;<i> The biggest pushback I received was over performance. We benched our real world application (versus, ahem, just returning a string) and found our median response time was consistently 1-2ms higher across various concurrency levels. That's insignificant for us. Under high load, twisted wsgi actually did better with tail latency (99%ile and max). Maybe that slight bump in median latency is because our web workers now speak http instead of a &quot;light weight protocol&quot; akin to scgi, but the benefits of talking http (curl much?) are also worth a millisecond or two.
</I>&gt;<i> 
</I>&gt;<i> Thanks for all the hard work, and thanks Glyph for your 2011 Djangocon talk and your tweets leading me to twisted wsgi. We're very happy. If anyone wants details or a peek at some of the wiring, I can probably get approval to share more.
</I>
Thanks very much for your kind words!  Would you be able to fill in more of the details and send a similar message to <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">success at twistedmatrix.com</A> &lt;mailto:<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">success at twistedmatrix.com</A>&gt;?  We can always use more stories of how Twisted made things great for somebody :).

Also, you may be interested in &lt;<A HREF="https://github.com/hangarunderground/hendrix">https://github.com/hangarunderground/hendrix</A> &lt;<A HREF="https://github.com/hangarunderground/hendrix">https://github.com/hangarunderground/hendrix</A>&gt;&gt;, which is taking the Twisted-as-web-application-container thing to the next level.  (I'd like to roll some of their features back into our WSGI container at some point, but in the meanwhile...)

-glyph

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://twistedmatrix.com/pipermail/twisted-web/attachments/20150520/58778cbd/attachment.html">http://twistedmatrix.com/pipermail/twisted-web/attachments/20150520/58778cbd/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005158.html">[Twisted-web] A twisted wsgi success
</A></li>
	<LI>Next message: <A HREF="005160.html">[Twisted-web] A twisted wsgi success
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5159">[ date ]</a>
              <a href="thread.html#5159">[ thread ]</a>
              <a href="subject.html#5159">[ subject ]</a>
              <a href="author.html#5159">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
