From exarkun at twistedmatrix.com  Tue Sep  1 08:39:50 2009
From: exarkun at twistedmatrix.com (exarkun at twistedmatrix.com)
Date: Tue, 01 Sep 2009 12:39:50 -0000
Subject: [Twisted-web] t.w.x.XMLRPC with Basic Auth
In-Reply-To: <8218_1251757487_n7VMOfRC016814_5DA4635225CBE24FB33D34EFB6C5304714B3948D27@DFW1MXM01.RACKSPACE.CORP>
References: <8218_1251757487_n7VMOfRC016814_5DA4635225CBE24FB33D34EFB6C5304714B3948D27@DFW1MXM01.RACKSPACE.CORP>
Message-ID: <20090901123950.7436.1650966774.divmod.xquotient.44@localhost.localdomain>

On 31 Aug, 10:24 pm, clay.gerrard at rackspace.com wrote:
>Hello,
>
>This example over-rides render (which I could probably do, but it seems 
>like cheating):
>http://code.activestate.com/recipes/526625/
>
>This example is over my head (my zope.interfaces foo is weak):
>http://twistedmatrix.com/pipermail/twisted-web/2007-May/003377.html
>and also possibly dated?  twisted.web2.auth.wrapper.HTTPAuthResouce vs. 
>twisted.web._auth.wrapper.HTTPAuthSessionWrapper
>
>Is anyone aware of any other examples I could consider?

http://twistedmatrix.com/trac/browser/trunk/doc/web/examples/webguard.py 
gives an example of using twisted.web.guard, which is probably what you 
should be using.  It's somewhat similar to the example you linked to 
above.  If you're not familiar with twisted.cred, you may want to look 
at http://twistedmatrix.com/projects/core/documentation/howto/cred.html 
first.

Jean-Paul


From jussi.rasinmaki at simosol.fi  Wed Sep  2 11:18:49 2009
From: jussi.rasinmaki at simosol.fi (=?ISO-8859-1?Q?Jussi_Rasinm=E4ki?=)
Date: Wed, 2 Sep 2009 18:18:49 +0300
Subject: [Twisted-web] twisted.web: returning dynamically generated images
	as image/png
Message-ID: <f674190e0909020818w6ecdde21g6c951357dee35be5@mail.gmail.com>

I have the following setup (see below), in which the render method of
a RasterServer instance is responsible for generating a png file data
in memory that then should be passed on to the client that made the
request.
However, I can't get my head around how to define the content-type for
the render method result? Or whether that's possible at all? If not,
how should I define my RasterServer so that it would return image/png
content to the client?

Cheers,
Jussi

========================================

from twisted.web import resource, static, server
from twisted.application import service, strports
...
root = resource.Resource()
...
raster = RasterServer()
root.putChild('wms', raster)
...
application = service.Application('test')
mo_server = strports.service(where, server.Site(root))
mo_server.setServiceParent(application)
----------------
class RasterServer(resource.Resource):
   def render(self, request):
       ....


From phil at bubblehouse.org  Wed Sep  2 11:31:43 2009
From: phil at bubblehouse.org (Phil Christensen)
Date: Wed, 2 Sep 2009 11:31:43 -0400
Subject: [Twisted-web] twisted.web: returning dynamically generated
	images as image/png
In-Reply-To: <f674190e0909020818w6ecdde21g6c951357dee35be5@mail.gmail.com>
References: <f674190e0909020818w6ecdde21g6c951357dee35be5@mail.gmail.com>
Message-ID: <F1936F0B-1AE8-46D8-B25F-18A4F98F0B9C@bubblehouse.org>

On Sep 2, 2009, at 11:18 AM, Jussi Rasinm?ki wrote:
> I have the following setup (see below), in which the render method of
> a RasterServer instance is responsible for generating a png file data
> in memory that then should be passed on to the client that made the
> request.
> However, I can't get my head around how to define the content-type for
> the render method result? Or whether that's possible at all? If not,
> how should I define my RasterServer so that it would return image/png
> content to the client?
>
> Cheers,
> Jussi

We actually just discussed something like this:

http://twistedmatrix.com/pipermail/twisted-web/2009-August/004318.html

You're looking for:

	request.setHeader('Content-Type', 'image/png')

-phil

From jussi.rasinmaki at simosol.fi  Wed Sep  2 13:12:20 2009
From: jussi.rasinmaki at simosol.fi (=?ISO-8859-1?Q?Jussi_Rasinm=E4ki?=)
Date: Wed, 2 Sep 2009 20:12:20 +0300
Subject: [Twisted-web] twisted.web: returning dynamically generated
	images as image/png
In-Reply-To: <F1936F0B-1AE8-46D8-B25F-18A4F98F0B9C@bubblehouse.org>
References: <f674190e0909020818w6ecdde21g6c951357dee35be5@mail.gmail.com> 
	<F1936F0B-1AE8-46D8-B25F-18A4F98F0B9C@bubblehouse.org>
Message-ID: <f674190e0909021012t2ed65d9ew90819194b5bf6421@mail.gmail.com>

Right, figures. Thought it had to be something trivial, but failed to
see the obvious...
Thanks a million.

Jussi

2009/9/2 Phil Christensen <phil at bubblehouse.org>:
> request.setHeader('Content-Type', 'image/png')



2009/9/2 Phil Christensen <phil at bubblehouse.org>:
> On Sep 2, 2009, at 11:18 AM, Jussi Rasinm?ki wrote:
>> I have the following setup (see below), in which the render method of
>> a RasterServer instance is responsible for generating a png file data
>> in memory that then should be passed on to the client that made the
>> request.
>> However, I can't get my head around how to define the content-type for
>> the render method result? Or whether that's possible at all? If not,
>> how should I define my RasterServer so that it would return image/png
>> content to the client?
>>
>> Cheers,
>> Jussi
>
> We actually just discussed something like this:
>
> http://twistedmatrix.com/pipermail/twisted-web/2009-August/004318.html
>
> You're looking for:
>
> ? ? ? ?request.setHeader('Content-Type', 'image/png')
>
> -phil
> _______________________________________________
> Twisted-web mailing list
> Twisted-web at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web
>


From jjconti at gmail.com  Wed Sep 30 16:10:17 2009
From: jjconti at gmail.com (Juanjo Conti)
Date: Wed, 30 Sep 2009 17:10:17 -0300
Subject: [Twisted-web] docFactory at Nevow Elements
Message-ID: <3f9007680909301310t56df9214j652754f7b16e4aa7@mail.gmail.com>

I am using Nevow's LiveElements and I am gettings troubles with the
docFactory attribute. In the examples I've seen, docFactory =
loaders.stan(...)
I'd like to load a string representing my html page[0]

Can this be done? I really don't like stan :)

Greets!

[0] I generate the string using Django's templates systems' render_to_string
function.
-- 
Juanjo Conti
blog: http://www.juanjoconti.com.ar
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-web/attachments/20090930/4bb57d2e/attachment.htm 

From exarkun at twistedmatrix.com  Wed Sep 30 16:25:29 2009
From: exarkun at twistedmatrix.com (exarkun at twistedmatrix.com)
Date: Wed, 30 Sep 2009 20:25:29 -0000
Subject: [Twisted-web] docFactory at Nevow Elements
In-Reply-To: <3f9007680909301310t56df9214j652754f7b16e4aa7@mail.gmail.com>
References: <3f9007680909301310t56df9214j652754f7b16e4aa7@mail.gmail.com>
Message-ID: <20090930202529.1533.1590753640.divmod.xquotient.482@localhost.localdomain>

On 08:10 pm, jjconti at gmail.com wrote:
>I am using Nevow's LiveElements and I am gettings troubles with the
>docFactory attribute. In the examples I've seen, docFactory =
>loaders.stan(...)
>I'd like to load a string representing my html page[0]
>
>Can this be done? I really don't like stan :)
>
>Greets!
>
>[0] I generate the string using Django's templates systems' 
>render_to_string
>function.

There's also nevow.loaders.xmlstr.

You may not want to bother making a new docFactory for every page 
render, though.  You might want to make a single render function and 
return the string from that, wrapped in nevow.tags.xml.

Jean-Paul


From jjconti at gmail.com  Wed Sep 30 16:37:12 2009
From: jjconti at gmail.com (Juanjo Conti)
Date: Wed, 30 Sep 2009 17:37:12 -0300
Subject: [Twisted-web] docFactory at Nevow Elements
In-Reply-To: <20090930202529.1533.1590753640.divmod.xquotient.482@localhost.localdomain>
References: <3f9007680909301310t56df9214j652754f7b16e4aa7@mail.gmail.com>
	<20090930202529.1533.1590753640.divmod.xquotient.482@localhost.localdomain>
Message-ID: <3f9007680909301337m63b2982ena6dbc76a41b917fc@mail.gmail.com>

2009/9/30 <exarkun at twistedmatrix.com>
[snip]

> There's also nevow.loaders.xmlstr.
>
> You may not want to bother making a new docFactory for every page
> render, though.  You might want to make a single render function and
> return the string from that, wrapped in nevow.tags.xml.
>
>
Excelent!

docFactory = loaders.stan(T.xml(render_to_string('ter.html', {})))

-- 
Juanjo Conti
blog: http://www.juanjoconti.com.ar
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-web/attachments/20090930/36d59660/attachment.htm 

From jjconti at gmail.com  Wed Sep 30 17:18:35 2009
From: jjconti at gmail.com (Juanjo Conti)
Date: Wed, 30 Sep 2009 18:18:35 -0300
Subject: [Twisted-web] docFactory at Nevow Elements
In-Reply-To: <3f9007680909301337m63b2982ena6dbc76a41b917fc@mail.gmail.com>
References: <3f9007680909301310t56df9214j652754f7b16e4aa7@mail.gmail.com>
	<20090930202529.1533.1590753640.divmod.xquotient.482@localhost.localdomain>
	<3f9007680909301337m63b2982ena6dbc76a41b917fc@mail.gmail.com>
Message-ID: <3f9007680909301418s22c9c356i4b52928483366ecb@mail.gmail.com>

2009/9/30 Juanjo Conti <jjconti at gmail.com>

> 2009/9/30 <exarkun at twistedmatrix.com>
> [snip]
>
>> There's also nevow.loaders.xmlstr.
>>
>> You may not want to bother making a new docFactory for every page
>> render, though.  You might want to make a single render function and
>> return the string from that, wrapped in nevow.tags.xml.
>>
>>
> Excelent!
>
> docFactory = loaders.stan(T.xml(render_to_string('ter.html', {})))
>

Not so fast.

This 2 lines donot generate the same page :(

docFactory = xmlfile(sibpath(__file__, 'ter.html'))
docFactory = loaders.stan(T.xml(render_to_string('ter.html', {})))

-- 
Juanjo Conti
blog: http://www.juanjoconti.com.ar
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-web/attachments/20090930/c5b5bd7f/attachment.htm 

From jjconti at gmail.com  Wed Sep 30 17:26:54 2009
From: jjconti at gmail.com (Juanjo Conti)
Date: Wed, 30 Sep 2009 18:26:54 -0300
Subject: [Twisted-web] docFactory at Nevow Elements
In-Reply-To: <3f9007680909301418s22c9c356i4b52928483366ecb@mail.gmail.com>
References: <3f9007680909301310t56df9214j652754f7b16e4aa7@mail.gmail.com>
	<20090930202529.1533.1590753640.divmod.xquotient.482@localhost.localdomain>
	<3f9007680909301337m63b2982ena6dbc76a41b917fc@mail.gmail.com>
	<3f9007680909301418s22c9c356i4b52928483366ecb@mail.gmail.com>
Message-ID: <3f9007680909301426i2c62d8b5m7dca0b22221e3881@mail.gmail.com>

Any document about how does docFactory actually work?

2009/9/30 Juanjo Conti <jjconti at gmail.com>

> 2009/9/30 Juanjo Conti <jjconti at gmail.com>
>
>> 2009/9/30 <exarkun at twistedmatrix.com>
>> [snip]
>>
>>> There's also nevow.loaders.xmlstr.
>>>
>>> You may not want to bother making a new docFactory for every page
>>> render, though.  You might want to make a single render function and
>>> return the string from that, wrapped in nevow.tags.xml.
>>>
>>>
>> Excelent!
>>
>> docFactory = loaders.stan(T.xml(render_to_string('ter.html', {})))
>>
>
> Not so fast.
>
> This 2 lines donot generate the same page :(
>
> docFactory = xmlfile(sibpath(__file__, 'ter.html'))
> docFactory = loaders.stan(T.xml(render_to_string('ter.html', {})))
>
> --
> Juanjo Conti
> blog: http://www.juanjoconti.com.ar
>



-- 
Juanjo Conti
blog: http://www.juanjoconti.com.ar
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-web/attachments/20090930/50d3ebee/attachment.htm 

