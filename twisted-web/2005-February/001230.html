<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Newov Login Forward
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Newov%20Login%20Forward&In-Reply-To=421B9396.3070009%40shechen.at">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001228.html">
   <LINK REL="Next"  HREF="001233.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Newov Login Forward</H1>
    <B>Andy Gayton</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Newov%20Login%20Forward&In-Reply-To=421B9396.3070009%40shechen.at"
       TITLE="[Twisted-web] Newov Login Forward">andy at thecablelounge.com
       </A><BR>
    <I>Tue Feb 22 19:02:27 MST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001228.html">[Twisted-web] Newov Login Forward
</A></li>
        <LI>Next message: <A HREF="001233.html">[Twisted-web] Newov Login Forward
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1230">[ date ]</a>
              <a href="thread.html#1230">[ thread ]</a>
              <a href="subject.html#1230">[ subject ]</a>
              <a href="author.html#1230">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>noema wrote:

&gt;<i> I kind of want to preseerve the tree structure so one can see the 
</I>&gt;<i> current location in the url field -- e.g a user's home directory should 
</I>&gt;<i> always be /user/username. Processing a different RootPage(rend.Page) 
</I>&gt;<i> depending on which user has logged is almost like remounting root to the 
</I>&gt;<i> user's home dir on linux. In my case I would just want to move deeper 
</I>&gt;<i> into the dir tree to a certain home dir.
</I>
Your analogy is a good one and in imo highlights the strength of 
cred/guard's way of doing things.

In a tradional web app your functionality is available through urls to 
files that offer that functionality.  Since your file structure is fixed 
all functionality must always be exposed via urls and your files have to 
have a bunch of if statements to modify or turn off functionality as 
required.

You also have to handle a lot more cases:

once a user logs in, when they go to / (the login page) do they still 
see the same login page, or a page saying you've logged in, or (i think 
this is the one your after?) should they be redirected to /user/username.

If they go to the url /user/boss but are logged in as /user/username how 
should this be handled?

Difficult to ensure you've got it right and haven't left a hole.

With cred - your application does everything through an avatar - and 
like a chroot you've got a certain guarantee of security since if the 
user is not allowed to do something, their avatar should simply be 
physically incapable of doing it - no if statements ..

If your ok with the above, but still wanted the /user/username for 
cosmetics, you could have the realm return a page which redirects itself 
and all children not /user/username to /user/username and sets up a 
child /user/username that does the meat ?

There's probably a better way of pulling that off though?

Otherwise your likely looking at dropping guard and always having the 
same site tree with if statements at the nodes controlling behaviour 
whether the user is logged in or not / type of user  ...

Andy.

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001228.html">[Twisted-web] Newov Login Forward
</A></li>
	<LI>Next message: <A HREF="001233.html">[Twisted-web] Newov Login Forward
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1230">[ date ]</a>
              <a href="thread.html#1230">[ thread ]</a>
              <a href="subject.html#1230">[ subject ]</a>
              <a href="author.html#1230">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
