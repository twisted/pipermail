<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] liveevil problem: nested functions get lost
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20liveevil%20problem%3A%20nested%20functions%20get%20lost&In-Reply-To=1109632141.2986.9.camel%40lana.initd.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001264.html">
   <LINK REL="Next"  HREF="001266.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] liveevil problem: nested functions get lost</H1>
    <B>Donovan Preston</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20liveevil%20problem%3A%20nested%20functions%20get%20lost&In-Reply-To=1109632141.2986.9.camel%40lana.initd.org"
       TITLE="[Twisted-web] liveevil problem: nested functions get lost">dp at ulaluma.com
       </A><BR>
    <I>Mon Feb 28 18:54:53 MST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001264.html">[Twisted-web] liveevil problem: nested functions get lost
</A></li>
        <LI>Next message: <A HREF="001266.html">[Twisted-web] liveevil problem: nested functions get lost
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1265">[ date ]</a>
              <a href="thread.html#1265">[ thread ]</a>
              <a href="subject.html#1265">[ subject ]</a>
              <a href="author.html#1265">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Feb 28, 2005, at 3:09 PM, Federico Di Gregorio wrote:

&gt;<i> So the string won't be evaluated in the context of the
</I>&gt;<i> nevow_clientToServerEvent() function but directly in the event call,
</I>&gt;<i> isn't it? So hanlders like:
</I>&gt;<i>
</I>&gt;<i> 	handler(mycallable, &quot;node.value&quot;)
</I>&gt;<i>
</I>&gt;<i> should now be written:
</I>&gt;<i>
</I>&gt;<i> 	handler(mycallable, liveevil.js(&quot;this.value&quot;))
</I>&gt;<i>
</I>&gt;<i> substituting &quot;this&quot; to &quot;node&quot;? It is fine for me and even the &quot;js&quot; name
</I>&gt;<i> is not too bad (i.e., I can't think of anything better right now.)
</I>
That is correct, and I hope it is ok. The way &quot;literal&quot; (to be renamed 
&quot;js&quot;) is written is very convenient, too:

handler(mycallable, liveevil.js.this.value)

Would work just as well (__getattr__ constructs new literal instances). 
There is already a module-global &quot;document&quot; literal, so you can do 
livepage.document.getElementById. literal (js) provides __getitem__ as 
well as __call__ implementations.

I hope it all makes sense, it is somewhat experimental at this point. 
One good thing about this new implementation is that there are 
extensive javascript quoting unittests, where there were none before, 
so hopefully it is less buggy, more flexible, and less likely to change 
in the future.

dp


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001264.html">[Twisted-web] liveevil problem: nested functions get lost
</A></li>
	<LI>Next message: <A HREF="001266.html">[Twisted-web] liveevil problem: nested functions get lost
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1265">[ date ]</a>
              <a href="thread.html#1265">[ thread ]</a>
              <a href="subject.html#1265">[ subject ]</a>
              <a href="author.html#1265">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
