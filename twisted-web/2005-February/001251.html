<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] liveevil problem: nested functions get lost
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20liveevil%20problem%3A%20nested%20functions%20get%20lost&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001250.html">
   <LINK REL="Next"  HREF="001252.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] liveevil problem: nested functions get lost</H1>
    <B>Federico Di Gregorio</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20liveevil%20problem%3A%20nested%20functions%20get%20lost&In-Reply-To="
       TITLE="[Twisted-web] liveevil problem: nested functions get lost">fog at initd.org
       </A><BR>
    <I>Fri Feb 25 18:16:36 MST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001250.html">[Twisted-web] nevow: rend.htmlfile not found
</A></li>
        <LI>Next message: <A HREF="001252.html">[Twisted-web] liveevil problem: nested functions get lost
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1251">[ date ]</a>
              <a href="thread.html#1251">[ thread ]</a>
              <a href="subject.html#1251">[ subject ]</a>
              <a href="author.html#1251">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

I don't know if this is a known problem or the way it is supposed to
work but the following code results in a &quot;lost&quot; liveevil handler:

class Blah(rend.Page):
    def render_blah(self, ctx, data):
        def do_something(client):
            client.alert(&quot;You will never see this message!&quot;)
        return ctx.tag.clear()[T.span(
            onclick=liveevil.handler(do_something))[&quot;Click me&quot;]]

The do_something is not recognized as a closure (actually it is not :)
so its &quot;path&quot; is saved away as module.do_something and does not get
resolved at call time. I know about the identifier keyword something
about it should probably be added to the docs. Maybe is would be even
better (and safer) to remove the reflect part and use only the events.

federico



</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001250.html">[Twisted-web] nevow: rend.htmlfile not found
</A></li>
	<LI>Next message: <A HREF="001252.html">[Twisted-web] liveevil problem: nested functions get lost
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1251">[ date ]</a>
              <a href="thread.html#1251">[ thread ]</a>
              <a href="subject.html#1251">[ subject ]</a>
              <a href="author.html#1251">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
