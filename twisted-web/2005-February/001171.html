<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] 'mapping' renderer must not use 'slot'
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20%27mapping%27%20renderer%20must%20not%20use%20%27slot%27&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001183.html">
   <LINK REL="Next"  HREF="001172.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] 'mapping' renderer must not use 'slot'</H1>
    <B>Sridhar Ratna</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20%27mapping%27%20renderer%20must%20not%20use%20%27slot%27&In-Reply-To="
       TITLE="[Twisted-web] 'mapping' renderer must not use 'slot'">sridharinfinity at gmail.com
       </A><BR>
    <I>Sat Feb 12 05:31:14 MST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001183.html">[Twisted-web] generating Canvas.swf without needing Flash
</A></li>
        <LI>Next message: <A HREF="001172.html">[Twisted-web] 'mapping' renderer must not use 'slot'
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1171">[ date ]</a>
              <a href="thread.html#1171">[ thread ]</a>
              <a href="subject.html#1171">[ subject ]</a>
              <a href="author.html#1171">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I will put it shortly.  Imagine a mapping type like this ..

map = {
   '1': 'ordinary_string_suitable_for_slot', # simple value
   '2': [ {4:5}, {6:7} ] # complex value
}

If data_foo returns the above dict, the usual way to render it is
using render=&quot;mapping&quot;. (we assume perfect decoupling between logic
and presentation)

But 'mapping' renderer uses 'slots'.  'slots' could handle only the
first value (keyed '1'), but not the second value (keyed '2') in the
dict.  That is 'slots' cannot handle complex values like [ {4:5},
{6:7} ].  In this case, the list should be rendered using 'sequence'
renderer.  But the 'sequence' requires 'data' and 'slot' deals with
presentation.  Thus is no (decoupled) way to render the above dict
(map) say.  The best one could come up with is

    &lt;div n:data=&quot;foo&quot; n:render=&quot;mapping&quot;&gt;
        &lt;h2&gt;&lt;n:slot name=&quot;1&quot;/&gt;&lt;/h2&gt;
        &lt;!-- &lt;p&gt;&lt;n:slot name=&quot;2&quot;/&gt;&lt;/p&gt; - throws exception requiring
          flatterner for the dict (or any object if it is used --&gt;
        &lt;!-- &lt;p&gt;In &lt;n:slot name=&quot;tags&quot;&gt;&lt;ul render=&quot;sequence&quot;&gt;
            &lt;li n:pattern=&quot;item&quot; n:render=&quot;tag&quot;&gt;&lt;/li&gt;
        &lt;/ul&gt;&lt;/n:slot&gt;&lt;/p&gt; isn't a right syntax .. as n:slot takes care of
        presentation and not data--&gt;
    &lt;/div&gt;

For me, the perfect solution to this problem seems to be using
'pattern' instead of 'slot' for the 'mapping' renderer.  The only
advantage of 'slot' to 'pattern' is simplicity of use, but it
introduces some restrictions as we just saw the in the above example.

PS: 'mapping' renderer is just one example, with which I met the conflict.

-- 
Sridhar Ratna - <A HREF="http://srid.bsdnerds.org">http://srid.bsdnerds.org</A>

</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001183.html">[Twisted-web] generating Canvas.swf without needing Flash
</A></li>
	<LI>Next message: <A HREF="001172.html">[Twisted-web] 'mapping' renderer must not use 'slot'
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1171">[ date ]</a>
              <a href="thread.html#1171">[ thread ]</a>
              <a href="subject.html#1171">[ subject ]</a>
              <a href="author.html#1171">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
