<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] mysql connect raise error although reconnect=true
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20mysql%20connect%20raise%20error%20although%20reconnect%3Dtrue&In-Reply-To=f7e007%24344%241%40sea.gmane.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003459.html">
   <LINK REL="Next"  HREF="003461.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] mysql connect raise error although reconnect=true</H1>
    <B>Jean-Paul Calderone</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20mysql%20connect%20raise%20error%20although%20reconnect%3Dtrue&In-Reply-To=f7e007%24344%241%40sea.gmane.org"
       TITLE="[Twisted-web] mysql connect raise error although reconnect=true">exarkun at divmod.com
       </A><BR>
    <I>Sun Jul 15 17:11:06 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="003459.html">[Twisted-web] mysql connect raise error although reconnect=true
</A></li>
        <LI>Next message: <A HREF="003461.html">[Twisted-web] Cannot redirect to a SessionWrapper-wrapped page
	(example code included)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3460">[ date ]</a>
              <a href="thread.html#3460">[ thread ]</a>
              <a href="subject.html#3460">[ subject ]</a>
              <a href="author.html#3460">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, 15 Jul 2007 13:27:30 -0700, Andrey &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">alpha04 at netvigator.com</A>&gt; wrote:
&gt;<i>hello
</I>&gt;<i>
</I>&gt;<i>i have an xmlrpc daemon running and uses mysql for authorization. I noticed
</I>&gt;<i>that the connection will timeout after a period of time.
</I>&gt;<i>
</I>&gt;<i>After investigated in the api, i found the cp_reconnect switch
</I>&gt;<i>
</I>&gt;<i>adbapi.ConnectionPool(DB_DRIVER,cp_reconnect=True, **DB_ARGS)
</I>&gt;<i>
</I>&gt;<i>however, my problem is, although the deamon will reconnect to mysql, it did
</I>&gt;<i>raise an error and turn down the first login attempt before automatically
</I>&gt;<i>reconnect the timeouted connection
</I>&gt;<i>
</I>&gt;<i>I wonder if this is normal and this switch is intented to raise error before
</I>&gt;<i>reconnect?
</I>
Yes.  The exception must be propagated to application code, since there is
no general way to determine if the statement which caused the exception was
executed by the server or not.  The application needs to know the exception
occurred so that it can make a decision about whether to re-executed the
failed statement or not.

Jean-Paul

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003459.html">[Twisted-web] mysql connect raise error although reconnect=true
</A></li>
	<LI>Next message: <A HREF="003461.html">[Twisted-web] Cannot redirect to a SessionWrapper-wrapped page
	(example code included)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3460">[ date ]</a>
              <a href="thread.html#3460">[ thread ]</a>
              <a href="subject.html#3460">[ subject ]</a>
              <a href="author.html#3460">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
