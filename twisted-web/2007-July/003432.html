<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] Web2 and Half-Baked Reinvention of Wheels
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Web2%20and%20Half-Baked%20Reinvention%20of%20Wheels&In-Reply-To=46897A59.6090809%40eepatents.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003431.html">
   <LINK REL="Next"  HREF="003433.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] Web2 and Half-Baked Reinvention of Wheels</H1>
    <B>David Reid</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20Web2%20and%20Half-Baked%20Reinvention%20of%20Wheels&In-Reply-To=46897A59.6090809%40eepatents.com"
       TITLE="[Twisted-web] Web2 and Half-Baked Reinvention of Wheels">dreid at dreid.org
       </A><BR>
    <I>Mon Jul  2 23:06:50 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="003431.html">[Twisted-web] Web2 and Half-Baked Reinvention of Wheels
</A></li>
        <LI>Next message: <A HREF="003433.html">[Twisted-web] Web2 and Half-Baked Reinvention of Wheels
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3432">[ date ]</a>
              <a href="thread.html#3432">[ thread ]</a>
              <a href="subject.html#3432">[ subject ]</a>
              <a href="author.html#3432">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Jul 2, 2007, at 3:21 PM, Ed Suominen wrote:

&gt;<i> I have been debugging an odd problem that apparently is arising in
</I>&gt;<i> web2.stream.FileStream. One thing I noticed while poring over the  
</I>&gt;<i> source
</I>&gt;<i> is that its read() method will try to instantiate SendfileBuffer if  
</I>&gt;<i> you
</I>&gt;<i> try to use its sendfile option. However, there's no reference To  
</I>&gt;<i> such a
</I>&gt;<i> class anywhere in the module or anywhere else in the Twisted source
</I>&gt;<i> tree, for that matter. I understand that sendfile isn't supported, but
</I>&gt;<i> it's horrible coding practice to let that just sit there in the  
</I>&gt;<i> source.
</I>
There is a bug, please feel free to contribute a patch.  For a while  
now web2 has been kind of a solitary effort, and I just don't have  
the energy right now, but I will gladly review and apply a patch.

&gt;<i>
</I>&gt;<i> As requested by Dialtone, and to borrow liberally from what he  
</I>&gt;<i> wrote in
</I>&gt;<i> an IRC chat with me today, web2.stream code is pretty badly tested and
</I>&gt;<i> someone should do something about it. (I would also add that it is
</I>&gt;<i> pretty badly documented, but that problem is widespread in Twisted's
</I>&gt;<i> source, despite my ranting about it for years and offering bounties  
</I>&gt;<i> for
</I>&gt;<i> people to contribute docstrings.)
</I>
It is conceptually pretty bad, and counter to existing abstractions  
in Twisted.  I believe there is a bug about this, and even a branch  
that foom started, I do not know the status of this branch, nor the  
quality of the code that lies within it.  Feel free to review the  
branch, and post your findings in the associated ticket.

&gt;<i>
</I>&gt;<i> Dialtone says that there are numerous other problems about streams. He
</I>&gt;<i> says, and I wholeheartedly agree, that they are mostly a substitution
</I>&gt;<i> for something that already exists in twisted, namely Producer/ 
</I>&gt;<i> Consumer.
</I>&gt;<i> (Please guys, stop chasing butterflies and direct your considerable
</I>&gt;<i> talents toward improving what already works!) Dialtone says that glyph
</I>&gt;<i> once wrote a replacement for the CompundStream using Producer/Consumer
</I>&gt;<i> paradigm; instead of streams, we could use functions that combine
</I>&gt;<i> different producers or consumers.
</I>
Right, that would be awesome and I fully support completely replacing  
streams with something based on the more traditional Producer/ 
Consumer model.

&gt;<i> I can't believe that the world's greatest networking platform *still*
</I>&gt;<i> doesn't have an adequately supported HTTP server!
</I>
I'm sorry.  Despite much interest in web programming (in the python  
community,) there is a definite lack of interest in writing a proper  
HTTP server.  I really do love working on web2, and I'm sorry I  
haven't been able to give it the attention it deserves, but such is  
life.  I would welcome any contribution you're willing to make  
(though I am probably unable to directly accept a financial  
contribution.)

-David

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003431.html">[Twisted-web] Web2 and Half-Baked Reinvention of Wheels
</A></li>
	<LI>Next message: <A HREF="003433.html">[Twisted-web] Web2 and Half-Baked Reinvention of Wheels
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3432">[ date ]</a>
              <a href="thread.html#3432">[ thread ]</a>
              <a href="subject.html#3432">[ subject ]</a>
              <a href="author.html#3432">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
