<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] CorePost - a tiny Flask-style REST microframework	for twisted.web
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20CorePost%20-%20a%20tiny%20Flask-style%20REST%20microframework%0A%09for%20twisted.web&In-Reply-To=CAGDztiHF5S4K7ACSP03R1i2hsCwpBdRAHNaUJOgyjS4EaMBLrQ%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004745.html">
   <LINK REL="Next"  HREF="004747.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] CorePost - a tiny Flask-style REST microframework	for twisted.web</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20CorePost%20-%20a%20tiny%20Flask-style%20REST%20microframework%0A%09for%20twisted.web&In-Reply-To=CAGDztiHF5S4K7ACSP03R1i2hsCwpBdRAHNaUJOgyjS4EaMBLrQ%40mail.gmail.com"
       TITLE="[Twisted-web] CorePost - a tiny Flask-style REST microframework	for twisted.web">glyph at twistedmatrix.com
       </A><BR>
    <I>Sun Sep  4 00:01:01 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004745.html">[Twisted-web] CorePost - a tiny Flask-style REST microframework for twisted.web
</A></li>
        <LI>Next message: <A HREF="004747.html">[Twisted-web] CorePost - a tiny Flask-style REST microframework for twisted.web
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4746">[ date ]</a>
              <a href="thread.html#4746">[ thread ]</a>
              <a href="subject.html#4746">[ subject ]</a>
              <a href="author.html#4746">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Sep 3, 2011, at 8:28 PM, Jacek Furmankiewicz wrote:

&gt;<i> Any feedback is welcome
</I>
Hi Jacek,

Great to see more development going into Twisted-based web stuff! :)

However, I do have one question.  Maybe I'm missing something about the way Flask does things, but it seems very odd to me that the decorators you're using are applied to global functions, rather than instances of an object.  For example, instead of:

app = CorePost()
...
@app.route(&quot;/validate/&lt;int:rootId&gt;/schema&quot;,Http.POST)
@validate(schema=TestSchema)
def postValidateSchema(request,rootId,childId,**kwargs):
    '''Validate using a common schema'''
    return &quot;%s - %s - %s&quot; % (rootId,childId,kwargs)

You could do:

class MyPost(CorePost):
    @route(&quot;/validate/&lt;int:rootId&gt;/schema&quot;,Http.POST)
    @validate(schema=TestSchema)
    def postValidateSchema(self,request,rootId,childId,**kwargs):
        '''Validate using a common schema'''
        return &quot;%s - %s - %s&quot; % (rootId,childId,kwargs)

This would allow for re-usable objects; for example, rather than having a &quot;blog article create&quot; API (sorry for the uninspired example, it's late) for your entire site, you would have a &quot;article create&quot; API on a &quot;Blog&quot;, which would enable you to have multiple Blog objects (perhaps with different authors, in different permission domains, etc).  This would also make re-using the relevant objects between different applications easier.

In other words, global variables are bad, and this looks like it depends rather heavily on them.

Any thoughts on this?  Am I missing the point?

Thanks,

-glyph

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-web/attachments/20110903/3e35bae7/attachment.htm">http://twistedmatrix.com/pipermail/twisted-web/attachments/20110903/3e35bae7/attachment.htm</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004745.html">[Twisted-web] CorePost - a tiny Flask-style REST microframework for twisted.web
</A></li>
	<LI>Next message: <A HREF="004747.html">[Twisted-web] CorePost - a tiny Flask-style REST microframework for twisted.web
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4746">[ date ]</a>
              <a href="thread.html#4746">[ thread ]</a>
              <a href="subject.html#4746">[ subject ]</a>
              <a href="author.html#4746">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
