<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-web] _nevow_carryover_
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20_nevow_carryover_&In-Reply-To=4283435A.7060009%40twistedmatrix.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001464.html">
   <LINK REL="Next"  HREF="001466.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-web] _nevow_carryover_</H1>
    <B>Donovan Preston</B> 
    <A HREF="mailto:twisted-web%40twistedmatrix.com?Subject=%5BTwisted-web%5D%20_nevow_carryover_&In-Reply-To=4283435A.7060009%40twistedmatrix.com"
       TITLE="[Twisted-web] _nevow_carryover_">dp at ulaluma.com
       </A><BR>
    <I>Thu May 12 12:21:04 MDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001464.html">[Twisted-web] _nevow_carryover_
</A></li>
        <LI>Next message: <A HREF="001466.html">[Twisted-web] _nevow_carryover_
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1465">[ date ]</a>
              <a href="thread.html#1465">[ thread ]</a>
              <a href="subject.html#1465">[ subject ]</a>
              <a href="author.html#1465">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On May 12, 2005, at 4:51 AM, Tommi Virtanen wrote:


&gt;<i> Donovan Preston wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> This is used to implement the formless &quot;IHand&quot; when no guard  
</I>&gt;&gt;<i> session  or
</I>&gt;&gt;<i> cookie-based session is present (and it is always used regardless  of
</I>&gt;&gt;<i> whether they are present).
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Actually, that's not true. Carryover is used even when we have a
</I>&gt;<i> session.
</I>&gt;<i>
</I>
I know. I was just stating a case where appending garbage to some URL  
is impossible to avoid.


&gt;&gt;<i> 2) If the user actually is returning values from the  
</I>&gt;&gt;<i> autocallable,  and
</I>&gt;&gt;<i> is actually looking for the result in the IHand of the next  request:
</I>&gt;&gt;<i> Check to see if there is a guard session. If so, store the  hand  
</I>&gt;&gt;<i> there
</I>&gt;&gt;<i> for the duration of the redirect.
</I>&gt;&gt;<i>
</I>

&gt;<i> That won't really work -- I've had multiple browser windows open
</I>&gt;<i> belonging to the same session many times, having just one IHand per
</I>&gt;<i> session just isn't going to work.
</I>&gt;<i>
</I>
A very good point, although the chances of two forms being submitted  
simultaneously and one redirected render getting the other redirected  
render's hand is impossibly small. The IHand should only be available  
during the duration of the request which occurs after the browser has  
been redirected from the original post.


&gt;&gt;<i> 3) Finally, if people ARE returning results from autocallables,  
</I>&gt;&gt;<i> AND  ARE
</I>&gt;&gt;<i> NOT using guard AND are still annoyed with _nevow_carryover_, I   
</I>&gt;&gt;<i> have an
</I>&gt;&gt;<i> idea which involves putting the mini-session key in the &lt;form
</I>&gt;&gt;<i> action=&quot;&quot;&gt; instead of the redirect. Since users only see the  
</I>&gt;&gt;<i> action  url
</I>&gt;&gt;<i> during the time it takes their browser to redirect, and the   
</I>&gt;&gt;<i> redirected
</I>&gt;&gt;<i> request can pull the mini-session key out of the referrer,  this  
</I>&gt;&gt;<i> would
</I>&gt;&gt;<i> work.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ..you assume referrers work reliably :(
</I>&gt;<i>
</I>
In what way do they not work reliably?

In any case, 1), not appending gunk to the URL if an autocallable  
returns None, will probably reduce newbie annoyance significantly and  
shouldn't harm anything. So I will at least do that.

Donovan



</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001464.html">[Twisted-web] _nevow_carryover_
</A></li>
	<LI>Next message: <A HREF="001466.html">[Twisted-web] _nevow_carryover_
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1465">[ date ]</a>
              <a href="thread.html#1465">[ thread ]</a>
              <a href="subject.html#1465">[ subject ]</a>
              <a href="author.html#1465">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web">More information about the Twisted-web
mailing list</a><br>
</body></html>
