<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] IRC protocol rewrite?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20IRC%20protocol%20rewrite%3F&In-Reply-To=20020103001834.B29692%40amaze.nl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000695.html">
   <LINK REL="Next"  HREF="000697.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] IRC protocol rewrite?</H1>
    <B>Kevin Turner</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20IRC%20protocol%20rewrite%3F&In-Reply-To=20020103001834.B29692%40amaze.nl"
       TITLE="[Twisted-Python] IRC protocol rewrite?">acapnotic at twistedmatrix.com
       </A><BR>
    <I>Wed Jan  2 19:11:34 EST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="000695.html">[Twisted-Python] IRC protocol rewrite?
</A></li>
        <LI>Next message: <A HREF="000697.html">[Twisted-Python] IRC protocol rewrite?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#696">[ date ]</a>
              <a href="thread.html#696">[ thread ]</a>
              <a href="subject.html#696">[ subject ]</a>
              <a href="author.html#696">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 2002-01-02 at 15:18, Ivo van der Wijk wrote:

&gt;<i> it takes actions/decisions the client builder
</I>&gt;<i> would rather like to implement (i.e. irc_ERR_NICKNAMEINUSE will generate
</I>&gt;<i> a new nickname by appending a _ - who says I want this in my client?),
</I>&gt;<i> ctcp_PING immediately sends a ping reply - this won't work with my
</I>&gt;<i> ignore list, etc.
</I>
Ah, this is the information I was looking for.  (The bit about
supporting &amp; channels is a minor detail, worth fixing but not  grounds
for reimplementation.)  In reply, let me just say that subclassing is a
wonderful and powerful thing.  You are invited, encouraged even, to
override any methods which don't do what you want in your subclass. 
Default implementations are provided in the base class for things like
irc_ERR_NICKNAMEINUSE because every IRC client needs to have *some*
implementation of them, or else it will likely be so broken that it
won't be able to sign on.  But again, don't hesitate to override the
default methods with something else.  This class uses the
&quot;&quot;&quot;getattr(self, &quot;prefix_%s&quot; % command)()&quot;&quot;&quot; idiom, so you can always
add methods for more IRC or CTCP message types (i.e. Zircon extensions)
in your subclass too.

&gt;<i> There's is quite some DCC support in the IRCClient class that I have here
</I>&gt;<i> (twisted 0.12.3), i.e. ctcpQuery_DCC which initiates DCC, maintains a list
</I>&gt;<i> of sessions, etc
</I>
That's because it's a CTCP query which initiates the DCC connection. 
The DCC connection itself (as opposed to things talking about DCC
connections) has its own class and instance.

As for maintaining a list of sessions, I think that this does belong in
a &quot;client&quot; implementation, but I agree that this is not state that a
&quot;protocol&quot; class should be concerned with.  It's only there because I
couldn't see another way for a subclass to figure out which DCC sessions
were created, which is something you probably want to know for your
interface.  Perhaps the default ctcpQuery_DCC method should pass back
the DCC session as its return value?

-- 
The moon is waning gibbous, 86.3% illuminated, 18.3 days old.




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000695.html">[Twisted-Python] IRC protocol rewrite?
</A></li>
	<LI>Next message: <A HREF="000697.html">[Twisted-Python] IRC protocol rewrite?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#696">[ date ]</a>
              <a href="thread.html#696">[ thread ]</a>
              <a href="subject.html#696">[ subject ]</a>
              <a href="author.html#696">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
