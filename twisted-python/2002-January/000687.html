<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] IRC protocol rewrite?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20IRC%20protocol%20rewrite%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000688.html">
   <LINK REL="Next"  HREF="000690.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] IRC protocol rewrite?</H1>
    <B>Ivo van der Wijk</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20IRC%20protocol%20rewrite%3F&In-Reply-To="
       TITLE="[Twisted-Python] IRC protocol rewrite?">ivo at amaze.nl
       </A><BR>
    <I>Wed Jan  2 12:46:42 EST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="000688.html">[Twisted-Python] [patch] mktap web --resource
</A></li>
        <LI>Next message: <A HREF="000690.html">[Twisted-Python] IRC protocol rewrite?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#687">[ date ]</a>
              <a href="thread.html#687">[ thread ]</a>
              <a href="subject.html#687">[ subject ]</a>
              <a href="author.html#687">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi All,

I'm currently investigating the IRC Protocol as implemented by twisted,
to see if I perhaps can use it in my irc client, or if it perhaps can
use code from my irc protocol parsing.

However, I noticed some bugs and (imho) design failures in the current
implementation, which makes the code not very usefull for any other 
use than what it's currently used for (twisted irc client + server?)

For example, channels are hardcoded as starting with '#', i.e.
IRCClient.join prepends a '#' to the channelname. Hoewever, most servers
support alernative style channels such as &amp;channel (local channels),
+channel (modeless channels), and perhaps more.

Furthermore, IMHO, the IRCClient class implements too many protocols
in one class. IRC, CTCP and DCC are distinct protocols, and each belong
in their own class.

Lastly, the current parsemsg routine can't handle ipv6 addresses in certain 
replies, i.e. a 311 (whois) reply like:

:<i>irc.xs4all.nl 311 VladDrac [p] -patrick 3ffe:2500:900:2000:1337:1337:1337:1337 *:foo
</I>
will be parsed incorrectly. I may provide a patch for this later.

Is replacing the current IRC protocol with a (non-api-compatible) new
protocol discussable? If so, I'll make some suggestions on how I would
implement the protocol.

Cheers,

	Ivo

-- 
Drs. I.R. van der Wijk                              -=-
Brouwersgracht 132                      Amaze Internet Services V.O.F.
1013 HA Amsterdam, NL                               -=-
Tel: +31-20-4688336                       Linux/Web/Zope/SQL/MMBase
Fax: +31-20-4688337                           Network Solutions
Web:     <A HREF="http://www.amaze.nl/">http://www.amaze.nl/</A>                    Consultancy
Email:   <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">ivo at amaze.nl</A>                               -=-


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000688.html">[Twisted-Python] [patch] mktap web --resource
</A></li>
	<LI>Next message: <A HREF="000690.html">[Twisted-Python] IRC protocol rewrite?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#687">[ date ]</a>
              <a href="thread.html#687">[ thread ]</a>
              <a href="subject.html#687">[ subject ]</a>
              <a href="author.html#687">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
