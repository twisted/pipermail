<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Throwing exceptions to the client
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Throwing%20exceptions%20to%20the%20client&In-Reply-To=%3C20020125083127.66090.qmail%40web10005.mail.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="033235.html">
   <LINK REL="Next"  HREF="033237.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Throwing exceptions to the client</H1>
    <B>Cory Dodt</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Throwing%20exceptions%20to%20the%20client&In-Reply-To=%3C20020125083127.66090.qmail%40web10005.mail.yahoo.com%3E"
       TITLE="[Twisted-Python] Throwing exceptions to the client">corydodt at yahoo.com
       </A><BR>
    <I>Fri Jan 25 01:31:27 MST 2002</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="033235.html">[Twisted-Python] Sample app for docs
</A></li>
        <LI>Next message (by thread): <A HREF="033237.html">[Twisted-Python] Throwing exceptions to the client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33236">[ date ]</a>
              <a href="thread.html#33236">[ thread ]</a>
              <a href="subject.html#33236">[ subject ]</a>
              <a href="author.html#33236">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Still working on my ACL problem.  

Use case: client connects, calls a perspective_method which is not in its
ACL.  In my test client, I call 
    perspective.createUsers(['cdodt'])

1) 

At the server, perpsective method calls 
    self.assertPermission(&quot;create_users&quot;)
This assertion fails, so assertPermission throws PermissionDenied.

When this happens, client gets a string with the traceback.  This looked
cool at first, until I tried to handle the error with my failure callback.
 In order to differentiate between PermissionDenied and, for example,
UserAlreadyExists errors, I would have to parse what I get back from the
server.  Parsing strings to find out what happened puts us back at the
protocol layer, and is something my code shouldn't have to do.

MUCH nicer would be if the server tossed the real exception to the client,
not a string.  Referenceable, perhaps.  Is it possible to make this happen
when an exception gets raised?

2)

Another workable solution would be for the perspective_method to return an
exception instead of throwing it.

radix clued me in on Referenceables, so I'm working on making my exception
Referencable.  That's when I noticed that the example code is missing
Referenceables.  Ref'ables and Copyables seem to be fairly intrinsic to
pb, so they should probably show up in the examples somewhere.

Thanks,

C



__________________________________________________
Do You Yahoo!?
Great stuff seeking new owners in Yahoo! Auctions! 
<A HREF="http://auctions.yahoo.com">http://auctions.yahoo.com</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="033235.html">[Twisted-Python] Sample app for docs
</A></li>
	<LI>Next message (by thread): <A HREF="033237.html">[Twisted-Python] Throwing exceptions to the client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33236">[ date ]</a>
              <a href="thread.html#33236">[ thread ]</a>
              <a href="subject.html#33236">[ subject ]</a>
              <a href="author.html#33236">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
