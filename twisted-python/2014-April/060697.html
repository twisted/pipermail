<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] ANN: Crochet 1.2.0 - Use Twisted Anywhere!
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20ANN%3A%20Crochet%201.2.0%20-%20Use%20Twisted%20Anywhere%21&In-Reply-To=%3Ce63b31d91b90cf34f257b606bc24de27%40itamarst.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] ANN: Crochet 1.2.0 - Use Twisted Anywhere!</H1>
    <B>Itamar Turner-Trauring</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20ANN%3A%20Crochet%201.2.0%20-%20Use%20Twisted%20Anywhere%21&In-Reply-To=%3Ce63b31d91b90cf34f257b606bc24de27%40itamarst.org%3E"
       TITLE="[Twisted-Python] ANN: Crochet 1.2.0 - Use Twisted Anywhere!">itamar at itamarst.org
       </A><BR>
    <I>Mon Apr 14 08:29:43 MDT 2014</I>
    <P><UL>
        
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60697">[ date ]</a>
              <a href="thread.html#60697">[ thread ]</a>
              <a href="subject.html#60697">[ subject ]</a>
              <a href="author.html#60697">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE> 

Crochet is an MIT-licensed library that makes it easier to use Twisted
from regular blocking code. Some use cases include: 

 	* Easily use Twisted from a blocking framework like Django or Flask.
 	* Write a library that provides a blocking API, but uses Twisted for
its implementation.
 	* Port blocking code to Twisted more easily, by keeping a backwards
compatibility layer.
 	* Allow normal Twisted programs that use threads to interact with
Twisted more cleanly from their threaded parts. For example this can be
useful when using Twisted as a WSGI container.

New in this release: 

 	* crochet.wait_for implements the timeout/cancellation pattern
documented in previous versions of Crochet.
 	* Functions wrapped with wait_for and run_in_reactor can now be
accessed via the wrapped_function attribute, to ease unit testing of the
underlying Twisted code.
 	* Bug fixes, documentation improvements and more - for a full list see
the

Documentation can be found at <A HREF="http://crochet.readthedocs.org">http://crochet.readthedocs.org</A> [1] 

Bugs and feature requests should be filed at the project
<A HREF="https://github.com/itamarst/crochet">https://github.com/itamarst/crochet</A> [2] 

Here's an example of a program using Crochet. Notice that you get a
completely blocking interface to Twisted and do not need to run the
Twisted reactor, the event loop, yourself. 

#!/usr/bin/python
&quot;&quot;&quot;
Do a DNS lookup using Twisted's APIs.
&quot;&quot;&quot;
from __future__ import print_function

# The Twisted code we'll be using:
from twisted.names import client

from crochet import setup, wait_for
setup()

# Crochet layer, wrapping Twisted's DNS library in a blocking call.
@wait_for(timeout=5.0)
def gethostbyname(name):
 &quot;&quot;&quot;Lookup the IP of a given hostname.

 Unlike socket.gethostbyname() which can take an arbitrary amount of
time
 to finish, this function will raise crochet.TimeoutError if more than 5
 seconds elapse without an answer being received.
 &quot;&quot;&quot;
 d = client.lookupAddress(name)
 d.addCallback(lambda result: result[0][0].payload.dottedQuad())
 return d

if __name__ == '__main__':
 # Application code using the public API - notice it works in a normal
 # blocking manner, with no event loop visible:
 import sys
 name = sys.argv[1]
 ip = gethostbyname(name)
 print(name, &quot;-&gt;&quot;, ip)

Run on the command line: 

&gt;<i> $ python blockingdns.py twistedmatrix.com
</I>&gt;<i> twistedmatrix.com -&gt; 66.35.39.66
</I>
 

Links:
------
[1] <A HREF="https://crochet.readthedocs.org/">https://crochet.readthedocs.org/</A>
[2] <A HREF="https://github.com/itamarst/crochet">https://github.com/itamarst/crochet</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20140414/2783ac8b/attachment-0002.html&gt;
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60697">[ date ]</a>
              <a href="thread.html#60697">[ thread ]</a>
              <a href="subject.html#60697">[ subject ]</a>
              <a href="author.html#60697">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
