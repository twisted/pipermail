<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] mail and web server authentication: yet to come or already there?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20mail%20and%20web%20server%20authentication%3A%20yet%20to%20come%20or%20already%20there%3F&In-Reply-To=152495.1037922054230.JavaMail.SYSTEM%40webaccess">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002319.html">
   <LINK REL="Next"  HREF="002321.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] mail and web server authentication: yet to come or already there?</H1>
    <B>Andrew Bennetts</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20mail%20and%20web%20server%20authentication%3A%20yet%20to%20come%20or%20already%20there%3F&In-Reply-To=152495.1037922054230.JavaMail.SYSTEM%40webaccess"
       TITLE="[Twisted-Python] mail and web server authentication: yet to come or already there?">andrew-twisted at puzzling.org
       </A><BR>
    <I>Thu Nov 21 20:10:04 EST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="002319.html">[Twisted-Python] mail and web server authentication: yet to come or already there?
</A></li>
        <LI>Next message: <A HREF="002321.html">[Twisted-Python] mail and web server authentication: yet to come or already there?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2320">[ date ]</a>
              <a href="thread.html#2320">[ thread ]</a>
              <a href="subject.html#2320">[ subject ]</a>
              <a href="author.html#2320">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Nov 22, 2002 at 01:48:25AM +0100, Stefano Debenedetti wrote:
&gt;<i> Andrew Bennetts wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;I *think* twisted.web.guard has this functionality... I've heard it's going
</I>&gt;<i> &gt;to be overhauled at some point, it's not as nice as it could be.
</I>&gt;<i> 
</I>&gt;<i> Unfortunately this seems to handle authentication at an application level 
</I>&gt;<i> while I need to use HTTP protocol authentication mechanisms, ok I'll have 
</I>&gt;<i> to give it a go myself.
</I>
Ok.  I'm pretty sure glyph or someone has some ideas on how best to do this;
it'd be good if they'd speak up :)

&gt;<i> &gt;I'm even less of a twisted.mail expert than a twisted.web expert, but I
</I>&gt;<i> &gt;think that twisted.mail's auth stuff predates twisted.cred, and we haven't
</I>&gt;<i> &gt;had time to migrate it to twisted.cred yet.
</I>&gt;<i> 
</I>&gt;<i> Again, I'm going to try and do that, of course it would be easier if I had 
</I>&gt;<i> some more samples of twisted.cred I could start from :-)
</I>
Indeed :)

&gt;<i> &gt;Hmm.  That looks like a dubious change to me.  Wouldn't that fail for
</I>&gt;<i> &gt;headers like:
</I>&gt;<i> &gt;    To: Mr. Example &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">dude at example.com</A>&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;I'm not familiar with smtp.py though...
</I>&gt;<i> 
</I>&gt;<i> :-) seems you are victim of a similar misunderstanding of SMTP that I had 
</I>&gt;<i> until recently: MAIL FROM and RCPT TO can only specify a mail address (in 
</I>&gt;<i> angle brackets). Headers like:
</I>
Ah, ok.  I didn't realise (although I probably should've) that you were
changing the handling of MAIL FROM and RCPT TO... in my defense, you didn't
use unidiff format for that patch, which would've made that clear :)

&gt;<i> Indeed the current code is already handling RFC821 correctly, as that RFC 
</I>&gt;<i> doesn't allow to put spaces after the column and before the first angle 
</I>&gt;<i> bracket but I have at least one mailer that does that and I've seen other 
</I>&gt;<i> SMTP implementations that forgive that (for example see [1]), so I'll post 
</I>&gt;<i> my patch here again:
</I>
Ah, ok.  Looks good to me, but I'm not the SMTP maintainer, so that doesn't
count for much...  in general, I believe we aim to be &quot;liberal in what we
accept, and strict in what we send&quot; to maximise interoperability, so this
patch seems fine.  Does Moshe or Itamar want to express an opinion here? :)

&gt;<i> So even at the second attempt the only way to run the Twisted installer for 
</I>&gt;<i> me was to remove the parts of setup.py that mention external modules, that 
</I>&gt;<i> makes me feel like a bad boy but I found no other solution.
</I>
That's fine.  It'd be nice if there was a better way to do it than hacking
setup.py, but Twisted runs perfectly well as pure python.

Note also that we distribute Win32 installers for released versions, like
1.0.0, and soon also for 1.0.1, and these include prebuilt C modules.

&gt;<i> &gt;Eek.  The UI shouldn't crash, but regardless usually I use &quot;runtests -t&quot;,
</I>&gt;<i> &gt;i.e. run in text mode.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Unfortunately Win32 support isn't 100% -- which tests are failing for you?
</I>&gt;<i> 
</I>&gt;<i> Thanks for the -t tip. I found out that the testcases hang only if I use 
</I>&gt;<i> the cygwin python and that they behave differently if I run them with the 
</I>&gt;<i> -t flag, I copy here (by hand) the outputs of the graphical UI, both under 
</I>&gt;<i> cygwin and with regular python:
</I>
Thanks for these details, I'll have a look at them in more detail later.

It might be worth attaching the full output and your test.log file to a bug
report in our Sourceforge bug tracker, so we can't forget about them :)

Regards,

-Andrew.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002319.html">[Twisted-Python] mail and web server authentication: yet to come or already there?
</A></li>
	<LI>Next message: <A HREF="002321.html">[Twisted-Python] mail and web server authentication: yet to come or already there?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2320">[ date ]</a>
              <a href="thread.html#2320">[ thread ]</a>
              <a href="subject.html#2320">[ subject ]</a>
              <a href="author.html#2320">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
