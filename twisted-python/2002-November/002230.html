<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] distutils and twisted
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20distutils%20and%20twisted&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002229.html">
   <LINK REL="Next"  HREF="002231.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] distutils and twisted</H1>
    <B>Steve Waterbury</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20distutils%20and%20twisted&In-Reply-To="
       TITLE="[Twisted-Python] distutils and twisted">waterbug at beeblebrox.gsfc.nasa.gov
       </A><BR>
    <I>Wed Nov  6 10:21:47 EST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="002229.html">[Twisted-Python] distutils and twisted
</A></li>
        <LI>Next message: <A HREF="002231.html">[Twisted-Python] distutils and twisted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2230">[ date ]</a>
              <a href="thread.html#2230">[ thread ]</a>
              <a href="subject.html#2230">[ subject ]</a>
              <a href="author.html#2230">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Alexandre Fayolle wrote:

&gt;<i> What's the prefered way to use distutils to package a twisted plugin.
</I>&gt;<i> The key question being, how do you install the plugins.tml file ? Is
</I>&gt;<i> there any distutils extensions available ?
</I>
At last, a question I can answer!  (I'm a Twisted application 
developer, not a Twisted guru ... :^)  

Put your plugins.tml into the top dir of your application, e.g.:

myapp/__init__.py
     /plugins.tml    &lt;---
     /myapptap.py
     /myappmodule1/...
     /myappmodule2/...

... and make sure that myapp is in your PYTHONPATH.  
Then if your plugins.tml looks something like this:

-------------------------------------------------
register(&quot;Myapp Tap Builder&quot;,
         &quot;myapp.myapptap&quot;,
         description=&quot;&quot;&quot;My Application&quot;&quot;&quot;,
         type=&quot;tap&quot;,
         tapname=&quot;myapp&quot;)
-------------------------------------------------

... then mktap will create a myapp.tap file in the 
dir where you run it.  

For your setup.py, something like this should work 
(note data_files ... :^):

-------------------------------------------------
from distutils.core import setup

setup (name = &quot;My Application&quot;,
       version = &quot;0.0&quot;,
       description = &quot;Blah blah&quot;,
       author = &quot;Moi&quot;,
       author_email = &quot;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">moi at world</A>&quot;,
       maintainer = &quot;admin&quot;,
       maintainer_email = '<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">admin at here</A>',
       url = &quot;<A HREF="http://spam.world/eggs&quot;,">http://spam.world/eggs&quot;,</A>
       licence = &quot;MIT&quot;,
       long_description = &quot;&quot;&quot;\
My application does NOT suck!&quot;&quot;&quot;,
       packages = ['myapp', 
                   'myapp.myappmodule1', 
                   'myapp.myappmodule2'
                   ],
       data_files = [('lib/python2.2/site-packages/myapp', ['myapp/plugins.tml'])
                   ]
      )
-------------------------------------------------

HTH,
-- Steve.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002229.html">[Twisted-Python] distutils and twisted
</A></li>
	<LI>Next message: <A HREF="002231.html">[Twisted-Python] distutils and twisted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2230">[ date ]</a>
              <a href="thread.html#2230">[ thread ]</a>
              <a href="subject.html#2230">[ subject ]</a>
              <a href="author.html#2230">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
