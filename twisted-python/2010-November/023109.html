<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Inconsistency in ReconnectingClientFactory
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Inconsistency%20in%20ReconnectingClientFactory&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023108.html">
   <LINK REL="Next"  HREF="023110.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Inconsistency in ReconnectingClientFactory</H1>
    <B>Brandl, Albert</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Inconsistency%20in%20ReconnectingClientFactory&In-Reply-To="
       TITLE="[Twisted-Python] Inconsistency in ReconnectingClientFactory">albert.brandl at weiermayer.com
       </A><BR>
    <I>Wed Nov  3 08:01:14 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="023108.html">[Twisted-Python] Twisted with callInThread
</A></li>
        <LI>Next message: <A HREF="023110.html">[Twisted-Python] Inconsistency in ReconnectingClientFactory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23109">[ date ]</a>
              <a href="thread.html#23109">[ thread ]</a>
              <a href="subject.html#23109">[ subject ]</a>
              <a href="author.html#23109">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi!

The ReconnectingClientFactory class allows to define the instance
variable maxDelay. Its documentation is &quot;Maximum number of seconds
between connection attempts.&quot;

maxDelay is used in the retry() method to bound self.delay. But this        
happens in the _first_ step of the calculation of self.delay.
Afterwards, the bounded value is modified again by applying
random.normalvariate to allow for the jitter. This can result in a value
that is considerably bigger than maxDelay.

Is there any reason that maxDelay is not used for bounding the final
result of the calculation of self.delay? If not, the calculation should
be fixed - I'd be happy to file an issue ;-).

Best regards,

Albert
--
Albert Brandl
Weiermayer Solutions GmbH      | Abteistra&#223;e 12, A-4813 Altm&#252;nster
phone: +43 (0) 720 70 30 14    | fax: +43 (0) 7612 20 3 56
web: <A HREF="http://www.weiermayer.com">http://www.weiermayer.com</A>


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023108.html">[Twisted-Python] Twisted with callInThread
</A></li>
	<LI>Next message: <A HREF="023110.html">[Twisted-Python] Inconsistency in ReconnectingClientFactory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23109">[ date ]</a>
              <a href="thread.html#23109">[ thread ]</a>
              <a href="subject.html#23109">[ subject ]</a>
              <a href="author.html#23109">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
