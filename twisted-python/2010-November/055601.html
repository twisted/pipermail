<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] signalfd
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20signalfd&In-Reply-To=%3C20101104022338.2040.892926715.divmod.xquotient.534%40localhost.localdomain%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="023111.html">
   <LINK REL="Next"  HREF="055602.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] signalfd</H1>
    <B>exarkun at twistedmatrix.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20signalfd&In-Reply-To=%3C20101104022338.2040.892926715.divmod.xquotient.534%40localhost.localdomain%3E"
       TITLE="[Twisted-Python] signalfd">exarkun at twistedmatrix.com
       </A><BR>
    <I>Wed Nov  3 20:23:38 MDT 2010</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="023111.html">[Twisted-Python] signalfd
</A></li>
        <LI>Next message (by thread): <A HREF="055602.html">[Twisted-Python] signalfd
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55601">[ date ]</a>
              <a href="thread.html#55601">[ thread ]</a>
              <a href="subject.html#55601">[ subject ]</a>
              <a href="author.html#55601">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 01:45 am, <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">ndbecker2 at gmail.com</A> wrote:
&gt;<i>On modern linux, signalfd can be used to convert sigchld into an event 
</I>&gt;<i>on a
</I>&gt;<i>file descriptor.  Looks like just what is wanted for processProtocol.
</I>
It does, indeed.  I'm not sure it's really worth bothering though.  Here 
are the drawbacks of using signalfd():

   - It only works on Linux
   - It works differently on older versions of Linux than on newer 
versions
   - You still can't have another SIGCHLD handler installed that will 
called (so it's not any more cooperative with other library code)

As compared to using SA_RESTART with a normal SIGCHLD handler, this is 
two extra drawbacks.  The advantages of signalfd() are:

    - It's just another fd, so the reactor doesn't need as much special 
support code

But this advantage is negated by the fact that we still need the special 
support code for older versions of Linux and for other platforms.

If anyone's aware of other advantages or drawbacks of one approach or 
the other, it would be interesting to hear about them.  Otherwise, it 
doesn't seem like it's worth changing.

Thanks for the suggestion! :)

Jean-Paul


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="023111.html">[Twisted-Python] signalfd
</A></li>
	<LI>Next message (by thread): <A HREF="055602.html">[Twisted-Python] signalfd
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55601">[ date ]</a>
              <a href="thread.html#55601">[ thread ]</a>
              <a href="subject.html#55601">[ subject ]</a>
              <a href="author.html#55601">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
