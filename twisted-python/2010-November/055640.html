<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] wxReactor Issues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20wxReactor%20Issues&In-Reply-To=%3C1F5684815E0.000005B1rsgames%40inbox.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="055638.html">
   <LINK REL="Next"  HREF="055641.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] wxReactor Issues</H1>
    <B>RSGames Support</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20wxReactor%20Issues&In-Reply-To=%3C1F5684815E0.000005B1rsgames%40inbox.com%3E"
       TITLE="[Twisted-Python] wxReactor Issues">rsgames at inbox.com
       </A><BR>
    <I>Sun Nov 14 10:28:18 MST 2010</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="055638.html">[Twisted-Python] wxReactor Issues
</A></li>
        <LI>Next message (by thread): <A HREF="055641.html">[Twisted-Python] wxReactor Issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55640">[ date ]</a>
              <a href="thread.html#55640">[ thread ]</a>
              <a href="subject.html#55640">[ subject ]</a>
              <a href="author.html#55640">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,
Well, I close the application (by clicking the X). Then a few seconds later, Ubuntu comes up with a dialog asking me if I want to force quit the application. gdb reports the following when I force quit: Program terminated with signal SIGKILL, Killed.

As far as to why it is crashing, I'm almost positive it is because there are two threads that aren't getting stopped properly.
Thank you.

&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at twistedmatrix.com</A>
</I>&gt;<i> Sent: Sun, 14 Nov 2010 05:29:45 -0000
</I>&gt;<i> To: <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>
</I>&gt;<i> Subject: Re: [Twisted-Python] wxReactor Issues
</I>&gt;<i> 
</I>&gt;<i> On 03:56 am, <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">rsgames at inbox.com</A> wrote:
</I>&gt;<i> &gt;Hello,
</I>&gt;<i> &gt;My Twisted Python application with wxReactor crashes every time the
</I>&gt;<i> &gt;user exits the application.
</I>&gt;<i> 
</I>&gt;<i> What do you mean when you say &quot;crashes&quot;?  A SIGSEGV is probably due to a
</I>&gt;<i> bug in CPython or (more likely) wxPython.
</I>&gt;<i> 
</I>&gt;<i> Jean-Paul
</I>&gt;<i> &gt;The OnClose event calls a method that does reactor.stop(). I've ran
</I>&gt;<i> &gt;this through gdb, and have noticed that this is because 2 threads
</I>&gt;<i> &gt;aren't getting closed. What I find strange though, that is if the
</I>&gt;<i> &gt;server closes the connection to the user, the 2 threads exit, and you
</I>&gt;<i> &gt;are able to close the application our properly. I have tried running
</I>&gt;<i> &gt;reactor.disconnectAll() before the reactor.stop() in my OnClose event,
</I>&gt;<i> &gt;with no luck. The client closes the connection to the server, but the
</I>&gt;<i> &gt;threads do not exit. I have also this patch found here
</I>&gt;<i> &gt;(<A HREF="http://twistedmatrix.com/trac/ticket/3948">http://twistedmatrix.com/trac/ticket/3948</A>):
</I>&gt;<i> &gt;if wxreactor.WxReactor.callFromThread is not None:
</I>&gt;&gt;<i>    oldStop = wxreactor.WxReactor.stop
</I>&gt;&gt;<i>    def stopFromThread(self):
</I>&gt;&gt;<i>        reactor.callFromThread(oldStop)
</I>&gt;&gt;<i>    wxreactor.WxReactor.stop = stopFromThread
</I>&gt;&gt;<i> 
</I>&gt;<i> &gt;This problem occurs when I do and don't call the MainLoop() on the
</I>&gt;<i> &gt;wx.App(). If you all could provide some insight on this, I would be
</I>&gt;<i> &gt;very grateful.
</I>&gt;<i> &gt;Thank you.
</I>&gt;&gt;<i> 
</I>&gt;<i> &gt;____________________________________________________________
</I>&gt;<i> &gt;Send any screenshot to your friends in seconds...
</I>&gt;<i> &gt;Works in all emails, instant messengers, blogs, forums and social
</I>&gt;<i> &gt;networks.
</I>&gt;<i> &gt;TRY IM TOOLPACK at <A HREF="http://www.imtoolpack.com/default.aspx?rc=if2">http://www.imtoolpack.com/default.aspx?rc=if2</A> for
</I>&gt;<i> &gt;FREE
</I>&gt;&gt;<i> 
</I>&gt;<i> &gt;_______________________________________________
</I>&gt;<i> &gt;Twisted-Python mailing list
</I>&gt;<i> &gt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> &gt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>
____________________________________________________________
Send any screenshot to your friends in seconds...
Works in all emails, instant messengers, blogs, forums and social networks.
TRY IM TOOLPACK at <A HREF="http://www.imtoolpack.com/default.aspx?rc=if2">http://www.imtoolpack.com/default.aspx?rc=if2</A> for FREE


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="055638.html">[Twisted-Python] wxReactor Issues
</A></li>
	<LI>Next message (by thread): <A HREF="055641.html">[Twisted-Python] wxReactor Issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55640">[ date ]</a>
              <a href="thread.html#55640">[ thread ]</a>
              <a href="subject.html#55640">[ subject ]</a>
              <a href="author.html#55640">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
