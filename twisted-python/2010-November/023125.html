<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] More daemonize() / OSX API /	USING_FORK_WITHOUT_EXEC_etc.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20More%20daemonize%28%29%20/%20OSX%20API%20/%0A%09USING_FORK_WITHOUT_EXEC_etc.&In-Reply-To=7160792C-008C-4175-B653-0214CED216DD%40letterror.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023123.html">
   <LINK REL="Next"  HREF="023119.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] More daemonize() / OSX API /	USING_FORK_WITHOUT_EXEC_etc.</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20More%20daemonize%28%29%20/%20OSX%20API%20/%0A%09USING_FORK_WITHOUT_EXEC_etc.&In-Reply-To=7160792C-008C-4175-B653-0214CED216DD%40letterror.com"
       TITLE="[Twisted-Python] More daemonize() / OSX API /	USING_FORK_WITHOUT_EXEC_etc.">glyph at twistedmatrix.com
       </A><BR>
    <I>Sat Nov  6 19:51:08 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="023123.html">[Twisted-Python] More daemonize() / OSX API /	USING_FORK_WITHOUT_EXEC_etc.
</A></li>
        <LI>Next message: <A HREF="023119.html">[Twisted-Python] [newb] another process question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23125">[ date ]</a>
              <a href="thread.html#23125">[ thread ]</a>
              <a href="subject.html#23125">[ subject ]</a>
              <a href="author.html#23125">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Nov 6, 2010, at 7:38 AM, Erik van Blokland wrote:

&gt;<i> 
</I>&gt;<i> On Nov 5, 2010, at 11:46 PM, Erik van Blokland wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> Any clues to why pkg_resources would cause Carbon to load on one machine, but not on another?
</I>&gt;&gt;<i> Any clues to prevent it these modules from loading?
</I>&gt;<i> 
</I>&gt;<i> FWIW, I found a workaround. The remote machine had setuptools-0.6c11-py2.6.egg, the local machine setuptools-0.6c9-py2.6.egg. Reverting to c9 prevents Carbon to be loaded with pkg_resources, which in turn enables daemonisation. The child happily runs twisted and quartz.
</I>&gt;<i> 
</I>&gt;<i> I'd still be interested to see how twisted / daemon / OSX API  is supposed to work with setuptools c11. But I'm happy I can continue.
</I>
Well, clearly it doesn't work :).

Please feel free to open another ticket.  You are correct in saying that this is related to &lt;<A HREF="http://tm.tl/4644">http://tm.tl/4644</A>&gt;, but that ticket is specifically about a test, and the proposed solution there is to make the test sensitive.

&lt;<A HREF="http://bugs.python.org/issue7895">http://bugs.python.org/issue7895</A>&gt; was the bug in Python that causes this, which has since been fixed. Although apparently the fix was not quite in time for 2.7, it looks to me like it has been committed to the 2.7 (and 2.6) branches, so perhaps we will see some point-releases which fix it.  So in future versions of Python, Twisted will not be affected by this issue.

However, it may be good to get a workaround in Twisted anyway, for those who have to deal with the combination of older Python / newer Setuptools, or a better fix, like changing the order of daemonization.  So a ticket is definitely worthwhile.


</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023123.html">[Twisted-Python] More daemonize() / OSX API /	USING_FORK_WITHOUT_EXEC_etc.
</A></li>
	<LI>Next message: <A HREF="023119.html">[Twisted-Python] [newb] another process question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23125">[ date ]</a>
              <a href="thread.html#23125">[ thread ]</a>
              <a href="subject.html#23125">[ subject ]</a>
              <a href="author.html#23125">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
