<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] addCallbacks issue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20addCallbacks%20issue&In-Reply-To=%3CD978945F-8D47-11D8-BF24-000A95A61ED2%40froup.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="040009.html">
   <LINK REL="Next"  HREF="040005.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] addCallbacks issue</H1>
    <B>Tim Allen</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20addCallbacks%20issue&In-Reply-To=%3CD978945F-8D47-11D8-BF24-000A95A61ED2%40froup.com%3E"
       TITLE="[Twisted-Python] addCallbacks issue">screwtape at froup.com
       </A><BR>
    <I>Tue Apr 13 06:41:13 MDT 2004</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="040009.html">[Twisted-Python] addCallbacks issue
</A></li>
        <LI>Next message (by thread): <A HREF="040005.html">[Twisted-Python] addCallbacks issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39997">[ date ]</a>
              <a href="thread.html#39997">[ thread ]</a>
              <a href="subject.html#39997">[ subject ]</a>
              <a href="author.html#39997">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 13 Apr 2004, at 20:31, Andrew Bennetts wrote:
&gt;<i> On Tue, Apr 13, 2004 at 01:19:30AM -0700, Sorin C. wrote:
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Yes, I saw this bit of documentation but what I
</I>&gt;&gt;<i> understand from it is that if you chain multiple
</I>&gt;&gt;<i> addCallbacks to the same deferred then the error
</I>&gt;&gt;<i> handler from the last addCallbacks call will be
</I>&gt;&gt;<i> called. What am I missing?
</I>&gt;<i>
</I>&gt;<i> You misunderstand the documentation, which is a shame because that 
</I>&gt;<i> section
</I>&gt;<i> is there specifically to be as clear as possible about this point :(  I
</I>&gt;<i> wonder how we can do better?
</I>
I think part of the problem is that people speak of &quot;the callback 
chain&quot;, when there's actually two mutually intertwined callback chains.

It's been a while since I read the Twisted docs, but maybe they should 
explicitly mention that in the context of addCallbacks(), the callback 
is called to turn a successful operation into a successful upstream 
result, and the errback is called to turn an unsuccessful operation 
into a successful upstream result. The upstream errback only gets 
called if the current situation is utterly unsalvageable.

Another way of approaching the concept might be to say that each stage 
in the chain has to deal with the errors in the chain before it - that 
is, if you do:

	d.addCallbacks(cb, eb)

then eb needs to handle any errors that arise from the data source, 
while if you do:

	d.addCallback(cb)
	d.addErrback(eb)

then eb needs to handle any errors that arise from the data source, AND 
any errors that arise from cb.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="040009.html">[Twisted-Python] addCallbacks issue
</A></li>
	<LI>Next message (by thread): <A HREF="040005.html">[Twisted-Python] addCallbacks issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39997">[ date ]</a>
              <a href="thread.html#39997">[ thread ]</a>
              <a href="subject.html#39997">[ subject ]</a>
              <a href="author.html#39997">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
