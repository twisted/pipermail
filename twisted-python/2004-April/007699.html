<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] twisted.internet.error.ConnectionDone,	Connection was closed cleanly
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20twisted.internet.error.ConnectionDone%2C%0A%09Connection%20was%20closed%20cleanly&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007701.html">
   <LINK REL="Next"  HREF="007700.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] twisted.internet.error.ConnectionDone,	Connection was closed cleanly</H1>
    <B>Matteo Giacomazzi</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20twisted.internet.error.ConnectionDone%2C%0A%09Connection%20was%20closed%20cleanly&In-Reply-To="
       TITLE="[Twisted-Python] twisted.internet.error.ConnectionDone,	Connection was closed cleanly">matteo.giacomazzi at email.it
       </A><BR>
    <I>Thu Apr 29 10:26:57 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="007701.html">[Twisted-Python] Is multicast supported on windows platform?
</A></li>
        <LI>Next message: <A HREF="007700.html">[Twisted-Python] twisted.internet.error.ConnectionDone,	Connection was closed cleanly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7699">[ date ]</a>
              <a href="thread.html#7699">[ thread ]</a>
              <a href="subject.html#7699">[ subject ]</a>
              <a href="author.html#7699">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

   in  my  network (client) application I have to defer an action in a
   thread using deferToThread.
   I add an errBack to the deferred returned from the deferToThread in
   order  to handle exceptions and, then, I add a callBack in order to
   return a response *anyway*.

   Now  the  problem:  if  the  thread completes its execution without
   exception, everything works pretty fine.
   If an exception happens in the thread, then the errBack is invoked,
   the  callBack  is invoked and the transport.write is invoked but...
   at  the  end  of the chain the protocol receives a &quot;connectionLost&quot;
   call  and  the factory receives a &quot;clientConnectionLost&quot; call, both
   with the reason you can see in the subject.

   What does it mean?

   Any  help  would  be  greatly  appreciated.
   Python  2.3.3
   Twisted 1.2.0

Best regards
 Matteo



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007701.html">[Twisted-Python] Is multicast supported on windows platform?
</A></li>
	<LI>Next message: <A HREF="007700.html">[Twisted-Python] twisted.internet.error.ConnectionDone,	Connection was closed cleanly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7699">[ date ]</a>
              <a href="thread.html#7699">[ thread ]</a>
              <a href="subject.html#7699">[ subject ]</a>
              <a href="author.html#7699">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
