<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Transporting pb.Copyable classes?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Transporting%20pb.Copyable%20classes%3F&In-Reply-To=6.0.1.1.0.20040421094151.04425c80%40pop.mindspring.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007651.html">
   <LINK REL="Next"  HREF="007649.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Transporting pb.Copyable classes?</H1>
    <B>Jasper Phillips</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Transporting%20pb.Copyable%20classes%3F&In-Reply-To=6.0.1.1.0.20040421094151.04425c80%40pop.mindspring.com"
       TITLE="[Twisted-Python] Transporting pb.Copyable classes?">jasper at peak.org
       </A><BR>
    <I>Wed Apr 21 12:57:47 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="007651.html">[Twisted-Python] Transporting pb.Copyable classes?
</A></li>
        <LI>Next message: <A HREF="007649.html">[Twisted-Python] twisted and interactive/command driven input
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7652">[ date ]</a>
              <a href="thread.html#7652">[ thread ]</a>
              <a href="subject.html#7652">[ subject ]</a>
              <a href="author.html#7652">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Wed, 21 Apr 2004, Samuel Reynolds wrote:

&gt;<i> At 2004-04-20 06:44 PM -0700, you wrote:
</I>[snip: my description of static classes used for Terrain]

&gt;<i> How about making Mountains, Plains, etc. Singletons?
</I>&gt;<i> Then, instead of assigning hexCellInstance.terrain=Mountain,
</I>&gt;<i> you assign hexCellInstance.terrain=Mountain() (note the
</I>&gt;<i> parentheses!). At that point, each cell.terrain is an object
</I>&gt;<i> reference instead of a class reference and (IIUC) should
</I>&gt;<i> remote-copy properly.
</I>
I have considered Singletons, but don't see what advantage they provide.
They basically do the same thing as static classes in this case, except with
more code and IMHO less transparency.  Perhaps if these Terrain classes had
some mutable state, but they don't.

&gt;<i> Caveat: I've not used pb; this is based on my *very* weak
</I>&gt;<i> understanding (misunderstanding?) of it. In particular,
</I>&gt;<i> I don't know how pb/copyable would interact with a singleton.
</I>&gt;<i> I would *expect* that the remote unserialization would
</I>&gt;<i> (eventually) invoke Mountains.__call__ and get a reference
</I>&gt;<i> to the corresponding singleton on the client side.
</I>
I suspect singletons might have some trouble with jelly, unless it has some
wacky special case for realizing a passed singleton instance should be
equivalent to the corresponding remote singleton instance, which may or may
not already exist.


All this seems to me like frantic contortion to avoid a bug in jelly.
Shouldn't it be able to translate passed class objects into the remote
version, provided they have been properly registered?  Is there some reason
why not that I am missing?

I appreciate the code suggestions, but basicaly I just want to know whether
this is expected behavior, or whether I should post a demonstrative test
case and suggest a fix.

-Jasper



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007651.html">[Twisted-Python] Transporting pb.Copyable classes?
</A></li>
	<LI>Next message: <A HREF="007649.html">[Twisted-Python] twisted and interactive/command driven input
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7652">[ date ]</a>
              <a href="thread.html#7652">[ thread ]</a>
              <a href="subject.html#7652">[ subject ]</a>
              <a href="author.html#7652">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
