<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] addCallbacks issue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20addCallbacks%20issue&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007539.html">
   <LINK REL="Next"  HREF="007541.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] addCallbacks issue</H1>
    <B>Jonathan Simms</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20addCallbacks%20issue&In-Reply-To="
       TITLE="[Twisted-Python] addCallbacks issue">slyphon at twistedmatrix.com
       </A><BR>
    <I>Sun Apr 18 03:19:38 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="007539.html">[Twisted-Python] why deferred.setTimeout is not my favorite API	method
</A></li>
        <LI>Next message: <A HREF="007541.html">[Twisted-Python] why deferred.setTimeout is not my favorite API	method
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7540">[ date ]</a>
              <a href="thread.html#7540">[ thread ]</a>
              <a href="subject.html#7540">[ subject ]</a>
              <a href="author.html#7540">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I think that:

    d.addCallback(cb)
    d.addErrback(eb)

is the more common idiom because it avoids the double-helix nature of
deferred handling, opting instead for a single node-to-node chain of
handling, which is less complex conceptually.

--snip!--

&gt;<i> Another way of approaching the concept might be to say that each stage
</I>&gt;<i> in the chain has to deal with the errors in the chain before it - that
</I>&gt;<i> is, if you do:
</I>&gt;<i> 
</I>&gt;<i>       d.addCallbacks(cb, eb)
</I>&gt;<i> 
</I>&gt;<i> then eb needs to handle any errors that arise from the data source, 
</I>&gt;<i> while if you do:
</I>&gt;<i> 
</I>&gt;<i>       d.addCallback(cb)
</I>&gt;<i>       d.addErrback(eb)
</I>&gt;<i> 
</I>&gt;<i> then eb needs to handle any errors that arise from the data source,
</I>AND 
&gt;<i> any errors that arise from cb.
</I>&gt;<i> 
</I>&gt;<i>
</I>
I think that this chunk is the important concept to document. This
explanation in addition to the imperitave example given by Stephen would
ensure that this concept is documented and explained sufficiently. In
fact, i'd never thought to consider deferreds as a try/except/else
statement. very useful concept!

It's funny, because when i read the original posting to this thread, I
had the same confusion. &quot;Waitasec, that errback /should/ get called!&quot;

this thread has helped to elucidate a subtle and important point about
deferreds.



-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part
Url : <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20040418/4caf7871/attachment.pgp">http://twistedmatrix.com/pipermail/twisted-python/attachments/20040418/4caf7871/attachment.pgp</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007539.html">[Twisted-Python] why deferred.setTimeout is not my favorite API	method
</A></li>
	<LI>Next message: <A HREF="007541.html">[Twisted-Python] why deferred.setTimeout is not my favorite API	method
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7540">[ date ]</a>
              <a href="thread.html#7540">[ thread ]</a>
              <a href="subject.html#7540">[ subject ]</a>
              <a href="author.html#7540">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
