<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] web2 -&gt; web ToDo List
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20web2%20-%3E%20web%20ToDo%20List&In-Reply-To=%3C20100309175939.2792.1510691846.divmod.xquotient.1454%40localhost.localdomain%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="054308.html">
   <LINK REL="Next"  HREF="054310.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] web2 -&gt; web ToDo List</H1>
    <B>exarkun at twistedmatrix.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20web2%20-%3E%20web%20ToDo%20List&In-Reply-To=%3C20100309175939.2792.1510691846.divmod.xquotient.1454%40localhost.localdomain%3E"
       TITLE="[Twisted-Python] web2 -&gt; web ToDo List">exarkun at twistedmatrix.com
       </A><BR>
    <I>Tue Mar  9 10:59:39 MST 2010</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="054308.html">[Twisted-Python] web2 -&gt; web ToDo List
</A></li>
        <LI>Next message (by thread): <A HREF="054310.html">[Twisted-Python] sniffing multicast traffic
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54309">[ date ]</a>
              <a href="thread.html#54309">[ thread ]</a>
              <a href="subject.html#54309">[ subject ]</a>
              <a href="author.html#54309">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 05:21 pm, <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">dvkeeney at gmail.com</A> wrote:
&gt;&gt;&gt;<i>Awesome, thanks for adding to the list. :) &#160;Now that there are two 
</I>&gt;&gt;&gt;<i>items
</I>&gt;&gt;&gt;<i>on it, I've added a section to the end of
</I>&gt;&gt;&gt;<i>&lt;<A HREF="http://twistedmatrix.com/trac/wiki/TwistedWebPlan">http://twistedmatrix.com/trac/wiki/TwistedWebPlan</A>&gt;. &#160;I encourage 
</I>&gt;&gt;&gt;<i>anyone
</I>&gt;&gt;&gt;<i>with interest in this area to suggest more items for this list.
</I>&gt;<i>
</I>&gt;<i>Does nobody care about web2's rational separation of Request and
</I>&gt;<i>Response objects, or the use of header dictionaries and ByteStreams in
</I>&gt;<i>the response?
</I>&gt;<i>
</I>&gt;<i>The approach used in web (render() returning a string or a
</I>&gt;<i>'NOT_DONE_YET' and then writing through the request and calling
</I>&gt;<i>finish() IIRC) is clunky and confusing.
</I>
Separation of Request and Response is a good idea, I think.  Chris 
Armstrong started working on this some time ago (a year?  two?) but I 
think the amount of work involved was more than he bargained for and as 
far as I know he doesn't have any specific plans to complete the work.

The ticket for that is <A HREF="http://twistedmatrix.com/trac/ticket/2983">http://twistedmatrix.com/trac/ticket/2983</A>

There's also a ticket for allowing render to return a Deferred, #3711. 
And similarly, one to allow getChild to return a Deferred, #3621.

I've added links to these tickets to the TwistedWebPlan page.

The plan is to not backport the streams APIs, but instead support the 
existing producer/consumer APIs in more places, or to come up with 
streaming APIs which can be used throughout Twisted, get them into core, 
and then use them in Twisted Web (or perhaps do both of these).

I'm not sure what you mean when you say &quot;use of header dictionaries&quot;.
&gt;<i>
</I>&gt;<i>Is there a way to backport the web2 system and retain backward
</I>&gt;<i>compatibility with existing user code?
</I>
There should be, yes.  The details depend on the specifics of the APIs, 
of course.
&gt;<i>
</I>&gt;<i>Unaware of web2 until recently, I previously subclassed web.http and
</I>&gt;<i>web.server to implement upload streaming, and found myself rewriting
</I>&gt;<i>'private' methods.  'private' in this case refers to methods that are
</I>&gt;<i>commented as 'not intended for users'.  It would be nice to expose
</I>&gt;<i>many of the request parsing methods to users, and restructure the
</I>&gt;<i>request parsing so that method overriding can be done cleanly.
</I>&gt;<i>
</I>&gt;<i>This is similar to, but maybe more ambitious than, one of the items
</I>&gt;<i>previously mentioned in the web2 features-to-backport list.
</I>
These comments are from a time before our current compatibility policy. 
Very likely they should all be deleted.  If you can use or override a 
method without touching something that starts with an underscore, then 
it's public.

Another, perhaps better, argument against touching these bits is that 
they're probably not very well tested.  However, this is easily fixed, 
just contribute tests (and in some cases, documentation) for them. :)

Jean-Paul


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="054308.html">[Twisted-Python] web2 -&gt; web ToDo List
</A></li>
	<LI>Next message (by thread): <A HREF="054310.html">[Twisted-Python] sniffing multicast traffic
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54309">[ date ]</a>
              <a href="thread.html#54309">[ thread ]</a>
              <a href="subject.html#54309">[ subject ]</a>
              <a href="author.html#54309">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
