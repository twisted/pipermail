<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] sniffing multicast traffic
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20sniffing%20multicast%20traffic&In-Reply-To=3df02bfc1003100235s13ab188l5554610bcbf411d0%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021814.html">
   <LINK REL="Next"  HREF="021816.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] sniffing multicast traffic</H1>
    <B>Phil Mayers</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20sniffing%20multicast%20traffic&In-Reply-To=3df02bfc1003100235s13ab188l5554610bcbf411d0%40mail.gmail.com"
       TITLE="[Twisted-Python] sniffing multicast traffic">p.mayers at imperial.ac.uk
       </A><BR>
    <I>Wed Mar 10 07:03:18 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="021814.html">[Twisted-Python] sniffing multicast traffic
</A></li>
        <LI>Next message: <A HREF="021816.html">[Twisted-Python] sniffing multicast traffic
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21815">[ date ]</a>
              <a href="thread.html#21815">[ thread ]</a>
              <a href="subject.html#21815">[ subject ]</a>
              <a href="author.html#21815">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10/03/10 10:35, Ben Barker wrote:
&gt;<i> Hello - I wonder if someone can help:
</I>&gt;<i>
</I>&gt;<i> We have some status info being sent by various machines using
</I>&gt;<i> multicast addressed udp packets. I have been attempting to use twisted
</I>&gt;<i> to write a python script that will passively monitor on the relevant
</I>&gt;<i> port for any udp packets with the specified multicast address, which I
</I>&gt;<i> can then parse the payloads of as required.
</I>&gt;<i>
</I>&gt;<i> I have been looking at the examples here:
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://code.activestate.com/recipes/425975-simple-udp-multicast-client-server-using-twisted/">http://code.activestate.com/recipes/425975-simple-udp-multicast-client-server-using-twisted/</A>
</I>&gt;<i>
</I>&gt;<i> But I seem to have trouble getting them to receive anything at all.
</I>
That's a little vague. Does &quot;trouble&quot; mean &quot;it sometimes works&quot; or 
&quot;never works&quot;?

&gt;<i>
</I>&gt;<i> I have managed to use tshark to display the packets :
</I>&gt;<i>
</I>&gt;<i> tshark -i eth0  -x -l -f udp
</I>&gt;<i>
</I>&gt;<i> so I know the data is there (coming isn on address 224.0.0.4, port 901)
</I>
FYI, the 224.0.0.0/24 group is usually not IGMP snooped, and is 
effectively therefore broadcast.

Conversely, groups outside this range require working IGMP querying / 
snooping and some help from (usually) a router, so this may be why you 
chose this range.

Broadly speaking, as long as the UDP socket is listening on the right 
port and you've called joingroup, you should be ok.

Can you post a complete example that isn't working for you?

When your code is running, have a look &quot;/sbin/ip maddr&quot; to ensure the 
group has been added to the socket listen filter.

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021814.html">[Twisted-Python] sniffing multicast traffic
</A></li>
	<LI>Next message: <A HREF="021816.html">[Twisted-Python] sniffing multicast traffic
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21815">[ date ]</a>
              <a href="thread.html#21815">[ thread ]</a>
              <a href="subject.html#21815">[ subject ]</a>
              <a href="author.html#21815">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
