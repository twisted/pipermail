<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Synchronous byte streaming
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Synchronous%20byte%20streaming&In-Reply-To=%3C1267974651.10456.43.camel%40kratos%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="054412.html">
   <LINK REL="Next"  HREF="054293.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Synchronous byte streaming</H1>
    <B>Darren Govoni</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Synchronous%20byte%20streaming&In-Reply-To=%3C1267974651.10456.43.camel%40kratos%3E"
       TITLE="[Twisted-Python] Synchronous byte streaming">darren at ontrenet.com
       </A><BR>
    <I>Sun Mar  7 08:10:51 MST 2010</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="054412.html">[Twisted-Python] Weekly Bug Summary
</A></li>
        <LI>Next message (by thread): <A HREF="054293.html">[Twisted-Python] Synchronous byte streaming
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54292">[ date ]</a>
              <a href="thread.html#54292">[ thread ]</a>
              <a href="subject.html#54292">[ subject ]</a>
              <a href="author.html#54292">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,
  I received some great advice in the past about using
Int32StringReceiver to be able to send a reliable message of bytes
from the client to the server without hassling with unordered or partial
messages. Seems to work.

But I have one problem. My client iterates over a file sending 7MB byte
messages to transport.sendString() to a server.
What i see is that the client seems to buffer or wait to send those.
After a few hundred sendStrings() still the server has not received one
message. The result is my client gets throttled bad in terms of disk and
memory. After all my sendString writes, then eventually the server
receives the first message. But my computer is 100% max'd out.  highly
undesirable.

What I want is for each on-the-wire send to complete, before sendString
returns so resources can be managed properly.

Is there _any_ way in Twisted to do this?

thanks for any tips!!

Darren
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20100307/9d06698d/attachment-0001.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="054412.html">[Twisted-Python] Weekly Bug Summary
</A></li>
	<LI>Next message (by thread): <A HREF="054293.html">[Twisted-Python] Synchronous byte streaming
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54292">[ date ]</a>
              <a href="thread.html#54292">[ thread ]</a>
              <a href="subject.html#54292">[ subject ]</a>
              <a href="author.html#54292">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
