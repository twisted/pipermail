<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] twisted xmpp-router component interface problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20twisted%20xmpp-router%20component%20interface%20problem&In-Reply-To=%3C1267651556.5856.20.camel%40dwaal%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="054234.html">
   <LINK REL="Next"  HREF="054236.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] twisted xmpp-router component interface problem</H1>
    <B>Ralph Meijer</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20twisted%20xmpp-router%20component%20interface%20problem&In-Reply-To=%3C1267651556.5856.20.camel%40dwaal%3E"
       TITLE="[Twisted-Python] twisted xmpp-router component interface problem">twisted at ralphm.ik.nu
       </A><BR>
    <I>Wed Mar  3 14:25:56 MST 2010</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="054234.html">[Twisted-Python] twisted xmpp-router component interface problem
</A></li>
        <LI>Next message (by thread): <A HREF="054236.html">[Twisted-Python] twisted xmpp-router component interface problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54235">[ date ]</a>
              <a href="thread.html#54235">[ thread ]</a>
              <a href="subject.html#54235">[ subject ]</a>
              <a href="author.html#54235">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 2010-03-03 at 14:32 -0500, Drew Smathers wrote:
&gt;<i> On Wed, Mar 3, 2010 at 1:56 PM, Werner Thie &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">wthie at thiengineering.ch</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i> [..]
</I>&gt;<i>
</I>&gt;<i>         After some fiddling around it seems that the code at line 282
</I>&gt;<i>         in
</I>&gt;<i>         twisted\words\protocols\jabber\xmlstream.py presets the sid of
</I>&gt;<i>         the
</I>&gt;<i>         stream to a str instead of a unicode(str).
</I>
Yes, this is a problem I noticed the other day as well. A ticket,
assigned to me, is in order.

&gt;<i> Just out of curiosity, I did look at xmlstream and the whole unicode
</I>&gt;<i> type checking seems unnecessary considering how the values are used:
</I>&gt;<i>
</I>&gt;<i> input = u&quot;%s%s&quot; % (sid, password)
</I>&gt;<i>
</I>&gt;<i> Why sid and password have to be unicode objects and not just
</I>&gt;<i> basestring beats me.
</I>
For the gory details, see <A HREF="http://twistedmatrix.com/trac/ticket/3847.">http://twistedmatrix.com/trac/ticket/3847.</A> The
short version is that digest authentication requires UTF-8 encoded input
and GTK sets Python's default encoding to UTF-8. Before these checks,
using non-ASCII characters in passwords would fail in some cases. As
both the session id and password can use the full range of unicode, it
makes sense to require that explicitly.

ralphm




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="054234.html">[Twisted-Python] twisted xmpp-router component interface problem
</A></li>
	<LI>Next message (by thread): <A HREF="054236.html">[Twisted-Python] twisted xmpp-router component interface problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54235">[ date ]</a>
              <a href="thread.html#54235">[ thread ]</a>
              <a href="subject.html#54235">[ subject ]</a>
              <a href="author.html#54235">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
