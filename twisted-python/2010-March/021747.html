<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Twisted 9.0.0?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Twisted%209.0.0%3F&In-Reply-To=d06a5cd31003040459n6e3bdf7aw2123fb67c8d9cacc%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021744.html">
   <LINK REL="Next"  HREF="021748.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Twisted 9.0.0?</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Twisted%209.0.0%3F&In-Reply-To=d06a5cd31003040459n6e3bdf7aw2123fb67c8d9cacc%40mail.gmail.com"
       TITLE="[Twisted-Python] Twisted 9.0.0?">glyph at twistedmatrix.com
       </A><BR>
    <I>Thu Mar  4 11:31:33 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="021744.html">[Twisted-Python] Twisted 9.0.0?
</A></li>
        <LI>Next message: <A HREF="021748.html">[Twisted-Python] Twisted 9.0.0?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21747">[ date ]</a>
              <a href="thread.html#21747">[ thread ]</a>
              <a href="subject.html#21747">[ subject ]</a>
              <a href="author.html#21747">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Mar 4, 2010, at 7:59 AM, Jonathan Lange wrote:
&gt;<i> On Thu, Mar 4, 2010 at 10:45 AM, Mark van Lent
</I>&gt;<i> &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">m.van.lent at zestsoftware.nl</A>&gt; wrote:
</I>&gt;&gt;<i> Hi everyone!
</I>&gt;&gt;<i> I am a bit puzzled about the way new version of Twisted is released. Or
</I>&gt;&gt;<i> better: the way the old version seems to be taken out of service.
</I>&gt;&gt;<i> Last weeks I've been developing agains version Twisted 9.0.0. Yesterday I
</I>&gt;&gt;<i> wanted to deploy my code to my production server, but to my surprise I could
</I>&gt;&gt;<i> not easy_install that version anymore:
</I>&gt;&gt;<i> $ easy_install Twisted==9.0.0
</I>&gt;&gt;<i> Searching for Twisted==9.0.0
</I>&gt;&gt;<i> Reading <A HREF="http://pypi.python.org/simple/Twisted/">http://pypi.python.org/simple/Twisted/</A>
</I>&gt;&gt;<i> Reading <A HREF="http://www.twistedmatrix.com">http://www.twistedmatrix.com</A>
</I>&gt;&gt;<i> Reading <A HREF="http://twistedmatrix.com/products/download">http://twistedmatrix.com/products/download</A>
</I>&gt;&gt;<i> Reading <A HREF="http://twistedmatrix.com/projects/core/">http://twistedmatrix.com/projects/core/</A>
</I>&gt;&gt;<i> Reading <A HREF="http://twistedmatrix.com/">http://twistedmatrix.com/</A>
</I>&gt;&gt;<i> No local packages or download links found for Twisted==9.0.0
</I>&gt;&gt;<i> Best match: None
</I>&gt;&gt;<i> (Okay, actually I'm using buildout to setup my environment, but the above
</I>&gt;&gt;<i> demonstrates my problem more clearly.)
</I>&gt;&gt;<i> I'm sure the new version of Twisted is better and improved but I still
</I>&gt;&gt;<i> wonder why version 9.0.0 has effectively been decommissioned. Or am I
</I>&gt;&gt;<i> missing something and is it still possible to easy_install version 9.0.0?
</I>&gt;<i> 
</I>&gt;<i> It's an oversight.
</I>
I think it's actually a bug in easy_install, or at least a mis-design.

To make something easy_installable, you don't provide structured information in PyPI; there may be a way to do that, but most packages I've seen (Twisted included) just provide a link to a page which then provides a link to a file with a filename of vaguely the appropriate shape.  easy_install works by screen-scraping that link.

In our case, the &quot;home page&quot;, <A HREF="http://twistedmatrix.com,">http://twistedmatrix.com,</A> links directly to a Twisted-&lt;version&gt;.tar.bz2, which is then used.

If someone (perhaps Mark van Lent!) could point us at how to provide the correctly structured information to easy_install via PyPI so it will _stop_ screen-scraping our website, and just point at the correct files, this problem could be addressed.

However, as exarkun says: screen-scraping a plain-text wiki and then executing code out of whatever comes out of it is not the most reliable or secure way to deploy code.  You may want to specify the URL directly - you can still use easy_install for that if you want, like this:

    $ easy_install <A HREF="http://tmrc.mit.edu/mirror/twisted/Twisted/9.0/Twisted-9.0.0.tar.bz2">http://tmrc.mit.edu/mirror/twisted/Twisted/9.0/Twisted-9.0.0.tar.bz2</A>

&gt;<i> I don't know how the PyPI announcement was done (although I'd love to!), but I think you can announce new versions without decommissioning old ones.
</I>

I assume you'll write it down on a web page, when you figure it out :).

The old version, from PyPI's perspective, wasn't decommissioned.  It's here: &lt;<A HREF="http://pypi.python.org/pypi/Twisted/9.0.0">http://pypi.python.org/pypi/Twisted/9.0.0</A>&gt;.  The problem is that it also just points at twistedmatrix.com, not a version-specific download page, and there is no Twisted-&lt;version&gt;.tar.bz2 which matches &quot;9.0.0&quot; any more.

(I believe that another way to fix this, although I would be significantly less happy about it, would be to add some hidden links to twistedmatrix.com that had the right filenames.  If this is a real problem for many users though, perhaps we should just live with an ugly fix.)

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20100304/aa5a971a/attachment-0001.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20100304/aa5a971a/attachment-0001.htm</A> 
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021744.html">[Twisted-Python] Twisted 9.0.0?
</A></li>
	<LI>Next message: <A HREF="021748.html">[Twisted-Python] Twisted 9.0.0?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21747">[ date ]</a>
              <a href="thread.html#21747">[ thread ]</a>
              <a href="subject.html#21747">[ subject ]</a>
              <a href="author.html#21747">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
