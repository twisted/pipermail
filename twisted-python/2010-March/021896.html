<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Logout from a perspective broker server
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Logout%20from%20a%20perspective%20broker%20server&In-Reply-To=1269369036.6222.11.camel%40mundo">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021894.html">
   <LINK REL="Next"  HREF="021897.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Logout from a perspective broker server</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Logout%20from%20a%20perspective%20broker%20server&In-Reply-To=1269369036.6222.11.camel%40mundo"
       TITLE="[Twisted-Python] Logout from a perspective broker server">glyph at twistedmatrix.com
       </A><BR>
    <I>Wed Mar 24 05:27:13 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="021894.html">[Twisted-Python] Logout from a perspective broker server
</A></li>
        <LI>Next message: <A HREF="021897.html">[Twisted-Python] Logout from a perspective broker server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21896">[ date ]</a>
              <a href="thread.html#21896">[ thread ]</a>
              <a href="subject.html#21896">[ subject ]</a>
              <a href="author.html#21896">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Mar 23, 2010, at 2:30 PM, Ramiro Alba Queipo wrote:

&gt;<i> I wonder, if I client using pygtk, can logout from the server without
</I>&gt;<i> calling reactor.stop(), as you would kill the GUI. I tried to delete the
</I>&gt;<i> perspective got from the server but it does not work...
</I>
The simplest thing you can do to achieve this is 'broker.transport.loseConnection()'.

Of course, that just unceremoniously drops the connection.  You may want to have a 'remote_disconnect' method on the server too, if you have any state you would like to cleanly finish up with first.

Your GUI is already handling disconnection due to network problems though, right?  :-)  So the modification to make it handle this slightly-cleaner disconnect should be minor.  If it doesn't, see the notifyOnDisconnect API in PB: &lt;<A HREF="http://twistedmatrix.com/documents/10.0.0/api/twisted.spread.pb.Broker.html#notifyOnDisconnect">http://twistedmatrix.com/documents/10.0.0/api/twisted.spread.pb.Broker.html#notifyOnDisconnect</A>&gt;.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20100324/dac4c598/attachment.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20100324/dac4c598/attachment.htm</A> 
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021894.html">[Twisted-Python] Logout from a perspective broker server
</A></li>
	<LI>Next message: <A HREF="021897.html">[Twisted-Python] Logout from a perspective broker server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21896">[ date ]</a>
              <a href="thread.html#21896">[ thread ]</a>
              <a href="subject.html#21896">[ subject ]</a>
              <a href="author.html#21896">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
