<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Lore to Sphinx Conversion Progress Report 6
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Lore%20to%20Sphinx%20Conversion%20Progress%20Report%206&In-Reply-To=562bcc11003041449x1d1ba2fdx5f9ba6262bd49643%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021764.html">
   <LINK REL="Next"  HREF="021781.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Lore to Sphinx Conversion Progress Report 6</H1>
    <B>Drew Smathers</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Lore%20to%20Sphinx%20Conversion%20Progress%20Report%206&In-Reply-To=562bcc11003041449x1d1ba2fdx5f9ba6262bd49643%40mail.gmail.com"
       TITLE="[Twisted-Python] Lore to Sphinx Conversion Progress Report 6">drew.smathers at gmail.com
       </A><BR>
    <I>Fri Mar  5 10:30:44 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="021764.html">[Twisted-Python] Lore to Sphinx Conversion Progress Report 6
</A></li>
        <LI>Next message: <A HREF="021781.html">[Twisted-Python] Lore to Sphinx Conversion Progress Report 6
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21774">[ date ]</a>
              <a href="thread.html#21774">[ thread ]</a>
              <a href="subject.html#21774">[ subject ]</a>
              <a href="author.html#21774">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Mar 4, 2010 at 5:49 PM, Kevin Horn &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">kevin.horn at gmail.com</A>&gt; wrote:

&gt;<i>
</I>&gt;<i> It's been a while, I know you were all waiting with baited breath...
</I>&gt;<i>
</I>&gt;<i> First a few fixes:
</I>&gt;<i>
</I>&gt;<i> - Thanks to Tim Allen and Steve Steiner, several theme issues were fixed.
</I>&gt;<i> This
</I>&gt;<i>   fixes a few minor display bugs and should make pages validate properly.
</I>&gt;<i>
</I>&gt;<i> - inline markup will now include child contents.  This causes rst not to
</I>&gt;<i> display
</I>&gt;<i>   properly in cases of &quot;nested inline markup&quot;, but should make it easier to
</I>&gt;<i>
</I>&gt;<i>   manually fix these places later
</I>&gt;<i>
</I>&gt;<i> - :download: links are now generated for non-rst files ending in .py (most
</I>&gt;<i> of the
</I>&gt;<i>   examples), as welll as .tac and .sql files
</I>&gt;<i>
</I>&gt;<i> - toc entries which end in a &quot;/&quot; character now have &quot;index appended to them
</I>&gt;<i>   in the ReST output, which fixes a few issues where the built-Sphinx docs
</I>&gt;<i>   would end up with broken navigation links.
</I>&gt;<i>
</I>&gt;<i> A couple of issues were also fixed at the PyCon sprints:
</I>&gt;<i>
</I>&gt;<i> - &lt;cite&gt; tags are now handled...sort of.  According to Glyph, these aren't
</I>&gt;<i> really
</I>&gt;<i>   very important, so we just return the contents of the tag without any
</I>&gt;<i> special
</I>&gt;<i>   markup.  If we feel the need to put citation markup back into the docs we
</I>&gt;<i> can
</I>&gt;<i>   do that post-transition.
</I>&gt;<i>
</I>&gt;<i> - Glyph also found an easy way to improve the CSS of the theme somewhat.
</I>&gt;<i> The
</I>&gt;<i>   issue where the sidebar drops below the main content should now be less
</I>&gt;<i> of a
</I>&gt;<i>   problem, though it's not gone entirely.
</I>&gt;<i>
</I>&gt;<i> - Glyph and I also discussed a few different ways to handle links to the
</I>&gt;<i> API docs
</I>&gt;<i>   and agreed on a way forward.  Basically, well change the &lt;code
</I>&gt;<i> class='API'&gt;
</I>&gt;<i>   tags into something like: :api:`path.to.documented object &lt;label&gt;`, and
</I>&gt;<i> then
</I>&gt;<i>   create a docutils extension to convert that into a link.  The beginnings
</I>&gt;<i> of this
</I>&gt;<i>   are in the hg repos, but it looks like it won't be quite as simple as we
</I>&gt;<i> thought.
</I>&gt;<i>
</I>&gt;<i>   First, the way pydoctor generates links is deceptively simple.
</I>&gt;<i>
</I>&gt;<i>   If you look up a module, like &quot;twisted.internet.defer&quot;, the link looks
</I>&gt;<i> like
</I>&gt;<i>   this:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/documents/9.0.0/api/twisted.internet.defer.html">http://twistedmatrix.com/documents/9.0.0/api/twisted.internet.defer.html</A>
</I>&gt;<i>
</I>&gt;<i>   If you look up a class, like &quot;twisted.internet.defer.Deferred&quot; for
</I>&gt;<i> example,
</I>&gt;<i>   the link looks like this:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/documents/current/api/twisted.internet.defer.Deferred.html">http://twistedmatrix.com/documents/current/api/twisted.internet.defer.Deferred.html</A>
</I>&gt;<i>
</I>&gt;<i>   Pretty simple right?  But if you look up a function or method like
</I>&gt;<i>   &quot;twisted.internet.defer.Deferred.callback&quot;, the link has an anchor, like
</I>&gt;<i> so:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/documents/9.0.0/api/twisted.internet.defer.Deferred.html#addCallback">http://twistedmatrix.com/documents/9.0.0/api/twisted.internet.defer.Deferred.html#addCallback</A>
</I>&gt;<i>
</I>&gt;<i>   So we'll need to do some checking on either the api docs or on twisted
</I>&gt;<i> itself
</I>&gt;<i>   to determine what sort of object is being linked to.  Shouldn't be
</I>&gt;<i>   super-difficult, just haven't had time yet.
</I>&gt;<i>
</I>&gt;<i>   Second, I haven't yet figured out how to access the Sphinx config object
</I>&gt;<i> from
</I>&gt;<i>   a docutils role function.  I'm sure this is just a matter of finding an
</I>&gt;<i> example
</I>&gt;<i>   or getting an answer from the mailing list, but I just haven't gotten to
</I>&gt;<i> it yet.
</I>&gt;<i>
</I>&gt;<i> I think the API links are the only major issue still remaining until we
</I>&gt;<i> start doing
</I>&gt;<i> the conversion, so once this issue is handled, I'll probably file a ticket
</I>&gt;<i> and create
</I>&gt;<i> a branch in SVN for the conversion.
</I>&gt;<i>
</I>&gt;<i> If anyone has any docs tickets open, now is the time to get them fixed!
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>How can I filter for tickets related to lore2sphinx transition in trac?
 I've noticed a few documents that don't seem properly converted. Here's an
example:

<A HREF="http://twistedsphinx.funsize.net/projects/web/howto/web-in-60/asynchronous.html">http://twistedsphinx.funsize.net/projects/web/howto/web-in-60/asynchronous.html</A>

... which is missing syntax highlighting on code examples and the code
examples are also truncated.

-Drew
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20100305/e8ca6370/attachment.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20100305/e8ca6370/attachment.htm</A> 
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021764.html">[Twisted-Python] Lore to Sphinx Conversion Progress Report 6
</A></li>
	<LI>Next message: <A HREF="021781.html">[Twisted-Python] Lore to Sphinx Conversion Progress Report 6
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21774">[ date ]</a>
              <a href="thread.html#21774">[ thread ]</a>
              <a href="subject.html#21774">[ subject ]</a>
              <a href="author.html#21774">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
