<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Lore to Sphinx Conversion Progress Report 6
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Lore%20to%20Sphinx%20Conversion%20Progress%20Report%206&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021766.html">
   <LINK REL="Next"  HREF="021761.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Lore to Sphinx Conversion Progress Report 6</H1>
    <B>Kevin Horn</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Lore%20to%20Sphinx%20Conversion%20Progress%20Report%206&In-Reply-To="
       TITLE="[Twisted-Python] Lore to Sphinx Conversion Progress Report 6">kevin.horn at gmail.com
       </A><BR>
    <I>Thu Mar  4 17:49:57 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="021766.html">[Twisted-Python] Twisted Python on Nokia E71x (Running the phone Python Interpreter)
</A></li>
        <LI>Next message: <A HREF="021761.html">[Twisted-Python] Lore to Sphinx Conversion Progress Report 6
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21759">[ date ]</a>
              <a href="thread.html#21759">[ thread ]</a>
              <a href="subject.html#21759">[ subject ]</a>
              <a href="author.html#21759">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>It's been a while, I know you were all waiting with baited breath...

First a few fixes:

- Thanks to Tim Allen and Steve Steiner, several theme issues were fixed.
This
  fixes a few minor display bugs and should make pages validate properly.

- inline markup will now include child contents.  This causes rst not to
display
  properly in cases of &quot;nested inline markup&quot;, but should make it easier to
  manually fix these places later

- :download: links are now generated for non-rst files ending in .py (most
of the
  examples), as welll as .tac and .sql files

- toc entries which end in a &quot;/&quot; character now have &quot;index appended to them
  in the ReST output, which fixes a few issues where the built-Sphinx docs
  would end up with broken navigation links.

A couple of issues were also fixed at the PyCon sprints:

- &lt;cite&gt; tags are now handled...sort of.  According to Glyph, these aren't
really
  very important, so we just return the contents of the tag without any
special
  markup.  If we feel the need to put citation markup back into the docs we
can
  do that post-transition.

- Glyph also found an easy way to improve the CSS of the theme somewhat.
The
  issue where the sidebar drops below the main content should now be less of
a
  problem, though it's not gone entirely.

- Glyph and I also discussed a few different ways to handle links to the API
docs
  and agreed on a way forward.  Basically, well change the &lt;code
class='API'&gt;
  tags into something like: :api:`path.to.documented object &lt;label&gt;`, and
then
  create a docutils extension to convert that into a link.  The beginnings
of this
  are in the hg repos, but it looks like it won't be quite as simple as we
thought.

  First, the way pydoctor generates links is deceptively simple.

  If you look up a module, like &quot;twisted.internet.defer&quot;, the link looks
like
  this:

    <A HREF="http://twistedmatrix.com/documents/9.0.0/api/twisted.internet.defer.html">http://twistedmatrix.com/documents/9.0.0/api/twisted.internet.defer.html</A>

  If you look up a class, like &quot;twisted.internet.defer.Deferred&quot; for
example,
  the link looks like this:


<A HREF="http://twistedmatrix.com/documents/current/api/twisted.internet.defer.Deferred.html">http://twistedmatrix.com/documents/current/api/twisted.internet.defer.Deferred.html</A>

  Pretty simple right?  But if you look up a function or method like
  &quot;twisted.internet.defer.Deferred.callback&quot;, the link has an anchor, like
so:


<A HREF="http://twistedmatrix.com/documents/9.0.0/api/twisted.internet.defer.Deferred.html#addCallback">http://twistedmatrix.com/documents/9.0.0/api/twisted.internet.defer.Deferred.html#addCallback</A>

  So we'll need to do some checking on either the api docs or on twisted
itself
  to determine what sort of object is being linked to.  Shouldn't be
  super-difficult, just haven't had time yet.

  Second, I haven't yet figured out how to access the Sphinx config object
from
  a docutils role function.  I'm sure this is just a matter of finding an
example
  or getting an answer from the mailing list, but I just haven't gotten to
it yet.

I think the API links are the only major issue still remaining until we
start doing
the conversion, so once this issue is handled, I'll probably file a ticket
and create
a branch in SVN for the conversion.

If anyone has any docs tickets open, now is the time to get them fixed!

And if anyone has some great ideas about how to organize the new docs in the

repository, I'd love to hear them.


As always, converted docs are here:
<A HREF="http://twistedsphinx.funsize.net/">http://twistedsphinx.funsize.net/</A>

The lore2Sphinx Hg repos is here:
<A HREF="http://bitbucket.org/khorn/lore2sphinx/">http://bitbucket.org/khorn/lore2sphinx/</A>

Comments, ideas, patches and pull requests gratefully accepted (or at least
discussed).

Kevin Horn
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20100304/03703c78/attachment.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20100304/03703c78/attachment.htm</A> 
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021766.html">[Twisted-Python] Twisted Python on Nokia E71x (Running the phone Python Interpreter)
</A></li>
	<LI>Next message: <A HREF="021761.html">[Twisted-Python] Lore to Sphinx Conversion Progress Report 6
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21759">[ date ]</a>
              <a href="thread.html#21759">[ thread ]</a>
              <a href="subject.html#21759">[ subject ]</a>
              <a href="author.html#21759">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
