<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Application Start Up and Tear Down
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Application%20Start%20Up%20and%20Tear%20Down&In-Reply-To=20070709055315.GF9243%40steerpike.home.puzzling.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015713.html">
   <LINK REL="Next"  HREF="015730.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Application Start Up and Tear Down</H1>
    <B>glyph at divmod.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Application%20Start%20Up%20and%20Tear%20Down&In-Reply-To=20070709055315.GF9243%40steerpike.home.puzzling.org"
       TITLE="[Twisted-Python] Application Start Up and Tear Down">glyph at divmod.com
       </A><BR>
    <I>Mon Jul  9 09:31:57 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="015713.html">[Twisted-Python] Application Start Up and Tear Down
</A></li>
        <LI>Next message: <A HREF="015730.html">[Twisted-Python] Application Start Up and Tear Down
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15720">[ date ]</a>
              <a href="thread.html#15720">[ thread ]</a>
              <a href="subject.html#15720">[ subject ]</a>
              <a href="author.html#15720">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 05:53 am, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">andrew-twisted at puzzling.org</A> wrote:
&gt;<i>Pavel Bastov wrote:
</I>&gt;&gt;<i>Hi,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>so far I've been using only one Factory in my application. So, all the
</I>&gt;&gt;<i>intialization and deinitialization code was in startFactory() /
</I>&gt;&gt;<i>stopFactory().
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Now I have to add another protocol with another factory. Is there a
</I>&gt;&gt;<i>similar pair of methods for the application (server) where I can
</I>&gt;&gt;<i>initialize resources (db pool, for example) upon startup and free them
</I>&gt;&gt;<i>upon shutdown?
</I>&gt;<i>
</I>&gt;<i>Make your own Service subclass, and override startService/stopService.
</I>
I just want to reinforce that this is really the *correct* answer, and 
the other suggestions (custom code before/after run(), manually calling 
addSystemEventTrigger) both tightly bind your application logic to the 
particular way your entire process starts up and shuts down, rather than 
having a discrete unit for your application.  (Think global vs. instance 
variables.)

The service hierarchy has issues (privilegedStartService being the 
biggest one) but it is generally the most flexible, since you can start 
and stop services and groups of services without starting and stopping 
the entire process.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015713.html">[Twisted-Python] Application Start Up and Tear Down
</A></li>
	<LI>Next message: <A HREF="015730.html">[Twisted-Python] Application Start Up and Tear Down
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15720">[ date ]</a>
              <a href="thread.html#15720">[ thread ]</a>
              <a href="subject.html#15720">[ subject ]</a>
              <a href="author.html#15720">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
