<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] SSHv2 client script for Cisco routers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20SSHv2%20client%20script%20for%20Cisco%20routers&In-Reply-To=%3C1184576512.2419.39.camel%40localhost%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="048252.html">
   <LINK REL="Next"  HREF="048287.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] SSHv2 client script for Cisco routers</H1>
    <B>Justin Warren</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20SSHv2%20client%20script%20for%20Cisco%20routers&In-Reply-To=%3C1184576512.2419.39.camel%40localhost%3E"
       TITLE="[Twisted-Python] SSHv2 client script for Cisco routers">daedalus at eigenmagic.com
       </A><BR>
    <I>Mon Jul 16 03:01:52 MDT 2007</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="048252.html">[Twisted-Python] SSHv2 client script for Cisco routers
</A></li>
        <LI>Next message (by thread): <A HREF="048287.html">[Twisted-Python] ModiPY: Change execution with twisted [Was: SSHv2	client script for Cisco routers]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48260">[ date ]</a>
              <a href="thread.html#48260">[ thread ]</a>
              <a href="subject.html#48260">[ subject ]</a>
              <a href="author.html#48260">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 2007-07-12 at 15:00 -0500, Eli Criffield wrote:
&gt;<i> Thats exactly what I've been working on, a script to automate
</I>&gt;<i> connections to cisco switches, where you have to execute multiple
</I>&gt;<i> commands per connection (config t, then some commands ect...)
</I>
Hmm. I have code I didn't quite manage to publish last weekend does all
this and more. The current version breaks out to commandline via a
Process to run ssh, rather than implementing the SSH protocol itself,
though.

&gt;<i> I'd like to get ssh worked into <A HREF="http://code.google.com/p/exscript/">http://code.google.com/p/exscript/</A> .
</I>&gt;<i> Exscript does what your doing with telnetlib and uses  templates and
</I>&gt;<i> concurrent connections.
</I>
This looks neat. I'll have to check it out to make sure I'm not
duplicating effort, however, I think I'm attacking this problem from a
different direction. If you're interested, read on. If not, stop now.

*ahem*

I want to automate change implementations. I'm sick of poorly controlled
changes being badly implemented in production environments, with no
backout plans. I'm sick of operators cutting and pasting from Notepad to
run commands over a telnet session. I want to be able to take a test lab
from simulation A to simulation B without having to use 9 different
admin tools.

This needs to work with multiple, different pieces of kit: NetApp,
Cisco, *nix boxen, Windows, etc. Each needs to be talked to slightly
differently.

Expect scripts solve part of the problem: templated communication to
perform a specific action. I've taken things one step further. I've
built a change management framework around this idea. There are 3 major
objects:

Devices: Things that need to have their state changed.
Provisioners: Things that communicate with Devices, in order to
implement Changes.
Changes: A series of actions, applied by a Provisioner, to a list of
Devices, to change their state.

A change consists of 6 major steps:

1. Pre-implementation, to check that the change is implementable, based
on the current state of a device.
2. Implementation, actually applying the change.
3. Post-Implementation verification. Make sure the change worked
correctly.

and then, if something goes wrong somewhere

4. Pre-backout, check that the change can be backed out.
5. Backout, actually backing out the change.
6. Post-backout verification, to make sure the backout was successful.

So, you can define a list of Change templates using variable
substitution, and then these changes can be applied to a list of devices
by using a set of Provisioners that know how to communicate to these
Devices.

Changes can have dependencies, so you can chain them together into a
tree of arbitrary complexity. Using the magic of twisted Deferreds, you
can run changes serially, or in parallel, limited only by the dependency
tree.

So, after that rather lengthy blurb, is anyone interested in this? Or am
I reinventing the wheel? I looked around for something similar in the
FOSS world a couple of months back, but everything I saw seemed to be
*nix centered and didn't do Cisco or NetApp.

Email me off list if you want this thing, so I know whether to try
harder to find some spare hours, or if it can wait a few weeks.

-- 
Justin Warren &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">daedalus at eigenmagic.com</A>&gt;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="048252.html">[Twisted-Python] SSHv2 client script for Cisco routers
</A></li>
	<LI>Next message (by thread): <A HREF="048287.html">[Twisted-Python] ModiPY: Change execution with twisted [Was: SSHv2	client script for Cisco routers]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48260">[ date ]</a>
              <a href="thread.html#48260">[ thread ]</a>
              <a href="subject.html#48260">[ subject ]</a>
              <a href="author.html#48260">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
