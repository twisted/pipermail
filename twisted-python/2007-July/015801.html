<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] potential connectSSH workflow
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20potential%20connectSSH%20workflow&In-Reply-To=20070727015004.26384.577094423.divmod.xquotient.2509%40joule.divmod.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015800.html">
   <LINK REL="Next"  HREF="015804.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] potential connectSSH workflow</H1>
    <B>Paul Swartz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20potential%20connectSSH%20workflow&In-Reply-To=20070727015004.26384.577094423.divmod.xquotient.2509%40joule.divmod.com"
       TITLE="[Twisted-Python] potential connectSSH workflow">paulswartz at gmail.com
       </A><BR>
    <I>Thu Jul 26 22:51:17 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="015800.html">[Twisted-Python] potential connectSSH workflow
</A></li>
        <LI>Next message: <A HREF="015804.html">[Twisted-Python] potential connectSSH workflow
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15801">[ date ]</a>
              <a href="thread.html#15801">[ thread ]</a>
              <a href="subject.html#15801">[ subject ]</a>
              <a href="author.html#15801">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 7/26/07, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at divmod.com</A> &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at divmod.com</A>&gt; wrote:
&gt;<i> This might seem like a lot of typing, so to help with abbreviation, a
</I>&gt;<i> higher-level object could roll them together:
</I>&gt;<i>
</I>&gt;<i>     altdotssh = DotSSH(FilePath(&quot;my-dot-ssh-dir&quot;))
</I>&gt;<i>
</I>&gt;<i> And this leads in to my idea for subtly changing the design.  Instead of
</I>&gt;<i> modifying stuff with arguments to the function:
</I>&gt;<i>
</I>&gt;<i>     defaultConnector.connectSSH(
</I>&gt;<i>         factory, hostname, hostVerifier=altdotssh.hostVerifier)
</I>&gt;<i>
</I>&gt;<i> Building a different object takes roughly the same amount of work and
</I>&gt;<i> does roughly the same thing, but yields a result which can be passed
</I>&gt;<i> around and used as a connector:
</I>&gt;<i>
</I>&gt;<i>     endpt = defaultConfig.endpointSSH(
</I>&gt;<i>         hostname, hostVerifier=altdotssh.hostVerifier)
</I>&gt;<i>     endpt.connect(factory)
</I>
So, is defaultConfig is some other object which can create a
ConchEndpoint?  Is defaultConfig a DotSSH?  I'm not clear on what
these different objects are here.

&gt;<i> To push this flexibility even further, you could make the configuration
</I>&gt;<i> object cloneable.
</I>&gt;<i>
</I>&gt;<i>     cfg2 = defaultConfig.copy(hostVerifier=altdotssh.hostVerifier)
</I>&gt;<i>     endpt = cfg2.endpointSSH(hostname)
</I>&gt;<i>     endpt.connect(factory)
</I>&gt;<i>
</I>&gt;<i> although whether this last additional level of flexibility is worth it
</I>&gt;<i> or not probably depends on all of the things that a &quot;configuration&quot;
</I>&gt;<i> object can contain.
</I>&gt;<i>
</I>&gt;<i> Thoughts?
</I>
This seems reasonable, at least for the case of host verification.
I'm not sure where authentication fits into these things, though.  It
feels different from host key verification, but moving it to the
connect() method makes the ConchEndpoint a different interface from
the other Endpoints.  I suppose with a copy method:

defaultConfig.copy(user=&quot;new username&quot;,
authentications=[KeyAuthentication(key),
PasswordAuthentication('password'), InteractiveAuthentication(['answer
1'])]).endPointSSH(hostname).connect()

 is straightforward enough.  But it seems more confusing than:

defaultConfig.endPointSSH(hostname, user=&quot;name&quot;).connect()

which seems more in line with my personal expectations.  I think,
however, my expectations might be changed if the above example was
more clear to me.

-p
-- 
Paul Swartz
paulswartz at gmail dot com
<A HREF="http://z3p.livejournal.com/">http://z3p.livejournal.com/</A>
AIM: z3penguin


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015800.html">[Twisted-Python] potential connectSSH workflow
</A></li>
	<LI>Next message: <A HREF="015804.html">[Twisted-Python] potential connectSSH workflow
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15801">[ date ]</a>
              <a href="thread.html#15801">[ thread ]</a>
              <a href="subject.html#15801">[ subject ]</a>
              <a href="author.html#15801">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
