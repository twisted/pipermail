<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] More general process.Process class
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20More%20general%20process.Process%20class&In-Reply-To=%3C468BAAFA.2090005%40bluegap.ch%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="048276.html">
   <LINK REL="Next"  HREF="048195.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] More general process.Process class</H1>
    <B>Markus Schiltknecht</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20More%20general%20process.Process%20class&In-Reply-To=%3C468BAAFA.2090005%40bluegap.ch%3E"
       TITLE="[Twisted-Python] More general process.Process class">markus at bluegap.ch
       </A><BR>
    <I>Wed Jul  4 08:13:14 MDT 2007</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="048276.html">[Twisted-Python] schemas (in Zope and Foolscap)
</A></li>
        <LI>Next message (by thread): <A HREF="048195.html">[Twisted-Python] More general process.Process class
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48194">[ date ]</a>
              <a href="thread.html#48194">[ thread ]</a>
              <a href="subject.html#48194">[ subject ]</a>
              <a href="author.html#48194">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm currently fiddling with spawnProcess() and such, trying to stream 
it's output to somewhere else. In a first attempt, I've tried to cache 
the data in the ProcessProtocol's outReceived() call.

Then, I've realized, that twisted already has quite nice abstractions of 
Producers and Consumers. I would like to use them, as they seem to fit 
nicely.

And in my case, it would even make much sense to *not* read all the data 
from the process, but leave it there, waiting on the file descriptor, 
until I'm ready to process the data.

Unfortunately, AFAICT the producers attached to the process - namely the 
ProcessReader() instances created by process.Process - are hard wired to 
the ProcessProtocol's dataReceived() method. While I would like to use 
these producers directly, instead of providing such a ProcessProtocol.

I'm thinking about ripping out the protocol handling from the 
process.Process class. Instead let process.Process return a list of 
producers and consumers in self.pipes, as requested. Then let another 
wrapper class bridge between those and the ProcessProtocol.

Comments?

Regards

Markus



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="048276.html">[Twisted-Python] schemas (in Zope and Foolscap)
</A></li>
	<LI>Next message (by thread): <A HREF="048195.html">[Twisted-Python] More general process.Process class
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48194">[ date ]</a>
              <a href="thread.html#48194">[ thread ]</a>
              <a href="subject.html#48194">[ subject ]</a>
              <a href="author.html#48194">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
