<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] dropin.cache?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20dropin.cache%3F&In-Reply-To=116389FC-C330-43FA-B8CC-D702AE5BD912%40bubblehouse.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015726.html">
   <LINK REL="Next"  HREF="015729.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] dropin.cache?</H1>
    <B>Jean-Paul Calderone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20dropin.cache%3F&In-Reply-To=116389FC-C330-43FA-B8CC-D702AE5BD912%40bubblehouse.org"
       TITLE="[Twisted-Python] dropin.cache?">exarkun at divmod.com
       </A><BR>
    <I>Tue Jul 10 16:48:48 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="015726.html">[Twisted-Python] dropin.cache?
</A></li>
        <LI>Next message: <A HREF="015729.html">[Twisted-Python] dropin.cache?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15727">[ date ]</a>
              <a href="thread.html#15727">[ thread ]</a>
              <a href="subject.html#15727">[ subject ]</a>
              <a href="author.html#15727">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, 10 Jul 2007 16:00:01 -0400, Phil Christensen &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">phil at bubblehouse.org</A>&gt; wrote:
&gt;<i>So, I've been making great strides with my plugin system, using  twisted's 
</I>&gt;<i>plugin support, but there's just one small issue I'm having  that I can't 
</I>&gt;<i>seem to figure out.
</I>&gt;<i>
</I>&gt;<i> [snip traceback]
</I>&gt;<i>
</I>&gt;<i>The issue is that my app doesn't have write access to the various  plugin 
</I>&gt;<i>directories by default, as it runs as a restricted user. This  is basically 
</I>&gt;<i>a configuration detail that my users will have to take  care of, but I'd 
</I>&gt;<i>like to  be able to catch this error and provide a  nicer message, or at 
</I>&gt;<i>least not have my logfile filled up with stack  traces.
</I>
It only needs write access to update the cache, and it only needs to update
the cache when a new plugin is installed on the system or an old plugin is
removed.  So, you should be able to completely address this by regenerating
the cache at installation time (you can generate the cache simply by calling
getPlugins and exhausting the iterator it returns).

&gt;<i>
</I>&gt;<i>The problem is that putting a try/catch around getPlugins doesn't  work, or 
</I>&gt;<i>doesn't appear to. I've looked at the code in getPlugins,  and I can't 
</I>&gt;<i>figure out why the exception isn't being caught. Since  I'm not actually 
</I>&gt;<i>using the reactor, I would assume there's no  deferred trickery that needs 
</I>&gt;<i>to be done, so I'm at a bit of a loss.
</I>&gt;<i>
</I>&gt;<i>Any help in this matter would be appreciated...
</I>&gt;<i>
</I>
There's an open ticket for changing the reporting of this condition from a
full traceback to a shorter message:

  <A HREF="http://twistedmatrix.com/trac/ticket/2409">http://twistedmatrix.com/trac/ticket/2409</A>

(Hmm, although that's not quite what I remembered, maybe there's another one
as well).

Jean-Paul


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015726.html">[Twisted-Python] dropin.cache?
</A></li>
	<LI>Next message: <A HREF="015729.html">[Twisted-Python] dropin.cache?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15727">[ date ]</a>
              <a href="thread.html#15727">[ thread ]</a>
              <a href="subject.html#15727">[ subject ]</a>
              <a href="author.html#15727">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
