<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: writing back to the connection is blocking	my	code
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20writing%20back%20to%20the%20connection%20is%20blocking%0A%09my%09code&In-Reply-To=47E39DB0.90908%40imperial.ac.uk">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017117.html">
   <LINK REL="Next"  HREF="017121.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: writing back to the connection is blocking	my	code</H1>
    <B>coder_gus</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20writing%20back%20to%20the%20connection%20is%20blocking%0A%09my%09code&In-Reply-To=47E39DB0.90908%40imperial.ac.uk"
       TITLE="[Twisted-Python] Re: writing back to the connection is blocking	my	code">coder_gus at lavabit.com
       </A><BR>
    <I>Fri Mar 21 08:50:04 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="017117.html">[Twisted-Python] Re: writing back to the connection is blocking	my	code
</A></li>
        <LI>Next message: <A HREF="017121.html">[Twisted-Python] Re: writing back to the connection is	blocking my code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17120">[ date ]</a>
              <a href="thread.html#17120">[ thread ]</a>
              <a href="subject.html#17120">[ subject ]</a>
              <a href="author.html#17120">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Agreed, I was talking about transport.tcpKeepAlive(). The thing I am 
asking (and call me stupid, but I am trying to figure it out for days 
now and no one seems to answer my question or is it me too stupid that 
can see the answer in front of my eyes) is how do I send data to clients 
that are connected to the twisted server waiting for data to be 
processed, without sending to the server any data or causing any event 
to the server? In the link you guys showed me it's true that the data 
gets back to the clients, but only when the server receives other data, 
that is in the dataReceived method. How can I send it back to them 
(having a reference to each client's protocol class) without receiving 
data, client connecting etc. ?


Phil Mayers wrote:
&gt;<i> coder_gus wrote:
</I>&gt;&gt;<i> Well, by default the Nagle algorithm is turned off so it should 
</I>&gt;&gt;<i> transmit the data asap. I don't think it's OS dependent.
</I>&gt;<i>
</I>&gt;<i> It's only off if you've turned it off. It's on by default AFAIK on 
</I>&gt;<i> most OSes.
</I>&gt;<i>
</I>&gt;<i> Anyway, Nagle is irrelevant - if the TCP window is closed i.e. you've 
</I>&gt;<i> sent N bytes and the far end has not acked, and N == window, your TCP 
</I>&gt;<i> stack WILL NOT (MUST NOT) send any more.
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Toby Dickenson wrote:
</I>&gt;&gt;&gt;<i> coder_gus wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>  
</I>&gt;&gt;&gt;&gt;<i> Ok, this link answered a few of my questions (stupid of me that I
</I>&gt;&gt;&gt;&gt;<i> haven't looked on that before I posted), but my question still stands:
</I>&gt;&gt;&gt;&gt;<i> how do I send data to a client whenever I want from wherever I want 
</I>&gt;&gt;&gt;&gt;<i> and
</I>&gt;&gt;&gt;&gt;<i> that data to be send as fast as possible,
</I>&gt;&gt;&gt;&gt;<i>     
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> The code in the faq that glyph pointed you to will do what you want, 
</I>&gt;&gt;&gt;<i> if I
</I>&gt;&gt;&gt;<i> understand your requirements correctly. Heres the link again:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> <A HREF="http://twistedmatrix.com/trac/wiki/FrequentlyAskedQuestions#HowdoImakeinputononeconnectionresultinoutputonanother">http://twistedmatrix.com/trac/wiki/FrequentlyAskedQuestions#HowdoImakeinputononeconnectionresultinoutputonanother</A> 
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>  
</I>&gt;&gt;&gt;&gt;<i> without the code waiting for the reactor to answer to some events?
</I>&gt;&gt;&gt;&gt;<i>     
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Your transmission *might* have to wait if the operating system transmit
</I>&gt;&gt;&gt;<i> buffers are already full, and, if so, the reactor is the mechanism 
</I>&gt;&gt;&gt;<i> which
</I>&gt;&gt;&gt;<i> means your new data can wait without blocking the whole process.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> Twisted-Python mailing list
</I>&gt;&gt;&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;&gt;&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> ____________________________________________________________________________________ 
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Save hundreds on an Unsecured Loan - Click here.
</I>&gt;&gt;&gt;<i> <A HREF="http://ads.lavabit.com/fc/REAK6bkM9e5ejOJrLUP0P44A0oQrI53GoIDlgN8VVyT8BnEAxlYQBU/">http://ads.lavabit.com/fc/REAK6bkM9e5ejOJrLUP0P44A0oQrI53GoIDlgN8VVyT8BnEAxlYQBU/</A> 
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> ____________________________________________________________________________________ 
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>   
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Twisted-Python mailing list
</I>&gt;&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>&gt;<i> ____________________________________________________________________________________ 
</I>&gt;<i>
</I>&gt;<i> Handyman Franchises. Click Here.
</I>&gt;<i> <A HREF="http://ads.lavabit.com/fc/REAK6bkONUs9yhym0lTTSbxUFXmZYqNkZwLDRJhQY0xBalLSyOwtqs/">http://ads.lavabit.com/fc/REAK6bkONUs9yhym0lTTSbxUFXmZYqNkZwLDRJhQY0xBalLSyOwtqs/</A> 
</I>&gt;<i>
</I>&gt;<i> ____________________________________________________________________________________ 
</I>&gt;<i>
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017117.html">[Twisted-Python] Re: writing back to the connection is blocking	my	code
</A></li>
	<LI>Next message: <A HREF="017121.html">[Twisted-Python] Re: writing back to the connection is	blocking my code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17120">[ date ]</a>
              <a href="thread.html#17120">[ thread ]</a>
              <a href="subject.html#17120">[ subject ]</a>
              <a href="author.html#17120">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
