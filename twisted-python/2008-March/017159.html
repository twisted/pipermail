<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Advice sought on application evolution
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Advice%20sought%20on%20application%20evolution&In-Reply-To=47E639AF.2020200%40imperial.ac.uk">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017148.html">
   <LINK REL="Next"  HREF="017213.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Advice sought on application evolution</H1>
    <B>glyph at divmod.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Advice%20sought%20on%20application%20evolution&In-Reply-To=47E639AF.2020200%40imperial.ac.uk"
       TITLE="[Twisted-Python] Advice sought on application evolution">glyph at divmod.com
       </A><BR>
    <I>Sun Mar 23 19:14:55 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="017148.html">[Twisted-Python] Advice sought on application evolution
</A></li>
        <LI>Next message: <A HREF="017213.html">[Twisted-Python] Advice sought on application evolution
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17159">[ date ]</a>
              <a href="thread.html#17159">[ thread ]</a>
              <a href="subject.html#17159">[ subject ]</a>
              <a href="author.html#17159">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11:06 am, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">p.mayers at imperial.ac.uk</A> wrote:
&gt;&gt;<i>
</I>&gt;&gt;<i>It's great as a high-level prototyping tool and an orchestration 
</I>&gt;&gt;<i>language for distributed conversations with large numbers of steps and 
</I>&gt;&gt;<i>coarse- grained error handling.  It's bad as a way of representing 
</I>&gt;&gt;<i>state machines or continuous processes.
</I>&gt;<i>
</I>&gt;<i>Why?
</I>
Here's something which we probably should have done with a state 
machine, but instead did with deferredGenerator (the predecessor to 
inlineCallbacks).

<A HREF="http://divmod.org/trac/browser/trunk/Quotient/xquotient/grabber.py#L438">http://divmod.org/trac/browser/trunk/Quotient/xquotient/grabber.py#L438</A>

The function's really long, and there's a ton of duplication between all 
of the &quot;except&quot; clauses, and there needs to be a try/except around every 
single deferred call.  This probably would have been better implemented 
as a regular state-machine, because that would have allowed decomposing 
the problem further.

Granted, you could blame the factoring here on any number of things.  It 
could have been broken into different steps even with deferredGenerator, 
it could have been documented better, it could have stored more state on 
the instance so that you could inspect its state rather than hiding it 
as local variables... but given that this is general stylistic advice I 
think that the point holds.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017148.html">[Twisted-Python] Advice sought on application evolution
</A></li>
	<LI>Next message: <A HREF="017213.html">[Twisted-Python] Advice sought on application evolution
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17159">[ date ]</a>
              <a href="thread.html#17159">[ thread ]</a>
              <a href="subject.html#17159">[ subject ]</a>
              <a href="author.html#17159">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
