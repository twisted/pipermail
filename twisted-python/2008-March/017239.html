<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Server Components
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Server%20Components&In-Reply-To=BAY114-DAV3C0EAB7155EF37FCADB42BEF80%40phx.gbl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017236.html">
   <LINK REL="Next"  HREF="017225.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Server Components</H1>
    <B>Phil Christensen</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Server%20Components&In-Reply-To=BAY114-DAV3C0EAB7155EF37FCADB42BEF80%40phx.gbl"
       TITLE="[Twisted-Python] Server Components">phil at bubblehouse.org
       </A><BR>
    <I>Sat Mar 29 21:23:19 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="017236.html">[Twisted-Python] Server Components
</A></li>
        <LI>Next message: <A HREF="017225.html">[Twisted-Python] How can I run code when the protocol is done being	built?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17239">[ date ]</a>
              <a href="thread.html#17239">[ thread ]</a>
              <a href="subject.html#17239">[ subject ]</a>
              <a href="author.html#17239">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Mar 29, 2008, at 12:53 PM, Simon Pickles wrote:
&gt;<i>
</I>&gt;<i> Linux user #458601 - <A HREF="http://counter.li.org.">http://counter.li.org.</A>
</I>&gt;<i>
</I>&gt;<i> Phil Christensen wrote:
</I>&gt;&gt;<i> If you are sure to have complete control over the network they're  
</I>&gt;&gt;<i> running on (say, in a private IP space) this may be a non-issue,  
</I>&gt;&gt;<i> so it's really just about logistics.
</I>&gt;&gt;<i>
</I>&gt;<i> Yes, This system would be in Private IP space.
</I>&gt;&gt;<i> My initial reaction was to suggest Perspective Broker, but someone  
</I>&gt;&gt;<i> else might recommend AMP, which I'm just starting to learn the ins  
</I>&gt;&gt;<i> and outs of....
</I>&gt;&gt;<i>
</I>&gt;<i> I'll look at PB, but have not found twisted doc very accessible. As  
</I>&gt;<i> for AMP, what is that?
</I>
I found the PB docs pretty reasonable, but I was already fairly  
comfortable with asynchronous network programming, which is really a  
required step before Twisted starts making sense. This one was the  
most help:

	<A HREF="http://twistedmatrix.com/projects/core/documentation/howto/pb-">http://twistedmatrix.com/projects/core/documentation/howto/pb-</A> 
usage.html

I'm pretty fond of PB, but I don't really use a lot of the more  
advanced features. Its applicability is definitely dependent on what  
kind of data you need to send between your various nodes...

As for amp, I was recently passed this link:

	<A HREF="http://twistedmatrix.com/documents/current/api/">http://twistedmatrix.com/documents/current/api/</A> 
twisted.protocols.amp.html

But I'm still processing it ;-)...

On Mar 29, 2008, at 8:51 AM, Simon Pickles wrote:
&gt;<i>
</I>&gt;<i> Particularly I hope to be able to make deferred requests across a  
</I>&gt;<i> network. I'd like to have a hub server, with many small apps  
</I>&gt;<i> (modules) which are all clients of the hub server.
</I>&gt;<i>
</I>&gt;<i> I'd like the modules to be able to request information from each  
</I>&gt;<i> other, via the hub, in a deferred way, so the callback will be  
</I>&gt;<i> triggered when the requested information arrives.
</I>
This is definitely the standard behavior of PB, and in fact, much of  
Twisted. Network requests always happen asynchronously, and trigger  
their Deferred's callback function like any other deferred event.

&gt;<i> So I need a chain like this:
</I>&gt;<i>
</I>&gt;<i> ModuleA.RequestName(id).addCallback(modACallback) -&gt; Hub
</I>&gt;<i> Hub.RequestName(id).addCallback(hubCallback)-&gt; ModuleB
</I>&gt;<i> ModuleB.SendNameToHub() -&gt; Hub
</I>&gt;<i> Hub.hubCallback triggered: SendNameToModA() -&gt; ModuleA
</I>&gt;<i> ModuleA.modACallback triggered - request is complete.
</I>&gt;<i>
</I>&gt;<i> Perhaps one issue is that I have a client-&gt;server-&gt;client sequence.
</I>
That shouldn't be an issue. This is a very reasonable command flow,  
and dealing with it elegantly in your app is more a matter of design  
choices than protocol.

&gt;<i> Although it looks slow, I am designing my system to be as  
</I>&gt;<i> concurrent as possible. Also, the hub can make decisions about  
</I>&gt;<i> sharing requests with several modules on a round-robin, or sending  
</I>&gt;<i> requests (and events, particularly) to more than one module.
</I>&gt;<i>
</I>&gt;<i> I know I can do this through TCP or similar, but hoped someone  
</I>&gt;<i> might suggest which elements of twisted (a very large framework) I  
</I>&gt;<i> should look at more closely.
</I>
I think you'll find that PB is easier to pick up initially than AMP,  
but if you require a more advanced protocol (e.g., something that  
can't be expressed in terms of python method calls and responses, or  
that needs very robust exception handling), AMP will probably work  
better in the long run.

I do have to emphasize though that this is my opinion based on  
limited exposure to AMP, perhaps someone else can chime in with  
better info...

-phil



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017236.html">[Twisted-Python] Server Components
</A></li>
	<LI>Next message: <A HREF="017225.html">[Twisted-Python] How can I run code when the protocol is done being	built?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17239">[ date ]</a>
              <a href="thread.html#17239">[ thread ]</a>
              <a href="subject.html#17239">[ subject ]</a>
              <a href="author.html#17239">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
