<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] SSL + AMP
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20SSL%20%2B%20AMP&In-Reply-To=%3C20080320124545.7c2c9961%40fluxx.allmydata.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="049589.html">
   <LINK REL="Next"  HREF="017096.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] SSL + AMP</H1>
    <B>Brian Warner</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20SSL%20%2B%20AMP&In-Reply-To=%3C20080320124545.7c2c9961%40fluxx.allmydata.com%3E"
       TITLE="[Twisted-Python] SSL + AMP">warner at lothar.com
       </A><BR>
    <I>Thu Mar 20 13:45:45 MDT 2008</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="049589.html">[Twisted-Python] SSL + AMP
</A></li>
        <LI>Next message (by thread): <A HREF="017096.html">[Twisted-Python] SSL + AMP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49601">[ date ]</a>
              <a href="thread.html#49601">[ thread ]</a>
              <a href="subject.html#49601">[ subject ]</a>
              <a href="author.html#49601">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 19 Mar 2008 20:14:09 -0600
Nathan &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">nathan.stocks at gmail.com</A>&gt; wrote:

&gt;<i> The security properties that I want are:
</I>&gt;<i> 
</I>&gt;<i> 1) My client and my server refuse to establish SSL (or any other type
</I>&gt;<i> of) connections with anybody but each other.
</I>&gt;<i> 2) My client and server do establish SSL connections with each other.
</I>
For reference, this is almost exactly what Foolscap does. The server
registers an object and gets back a &quot;FURL&quot; which contains two cryptographic
values: the hash of the SSL certificate, and the per-object secret. You give
this FURL to the client by some out-of-band means (paste it into a config
file, perhaps). Then the client connects to the server over SSL, verifies the
certificate hash, sends the secret, and gets back a reference to the object.

The client will refuse to use any connection that has a different SSL
certificate. It will also refuse to use a non-SSL connection.

The part where the capability-oriented Foolscap model differs from your
stated properties is that the server makes no attempt to distinguish between
various clients. Any client which knows the FURL will be granted access to
the object that you've registered. To accomplish both of your goals, simply
don't reveal the FURL to anyone but your desired client. Unauthorized clients
will be able to make an SSL connection to the server but they won't know the
object secret and will be unable to access the object.

If you use Foolscap, you'll be working with objects and remote method calls,
rather than the single-endpoint model that AMP uses. This may be more
flexibility than you really need, but if you only publish one object and
always call a single method (perhaps called 'dispatch'), then you can program
in the same style. Of course, when you want to use multiple objects, pass
arbitrary reference graphs in arguments and responses, or allow third-party
introductions, Foolscap will be ready for you :).

<A HREF="http://foolscap.lothar.com/trac">http://foolscap.lothar.com/trac</A>


cheers,
 -Brian


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="049589.html">[Twisted-Python] SSL + AMP
</A></li>
	<LI>Next message (by thread): <A HREF="017096.html">[Twisted-Python] SSL + AMP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49601">[ date ]</a>
              <a href="thread.html#49601">[ thread ]</a>
              <a href="subject.html#49601">[ subject ]</a>
              <a href="author.html#49601">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
