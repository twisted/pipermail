<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] pyactivemq interfering with Twisted?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20pyactivemq%20interfering%20with%20Twisted%3F&In-Reply-To=c893b8530803182035p3e6b432ar154b7670e69f6955%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017067.html">
   <LINK REL="Next"  HREF="017070.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] pyactivemq interfering with Twisted?</H1>
    <B>Brian Baquiran</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20pyactivemq%20interfering%20with%20Twisted%3F&In-Reply-To=c893b8530803182035p3e6b432ar154b7670e69f6955%40mail.gmail.com"
       TITLE="[Twisted-Python] pyactivemq interfering with Twisted?">brianbaquiran at gmail.com
       </A><BR>
    <I>Wed Mar 19 00:23:57 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="017067.html">[Twisted-Python] pyactivemq interfering with Twisted?
</A></li>
        <LI>Next message: <A HREF="017070.html">[Twisted-Python] pyactivemq interfering with Twisted?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17069">[ date ]</a>
              <a href="thread.html#17069">[ thread ]</a>
              <a href="subject.html#17069">[ subject ]</a>
              <a href="author.html#17069">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Valentino Volonghi wrote:
&gt;<i> On Wed, Mar 19, 2008 at 2:49 AM, Brian Baquiran &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">brianbaquiran at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> The API does not block when using an async message listener as I'm doing.
</I>&gt;&gt;<i> Here's some example pyactivemq code that shows how an asynchronous message
</I>&gt;&gt;<i> listener is registered:
</I>&gt;&gt;<i>  <A HREF="http://pyactivemq.googlecode.com/svn/trunk/src/examples/asynclistener.py">http://pyactivemq.googlecode.com/svn/trunk/src/examples/asynclistener.py</A>
</I>&gt;<i> 
</I>&gt;<i> This API actually blocks.
</I>&gt;<i> 
</I>&gt;<i> Just by looking at:
</I>&gt;<i>    conn = f.createConnection()
</I>&gt;<i> 
</I>&gt;<i> Which means that you can create a connection and immediately get the result.
</I>&gt;<i> This is blocking by any relevant definition of blocking.
</I>&gt;<i> 
</I>&gt;<i> Considering all of this you should probably use this from deferToThread.
</I>
I was able to fix my original problem by using reactor.callFromThread() 
from the onMessage callback, so it does look like there is some 
threading going on. I'll look where deferToThread should be applied.

Thanks Valentino. I really appreciate your looking at the code.

Brian


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017067.html">[Twisted-Python] pyactivemq interfering with Twisted?
</A></li>
	<LI>Next message: <A HREF="017070.html">[Twisted-Python] pyactivemq interfering with Twisted?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17069">[ date ]</a>
              <a href="thread.html#17069">[ thread ]</a>
              <a href="subject.html#17069">[ subject ]</a>
              <a href="author.html#17069">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
