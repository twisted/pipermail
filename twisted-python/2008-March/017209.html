<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] win32 reactors
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20win32%20reactors&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017207.html">
   <LINK REL="Next"  HREF="017218.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] win32 reactors</H1>
    <B>James Mansion</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20win32%20reactors&In-Reply-To="
       TITLE="[Twisted-Python] win32 reactors">james at mansionfamily.plus.com
       </A><BR>
    <I>Fri Mar 28 02:23:08 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="017207.html">[Twisted-Python] could plugin cache get currupted?
</A></li>
        <LI>Next message: <A HREF="017218.html">[Twisted-Python] win32 reactors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17209">[ date ]</a>
              <a href="thread.html#17209">[ thread ]</a>
              <a href="subject.html#17209">[ subject ]</a>
              <a href="author.html#17209">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm just starting to evaluate Twisted, so apologies if these questions
seem naive.

It seems to me that the Twisted model for 'reactor' is actually not
what you'd expect from the name (at least, if you have a background
in other reactor implementations including ACE, basic select etc and
Java NIO) since it
 a) handles queueing outgoing data for you and
 b) presents incoming data after completion of the IO

So its a model that maps well to an AIO implementation so long
as inputs from non-blocking sources complete as soon as &quot;some&quot; data
is ready, rather than buffer full.

This high level approachh should work well on Windows - which is
really pleasing.  (Albeit there may be buffer starvation issues on
all platforms I guess, but that's probably scaled beyond Python
ambitions)

A quick look at the open bug list shows a lot of noise on the Win32 side
though.

Is there any reason to have any framework that calls the Win32 select
function?

And why is the event reactor broken at 64 handles? From what I can
see, that's not how to use WaitForMultipleEvents - rather one should
regard it as a way to hash completion events from standard overlapped
IO requests against 61 of the handles and keep a list of the IOs in
progress against each handle. Scales admirably, unlike any attempt to
treat the handle array like a select fd_set.

Shouldn't broken Win32 implementations be 'retired'?

Also - is there any way to determine how much data is queued for write
against an ITransport?

It appears not, though I would have thought it useful (and, a way to
get an event callback when the queued amount falls below a
specified threshold) - then in cases where data can be generated
on demand we can limit the outgoing buffer usage.

James



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017207.html">[Twisted-Python] could plugin cache get currupted?
</A></li>
	<LI>Next message: <A HREF="017218.html">[Twisted-Python] win32 reactors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17209">[ date ]</a>
              <a href="thread.html#17209">[ thread ]</a>
              <a href="subject.html#17209">[ subject ]</a>
              <a href="author.html#17209">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
