<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] SSL + AMP
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20SSL%20%2B%20AMP&In-Reply-To=%3C368574aa0803201338k3972c2bax19462494c86512ae%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] SSL + AMP</H1>
    <B>Drew Smathers</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20SSL%20%2B%20AMP&In-Reply-To=%3C368574aa0803201338k3972c2bax19462494c86512ae%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] SSL + AMP">drew.smathers at gmail.com
       </A><BR>
    <I>Thu Mar 20 14:38:30 MDT 2008</I>
    <P><UL>
        
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49604">[ date ]</a>
              <a href="thread.html#49604">[ thread ]</a>
              <a href="subject.html#49604">[ subject ]</a>
              <a href="author.html#49604">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Mar 20, 2008 at 3:45 PM, Brian Warner &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">warner at lothar.com</A>&gt; wrote:
&gt;<i> On Wed, 19 Mar 2008 20:14:09 -0600
</I>&gt;<i>  Nathan &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">nathan.stocks at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>  &gt; The security properties that I want are:
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt; 1) My client and my server refuse to establish SSL (or any other type
</I>&gt;<i>  &gt; of) connections with anybody but each other.
</I>&gt;<i>  &gt; 2) My client and server do establish SSL connections with each other.
</I>&gt;<i>
</I>&gt;<i>  For reference, this is almost exactly what Foolscap does. The server
</I>&gt;<i>  registers an object and gets back a &quot;FURL&quot; which contains two cryptographic
</I>&gt;<i>  values: the hash of the SSL certificate, and the per-object secret. You give
</I>&gt;<i>  this FURL to the client by some out-of-band means (paste it into a config
</I>&gt;<i>  file, perhaps). Then the client connects to the server over SSL, verifies the
</I>&gt;<i>  certificate hash, sends the secret, and gets back a reference to the object.
</I>&gt;<i>
</I>&gt;<i>  The client will refuse to use any connection that has a different SSL
</I>&gt;<i>  certificate. It will also refuse to use a non-SSL connection.
</I>&gt;<i>
</I>&gt;<i>  The part where the capability-oriented Foolscap model differs from your
</I>&gt;<i>  stated properties is that the server makes no attempt to distinguish between
</I>&gt;<i>  various clients. Any client which knows the FURL will be granted access to
</I>&gt;<i>  the object that you've registered. To accomplish both of your goals, simply
</I>&gt;<i>  don't reveal the FURL to anyone but your desired client. Unauthorized clients
</I>&gt;<i>  will be able to make an SSL connection to the server but they won't know the
</I>&gt;<i>  object secret and will be unable to access the object.
</I>&gt;<i>
</I>&gt;<i>  If you use Foolscap, you'll be working with objects and remote method calls,
</I>&gt;<i>  rather than the single-endpoint model that AMP uses. This may be more
</I>&gt;<i>  flexibility than you really need, but if you only publish one object and
</I>&gt;<i>  always call a single method (perhaps called 'dispatch'), then you can program
</I>&gt;<i>  in the same style. Of course, when you want to use multiple objects, pass
</I>&gt;<i>  arbitrary reference graphs in arguments and responses, or allow third-party
</I>&gt;<i>  introductions, Foolscap will be ready for you :).
</I>&gt;<i>
</I>
Now that foolscap has been brought up  ... since foolscap doesn't try
to poke through firewalls, there seems to be some deployment issues
when using this in say an MMO where you can't guarantee that
participants in the system will be able talk to each other directly
without tunneling through a central server.  The way foolscap works
(if I understand correctly), a server A can introduce a client B to C
by passing B the FURL to some object hosted in B's tub.  Is it sane
the best way to handle the scenario when B and C can't establish a
connection to each other (one or both are behind a NAT), but both
trust A to make a  proxy reference  to the other on the server and
simply route the conversation.  Does foolscap already support such
fall-back behavior for coping with firewalls?  Or does that break the
security model?

-- 
\\\\\/\&quot;/\\\\\\\\\\\
\\\\/ // //\/\\\\\\\
\\\/ \\// /\ \/\\\\
\\/ /\/ / /\/ /\ \\\
\/ / /\/ /\ /\\\ \\
/ /\\\ /\\\ \\\\\/\
\/\\\\\/\\\\\/\\\\\\
 d.p.s


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49604">[ date ]</a>
              <a href="thread.html#49604">[ thread ]</a>
              <a href="subject.html#49604">[ subject ]</a>
              <a href="author.html#49604">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
