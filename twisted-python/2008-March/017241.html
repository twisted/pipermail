<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] regarding xml elements
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20regarding%20xml%20elements&In-Reply-To=BA0E78FE-B568-4F04-99B6-5BF7437C6823%40bubblehouse.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017237.html">
   <LINK REL="Next"  HREF="017216.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] regarding xml elements</H1>
    <B>glyph at divmod.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20regarding%20xml%20elements&In-Reply-To=BA0E78FE-B568-4F04-99B6-5BF7437C6823%40bubblehouse.org"
       TITLE="[Twisted-Python] regarding xml elements">glyph at divmod.com
       </A><BR>
    <I>Sun Mar 30 01:08:15 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="017237.html">[Twisted-Python] regarding xml elements
</A></li>
        <LI>Next message: <A HREF="017216.html">[Twisted-Python] Server Components
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17241">[ date ]</a>
              <a href="thread.html#17241">[ thread ]</a>
              <a href="subject.html#17241">[ subject ]</a>
              <a href="author.html#17241">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 12:56 am, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">phil at bubblehouse.org</A> wrote:
&gt;<i>On Mar 28, 2008, at 7:33 PM, Jean-Paul Calderone wrote:
</I>&gt;&gt;<i>On Fri, 28 Mar 2008 22:59:21 -0000, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at divmod.com</A> wrote:
</I>&gt;&gt;&gt;<i>On 02:55 pm, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at divmod.com</A> wrote:
</I>&gt;&gt;&gt;&gt;<i>On Fri, 28 Mar 2008 10:51:10 -0400, Phil Christensen 
</I>&gt;&gt;&gt;&gt;<i>&lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">phil at bubblehouse.org</A>&gt; wrote:
</I>
&gt;&gt;<i>    &gt;&gt;&gt; from twisted.web.microdom import parseString
</I>&gt;&gt;<i>    &gt;&gt;&gt; s = '&lt;div&gt;&lt;span&gt;hello&lt;/span&gt; &lt;span&gt;world&lt;/span&gt;&lt;/div&gt;'
</I>&gt;&gt;<i>    &gt;&gt;&gt; parseString(s).toxml()
</I>&gt;&gt;<i>    '&lt;?xml version=&quot;1.0&quot;?&gt;&lt;div&gt;&lt;span&gt;hello&lt;/span&gt;&lt;span&gt;world&lt;/span&gt;&lt;/ 
</I>&gt;&gt;<i>div&gt;'
</I>&gt;&gt;<i>    &gt;&gt;&gt;
</I>&gt;&gt;<i>So if you need such advanced XML features as correct whitespace 
</I>&gt;&gt;<i>handling,
</I>&gt;&gt;<i>steer clear. ;)
</I>
&gt;<i>I have to say, I don't find this to be that big an issue. I think if 
</I>&gt;<i>you're using XML as a data interchange format (as I know the original 
</I>&gt;<i>poster was), whitespace is generally syntactically meaningless.
</I>
Like many things in Microdom, whitespace handling does not strive to be 
particularly spec-compliant (the spec does say &quot;An XML processor  MUST 
always pass all characters in a document that are not markup through to 
the application.&quot;), but to be useful for simple cases and stable enough 
that your code won't break.  If you want whitespace you can probably 
cram it in there.  For example, it has a creative misinterpretation of 
the &quot;xml:space&quot; attribute:
&gt;&gt;&gt;<i>from twisted.web.microdom import parseString
</I>&gt;&gt;&gt;<i>s = '&lt;div xml:space=&quot;preserve&quot;&gt;&lt;span&gt;hello&lt;/span&gt; 
</I>&gt;&gt;&gt;<i>&lt;span&gt;world&lt;/span&gt;&lt;/div&gt;'
</I>&gt;&gt;&gt;<i>parseString(s).toxml()
</I>'&lt;?xml version=&quot;1.0&quot;?&gt;&lt;div xml:space=&quot;preserve&quot;&gt;&lt;span&gt;hello&lt;/span&gt; 
&lt;span&gt;world&lt;/span&gt;&lt;/div&gt;'

It is also hard-coded to preserve space in &lt;pre&gt; tags, which is also 
broken because it doesn't really honor namespaces, and therefore has no 
idea if your document is HTML or not, and it can't read DTDs so it 
doesn't know if your elements have this attribute set implicitly (and so 
on and so on).

This could be made into *slightly* less of a hack with a preserveSpace 
argument to parse*(), of course; the implementation would probably be 
very straightforward (c.f. MicroDOMParser.shouldPreserveSpace).  Maybe 
someone who actually likes Microdom, such as Phil, will add one, since 
all I'm committing to here is not totally hating it ;).


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017237.html">[Twisted-Python] regarding xml elements
</A></li>
	<LI>Next message: <A HREF="017216.html">[Twisted-Python] Server Components
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17241">[ date ]</a>
              <a href="thread.html#17241">[ thread ]</a>
              <a href="subject.html#17241">[ subject ]</a>
              <a href="author.html#17241">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
