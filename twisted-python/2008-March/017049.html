<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] transport.loseConnection problems
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20transport.loseConnection%20problems&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017073.html">
   <LINK REL="Next"  HREF="017050.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] transport.loseConnection problems</H1>
    <B>Alvin Delagon</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20transport.loseConnection%20problems&In-Reply-To="
       TITLE="[Twisted-Python] transport.loseConnection problems">adelagon at gmail.com
       </A><BR>
    <I>Tue Mar 18 05:31:17 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="017073.html">[Twisted-Python] Twisted 8.0.0pre1
</A></li>
        <LI>Next message: <A HREF="017050.html">[Twisted-Python] My project is using Twisted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17049">[ date ]</a>
              <a href="thread.html#17049">[ thread ]</a>
              <a href="subject.html#17049">[ subject ]</a>
              <a href="author.html#17049">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have a server application that do forced disconnects to clients on certain
conditions by using self.transport.loseConnection() method. On random cases
the method that I'm using fails to disconnect the client on the fly. The
socket connection that is supposed to be disconnected immediately get
disconnected at random times (10-30mins) with an error of:

*Connection closed: [Failure instance: Traceback (failure with no frames):
twisted.internet.error.ConnectionLost: Connection to the other side was lost
in a non-clean fashion.
*
Can anyone explain why is this happening? I checked the API docs of the
loseConnection() and it says there that:

*&quot;**Note that if there is a registered producer on a transport it will not
be closed until the producer has been unregistered.&quot;*

I have no idea what is a producer. By the way I'm using
twisted.words.xmlstream that implements Protocol and epoll as my reactor.
Thanks in advance. :)

----
Alvin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20080318/38a2aeb4/attachment.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20080318/38a2aeb4/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017073.html">[Twisted-Python] Twisted 8.0.0pre1
</A></li>
	<LI>Next message: <A HREF="017050.html">[Twisted-Python] My project is using Twisted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17049">[ date ]</a>
              <a href="thread.html#17049">[ thread ]</a>
              <a href="subject.html#17049">[ subject ]</a>
              <a href="author.html#17049">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
