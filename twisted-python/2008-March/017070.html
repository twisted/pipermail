<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] pyactivemq interfering with Twisted?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20pyactivemq%20interfering%20with%20Twisted%3F&In-Reply-To=1205846171.21090.2.camel%40localhost.localdomain">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017069.html">
   <LINK REL="Next"  HREF="017060.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] pyactivemq interfering with Twisted?</H1>
    <B>Brian Baquiran</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20pyactivemq%20interfering%20with%20Twisted%3F&In-Reply-To=1205846171.21090.2.camel%40localhost.localdomain"
       TITLE="[Twisted-Python] pyactivemq interfering with Twisted?">brianbaquiran at gmail.com
       </A><BR>
    <I>Wed Mar 19 00:25:02 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="017069.html">[Twisted-Python] pyactivemq interfering with Twisted?
</A></li>
        <LI>Next message: <A HREF="017060.html">[Twisted-Python] Teach Me Twisted Redux
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17070">[ date ]</a>
              <a href="thread.html#17070">[ thread ]</a>
              <a href="subject.html#17070">[ subject ]</a>
              <a href="author.html#17070">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Itamar Shtull-Trauring wrote:
&gt;<i> On Tue, 2008-03-18 at 20:04 +0800, Brian Baquiran wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> Could the part of pyactivemq (or ActiveMQ-CPP) that handles asynchronous 
</I>&gt;&gt;<i> consumption of messages be interfering somehow with Twisted's event loop 
</I>&gt;&gt;<i> and causing this problem?
</I>&gt;<i> 
</I>&gt;<i> Quite possibly; if the API you're calling is blocking then Twisted's
</I>&gt;<i> event loop won't be able to run. If that is the case, either figure out
</I>&gt;<i> if you can integrate the library with Twisted's event loop, or use
</I>&gt;<i> twisted.internet.threads.deferToThread or something similar to call the
</I>&gt;<i> blocking API.
</I>
Hi Itamar,
Thanks a lot for the tip. I just used reactor.callFromThread() from 
inside the onMessage() callaback to execute the twisted code in the 
Twisted event loop instead of in the pyactivemq event loop and it seems 
to have solved the problem.

Regards,
Brian


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017069.html">[Twisted-Python] pyactivemq interfering with Twisted?
</A></li>
	<LI>Next message: <A HREF="017060.html">[Twisted-Python] Teach Me Twisted Redux
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17070">[ date ]</a>
              <a href="thread.html#17070">[ thread ]</a>
              <a href="subject.html#17070">[ subject ]</a>
              <a href="author.html#17070">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
