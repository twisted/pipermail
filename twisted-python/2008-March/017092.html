<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: Teach Me Twisted Redux
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20Teach%20Me%20Twisted%20Redux&In-Reply-To=BEAAAA1C-1367-4283-8394-E10109826E62%40bubblehouse.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017090.html">
   <LINK REL="Next"  HREF="017105.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: Teach Me Twisted Redux</H1>
    <B>Steve Holden</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20Teach%20Me%20Twisted%20Redux&In-Reply-To=BEAAAA1C-1367-4283-8394-E10109826E62%40bubblehouse.org"
       TITLE="[Twisted-Python] Re: Teach Me Twisted Redux">steve at holdenweb.com
       </A><BR>
    <I>Thu Mar 20 15:19:51 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="017090.html">[Twisted-Python] Re: Teach Me Twisted Redux
</A></li>
        <LI>Next message: <A HREF="017105.html">[Twisted-Python] Re: Teach Me Twisted Redux
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17092">[ date ]</a>
              <a href="thread.html#17092">[ thread ]</a>
              <a href="subject.html#17092">[ subject ]</a>
              <a href="author.html#17092">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Phil Christensen wrote:
&gt;<i> On Mar 20, 2008, at 11:36 AM, Glenn H Tarbox, PhD wrote:
</I>&gt;&gt;<i> One of the biggest (glaring?) issues with Twisted is the abysmal state
</I>&gt;&gt;<i> of the documentation (none) making the code the best source... and
</I>&gt;&gt;<i> history is replete with the massive successes that approach has borne...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> What documentation there is includes: &quot;If you need to call a method that
</I>&gt;&gt;<i> returns a deferred within your callback chain, just return that
</I>&gt;&gt;<i> deferred, and the result of the secondary deferred's processing chain
</I>&gt;&gt;<i> will become the result that gets passed to the next callback of the
</I>&gt;&gt;<i> primary deferreds processing chain&quot;
</I>&gt;&gt;<i>
</I>Well, perhaps we can extend the conference session a little. [Drinks 
whisky].

So what you are saying is that a callback can find itself needing to 
return a result that is not yet immediately available. So it will return 
a deferred, whose callbacks and errbacks will be triggered in the 
standard way when the result becomes available ...

[Drinks more whisky]. Did Itamar write this? HELP!

&gt;&gt;<i> Now, the above is true and clear to those of us who know twisted... but
</I>&gt;&gt;<i> I've used that quote for levity... its simply incomprehensible... but
</I>&gt;&gt;<i> absolutely critical to understanding the power of twisted.  I'd say that
</I>&gt;&gt;<i> the current state of twisted documentation is in part represented by
</I>&gt;&gt;<i> that quote... and much of the reason twisted gets thrown out early as an
</I>&gt;&gt;<i> option.
</I>&gt;<i> 
</I>I believe you've made your point, and one of the reasons I chose Twisted 
as the topic for the session was because the document doesn't show, if I 
may briefly channel Zed Shaw, how truly fucking amazing Twisted is.

The good news: this is a remediable deficiency.

The bad news: it has neither the glamor nor the appeal of hacking at the 
codeface.

Now you have a Foundation, consider having it sponsor (through the PSF 
is you aren't registered as a mentoring organization) someone to work on 
the docs in Summer of Code. Even trawling the mailing lists for useful 
material would yield some gems that could be used to improve things.

&gt;<i> I think there's a lot of truth to this, but you can say the same thing 
</I>&gt;<i> about a vast number of open source projects. Not that it's an excuse, of 
</I>&gt;<i> course, but in most of the projects I can think of that have sufficient 
</I>&gt;<i> documentation, such a thing didn't occur until the software reached a 
</I>&gt;<i> critical mass of users.
</I>&gt;<i> 
</I>&gt;<i> The Twisted community is growing all the time, but it's still just a 
</I>&gt;<i> part of the Python community, which despite a number of high-profile 
</I>&gt;<i> Python projects, is still eclipsed by Java, Perl and (*shudder*) PHP.
</I>&gt;<i> 
</I>Some things are simply better not documented.

&gt;<i> As for the complexity of docstrings, I don't think anyone should be 
</I>&gt;<i> considering source code documentation equivalent to a formal tutorial, 
</I>&gt;<i> so I think the brevity (and assumption of existing knowledge) is pretty 
</I>&gt;<i> much warranted in that case.
</I>&gt;<i> 
</I>&gt;&gt;<i> Clearly, the issues Twisted addresses are non-trivial requiring an
</I>&gt;&gt;<i> appreciation of the problem space before considering Twisted as a
</I>&gt;&gt;<i> solution (you gotta know there's a question before someone tells you the
</I>&gt;&gt;<i> answer)... unfortunately, the barrier to Twisted entry at that point
</I>&gt;&gt;<i> makes most walk away.  I've seen lots of threads concluding, simply,
</I>&gt;&gt;<i> that twisted looked interesting but was simply too dense to even get
</I>&gt;&gt;<i> started with... so, they go ahead and roll their own solution,
</I>&gt;&gt;<i> inevitably identifying the issues which form heart of the twisted
</I>&gt;&gt;<i> architecture, but being too far along to refactor.  And away we go.
</I>&gt;<i> 
</I>&gt;<i> I completely agree with the first half of this paragraph, but I have a 
</I>&gt;<i> different perspective on the second.
</I>&gt;<i> 
</I>&gt;<i> I've been lurking on this mailing list for years, and what I see most 
</I>&gt;<i> often is people who do not even begin to understand the concept of 
</I>&gt;<i> asynchronous networking. *This* is the barrier to entry, and it's almost 
</I>&gt;<i> always the culprit when a potential user walks away from Twisted.
</I>&gt;<i> 
</I>That's true, and I tried to get this across using the analogy of a GUI 
interface to explain the event-driven nature of Twisted. This was fine 
for people who had done GUI programming, but Glyph later gave me an 
email analogy which would work far better for those who hadn't.

One of the distinguishing features of *great* documentation is that it 
provides the same information in ways that make it accessible to 
different audiences.

&gt;<i> IIRC, at the time Twisted Python was created, thread support in Python 
</I>&gt;<i> was simply awful. Threads were absolutely not a solution for dealing 
</I>&gt;<i> with multiple client connections to a server application, and the only 
</I>&gt;<i> alternative was asyncore.
</I>&gt;<i> 
</I>And Twisted is still a way better solution even now.

&gt;<i> As many of you may remember, asyncore was not great, but it *was* 
</I>&gt;<i> simple. Writing an asyncore application required knowledge of maybe 
</I>&gt;<i> three different classes, so while you were working on understanding 
</I>&gt;<i> asynchronous networking, you didn't have to deal with learning a vast 
</I>&gt;<i> new API.
</I>&gt;<i> 
</I>&gt;<i> The problem I've seen with various responses from seasoned Twisted devs 
</I>&gt;<i> to unexperienced developers is that one can only explain why you don't 
</I>&gt;<i> want to use any kind of long-blocking call so many times. After that, 
</I>&gt;<i> answers start becoming glib and/or overly terse, but I can't really 
</I>&gt;<i> blame anyone for that.
</I>&gt;<i> 
</I>Except those who failed to extract the kernel of these three thousand 
answers and incorporate it into the documentation. If it's a failure 
it's a common one, and it's distributed throughout the community.

&gt;<i> There are a few introductory tutorials on asynchronous programming, but 
</I>&gt;<i> we could always use more. I almost wonder if it would be worthwhile to 
</I>&gt;<i> have an asyncore tutorial as the first step, so that users can be 
</I>&gt;<i> exposed to asynchronous programming through a simpler model, run into 
</I>&gt;<i> some problems, and then see how Twisted makes them all go away.
</I>&gt;<i> 
</I>&gt;&gt;<i> Exacerbating the problem is the state of the twisted code base.  The
</I>&gt;&gt;<i> core itself is clean, high performance and great.  But, there's a large
</I>&gt;&gt;<i> percentage of the code base in various states of decay.  Some clearly
</I>&gt;&gt;<i> marked as no longer supported... but most simply marked &quot;undocumented&quot;
</I>&gt;&gt;<i> and much of the rest necessitating querying #twisted, hopefully at a
</I>&gt;&gt;<i> time when someone is available to answer questions... twisted-web
</I>&gt;&gt;<i> appears to be worse from a documentation perspective and I'm one of
</I>&gt;&gt;<i> those who chose to &quot;just walk away&quot; when a web framework was necessary.
</I>&gt;<i> 
</I>&gt;<i> I definitely agree with you about the state of Twisted.Web. I think the 
</I>&gt;<i> culprit here is not entirely a shortage of documentation. The real 
</I>&gt;<i> problem is Web2.
</I>&gt;<i> 
</I>&gt;<i> Now, I am the last person to discourage total or near-total rewrites of 
</I>&gt;<i> stable codebases. I know I personally have made the choice to rewrite 
</I>&gt;<i> projects instead of fixing the things that are broken on a number of 
</I>&gt;<i> occasions, but the creation of the Web2 initiative has caused endless 
</I>&gt;<i> problems when explaining Twisted's web features to new users.
</I>&gt;<i> 
</I>&gt;<i> There's lots of good stuff in Web2, but its existence as a 
</I>&gt;<i> half-supported, half-unreleased project causes much confusion to new 
</I>&gt;<i> users, probably because they always assume that it's a choice between 
</I>&gt;<i> Twisted.Web 1.0 and Twisted.Web 2.0, which is obviously not the case.
</I>&gt;<i> 
</I>&gt;<i> The web situation is also exacerbated in some ways by Nevow being a 
</I>&gt;<i> separate project under the Divmod banner. Much of the greatness of a 
</I>&gt;<i> Twisted web stack (IMO) comes from using it with Nevow, and in this 
</I>&gt;<i> AJAX-crazed world we live in, Nevow.Athena could easily sell the whole 
</I>&gt;<i> web layer to anyone working on a heavily AJAX-oriented project.
</I>&gt;<i> 
</I>&gt;<i> Finally, now imagine yourself as a web developer who has never had to 
</I>&gt;<i> deal with asynchronous programming, or Twisted, or Twisted.Web; you 
</I>&gt;<i> don't know whether you should use web2 or not, and you've never heard of 
</I>&gt;<i> Athena.
</I>&gt;<i> 
</I>&gt;<i> Obviously, there's good reasons why these various things have happened 
</I>&gt;<i> over the years, but I really think documentation isn't enough to fix 
</I>&gt;<i> organizational issues. And, given the state of flux (apparent or actual) 
</I>&gt;<i> in the Twisted.Web arena, who wants to write extensive documentation 
</I>&gt;<i> that will be completely broken in a year?
</I>&gt;<i> 
</I>Nobody. If anyone offers, back away, smiling.

&gt;<i> (We all know why that line of thought is wrong, but it doesn't make it 
</I>&gt;<i> any less common...)
</I>&gt;<i> 
</I>&gt;&gt;<i> For example, I've been playing with Twisted for a while now and only
</I>&gt;&gt;<i> recently stumbled upon AMP... perhaps thats a personal issue and I do
</I>&gt;&gt;<i> have fundamental intelligence limitations... but perhaps its
</I>&gt;&gt;<i> illustrative.
</I>&gt;<i> 
</I>&gt;<i> I have to say, I still don't really know what AMP is, and I've asked a 
</I>&gt;<i> bunch of times. Maybe I actually do know, by now, but I've certainly 
</I>&gt;<i> forgotten.
</I>&gt;<i> 
</I>&gt;&gt;<i> What we need is a core documentation / presentation / communication
</I>&gt;&gt;<i> strategy to communicate what twisted is and a vehicle to support
</I>&gt;&gt;<i> education.  Handling conferences is a degenerate case which requires
</I>&gt;&gt;<i> extension with malt beverages.
</I>&gt;<i> 
</I>&gt;<i> I really think that doing this properly requires a core team of people 
</I>&gt;<i> at least as large as the core Twisted dev group. They would need to have 
</I>&gt;<i> both a knack for documentation and an understanding of somewhat 
</I>&gt;<i> low-level networking concepts, *and* an ability to read source code 
</I>&gt;<i> effectively.
</I>&gt;<i> 
</I>&gt;<i> Now, I don't mean to point out obstacles and say it's hopeless, but I 
</I>&gt;<i> think this relates to the critical mass I was talking about earlier. I 
</I>&gt;<i> think Twisted just needs to reach that level where there's enough people 
</I>&gt;<i> who want to write documentation that it gets done.
</I>&gt;<i> 
</I>&gt;<i> Other attempts to force the issue haven't really met with much success; 
</I>&gt;<i> I know there used to be (perhaps still are) a few bounties out there on 
</I>&gt;<i> documentation, but not much has happened in that arena since then. 
</I>&gt;<i> (Personally, I am anti-bounty, as I feel -- perhaps irrationally so -- 
</I>&gt;<i> that it cheapens the hours and hours of work that people have done for 
</I>&gt;<i> free.)
</I>&gt;<i> 
</I>&gt;<i> I think the best way for us to address this in the short term is to 
</I>&gt;<i> really try to focus on group documentation. The current Trac wiki can 
</I>&gt;<i> barely be called collaborative; as a start why not transfer the Twisted 
</I>&gt;<i> docs into the wiki, and allow Trac users to modify and update this 
</I>&gt;<i> information?
</I>&gt;<i> 
</I>&gt;<i> Furthermore, considering the length some of the posts I see here, I'd 
</I>&gt;<i> like to suggest that if you're going to spend 30 minutes writing an 
</I>&gt;<i> email explaining some concept, why not write a mini tutorial about it 
</I>&gt;<i> instead?
</I>&gt;<i> 
</I>[Is that the sun starting to brighten the night sky over the horizon?]

&gt;<i> Even if you just copy and paste the email you were going to send into 
</I>&gt;<i> the wiki, it's still a start, and others can work on it from there.
</I>&gt;<i> 
</I>&gt;<i> You know what they say about documentation being like sex; when it's 
</I>&gt;<i> good it's great, but when it's bad it's still better than nothing ;-)...
</I>&gt;<i> 
</I>And when you haven't had any for years you will even read the Twisted 
documentation ;-)

regards
  Steve



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017090.html">[Twisted-Python] Re: Teach Me Twisted Redux
</A></li>
	<LI>Next message: <A HREF="017105.html">[Twisted-Python] Re: Teach Me Twisted Redux
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17092">[ date ]</a>
              <a href="thread.html#17092">[ thread ]</a>
              <a href="subject.html#17092">[ subject ]</a>
              <a href="author.html#17092">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
