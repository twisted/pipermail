<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] pyactivemq interfering with Twisted?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20pyactivemq%20interfering%20with%20Twisted%3F&In-Reply-To=%3C47E0959E.1050705%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="049577.html">
   <LINK REL="Next"  HREF="049573.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] pyactivemq interfering with Twisted?</H1>
    <B>Brian Baquiran</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20pyactivemq%20interfering%20with%20Twisted%3F&In-Reply-To=%3C47E0959E.1050705%40gmail.com%3E"
       TITLE="[Twisted-Python] pyactivemq interfering with Twisted?">brianbaquiran at gmail.com
       </A><BR>
    <I>Tue Mar 18 22:25:02 MDT 2008</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="049577.html">[Twisted-Python] pyactivemq interfering with Twisted?
</A></li>
        <LI>Next message (by thread): <A HREF="049573.html">[Twisted-Python] SSL + AMP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49578">[ date ]</a>
              <a href="thread.html#49578">[ thread ]</a>
              <a href="subject.html#49578">[ subject ]</a>
              <a href="author.html#49578">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Itamar Shtull-Trauring wrote:
&gt;<i> On Tue, 2008-03-18 at 20:04 +0800, Brian Baquiran wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> Could the part of pyactivemq (or ActiveMQ-CPP) that handles asynchronous 
</I>&gt;&gt;<i> consumption of messages be interfering somehow with Twisted's event loop 
</I>&gt;&gt;<i> and causing this problem?
</I>&gt;<i> 
</I>&gt;<i> Quite possibly; if the API you're calling is blocking then Twisted's
</I>&gt;<i> event loop won't be able to run. If that is the case, either figure out
</I>&gt;<i> if you can integrate the library with Twisted's event loop, or use
</I>&gt;<i> twisted.internet.threads.deferToThread or something similar to call the
</I>&gt;<i> blocking API.
</I>
Hi Itamar,
Thanks a lot for the tip. I just used reactor.callFromThread() from 
inside the onMessage() callaback to execute the twisted code in the 
Twisted event loop instead of in the pyactivemq event loop and it seems 
to have solved the problem.

Regards,
Brian


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="049577.html">[Twisted-Python] pyactivemq interfering with Twisted?
</A></li>
	<LI>Next message (by thread): <A HREF="049573.html">[Twisted-Python] SSL + AMP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49578">[ date ]</a>
              <a href="thread.html#49578">[ thread ]</a>
              <a href="subject.html#49578">[ subject ]</a>
              <a href="author.html#49578">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
