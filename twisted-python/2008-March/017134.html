<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Advice sought on application evolution
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Advice%20sought%20on%20application%20evolution&In-Reply-To=20080321220702.GB13036%40localhost.localdomain">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017132.html">
   <LINK REL="Next"  HREF="017138.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Advice sought on application evolution</H1>
    <B>Matthew Glubb</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Advice%20sought%20on%20application%20evolution&In-Reply-To=20080321220702.GB13036%40localhost.localdomain"
       TITLE="[Twisted-Python] Advice sought on application evolution">matt at madebykite.com
       </A><BR>
    <I>Sat Mar 22 05:47:09 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="017132.html">[Twisted-Python] Advice sought on application evolution
</A></li>
        <LI>Next message: <A HREF="017138.html">[Twisted-Python] Advice sought on application evolution
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17134">[ date ]</a>
              <a href="thread.html#17134">[ thread ]</a>
              <a href="subject.html#17134">[ subject ]</a>
              <a href="author.html#17134">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'd like to elaborate, for my own benefit as much as anyone else ;)

On 21 Mar 2008, at 22:07, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">washort at twistedmatrix.com</A> wrote:
&gt;<i> 1) Preserve the property that only code you can see locally referenced
</I>&gt;<i>    can be executed (i.e., that in &quot;step1(); step2()&quot; only code called
</I>&gt;<i>    by those two functions can be executed before the statement is
</I>&gt;<i>    finished) and complicate the syntax in places where other code  
</I>&gt;<i> needs
</I>&gt;<i>    to be allowed to execute.
</I>
Or another way of saying it is that what is slightly dangerous about  
inlineCallbacks is you lose any benefits of parallelism you may have  
been enjoying because you want to make your code slightly more  
readable / writeable.

Consider the following:

@defer.deferredGenerator
def foo(self, d):
     for x in self.somelist:
         w = defer.waitForDeferred(x.bar())
         yield w
     d.callback(True)

Each successive call of x.bar must wait for the previous one to  
complete. Whereas in the following example x.bar() is called in  
parallel for each item in self.someList:

def foo(self):
     d = defer.Deferred()
     self._done_count = 0
     for x in self.somelist:
         x.bar().addCallback(self._done_bar, d)
     return d

def _done_bar(self, result, d):
     self._done_count = self._done_count + 1
     if self._done_count == len(self.somelist):
         d.callback(result)

IMHO, inline callbacks should only be employed when you can guarantee  
that sequential executions of each statement is exactly what you want  
to do. Readability / writeability comes second.


Matt






</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017132.html">[Twisted-Python] Advice sought on application evolution
</A></li>
	<LI>Next message: <A HREF="017138.html">[Twisted-Python] Advice sought on application evolution
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17134">[ date ]</a>
              <a href="thread.html#17134">[ thread ]</a>
              <a href="subject.html#17134">[ subject ]</a>
              <a href="author.html#17134">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
