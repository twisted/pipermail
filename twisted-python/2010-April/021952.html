<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Inline Callbacks
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Inline%20Callbacks&In-Reply-To=k2r3b949f091004011820x8c9468e4x525a33968c1af1cd%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021949.html">
   <LINK REL="Next"  HREF="021953.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Inline Callbacks</H1>
    <B>Christopher Armstrong</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Inline%20Callbacks&In-Reply-To=k2r3b949f091004011820x8c9468e4x525a33968c1af1cd%40mail.gmail.com"
       TITLE="[Twisted-Python] Inline Callbacks">radix at twistedmatrix.com
       </A><BR>
    <I>Fri Apr  2 00:33:51 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="021949.html">[Twisted-Python] Inline Callbacks
</A></li>
        <LI>Next message: <A HREF="021953.html">[Twisted-Python] Inline Callbacks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21952">[ date ]</a>
              <a href="thread.html#21952">[ thread ]</a>
              <a href="subject.html#21952">[ subject ]</a>
              <a href="author.html#21952">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Apr 1, 2010 at 8:20 PM, Jason J. W. Williams
&lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">jasonjwwilliams at gmail.com</A>&gt; wrote:
&gt;<i> Would it be fair to say that when developing code that utilizes
</I>&gt;<i> inlineCallbacks, your function is a generator that returns a deferred
</I>&gt;<i> whose callback is the coroutine that's yielding?
</I>
It pays to be very very specific about all the different objects and
interactions going on with generators in Python and especially with
inlineCallbacks to avoid confusion.There are a couple of inaccuracies
in this statement, some which I think are just about poor wording and
some which come from misunderstanding.

In Python, there are generator functions and there are generators.
Calling a generator function returns a generator, which has next() and
send() methods. Generators do not return things, though a generator's
next() or send() methods do (I say this because you mentioned a
&quot;generator that returns a deferred&quot;).

Also, there's nothing called a &quot;coroutine&quot; that's related to
inlineCallbacks at all, and the word is fraught with ambiguities in
Python, so it's best to just avoid it entirely.

In inlineCallbacks, nobody but the person writing the
inlineCallbacks-using function knows that there's a generator
involved. The person calling your inlineCallbacks-using function can't
see any generators; they just get a Deferred object which fires when
the generator is exhausted. The interesting part is that
inlineCallbacks is the thing responsible for iterating the generator,
not user-code. It is responsible for calling .send() on the generator
object when previously yielded deferreds have fired. The value of the
Deferred returned will be whatever is passed to returnValue in the
inlineCallbacks-using function.

-- 
Christopher Armstrong
<A HREF="http://radix.twistedmatrix.com/">http://radix.twistedmatrix.com/</A>
<A HREF="http://planet-if.com/">http://planet-if.com/</A>

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021949.html">[Twisted-Python] Inline Callbacks
</A></li>
	<LI>Next message: <A HREF="021953.html">[Twisted-Python] Inline Callbacks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21952">[ date ]</a>
              <a href="thread.html#21952">[ thread ]</a>
              <a href="subject.html#21952">[ subject ]</a>
              <a href="author.html#21952">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
