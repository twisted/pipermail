<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Seeking advice: Coping with heavy log file loads
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Seeking%20advice%3A%20Coping%20with%20heavy%20log%20file%20loads&In-Reply-To=%3C4BBEE6E7.2000905%40vultaire.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="054478.html">
   <LINK REL="Next"  HREF="054480.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Seeking advice: Coping with heavy log file loads</H1>
    <B>Paul Goins</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Seeking%20advice%3A%20Coping%20with%20heavy%20log%20file%20loads&In-Reply-To=%3C4BBEE6E7.2000905%40vultaire.net%3E"
       TITLE="[Twisted-Python] Seeking advice: Coping with heavy log file loads">general at vultaire.net
       </A><BR>
    <I>Fri Apr  9 02:35:51 MDT 2010</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="054478.html">[Twisted-Python] Network newbie
</A></li>
        <LI>Next message (by thread): <A HREF="054480.html">[Twisted-Python] Seeking advice: Coping with heavy log	file	loads
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54479">[ date ]</a>
              <a href="thread.html#54479">[ thread ]</a>
              <a href="subject.html#54479">[ subject ]</a>
              <a href="author.html#54479">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>There may not be a clear answer to this problem, and the answer may or
may not be Twisted-specific.  I'm just trying to fish for ideas here.

The server I'm working on suffers from extremely high CPU time spent in
the logging functions.  I'm spending between 30 and 40% of all CPU time
just in twisted.python.log.msg.

Describing the environment:

We use DailyLogFiles for file rotation along with the
PythonLoggingObserver to allow for logLevel support.  (Of course, this
gives us significant overhead from Python's complex logging
architecture; maybe we should drop this...)

On a 1000 request test of this server, we generate 58,274 calls to
t.p.log.msg.  There's room for cleanup, but there's lots of pressure to
keep many of the log calls we have for forensic purposes, so we can only
cut this back so far.

Anyway, does anyone have any ideas for speedups?  Any stories from
experience especially?  Shots in the dark are welcome.  ;-)

-
Paul Goins


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="054478.html">[Twisted-Python] Network newbie
</A></li>
	<LI>Next message (by thread): <A HREF="054480.html">[Twisted-Python] Seeking advice: Coping with heavy log	file	loads
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54479">[ date ]</a>
              <a href="thread.html#54479">[ thread ]</a>
              <a href="subject.html#54479">[ subject ]</a>
              <a href="author.html#54479">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
