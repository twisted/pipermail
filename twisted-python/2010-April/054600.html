<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Getting a synchronous interface to a twisted reactor
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Getting%20a%20synchronous%20interface%20to%20a%20twisted%0A%20reactor&In-Reply-To=%3C4BD0647C.5030201%40imperial.ac.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="054596.html">
   <LINK REL="Next"  HREF="054601.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Getting a synchronous interface to a twisted reactor</H1>
    <B>Phil Mayers</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Getting%20a%20synchronous%20interface%20to%20a%20twisted%0A%20reactor&In-Reply-To=%3C4BD0647C.5030201%40imperial.ac.uk%3E"
       TITLE="[Twisted-Python] Getting a synchronous interface to a twisted reactor">p.mayers at imperial.ac.uk
       </A><BR>
    <I>Thu Apr 22 09:00:12 MDT 2010</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="054596.html">[Twisted-Python] Getting a synchronous interface to a twisted	reactor
</A></li>
        <LI>Next message (by thread): <A HREF="054601.html">[Twisted-Python] Getting a synchronous interface to a twisted	reactor
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54600">[ date ]</a>
              <a href="thread.html#54600">[ thread ]</a>
              <a href="subject.html#54600">[ subject ]</a>
              <a href="author.html#54600">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 22/04/10 15:50, Andrey Fedorov wrote:
&gt;<i> On Thu, Apr 22, 2010 at 3:21 AM, Phil Mayers &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">p.mayers at imperial.ac.uk</A>
</I>&gt;<i> &lt;mailto:<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">p.mayers at imperial.ac.uk</A>&gt;&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>     If that's the case, then the answer is &quot;sort of&quot; but I think you
</I>&gt;<i>     might have misunderstood Twisted a bit. The entire point is to
</I>&gt;<i>     have non-blocking APIs, not to want a blocking API.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> That sounds like might be the case case. Wwhat I'm looking for, then, is
</I>&gt;<i> a way to use the IRCClient protocol outside of Twisted - in a way where
</I>&gt;<i> I can use it like:
</I>&gt;<i>
</I>&gt;<i>     connection = # something using IRCClient
</I>&gt;<i>     msg = connection.privmsg() # blocks
</I>&gt;<i>     assert msg == &quot;andreyf: hello there, lovely IRC users!&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Are there any projects along those lines?
</I>
Not that I'm aware of. I'm pretty certain the Twisted protocol 
implementations all require the reactor and thus need to be run in an 
async manner.

There are various hacky ways you could accomplish this; the obvious one 
that springs to mind is running the reactor in a thread. There are 
various caveats to doing this, the main one being you can't call any 
Twisted functions outside the reactor thread except &quot;callFromThread&quot; so 
you'd probably want to write some kind of wrapper; and it's a bit 
counter to the whole ethos.

Given you said:

&quot;&quot;&quot;The main reason for the question, though, is just curiosity from 
playing with and learning the Twisted API&quot;&quot;&quot;

...I would recommend just trying to use the API in the Twisted &quot;way&quot;. 
You can use the aforementioned @inlineCallbacks decorator &amp; generator 
syntax if you prefer writing your code that way, as opposed to 
traditional deferred callback chaining.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="054596.html">[Twisted-Python] Getting a synchronous interface to a twisted	reactor
</A></li>
	<LI>Next message (by thread): <A HREF="054601.html">[Twisted-Python] Getting a synchronous interface to a twisted	reactor
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54600">[ date ]</a>
              <a href="thread.html#54600">[ thread ]</a>
              <a href="subject.html#54600">[ subject ]</a>
              <a href="author.html#54600">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
