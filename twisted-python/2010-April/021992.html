<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Seeking advice: Coping with heavy	log	file	loads
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Seeking%20advice%3A%20Coping%20with%20heavy%0A%09log%09file%09loads&In-Reply-To=4BC04049.7090202%40vultaire.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021991.html">
   <LINK REL="Next"  HREF="021985.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Seeking advice: Coping with heavy	log	file	loads</H1>
    <B>Brian Warner</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Seeking%20advice%3A%20Coping%20with%20heavy%0A%09log%09file%09loads&In-Reply-To=4BC04049.7090202%40vultaire.net"
       TITLE="[Twisted-Python] Seeking advice: Coping with heavy	log	file	loads">warner at lothar.com
       </A><BR>
    <I>Sat Apr 10 17:07:27 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="021991.html">[Twisted-Python] Seeking advice: Coping with heavy log	file	loads
</A></li>
        <LI>Next message: <A HREF="021985.html">[Twisted-Python] mercurial branch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21992">[ date ]</a>
              <a href="thread.html#21992">[ thread ]</a>
              <a href="subject.html#21992">[ subject ]</a>
              <a href="author.html#21992">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>You might find the logging infrastructure in Foolscap interesting:

 <A HREF="http://foolscap.lothar.com/docs/logging.html">http://foolscap.lothar.com/docs/logging.html</A>

The basic idea is to record log events only in memory, in separate
circular buffers for each priority level. When something &quot;weird&quot;
happens, all the events are bundled into an &quot;Incident File&quot;, and then
the incident file is written out (either to disk, or to a gatherer
process over a network). Other tools are then used to reassemble the
pieces of the incident into chronological order and point out where the
gaps are.

I haven't done any specific performance measurements, but I've taken a
busy server and stubbed out the logging calls and didn't see a huge
change in throughput rate. The Foolscap approach gets you useful (and
detailed) information when bad things happen, but throws out most of the
other stuff, so it doesn't touch the disk or make system calls very often.

cheers,
 -Brian (author of Foolscap)



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021991.html">[Twisted-Python] Seeking advice: Coping with heavy log	file	loads
</A></li>
	<LI>Next message: <A HREF="021985.html">[Twisted-Python] mercurial branch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21992">[ date ]</a>
              <a href="thread.html#21992">[ thread ]</a>
              <a href="subject.html#21992">[ subject ]</a>
              <a href="author.html#21992">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
