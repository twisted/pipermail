<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] untwisting twistd
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20untwisting%20twistd&In-Reply-To=%3C0C40B34038FD824FACDB387E7788728702C6C3AF%40seaxch08.desktop.isilon.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="052358.html">
   <LINK REL="Next"  HREF="052360.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] untwisting twistd</H1>
    <B>Jared Gisin</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20untwisting%20twistd&In-Reply-To=%3C0C40B34038FD824FACDB387E7788728702C6C3AF%40seaxch08.desktop.isilon.com%3E"
       TITLE="[Twisted-Python] untwisting twistd">jared.gisin at isilon.com
       </A><BR>
    <I>Mon Jun 22 14:30:32 MDT 2009</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="052358.html">[Twisted-Python] SIP Registrar
</A></li>
        <LI>Next message (by thread): <A HREF="052360.html">[Twisted-Python] untwisting twistd
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52359">[ date ]</a>
              <a href="thread.html#52359">[ thread ]</a>
              <a href="subject.html#52359">[ subject ]</a>
              <a href="author.html#52359">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am currently working on writing an application using the twisted
framework. The problem that I have is that I do not want to use twistd.
In fact, I find twistd to be inappropriate as it defaults pidfile and
logfile to something specific to twisted, not my application, and it
seem completely silly to have to pass in -pidfile and -logfile params
when stating it up. Those parameters should be specified as part of the
Application object itself, and should allow for CLI override. Further,
as I want my daemon that I'm writing to look and act like a daemon
(UNIX), I do not want to be invoking some general &quot;twistd&quot; command and
passing a ton of options. Ideally, I should be able to write a Pythons
script that acts like twistd, but can bake in default options and
hide/expose other ServerOptions as I so see fit.

 

For example, if I run, 

 

my_daemon

 

It should fire up the daemon

 

my_daemon -help

 

should dump the help

 

my_daemon -pidfile=/var/run/my_daemon.pid

my_daemon stop

my_daemon restart

 

should all function accordingly. I want to avoid all of this &quot;twistd -y&quot;
business, as the daemon, isn't &quot;twistd&quot; it's my code. I should be able
to use the ApplicationRunner, UnixApplicationRunner, etc &quot;runners&quot;,
however, as they are currently written, they are twistd specific. For
example, in 8.2, the def checkPid function bakes in, &quot;
sys.exit(&quot;&quot;&quot;\

Another twistd server is running, PID %s\n

This could either be a previously started instance of your application
or a

different application entirely. To start a new one, either run it in
some other

directory, or use the --pidfile and --logfile parameters to avoid
clashes.

&quot;&quot;&quot; %  pid)&quot;

 

Which is iditic as my application may not even expose a -pidfile or a
-logfile and it's definatley not called twistd. The platform specific
application runners need to be more generalized so users can write their
own twistd equivalent to include only what they want.

 

Perhaps I'm missing some key point of twisted that already does this. If
so, I'd love to be guided in the right direction. If not, and I've got a
valid point here, I'd love to know how I can help to remedy this
problem. I think it's great that twistd provides application management
classes, but they are unnecessarily intertwined with twistd which should
be completely optional.

 

-Jared

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20090622/beacf4e7/attachment.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="052358.html">[Twisted-Python] SIP Registrar
</A></li>
	<LI>Next message (by thread): <A HREF="052360.html">[Twisted-Python] untwisting twistd
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52359">[ date ]</a>
              <a href="thread.html#52359">[ thread ]</a>
              <a href="subject.html#52359">[ subject ]</a>
              <a href="author.html#52359">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
