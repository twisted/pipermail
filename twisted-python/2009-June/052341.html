<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Dropin.cache errors after clean install	of	twisted-8.2.0
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Dropin.cache%20errors%20after%20clean%20install%0A%09of%09twisted-8.2.0&In-Reply-To=%3C20090618051836.12555.2104995843.divmod.xquotient.12754%40weber.divmod.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="052345.html">
   <LINK REL="Next"  HREF="052347.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Dropin.cache errors after clean install	of	twisted-8.2.0</H1>
    <B>glyph at divmod.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Dropin.cache%20errors%20after%20clean%20install%0A%09of%09twisted-8.2.0&In-Reply-To=%3C20090618051836.12555.2104995843.divmod.xquotient.12754%40weber.divmod.com%3E"
       TITLE="[Twisted-Python] Dropin.cache errors after clean install	of	twisted-8.2.0">glyph at divmod.com
       </A><BR>
    <I>Wed Jun 17 23:18:36 MDT 2009</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="052345.html">[Twisted-Python] Dropin.cache errors after clean install	oftwisted-8.2.0
</A></li>
        <LI>Next message (by thread): <A HREF="052347.html">[Twisted-Python] Dropin.cache errors after clean	installof	twisted-8.2.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52341">[ date ]</a>
              <a href="thread.html#52341">[ thread ]</a>
              <a href="subject.html#52341">[ subject ]</a>
              <a href="author.html#52341">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 17 Jun, 07:47 pm, <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">benjamin.rutt at gs.com</A> wrote:
&gt;<i>I recently installed python-2.6.1 and then twisted-8.2.0 (outside of 
</I>&gt;<i>the
</I>&gt;<i>python tree).  One of my users is complaining that when he uses trial 
</I>&gt;<i>to
</I>&gt;<i>test some twisted programs, although his test passes, he has to stare 
</I>&gt;<i>at
</I>&gt;<i>a stack trace like this which mentions dropin.cache.new failing to be
</I>&gt;<i>written:
</I>
How did you install Twisted?  What distribution are you using?
&gt;<i>I would consider this to be an install bug.  Evidently, trial uses
</I>&gt;<i>plugins, (...)
</I>
I would also consider this to be an installer bug.
&gt;<i>Regardless of whether ticket 2409 goes anywhere, should I raise an 
</I>&gt;<i>issue
</I>&gt;<i>that the install should really take care of initial dropin.cache
</I>&gt;<i>generation, much like python install takes care of std lib .py-&gt;.pyc
</I>&gt;<i>generation?
</I>
No need to open a new ticket.  Here's the one you're looking for:

    <A HREF="http://twistedmatrix.com/trac/ticket/2410">http://twistedmatrix.com/trac/ticket/2410</A>

It would be very helpful if you would add a patch for this ticket, 
though; I'll go so far as to personally volunteer to review it until 
it's done if you do.

However, that ticket is somewhat anemic in its description of the 
problem.  Please be aware that distutils doesn't support post-install 
hooks in a general way (it leaves things up to the various 'bdist_' 
plugins), so it's hard to do this in a way which is unambiguously 
correct.  For example, the way post-installation scripts are specified 
to bdist_wininst, bdist_rpm, and bdist_msi are all subtly different. 
Also, the debian and redhat packages for twisted use 'setup.py install' 
but install to a different root, and then have their own custom post- 
installation hooks.  I'm sure that other packages (gentoo, for example) 
probably invoke setup.py as well, in slightly different ways.  bdist_egg 
doesn't allow for post-installation hooks *at all*, as you can see from 
&lt;<A HREF="http://bugs.python.org/setuptools/issue41">http://bugs.python.org/setuptools/issue41</A>&gt;.  So something that modified 
the behavior of setup.py install would have to carefully encapsulate its 
post-install hook and only invoke it if appropriate.

If you manage to circumnavigate all this nonsense and produce a nice, 
simple post-install hook with some unit tests, you will be a Twisted 
hero :).


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="052345.html">[Twisted-Python] Dropin.cache errors after clean install	oftwisted-8.2.0
</A></li>
	<LI>Next message (by thread): <A HREF="052347.html">[Twisted-Python] Dropin.cache errors after clean	installof	twisted-8.2.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52341">[ date ]</a>
              <a href="thread.html#52341">[ thread ]</a>
              <a href="subject.html#52341">[ subject ]</a>
              <a href="author.html#52341">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
