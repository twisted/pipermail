<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Custom logging for twistd plugin
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Custom%20logging%20for%20twistd%20plugin&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019814.html">
   <LINK REL="Next"  HREF="019807.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Custom logging for twistd plugin</H1>
    <B>Garret Heaton</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Custom%20logging%20for%20twistd%20plugin&In-Reply-To="
       TITLE="[Twisted-Python] Custom logging for twistd plugin">powdahound at gmail.com
       </A><BR>
    <I>Fri Jun 12 16:33:26 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="019814.html">[Twisted-Python] Question about File Descriptors
</A></li>
        <LI>Next message: <A HREF="019807.html">[Twisted-Python] serial port and http program
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19805">[ date ]</a>
              <a href="thread.html#19805">[ thread ]</a>
              <a href="subject.html#19805">[ subject ]</a>
              <a href="author.html#19805">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm looking to make some changes to the way a twistd
plugin&lt;<A HREF="http://twistedmatrix.com/projects/core/documentation/howto/plugin.html">http://twistedmatrix.com/projects/core/documentation/howto/plugin.html</A>&gt;logs
information. The docs on
logging&lt;<A HREF="http://twistedmatrix.com/projects/core/documentation/howto/logging.html">http://twistedmatrix.com/projects/core/documentation/howto/logging.html</A>&gt;and
the application
framework&lt;<A HREF="http://twistedmatrix.com/projects/core/documentation/howto/application.html#auto6">http://twistedmatrix.com/projects/core/documentation/howto/application.html#auto6</A>&gt;don't
currently mention how plugins fit in.

My main goal is to have the log include information about the log level of
each message represented as either text or an integer (like logging.DEBUG,
etc). This would make log monitoring tools and alerts much more accurate as
well as easier to write. I'd also like to be able to call log methods for
each level (log.debug(), log.error(), etc) instead of only having log.msg().

For example, I'd prefer to turn:
2009-06-12 13:04:12-0700 [-] Foo service starting
2009-06-12 13:04:12-0700 [-] Loaded config from /etc/foo/missing.cfg
2009-06-12 13:04:12-0700 [-] Log file does not exist: /etc/foo/missing.cfg
into something like:
20|2009-06-12 13:04:12|Foo service starting
10|2009-06-12 13:04:12|Loaded config from /etc/foo/missing.cfg
50|2009-06-12 13:04:12|Log file does not exist: /etc/foo/missing.cfg

(10 = logging.DEBUG, 20 = logging.INFO, 50 = logging.CRITICAL from Python's
logging module &lt;<A HREF="http://docs.python.org/library/logging.html">http://docs.python.org/library/logging.html</A>&gt;)

I've looked through most of the current logging code but I'm new to both
Python and Twisted and am not sure if adding what I want through subclassing
is the best approach or even a possibility.

Thanks!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20090612/86b751e8/attachment.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20090612/86b751e8/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019814.html">[Twisted-Python] Question about File Descriptors
</A></li>
	<LI>Next message: <A HREF="019807.html">[Twisted-Python] serial port and http program
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19805">[ date ]</a>
              <a href="thread.html#19805">[ thread ]</a>
              <a href="subject.html#19805">[ subject ]</a>
              <a href="author.html#19805">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
