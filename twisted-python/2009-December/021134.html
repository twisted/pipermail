<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] HTML shoudl not be baked into twisted.web HTTP	implementation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20HTML%20shoudl%20not%20be%20baked%20into%20twisted.web%20HTTP%0A%09implementation&In-Reply-To=0C40B34038FD824FACDB387E77887287033901C9%40seaxch08.desktop.isilon.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021132.html">
   <LINK REL="Next"  HREF="021138.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] HTML shoudl not be baked into twisted.web HTTP	implementation</H1>
    <B>James Y Knight</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20HTML%20shoudl%20not%20be%20baked%20into%20twisted.web%20HTTP%0A%09implementation&In-Reply-To=0C40B34038FD824FACDB387E77887287033901C9%40seaxch08.desktop.isilon.com"
       TITLE="[Twisted-Python] HTML shoudl not be baked into twisted.web HTTP	implementation">foom at fuhm.net
       </A><BR>
    <I>Wed Dec  9 12:34:11 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="021132.html">[Twisted-Python] HTML shoudl not be baked into twisted.web HTTP	implementation
</A></li>
        <LI>Next message: <A HREF="021138.html">[Twisted-Python] HTML shoudl not be baked into twisted.web HTTP	implementation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21134">[ date ]</a>
              <a href="thread.html#21134">[ thread ]</a>
              <a href="subject.html#21134">[ subject ]</a>
              <a href="author.html#21134">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Dec 9, 2009, at 11:52 AM, Jared Gisin wrote:
&gt;<i> I&#8217;m writing a HTTP server that exposes various resources as an API. Unless I&#8217;m missing something, twisted&#8217;s HTTP protocol implementation is in twisted.web.http.
</I>&gt;<i>  
</I>&gt;<i> The problem with this package is that it&#8217;s inexplicably wrapped up in HTML. HTML has nothing to do with HTTP as a whole. Sure, HTML is often what HTTP requests return, but there&#8217;s no reason why it should nor is there any RFC that says it should. HTTP request can return anything.
</I>&gt;<i> 
</I>&gt;<i> The software I&#8217;m writing is a programmatic interface. One never uses a web browser, so things such as displaying tracebacks (twisted.web.util.formatFailure) in HTML format is completely wrong. When implementing HTTP, why assume the client always wants HTML. It seem completely wrong from these modules and libraries to be so full of HTML output. HTML output should be provided as a separate config or option for twisted.web. In this case, why not just dump the traceback directly to the HTTP entity-body? As a consumer of twisted.web, I  should not have to battle with the hard-coded HTML output of this library. If I want the library to dump things in HTML output, I should have an option to tell it to do that (and I should be able to better customize the HTML), but I should not get HTML by default.
</I>
Customizability is great, and certainly error pages should really not be hard-coded at all. However, the default of returning HTML descriptions of errors is a good default, and should remain thus. There's usually two cases of interest:

1) A program is responding to the error. In that case, it will use the HTTP result code, and not care what the content is at all.
2) A human is reading the error message. At least 99% of the time, this will be happening through a web browser. They understand HTML. 

I'd expect your program to be in case #1, although I don't know if you have some need to parse out the particular tracebacks for some reason?

James
</PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021132.html">[Twisted-Python] HTML shoudl not be baked into twisted.web HTTP	implementation
</A></li>
	<LI>Next message: <A HREF="021138.html">[Twisted-Python] HTML shoudl not be baked into twisted.web HTTP	implementation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21134">[ date ]</a>
              <a href="thread.html#21134">[ thread ]</a>
              <a href="subject.html#21134">[ subject ]</a>
              <a href="author.html#21134">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
