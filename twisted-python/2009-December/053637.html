<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] HTML shoudl not be baked into twisted.web	HTTP	implementation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20HTML%20shoudl%20not%20be%20baked%20into%20twisted.web%0A%09HTTP%09implementation&In-Reply-To=%3C20091209173434.2549.1230482094.divmod.xquotient.568%40localhost.localdomain%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="053643.html">
   <LINK REL="Next"  HREF="053658.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] HTML shoudl not be baked into twisted.web	HTTP	implementation</H1>
    <B>exarkun at twistedmatrix.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20HTML%20shoudl%20not%20be%20baked%20into%20twisted.web%0A%09HTTP%09implementation&In-Reply-To=%3C20091209173434.2549.1230482094.divmod.xquotient.568%40localhost.localdomain%3E"
       TITLE="[Twisted-Python] HTML shoudl not be baked into twisted.web	HTTP	implementation">exarkun at twistedmatrix.com
       </A><BR>
    <I>Wed Dec  9 10:34:34 MST 2009</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="053643.html">[Twisted-Python] HTML shoudl not be baked into twisted.web HTTP	implementation
</A></li>
        <LI>Next message (by thread): <A HREF="053658.html">[Twisted-Python] web vs web2 clarification
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53637">[ date ]</a>
              <a href="thread.html#53637">[ thread ]</a>
              <a href="subject.html#53637">[ subject ]</a>
              <a href="author.html#53637">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 04:52 pm, <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">jared.gisin at isilon.com</A> wrote:
&gt;<i>I'm writing a HTTP server that exposes various resources as an API.
</I>&gt;<i>Unless I'm missing something, twisted's HTTP protocol implementation is
</I>&gt;<i>in twisted.web.http.
</I>&gt;<i>
</I>&gt;<i>The problem with this package is that it's inexplicably wrapped up in
</I>&gt;<i>HTML. HTML has nothing to do with HTTP as a whole. Sure, HTML is often
</I>&gt;<i>what HTTP requests return, but there's no reason why it should nor is
</I>&gt;<i>there any RFC that says it should. HTTP request can return anything.
</I>
It's not inextricable.  A few relatively simple patches would probably 
be sufficient to extricate the HTML from the HTTP. :)

The reason for these things being mixed up is that it made sense at the 
time and provided reasonable behavior for some actual use-cases.  That 
doesn't mean the behavior is right, but hopefully it should be clear why 
it was implemented.  The reason it hasn't been changed is only that no 
one has been bothered enough by it has come along to change it.
&gt;<i>The software I'm writing is a programmatic interface. One never uses a
</I>&gt;<i>web browser, so things such as displaying tracebacks
</I>&gt;<i>(twisted.web.util.formatFailure) in HTML format is completely wrong.
</I>&gt;<i>When implementing HTTP, why assume the client always wants HTML. It 
</I>&gt;<i>seem
</I>&gt;<i>completely wrong from these modules and libraries to be so full of HTML
</I>&gt;<i>output. HTML output should be provided as a separate config or option
</I>&gt;<i>for twisted.web. In this case, why not just dump the traceback directly
</I>&gt;<i>to the HTTP entity-body? As a consumer of twisted.web, I  should not
</I>&gt;<i>have to battle with the hard-coded HTML output of this library. If I
</I>&gt;<i>want the library to dump things in HTML output, I should have an option
</I>&gt;<i>to tell it to do that (and I should be able to better customize the
</I>&gt;<i>HTML), but I should not get HTML by default.
</I>
I agree.  The first step to take is probably to identify the precise 
places in the code where HTML is being generated and emitted (this may 
just be Request.processingFailed, but I haven't looked around for others 
lately) where one might not want to deal with HTML.  The next step would 
be to file a ticket enumerating these.  After that, a patch which allows 
these behaviors to be overridden can be submitted, reviewed(, revised, 
submitted, ...), and applied.

This will be valuable even for people who like HTML, since it will let 
them customize the HTML to suit their preferences.

Jean-Paul


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="053643.html">[Twisted-Python] HTML shoudl not be baked into twisted.web HTTP	implementation
</A></li>
	<LI>Next message (by thread): <A HREF="053658.html">[Twisted-Python] web vs web2 clarification
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53637">[ date ]</a>
              <a href="thread.html#53637">[ thread ]</a>
              <a href="subject.html#53637">[ subject ]</a>
              <a href="author.html#53637">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
