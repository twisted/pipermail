<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Lore to Sphinx Conversion Progress Report
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Lore%20to%20Sphinx%20Conversion%20Progress%20Report&In-Reply-To=407371A9-E698-4BC6-ADB3-37A67828EA36%40twistedmatrix.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021098.html">
   <LINK REL="Next"  HREF="021089.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Lore to Sphinx Conversion Progress Report</H1>
    <B>Kevin Horn</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Lore%20to%20Sphinx%20Conversion%20Progress%20Report&In-Reply-To=407371A9-E698-4BC6-ADB3-37A67828EA36%40twistedmatrix.com"
       TITLE="[Twisted-Python] Lore to Sphinx Conversion Progress Report">kevin.horn at gmail.com
       </A><BR>
    <I>Thu Dec  3 12:27:12 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="021098.html">[Twisted-Python] Lore to Sphinx Conversion Progress Report
</A></li>
        <LI>Next message: <A HREF="021089.html">[Twisted-Python] ANN: Twisted 9.0.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21097">[ date ]</a>
              <a href="thread.html#21097">[ thread ]</a>
              <a href="subject.html#21097">[ subject ]</a>
              <a href="author.html#21097">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Dec 3, 2009 at 3:00 AM, Glyph Lefkowitz &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A>&gt;wrote:

&gt;<i>
</I>&gt;<i> On Dec 3, 2009, at 1:29 AM, Kevin Horn wrote:
</I>&gt;<i>
</I>&gt;<i> On Wed, Dec 2, 2009 at 8:38 PM, &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at twistedmatrix.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> As far as the (I'm going to call it) roadmap goes, the thought that's
</I>&gt;&gt;<i> pushed its way to the fore for me is that I'd like to try this with
</I>&gt;&gt;<i> something smaller and simpler than Twisted first.  It would be nice if
</I>&gt;&gt;<i> the Divmod projects would qualify here, but they may not be active
</I>&gt;&gt;<i> enough for any real experience to accumulate.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I haven't run my lore2sphinx script against the Divmod stuff yet, but I
</I>&gt;<i> could certainly try it.  The intention is to convert the Divmod stuff as
</I>&gt;<i> well as the Twisted stuff eventually though.
</I>&gt;<i>
</I>&gt;<i> I've been concentrating on the Twisted docs, since they seemed the highest
</I>&gt;<i> priority, but I could detour a bit if you like.  Obviously that would slow
</I>&gt;<i> progress on the Twisted stuff a little.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> While converting pyOpenSSL's documentation would be a worthwhile goal in
</I>&gt;<i> itself, I don't actually like this idea.
</I>&gt;<i>
</I>&gt;<i> Mainly I disagree with the premise that accumulation of experience is
</I>&gt;<i> necessary for the conversion.  But this is not a strong disagreement, as I
</I>&gt;<i> don't understand the motivation for saying so in the first place :).
</I>&gt;<i>
</I>&gt;<i> The beauty of this plan, as far as I see it, is that the only person who
</I>&gt;<i> has to get any significant experience with Sphinx in order for the
</I>&gt;<i> conversion to happen is Kevin.   Mostly what the rest of us will do is read
</I>&gt;<i> the documentation and make sure it looks OK.  Obviously we all need to learn
</I>&gt;<i> ReST *after* that conversion to write documentation, but there is so much
</I>&gt;<i> documentation of ReST and sphinx available that I'm not really worried about
</I>&gt;<i> that part.
</I>&gt;<i>
</I>&gt;<i> More importantly, as JP already noted, the pyOpenSSL documentation is in a
</I>&gt;<i> different format and the conversion would use a different toolchain, so even
</I>&gt;<i> if we do have to get some practice, it's not a particularly helpful place to
</I>&gt;<i> start.  If we *do* need practice for some reason, I think Nevow would be the
</I>&gt;<i> best place to start, but then, I don't see why the activity level of the
</I>&gt;<i> project makes any difference.
</I>&gt;<i>
</I>&gt;<i> I have a few issues with the roadmap too, though:
</I>&gt;<i>
</I>&gt;<i> &quot;blah, blah&quot;: I'm not sure what that's supposed to mean.
</I>&gt;<i>
</I>
Doh!  Forgot to go back and change that...pretend it sayssomething like:
&quot;(list of branches here)&quot;

I'll fix it shortly.

&quot;branches containing lore docs changes should be separated into two
&gt;<i> groups...&quot; - no criteria are specified for deciding which go into which
</I>&gt;<i> group.  Ideally we could just get all of those changes merged; if you are
</I>&gt;<i> making progress on the conversion I'm sure we could organize a sprint to
</I>&gt;<i> evaluate those changes and either abandon them or get them into review.
</I>&gt;<i>
</I>
Well, I'm not entirely certain what criteria should be used until we at
least know what branches exist with lore docs in them.

If it's only say 2 or 3 branches that are relatively easy to do, we just do
all of them.  If it's a whole bunch, and some of them are those &quot;everlasting
branches&quot; which have been around for years with no sign of being merged any
time soon, well...that's group B. :)



Identifying tickets which propose lore functionality is pretty easy; just
&gt;<i> look at &lt;
</I>&gt;<i> <A HREF="http://twistedmatrix.com/trac/query?status=new&amp;status=assigned&amp;status=reopened&amp;component=lore&amp;order=priority">http://twistedmatrix.com/trac/query?status=new&amp;status=assigned&amp;status=reopened&amp;component=lore&amp;order=priority</A>&gt;.
</I>&gt;<i>  Any tickets which have not been classified properly and therefore don't
</I>&gt;<i> show up in that list can be closed later, as we discover them.  I strongly
</I>&gt;<i> feel that we do *not* need to conduct an exhaustive review of the entire
</I>&gt;<i> ticket tracker and get everything perfectly in order in order to do this
</I>&gt;<i> conversion, as long as it's clear to everyone what is supposed to happen to
</I>&gt;<i> lore-related tickets in the future.
</I>&gt;<i>
</I>
Yeah, I don't expect this to be too difficult.  Basically thought I'd run a
couple of searches (including the very one you mentioned above) and go from
there.  I'd like to get most of them though.  One of the problems I think
Twisted has is that there are just too dogone many open tickets.  It gets
tricky to figure out what really needs to be done unless you've been doing
it for years (as the core devs have) because of all the stuff getting in the
way.  Which is why I've been trying to find outstanding tickets that are
almost finished and &quot;shepherd&quot; them to completion.  But that's a discussion
for another day/thread.


&gt;<i> I see the biggest risk at the &quot;docs freeze&quot; step, that the doc conversion
</I>&gt;<i> guy (or team, as the case may be by that point) will start work, then get
</I>&gt;<i> distracted and walk away for 6 months, leaving a long period of time where
</I>&gt;<i> nobody is supposed to write or edit documentation.
</I>&gt;<i>
</I>&gt;<i> The whole point of our branch-based review process is to avoid this sort of
</I>&gt;<i> situation.  We can't always avoid it (for example, the immense outstanding
</I>&gt;<i> Conch branches that made everyone afraid to edit those warning-filled tests
</I>&gt;<i> for years) but I think it's best to follow the same plan as for any branch,
</I>&gt;<i> and have no formal &quot;freeze&quot; duration, just a point where the conversion
</I>&gt;<i> branch gets merged to trunk.  It's OK if a few stale doc branches get left
</I>&gt;<i> out in the cold during the conversion; if they're still stale once the
</I>&gt;<i> conversion is ready, they must not be terribly actively worked on anyway.
</I>&gt;<i>
</I>&gt;<i>
</I>To be honest, I'm not even sure such a freeze would be necessary.  I just
thought I would throw it out there since the actual changeover would involve
a rather large &quot;structural&quot; change to that part of the Twisted source tree.
And I didn't expect it to last more than a few days.  Maybe even hours.
Perhaps I'm just used to having this kind of step.  If the consensus is that
it doesn't need to happen, I'm fine with that.

(FYI, I'm currently working in an environment where version control is
ACTIVELY DISCOURAGED, so it makes me a little paranoid that some kind of
disaster could happen.)


&gt;<i> Even in the worst case, where a branch is left stale well after the docs
</I>&gt;<i> have been deleted from trunk, presumably the author of the change could run
</I>&gt;<i> lore2sphinx against the conversion, copy the sphinxified doc to their trunk
</I>&gt;<i> working copy, and make a new branch.  Assuming that the output of the
</I>&gt;<i> conversion tool is deterministic, the diff should be small and readable.
</I>&gt;<i>
</I>
Hmmm.   This kind of procedure could sort of work.  Pondering....

The only potential problem I see with this idea is that I think we'll need
to do some manual cleanups on the converted docs.  But I guess the author
could do as you suggested, then do their own (presumably small) manual
cleanup of their working copy after the conversion of their modified
branch.  Should be workable, if not _quite_ as simple as you've laid it out
(though almost as simple).


&gt;<i> I'm not saying that we shouldn't identify those changes... It would be good
</I>&gt;<i> to identify the branches with outstanding doc changes so that we would at
</I>&gt;<i> least *know* how many changes will be broken, and perhaps motivate their
</I>&gt;<i> authors to fix them ahead of time.
</I>&gt;<i>
</I>
I think we're on the same page here.


&gt;<i> I'm mainly interested in the &quot;phase 0&quot; outlined in the roadmap; I think
</I>&gt;<i> that the stuff for phase 1 and 2 sounds good, but I don't think we need any
</I>&gt;<i> special planning for it, since it fits into our normal development workflow
</I>&gt;<i> pretty neatly.  People will be filing bugs for documentation typos pretty
</I>&gt;<i> much forever ;-).  I'd like it if you could break down the &quot;phase 0&quot; a bit
</I>&gt;<i> more clearly with regard to what happens when, since the review *before* the
</I>&gt;<i> Big Switch gets thrown to put these changes in trunk is the most important
</I>&gt;<i> part to get timely feedback from the community.
</I>&gt;<i>
</I>
Looking at this after having been away from it for a day or so, I can see
that it's a bit chaotic :)  I guess I had been looking at it too long.

I'll try to update this soonish.  Anything specific that is unclear?

Kevin Horn
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20091203/26bf7e90/attachment.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20091203/26bf7e90/attachment.htm</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021098.html">[Twisted-Python] Lore to Sphinx Conversion Progress Report
</A></li>
	<LI>Next message: <A HREF="021089.html">[Twisted-Python] ANN: Twisted 9.0.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21097">[ date ]</a>
              <a href="thread.html#21097">[ thread ]</a>
              <a href="subject.html#21097">[ subject ]</a>
              <a href="author.html#21097">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
