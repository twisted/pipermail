<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Coding standard question: flowing long imports	with parens
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Coding%20standard%20question%3A%20flowing%20long%20imports%0A%09with%20parens&In-Reply-To=%3Chgob5f%24m7m%241%40ger.gmane.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="053734.html">
   <LINK REL="Next"  HREF="053737.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Coding standard question: flowing long imports	with parens</H1>
    <B>Robert Kern</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Coding%20standard%20question%3A%20flowing%20long%20imports%0A%09with%20parens&In-Reply-To=%3Chgob5f%24m7m%241%40ger.gmane.org%3E"
       TITLE="[Twisted-Python] Coding standard question: flowing long imports	with parens">robert.kern at gmail.com
       </A><BR>
    <I>Mon Dec 21 10:27:08 MST 2009</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="053734.html">[Twisted-Python] Coding standard question: flowing long imports	with parens
</A></li>
        <LI>Next message (by thread): <A HREF="053737.html">[Twisted-Python] Coding standard question: flowing long imports	with parens
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53735">[ date ]</a>
              <a href="thread.html#53735">[ thread ]</a>
              <a href="subject.html#53735">[ subject ]</a>
              <a href="author.html#53735">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 2009-12-21 10:10 AM, Glyph Lefkowitz wrote:
&gt;<i>
</I>&gt;<i> On Dec 21, 2009, at 10:20 AM, James Y Knight wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> On Dec 21, 2009, at 12:03 AM, Jonathan Lange wrote:
</I>&gt;&gt;&gt;<i> Now that we no longer support Python 2.3, may we also allow imports in
</I>&gt;&gt;&gt;<i> the following style?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> from very.long.package import (
</I>&gt;&gt;&gt;<i>    bar,
</I>&gt;&gt;&gt;<i>    foo,
</I>&gt;&gt;&gt;<i>    )
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Separating &quot;from X import&quot; and &quot;Y&quot; over a newline totally breaks
</I>&gt;&gt;<i> grepping for imported modules. I'd not use it myself, purely because
</I>&gt;&gt;<i> of that, except perhaps when the &quot;Y&quot;s are functions in a module,
</I>&gt;&gt;<i> rather than modules.
</I>&gt;<i>
</I>&gt;<i> I'm a fan of this style, because it's easier to read and it involves a lot less duplication... at the same time, I can see the 'grep' case.  Anybody want to write a tool which uses the AST to look for name imports?  This would generally be handy anyway :).
</I>
Done.

   <A HREF="http://pypi.python.org/pypi/grin">http://pypi.python.org/pypi/grin</A>
   <A HREF="https://svn.enthought.com/svn/sandbox/grin/trunk/examples/grinimports.py">https://svn.enthought.com/svn/sandbox/grin/trunk/examples/grinimports.py</A>

grin is a mostly general purpose grepping tool that I wrote, slightly 
specialized for grepping code in VCS checkouts. grinimports.py is an example of 
using it as a library. It uses the AST to normalize import statements. E.g.

   from very.long.package import bar, foo
   import os, sys

turns into

   from very.long.package import bar
   from very.long.package import foo
   import os
   import sys

The grep pattern then runs over the normalized text.

I find this much more robust than grepping the plain text. With all of the 
variations in the import syntax, it's difficult to find a grep pattern that gets 
all of the desired imports and rejects enough of the non-import statements. A 
side effect is that it's easy to get a nice list of all of the import statements 
in your codebase.

   $ grinimports.py --no-color ''

-- 
Robert Kern

&quot;I have come to believe that the whole world is an enigma, a harmless enigma
  that is made terrible by our own mad attempt to interpret it as though it had
  an underlying truth.&quot;
   -- Umberto Eco



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="053734.html">[Twisted-Python] Coding standard question: flowing long imports	with parens
</A></li>
	<LI>Next message (by thread): <A HREF="053737.html">[Twisted-Python] Coding standard question: flowing long imports	with parens
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53735">[ date ]</a>
              <a href="thread.html#53735">[ thread ]</a>
              <a href="subject.html#53735">[ subject ]</a>
              <a href="author.html#53735">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
