<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Sending domish.Element results to Unpersistable
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Sending%20domish.Element%20results%20to%20Unpersistable&In-Reply-To=%3C1261990495.18020.107.camel%40dwaal%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="053751.html">
   <LINK REL="Next"  HREF="053754.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Sending domish.Element results to Unpersistable</H1>
    <B>Ralph Meijer</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Sending%20domish.Element%20results%20to%20Unpersistable&In-Reply-To=%3C1261990495.18020.107.camel%40dwaal%3E"
       TITLE="[Twisted-Python] Sending domish.Element results to Unpersistable">twisted at ralphm.ik.nu
       </A><BR>
    <I>Mon Dec 28 01:54:55 MST 2009</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="053751.html">[Twisted-Python] Sending domish.Element results to Unpersistable
</A></li>
        <LI>Next message (by thread): <A HREF="053754.html">[Twisted-Python] Sending domish.Element results to	Unpersistable
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53753">[ date ]</a>
              <a href="thread.html#53753">[ thread ]</a>
              <a href="subject.html#53753">[ subject ]</a>
              <a href="author.html#53753">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 2009-12-28 at 10:14 +0800, Enrique Samson Jr. wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> I'm using PB to to send copies of domish.Element instances to another
</I>&gt;<i> application. I just don't want to parse XML again and thought it would
</I>&gt;<i> be better to send Element copies and save parsing on the other end. But
</I>&gt;<i> receiving application just gets an Unpersistable.
</I>
I am not familiar enough with PB, but I assume that PB cannot serialize
objects of unknown classes without any help. In general, serialization
of XML is way more expensive than parsing, but I'd be very curious about
when this would actually become a problem.

&gt;<i> I'm considering reducing the Element instances to dicts but I may leave
</I>&gt;<i> out details I may need in the future.
</I>
Except for parent, the instance variables mentioned in the docstring of
Element is all you need to remember. Note that this also requires
walking the DOM tree for the element you want to send over, and then
build up the tree on the other side. It might be just as expensive as
using an XML stream.

I've been thinking about building a (streaming) parser that would mostly
lex the incoming XML stream and only extract as much as needed for
routing, leaving the XML Stanza's payload as an unparsed string that can
be sent along further.

ralphm



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="053751.html">[Twisted-Python] Sending domish.Element results to Unpersistable
</A></li>
	<LI>Next message (by thread): <A HREF="053754.html">[Twisted-Python] Sending domish.Element results to	Unpersistable
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53753">[ date ]</a>
              <a href="thread.html#53753">[ thread ]</a>
              <a href="subject.html#53753">[ subject ]</a>
              <a href="author.html#53753">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
