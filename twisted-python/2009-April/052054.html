<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Catching exception on a Serial Connection
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Catching%20exception%20on%20a%20Serial%20Connection&In-Reply-To=%3C20090430121414.24697.1232702604.divmod.quotient.13987%40henry.divmod.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="052053.html">
   <LINK REL="Next"  HREF="052055.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Catching exception on a Serial Connection</H1>
    <B>Jean-Paul Calderone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Catching%20exception%20on%20a%20Serial%20Connection&In-Reply-To=%3C20090430121414.24697.1232702604.divmod.quotient.13987%40henry.divmod.com%3E"
       TITLE="[Twisted-Python] Catching exception on a Serial Connection">exarkun at divmod.com
       </A><BR>
    <I>Thu Apr 30 06:14:14 MDT 2009</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="052053.html">[Twisted-Python] Catching exception on a Serial Connection
</A></li>
        <LI>Next message (by thread): <A HREF="052055.html">[Twisted-Python] handling CTRL-C
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52054">[ date ]</a>
              <a href="thread.html#52054">[ thread ]</a>
              <a href="subject.html#52054">[ subject ]</a>
              <a href="author.html#52054">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 29 Apr 2009 18:09:08 -0500, &quot;Nestor A. Diaz&quot; &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">nestor at tiendalinux.com</A>&gt; wrote:
&gt;<i>Hello, i am newbie to twisted, i am trying to find a way to catch
</I>&gt;<i>exceptions raised from a protocol over a serial line, like the
</I>&gt;<i>twisted.protocol.gps.zodiac, i see the demo script, on the twisted
</I>&gt;<i>website:
</I>&gt;<i><A HREF="http://twistedmatrix.com/projects/core/documentation/examples/gpsfix.py">http://twistedmatrix.com/projects/core/documentation/examples/gpsfix.py</A>
</I>&gt;<i>but i don't figure yet how to handle exceptions coming from the protocol
</I>&gt;<i>since i didn't figure how to register a callback for an error, cause i
</I>&gt;<i>haven't found a way to create a deferred object for a serial connection.
</I>
Protocol's aren't supposed to raise exceptions from their dataReceived
method.  If they do, then they're basically giving up control - both of
what happens to the exception and what happens to the connection (usually
it will be closed for them shortly afterwards).

If you'd like to handle these exceptions, you should handle them /before/
they escape from dataReceived.  For example:

    class Foo(Protocol):
        def dataReceived(self, bytes):
            try:
                print 'Received', int(bytes)
            except ValueError:
                print 'Received non-int', repr(bytes)

Jean-Paul


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="052053.html">[Twisted-Python] Catching exception on a Serial Connection
</A></li>
	<LI>Next message (by thread): <A HREF="052055.html">[Twisted-Python] handling CTRL-C
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52054">[ date ]</a>
              <a href="thread.html#52054">[ thread ]</a>
              <a href="subject.html#52054">[ subject ]</a>
              <a href="author.html#52054">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
