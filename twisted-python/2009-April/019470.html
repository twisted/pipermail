<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Fork/Spawn children to accept connections on	the same port. 
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Fork/Spawn%20children%20to%20accept%20connections%20on%0A%09the%20same%20port.%20&In-Reply-To=64BF3FFB-954C-4D6D-AB50-86B8F37CBF5E%40apple.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019450.html">
   <LINK REL="Next"  HREF="019453.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Fork/Spawn children to accept connections on	the same port. </H1>
    <B>Jean-Paul Calderone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Fork/Spawn%20children%20to%20accept%20connections%20on%0A%09the%20same%20port.%20&In-Reply-To=64BF3FFB-954C-4D6D-AB50-86B8F37CBF5E%40apple.com"
       TITLE="[Twisted-Python] Fork/Spawn children to accept connections on	the same port. ">exarkun at divmod.com
       </A><BR>
    <I>Fri Apr 10 11:57:19 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="019450.html">[Twisted-Python] Fork/Spawn children to accept connections on the	same port. 
</A></li>
        <LI>Next message: <A HREF="019453.html">[Twisted-Python] trac server error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19470">[ date ]</a>
              <a href="thread.html#19470">[ thread ]</a>
              <a href="subject.html#19470">[ subject ]</a>
              <a href="author.html#19470">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 6 Apr 2009 15:25:39 -0700, Eric York &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">eyork at apple.com</A>&gt; wrote:
&gt;<i>I am trying to get the highest level of performance using all of the 
</I>&gt;<i>processors cores on a server.
</I>&gt;<i>
</I>&gt;<i>In the past, a unix app would bind/listen to a socket and then fork or 
</I>&gt;<i>spawn children to accept connections on that socket. I can&#8217;t see how  to do 
</I>&gt;<i>that in Twisted. Can someone point me in the right direction?
</I>&gt;<i>
</I>&gt;<i>The solution of using a single process to accept connections and then  farm 
</I>&gt;<i>out work to child processes, while a workable solution, isn&#8217;t at  the same 
</I>&gt;<i>level of performance as children processes that are doing  their own 
</I>&gt;<i>accepts.
</I>
There are many ways to do this.  The common idea is to just run multiple
processes, not by allocating resources and then forking to share them, but
just by running multiple processes.  You can make this transparent to the
outside in various ways - have a load balancing port forwarded in front of
all the processes, for example.  On Linux, you can even use iptables to do
this.  It's also possible to bind a port in one process and then send it
over a UNIX socket to another process; this comes closer to the bind/fork
approach, but accomplishes the resource sharing explicitly via fd passing
rather than through fork.

Jean-Paul


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019450.html">[Twisted-Python] Fork/Spawn children to accept connections on the	same port. 
</A></li>
	<LI>Next message: <A HREF="019453.html">[Twisted-Python] trac server error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19470">[ date ]</a>
              <a href="thread.html#19470">[ thread ]</a>
              <a href="subject.html#19470">[ subject ]</a>
              <a href="author.html#19470">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
