<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] adapt from more than one interface
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20adapt%20from%20more%20than%20one%20interface&In-Reply-To=%3C200904121711.12546.esteve%40sindominio.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="052008.html">
   <LINK REL="Next"  HREF="052010.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] adapt from more than one interface</H1>
    <B>Esteve Fernandez</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20adapt%20from%20more%20than%20one%20interface&In-Reply-To=%3C200904121711.12546.esteve%40sindominio.net%3E"
       TITLE="[Twisted-Python] adapt from more than one interface">esteve at sindominio.net
       </A><BR>
    <I>Sun Apr 12 09:11:12 MDT 2009</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="052008.html">[Twisted-Python] adapt from more than one interface
</A></li>
        <LI>Next message (by thread): <A HREF="052010.html">[Twisted-Python] adapt from more than one interface
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52009">[ date ]</a>
              <a href="thread.html#52009">[ thread ]</a>
              <a href="subject.html#52009">[ subject ]</a>
              <a href="author.html#52009">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sunday 12 April 2009 15:16:04 <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at divmod.com</A> wrote:
&gt;<i> Sorry for that; it certainly wasn't my intention.  I meant just what I
</I>&gt;<i> said: I find it difficult to communicate about.  Perhaps I should have
</I>&gt;<i> said, &quot;trust me, my experience suggests that it is&quot;.
</I>
I'm too thin-skinned sometimes, so just forget what I said :-)

&gt;<i> And this is why the explanation of its wrong-ness is difficult.  I know
</I>&gt;<i> that you could get the same effect by doing (IFoo, IUsernamePassword) -&gt;
</I>&gt;<i> IBar and (IFoo, IHostnamePath).
</I>
Actually I just discovered some of those flaws in Zope's adapter registry, so 
you're right that multi-adapters are not that easy to implement.

&gt;<i> Would the specifics of your application allow you to introduce an
</I>&gt;<i> intermediary IProtocolFactoryConfigurer interface, with .config* methods
</I>&gt;<i> that would return the actual ProtocolFactory, as with my IBarFactory
</I>&gt;<i> above?  &quot;IBar&quot; here would be IProtocolFactory; sorry for the confusion
</I>&gt;<i> with the word &quot;factory&quot;.
</I>
I guess that would be sufficient, an &quot;adapter factory&quot; in some sense. In fact, 
I already came up with something similar, but found it too cumbersome 
(attached). Maybe, instead of supporting multi-adapters, a recipe like yours 
could be added to the documentation.

&gt;<i> So ConfigurationObject is purely for the IFooFactory implementation?
</I>
Yep. In our case, AMQP protocol instances require some arguments to be passed 
(e.g. username and password for connecting to the broker). BTW, I just 
realized that we should use usage.Options instead of our own config object.

&gt;<i> Thanks for that link, by the way, that's a great introduction to
</I>&gt;<i> zope.component.  Not one I'd seen before.
</I>
It covers pretty much everything about adapters and interfaces, I found it 
very detailed and useful.

&gt;<i> I'm still not a big fan of multi-adapters, but the code's so short, and
</I>&gt;<i> so non-invasive (in particular I don't believe it'll affect the
</I>&gt;<i> performance of &quot;normal&quot;, single adaptation), that I probably wouldn't
</I>&gt;<i> argue too hard against it.  Feel free to file that ticket, although I
</I>&gt;<i> won't promise that somebody *else* won't come along and object.  In any
</I>&gt;<i> case, you can start using it right away if it suits you :).
</I>
It's very simple and elegant, I like it :-) I think it's a good idea to 
include it, or maybe add an entry to the FAQ.

Thanks!
-------------- next part --------------
A non-text attachment was scrubbed...
Name: multi.py
Type: application/x-python
Size: 1668 bytes
Desc: not available
URL: &lt;/pipermail/twisted-python/attachments/20090412/fb95139d/attachment-0002.bin&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="052008.html">[Twisted-Python] adapt from more than one interface
</A></li>
	<LI>Next message (by thread): <A HREF="052010.html">[Twisted-Python] adapt from more than one interface
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52009">[ date ]</a>
              <a href="thread.html#52009">[ thread ]</a>
              <a href="subject.html#52009">[ subject ]</a>
              <a href="author.html#52009">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
