<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Broken Javascript on https://twistedmatrix.com ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Broken%20Javascript%20on%20https%3A//twistedmatrix.com%0A%20%3F&In-Reply-To=%3CCAG%3DrPVfP4kELVhbHh2uWA39DKJpGm1Tce_TwXq%3DumzwocTfRoQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="065236.html">
   <LINK REL="Next"  HREF="065238.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Broken Javascript on https://twistedmatrix.com ?</H1>
    <B>Craig Rodrigues</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Broken%20Javascript%20on%20https%3A//twistedmatrix.com%0A%20%3F&In-Reply-To=%3CCAG%3DrPVfP4kELVhbHh2uWA39DKJpGm1Tce_TwXq%3DumzwocTfRoQ%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Broken Javascript on https://twistedmatrix.com ?">rodrigc at crodrigues.org
       </A><BR>
    <I>Thu Sep 17 13:47:25 MDT 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="065236.html">[Twisted-Python] Broken Javascript on https://twistedmatrix.com ?
</A></li>
        <LI>Next message (by thread): <A HREF="065238.html">[Twisted-Python] Broken Javascript on https://twistedmatrix.com ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65237">[ date ]</a>
              <a href="thread.html#65237">[ thread ]</a>
              <a href="subject.html#65237">[ subject ]</a>
              <a href="author.html#65237">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Doing a force refresh in my browser fixed it.  I can now click on
*Publish/Subscribe* and switch the tab.

I'm still seeing these errors which is causing the Paypal and Flattr gif's
not to load:

Access to image at '<A HREF="https://www.paypalobjects.com/en_US/i/scr/pixel.gif">https://www.paypalobjects.com/en_US/i/scr/pixel.gif</A>'
from origin '<A HREF="https://twistedmatrix.com">https://twistedmatrix.com</A>' has been blocked by CORS policy: No
'Access-Control-Allow-Origin' header is present on the requested resource.
(Access to image at '<A HREF="https://button.flattr.com/flattr-badge-large.png">https://button.flattr.com/flattr-badge-large.png</A>' from
origin '<A HREF="https://twistedmatrix.com">https://twistedmatrix.com</A>' has been blocked by CORS policy: No
'Access-Control-Allow-Origin' header is present on the requested resource.

I'm not familiar with CORS, so don't know what the proper fix for this is.

Thanks for fixing this.
--
Craig




On Thu, Sep 17, 2020 at 11:55 AM Glyph &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A>&gt; wrote:

&gt;<i> This is the JS that I specifically changed, which is no longer being
</I>&gt;<i> served by twistedmatrix.com, so just likeâ€¦ reload harder, or something.
</I>&gt;<i> Clear your cookies, zap your caches, restart your browser, repent of your
</I>&gt;<i> sins, etc.  Maybe repent before clearing the caches so you don't have any
</I>&gt;<i> cached sins either.
</I>&gt;<i>
</I>&gt;<i> If you want to work on this yourself, we do have *something* of a local
</I>&gt;<i> staging infrastructure set up with... vagrant, I think?, but I haven't
</I>&gt;<i> tried it.  If you want to test your changes in developmestuction, check out
</I>&gt;<i> braid, edit the HTML and JS in t-web, push to master, and then `fab
</I>&gt;<i> config.production t-web.update`.
</I>&gt;<i>
</I>&gt;<i> Good luck,
</I>&gt;<i>
</I>&gt;<i> -g
</I>&gt;<i>
</I>&gt;<i> P.S.: braid still requires python2, so anybody enthusiastic about python3
</I>&gt;<i> porting is encouraged to take a look at it :-).
</I>&gt;<i>
</I>&gt;<i> On Sep 17, 2020, at 8:37 AM, Craig Rodrigues &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">rodrigc at crodrigues.org</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i>
</I>&gt;<i> Thanks for looking into this.  Now I am seeing this error on the
</I>&gt;<i> <A HREF="https://twistedmatrix.com">https://twistedmatrix.com</A> :
</I>&gt;<i>
</I>&gt;<i> jsapi?key=ABQIAAAAJE-f7vmwI1-jxkmwRe4lUxTAs18ELyhzmLGaHoc1qJwmpJy3zhR3LMRRdwqg5PSY4tnVO684msUklQ:136
</I>&gt;<i> Uncaught Error: Must call google.charts.load before
</I>&gt;<i> google.charts.setOnLoadCallback
</I>&gt;<i>     at Object.J.R [as setOnLoadCallback]
</I>&gt;<i> (jsapi?key=ABQIAAAAJE-f7vmwI1-jxkmwRe4lUxTAs18ELyhzmLGaHoc1qJwmpJy3zhR3LMRRdwqg5PSY4tnVO684msUklQ:136)
</I>&gt;<i>     at twisted.js:92
</I>&gt;<i> jsapi?key=ABQIAAAAJE-f7vmwI1-jxkmwRe4lUxTAs18ELyhzmLGaHoc1qJwmpJy3zhR3LMRRdwqg5PSY4tnVO684msUklQ:141
</I>&gt;<i> Uncaught Error: Module &quot;feeds&quot; is not supported.
</I>&gt;<i>     at
</I>&gt;<i> jsapi?key=ABQIAAAAJE-f7vmwI1-jxkmwRe4lUxTAs18ELyhzmLGaHoc1qJwmpJy3zhR3LMRRdwqg5PSY4tnVO684msUklQ:141
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Where is that coming from?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Craig
</I>&gt;<i>
</I>&gt;<i> On Wed, Sep 16, 2020 at 11:28 PM Glyph &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> We were depending on some Google APIs that were disabled a really long
</I>&gt;&gt;<i> time ago, so I pushed &amp; deployed this commit &lt;
</I>&gt;&gt;<i> <A HREF="https://github.com/twisted-infra/braid/commit/1df63c5d8b44e079487be2f0bf099108a77872e5">https://github.com/twisted-infra/braid/commit/1df63c5d8b44e079487be2f0bf099108a77872e5</A>&gt;
</I>&gt;&gt;<i> to get the front page back to working.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -g
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Sep 16, 2020, at 2:53 PM, L. Daniel Burr &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">ldanielburr at me.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hi Craig,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> No error is being emitted to the console when you click on a tab.  There
</I>&gt;&gt;<i> are some cross-origin script failures being logged, and Firefox blocked
</I>&gt;&gt;<i> google urchin, which causes some more error messages.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> As far as I can tell, the JS code that is supposed to hook up the
</I>&gt;&gt;<i> clicking of the tab (an anchor tag with a relative href) is not being
</I>&gt;&gt;<i> executed, either because it is being blocked by the browser, or as a
</I>&gt;&gt;<i> side-effect of other things being blocked.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hope this helps,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Daniel
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> L. Daniel Burr
</I>&gt;&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">ldanielburr at me.com</A>
</I>&gt;&gt;<i> (312) 656-8387
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Sep 16, 2020, at 4:36 PM, Craig Rodrigues &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">rodrigc at crodrigues.org</A>&gt;
</I>&gt;&gt;<i> wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If I go to <A HREF="https://twistedmatrix.com">https://twistedmatrix.com</A> and click on
</I>&gt;&gt;<i> one of the tabs in the *Code Examples* section,
</I>&gt;&gt;<i> such as *Publish/Subscribe*, the tab does not switch.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This looks like a Javascript problem.  Does anyone with knowledge
</I>&gt;&gt;<i> of Javascript have an idea what the problem is?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> Craig
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Twisted-Python mailing list
</I>&gt;&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Twisted-Python mailing list
</I>&gt;&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Twisted-Python mailing list
</I>&gt;&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20200917/805a537a/attachment-0001.htm&gt;
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="065236.html">[Twisted-Python] Broken Javascript on https://twistedmatrix.com ?
</A></li>
	<LI>Next message (by thread): <A HREF="065238.html">[Twisted-Python] Broken Javascript on https://twistedmatrix.com ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65237">[ date ]</a>
              <a href="thread.html#65237">[ thread ]</a>
              <a href="subject.html#65237">[ subject ]</a>
              <a href="author.html#65237">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
