<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Request for new Twisted release?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Request%20for%20new%20Twisted%20release%3F&In-Reply-To=%3CCAFycZ9fEFJed-7%3DyouyMfO2jQZmrtHLmKuK%3DxUq3XrtKNdCAmg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="065250.html">
   <LINK REL="Next"  HREF="065260.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Request for new Twisted release?</H1>
    <B>Adi Roiban</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Request%20for%20new%20Twisted%20release%3F&In-Reply-To=%3CCAFycZ9fEFJed-7%3DyouyMfO2jQZmrtHLmKuK%3DxUq3XrtKNdCAmg%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Request for new Twisted release?">adi at roiban.ro
       </A><BR>
    <I>Thu Sep 24 17:31:05 MDT 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="065250.html">[Twisted-Python] Request for new Twisted release?
</A></li>
        <LI>Next message (by thread): <A HREF="065260.html">[Twisted-Python] Request for new Twisted release?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65253">[ date ]</a>
              <a href="thread.html#65253">[ thread ]</a>
              <a href="subject.html#65253">[ subject ]</a>
              <a href="author.html#65253">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 23 Sep 2020 at 18:11, Glyph &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A>&gt; wrote:

&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Sep 22, 2020, at 3:42 PM, Craig Rodrigues &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">rodrigc at crodrigues.org</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i>
</I>&gt;<i> Amber,
</I>&gt;<i>
</I>&gt;<i> Can we have a new Twisted release within the next two months, say in
</I>&gt;<i> Nov./Dec. timeframe, or
</I>&gt;<i> sooner if you'd like?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Given that Amber hasn't been super responsive lately, and that I firmly
</I>&gt;<i> believe it should be possible to take breaks from open source (particularly
</I>&gt;<i> amidst the, you know, global collapse of civilization and stuff), I will
</I>&gt;<i> take the opportunity point out yet again that
</I>&gt;<i> <A HREF="http://twisted.readthedocs.org/en/latest/core/development/policy/release-process.html">http://twisted.readthedocs.org/en/latest/core/development/policy/release-process.html</A> documents
</I>&gt;<i> the release process and any sufficiently-motivated volunteer (with at least
</I>&gt;<i> a *bit* of history &amp; trust within the community) can step forward and
</I>&gt;<i> receive all the permissions necessary to do all of these steps.
</I>&gt;<i>
</I>&gt;<i> I will personally volunteer to fill in the permissions gaps for any
</I>&gt;<i> interested parties, although I don't have much bandwidth for the release
</I>&gt;<i> itself.
</I>&gt;<i>
</I>&gt;<i> Amber, if you want to do it, go ahead and get started, I'm just saying we
</I>&gt;<i> don't need to put this on your shoulders :).
</I>&gt;<i>
</I>&gt;<i>
</I>Hi,

To me, the current release process seems complicated and requires manual
work and I think that the release document needs some update.

The release documentation starts with &quot;Tarballs for Twisted as a whole, and
for each of its sub-projects&quot;.
Is that still the case?

Maybe the release can be simplified and automated:

* Build the source and binary wheel in GitHub actions as this can be done
for Linux (Ubuntu), Windows and macOS.
* Host the download source and wheel files only on PyPi and publish them
automatically from GitHub action on a new tag is created.
* Host the documentation only on the Read The Docs.
* Hos the API documentation on Read The Docs - might need some hacking, but
at release we can create an API docs package as an artifact which is then
pulled when Read The Docs documentation is created and copied as extra HTML
files.
* Move Twisted blog to GitHub pages... or even read the docs with a
separate theme like Crate [1] ... if the blog is still required.

------

With the above implemented the release should look like:

* Each time the tests for a PR are executed, pydoctor will run and
automatically create the API files as an artifact available for download.
* *Manually* create a new branch in which the version is updated and the
changelog/news/release note is created and all the news fragment files are
removed/ . Have the branch reviewed and approved with all the tests passed.
When the pydoctor tests are executed, the API docs are created.
* The release branches can have a naming convention line 'release-20.0.0`.
At first the release branch can have a release candidate version and a
GitHub can automatically push the release to PyPi.
* *Manually* send an email to Twisted mailing list to announce the
pre-release.
* Once the branch is merged, *manually* push a new tag
* The new tag should trigger the GitHub action for publishing the release
on PyPi
* The new merge in master should trigger the Read The Docs build... which
now will also include the static API docs pages.
* Once the release is done, *manually* send a new email to the mailing list.

There are still many manual steps, but the only permissions required is
commit to the repo.
This will no longer use any of the Twisted own infrastructure.

[1] <A HREF="https://sphinx-themes.org/html/crate-docs-theme/crate/basic.html">https://sphinx-themes.org/html/crate-docs-theme/crate/basic.html</A>

-- 
Adi Roiban
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20200925/80719734/attachment-0001.htm&gt;
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="065250.html">[Twisted-Python] Request for new Twisted release?
</A></li>
	<LI>Next message (by thread): <A HREF="065260.html">[Twisted-Python] Request for new Twisted release?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65253">[ date ]</a>
              <a href="thread.html#65253">[ thread ]</a>
              <a href="subject.html#65253">[ subject ]</a>
              <a href="author.html#65253">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
