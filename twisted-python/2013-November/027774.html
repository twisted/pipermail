<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] IMAP4 Proxy to add headers and modify body of an	incoming message
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20IMAP4%20Proxy%20to%20add%20headers%20and%20modify%20body%20of%20an%0A%09incoming%20message&In-Reply-To=%3C1385407662.75252.YahooMailNeo%40web181604.mail.ne1.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="060248.html">
   <LINK REL="Next"  HREF="060249.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] IMAP4 Proxy to add headers and modify body of an	incoming message</H1>
    <B>Krzysztof Oblucki</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20IMAP4%20Proxy%20to%20add%20headers%20and%20modify%20body%20of%20an%0A%09incoming%20message&In-Reply-To=%3C1385407662.75252.YahooMailNeo%40web181604.mail.ne1.yahoo.com%3E"
       TITLE="[Twisted-Python] IMAP4 Proxy to add headers and modify body of an	incoming message">koblucki at yahoo.com
       </A><BR>
    <I>Mon Nov 25 12:27:42 MST 2013</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="060248.html">[Twisted-Python] EDNS(0) and DNSSEC support in Twisted Names
</A></li>
        <LI>Next message (by thread): <A HREF="060249.html">[Twisted-Python] IMAP4 Proxy to add headers and modify body of	an incoming message
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27774">[ date ]</a>
              <a href="thread.html#27774">[ thread ]</a>
              <a href="subject.html#27774">[ subject ]</a>
              <a href="author.html#27774">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,
I am trying to write an IMAP proxy to modify headers and the body of an incoming message using twisted. &#160;I am new to python and twisted so maybe this is why I either picked the wrong route or don't have the skills to get through some issues and I'm hoping that some you fine list members can point me in the right direction.

I started by using the IMAP4Client and IMAP4Server to do the proxying. &#160;However, I realized that in certain cases, the IMAP4Server requires synchronous results but since I need to do an async call using the client the handling is not working properly. &#160;I ran into this when implementing getFlags() in the IMessage and I am not sure how I can get out of this short of changing the IMAP4Server code to handle Deferreds.

Am I on the right track? &#160;Is imap4 lib the right tool for this job? &#160;If so, is modifying IMAP4Server to handle Deferreds the right thing to do? &#160;If not, what would you recommend?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20131125/39575a82/attachment.html">http://twistedmatrix.com/pipermail/twisted-python/attachments/20131125/39575a82/attachment.html</A>&gt;
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="060248.html">[Twisted-Python] EDNS(0) and DNSSEC support in Twisted Names
</A></li>
	<LI>Next message (by thread): <A HREF="060249.html">[Twisted-Python] IMAP4 Proxy to add headers and modify body of	an incoming message
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27774">[ date ]</a>
              <a href="thread.html#27774">[ thread ]</a>
              <a href="subject.html#27774">[ subject ]</a>
              <a href="author.html#27774">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
