<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Some thoughts hacking with AMP (was: something	about multiplexing and accessing protocols)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Some%20thoughts%20hacking%20with%20AMP%20%28was%3A%20something%0A%09about%20multiplexing%20and%20accessing%20protocols%29&In-Reply-To=%3C439FA800-6EE8-41AE-9929-96D17984DA7B%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027746.html">
   <LINK REL="Next"  HREF="027755.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Some thoughts hacking with AMP (was: something	about multiplexing and accessing protocols)</H1>
    <B>Glyph</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Some%20thoughts%20hacking%20with%20AMP%20%28was%3A%20something%0A%09about%20multiplexing%20and%20accessing%20protocols%29&In-Reply-To=%3C439FA800-6EE8-41AE-9929-96D17984DA7B%40twistedmatrix.com%3E"
       TITLE="[Twisted-Python] Some thoughts hacking with AMP (was: something	about multiplexing and accessing protocols)">glyph at twistedmatrix.com
       </A><BR>
    <I>Fri Nov 22 12:00:41 MST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027746.html">[Twisted-Python] Some thoughts hacking with AMP (was: something about multiplexing and accessing protocols)
</A></li>
        <LI>Next message: <A HREF="027755.html">[Twisted-Python] Some thoughts hacking with AMP (was: something about multiplexing and accessing protocols)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27747">[ date ]</a>
              <a href="thread.html#27747">[ thread ]</a>
              <a href="subject.html#27747">[ subject ]</a>
              <a href="author.html#27747">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Nov 22, 2013, at 4:10 AM, Laurens Van Houtven &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">_ at lvh.io</A>&gt; wrote:

&gt;<i> Also, I do really really want the protocol and not the transport. This is because I want to pass a reference to the protocol around so that later I can call callRemote on it. That I can also get the transport is mostly just gravy so that I can return nice things for my fake transport's getHost/getPeer.
</I>
Except that maybe your protocol is just a BinaryBoxProtocol, and has no callRemote method.  Or maybe it's actually HTTP and feeding things to AMP after some deserialization pass, like via JSON (aren't you even doing this already in some other code?).  Is there even a &quot;protocol&quot; visible to this code in that case?

If your contract is that you accept an IProtocol, then what you can do is pretty much just call dataReceived and connectionLost ;-) unless you have some other reason to believe it provides some other interfaces.

&gt;<i> So, to reiterate:
</I>&gt;<i> 
</I>&gt;<i> - I think all the docstrings should reflect the real situation. I guess I need to file a ticket for that.
</I>
Well, that's definitely true.

&gt;<i> - Maybe there should be a new API that passes the proto (and actually means &quot;proto&quot; ;))
</I>
I still think that before providing this new mechanism we need *some* way of declaring that we expect more from &quot;the protocol&quot;.

&gt;<i> I think I have some code up (or will have some code up soon, depending on when you read this email) that does have sort-of working multiplexed transports:
</I>
Cool.

-glyph
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20131122/f69f8799/attachment.html">http://twistedmatrix.com/pipermail/twisted-python/attachments/20131122/f69f8799/attachment.html</A>&gt;
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027746.html">[Twisted-Python] Some thoughts hacking with AMP (was: something about multiplexing and accessing protocols)
</A></li>
	<LI>Next message: <A HREF="027755.html">[Twisted-Python] Some thoughts hacking with AMP (was: something about multiplexing and accessing protocols)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27747">[ date ]</a>
              <a href="thread.html#27747">[ thread ]</a>
              <a href="subject.html#27747">[ subject ]</a>
              <a href="author.html#27747">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
