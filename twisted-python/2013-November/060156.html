<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] twisted irc client + packet capturing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20twisted%20irc%20client%20%2B%20packet%20capturing&In-Reply-To=%3C527D18D5.90005%40imperial.ac.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="060154.html">
   <LINK REL="Next"  HREF="060166.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] twisted irc client + packet capturing</H1>
    <B>Phil Mayers</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20twisted%20irc%20client%20%2B%20packet%20capturing&In-Reply-To=%3C527D18D5.90005%40imperial.ac.uk%3E"
       TITLE="[Twisted-Python] twisted irc client + packet capturing">p.mayers at imperial.ac.uk
       </A><BR>
    <I>Fri Nov  8 10:01:09 MST 2013</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="060154.html">[Twisted-Python] twisted irc client + packet capturing
</A></li>
        <LI>Next message (by thread): <A HREF="060166.html">[Twisted-Python] twisted irc client + packet capturing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60156">[ date ]</a>
              <a href="thread.html#60156">[ thread ]</a>
              <a href="subject.html#60156">[ subject ]</a>
              <a href="author.html#60156">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Another option is to run tcpdump as a sub-process writing to stdout, and 
write a ProcessProtocol to parse the pcap stream. This is not terribly 
difficult, and can actually have some advantages - if your python 
process blocks for too long you can lose captured packets, but by 
letting tcpdump aggressively drive the reading of the socket, you can 
(ab)use the pipe() buffers to hold a small backlog.

[If you need even more aggressive buffering, replace tcpdump with gulp]

If you do this you should extract packet timestamps from the pcap 
stream, not the wall clock.

I have code to do this, if anyone can't figure it out themselves.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="060154.html">[Twisted-Python] twisted irc client + packet capturing
</A></li>
	<LI>Next message (by thread): <A HREF="060166.html">[Twisted-Python] twisted irc client + packet capturing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60156">[ date ]</a>
              <a href="thread.html#60156">[ thread ]</a>
              <a href="subject.html#60156">[ subject ]</a>
              <a href="author.html#60156">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
