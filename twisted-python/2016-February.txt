From adi at roiban.ro  Mon Feb  1 04:13:52 2016
From: adi at roiban.ro (Adi Roiban)
Date: Mon, 1 Feb 2016 11:13:52 +0000
Subject: [Twisted-Python] operations: baby steps. buildbot move?
In-Reply-To: <4DA01BF6-7F43-4DBF-99BD-B35C198D2DA0@atleastfornow.net>
References: <919D1FB1-CCC7-4041-ADDA-8BD99EEB33C9@twistedmatrix.com>
 <4DA01BF6-7F43-4DBF-99BD-B35C198D2DA0@atleastfornow.net>
Message-ID: <CAFycZ9cJ7ifnG-wrgCx53qDjsGM=D84v+_rDnUksuEEU4OAmbQ@mail.gmail.com>

>
>
> I think "config.production" is a bit of a eh name to have after, we should
> change it if we have more machines. Eg. config.prod-dornkirk, or whatever.
> Then we just need to write what goes where.
>

I have create a PR to look at the actual implementation and to make this
happen.

https://github.com/twisted-infra/braid/pull/183

Feel fee to push changes to that branch.

--------

On my installation with about 30 slaves the buildmaster process on py2.7 -
64bit uses 100MB for RES and 1.5G for VIRT CPU usage is very, very low.

Regards
-- 
Adi Roiban
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20160201/20682400/attachment.html>

From patryk at sciborek.com  Mon Feb  1 07:45:40 2016
From: patryk at sciborek.com (=?UTF-8?Q?Patryk_=C5=9Aciborek?=)
Date: Mon, 1 Feb 2016 15:45:40 +0100
Subject: [Twisted-Python] twisted.logger and log filtering in twistd plugin
Message-ID: <CAEHqL6drgTGYiGqtFNEwJVE1F7od7Q7LD8rLM1zEeRoh+yXx2w@mail.gmail.com>

Hi Guys!

I'm using twisted.logger in my new app. I'm running it as a twistd plugin
and I don't know how to enable log message filtering. I know that twistd
still uses twisted.python.log but I have to disable debug messages somehow.
What's the best way to do that in my ServiceMaker?

Best regards,
Patryk
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20160201/2b413d18/attachment.html>

From ldanielburr at me.com  Mon Feb  1 07:52:38 2016
From: ldanielburr at me.com (Louis D. Burr)
Date: Mon, 01 Feb 2016 08:52:38 -0600
Subject: [Twisted-Python] twisted.logger and log filtering in twistd
	plugin
In-Reply-To: <CAEHqL6drgTGYiGqtFNEwJVE1F7od7Q7LD8rLM1zEeRoh+yXx2w@mail.gmail.com>
References: <CAEHqL6drgTGYiGqtFNEwJVE1F7od7Q7LD8rLM1zEeRoh+yXx2w@mail.gmail.com>
Message-ID: <F72B06FE-2E0C-4A37-90DF-59192F900288@me.com>

Hi Patryk,


> On Feb 1, 2016, at 8:45 AM, Patryk ?ciborek <patryk at sciborek.com> wrote:
> 
> Hi Guys!
> 
> I'm using twisted.logger in my new app. I'm running it as a twistd plugin and I don't know how to enable log message filtering. I know that twistd still uses twisted.python.log but I have to disable debug messages somehow. What's the best way to do that in my ServiceMaker?
> 
> Best regards,
> Patryk

Best bet is to look into the ?logger parameter which you can use to pass a custom logger to twistd.

Hope this helps,

Daniel
--
L. Daniel Burr
ldanielburr at me.com
(312) 656-8387



From patryk at sciborek.com  Mon Feb  1 10:12:30 2016
From: patryk at sciborek.com (=?UTF-8?Q?Patryk_=C5=9Aciborek?=)
Date: Mon, 1 Feb 2016 18:12:30 +0100
Subject: [Twisted-Python] twisted.logger and log filtering in twistd
	plugin
In-Reply-To: <F72B06FE-2E0C-4A37-90DF-59192F900288@me.com>
References: <CAEHqL6drgTGYiGqtFNEwJVE1F7od7Q7LD8rLM1zEeRoh+yXx2w@mail.gmail.com>
 <F72B06FE-2E0C-4A37-90DF-59192F900288@me.com>
Message-ID: <CAEHqL6cFs+MftCEWMSfP+w0Oj5COn+mR75YNY8oOo4DjtfO=wQ@mail.gmail.com>

On Mon, Feb 1, 2016 at 3:52 PM, Louis D. Burr <ldanielburr at me.com> wrote:

>
> Best bet is to look into the ?logger parameter which you can use to pass a
> custom logger to twistd.
>

Hi Daniel,

Thank you for your response. Logger option sets the name of the logger
factory which should create something which implements ILogObserver. But
still - it's part of the legacy api (twisted.python.log). I'm wondering
what's the right way to use new logging system here...

Best regards,
Patryk
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20160201/1be3dbc6/attachment.html>

From werner at thieprojects.ch  Mon Feb  1 10:20:54 2016
From: werner at thieprojects.ch (Werner Thie)
Date: Mon, 1 Feb 2016 07:20:54 -1000
Subject: [Twisted-Python] twisted.logger and log filtering in twistd
 plugin
In-Reply-To: <CAEHqL6drgTGYiGqtFNEwJVE1F7od7Q7LD8rLM1zEeRoh+yXx2w@mail.gmail.com>
References: <CAEHqL6drgTGYiGqtFNEwJVE1F7od7Q7LD8rLM1zEeRoh+yXx2w@mail.gmail.com>
Message-ID: <56AF93F6.3010002@thieprojects.ch>

On 2/1/16 4:45 AM, Patryk ?ciborek wrote:
> Hi Guys!
>
> I'm using twisted.logger in my new app. I'm running it as a twistd
> plugin and I don't know how to enable log message filtering. I know that
> twistd still uses twisted.python.log but I have to disable debug
> messages somehow. What's the best way to do that in my ServiceMaker?
>
> Best regards,
> Patryk
>
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>

Hello Patryk

That's what I'm using in my .tac files:

from twisted.python import log
from twisted.python.log import ILogObserver, FileLogObserver

     :
service = service.Application(myPackage)
service.setComponent(ILogObserver, FileLogObserver(LogFile('myLog.log', 
'/var/log', rotateLength=10000)).emit)

Hope this helps, Werner


From ldanielburr at me.com  Mon Feb  1 11:48:00 2016
From: ldanielburr at me.com (Louis D. Burr)
Date: Mon, 01 Feb 2016 12:48:00 -0600
Subject: [Twisted-Python] twisted.logger and log filtering in
	twistd	plugin
In-Reply-To: <CAEHqL6cFs+MftCEWMSfP+w0Oj5COn+mR75YNY8oOo4DjtfO=wQ@mail.gmail.com>
References: <CAEHqL6drgTGYiGqtFNEwJVE1F7od7Q7LD8rLM1zEeRoh+yXx2w@mail.gmail.com>
 <F72B06FE-2E0C-4A37-90DF-59192F900288@me.com>
 <CAEHqL6cFs+MftCEWMSfP+w0Oj5COn+mR75YNY8oOo4DjtfO=wQ@mail.gmail.com>
Message-ID: <8607BA72-255D-45E3-B2CF-4DCEE322D13E@me.com>

Hi Patryk,


> On Feb 1, 2016, at 11:12 AM, Patryk ?ciborek <patryk at sciborek.com> wrote:
> 
> On Mon, Feb 1, 2016 at 3:52 PM, Louis D. Burr <ldanielburr at me.com <mailto:ldanielburr at me.com>> wrote:
> 
> Best bet is to look into the ?logger parameter which you can use to pass a custom logger to twistd.
> 
> Hi Daniel,
> 
> Thank you for your response. Logger option sets the name of the logger factory which should create something which implements ILogObserver. But still - it's part of the legacy api (twisted.python.log). I'm wondering what's the right way to use new logging system here...
> 

You can most definitely use the new logging system with the ?logger parameter.  Here is an untested example:

from twisted import logger

def myLogger():
    outFile = open('/path/to/log.txt', 'w')
    observer = logger.textFileLogObserver(outFile)
    loglevel = logger.LogLevel.levelWithName('info')
    predicate = logger.LogLevelFilterPredicate()
    predicate.setLogLevelForNamespace("", loglevel)
    filter = logger.FilteringLogObserver(observer, [predicate])

    return filter
twistd [whatever] --logger=mypackage.mymodule.myLogger

Hope this helps,

Daniel
--
L. Daniel Burr
ldanielburr at me.com
(312) 656-8387
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20160201/f3957341/attachment.html>

From glyph at twistedmatrix.com  Mon Feb  1 18:05:04 2016
From: glyph at twistedmatrix.com (Glyph Lefkowitz)
Date: Mon, 1 Feb 2016 17:05:04 -0800
Subject: [Twisted-Python] Debian unstable builder
In-Reply-To: <CAMcKhMT3RkvEJ9PV0U3fH=fk2gZ9W9Z10kkV1ZqZCGDuw5rzkg@mail.gmail.com>
References: <CAMcKhMT3RkvEJ9PV0U3fH=fk2gZ9W9Z10kkV1ZqZCGDuw5rzkg@mail.gmail.com>
Message-ID: <C2F87C93-673E-4BAD-A747-139419B1B486@twistedmatrix.com>


> On Jan 31, 2016, at 7:52 PM, Tristan Seligmann <mithrandi at mithrandi.net> wrote:
> 
> Working on tickets such as #8180[1] and #8187[2] suggests that it would be useful to have a builder running on Debian unstable (and/or other "bleeding edge" distributions, most of them have something similar) in order to pick up problematic changes like this sooner. #8180 is just a case of a newer upstream release (OpenSSH 7.0 disables DSA key support by default), whereas I think #8187 is a "distro policy" type thing (OpenSSL in Debian unstable is compiled without SSLv3_METHOD support).
> 
> I don't think making such a builder be a supported platform would be feasible (at least as things currently stand), but at least it would serve as a canary for this sort of issue.
> 
> Thoughts?

I think the approved procedure for such a thing is just to write a PR for https://github.com/twisted-infra/braid.  As you can see we do have some "canary" builders - particularly fedora 23 which just turned green quick make it supported before it breaks - on http://buildbot.twistedmatrix.com/boxes-unsupported?branch=trunk&num_builds=10 but we have purged a lot of the old, useless ones nobody was paying attention to.

So: yeah, go for it.  If you'd like credentials so you can update the prod buildbot deployment, let me know ;)

-glyph

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20160201/b4123ed8/attachment.html>

From tom.prince at ualberta.net  Mon Feb  1 21:38:41 2016
From: tom.prince at ualberta.net (Tom Prince)
Date: Mon, 01 Feb 2016 21:38:41 -0700
Subject: [Twisted-Python] operations: baby steps. buildbot move?
In-Reply-To: <4DA01BF6-7F43-4DBF-99BD-B35C198D2DA0@atleastfornow.net>
References: <919D1FB1-CCC7-4041-ADDA-8BD99EEB33C9@twistedmatrix.com>
 <4DA01BF6-7F43-4DBF-99BD-B35C198D2DA0@atleastfornow.net>
Message-ID: <87d1sfu3ou.fsf@hermes.hocat.ca>

Amber "Hawkie" Brown <hawkowl at atleastfornow.net> writes:

>> It looks to me like the thing I need to do is 'fab config.production buildbot.stop; fab config.production buildbot.dump', then make the relevant DNS change.  At this point I think I need to add a new environment to ENVIRONMENTS and do 'fab config.buildbot buildbot.dump'.  It's not obvious to me how to have two hosts present in 'config.production' but if somebody knows this please let me know.
>
> I think "config.production" is a bit of a eh name to have after, we should change it if we have more machines. Eg. config.prod-dornkirk, or whatever. Then we just need to write what goes where.

I actually originally included some code to support having different
machines for different services in the same environment. `t-names' is
configured this way, although it runs on the same host.
https://github.com/twisted-infra/braid/compare/buildbot-migration-poc
is an untested change to make buildbot use a potentially different host.

  Tom


From glyph at twistedmatrix.com  Mon Feb  1 23:22:33 2016
From: glyph at twistedmatrix.com (Glyph Lefkowitz)
Date: Mon, 1 Feb 2016 22:22:33 -0800
Subject: [Twisted-Python] operations: baby steps. buildbot move?
In-Reply-To: <4DA01BF6-7F43-4DBF-99BD-B35C198D2DA0@atleastfornow.net>
References: <919D1FB1-CCC7-4041-ADDA-8BD99EEB33C9@twistedmatrix.com>
 <4DA01BF6-7F43-4DBF-99BD-B35C198D2DA0@atleastfornow.net>
Message-ID: <B540D26B-C434-4CCC-982C-5B7879B9B09A@twistedmatrix.com>


> On Jan 31, 2016, at 4:56 PM, Amber Hawkie Brown <hawkowl at atleastfornow.net <mailto:hawkowl at atleastfornow.net>> wrote:
> 
> I think "config.production" is a bit of a eh name to have after, we should change it if we have more machines. Eg. config.prod-dornkirk, or whatever. Then we just need to write what goes where.

As Tom pointed out on https://github.com/twisted-infra/braid/pull/183 <https://github.com/twisted-infra/braid/pull/183> we do have a way to have multiple hosts participate in "production".  I think it's much better to have one "production" environment so we just tell ops to work against that env, rather than having them have to memorize names like "dilandau", "dornkirk", "wolfwood", etc.  I don't want to make watching a lot of 90s anim? a hard requirement of being a Twisted systems admin ;-).

-glyph
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20160201/15cadfb3/attachment.html>

From a at runtel.ru  Sat Feb  6 01:43:47 2016
From: a at runtel.ru (Alexey Panyovin)
Date: Sat, 6 Feb 2016 11:43:47 +0300
Subject: [Twisted-Python] web on my all
Message-ID: <56B5B243.7070705@runtel.ru>

Hello!

Prompt web framework to work with twisted. Need GET / POST / Sun and the 
opportunity to work with application objects.
Now I look in the direction of Klein. Whether work with Flask or the 
Pyramids.
If it is possible a small example, or where to look.

Thank you in advance
Alexey


From hawkowl at atleastfornow.net  Mon Feb  8 23:56:22 2016
From: hawkowl at atleastfornow.net (Amber "Hawkie" Brown)
Date: Tue, 9 Feb 2016 14:56:22 +0800
Subject: [Twisted-Python] Compatibility issues with Twisted and OpenSSL
	1.0.2f
Message-ID: <8D62CD0D-E824-4E04-877B-304DB56C84B4@atleastfornow.net>

Hi everyone,

There's a known issue with Twisted + PyOpenSSL>=0.13 using OpenSSL version 1.0.2f. Please note, this only potentially affects you if:

- You use Windows or OS X -- Cryptography 1.2.2's wheels have a bundled 1.0.2f.
OR
- You use a Linux or FreeBSD distribution which has OpenSSL 1.0.2f. If you are using a released distribution of Ubuntu or Debian, you most likely have a *patched* (so, still secure) past version (like Ubuntu 15.10, which has a patched 1.0.2d). If you are using Fedora 23, you may have 1.0.2f. You can check by running "openssl version".

There is also an unrelated issue with CFFI that causes Cryptography 1.2 wheels for Windows/OS X to cause CPython to crash on interpreter shutdown.

The current highest working Cryptography version that causes a test suite pass is 1.2.2 on Linux with OpenSSL versions other than 1.0.2f, 1.1.2 on Windows & OS X without an unreleased CFFI patch, and 1.2.1 once the CFFI patch is released. Our Windows and OS X builders have their Cryptography dependencies pinned to 1.1.2 until these problems are solved.

Please note, this doesn't mean your applications may or may not work in practice with OpenSSL 1.0.2f! It just means the test suite does not pass, so we can't be absolutely sure that 1.0.2f will not cause problems for you. The latest patched versions of OpenSSL are strongly recommended from a security standpoint.

The relevant issues are:

- Make tests pass on 1.0.2f (Twisted, https://twistedmatrix.com/trac/ticket/8189)
- Crash during interpreter shutdown when using static callbacks (CFFI, https://bitbucket.org/cffi/cffi/issues/246/crash-during-interpreter-shutdown-when)

Regards,

Amber Brown
Twisted Release Manager
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 455 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20160209/f69d8f5b/attachment.pgp>

From mithrandi at mithrandi.net  Tue Feb  9 00:12:06 2016
From: mithrandi at mithrandi.net (Tristan Seligmann)
Date: Tue, 09 Feb 2016 07:12:06 +0000
Subject: [Twisted-Python] A little present for emacs / flycheck users
Message-ID: <CAMcKhMRpVk+dZ8fj3LdcVFKPG1F0juMqyK1n1caezrducranGw@mail.gmail.com>

You may find this to be of use:

https://gist.github.com/mithrandi/15fca4367e878b6b88cd

Is there somewhere I should be submitting this as a PR or something? (I
guess I could release the checker as an emacs package, it's somewhat
specific though)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20160209/24265a67/attachment.html>

From teratorn at gmail.com  Tue Feb  9 06:16:54 2016
From: teratorn at gmail.com (Eric P. Mangold)
Date: Tue, 9 Feb 2016 07:16:54 -0600
Subject: [Twisted-Python] [Twisted-web] Compatibility issues with
	Twisted and OpenSSL 1.0.2f
In-Reply-To: <8D62CD0D-E824-4E04-877B-304DB56C84B4@atleastfornow.net>
References: <8D62CD0D-E824-4E04-877B-304DB56C84B4@atleastfornow.net>
Message-ID: <CAMCvQ9uZT=Z9jcAAiSTUht=xpas4==4O1P0OxLLgZZsa0PAqiw@mail.gmail.com>

Hi Amber,

Are you aware of anyone trying to use Twisted with PyOpenSSL/LibreSSL ?
Just curious.

Cheers,
-E

On Tue, Feb 9, 2016 at 12:56 AM, Amber "Hawkie" Brown <
hawkowl at atleastfornow.net> wrote:

> Hi everyone,
>
> There's a known issue with Twisted + PyOpenSSL>=0.13 using OpenSSL version
> 1.0.2f. Please note, this only potentially affects you if:
>
> - You use Windows or OS X -- Cryptography 1.2.2's wheels have a bundled
> 1.0.2f.
> OR
> - You use a Linux or FreeBSD distribution which has OpenSSL 1.0.2f. If you
> are using a released distribution of Ubuntu or Debian, you most likely have
> a *patched* (so, still secure) past version (like Ubuntu 15.10, which has a
> patched 1.0.2d). If you are using Fedora 23, you may have 1.0.2f. You can
> check by running "openssl version".
>
> There is also an unrelated issue with CFFI that causes Cryptography 1.2
> wheels for Windows/OS X to cause CPython to crash on interpreter shutdown.
>
> The current highest working Cryptography version that causes a test suite
> pass is 1.2.2 on Linux with OpenSSL versions other than 1.0.2f, 1.1.2 on
> Windows & OS X without an unreleased CFFI patch, and 1.2.1 once the CFFI
> patch is released. Our Windows and OS X builders have their Cryptography
> dependencies pinned to 1.1.2 until these problems are solved.
>
> Please note, this doesn't mean your applications may or may not work in
> practice with OpenSSL 1.0.2f! It just means the test suite does not pass,
> so we can't be absolutely sure that 1.0.2f will not cause problems for you.
> The latest patched versions of OpenSSL are strongly recommended from a
> security standpoint.
>
> The relevant issues are:
>
> - Make tests pass on 1.0.2f (Twisted,
> https://twistedmatrix.com/trac/ticket/8189)
> - Crash during interpreter shutdown when using static callbacks (CFFI,
> https://bitbucket.org/cffi/cffi/issues/246/crash-during-interpreter-shutdown-when
> )
>
> Regards,
>
> Amber Brown
> Twisted Release Manager
>
> _______________________________________________
> Twisted-web mailing list
> Twisted-web at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20160209/6b948196/attachment.html>

From jml at mumak.net  Tue Feb  9 06:17:02 2016
From: jml at mumak.net (Jonathan Lange)
Date: Tue, 09 Feb 2016 13:17:02 +0000
Subject: [Twisted-Python] A little present for emacs / flycheck users
In-Reply-To: <CAMcKhMRpVk+dZ8fj3LdcVFKPG1F0juMqyK1n1caezrducranGw@mail.gmail.com>
References: <CAMcKhMRpVk+dZ8fj3LdcVFKPG1F0juMqyK1n1caezrducranGw@mail.gmail.com>
Message-ID: <CAHZ8tnZfWA3B=TO3cF2MhYuXfnoRUa_bgMQ4_rc_o8p0QyJ-mg@mail.gmail.com>

Thanks! https://launchpad.net/twisted-emacs is the best I could find re PRs.

Do you have a way to make this conditional? There's precisely one Python
project where I care about using the twistedchecker linter :)


On Tue, 9 Feb 2016 at 07:12 Tristan Seligmann <mithrandi at mithrandi.net>
wrote:

> You may find this to be of use:
>
> https://gist.github.com/mithrandi/15fca4367e878b6b88cd
>
> Is there somewhere I should be submitting this as a PR or something? (I
> guess I could release the checker as an emacs package, it's somewhat
> specific though)
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20160209/f85d703c/attachment.html>

From mithrandi at mithrandi.net  Tue Feb  9 06:26:58 2016
From: mithrandi at mithrandi.net (Tristan Seligmann)
Date: Tue, 09 Feb 2016 13:26:58 +0000
Subject: [Twisted-Python] A little present for emacs / flycheck users
In-Reply-To: <CAHZ8tnZfWA3B=TO3cF2MhYuXfnoRUa_bgMQ4_rc_o8p0QyJ-mg@mail.gmail.com>
References: <CAMcKhMRpVk+dZ8fj3LdcVFKPG1F0juMqyK1n1caezrducranGw@mail.gmail.com>
 <CAHZ8tnZfWA3B=TO3cF2MhYuXfnoRUa_bgMQ4_rc_o8p0QyJ-mg@mail.gmail.com>
Message-ID: <CAMcKhMTpQgTUtO-QnjukvqVuhzNRiAucL5wu9zE038E5CUd+yQ@mail.gmail.com>

The 'python-mode-hook is just a function, so you can put whatever code you
want in there. I'm not sure exactly what the best mechanism to control this
would be, though; maybe a directory variable?

On Tue, 9 Feb 2016 at 15:17 Jonathan Lange <jml at mumak.net> wrote:

> Thanks! https://launchpad.net/twisted-emacs is the best I could find re
> PRs.
>
> Do you have a way to make this conditional? There's precisely one Python
> project where I care about using the twistedchecker linter :)
>
>
> On Tue, 9 Feb 2016 at 07:12 Tristan Seligmann <mithrandi at mithrandi.net>
> wrote:
>
>> You may find this to be of use:
>>
>> https://gist.github.com/mithrandi/15fca4367e878b6b88cd
>>
>> Is there somewhere I should be submitting this as a PR or something? (I
>> guess I could release the checker as an emacs package, it's somewhat
>> specific though)
>>
> _______________________________________________
>> Twisted-Python mailing list
>> Twisted-Python at twistedmatrix.com
>> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20160209/0555b1e1/attachment.html>

From terry at jon.es  Tue Feb  9 10:10:28 2016
From: terry at jon.es (Terry Jones)
Date: Tue, 9 Feb 2016 17:10:28 +0000
Subject: [Twisted-Python] A little present for emacs / flycheck users
In-Reply-To: <CAMcKhMTpQgTUtO-QnjukvqVuhzNRiAucL5wu9zE038E5CUd+yQ@mail.gmail.com>
References: <CAMcKhMRpVk+dZ8fj3LdcVFKPG1F0juMqyK1n1caezrducranGw@mail.gmail.com>
 <CAHZ8tnZfWA3B=TO3cF2MhYuXfnoRUa_bgMQ4_rc_o8p0QyJ-mg@mail.gmail.com>
 <CAMcKhMTpQgTUtO-QnjukvqVuhzNRiAucL5wu9zE038E5CUd+yQ@mail.gmail.com>
Message-ID: <CACqnu4XzyTRfJ=rKsiRksEa4gNd14V5br=r=L2mRMCvBjAwdyQ@mail.gmail.com>

There used to be some elisp in Twisted, called something like
twisted-dev-mode.el (written, I think, by Glyph or JP).  That added a
find-file-hook based on the prefix of the path of the file you were about
to edit. I still use it, and some small modifications, for a customized dev
mode in various projects. That code could be dug up, or maybe it's still in
Twisted (I took a quick look, didn't see it). Actually, this is probably it
- https://launchpad.net/twisted-emacs

Terry


On Tue, Feb 9, 2016 at 1:26 PM, Tristan Seligmann <mithrandi at mithrandi.net>
wrote:

> The 'python-mode-hook is just a function, so you can put whatever code you
> want in there. I'm not sure exactly what the best mechanism to control this
> would be, though; maybe a directory variable?
>
> On Tue, 9 Feb 2016 at 15:17 Jonathan Lange <jml at mumak.net> wrote:
>
>> Thanks! https://launchpad.net/twisted-emacs is the best I could find re
>> PRs.
>>
>> Do you have a way to make this conditional? There's precisely one Python
>> project where I care about using the twistedchecker linter :)
>>
>>
>> On Tue, 9 Feb 2016 at 07:12 Tristan Seligmann <mithrandi at mithrandi.net>
>> wrote:
>>
>>> You may find this to be of use:
>>>
>>> https://gist.github.com/mithrandi/15fca4367e878b6b88cd
>>>
>>> Is there somewhere I should be submitting this as a PR or something? (I
>>> guess I could release the checker as an emacs package, it's somewhat
>>> specific though)
>>>
>> _______________________________________________
>>> Twisted-Python mailing list
>>> Twisted-Python at twistedmatrix.com
>>> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>>>
>> _______________________________________________
>> Twisted-Python mailing list
>> Twisted-Python at twistedmatrix.com
>> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>>
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20160209/0a6db980/attachment-0001.html>

From glyph at twistedmatrix.com  Tue Feb  9 12:17:56 2016
From: glyph at twistedmatrix.com (Glyph Lefkowitz)
Date: Tue, 9 Feb 2016 11:17:56 -0800
Subject: [Twisted-Python] A little present for emacs / flycheck users
In-Reply-To: <CAMcKhMRpVk+dZ8fj3LdcVFKPG1F0juMqyK1n1caezrducranGw@mail.gmail.com>
References: <CAMcKhMRpVk+dZ8fj3LdcVFKPG1F0juMqyK1n1caezrducranGw@mail.gmail.com>
Message-ID: <0E78F45E-43B9-41D5-A4DE-3C8C2E418E25@twistedmatrix.com>


> On Feb 8, 2016, at 11:12 PM, Tristan Seligmann <mithrandi at mithrandi.net> wrote:
> 
> You may find this to be of use:
> 
> https://gist.github.com/mithrandi/15fca4367e878b6b88cd <https://gist.github.com/mithrandi/15fca4367e878b6b88cd>
> 
> Is there somewhere I should be submitting this as a PR or something? (I guess I could release the checker as an emacs package, it's somewhat specific though)
> 

The right place, I think, would be to submit a PR to MELPA, with a new package under the name 'flymake-python-twisted':

https://github.com/melpa/melpa/search?utf8=?&q=flymake&type=Code

This would be super useful for working on Tubes - https://github.com/twisted/tubes - because it's at zero twistedchecker warnings.  But I haven't turned on something like this for working on Twisted because it would drive me bananas to see errors in every file that were not actually relevant to what I was working on.  Is there any way to persist a twistedchecker run from current trunk and compare against that?  I know twistedchecker has an option but it never seems to work right for me.

-glyph

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20160209/8d9ccd88/attachment.html>

From glyph at twistedmatrix.com  Tue Feb  9 12:52:03 2016
From: glyph at twistedmatrix.com (Glyph Lefkowitz)
Date: Tue, 9 Feb 2016 11:52:03 -0800
Subject: [Twisted-Python] [Twisted-web] Compatibility issues with
	Twisted and OpenSSL 1.0.2f
In-Reply-To: <CAMCvQ9uZT=Z9jcAAiSTUht=xpas4==4O1P0OxLLgZZsa0PAqiw@mail.gmail.com>
References: <8D62CD0D-E824-4E04-877B-304DB56C84B4@atleastfornow.net>
 <CAMCvQ9uZT=Z9jcAAiSTUht=xpas4==4O1P0OxLLgZZsa0PAqiw@mail.gmail.com>
Message-ID: <B360741E-B786-405D-9352-35F9C47B3CA9@twistedmatrix.com>


> On Feb 9, 2016, at 5:16 AM, Eric P. Mangold <teratorn at gmail.com> wrote:
> 
> Are you aware of anyone trying to use Twisted with PyOpenSSL/LibreSSL ? Just curious.


I am not aware of anyone using it with Twisted, but Cryptography does test with LibreSSL: https://jenkins.cryptography.io/job/cryptography-pr-builder/4964/ - so if you built your own wheel it ought to work.

-glyph

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20160209/86220957/attachment.html>

From glyph at twistedmatrix.com  Tue Feb  9 13:08:15 2016
From: glyph at twistedmatrix.com (Glyph Lefkowitz)
Date: Tue, 9 Feb 2016 12:08:15 -0800
Subject: [Twisted-Python] Compatibility issues with Twisted and OpenSSL
	1.0.2f
In-Reply-To: <8D62CD0D-E824-4E04-877B-304DB56C84B4@atleastfornow.net>
References: <8D62CD0D-E824-4E04-877B-304DB56C84B4@atleastfornow.net>
Message-ID: <00604360-CC5C-46D3-AA2A-133F86DC40F0@twistedmatrix.com>


> On Feb 8, 2016, at 10:56 PM, Amber Hawkie Brown <hawkowl at atleastfornow.net> wrote:
> 
> Hi everyone,
> 
> There's a known issue with Twisted + PyOpenSSL>=0.13 using OpenSSL version 1.0.2f. Please note, this only potentially affects you if:
> 
> - You use Windows or OS X -- Cryptography 1.2.2's wheels have a bundled 1.0.2f.
> OR
> - You use a Linux or FreeBSD distribution which has OpenSSL 1.0.2f. If you are using a released distribution of Ubuntu or Debian, you most likely have a *patched* (so, still secure) past version (like Ubuntu 15.10, which has a patched 1.0.2d). If you are using Fedora 23, you may have 1.0.2f. You can check by running "openssl version".
> 
> There is also an unrelated issue with CFFI that causes Cryptography 1.2 wheels for Windows/OS X to cause CPython to crash on interpreter shutdown.
> 
> The current highest working Cryptography version that causes a test suite pass is 1.2.2 on Linux with OpenSSL versions other than 1.0.2f, 1.1.2 on Windows & OS X without an unreleased CFFI patch, and 1.2.1 once the CFFI patch is released. Our Windows and OS X builders have their Cryptography dependencies pinned to 1.1.2 until these problems are solved.
> 
> Please note, this doesn't mean your applications may or may not work in practice with OpenSSL 1.0.2f! It just means the test suite does not pass, so we can't be absolutely sure that 1.0.2f will not cause problems for you. The latest patched versions of OpenSSL are strongly recommended from a security standpoint.
> 
> The relevant issues are:
> 
> - Make tests pass on 1.0.2f (Twisted, https://twistedmatrix.com/trac/ticket/8189)
> - Crash during interpreter shutdown when using static callbacks (CFFI, https://bitbucket.org/cffi/cffi/issues/246/crash-during-interpreter-shutdown-when)

Thanks for the write-up, Amber.

The main consequence of this constellation of unfortunate facts is that it is causing problems for Twisted development right now; the cffi issue may be causing some issues with crashing at shutdown, but the crash occurs after interpreter teardown so even programs that depend on "clean" shutdown (in the sense that they need to do work at shutdown time) should be affected.  Systems that require a 0 exit-status from a daemon might be but hopefully there aren't many of those.

All of these issues are under active investigation by the Cryptography and CFFI teams, and the one thing that might be an issue in Twisted (the 1.0.2f compatibility issue as Amber described above) has already gotten some attention from Tristan Seligmann and there should be a fix available shortly.

In any case, I'm very happy that we are communicating better about arcane issues like this :).  We'll try to send an update when they're all resolved.

-glyph

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20160209/320e3672/attachment.html>

From glyph at twistedmatrix.com  Sat Feb 13 13:32:40 2016
From: glyph at twistedmatrix.com (Glyph Lefkowitz)
Date: Sat, 13 Feb 2016 12:32:40 -0800
Subject: [Twisted-Python] Compatibility issues with Twisted and OpenSSL
	1.0.2f
In-Reply-To: <00604360-CC5C-46D3-AA2A-133F86DC40F0@twistedmatrix.com>
References: <8D62CD0D-E824-4E04-877B-304DB56C84B4@atleastfornow.net>
 <00604360-CC5C-46D3-AA2A-133F86DC40F0@twistedmatrix.com>
Message-ID: <CCF7499F-EBB4-4949-A22A-8238A207D005@twistedmatrix.com>


> On Feb 9, 2016, at 12:08 PM, Glyph Lefkowitz <glyph at twistedmatrix.com> wrote:
> 
> 
>> On Feb 8, 2016, at 10:56 PM, Amber Hawkie Brown <hawkowl at atleastfornow.net <mailto:hawkowl at atleastfornow.net>> wrote:
>> 
>> Hi everyone,
>> 
>> There's a known issue with Twisted + PyOpenSSL>=0.13 using OpenSSL version 1.0.2f. Please note, this only potentially affects you if:
>> 
>> - You use Windows or OS X -- Cryptography 1.2.2's wheels have a bundled 1.0.2f.
>> OR
>> - You use a Linux or FreeBSD distribution which has OpenSSL 1.0.2f. If you are using a released distribution of Ubuntu or Debian, you most likely have a *patched* (so, still secure) past version (like Ubuntu 15.10, which has a patched 1.0.2d). If you are using Fedora 23, you may have 1.0.2f. You can check by running "openssl version".
>> 
>> There is also an unrelated issue with CFFI that causes Cryptography 1.2 wheels for Windows/OS X to cause CPython to crash on interpreter shutdown.
>> 
>> The current highest working Cryptography version that causes a test suite pass is 1.2.2 on Linux with OpenSSL versions other than 1.0.2f, 1.1.2 on Windows & OS X without an unreleased CFFI patch, and 1.2.1 once the CFFI patch is released. Our Windows and OS X builders have their Cryptography dependencies pinned to 1.1.2 until these problems are solved.
>> 
>> Please note, this doesn't mean your applications may or may not work in practice with OpenSSL 1.0.2f! It just means the test suite does not pass, so we can't be absolutely sure that 1.0.2f will not cause problems for you. The latest patched versions of OpenSSL are strongly recommended from a security standpoint.
>> 
>> The relevant issues are:
>> 
>> - Make tests pass on 1.0.2f (Twisted, https://twistedmatrix.com/trac/ticket/8189 <https://twistedmatrix.com/trac/ticket/8189>)
>> - Crash during interpreter shutdown when using static callbacks (CFFI, https://bitbucket.org/cffi/cffi/issues/246/crash-during-interpreter-shutdown-when <https://bitbucket.org/cffi/cffi/issues/246/crash-during-interpreter-shutdown-when>)
> 
> Thanks for the write-up, Amber.
> 
> The main consequence of this constellation of unfortunate facts is that it is causing problems for Twisted development right now; the cffi issue may be causing some issues with crashing at shutdown, but the crash occurs after interpreter teardown so even programs that depend on "clean" shutdown (in the sense that they need to do work at shutdown time) should be affected.  Systems that require a 0 exit-status from a daemon might be but hopefully there aren't many of those.

One of these issues - the CFFI crash - https://bitbucket.org/cffi/cffi/issues/246/crash-during-interpreter-shutdown-when <https://bitbucket.org/cffi/cffi/issues/246/crash-during-interpreter-shutdown-when> - is now fixed and released in cffi 1.5.2.  So we should start returning to normal shortly ;).

> All of these issues are under active investigation by the Cryptography and CFFI teams, and the one thing that might be an issue in Twisted (the 1.0.2f compatibility issue as Amber described above) has already gotten some attention from Tristan Seligmann and there should be a fix available shortly.
> 
> In any case, I'm very happy that we are communicating better about arcane issues like this :).  We'll try to send an update when they're all resolved.
> 
> -glyph
> 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20160213/3995143c/attachment.html>

From yeh at uda.co.il  Sun Feb 14 03:59:59 2016
From: yeh at uda.co.il (Yehuda Deutsch)
Date: Sun, 14 Feb 2016 12:59:59 +0200
Subject: [Twisted-Python] IMAP implementation
Message-ID: <CAAnGLd3u3BjnSJFOje251viG=zCmY4948vZ+jdGXjLZcmAs4dA@mail.gmail.com>

Hi,

I am implementing Twisted as an IMAP server.
The actual data is retrieved over API, both metadata and MIME messages.

I am encountering several issues, but I could not find any clear cut
answers besides trying and excepting...

Are there examples of IMAP servers based on twisted or some experiments?
(twimapd is nice but limited)

Thanks
Yehuda

------------------------------
*Yehuda Deutsch | IT Developer*
*Email: yeh at uda.co.il <yeh at uda.co.il>*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20160214/e6781631/attachment.html>

From glyph at twistedmatrix.com  Sun Feb 14 17:06:24 2016
From: glyph at twistedmatrix.com (Glyph Lefkowitz)
Date: Sun, 14 Feb 2016 16:06:24 -0800
Subject: [Twisted-Python] IMAP implementation
In-Reply-To: <CAAnGLd3u3BjnSJFOje251viG=zCmY4948vZ+jdGXjLZcmAs4dA@mail.gmail.com>
References: <CAAnGLd3u3BjnSJFOje251viG=zCmY4948vZ+jdGXjLZcmAs4dA@mail.gmail.com>
Message-ID: <DC5D0040-51C4-4741-9D73-90D4FC06FABA@twistedmatrix.com>


> On Feb 14, 2016, at 2:59 AM, Yehuda Deutsch <yeh at uda.co.il> wrote:
> 
> Hi,
> 
> I am implementing Twisted as an IMAP server.
> The actual data is retrieved over API, both metadata and MIME messages.
> 
> I am encountering several issues, but I could not find any clear cut answers besides trying and excepting...
> 
> Are there examples of IMAP servers based on twisted or some experiments? (twimapd is nice but limited)

https://github.com/twisted/quotient is a complete IMAP server.  I have not heard of 'twimapd' before; what is that?

But, rather than looking for an example which will fix all of your problems and answer all of your questions, perhaps you could just ask your questions here?

-glyph



From yeh at uda.co.il  Mon Feb 15 01:39:13 2016
From: yeh at uda.co.il (Yehuda Deutsch)
Date: Mon, 15 Feb 2016 10:39:13 +0200
Subject: [Twisted-Python] IMAP implementation
In-Reply-To: <DC5D0040-51C4-4741-9D73-90D4FC06FABA@twistedmatrix.com>
References: <CAAnGLd3u3BjnSJFOje251viG=zCmY4948vZ+jdGXjLZcmAs4dA@mail.gmail.com>
 <DC5D0040-51C4-4741-9D73-90D4FC06FABA@twistedmatrix.com>
Message-ID: <CAAnGLd1wvoR+gXhx_bRGPNnQwWP7pHZKb4EgZykeSpLNKuMM1A@mail.gmail.com>

I did not find the IMAP part there, only pop.

Currently I am stuck with issues related to our API, and how to integrate
it.
I am working on a clone using gmail's API, should be the same. (can be
useful for gmail imap sync behind firewall...)

Yehuda

------------------------------
*Yehuda Deutsch | IT Developer*

On Mon, Feb 15, 2016 at 2:06 AM, Glyph Lefkowitz <glyph at twistedmatrix.com>
wrote:

>
> > On Feb 14, 2016, at 2:59 AM, Yehuda Deutsch <yeh at uda.co.il> wrote:
> >
> > Hi,
> >
> > I am implementing Twisted as an IMAP server.
> > The actual data is retrieved over API, both metadata and MIME messages.
> >
> > I am encountering several issues, but I could not find any clear cut
> answers besides trying and excepting...
> >
> > Are there examples of IMAP servers based on twisted or some experiments?
> (twimapd is nice but limited)
>
> https://github.com/twisted/quotient is a complete IMAP server.  I have
> not heard of 'twimapd' before; what is that?
>
> But, rather than looking for an example which will fix all of your
> problems and answer all of your questions, perhaps you could just ask your
> questions here?
>
> -glyph
>
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20160215/314d7512/attachment.html>

From glyph at twistedmatrix.com  Mon Feb 15 03:29:16 2016
From: glyph at twistedmatrix.com (Glyph Lefkowitz)
Date: Mon, 15 Feb 2016 02:29:16 -0800
Subject: [Twisted-Python] IMAP implementation
In-Reply-To: <CAAnGLd1wvoR+gXhx_bRGPNnQwWP7pHZKb4EgZykeSpLNKuMM1A@mail.gmail.com>
References: <CAAnGLd3u3BjnSJFOje251viG=zCmY4948vZ+jdGXjLZcmAs4dA@mail.gmail.com>
 <DC5D0040-51C4-4741-9D73-90D4FC06FABA@twistedmatrix.com>
 <CAAnGLd1wvoR+gXhx_bRGPNnQwWP7pHZKb4EgZykeSpLNKuMM1A@mail.gmail.com>
Message-ID: <82AB896E-4469-430D-A9E7-D093A3AF613E@twistedmatrix.com>

I'm sorry, you're right; our IMAP code was in a previous iteration of that software :-\.

-glyph

> On Feb 15, 2016, at 12:39 AM, Yehuda Deutsch <yeh at uda.co.il> wrote:
> 
> I did not find the IMAP part there, only pop.
> 
> Currently I am stuck with issues related to our API, and how to integrate it.
> I am working on a clone using gmail's API, should be the same. (can be useful for gmail imap sync behind firewall...)
> 
> Yehuda
> 
> ------------------------------
> Yehuda Deutsch | IT Developer
> 
> On Mon, Feb 15, 2016 at 2:06 AM, Glyph Lefkowitz <glyph at twistedmatrix.com <mailto:glyph at twistedmatrix.com>> wrote:
> 
> > On Feb 14, 2016, at 2:59 AM, Yehuda Deutsch <yeh at uda.co.il <mailto:yeh at uda.co.il>> wrote:
> >
> > Hi,
> >
> > I am implementing Twisted as an IMAP server.
> > The actual data is retrieved over API, both metadata and MIME messages.
> >
> > I am encountering several issues, but I could not find any clear cut answers besides trying and excepting...
> >
> > Are there examples of IMAP servers based on twisted or some experiments? (twimapd is nice but limited)
> 
> https://github.com/twisted/quotient <https://github.com/twisted/quotient> is a complete IMAP server.  I have not heard of 'twimapd' before; what is that?
> 
> But, rather than looking for an example which will fix all of your problems and answer all of your questions, perhaps you could just ask your questions here?
> 
> -glyph
> 
> 
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com <mailto:Twisted-Python at twistedmatrix.com>
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python <http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python>
> 
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20160215/18813143/attachment.html>

From yeh at uda.co.il  Mon Feb 15 05:45:13 2016
From: yeh at uda.co.il (Yehuda Deutsch)
Date: Mon, 15 Feb 2016 14:45:13 +0200
Subject: [Twisted-Python] IMAP implementation
In-Reply-To: <82AB896E-4469-430D-A9E7-D093A3AF613E@twistedmatrix.com>
References: <CAAnGLd3u3BjnSJFOje251viG=zCmY4948vZ+jdGXjLZcmAs4dA@mail.gmail.com>
 <DC5D0040-51C4-4741-9D73-90D4FC06FABA@twistedmatrix.com>
 <CAAnGLd1wvoR+gXhx_bRGPNnQwWP7pHZKb4EgZykeSpLNKuMM1A@mail.gmail.com>
 <82AB896E-4469-430D-A9E7-D093A3AF613E@twistedmatrix.com>
Message-ID: <CAAnGLd3LrH6FF0VcDWDx3Q0SatkBmN4g66PGpeFNnqKRO35k5w@mail.gmail.com>

Ok, I'll try to dig more for now, and as for Twisted specific questions
I'll bring up here.

Twimapd is a tiny server for accessing Twitter tweets, mentions and more
via IMAP... cool POC.

Since I started using twisted I am trying not to see in every project a
nail...

Yehuda

------------------------------
*Yehuda Deutsch | IT Developer*

On Mon, Feb 15, 2016 at 12:29 PM, Glyph Lefkowitz <glyph at twistedmatrix.com>
wrote:

> I'm sorry, you're right; our IMAP code was in a previous iteration of that
> software :-\.
>
> -glyph
>
> On Feb 15, 2016, at 12:39 AM, Yehuda Deutsch <yeh at uda.co.il> wrote:
>
> I did not find the IMAP part there, only pop.
>
> Currently I am stuck with issues related to our API, and how to integrate
> it.
> I am working on a clone using gmail's API, should be the same. (can be
> useful for gmail imap sync behind firewall...)
>
> Yehuda
>
> ------------------------------
> *Yehuda Deutsch | IT Developer*
>
> On Mon, Feb 15, 2016 at 2:06 AM, Glyph Lefkowitz <glyph at twistedmatrix.com>
> wrote:
>
>>
>> > On Feb 14, 2016, at 2:59 AM, Yehuda Deutsch <yeh at uda.co.il> wrote:
>> >
>> > Hi,
>> >
>> > I am implementing Twisted as an IMAP server.
>> > The actual data is retrieved over API, both metadata and MIME messages.
>> >
>> > I am encountering several issues, but I could not find any clear cut
>> answers besides trying and excepting...
>> >
>> > Are there examples of IMAP servers based on twisted or some
>> experiments? (twimapd is nice but limited)
>>
>> https://github.com/twisted/quotient is a complete IMAP server.  I have
>> not heard of 'twimapd' before; what is that?
>>
>> But, rather than looking for an example which will fix all of your
>> problems and answer all of your questions, perhaps you could just ask your
>> questions here?
>>
>> -glyph
>>
>>
>> _______________________________________________
>> Twisted-Python mailing list
>> Twisted-Python at twistedmatrix.com
>> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>>
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
>
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20160215/a71503e0/attachment.html>

From kaliyuga at riseup.net  Mon Feb 15 07:52:54 2016
From: kaliyuga at riseup.net (Kali Kaneko)
Date: Mon, 15 Feb 2016 10:52:54 -0400
Subject: [Twisted-Python] IMAP implementation
In-Reply-To: <CAAnGLd3u3BjnSJFOje251viG=zCmY4948vZ+jdGXjLZcmAs4dA@mail.gmail.com>
References: <CAAnGLd3u3BjnSJFOje251viG=zCmY4948vZ+jdGXjLZcmAs4dA@mail.gmail.com>
Message-ID: <f79fbc17ec46b5699e3c98187ae88ec9@riseup.net>

On 2016-02-14 06:59, Yehuda Deutsch wrote:

> Are there examples of IMAP servers based on twisted or some 
> experiments?
> (twimapd is nice but limited)

For what it's worth, at LEAP we're using heavily twisted IMAP for our 
local encrypted email proxy:

https://github.com/leapcode/leap_mail/

actually I should cleanup a couple of patches one of these days.

-- 
We reject: kings, presidents and voting.
We believe in: rough consensus and running code.


From yeh at uda.co.il  Mon Feb 15 09:08:16 2016
From: yeh at uda.co.il (Yehuda Deutsch)
Date: Mon, 15 Feb 2016 18:08:16 +0200
Subject: [Twisted-Python] IMAP implementation
In-Reply-To: <f79fbc17ec46b5699e3c98187ae88ec9@riseup.net>
References: <CAAnGLd3u3BjnSJFOje251viG=zCmY4948vZ+jdGXjLZcmAs4dA@mail.gmail.com>
 <f79fbc17ec46b5699e3c98187ae88ec9@riseup.net>
Message-ID: <CAAnGLd3Jp6+-oieov+x6q-0=5t7oA5BL+2ZvaFuVv7d=6Z1V3w@mail.gmail.com>

1. Thanks, this helps a lot. Already took some pointers and will look
through for more.
2. Great project, might be very useful, as is, for an organization where I
am a member.

Yehuda

------------------------------
*Yehuda Deutsch | IT Developer*

On Mon, Feb 15, 2016 at 4:52 PM, Kali Kaneko <kaliyuga at riseup.net> wrote:

> On 2016-02-14 06:59, Yehuda Deutsch wrote:
>
> Are there examples of IMAP servers based on twisted or some experiments?
>> (twimapd is nice but limited)
>>
>
> For what it's worth, at LEAP we're using heavily twisted IMAP for our
> local encrypted email proxy:
>
> https://github.com/leapcode/leap_mail/
>
> actually I should cleanup a couple of patches one of these days.
>
> --
> We reject: kings, presidents and voting.
> We believe in: rough consensus and running code.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20160215/4a62772d/attachment.html>

From glyph at twistedmatrix.com  Mon Feb 15 15:18:42 2016
From: glyph at twistedmatrix.com (Glyph Lefkowitz)
Date: Mon, 15 Feb 2016 14:18:42 -0800
Subject: [Twisted-Python] IMAP implementation
In-Reply-To: <f79fbc17ec46b5699e3c98187ae88ec9@riseup.net>
References: <CAAnGLd3u3BjnSJFOje251viG=zCmY4948vZ+jdGXjLZcmAs4dA@mail.gmail.com>
 <f79fbc17ec46b5699e3c98187ae88ec9@riseup.net>
Message-ID: <B6D90D94-2825-49F1-A435-470C7BC63F5F@twistedmatrix.com>


> On Feb 15, 2016, at 6:52 AM, Kali Kaneko <kaliyuga at riseup.net> wrote:
> 
> On 2016-02-14 06:59, Yehuda Deutsch wrote:
> 
>> Are there examples of IMAP servers based on twisted or some experiments?
>> (twimapd is nice but limited)
> 
> For what it's worth, at LEAP we're using heavily twisted IMAP for our local encrypted email proxy:
> 
> https://github.com/leapcode/leap_mail/
> 
> actually I should cleanup a couple of patches one of these days.

Wow, this looks like a very cool project!

Would you have any interest in submitting a success story https://twistedmatrix.com/trac/wiki/SuccessStories to success at twistedmatrix.com?

-glyph

From hawkowl at atleastfornow.net  Mon Feb 15 23:39:05 2016
From: hawkowl at atleastfornow.net (Amber "Hawkie" Brown)
Date: Tue, 16 Feb 2016 14:39:05 +0800
Subject: [Twisted-Python] Twisted 16.0pre1 Announcement
Message-ID: <7A0FAF3E-C053-4955-A298-3EBA1D8F540E@atleastfornow.net>

Hi everyone, it's time for another Twisted release!

Twisted 16.0 brings some important changes, and some nice-to-haves as well. The major things are:

- TLS endpoints have arrived! They're like the old `ssl:` endpoints, but support faster IPv4/IPv6 connections (using HostnameEndpoint) and always do hostname verification.
- Conch now uses Cryptography instead of PyCrypto for underlying cryptographic operations. This means it'll work much better on PyPy!
- Headers objects (notably used by t.web.server.Request) now support Unicode for the vast majority of cases, encoding keys to ISO-8859-1 and values to UTF-8.
- WSGI support and AMP have been ported to Python 3, along with a handful of other modules.
- More shedding of the past, with the GTK+ 1 reactor being removed.
- Over 45 tickets have been closed.

As usual, it's available for download -- go here (https://twistedmatrix.com/Releases/pre/16.0.0pre1/) to get the prerelease tarballs and the full NEWS file.

Please let me know if you have any issues, as well as if you don't! If everything works well, that's a good thing for me to know :)

Thanks! <3

- Amber Brown
Twisted Release Manager
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 455 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20160216/2423bfcc/attachment.pgp>

From epalmer at farmersagent.com  Mon Feb 15 23:39:58 2016
From: epalmer at farmersagent.com (Emily Palmer)
Date: Tue, 16 Feb 2016 06:39:58 -0000
Subject: [Twisted-Python] Twisted 16.0pre1 Announcement
Message-ID: <968uBPgn75053T02.1455604798@cm02.cms.usa.net>

An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20160216/b298f99f/attachment.html>

From hawkowl at atleastfornow.net  Fri Feb 19 08:42:44 2016
From: hawkowl at atleastfornow.net (Amber "Hawkie" Brown)
Date: Fri, 19 Feb 2016 23:42:44 +0800
Subject: [Twisted-Python] Twisted + OpenSSL 1.0.2f issues resolved
Message-ID: <2E70D7CD-1E23-4691-B23F-3EFF2A386CC6@atleastfornow.net>

Hi everyone,

Since Tristan Seligmann has fixed https://twistedmatrix.com/trac/ticket/8189 , and the CFFI crash-on-shutdown bugs have been resolved upstream, Twisted is now fully compatible with OpenSSL 1.0.2f as included in Cryptography 1.2.2, and as included in distributions that have been updated.

This fix is in Twisted trunk, but did not make it into Twisted 16.0. Twisted 16.1 will include the fix.

Thanks to Tristan and Glyph (the reviewer) for getting this issue fixed.

- Amber
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 455 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20160219/3e16dd14/attachment.pgp>

From epalmer at farmersagent.com  Fri Feb 19 08:43:44 2016
From: epalmer at farmersagent.com (Emily Palmer)
Date: Fri, 19 Feb 2016 15:43:44 -0000
Subject: [Twisted-Python] Twisted + OpenSSL 1.0.2f issues resolved
Message-ID: <382uBsPrS6365T02.1455896624@cm02.cms.usa.net>

An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20160219/0f7a9f91/attachment.html>

From mashiat.sarker at gmail.com  Fri Feb 19 09:47:30 2016
From: mashiat.sarker at gmail.com (Mashiat Sarker Shakkhar)
Date: Fri, 19 Feb 2016 11:47:30 -0500
Subject: [Twisted-Python] Twisted + OpenSSL 1.0.2f issues resolved
In-Reply-To: <382uBsPrS6365T02.1455896624@cm02.cms.usa.net>
References: <382uBsPrS6365T02.1455896624@cm02.cms.usa.net>
Message-ID: <CAOfeCWWAbmiKuAFOcF4GYju2D_m8q+0iWsvtkw=EMDD5b_QuKQ@mail.gmail.com>

Will one of the ML admins please ban the address sending these emails? It
is a little annoying. Not sure if anyone else is getting them.

On Fri, Feb 19, 2016 at 10:43 AM, Emily Palmer <epalmer at farmersagent.com>
wrote:

> To Whom it May Concern:
> It has truly been an honor to be your insurance agent over the many years
> that we have been in business! Today it saddens my heart to inform you that
> The Palmer Agency will no longer be able to handle your insurance needs at
> this time. Some of you are aware and some are not on the difficult battle
> that took place beginning in 2013 - trying to save the life of my infant
> son (while I was pregnant). I do not regret any decisions that I made to
> try everything I humanly could to save my son - even though it was
> unsuccessful & now he rests in the arms of Jesus. Today I still have
> multiple complications from the decisions that I made to fight for my son
> and I have multiple, complicated hospital stays that I must focus on. If
> you would have asked me years ago if I would no longer be a Farmers Agent
> so soon I would have never believed you - but also if you would have asked
> me if I would have had my home burn down to the ground, or my son die in my
> arms exhausting all options that I could do I would never believe that
> either! Unfortunately we are not promised an easy life or a fair life. That
> is why we have to life each day as if it is our last day and put God first
> every day. Everyday I choose to pick up my cross daily. Right now in my
> career - I can no longer be your agent. I am so sorry for this. I am
> honored that you have chosen me for this because I do know that you have
> the option to chose. I hope that you can understand that right now I need
> to focus on being the best Mommy/Wife to an amazing husband, and two
> beautiful girls that I still have here for as long as possible!
>
> I know reading this could be filled with anger and frustration but I pray
> that you find understanding in your heart for my situation. You are not
> going to be left out in the cold. There are great notes on every single
> account. You are still with the most amazing company Farmers Insurance. At
> the end of this email you will have all the contact information needed to
> be able to get in touch with anyone on your account. It has been great
> getting to know each and every one of you and your families. I pray nothing
> but the best for all of your families! I would like to assure each and
> everyone of you that I made sure that I didn't leave until everything was
> in place to make sure every client would be completely taken care of - you
> can verify that if needed. I got with the district office & I put off
> multiple needed medical stays to assure that not even one client wouldn't
> have a way to reach an agent to help them! I wouldn't want to be treated
> that way & I wouldn't want to treat any of my clients that way!
>
>
> Most importantly in this Goodbye I would want you to take a moment and
> look at your life. Is it over whelming? I can remember when I thought that
> things were so hectic and stressful....then my house burned down. Then I
> thought....it doesn't get any worse then that. Then I got pregnant while I
> was in transition from my house burning down. Then I found out my son had a
> multi-cystic kidney & no Dr's wanted to help me! Then I had to go around
> the country begging for help convincing Dr's that my son's life mattered!
> Then I endured painful treatments multiple times a week to save my
> son......then I got an infection and my son passed away before Christmas &
> I remember thinking can't I go back to when I thought life was hectic and
> stressful? If you have healthy & happy children you will never know how
> blessed you truly are! I thank God for every moment I have had with my
> children. God never promised life would be easy. I urge anyone reading this
> to get into God's word and his promises and he can and will turn whatever
> situation your in around if you allow him!
>
>
> Thank You All & God Bless,
>
>
> *Emily Palmer*
>
>
>
> Customer Toll Free
>
>
>    - Phone:(877) 411-1344
>    - Bristol West:(888) 888-0080 <18888880080>(888) 888-0080
>    - Farmers.com:(888) 327-6335 <18883276335>(888) 327-6335
>    - Farmers Claims:(800) 435-7764 <18004357764>(800) 435-7764
>    - Foremost Claims:(800) 527-3907 <18005273907>(800) 527-3907
>    - 21st Century Claims:(888) 244-6163 <18882446163>(888)t244-6163
>    - Workers <18669675256>
>    - Comp Claims:(866) 967-5256 <18669675256>(866) 967-5256
>    - Account Question - 972-801-2580
>
>
>
>
>
>
>
>
>
>
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20160219/d773e925/attachment-0001.html>

From glyph at twistedmatrix.com  Sat Feb 20 02:33:07 2016
From: glyph at twistedmatrix.com (Glyph Lefkowitz)
Date: Sat, 20 Feb 2016 01:33:07 -0800
Subject: [Twisted-Python] Twisted + OpenSSL 1.0.2f issues resolved
In-Reply-To: <CAOfeCWWAbmiKuAFOcF4GYju2D_m8q+0iWsvtkw=EMDD5b_QuKQ@mail.gmail.com>
References: <382uBsPrS6365T02.1455896624@cm02.cms.usa.net>
 <CAOfeCWWAbmiKuAFOcF4GYju2D_m8q+0iWsvtkw=EMDD5b_QuKQ@mail.gmail.com>
Message-ID: <B559FCDE-3C12-46AC-886B-CFB592C17EAD@twistedmatrix.com>


> On Feb 19, 2016, at 8:47 AM, Mashiat Sarker Shakkhar <mashiat.sarker at gmail.com> wrote:
> 
> Will one of the ML admins please ban the address sending these emails? It is a little annoying. Not sure if anyone else is getting them.

Sorry; I assumed this person had accidentally left their autoresponder on and would notice.  Upon actually reading the message I assume that they subscribed by accident (spammers seem to periodically attempt to mass-subscribe people using our listserv, I have no idea why, and some of them click the "yes subscribe me" link for some reason).

They've been removed from the lists now.

-glyph



From ex.vitorino at gmail.com  Sun Feb 21 20:14:06 2016
From: ex.vitorino at gmail.com (exvito here)
Date: Mon, 22 Feb 2016 03:14:06 +0000
Subject: [Twisted-Python] Windows spawnProcess - Child process inherits
 files and sockets (POSIX does not)
Message-ID: <CADtv4OC=7N9w4MLY62AkqC2K0wKjjM0dezM86URFGwBba5cDcg@mail.gmail.com>

Hello all,

I filed https://twistedmatrix.com/trac/ticket/7970 last summer while
focused on a particular project that was hit by it. Since then I had to
attend to other things and I'm now back to refocusing on that project.

The subject says most of it, but the ticket has more information, including
why this isn't an issue on Python >= 3.4 ( my project is on 2.7...) :/

Before submitting a patch for review, I'm looking for preliminary feedback,
assuming you agree that the Windows vs POSIX semantics should be the same
(if not, why?).

My patch calls a few Windows APIs via ctypes, however, as far as I can
tell, Twisted on Windows requires pywin32 and, recently, there has been
some discussion around dropping that dependency and moving towards
something based on cffi.

What would you say the way forward is? Should I submit the patch for review
anyway? Is there any other work that needs to be done first that I may
contribute to?

Thanks in advance for Twisted and for your feedback,
--
exvito
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20160222/a34adcb8/attachment.html>

From p.mayers at imperial.ac.uk  Mon Feb 22 08:26:48 2016
From: p.mayers at imperial.ac.uk (Phil Mayers)
Date: Mon, 22 Feb 2016 15:26:48 +0000
Subject: [Twisted-Python] Twisted + OpenSSL 1.0.2f issues resolved
In-Reply-To: <B559FCDE-3C12-46AC-886B-CFB592C17EAD@twistedmatrix.com>
References: <382uBsPrS6365T02.1455896624@cm02.cms.usa.net>
 <CAOfeCWWAbmiKuAFOcF4GYju2D_m8q+0iWsvtkw=EMDD5b_QuKQ@mail.gmail.com>
 <B559FCDE-3C12-46AC-886B-CFB592C17EAD@twistedmatrix.com>
Message-ID: <56CB28B8.5000508@imperial.ac.uk>

On 20/02/16 09:33, Glyph Lefkowitz wrote:

> I assume that they subscribed by accident (spammers seem to
> periodically attempt to mass-subscribe people using our listserv, I
> have no idea why, and some of them click the "yes subscribe me" link
> for some reason).

FWIW, our local mailman install is patched to require a captcha (and to 
disable email-based subscribe) to solve this exact problem.


From glyph at twistedmatrix.com  Mon Feb 22 14:18:40 2016
From: glyph at twistedmatrix.com (Glyph Lefkowitz)
Date: Mon, 22 Feb 2016 15:18:40 -0600
Subject: [Twisted-Python] Twisted + OpenSSL 1.0.2f issues resolved
In-Reply-To: <56CB28B8.5000508@imperial.ac.uk>
References: <382uBsPrS6365T02.1455896624@cm02.cms.usa.net>
 <CAOfeCWWAbmiKuAFOcF4GYju2D_m8q+0iWsvtkw=EMDD5b_QuKQ@mail.gmail.com>
 <B559FCDE-3C12-46AC-886B-CFB592C17EAD@twistedmatrix.com>
 <56CB28B8.5000508@imperial.ac.uk>
Message-ID: <2A891185-C55A-4BAC-99A1-C0B6D64C7099@twistedmatrix.com>


> On Feb 22, 2016, at 09:26, Phil Mayers <p.mayers at imperial.ac.uk> wrote:
> 
> On 20/02/16 09:33, Glyph Lefkowitz wrote:
> 
>> I assume that they subscribed by accident (spammers seem to
>> periodically attempt to mass-subscribe people using our listserv, I
>> have no idea why, and some of them click the "yes subscribe me" link
>> for some reason).
> 
> FWIW, our local mailman install is patched to require a captcha (and to disable email-based subscribe) to solve this exact problem.

Is this simple to do?

-g

From p.mayers at imperial.ac.uk  Tue Feb 23 06:14:42 2016
From: p.mayers at imperial.ac.uk (Phil Mayers)
Date: Tue, 23 Feb 2016 13:14:42 +0000
Subject: [Twisted-Python] Twisted + OpenSSL 1.0.2f issues resolved
In-Reply-To: <2A891185-C55A-4BAC-99A1-C0B6D64C7099@twistedmatrix.com>
References: <382uBsPrS6365T02.1455896624@cm02.cms.usa.net>
 <CAOfeCWWAbmiKuAFOcF4GYju2D_m8q+0iWsvtkw=EMDD5b_QuKQ@mail.gmail.com>
 <B559FCDE-3C12-46AC-886B-CFB592C17EAD@twistedmatrix.com>
 <56CB28B8.5000508@imperial.ac.uk>
 <2A891185-C55A-4BAC-99A1-C0B6D64C7099@twistedmatrix.com>
Message-ID: <56CC5B42.5000806@imperial.ac.uk>

On 22/02/16 21:18, Glyph Lefkowitz wrote:
>
>> On Feb 22, 2016, at 09:26, Phil Mayers <p.mayers at imperial.ac.uk>
>> wrote:
>>
>> On 20/02/16 09:33, Glyph Lefkowitz wrote:
>>
>>> I assume that they subscribed by accident (spammers seem to
>>> periodically attempt to mass-subscribe people using our listserv,
>>> I have no idea why, and some of them click the "yes subscribe me"
>>> link for some reason).
>>
>> FWIW, our local mailman install is patched to require a captcha
>> (and to disable email-based subscribe) to solve this exact
>> problem.
>
> Is this simple to do?

It was pretty easy. I originally followed this recipe:

https://www.dragonsreach.it/2014/05/03/adding-recaptcha-support-to-mailman/

However, I had to tweak it slightly - some of the mailman "HTML" (I use 
that term loosely) had weird tag nesting that broke the captcha form 
submission on newer browsers (some monstrosity like 
<table><tr><td><form>...</table></form>)

I'll sling you the diff against 2.1.12 that we use off-list, feel free 
to use or modify as appropriate.


From hawkowl at atleastfornow.net  Sat Feb 27 21:20:40 2016
From: hawkowl at atleastfornow.net (Amber "Hawkie" Brown)
Date: Sun, 28 Feb 2016 12:20:40 +0800
Subject: [Twisted-Python] Twisted 16.0.0 Prerelease 2 Announcement
Message-ID: <4CC0E15B-B37C-4C46-BE88-90F2151F4B24@atleastfornow.net>

Hi everyone,

A few issues were identified in Twisted 16.0.0pre1 by the Canonical MAAS team, related to the twisted.conch.ssh.keys module missing some dependencies when installed on Python 3.

These issues have been fixed and are in Twisted 16.0.0pre2. You can find it and the NEWS file at https://twistedmatrix.com/Releases/pre/16.0.0pre2/ .

If no further issues are identified, Twisted 16.0 will be released this week.

- Amber Brown
Twisted Release Manager
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 455 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20160228/1543b98b/attachment.pgp>

From glyph at twistedmatrix.com  Sun Feb 28 22:41:19 2016
From: glyph at twistedmatrix.com (Glyph Lefkowitz)
Date: Mon, 29 Feb 2016 00:41:19 -0500
Subject: [Twisted-Python] Twisted 16.0.0 Prerelease 2 Announcement
In-Reply-To: <4CC0E15B-B37C-4C46-BE88-90F2151F4B24@atleastfornow.net>
References: <4CC0E15B-B37C-4C46-BE88-90F2151F4B24@atleastfornow.net>
Message-ID: <1D8DB7CE-50EF-4787-B31B-E3FBEBFD6C34@twistedmatrix.com>


> On Feb 27, 2016, at 23:20, Amber Hawkie Brown <hawkowl at atleastfornow.net> wrote:
> 
> Hi everyone,
> 
> A few issues were identified in Twisted 16.0.0pre1 by the Canonical MAAS team, related to the twisted.conch.ssh.keys module missing some dependencies when installed on Python 3.
> 
> These issues have been fixed and are in Twisted 16.0.0pre2. You can find it and the NEWS file at https://twistedmatrix.com/Releases/pre/16.0.0pre2/ .
> 
> If no further issues are identified, Twisted 16.0 will be released this week.

Oops!  Looks like we have another issue to contend with before the release: https://twistedmatrix.com/trac/ticket/8222#comment:1

-glyph

From adi at roiban.ro  Mon Feb  1 04:13:52 2016
From: adi at roiban.ro (Adi Roiban)
Date: Mon, 1 Feb 2016 11:13:52 +0000
Subject: [Twisted-Python] operations: baby steps. buildbot move?
In-Reply-To: <4DA01BF6-7F43-4DBF-99BD-B35C198D2DA0@atleastfornow.net>
References: <919D1FB1-CCC7-4041-ADDA-8BD99EEB33C9@twistedmatrix.com>
 <4DA01BF6-7F43-4DBF-99BD-B35C198D2DA0@atleastfornow.net>
Message-ID: <CAFycZ9cJ7ifnG-wrgCx53qDjsGM=D84v+_rDnUksuEEU4OAmbQ@mail.gmail.com>

>
>
> I think "config.production" is a bit of a eh name to have after, we should
> change it if we have more machines. Eg. config.prod-dornkirk, or whatever.
> Then we just need to write what goes where.
>

I have create a PR to look at the actual implementation and to make this
happen.

https://github.com/twisted-infra/braid/pull/183

Feel fee to push changes to that branch.

--------

On my installation with about 30 slaves the buildmaster process on py2.7 -
64bit uses 100MB for RES and 1.5G for VIRT CPU usage is very, very low.

Regards
-- 
Adi Roiban
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20160201/20682400/attachment-0002.html>

From patryk at sciborek.com  Mon Feb  1 07:45:40 2016
From: patryk at sciborek.com (=?UTF-8?Q?Patryk_=C5=9Aciborek?=)
Date: Mon, 1 Feb 2016 15:45:40 +0100
Subject: [Twisted-Python] twisted.logger and log filtering in twistd plugin
Message-ID: <CAEHqL6drgTGYiGqtFNEwJVE1F7od7Q7LD8rLM1zEeRoh+yXx2w@mail.gmail.com>

Hi Guys!

I'm using twisted.logger in my new app. I'm running it as a twistd plugin
and I don't know how to enable log message filtering. I know that twistd
still uses twisted.python.log but I have to disable debug messages somehow.
What's the best way to do that in my ServiceMaker?

Best regards,
Patryk
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20160201/2b413d18/attachment-0002.html>

From ldanielburr at me.com  Mon Feb  1 07:52:38 2016
From: ldanielburr at me.com (Louis D. Burr)
Date: Mon, 01 Feb 2016 08:52:38 -0600
Subject: [Twisted-Python] twisted.logger and log filtering in twistd
	plugin
In-Reply-To: <CAEHqL6drgTGYiGqtFNEwJVE1F7od7Q7LD8rLM1zEeRoh+yXx2w@mail.gmail.com>
References: <CAEHqL6drgTGYiGqtFNEwJVE1F7od7Q7LD8rLM1zEeRoh+yXx2w@mail.gmail.com>
Message-ID: <F72B06FE-2E0C-4A37-90DF-59192F900288@me.com>

Hi Patryk,


> On Feb 1, 2016, at 8:45 AM, Patryk Ściborek <patryk at sciborek.com> wrote:
> 
> Hi Guys!
> 
> I'm using twisted.logger in my new app. I'm running it as a twistd plugin and I don't know how to enable log message filtering. I know that twistd still uses twisted.python.log but I have to disable debug messages somehow. What's the best way to do that in my ServiceMaker?
> 
> Best regards,
> Patryk

Best bet is to look into the —logger parameter which you can use to pass a custom logger to twistd.

Hope this helps,

Daniel
--
L. Daniel Burr
ldanielburr at me.com
(312) 656-8387




From patryk at sciborek.com  Mon Feb  1 10:12:30 2016
From: patryk at sciborek.com (=?UTF-8?Q?Patryk_=C5=9Aciborek?=)
Date: Mon, 1 Feb 2016 18:12:30 +0100
Subject: [Twisted-Python] twisted.logger and log filtering in twistd
	plugin
In-Reply-To: <F72B06FE-2E0C-4A37-90DF-59192F900288@me.com>
References: <CAEHqL6drgTGYiGqtFNEwJVE1F7od7Q7LD8rLM1zEeRoh+yXx2w@mail.gmail.com>
 <F72B06FE-2E0C-4A37-90DF-59192F900288@me.com>
Message-ID: <CAEHqL6cFs+MftCEWMSfP+w0Oj5COn+mR75YNY8oOo4DjtfO=wQ@mail.gmail.com>

On Mon, Feb 1, 2016 at 3:52 PM, Louis D. Burr <ldanielburr at me.com> wrote:

>
> Best bet is to look into the —logger parameter which you can use to pass a
> custom logger to twistd.
>

Hi Daniel,

Thank you for your response. Logger option sets the name of the logger
factory which should create something which implements ILogObserver. But
still - it's part of the legacy api (twisted.python.log). I'm wondering
what's the right way to use new logging system here...

Best regards,
Patryk
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20160201/1be3dbc6/attachment-0002.html>

From werner at thieprojects.ch  Mon Feb  1 10:20:54 2016
From: werner at thieprojects.ch (Werner Thie)
Date: Mon, 1 Feb 2016 07:20:54 -1000
Subject: [Twisted-Python] twisted.logger and log filtering in twistd
 plugin
In-Reply-To: <CAEHqL6drgTGYiGqtFNEwJVE1F7od7Q7LD8rLM1zEeRoh+yXx2w@mail.gmail.com>
References: <CAEHqL6drgTGYiGqtFNEwJVE1F7od7Q7LD8rLM1zEeRoh+yXx2w@mail.gmail.com>
Message-ID: <56AF93F6.3010002@thieprojects.ch>

On 2/1/16 4:45 AM, Patryk Ściborek wrote:
> Hi Guys!
>
> I'm using twisted.logger in my new app. I'm running it as a twistd
> plugin and I don't know how to enable log message filtering. I know that
> twistd still uses twisted.python.log but I have to disable debug
> messages somehow. What's the best way to do that in my ServiceMaker?
>
> Best regards,
> Patryk
>
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>

Hello Patryk

That's what I'm using in my .tac files:

from twisted.python import log
from twisted.python.log import ILogObserver, FileLogObserver

     :
service = service.Application(myPackage)
service.setComponent(ILogObserver, FileLogObserver(LogFile('myLog.log', 
'/var/log', rotateLength=10000)).emit)

Hope this helps, Werner



From ldanielburr at me.com  Mon Feb  1 11:48:00 2016
From: ldanielburr at me.com (Louis D. Burr)
Date: Mon, 01 Feb 2016 12:48:00 -0600
Subject: [Twisted-Python] twisted.logger and log filtering in
	twistd	plugin
In-Reply-To: <CAEHqL6cFs+MftCEWMSfP+w0Oj5COn+mR75YNY8oOo4DjtfO=wQ@mail.gmail.com>
References: <CAEHqL6drgTGYiGqtFNEwJVE1F7od7Q7LD8rLM1zEeRoh+yXx2w@mail.gmail.com>
 <F72B06FE-2E0C-4A37-90DF-59192F900288@me.com>
 <CAEHqL6cFs+MftCEWMSfP+w0Oj5COn+mR75YNY8oOo4DjtfO=wQ@mail.gmail.com>
Message-ID: <8607BA72-255D-45E3-B2CF-4DCEE322D13E@me.com>

Hi Patryk,


> On Feb 1, 2016, at 11:12 AM, Patryk Ściborek <patryk at sciborek.com> wrote:
> 
> On Mon, Feb 1, 2016 at 3:52 PM, Louis D. Burr <ldanielburr at me.com <mailto:ldanielburr at me.com>> wrote:
> 
> Best bet is to look into the —logger parameter which you can use to pass a custom logger to twistd.
> 
> Hi Daniel,
> 
> Thank you for your response. Logger option sets the name of the logger factory which should create something which implements ILogObserver. But still - it's part of the legacy api (twisted.python.log). I'm wondering what's the right way to use new logging system here...
> 

You can most definitely use the new logging system with the —logger parameter.  Here is an untested example:

from twisted import logger

def myLogger():
    outFile = open('/path/to/log.txt', 'w')
    observer = logger.textFileLogObserver(outFile)
    loglevel = logger.LogLevel.levelWithName('info')
    predicate = logger.LogLevelFilterPredicate()
    predicate.setLogLevelForNamespace("", loglevel)
    filter = logger.FilteringLogObserver(observer, [predicate])

    return filter
twistd [whatever] --logger=mypackage.mymodule.myLogger

Hope this helps,

Daniel
--
L. Daniel Burr
ldanielburr at me.com
(312) 656-8387
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20160201/f3957341/attachment-0002.html>

From glyph at twistedmatrix.com  Mon Feb  1 18:05:04 2016
From: glyph at twistedmatrix.com (Glyph Lefkowitz)
Date: Mon, 1 Feb 2016 17:05:04 -0800
Subject: [Twisted-Python] Debian unstable builder
In-Reply-To: <CAMcKhMT3RkvEJ9PV0U3fH=fk2gZ9W9Z10kkV1ZqZCGDuw5rzkg@mail.gmail.com>
References: <CAMcKhMT3RkvEJ9PV0U3fH=fk2gZ9W9Z10kkV1ZqZCGDuw5rzkg@mail.gmail.com>
Message-ID: <C2F87C93-673E-4BAD-A747-139419B1B486@twistedmatrix.com>


> On Jan 31, 2016, at 7:52 PM, Tristan Seligmann <mithrandi at mithrandi.net> wrote:
> 
> Working on tickets such as #8180[1] and #8187[2] suggests that it would be useful to have a builder running on Debian unstable (and/or other "bleeding edge" distributions, most of them have something similar) in order to pick up problematic changes like this sooner. #8180 is just a case of a newer upstream release (OpenSSH 7.0 disables DSA key support by default), whereas I think #8187 is a "distro policy" type thing (OpenSSL in Debian unstable is compiled without SSLv3_METHOD support).
> 
> I don't think making such a builder be a supported platform would be feasible (at least as things currently stand), but at least it would serve as a canary for this sort of issue.
> 
> Thoughts?

I think the approved procedure for such a thing is just to write a PR for https://github.com/twisted-infra/braid.  As you can see we do have some "canary" builders - particularly fedora 23 which just turned green quick make it supported before it breaks - on http://buildbot.twistedmatrix.com/boxes-unsupported?branch=trunk&num_builds=10 but we have purged a lot of the old, useless ones nobody was paying attention to.

So: yeah, go for it.  If you'd like credentials so you can update the prod buildbot deployment, let me know ;)

-glyph

-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20160201/b4123ed8/attachment-0002.html>

From tom.prince at ualberta.net  Mon Feb  1 21:38:41 2016
From: tom.prince at ualberta.net (Tom Prince)
Date: Mon, 01 Feb 2016 21:38:41 -0700
Subject: [Twisted-Python] operations: baby steps. buildbot move?
In-Reply-To: <4DA01BF6-7F43-4DBF-99BD-B35C198D2DA0@atleastfornow.net>
References: <919D1FB1-CCC7-4041-ADDA-8BD99EEB33C9@twistedmatrix.com>
 <4DA01BF6-7F43-4DBF-99BD-B35C198D2DA0@atleastfornow.net>
Message-ID: <87d1sfu3ou.fsf@hermes.hocat.ca>

Amber "Hawkie" Brown <hawkowl at atleastfornow.net> writes:

>> It looks to me like the thing I need to do is 'fab config.production buildbot.stop; fab config.production buildbot.dump', then make the relevant DNS change.  At this point I think I need to add a new environment to ENVIRONMENTS and do 'fab config.buildbot buildbot.dump'.  It's not obvious to me how to have two hosts present in 'config.production' but if somebody knows this please let me know.
>
> I think "config.production" is a bit of a eh name to have after, we should change it if we have more machines. Eg. config.prod-dornkirk, or whatever. Then we just need to write what goes where.

I actually originally included some code to support having different
machines for different services in the same environment. `t-names' is
configured this way, although it runs on the same host.
https://github.com/twisted-infra/braid/compare/buildbot-migration-poc
is an untested change to make buildbot use a potentially different host.

  Tom



From glyph at twistedmatrix.com  Mon Feb  1 23:22:33 2016
From: glyph at twistedmatrix.com (Glyph Lefkowitz)
Date: Mon, 1 Feb 2016 22:22:33 -0800
Subject: [Twisted-Python] operations: baby steps. buildbot move?
In-Reply-To: <4DA01BF6-7F43-4DBF-99BD-B35C198D2DA0@atleastfornow.net>
References: <919D1FB1-CCC7-4041-ADDA-8BD99EEB33C9@twistedmatrix.com>
 <4DA01BF6-7F43-4DBF-99BD-B35C198D2DA0@atleastfornow.net>
Message-ID: <B540D26B-C434-4CCC-982C-5B7879B9B09A@twistedmatrix.com>


> On Jan 31, 2016, at 4:56 PM, Amber Hawkie Brown <hawkowl at atleastfornow.net <mailto:hawkowl at atleastfornow.net>> wrote:
> 
> I think "config.production" is a bit of a eh name to have after, we should change it if we have more machines. Eg. config.prod-dornkirk, or whatever. Then we just need to write what goes where.

As Tom pointed out on https://github.com/twisted-infra/braid/pull/183 <https://github.com/twisted-infra/braid/pull/183> we do have a way to have multiple hosts participate in "production".  I think it's much better to have one "production" environment so we just tell ops to work against that env, rather than having them have to memorize names like "dilandau", "dornkirk", "wolfwood", etc.  I don't want to make watching a lot of 90s animé a hard requirement of being a Twisted systems admin ;-).

-glyph
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20160201/15cadfb3/attachment-0002.html>

From a at runtel.ru  Sat Feb  6 01:43:47 2016
From: a at runtel.ru (Alexey Panyovin)
Date: Sat, 6 Feb 2016 11:43:47 +0300
Subject: [Twisted-Python] web on my all
Message-ID: <56B5B243.7070705@runtel.ru>

Hello!

Prompt web framework to work with twisted. Need GET / POST / Sun and the 
opportunity to work with application objects.
Now I look in the direction of Klein. Whether work with Flask or the 
Pyramids.
If it is possible a small example, or where to look.

Thank you in advance
Alexey



From hawkowl at atleastfornow.net  Mon Feb  8 23:56:22 2016
From: hawkowl at atleastfornow.net (Amber "Hawkie" Brown)
Date: Tue, 9 Feb 2016 14:56:22 +0800
Subject: [Twisted-Python] Compatibility issues with Twisted and OpenSSL
	1.0.2f
Message-ID: <8D62CD0D-E824-4E04-877B-304DB56C84B4@atleastfornow.net>

Hi everyone,

There's a known issue with Twisted + PyOpenSSL>=0.13 using OpenSSL version 1.0.2f. Please note, this only potentially affects you if:

- You use Windows or OS X -- Cryptography 1.2.2's wheels have a bundled 1.0.2f.
OR
- You use a Linux or FreeBSD distribution which has OpenSSL 1.0.2f. If you are using a released distribution of Ubuntu or Debian, you most likely have a *patched* (so, still secure) past version (like Ubuntu 15.10, which has a patched 1.0.2d). If you are using Fedora 23, you may have 1.0.2f. You can check by running "openssl version".

There is also an unrelated issue with CFFI that causes Cryptography 1.2 wheels for Windows/OS X to cause CPython to crash on interpreter shutdown.

The current highest working Cryptography version that causes a test suite pass is 1.2.2 on Linux with OpenSSL versions other than 1.0.2f, 1.1.2 on Windows & OS X without an unreleased CFFI patch, and 1.2.1 once the CFFI patch is released. Our Windows and OS X builders have their Cryptography dependencies pinned to 1.1.2 until these problems are solved.

Please note, this doesn't mean your applications may or may not work in practice with OpenSSL 1.0.2f! It just means the test suite does not pass, so we can't be absolutely sure that 1.0.2f will not cause problems for you. The latest patched versions of OpenSSL are strongly recommended from a security standpoint.

The relevant issues are:

- Make tests pass on 1.0.2f (Twisted, https://twistedmatrix.com/trac/ticket/8189)
- Crash during interpreter shutdown when using static callbacks (CFFI, https://bitbucket.org/cffi/cffi/issues/246/crash-during-interpreter-shutdown-when)

Regards,

Amber Brown
Twisted Release Manager
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 455 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: </pipermail/twisted-python/attachments/20160209/f69d8f5b/attachment.sig>

From mithrandi at mithrandi.net  Tue Feb  9 00:12:06 2016
From: mithrandi at mithrandi.net (Tristan Seligmann)
Date: Tue, 09 Feb 2016 07:12:06 +0000
Subject: [Twisted-Python] A little present for emacs / flycheck users
Message-ID: <CAMcKhMRpVk+dZ8fj3LdcVFKPG1F0juMqyK1n1caezrducranGw@mail.gmail.com>

You may find this to be of use:

https://gist.github.com/mithrandi/15fca4367e878b6b88cd

Is there somewhere I should be submitting this as a PR or something? (I
guess I could release the checker as an emacs package, it's somewhat
specific though)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20160209/24265a67/attachment-0002.html>

From teratorn at gmail.com  Tue Feb  9 06:16:54 2016
From: teratorn at gmail.com (Eric P. Mangold)
Date: Tue, 9 Feb 2016 07:16:54 -0600
Subject: [Twisted-Python] [Twisted-web] Compatibility issues with
	Twisted and OpenSSL 1.0.2f
In-Reply-To: <8D62CD0D-E824-4E04-877B-304DB56C84B4@atleastfornow.net>
References: <8D62CD0D-E824-4E04-877B-304DB56C84B4@atleastfornow.net>
Message-ID: <CAMCvQ9uZT=Z9jcAAiSTUht=xpas4==4O1P0OxLLgZZsa0PAqiw@mail.gmail.com>

Hi Amber,

Are you aware of anyone trying to use Twisted with PyOpenSSL/LibreSSL ?
Just curious.

Cheers,
-E

On Tue, Feb 9, 2016 at 12:56 AM, Amber "Hawkie" Brown <
hawkowl at atleastfornow.net> wrote:

> Hi everyone,
>
> There's a known issue with Twisted + PyOpenSSL>=0.13 using OpenSSL version
> 1.0.2f. Please note, this only potentially affects you if:
>
> - You use Windows or OS X -- Cryptography 1.2.2's wheels have a bundled
> 1.0.2f.
> OR
> - You use a Linux or FreeBSD distribution which has OpenSSL 1.0.2f. If you
> are using a released distribution of Ubuntu or Debian, you most likely have
> a *patched* (so, still secure) past version (like Ubuntu 15.10, which has a
> patched 1.0.2d). If you are using Fedora 23, you may have 1.0.2f. You can
> check by running "openssl version".
>
> There is also an unrelated issue with CFFI that causes Cryptography 1.2
> wheels for Windows/OS X to cause CPython to crash on interpreter shutdown.
>
> The current highest working Cryptography version that causes a test suite
> pass is 1.2.2 on Linux with OpenSSL versions other than 1.0.2f, 1.1.2 on
> Windows & OS X without an unreleased CFFI patch, and 1.2.1 once the CFFI
> patch is released. Our Windows and OS X builders have their Cryptography
> dependencies pinned to 1.1.2 until these problems are solved.
>
> Please note, this doesn't mean your applications may or may not work in
> practice with OpenSSL 1.0.2f! It just means the test suite does not pass,
> so we can't be absolutely sure that 1.0.2f will not cause problems for you.
> The latest patched versions of OpenSSL are strongly recommended from a
> security standpoint.
>
> The relevant issues are:
>
> - Make tests pass on 1.0.2f (Twisted,
> https://twistedmatrix.com/trac/ticket/8189)
> - Crash during interpreter shutdown when using static callbacks (CFFI,
> https://bitbucket.org/cffi/cffi/issues/246/crash-during-interpreter-shutdown-when
> )
>
> Regards,
>
> Amber Brown
> Twisted Release Manager
>
> _______________________________________________
> Twisted-web mailing list
> Twisted-web at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20160209/6b948196/attachment-0002.html>

From jml at mumak.net  Tue Feb  9 06:17:02 2016
From: jml at mumak.net (Jonathan Lange)
Date: Tue, 09 Feb 2016 13:17:02 +0000
Subject: [Twisted-Python] A little present for emacs / flycheck users
In-Reply-To: <CAMcKhMRpVk+dZ8fj3LdcVFKPG1F0juMqyK1n1caezrducranGw@mail.gmail.com>
References: <CAMcKhMRpVk+dZ8fj3LdcVFKPG1F0juMqyK1n1caezrducranGw@mail.gmail.com>
Message-ID: <CAHZ8tnZfWA3B=TO3cF2MhYuXfnoRUa_bgMQ4_rc_o8p0QyJ-mg@mail.gmail.com>

Thanks! https://launchpad.net/twisted-emacs is the best I could find re PRs.

Do you have a way to make this conditional? There's precisely one Python
project where I care about using the twistedchecker linter :)


On Tue, 9 Feb 2016 at 07:12 Tristan Seligmann <mithrandi at mithrandi.net>
wrote:

> You may find this to be of use:
>
> https://gist.github.com/mithrandi/15fca4367e878b6b88cd
>
> Is there somewhere I should be submitting this as a PR or something? (I
> guess I could release the checker as an emacs package, it's somewhat
> specific though)
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20160209/f85d703c/attachment-0002.html>

From mithrandi at mithrandi.net  Tue Feb  9 06:26:58 2016
From: mithrandi at mithrandi.net (Tristan Seligmann)
Date: Tue, 09 Feb 2016 13:26:58 +0000
Subject: [Twisted-Python] A little present for emacs / flycheck users
In-Reply-To: <CAHZ8tnZfWA3B=TO3cF2MhYuXfnoRUa_bgMQ4_rc_o8p0QyJ-mg@mail.gmail.com>
References: <CAMcKhMRpVk+dZ8fj3LdcVFKPG1F0juMqyK1n1caezrducranGw@mail.gmail.com>
 <CAHZ8tnZfWA3B=TO3cF2MhYuXfnoRUa_bgMQ4_rc_o8p0QyJ-mg@mail.gmail.com>
Message-ID: <CAMcKhMTpQgTUtO-QnjukvqVuhzNRiAucL5wu9zE038E5CUd+yQ@mail.gmail.com>

The 'python-mode-hook is just a function, so you can put whatever code you
want in there. I'm not sure exactly what the best mechanism to control this
would be, though; maybe a directory variable?

On Tue, 9 Feb 2016 at 15:17 Jonathan Lange <jml at mumak.net> wrote:

> Thanks! https://launchpad.net/twisted-emacs is the best I could find re
> PRs.
>
> Do you have a way to make this conditional? There's precisely one Python
> project where I care about using the twistedchecker linter :)
>
>
> On Tue, 9 Feb 2016 at 07:12 Tristan Seligmann <mithrandi at mithrandi.net>
> wrote:
>
>> You may find this to be of use:
>>
>> https://gist.github.com/mithrandi/15fca4367e878b6b88cd
>>
>> Is there somewhere I should be submitting this as a PR or something? (I
>> guess I could release the checker as an emacs package, it's somewhat
>> specific though)
>>
> _______________________________________________
>> Twisted-Python mailing list
>> Twisted-Python at twistedmatrix.com
>> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20160209/0555b1e1/attachment-0002.html>

From terry at jon.es  Tue Feb  9 10:10:28 2016
From: terry at jon.es (Terry Jones)
Date: Tue, 9 Feb 2016 17:10:28 +0000
Subject: [Twisted-Python] A little present for emacs / flycheck users
In-Reply-To: <CAMcKhMTpQgTUtO-QnjukvqVuhzNRiAucL5wu9zE038E5CUd+yQ@mail.gmail.com>
References: <CAMcKhMRpVk+dZ8fj3LdcVFKPG1F0juMqyK1n1caezrducranGw@mail.gmail.com>
 <CAHZ8tnZfWA3B=TO3cF2MhYuXfnoRUa_bgMQ4_rc_o8p0QyJ-mg@mail.gmail.com>
 <CAMcKhMTpQgTUtO-QnjukvqVuhzNRiAucL5wu9zE038E5CUd+yQ@mail.gmail.com>
Message-ID: <CACqnu4XzyTRfJ=rKsiRksEa4gNd14V5br=r=L2mRMCvBjAwdyQ@mail.gmail.com>

There used to be some elisp in Twisted, called something like
twisted-dev-mode.el (written, I think, by Glyph or JP).  That added a
find-file-hook based on the prefix of the path of the file you were about
to edit. I still use it, and some small modifications, for a customized dev
mode in various projects. That code could be dug up, or maybe it's still in
Twisted (I took a quick look, didn't see it). Actually, this is probably it
- https://launchpad.net/twisted-emacs

Terry


On Tue, Feb 9, 2016 at 1:26 PM, Tristan Seligmann <mithrandi at mithrandi.net>
wrote:

> The 'python-mode-hook is just a function, so you can put whatever code you
> want in there. I'm not sure exactly what the best mechanism to control this
> would be, though; maybe a directory variable?
>
> On Tue, 9 Feb 2016 at 15:17 Jonathan Lange <jml at mumak.net> wrote:
>
>> Thanks! https://launchpad.net/twisted-emacs is the best I could find re
>> PRs.
>>
>> Do you have a way to make this conditional? There's precisely one Python
>> project where I care about using the twistedchecker linter :)
>>
>>
>> On Tue, 9 Feb 2016 at 07:12 Tristan Seligmann <mithrandi at mithrandi.net>
>> wrote:
>>
>>> You may find this to be of use:
>>>
>>> https://gist.github.com/mithrandi/15fca4367e878b6b88cd
>>>
>>> Is there somewhere I should be submitting this as a PR or something? (I
>>> guess I could release the checker as an emacs package, it's somewhat
>>> specific though)
>>>
>> _______________________________________________
>>> Twisted-Python mailing list
>>> Twisted-Python at twistedmatrix.com
>>> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>>>
>> _______________________________________________
>> Twisted-Python mailing list
>> Twisted-Python at twistedmatrix.com
>> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>>
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20160209/0a6db980/attachment-0002.html>

From glyph at twistedmatrix.com  Tue Feb  9 12:17:56 2016
From: glyph at twistedmatrix.com (Glyph Lefkowitz)
Date: Tue, 9 Feb 2016 11:17:56 -0800
Subject: [Twisted-Python] A little present for emacs / flycheck users
In-Reply-To: <CAMcKhMRpVk+dZ8fj3LdcVFKPG1F0juMqyK1n1caezrducranGw@mail.gmail.com>
References: <CAMcKhMRpVk+dZ8fj3LdcVFKPG1F0juMqyK1n1caezrducranGw@mail.gmail.com>
Message-ID: <0E78F45E-43B9-41D5-A4DE-3C8C2E418E25@twistedmatrix.com>


> On Feb 8, 2016, at 11:12 PM, Tristan Seligmann <mithrandi at mithrandi.net> wrote:
> 
> You may find this to be of use:
> 
> https://gist.github.com/mithrandi/15fca4367e878b6b88cd <https://gist.github.com/mithrandi/15fca4367e878b6b88cd>
> 
> Is there somewhere I should be submitting this as a PR or something? (I guess I could release the checker as an emacs package, it's somewhat specific though)
> 

The right place, I think, would be to submit a PR to MELPA, with a new package under the name 'flymake-python-twisted':

https://github.com/melpa/melpa/search?utf8=✓&q=flymake&type=Code

This would be super useful for working on Tubes - https://github.com/twisted/tubes - because it's at zero twistedchecker warnings.  But I haven't turned on something like this for working on Twisted because it would drive me bananas to see errors in every file that were not actually relevant to what I was working on.  Is there any way to persist a twistedchecker run from current trunk and compare against that?  I know twistedchecker has an option but it never seems to work right for me.

-glyph

-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20160209/8d9ccd88/attachment-0002.html>

From glyph at twistedmatrix.com  Tue Feb  9 12:52:03 2016
From: glyph at twistedmatrix.com (Glyph Lefkowitz)
Date: Tue, 9 Feb 2016 11:52:03 -0800
Subject: [Twisted-Python] [Twisted-web] Compatibility issues with
	Twisted and OpenSSL 1.0.2f
In-Reply-To: <CAMCvQ9uZT=Z9jcAAiSTUht=xpas4==4O1P0OxLLgZZsa0PAqiw@mail.gmail.com>
References: <8D62CD0D-E824-4E04-877B-304DB56C84B4@atleastfornow.net>
 <CAMCvQ9uZT=Z9jcAAiSTUht=xpas4==4O1P0OxLLgZZsa0PAqiw@mail.gmail.com>
Message-ID: <B360741E-B786-405D-9352-35F9C47B3CA9@twistedmatrix.com>


> On Feb 9, 2016, at 5:16 AM, Eric P. Mangold <teratorn at gmail.com> wrote:
> 
> Are you aware of anyone trying to use Twisted with PyOpenSSL/LibreSSL ? Just curious.


I am not aware of anyone using it with Twisted, but Cryptography does test with LibreSSL: https://jenkins.cryptography.io/job/cryptography-pr-builder/4964/ - so if you built your own wheel it ought to work.

-glyph

-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20160209/86220957/attachment-0002.html>

From glyph at twistedmatrix.com  Tue Feb  9 13:08:15 2016
From: glyph at twistedmatrix.com (Glyph Lefkowitz)
Date: Tue, 9 Feb 2016 12:08:15 -0800
Subject: [Twisted-Python] Compatibility issues with Twisted and OpenSSL
	1.0.2f
In-Reply-To: <8D62CD0D-E824-4E04-877B-304DB56C84B4@atleastfornow.net>
References: <8D62CD0D-E824-4E04-877B-304DB56C84B4@atleastfornow.net>
Message-ID: <00604360-CC5C-46D3-AA2A-133F86DC40F0@twistedmatrix.com>


> On Feb 8, 2016, at 10:56 PM, Amber Hawkie Brown <hawkowl at atleastfornow.net> wrote:
> 
> Hi everyone,
> 
> There's a known issue with Twisted + PyOpenSSL>=0.13 using OpenSSL version 1.0.2f. Please note, this only potentially affects you if:
> 
> - You use Windows or OS X -- Cryptography 1.2.2's wheels have a bundled 1.0.2f.
> OR
> - You use a Linux or FreeBSD distribution which has OpenSSL 1.0.2f. If you are using a released distribution of Ubuntu or Debian, you most likely have a *patched* (so, still secure) past version (like Ubuntu 15.10, which has a patched 1.0.2d). If you are using Fedora 23, you may have 1.0.2f. You can check by running "openssl version".
> 
> There is also an unrelated issue with CFFI that causes Cryptography 1.2 wheels for Windows/OS X to cause CPython to crash on interpreter shutdown.
> 
> The current highest working Cryptography version that causes a test suite pass is 1.2.2 on Linux with OpenSSL versions other than 1.0.2f, 1.1.2 on Windows & OS X without an unreleased CFFI patch, and 1.2.1 once the CFFI patch is released. Our Windows and OS X builders have their Cryptography dependencies pinned to 1.1.2 until these problems are solved.
> 
> Please note, this doesn't mean your applications may or may not work in practice with OpenSSL 1.0.2f! It just means the test suite does not pass, so we can't be absolutely sure that 1.0.2f will not cause problems for you. The latest patched versions of OpenSSL are strongly recommended from a security standpoint.
> 
> The relevant issues are:
> 
> - Make tests pass on 1.0.2f (Twisted, https://twistedmatrix.com/trac/ticket/8189)
> - Crash during interpreter shutdown when using static callbacks (CFFI, https://bitbucket.org/cffi/cffi/issues/246/crash-during-interpreter-shutdown-when)

Thanks for the write-up, Amber.

The main consequence of this constellation of unfortunate facts is that it is causing problems for Twisted development right now; the cffi issue may be causing some issues with crashing at shutdown, but the crash occurs after interpreter teardown so even programs that depend on "clean" shutdown (in the sense that they need to do work at shutdown time) should be affected.  Systems that require a 0 exit-status from a daemon might be but hopefully there aren't many of those.

All of these issues are under active investigation by the Cryptography and CFFI teams, and the one thing that might be an issue in Twisted (the 1.0.2f compatibility issue as Amber described above) has already gotten some attention from Tristan Seligmann and there should be a fix available shortly.

In any case, I'm very happy that we are communicating better about arcane issues like this :).  We'll try to send an update when they're all resolved.

-glyph

-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20160209/320e3672/attachment-0002.html>

From glyph at twistedmatrix.com  Sat Feb 13 13:32:40 2016
From: glyph at twistedmatrix.com (Glyph Lefkowitz)
Date: Sat, 13 Feb 2016 12:32:40 -0800
Subject: [Twisted-Python] Compatibility issues with Twisted and OpenSSL
	1.0.2f
In-Reply-To: <00604360-CC5C-46D3-AA2A-133F86DC40F0@twistedmatrix.com>
References: <8D62CD0D-E824-4E04-877B-304DB56C84B4@atleastfornow.net>
 <00604360-CC5C-46D3-AA2A-133F86DC40F0@twistedmatrix.com>
Message-ID: <CCF7499F-EBB4-4949-A22A-8238A207D005@twistedmatrix.com>


> On Feb 9, 2016, at 12:08 PM, Glyph Lefkowitz <glyph at twistedmatrix.com> wrote:
> 
> 
>> On Feb 8, 2016, at 10:56 PM, Amber Hawkie Brown <hawkowl at atleastfornow.net <mailto:hawkowl at atleastfornow.net>> wrote:
>> 
>> Hi everyone,
>> 
>> There's a known issue with Twisted + PyOpenSSL>=0.13 using OpenSSL version 1.0.2f. Please note, this only potentially affects you if:
>> 
>> - You use Windows or OS X -- Cryptography 1.2.2's wheels have a bundled 1.0.2f.
>> OR
>> - You use a Linux or FreeBSD distribution which has OpenSSL 1.0.2f. If you are using a released distribution of Ubuntu or Debian, you most likely have a *patched* (so, still secure) past version (like Ubuntu 15.10, which has a patched 1.0.2d). If you are using Fedora 23, you may have 1.0.2f. You can check by running "openssl version".
>> 
>> There is also an unrelated issue with CFFI that causes Cryptography 1.2 wheels for Windows/OS X to cause CPython to crash on interpreter shutdown.
>> 
>> The current highest working Cryptography version that causes a test suite pass is 1.2.2 on Linux with OpenSSL versions other than 1.0.2f, 1.1.2 on Windows & OS X without an unreleased CFFI patch, and 1.2.1 once the CFFI patch is released. Our Windows and OS X builders have their Cryptography dependencies pinned to 1.1.2 until these problems are solved.
>> 
>> Please note, this doesn't mean your applications may or may not work in practice with OpenSSL 1.0.2f! It just means the test suite does not pass, so we can't be absolutely sure that 1.0.2f will not cause problems for you. The latest patched versions of OpenSSL are strongly recommended from a security standpoint.
>> 
>> The relevant issues are:
>> 
>> - Make tests pass on 1.0.2f (Twisted, https://twistedmatrix.com/trac/ticket/8189 <https://twistedmatrix.com/trac/ticket/8189>)
>> - Crash during interpreter shutdown when using static callbacks (CFFI, https://bitbucket.org/cffi/cffi/issues/246/crash-during-interpreter-shutdown-when <https://bitbucket.org/cffi/cffi/issues/246/crash-during-interpreter-shutdown-when>)
> 
> Thanks for the write-up, Amber.
> 
> The main consequence of this constellation of unfortunate facts is that it is causing problems for Twisted development right now; the cffi issue may be causing some issues with crashing at shutdown, but the crash occurs after interpreter teardown so even programs that depend on "clean" shutdown (in the sense that they need to do work at shutdown time) should be affected.  Systems that require a 0 exit-status from a daemon might be but hopefully there aren't many of those.

One of these issues - the CFFI crash - https://bitbucket.org/cffi/cffi/issues/246/crash-during-interpreter-shutdown-when <https://bitbucket.org/cffi/cffi/issues/246/crash-during-interpreter-shutdown-when> - is now fixed and released in cffi 1.5.2.  So we should start returning to normal shortly ;).

> All of these issues are under active investigation by the Cryptography and CFFI teams, and the one thing that might be an issue in Twisted (the 1.0.2f compatibility issue as Amber described above) has already gotten some attention from Tristan Seligmann and there should be a fix available shortly.
> 
> In any case, I'm very happy that we are communicating better about arcane issues like this :).  We'll try to send an update when they're all resolved.
> 
> -glyph
> 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20160213/3995143c/attachment-0002.html>

From yeh at uda.co.il  Sun Feb 14 03:59:59 2016
From: yeh at uda.co.il (Yehuda Deutsch)
Date: Sun, 14 Feb 2016 12:59:59 +0200
Subject: [Twisted-Python] IMAP implementation
Message-ID: <CAAnGLd3u3BjnSJFOje251viG=zCmY4948vZ+jdGXjLZcmAs4dA@mail.gmail.com>

Hi,

I am implementing Twisted as an IMAP server.
The actual data is retrieved over API, both metadata and MIME messages.

I am encountering several issues, but I could not find any clear cut
answers besides trying and excepting...

Are there examples of IMAP servers based on twisted or some experiments?
(twimapd is nice but limited)

Thanks
Yehuda

------------------------------
*Yehuda Deutsch | IT Developer*
*Email: yeh at uda.co.il <yeh at uda.co.il>*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20160214/e6781631/attachment-0002.html>

From glyph at twistedmatrix.com  Sun Feb 14 17:06:24 2016
From: glyph at twistedmatrix.com (Glyph Lefkowitz)
Date: Sun, 14 Feb 2016 16:06:24 -0800
Subject: [Twisted-Python] IMAP implementation
In-Reply-To: <CAAnGLd3u3BjnSJFOje251viG=zCmY4948vZ+jdGXjLZcmAs4dA@mail.gmail.com>
References: <CAAnGLd3u3BjnSJFOje251viG=zCmY4948vZ+jdGXjLZcmAs4dA@mail.gmail.com>
Message-ID: <DC5D0040-51C4-4741-9D73-90D4FC06FABA@twistedmatrix.com>


> On Feb 14, 2016, at 2:59 AM, Yehuda Deutsch <yeh at uda.co.il> wrote:
> 
> Hi,
> 
> I am implementing Twisted as an IMAP server.
> The actual data is retrieved over API, both metadata and MIME messages.
> 
> I am encountering several issues, but I could not find any clear cut answers besides trying and excepting...
> 
> Are there examples of IMAP servers based on twisted or some experiments? (twimapd is nice but limited)

https://github.com/twisted/quotient is a complete IMAP server.  I have not heard of 'twimapd' before; what is that?

But, rather than looking for an example which will fix all of your problems and answer all of your questions, perhaps you could just ask your questions here?

-glyph




From yeh at uda.co.il  Mon Feb 15 01:39:13 2016
From: yeh at uda.co.il (Yehuda Deutsch)
Date: Mon, 15 Feb 2016 10:39:13 +0200
Subject: [Twisted-Python] IMAP implementation
In-Reply-To: <DC5D0040-51C4-4741-9D73-90D4FC06FABA@twistedmatrix.com>
References: <CAAnGLd3u3BjnSJFOje251viG=zCmY4948vZ+jdGXjLZcmAs4dA@mail.gmail.com>
 <DC5D0040-51C4-4741-9D73-90D4FC06FABA@twistedmatrix.com>
Message-ID: <CAAnGLd1wvoR+gXhx_bRGPNnQwWP7pHZKb4EgZykeSpLNKuMM1A@mail.gmail.com>

I did not find the IMAP part there, only pop.

Currently I am stuck with issues related to our API, and how to integrate
it.
I am working on a clone using gmail's API, should be the same. (can be
useful for gmail imap sync behind firewall...)

Yehuda

------------------------------
*Yehuda Deutsch | IT Developer*

On Mon, Feb 15, 2016 at 2:06 AM, Glyph Lefkowitz <glyph at twistedmatrix.com>
wrote:

>
> > On Feb 14, 2016, at 2:59 AM, Yehuda Deutsch <yeh at uda.co.il> wrote:
> >
> > Hi,
> >
> > I am implementing Twisted as an IMAP server.
> > The actual data is retrieved over API, both metadata and MIME messages.
> >
> > I am encountering several issues, but I could not find any clear cut
> answers besides trying and excepting...
> >
> > Are there examples of IMAP servers based on twisted or some experiments?
> (twimapd is nice but limited)
>
> https://github.com/twisted/quotient is a complete IMAP server.  I have
> not heard of 'twimapd' before; what is that?
>
> But, rather than looking for an example which will fix all of your
> problems and answer all of your questions, perhaps you could just ask your
> questions here?
>
> -glyph
>
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20160215/314d7512/attachment-0002.html>

From glyph at twistedmatrix.com  Mon Feb 15 03:29:16 2016
From: glyph at twistedmatrix.com (Glyph Lefkowitz)
Date: Mon, 15 Feb 2016 02:29:16 -0800
Subject: [Twisted-Python] IMAP implementation
In-Reply-To: <CAAnGLd1wvoR+gXhx_bRGPNnQwWP7pHZKb4EgZykeSpLNKuMM1A@mail.gmail.com>
References: <CAAnGLd3u3BjnSJFOje251viG=zCmY4948vZ+jdGXjLZcmAs4dA@mail.gmail.com>
 <DC5D0040-51C4-4741-9D73-90D4FC06FABA@twistedmatrix.com>
 <CAAnGLd1wvoR+gXhx_bRGPNnQwWP7pHZKb4EgZykeSpLNKuMM1A@mail.gmail.com>
Message-ID: <82AB896E-4469-430D-A9E7-D093A3AF613E@twistedmatrix.com>

I'm sorry, you're right; our IMAP code was in a previous iteration of that software :-\.

-glyph

> On Feb 15, 2016, at 12:39 AM, Yehuda Deutsch <yeh at uda.co.il> wrote:
> 
> I did not find the IMAP part there, only pop.
> 
> Currently I am stuck with issues related to our API, and how to integrate it.
> I am working on a clone using gmail's API, should be the same. (can be useful for gmail imap sync behind firewall...)
> 
> Yehuda
> 
> ------------------------------
> Yehuda Deutsch | IT Developer
> 
> On Mon, Feb 15, 2016 at 2:06 AM, Glyph Lefkowitz <glyph at twistedmatrix.com <mailto:glyph at twistedmatrix.com>> wrote:
> 
> > On Feb 14, 2016, at 2:59 AM, Yehuda Deutsch <yeh at uda.co.il <mailto:yeh at uda.co.il>> wrote:
> >
> > Hi,
> >
> > I am implementing Twisted as an IMAP server.
> > The actual data is retrieved over API, both metadata and MIME messages.
> >
> > I am encountering several issues, but I could not find any clear cut answers besides trying and excepting...
> >
> > Are there examples of IMAP servers based on twisted or some experiments? (twimapd is nice but limited)
> 
> https://github.com/twisted/quotient <https://github.com/twisted/quotient> is a complete IMAP server.  I have not heard of 'twimapd' before; what is that?
> 
> But, rather than looking for an example which will fix all of your problems and answer all of your questions, perhaps you could just ask your questions here?
> 
> -glyph
> 
> 
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com <mailto:Twisted-Python at twistedmatrix.com>
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python <http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python>
> 
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python

-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20160215/18813143/attachment-0002.html>

From yeh at uda.co.il  Mon Feb 15 05:45:13 2016
From: yeh at uda.co.il (Yehuda Deutsch)
Date: Mon, 15 Feb 2016 14:45:13 +0200
Subject: [Twisted-Python] IMAP implementation
In-Reply-To: <82AB896E-4469-430D-A9E7-D093A3AF613E@twistedmatrix.com>
References: <CAAnGLd3u3BjnSJFOje251viG=zCmY4948vZ+jdGXjLZcmAs4dA@mail.gmail.com>
 <DC5D0040-51C4-4741-9D73-90D4FC06FABA@twistedmatrix.com>
 <CAAnGLd1wvoR+gXhx_bRGPNnQwWP7pHZKb4EgZykeSpLNKuMM1A@mail.gmail.com>
 <82AB896E-4469-430D-A9E7-D093A3AF613E@twistedmatrix.com>
Message-ID: <CAAnGLd3LrH6FF0VcDWDx3Q0SatkBmN4g66PGpeFNnqKRO35k5w@mail.gmail.com>

Ok, I'll try to dig more for now, and as for Twisted specific questions
I'll bring up here.

Twimapd is a tiny server for accessing Twitter tweets, mentions and more
via IMAP... cool POC.

Since I started using twisted I am trying not to see in every project a
nail...

Yehuda

------------------------------
*Yehuda Deutsch | IT Developer*

On Mon, Feb 15, 2016 at 12:29 PM, Glyph Lefkowitz <glyph at twistedmatrix.com>
wrote:

> I'm sorry, you're right; our IMAP code was in a previous iteration of that
> software :-\.
>
> -glyph
>
> On Feb 15, 2016, at 12:39 AM, Yehuda Deutsch <yeh at uda.co.il> wrote:
>
> I did not find the IMAP part there, only pop.
>
> Currently I am stuck with issues related to our API, and how to integrate
> it.
> I am working on a clone using gmail's API, should be the same. (can be
> useful for gmail imap sync behind firewall...)
>
> Yehuda
>
> ------------------------------
> *Yehuda Deutsch | IT Developer*
>
> On Mon, Feb 15, 2016 at 2:06 AM, Glyph Lefkowitz <glyph at twistedmatrix.com>
> wrote:
>
>>
>> > On Feb 14, 2016, at 2:59 AM, Yehuda Deutsch <yeh at uda.co.il> wrote:
>> >
>> > Hi,
>> >
>> > I am implementing Twisted as an IMAP server.
>> > The actual data is retrieved over API, both metadata and MIME messages.
>> >
>> > I am encountering several issues, but I could not find any clear cut
>> answers besides trying and excepting...
>> >
>> > Are there examples of IMAP servers based on twisted or some
>> experiments? (twimapd is nice but limited)
>>
>> https://github.com/twisted/quotient is a complete IMAP server.  I have
>> not heard of 'twimapd' before; what is that?
>>
>> But, rather than looking for an example which will fix all of your
>> problems and answer all of your questions, perhaps you could just ask your
>> questions here?
>>
>> -glyph
>>
>>
>> _______________________________________________
>> Twisted-Python mailing list
>> Twisted-Python at twistedmatrix.com
>> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>>
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
>
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20160215/a71503e0/attachment-0002.html>

From kaliyuga at riseup.net  Mon Feb 15 07:52:54 2016
From: kaliyuga at riseup.net (Kali Kaneko)
Date: Mon, 15 Feb 2016 10:52:54 -0400
Subject: [Twisted-Python] IMAP implementation
In-Reply-To: <CAAnGLd3u3BjnSJFOje251viG=zCmY4948vZ+jdGXjLZcmAs4dA@mail.gmail.com>
References: <CAAnGLd3u3BjnSJFOje251viG=zCmY4948vZ+jdGXjLZcmAs4dA@mail.gmail.com>
Message-ID: <f79fbc17ec46b5699e3c98187ae88ec9@riseup.net>

On 2016-02-14 06:59, Yehuda Deutsch wrote:

> Are there examples of IMAP servers based on twisted or some 
> experiments?
> (twimapd is nice but limited)

For what it's worth, at LEAP we're using heavily twisted IMAP for our 
local encrypted email proxy:

https://github.com/leapcode/leap_mail/

actually I should cleanup a couple of patches one of these days.

-- 
We reject: kings, presidents and voting.
We believe in: rough consensus and running code.



From yeh at uda.co.il  Mon Feb 15 09:08:16 2016
From: yeh at uda.co.il (Yehuda Deutsch)
Date: Mon, 15 Feb 2016 18:08:16 +0200
Subject: [Twisted-Python] IMAP implementation
In-Reply-To: <f79fbc17ec46b5699e3c98187ae88ec9@riseup.net>
References: <CAAnGLd3u3BjnSJFOje251viG=zCmY4948vZ+jdGXjLZcmAs4dA@mail.gmail.com>
 <f79fbc17ec46b5699e3c98187ae88ec9@riseup.net>
Message-ID: <CAAnGLd3Jp6+-oieov+x6q-0=5t7oA5BL+2ZvaFuVv7d=6Z1V3w@mail.gmail.com>

1. Thanks, this helps a lot. Already took some pointers and will look
through for more.
2. Great project, might be very useful, as is, for an organization where I
am a member.

Yehuda

------------------------------
*Yehuda Deutsch | IT Developer*

On Mon, Feb 15, 2016 at 4:52 PM, Kali Kaneko <kaliyuga at riseup.net> wrote:

> On 2016-02-14 06:59, Yehuda Deutsch wrote:
>
> Are there examples of IMAP servers based on twisted or some experiments?
>> (twimapd is nice but limited)
>>
>
> For what it's worth, at LEAP we're using heavily twisted IMAP for our
> local encrypted email proxy:
>
> https://github.com/leapcode/leap_mail/
>
> actually I should cleanup a couple of patches one of these days.
>
> --
> We reject: kings, presidents and voting.
> We believe in: rough consensus and running code.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20160215/4a62772d/attachment-0002.html>

From glyph at twistedmatrix.com  Mon Feb 15 15:18:42 2016
From: glyph at twistedmatrix.com (Glyph Lefkowitz)
Date: Mon, 15 Feb 2016 14:18:42 -0800
Subject: [Twisted-Python] IMAP implementation
In-Reply-To: <f79fbc17ec46b5699e3c98187ae88ec9@riseup.net>
References: <CAAnGLd3u3BjnSJFOje251viG=zCmY4948vZ+jdGXjLZcmAs4dA@mail.gmail.com>
 <f79fbc17ec46b5699e3c98187ae88ec9@riseup.net>
Message-ID: <B6D90D94-2825-49F1-A435-470C7BC63F5F@twistedmatrix.com>


> On Feb 15, 2016, at 6:52 AM, Kali Kaneko <kaliyuga at riseup.net> wrote:
> 
> On 2016-02-14 06:59, Yehuda Deutsch wrote:
> 
>> Are there examples of IMAP servers based on twisted or some experiments?
>> (twimapd is nice but limited)
> 
> For what it's worth, at LEAP we're using heavily twisted IMAP for our local encrypted email proxy:
> 
> https://github.com/leapcode/leap_mail/
> 
> actually I should cleanup a couple of patches one of these days.

Wow, this looks like a very cool project!

Would you have any interest in submitting a success story https://twistedmatrix.com/trac/wiki/SuccessStories to success at twistedmatrix.com?

-glyph


From hawkowl at atleastfornow.net  Mon Feb 15 23:39:05 2016
From: hawkowl at atleastfornow.net (Amber "Hawkie" Brown)
Date: Tue, 16 Feb 2016 14:39:05 +0800
Subject: [Twisted-Python] Twisted 16.0pre1 Announcement
Message-ID: <7A0FAF3E-C053-4955-A298-3EBA1D8F540E@atleastfornow.net>

Hi everyone, it's time for another Twisted release!

Twisted 16.0 brings some important changes, and some nice-to-haves as well. The major things are:

- TLS endpoints have arrived! They're like the old `ssl:` endpoints, but support faster IPv4/IPv6 connections (using HostnameEndpoint) and always do hostname verification.
- Conch now uses Cryptography instead of PyCrypto for underlying cryptographic operations. This means it'll work much better on PyPy!
- Headers objects (notably used by t.web.server.Request) now support Unicode for the vast majority of cases, encoding keys to ISO-8859-1 and values to UTF-8.
- WSGI support and AMP have been ported to Python 3, along with a handful of other modules.
- More shedding of the past, with the GTK+ 1 reactor being removed.
- Over 45 tickets have been closed.

As usual, it's available for download -- go here (https://twistedmatrix.com/Releases/pre/16.0.0pre1/) to get the prerelease tarballs and the full NEWS file.

Please let me know if you have any issues, as well as if you don't! If everything works well, that's a good thing for me to know :)

Thanks! <3

- Amber Brown
Twisted Release Manager
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 455 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: </pipermail/twisted-python/attachments/20160216/2423bfcc/attachment.sig>

From epalmer at farmersagent.com  Mon Feb 15 23:39:58 2016
From: epalmer at farmersagent.com (Emily Palmer)
Date: Tue, 16 Feb 2016 06:39:58 -0000
Subject: [Twisted-Python] Twisted 16.0pre1 Announcement
Message-ID: <968uBPgn75053T02.1455604798@cm02.cms.usa.net>

An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20160216/b298f99f/attachment-0002.html>

From hawkowl at atleastfornow.net  Fri Feb 19 08:42:44 2016
From: hawkowl at atleastfornow.net (Amber "Hawkie" Brown)
Date: Fri, 19 Feb 2016 23:42:44 +0800
Subject: [Twisted-Python] Twisted + OpenSSL 1.0.2f issues resolved
Message-ID: <2E70D7CD-1E23-4691-B23F-3EFF2A386CC6@atleastfornow.net>

Hi everyone,

Since Tristan Seligmann has fixed https://twistedmatrix.com/trac/ticket/8189 , and the CFFI crash-on-shutdown bugs have been resolved upstream, Twisted is now fully compatible with OpenSSL 1.0.2f as included in Cryptography 1.2.2, and as included in distributions that have been updated.

This fix is in Twisted trunk, but did not make it into Twisted 16.0. Twisted 16.1 will include the fix.

Thanks to Tristan and Glyph (the reviewer) for getting this issue fixed.

- Amber
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 455 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: </pipermail/twisted-python/attachments/20160219/3e16dd14/attachment.sig>

From epalmer at farmersagent.com  Fri Feb 19 08:43:44 2016
From: epalmer at farmersagent.com (Emily Palmer)
Date: Fri, 19 Feb 2016 15:43:44 -0000
Subject: [Twisted-Python] Twisted + OpenSSL 1.0.2f issues resolved
Message-ID: <382uBsPrS6365T02.1455896624@cm02.cms.usa.net>

An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20160219/0f7a9f91/attachment-0002.html>

From mashiat.sarker at gmail.com  Fri Feb 19 09:47:30 2016
From: mashiat.sarker at gmail.com (Mashiat Sarker Shakkhar)
Date: Fri, 19 Feb 2016 11:47:30 -0500
Subject: [Twisted-Python] Twisted + OpenSSL 1.0.2f issues resolved
In-Reply-To: <382uBsPrS6365T02.1455896624@cm02.cms.usa.net>
References: <382uBsPrS6365T02.1455896624@cm02.cms.usa.net>
Message-ID: <CAOfeCWWAbmiKuAFOcF4GYju2D_m8q+0iWsvtkw=EMDD5b_QuKQ@mail.gmail.com>

Will one of the ML admins please ban the address sending these emails? It
is a little annoying. Not sure if anyone else is getting them.

On Fri, Feb 19, 2016 at 10:43 AM, Emily Palmer <epalmer at farmersagent.com>
wrote:

> To Whom it May Concern:
> It has truly been an honor to be your insurance agent over the many years
> that we have been in business! Today it saddens my heart to inform you that
> The Palmer Agency will no longer be able to handle your insurance needs at
> this time. Some of you are aware and some are not on the difficult battle
> that took place beginning in 2013 - trying to save the life of my infant
> son (while I was pregnant). I do not regret any decisions that I made to
> try everything I humanly could to save my son - even though it was
> unsuccessful & now he rests in the arms of Jesus. Today I still have
> multiple complications from the decisions that I made to fight for my son
> and I have multiple, complicated hospital stays that I must focus on. If
> you would have asked me years ago if I would no longer be a Farmers Agent
> so soon I would have never believed you - but also if you would have asked
> me if I would have had my home burn down to the ground, or my son die in my
> arms exhausting all options that I could do I would never believe that
> either! Unfortunately we are not promised an easy life or a fair life. That
> is why we have to life each day as if it is our last day and put God first
> every day. Everyday I choose to pick up my cross daily. Right now in my
> career - I can no longer be your agent. I am so sorry for this. I am
> honored that you have chosen me for this because I do know that you have
> the option to chose. I hope that you can understand that right now I need
> to focus on being the best Mommy/Wife to an amazing husband, and two
> beautiful girls that I still have here for as long as possible!
>
> I know reading this could be filled with anger and frustration but I pray
> that you find understanding in your heart for my situation. You are not
> going to be left out in the cold. There are great notes on every single
> account. You are still with the most amazing company Farmers Insurance. At
> the end of this email you will have all the contact information needed to
> be able to get in touch with anyone on your account. It has been great
> getting to know each and every one of you and your families. I pray nothing
> but the best for all of your families! I would like to assure each and
> everyone of you that I made sure that I didn't leave until everything was
> in place to make sure every client would be completely taken care of - you
> can verify that if needed. I got with the district office & I put off
> multiple needed medical stays to assure that not even one client wouldn't
> have a way to reach an agent to help them! I wouldn't want to be treated
> that way & I wouldn't want to treat any of my clients that way!
>
>
> Most importantly in this Goodbye I would want you to take a moment and
> look at your life. Is it over whelming? I can remember when I thought that
> things were so hectic and stressful....then my house burned down. Then I
> thought....it doesn't get any worse then that. Then I got pregnant while I
> was in transition from my house burning down. Then I found out my son had a
> multi-cystic kidney & no Dr's wanted to help me! Then I had to go around
> the country begging for help convincing Dr's that my son's life mattered!
> Then I endured painful treatments multiple times a week to save my
> son......then I got an infection and my son passed away before Christmas &
> I remember thinking can't I go back to when I thought life was hectic and
> stressful? If you have healthy & happy children you will never know how
> blessed you truly are! I thank God for every moment I have had with my
> children. God never promised life would be easy. I urge anyone reading this
> to get into God's word and his promises and he can and will turn whatever
> situation your in around if you allow him!
>
>
> Thank You All & God Bless,
>
>
> *Emily Palmer*
>
>
>
> Customer Toll Free
>
>
>    - Phone:(877) 411-1344
>    - Bristol West:(888) 888-0080 <18888880080>(888) 888-0080
>    - Farmers.com:(888) 327-6335 <18883276335>(888) 327-6335
>    - Farmers Claims:(800) 435-7764 <18004357764>(800) 435-7764
>    - Foremost Claims:(800) 527-3907 <18005273907>(800) 527-3907
>    - 21st Century Claims:(888) 244-6163 <18882446163>(888)t244-6163
>    - Workers <18669675256>
>    - Comp Claims:(866) 967-5256 <18669675256>(866) 967-5256
>    - Account Question - 972-801-2580
>
>
>
>
>
>
>
>
>
>
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20160219/d773e925/attachment-0002.html>

From glyph at twistedmatrix.com  Sat Feb 20 02:33:07 2016
From: glyph at twistedmatrix.com (Glyph Lefkowitz)
Date: Sat, 20 Feb 2016 01:33:07 -0800
Subject: [Twisted-Python] Twisted + OpenSSL 1.0.2f issues resolved
In-Reply-To: <CAOfeCWWAbmiKuAFOcF4GYju2D_m8q+0iWsvtkw=EMDD5b_QuKQ@mail.gmail.com>
References: <382uBsPrS6365T02.1455896624@cm02.cms.usa.net>
 <CAOfeCWWAbmiKuAFOcF4GYju2D_m8q+0iWsvtkw=EMDD5b_QuKQ@mail.gmail.com>
Message-ID: <B559FCDE-3C12-46AC-886B-CFB592C17EAD@twistedmatrix.com>


> On Feb 19, 2016, at 8:47 AM, Mashiat Sarker Shakkhar <mashiat.sarker at gmail.com> wrote:
> 
> Will one of the ML admins please ban the address sending these emails? It is a little annoying. Not sure if anyone else is getting them.

Sorry; I assumed this person had accidentally left their autoresponder on and would notice.  Upon actually reading the message I assume that they subscribed by accident (spammers seem to periodically attempt to mass-subscribe people using our listserv, I have no idea why, and some of them click the "yes subscribe me" link for some reason).

They've been removed from the lists now.

-glyph




From ex.vitorino at gmail.com  Sun Feb 21 20:14:06 2016
From: ex.vitorino at gmail.com (exvito here)
Date: Mon, 22 Feb 2016 03:14:06 +0000
Subject: [Twisted-Python] Windows spawnProcess - Child process inherits
 files and sockets (POSIX does not)
Message-ID: <CADtv4OC=7N9w4MLY62AkqC2K0wKjjM0dezM86URFGwBba5cDcg@mail.gmail.com>

Hello all,

I filed https://twistedmatrix.com/trac/ticket/7970 last summer while
focused on a particular project that was hit by it. Since then I had to
attend to other things and I'm now back to refocusing on that project.

The subject says most of it, but the ticket has more information, including
why this isn't an issue on Python >= 3.4 ( my project is on 2.7...) :/

Before submitting a patch for review, I'm looking for preliminary feedback,
assuming you agree that the Windows vs POSIX semantics should be the same
(if not, why?).

My patch calls a few Windows APIs via ctypes, however, as far as I can
tell, Twisted on Windows requires pywin32 and, recently, there has been
some discussion around dropping that dependency and moving towards
something based on cffi.

What would you say the way forward is? Should I submit the patch for review
anyway? Is there any other work that needs to be done first that I may
contribute to?

Thanks in advance for Twisted and for your feedback,
--
exvito
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20160222/a34adcb8/attachment-0002.html>

From p.mayers at imperial.ac.uk  Mon Feb 22 08:26:48 2016
From: p.mayers at imperial.ac.uk (Phil Mayers)
Date: Mon, 22 Feb 2016 15:26:48 +0000
Subject: [Twisted-Python] Twisted + OpenSSL 1.0.2f issues resolved
In-Reply-To: <B559FCDE-3C12-46AC-886B-CFB592C17EAD@twistedmatrix.com>
References: <382uBsPrS6365T02.1455896624@cm02.cms.usa.net>
 <CAOfeCWWAbmiKuAFOcF4GYju2D_m8q+0iWsvtkw=EMDD5b_QuKQ@mail.gmail.com>
 <B559FCDE-3C12-46AC-886B-CFB592C17EAD@twistedmatrix.com>
Message-ID: <56CB28B8.5000508@imperial.ac.uk>

On 20/02/16 09:33, Glyph Lefkowitz wrote:

> I assume that they subscribed by accident (spammers seem to
> periodically attempt to mass-subscribe people using our listserv, I
> have no idea why, and some of them click the "yes subscribe me" link
> for some reason).

FWIW, our local mailman install is patched to require a captcha (and to 
disable email-based subscribe) to solve this exact problem.



From glyph at twistedmatrix.com  Mon Feb 22 14:18:40 2016
From: glyph at twistedmatrix.com (Glyph Lefkowitz)
Date: Mon, 22 Feb 2016 15:18:40 -0600
Subject: [Twisted-Python] Twisted + OpenSSL 1.0.2f issues resolved
In-Reply-To: <56CB28B8.5000508@imperial.ac.uk>
References: <382uBsPrS6365T02.1455896624@cm02.cms.usa.net>
 <CAOfeCWWAbmiKuAFOcF4GYju2D_m8q+0iWsvtkw=EMDD5b_QuKQ@mail.gmail.com>
 <B559FCDE-3C12-46AC-886B-CFB592C17EAD@twistedmatrix.com>
 <56CB28B8.5000508@imperial.ac.uk>
Message-ID: <2A891185-C55A-4BAC-99A1-C0B6D64C7099@twistedmatrix.com>


> On Feb 22, 2016, at 09:26, Phil Mayers <p.mayers at imperial.ac.uk> wrote:
> 
> On 20/02/16 09:33, Glyph Lefkowitz wrote:
> 
>> I assume that they subscribed by accident (spammers seem to
>> periodically attempt to mass-subscribe people using our listserv, I
>> have no idea why, and some of them click the "yes subscribe me" link
>> for some reason).
> 
> FWIW, our local mailman install is patched to require a captcha (and to disable email-based subscribe) to solve this exact problem.

Is this simple to do?

-g


From p.mayers at imperial.ac.uk  Tue Feb 23 06:14:42 2016
From: p.mayers at imperial.ac.uk (Phil Mayers)
Date: Tue, 23 Feb 2016 13:14:42 +0000
Subject: [Twisted-Python] Twisted + OpenSSL 1.0.2f issues resolved
In-Reply-To: <2A891185-C55A-4BAC-99A1-C0B6D64C7099@twistedmatrix.com>
References: <382uBsPrS6365T02.1455896624@cm02.cms.usa.net>
 <CAOfeCWWAbmiKuAFOcF4GYju2D_m8q+0iWsvtkw=EMDD5b_QuKQ@mail.gmail.com>
 <B559FCDE-3C12-46AC-886B-CFB592C17EAD@twistedmatrix.com>
 <56CB28B8.5000508@imperial.ac.uk>
 <2A891185-C55A-4BAC-99A1-C0B6D64C7099@twistedmatrix.com>
Message-ID: <56CC5B42.5000806@imperial.ac.uk>

On 22/02/16 21:18, Glyph Lefkowitz wrote:
>
>> On Feb 22, 2016, at 09:26, Phil Mayers <p.mayers at imperial.ac.uk>
>> wrote:
>>
>> On 20/02/16 09:33, Glyph Lefkowitz wrote:
>>
>>> I assume that they subscribed by accident (spammers seem to
>>> periodically attempt to mass-subscribe people using our listserv,
>>> I have no idea why, and some of them click the "yes subscribe me"
>>> link for some reason).
>>
>> FWIW, our local mailman install is patched to require a captcha
>> (and to disable email-based subscribe) to solve this exact
>> problem.
>
> Is this simple to do?

It was pretty easy. I originally followed this recipe:

https://www.dragonsreach.it/2014/05/03/adding-recaptcha-support-to-mailman/

However, I had to tweak it slightly - some of the mailman "HTML" (I use 
that term loosely) had weird tag nesting that broke the captcha form 
submission on newer browsers (some monstrosity like 
<table><tr><td><form>...</table></form>)

I'll sling you the diff against 2.1.12 that we use off-list, feel free 
to use or modify as appropriate.



From hawkowl at atleastfornow.net  Sat Feb 27 21:20:40 2016
From: hawkowl at atleastfornow.net (Amber "Hawkie" Brown)
Date: Sun, 28 Feb 2016 12:20:40 +0800
Subject: [Twisted-Python] Twisted 16.0.0 Prerelease 2 Announcement
Message-ID: <4CC0E15B-B37C-4C46-BE88-90F2151F4B24@atleastfornow.net>

Hi everyone,

A few issues were identified in Twisted 16.0.0pre1 by the Canonical MAAS team, related to the twisted.conch.ssh.keys module missing some dependencies when installed on Python 3.

These issues have been fixed and are in Twisted 16.0.0pre2. You can find it and the NEWS file at https://twistedmatrix.com/Releases/pre/16.0.0pre2/ .

If no further issues are identified, Twisted 16.0 will be released this week.

- Amber Brown
Twisted Release Manager
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 455 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: </pipermail/twisted-python/attachments/20160228/1543b98b/attachment.sig>

From glyph at twistedmatrix.com  Sun Feb 28 22:41:19 2016
From: glyph at twistedmatrix.com (Glyph Lefkowitz)
Date: Mon, 29 Feb 2016 00:41:19 -0500
Subject: [Twisted-Python] Twisted 16.0.0 Prerelease 2 Announcement
In-Reply-To: <4CC0E15B-B37C-4C46-BE88-90F2151F4B24@atleastfornow.net>
References: <4CC0E15B-B37C-4C46-BE88-90F2151F4B24@atleastfornow.net>
Message-ID: <1D8DB7CE-50EF-4787-B31B-E3FBEBFD6C34@twistedmatrix.com>


> On Feb 27, 2016, at 23:20, Amber Hawkie Brown <hawkowl at atleastfornow.net> wrote:
> 
> Hi everyone,
> 
> A few issues were identified in Twisted 16.0.0pre1 by the Canonical MAAS team, related to the twisted.conch.ssh.keys module missing some dependencies when installed on Python 3.
> 
> These issues have been fixed and are in Twisted 16.0.0pre2. You can find it and the NEWS file at https://twistedmatrix.com/Releases/pre/16.0.0pre2/ .
> 
> If no further issues are identified, Twisted 16.0 will be released this week.

Oops!  Looks like we have another issue to contend with before the release: https://twistedmatrix.com/trac/ticket/8222#comment:1

-glyph


