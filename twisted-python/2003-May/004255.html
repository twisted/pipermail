<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] [Tutor] Help on personnal Proxy
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20%5BTutor%5D%20Help%20on%20personnal%20Proxy&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004257.html">
   <LINK REL="Next"  HREF="004258.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] [Tutor] Help on personnal Proxy</H1>
    <B>POYEN OP Olivier (DCL)</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20%5BTutor%5D%20Help%20on%20personnal%20Proxy&In-Reply-To="
       TITLE="[Twisted-Python] [Tutor] Help on personnal Proxy">Olivier.POYEN at clf-dexia.com
       </A><BR>
    <I>Tue May 27 05:54:45 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="004257.html">[Twisted-Python] bug and patch: embedded LivePages
</A></li>
        <LI>Next message: <A HREF="004258.html">[Twisted-Python] Using usage.Options documentation error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4255">[ date ]</a>
              <a href="thread.html#4255">[ thread ]</a>
              <a href="subject.html#4255">[ subject ]</a>
              <a href="author.html#4255">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> The short answer to your question is to replace:
</I>&gt;<i> 
</I>&gt;<i>    f.HTTPChannel=proxy.Proxy
</I>&gt;<i> 
</I>&gt;<i> with:
</I>&gt;<i> 
</I>&gt;<i>    f.protocol=proxy.Proxy
</I>&gt;<i> 
</I>
Can I stress that f.HTTPChannel comes from the docstring from the Proxy Class in the proxy.py file from Twisted. 
If this is the &quot;official&quot; way to do, maybe should someone change the docstring....

Anyway.

When doing so, I have some trouble with the &quot;as-is&quot; proxy. 
Some exceptions occured:

My current parameters are :
Twisted 1.0.5 for python 2.2
export http_proxy='<A HREF="http://localhost:8765'">http://localhost:8765'</A> # for the proxy

And the current web server is running on localhost:8080

The issue is that, when doing a 'wget <A HREF="http://localhost:8080',">http://localhost:8080',</A> in web.proxy.py, there is, at line 113
host,port= string.split
Thus, port became a string. 
And in internet.tcp.py, there is a test for isInstance(port,StringTypes), which matches.....

With a single port=int(port) before calling reactor.connectTcP in web.prxoy, ezverything works.

Am I dead wrong ? 



&gt;<i> Or, I've written a (yet another) web proxy that you might 
</I>&gt;<i> want to try too.  Using my MinProxy ....
</I>&gt;<i> 
</I>I'll gladly have a look !

Thanks !

OPQ
-------------- next part --------------
-----------------------------------------------------------------

Ce message est confidentiel ; son contenu ne represente en aucun

cas un engagement de la part de Dexia Credit Local ou de Dexia

CLF Banque. Toute publication, utilisation ou diffusion, meme

partielle, doit etre autorisee prealablement par l'emetteur. Si

vous n'etes pas destinataire de ce message, merci d'en avertir

immediatement l'expediteur.



This message is confidential ; its contents do not constitute a

commitment by Dexia Credit Local or Dexia CLF Banque. Any

unauthorised disclosure, use or dissemination, either whole or

partial, is prohibited. If you are not the intended recipient of

the message, please notify the sender immediately.

-----------------------------------------------------------------

Consultez notre site internet www.dexia-clf.fr

La cle d'une gestion optimisee du secteur public local

-----------------------------------------------------------------
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004257.html">[Twisted-Python] bug and patch: embedded LivePages
</A></li>
	<LI>Next message: <A HREF="004258.html">[Twisted-Python] Using usage.Options documentation error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4255">[ date ]</a>
              <a href="thread.html#4255">[ thread ]</a>
              <a href="subject.html#4255">[ subject ]</a>
              <a href="author.html#4255">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
