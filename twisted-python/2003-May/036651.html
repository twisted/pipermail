<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Twisted.Web and Perl CGIs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted.Web%20and%20Perl%20CGIs&In-Reply-To=%3Cm2addiwstm.fsf%40orbtech.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="036655.html">
   <LINK REL="Next"  HREF="036676.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Twisted.Web and Perl CGIs</H1>
    <B>Patrick K. O'Brien</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted.Web%20and%20Perl%20CGIs&In-Reply-To=%3Cm2addiwstm.fsf%40orbtech.com%3E"
       TITLE="[Twisted-Python] Twisted.Web and Perl CGIs">pobrien at orbtech.com
       </A><BR>
    <I>Mon May 19 15:05:25 MDT 2003</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="036655.html">[Twisted-Python] Twisted and SQL-Ledger
</A></li>
        <LI>Next message (by thread): <A HREF="036676.html">[Twisted-Python] Re: Twisted.Web and Perl CGIs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36651">[ date ]</a>
              <a href="thread.html#36651">[ thread ]</a>
              <a href="subject.html#36651">[ subject ]</a>
              <a href="author.html#36651">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm having trouble getting a Twisted.Web configured properly to work
with some Perl CGI scripts.  The Perl scripts are part of SQL-Ledger,
and their instructions are for Apache, but I'm hoping to using Twisted
instead of Apache.

To begin, they suggest the following for http.conf, and I'm not sure
how to go about creating the equivalent environment with Twisted:

----
create a file sql-ledger-httpd.conf in the same location
where your httpd.conf is and copy the next section into the file

  Alias /sql-ledger/ /usr/local/sql-ledger/
  &lt;Directory /usr/local/sql-ledger&gt;
    AddHandler cgi-script .pl
    Options ExecCGI Includes FollowSymlinks
  &lt;/Directory&gt;

  &lt;Directory /usr/local/sql-ledger/users&gt;
    Order Deny,Allow
    Deny from All
  &lt;/Directory&gt;

edit httpd.conf and add

  # SQL-Ledger
  Include &lt;ServerRoot&gt;/sql-ledger-httpd.conf

Note: Replace &lt;ServerRoot&gt; with the server's root directory!

restart your web server.
----

I think the need for FollowSymlinks is what's causing me problems when
I try to create a .rpy file that allows Perl CGIs.  I've tried several
variations of the .rpy file from the Twisted documentation, but can't
get one that works.  Here is where I gave up:

----
from twisted.web import static, twcgi

class PerlScript(twcgi.FilteredScript):
    filter = '/usr/bin/perl' # Points to the perl parser

resource = static.File(&quot;/sql-ledger&quot;) # Points to the perl website
resource.processors = {&quot;.pl&quot;: PerlScript} # Files that end with .pl will be
                                          # processed by PerlScript
resource.indexNames = ['admin.pl']
----

I think one of the problems (besides the fact that I don't know
Twisted well enough) is that the admin.pl script is actually a symlink
to login.pl.  Would that be a problem?  I also don't understand what I
should be pointing to as a parameter to static.File().

Any help would be greatly appreciated.  The SQL-Ledger installation
instructions are here, in case that helps:

<A HREF="http://www.sql-ledger.org/cgi-bin/nav.pl?page=source/readme.txt&amp;title=README">http://www.sql-ledger.org/cgi-bin/nav.pl?page=source/readme.txt&amp;title=README</A>

Thanks,

Pat

-- 
Patrick K. O'Brien
Orbtech      <A HREF="http://www.orbtech.com/web/pobrien">http://www.orbtech.com/web/pobrien</A>
-----------------------------------------------
&quot;Your source for Python programming expertise.&quot;
-----------------------------------------------



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="036655.html">[Twisted-Python] Twisted and SQL-Ledger
</A></li>
	<LI>Next message (by thread): <A HREF="036676.html">[Twisted-Python] Re: Twisted.Web and Perl CGIs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36651">[ date ]</a>
              <a href="thread.html#36651">[ thread ]</a>
              <a href="subject.html#36651">[ subject ]</a>
              <a href="author.html#36651">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
