<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] SOAP and XML-RPC stuff
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20SOAP%20and%20XML-RPC%20stuff&In-Reply-To=%3C20030526071534.GA5345%40frobozz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="036735.html">
   <LINK REL="Next"  HREF="036743.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] SOAP and XML-RPC stuff</H1>
    <B>Andrew Bennetts</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20SOAP%20and%20XML-RPC%20stuff&In-Reply-To=%3C20030526071534.GA5345%40frobozz%3E"
       TITLE="[Twisted-Python] SOAP and XML-RPC stuff">andrew-twisted at puzzling.org
       </A><BR>
    <I>Mon May 26 01:15:34 MDT 2003</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="036735.html">[Twisted-Python] SOAP and XML-RPC stuff
</A></li>
        <LI>Next message (by thread): <A HREF="036743.html">[Twisted-Python] Re: SOAP and XML-RPC stuff
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36737">[ date ]</a>
              <a href="thread.html#36737">[ thread ]</a>
              <a href="subject.html#36737">[ subject ]</a>
              <a href="author.html#36737">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, May 25, 2003 at 10:01:57PM -0600, Andrew Dalke wrote:
&gt;<i> <A HREF="http://www.twistedmatrix.com/documents/howto/xmlrpc">http://www.twistedmatrix.com/documents/howto/xmlrpc</A>
</I>&gt;<i> 
</I>&gt;<i> Has a link under
</I>&gt;<i> 
</I>&gt;<i>  &quot;In addition, XML-RPC published methods can return  
</I>&gt;<i> twisted.python.defer.Deferred&quot;
</I>&gt;<i> 
</I>&gt;<i> The last word is hyperlinked to
</I>&gt;<i>    
</I>&gt;<i> <A HREF="http://twistedmatrix.com/documents/TwistedDocs/current/api/public/">http://twistedmatrix.com/documents/TwistedDocs/current/api/public/</A> 
</I>&gt;<i> twisted.python.defer.Deferred.html
</I>&gt;<i> 
</I>&gt;<i> which does not exist.
</I>
Thanks -- fixed in CVS.

&gt;<i> <A HREF="http://twistedmatrix.com/documents/TwistedDocs/current/api/public/">http://twistedmatrix.com/documents/TwistedDocs/current/api/public/</A> 
</I>&gt;<i> twisted.web.xmlrpc.XMLRPC.html
</I>&gt;<i> says
</I>&gt;<i>  Faults,  Binray, Boolean, DateTime, Deferreds, or Handler instances.
</I>&gt;<i> 
</I>&gt;<i> typo: &quot;Binray&quot; --&gt; &quot;Binary&quot;
</I>
Ditto.

&gt;<i> Here's a patch to work with SOAPpy 0.10
</I>
I'll let someone else more knowledgeable comment on this.

&gt;<i> How do I run both an XML-RPC and a SOAP server on the same server?
</I>&gt;<i> I tried something like
</I>&gt;<i> 
</I>&gt;<i> def main():
</I>&gt;<i>     from twisted.internet.app import Application
</I>&gt;<i>     app = Application(&quot;xmlrpc&quot;)
</I>&gt;<i> 
</I>&gt;<i>     r = XMLRPC_Calc()
</I>&gt;<i>     app.listenTCP(7080, server.Site(r))
</I>&gt;<i> 
</I>&gt;<i>     r = SOAP_Calc()
</I>&gt;<i>     app.listenTCP(7080, server.Site(r))
</I>
Obviously you can't have multiple things listening on port 7080.  Perhaps
this should raise an exception, though, so as to not seem like it can.

Here you've constructed two seperate server.Site instances, i.e. Twisted Web
HTTP servers, but what you want is one Twisted Web server that does multiple
things.

&gt;<i> But that doesn't work - the SOAP requests go to the XML-RPC server.
</I>&gt;<i> Is there some way to say that &quot;/RPC2&quot; is for XML-RPC and that &quot;/SOAP&quot;
</I>&gt;<i> is for SOAP?
</I>
I suspect you can probably do:

    from twisted.web.resource import Resource
    
    root = Resource()           # An empty resource
    site = server.Site(root)
    root.putChild('RPC2', XMLRPC_Calc())
    root.putChild('SOAP', SOAP_Calc())
    
    app.listenTCP(7080, site)

-Andrew.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="036735.html">[Twisted-Python] SOAP and XML-RPC stuff
</A></li>
	<LI>Next message (by thread): <A HREF="036743.html">[Twisted-Python] Re: SOAP and XML-RPC stuff
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36737">[ date ]</a>
              <a href="thread.html#36737">[ thread ]</a>
              <a href="subject.html#36737">[ subject ]</a>
              <a href="author.html#36737">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
