<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] getProcessOutput ok to use in a DeferredList?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20getProcessOutput%20ok%20to%20use%20in%20a%20DeferredList%3F&In-Reply-To=%3C20030526072823.GB5345%40frobozz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="036736.html">
   <LINK REL="Next"  HREF="036754.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] getProcessOutput ok to use in a DeferredList?</H1>
    <B>Andrew Bennetts</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20getProcessOutput%20ok%20to%20use%20in%20a%20DeferredList%3F&In-Reply-To=%3C20030526072823.GB5345%40frobozz%3E"
       TITLE="[Twisted-Python] getProcessOutput ok to use in a DeferredList?">andrew-twisted at puzzling.org
       </A><BR>
    <I>Mon May 26 01:28:23 MDT 2003</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="036736.html">[Twisted-Python] getProcessOutput ok to use in a DeferredList?
</A></li>
        <LI>Next message (by thread): <A HREF="036754.html">[Twisted-Python] getProcessOutput ok to use in a  DeferredList?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36738">[ date ]</a>
              <a href="thread.html#36738">[ thread ]</a>
              <a href="subject.html#36738">[ subject ]</a>
              <a href="author.html#36738">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, May 26, 2003 at 04:50:58PM +1000, Stuart Hungerford wrote:

&gt;<i> I'd like to make use of the very neat DeferredList and also the
</I>&gt;<i> utility function getProcessOutput(). My understanding is that
</I>&gt;<i> getProcessOutput() returns a Deferred that returns a string of
</I>&gt;<i> the process output.
</I>
Your understanding is correct.

&gt;<i> Are there any issues with passing a list of getProcessOutput()
</I>&gt;<i> results to a DeferredList?  I understand the DeferredList still
</I>&gt;<i> needs its own callback registered for completion of the list of
</I>&gt;<i> deferreds.
</I>
There's nothing special going on.  As far as a DeferredList is concerned,
all Deferreds are the same.  Where the Deferred comes from is irrelevant.

&gt;<i> My initial tests with this setup just seem to suspend and not
</I>&gt;<i> return, which is almost certainly something I've misunderstood
</I>&gt;<i> in using Deferreds.
</I>
I suspect you're right, you probably are misunderstanding something.  It's
hard to say what, though, without more information.  (But when something is
mysteriously freezing, it's hard to know what information to give!)

A DeferredList, by default, calls its callbacks *only when all of its
Deferreds have fired*.  (If some of the Deferreds fail, that's ok, just so
long as they all call their callback/errback at some point).  A DeferredList
has no way of reporting partial results.

I'm going to guess what your problem might be, based on a problem I once
had.  :)

If you have multiple Deferreds, some &quot;depend&quot; on others, DeferredList's
default behaviour isn't what you want.  By &quot;depend&quot; I mean if Deferred A
fails (and so fires its errback, not callback), then Deferred B will never
be called, i.e. B depends on A.  (This is not official terminology! :).

In that case, you probably want to use the fireOnOneErrback flag of
DeferredList.  This changes the behaviour of DeferredList so that it will
fire its callbacks as soon as either:
    - All its Deferreds have fired their callbacks, or
    - any of its Deferreds have fired an errback.

Does any of this help you?

-Andrew.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="036736.html">[Twisted-Python] getProcessOutput ok to use in a DeferredList?
</A></li>
	<LI>Next message (by thread): <A HREF="036754.html">[Twisted-Python] getProcessOutput ok to use in a  DeferredList?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36738">[ date ]</a>
              <a href="thread.html#36738">[ thread ]</a>
              <a href="subject.html#36738">[ subject ]</a>
              <a href="author.html#36738">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
