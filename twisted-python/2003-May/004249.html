<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Safe Pickling using banana and jelly
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Safe%20Pickling%20using%20banana%20and%20jelly&In-Reply-To=20030526223106.GC16017%40toshi.anaprd01.md.comcast.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004239.html">
   <LINK REL="Next"  HREF="004250.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Safe Pickling using banana and jelly</H1>
    <B>Heiko Wundram</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Safe%20Pickling%20using%20banana%20and%20jelly&In-Reply-To=20030526223106.GC16017%40toshi.anaprd01.md.comcast.net"
       TITLE="[Twisted-Python] Safe Pickling using banana and jelly">heiko at ph0enix.homelinux.org
       </A><BR>
    <I>Mon May 26 20:38:07 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="004239.html">[Twisted-Python] Safe Pickling using banana and jelly
</A></li>
        <LI>Next message: <A HREF="004250.html">[Twisted-Python] Safe Pickling using banana and jelly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4249">[ date ]</a>
              <a href="thread.html#4249">[ thread ]</a>
              <a href="subject.html#4249">[ subject ]</a>
              <a href="author.html#4249">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, 2003-05-27 at 00:31, Christopher Armstrong wrote:
&gt;<i> Well, by default PB (which I assume is what Heiko is using) does
</I>
No, I'm not using PB, just using jelly and banana on their own for
encoding network packets. As I thought that it was way too insecure to
have to code my own object checking function, I've written my own
serializer in the mean time... :)

The arguments that Andrew put forth reminded me of Python pickle, and
that just doesn't work over an insecure transport, with the remote ends
not even being known (maybe).

What my serializer now basically does is only allow standard Python
objects to be serialized/unserialized, and classes that have been
explicitly registered with the Serializer. These classes implement
__serialize and __unserialize, to return their internal state as a base
Python object (or classes that have been registered), which are then
dumped to the stream. The serializer plays nice with class inheritance,
serializing all base classes, and unserializing them in the reverse
order.

__unserialize can e.g. do object checking after being unserialized, or
change parameters that have been received over the network.

The serializer currently _cannot_ handle recursive objects, but I guess
it could be extended to handle that too.

If there's any interest in the code, feel free to mail me. :) Maybe even
a remote chance to get it included in Twisted (oh what a hypocrite I
am).

Heiko.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004239.html">[Twisted-Python] Safe Pickling using banana and jelly
</A></li>
	<LI>Next message: <A HREF="004250.html">[Twisted-Python] Safe Pickling using banana and jelly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4249">[ date ]</a>
              <a href="thread.html#4249">[ thread ]</a>
              <a href="subject.html#4249">[ subject ]</a>
              <a href="author.html#4249">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
