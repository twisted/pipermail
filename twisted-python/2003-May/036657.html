<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Need advice on changing blocking calls to be Twisted-aware...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Need%20advice%20on%20changing%20blocking%20calls%20to%20be%20Twisted-aware...&In-Reply-To=%3C5.2.0.9.0.20030520155728.00b840a0%40anusf.anu.edu.au%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="036666.html">
   <LINK REL="Next"  HREF="036658.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Need advice on changing blocking calls to be Twisted-aware...</H1>
    <B>Stuart Hungerford</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Need%20advice%20on%20changing%20blocking%20calls%20to%20be%20Twisted-aware...&In-Reply-To=%3C5.2.0.9.0.20030520155728.00b840a0%40anusf.anu.edu.au%3E"
       TITLE="[Twisted-Python] Need advice on changing blocking calls to be Twisted-aware...">stuart.hungerford at anu.edu.au
       </A><BR>
    <I>Tue May 20 00:07:43 MDT 2003</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="036666.html">[Twisted-Python] Woven and non-breaking spaces
</A></li>
        <LI>Next message (by thread): <A HREF="036658.html">[Twisted-Python] Need advice on changing blocking calls to be Twisted-aware...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36657">[ date ]</a>
              <a href="thread.html#36657">[ thread ]</a>
              <a href="subject.html#36657">[ subject ]</a>
              <a href="author.html#36657">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

I'm running a web application which makes use of the excellent
Twisted.Web resource framework with customized .getChild() and
.render() calls.

In one of the resource .render() methods I've reached a point
where the method needs some information on from the system via
an os.popen2() call. This information is needed to be turned
into HTML, and the HTML generation can't proceed without it.

What I'm effectively doing in the render() call is:

         def render(...)
             ...generate some HTML
             do blocking system call
             ...generate some more HTML

Which I understand is a no-no in the reactor and callback
based Twisted framework. I believe that the Twisted way to do
this is with a reactor.spawnProcess() call which in turn
returns a Deferred object.  Or maybe I should be using
threads instead?

Can someone point me to some example code where a
blocking-system-call-and-it's-results-needed-here pattern
is expressed in the spawnProcess/Deferred/callback world
of Twisted?



Cheers,

Stu

--
::<i> Stuart Hungerford (<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">stuart.hungerford at anu.edu.au</A>)
</I>::<i> ANU Internet Futures Group
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="036666.html">[Twisted-Python] Woven and non-breaking spaces
</A></li>
	<LI>Next message (by thread): <A HREF="036658.html">[Twisted-Python] Need advice on changing blocking calls to be Twisted-aware...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36657">[ date ]</a>
              <a href="thread.html#36657">[ thread ]</a>
              <a href="subject.html#36657">[ subject ]</a>
              <a href="author.html#36657">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
