<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] porting twisted.spread to Python3
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20porting%20twisted.spread%20to%20Python3&In-Reply-To=%3C20141005134812.17800.1576310986.divmod.xquotient.1112%40top%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="028827.html">
   <LINK REL="Next"  HREF="061294.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] porting twisted.spread to Python3</H1>
    <B>exarkun at twistedmatrix.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20porting%20twisted.spread%20to%20Python3&In-Reply-To=%3C20141005134812.17800.1576310986.divmod.xquotient.1112%40top%3E"
       TITLE="[Twisted-Python] porting twisted.spread to Python3">exarkun at twistedmatrix.com
       </A><BR>
    <I>Sun Oct  5 07:48:12 MDT 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="028827.html">[Twisted-Python] porting twisted.spread to Python3
</A></li>
        <LI>Next message (by thread): <A HREF="061294.html">[Twisted-Python] porting twisted.spread to Python3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61292">[ date ]</a>
              <a href="thread.html#61292">[ thread ]</a>
              <a href="subject.html#61292">[ subject ]</a>
              <a href="author.html#61292">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 3 Oct, 11:09 pm, <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">wolfgang.kde at rohdewald.de</A> wrote:
&gt;<i>I now have a local git branch with about 70 commits, always
</I>&gt;<i>rebased onto current trunk.
</I>
It makes me sad to learn you're carrying so many patches to Twisted.  It 
might be useful to the project if you could share why this development 
was easier to do outside the tree rather than contributing it to the 
project as you developed it.
&gt;<i>Those test suites pass with Python2 and Python3:
</I>&gt;<i>
</I>&gt;<i>test_banana, test_jelly, test_pb, test_pbfailure, test_persisted
</I>&gt;<i>
</I>&gt;<i>I also have a real app using PB (kajongg, a KDE game). Running
</I>&gt;<i>the server and the client with any combination of Python 2 and
</I>&gt;<i>Python 3 works but more testing is needed there. Especially
</I>&gt;<i>transferring failures with non-ascii test, so I need to inject
</I>&gt;<i>random errors.
</I>
For testing?  Probably not random - instead, comprehensive.
&gt;<i>spread.banana is now fully covered by tests (was at 85% before).
</I>&gt;<i>There is still a lot of code in twisted.spread which has no
</I>&gt;<i>tests yet.
</I>&gt;<i>I do not think I want to add missing tests for everything,
</I>&gt;<i>only for those regions where I do changes or where it is not
</I>&gt;<i>too difficult. And of course if an application triggers a bug
</I>&gt;<i>yet uncovered by tests.
</I>
The coding standard only requires you to add tests for code you're 
changing.  Python 3 mixes things up a bit though - by changing 
everything.  Calling a module &quot;Python 3 compatible&quot; without changing it 
at all still changes lots of things how about it works.

I think that before the Twisted project wants to call a particular 
module ported, we want it to have test coverage that can run on Python 
3.
&gt;<i>Can you point me to other PB applications I could use for testing?
</I>&gt;<i>Preferrably ones that are already mostly compatible with PY3
</I>&gt;<i>themselves,
</I>
I'll let other people volunteer projects they know of - but I strongly 
suspect there are few or no such applications.
&gt;<i>but that is not a _must_, I would try porting them
</I>&gt;<i>unless it turns out to be too much work. And preferrably ones
</I>&gt;<i>developed by people with a non-ascii native language. I do not
</I>&gt;<i>yet trust Failures and logging with non-ascii.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>Below is the current list of commits. Everything you see
</I>&gt;<i>there is still much in flux. This includes shuffling code
</I>&gt;<i>between commits, combining and splitting commits, changing order.
</I>&gt;<i>I want to open one ticket per commit. Simple things hopefully
</I>&gt;<i>not needing much discussion first.
</I>&gt;<i>
</I>&gt;<i>Estimating one week per review/commit to trunk, this process
</I>&gt;<i>will take more than one year. Often I can only add a new ticket
</I>&gt;<i>after the previous one has been integrated because they
</I>&gt;<i>depend on each other.
</I>
If twisted.spread were completely supported on Python 3 in only another 
year I'll be very impressed. :)
&gt;<i>So if it really seems to take that long, at some point I might
</I>&gt;<i>just decide to put what I have to github and not care anymore.
</I>&gt;<i>Which of course means I might have to distribute a patched
</I>&gt;<i>twisted version with my application. I really want to leave
</I>&gt;<i>Python2 behind, and only twisted is in the way. Latest versions
</I>&gt;<i>of KDE do not have Python2 bindings anymore (KDE Frameworks 5).
</I>
That's too bad.
&gt;<i>This log of course includes things being in tickets up for review.
</I>&gt;<i>
</I>&gt;<i>git log --pretty='format:%s' --reverse trunk..pb3
</I>&gt;<i>&lt;snip&gt;
</I>
Again, it seems unfortunate that you have all of this work ... 
somewhere.  Somewhere only you  (as far as I can tell) can see it. 
Somewhere only you can test it.  Somewhere only you can work on it and 
get it contributed to Twisted.

Jean-Paul


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="028827.html">[Twisted-Python] porting twisted.spread to Python3
</A></li>
	<LI>Next message (by thread): <A HREF="061294.html">[Twisted-Python] porting twisted.spread to Python3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61292">[ date ]</a>
              <a href="thread.html#61292">[ thread ]</a>
              <a href="subject.html#61292">[ subject ]</a>
              <a href="author.html#61292">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
