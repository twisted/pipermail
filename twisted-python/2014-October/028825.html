<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] 'module' object has no attribute	'optionsForClientTLS'
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20%27module%27%20object%20has%20no%20attribute%0A%09%27optionsForClientTLS%27&In-Reply-To=%3C9C0BC677-30D1-4F00-8B74-4DC225F098E2%40orbitusrobotics.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="028824.html">
   <LINK REL="Next"  HREF="061287.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] 'module' object has no attribute	'optionsForClientTLS'</H1>
    <B>Orbitus</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20%27module%27%20object%20has%20no%20attribute%0A%09%27optionsForClientTLS%27&In-Reply-To=%3C9C0BC677-30D1-4F00-8B74-4DC225F098E2%40orbitusrobotics.com%3E"
       TITLE="[Twisted-Python] 'module' object has no attribute	'optionsForClientTLS'">orbitus at orbitusrobotics.com
       </A><BR>
    <I>Thu Oct  2 20:55:24 MDT 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="028824.html">[Twisted-Python] INCOMPATIBLE CHANGE: twisted.python.threadpool
</A></li>
        <LI>Next message (by thread): <A HREF="061287.html">[Twisted-Python] 'module' object has no attribute	'optionsForClientTLS'
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28825">[ date ]</a>
              <a href="thread.html#28825">[ thread ]</a>
              <a href="subject.html#28825">[ subject ]</a>
              <a href="author.html#28825">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am trying to execute the check_server_certificate.py and I am getting this error&#8230; can you guys help me figure out whats going on? its the exact sample code on the website running on Ubuntu 14.04.


Here is the error output:

Traceback (most recent call last):
  File &quot;check_server_certificate.py&quot;, line 28, in &lt;module&gt;
    task.react(main, sys.argv[1:])
  File &quot;/usr/lib/python2.7/dist-packages/twisted/internet/task.py&quot;, line 867, in react
    finished = main(_reactor, *argv)
  File &quot;check_server_certificate.py&quot;, line 6, in main
    options = ssl.optionsForClientTLS(hostname=host.decode('utf-8'))
AttributeError: 'module' object has no attribute 'optionsForClientTLS'


Here is the code (check_server_certificate.py):


from __future__ import print_function
import sys
from twisted.internet import defer, endpoints, protocol, ssl, task, error

def main(reactor, host, port=443):
    options = ssl.optionsForClientTLS(hostname=host.decode('utf-8'))
    port = int(port)

    class ShowCertificate(protocol.Protocol):
        def connectionMade(self):
            self.transport.write(b&quot;GET / HTTP/1.0\r\n\r\n&quot;)
            self.done = defer.Deferred()
        def dataReceived(self, data):
            certificate = ssl.Certificate(self.transport.getPeerCertificate())
            print(&quot;OK:&quot;, certificate)
            self.transport.abortConnection()
        def connectionLost(self, reason):
            print(&quot;Lost.&quot;)
            if not reason.check(error.ConnectionClosed):
                print(&quot;BAD:&quot;, reason.value)
            self.done.callback(None)

    return endpoints.connectProtocol(
        endpoints.SSL4ClientEndpoint(reactor, host, port, options),
        ShowCertificate()
    ).addCallback(lambda protocol: protocol.done)

task.react(main, sys.argv[1:])



Rudy Aramayo | Developer | OrbitusRobotics LLC
Direct: 626.386.8329 | Email: <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">orbitus at orbitusrobotics.com</A> | Web: www.orbitusrobotics.com

           

&quot;This email and any files transmitted with it are confidential and intended solely for the use of the individual or entity to which they are addressed. If you have received this email in error please notify me (<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">orbitus at orbitusrobotics.com</A>). If you are not the named addressee you should not disseminate, distribute or copy this e-mail and should delete this e-mail from your system. If you are not the intended recipient you are notified that disclosing, copying, distributing or taking any action in reliance on the contents of this information is strictly prohibited.&#8221;




-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20141002/1864a75c/attachment-0001.html">http://twistedmatrix.com/pipermail/twisted-python/attachments/20141002/1864a75c/attachment-0001.html</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: OrbitusRobotics_white-logo.png
Type: image/png
Size: 16993 bytes
Desc: not available
URL: &lt;<A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20141002/1864a75c/attachment-0001.png">http://twistedmatrix.com/pipermail/twisted-python/attachments/20141002/1864a75c/attachment-0001.png</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image002.jpg
Type: image/jpeg
Size: 2323 bytes
Desc: not available
URL: &lt;<A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20141002/1864a75c/attachment-0004.jpg">http://twistedmatrix.com/pipermail/twisted-python/attachments/20141002/1864a75c/attachment-0004.jpg</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image003.jpg
Type: image/jpeg
Size: 2617 bytes
Desc: not available
URL: &lt;<A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20141002/1864a75c/attachment-0005.jpg">http://twistedmatrix.com/pipermail/twisted-python/attachments/20141002/1864a75c/attachment-0005.jpg</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image004.jpg
Type: image/jpeg
Size: 2536 bytes
Desc: not available
URL: &lt;<A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20141002/1864a75c/attachment-0006.jpg">http://twistedmatrix.com/pipermail/twisted-python/attachments/20141002/1864a75c/attachment-0006.jpg</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image005.jpg
Type: image/jpeg
Size: 1917 bytes
Desc: not available
URL: &lt;<A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20141002/1864a75c/attachment-0007.jpg">http://twistedmatrix.com/pipermail/twisted-python/attachments/20141002/1864a75c/attachment-0007.jpg</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 195 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: &lt;<A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20141002/1864a75c/attachment-0001.pgp">http://twistedmatrix.com/pipermail/twisted-python/attachments/20141002/1864a75c/attachment-0001.pgp</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="028824.html">[Twisted-Python] INCOMPATIBLE CHANGE: twisted.python.threadpool
</A></li>
	<LI>Next message (by thread): <A HREF="061287.html">[Twisted-Python] 'module' object has no attribute	'optionsForClientTLS'
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28825">[ date ]</a>
              <a href="thread.html#28825">[ thread ]</a>
              <a href="subject.html#28825">[ subject ]</a>
              <a href="author.html#28825">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
