<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] defer.gatherResults &amp; Deferreds chaining
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20defer.gatherResults%20%26%20Deferreds%20chaining&In-Reply-To=%3CCAN9%2BjDaRkgR4MeJ%2B4VbACKJBsgYiK3jJxQrCZrqVnP%3DCQQnw0Q%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027275.html">
   <LINK REL="Next"  HREF="027279.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] defer.gatherResults &amp; Deferreds chaining</H1>
    <B>Jorge Gonzalez</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20defer.gatherResults%20%26%20Deferreds%20chaining&In-Reply-To=%3CCAN9%2BjDaRkgR4MeJ%2B4VbACKJBsgYiK3jJxQrCZrqVnP%3DCQQnw0Q%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] defer.gatherResults &amp; Deferreds chaining">gjorge at google.com
       </A><BR>
    <I>Wed Jul 31 11:08:01 MDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027275.html">[Twisted-Python] defer.gatherResults &amp; Deferreds chaining
</A></li>
        <LI>Next message: <A HREF="027279.html">[Twisted-Python] defer.gatherResults &amp; Deferreds chaining
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27278">[ date ]</a>
              <a href="thread.html#27278">[ thread ]</a>
              <a href="subject.html#27278">[ subject ]</a>
              <a href="author.html#27278">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I found the root cause, and it has nothing to do with Deferreds nor
DeferredLists. It was something else in my code unrelated to twisted.

Thanks!
Jorge


On Tue, Jul 30, 2013 at 3:40 PM, Jorge Gonzalez &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">gjorge at google.com</A>&gt; wrote:

&gt;<i> Thanks Glyph.
</I>&gt;<i> I actually am not able to reduce the behavior to a simpler runnable
</I>&gt;<i> example yet, and that's why I tried running my theory first through this
</I>&gt;<i> list.
</I>&gt;<i> I did try a simple example just instantiating some Deferreds, firing them
</I>&gt;<i> and gathering their results into a DeferredList (no reactor involved) and
</I>&gt;<i> what you're saying holds true. So I'm working on getting a simpler version
</I>&gt;<i> of my code that exposes the behavior I'm seeing and will post it once I
</I>&gt;<i> have it.
</I>&gt;<i>
</I>&gt;<i> Jorge
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Mon, Jul 29, 2013 at 4:04 PM, Glyph &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Jul 29, 2013, at 1:29 PM, Jorge Gonzalez &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">gjorge at google.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  Wouldn't it be possible that defer.gatherResults inserts its callback
</I>&gt;&gt;<i> into d before say slowFuncReturningDeferred_B gets to run and return its
</I>&gt;&gt;<i> own Deferred (and therefore chain it to what gatherRestults is ultimately
</I>&gt;&gt;<i> waiting for?). If so, wouldn't the results returned by
</I>&gt;&gt;<i> slowFuncReturningDeferred_B never make it to the results gathered by
</I>&gt;&gt;<i> defer.gatherResults?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> No, that's not what happens.  You call addCallback(lambda _:
</I>&gt;&gt;<i> slowFunc...A()), then you call gatherResults.  That means gatherResult's
</I>&gt;&gt;<i> callback is after slowFuncReturningA() in d's callback chain.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Can you attach an actual runnable code example with some behavior that
</I>&gt;&gt;<i> you didn't expect, so we can actually run it and explain what's happening?
</I>&gt;&gt;<i>  No need for you to spin the reactor or anything, just instantiate a
</I>&gt;&gt;<i> Deferred and then fire it.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -glyph
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Twisted-Python mailing list
</I>&gt;&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20130731/b3523e29/attachment-0001.html">http://twistedmatrix.com/pipermail/twisted-python/attachments/20130731/b3523e29/attachment-0001.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027275.html">[Twisted-Python] defer.gatherResults &amp; Deferreds chaining
</A></li>
	<LI>Next message: <A HREF="027279.html">[Twisted-Python] defer.gatherResults &amp; Deferreds chaining
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27278">[ date ]</a>
              <a href="thread.html#27278">[ thread ]</a>
              <a href="subject.html#27278">[ subject ]</a>
              <a href="author.html#27278">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
