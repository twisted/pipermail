From exarkun at twistedmatrix.com  Sun Oct  1 01:05:01 2006
From: exarkun at twistedmatrix.com (exarkun at twistedmatrix.com)
Date: Sun, 01 Oct 2006 05:05:01 -0000
Subject: [Twisted-Python] Weekly Bug Summary
Message-ID: 1159679101.65.1665355874@twistedmatrix.com

Bug summary
______________________
Summary for 2006-09-24 through 2006-10-01
Bugs opened: 20    Bugs closed: 12  Total open bugs: 738 (+8)

|== Type Changes   |== Priority Changes   |== Component Changes     
|Defect:       +1  |Highest:  -4          |Conch:               -1  
|Enhancement:  +6  |High:     +4          |Core:                +9  
|Task:         +2  |Normal:   +9          |Lore:                +1  
                                          |Pb:                  +2  
                                          |Release Management:  +0  
                                          |Trial:               -2  
                                          |Web2.Dav:            -1  
                                          |Website:             +2  
                                          |Words:               -1  


New / Reopened Bugs
______________________
                    ===== Highest =====
[#2130] Remove twisted.internet.qtreactor (opened by exarkun) (CLOSED, fixed)
    task            core       http://twistedmatrix.com/trac/ticket/2130

[#2133] Docstrings for Trial runner and unittest (opened by jml) (CLOSED, fixed)
    enhancement     trial      http://twistedmatrix.com/trac/ticket/2133

[#1999] Move newpb out of trunk into a branch or separate package (opened by exarkun)
    task            pb         http://twistedmatrix.com/trac/ticket/1999

                    ===== High =====
[#2124] Issue warnings for pending calls that are removed by iterate() calls (opened by jml)
    task            trial      http://twistedmatrix.com/trac/ticket/2124

[#2129] COPY and MOVE do not copy and move properties (opened by wsanchez)
    enhancement     web2.dav   http://twistedmatrix.com/trac/ticket/2129

[#2136] t.plugin.getCache craps out on Windows (opened by PenguinOfDoom)
    enhancement     core       http://twistedmatrix.com/trac/ticket/2136

[#2137] Pointer for end-users to the new location of the Qt reactor (opened by exarkun)
    task            core       http://twistedmatrix.com/trac/ticket/2137

[#2139] test_underUnderPathAlreadyImported and test_listingModules from twisted.test.test_modules.(Zip)PathModificationTest fail with Gtk2 reactor (opened by exarkun)
    enhancement     core       http://twistedmatrix.com/trac/ticket/2139

[#2141] Twisted Trac Content Re-org (opened by oubiwann)
    enhancement     website    http://twistedmatrix.com/trac/ticket/2141

                    ===== Normal =====
[#2125] PB Banana struggles transmitting large ints (opened by engie)
    defect          pb         http://twistedmatrix.com/trac/ticket/2125

[#2126] threadedselectreactor is made available as though it were a reactor (but it is not a reactor) (opened by exarkun)
    defect          core       http://twistedmatrix.com/trac/ticket/2126

[#2127] Certificate.inspect busted (opened by exarkun)
    defect          core       http://twistedmatrix.com/trac/ticket/2127

[#2128] [patch] Twisted 2.4.0 fails to build into RPMs because of stdio_test_halfclose.py (opened by shieldszero) (CLOSED, fixed)
    enhancement     core       http://twistedmatrix.com/trac/ticket/2128

[#2131] Windows install doesn't install docs (opened by TimothyFitz)
    defect          core       http://twistedmatrix.com/trac/ticket/2131

[#2132] ThreadedResolver timeout oddity (opened by ghazel)
    enhancement     core       http://twistedmatrix.com/trac/ticket/2132

[#2134] lore --output latex fails on span indexes (opened by DavidBlewett)
    defect          lore       http://twistedmatrix.com/trac/ticket/2134

[#2135] twisted.intenet.stdio does not read input on Windows (opened by synapsis)
    defect          core       http://twistedmatrix.com/trac/ticket/2135

[#2138] Test email notification changes (opened by exarkun) (CLOSED, fixed)
    task            release management http://twistedmatrix.com/trac/ticket/2138

[#2140] A pre-started connecting handler for ClientFactory (opened by ghazel)
    enhancement     core       http://twistedmatrix.com/trac/ticket/2140

[#2142] Make the FAQ a wiki page (opened by jml)
    enhancement     website    http://twistedmatrix.com/trac/ticket/2142



Closed Bugs
______________________
                    ===== Highest =====
[#1180] test_cftp shouldn't manually iterate the reactor (opened by exarkun, closed by dreid, fixed)
    defect          conch      http://twistedmatrix.com/trac/ticket/1180

[#2098] XMPP SASL implementation chokes when no realm has been received (opened by ralphm, closed by ralphm, fixed)
    defect          words      http://twistedmatrix.com/trac/ticket/2098

[#1999] Move newpb out of trunk into a branch or separate package (opened by exarkun, closed by exarkun, )
    task            pb         http://twistedmatrix.com/trac/ticket/1999

[#2083] Add test for statusForException() (opened by wsanchez, closed by wsanchez, fixed)
    enhancement     web2.dav   http://twistedmatrix.com/trac/ticket/2083

[#2133] Docstrings for Trial runner and unittest (opened by jml, closed by jml, fixed)
    enhancement     trial      http://twistedmatrix.com/trac/ticket/2133

[#2090] Deprecate reactor methods in tests (opened by jml, closed by jml, fixed)
    task            trial      http://twistedmatrix.com/trac/ticket/2090

[#2130] Remove twisted.internet.qtreactor (opened by exarkun, closed by exarkun, fixed)
    task            core       http://twistedmatrix.com/trac/ticket/2130

[#1409] Trial should handle logged errors using an observer. (opened by jml, closed by jml, fixed)
    defect          trial      http://twistedmatrix.com/trac/ticket/1409

                    ===== High =====
[#1591] twisted.web2.dav.test.test_prop.PROP.test_PROPFIND fails if pyxattr is installed (opened by spiv, closed by dreid, fixed)
    defect          web2.dav   http://twistedmatrix.com/trac/ticket/1591

[#1400] unittest special attributes not well documented (opened by ml.flex, closed by jml, fixed)
    defect          trial      http://twistedmatrix.com/trac/ticket/1400

                    ===== Normal =====
[#2128] [patch] Twisted 2.4.0 fails to build into RPMs because of stdio_test_halfclose.py (opened by shieldszero, closed by exarkun, fixed)
    enhancement     core       http://twistedmatrix.com/trac/ticket/2128

[#2138] Test email notification changes (opened by exarkun, closed by exarkun, fixed)
    task            release management http://twistedmatrix.com/trac/ticket/2138





From wgwigw at gmail.com  Sun Oct  1 03:01:28 2006
From: wgwigw at gmail.com (wang wei)
Date: Sun, 1 Oct 2006 15:01:28 +0800
Subject: [Twisted-Python] how can I invoke an httpFactory method in
	http.request?
Message-ID: <dbeb95830610010001j2e54c436gaa0264bb1bbb79e7@mail.gmail.com>

hi, is that a way to invoke a function in httpFactory from a http.request?
code here:
from twisted.web import http
class anotherRequestHandler(http.Request):
       def process(self):
             '''
             how to invoke a method in anotherHttpFactory
             such as judge?
             '''

class anotherHttp(http.HTTPChannel):
       requestFactory = anotherRequestHandler

class  resolve:
        def  show(self):
             return 'ok'

class anotherHttpFactory(http.HTTPFactory):
        def __init__(self):
             a = resolve()

        def judge(self):
             return a.show()


I don't want class 'resolve' to be initialized every time when a request
comes, or am I  mis-understand it ? Thanks for help.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-python/attachments/20061001/c842b037/attachment.htm 

From jml at mumak.net  Sun Oct  1 05:58:50 2006
From: jml at mumak.net (Jonathan Lange)
Date: Sun, 1 Oct 2006 20:58:50 +1100
Subject: [Twisted-Python] Removing _wait from Trial
In-Reply-To: <20060925064815.1717.606494837.divmod.quotient.59338@ohm>
References: <d06a5cd30609240026y3b50e953s472e4dd4eb70fb06@mail.gmail.com>
	<20060925064815.1717.606494837.divmod.quotient.59338@ohm>
Message-ID: <d06a5cd30610010258g4fabf9lf549ce52433fd1d@mail.gmail.com>

On 9/25/06, glyph at divmod.com <glyph at divmod.com> wrote:
> On Sun, 24 Sep 2006 17:26:10 +1000, Jonathan Lange <jml at mumak.net> wrote:
> >Unfortunately, some of Trial's cleanup code spins the reactor (see
> >t.trial.util._Janitor.do_cleanPending). This has to go.
>
> You are saying this part of the plan will happen post-2.5, I assume?
>

At the least, post #2091. The first wave is "deal with dirty reactor
failing the suite", the second wave is "drastically increase standards
of cleanliness".

This gets taken up below.


> >2. Tighten test cleanup errors. (Twisted 2.5)
> >
> >#2091 (ready for review) fulfils a long-standing promise. The "reactor
> >unclean" warnings have been turned into errors.
>
> I would really like it to be possible to turn these errors into warnings by passing a command-line flag, mainly for the migration path between 2.4 and 2.5.

As you have wished, so have I done.


> Twisted's buildslaves should _NOT_ use this flag, nor should it still be present in 2.6.  I am suggesting it _ONLY_ as a migration tool.

Good. I wasn't looking forward to fighting you to the death: my mech
is in dry-dock.


> >That means we will have to either:
> >a) surprise our users with new errors in their tests
> >b) find some way to introduce this gradually.
>
> I think this might be another use-case for a flag.  Really, developers should be alerted
> to these changes as soon as possible (warnings are too easily ignored), but have a way
> to give themselves a little leeway to fix the problems before the next release.

The --unclean-warnings flag will take care of this.


> >Currently TestCase.run() is a blocking call. I wish it could remain a
> >blocking call, but it can't.
>
> Why do you say you wish it could?  Isn't the whole point here to make it not be a blocking call?

If the reactors were restartable, it could remain a blocking call
without sucking. As it is, I can't have both "blocking" and "not
sucking". So I'm sacrificing the former to get closer to the latter.


> >4. Deprecate TestSuite.run and TestCase.run. (Twisted 2.6)
>
> In what sense are these APIs "public"?  Are there really people calling them outside of the 'trial' tool?

Some people use Trial tests with other tools. Similarly, overriding
run() is the place to start if you want to extend TestCase
functionality.


> >[1] Incidentally, all of this would be superfluous if reactors were
> >restartable.
>
> A clean restart() API would be a possible way of fixing some things, but I think you
> are underestimating how much code would break with a clean restart() method, too.
> For example: the threadpool would be stopped after each test.  Would that make any
> existing Twisted tests fail?  I don't know, but operating under your (probably correct)
> pessimistic assumption that any change to the test framework's interaction with the
> reactor will break some things, I'd have to say yes.

Yes, they would fail. We currently kill the threadpool after every
test *class*, not test case, because some people put certain things in
setUpClass once.


 > Then there is the issue that Bob recently brought up, which is that
in a 'normal' Twisted
> application the reactor is only started once, and so it's not really a representative test to
> constantly be pausing and resuming it.  If we implement a restartable reactor it would
> probably be a good torture-test though.

Lots of unit test tropes aren't representative of real applications.
"Normal" applications don't establish a connection, do one thing, then
disconnect.


Thanks for replying!
jml



From manlio_perillo at libero.it  Sun Oct  1 06:08:12 2006
From: manlio_perillo at libero.it (Manlio Perillo)
Date: Sun, 01 Oct 2006 12:08:12 +0200
Subject: [Twisted-Python] _dumbwin32proc and PIPE_NOWAIT
In-Reply-To: <20060930232337.1717.1142591311.divmod.quotient.63977@ohm>
References: <20060930232337.1717.1142591311.divmod.quotient.63977@ohm>
Message-ID: <451F938C.3060200@libero.it>

glyph at divmod.com ha scritto:
> [...]
> 
>> Is win32eventreactor not working and not tested?
> 
> It's tested, but it's not working.  See
> http://twistedmatrix.com/buildbot/ - you'll notice the "win32-win32er"
> column is always red.  It's also limited because it still allows only 63
> objects.
> 


I have just runned the test suite (with Twisted 2.4).

I got
FAILED (skips=76, expectedFailures=7, failures=6, errors=13, successes=868)

Moreover about 2-3 time I got a peak to CPU and memory usage (up to 300 MB).

>> You did not mention it in the "removing unsupported reactors in twisted"
>> thread.
> 
> It has maintainers, it has a buildbot, and it's been gradually
> decreasing its number of failing tests over time.  It didn't seem like a
> candidate for removal.
> 
>> I have write it, now stdio works ;-).
> 
>> Unfortunately it is not very efficient since:
>> - it uses _pollingfile (not a real porblem)
>> - it reads raw keyboard input and have to do all low level stuff like
>>  '\b' handling, '\r' conversion, and so
> 
> It's very hard to do these things efficiently, so I'm not too worried
> about that.  We also don't have a lot of programmers interested in
> Windows support.  My interest in Windows support ends right about at the
> point where the servers I develop can be successfully tested and
> developed on win32 :).  Providing functionality in an inefficient
> implementation at least provides some useful functionality in the
> meanwhile, and something to optimize later if it becomes important.
> 


The implementation surely can be optimized.

>> Here is the main code.

[...]


One more thing.
As I have said I would like to provide a portable interface to terminal
handling, so that scripts like conch can works on both POSIX and Window.

There are several options:
1) Write modules like twised.python.fncl, twisted.python.termios and
   twisted.python.pty, that implements the same POSIX interface on
   Windows too.

   I suspect that this can be done but it is hard (and I'm lazy).
   Moreover there is the problem with SIGWINCH handling
   (Windows can - not yet tested - report events about console window
    resizing)

2) Write an high level module like twisted.python.tty
   that provides functions like
   enableRawMode(fd, trueOrFalse), enableEcho(fd, trueOrFalse),
   addWindowChangeCallback(cb), and so

3) Write an high level module like twisted.internet.conio
   that provides StdIOChannel (just to pick a name) objects.
   These objects will have the interface as in 2).



Regards  Manlio Perillo



From manlio_perillo at libero.it  Sun Oct  1 13:06:46 2006
From: manlio_perillo at libero.it (Manlio Perillo)
Date: Sun, 01 Oct 2006 19:06:46 +0200
Subject: [Twisted-Python] _pollingfile._PollingTimer
Message-ID: <451FF5A6.6000602@libero.it>

Since the _PollingTimer can be reused for a possible console support,
why not to make it a public "simil reactor"?

As an example:

class UPollReactor(object):
   """User mode polling reactor, for Windows.

      Note that this is not a real reactor.
   """

   def addResource(self, resource, action):
	...

   def run():
      # add a fake resource, just to do the job done by twistd with the
      # TimeService
      ...



twistd can, as an example, always "run" the UPollReactor when on a
windows system.



Regards  Manlio Perillo



From exarkun at divmod.com  Sun Oct  1 13:23:34 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Sun, 1 Oct 2006 13:23:34 -0400
Subject: [Twisted-Python] _pollingfile._PollingTimer
In-Reply-To: <451FF5A6.6000602@libero.it>
Message-ID: <20061001172334.1717.689974007.divmod.quotient.64417@ohm>

On Sun, 01 Oct 2006 19:06:46 +0200, Manlio Perillo <manlio_perillo at libero.it> wrote:
>Since the _PollingTimer can be reused for a possible console support,
>why not to make it a public "simil reactor"?
>
>As an example:
>
>class UPollReactor(object):
>   """User mode polling reactor, for Windows.
>
>      Note that this is not a real reactor.
>   """
>
>   def addResource(self, resource, action):
>	...
>
>   def run():
>      # add a fake resource, just to do the job done by twistd with the
>      # TimeService
>      ...
>
>
>
>twistd can, as an example, always "run" the UPollReactor when on a
>windows system.
>

Huh?

Jean-Paul



From manlio_perillo at libero.it  Sun Oct  1 14:51:41 2006
From: manlio_perillo at libero.it (Manlio Perillo)
Date: Sun, 01 Oct 2006 20:51:41 +0200
Subject: [Twisted-Python] _pollingfile._PollingTimer
In-Reply-To: <20061001172334.1717.689974007.divmod.quotient.64417@ohm>
References: <20061001172334.1717.689974007.divmod.quotient.64417@ohm>
Message-ID: <45200E3D.7080307@libero.it>

Jean-Paul Calderone ha scritto:
> On Sun, 01 Oct 2006 19:06:46 +0200, Manlio Perillo
> <manlio_perillo at libero.it> wrote:
>> Since the _PollingTimer can be reused for a possible console support,
>> why not to make it a public "simil reactor"?
>>
>> As an example:
>>
>> class UPollReactor(object):
>>   """User mode polling reactor, for Windows.
>>
>>      Note that this is not a real reactor.
>>   """
>>
>>   def addResource(self, resource, action):
>>     ...
>>
>>   def run():
>>      # add a fake resource, just to do the job done by twistd with the
>>      # TimeService
>>      ...
>>
>>
>>
>> twistd can, as an example, always "run" the UPollReactor when on a
>> windows system.
>>
> 
> Huh?
> 

Forget about the run method.

I'm asking for an UPollreactor because I would like to do something like
this:

class PollableReader(object):
    implements(IPushProducer)

    def __init__(self, handle, receivedCallback, lostCallback, reactor):
        self.handle = handle
        self.receivedCallback = receivedCallback
        self.lostCallback = lostCallback
        self.reactor = reactor

    def doWork(self):
        raise NotImplementedError()

    def close(self):
        try:
            win32api.CloseHandle(self.handle)
        except pywintypes.error:
            # You can't close std handles...?
            pass

    def stopProducing(self):
        self.close()

    def pauseProducing(self):
        self.reactor.addResource(self)

    def resumeProducing(self):
        self.reactor.removeResource(self)


class Win32EventReactorWrapper(object):
   def __init__(self, reactor):
      self.reactor = reactor


   def addResource(self, rsc):
      reactor.addEvent(rsc, rsc.handle, "doWork")

   def removeResource(self, rsc):
      reactor.removeEvent(rsc)




Now I can do, as an example:

class ConsoleReader(PollableReader):
  # implements doWork for a console

class PipeReader(PollableReader):
  # implements doWork for a pipe

...

# assuming reactor has a name attribute
if reactor.name == "win32eventreactor"
    # do the polling in kernel space
    stdin = Console(..., Win32EventReactorWrapper(reactor))
else:
    # do the polling in user space
    stdin = Console(..., upollreactor)



Console handles can be passed to WaitForSingleObject and friends.
They became signaled when input is avaliable.

This means that I can avoid to use the polling when the
win32eventreactor is being used, without having to modify the code.

I *really* believed the same was true for anonymous pipes, but this is
not the case...





Regards  Manlio Perillo



From mailinglists at smartology.nl  Mon Oct  2 02:23:47 2006
From: mailinglists at smartology.nl (Remi Cool)
Date: Mon, 02 Oct 2006 08:23:47 +0200
Subject: [Twisted-Python] twistd save state does not work
In-Reply-To: <20060929160707.1717.1403292531.divmod.quotient.63126@ohm>
References: <20060929160707.1717.1403292531.divmod.quotient.63126@ohm>
Message-ID: <4520B073.9090306@smartology.nl>

Jean-Paul Calderone wrote:
> On Fri, 29 Sep 2006 16:53:10 +0200, Remi Cool 
> <mailinglists at smartology.nl> wrote:
>> Remi Cool wrote:
>>> Hello,
>>>
>>> I've readied my app for use with twistd, the daemonizing works, but 
>>> a tap file is not saved upon exit (kill 'cat twisted.pid'). How can 
>>> I enable the save state option? BTW I'm not using the -o option with 
>>> twistd ;)
>>>
>>> Second ... is it possible to disable the twisted logging if you use 
>>> twistd to start the app? Or is it possible to set a log level so 
>>> that only warnings and errors are shown and my log is not flooded 
>>> with (TCPServer) connection messages.
>> The save state function only seems to work when you start with a tap 
>> in the firstplace. It then saves the state in appname-shutdown.tap 
>> ... ok but why doesn't it work when you start from a python file?
>>
>
> It's implicitly disabled when loading an application from a Python file,
> since there is no guarantee that the application will be serializable.
>
> There is no way to explicitly re-enable it.  I would suggest that this
> feature be added, but since most people seem to think tap files should
> be eliminated as soon as possible, pursuing this would probably involve
> a lot of debate that I'm not personally interested in participating in.
>
> I would suggest using an alternate mechanism for persistence.
>
It was an interesting feature but if tap is almost obsolete, I won't bother.

>> My 2nd question about the logging still stands ...
>
> It's not, although it certainly should be.  I believe there is at least
> one ticket open in the tracker for improving the logging features of
> twistd.
>
:)
>> and is it possible to (re)set the name of the log file in the python 
>> file where application is defined? I have all paths for the app in an 
>> ini file (configParser) and it would not be a good solution to 
>> declare the logfile path somewhere else.
>
> The next release of Twisted will include a much more extensible way to
> interact with twistd which should satisfy this use-case.  If you want
> to play with it in svn trunk at HEAD, you can take a look at the output of
> `twistd --help'.  The command list which shows up at the end of that
> output can be extending using the plugin system, so you can add your
> command, which sets up logging or loads configuration from an ini, or
> whatever else you like.
>
Why not incorporate python logging into twisted? That way is easyer to 
incorporate modules without having to 'bother' with twisted. Or use 
modules which are not especially written for twisted.


- Remi -



From exarkun at divmod.com  Mon Oct  2 08:25:10 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Mon, 2 Oct 2006 08:25:10 -0400
Subject: [Twisted-Python] twistd save state does not work
In-Reply-To: <4520B073.9090306@smartology.nl>
Message-ID: <20061002122510.1717.533352840.divmod.quotient.65032@ohm>

On Mon, 02 Oct 2006 08:23:47 +0200, Remi Cool <mailinglists at smartology.nl> wrote:
>
>Why not incorporate python logging into twisted? That way is easyer to 
>incorporate modules without having to 'bother' with twisted. Or use modules 
>which are not especially written for twisted.
>

That wouldn't solve the problem, which is that twistd doesn't allow logging
behavior to be customized.  Once twistd allows customized logging behavior,
you'll be able to customize it to use the stdlib logging module if you want.

For quite a few reasons, I doubt we would change twisted.python.log to use
the logging package directly.  One of the biggest problems is that most of
the modules which were not written particularly for Twisted are blocking,
so using them would break any Twisted application.

Jean-Paul



From TimothyFitz at gmail.com  Mon Oct  2 21:32:39 2006
From: TimothyFitz at gmail.com (Timothy Fitz)
Date: Mon, 2 Oct 2006 21:32:39 -0400
Subject: [Twisted-Python] ThreadedSelectReactor
Message-ID: <972ec5bd0610021832w5199267cr7c4a7bbca64f7403@mail.gmail.com>

Recently there have been some changes to ThreadedSelectReactor,
specifically that it is no longer being considered as a stand alone
reactor choice (for example, you will no longer be able to twistd
--reactor=threadedselect). This action is desirable since there's no
reason for it. As I understand TSR it's broken for that usage anyway;
however, I have been warned that TSR is completely broken and
shouldn't be used at all. What exactly and specifically are the
current problems or at least symptoms of TSR and is it truly broken?



From exarkun at divmod.com  Tue Oct  3 03:13:21 2006
From: exarkun at divmod.com (exarkun at divmod.com)
Date: Tue, 03 Oct 2006 02:13:21 -0500
Subject: [Twisted-Python] (no subject)
Message-ID: <E1GUeSv-0005nb-00@pyramid.twistedmatrix.com>

On 01:32 am, timothyfitz at gmail.com wrote:
>Recently there have been some changes to ThreadedSelectReactor,
>specifically that it is no longer being considered as a stand alone
>reactor choice (for example, you will no longer be able to twistd
>--reactor=threadedselect). This action is desirable since there's no
>reason for it. As I understand TSR it's broken for that usage anyway;
>however, I have been warned that TSR is completely broken and
>shouldn't be used at all. What exactly and specifically are the
>current problems or at least symptoms of TSR and is it truly broken?

Excellent question.  The initial problem is that it has approximately
zero test coverage.  You cannot run Twisted's test suite using tsr, so
who knows what it does?  Any change made by any developer to Twisted
might break it completely; as a tsr user, you might be the first to notice
this circumstance.  Not an ideal situation in the least.

If tsr is important, I would suggest finding a way to run Twisted's test
suite using it.  One way to do this is to implement the actual reactor
API using a subclass (or some such).  Trial might then run the test suite
using that reactor subclass.  Hopefully there will be support for reactor
plugins somewhat soon, but until then you'll need to patch the reactors
dictionary at the top of twisted/application/app.py.

Jean-Paul
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-python/attachments/20061003/9a61a81a/attachment.htm 

From TimothyFitz at gmail.com  Tue Oct  3 13:16:22 2006
From: TimothyFitz at gmail.com (Timothy Fitz)
Date: Tue, 3 Oct 2006 13:16:22 -0400
Subject: [Twisted-Python] (no subject)
In-Reply-To: <E1GUeSv-0005nb-00@pyramid.twistedmatrix.com>
References: <E1GUeSv-0005nb-00@pyramid.twistedmatrix.com>
Message-ID: <972ec5bd0610031016x2c2d85acg15052da604304775@mail.gmail.com>

On 10/3/06, exarkun at divmod.com <exarkun at divmod.com> wrote:
> If tsr is important, I would suggest finding a way to run Twisted's test
> suite using it.  One way to do this is to implement the actual reactor
> API using a subclass (or some such).  Trial might then run the test suite
> using that reactor subclass.  Hopefully there will be support for reactor
> plugins somewhat soon, but until then you'll need to patch the reactors
> dictionary at the top of twisted/application/app.py.

It sounds like even if I were to do this, I could still run into
issues with the interleaving being untested. I'm personally using it
to interleave with pygame, which is a somewhat common usage. Does it
make more sense to write a pygame reactor which then trial can use?
(And then setup another buildslave, or at least get it on the reactor
buildslave) Would a TSR-only reactor have any purpose outside of
running trial and allowing us to narrow down what issues might be
causing platform-related bugs?



From exarkun at divmod.com  Tue Oct  3 14:02:47 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Tue, 3 Oct 2006 14:02:47 -0400
Subject: [Twisted-Python] threadedselectreactor
In-Reply-To: <972ec5bd0610031016x2c2d85acg15052da604304775@mail.gmail.com>
Message-ID: <20061003180247.1717.1073232237.divmod.quotient.66256@ohm>

On Tue, 3 Oct 2006 13:16:22 -0400, Timothy Fitz <timothyfitz at gmail.com> wrote:
>On 10/3/06, exarkun at divmod.com <exarkun at divmod.com> wrote:
>>If tsr is important, I would suggest finding a way to run Twisted's test
>>suite using it.  One way to do this is to implement the actual reactor
>>API using a subclass (or some such).  Trial might then run the test suite
>>using that reactor subclass.  Hopefully there will be support for reactor
>>plugins somewhat soon, but until then you'll need to patch the reactors
>>dictionary at the top of twisted/application/app.py.
>
>It sounds like even if I were to do this, I could still run into
>issues with the interleaving being untested. I'm personally using it
>to interleave with pygame, which is a somewhat common usage. Does it
>make more sense to write a pygame reactor which then trial can use?

That's what I meant.

Jean-Paul



From glyph at divmod.com  Tue Oct  3 20:59:14 2006
From: glyph at divmod.com (glyph at divmod.com)
Date: Wed, 04 Oct 2006 00:59:14 -0000
Subject: [Twisted-Python] twistd save state does not work
Message-ID: <20061004005914.30582.1669850735.divmod.xquotient.49@joule.divmod.com>

On 2 Oct, 06:23 am, mailinglists at smartology.nl wrote:

>Why not incorporate python logging into twisted? That way is easyer to 
>incorporate modules without having to 'bother' with twisted. Or use modules 
>which are not especially written for twisted.

Exarkun already mentioned that this doesn't solve the problem doesn't being discussed, but there is an open issue for discussion of logging.py if you have other reasons you'd like to suggest.

  http://twistedmatrix.com/trac/ticket/307
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-python/attachments/20061004/69799a2e/attachment.htm 

From jarrod at vertigrated.com  Wed Oct  4 16:49:52 2006
From: jarrod at vertigrated.com (jarrod roberson)
Date: Wed, 4 Oct 2006 16:49:52 -0400
Subject: [Twisted-Python] Is there any way to run twisted ( via twistd ) in
	a real profiler?
Message-ID: <2389d4730610041349w6d835ae3j6fa3ce38f27f95fb@mail.gmail.com>

we are trying to find where Twisted is spending all its time in a
server we are working on?

-- 
If you don't know what you want, you probably need a nap.



From wsanchez at wsanchez.net  Thu Oct  5 14:08:12 2006
From: wsanchez at wsanchez.net (=?ISO-8859-1?Q?Wilfredo_S=E1nchez_Vega?=)
Date: Thu, 5 Oct 2006 11:08:12 -0700
Subject: [Twisted-Python] Twisted & Qt
In-Reply-To: <20060930095417.1717.528727954.divmod.quotient.63644@ohm>
References: <20060930095417.1717.528727954.divmod.quotient.63644@ohm>
Message-ID: <623DDFB3-3E00-4012-BA84-F100723120B2@wsanchez.net>

   This is bunk.

   Any application that uses the GPL'ed Qt (or any other GPL noise)  
is subject to the terms of the GPL.  This, of course, includes the Qt  
reactor.

   I'm find will pulling the reactor if you think it's creating  
confusion, but there are no circumstances under which the reactor  
itself must be licensed under the GPL.  It must be licensed under a  
GPL-compatible license in order to be used with Qt, and I agree that  
without that, the reactor is rather uninteresting in a practical sense.

   The Qt reactor can be MIT licensed, if for no other reason than  
the MIT license is GPL-compatible.  See "X11 License" here:

	http://www.fsf.org/licensing/licenses/index_html#GPLCompatibleLicenses

   The GPL is stupid.  There is no need to become stupid along with  
it.  The language below is misleading.  Instead say something like  
"If you use Qt in your application (which is likely, if you use this  
reactor), beware that you are subject to the license of Qt, which is,  
for some users, the GPL, which stupidly taints your code, and the  
reason people pay for Qt or use truly free software (like Twisted)  
instead."  Feel free to edit the pissy parts out.

   Anyway, short version: we don't redistribute GPL software, so we  
aren't bound to its terms, and neither is our software.  Any fool who  
does is.

	-wsv


On Sep 30, 2006, at 2:54 AM, glyph at divmod.com wrote:

> On Tue, 26 Sep 2006 14:14:24 -0400, glyph at divmod.com wrote:
>> On Tue, 26 Sep 2006 13:01:50 -0400, James Y Knight <foom at fuhm.net>  
>> wrote:
>
>>> If it is truly their position that the  textual source code of  
>>> qtreactor is a derivative work of PyQT, I  think they are quite  
>>> confused.
>
>> If it is your opinion that the "textual source code" is not a  
>> derivative work because it merely refers to, but does not  
>> incorporate, the text of qtreactor or qt, then the GPL is  
>> completely meaningless in the context of Python and there was no  
>> point in licensing it that way in the first place. Python bytecode  
>> does not make any additional references to the code it is  
>> importing beyond what Python source code does.
>
> I've got what I believe is the final word on this.  Phil Thompson  
> (again, Riverbank) says:
>
> """
> The reactor must be licensed under the GPL, but the rest of Twisted
> doesn't. A Twisted application that doesn't use the reactor can be
> licensed under the Twisted license. A Twisted application that uses  
> the
> reactor must be licensed under the GPL.
> """
>
> The best course of action, then, would be to distribute qtreactor  
> separately, since we can no longer say that Twisted is all MIT  
> licensed if we do not.  The practical ramifications of this are not  
> earth-shattering, so I think that we do not need to, e.g. release a  
> 2.4.1 which does not include qtreactor, but 2.5+ should definitely  
> not include it.
>
> I also asked specifically about not interfering with the PyQt/Qt  
> commercial license, and Mr. Thompson suggested wording like this:
>
> """
> This code is licensed under either the Twisted license or the GPL
> depending on the license of the copy of PyQt being used.
>
> If the GPL version of PyQt is being used then this code is also  
> licensed
> under the GPL. Given the viral nature of the GPL this means that any
> application must also be licensed under the GPL.
>
> If any other version of PyQt is being used (eg. commercial,  
> evaluation,
> educational) then this code is licensed under the Twisted license.
> """
>
> I suggest that we leave that wording mostly unchanged.
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python




From duncan.mcgreggor at gmail.com  Sat Oct  7 02:49:22 2006
From: duncan.mcgreggor at gmail.com (Duncan McGreggor)
Date: Sat, 07 Oct 2006 00:49:22 -0600
Subject: [Twisted-Python] A New Web Presence for Twisted
Message-ID: <45274DF2.1030201@gmail.com>

Huw Wilkins has done a fabulous job creating and donating a new look and
feel to the Twisted community. He is continuing in the effort while we
convert a testing/dev trac instance to his vision.

We are all getting excited about having the new site go live, and could
use a little help from the community. For those willing to put some time
into testing the development version of the site, there is a trac item
for logging issues encountered:

  http://twistedmatrix.com/trac/ticket/2156

Note that the following trac items are being explored on the dev
instance as well:

  http://twistedmatrix.com/trac/ticket/2141
  http://twistedmatrix.com/trac/ticket/2142

Thanks, and stay tuned!

d



From manlio_perillo at libero.it  Sat Oct  7 18:02:50 2006
From: manlio_perillo at libero.it (Manlio Perillo)
Date: Sun, 08 Oct 2006 00:02:50 +0200
Subject: [Twisted-Python] _dumbwin32proc and PIPE_NOWAIT
In-Reply-To: <20060930232337.1717.1142591311.divmod.quotient.63977@ohm>
References: <20060930232337.1717.1142591311.divmod.quotient.63977@ohm>
Message-ID: <4528240A.6030108@libero.it>

glyph at divmod.com ha scritto:
> [...]

>> Here is the main code.
>> I suspect such a thing will never be accepted into Twisted ;-):
> 
> As JP said, it might, with some tests and a patch in the tracker :).
> 
>> The _win32stdio module can simply check if the stdin is attached to a
>> terminal, so it (hopefully) can support both pipes and consoles.
> 
> That would be great.
> 

I have managed to have an acceptable solution:
http://twistedmatrix.com/trac/attachment/ticket/2157/


>> Many things can be added, like an emulation of POSIX terminal, callbacks
>> for resize events, support for focus in/out, colored output, history
>> editing, ...
> 
>> [1]
>> How can be tested such a thing?
> 
> In addition to JP's suggestion, "mock" the actual API you will be
> testing with, by replacing it in the tests and asserting that the
> appropriate things are called on the console object that you are passing
> it.
> 
> Both approaches make sense in different situations, and good test
> coverage will generally do both.
> 


For now in the test suit I simply put some characters in the console
input buffer (with WriteConsoleInput), checking that they are
read/handled correctly.

I think that this should suffice.


If this patch is accepted I will add a new module,
twisted.internet.termios, for a portable termios support (to be used by
conch script).

My implementation supports raw mode and adding a callback when the
window size changes.
In future I will add history editing (as it works in cmd.exe)


Regards  Manlio Perillo



From exarkun at twistedmatrix.com  Sun Oct  8 01:05:02 2006
From: exarkun at twistedmatrix.com (exarkun at twistedmatrix.com)
Date: Sun, 08 Oct 2006 05:05:02 -0000
Subject: [Twisted-Python] Weekly Bug Summary
Message-ID: 1160283902.49.1947637632@twistedmatrix.com

Bug summary
______________________
Summary for 2006-10-01 through 2006-10-08
Bugs opened: 15    Bugs closed: 13  Total open bugs: 740 (+2)

|== Type Changes   |== Priority Changes   |== Component Changes     
|Defect:       -3  |Highest:  -3          |Conch:               +1  
|Enhancement:  +5  |High:     -4          |Core:                -1  
|Task:         +0  |Normal:  +10          |Names:               +0  
                   |Low:      -1          |Pb:                  -1  
                                          |Release Management:  +0  
                                          |Trial:               +4  
                                          |Web:                 -1  
                                          |Web2:                +1  
                                          |Website:             +0  
                                          |Words:               -1  


New / Reopened Bugs
______________________
                    ===== Highest =====
[#2148] Clean conch tests (opened by therve)
    enhancement     conch      http://twistedmatrix.com/trac/ticket/2148

[#2149] test_names.ServerDNSTestCase.tearDown doesn't wait for TCP Port closure (opened by PenguinOfDoom) (CLOSED, fixed)
    defect          names      http://twistedmatrix.com/trac/ticket/2149

[#2150] skip test_udp.ReactorShutdownInteraction for non-UDP-supporting reactors (opened by PenguinOfDoom) (CLOSED, fixed)
    enhancement     names      http://twistedmatrix.com/trac/ticket/2150

[#2155] test_udp.ReactorShutdownInteraction needs to clean up the UDP port (opened by PenguinOfDoom)
    defect          core       http://twistedmatrix.com/trac/ticket/2155

                    ===== Normal =====
[#2143] Improve test_cftp (opened by jml)
    task            conch      http://twistedmatrix.com/trac/ticket/2143

[#2144] Add Trial option to stop test run on the first failure (opened by jml)
    enhancement     trial      http://twistedmatrix.com/trac/ticket/2144

[#2145] Reporter factories for runner should take no arguments (opened by jml)
    task            trial      http://twistedmatrix.com/trac/ticket/2145

[#2146] t.trial.runner.samefile returns false negatives (opened by jml)
    defect          trial      http://twistedmatrix.com/trac/ticket/2146

[#2147] Give TestCase a default testMethod (opened by jml)
    enhancement     trial      http://twistedmatrix.com/trac/ticket/2147

[#2151] web2.static.File should take a FilePath in __init__, not a path string. (opened by wsanchez)
    enhancement     web2       http://twistedmatrix.com/trac/ticket/2151

[#2152] web2 dependency issue in svn trunk (opened by rikyu) (CLOSED, invalid)
    defect          release management http://twistedmatrix.com/trac/ticket/2152

[#2153] Remove hard dependency on pyopenssl from t.p.amp (opened by paulg)
    defect          core       http://twistedmatrix.com/trac/ticket/2153

[#2154] test_udp spits a DeprecationWarning regarding flushErrors (opened by PenguinOfDoom)
    defect          core       http://twistedmatrix.com/trac/ticket/2154

[#2156] New Twisted Site Preparing for Release (opened by oubiwann)
    enhancement     website    http://twistedmatrix.com/trac/ticket/2156

[#2157] console support for stdio in Windows (opened by synapsis)
    enhancement     core       http://twistedmatrix.com/trac/ticket/2157



Closed Bugs
______________________
                    ===== Highest =====
[#1999] Move newpb out of trunk into a branch or separate package (opened by exarkun, closed by warner, fixed)
    task            pb         http://twistedmatrix.com/trac/ticket/1999

[#1185] twisted.conch.test.test_recvline calls reactor.iterate() (opened by exarkun, closed by exarkun, fixed)
    defect          conch      http://twistedmatrix.com/trac/ticket/1185

[#2150] skip test_udp.ReactorShutdownInteraction for non-UDP-supporting reactors (opened by PenguinOfDoom, closed by pahan, fixed)
    enhancement     names      http://twistedmatrix.com/trac/ticket/2150

[#1051] HTTP server doesn't handle cookies containing '=' (opened by abram, closed by jml, fixed)
    defect          web        http://twistedmatrix.com/trac/ticket/1051

[#2127] Certificate.inspect busted (opened by exarkun, closed by exarkun, fixed)
    defect          core       http://twistedmatrix.com/trac/ticket/2127

[#2126] threadedselectreactor is made available as though it were a reactor (but it is not a reactor) (opened by exarkun, closed by exarkun, fixed)
    defect          core       http://twistedmatrix.com/trac/ticket/2126

[#2149] test_names.ServerDNSTestCase.tearDown doesn't wait for TCP Port closure (opened by PenguinOfDoom, closed by pahan, fixed)
    defect          names      http://twistedmatrix.com/trac/ticket/2149

                    ===== High =====
[#1896] Put giant warnings about obsoleteness on obsolete webpages (opened by exarkun, closed by oubiwann, duplicate)
    task            website    http://twistedmatrix.com/trac/ticket/1896

[#1194] twisted.test.test_sip calls reactor.iterate() (opened by exarkun, closed by therve, fixed)
    defect          core       http://twistedmatrix.com/trac/ticket/1194

[#1197] twisted.test.test_tcp calls reactor.iterate() (opened by exarkun, closed by therve, fixed)
    defect          core       http://twistedmatrix.com/trac/ticket/1197

[#488 ] [PATCH] [TEST] problem with arg handling in soap service (opened by waterbug, closed by therve, fixed)
    defect          core       http://twistedmatrix.com/trac/ticket/488

                    ===== Normal =====
[#2152] web2 dependency issue in svn trunk (opened by rikyu, closed by rikyu, invalid)
    defect          release management http://twistedmatrix.com/trac/ticket/2152

                    ===== Low =====
[#922 ] Add test cases for twisted.words.protocols.jabber.client (opened by ralphm, closed by ralphm, fixed)
    enhancement     words      http://twistedmatrix.com/trac/ticket/922





From TimothyFitz at gmail.com  Sun Oct  8 19:16:44 2006
From: TimothyFitz at gmail.com (Timothy Fitz)
Date: Sun, 8 Oct 2006 19:16:44 -0400
Subject: [Twisted-Python] Windows Buildbot for DDR Ram
In-Reply-To: <op.tg4gyfszy3d107@archimedes>
References: <972ec5bd0609070739m3c45c64ej43b69f426dbb68af@mail.gmail.com>
	<20060911002902.1717.209455672.divmod.quotient.45439@ohm>
	<20060911032546.GA2558@dreid.org>
	<7.0.1.0.2.20060911065215.02b18550@adelphia.net>
	<972ec5bd0609110752q4d42eaf6t8edbb2ea49647b70@mail.gmail.com>
	<ac6817db0609110857l68a63e98n8701a3658e93cdc9@mail.gmail.com>
	<972ec5bd0609110915j727e4b01t1367836df27de808@mail.gmail.com>
	<972ec5bd0609110918g1ee08e8r30a0610447c82d45@mail.gmail.com>
	<17669.37363.893469.295889@terry-jones-computer.local>
	<op.tg4gyfszy3d107@archimedes>
Message-ID: <972ec5bd0610081616x3ff03dacj3bcbb7611f2e5c89@mail.gmail.com>

On 10/8/06, Eric Mangold <teratorn at twistedmatrix.com> wrote:
> I have some $$ sitting here from a previous donation that ought to be put
> to good use.

Thanks for the support but the iocp-buildslave is already paid for and
built, details and pictures can be found at
http://www.timothyfitz.com/blog/?p=5 .

Of course, we can always use *more* buildslaves, so if you happen to
have $300 or so laying around, we need a threadedselectreactor
buildslave and a wxReactor buildslave.

Timothy Fitz



From foom at fuhm.net  Mon Oct  9 00:59:51 2006
From: foom at fuhm.net (James Y Knight)
Date: Mon, 9 Oct 2006 00:59:51 -0400
Subject: [Twisted-Python] Twisted & Qt
In-Reply-To: <623DDFB3-3E00-4012-BA84-F100723120B2@wsanchez.net>
References: <20060930095417.1717.528727954.divmod.quotient.63644@ohm>
	<623DDFB3-3E00-4012-BA84-F100723120B2@wsanchez.net>
Message-ID: <1E5A96AA-A32C-4688-AC0B-2D3E3260849D@fuhm.net>

On Oct 5, 2006, at 2:08 PM, Wilfredo S?nchez Vega wrote:
> This is bunk.

Yes, I agree (again). Look at KDE. If it's okay for the library parts  
of KDE to be licensed under the LGPL (which they are)...how can it be  
improper for qtreactor to be licensed under the MIT license. If the  
argument is that qtreactor is a derivative work of Qt, firstly,  
that's utterly insane, and secondly, KDE is *much* more arguably a  
derivative work than qtreactor.

In addition, the proposed "license" terms:
> """
> This code is licensed under either the Twisted license or the GPL
> depending on the license of the copy of PyQt being used.
>
> If the GPL version of PyQt is being used then this code is also  
> licensed
> under the GPL. Given the viral nature of the GPL this means that any
> application must also be licensed under the GPL.
>
> If any other version of PyQt is being used (eg. commercial,  
> evaluation,
> educational) then this code is licensed under the Twisted license.
> """
>
make very little sense. The license under which we make the code  
available shouldn't depend on something the user does with it. What I  
think he's trying to say there is that the code is available under  
the MIT license, but if you're putting it together with a GPL'd qt,  
you have to treat it as GPLd as well. Which is necessarily the case  
(because of the GPL), whether or not *we* say that. If it would make  
people happy, we could say something like:

"This module may be used under either the MIT or GPL license, at your  
option. However, note that your license of the underlying PyQt and Qt  
libraries may influence which you may use. (in particular, when using  
the GPL version of Qt, this module in turn must be treated under the  
GPL as well, as per Qt's GPL license)."

That is, of course, identical to the MIT license in actual meaning,  
but might make things clearer for people. Yes, you cannot really take  
advantage of its non-GPLness unless you pay for a commercial license  
of PyQt and Qt, but that's not our problem. We have no interest in  
forcing people to abide by the GPL with regards to the code in  
qtreactor, and the license should make that clear (by remaining an  
MIT license).

In addition, I think this whole thing has been a waste of time.  
Nobody was upset by qtreactor's license, there was no reason to even  
worry about it in the first place.

James




From corydodt at gmail.com  Mon Oct  9 14:06:47 2006
From: corydodt at gmail.com (Cory Dodt)
Date: Mon, 9 Oct 2006 11:06:47 -0700
Subject: [Twisted-Python] Twisted & Qt
In-Reply-To: <1E5A96AA-A32C-4688-AC0B-2D3E3260849D@fuhm.net>
References: <20060930095417.1717.528727954.divmod.quotient.63644@ohm>
	<623DDFB3-3E00-4012-BA84-F100723120B2@wsanchez.net>
	<1E5A96AA-A32C-4688-AC0B-2D3E3260849D@fuhm.net>
Message-ID: <c16a94ff0610091106v68de6f9bq4c715c63109e9000@mail.gmail.com>

Are we all forgetting how copyright works?  The GPL only applies if
copyright applies.  Copyright only applies if you're making copies of
someone else's materials.  The qtreactor does not do that, because we don't
include anyone else's files or distribute them.  Someone writing an
application *might* be, but that's their problem.

qtreactor should remain plain old MIT, or it should be dropped and left for
someone else to maintain, because frankly this whole issue has become
radioactive.

C


On 10/8/06, James Y Knight <foom at fuhm.net> wrote:
>
> On Oct 5, 2006, at 2:08 PM, Wilfredo S?nchez Vega wrote:
> > This is bunk.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-python/attachments/20061009/8e614eb9/attachment.htm 

From exarkun at divmod.com  Mon Oct  9 14:47:47 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Mon, 9 Oct 2006 14:47:47 -0400
Subject: [Twisted-Python] Mailing List Hiccup
In-Reply-To: 0
Message-ID: <20061009184747.1717.790209146.divmod.quotient.71949@ohm>

Mailman was out to lunch for a few days last week and over the weekend.  Things
should be sorted out now, and I don't think any messages _to_ the list got lost,
however I do think delivery of those messages to some subscribers got messed up. 
I don't know of any way to rectify this, so if you want to be sure you didn't
miss any messages, you may want to go take a look at the mailman archives
(linked from the bottom of this message).

Jean-Paul




From slamb at slamb.org  Mon Oct  9 20:58:52 2006
From: slamb at slamb.org (Scott Lamb)
Date: Mon, 9 Oct 2006 17:58:52 -0700
Subject: [Twisted-Python] Trial __del__ behavior change - intentional?
Message-ID: <438FC6AD-F29C-4263-91FB-7A90A3DB44BC@slamb.org>

I'm seeing a weird thing on Twisted 2.2.0. It does not happen with  
older versions of Twisted (trunk revision 16674, which I had sitting  
around for some reason). It appears I can't use reference handling to  
clean up resources within a trial - the output code apparently keeps  
a reference to the stack trace or something until after it's done.  
That's too late for me - this resource is essentially a mutex, so if  
I have more than one TestCase in a single trial run, my tests don't  
work.

Is this change intentional?

My test code's inline, along with results on both versions. I'm not  
quite sure how make proper unit tests of trial itself, so  
unfortunately you must interpret the results manually.

$ cat resource_test.py
#!/usr/bin/env
"""A test of using __del__ for cleaning up resources within trial tests.

On trunk revision 16674, this works fine. On Twisted 2.2.0, something  
holds
an extra reference to my resource object. Python actually exits without
ever calling my __del__.
"""

from twisted.trial import unittest

class MyResource:
     def __init__(self, cleaned_up):
         print '<<<INIT CALLED>>>'
         self.cleaned_up = cleaned_up

     def __del__(self):
         print '<<<DEL CALLED>>>'
         self.cleaned_up[0] = True

     def raiseerror(self):
         raise Exception('foo')

class ReferenceTest(unittest.TestCase):
     def setUp(self):
         # This is an array so that the callee can make changes that  
alter
         # our copy.
         self.cleaned_up = [False]
         self.my_resource = MyResource(self.cleaned_up)

     def tearDown(self):
         self.my_resource = None
         self.assertEquals(self.cleaned_up[0], True)

     def testError(self):
         self.my_resource.raiseerror()

     def testPass(self):
         pass


[machine-a ~]$ svnversion svn/Twisted
16674
[machine-a ~]$ trial resource_test
   resource_test
     ReferenceTest
<<<INIT CALLED>>>
       testError ... <<<DEL CALLED>>>
                                                     [ERROR]
<<<INIT CALLED>>>
       testPass ... <<<DEL CALLED>>>
                                                         [OK]

======================================================================== 
=======
[ERROR]: resource_test.ReferenceTest.testError

   File "twisted/internet/defer.py", line 109, in maybeDeferred

   File "/Users/slamb/resource_test.py", line 35, in testError
     self.my_resource.raiseerror()
   File "/Users/slamb/resource_test.py", line 21, in raiseerror
     raise Exception('foo')
exceptions.Exception: foo
------------------------------------------------------------------------ 
-------
Ran 2 tests in 0.030s

FAILED (errors=1, successes=1)

[machine-b ~]$ rpm -q python-twisted
python-twisted-2.2.0-1
[machine-b ~]$ trial resource_test
Running 2 tests.
resource_test
   ReferenceTest
     testError ... <<<INIT CALLED>>>
                                                       [ERROR]
                                                       [ERROR]
   tearDown                                                          
['ERROR']
     testPass ... <<<INIT CALLED>>>
<<<DEL CALLED>>>
                                                           [OK]

======================================================================== 
=======
[ERROR]: resource_test.ReferenceTest.testError

   File "/home/slamb/resource_test.py", line 35, in testError
     self.my_resource.raiseerror()
   File "/home/slamb/resource_test.py", line 21, in raiseerror
     raise Exception('foo')
exceptions.Exception: foo
======================================================================== 
=======
[ERROR]: resource_test.ReferenceTest.testError

   File "/home/slamb/resource_test.py", line 32, in tearDown
     self.assertEquals(self.cleaned_up[0], True)
twisted.trial.unittest.FailTest: False != True
------------------------------------------------------------------------ 
-------
Ran 2 tests in 0.055s

FAILED (errors=2, successes=1)
<<<DEL CALLED>>>

-- 
Scott Lamb <http://www.slamb.org/>





From glyph at divmod.com  Tue Oct 10 01:04:50 2006
From: glyph at divmod.com (glyph at divmod.com)
Date: Tue, 10 Oct 2006 05:04:50 -0000
Subject: [Twisted-Python] Twisted & Qt
Message-ID: <20061010050450.5666.1602139835.divmod.xquotient.121@joule.divmod.com>

On 9 Oct, 04:59 am, foom at fuhm.net wrote:
>On Oct 5, 2006, at 2:08 PM, Wilfredo S?nchez Vega wrote:
>>This is bunk.
>
>Yes, I agree (again).

There's really no reason to keep discussing this unless you get input from a lawyer or a relevant copyright holder.  The decision has been made: qtreactor is going to be developed and released outside of Twisted trunk proper, but given the relatively light level of development it generally sees, I don't see this creating a lot of problems. 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-python/attachments/20061010/e7cd0680/attachment.htm 

From glyph at divmod.com  Tue Oct 10 01:11:43 2006
From: glyph at divmod.com (glyph at divmod.com)
Date: Tue, 10 Oct 2006 05:11:43 -0000
Subject: [Twisted-Python] Trial __del__ behavior change - intentional?
Message-ID: <20061010051143.5666.1678925604.divmod.xquotient.127@joule.divmod.com>

On 12:58 am, slamb at slamb.org wrote:
>It appears I can't use reference handling to  clean up 
>resources within a trial - the output code apparently keeps  a reference to 
>the stack trace or something until after it's done.  That's too late for me 
>- this resource is essentially a mutex, so if  I have more than one TestCase 
>in a single trial run, my tests don't  work.

I can't speak to the intentionality of that particular change, but there are many cases where code (not necessarily trial) will do something like this temporarily.  You should always treat __del__ as slightly non-deterministic unless you have a very tightly controlled test _specifically_ for your __del__ and it includes a gc.collect().

Do startup / cleanup with the 'setUp' and 'tearDown' TestCase methods.  Don't depend on garbage collection: this goes for both your application and your test code.  Implicitly depending on the garbage collector's behavior will very likely make your program break under the debugger, but not under normal operation (or vice versa).
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-python/attachments/20061010/79028333/attachment.htm 

From slamb at slamb.org  Tue Oct 10 02:28:11 2006
From: slamb at slamb.org (Scott Lamb)
Date: Mon, 09 Oct 2006 23:28:11 -0700
Subject: [Twisted-Python] Trial __del__ behavior change - intentional?
In-Reply-To: <20061010051143.5666.1678925604.divmod.xquotient.127@joule.divmod.com>
References: <20061010051143.5666.1678925604.divmod.xquotient.127@joule.divmod.com>
Message-ID: <452B3D7B.7010805@slamb.org>

glyph at divmod.com wrote:
> On 12:58 am, slamb at slamb.org wrote:
>  >It appears I can't use reference handling to  clean up
>  >resources within a trial - the output code apparently keeps  a 
> reference to
>  >the stack trace or something until after it's done.  That's too late 
> for me
>  >- this resource is essentially a mutex, so if  I have more than one 
> TestCase
>  >in a single trial run, my tests don't  work.
> 
> I can't speak to the intentionality of that particular change, but there 
> are many cases where code (not necessarily trial) will do something like 
> this temporarily.  You should always treat __del__ as slightly 
> non-deterministic unless you have a very tightly controlled test 
> _specifically_ for your __del__ and it includes a gc.collect().

Ugh. No, under those restrictions, I'll avoid it entirely. Looks like I 
need more tearDown() stuff and a few finally clauses, Java-style.

> Do startup / cleanup with the 'setUp' and 'tearDown' TestCase methods. 
>  Don't depend on garbage collection: this goes for both your application 
> and your test code.  Implicitly depending on the garbage collector's 
> behavior will very likely make your program break under the debugger, 
> but not under normal operation (or vice versa).

Is this documented somewhere? I'm not sure where the logical place is, 
but I'm used to CPython code that generally avoids circular references, 
so this strikes me as unusual - I've never had a reason to call 
gc.collect(), and I've rarely even noticed that Python *has* a garbage 
collector. Including your statement in the documentation might save some 
pain.

Thanks for your help.

Warm regards,
Scott

-- 
Scott Lamb <http://www.slamb.org/>



From slamb at slamb.org  Tue Oct 10 03:01:19 2006
From: slamb at slamb.org (Scott Lamb)
Date: Tue, 10 Oct 2006 00:01:19 -0700
Subject: [Twisted-Python] trial for integration tests - setUpClass(),
	tearDownClass()
Message-ID: <452B453F.9000100@slamb.org>

We're using trial for tests of an external device. We've got some 
C-based unit tests where we're able to run our code on the build 
machine, but the Python/trial stuff is more of an integration test:

* Python can't run on our device itself - not only would the porting 
effort be prohibitive, it simply wouldn't fit.
* Tests inevitably cover more than one unit - everything requires the 
thing to have booted successfully, tests require either working console 
or Ethernet+IP+TCP+SSL+SSH, etc.
* We can't realistically do a new boot for each test method. It'd take 
too long. We're currently doing everything in one boot; one boot per 
test class might be feasible.

We're really not using any twisted-testing features of trial, and for us 
the package name "twisted.trial.unittest" is a total lie, but it 
provides a pretty nice framework all the same. buildbot understands its 
output, it does nice things like giving you results on 
InterruptException, etc.

So given our unusual usage, there's some stuff we need to do in 
setUpClass() and tearDownClass(). I've seen murmurs on the list avoid 
removing them. What's the latest? I like them, but I've encountered a 
couple problems so far:

* When setUpClass() errors out, Trial says our tests are broken, then 
tries again for every test method in the class. I have a thick skin, so 
I can take the taunting, but trying to reboot the thing a million times 
is pretty undesirable.

* If the final setUp() fails, tearDownClass() is never invoked. (I'll 
file a bug with details if there's still interest in setUpClass() and 
tearDownClass().)

-- 
Scott Lamb <http://www.slamb.org/>



From swalsh at ncipher.com  Tue Oct 10 13:34:24 2006
From: swalsh at ncipher.com (Walsh, Sandy)
Date: Tue, 10 Oct 2006 11:34:24 -0600
Subject: [Twisted-Python] Problems with code in "Twisted" book ...
Message-ID: <075DE16201D10648805AD252D1BC132203704366@VS6.EXCHPROD.USA.NET>

Hey there, 

Just got a copy of "Twisted" and I've been playing around with the book
examples. Can't seem to get the "Example 2-6. dataforward.py" to work on
Windows. I've reverted back to Python 2.3 (because I ultimately want to
use the secure stuff later). It compiles and runs, but I get no echo of
the input and the reactor seems to be frozen. When I Ctrl-C the program
I get my keyed input spewed into the console, so it seems python is not
receiving it. 

Is there a place I can check for the latest code from the book or is
there a more suitable place to ask questions of this type?

Thx,
Sandy




From BRADLEY.S.GASPARD at saic.com  Tue Oct 10 14:58:01 2006
From: BRADLEY.S.GASPARD at saic.com (Gaspard, Bradley S)
Date: Tue, 10 Oct 2006 14:58:01 -0400
Subject: [Twisted-Python] udp checksum
Message-ID: <702ADCB87C5EF340B1D7A597A9DFF1DA4B8B88@0015-its-exmb02.us.saic.com>

As a newbie trying to learn twisted I was playing with the udp echo
client/server that comes with twisted  (2.4.0) (echoclient_upd.py and
echoserv_udp.py) which worked fine except that when I observed the packets
using Ethereal it indicated that the udp checksum was in error?! [running
the example multiple times ... not just a one time occurance]

I am on a linux platform and my version of ethereal is 0.10.14 and Python is
2.4.2

Am I missing something??



From exarkun at divmod.com  Tue Oct 10 15:26:31 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Tue, 10 Oct 2006 15:26:31 -0400
Subject: [Twisted-Python] udp checksum
In-Reply-To: <702ADCB87C5EF340B1D7A597A9DFF1DA4B8B88@0015-its-exmb02.us.saic.com>
Message-ID: <20061010192631.1717.1996162280.divmod.quotient.72931@ohm>

On Tue, 10 Oct 2006 14:58:01 -0400, "Gaspard, Bradley S" <bradley.s.gaspard at saic.com> wrote:
>As a newbie trying to learn twisted I was playing with the udp echo
>client/server that comes with twisted  (2.4.0) (echoclient_upd.py and
>echoserv_udp.py) which worked fine except that when I observed the packets
>using Ethereal it indicated that the udp checksum was in error?! [running
>the example multiple times ... not just a one time occurance]
>
>I am on a linux platform and my version of ethereal is 0.10.14 and Python is
>2.4.2
>
>Am I missing something??
>

Ethereal often incorrectly reports that checksums are invalid.

Jean-Paul



From p.mayers at imperial.ac.uk  Tue Oct 10 16:49:48 2006
From: p.mayers at imperial.ac.uk (Phil Mayers)
Date: Tue, 10 Oct 2006 21:49:48 +0100
Subject: [Twisted-Python] udp checksum
In-Reply-To: <20061010192631.1717.1996162280.divmod.quotient.72931@ohm>
References: <20061010192631.1717.1996162280.divmod.quotient.72931@ohm>
Message-ID: <452C076C.8020805@imperial.ac.uk>

> 
> Ethereal often incorrectly reports that checksums are invalid.

Hardware checksum offloading can be a problem too. I've disabled it on 
more than one Linux server (especially with broadcom NICs) to find 
certain weird networking problems resolved.



From ncesar at lunix.com.ar  Wed Oct 11 16:30:25 2006
From: ncesar at lunix.com.ar (Nicolas D. Cesar)
Date: Wed, 11 Oct 2006 17:30:25 -0300
Subject: [Twisted-Python] Change twisted logging
Message-ID: <200610111730.25618.ncesar@lunix.com.ar>

How can I supress the "Traceback (most recent call last)" when an uncaught 
Exception rises up to twistd..?

I did:
-------------------------------------------------
originalLogger = log.theLogPublisher.observers.pop(0)
def emit(eventDict):
    if eventDict["isError"]:
        eventDict["message"] = ["[EE] " + x for x in eventDict["message"]]

    global originalLogger
    originalLogger(eventDict)

log.addObserver(emit)
--------------------------------------------------


and got:
-------------------------------------------------
2006/10/11 17:23 ART [-] [EE] Traceback (most recent call last):
2006/10/11 17:23 ART [-] [EE]   File "/usr/bin/twistd", line 25, in ?
2006/10/11 17:23 ART [-] [EE]     run()
2006/10/11 17:23 ART [-] [EE]   
File "/usr/lib/python2.4/site-packages/twisted/scripts/twistd.py", line 205, 
in run
[...]
2006/10/11 17:23 ART [-] [EE]   
File "/u/home/ncesar/src-svn/twisted-tests/src/multiltsp/servers.py", line 
375, in loadServers
2006/10/11 17:23 ART [-] [EE]     raise 
MandatoryConfig(os.path.join(os.getcwd(),servers_file),'main','servers')
2006/10/11 17:23 ART [-] [EE] multiltsp.servers.MandatoryConfig: ERROR: (..)
-----------------------------------------------

I just want to show the last line... not all the traceback info. Is this 
posible? 

Greetings,
-- 
Nicol?s D. C?sar <ncesar at lunix.com.ar>
Lunix S.R.L. -[ http://www.lunix.com.ar ]-
GnuPG Public Key: gpg --keyserver wwwkeys.pgp.net --recv-key 0x3606F3E6
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : http://twistedmatrix.com/pipermail/twisted-python/attachments/20061011/c4f69ac9/attachment.pgp 

From glyph at divmod.com  Wed Oct 11 16:54:21 2006
From: glyph at divmod.com (glyph at divmod.com)
Date: Wed, 11 Oct 2006 20:54:21 -0000
Subject: [Twisted-Python] Change twisted logging
Message-ID: <20061011205421.17968.1259160777.divmod.xquotient.119@joule.divmod.com>


On 08:30 pm, ncesar at lunix.com.ar wrote:
>How can I supress the "Traceback (most recent call last)" when an uncaught
>Exception rises up to twistd..?

You can't.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-python/attachments/20061011/f8a12424/attachment.htm 

From mmcnett at cs.ucsd.edu  Wed Oct 11 17:57:45 2006
From: mmcnett at cs.ucsd.edu (Marvin McNett)
Date: Wed, 11 Oct 2006 14:57:45 -0700
Subject: [Twisted-Python] database transaction commit
Message-ID: <452D68D9.3070405@cs.ucsd.edu>

In the adbapi documentation it says, "In all cases a database 
transaction will be commited after your database usage is finished, 
unless an exception is raised in which case it will be rolled back."

So, I'm wondering when my database usage is actually finished.  In the 
example there, would it be after the call to '_getAge' or after the call 
to 'printResult' (i.e. after the callable to runInteraction or after the 
last callback attached to the deferred)?

Thanks,
Marvin



From p.mayers at imperial.ac.uk  Wed Oct 11 19:58:12 2006
From: p.mayers at imperial.ac.uk (Phil Mayers)
Date: Thu, 12 Oct 2006 00:58:12 +0100
Subject: [Twisted-Python] database transaction commit
In-Reply-To: <452D68D9.3070405@cs.ucsd.edu>
References: <452D68D9.3070405@cs.ucsd.edu>
Message-ID: <452D8514.4080101@imperial.ac.uk>

Marvin McNett wrote:
> In the adbapi documentation it says, "In all cases a database 
> transaction will be commited after your database usage is finished, 
> unless an exception is raised in which case it will be rolled back."
> 
> So, I'm wondering when my database usage is actually finished.  In the 
> example there, would it be after the call to '_getAge' or after the call 
> to 'printResult' (i.e. after the callable to runInteraction or after the 
> last callback attached to the deferred)?

I believe if runInteraction returns (as opposed to excepting) then the 
transaction has committed?



From swalsh at ncipher.com  Thu Oct 12 13:53:58 2006
From: swalsh at ncipher.com (Walsh, Sandy)
Date: Thu, 12 Oct 2006 11:53:58 -0600
Subject: [Twisted-Python] RE: Problems with code in "Twisted" book ...
Message-ID: <075DE16201D10648805AD252D1BC1322037C6BD1@VS6.EXCHPROD.USA.NET>


Anyone have any answers to this?

Abe? Care to support one of your customers?

-Sandy

-----Original Message-----
From: Walsh, Sandy 
Sent: Tuesday, October 10, 2006 2:34 PM
To: 'twisted-python at twistedmatrix.com'
Subject: Problems with code in "Twisted" book ...

Hey there, 

Just got a copy of "Twisted" and I've been playing around with the book
examples. Can't seem to get the "Example 2-6. dataforward.py" to work on
Windows. I've reverted back to Python 2.3 (because I ultimately want to
use the secure stuff later). It compiles and runs, but I get no echo of
the input and the reactor seems to be frozen. When I Ctrl-C the program
I get my keyed input spewed into the console, so it seems python is not
receiving it. 

Is there a place I can check for the latest code from the book or is
there a more suitable place to ask questions of this type?

Thx,
Sandy




From exarkun at divmod.com  Thu Oct 12 15:44:02 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Thu, 12 Oct 2006 15:44:02 -0400
Subject: [Twisted-Python] Problems with code in "Twisted" book ...
In-Reply-To: <075DE16201D10648805AD252D1BC132203704366@VS6.EXCHPROD.USA.NET>
Message-ID: <20061012194402.26151.440793185.divmod.quotient.234@ohm>

On Tue, 10 Oct 2006 11:34:24 -0600, "Walsh, Sandy" <swalsh at ncipher.com> wrote:
>Hey there,
>
>Just got a copy of "Twisted" and I've been playing around with the book
>examples. Can't seem to get the "Example 2-6. dataforward.py" to work on
>Windows. I've reverted back to Python 2.3 (because I ultimately want to
>use the secure stuff later). It compiles and runs, but I get no echo of
>the input and the reactor seems to be frozen. When I Ctrl-C the program
>I get my keyed input spewed into the console, so it seems python is not
>receiving it.

I can at least confirm that it doesn't work for me on Windows, either.  I
couldn't say why without doing more investigation, though.  The
dataforward.py example looks a little more complex than it needs to be, but
not obviously broken.  This may simply be poor stdio handling on Windows.

>
>Is there a place I can check for the latest code from the book or is
>there a more suitable place to ask questions of this type?
>
>Thx,
>Sandy
>

Jean-Paul



From warner at lothar.com  Fri Oct 13 03:38:28 2006
From: warner at lothar.com (Brian Warner)
Date: Fri, 13 Oct 2006 00:38:28 -0700 (PDT)
Subject: [Twisted-Python] Foolscap-0.0.3 released (aka newpb)
Message-ID: <20061013.003828.01839254.warner@lothar.com>

I've released version 0.0.3 of Foolscap (aka newpb), the next-generation
remote-object communication library for Twisted.

This release is still highly unstable: incompatible protocols changes *will*
happen, so don't use it if you can't retain control over both ends of the
wire.

This release contains a bunch of API changes and some new features:
eventual-send operators, an early version of Promises, and improvements to
the way Gifts are delivered. The NEWS file is attached below with complete
details.

Check out the Foolscap home page at:

 http://twistedmatrix.com/trac/wiki/FoolsCap

for docs, feature lists, and all your other Foolscap needs. And download the
0.0.3 release from here:

 http://twistedmatrix.com/~warner/Foolscap/


share and enjoy,
 -Brian




* Release 0.0.3 (05 Oct 2006)

** API Changes

The primary entry point for Foolscap is now the "Tub":

    import foolscap
    t = foolscap.Tub()
    d = t.getReference(pburl)
    d.addCallback(self.gotReference)
    ...

The old "PBService" name is gone, use "Tub" instead. There are now separate
classes for "Tub" and "UnauthenticatedTub", rather than using an "encrypted="
argument. Tubs always use encryption if available: the difference between the
two classes is whether this Tub should use a public key for its identity or
not. Note that you always need encryption to connect to an authenticated Tub.
So install pyopenssl, really.

** eventual send operators

Foolscap now provides 'eventually' and 'fireEventually', to implement the
"eventual send" operator advocated by Mark Miller's "Concurrency Among
Strangers" paper (http://www.erights.org/talks/promises/index.html).
eventually(cb, *args, **kwargs) runs the given call in a later reactor turn.
fireEventually(value=None) returns a Deferred that will be fired (with
'value') in a later turn. These behave a lot like reactor.callLater(0,..),
except that Twisted doesn't actually promise that a pair of callLater(0)s
will be fired in the right order (they usually do under unix, but they
frequently don't under windows). Foolscap's eventually() *does* make this
guarantee. In addition, there is a flushEventualQueue() that is useful for
unit tests, it returns a Deferred that will only fire when the entire queue
is empty. As long as your code only uses eventually() (and not callLater(0)),
putting the following in your trial test cases should keep everything nice
and clean:

 def tearDown(self):
     return foolscap.flushEventualQueue()

** Promises

An initial implementation of Promises is in foolscap.promise for
experimentation. Only "Near" Promises are implemented to far (promises which
resolve to a local object). Eventually Foolscap will offer "Far" Promises as
well, and you will be able to invoke remote method calls through Promises as
well as RemoteReferences. See foolscap/test/test_promise.py for some hints.

** Bug Fixes

Messages containing "Gifts" (third-party references) are now delivered in the
correct order. In previous versions, the presence of these references could
delay delivery of the containing message, causing methods to be executed out
of order.

The VOCAB-manipulating code used to have nasty race conditions, which should
be all fixed now. This would be more important if we actually used the
VOCAB-manipulating code yet, but we don't.

Lots of internal reorganization (put all slicers in a subpackage), not really
user-visible.

Updated to work with recent Twisted HEAD, specifically changes to sslverify.
This release of Foolscap ought to work with the upcoming Twisted-2.5 .

** Incompatible protocol changes

There are now separate add-vocab and set-vocab sequences, which add a single
new VOCAB token and replace the entire table, respectively. These replace the
previous 'vocab' sequence which behaved like set-vocab does now. This would
be an incompatible protocol change, except that previous versions never sent
the vocab sequence anyways. This version doesn't send either vocab-changing
sequence either, but when we finally do start using it, it'll be ready.




From therve at free.fr  Fri Oct 13 09:43:13 2006
From: therve at free.fr (Thomas HERVE)
Date: Fri, 13 Oct 2006 15:43:13 +0200
Subject: [Twisted-Python] database transaction commit
In-Reply-To: <452D68D9.3070405@cs.ucsd.edu>
References: <452D68D9.3070405@cs.ucsd.edu>
Message-ID: <20061013154313.ntf997j4wg8s4sko@itchy.wasabout.net>

Quoting Marvin McNett <mmcnett at cs.ucsd.edu>:

> In the adbapi documentation it says, "In all cases a database 
> transaction will be commited after your database usage is finished, 
> unless an exception is raised in which case it will be rolled back."
>
> So, I'm wondering when my database usage is actually finished.  In 
> the example there, would it be after the call to '_getAge' or after 
> the call to 'printResult' (i.e. after the callable to runInteraction 
> or after the last callback attached to the deferred)?

The transaction will be commited when the deferred returned by 
runInteraction will  be fired. It means in the *first* callback 
(printResult) you can expected it to be finished.

-- 
Thomas





From exarkun at twistedmatrix.com  Sun Oct 15 01:05:02 2006
From: exarkun at twistedmatrix.com (exarkun at twistedmatrix.com)
Date: Sun, 15 Oct 2006 05:05:02 -0000
Subject: [Twisted-Python] Weekly Bug Summary
Message-ID: 1160888702.24.1822126477@twistedmatrix.com

Bug summary
______________________
Summary for 2006-10-08 through 2006-10-15
Bugs opened: 15    Bugs closed: 12  Total open bugs: 743 (+3)

|== Type Changes   |== Priority Changes   |== Component Changes   
|Defect:       +4  |Highest:  -4          |Conch:    -1           
|Enhancement:  -1  |High:     -2          |Core:     -1           
|Task:         +0  |Normal:   +9          |Lore:     -1           
                                          |Mail:     +0           
                                          |Trial:    +6           
                                          |Web2:     +0           
                                          |Website:  -1           
                                          |Words:    +1           


New / Reopened Bugs
______________________
                    ===== Highest =====
[#2158] SMTP server incorrectly handles SMTPBadSender from validateFrom (opened by exarkun) (CLOSED, fixed)
    enhancement     mail       http://twistedmatrix.com/trac/ticket/2158

[#2160] Make Twisted work with latest zope.interface (opened by radix) (CLOSED, fixed)
    enhancement     core       http://twistedmatrix.com/trac/ticket/2160

[#2171] Bad ssl check (opened by ilia)
    defect          words      http://twistedmatrix.com/trac/ticket/2171

                    ===== Normal =====
[#2159] Conch uses no-longer-present trial benchmark feature (opened by exarkun)
    defect          conch      http://twistedmatrix.com/trac/ticket/2159

[#2161] trial doesn't load all the bzr tests (opened by jml)
    defect          trial      http://twistedmatrix.com/trac/ticket/2161

[#2162] Do skip and todo with exceptions (opened by jml)
    task            trial      http://twistedmatrix.com/trac/ticket/2162

[#2163] Add subunit reporter to Trial (opened by jml)
    enhancement     trial      http://twistedmatrix.com/trac/ticket/2163

[#2164] trial's IReporter interface is missing some attributes (opened by exarkun)
    defect          trial      http://twistedmatrix.com/trac/ticket/2164

[#2165] trial's "test_suite" feature violates naming standard (opened by exarkun)
    defect          trial      http://twistedmatrix.com/trac/ticket/2165

[#2166] Paste wsgi.lint finds a problem with web2 wsgi implementation. (opened by martinpaljak) (CLOSED, fixed)
    defect          web2       http://twistedmatrix.com/trac/ticket/2166

[#2167] typo in web2.channel.scgi (opened by mars)
    defect          web2       http://twistedmatrix.com/trac/ticket/2167

[#2168] tearDownClass() not always called after setUpClass() (opened by slamb)
    defect          trial      http://twistedmatrix.com/trac/ticket/2168

[#2169] twisted.plugin documentation errors (opened by babbitt)
    task            core       http://twistedmatrix.com/trac/ticket/2169

[#2170] BufferedStream.readline strips delimiter - makes it impossible to discover EOF (opened by exarkun) (CLOSED, fixed)
    defect          web2       http://twistedmatrix.com/trac/ticket/2170

[#2172] kqueue connection failure results in bad fd message (opened by ghazel)
    defect          core       http://twistedmatrix.com/trac/ticket/2172



Closed Bugs
______________________
                    ===== Highest =====
[#2148] Clean conch tests (opened by therve, closed by exarkun, fixed)
    enhancement     conch      http://twistedmatrix.com/trac/ticket/2148

[#2155] test_udp.ReactorShutdownInteraction needs to clean up the UDP port (opened by PenguinOfDoom, closed by pahan, fixed)
    defect          core       http://twistedmatrix.com/trac/ticket/2155

[#2134] lore --output latex fails on span indexes (opened by DavidBlewett, closed by exarkun, fixed)
    defect          lore       http://twistedmatrix.com/trac/ticket/2134

[#2158] SMTP server incorrectly handles SMTPBadSender from validateFrom (opened by exarkun, closed by exarkun, fixed)
    enhancement     mail       http://twistedmatrix.com/trac/ticket/2158

[#1983] Rename 'tlsstarted' to something that isn't a lie, and use more global constants for magic strings (opened by radix, closed by radix, fixed)
    task            core       http://twistedmatrix.com/trac/ticket/1983

[#2079] Deprecate twisted.python.reflect.funcinfo (opened by radix, closed by exarkun, fixed)
    task            core       http://twistedmatrix.com/trac/ticket/2079

[#2160] Make Twisted work with latest zope.interface (opened by radix, closed by exarkun, fixed)
    enhancement     core       http://twistedmatrix.com/trac/ticket/2160

                    ===== High =====
[#1481] SEO: Google searches for docs usually go to out-of-date sourceforge (opened by moonfallen, closed by jknight, fixed)
    defect          website    http://twistedmatrix.com/trac/ticket/1481

[#1451] twisted.web2.stream readline size argument (opened by mkerrin, closed by foom, fixed)
    enhancement     web2       http://twistedmatrix.com/trac/ticket/1451

                    ===== Normal =====
[#1679] conch script does not work on Windows (opened by synapsis, closed by exarkun, duplicate)
    defect          conch      http://twistedmatrix.com/trac/ticket/1679

[#2170] BufferedStream.readline strips delimiter - makes it impossible to discover EOF (opened by exarkun, closed by foom, fixed)
    defect          web2       http://twistedmatrix.com/trac/ticket/2170

[#2166] Paste wsgi.lint finds a problem with web2 wsgi implementation. (opened by martinpaljak, closed by foom, fixed)
    defect          web2       http://twistedmatrix.com/trac/ticket/2166





From konrads.smelkovs at gmail.com  Mon Oct 16 08:56:03 2006
From: konrads.smelkovs at gmail.com (Konrads Smelkovs)
Date: Mon, 16 Oct 2006 15:56:03 +0300
Subject: [Twisted-Python] Help wanted,
	will pay| Identity and media sharing system
Message-ID: <1161003363.9227.4.camel@localhost.localdomain>

Hello,
Looking for developer(s) for Identity and media sharing system. This is
a contract job. Result could be opensourced. Delivery in phases is
acceptable. Use of opensource components is encouraged




A middleware application must be developed for 3d party Application
integration in web environment. 

Requirements doc: http://docs.google.com/View?docid=dfk9tgvx_1g3ph94

The general purpose is to enable all media files to be uniquely
referenceable while avoiding duplicates. In addition, the management of
user information and rights across multiple services needs to be made
simple and secure.

<h2> 1. Objectives:</h2>  
  * Develop subsystems that will allow non locally developed
    applications to be securely integrated into the main media data
    sharing system used on the services Platform. 
  * The subsystems have to provide easy and secure integration the
    identity management and media data sharing facilities. 
  * The sub-systems must enable the possibility to provide an API for
    external services (third party applications) with custom sharing of
    information.

Examples:

-- 
Konrads Smelkovs
Applied IT sorcery.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-python/attachments/20061016/397312da/attachment.htm 

From eprparadocs at gmail.com  Mon Oct 16 09:04:37 2006
From: eprparadocs at gmail.com (Chaz.)
Date: Mon, 16 Oct 2006 09:04:37 -0400
Subject: [Twisted-Python] Help wanted, will pay| Identity and media sharing
	system
In-Reply-To: <1161003363.9227.4.camel@localhost.localdomain>
References: <1161003363.9227.4.camel@localhost.localdomain>
Message-ID: <45338365.7080701@gmail.com>

Is this a pay position or a play position?


Konrads Smelkovs wrote:
> Hello,
> Looking for developer(s) for Identity and media sharing system. This is
> a contract job. Result could be opensourced. Delivery in phases is
> acceptable. Use of opensource components is encouraged
> 
> 
> 
> 
> A middleware application must be developed for 3d party Application
> integration in web environment.
> 
> Requirements doc: http://docs.google.com/View?docid=dfk9tgvx_1g3ph94
> 
> The general purpose is to enable all media files to be uniquely
> referenceable while avoiding duplicates. In addition, the management of
> user information and rights across multiple services needs to be made
> simple and secure.
> 
> # <h2> 1. Objectives:</h2> Develop subsystems that will allow non locally
> developed applications to be securely integrated into the main media
> data sharing system used on the services Platform.
> # The subsystems have to provide easy and secure integration the identity
> management and media data sharing facilities.
> # The sub-systems must enable the possibility to provide an API for
> external services (third party applications) with custom sharing of
> information.
> 
> Examples:
> 
> -- 
> Konrads Smelkovs
> Applied IT sorcery.
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python




From konrads.smelkovs at gmail.com  Mon Oct 16 09:15:06 2006
From: konrads.smelkovs at gmail.com (Konrads Smelkovs)
Date: Mon, 16 Oct 2006 16:15:06 +0300
Subject: [Twisted-Python] Help wanted, will pay| Identity and media
	sharing system
In-Reply-To: <45338365.7080701@gmail.com>
References: <1161003363.9227.4.camel@localhost.localdomain>
	<45338365.7080701@gmail.com>
Message-ID: <1161004506.9227.6.camel@localhost.localdomain>

It is an outsourcing contract - I want it done and am willing to pay :)
On Mon, 2006-10-16 at 09:04 -0400, Chaz. wrote:

> Is this a pay position or a play position?
> 
> 
> Konrads Smelkovs wrote:
> > Hello,
> > Looking for developer(s) for Identity and media sharing system. This is
> > a contract job. Result could be opensourced. Delivery in phases is
> > acceptable. Use of opensource components is encouraged
> > 
> > 
> > 
> > 
> > A middleware application must be developed for 3d party Application
> > integration in web environment.
> > 
> > Requirements doc: http://docs.google.com/View?docid=dfk9tgvx_1g3ph94
> > 
> > The general purpose is to enable all media files to be uniquely
> > referenceable while avoiding duplicates. In addition, the management of
> > user information and rights across multiple services needs to be made
> > simple and secure.
> > 
> > # <h2> 1. Objectives:</h2> Develop subsystems that will allow non locally
> > developed applications to be securely integrated into the main media
> > data sharing system used on the services Platform.
> > # The subsystems have to provide easy and secure integration the identity
> > management and media data sharing facilities.
> > # The sub-systems must enable the possibility to provide an API for
> > external services (third party applications) with custom sharing of
> > information.
> > 
> > Examples:
> > 
> > -- 
> > Konrads Smelkovs
> > Applied IT sorcery.
> > 
> > 
> > ------------------------------------------------------------------------
> > 
> > _______________________________________________
> > Twisted-Python mailing list
> > Twisted-Python at twistedmatrix.com
> > http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
> 
> 
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python

-- 
Konrads Smelkovs
Applied IT sorcery.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-python/attachments/20061016/328f7986/attachment.htm 

From Sven-Erik.Tiberg at ltu.se  Tue Oct 17 05:05:13 2006
From: Sven-Erik.Tiberg at ltu.se (Sven-Erik Tiberg)
Date: Tue, 17 Oct 2006 11:05:13 +0200
Subject: [Twisted-Python] Twisted - reactor activated by reciving
	UDP-package.
Message-ID: <668D1B8AD729C94DB91D17EC19B8BB910400B0E8@EMMA.personal.adp.ltu.se>

Hi.
 
I'm Sven-Erik Tiberg at Lulea Univ. of Technology / Sweden and having a
project to make a system for distributed Interactive 3D simulations. 
My approach are to use OpenSource program as far as possible as Python,
Blender and Flux Studio in the client.
Transport of states will use UDP between client X3D-browser and
simulation server.
 
Would like to use Twisted with it's RT-functionallity to have Twisted
processes waiting for a UDP package to arrive ( interupt ) and then
activate a ROUTE node in the X3D-world that will change properties of a
X3D-Node like a cube, 3D speedometer,,
 
My Q. can a Twisted script be activated from an arrival of a UDP or TCP
package?
 
BG
Sven-Erik Tiberg
Lulea Univ of Technology.
Sweden
 
   
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-python/attachments/20061017/b154032c/attachment.htm 

From glyph at divmod.com  Tue Oct 17 08:06:02 2006
From: glyph at divmod.com (glyph at divmod.com)
Date: Tue, 17 Oct 2006 12:06:02 -0000
Subject: [Twisted-Python] Twisted - reactor activated by reciving
	UDP-package.
Message-ID: <20061017120602.20219.353551839.divmod.xquotient.7@joule.divmod.com>

On 09:05 am, sven-erik.tiberg at ltu.se wrote:

>My Q. can a Twisted script be activated from an arrival of a UDP or TCP
>package?

Yes.  That is what Twisted _is_.

Have you looked at the "finger" tutorial?

http://twistedmatrix.com/projects/core/documentation/howto/tutorial/index.html
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-python/attachments/20061017/88799570/attachment.htm 

From yqiang at gmail.com  Tue Oct 17 13:13:28 2006
From: yqiang at gmail.com (Yi Qiang)
Date: Tue, 17 Oct 2006 10:13:28 -0700
Subject: [Twisted-Python] Perspective Broker and keeping track of connected
	clients
Message-ID: <3af8969a0610171013yc42f2c6h4a8fdbdc3f5ba752@mail.gmail.com>

Hi,
I am using PB to expose some methods and objects remotely.  However, I need
to keep track of the people who are connected to the PB server via IP
address (I've thought about using authentication, but I would like anonymous
access as well).  My requirement is that at any given moment, I need to know
which ip's are connected to the server.  Is this possible using PB/Twisted?
If so how?  I have the Twisted book and have looked for tutorials on the
web, but neither seem to address this issue.

Thanks,
Yi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-python/attachments/20061017/1afd28a1/attachment.htm 

From phil at bubblehouse.org  Tue Oct 17 14:52:03 2006
From: phil at bubblehouse.org (Phil Christensen)
Date: Tue, 17 Oct 2006 14:52:03 -0400
Subject: [Twisted-Python] Perspective Broker and keeping track of
	connected clients
In-Reply-To: <3af8969a0610171013yc42f2c6h4a8fdbdc3f5ba752@mail.gmail.com>
References: <3af8969a0610171013yc42f2c6h4a8fdbdc3f5ba752@mail.gmail.com>
Message-ID: <28913A35-C302-4F9F-A0E7-F8CE7A06C80A@bubblehouse.org>

On Oct 17, 2006, at 1:13 PM, Yi Qiang wrote:

> Hi,
> I am using PB to expose some methods and objects remotely.   
> However, I need to keep track of the people who are connected to  
> the PB server via IP address (I've thought about using  
> authentication, but I would like anonymous access as well).  My  
> requirement is that at any given moment, I need to know which ip's  
> are connected to the server.  Is this possible using PB/Twisted?   
> If so how?  I have the Twisted book and have looked for tutorials  
> on the web, but neither seem to address this issue.
>


I actually needed this feature myself recently. It may or may not  
work for your needs, but I needed something that would 'catch' an IP  
address before the connection actually commenced (I also needed to be  
able to ban addresses).

The solution was a simple subclass of PBServerFactory

class MyServerFactory(pb.PBServerFactory):
     def buildProtocol(self, addr):
		#
		# Your custom code can go here, perhaps storing
		# addr.host somewhere fun
		#
		proto = self.protocol(0)
		proto.factory = self
		proto.setNameForLocal("root", self.root.rootObject(proto))
		return proto

Then you can catch disconnects in your Perspective class...


-phil




From Sven-Erik.Tiberg at ltu.se  Tue Oct 17 17:06:35 2006
From: Sven-Erik.Tiberg at ltu.se (Sven-Erik Tiberg)
Date: Tue, 17 Oct 2006 23:06:35 +0200
Subject: SV: [Twisted-Python] Twisted - reactor activated by
	recivingUDP-package.
References: <20061017120602.20219.353551839.divmod.xquotient.7@joule.divmod.com>
Message-ID: <668D1B8AD729C94DB91D17EC19B8BB91023426B3@EMMA.personal.adp.ltu.se>

Hi 
Thanks a lot for all public and private replies, got it confirmed so I'll continue with my first setup.
Made a X3D model this evening of some instruments and a human, with possibility to alter text, meter value, human: arms+ hand and legs + feets to interface to twisted - scripts.
Have a simulab model of a automotive drivetrain with automatic transmission and UDP I/O running in Pseudo-RealTIme.
So I'm on making twisted scripts to interface the X3D model with the simulink model.
 
BG
Sven-Erik Tiberg

________________________________

Fr?n: twisted-python-bounces at twistedmatrix.com genom glyph at divmod.com
Skickat: ti 2006-10-17 14:06
Till: Twisted general discussion
?mne: Re: [Twisted-Python] Twisted - reactor activated by recivingUDP-package.


On 09:05 am, sven-erik.tiberg at ltu.se wrote:

>My Q. can a Twisted script be activated from an arrival of a UDP or TCP
>package?

Yes.  That is what Twisted _is_.

Have you looked at the "finger" tutorial?

http://twistedmatrix.com/projects/core/documentation/howto/tutorial/index.html

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: msg-4695-401.txt
Url: http://twistedmatrix.com/pipermail/twisted-python/attachments/20061017/7e939e19/attachment.txt 

From franz.zieher at gmail.com  Tue Oct 17 20:05:28 2006
From: franz.zieher at gmail.com (Franz Zieher)
Date: Wed, 18 Oct 2006 02:05:28 +0200
Subject: [Twisted-Python] Newbie question on how to send "complex" objects
	over the wire
Message-ID: <f15b981d0610171705r4ec92d4en3aefb37e2e985685@mail.gmail.com>

Can anybody provide a an example on how I would best send
a data structure (i.e. an ElemenTree from elementtree) over from
a server to a client process. I followed somewhat the example in
the documentation and used the perspective broker "pb" to send
an "simple" structure (some class with simple members)

When I changed to a more complex class definition, I obviously got
an InsecureJelly exception.

I'm sure this question must have come up a number of times. I'm new
in using twisted and not everything is so obvious at the beginning to me :-(

Many thanks for the help

Franz

Attached is the sample code I used:

sending test1 --> OK
sending test2 --> InsecureJelly exception

------   pbsimple.py (server) -------
from twisted.spread import pb, jelly
from twisted.internet import reactor

class test:
  def __init__(self):
    x = 3.
    y = 4.

class Bag:
  def setContent(self,content):
    self.content = content
  def printContent(self):
    print "My data is", self.content

class CopyBag(Bag, pb.Copyable):
  pass

class Sender(pb.Root):
  def __init__(self, bag):
    self.bag = bag

  def remote_sendBag(self, remote):
    self.remote = remote
    d = remote.callRemote("takeBag", self.bag)
    d.addCallback(self.ok).addErrback(self.notOk)

  def ok(self, response):
    print "info: %s" % response
    d = self.remote.callRemote("finishTransfer")
    d.addErrback(self.notOk)
    return None

  def notOk(self, failure):
    if failure.type == jelly.InsecureJelly:
      print "error: InsecureJelly"
    elif failure.type == pb.PBConnectionLost:
      print "info: data transfer finished"
    else:
    print failure
    return None

def main():
  from pbsimple import CopyBag

  icae = iCAEconfig()
  bag = CopyBag()

  bag.setContent('simple data') # --> OK
  #bag.setContent(test())       # --> InsecureJelly
  sender = Sender(bag)

  factory = pb.PBServerFactory(sender)
  reactor.listenTCP(8789, factory)
  reactor.run()

if __name__ == '__main__':
  main()

-----------------------------

------------  pbsimleclient.py  -----------------

from twisted.spread import pb
from twisted.internet import reactor
from twisted.python import util

from pbsimple import Bag, CopyBag

class ReceiverBag(Bag,pb.RemoteCopy):
  pass

pb.setUnjellyableForClass(CopyBag, ReceiverBag)

class Receiver(pb.Referenceable):
  def remote_takeBag(self, bag):
    self.bag = bag
    return "data arrived safe and sound" # positive acknowledgement

  def remote_finishTransfer(self):
    print "got bag:", self.bag
    reactor.stop()

  def requestBag(self,remote):
    print "asking server for sending the data bag"
    remote.callRemote("sendBag",self)

def getContentFromServer():

  receiver = Receiver()
  factory = pb.PBClientFactory()
  reactor.connectTCP("localhost", 8789, factory,30)
  d = factory.getRootObject()
  d.addCallback(receiver.requestBag)
  reactor.run()
  return receiver.bag.content

if __name__ == '__main__':
  print getContentFromServer()

---------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-python/attachments/20061018/185592e7/attachment.htm 

From exarkun at divmod.com  Tue Oct 17 20:47:24 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Tue, 17 Oct 2006 20:47:24 -0400
Subject: [Twisted-Python] Newbie question on how to send "complex"
	objects over the wire
In-Reply-To: <f15b981d0610171705r4ec92d4en3aefb37e2e985685@mail.gmail.com>
Message-ID: <20061018004724.26151.2087069538.divmod.quotient.5360@ohm>

On Wed, 18 Oct 2006 02:05:28 +0200, Franz Zieher <franz.zieher at gmail.com> wrote:
>Can anybody provide a an example on how I would best send
>a data structure (i.e. an ElemenTree from elementtree) over from
>a server to a client process. I followed somewhat the example in
>the documentation and used the perspective broker "pb" to send
>an "simple" structure (some class with simple members)

Would suggesting you transfer it as serialized XML be too silly? :)

>
>When I changed to a more complex class definition, I obviously got
>an InsecureJelly exception.

You need to subclass a jellyable type, although it would be a simple
matter to extend jelly to support an external registration mechanism
and lift this restriction.  Take a look at twisted/spread/jelly.py,
in particular the _Jellier class's jelly method.

Jean-Paul



From felipe.lessa at gmail.com  Tue Oct 17 20:51:55 2006
From: felipe.lessa at gmail.com (Felipe Almeida Lessa)
Date: Tue, 17 Oct 2006 22:51:55 -0200
Subject: [Twisted-Python] Newbie question on how to send "complex" objects
	over the wire
In-Reply-To: <f15b981d0610171705r4ec92d4en3aefb37e2e985685@mail.gmail.com>
References: <f15b981d0610171705r4ec92d4en3aefb37e2e985685@mail.gmail.com>
Message-ID: <c2701f5c0610171751m54d5d1em4242cabf8651e875@mail.gmail.com>

2006/10/17, Franz Zieher <franz.zieher at gmail.com>:
>
> Can anybody provide a an example on how I would best send
> a data structure (i.e. an ElemenTree from elementtree) over from
> a server to a client process. I followed somewhat the example in
> the documentation and used the perspective broker "pb" to send
> an "simple" structure (some class with simple members)
>
> When I changed to a more complex class definition, I obviously got
> an InsecureJelly exception.
>
> I'm sure this question must have come up a number of times. I'm new
> in using twisted and not everything is so obvious at the beginning to me :-(

I don't know if it may help you, but I think you should take a look at
Cerealizer ( http://home.gna.org/oomadness/en/cerealizer/index.html )

Good luck,

-- 
Felipe.



From exarkun at divmod.com  Tue Oct 17 20:59:53 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Tue, 17 Oct 2006 20:59:53 -0400
Subject: [Twisted-Python] Newbie question on how to send "complex"
	objects over the wire
In-Reply-To: <c2701f5c0610171751m54d5d1em4242cabf8651e875@mail.gmail.com>
Message-ID: <20061018005953.26151.650655603.divmod.quotient.5370@ohm>

On Tue, 17 Oct 2006 22:51:55 -0200, Felipe Almeida Lessa <felipe.lessa at gmail.com> wrote:
>2006/10/17, Franz Zieher <franz.zieher at gmail.com>:
>>
>>Can anybody provide a an example on how I would best send
>>a data structure (i.e. an ElemenTree from elementtree) over from
>>a server to a client process. I followed somewhat the example in
>>the documentation and used the perspective broker "pb" to send
>>an "simple" structure (some class with simple members)
>>
>>When I changed to a more complex class definition, I obviously got
>>an InsecureJelly exception.
>>
>>I'm sure this question must have come up a number of times. I'm new
>>in using twisted and not everything is so obvious at the beginning to me 
>>:-(
>
>I don't know if it may help you, but I think you should take a look at
>Cerealizer ( http://home.gna.org/oomadness/en/cerealizer/index.html )
>

Using this together with PB would probably be counterproductive.

Jean-Paul



From eprparadocs at gmail.com  Wed Oct 18 09:47:05 2006
From: eprparadocs at gmail.com (Chaz.)
Date: Wed, 18 Oct 2006 09:47:05 -0400
Subject: [Twisted-Python] Error? twisted/internet/tcp.py:216:
 exceptions.UserWarning: SSL connection
 shutdown possibly unreliable, please upgrade to ver 0.XX
Message-ID: <45363059.9030905@gmail.com>

I just recently started getting the message from the my application :


[HTTPChannel,0,127.0.0.1]
/usr/lib/python2.4/site-packages/twisted/internet/tcp.py:216:
exceptions.UserWarning: SSL connection shutdown possibly unreliable,
please upgrade to ver 0.XX

Can someone tell me what I need to upgrade?

Thanks,
Chuck Wegrzyn



From franz.zieher at gmail.com  Wed Oct 18 17:42:16 2006
From: franz.zieher at gmail.com (Franz Zieher)
Date: Wed, 18 Oct 2006 23:42:16 +0200
Subject: [Twisted-Python] Newbie question on how to send "complex" objects
	over the wire
In-Reply-To: <20061018005953.26151.650655603.divmod.quotient.5370@ohm>
References: <c2701f5c0610171751m54d5d1em4242cabf8651e875@mail.gmail.com>
	<20061018005953.26151.650655603.divmod.quotient.5370@ohm>
Message-ID: <f15b981d0610181442n13fea12o92235e974de145c2@mail.gmail.com>

2006/10/18, Jean-Paul Calderone <exarkun at divmod.com>:
>
> On Tue, 17 Oct 2006 22:51:55 -0200, Felipe Almeida Lessa <
> felipe.lessa at gmail.com> wrote:
> >2006/10/17, Franz Zieher <franz.zieher at gmail.com>:
> >>
> >>Can anybody provide a an example on how I would best send
> >>a data structure (i.e. an ElemenTree from elementtree) over from
> >>a server to a client process. I followed somewhat the example in
> >>the documentation and used the perspective broker "pb" to send
> >>an "simple" structure (some class with simple members)
> >>
> >>When I changed to a more complex class definition, I obviously got
> >>an InsecureJelly exception.
> >>
> >>I'm sure this question must have come up a number of times. I'm new
> >>in using twisted and not everything is so obvious at the beginning to me
> >>:-(
> >
> >I don't know if it may help you, but I think you should take a look at
> >Cerealizer ( http://home.gna.org/oomadness/en/cerealizer/index.html )
> >
>
> Using this together with PB would probably be counterproductive.
>
> Jean-Paul
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>


Thanks for the help. I opted for Jean-Pauls suggestion.
It really allows for such a simple data transfer between a server
and a client. I included a compressed string. It very likely misses
a number of details, I post the changes again. Maybe it is helpful
for somebody else.

Franz :-)

----------- pbsimple.py

from twisted.spread import pb, jelly
from twisted.internet import reactor
import elementtree.ElementTree as ET
from path import path
import os, pickle
from StringIO import StringIO
from zlib import compress

class test:
  def __init__(self):
    x = 3.
    y = 4.
    data = ET.ElementTree()

class Bag:
  def setContent(self,content):
    # content must be serializable
    s_content = StringIO()
    pickle.dump(content,s_content)
    s_content.flush()
    self.content = compress(s_content.getvalue())

class CopyBag(Bag, pb.Copyable):
  pass

class Sender(pb.Root):
  def __init__(self, bag):
    self.bag = bag

  def remote_sendBag(self, remote):
    self.remote = remote
    d = remote.callRemote("takeBag", self.bag)
    d.addCallback(self.ok).addErrback(self.notOk)

  def ok(self, response):
    print "info: %s" % response
    d = self.remote.callRemote("finishTransfer")
    d.addErrback(self.notOk)
    return None

  def notOk(self, failure):
    if failure.type == jelly.InsecureJelly:
      print "error: InsecureJelly"
    elif failure.type == pb.PBConnectionLost:
      print "info: data transfer finished"
    else:
    print failure
    return None

def main():
  from pbsimple import CopyBag

  icae = iCAEconfig()
  bag = CopyBag()

  bag.setContent(test())
  sender = Sender(bag)

  factory = pb.PBServerFactory(sender)
  reactor.listenTCP(8789, factory)
  reactor.run()

if __name__ == '__main__':
  main()

----- pbsimpleclient.py

from twisted.spread import pb
from twisted.internet import reactor
from twisted.python import util
import os, pickle
from StringIO import StringIO
from zlib import decompress
import elementtree.ElementTree as ET

from pbsimple import Bag, CopyBag, test

class ReceiverBag(Bag,pb.RemoteCopy):
  pass

pb.setUnjellyableForClass(CopyBag, ReceiverBag)

class Receiver(pb.Referenceable):
  def remote_takeBag(self, bag):
    # deserialize the bag.content
    try:
      self.content = pickle.loads(decompress(bag.content))
      self.len = len(bag.content)
      return "data arrived safe and sound" # positive acknowledgement
    except:
      self.content = None
      self.len = 0
      print "error: data could not be de-serialized"
      reactor.stop()

  def remote_finishTransfer(self):
    print "got bag of length:", self.len
    reactor.stop()

  def requestBag(self,remote):
    print "asking server for sending the data bag"
    remote.callRemote("sendBag",self)

def getContentFromServer():

  receiver = Receiver()
  factory = pb.PBClientFactory()
  reactor.connectTCP("localhost", 8789, factory,30)
  d = factory.getRootObject()
  d.addCallback(receiver.requestBag)
  reactor.run()
  return receiver.content

if __name__ == '__main__':
  content = getContentFromServer()
  if hasattr(content,'getroot'):
    ET.dump(content)
  else:
    print content
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-python/attachments/20061018/6e3c7e6d/attachment.htm 

From exarkun at divmod.com  Wed Oct 18 19:43:36 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Wed, 18 Oct 2006 19:43:36 -0400
Subject: [Twisted-Python] Newbie question on how to send "complex"
	objects over the wire
In-Reply-To: <f15b981d0610181442n13fea12o92235e974de145c2@mail.gmail.com>
Message-ID: <20061018234336.26151.188662998.divmod.quotient.6374@ohm>

On Wed, 18 Oct 2006 23:42:16 +0200, Franz Zieher <franz.zieher at gmail.com> wrote:
> [snip]
>
>Thanks for the help. I opted for Jean-Pauls suggestion.
> [snip]

Hmm.  I don't recall suggesting pickle, actually.  Maybe you confused me with
someone else.

Jean-Paul



From felipe.lessa at gmail.com  Wed Oct 18 19:57:16 2006
From: felipe.lessa at gmail.com (Felipe Almeida Lessa)
Date: Wed, 18 Oct 2006 20:57:16 -0300
Subject: [Twisted-Python] Newbie question on how to send "complex" objects
	over the wire
In-Reply-To: <20061018234336.26151.188662998.divmod.quotient.6374@ohm>
References: <f15b981d0610181442n13fea12o92235e974de145c2@mail.gmail.com>
	<20061018234336.26151.188662998.divmod.quotient.6374@ohm>
Message-ID: <c2701f5c0610181657j12ea663anf19fa56ba0fcfe80@mail.gmail.com>

2006/10/18, Jean-Paul Calderone <exarkun at divmod.com>:
> On Wed, 18 Oct 2006 23:42:16 +0200, Franz Zieher <franz.zieher at gmail.com> wrote:
> > [snip]
> >
> >Thanks for the help. I opted for Jean-Pauls suggestion.
> > [snip]
>
> Hmm.  I don't recall suggesting pickle, actually.  Maybe you confused me with
> someone else.

Lol... Anyway, it should be emphasized that pickling is not safe, IIRC.

-- 
Felipe.



From mwyatt at wi.rr.com  Wed Oct 18 22:47:51 2006
From: mwyatt at wi.rr.com (Mike Wyatt)
Date: Wed, 18 Oct 2006 21:47:51 -0500
Subject: [Twisted-Python] Unreliable UDP
Message-ID: <4536E757.8030406@wi.rr.com>

Does Twisted provide any support for reliable UDP?  I'm looking for a 
nice networking library for and real-time (i.e. non-TCP) game development.



From exarkun at divmod.com  Wed Oct 18 23:27:00 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Wed, 18 Oct 2006 23:27:00 -0400
Subject: [Twisted-Python] Unreliable UDP
In-Reply-To: <4536E757.8030406@wi.rr.com>
Message-ID: <20061019032700.26151.69696568.divmod.quotient.6594@ohm>

On Wed, 18 Oct 2006 21:47:51 -0500, Mike Wyatt <mwyatt at wi.rr.com> wrote:
>Does Twisted provide any support for reliable UDP?  I'm looking for a nice 
>networking library for and real-time (i.e. non-TCP) game development.

First, just use TCP, unless you have already implemented the game using TCP,
done performance testing and discovered problems tied to TCP which are resolved
by UDP.

Assuming you have done that, come up with a list of the kind of traffic your
game needs to exchange between hosts.  Based on that, you may be able to narrow
your search (there are lots of kinds of "reliable" UDP) or you may find that
existing solutions aren't suitable.

Twisted itself doesn't offer any kind of reliability layering on top of UDP,
but there are various Twisted-based projects which use UDP for semi-reliable
messaging.  Whether any of them might be of use to you depends on how closely
your message model matches theirs.

Most likely, you'll end up implementing something yourself, assuming you
actually need a UDP-based solution at all.

Jean-Paul



From Sven-Erik.Tiberg at ltu.se  Thu Oct 19 03:21:56 2006
From: Sven-Erik.Tiberg at ltu.se (Sven-Erik Tiberg)
Date: Thu, 19 Oct 2006 09:21:56 +0200
Subject: [Twisted-Python] Unreliable UDP
Message-ID: <668D1B8AD729C94DB91D17EC19B8BB910400B0EE@EMMA.personal.adp.ltu.se>

Interesting! 
Appreciate any info on semi-reliable UDP Twisted-based projects? 
Sven-Erik Tiberg.

-----Original Message-----
From: twisted-python-bounces at twistedmatrix.com
[mailto:twisted-python-bounces at twistedmatrix.com] On Behalf Of Jean-Paul
Calderone
Sent: den 19 oktober 2006 05:27
To: Twisted general discussion
Subject: Re: [Twisted-Python] Unreliable UDP

On Wed, 18 Oct 2006 21:47:51 -0500, Mike Wyatt <mwyatt at wi.rr.com> wrote:
>Does Twisted provide any support for reliable UDP?  I'm looking for a 
>nice networking library for and real-time (i.e. non-TCP) game
development.

First, just use TCP, unless you have already implemented the game using
TCP, done performance testing and discovered problems tied to TCP which
are resolved by UDP.

Assuming you have done that, come up with a list of the kind of traffic
your game needs to exchange between hosts.  Based on that, you may be
able to narrow your search (there are lots of kinds of "reliable" UDP)
or you may find that existing solutions aren't suitable.

Twisted itself doesn't offer any kind of reliability layering on top of
UDP, but there are various Twisted-based projects which use UDP for
semi-reliable messaging.  Whether any of them might be of use to you
depends on how closely your message model matches theirs.

Most likely, you'll end up implementing something yourself, assuming you
actually need a UDP-based solution at all.

Jean-Paul

_______________________________________________
Twisted-Python mailing list
Twisted-Python at twistedmatrix.com
http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python



From free.as.in.speech at gmail.com  Thu Oct 19 04:32:37 2006
From: free.as.in.speech at gmail.com (Brian King)
Date: Thu, 19 Oct 2006 10:32:37 +0200
Subject: [Twisted-Python] finger tutorial: server slow to shutdown
Message-ID: <2cc028020610190132u56af92b7uc6a8cbff3e30a9b5@mail.gmail.com>

I was working my way through the tutorial, running each version of the
server and testing it out with "telnet localhost 1079".  When I got to
this ( http://twistedmatrix.com/projects/core/documentation/howto/tutorial/intro.html#auto11)
version of the server, I noticed that the server was not shutting down
immediately when I pressed ctrl-c.  The script I'm running is a
verbatim copy of the tutorial code.

I see the following behavior:
1. If immediately after receiving a response from a "finger" query I
press ctrl-c to stop the server, the server shuts down:
    a) after about 20 seconds, if there is no activity on port 1079, or
    b) as soon as a connection is attempted on port 1079 (e.g. "telnet
localhost 1079").
2.  If after having waited some time (e.g. 30 seconds) after the last
query I press ctrl-c to stop the server, it shuts down only after the
next connection attempt on port 1079.
3.  If no connections have been made to the server, ctrl-c shuts it
down immediately.

For the case 1) above:
Running "netstat -tn" after having pressed ctrl-c and before the
server shuts down gives the following output:
Active Internet connections
Proto Recv-Q Send-Q  Local Address          Foreign Address        (state)
tcp4       0      0  127.0.0.1.1079         127.0.0.1.57791        TIME_WAIT
...
(nothing indicating an open connection to the queried web server)

For the case 2) above, there is no mention of port 1079 in the output
from "netstat -tn".

I've spent some time trying to understand why it doesn't shut down
immediately in cases 1 and 2, but haven't figured it out.  Can anybody
shed some light on what is going on?  What would I have to do to get
it to shutdown quickly?

Environment info:
freebsd 6.1 release
python 2.4.3
twisted 2.4.0

Thanks,
Brian



From mwyatt at wi.rr.com  Thu Oct 19 08:41:52 2006
From: mwyatt at wi.rr.com (Mike Wyatt)
Date: Thu, 19 Oct 2006 07:41:52 -0500
Subject: [Twisted-Python] Unreliable UDP
In-Reply-To: <668D1B8AD729C94DB91D17EC19B8BB910400B0EE@EMMA.personal.adp.ltu.se>
References: <668D1B8AD729C94DB91D17EC19B8BB910400B0EE@EMMA.personal.adp.ltu.se>
Message-ID: <45377290.3000806@wi.rr.com>

Yeah, I would like to check out some of these projects.

As for using TCP, that is a valid option.  It would be even nicer to 
just start using a reliable UDP layer right from the start, though.  I'd 
rather not reinvent the wheel if I don't have to.

By "reliable", I mean a library that guarantees delivery and keeps the 
packets in order.  Similar to enet (http://enet.cubik.org/), but for 
Python.  I may end up writing a Pyrex/Boost wrapper for enet or RakNet, 
but that would be a bit of a pain.  That would probably convince me to 
play with TCP for a while, then replace the networking layer with 
reliable UDP when I have the time.
> Interesting! 
> Appreciate any info on semi-reliable UDP Twisted-based projects? 
> Sven-Erik Tiberg.
>
> -----Original Message-----
> From: twisted-python-bounces at twistedmatrix.com
> [mailto:twisted-python-bounces at twistedmatrix.com] On Behalf Of Jean-Paul
> Calderone
> Sent: den 19 oktober 2006 05:27
> To: Twisted general discussion
> Subject: Re: [Twisted-Python] Unreliable UDP
>
> On Wed, 18 Oct 2006 21:47:51 -0500, Mike Wyatt <mwyatt at wi.rr.com> wrote:
>   
>> Does Twisted provide any support for reliable UDP?  I'm looking for a 
>> nice networking library for and real-time (i.e. non-TCP) game
>>     
> development.
>
> First, just use TCP, unless you have already implemented the game using
> TCP, done performance testing and discovered problems tied to TCP which
> are resolved by UDP.
>
> Assuming you have done that, come up with a list of the kind of traffic
> your game needs to exchange between hosts.  Based on that, you may be
> able to narrow your search (there are lots of kinds of "reliable" UDP)
> or you may find that existing solutions aren't suitable.
>
> Twisted itself doesn't offer any kind of reliability layering on top of
> UDP, but there are various Twisted-based projects which use UDP for
> semi-reliable messaging.  Whether any of them might be of use to you
> depends on how closely your message model matches theirs.
>
> Most likely, you'll end up implementing something yourself, assuming you
> actually need a UDP-based solution at all.
>
> Jean-Paul
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
>
>   

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-python/attachments/20061019/ec17bd9c/attachment.htm 

From christopher.zorn at gmail.com  Thu Oct 19 10:51:44 2006
From: christopher.zorn at gmail.com (Christopher Zorn)
Date: Thu, 19 Oct 2006 10:51:44 -0400
Subject: [Twisted-Python] Chesspark - A twisted based online chess community.
Message-ID: <149014b90610190751g6f8ba064gf7c8459ecd393f07@mail.gmail.com>

I would like to announce a twisted based online game called Chesspark.

Chesspark is an online chess community.  You can chat, play games,
meet new friends, do puzzles, and many other things.  The whole
system is built upon Jabber and uses Twisted for its backend
components and bots.

In addition, we have built a web client (which also works as a normal
Jabber client).  Built on top of punjab and the Javascript version of
strophe, this client allows you to play games, chat, and
pretty much anything the native client can do.  It even supports
avatars. Punjab is a twisted based http binding mechanism for jabber.

There is also a Windows client in case you don't like using web applications.

You can visit Chesspark here: http://www.chesspark.com
and try the webclient here: http://www.chesspark.com/webclient/client.xhtml

Of course, this is only the start.  There is much more to come, and
hopefully even more games than just Chess.

I hope you like it,
Christopher Zorn



From radix at twistedmatrix.com  Thu Oct 19 13:47:13 2006
From: radix at twistedmatrix.com (Christopher Armstrong)
Date: Thu, 19 Oct 2006 13:47:13 -0400
Subject: [Twisted-Python] Unreliable UDP
In-Reply-To: <45377290.3000806@wi.rr.com>
References: <668D1B8AD729C94DB91D17EC19B8BB910400B0EE@EMMA.personal.adp.ltu.se>
	<45377290.3000806@wi.rr.com>
Message-ID: <60ed19d40610191047o4f76b120j3ba140c36d2fc18f@mail.gmail.com>

On 10/19/06, Mike Wyatt <mwyatt at wi.rr.com> wrote:
>  As for using TCP, that is a valid option.  It would be even nicer to just
> start using a reliable UDP layer right from the start, though.  I'd rather
> not reinvent the wheel if I don't have to.
>
>  By "reliable", I mean a library that guarantees delivery and keeps the
> packets in order.  Similar to enet (http://enet.cubik.org/), but for Python.

Really, truly, honestly, this doesn't make sense. You want *both*
reliability *and* guaranteed delivery order: that is precisely what
TCP does. Why do you want to use anything else? If you don't want to
reinvent the wheel, use TCP.


-- 
Christopher Armstrong
International Man of Twistery
http://radix.twistedmatrix.com/
http://twistedmatrix.com/
http://canonical.com/



From general at eepatents.com  Thu Oct 19 15:31:25 2006
From: general at eepatents.com (Ed Suominen)
Date: Thu, 19 Oct 2006 12:31:25 -0700
Subject: [Twisted-Python] Re: Chesspark - A twisted based online chess
	community.
In-Reply-To: <E1GabFV-00023y-02@pyramid.twistedmatrix.com>
References: <E1GabFV-00023y-02@pyramid.twistedmatrix.com>
Message-ID: <4537D28D.7050407@eepatents.com>

> I would like to announce a twisted based online game called
> Chesspark. ... There is also a Windows client in case you don't like
> using web applications. ... Of course, this is only the start.  There
> is much more to come, and hopefully even more games than just Chess.
> 
> I hope you like it, Christopher Zorn

Cool! It's great to see Twisted being used in worthy projects like this.

I am a fan of chess (sadly stuck at around ELO 1100), Twisted, and
Linux. I'm a little disappointed to see that only the first two of the
three seem to be addressed here. What are your plans for a Linux version
of the client?

Best regards,
Ed Suominen
Occasionally seen on FICS as "edsuom"...



From christopher.zorn at gmail.com  Thu Oct 19 15:39:46 2006
From: christopher.zorn at gmail.com (Christopher Zorn)
Date: Thu, 19 Oct 2006 15:39:46 -0400
Subject: [Twisted-Python] Re: Chesspark - A twisted based online chess
	community.
In-Reply-To: <4537D28D.7050407@eepatents.com>
References: <E1GabFV-00023y-02@pyramid.twistedmatrix.com>
	<4537D28D.7050407@eepatents.com>
Message-ID: <149014b90610191239w12ca979eqe59944561adc0a07@mail.gmail.com>

On 10/19/06, Ed Suominen <general at eepatents.com> wrote:
<snip>
> Cool! It's great to see Twisted being used in worthy projects like this.
>
> I am a fan of chess (sadly stuck at around ELO 1100), Twisted, and
> Linux. I'm a little disappointed to see that only the first two of the
> three seem to be addressed here. What are your plans for a Linux version
> of the client?
>

Well, the webclient is for linux users. It works well in firefox. We
may do a linux native client though. The current clients are gonna be
under an open source license soon. I was also thinking about adding
chesspark support in gajim[1].

[1] http://gajim.org



From anthony at interlink.com.au  Thu Oct 19 21:37:01 2006
From: anthony at interlink.com.au (Anthony Baxter)
Date: Fri, 20 Oct 2006 11:37:01 +1000
Subject: [Twisted-Python] Unreliable UDP
In-Reply-To: <20061019032700.26151.69696568.divmod.quotient.6594@ohm>
References: <20061019032700.26151.69696568.divmod.quotient.6594@ohm>
Message-ID: <200610201137.05124.anthony@interlink.com.au>

I think it was Robert Elz who said "Those who do not understand TCP are doomed 
to repeat it" (in reference to the file sharing protocol FSP). 

Just use TCP if you need reliable communication.




From mwyatt at wi.rr.com  Thu Oct 19 22:08:11 2006
From: mwyatt at wi.rr.com (Mike Wyatt)
Date: Thu, 19 Oct 2006 21:08:11 -0500
Subject: [Twisted-Python] Unreliable UDP
In-Reply-To: <60ed19d40610191047o4f76b120j3ba140c36d2fc18f@mail.gmail.com>
References: <668D1B8AD729C94DB91D17EC19B8BB910400B0EE@EMMA.personal.adp.ltu.se>
	<45377290.3000806@wi.rr.com>
	<60ed19d40610191047o4f76b120j3ba140c36d2fc18f@mail.gmail.com>
Message-ID: <45382F8B.5050407@wi.rr.com>

Check out Q3 and Q4 in the GameDev.net "Multiplayer & Network 
Programming" Forum FAQ:  
http://www.gamedev.net/community/forums/showfaq.asp?forum_id=15

The problem with TCP is summed up nicely in Q4:  /"...to make this 
guarantee, TCP must suspend all packet delivery to the receiving end, if 
one packet is lost, until that packet can be detected as lost and 
re-sent."/  You can also check out this classic multiplayer design 
article:  http://www.gamasutra.com/features/19990903/lincroft_05.htm.  
The author is *very* against TCP.  Apparently the X-Wing vs. TIE Fighter 
developers were seeing pings of up to 50 seconds using TCP.

On the other hand, Q3 of GameDev's forum FAQ recommends TCP for 
real-time strategy games, or UDP in "extreme" cases.  This makes me more 
comfortable with using TCP, at least for early development, since 
testing on my LAN shouldn't have any problems with dropped packets.

The collective experience of the game development community seems to 
/lean /towards UDP for most game development.  I'm not against using 
TCP, but if I can find a solution that makes UDP equally easy, I'd like 
to use that. <http://www.gamasutra.com/features/19990903/lincroft_05.htm>
> Really, truly, honestly, this doesn't make sense. You want *both*
> reliability *and* guaranteed delivery order: that is precisely what
> TCP does. Why do you want to use anything else? If you don't want to
> reinvent the wheel, use TCP.
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-python/attachments/20061019/ffbf127c/attachment.htm 

From mwyatt at wi.rr.com  Thu Oct 19 22:22:56 2006
From: mwyatt at wi.rr.com (Mike Wyatt)
Date: Thu, 19 Oct 2006 21:22:56 -0500
Subject: [Twisted-Python] Unreliable UDP
In-Reply-To: <45382F8B.5050407@wi.rr.com>
References: <668D1B8AD729C94DB91D17EC19B8BB910400B0EE@EMMA.personal.adp.ltu.se>
	<45377290.3000806@wi.rr.com>
	<60ed19d40610191047o4f76b120j3ba140c36d2fc18f@mail.gmail.com>
	<45382F8B.5050407@wi.rr.com>
Message-ID: <45383300.2080605@wi.rr.com>

I've been doing more research since my last message, and I found some 
pretty interesting results.

Check out the posts from Simagery, hplus0603, and Ranger_One in this 
thread:  
http://www.gamedev.net/community/forums/topic.asp?topic_id=370603&whichpage=1&#2443682 
<http://www.gamedev.net/community/forums/topic.asp?topic_id=370603&whichpage=1&#2443682>

A good summary of that thread is this quote from Simagery: "...all of 
that above knowledge [UDP's superior flexibility] is based on the "state 
of the art" networking code circa 2000. Today, with wide availability of 
broadband, faster CPUs, higher quality NICs and better TCP/IP 
implementations, it all may be moot.".  I think that may have convinced 
me to stick with TCP.

Here's another great thread:  
http://www.gamedev.net/community/forums/topic.asp?topic_id=262742.  I 
didn't read the whole thing, but it includes more discussion of UDP vs. 
TCP.  There is even someone who questions the accuracy of the X-Wing vs. 
TIE Fighter article.

> Check out Q3 and Q4 in the GameDev.net "Multiplayer & Network 
> Programming" Forum FAQ:  
> http://www.gamedev.net/community/forums/showfaq.asp?forum_id=15
>
> The problem with TCP is summed up nicely in Q4:  /"...to make this 
> guarantee, TCP must suspend all packet delivery to the receiving end, 
> if one packet is lost, until that packet can be detected as lost and 
> re-sent."/  You can also check out this classic multiplayer design 
> article:  http://www.gamasutra.com/features/19990903/lincroft_05.htm.  
> The author is *very* against TCP.  Apparently the X-Wing vs. TIE 
> Fighter developers were seeing pings of up to 50 seconds using TCP.
>
> On the other hand, Q3 of GameDev's forum FAQ recommends TCP for 
> real-time strategy games, or UDP in "extreme" cases.  This makes me 
> more comfortable with using TCP, at least for early development, since 
> testing on my LAN shouldn't have any problems with dropped packets.
>
> The collective experience of the game development community seems to 
> /lean /towards UDP for most game development.  I'm not against using 
> TCP, but if I can find a solution that makes UDP equally easy, I'd 
> like to use that.
>> Really, truly, honestly, this doesn't make sense. You want *both*
>> reliability *and* guaranteed delivery order: that is precisely what
>> TCP does. Why do you want to use anything else? If you don't want to
>> reinvent the wheel, use TCP.
>>
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-python/attachments/20061019/e4792def/attachment.htm 

From radix at twistedmatrix.com  Thu Oct 19 23:17:20 2006
From: radix at twistedmatrix.com (Christopher Armstrong)
Date: Thu, 19 Oct 2006 23:17:20 -0400
Subject: [Twisted-Python] Unreliable UDP
In-Reply-To: <45383300.2080605@wi.rr.com>
References: <668D1B8AD729C94DB91D17EC19B8BB910400B0EE@EMMA.personal.adp.ltu.se>
	<45377290.3000806@wi.rr.com>
	<60ed19d40610191047o4f76b120j3ba140c36d2fc18f@mail.gmail.com>
	<45382F8B.5050407@wi.rr.com> <45383300.2080605@wi.rr.com>
Message-ID: <60ed19d40610192017m762a479dp844c6c85f9ed2ffb@mail.gmail.com>

On 10/19/06, Mike Wyatt <mwyatt at wi.rr.com> wrote:
>
>  I've been doing more research since my last message, and I found some
> pretty interesting results.
>
> Check out the posts from Simagery, hplus0603, and Ranger_One in this
> thread:
> http://www.gamedev.net/community/forums/topic.asp?topic_id=370603&whichpage=1&#2443682
>
> A good summary of that thread is this quote from Simagery: "...all of that
> above knowledge [UDP's superior flexibility] is based on the "state of the
> art" networking code circa 2000. Today, with wide availability of broadband,
> faster CPUs, higher quality NICs and better TCP/IP implementations, it all
> may be moot.".  I think that may have convinced me to stick with TCP.
>
> Here's another great thread:
> http://www.gamedev.net/community/forums/topic.asp?topic_id=262742.  I
> didn't read the whole thing, but it includes more discussion of UDP vs.
> TCP.  There is even someone who questions the accuracy of the X-Wing vs. TIE
> Fighter article.
>

I think the most important thing here isn't what the game industry says you
should do, but what your own stated requirements were. You specifically said
you wanted ordered, guaranteed-delivery data, and that's something that UDP
doesn't give you and that TCP does. If you had some good reason to *avoid*
either of those qualities, perhaps UDP would be appropriate, but since you
need that reliability, and TCP does exactly that, it is the clear winner.



-- 
Christopher Armstrong
International Man of Twistery
http://radix.twistedmatrix.com/
http://twistedmatrix.com/
http://canonical.com/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-python/attachments/20061019/842bb5a7/attachment.htm 

From mithrandi-twisted-python at mithrandi.za.net  Fri Oct 20 03:43:52 2006
From: mithrandi-twisted-python at mithrandi.za.net (Tristan Seligmann)
Date: Fri, 20 Oct 2006 09:43:52 +0200
Subject: [Twisted-Python] Unreliable UDP
In-Reply-To: <60ed19d40610192017m762a479dp844c6c85f9ed2ffb@mail.gmail.com>
References: <668D1B8AD729C94DB91D17EC19B8BB910400B0EE@EMMA.personal.adp.ltu.se>
	<45377290.3000806@wi.rr.com>
	<60ed19d40610191047o4f76b120j3ba140c36d2fc18f@mail.gmail.com>
	<45382F8B.5050407@wi.rr.com> <45383300.2080605@wi.rr.com>
	<60ed19d40610192017m762a479dp844c6c85f9ed2ffb@mail.gmail.com>
Message-ID: <20061020074351.GK14742@mithrandi.za.net>

* Christopher Armstrong <radix at twistedmatrix.com> [2006-10-19 23:17:20 -0400]:

> I think the most important thing here isn't what the game industry says you
> should do, but what your own stated requirements were. You specifically said
> you wanted ordered, guaranteed-delivery data, and that's something that UDP
> doesn't give you and that TCP does. If you had some good reason to *avoid*
> either of those qualities, perhaps UDP would be appropriate, but since you
> need that reliability, and TCP does exactly that, it is the clear winner.

I'd like to reiterate this; I'm familiar with a number of games using
UDP for networking, and they specifically do *not* make use of ordered
or guaranteed-delivery data, thus making UDP a reasonable choice. On the
other hand, there are plenty of other games using TCP under different
circumstances, so it very much depends on your specific use case.
-- 
mithrandi, i Ainil en-Balandor, a faer Ambar
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: Digital signature
Url : http://twistedmatrix.com/pipermail/twisted-python/attachments/20061020/56fda31d/attachment.pgp 

From healeyjames at yahoo.co.uk  Fri Oct 20 06:56:38 2006
From: healeyjames at yahoo.co.uk (James Healey)
Date: Fri, 20 Oct 2006 11:56:38 +0100 (BST)
Subject: [Twisted-Python] Help with TCPServer and listenTCP
Message-ID: <20061020105638.50879.qmail@web23102.mail.ird.yahoo.com>

I've been looking over some Twisted arcticles over the
past day or 2 and havnt found much help on TCPServer,
ive seen server/client exampels which use listenTCP
and connectTCP, but then i also find one that uses
TCPServer.

What are the differences between TCPServer and
listenTCP, and what are the parameters to TCPServer?

I'm trying to write a server/client app which handles
a build system, where the build system has x number of
builds it needs to handle. Currently each build is
done at a set time during the night, so one build
might start at 7pm and then the next build might start
at 10pm, each build is dependent on other builds.

A user can request a build, which will then go to the
server and ask if it can start a build and then start
with the first dependancy it needs to build.

But my main question is about the TCPServer call and
how it differs from listenTCP.

Cheers.
Jimmy.

Send instant messages to your online friends http://uk.messenger.yahoo.com 



From exarkun at divmod.com  Fri Oct 20 10:55:25 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Fri, 20 Oct 2006 10:55:25 -0400
Subject: [Twisted-Python] Help with TCPServer and listenTCP
In-Reply-To: <20061020105638.50879.qmail@web23102.mail.ird.yahoo.com>
Message-ID: <20061020145525.26151.666735889.divmod.quotient.8111@ohm>

On Fri, 20 Oct 2006 11:56:38 +0100 (BST), James Healey <healeyjames at yahoo.co.uk> wrote:
>I've been looking over some Twisted arcticles over the
>past day or 2 and havnt found much help on TCPServer,
>ive seen server/client exampels which use listenTCP
>and connectTCP, but then i also find one that uses
>TCPServer.
>
>What are the differences between TCPServer and
>listenTCP, and what are the parameters to TCPServer?

The parameters to each are the same.  The difference is
that TCPServer creates an IService provider (which can
be added to a service hierarchy and will only create a
listening TCP server after its startService method is
called), whereas reactor.listenTCP returns a provider of
IListeningPort which begins listening almost immediately
and does not integrate with the service system.

>
>I'm trying to write a server/client app which handles
>a build system, where the build system has x number of
>builds it needs to handle. Currently each build is
>done at a set time during the night, so one build
>might start at 7pm and then the next build might start
>at 10pm, each build is dependent on other builds.
>
>A user can request a build, which will then go to the
>server and ask if it can start a build and then start
>with the first dependancy it needs to build.

Are you familiar with buildbot?

>
>But my main question is about the TCPServer call and
>how it differs from listenTCP.
>

I hope this clears things up,

Jean-Paul



From healeyjames at yahoo.co.uk  Fri Oct 20 11:27:38 2006
From: healeyjames at yahoo.co.uk (James Healey)
Date: Fri, 20 Oct 2006 16:27:38 +0100 (BST)
Subject: [Twisted-Python] Help with TCPServer and listenTCP
In-Reply-To: <20061020145525.26151.666735889.divmod.quotient.8111@ohm>
Message-ID: <20061020152739.91862.qmail@web23104.mail.ird.yahoo.com>

This is my server code.......

from twisted.internet import reactor, protocol

class Echo(protocol.Protocol):
	"""This is just about the simplest possible
protocol"""
	
	def dataReceived(self, data):	
		if data == 1:
			print data
		
	def connectionMade(self):
		print "Client Connected to server"

def main():
    """This runs the protocol on port 8000"""
    factory = protocol.ServerFactory()
    factory.protocol = Echo
    reactor.listenTCP(8000,factory)
    reactor.run()

# this only runs if the module was *not* imported
if __name__ == '__main__':
    main()


And here is my client code.....

from twisted.internet import reactor, protocol

class EchoClient(protocol.Protocol):
	"""Once connected, send a message, then print the
result."""
	
	def connectionMade(self):
		buildInfo = 1
		self.transport.write(buildInfo)
				
	def dataReceived(self, data):
		"As soon as any data is received, write it back."
		print "Server said:", data
		self.transport.loseConnection()
		
	def connectionLost(self, reason):
		print "connection lost"

class EchoFactory(protocol.ClientFactory):
	protocol = EchoClient
	build = 1
	
	def clientConnectionFailed(self, connector, reason):
		print "Connection failed - goodbye!"
		reactor.stop()
		
	def clientConnectionLost(self, connector, reason):
		print "Connection lost - goodbye!"
		reactor.stop()


# this connects the protocol to a server runing on
port 8000
def main():
    f = EchoFactory()
    reactor.connectTCP("localhost", 8000, f)
    reactor.run()

# this only runs if the module was *not* imported
if __name__ == '__main__':
    main()


In this test im trying to send some data when the
client makes it's connection, but I get and error when
running the client.

>From all the examples i can find using write method
are all echo/chat programs and from that I guess only
strings/text can be send via the write method.


> Are you familiar with buildbot?

Heard of but never looked at.

I'm very new to this Twisted, and quite new to python.

Send instant messages to your online friends http://uk.messenger.yahoo.com 



From exarkun at divmod.com  Fri Oct 20 12:13:34 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Fri, 20 Oct 2006 12:13:34 -0400
Subject: [Twisted-Python] Help with TCPServer and listenTCP
In-Reply-To: <20061020152739.91862.qmail@web23104.mail.ird.yahoo.com>
Message-ID: <20061020161334.26151.1272455425.divmod.quotient.8157@ohm>

On Fri, 20 Oct 2006 16:27:38 +0100 (BST), James Healey <healeyjames at yahoo.co.uk> wrote:
> [snip]
>
>From all the examples i can find using write method
>are all echo/chat programs and from that I guess only
>strings/text can be send via the write method.
>

Yes.  Only instances of `str' can be written to a transport.
If you have non-str data to convey, you need to serialize it
somehow.

>
>> Are you familiar with buildbot?
>
>Heard of but never looked at.

It is an application which does something much like what you
described in your initial email.

Jean-Paul



From manlio_perillo at libero.it  Sat Oct 21 06:11:29 2006
From: manlio_perillo at libero.it (Manlio Perillo)
Date: Sat, 21 Oct 2006 12:11:29 +0200
Subject: [Twisted-Python] knowing which reactor is running
Message-ID: <4539F251.5030603@libero.it>

In a test suite I need to know if the win32eventreactor is running.
Any solution?


Thanks and regards  Manlio Perillo



From exarkun at twistedmatrix.com  Sun Oct 22 01:05:01 2006
From: exarkun at twistedmatrix.com (exarkun at twistedmatrix.com)
Date: Sun, 22 Oct 2006 05:05:01 -0000
Subject: [Twisted-Python] Weekly Bug Summary
Message-ID: 1161493501.74.627322803@twistedmatrix.com

Bug summary
______________________
Summary for 2006-10-15 through 2006-10-22
Bugs opened: 12    Bugs closed: 6  Total open bugs: 749 (+6)

|== Type Changes   |== Priority Changes   |== Component Changes   
|Defect:       +3  |Highest:  +2          |Core:   +6             
|Enhancement:  +5  |High:     +1          |Ftp:    +1             
|Task:         +1  |Normal:   +6          |Names:  +1             
                                          |Trial:  +1             
                                          |Words:  +0             


New / Reopened Bugs
______________________
                    ===== Highest =====
[#1953] Epoll reactor (opened by therve)
    enhancement     core       http://twistedmatrix.com/trac/ticket/1953

[#1953] Epoll reactor (opened by therve)
    enhancement     core       http://twistedmatrix.com/trac/ticket/1953

[#815 ] t.internet.process.Process should check for valid arguments (opened by marienz)
    enhancement     core       http://twistedmatrix.com/trac/ticket/815

                    ===== High =====
[#2173] twisted/trial/runner.py:243: exceptions.DeprecationWarning: log.startKeepingErrors is deprecated since Twisted 2.5 (opened by exarkun)
    defect          trial      http://twistedmatrix.com/trac/ticket/2173

[#2175] twisted.plugin.getCache doesn't handle WindowsError ERROR_FILE_NOT_FOUND (opened by exarkun) (CLOSED, duplicate)
    defect          core       http://twistedmatrix.com/trac/ticket/2175

                    ===== Normal =====
[#2174] Error in the PullProducer doc (opened by misto)
    defect          core       http://twistedmatrix.com/trac/ticket/2174

[#2176] Need IFilePath (opened by wsanchez)
    enhancement     core       http://twistedmatrix.com/trac/ticket/2176

[#2177] Collect Jabber interfaces in one file (opened by ralphm)
    task            words      http://twistedmatrix.com/trac/ticket/2177

[#2178] Generalize XMPP subprotocol containment (opened by ralphm)
    enhancement     words      http://twistedmatrix.com/trac/ticket/2178

[#2179] Parameterize the root directory of the FTP server for non-anonymous logins (opened by cwegrzyn)
    enhancement     ftp        http://twistedmatrix.com/trac/ticket/2179

[#2180] FilesystemLock needs a method that defers until it can acquire a lock (opened by wsanchez)
    enhancement     core       http://twistedmatrix.com/trac/ticket/2180

[#2181] twisted.names.client.getHostByName and friends insufficently documented. (opened by jerub)
    defect          names      http://twistedmatrix.com/trac/ticket/2181



Closed Bugs
______________________
                    ===== Highest =====
[#1953] Epoll reactor (opened by therve, closed by exarkun, )
    enhancement     core       http://twistedmatrix.com/trac/ticket/1953

[#1953] Epoll reactor (opened by therve, closed by exarkun, )
    enhancement     core       http://twistedmatrix.com/trac/ticket/1953

[#1995] Rework t.w.p.jabber.component to work with initializers. (opened by ralphm, closed by ralphm, fixed)
    enhancement     words      http://twistedmatrix.com/trac/ticket/1995

[#815 ] t.internet.process.Process should check for valid arguments (opened by marienz, closed by exarkun, )
    enhancement     core       http://twistedmatrix.com/trac/ticket/815

                    ===== High =====
[#2175] twisted.plugin.getCache doesn't handle WindowsError ERROR_FILE_NOT_FOUND (opened by exarkun, closed by exarkun, duplicate)
    defect          core       http://twistedmatrix.com/trac/ticket/2175

                    ===== Normal =====
[#2088] twisted.words.im.basechat.ChatUI.contactChangedNick is completely broken. (opened by jerub, closed by exarkun, duplicate)
    enhancement     words      http://twistedmatrix.com/trac/ticket/2088





From exarkun at divmod.com  Mon Oct 23 11:58:06 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Mon, 23 Oct 2006 11:58:06 -0400
Subject: [Twisted-Python] Re: [Twisted-commits] r18506 - Fix SSL check.
In-Reply-To: <E1Gc25F-0001CM-00@wolfwood>
Message-ID: <20061023155806.26151.380963351.divmod.quotient.11106@ohm>

On Mon, 23 Oct 2006 09:51:25 -0600, Ralph Meijer <ralphm at wolfwood.twistedmatrix.com> wrote:
>Author: ralphm
>Date: Mon Oct 23 09:51:25 2006
>New Revision: 18506
>
>Modified:
>   trunk/twisted/words/protocols/jabber/xmlstream.py
>   trunk/twisted/words/test/test_jabberxmlstream.py
>Log:
>Fix SSL check.
>
>Author: ralphm
>Reviewer: exarkun
>Fixes 2171
>

This changeset contains some changes which were made after the review but
never checked into the development branch.  This makes tracking down the
exact set of changes more challenging, since the branch diff does not end
up representing the actual trunk change.  This makes a difference if, for
example, the change needs to be reverted.  The person doing the revert may
not realize the trunk commit represented additional changes and they could
be lost.

For future branch merges, make sure that the trunk commit includes only the
changes from the branch.

Jean-Paul



From manlio_perillo at libero.it  Mon Oct 23 12:45:39 2006
From: manlio_perillo at libero.it (Manlio Perillo)
Date: Mon, 23 Oct 2006 18:45:39 +0200
Subject: [Twisted-Python] Problems with code in "Twisted" book ...
In-Reply-To: <075DE16201D10648805AD252D1BC132203704366@VS6.EXCHPROD.USA.NET>
References: <075DE16201D10648805AD252D1BC132203704366@VS6.EXCHPROD.USA.NET>
Message-ID: <453CF1B3.1070502@libero.it>

Walsh, Sandy ha scritto:
> Hey there, 
> 
> Just got a copy of "Twisted" and I've been playing around with the book
> examples. Can't seem to get the "Example 2-6. dataforward.py" to work on
> Windows. I've reverted back to Python 2.3 (because I ultimately want to
> use the secure stuff later). It compiles and runs, but I get no echo of
> the input and the reactor seems to be frozen. When I Ctrl-C the program
> I get my keyed input spewed into the console, so it seems python is not
> receiving it. 
> 

I suggest to try with
http://twistedmatrix.com/trac/ticket/2157

1. Backup your twisted.internet._win32stdio.py and
   twisted.internet._pollingfile.py

2. Copy conio.py into twisted.internet and apply the patches
   _pollingfile.patch and _win32stdio.patch.

One problem is that the cursor/caret is not visible (and I don't know why).
On my PC, with Windows XP Pro SP2, it works without problems.



Regards  Manlio Perillo



From ncesar at lunix.com.ar  Mon Oct 23 13:09:11 2006
From: ncesar at lunix.com.ar (Nicolas D. Cesar)
Date: Mon, 23 Oct 2006 14:09:11 -0300
Subject: [Twisted-Python] knowing which reactor is running
In-Reply-To: <4539F251.5030603@libero.it>
References: <4539F251.5030603@libero.it>
Message-ID: <200610231409.12113.ncesar@lunix.com.ar>

El S?bado, 21 de Octubre de 2006 07:11, Manlio Perillo escribi?:
> In a test suite I need to know if the win32eventreactor is running.
> Any solution?

I'm new to python and twisted but try:

print reactor.__class__

Y get something like: 
reactor class: <class 'twisted.internet.selectreactor.SelectReactor'>

probably win32eventreactor  will say something like:

reactor class: <class 'twisted.internet.win32eventreactor.XXX'>

Greetings

PS:I'm using GNU/Linux, can't try further.
-- 
Nicol?s D. C?sar <ncesar at lunix.com.ar>
Lunix S.R.L. -[ http://www.lunix.com.ar ]-
GnuPG Public Key: gpg --keyserver wwwkeys.pgp.net --recv-key 0x3606F3E6
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : http://twistedmatrix.com/pipermail/twisted-python/attachments/20061023/a4a59508/attachment.pgp 

From swalsh at ncipher.com  Mon Oct 23 13:08:38 2006
From: swalsh at ncipher.com (Walsh, Sandy)
Date: Mon, 23 Oct 2006 11:08:38 -0600
Subject: [Twisted-Python] Problems with code in "Twisted" book ...
In-Reply-To: <453CF1B3.1070502@libero.it>
Message-ID: <075DE16201D10648805AD252D1BC132203AA865A@VS6.EXCHPROD.USA.NET>

Super ... thx for the help!

-Sandy


-----Original Message-----
From: twisted-python-bounces at twistedmatrix.com
[mailto:twisted-python-bounces at twistedmatrix.com] On Behalf Of Manlio
Perillo
Sent: Monday, October 23, 2006 1:46 PM
To: Twisted general discussion
Subject: Re: [Twisted-Python] Problems with code in "Twisted" book ...

Walsh, Sandy ha scritto:
> Hey there, 
> 
> Just got a copy of "Twisted" and I've been playing around with the
book
> examples. Can't seem to get the "Example 2-6. dataforward.py" to work
on
> Windows. I've reverted back to Python 2.3 (because I ultimately want
to
> use the secure stuff later). It compiles and runs, but I get no echo
of
> the input and the reactor seems to be frozen. When I Ctrl-C the
program
> I get my keyed input spewed into the console, so it seems python is
not
> receiving it. 
> 

I suggest to try with
http://twistedmatrix.com/trac/ticket/2157

1. Backup your twisted.internet._win32stdio.py and
   twisted.internet._pollingfile.py

2. Copy conio.py into twisted.internet and apply the patches
   _pollingfile.patch and _win32stdio.patch.

One problem is that the cursor/caret is not visible (and I don't know
why).
On my PC, with Windows XP Pro SP2, it works without problems.



Regards  Manlio Perillo

_______________________________________________
Twisted-Python mailing list
Twisted-Python at twistedmatrix.com
http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python



From manlio_perillo at libero.it  Mon Oct 23 13:45:22 2006
From: manlio_perillo at libero.it (Manlio Perillo)
Date: Mon, 23 Oct 2006 19:45:22 +0200
Subject: [Twisted-Python] knowing which reactor is running
In-Reply-To: <200610231409.12113.ncesar@lunix.com.ar>
References: <4539F251.5030603@libero.it>
	<200610231409.12113.ncesar@lunix.com.ar>
Message-ID: <453CFFB2.5080906@libero.it>

Nicolas D. Cesar ha scritto:
> El S?bado, 21 de Octubre de 2006 07:11, Manlio Perillo escribi?:
>> In a test suite I need to know if the win32eventreactor is running.
>> Any solution?
> 
> I'm new to python and twisted but try:
> 
> print reactor.__class__
> 
> Y get something like: 
> reactor class: <class 'twisted.internet.selectreactor.SelectReactor'>
> 
> probably win32eventreactor  will say something like:
> 
> reactor class: <class 'twisted.internet.win32eventreactor.XXX'>
> 


Thanks, it works.
However, maybe, a reactor should have a name attribute.



Regards  Manlio Perillo



From manlio_perillo at libero.it  Mon Oct 23 13:47:07 2006
From: manlio_perillo at libero.it (Manlio Perillo)
Date: Mon, 23 Oct 2006 19:47:07 +0200
Subject: [Twisted-Python] Problems with code in "Twisted" book ...
In-Reply-To: <075DE16201D10648805AD252D1BC132203AA865A@VS6.EXCHPROD.USA.NET>
References: <075DE16201D10648805AD252D1BC132203AA865A@VS6.EXCHPROD.USA.NET>
Message-ID: <453D001B.6020407@libero.it>

Walsh, Sandy ha scritto:
> Super ... thx for the help!
> 

If you find some problems, please let me know.
I'm the author of the patch.



Regards  Manlio Perillo



From exarkun at divmod.com  Mon Oct 23 14:12:41 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Mon, 23 Oct 2006 14:12:41 -0400
Subject: [Twisted-Python] knowing which reactor is running
In-Reply-To: <4539F251.5030603@libero.it>
Message-ID: <20061023181242.26151.256536441.divmod.quotient.11231@ohm>

On Sat, 21 Oct 2006 12:11:29 +0200, Manlio Perillo <manlio_perillo at libero.it> wrote:
>In a test suite I need to know if the win32eventreactor is running.
>Any solution?

You generally shouldn't need this information.  Rather, you should rely
on the interfaces provided by the reactor you're using, and less commonly
the modules which you are able to import.

Jean-Paul



From manlio_perillo at libero.it  Mon Oct 23 14:48:18 2006
From: manlio_perillo at libero.it (Manlio Perillo)
Date: Mon, 23 Oct 2006 20:48:18 +0200
Subject: [Twisted-Python] knowing which reactor is running
In-Reply-To: <20061023181242.26151.256536441.divmod.quotient.11231@ohm>
References: <20061023181242.26151.256536441.divmod.quotient.11231@ohm>
Message-ID: <453D0E72.1060500@libero.it>

Jean-Paul Calderone ha scritto:
> On Sat, 21 Oct 2006 12:11:29 +0200, Manlio Perillo
> <manlio_perillo at libero.it> wrote:
>> In a test suite I need to know if the win32eventreactor is running.
>> Any solution?
> 
> You generally shouldn't need this information.  Rather, you should rely
> on the interfaces provided by the reactor you're using, and less commonly
> the modules which you are able to import.
>

But the win32eventreactor does not implement a "special" interface like,
say, IWin32EventReactor.


Regards  Manlio Perillo



From ldanielburr at mac.com  Mon Oct 23 15:04:32 2006
From: ldanielburr at mac.com (L. Daniel Burr)
Date: Mon, 23 Oct 2006 14:04:32 -0500
Subject: [Twisted-Python] knowing which reactor is running
In-Reply-To: <453D0E72.1060500@libero.it>
References: <20061023181242.26151.256536441.divmod.quotient.11231@ohm>
	<453D0E72.1060500@libero.it>
Message-ID: <op.thv1xuxh3oj628@l-daniel-burrs-powerbook-g4-17.local>

On Mon, 23 Oct 2006 13:48:18 -0500, Manlio Perillo  
<manlio_perillo at libero.it> wrote:

> Jean-Paul Calderone ha scritto:
>> On Sat, 21 Oct 2006 12:11:29 +0200, Manlio Perillo
>> <manlio_perillo at libero.it> wrote:
>>> In a test suite I need to know if the win32eventreactor is running.
>>> Any solution?
>>
>> You generally shouldn't need this information.  Rather, you should rely
>> on the interfaces provided by the reactor you're using, and less  
>> commonly
>> the modules which you are able to import.
>>
>
> But the win32eventreactor does not implement a "special" interface like,
> say, IWin32EventReactor.
>
>
> Regards  Manlio Perillo
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python

Of course it doesn't, because interfaces aren't types.  Having an
interface named IWin32EventReactor makes no sense, because the
whole point of interfaces is to describe how something acts, not
what it is.  Types answer the question "what is this?"; interfaces
answer the question "what can I do with this?".

What exarkun is getting at is this: You shouldn't need to know what
*type* of reactor you have.  Instead, you should find out what kind
of behaviors your reactor instance supports, and interfaces are a
good way to do that.

This is really similar to the case with JavaScript and browser-sniff
strategies.  It used to be that most libraries relied on sniffing the
user-agent string to determine what browser they were dealing with.
Over time, it has become more common to test for supported behavior,
e.g., checking for document.implementation, etc.

Hope this helps,

L. Daniel Burr



From manlio_perillo at libero.it  Mon Oct 23 15:27:03 2006
From: manlio_perillo at libero.it (Manlio Perillo)
Date: Mon, 23 Oct 2006 21:27:03 +0200
Subject: [Twisted-Python] knowing which reactor is running
In-Reply-To: <op.thv1xuxh3oj628@l-daniel-burrs-powerbook-g4-17.local>
References: <20061023181242.26151.256536441.divmod.quotient.11231@ohm>	<453D0E72.1060500@libero.it>
	<op.thv1xuxh3oj628@l-daniel-burrs-powerbook-g4-17.local>
Message-ID: <453D1787.1060903@libero.it>

L. Daniel Burr ha scritto:
> On Mon, 23 Oct 2006 13:48:18 -0500, Manlio Perillo
> <manlio_perillo at libero.it> wrote:
> 
>> Jean-Paul Calderone ha scritto:
>>> On Sat, 21 Oct 2006 12:11:29 +0200, Manlio Perillo
>>> <manlio_perillo at libero.it> wrote:
>>>> In a test suite I need to know if the win32eventreactor is running.
>>>> Any solution?
>>>
>>> You generally shouldn't need this information.  Rather, you should rely
>>> on the interfaces provided by the reactor you're using, and less
>>> commonly
>>> the modules which you are able to import.
>>>
>>
>> But the win32eventreactor does not implement a "special" interface like,
>> say, IWin32EventReactor.
>>
> [...]
> 
> Of course it doesn't, because interfaces aren't types.  Having an
> interface named IWin32EventReactor makes no sense, because the
> whole point of interfaces is to describe how something acts, not
> what it is.  Types answer the question "what is this?"; interfaces
> answer the question "what can I do with this?".
> 

Yes.
IWin32EventReactor interface means that the reactor support the win32
event system (addEvent, removeEvent).



Regards  Manlio Perillo



From ldanielburr at mac.com  Mon Oct 23 16:00:11 2006
From: ldanielburr at mac.com (L. Daniel Burr)
Date: Mon, 23 Oct 2006 15:00:11 -0500
Subject: [Twisted-Python] knowing which reactor is running
In-Reply-To: <453D1787.1060903@libero.it>
References: <20061023181242.26151.256536441.divmod.quotient.11231@ohm>
	<453D0E72.1060500@libero.it>
	<op.thv1xuxh3oj628@l-daniel-burrs-powerbook-g4-17.local>
	<453D1787.1060903@libero.it>
Message-ID: <op.thv4ilde3oj628@l-daniel-burrs-powerbook-g4-17.local>

Hi Manlio,

On Mon, 23 Oct 2006 14:27:03 -0500, Manlio Perillo  
<manlio_perillo at libero.it> wrote:

> L. Daniel Burr ha scritto:
>> On Mon, 23 Oct 2006 13:48:18 -0500, Manlio Perillo
>> <manlio_perillo at libero.it> wrote:
>>
>>> Jean-Paul Calderone ha scritto:
>>>> On Sat, 21 Oct 2006 12:11:29 +0200, Manlio Perillo
>>>> <manlio_perillo at libero.it> wrote:
>>>>> In a test suite I need to know if the win32eventreactor is running.
>>>>> Any solution?
>>>>
>>>> You generally shouldn't need this information.  Rather, you should  
>>>> rely
>>>> on the interfaces provided by the reactor you're using, and less
>>>> commonly
>>>> the modules which you are able to import.
>>>>
>>>
>>> But the win32eventreactor does not implement a "special" interface  
>>> like,
>>> say, IWin32EventReactor.
>>>
>> [...]
>>
>> Of course it doesn't, because interfaces aren't types.  Having an
>> interface named IWin32EventReactor makes no sense, because the
>> whole point of interfaces is to describe how something acts, not
>> what it is.  Types answer the question "what is this?"; interfaces
>> answer the question "what can I do with this?".
>>
>
> Yes.
> IWin32EventReactor interface means that the reactor support the win32
> event system (addEvent, removeEvent).
>

An IWin32Event interface would suggest support for the win32 event system,
but adding "Reactor" to the end of that is wrong, in my opinion.

Naming conventions aside, yes, you have the right idea.  You'd check your
reactor instance to see if it supports the IWin32Event interface, rather
than checking the instance's class name.

>
>
> Regards  Manlio Perillo


Hope this helps,

L. Daniel Burr



From manlio_perillo at libero.it  Mon Oct 23 17:03:47 2006
From: manlio_perillo at libero.it (Manlio Perillo)
Date: Mon, 23 Oct 2006 23:03:47 +0200
Subject: [Twisted-Python] knowing which reactor is running
In-Reply-To: <op.thv4ilde3oj628@l-daniel-burrs-powerbook-g4-17.local>
References: <20061023181242.26151.256536441.divmod.quotient.11231@ohm>	<453D0E72.1060500@libero.it>	<op.thv1xuxh3oj628@l-daniel-burrs-powerbook-g4-17.local>	<453D1787.1060903@libero.it>
	<op.thv4ilde3oj628@l-daniel-burrs-powerbook-g4-17.local>
Message-ID: <453D2E33.5010504@libero.it>

L. Daniel Burr ha scritto:
> Hi Manlio,
> 

Hi.

> [...]
>> Yes.
>> IWin32EventReactor interface means that the reactor support the win32
>> event system (addEvent, removeEvent).
>>
> 
> An IWin32Event interface would suggest support for the win32 event system,
> but adding "Reactor" to the end of that is wrong, in my opinion.
> 

You are right, I just picked up the first name that come to my mind.

> Naming conventions aside, yes, you have the right idea.  You'd check your
> reactor instance to see if it supports the IWin32Event interface, rather
> than checking the instance's class name.
> 


When I find some time I will write a ticket.

Moreover I think that a one more ticked is needed for polishing the
little mess (IMHO) with abstract.FileDescriptor, what it is used in
_win32serialport and _pollingfile.

As an example:
1. abstract.FileDescriptor for Posix file descriptors (like sockets)
2. win32handle.Win32Handle for win32 handles that can get notified by
WaitForSingleObject and friends (like input console and generic events)
3. upoll.PollableResource for "poor man" polling



Regards   Manlio Perillo



From robert at gravina.com  Tue Oct 24 03:32:16 2006
From: robert at gravina.com (Robert Gravina)
Date: Tue, 24 Oct 2006 16:32:16 +0900
Subject: [Twisted-Python] keeping client data in sync with Twisted,
	mirroring some Axiom Items on the client-side 
Message-ID: <69656710-8BCA-4B6B-8D89-B9185E7AED1F@gravina.com>

Divmod and Twisted lists,

I think I've asked something similar before on the Divmod list, but  
I'd like to ask again for some advice about using Divmod Axiom (an  
object-relational DB) in a multi-user Twisted GUI application I'm  
writing. This has as much to do with Twisted as it does Axiom, so I  
felt it best to send to both lists. I apologise for the noise.

The problem I'm having is mainly architectural. I have about 15 Axiom  
Item classes that live on a server-side database, and these are  
Twisted pb.Copyable, so the clients end up with a pb.RemoteCopy which  
has all of the attributes from the server-side Item. I now have about  
1000 lines of code for the pb.Copyable Axiom Items and 500 lines of  
code for all these pb.RemoteCopy objects, but essentially all they  
are classes with the same attribute names as the Axiom Items. Apart  
from being a pain to maintain, it feels like this is really wasted  
code. There's also a lot of code to notify other clients when data in  
these objects changes.

Basically, my app is starting to feel really bloated, and I think I'm  
going about this the wrong way. Someone mentioned earlier that what I  
really want is Zope Enterprise Objects, and they are right. A  
distributed database that's simple keep all clients in sync is  
exactly what I want, but now that I've invested so much time and  
energy into Twisted I'd hate to throw it all away and begin the long  
arduous task of learning and switching to Zope.

My basic goals are this:

1) Have a database which several clients can share and modify. For  
example, if this is a contacts database, and I update someone's phone  
number, I want all the other clients to get the new number.

Perhaps this can be implemented using pb.Cacheables? I already do  
something like this using one Cacheable  which I send pb.Copyable  
objects to it's client-side RemoteCache as they are modified, and it  
updates a dict of objects indexed by storeID.... but my  
implementation is far from elegant :)

2) I'd like clients to be able to possibly one day "work offline".  
Say for example they don't have network access, they could, instead  
of logging in to the server, use their local cache of contacts. add/ 
edit/delete then and then have these changes reflected when they next  
logon. I assume this would probably take some effort to implement  
regardless of whether I used Twisted or ZEO, but my main stumbling  
block at the moment is that I can't send Axiom Items down the wire,  
since they have a Store reference and storeID etc. What I would  
really like to do is send Axiom Items to clients and have them create  
an Axiom Item *with the same storeID and details* as the one they  
received. Sort of like mirroring the data, but not necessarily the  
whole DB, just the objects they require.

I'm starting to wonder now if I should replace Twisted with ZEO in my  
application. The main reason I didn't go with ZEO in the beginning is  
I couldn't find any examples of it being used for mutli-user GUI  
database-apps, only for mirroring/scaling Zope instances, so figured  
it wasn't designed with this in mind. I do like Twisted, and I'm very  
happy with it as a framework, I'm just struggling with how to deal  
with this problem.

Thanks again all,

Robert




From overstock at gmail.com  Tue Oct 24 10:25:30 2006
From: overstock at gmail.com (Over Stock)
Date: Tue, 24 Oct 2006 16:25:30 +0200
Subject: [Twisted-Python] Raja Fashions, Quality Mens Fashions
Message-ID: <1d7842330610240725s86a6405l4f71613774bea5b@mail.gmail.com>

Raja Fashions, Quality Mens Fashions

http://www.raja-fashions.com

Raja Fashions is no ordinary custom tailor. Raja Fashions was founded
in 1957 and have not only become the most established custom tailor in
Hong Kong, but also the most dynamic.We are constantly applying new
means of technology to make the quality of our garments and efficiency
of our services the best in the industry. Our team is constantly on
the move, learning the ever changing fashion trends and the cultural
differences that impact the way people dress around the world.

We are not merely bespoke tailors, but in fact fashion consultants. We
want you to look good. Regardless of your shape and size, we make it
our mission to make you the best dressed individual in your workplace
or at whatever occassion you plan to attend. With our years of
experience and knowledge of styles and materials we can help you
design clothing that is perfect for you.

For overseas sales and order information
Tel: +852 2366 1801
raja at raja-fashions.com

For Hong Kong sales and order information
Tel: +852 2366 7624
raja at raja-fashions.com

For any questions and feedback concerning our website
Vishal Daswani at vishal at raja-fashions.com

For any other information
raja at raja-fashions.com

Custom Software
Custom Business Software
Custom Business Solutions
Ecommerce Software Solutions
Software Integration
Integration Software
Accounting Software Integration
Software Data Integration
Business to Business Software
Business Software Applications
Computer Software Applications



From mike at mkp.ca  Tue Oct 24 12:27:29 2006
From: mike at mkp.ca (Mike Pelletier)
Date: Tue, 24 Oct 2006 12:27:29 -0400
Subject: [Twisted-Python] Re: [Divmod-dev] keeping client data in sync with
	Twisted, mirroring some Axiom Items on the client-side
In-Reply-To: <69656710-8BCA-4B6B-8D89-B9185E7AED1F@gravina.com>
References: <69656710-8BCA-4B6B-8D89-B9185E7AED1F@gravina.com>
Message-ID: <200610241227.29796.mike@mkp.ca>

On Tuesday 24 October 2006 03:32, Robert Gravina wrote:
> I'm starting to wonder now if I should replace Twisted with ZEO in my ?
> application.

The good news is that zeo+zodb can be used without pulling in the rest of Zope 
(thank god) and you probably could marry it with the rest of your twisted 
app.  The bad news is that zodb has completely different usage semantics and 
tuning assumptions than axiom, and even if you find a way to deal with zodb 
asynchronously (which may be a bigger problem than I just indicated now that 
I give it a passing though), you may find that such a change ends up leaking 
up a few layers of abstraction, depending on your use cases.  I'd be happy to 
hash it out off-list if you decide to go that way.  Regardless of these 
challenges, if your app is write-heavy, zodb is probably not the way to go.

It does seem like what you are trying to do with Axiom would be a fairly 
common case, but it's young so it might not have been addressed.  I'm eager 
to hear what the smart people have to say.  I think I've heard noises about 
Axiom starting to support other databases beyond sqllite, so perhaps it is 
not beyond the realm of possibility that you could connect a bunch of 
axiom-wielding processes to the same database.  For that matter, sqlite has 
been talking about providing a client/server interface.  Either way, I think 
you'd be on the bleeding edge.

Boy, I'm a big help, eh?

Mike.



From robert at gravina.com  Tue Oct 24 13:24:17 2006
From: robert at gravina.com (Robert Gravina)
Date: Wed, 25 Oct 2006 02:24:17 +0900
Subject: [Twisted-Python] Re: [Divmod-dev] keeping client data in sync with
	Twisted, mirroring some Axiom Items on the client-side
In-Reply-To: <200610241227.29796.mike@mkp.ca>
References: <69656710-8BCA-4B6B-8D89-B9185E7AED1F@gravina.com>
	<200610241227.29796.mike@mkp.ca>
Message-ID: <782E69A2-269B-4A58-B3FD-77659FF4F588@gravina.com>


On 2006/10/25, at 1:27, Mike Pelletier wrote:

> The good news is that zeo+zodb can be used without pulling in the  
> rest of Zope
> (thank god) and you probably could marry it with the rest of your  
> twisted
> app.

I started off doing this actually, and decided to switch to Axiom  
because it was object-relational. I've had some no-so-fun experiences  
with Plone and ZODB madness, but it probably has more to do with not  
understanding what was going on.

For the most part, as long as all the database-related work goes on  
on the server side, whether I use ZODB or Axiom probably doesn't make  
much of a difference to the rest of the application.

> The bad news is that zodb has completely different usage semantics and
> tuning assumptions than axiom, and even if you find a way to deal  
> with zodb
> asynchronously (which may be a bigger problem than I just indicated  
> now that
> I give it a passing though), you may find that such a change ends  
> up leaking
> up a few layers of abstraction, depending on your use cases.  I'd  
> be happy to
> hash it out off-list if you decide to go that way.

Thanks. Actually most of my database access so far is along the lines  
of the client sending an object to the server (along with its child  
objects), and the server persists it (and add/edits/removes the  
children to suit). Your typical CRUD GUI.

> Regardless of these
> challenges, if your app is write-heavy, zodb is probably not the  
> way to go.

I have heard this before yes. Actually I there will be more reading  
going on than writing. The application is your basic database-with- 
reports type application, so I'd say it would not be write heavy.

> It does seem like what you are trying to do with Axiom would be a  
> fairly
> common case, but it's young so it might not have been addressed.   
> I'm eager
> to hear what the smart people have to say.

As am I :) What I'm trying to I believe can be done with Twisted PB.  
Calling remote methods on all clients who have an object which is  
pb.Cacheable is quite easy to do. I am just unsure about how to go  
about it in a generic way. Also I'm sure there's a lot more to  
creating a distributed object system than meets the eye, but then  
again Twisted PB handles much of the heavy lifting.

Originally, I planned to do much of the work on the server, and one  
thing I liked about Twisted was that I could easy decide what work  
was done on the client, and what on the server. Now that I'm a little  
further in developmentI realise that the clients would really benifit  
from having much of that data locally, so that can search/make PDF  
reports etc. easily. Perhaps I'm just using Twisted wrong and I  
should be doing this on the server? I'm really I'm happy for the  
clients do *all* the work, which is why I'm back to considering ZEO  
again. The server just needs to handle authentication and access  
control, ensuring everyone has the latest copy of an object, make  
sure two users aren't allowed to open a edit GUI for some object at  
the same time, etc.

One important point, is that with ZEO I just code as if the database  
was a local ZODB. I like that because it saves literally hundreds of  
lines of code dealing with sending objects back and forth, notifying  
clients etc.

> I think I've heard noises about
> Axiom starting to support other databases beyond sqllite, so  
> perhaps it is
> not beyond the realm of possibility that you could connect a bunch of
> axiom-wielding processes to the same database.
> For that matter, sqlite has
> been talking about providing a client/server interface.  Either  
> way, I think
> you'd be on the bleeding edge.
>

If I were to go this way, then I wouldn't really be using Twisted  
right? In this case, I may as well use ZEO. Perhaps I'm taking the  
wrong approach - maybe all I need is a database server which clients  
connect to, and do away with the whole of Twisted cred/PB etc. that  
I'm using?

> Boy, I'm a big help, eh?
>

Actually you were thanks!

Robert



From BRADLEY.S.GASPARD at saic.com  Tue Oct 24 16:27:50 2006
From: BRADLEY.S.GASPARD at saic.com (Gaspard, Bradley S)
Date: Tue, 24 Oct 2006 16:27:50 -0400
Subject: [Twisted-Python] udp broadcast question
Message-ID: <702ADCB87C5EF340B1D7A597A9DFF1DA4B8B9C@0015-its-exmb02.us.saic.com>

I found a udp broadcast example (below) which works fine for my wired
ethernet interface but I would like to be able to specify my wireless
interface (ath0) for the udp broadcast. How can this be done?

On Wednesday, Dec 17, 2003, at 17:27 Europe/Helsinki, Jp Calderone 
wrote:

>
>   No threads, but maybe it's good enough anyway:

Thanks for trying to help. But really this is very incomplete, missing 
all read or write calls to the socket.
And I've tried, with just that SO_BROADCAST option I do not receive the 
stuff I send, and in fact with just that option, I can't even send.

But thanks for the pointer to twisted.

Torsten

>     import sys
>     from socket import SOL_SOCKET, SO_BROADCAST
>
>     from twisted.internet import reactor
>     from twisted.internet import protocol
>     from twisted.internet import task
>     from twisted.python import log
>
>     log.startLogging(sys.stdout)
>
>     port = 7154
>
>     class BroadcastingDatagramProtocol(protocol.DatagramProtocol):
>
>         port = port
>
>         def startProtocol(self):
>             self.transport.socket.setsockopt(SOL_SOCKET, SO_BROADCAST, 
> True)
>             self.call = task.LoopingCall(self.tick)
>             self.dcall = self.call.start(1.0)
>
>         def stopProtocol(self):
>             self.call.stop()
>
>         def tick(self):
>             self.transport.write(self.getPacket(), ("<broadcast>", 
> self.port))
>
> 	def getPacket(self):
>             return "Some bytes for you"
>
>         def datagramReceived(self, data, addr):
>             print "Received", repr(data)
>
>     reactor.listenUDP(port, BroadcastingDatagramProtocol())
>     reactor.run()
>
>   Jp
>
> -- 
> http://mail.python.org/mailman/listinfo/python-list





From BRADLEY.S.GASPARD at saic.com  Tue Oct 24 16:55:45 2006
From: BRADLEY.S.GASPARD at saic.com (Gaspard, Bradley S)
Date: Tue, 24 Oct 2006 16:55:45 -0400
Subject: [Twisted-Python] udp broadcast question
Message-ID: <702ADCB87C5EF340B1D7A597A9DFF1DA4B8B9D@0015-its-exmb02.us.saic.com>

It does work when I specify the broadcast address of my wireless interface.
I am still
curious if one can specify on which interface to broadcast to
255.255.255.255 ... perhaps 
not a twisted question.


-----Original Message-----
From: twisted-python-bounces at twistedmatrix.com on behalf of Gaspard, Bradley
S
Sent: Tue 10/24/2006 4:27 PM
To: twisted-python at twistedmatrix.com
Subject: [Twisted-Python] udp broadcast question
 
I found a udp broadcast example (below) which works fine for my wired
ethernet interface but I would like to be able to specify my wireless
interface (ath0) for the udp broadcast. How can this be done?

On Wednesday, Dec 17, 2003, at 17:27 Europe/Helsinki, Jp Calderone 
wrote:

>
>   No threads, but maybe it's good enough anyway:

Thanks for trying to help. But really this is very incomplete, missing 
all read or write calls to the socket.
And I've tried, with just that SO_BROADCAST option I do not receive the 
stuff I send, and in fact with just that option, I can't even send.

But thanks for the pointer to twisted.

Torsten

>     import sys
>     from socket import SOL_SOCKET, SO_BROADCAST
>
>     from twisted.internet import reactor
>     from twisted.internet import protocol
>     from twisted.internet import task
>     from twisted.python import log
>
>     log.startLogging(sys.stdout)
>
>     port = 7154
>
>     class BroadcastingDatagramProtocol(protocol.DatagramProtocol):
>
>         port = port
>
>         def startProtocol(self):
>             self.transport.socket.setsockopt(SOL_SOCKET, SO_BROADCAST, 
> True)
>             self.call = task.LoopingCall(self.tick)
>             self.dcall = self.call.start(1.0)
>
>         def stopProtocol(self):
>             self.call.stop()
>
>         def tick(self):
>             self.transport.write(self.getPacket(), ("<broadcast>", 
> self.port))
>
> 	def getPacket(self):
>             return "Some bytes for you"
>
>         def datagramReceived(self, data, addr):
>             print "Received", repr(data)
>
>     reactor.listenUDP(port, BroadcastingDatagramProtocol())
>     reactor.run()
>
>   Jp
>
> -- 
> http://mail.python.org/mailman/listinfo/python-list



_______________________________________________
Twisted-Python mailing list
Twisted-Python at twistedmatrix.com
http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 3688 bytes
Desc: not available
Url : http://twistedmatrix.com/pipermail/twisted-python/attachments/20061024/e9c36096/attachment.bin 

From mmcnett at cs.ucsd.edu  Tue Oct 24 17:16:01 2006
From: mmcnett at cs.ucsd.edu (Marvin McNett)
Date: Tue, 24 Oct 2006 14:16:01 -0700
Subject: [Twisted-Python] setting perspective arg to
	getStateToCacheAndObserveFor
Message-ID: <453E8291.4070301@cs.ucsd.edu>

How does one go about setting the perspective parameter to 
twisted.spread.flavors.Cacheable.getStateToCacheAndObserveFor method? 
I'd like to return different information based on what type of observer 
is subscribing.  I've looked over and tested the example in the 
documentation, but it's always None.  I also looked over the source, but 
it's not obvious to me.

Thanks,
-Marvin



From ron.arts at netland.nl  Thu Oct 26 17:42:15 2006
From: ron.arts at netland.nl (Ron Arts)
Date: Thu, 26 Oct 2006 23:42:15 +0200
Subject: [Twisted-Python] finger tutorial question
Message-ID: <45412BB7.20909@netland.nl>

Hi,

I am pretty new to python and totally new to twisted.
 From what I read about it, it's perfect for my means.
I need to write a background daemon that connects to
a port, stays connected, reads information blocks,
keeps state, and write to a postgres database occasionally.
Also it should accepts connections from GUI clients,
that should display the state in a user friendly manner.

This looks like a perfect target for Twisted, especially
because I want to write the GUI client in wxPython.

So I started to follow the tutorial. Nothing too special,
apart from the last steps.

When making a finger library the tutorial creates
a file named organized-finger.tac. This file
starts with 'import finger'. The source for this file
is described in the tutorial as 'Code (from the module)'.
But I don't know where the module is.

If I try to use other pieces of code from earlier examples
as finger.py I invariably get something like:

           File "organized-finger.tac", line 13, in ?
             f = finger.FingerService('/etc/users')
         exceptions.AttributeError: 'module' object has no attribute 'FingerService'

Another thing is the configuration and packaging.
The tutorial wants to do:

mktap finger --file=/etc/users --ircnick=fingerbot

but that throws me Deprecated fatal errors. BTW I am using the
official twisted production version 2.4.0.

 From the subversion version I understand that mktap will
cease to exist, but for the moment I am stuck in the last step
to complete the example 'correct' application, and start my
own work from there.

So what am I doing wrong here?

Thanks
Ron

-------------- next part --------------
A non-text attachment was scrubbed...
Name: ron.arts.vcf
Type: text/x-vcard
Size: 270 bytes
Desc: not available
Url : http://twistedmatrix.com/pipermail/twisted-python/attachments/20061026/aa612544/attachment.vcf 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3403 bytes
Desc: S/MIME Cryptographic Signature
Url : http://twistedmatrix.com/pipermail/twisted-python/attachments/20061026/aa612544/attachment.bin 

From ron.arts at netland.nl  Thu Oct 26 18:29:04 2006
From: ron.arts at netland.nl (Ron Arts)
Date: Fri, 27 Oct 2006 00:29:04 +0200
Subject: [Twisted-Python] finger tutorial question: never mind
In-Reply-To: <45412BB7.20909@netland.nl>
References: <45412BB7.20909@netland.nl>
Message-ID: <454136B0.7010509@netland.nl>

Never mind my previous question...

Oh gee, I totally missed that I had to create a subdirectory
with __init__.py (which was a copy of finger.py), and other files
in it as well. Didn't get that at all.

Now everything really works. Thanks anyway..

Ron


Ron Arts schreef:
> Hi,
> 
> I am pretty new to python and totally new to twisted.
>  From what I read about it, it's perfect for my means.
> I need to write a background daemon that connects to
> a port, stays connected, reads information blocks,
> keeps state, and write to a postgres database occasionally.
> Also it should accepts connections from GUI clients,
> that should display the state in a user friendly manner.
> 
> This looks like a perfect target for Twisted, especially
> because I want to write the GUI client in wxPython.
> 
> So I started to follow the tutorial. Nothing too special,
> apart from the last steps.
> 
> When making a finger library the tutorial creates
> a file named organized-finger.tac. This file
> starts with 'import finger'. The source for this file
> is described in the tutorial as 'Code (from the module)'.
> But I don't know where the module is.
> 
> If I try to use other pieces of code from earlier examples
> as finger.py I invariably get something like:
> 
>           File "organized-finger.tac", line 13, in ?
>             f = finger.FingerService('/etc/users')
>         exceptions.AttributeError: 'module' object has no attribute 
> 'FingerService'
> 
> Another thing is the configuration and packaging.
> The tutorial wants to do:
> 
> mktap finger --file=/etc/users --ircnick=fingerbot
> 
> but that throws me Deprecated fatal errors. BTW I am using the
> official twisted production version 2.4.0.
> 
>  From the subversion version I understand that mktap will
> cease to exist, but for the moment I am stuck in the last step
> to complete the example 'correct' application, and start my
> own work from there.
> 
> So what am I doing wrong here?
> 
> Thanks
> Ron
> 
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ron.arts.vcf
Type: text/x-vcard
Size: 270 bytes
Desc: not available
Url : http://twistedmatrix.com/pipermail/twisted-python/attachments/20061027/1add9016/attachment.vcf 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3403 bytes
Desc: S/MIME Cryptographic Signature
Url : http://twistedmatrix.com/pipermail/twisted-python/attachments/20061027/1add9016/attachment.bin 

From exarkun at divmod.com  Thu Oct 26 19:07:06 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Thu, 26 Oct 2006 19:07:06 -0400
Subject: [Twisted-Python] finger tutorial question
In-Reply-To: <45412BB7.20909@netland.nl>
Message-ID: <20061026230706.20948.1413445688.divmod.quotient.1449@ohm>

On Thu, 26 Oct 2006 23:42:15 +0200, Ron Arts <ron.arts at netland.nl> wrote:
>Hi,

Hi.  It seems you figured out what was blocking you, but I'd like
to clarify a few points anyhow.

> [snip]
>
>This looks like a perfect target for Twisted, especially
>because I want to write the GUI client in wxPython.

Twisted doesn't have very good wxPython integration, actually.
It has _something_; whether or not it works varies a lot, and
the level of support likely to be available for it is minimal.

> [snip]
>
>Another thing is the configuration and packaging.
>The tutorial wants to do:
>
>mktap finger --file=/etc/users --ircnick=fingerbot
>
>but that throws me Deprecated fatal errors. BTW I am using the
>official twisted production version 2.4.0.

A Deprecation _Warning_ is what gets written to stderr.  This doesn't
prevent anything from working, it's just a a warning that the _later_
the functionality will probably be removed.  This generally means you
have at least one release (generally more like two, sometimes 10 or 20)
to stop using the functionality.  It is _not_ fatal.

>
> From the subversion version I understand that mktap will
>cease to exist,

Perhaps someday, but mktap itself isn't even deprecated yet.  The
finger tutorial uses the deprecated plugin system, and that's where
the warning is coming from.  mktap itself still loads plugins from
the old system because the old system is still only deprecated, not
removed.

Jean-Paul



From yqiang at gmail.com  Thu Oct 26 19:15:12 2006
From: yqiang at gmail.com (Yi Qiang)
Date: Thu, 26 Oct 2006 16:15:12 -0700
Subject: [Twisted-Python] twisted.cred question
Message-ID: <3af8969a0610261615o79841757m98f69b04878f2273@mail.gmail.com>

Hi, I am using twisted.cred to provide authentication to users over PB.  I
am using the FilePasswordDB class to provide avatarID's to users.  I am
wondering where/how I should implement the feature so that when a user tries
to login with a username that does not exist yet, we create a
username/password pair for that user and log them in.  I looked around in
checkers.py, but I am not sure if that is the right place to implement
this.

Thanks in advance,
Yi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-python/attachments/20061026/a40cb7ec/attachment.htm 

From exarkun at divmod.com  Thu Oct 26 20:06:24 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Thu, 26 Oct 2006 20:06:24 -0400
Subject: [Twisted-Python] twisted.cred question
In-Reply-To: <3af8969a0610261615o79841757m98f69b04878f2273@mail.gmail.com>
Message-ID: <20061027000624.20948.1469430479.divmod.quotient.1506@ohm>

On Thu, 26 Oct 2006 16:15:12 -0700, Yi Qiang <yqiang at gmail.com> wrote:
>Hi, I am using twisted.cred to provide authentication to users over PB.  I
>am using the FilePasswordDB class to provide avatarID's to users.  I am
>wondering where/how I should implement the feature so that when a user tries
>to login with a username that does not exist yet, we create a
>username/password pair for that user and log them in.  I looked around in
>checkers.py, but I am not sure if that is the right place to implement
>this.

If you're using FilePasswordDB as your checker, then you could subclass
it and add this behavior.  A problem with this in general is that it is
not always possible to extract sufficient information from a login attempt
to create a new set of credentials in the authentication backend.  For
example, a password may have been hashed together with a random number.
However, for plaintext password authentication (ie, over SSL) you should
have no problem.

There has been some discussion at various points about adding a general
API for adding new credentials through cred, but it hasn't really gotten
anywhere.

Jean-Paul



From deepankar.sharma at gmail.com  Fri Oct 27 00:33:17 2006
From: deepankar.sharma at gmail.com (Deepankar Sharma)
Date: Fri, 27 Oct 2006 00:33:17 -0400
Subject: [Twisted-Python] issues using pb.Copyable
Message-ID: <f5e6a4360610262133r62d4a7f2jd001304aee24c016@mail.gmail.com>

Hello,

I am trying to use pb.Copyable to send some python objects back and forth
between a client and server. I followed the documentation and quickly got
some simple examples working.
However i got stuck when i tried sending some python objects which are
actually wrappers for stuff written in C. Here is an example of what i am
trying to do


Class C (Wrapper for a c data structure)

Class B (inherits from class C and from pb.Copyable)

I have a lot of wrapper functions which give me instances of Class C. Trying
to do c_instance.__class__ = B does not work.
I somehow need to cast those instances into instances of class B so that the
jellying/unjellying can take place. What does one do in such a situation ?

Regards,
Deepankar
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-python/attachments/20061027/0137a43c/attachment.htm 

From ron.arts at netland.nl  Fri Oct 27 05:05:08 2006
From: ron.arts at netland.nl (Ron Arts)
Date: Fri, 27 Oct 2006 11:05:08 +0200
Subject: [Twisted-Python] finger tutorial question
In-Reply-To: <20061026230706.20948.1413445688.divmod.quotient.1449@ohm>
References: <20061026230706.20948.1413445688.divmod.quotient.1449@ohm>
Message-ID: <4541CBC4.9060406@netland.nl>

Jean-Paul Calderone schreef:
> On Thu, 26 Oct 2006 23:42:15 +0200, Ron Arts <ron.arts at netland.nl> wrote:
>> Hi,
> 
> Hi.  It seems you figured out what was blocking you, but I'd like
> to clarify a few points anyhow.
> 
>> [snip]
>>
>> This looks like a perfect target for Twisted, especially
>> because I want to write the GUI client in wxPython.
> 
> Twisted doesn't have very good wxPython integration, actually.
> It has _something_; whether or not it works varies a lot, and
> the level of support likely to be available for it is minimal.
> 

Okay, thanks for clarifying.

Is is possible to just integrate a Twisted client in
a wxPython program? I need to connect lots of
GUI clients to a twisted server, and both sides need to
send/receive asynchronously over that connection.

I could do that with plain wxPython, but I also would
prefer SSL over that connection, and probably also
support a separate PB connection.

Do you think this would be possible currently?

Ron

-- 
Netland Internet Services BV
bedrijfsmatige internetoplossingen

http://www.netland.nl  Kruislaan 419              1098 VA Amsterdam
info: 020-5628282      servicedesk: 020-5628282   fax: 020-5628281
KvK Amsterdam 33253286

Op dit bericht is de volgende disclaimer van toepassing:
http://www.netland.nl/maildisclaimer

People who live in stone houses shouldn't throw glasses.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ron.arts.vcf
Type: text/x-vcard
Size: 270 bytes
Desc: not available
Url : http://twistedmatrix.com/pipermail/twisted-python/attachments/20061027/3a305ed0/attachment.vcf 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3403 bytes
Desc: S/MIME Cryptographic Signature
Url : http://twistedmatrix.com/pipermail/twisted-python/attachments/20061027/3a305ed0/attachment.bin 

From exarkun at divmod.com  Fri Oct 27 09:23:07 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Fri, 27 Oct 2006 09:23:07 -0400
Subject: [Twisted-Python] issues using pb.Copyable
In-Reply-To: <f5e6a4360610262133r62d4a7f2jd001304aee24c016@mail.gmail.com>
Message-ID: <20061027132307.20948.764583438.divmod.quotient.2281@ohm>

On Fri, 27 Oct 2006 00:33:17 -0400, Deepankar Sharma <deepankar.sharma at gmail.com> wrote:
>Hello,
>
>I am trying to use pb.Copyable to send some python objects back and forth
>between a client and server. I followed the documentation and quickly got
>some simple examples working.
>However i got stuck when i tried sending some python objects which are
>actually wrappers for stuff written in C. Here is an example of what i am
>trying to do
>
>
>Class C (Wrapper for a c data structure)
>
>Class B (inherits from class C and from pb.Copyable)
>
>I have a lot of wrapper functions which give me instances of Class C. Trying
>to do c_instance.__class__ = B does not work.
>I somehow need to cast those instances into instances of class B so that the
>jellying/unjellying can take place. What does one do in such a situation ?

Instead of subclassing C, write a wrapper for it.  Implement getStateFor on
the wrapper.  For example:

>>> from twisted.spread import pb
>>> class X(object):
...     def __init__(self, y):
...             self.y = y
...
>>> class Z(pb.Jellyable):
...     def __init__(self, x):
...             self.x = x
...     def getStateFor(self, jellier):
...             return {'y': self.x.y}
...
>>> pb.jelly(Z(X(10)))
['__main__.Z', ['dictionary', ['y', 10]]]
>>> from twisted.spread import jelly
>>> def unjellyZ(jellier, state):
...     return Z(X(y=pb.unjelly(state[1])['y']))
... 
>>> jelly.setUnjellyableForClass('__main__.Z', unjellyZ)
>>> pb.unjelly(['__main__.Z', ['dictionary', ['y', 10]]]).x.y
10
>>>

Jean-Paul



From exarkun at divmod.com  Fri Oct 27 09:26:22 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Fri, 27 Oct 2006 09:26:22 -0400
Subject: [Twisted-Python] finger tutorial question
In-Reply-To: <4541CBC4.9060406@netland.nl>
Message-ID: <20061027132622.20948.616288199.divmod.quotient.2284@ohm>

On Fri, 27 Oct 2006 11:05:08 +0200, Ron Arts <ron.arts at netland.nl> wrote:
>Jean-Paul Calderone schreef:
>> On Thu, 26 Oct 2006 23:42:15 +0200, Ron Arts <ron.arts at netland.nl> wrote:
>>> Hi,
>>
>> Hi.  It seems you figured out what was blocking you, but I'd like
>> to clarify a few points anyhow.
>>
>>> [snip]
>>>
>>> This looks like a perfect target for Twisted, especially
>>> because I want to write the GUI client in wxPython.
>>
>> Twisted doesn't have very good wxPython integration, actually.
>> It has _something_; whether or not it works varies a lot, and
>> the level of support likely to be available for it is minimal.
>>
>
>Okay, thanks for clarifying.
>
>Is is possible to just integrate a Twisted client in
>a wxPython program? I need to connect lots of
>GUI clients to a twisted server, and both sides need to
>send/receive asynchronously over that connection.
>
>I could do that with plain wxPython, but I also would
>prefer SSL over that connection, and probably also
>support a separate PB connection.
>
>Do you think this would be possible currently?

I don't really know.  It may be possible.  I am not familiar enough
with wxPython to say either way.  From my observations of the attempts
made by others, but with Twisted and without Twisted, I would try to
avoid developing anything with wxPython.

Jean-Paul



From exarkun at divmod.com  Fri Oct 27 09:53:23 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Fri, 27 Oct 2006 09:53:23 -0400
Subject: [Twisted-Python] Re: [Twisted-commits] r18549 - Clean up
 t.web.soap.SOAPPublisher.lookupFunction
In-Reply-To: <E1GdKJY-0003Wa-00@wolfwood>
Message-ID: <20061027135323.20948.1793570260.divmod.quotient.2314@ohm>

On Thu, 26 Oct 2006 23:31:32 -0600, Jonathan Lange <jml at wolfwood.twistedmatrix.com> wrote:
> [snip]
>+        self.assertTrue(self.publisher.lookupFunction("add"))
>+        self.assertTrue(self.publisher.lookupFunction("fail"))
>+        self.assertFalse(self.publisher.lookupFunction("foobar"))

assertTrue?  assertFalse? :/  Why does trial have _four_ different names
for each of these functions?

Slightly more relevantly, shouldn't at least the last of these three be
assertIdentical(..., None)?  It is a common mistake throughout Twisted
to test for truth when the real intent is to test against None, so I'm
mostly pointing this out in the hopes of reducing new cases of it being
introduced in the future.

Jean-Paul



From robert at gravina.com  Fri Oct 27 10:38:07 2006
From: robert at gravina.com (Robert Gravina)
Date: Fri, 27 Oct 2006 23:38:07 +0900
Subject: [Twisted-Python] finger tutorial question
In-Reply-To: <20061027132622.20948.616288199.divmod.quotient.2284@ohm>
References: <20061027132622.20948.616288199.divmod.quotient.2284@ohm>
Message-ID: <CB81C330-A62F-4530-9389-E4E7E61108F4@gravina.com>


> I am not familiar enough
> with wxPython to say either way.  From my observations of the attempts
> made by others, but with Twisted and without Twisted, I would try to
> avoid developing anything with wxPython.
>

I wouldn't discount Twisted and wxPython altogether... Doesn't  
Chandler use this combination?
http://chandler.osafoundation.org/

I did a lot of looking around and couldn't find anything else as  
rich, native-looking, cross platform (linux/mac/windows) and free  
(for commercial use also). Although there was some discussion earlier  
about the stability and future of the wx reactor, at least as  
anecdotal evidence I have been able to use wxPython with Twisted and  
PB without any problems.

What exactly would you suggest as a replacement for wxPython then?

Robert




From therve at free.fr  Fri Oct 27 11:34:08 2006
From: therve at free.fr (Thomas HERVE)
Date: Fri, 27 Oct 2006 17:34:08 +0200
Subject: [Twisted-Python] Re: [Twisted-commits] r18549 - Clean up
	t.web.soap.SOAPPublisher.lookupFunction
In-Reply-To: <20061027135323.20948.1793570260.divmod.quotient.2314@ohm>
References: <20061027135323.20948.1793570260.divmod.quotient.2314@ohm>
Message-ID: <20061027173408.jhtwlz1yoos0g4s4@itchy.wasabout.net>

Quoting Jean-Paul Calderone <exarkun at divmod.com>:

> On Thu, 26 Oct 2006 23:31:32 -0600, Jonathan Lange 
> <jml at wolfwood.twistedmatrix.com> wrote:
>> [snip]
>> +        self.assertTrue(self.publisher.lookupFunction("add"))
>> +        self.assertTrue(self.publisher.lookupFunction("fail"))
>> +        self.assertFalse(self.publisher.lookupFunction("foobar"))
>
> assertTrue?  assertFalse? :/  Why does trial have _four_ different names
> for each of these functions?

Agree. But a choice should be made, and then deprecations put on other 
names. The fact other unittest libs can use the 4 has been a criteria, 
I guess.

> Slightly more relevantly, shouldn't at least the last of these three be
> assertIdentical(..., None)?  It is a common mistake throughout Twisted
> to test for truth when the real intent is to test against None, so I'm
> mostly pointing this out in the hopes of reducing new cases of it being
> introduced in the future.

Well I do intent to test False. The fact it returns None is an 
implementation detail: we could modify lookupFunction to return '' or 
False without modifying the tests. That might no be the good decision, 
though, but the reviewer didn't scream :).

-- 
Thomas





From general at eepatents.com  Fri Oct 27 13:23:30 2006
From: general at eepatents.com (Ed Suominen)
Date: Fri, 27 Oct 2006 10:23:30 -0700
Subject: [Twisted-Python] finger tutorial question
In-Reply-To: <E1GdV3u-0003Px-00@pyramid.twistedmatrix.com>
References: <E1GdV3u-0003Px-00@pyramid.twistedmatrix.com>
Message-ID: <45424092.1080308@eepatents.com>

>> I am not familiar enough
>> with wxPython to say either way.  From my observations of the attempts
>> made by others, but with Twisted and without Twisted, I would try to
>> avoid developing anything with wxPython.
>>
> 
> I wouldn't discount Twisted and wxPython altogether... Doesn't  
> Chandler use this combination?
> http://chandler.osafoundation.org/
> 
> I did a lot of looking around and couldn't find anything else as  
> rich, native-looking, cross platform (linux/mac/windows) and free  
> (for commercial use also). Although there was some discussion earlier  
> about the stability and future of the wx reactor, at least as  
> anecdotal evidence I have been able to use wxPython with Twisted and  
> PB without any problems.
> 
> What exactly would you suggest as a replacement for wxPython then?

I have developed an internal-use only application using PyQt4 and
Twisted and have found the combination to be very effective. Neither one
cares about the other being there, and events are processed seamlessly
by both, with no threads needed.

The only gripe I have is that you can't switch your project over to be
licensed under the commercial version of Qt and PyQt4 if it has been
developed with the GPL version. It seems to me that PyQt/Qt may be
shooting themselves in the foot somewhat with their "start your app.
with commercial version or keep it GPL forever" licensing terms.

Best regards, Ed



From calmasy at gmail.com  Fri Oct 27 17:57:14 2006
From: calmasy at gmail.com (=?ISO-8859-1?Q?Count_L=E1szl=F3_de_Alm=E1sy?=)
Date: Fri, 27 Oct 2006 15:57:14 -0600
Subject: [Twisted-Python] twisted.news.database: maildir backend?
Message-ID: <abb783b90610271457i6012b0a5q21c474b97b13569@mail.gmail.com>

Greetings,

I'm interested in an NNTP server that uses a standard Maildir(s) as
it's storage backend.  Before I start writing one, has anyone already
done this?  If not, any pointers as I get started?

Thanks.

-- 
Cheers, L?szl?



From jml at mumak.net  Fri Oct 27 21:12:27 2006
From: jml at mumak.net (Jonathan Lange)
Date: Sat, 28 Oct 2006 12:12:27 +1100
Subject: [Twisted-Python] Re: [Twisted-commits] r18549 - Clean up
	t.web.soap.SOAPPublisher.lookupFunction
In-Reply-To: <20061027135323.20948.1793570260.divmod.quotient.2314@ohm>
References: <E1GdKJY-0003Wa-00@wolfwood>
	<20061027135323.20948.1793570260.divmod.quotient.2314@ohm>
Message-ID: <d06a5cd30610271812y4fe2b037r37c282bcd21836ba@mail.gmail.com>

On 10/28/06, Jean-Paul Calderone <exarkun at divmod.com> wrote:
> On Thu, 26 Oct 2006 23:31:32 -0600, Jonathan Lange <jml at wolfwood.twistedmatrix.com> wrote:
> > [snip]
> >+        self.assertTrue(self.publisher.lookupFunction("add"))
> >+        self.assertTrue(self.publisher.lookupFunction("fail"))
> >+        self.assertFalse(self.publisher.lookupFunction("foobar"))
>
> assertTrue?  assertFalse? :/  Why does trial have _four_ different names
> for each of these functions?
>

Compatibility, both backwards and lateral.

I don't think I would object if someone decided to make the coding
standard restrict the allowable names of assert methods.

jml



From calmasy at gmail.com  Fri Oct 27 23:10:37 2006
From: calmasy at gmail.com (=?ISO-8859-1?Q?Count_L=E1szl=F3_de_Alm=E1sy?=)
Date: Fri, 27 Oct 2006 21:10:37 -0600
Subject: [Twisted-Python] eta for an epoll reactor?
Message-ID: <abb783b90610272010i638af3d5y2985a80af7fbe9b2@mail.gmail.com>

I see that the latest Twisted comes with a kqueue reactor.  But how
about us Linux guys?  Will an epoll reactor ever be part of Twisted?

-- 
Cheers, L?szl?



From jadestorm at nc.rr.com  Fri Oct 27 23:29:47 2006
From: jadestorm at nc.rr.com (Daniel Henninger)
Date: Fri, 27 Oct 2006 23:29:47 -0400
Subject: [Twisted-Python] eta for an epoll reactor?
In-Reply-To: <abb783b90610272010i638af3d5y2985a80af7fbe9b2@mail.gmail.com>
References: <abb783b90610272010i638af3d5y2985a80af7fbe9b2@mail.gmail.com>
Message-ID: <CE49F016-22CF-4719-8401-243137097671@nc.rr.com>

There's an epoll reactor for twisted available here:
http://delx.cjb.net/pymsnt/?page=downloads

Daniel

On Oct 27, 2006, at 11:10 PM, Count L?szl? de Alm?sy wrote:

> I see that the latest Twisted comes with a kqueue reactor.  But how
> about us Linux guys?  Will an epoll reactor ever be part of Twisted?
>
> -- 
> Cheers, L?szl?
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python




From exarkun at divmod.com  Fri Oct 27 23:43:06 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Fri, 27 Oct 2006 23:43:06 -0400
Subject: [Twisted-Python] eta for an epoll reactor?
In-Reply-To: <abb783b90610272010i638af3d5y2985a80af7fbe9b2@mail.gmail.com>
Message-ID: <20061028034306.20948.1616779736.divmod.quotient.3049@ohm>

On Fri, 27 Oct 2006 21:10:37 -0600, Count L?szl? de Alm?sy <calmasy at gmail.com> wrote:
>I see that the latest Twisted comes with a kqueue reactor.  But how
>about us Linux guys?  Will an epoll reactor ever be part of Twisted?

As of earlier this week (or maybe last week, I forget), there is a
epoll-based level-triggered reactor in trunk at HEAD.  It will be included
in Twisted 2.5.

Jean-Paul



From calmasy at gmail.com  Sat Oct 28 00:01:27 2006
From: calmasy at gmail.com (=?ISO-8859-1?Q?Count_L=E1szl=F3_de_Alm=E1sy?=)
Date: Fri, 27 Oct 2006 22:01:27 -0600
Subject: [Twisted-Python] eta for an epoll reactor?
In-Reply-To: <CE49F016-22CF-4719-8401-243137097671@nc.rr.com>
References: <abb783b90610272010i638af3d5y2985a80af7fbe9b2@mail.gmail.com>
	<CE49F016-22CF-4719-8401-243137097671@nc.rr.com>
Message-ID: <abb783b90610272101m7f0d5c7u767d06095a2782d8@mail.gmail.com>

On 10/27/06, Daniel Henninger <jadestorm at nc.rr.com> wrote:
> There's an epoll reactor for twisted available here:
> http://delx.cjb.net/pymsnt/?page=downloads

Thanks.  It installed okay, but when I tried `twistd -r epoll -noy
emailserver.tac' it  pegged my CPU at 100%.  I think I'll just wait
for the version that will comes with Twisted 2.5.

-- 
Cheers, L?szl?



From calmasy at gmail.com  Sat Oct 28 00:02:38 2006
From: calmasy at gmail.com (=?ISO-8859-1?Q?Count_L=E1szl=F3_de_Alm=E1sy?=)
Date: Fri, 27 Oct 2006 22:02:38 -0600
Subject: [Twisted-Python] eta for an epoll reactor?
In-Reply-To: <20061028034306.20948.1616779736.divmod.quotient.3049@ohm>
References: <abb783b90610272010i638af3d5y2985a80af7fbe9b2@mail.gmail.com>
	<20061028034306.20948.1616779736.divmod.quotient.3049@ohm>
Message-ID: <abb783b90610272102j15f0840clcd52a18ded0ca875@mail.gmail.com>

On 10/27/06, Jean-Paul Calderone <exarkun at divmod.com> wrote:
> As of earlier this week (or maybe last week, I forget), there is a
> epoll-based level-triggered reactor in trunk at HEAD.  It will be included
> in Twisted 2.5.

Nice!  How about edge-triggered epoll?

-- 
Cheers, L?szl?



From exarkun at divmod.com  Sat Oct 28 00:38:53 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Sat, 28 Oct 2006 00:38:53 -0400
Subject: [Twisted-Python] eta for an epoll reactor?
In-Reply-To: <abb783b90610272102j15f0840clcd52a18ded0ca875@mail.gmail.com>
Message-ID: <20061028043853.20948.210852606.divmod.quotient.3092@ohm>

On Fri, 27 Oct 2006 22:02:38 -0600, Count L?szl? de Alm?sy <calmasy at gmail.com> wrote:
>On 10/27/06, Jean-Paul Calderone <exarkun at divmod.com> wrote:
>>As of earlier this week (or maybe last week, I forget), there is a
>>epoll-based level-triggered reactor in trunk at HEAD.  It will be included
>>in Twisted 2.5.
>
>Nice!  How about edge-triggered epoll?
>

Patches accepted :)  Level-triggered already buys quite a lot over poll.
I expect edge-triggered is even better, but I don't think I have any apps
where I'd notice the difference (it's probably not likely I'd notice the
difference between poll and epoll, actually), so I probably won't be spending
any time on this in the near future.

Edge-triggered shares a lot less code with the existing reactors.  Maybe
some of the recent IOCP work will be leveragable to this goal, though.

Jean-Paul



From fritcher at corp.earthlink.net  Sat Oct 28 12:57:42 2006
From: fritcher at corp.earthlink.net (Jason Fritcher)
Date: Sat, 28 Oct 2006 12:57:42 -0400
Subject: [Twisted-Python] Previous libevent reactor work?
In-Reply-To: <20061028034306.20948.1616779736.divmod.quotient.3049@ohm>
References: <20061028034306.20948.1616779736.divmod.quotient.3049@ohm>
Message-ID: <45438C06.8010902@corp.earthlink.net>

Jean-Paul Calderone wrote:
> As of earlier this week (or maybe last week, I forget), there is a
> epoll-based level-triggered reactor in trunk at HEAD.  It will be included
> in Twisted 2.5.

Has there been any work done on building a reactor around libevent? I've 
been references in emails that some thought has gone into one, but I 
haven't seen any code to go along with those thoughts. I'm considering 
building one myself, but thought I would ask so I'm not reinventing the 
wheel if there is a libevent reactor already.

Thanks.

-- 
Jason Fritcher
Software Engineer
Core Infrastructure Services & Strategy
Earthlink, Inc
fritcher at corp.earthlink.net
(404) 748-7262, x22262



From therve at free.fr  Sat Oct 28 15:32:40 2006
From: therve at free.fr (Thomas HERVE)
Date: Sat, 28 Oct 2006 21:32:40 +0200
Subject: [Twisted-Python] Previous libevent reactor work?
In-Reply-To: <45438C06.8010902@corp.earthlink.net>
References: <20061028034306.20948.1616779736.divmod.quotient.3049@ohm>
	<45438C06.8010902@corp.earthlink.net>
Message-ID: <20061028213240.3ub2vj9xmyoso4oc@itchy.wasabout.net>

Quoting Jason Fritcher <fritcher at corp.earthlink.net>:

> Has there been any work done on building a reactor around libevent? 
> I've been references in emails that some thought has gone into one, 
> but I haven't seen any code to go along with those thoughts. I'm 
> considering building one myself, but thought I would ask so I'm not 
> reinventing the wheel if there is a libevent reactor already.

There is this ticket: http://twistedmatrix.com/trac/ticket/1930, with a 
link to this: 
http://twistedmatrix.com/trac/browser/branches/slyphon/libevent-4.


-- 
Thomas




From twisted-matrix at mail11.ml1.net  Sat Oct 28 20:37:22 2006
From: twisted-matrix at mail11.ml1.net (Zoltan (Twisted Python Mailing List))
Date: Sun, 29 Oct 2006 02:37:22 +0200
Subject: [Twisted-Python] Error "reactor already installed" - exact module
	import order?
Message-ID: <4543F7C2.6060403@mail11.ml1.net>

Hi everyone,


I would be grateful if someone could help me with the error "reactor already 
installed". I have seen this issue has been discussed previously, but I am not 
sure how to fix appropriate file so that error does not occur anymore.

I am using Twisted Python 2.4.0, as it is packaged by Mandriva.

Here is the Python stack trace:
----------------- cut 8< -------------------
Traceback (most recent call last):
   File "/usr/bin/pyscrabble.py", line 4, in ?
     gtk2reactor.install()
   File "/usr/lib/python2.4/site-packages/twisted/internet/gtk2reactor.py", 
line 270, in install
     installReactor(reactor)
   File "/usr/lib/python2.4/site-packages/twisted/internet/main.py", line 23, 
in installReactor
     assert not sys.modules.has_key('twisted.internet.reactor'), \
AssertionError: reactor already installed
----------------- cut 8< -------------------


Here is the piece of code that causes error:

----------------- /usr/bin/pyscrabble.py -------------------
#!/usr/bin/env python

from twisted.internet import gtk2reactor
gtk2reactor.install()
...
----------------- /usr/bin/pyscrabble.py -------------------

As for the "pyscrabble.py" causing, I'll contact its author, but is it possible 
to change ".../twisted/internet/main.py" so that it does not throw assertion 
error on already installed reactor?


Many thanks in advance,

Zoltan



From exarkun at divmod.com  Sat Oct 28 21:40:00 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Sat, 28 Oct 2006 21:40:00 -0400
Subject: [Twisted-Python] Error "reactor already installed" - exact
	module import order?
In-Reply-To: <4543F7C2.6060403@mail11.ml1.net>
Message-ID: <20061029014000.20948.1253110343.divmod.quotient.4051@ohm>

On Sun, 29 Oct 2006 02:37:22 +0200, "Zoltan \(Twisted Python Mailing List\)" <twisted-matrix at mail11.ml1.net> wrote:
>Hi everyone,
>

Hello.

>
>I would be grateful if someone could help me with the error "reactor already 
>installed". I have seen this issue has been discussed previously, but I am 
>not sure how to fix appropriate file so that error does not occur anymore.

This happens when an attempt is made to install more than one reactor in a
single process.  Twisted supports only a single reactor.

When twisted.internet.reactor is imported for the very first time, if no
other reactor has been installed, the default reactor is installed.  If
any other reactor has been installed, that reactor is given back as the
result of the import.

>
>I am using Twisted Python 2.4.0, as it is packaged by Mandriva.
>
>Here is the Python stack trace:
>----------------- cut 8< -------------------
>Traceback (most recent call last):
>   File "/usr/bin/pyscrabble.py", line 4, in ?
>     gtk2reactor.install()
>   File "/usr/lib/python2.4/site-packages/twisted/internet/gtk2reactor.py", 
>line 270, in install
>     installReactor(reactor)
>   File "/usr/lib/python2.4/site-packages/twisted/internet/main.py", line 23, 
>in installReactor
>     assert not sys.modules.has_key('twisted.internet.reactor'), \
>AssertionError: reactor already installed
>----------------- cut 8< -------------------
>
>
>Here is the piece of code that causes error:
>
>----------------- /usr/bin/pyscrabble.py -------------------
>#!/usr/bin/env python
>
>from twisted.internet import gtk2reactor
>gtk2reactor.install()
>...
>----------------- /usr/bin/pyscrabble.py -------------------

This seems strange.  Since only one reactor is being installed here, the
traceback above should not be happening.  I cannot replicate this failure;
when I try the above script, it works as expected (producing no output).

Do you have something in your environment which might be causing some other
reactor to be installed, or for twisted.internet.reactor to be imported,
causing the default reactor to be installed?  For example, do you have a
sitecustomize.py which is doing something with Twisted?


>
>As for the "pyscrabble.py" causing, I'll contact its author, but is it 
>possible to change ".../twisted/internet/main.py" so that it does not throw 
>assertion error on already installed reactor?
>

It's possible to make that change (by editing the source of Twisted), but
it seems unlikely that just suppressing the exception will solve the problem.

Jean-Paul



From calmasy at gmail.com  Sun Oct 29 00:36:07 2006
From: calmasy at gmail.com (=?ISO-8859-1?Q?Count_L=E1szl=F3_de_Alm=E1sy?=)
Date: Sat, 28 Oct 2006 22:36:07 -0600
Subject: [Twisted-Python] eta for an epoll reactor?
In-Reply-To: <20061028043853.20948.210852606.divmod.quotient.3092@ohm>
References: <abb783b90610272102j15f0840clcd52a18ded0ca875@mail.gmail.com>
	<20061028043853.20948.210852606.divmod.quotient.3092@ohm>
Message-ID: <abb783b90610282136s3f8140bv14ee8c8d7922860d@mail.gmail.com>

Yes, you're right.  Beggars can't be choosers I guess.  :)

On 10/27/06, Jean-Paul Calderone <exarkun at divmod.com> wrote:
> On Fri, 27 Oct 2006 22:02:38 -0600, Count L?szl? de Alm?sy <calmasy at gmail.com> wrote:
> >On 10/27/06, Jean-Paul Calderone <exarkun at divmod.com> wrote:
> >>As of earlier this week (or maybe last week, I forget), there is a
> >>epoll-based level-triggered reactor in trunk at HEAD.  It will be included
> >>in Twisted 2.5.
> >
> >Nice!  How about edge-triggered epoll?
> >
>
> Patches accepted :)  Level-triggered already buys quite a lot over poll.
> I expect edge-triggered is even better, but I don't think I have any apps
> where I'd notice the difference (it's probably not likely I'd notice the
> difference between poll and epoll, actually), so I probably won't be spending
> any time on this in the near future.
>
> Edge-triggered shares a lot less code with the existing reactors.  Maybe
> some of the recent IOCP work will be leveragable to this goal, though.
>
> Jean-Paul
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>


-- 
Cheers, L?szl?



From exarkun at twistedmatrix.com  Sun Oct 29 01:05:02 2006
From: exarkun at twistedmatrix.com (exarkun at twistedmatrix.com)
Date: Sun, 29 Oct 2006 05:05:02 -0000
Subject: [Twisted-Python] Weekly Bug Summary
Message-ID: 1162098302.18.1085781933@twistedmatrix.com

Bug summary
______________________
Summary for 2006-10-22 through 2006-10-29
Bugs opened: 21    Bugs closed: 8  Total open bugs: 761 (+13)

|== Type Changes   |== Priority Changes   |== Component Changes   
|Defect:       +4  |Highest:  -1          |Conch:     -1          
|Enhancement: +10  |High:     +1          |Core:      +4          
                   |Normal:  +12          |Mail:      +1          
                   |Low:      +1          |Pydoctor:  +4          
                   |Lowest:   +1          |Trial:     +1          
                                          |Web:       +1          
                                          |Web2:      +3          
                                          |Web2.Dav:  +2          
                                          |Words:     -1          


New / Reopened Bugs
______________________
                    ===== Highest =====
[#2184] microdom.toxml mishandles xml namespaces (opened by jml) (CLOSED, fixed)
    defect          web        http://twistedmatrix.com/trac/ticket/2184

[#2197] [SIP] wrong assertion in MessagesParser.dataDone (opened by antoine)
    defect          core       http://twistedmatrix.com/trac/ticket/2197

[#2199] Adaption of web2.iweb interfaces is broken (opened by wsanchez)
    defect          web2       http://twistedmatrix.com/trac/ticket/2199

[#2184] microdom.toxml mishandles xml namespaces (opened by jml) (CLOSED, fixed)
    defect          web        http://twistedmatrix.com/trac/ticket/2184

                    ===== High =====
[#2196] Need a generic API for reading and writing resource contents (opened by wsanchez)
    enhancement     web2.dav   http://twistedmatrix.com/trac/ticket/2196

                    ===== Normal =====
[#2182] process exit status support for Twisted (opened by synapsis)
    enhancement     core       http://twistedmatrix.com/trac/ticket/2182

[#2185] WSGI/PEP-333 and HTTP_CONTENT_TYPE vs CONTENT_TYPE (opened by martinpaljak)
    defect          web2       http://twistedmatrix.com/trac/ticket/2185

[#2186] pydoctor doesn't document code in __init__.py files (opened by spiv)
    defect          pydoctor   http://twistedmatrix.com/trac/ticket/2186

[#2187] pydoctor should have the equivalent of "epydoc --docformat restructuredtext" (opened by spiv)
    enhancement     pydoctor   http://twistedmatrix.com/trac/ticket/2187

[#2188] Trial catches exceptions during import (opened by jdahlin)
    defect          trial      http://twistedmatrix.com/trac/ticket/2188

[#2189] pydoctor should say something more useful than "Undocumented" if there are hidden docstrings (opened by glyph) (CLOSED, fixed)
    enhancement     pydoctor   http://twistedmatrix.com/trac/ticket/2189

[#2190] undocumented methods summary page (opened by glyph)
    enhancement     pydoctor   http://twistedmatrix.com/trac/ticket/2190

[#2192] add __main__ func to trial.py  allows trial to be executed under the pydev debugger (opened by scmikes) (CLOSED, wontfix)
    enhancement     trial      http://twistedmatrix.com/trac/ticket/2192

[#2193] Element.setTagName change (opened by jml)
    enhancement     web        http://twistedmatrix.com/trac/ticket/2193

[#2194] small bug in SIP Via header generation (opened by antoine)
    defect          core       http://twistedmatrix.com/trac/ticket/2194

[#2195] Ignore whitespace XML nodes when we know we can (opened by wsanchez)
    enhancement     web2.dav   http://twistedmatrix.com/trac/ticket/2195

[#2198] [SIP] patch for multiline headers (opened by antoine)
    enhancement     core       http://twistedmatrix.com/trac/ticket/2198

[#2200] Resource lookup is slow (opened by Cyrus Daboo)
    enhancement     web2       http://twistedmatrix.com/trac/ticket/2200

[#2201] Need performance testing in the build process (opened by wsanchez)
    enhancement     core       http://twistedmatrix.com/trac/ticket/2201

                    ===== Low =====
[#2183] twisted.mail.pop3.IMailbox's sync and undeleteMessages methods are unnecessary (opened by exarkun)
    enhancement     mail       http://twistedmatrix.com/trac/ticket/2183

                    ===== Lowest =====
[#2191] unified documentation generation process and tool (opened by glyph)
    enhancement     pydoctor   http://twistedmatrix.com/trac/ticket/2191



Closed Bugs
______________________
                    ===== Highest =====
[#2171] Bad ssl check (opened by ilia, closed by exarkun, fixed)
    defect          words      http://twistedmatrix.com/trac/ticket/2171

[#1953] Epoll reactor (opened by therve, closed by exarkun, fixed)
    enhancement     core       http://twistedmatrix.com/trac/ticket/1953

[#2184] microdom.toxml mishandles xml namespaces (opened by jml, closed by jml, fixed)
    defect          web        http://twistedmatrix.com/trac/ticket/2184

[#447 ] [PATCH] twisted.web.soap lookupFunction flawed (opened by knet, closed by jml, fixed)
    defect          web        http://twistedmatrix.com/trac/ticket/447

[#2159] Conch uses no-longer-present trial benchmark feature (opened by exarkun, closed by exarkun, fixed)
    defect          conch      http://twistedmatrix.com/trac/ticket/2159

[#2184] microdom.toxml mishandles xml namespaces (opened by jml, closed by jml, fixed)
    defect          web        http://twistedmatrix.com/trac/ticket/2184

                    ===== Normal =====
[#2189] pydoctor should say something more useful than "Undocumented" if there are hidden docstrings (opened by glyph, closed by mwh, fixed)
    enhancement     pydoctor   http://twistedmatrix.com/trac/ticket/2189

[#2192] add __main__ func to trial.py  allows trial to be executed under the pydev debugger (opened by scmikes, closed by scmikes, wontfix)
    enhancement     trial      http://twistedmatrix.com/trac/ticket/2192





From ron.arts at netland.nl  Sun Oct 29 14:57:21 2006
From: ron.arts at netland.nl (Ron Arts)
Date: Sun, 29 Oct 2006 20:57:21 +0100
Subject: [Twisted-Python] Problem with runInteraction and passing a dict
	variable
Message-ID: <454507A1.2060401@netland.nl>

Hello,

I am both a python and twisted beginner, but I think I have found
a problem in twisted. See the code below.
The handle_PeerStatus function receives a dict wich contains
some info. Then it calls runInteraction with that variable.
When the UpdatePeerStatus function is run, block is empty.

I did some investigating, it seems that UpdatePeerStatus is
run using a workerthread which takes it values from a Queue.

When the dict is pushed onto the Queue, it is valid, when
when it is popped by the worker thread, the var is empty.

Can anybody give me tips to solve this? Am I absolutely
missing something and on the wring track or should I enter a bug?

Thanks,
Ron

class .....
     def handle_PeerStatus(self, block):
         print block
         self.db.runInteraction(self.UpdatePeerStatus, block)


     def UpdatePeerStatus(self, txn, block):
         print block # prints {}
         status = block['PeerStatus']  # throws me an exception


-------------- next part --------------
A non-text attachment was scrubbed...
Name: ron.arts.vcf
Type: text/x-vcard
Size: 270 bytes
Desc: not available
Url : http://twistedmatrix.com/pipermail/twisted-python/attachments/20061029/1f655a48/attachment.vcf 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3403 bytes
Desc: S/MIME Cryptographic Signature
Url : http://twistedmatrix.com/pipermail/twisted-python/attachments/20061029/1f655a48/attachment.bin 

From exarkun at divmod.com  Sun Oct 29 16:48:31 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Sun, 29 Oct 2006 16:48:31 -0500
Subject: [Twisted-Python] Problem with runInteraction and passing a dict
	variable
In-Reply-To: <454507A1.2060401@netland.nl>
Message-ID: <20061029214831.20948.899515279.divmod.quotient.5033@ohm>

On Sun, 29 Oct 2006 20:57:21 +0100, Ron Arts <ron.arts at netland.nl> wrote:
>Hello,
>
>I am both a python and twisted beginner, but I think I have found
>a problem in twisted. See the code below.
>The handle_PeerStatus function receives a dict wich contains
>some info. Then it calls runInteraction with that variable.
>When the UpdatePeerStatus function is run, block is empty.
>
>I did some investigating, it seems that UpdatePeerStatus is
>run using a workerthread which takes it values from a Queue.
>
>When the dict is pushed onto the Queue, it is valid, when
>when it is popped by the worker thread, the var is empty.
>
>Can anybody give me tips to solve this? Am I absolutely
>missing something and on the wring track or should I enter a bug?

Simply going through the queue won't mutate the dictionary.  Are
you certain no other part of your code is manipulating it?  One
way you could check this is by passing a _copy_ of block to
runInteraction so that modifications to the original won't affect
it.  If this results in things working as you expect, then you've
found the problem.

In general, you should _not_ be touching the same objects from more
than one thread.  Passing an object to another thread is fine, but
when you do so, you give up all rights to further inspect or modify
that object, until such time as the other thread chooses to give it
back to you (whereafter it should likewise give up those privileges).

Jean-Paul



From ron.arts at netland.nl  Sun Oct 29 17:38:16 2006
From: ron.arts at netland.nl (Ron Arts)
Date: Sun, 29 Oct 2006 23:38:16 +0100
Subject: [Twisted-Python] Problem with runInteraction and passing a dict
	variable
In-Reply-To: <20061029214831.20948.899515279.divmod.quotient.5033@ohm>
References: <20061029214831.20948.899515279.divmod.quotient.5033@ohm>
Message-ID: <45452D58.2050906@netland.nl>

Jean-Paul,

thanks! Being an experienced C and PHP programmer, the
fact that python always seems to pass around the original
variable took me by surprise, I used block.copy() and the problem
went away.

Thanks,
Ron

Jean-Paul Calderone schreef:
> On Sun, 29 Oct 2006 20:57:21 +0100, Ron Arts <ron.arts at netland.nl> wrote:
>> Hello,
>>
>> I am both a python and twisted beginner, but I think I have found
>> a problem in twisted. See the code below.
>> The handle_PeerStatus function receives a dict wich contains
>> some info. Then it calls runInteraction with that variable.
>> When the UpdatePeerStatus function is run, block is empty.
>>
>> I did some investigating, it seems that UpdatePeerStatus is
>> run using a workerthread which takes it values from a Queue.
>>
>> When the dict is pushed onto the Queue, it is valid, when
>> when it is popped by the worker thread, the var is empty.
>>
>> Can anybody give me tips to solve this? Am I absolutely
>> missing something and on the wring track or should I enter a bug?
> 
> Simply going through the queue won't mutate the dictionary.  Are
> you certain no other part of your code is manipulating it?  One
> way you could check this is by passing a _copy_ of block to
> runInteraction so that modifications to the original won't affect
> it.  If this results in things working as you expect, then you've
> found the problem.
> 
> In general, you should _not_ be touching the same objects from more
> than one thread.  Passing an object to another thread is fine, but
> when you do so, you give up all rights to further inspect or modify
> that object, until such time as the other thread chooses to give it
> back to you (whereafter it should likewise give up those privileges).
> 
> Jean-Paul
> 
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ron.arts.vcf
Type: text/x-vcard
Size: 270 bytes
Desc: not available
Url : http://twistedmatrix.com/pipermail/twisted-python/attachments/20061029/880df1c8/attachment.vcf 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3403 bytes
Desc: S/MIME Cryptographic Signature
Url : http://twistedmatrix.com/pipermail/twisted-python/attachments/20061029/880df1c8/attachment.bin 

From jarrod at vertigrated.com  Mon Oct 30 12:16:16 2006
From: jarrod at vertigrated.com (Jarrod Roberson)
Date: Mon, 30 Oct 2006 12:16:16 -0500
Subject: [Twisted-Python] Previous libevent reactor work?
In-Reply-To: <20061028213240.3ub2vj9xmyoso4oc@itchy.wasabout.net>
References: <20061028034306.20948.1616779736.divmod.quotient.3049@ohm>
	<45438C06.8010902@corp.earthlink.net>
	<20061028213240.3ub2vj9xmyoso4oc@itchy.wasabout.net>
Message-ID: <fa3d0c740610300916s1d786082vd3f899481ba755c7@mail.gmail.com>

On 10/28/06, Thomas HERVE <therve at free.fr> wrote:
>
> Quoting Jason Fritcher <fritcher at corp.earthlink.net>:
>
> > Has there been any work done on building a reactor around libevent?
> > I've been references in emails that some thought has gone into one,
> > but I haven't seen any code to go along with those thoughts. I'm
> > considering building one myself, but thought I would ask so I'm not
> > reinventing the wheel if there is a libevent reactor already.
>
>
so which one of them approaches is the best way to go about getting a
production ready version?
using pyevent like you did, or the pyrex approach?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-python/attachments/20061030/24db2ffb/attachment.htm 

From therve at free.fr  Tue Oct 31 03:31:34 2006
From: therve at free.fr (Thomas HERVE)
Date: Tue, 31 Oct 2006 09:31:34 +0100
Subject: [Twisted-Python] Previous libevent reactor work?
In-Reply-To: <fa3d0c740610300916s1d786082vd3f899481ba755c7@mail.gmail.com>
References: <20061028034306.20948.1616779736.divmod.quotient.3049@ohm>
	<45438C06.8010902@corp.earthlink.net>
	<20061028213240.3ub2vj9xmyoso4oc@itchy.wasabout.net>
	<fa3d0c740610300916s1d786082vd3f899481ba755c7@mail.gmail.com>
Message-ID: <20061031093134.jnsj3yum80ooc0wc@itchy.wasabout.net>

Quoting Jarrod Roberson <jarrod at vertigrated.com>:

> so which one of them approaches is the best way to go about getting a
> production ready version?

None :). Why do you need a libevent reactor in the first place ?

> using pyevent like you did, or the pyrex approach?

The libevent bindings come from http://python-hpio.net/, which is down 
for a few months now. I spotted a bug in it, so I don't advise to use 
it. Today I would use pyevent at 
http://www.monkey.org/~dugsong/pyevent/.

For the pyrex version, I didn't try it, but it seemed pretty complete.

-- 
Thomas




From Marcin.Kasperski at softax.com.pl  Tue Oct 31 10:52:37 2006
From: Marcin.Kasperski at softax.com.pl (Marcin Kasperski)
Date: Tue, 31 Oct 2006 16:52:37 +0100
Subject: [Twisted-Python] If lineReceived returns deferred,
	then connection is dropped and this deferred given as error message
Message-ID: <200610311652.37936.Marcin.Kasperski@softax.com.pl>

I am observing the twisted behaviour which seems rather strange to me. 

In short: if lineReceived returns some deferred, then the whole connection is 
aborted, moreover, this deferred is returned as error message.

Longer story (the code pieces extracted from quite large app, I have not
yet tried writing small example)

### Crucial code fragments

class SomeProtocol(basic.LineReceiver):
   (...)
   def lineReceived(self, line):
	(...)
	return defer.succeed(997)    # magic value I can recognize easily

class SomeFactory(protocol.ReconnectingClientFactory):
   (...)
   def clientConnectionLost(self, connector, reason):
        logger.warn("Connection lost. Reason: %s\nTraceback: %s" % (
            reason.getErrorMessage(), reason.getTraceback()))
        protocol.ReconnectingClientFactory.clientConnectionLost(self, connector, reason)

reactor.connectTCP(HOST, PORT, SomeFactory(...))
reactor.run()

### Things seen in log file

myapp     : WARNING  Connection lost. Reason: <Deferred at 0xB551E1ECL  current result: 997>
Traceback: Traceback (most recent call last):
Failure: <type 'instance'>: <Deferred at 0xB551E1ECL  current result: 997>

(you recognized this 997, didn't you?)

### Extra info

1. Removing return defer.succeed() from lineReceived helps.

2. I wanted to return deferreds from lineReceived because I wanted to write unit tests
    testing my factory object (and in some cases to check whether all worked correctly
    required waiting for some spawned deferred calls).



From Marcin.Kasperski at softax.com.pl  Tue Oct 31 11:15:36 2006
From: Marcin.Kasperski at softax.com.pl (Marcin Kasperski)
Date: Tue, 31 Oct 2006 17:15:36 +0100
Subject: [Twisted-Python] Re: If lineReceived returns deferred,
	then connection is dropped and this deferred given as error message
In-Reply-To: <200610311652.37936.Marcin.Kasperski@softax.com.pl>
References: <200610311652.37936.Marcin.Kasperski@softax.com.pl>
Message-ID: <200610311715.37167.Marcin.Kasperski@softax.com.pl>

One more observation after looking at twisted code:

twisted/protocols/basic.py funtion LineReceiver.dataReceived contains sth like that:

           why = self.lineReceived(line)
           if why or self.transport and self.transport.disconnecting:
                    return why

As this is WITHIN the loop, we see why returning deferred (or anything true)
from lineReceived breaks processing.

I did not search further but it seems somebody is using convention that
if lineReceived (and maybe dataReceived) returns something, then this is
an error. Why not exception??? And, is it possible to patch it somehow so 
lineReceived function could be unit-tested?



From radix at twistedmatrix.com  Tue Oct 31 11:23:28 2006
From: radix at twistedmatrix.com (Christopher Armstrong)
Date: Tue, 31 Oct 2006 11:23:28 -0500
Subject: [Twisted-Python] Re: If lineReceived returns deferred,
	then connection is dropped and this deferred given as error message
In-Reply-To: <200610311715.37167.Marcin.Kasperski@softax.com.pl>
References: <200610311652.37936.Marcin.Kasperski@softax.com.pl>
	<200610311715.37167.Marcin.Kasperski@softax.com.pl>
Message-ID: <60ed19d40610310823v2adc9c12m82b7c54d6683a29a@mail.gmail.com>

On 10/31/06, Marcin Kasperski <Marcin.Kasperski at softax.com.pl> wrote:
> One more observation after looking at twisted code:
>
> twisted/protocols/basic.py funtion LineReceiver.dataReceived contains sth like that:
>
>            why = self.lineReceived(line)
>            if why or self.transport and self.transport.disconnecting:
>                     return why
>
> As this is WITHIN the loop, we see why returning deferred (or anything true)
> from lineReceived breaks processing.
>
> I did not search further but it seems somebody is using convention that
> if lineReceived (and maybe dataReceived) returns something, then this is
> an error. Why not exception??? And, is it possible to patch it somehow so
> lineReceived function could be unit-tested?

While Twisted's handling of the result of lineReceived is perhaps
confusing, I find your reasons for wanting it changed dubious: your
unit tests should be testing that lineReceived has the appropriate
*effects*, not that arbitrary points in the code are reached by
testing its return value (which would have no effect in the actual
running of your program).

-- 
Christopher Armstrong
International Man of Twistery
http://radix.twistedmatrix.com/
http://twistedmatrix.com/
http://canonical.com/



From Marcin.Kasperski at softax.com.pl  Tue Oct 31 11:55:42 2006
From: Marcin.Kasperski at softax.com.pl (Marcin Kasperski)
Date: Tue, 31 Oct 2006 17:55:42 +0100
Subject: [Twisted-Python] Re: If lineReceived returns deferred,
	then connection is dropped and this deferred given as error message
In-Reply-To: <60ed19d40610310823v2adc9c12m82b7c54d6683a29a@mail.gmail.com>
References: <200610311652.37936.Marcin.Kasperski@softax.com.pl>
	<200610311715.37167.Marcin.Kasperski@softax.com.pl>
	<60ed19d40610310823v2adc9c12m82b7c54d6683a29a@mail.gmail.com>
Message-ID: <200610311755.42866.Marcin.Kasperski@softax.com.pl>

> While Twisted's handling of the result of lineReceived is
> perhaps confusing, I find your reasons for wanting it changed
> dubious: your unit tests should be testing that lineReceived
> has the appropriate *effects*, 

And this is exactly what do I want: lineReceived should 
cause some effect (in my case, for instance some database
update). So I call lineReceived with the intended string, and
want - in unit test - to verify whether the update was actually 
made (it is done by deferred subroutine). But, to check for it, 
I must wait for it somehow.... 



From Marcin.Kasperski at softax.com.pl  Tue Oct 31 12:00:32 2006
From: Marcin.Kasperski at softax.com.pl (Marcin Kasperski)
Date: Tue, 31 Oct 2006 18:00:32 +0100
Subject: [Twisted-Python] Re: If lineReceived returns deferred,
	then connection is dropped and this deferred given as error message
In-Reply-To: <200610311715.37167.Marcin.Kasperski@softax.com.pl>
References: <200610311652.37936.Marcin.Kasperski@softax.com.pl>
	<200610311715.37167.Marcin.Kasperski@softax.com.pl>
Message-ID: <200610311800.32426.Marcin.Kasperski@softax.com.pl>

> And, is it possible to patch it somehow so lineReceived
> function could be unit-tested?

After short reflection I found the solution

def myLineReceived(self, line):
    # ...
    # can return deferred
def lineReceived(self, line):
    self.myLineReceived(line)

and unit tests just use myLineReceived. A bit clumsy, but works.

The main question (why lineReceived breaks connection on true 
reply) of course remains valid.



From jarrod at vertigrated.com  Tue Oct 31 13:23:29 2006
From: jarrod at vertigrated.com (Jarrod Roberson)
Date: Tue, 31 Oct 2006 13:23:29 -0500
Subject: [Twisted-Python] Previous libevent reactor work?
In-Reply-To: <20061031093134.jnsj3yum80ooc0wc@itchy.wasabout.net>
References: <20061028034306.20948.1616779736.divmod.quotient.3049@ohm>
	<45438C06.8010902@corp.earthlink.net>
	<20061028213240.3ub2vj9xmyoso4oc@itchy.wasabout.net>
	<fa3d0c740610300916s1d786082vd3f899481ba755c7@mail.gmail.com>
	<20061031093134.jnsj3yum80ooc0wc@itchy.wasabout.net>
Message-ID: <fa3d0c740610311023n560caa91ld95718f31638ddd@mail.gmail.com>

On 10/31/06, Thomas HERVE <therve at free.fr> wrote:
>
> Quoting Jarrod Roberson <jarrod at vertigrated.com>:
>
> > so which one of them approaches is the best way to go about getting a
> > production ready version?
>
> None :). Why do you need a libevent reactor in the first place ?
>

we have multiple platforms and libevent would just use the most appropriate
event mechanism instead of having to document for production to have to
specify -r and when select doesn't cut it.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-python/attachments/20061031/4d64eb17/attachment.htm 

From moe at divmod.com  Tue Oct 31 14:24:43 2006
From: moe at divmod.com (moe at divmod.com)
Date: Tue, 31 Oct 2006 13:24:43 -0600
Subject: [Twisted-Python] (no subject)
Message-ID: <E1GezE3-0003NM-00@pyramid.twistedmatrix.com>




On 27 Oct 2003, 11:10 , twisted-python-request at twistedmatrix.com wrote:
>Send Twisted-Python mailing list submissions to
>	twisted-python at twistedmatrix.com
>
>To subscribe or unsubscribe via the World Wide Web, visit
>	http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>or, via email, send a message with subject or body 'help' to
>	twisted-python-request at twistedmatrix.com
>
>You can reach the person managing the list at
>	twisted-python-admin at twistedmatrix.com
>
>When replying, please edit your Subject line so it is more specific
>than "Re: Contents of Twisted-Python digest..."
>
>
>Today's Topics:
>
>   1. Re: Odd behavior in IRC logbot (Itamar Shtull-Trauring)
>   2. Re: authentification from a database (Jp Calderone)
>   3. ANN: Twisted 1.1.0, the framework of *your* internet (Itamar Shtull-Trauring)
>   4. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Philippe =?ISO-8859-1?Q?Lafoucri=E8re?=)
>   5. Re: ANN: Twisted 1.1.0, the framework of *your* internet (soso)
>   6. Post data (Matteo Giacomazzi)
>   7. Re: Post data (Matteo Giacomazzi)
>   8. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (=?ISO-8859-1?Q?Martin_M=F6llenbeck?=)
>   9. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Abe Fettig)
>  10. Re: ANN: Twisted 1.1.0, the framework of *your* internet (darryl)
>  11. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Glyph Lefkowitz)
>  12. Re: ANN: Twisted 1.1.0, the framework of *your* internet (darryl)
>  13. Re: ANN: Twisted 1.1.0, the framework of *your* internet (Donovan Preston)
>  14. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Federico Di Gregorio)
>  15. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Yun Mao)
>
>--__--__--
>
>Message: 1
>Date: Mon, 27 Oct 2003 09:29:29 -0500
>From: Itamar Shtull-Trauring <itamar at itamarst.org>
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] Odd behavior in IRC logbot
>Organization: http://itamarst.org
>Reply-To: twisted-python at twistedmatrix.com
>
>On Mon, 27 Oct 2003 09:15:13 -0500
>"Phillip J. Eby" <pje at telecommunity.com> wrote:
>
>> Um, what logs?
>
>Hm. I suppose you ought to enable logging, yes. Do:
>
>from twisted.python import log
>log.startLogging(open("irc.log", "a"))
>
>somewhere in the file (e.g. in the __main__-only section).
>
>--
>Itamar Shtull-Trauring    http://itamarst.org/
>Available for Python & Twisted consulting
>
>
>--__--__--
>
>Message: 2
>Date: Mon, 27 Oct 2003 11:00:47 -0500
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] authentification from a database
>From: Jp Calderone <exarkun at intarweb.us>
>Reply-To: twisted-python at twistedmatrix.com
>
>
>--TB36FDmn/VVEgNH/
>Content-Type: text/plain; charset=us-ascii
>Content-Disposition: inline
>Content-Transfer-Encoding: quoted-printable
>
>On Mon, Oct 27, 2003 at 09:17:08AM -0500, vicky lupien wrote:
>> I have a program that needs authentification from a database.  For now,
>> it's working fine but I'm using
>> checkers.InMemoryUsernamePasswordDatabaseDontUse(test=3D"test") (I want
>> many users not only "test").  =20
>
>  Use a different checker, such as FilePasswordDB.
>
>  Jp
>
>--TB36FDmn/VVEgNH/
>Content-Type: application/pgp-signature; name="signature.asc"
>Content-Description: Digital signature
>Content-Disposition: inline
>
>-----BEGIN PGP SIGNATURE-----
>Version: GnuPG v1.2.3 (GNU/Linux)
>
>iD8DBQE/nUEvedcO2BJA+4YRAlRCAJ4kAeN49EFmgMbrW3Fd/MNujVKNrwCgstoT
>r3iPt2vNXMjG69p7v0pa/JU=
>=wuRK
>-----END PGP SIGNATURE-----
>
>--TB36FDmn/VVEgNH/--
>
>
>--__--__--
>
>Message: 3
>Date: Mon, 27 Oct 2003 12:13:44 -0500
>From: Itamar Shtull-Trauring <itamar at itamarst.org>
>To: twisted-python at twistedmatrix.com
>Organization: http://itamarst.org
>Subject: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>Reply-To: twisted-python at twistedmatrix.com
>
>What's New in 1.1.0
>===================
>
>- twisted.application, an updated deployment and configuration library.
>
>- Mac OS X GUI event loop integration (requires PyObjC).
>
>- New howtos, including a tutorial, and more web framework docs.
>
>- The documentation is now better organized, up-to-date with the latest
>APIs, and in some areas much more extensive.
>
>- Removed a number of broken, unmaintained and unused packages and
>modules.
>
>- Bug fixes and feature enhancements.
>
>
>--__--__--
>
>Message: 4
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
>	internet
>From: Philippe =?ISO-8859-1?Q?Lafoucri=E8re?= <lafou at wanadoo.fr>
>To: Twisted <twisted-python at twistedmatrix.com>
>Organization: InFuzzion
>Date: Mon, 27 Oct 2003 18:56:04 +0100
>Reply-To: twisted-python at twistedmatrix.com
>
>Great work guys ! twisted is the python/network killer app
>
>On Mon, 2003-10-27 at 18:13, Itamar Shtull-Trauring wrote:
>> What's New in 1.1.0
>> ===================
>>
>> - twisted.application, an updated deployment and configuration library.
>>
>> - Mac OS X GUI event loop integration (requires PyObjC).
>>
>> - New howtos, including a tutorial, and more web framework docs.
>>
>> - The documentation is now better organized, up-to-date with the latest
>> APIs, and in some areas much more extensive.
>>
>> - Removed a number of broken, unmaintained and unused packages and
>> modules.
>>
>> - Bug fixes and feature enhancements.
>>
>> _______________________________________________
>> Twisted-Python mailing list
>> Twisted-Python at twistedmatrix.com
>> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
>
>
>--__--__--
>
>Message: 5
>From: soso <duke99 at email.ro>
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>Date: Mon, 27 Oct 2003 20:57:21 +0200
>Reply-To: twisted-python at twistedmatrix.com
>
>Thanks for the great work!
>
>But I can't find the windows installer. Or there isn't a windows installer for 1.1?
>
>soso
>
>
>______________________________________________________________________
>Do you want a free e-mail for life ? Get it at http://www.email.ro/
>
>
>
>--__--__--
>
>Message: 6
>Date: Mon, 27 Oct 2003 20:36:21 +0100
>From: Matteo Giacomazzi <matteo.giacomazzi at libero.it>
>To: twisted-python at twistedmatrix.com
>Subject: [Twisted-Python] Post data
>Reply-To: twisted-python at twistedmatrix.com
>
>Hi all,
>
>  I need to query a remote HTTP server using POST method.
>  To achieve this, I use the t.w.c.getPage function.
>  In  order  to  post  some  data, I pass to that function the keyword
>  postdata  bound  to  an urllib.urlencode()-d dictionary but it seems
>  that such data is not sent at all.
>
>  What is wrong?
>  Here  is  a  minimal  example:  the url is a PHP scripts that simply
>  dumps  the  content  of  the  $_POST  variable,  but  it is an empty
>  array...
>
>  Any help would be greatly appreciated!
>
>#=============================================
>from twisted.web.client import getPage
>from twisted.internet import reactor
>import urllib
>
>def printData(data):
>    print data
>    reactor.stop()
>
>payload = urllib.urlencode({'test':'the test'})
>url = 'http://www.hotelsprovider.com/~matteo'
>d = getPage(url, postdata=payload, timeout=5)
>d.addCallback(printData)
>reactor.run()
>#=============================================
>
>  Many thanks in advance!
>
>
>Kind regards
> Matteo
>
>
>
>--__--__--
>
>Message: 7
>Date: Mon, 27 Oct 2003 20:47:13 +0100
>From: Matteo Giacomazzi <matteo.giacomazzi at libero.it>
>To: twisted-python at twistedmatrix.com
>Subject: [Twisted-Python] Re: Post data
>Reply-To: twisted-python at twistedmatrix.com
>
>UPDATE:  I  forgot  to  use  the  method='POST'  keyword param, but no
>results yet...
>
>#==========================================================
>from twisted.web.client import getPage
>from twisted.internet import reactor
>import urllib
>
>def printData(data):
>    print data
>    reactor.stop()
>
>payload = urllib.urlencode({'test':'the test'})
>url = 'http://www.hotelsprovider.com/~matteo'
>d = getPage(url, method='POST', postdata=payload, timeout=5)
>d.addCallback(printData)
>reactor.run()
>#==========================================================
>
>Many thanks in advance!
>
>
>Kind regards
> Matteo
>
>
>
>--__--__--
>
>Message: 8
>Date: Mon, 27 Oct 2003 21:28:17 +0100
>From: Martin.Moellenbeck at t-online.de (=?ISO-8859-1?Q?Martin_M=F6llenbeck?=)
>To:  twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
> internet
>Reply-To: twisted-python at twistedmatrix.com
>
>very cool framework and you all have made a very good work.
>
>regards Martin
>
>Itamar Shtull-Trauring wrote:
>
>>What's New in 1.1.0
>>===================
>>
>>- twisted.application, an updated deployment and configuration library.
>>
>>- Mac OS X GUI event loop integration (requires PyObjC).
>>
>>- New howtos, including a tutorial, and more web framework docs.
>>
>>- The documentation is now better organized, up-to-date with the latest
>>APIs, and in some areas much more extensive.
>>
>>- Removed a number of broken, unmaintained and unused packages and
>>modules.
>>
>>- Bug fixes and feature enhancements.
>>
>>_______________________________________________
>>Twisted-Python mailing list
>>Twisted-Python at twistedmatrix.com
>>http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>>
>>
>>
>
>
>
>
>--__--__--
>
>Message: 9
>Date: Mon, 27 Oct 2003 16:46:36 -0500
>From: Abe Fettig <abe at fettig.net>
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
> internet
>Reply-To: twisted-python at twistedmatrix.com
>
>Looks like a great release... and it even has updated woven docs!
>Thanks for all the work you guys have put into Twisted!
>
>Abe
>
>Itamar Shtull-Trauring wrote:
>> What's New in 1.1.0
>
>
>
>
>--__--__--
>
>Message: 10
>Date: Mon, 27 Oct 2003 16:08:30 -0600 (CST)
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>From: "darryl" <developer at csrules.dyndns.org>
>To: <twisted-python at twistedmatrix.com>
>Cc: <abe at fettig.net>
>Reply-To: twisted-python at twistedmatrix.com
>
>
>
>> Looks like a great release... and it even has updated woven docs!
>
>The question is, does anyone want to focus on learing woven with NEW wove=
>n
>in the works?
>
>-darryl
>
>
>
>
>--__--__--
>
>Message: 11
>Date: Mon, 27 Oct 2003 17:13:35 -0500
>From: Glyph Lefkowitz <glyph at twistedmatrix.com>
>To:  twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
> internet
>Reply-To: twisted-python at twistedmatrix.com
>
>darryl wrote:
>
>>>Looks like a great release... and it even has updated woven docs!
>
>> The question is, does anyone want to focus on learing woven with NEW woven
>> in the works?
>
>An unfortunate last-minute change of direction, but worth it considering
>how vastly improved the new code is.
>
>It's no longer a part of Twisted, however.  Check out Quotient CVS -
>www.divmod.org
>
>
>
>--__--__--
>
>Message: 12
>Date: Mon, 27 Oct 2003 16:23:26 -0600 (CST)
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>From: "darryl" <developer at csrules.dyndns.org>
>To: <twisted-python at twistedmatrix.com>
>Cc: <glyph at twistedmatrix.com>
>Reply-To: twisted-python at twistedmatrix.com
>
>
>>> The question is, does anyone want to focus on learing woven with NEW
>>> woven in the works?
>>
>> An unfortunate last-minute change of direction, but worth it considerin=
>g
>>  how vastly improved the new code is.
>>
>> It's no longer a part of Twisted, however.  Check out Quotient CVS -
>> www.divmod.org
>
>May i ask why it's not part of twisted?
>And if that's the case will Woven be maintained?
>
>-Darryl
>
>
>
>
>--__--__--
>
>Message: 13
>From: Donovan Preston <dp at twistedmatrix.com>
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>Date: Mon, 27 Oct 2003 17:56:08 -0500
>To: twisted-python at twistedmatrix.com
>Reply-To: twisted-python at twistedmatrix.com
>
>
>On Oct 27, 2003, at 5:23 PM, darryl wrote:
>
>>
>>>> The question is, does anyone want to focus on learing woven with NEW
>>>> woven in the works?
>
>Woven is certainly very usable in it's current state -- if you want to
>do simple-to-moderate things quickly, it can be very useful. However,
>it's complexity made it difficult to do some of the more ambitious
>things we are trying to do, such as semi-transparent form handling, and
>serverToClient events. But there are a few people who have built (and
>deployed) fairly complex woven applications. The fact that nevow exists
>doesn't detract from that.
>
>nevow was originally a research project -- a weekend's worth of hacking
>whose benefits turned out to be so great that we decided to focus on
>bringing it up to a usable state for Quotient as soon as possible. And
>that's where it is now.
>
>Most of the woven concepts -- template and code abstraction using a
>DOM, reusable partial page renderers (Widgets in old woven, renderer
>callables in nevow), all of the concepts needed to know to use
>twisted.web -- carry over to nevow. The only thing that's really
>changed in nevow is a few names, and the code is VASTLY simplified,
>well tested, and thus far easier to understand, design semantics for,
>and change.
>
>>> An unfortunate last-minute change of direction, but worth it
>>> considering
>>>  how vastly improved the new code is.
>>>
>>> It's no longer a part of Twisted, however.  Check out Quotient CVS -
>>> www.divmod.org
>>
>> May i ask why it's not part of twisted?
>> And if that's the case will Woven be maintained?
>
>nevow will be moved into twisted after a period of
>stabilization/development in Quotient. Since twisted is a large project
>with many external developers using it, and quotient is a smaller
>project that is mostly a small core team of development, we felt it
>made sense to keep it out of twisted proper until the development had
>stabilized. Since nevow has the benefit of being a complete rewrite of
>all the *best* parts of woven, and none of the bad, stabilization has
>been remarkably quick. So expect to see nevow in twisted fairly soon.
>
>In the meantime, woven will continue to be maintained with bugfixes,
>and nevow is fully usable outside of quotient -- even to the point of
>being fully usable without twisted.web (as a cgi, or in zope or
>webware, for example). I should also mention that there will probably
>be a compatibility layer for nevow to render old-style Woven classes
>sometime in the future. It is amazingly simple to add rendering
>functionality to it since it uses components to render the dom (which
>is really just a list of any python objects)
>
>If you are doing any new development, I highly encourage you to take a
>look at nevow, if for no other reason than you can have a hand in
>shaping it's development. I would very much appreciate feedback about
>it, especially now, since the code is very, very short and readable.
>
>dp
>
>
>
>--__--__--
>
>Message: 14
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
>	internet
>From: Federico Di Gregorio <fog at initd.org>
>To: Twisted Mailing List <twisted-python at twistedmatrix.com>
>Organization: init.d
>Date: Tue, 28 Oct 2003 00:07:32 +0100
>Reply-To: twisted-python at twistedmatrix.com
>
>
>--=-DoAh4xSvNTURCciuKWCu
>Content-Type: text/plain
>Content-Transfer-Encoding: quoted-printable
>
>Il lun, 2003-10-27 alle 23:56, Donovan Preston ha scritto:
>> On Oct 27, 2003, at 5:23 PM, darryl wrote:
>>=20
>> >
>> >>> The question is, does anyone want to focus on learing woven with NEW
>> >>> woven in the works?
>>=20
>> Woven is certainly very usable in it's current state -- if you want to=20
>
>after using it in a real life project i disagree. woven has lots of
>problems that surface when you switch from "simple examples" to
>"moderate real-life use cases". i was about to write a lenghty mail
>about that shortcomings (like control not updating the model and needing
>a "name" attribute in the node even it they don't use it, etc.) but then
>two people told me about nevow in irc. looking at it right now.
>
>> nevow was originally a research project -- a weekend's worth of hacking=20
>> whose benefits turned out to be so great that we decided to focus on=20
>> bringing it up to a usable state for Quotient as soon as possible. And=20
>> that's where it is now.
>
>"we", "we". maybe i talked with you in irc.
>
>> Most of the woven concepts -- template and code abstraction using a=20
>> DOM, reusable partial page renderers (Widgets in old woven, renderer=20
>> callables in nevow), all of the concepts needed to know to use=20
>> twisted.web -- carry over to nevow. The only thing that's really=20
>> changed in nevow is a few names, and the code is VASTLY simplified,=20
>> well tested, and thus far easier to understand, design semantics for,=20
>> and change.
>
>KUDOS! :)
>
>--=20
>Federico Di Gregorio
>Debian GNU/Linux Developer                                fog at debian.org
>INIT.D Developer                                           fog at initd.org
>             Quis custodiet ipsos custodes? -- Juvenal, Satires, VI, 347
>
>--=-DoAh4xSvNTURCciuKWCu
>Content-Type: application/pgp-signature; name=signature.asc
>Content-Description: Questa parte del messaggio =?ISO-8859-1?Q?=E8?= firmata
>
>-----BEGIN PGP SIGNATURE-----
>Version: GnuPG v1.2.3 (GNU/Linux)
>
>iD8DBQA/naU0vcCgrgZGjesRAvqQAJ9dtVu4VpryFT1Lh0mnUaYnwE6uaACfQS26
>39BrxFusKQrgFo33vhA/ME0=
>=+JDU
>-----END PGP SIGNATURE-----
>
>--=-DoAh4xSvNTURCciuKWCu--
>
>
>
>--__--__--
>
>Message: 15
>Date: Mon, 27 Oct 2003 18:09:49 -0500 (EST)
>From: Yun Mao <maoy at cis.upenn.edu>
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
> internet
>Reply-To: twisted-python at twistedmatrix.com
>
>I really like the tutorial. Great work!
>
>Yun
>
>
>On Mon, 27 Oct 2003, Itamar Shtull-Trauring wrote:
>
>> What's New in 1.1.0
>> ===================
>>
>> - twisted.application, an updated deployment and configuration library.
>>
>> - Mac OS X GUI event loop integration (requires PyObjC).
>>
>> - New howtos, including a tutorial, and more web framework docs.
>>
>> - The documentation is now better organized, up-to-date with the latest
>> APIs, and in some areas much more extensive.
>>
>> - Removed a number of broken, unmaintained and unused packages and
>> modules.
>>
>> - Bug fixes and feature enhancements.
>>
>> _______________________________________________
>> Twisted-Python mailing list
>> Twisted-Python at twistedmatrix.com
>> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>>
>
>
>
>
>--__--__--
>
>_______________________________________________
>Twisted-Python mailing list
>Twisted-Python at twistedmatrix.com
>http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
>
>End of Twisted-Python Digest
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-python/attachments/20061031/a381e217/attachment.htm 

From moe at divmod.com  Tue Oct 31 14:24:46 2006
From: moe at divmod.com (moe at divmod.com)
Date: Tue, 31 Oct 2006 13:24:46 -0600
Subject: [Twisted-Python] (no subject)
Message-ID: <E1GezE6-0003NN-00@pyramid.twistedmatrix.com>




On 27 Oct 2003, 11:10 , twisted-python-request at twistedmatrix.com wrote:
>Send Twisted-Python mailing list submissions to
>	twisted-python at twistedmatrix.com
>
>To subscribe or unsubscribe via the World Wide Web, visit
>	http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>or, via email, send a message with subject or body 'help' to
>	twisted-python-request at twistedmatrix.com
>
>You can reach the person managing the list at
>	twisted-python-admin at twistedmatrix.com
>
>When replying, please edit your Subject line so it is more specific
>than "Re: Contents of Twisted-Python digest..."
>
>
>Today's Topics:
>
>   1. Re: Odd behavior in IRC logbot (Itamar Shtull-Trauring)
>   2. Re: authentification from a database (Jp Calderone)
>   3. ANN: Twisted 1.1.0, the framework of *your* internet (Itamar Shtull-Trauring)
>   4. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Philippe =?ISO-8859-1?Q?Lafoucri=E8re?=)
>   5. Re: ANN: Twisted 1.1.0, the framework of *your* internet (soso)
>   6. Post data (Matteo Giacomazzi)
>   7. Re: Post data (Matteo Giacomazzi)
>   8. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (=?ISO-8859-1?Q?Martin_M=F6llenbeck?=)
>   9. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Abe Fettig)
>  10. Re: ANN: Twisted 1.1.0, the framework of *your* internet (darryl)
>  11. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Glyph Lefkowitz)
>  12. Re: ANN: Twisted 1.1.0, the framework of *your* internet (darryl)
>  13. Re: ANN: Twisted 1.1.0, the framework of *your* internet (Donovan Preston)
>  14. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Federico Di Gregorio)
>  15. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Yun Mao)
>
>--__--__--
>
>Message: 1
>Date: Mon, 27 Oct 2003 09:29:29 -0500
>From: Itamar Shtull-Trauring <itamar at itamarst.org>
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] Odd behavior in IRC logbot
>Organization: http://itamarst.org
>Reply-To: twisted-python at twistedmatrix.com
>
>On Mon, 27 Oct 2003 09:15:13 -0500
>"Phillip J. Eby" <pje at telecommunity.com> wrote:
>
>> Um, what logs?
>
>Hm. I suppose you ought to enable logging, yes. Do:
>
>from twisted.python import log
>log.startLogging(open("irc.log", "a"))
>
>somewhere in the file (e.g. in the __main__-only section).
>
>--
>Itamar Shtull-Trauring    http://itamarst.org/
>Available for Python & Twisted consulting
>
>
>--__--__--
>
>Message: 2
>Date: Mon, 27 Oct 2003 11:00:47 -0500
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] authentification from a database
>From: Jp Calderone <exarkun at intarweb.us>
>Reply-To: twisted-python at twistedmatrix.com
>
>
>--TB36FDmn/VVEgNH/
>Content-Type: text/plain; charset=us-ascii
>Content-Disposition: inline
>Content-Transfer-Encoding: quoted-printable
>
>On Mon, Oct 27, 2003 at 09:17:08AM -0500, vicky lupien wrote:
>> I have a program that needs authentification from a database.  For now,
>> it's working fine but I'm using
>> checkers.InMemoryUsernamePasswordDatabaseDontUse(test=3D"test") (I want
>> many users not only "test").  =20
>
>  Use a different checker, such as FilePasswordDB.
>
>  Jp
>
>--TB36FDmn/VVEgNH/
>Content-Type: application/pgp-signature; name="signature.asc"
>Content-Description: Digital signature
>Content-Disposition: inline
>
>-----BEGIN PGP SIGNATURE-----
>Version: GnuPG v1.2.3 (GNU/Linux)
>
>iD8DBQE/nUEvedcO2BJA+4YRAlRCAJ4kAeN49EFmgMbrW3Fd/MNujVKNrwCgstoT
>r3iPt2vNXMjG69p7v0pa/JU=
>=wuRK
>-----END PGP SIGNATURE-----
>
>--TB36FDmn/VVEgNH/--
>
>
>--__--__--
>
>Message: 3
>Date: Mon, 27 Oct 2003 12:13:44 -0500
>From: Itamar Shtull-Trauring <itamar at itamarst.org>
>To: twisted-python at twistedmatrix.com
>Organization: http://itamarst.org
>Subject: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>Reply-To: twisted-python at twistedmatrix.com
>
>What's New in 1.1.0
>===================
>
>- twisted.application, an updated deployment and configuration library.
>
>- Mac OS X GUI event loop integration (requires PyObjC).
>
>- New howtos, including a tutorial, and more web framework docs.
>
>- The documentation is now better organized, up-to-date with the latest
>APIs, and in some areas much more extensive.
>
>- Removed a number of broken, unmaintained and unused packages and
>modules.
>
>- Bug fixes and feature enhancements.
>
>
>--__--__--
>
>Message: 4
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
>	internet
>From: Philippe =?ISO-8859-1?Q?Lafoucri=E8re?= <lafou at wanadoo.fr>
>To: Twisted <twisted-python at twistedmatrix.com>
>Organization: InFuzzion
>Date: Mon, 27 Oct 2003 18:56:04 +0100
>Reply-To: twisted-python at twistedmatrix.com
>
>Great work guys ! twisted is the python/network killer app
>
>On Mon, 2003-10-27 at 18:13, Itamar Shtull-Trauring wrote:
>> What's New in 1.1.0
>> ===================
>>
>> - twisted.application, an updated deployment and configuration library.
>>
>> - Mac OS X GUI event loop integration (requires PyObjC).
>>
>> - New howtos, including a tutorial, and more web framework docs.
>>
>> - The documentation is now better organized, up-to-date with the latest
>> APIs, and in some areas much more extensive.
>>
>> - Removed a number of broken, unmaintained and unused packages and
>> modules.
>>
>> - Bug fixes and feature enhancements.
>>
>> _______________________________________________
>> Twisted-Python mailing list
>> Twisted-Python at twistedmatrix.com
>> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
>
>
>--__--__--
>
>Message: 5
>From: soso <duke99 at email.ro>
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>Date: Mon, 27 Oct 2003 20:57:21 +0200
>Reply-To: twisted-python at twistedmatrix.com
>
>Thanks for the great work!
>
>But I can't find the windows installer. Or there isn't a windows installer for 1.1?
>
>soso
>
>
>______________________________________________________________________
>Do you want a free e-mail for life ? Get it at http://www.email.ro/
>
>
>
>--__--__--
>
>Message: 6
>Date: Mon, 27 Oct 2003 20:36:21 +0100
>From: Matteo Giacomazzi <matteo.giacomazzi at libero.it>
>To: twisted-python at twistedmatrix.com
>Subject: [Twisted-Python] Post data
>Reply-To: twisted-python at twistedmatrix.com
>
>Hi all,
>
>  I need to query a remote HTTP server using POST method.
>  To achieve this, I use the t.w.c.getPage function.
>  In  order  to  post  some  data, I pass to that function the keyword
>  postdata  bound  to  an urllib.urlencode()-d dictionary but it seems
>  that such data is not sent at all.
>
>  What is wrong?
>  Here  is  a  minimal  example:  the url is a PHP scripts that simply
>  dumps  the  content  of  the  $_POST  variable,  but  it is an empty
>  array...
>
>  Any help would be greatly appreciated!
>
>#=============================================
>from twisted.web.client import getPage
>from twisted.internet import reactor
>import urllib
>
>def printData(data):
>    print data
>    reactor.stop()
>
>payload = urllib.urlencode({'test':'the test'})
>url = 'http://www.hotelsprovider.com/~matteo'
>d = getPage(url, postdata=payload, timeout=5)
>d.addCallback(printData)
>reactor.run()
>#=============================================
>
>  Many thanks in advance!
>
>
>Kind regards
> Matteo
>
>
>
>--__--__--
>
>Message: 7
>Date: Mon, 27 Oct 2003 20:47:13 +0100
>From: Matteo Giacomazzi <matteo.giacomazzi at libero.it>
>To: twisted-python at twistedmatrix.com
>Subject: [Twisted-Python] Re: Post data
>Reply-To: twisted-python at twistedmatrix.com
>
>UPDATE:  I  forgot  to  use  the  method='POST'  keyword param, but no
>results yet...
>
>#==========================================================
>from twisted.web.client import getPage
>from twisted.internet import reactor
>import urllib
>
>def printData(data):
>    print data
>    reactor.stop()
>
>payload = urllib.urlencode({'test':'the test'})
>url = 'http://www.hotelsprovider.com/~matteo'
>d = getPage(url, method='POST', postdata=payload, timeout=5)
>d.addCallback(printData)
>reactor.run()
>#==========================================================
>
>Many thanks in advance!
>
>
>Kind regards
> Matteo
>
>
>
>--__--__--
>
>Message: 8
>Date: Mon, 27 Oct 2003 21:28:17 +0100
>From: Martin.Moellenbeck at t-online.de (=?ISO-8859-1?Q?Martin_M=F6llenbeck?=)
>To:  twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
> internet
>Reply-To: twisted-python at twistedmatrix.com
>
>very cool framework and you all have made a very good work.
>
>regards Martin
>
>Itamar Shtull-Trauring wrote:
>
>>What's New in 1.1.0
>>===================
>>
>>- twisted.application, an updated deployment and configuration library.
>>
>>- Mac OS X GUI event loop integration (requires PyObjC).
>>
>>- New howtos, including a tutorial, and more web framework docs.
>>
>>- The documentation is now better organized, up-to-date with the latest
>>APIs, and in some areas much more extensive.
>>
>>- Removed a number of broken, unmaintained and unused packages and
>>modules.
>>
>>- Bug fixes and feature enhancements.
>>
>>_______________________________________________
>>Twisted-Python mailing list
>>Twisted-Python at twistedmatrix.com
>>http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>>
>>
>>
>
>
>
>
>--__--__--
>
>Message: 9
>Date: Mon, 27 Oct 2003 16:46:36 -0500
>From: Abe Fettig <abe at fettig.net>
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
> internet
>Reply-To: twisted-python at twistedmatrix.com
>
>Looks like a great release... and it even has updated woven docs!
>Thanks for all the work you guys have put into Twisted!
>
>Abe
>
>Itamar Shtull-Trauring wrote:
>> What's New in 1.1.0
>
>
>
>
>--__--__--
>
>Message: 10
>Date: Mon, 27 Oct 2003 16:08:30 -0600 (CST)
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>From: "darryl" <developer at csrules.dyndns.org>
>To: <twisted-python at twistedmatrix.com>
>Cc: <abe at fettig.net>
>Reply-To: twisted-python at twistedmatrix.com
>
>
>
>> Looks like a great release... and it even has updated woven docs!
>
>The question is, does anyone want to focus on learing woven with NEW wove=
>n
>in the works?
>
>-darryl
>
>
>
>
>--__--__--
>
>Message: 11
>Date: Mon, 27 Oct 2003 17:13:35 -0500
>From: Glyph Lefkowitz <glyph at twistedmatrix.com>
>To:  twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
> internet
>Reply-To: twisted-python at twistedmatrix.com
>
>darryl wrote:
>
>>>Looks like a great release... and it even has updated woven docs!
>
>> The question is, does anyone want to focus on learing woven with NEW woven
>> in the works?
>
>An unfortunate last-minute change of direction, but worth it considering
>how vastly improved the new code is.
>
>It's no longer a part of Twisted, however.  Check out Quotient CVS -
>www.divmod.org
>
>
>
>--__--__--
>
>Message: 12
>Date: Mon, 27 Oct 2003 16:23:26 -0600 (CST)
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>From: "darryl" <developer at csrules.dyndns.org>
>To: <twisted-python at twistedmatrix.com>
>Cc: <glyph at twistedmatrix.com>
>Reply-To: twisted-python at twistedmatrix.com
>
>
>>> The question is, does anyone want to focus on learing woven with NEW
>>> woven in the works?
>>
>> An unfortunate last-minute change of direction, but worth it considerin=
>g
>>  how vastly improved the new code is.
>>
>> It's no longer a part of Twisted, however.  Check out Quotient CVS -
>> www.divmod.org
>
>May i ask why it's not part of twisted?
>And if that's the case will Woven be maintained?
>
>-Darryl
>
>
>
>
>--__--__--
>
>Message: 13
>From: Donovan Preston <dp at twistedmatrix.com>
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>Date: Mon, 27 Oct 2003 17:56:08 -0500
>To: twisted-python at twistedmatrix.com
>Reply-To: twisted-python at twistedmatrix.com
>
>
>On Oct 27, 2003, at 5:23 PM, darryl wrote:
>
>>
>>>> The question is, does anyone want to focus on learing woven with NEW
>>>> woven in the works?
>
>Woven is certainly very usable in it's current state -- if you want to
>do simple-to-moderate things quickly, it can be very useful. However,
>it's complexity made it difficult to do some of the more ambitious
>things we are trying to do, such as semi-transparent form handling, and
>serverToClient events. But there are a few people who have built (and
>deployed) fairly complex woven applications. The fact that nevow exists
>doesn't detract from that.
>
>nevow was originally a research project -- a weekend's worth of hacking
>whose benefits turned out to be so great that we decided to focus on
>bringing it up to a usable state for Quotient as soon as possible. And
>that's where it is now.
>
>Most of the woven concepts -- template and code abstraction using a
>DOM, reusable partial page renderers (Widgets in old woven, renderer
>callables in nevow), all of the concepts needed to know to use
>twisted.web -- carry over to nevow. The only thing that's really
>changed in nevow is a few names, and the code is VASTLY simplified,
>well tested, and thus far easier to understand, design semantics for,
>and change.
>
>>> An unfortunate last-minute change of direction, but worth it
>>> considering
>>>  how vastly improved the new code is.
>>>
>>> It's no longer a part of Twisted, however.  Check out Quotient CVS -
>>> www.divmod.org
>>
>> May i ask why it's not part of twisted?
>> And if that's the case will Woven be maintained?
>
>nevow will be moved into twisted after a period of
>stabilization/development in Quotient. Since twisted is a large project
>with many external developers using it, and quotient is a smaller
>project that is mostly a small core team of development, we felt it
>made sense to keep it out of twisted proper until the development had
>stabilized. Since nevow has the benefit of being a complete rewrite of
>all the *best* parts of woven, and none of the bad, stabilization has
>been remarkably quick. So expect to see nevow in twisted fairly soon.
>
>In the meantime, woven will continue to be maintained with bugfixes,
>and nevow is fully usable outside of quotient -- even to the point of
>being fully usable without twisted.web (as a cgi, or in zope or
>webware, for example). I should also mention that there will probably
>be a compatibility layer for nevow to render old-style Woven classes
>sometime in the future. It is amazingly simple to add rendering
>functionality to it since it uses components to render the dom (which
>is really just a list of any python objects)
>
>If you are doing any new development, I highly encourage you to take a
>look at nevow, if for no other reason than you can have a hand in
>shaping it's development. I would very much appreciate feedback about
>it, especially now, since the code is very, very short and readable.
>
>dp
>
>
>
>--__--__--
>
>Message: 14
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
>	internet
>From: Federico Di Gregorio <fog at initd.org>
>To: Twisted Mailing List <twisted-python at twistedmatrix.com>
>Organization: init.d
>Date: Tue, 28 Oct 2003 00:07:32 +0100
>Reply-To: twisted-python at twistedmatrix.com
>
>
>--=-DoAh4xSvNTURCciuKWCu
>Content-Type: text/plain
>Content-Transfer-Encoding: quoted-printable
>
>Il lun, 2003-10-27 alle 23:56, Donovan Preston ha scritto:
>> On Oct 27, 2003, at 5:23 PM, darryl wrote:
>>=20
>> >
>> >>> The question is, does anyone want to focus on learing woven with NEW
>> >>> woven in the works?
>>=20
>> Woven is certainly very usable in it's current state -- if you want to=20
>
>after using it in a real life project i disagree. woven has lots of
>problems that surface when you switch from "simple examples" to
>"moderate real-life use cases". i was about to write a lenghty mail
>about that shortcomings (like control not updating the model and needing
>a "name" attribute in the node even it they don't use it, etc.) but then
>two people told me about nevow in irc. looking at it right now.
>
>> nevow was originally a research project -- a weekend's worth of hacking=20
>> whose benefits turned out to be so great that we decided to focus on=20
>> bringing it up to a usable state for Quotient as soon as possible. And=20
>> that's where it is now.
>
>"we", "we". maybe i talked with you in irc.
>
>> Most of the woven concepts -- template and code abstraction using a=20
>> DOM, reusable partial page renderers (Widgets in old woven, renderer=20
>> callables in nevow), all of the concepts needed to know to use=20
>> twisted.web -- carry over to nevow. The only thing that's really=20
>> changed in nevow is a few names, and the code is VASTLY simplified,=20
>> well tested, and thus far easier to understand, design semantics for,=20
>> and change.
>
>KUDOS! :)
>
>--=20
>Federico Di Gregorio
>Debian GNU/Linux Developer                                fog at debian.org
>INIT.D Developer                                           fog at initd.org
>             Quis custodiet ipsos custodes? -- Juvenal, Satires, VI, 347
>
>--=-DoAh4xSvNTURCciuKWCu
>Content-Type: application/pgp-signature; name=signature.asc
>Content-Description: Questa parte del messaggio =?ISO-8859-1?Q?=E8?= firmata
>
>-----BEGIN PGP SIGNATURE-----
>Version: GnuPG v1.2.3 (GNU/Linux)
>
>iD8DBQA/naU0vcCgrgZGjesRAvqQAJ9dtVu4VpryFT1Lh0mnUaYnwE6uaACfQS26
>39BrxFusKQrgFo33vhA/ME0=
>=+JDU
>-----END PGP SIGNATURE-----
>
>--=-DoAh4xSvNTURCciuKWCu--
>
>
>
>--__--__--
>
>Message: 15
>Date: Mon, 27 Oct 2003 18:09:49 -0500 (EST)
>From: Yun Mao <maoy at cis.upenn.edu>
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
> internet
>Reply-To: twisted-python at twistedmatrix.com
>
>I really like the tutorial. Great work!
>
>Yun
>
>
>On Mon, 27 Oct 2003, Itamar Shtull-Trauring wrote:
>
>> What's New in 1.1.0
>> ===================
>>
>> - twisted.application, an updated deployment and configuration library.
>>
>> - Mac OS X GUI event loop integration (requires PyObjC).
>>
>> - New howtos, including a tutorial, and more web framework docs.
>>
>> - The documentation is now better organized, up-to-date with the latest
>> APIs, and in some areas much more extensive.
>>
>> - Removed a number of broken, unmaintained and unused packages and
>> modules.
>>
>> - Bug fixes and feature enhancements.
>>
>> _______________________________________________
>> Twisted-Python mailing list
>> Twisted-Python at twistedmatrix.com
>> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>>
>
>
>
>
>--__--__--
>
>_______________________________________________
>Twisted-Python mailing list
>Twisted-Python at twistedmatrix.com
>http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
>
>End of Twisted-Python Digest
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-python/attachments/20061031/51556f35/attachment.htm 

From moe at divmod.com  Tue Oct 31 18:14:46 2006
From: moe at divmod.com (moe at divmod.com)
Date: Tue, 31 Oct 2006 17:14:46 -0600
Subject: [Twisted-Python] (no subject)
Message-ID: <E1Gf2of-0001PQ-00@pyramid.twistedmatrix.com>




On 27 Oct 2003, 11:10 , twisted-python-request at twistedmatrix.com wrote:
>Send Twisted-Python mailing list submissions to
>	twisted-python at twistedmatrix.com
>
>To subscribe or unsubscribe via the World Wide Web, visit
>	http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>or, via email, send a message with subject or body 'help' to
>	twisted-python-request at twistedmatrix.com
>
>You can reach the person managing the list at
>	twisted-python-admin at twistedmatrix.com
>
>When replying, please edit your Subject line so it is more specific
>than "Re: Contents of Twisted-Python digest..."
>
>
>Today's Topics:
>
>   1. Re: Odd behavior in IRC logbot (Itamar Shtull-Trauring)
>   2. Re: authentification from a database (Jp Calderone)
>   3. ANN: Twisted 1.1.0, the framework of *your* internet (Itamar Shtull-Trauring)
>   4. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Philippe =?ISO-8859-1?Q?Lafoucri=E8re?=)
>   5. Re: ANN: Twisted 1.1.0, the framework of *your* internet (soso)
>   6. Post data (Matteo Giacomazzi)
>   7. Re: Post data (Matteo Giacomazzi)
>   8. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (=?ISO-8859-1?Q?Martin_M=F6llenbeck?=)
>   9. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Abe Fettig)
>  10. Re: ANN: Twisted 1.1.0, the framework of *your* internet (darryl)
>  11. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Glyph Lefkowitz)
>  12. Re: ANN: Twisted 1.1.0, the framework of *your* internet (darryl)
>  13. Re: ANN: Twisted 1.1.0, the framework of *your* internet (Donovan Preston)
>  14. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Federico Di Gregorio)
>  15. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Yun Mao)
>
>--__--__--
>
>Message: 1
>Date: Mon, 27 Oct 2003 09:29:29 -0500
>From: Itamar Shtull-Trauring <itamar at itamarst.org>
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] Odd behavior in IRC logbot
>Organization: http://itamarst.org
>Reply-To: twisted-python at twistedmatrix.com
>
>On Mon, 27 Oct 2003 09:15:13 -0500
>"Phillip J. Eby" <pje at telecommunity.com> wrote:
>
>> Um, what logs?
>
>Hm. I suppose you ought to enable logging, yes. Do:
>
>from twisted.python import log
>log.startLogging(open("irc.log", "a"))
>
>somewhere in the file (e.g. in the __main__-only section).
>
>--
>Itamar Shtull-Trauring    http://itamarst.org/
>Available for Python & Twisted consulting
>
>
>--__--__--
>
>Message: 2
>Date: Mon, 27 Oct 2003 11:00:47 -0500
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] authentification from a database
>From: Jp Calderone <exarkun at intarweb.us>
>Reply-To: twisted-python at twistedmatrix.com
>
>
>--TB36FDmn/VVEgNH/
>Content-Type: text/plain; charset=us-ascii
>Content-Disposition: inline
>Content-Transfer-Encoding: quoted-printable
>
>On Mon, Oct 27, 2003 at 09:17:08AM -0500, vicky lupien wrote:
>> I have a program that needs authentification from a database.  For now,
>> it's working fine but I'm using
>> checkers.InMemoryUsernamePasswordDatabaseDontUse(test=3D"test") (I want
>> many users not only "test").  =20
>
>  Use a different checker, such as FilePasswordDB.
>
>  Jp
>
>--TB36FDmn/VVEgNH/
>Content-Type: application/pgp-signature; name="signature.asc"
>Content-Description: Digital signature
>Content-Disposition: inline
>
>-----BEGIN PGP SIGNATURE-----
>Version: GnuPG v1.2.3 (GNU/Linux)
>
>iD8DBQE/nUEvedcO2BJA+4YRAlRCAJ4kAeN49EFmgMbrW3Fd/MNujVKNrwCgstoT
>r3iPt2vNXMjG69p7v0pa/JU=
>=wuRK
>-----END PGP SIGNATURE-----
>
>--TB36FDmn/VVEgNH/--
>
>
>--__--__--
>
>Message: 3
>Date: Mon, 27 Oct 2003 12:13:44 -0500
>From: Itamar Shtull-Trauring <itamar at itamarst.org>
>To: twisted-python at twistedmatrix.com
>Organization: http://itamarst.org
>Subject: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>Reply-To: twisted-python at twistedmatrix.com
>
>What's New in 1.1.0
>===================
>
>- twisted.application, an updated deployment and configuration library.
>
>- Mac OS X GUI event loop integration (requires PyObjC).
>
>- New howtos, including a tutorial, and more web framework docs.
>
>- The documentation is now better organized, up-to-date with the latest
>APIs, and in some areas much more extensive.
>
>- Removed a number of broken, unmaintained and unused packages and
>modules.
>
>- Bug fixes and feature enhancements.
>
>
>--__--__--
>
>Message: 4
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
>	internet
>From: Philippe =?ISO-8859-1?Q?Lafoucri=E8re?= <lafou at wanadoo.fr>
>To: Twisted <twisted-python at twistedmatrix.com>
>Organization: InFuzzion
>Date: Mon, 27 Oct 2003 18:56:04 +0100
>Reply-To: twisted-python at twistedmatrix.com
>
>Great work guys ! twisted is the python/network killer app
>
>On Mon, 2003-10-27 at 18:13, Itamar Shtull-Trauring wrote:
>> What's New in 1.1.0
>> ===================
>>
>> - twisted.application, an updated deployment and configuration library.
>>
>> - Mac OS X GUI event loop integration (requires PyObjC).
>>
>> - New howtos, including a tutorial, and more web framework docs.
>>
>> - The documentation is now better organized, up-to-date with the latest
>> APIs, and in some areas much more extensive.
>>
>> - Removed a number of broken, unmaintained and unused packages and
>> modules.
>>
>> - Bug fixes and feature enhancements.
>>
>> _______________________________________________
>> Twisted-Python mailing list
>> Twisted-Python at twistedmatrix.com
>> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
>
>
>--__--__--
>
>Message: 5
>From: soso <duke99 at email.ro>
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>Date: Mon, 27 Oct 2003 20:57:21 +0200
>Reply-To: twisted-python at twistedmatrix.com
>
>Thanks for the great work!
>
>But I can't find the windows installer. Or there isn't a windows installer for 1.1?
>
>soso
>
>
>______________________________________________________________________
>Do you want a free e-mail for life ? Get it at http://www.email.ro/
>
>
>
>--__--__--
>
>Message: 6
>Date: Mon, 27 Oct 2003 20:36:21 +0100
>From: Matteo Giacomazzi <matteo.giacomazzi at libero.it>
>To: twisted-python at twistedmatrix.com
>Subject: [Twisted-Python] Post data
>Reply-To: twisted-python at twistedmatrix.com
>
>Hi all,
>
>  I need to query a remote HTTP server using POST method.
>  To achieve this, I use the t.w.c.getPage function.
>  In  order  to  post  some  data, I pass to that function the keyword
>  postdata  bound  to  an urllib.urlencode()-d dictionary but it seems
>  that such data is not sent at all.
>
>  What is wrong?
>  Here  is  a  minimal  example:  the url is a PHP scripts that simply
>  dumps  the  content  of  the  $_POST  variable,  but  it is an empty
>  array...
>
>  Any help would be greatly appreciated!
>
>#=============================================
>from twisted.web.client import getPage
>from twisted.internet import reactor
>import urllib
>
>def printData(data):
>    print data
>    reactor.stop()
>
>payload = urllib.urlencode({'test':'the test'})
>url = 'http://www.hotelsprovider.com/~matteo'
>d = getPage(url, postdata=payload, timeout=5)
>d.addCallback(printData)
>reactor.run()
>#=============================================
>
>  Many thanks in advance!
>
>
>Kind regards
> Matteo
>
>
>
>--__--__--
>
>Message: 7
>Date: Mon, 27 Oct 2003 20:47:13 +0100
>From: Matteo Giacomazzi <matteo.giacomazzi at libero.it>
>To: twisted-python at twistedmatrix.com
>Subject: [Twisted-Python] Re: Post data
>Reply-To: twisted-python at twistedmatrix.com
>
>UPDATE:  I  forgot  to  use  the  method='POST'  keyword param, but no
>results yet...
>
>#==========================================================
>from twisted.web.client import getPage
>from twisted.internet import reactor
>import urllib
>
>def printData(data):
>    print data
>    reactor.stop()
>
>payload = urllib.urlencode({'test':'the test'})
>url = 'http://www.hotelsprovider.com/~matteo'
>d = getPage(url, method='POST', postdata=payload, timeout=5)
>d.addCallback(printData)
>reactor.run()
>#==========================================================
>
>Many thanks in advance!
>
>
>Kind regards
> Matteo
>
>
>
>--__--__--
>
>Message: 8
>Date: Mon, 27 Oct 2003 21:28:17 +0100
>From: Martin.Moellenbeck at t-online.de (=?ISO-8859-1?Q?Martin_M=F6llenbeck?=)
>To:  twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
> internet
>Reply-To: twisted-python at twistedmatrix.com
>
>very cool framework and you all have made a very good work.
>
>regards Martin
>
>Itamar Shtull-Trauring wrote:
>
>>What's New in 1.1.0
>>===================
>>
>>- twisted.application, an updated deployment and configuration library.
>>
>>- Mac OS X GUI event loop integration (requires PyObjC).
>>
>>- New howtos, including a tutorial, and more web framework docs.
>>
>>- The documentation is now better organized, up-to-date with the latest
>>APIs, and in some areas much more extensive.
>>
>>- Removed a number of broken, unmaintained and unused packages and
>>modules.
>>
>>- Bug fixes and feature enhancements.
>>
>>_______________________________________________
>>Twisted-Python mailing list
>>Twisted-Python at twistedmatrix.com
>>http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>>
>>
>>
>
>
>
>
>--__--__--
>
>Message: 9
>Date: Mon, 27 Oct 2003 16:46:36 -0500
>From: Abe Fettig <abe at fettig.net>
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
> internet
>Reply-To: twisted-python at twistedmatrix.com
>
>Looks like a great release... and it even has updated woven docs!
>Thanks for all the work you guys have put into Twisted!
>
>Abe
>
>Itamar Shtull-Trauring wrote:
>> What's New in 1.1.0
>
>
>
>
>--__--__--
>
>Message: 10
>Date: Mon, 27 Oct 2003 16:08:30 -0600 (CST)
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>From: "darryl" <developer at csrules.dyndns.org>
>To: <twisted-python at twistedmatrix.com>
>Cc: <abe at fettig.net>
>Reply-To: twisted-python at twistedmatrix.com
>
>
>
>> Looks like a great release... and it even has updated woven docs!
>
>The question is, does anyone want to focus on learing woven with NEW wove=
>n
>in the works?
>
>-darryl
>
>
>
>
>--__--__--
>
>Message: 11
>Date: Mon, 27 Oct 2003 17:13:35 -0500
>From: Glyph Lefkowitz <glyph at twistedmatrix.com>
>To:  twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
> internet
>Reply-To: twisted-python at twistedmatrix.com
>
>darryl wrote:
>
>>>Looks like a great release... and it even has updated woven docs!
>
>> The question is, does anyone want to focus on learing woven with NEW woven
>> in the works?
>
>An unfortunate last-minute change of direction, but worth it considering
>how vastly improved the new code is.
>
>It's no longer a part of Twisted, however.  Check out Quotient CVS -
>www.divmod.org
>
>
>
>--__--__--
>
>Message: 12
>Date: Mon, 27 Oct 2003 16:23:26 -0600 (CST)
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>From: "darryl" <developer at csrules.dyndns.org>
>To: <twisted-python at twistedmatrix.com>
>Cc: <glyph at twistedmatrix.com>
>Reply-To: twisted-python at twistedmatrix.com
>
>
>>> The question is, does anyone want to focus on learing woven with NEW
>>> woven in the works?
>>
>> An unfortunate last-minute change of direction, but worth it considerin=
>g
>>  how vastly improved the new code is.
>>
>> It's no longer a part of Twisted, however.  Check out Quotient CVS -
>> www.divmod.org
>
>May i ask why it's not part of twisted?
>And if that's the case will Woven be maintained?
>
>-Darryl
>
>
>
>
>--__--__--
>
>Message: 13
>From: Donovan Preston <dp at twistedmatrix.com>
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>Date: Mon, 27 Oct 2003 17:56:08 -0500
>To: twisted-python at twistedmatrix.com
>Reply-To: twisted-python at twistedmatrix.com
>
>
>On Oct 27, 2003, at 5:23 PM, darryl wrote:
>
>>
>>>> The question is, does anyone want to focus on learing woven with NEW
>>>> woven in the works?
>
>Woven is certainly very usable in it's current state -- if you want to
>do simple-to-moderate things quickly, it can be very useful. However,
>it's complexity made it difficult to do some of the more ambitious
>things we are trying to do, such as semi-transparent form handling, and
>serverToClient events. But there are a few people who have built (and
>deployed) fairly complex woven applications. The fact that nevow exists
>doesn't detract from that.
>
>nevow was originally a research project -- a weekend's worth of hacking
>whose benefits turned out to be so great that we decided to focus on
>bringing it up to a usable state for Quotient as soon as possible. And
>that's where it is now.
>
>Most of the woven concepts -- template and code abstraction using a
>DOM, reusable partial page renderers (Widgets in old woven, renderer
>callables in nevow), all of the concepts needed to know to use
>twisted.web -- carry over to nevow. The only thing that's really
>changed in nevow is a few names, and the code is VASTLY simplified,
>well tested, and thus far easier to understand, design semantics for,
>and change.
>
>>> An unfortunate last-minute change of direction, but worth it
>>> considering
>>>  how vastly improved the new code is.
>>>
>>> It's no longer a part of Twisted, however.  Check out Quotient CVS -
>>> www.divmod.org
>>
>> May i ask why it's not part of twisted?
>> And if that's the case will Woven be maintained?
>
>nevow will be moved into twisted after a period of
>stabilization/development in Quotient. Since twisted is a large project
>with many external developers using it, and quotient is a smaller
>project that is mostly a small core team of development, we felt it
>made sense to keep it out of twisted proper until the development had
>stabilized. Since nevow has the benefit of being a complete rewrite of
>all the *best* parts of woven, and none of the bad, stabilization has
>been remarkably quick. So expect to see nevow in twisted fairly soon.
>
>In the meantime, woven will continue to be maintained with bugfixes,
>and nevow is fully usable outside of quotient -- even to the point of
>being fully usable without twisted.web (as a cgi, or in zope or
>webware, for example). I should also mention that there will probably
>be a compatibility layer for nevow to render old-style Woven classes
>sometime in the future. It is amazingly simple to add rendering
>functionality to it since it uses components to render the dom (which
>is really just a list of any python objects)
>
>If you are doing any new development, I highly encourage you to take a
>look at nevow, if for no other reason than you can have a hand in
>shaping it's development. I would very much appreciate feedback about
>it, especially now, since the code is very, very short and readable.
>
>dp
>
>
>
>--__--__--
>
>Message: 14
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
>	internet
>From: Federico Di Gregorio <fog at initd.org>
>To: Twisted Mailing List <twisted-python at twistedmatrix.com>
>Organization: init.d
>Date: Tue, 28 Oct 2003 00:07:32 +0100
>Reply-To: twisted-python at twistedmatrix.com
>
>
>--=-DoAh4xSvNTURCciuKWCu
>Content-Type: text/plain
>Content-Transfer-Encoding: quoted-printable
>
>Il lun, 2003-10-27 alle 23:56, Donovan Preston ha scritto:
>> On Oct 27, 2003, at 5:23 PM, darryl wrote:
>>=20
>> >
>> >>> The question is, does anyone want to focus on learing woven with NEW
>> >>> woven in the works?
>>=20
>> Woven is certainly very usable in it's current state -- if you want to=20
>
>after using it in a real life project i disagree. woven has lots of
>problems that surface when you switch from "simple examples" to
>"moderate real-life use cases". i was about to write a lenghty mail
>about that shortcomings (like control not updating the model and needing
>a "name" attribute in the node even it they don't use it, etc.) but then
>two people told me about nevow in irc. looking at it right now.
>
>> nevow was originally a research project -- a weekend's worth of hacking=20
>> whose benefits turned out to be so great that we decided to focus on=20
>> bringing it up to a usable state for Quotient as soon as possible. And=20
>> that's where it is now.
>
>"we", "we". maybe i talked with you in irc.
>
>> Most of the woven concepts -- template and code abstraction using a=20
>> DOM, reusable partial page renderers (Widgets in old woven, renderer=20
>> callables in nevow), all of the concepts needed to know to use=20
>> twisted.web -- carry over to nevow. The only thing that's really=20
>> changed in nevow is a few names, and the code is VASTLY simplified,=20
>> well tested, and thus far easier to understand, design semantics for,=20
>> and change.
>
>KUDOS! :)
>
>--=20
>Federico Di Gregorio
>Debian GNU/Linux Developer                                fog at debian.org
>INIT.D Developer                                           fog at initd.org
>             Quis custodiet ipsos custodes? -- Juvenal, Satires, VI, 347
>
>--=-DoAh4xSvNTURCciuKWCu
>Content-Type: application/pgp-signature; name=signature.asc
>Content-Description: Questa parte del messaggio =?ISO-8859-1?Q?=E8?= firmata
>
>-----BEGIN PGP SIGNATURE-----
>Version: GnuPG v1.2.3 (GNU/Linux)
>
>iD8DBQA/naU0vcCgrgZGjesRAvqQAJ9dtVu4VpryFT1Lh0mnUaYnwE6uaACfQS26
>39BrxFusKQrgFo33vhA/ME0=
>=+JDU
>-----END PGP SIGNATURE-----
>
>--=-DoAh4xSvNTURCciuKWCu--
>
>
>
>--__--__--
>
>Message: 15
>Date: Mon, 27 Oct 2003 18:09:49 -0500 (EST)
>From: Yun Mao <maoy at cis.upenn.edu>
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
> internet
>Reply-To: twisted-python at twistedmatrix.com
>
>I really like the tutorial. Great work!
>
>Yun
>
>
>On Mon, 27 Oct 2003, Itamar Shtull-Trauring wrote:
>
>> What's New in 1.1.0
>> ===================
>>
>> - twisted.application, an updated deployment and configuration library.
>>
>> - Mac OS X GUI event loop integration (requires PyObjC).
>>
>> - New howtos, including a tutorial, and more web framework docs.
>>
>> - The documentation is now better organized, up-to-date with the latest
>> APIs, and in some areas much more extensive.
>>
>> - Removed a number of broken, unmaintained and unused packages and
>> modules.
>>
>> - Bug fixes and feature enhancements.
>>
>> _______________________________________________
>> Twisted-Python mailing list
>> Twisted-Python at twistedmatrix.com
>> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>>
>
>
>
>
>--__--__--
>
>_______________________________________________
>Twisted-Python mailing list
>Twisted-Python at twistedmatrix.com
>http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
>
>End of Twisted-Python Digest
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-python/attachments/20061031/637c9380/attachment.htm 

From moe at divmod.com  Tue Oct 31 18:14:46 2006
From: moe at divmod.com (moe at divmod.com)
Date: Tue, 31 Oct 2006 17:14:46 -0600
Subject: [Twisted-Python] (no subject)
Message-ID: <E1Gf2og-0001PP-00@pyramid.twistedmatrix.com>




On 27 Oct 2003, 11:10 , twisted-python-request at twistedmatrix.com wrote:
>Send Twisted-Python mailing list submissions to
>	twisted-python at twistedmatrix.com
>
>To subscribe or unsubscribe via the World Wide Web, visit
>	http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>or, via email, send a message with subject or body 'help' to
>	twisted-python-request at twistedmatrix.com
>
>You can reach the person managing the list at
>	twisted-python-admin at twistedmatrix.com
>
>When replying, please edit your Subject line so it is more specific
>than "Re: Contents of Twisted-Python digest..."
>
>
>Today's Topics:
>
>   1. Re: Odd behavior in IRC logbot (Itamar Shtull-Trauring)
>   2. Re: authentification from a database (Jp Calderone)
>   3. ANN: Twisted 1.1.0, the framework of *your* internet (Itamar Shtull-Trauring)
>   4. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Philippe =?ISO-8859-1?Q?Lafoucri=E8re?=)
>   5. Re: ANN: Twisted 1.1.0, the framework of *your* internet (soso)
>   6. Post data (Matteo Giacomazzi)
>   7. Re: Post data (Matteo Giacomazzi)
>   8. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (=?ISO-8859-1?Q?Martin_M=F6llenbeck?=)
>   9. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Abe Fettig)
>  10. Re: ANN: Twisted 1.1.0, the framework of *your* internet (darryl)
>  11. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Glyph Lefkowitz)
>  12. Re: ANN: Twisted 1.1.0, the framework of *your* internet (darryl)
>  13. Re: ANN: Twisted 1.1.0, the framework of *your* internet (Donovan Preston)
>  14. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Federico Di Gregorio)
>  15. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Yun Mao)
>
>--__--__--
>
>Message: 1
>Date: Mon, 27 Oct 2003 09:29:29 -0500
>From: Itamar Shtull-Trauring <itamar at itamarst.org>
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] Odd behavior in IRC logbot
>Organization: http://itamarst.org
>Reply-To: twisted-python at twistedmatrix.com
>
>On Mon, 27 Oct 2003 09:15:13 -0500
>"Phillip J. Eby" <pje at telecommunity.com> wrote:
>
>> Um, what logs?
>
>Hm. I suppose you ought to enable logging, yes. Do:
>
>from twisted.python import log
>log.startLogging(open("irc.log", "a"))
>
>somewhere in the file (e.g. in the __main__-only section).
>
>--
>Itamar Shtull-Trauring    http://itamarst.org/
>Available for Python & Twisted consulting
>
>
>--__--__--
>
>Message: 2
>Date: Mon, 27 Oct 2003 11:00:47 -0500
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] authentification from a database
>From: Jp Calderone <exarkun at intarweb.us>
>Reply-To: twisted-python at twistedmatrix.com
>
>
>--TB36FDmn/VVEgNH/
>Content-Type: text/plain; charset=us-ascii
>Content-Disposition: inline
>Content-Transfer-Encoding: quoted-printable
>
>On Mon, Oct 27, 2003 at 09:17:08AM -0500, vicky lupien wrote:
>> I have a program that needs authentification from a database.  For now,
>> it's working fine but I'm using
>> checkers.InMemoryUsernamePasswordDatabaseDontUse(test=3D"test") (I want
>> many users not only "test").  =20
>
>  Use a different checker, such as FilePasswordDB.
>
>  Jp
>
>--TB36FDmn/VVEgNH/
>Content-Type: application/pgp-signature; name="signature.asc"
>Content-Description: Digital signature
>Content-Disposition: inline
>
>-----BEGIN PGP SIGNATURE-----
>Version: GnuPG v1.2.3 (GNU/Linux)
>
>iD8DBQE/nUEvedcO2BJA+4YRAlRCAJ4kAeN49EFmgMbrW3Fd/MNujVKNrwCgstoT
>r3iPt2vNXMjG69p7v0pa/JU=
>=wuRK
>-----END PGP SIGNATURE-----
>
>--TB36FDmn/VVEgNH/--
>
>
>--__--__--
>
>Message: 3
>Date: Mon, 27 Oct 2003 12:13:44 -0500
>From: Itamar Shtull-Trauring <itamar at itamarst.org>
>To: twisted-python at twistedmatrix.com
>Organization: http://itamarst.org
>Subject: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>Reply-To: twisted-python at twistedmatrix.com
>
>What's New in 1.1.0
>===================
>
>- twisted.application, an updated deployment and configuration library.
>
>- Mac OS X GUI event loop integration (requires PyObjC).
>
>- New howtos, including a tutorial, and more web framework docs.
>
>- The documentation is now better organized, up-to-date with the latest
>APIs, and in some areas much more extensive.
>
>- Removed a number of broken, unmaintained and unused packages and
>modules.
>
>- Bug fixes and feature enhancements.
>
>
>--__--__--
>
>Message: 4
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
>	internet
>From: Philippe =?ISO-8859-1?Q?Lafoucri=E8re?= <lafou at wanadoo.fr>
>To: Twisted <twisted-python at twistedmatrix.com>
>Organization: InFuzzion
>Date: Mon, 27 Oct 2003 18:56:04 +0100
>Reply-To: twisted-python at twistedmatrix.com
>
>Great work guys ! twisted is the python/network killer app
>
>On Mon, 2003-10-27 at 18:13, Itamar Shtull-Trauring wrote:
>> What's New in 1.1.0
>> ===================
>>
>> - twisted.application, an updated deployment and configuration library.
>>
>> - Mac OS X GUI event loop integration (requires PyObjC).
>>
>> - New howtos, including a tutorial, and more web framework docs.
>>
>> - The documentation is now better organized, up-to-date with the latest
>> APIs, and in some areas much more extensive.
>>
>> - Removed a number of broken, unmaintained and unused packages and
>> modules.
>>
>> - Bug fixes and feature enhancements.
>>
>> _______________________________________________
>> Twisted-Python mailing list
>> Twisted-Python at twistedmatrix.com
>> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
>
>
>--__--__--
>
>Message: 5
>From: soso <duke99 at email.ro>
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>Date: Mon, 27 Oct 2003 20:57:21 +0200
>Reply-To: twisted-python at twistedmatrix.com
>
>Thanks for the great work!
>
>But I can't find the windows installer. Or there isn't a windows installer for 1.1?
>
>soso
>
>
>______________________________________________________________________
>Do you want a free e-mail for life ? Get it at http://www.email.ro/
>
>
>
>--__--__--
>
>Message: 6
>Date: Mon, 27 Oct 2003 20:36:21 +0100
>From: Matteo Giacomazzi <matteo.giacomazzi at libero.it>
>To: twisted-python at twistedmatrix.com
>Subject: [Twisted-Python] Post data
>Reply-To: twisted-python at twistedmatrix.com
>
>Hi all,
>
>  I need to query a remote HTTP server using POST method.
>  To achieve this, I use the t.w.c.getPage function.
>  In  order  to  post  some  data, I pass to that function the keyword
>  postdata  bound  to  an urllib.urlencode()-d dictionary but it seems
>  that such data is not sent at all.
>
>  What is wrong?
>  Here  is  a  minimal  example:  the url is a PHP scripts that simply
>  dumps  the  content  of  the  $_POST  variable,  but  it is an empty
>  array...
>
>  Any help would be greatly appreciated!
>
>#=============================================
>from twisted.web.client import getPage
>from twisted.internet import reactor
>import urllib
>
>def printData(data):
>    print data
>    reactor.stop()
>
>payload = urllib.urlencode({'test':'the test'})
>url = 'http://www.hotelsprovider.com/~matteo'
>d = getPage(url, postdata=payload, timeout=5)
>d.addCallback(printData)
>reactor.run()
>#=============================================
>
>  Many thanks in advance!
>
>
>Kind regards
> Matteo
>
>
>
>--__--__--
>
>Message: 7
>Date: Mon, 27 Oct 2003 20:47:13 +0100
>From: Matteo Giacomazzi <matteo.giacomazzi at libero.it>
>To: twisted-python at twistedmatrix.com
>Subject: [Twisted-Python] Re: Post data
>Reply-To: twisted-python at twistedmatrix.com
>
>UPDATE:  I  forgot  to  use  the  method='POST'  keyword param, but no
>results yet...
>
>#==========================================================
>from twisted.web.client import getPage
>from twisted.internet import reactor
>import urllib
>
>def printData(data):
>    print data
>    reactor.stop()
>
>payload = urllib.urlencode({'test':'the test'})
>url = 'http://www.hotelsprovider.com/~matteo'
>d = getPage(url, method='POST', postdata=payload, timeout=5)
>d.addCallback(printData)
>reactor.run()
>#==========================================================
>
>Many thanks in advance!
>
>
>Kind regards
> Matteo
>
>
>
>--__--__--
>
>Message: 8
>Date: Mon, 27 Oct 2003 21:28:17 +0100
>From: Martin.Moellenbeck at t-online.de (=?ISO-8859-1?Q?Martin_M=F6llenbeck?=)
>To:  twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
> internet
>Reply-To: twisted-python at twistedmatrix.com
>
>very cool framework and you all have made a very good work.
>
>regards Martin
>
>Itamar Shtull-Trauring wrote:
>
>>What's New in 1.1.0
>>===================
>>
>>- twisted.application, an updated deployment and configuration library.
>>
>>- Mac OS X GUI event loop integration (requires PyObjC).
>>
>>- New howtos, including a tutorial, and more web framework docs.
>>
>>- The documentation is now better organized, up-to-date with the latest
>>APIs, and in some areas much more extensive.
>>
>>- Removed a number of broken, unmaintained and unused packages and
>>modules.
>>
>>- Bug fixes and feature enhancements.
>>
>>_______________________________________________
>>Twisted-Python mailing list
>>Twisted-Python at twistedmatrix.com
>>http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>>
>>
>>
>
>
>
>
>--__--__--
>
>Message: 9
>Date: Mon, 27 Oct 2003 16:46:36 -0500
>From: Abe Fettig <abe at fettig.net>
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
> internet
>Reply-To: twisted-python at twistedmatrix.com
>
>Looks like a great release... and it even has updated woven docs!
>Thanks for all the work you guys have put into Twisted!
>
>Abe
>
>Itamar Shtull-Trauring wrote:
>> What's New in 1.1.0
>
>
>
>
>--__--__--
>
>Message: 10
>Date: Mon, 27 Oct 2003 16:08:30 -0600 (CST)
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>From: "darryl" <developer at csrules.dyndns.org>
>To: <twisted-python at twistedmatrix.com>
>Cc: <abe at fettig.net>
>Reply-To: twisted-python at twistedmatrix.com
>
>
>
>> Looks like a great release... and it even has updated woven docs!
>
>The question is, does anyone want to focus on learing woven with NEW wove=
>n
>in the works?
>
>-darryl
>
>
>
>
>--__--__--
>
>Message: 11
>Date: Mon, 27 Oct 2003 17:13:35 -0500
>From: Glyph Lefkowitz <glyph at twistedmatrix.com>
>To:  twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
> internet
>Reply-To: twisted-python at twistedmatrix.com
>
>darryl wrote:
>
>>>Looks like a great release... and it even has updated woven docs!
>
>> The question is, does anyone want to focus on learing woven with NEW woven
>> in the works?
>
>An unfortunate last-minute change of direction, but worth it considering
>how vastly improved the new code is.
>
>It's no longer a part of Twisted, however.  Check out Quotient CVS -
>www.divmod.org
>
>
>
>--__--__--
>
>Message: 12
>Date: Mon, 27 Oct 2003 16:23:26 -0600 (CST)
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>From: "darryl" <developer at csrules.dyndns.org>
>To: <twisted-python at twistedmatrix.com>
>Cc: <glyph at twistedmatrix.com>
>Reply-To: twisted-python at twistedmatrix.com
>
>
>>> The question is, does anyone want to focus on learing woven with NEW
>>> woven in the works?
>>
>> An unfortunate last-minute change of direction, but worth it considerin=
>g
>>  how vastly improved the new code is.
>>
>> It's no longer a part of Twisted, however.  Check out Quotient CVS -
>> www.divmod.org
>
>May i ask why it's not part of twisted?
>And if that's the case will Woven be maintained?
>
>-Darryl
>
>
>
>
>--__--__--
>
>Message: 13
>From: Donovan Preston <dp at twistedmatrix.com>
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>Date: Mon, 27 Oct 2003 17:56:08 -0500
>To: twisted-python at twistedmatrix.com
>Reply-To: twisted-python at twistedmatrix.com
>
>
>On Oct 27, 2003, at 5:23 PM, darryl wrote:
>
>>
>>>> The question is, does anyone want to focus on learing woven with NEW
>>>> woven in the works?
>
>Woven is certainly very usable in it's current state -- if you want to
>do simple-to-moderate things quickly, it can be very useful. However,
>it's complexity made it difficult to do some of the more ambitious
>things we are trying to do, such as semi-transparent form handling, and
>serverToClient events. But there are a few people who have built (and
>deployed) fairly complex woven applications. The fact that nevow exists
>doesn't detract from that.
>
>nevow was originally a research project -- a weekend's worth of hacking
>whose benefits turned out to be so great that we decided to focus on
>bringing it up to a usable state for Quotient as soon as possible. And
>that's where it is now.
>
>Most of the woven concepts -- template and code abstraction using a
>DOM, reusable partial page renderers (Widgets in old woven, renderer
>callables in nevow), all of the concepts needed to know to use
>twisted.web -- carry over to nevow. The only thing that's really
>changed in nevow is a few names, and the code is VASTLY simplified,
>well tested, and thus far easier to understand, design semantics for,
>and change.
>
>>> An unfortunate last-minute change of direction, but worth it
>>> considering
>>>  how vastly improved the new code is.
>>>
>>> It's no longer a part of Twisted, however.  Check out Quotient CVS -
>>> www.divmod.org
>>
>> May i ask why it's not part of twisted?
>> And if that's the case will Woven be maintained?
>
>nevow will be moved into twisted after a period of
>stabilization/development in Quotient. Since twisted is a large project
>with many external developers using it, and quotient is a smaller
>project that is mostly a small core team of development, we felt it
>made sense to keep it out of twisted proper until the development had
>stabilized. Since nevow has the benefit of being a complete rewrite of
>all the *best* parts of woven, and none of the bad, stabilization has
>been remarkably quick. So expect to see nevow in twisted fairly soon.
>
>In the meantime, woven will continue to be maintained with bugfixes,
>and nevow is fully usable outside of quotient -- even to the point of
>being fully usable without twisted.web (as a cgi, or in zope or
>webware, for example). I should also mention that there will probably
>be a compatibility layer for nevow to render old-style Woven classes
>sometime in the future. It is amazingly simple to add rendering
>functionality to it since it uses components to render the dom (which
>is really just a list of any python objects)
>
>If you are doing any new development, I highly encourage you to take a
>look at nevow, if for no other reason than you can have a hand in
>shaping it's development. I would very much appreciate feedback about
>it, especially now, since the code is very, very short and readable.
>
>dp
>
>
>
>--__--__--
>
>Message: 14
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
>	internet
>From: Federico Di Gregorio <fog at initd.org>
>To: Twisted Mailing List <twisted-python at twistedmatrix.com>
>Organization: init.d
>Date: Tue, 28 Oct 2003 00:07:32 +0100
>Reply-To: twisted-python at twistedmatrix.com
>
>
>--=-DoAh4xSvNTURCciuKWCu
>Content-Type: text/plain
>Content-Transfer-Encoding: quoted-printable
>
>Il lun, 2003-10-27 alle 23:56, Donovan Preston ha scritto:
>> On Oct 27, 2003, at 5:23 PM, darryl wrote:
>>=20
>> >
>> >>> The question is, does anyone want to focus on learing woven with NEW
>> >>> woven in the works?
>>=20
>> Woven is certainly very usable in it's current state -- if you want to=20
>
>after using it in a real life project i disagree. woven has lots of
>problems that surface when you switch from "simple examples" to
>"moderate real-life use cases". i was about to write a lenghty mail
>about that shortcomings (like control not updating the model and needing
>a "name" attribute in the node even it they don't use it, etc.) but then
>two people told me about nevow in irc. looking at it right now.
>
>> nevow was originally a research project -- a weekend's worth of hacking=20
>> whose benefits turned out to be so great that we decided to focus on=20
>> bringing it up to a usable state for Quotient as soon as possible. And=20
>> that's where it is now.
>
>"we", "we". maybe i talked with you in irc.
>
>> Most of the woven concepts -- template and code abstraction using a=20
>> DOM, reusable partial page renderers (Widgets in old woven, renderer=20
>> callables in nevow), all of the concepts needed to know to use=20
>> twisted.web -- carry over to nevow. The only thing that's really=20
>> changed in nevow is a few names, and the code is VASTLY simplified,=20
>> well tested, and thus far easier to understand, design semantics for,=20
>> and change.
>
>KUDOS! :)
>
>--=20
>Federico Di Gregorio
>Debian GNU/Linux Developer                                fog at debian.org
>INIT.D Developer                                           fog at initd.org
>             Quis custodiet ipsos custodes? -- Juvenal, Satires, VI, 347
>
>--=-DoAh4xSvNTURCciuKWCu
>Content-Type: application/pgp-signature; name=signature.asc
>Content-Description: Questa parte del messaggio =?ISO-8859-1?Q?=E8?= firmata
>
>-----BEGIN PGP SIGNATURE-----
>Version: GnuPG v1.2.3 (GNU/Linux)
>
>iD8DBQA/naU0vcCgrgZGjesRAvqQAJ9dtVu4VpryFT1Lh0mnUaYnwE6uaACfQS26
>39BrxFusKQrgFo33vhA/ME0=
>=+JDU
>-----END PGP SIGNATURE-----
>
>--=-DoAh4xSvNTURCciuKWCu--
>
>
>
>--__--__--
>
>Message: 15
>Date: Mon, 27 Oct 2003 18:09:49 -0500 (EST)
>From: Yun Mao <maoy at cis.upenn.edu>
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
> internet
>Reply-To: twisted-python at twistedmatrix.com
>
>I really like the tutorial. Great work!
>
>Yun
>
>
>On Mon, 27 Oct 2003, Itamar Shtull-Trauring wrote:
>
>> What's New in 1.1.0
>> ===================
>>
>> - twisted.application, an updated deployment and configuration library.
>>
>> - Mac OS X GUI event loop integration (requires PyObjC).
>>
>> - New howtos, including a tutorial, and more web framework docs.
>>
>> - The documentation is now better organized, up-to-date with the latest
>> APIs, and in some areas much more extensive.
>>
>> - Removed a number of broken, unmaintained and unused packages and
>> modules.
>>
>> - Bug fixes and feature enhancements.
>>
>> _______________________________________________
>> Twisted-Python mailing list
>> Twisted-Python at twistedmatrix.com
>> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>>
>
>
>
>
>--__--__--
>
>_______________________________________________
>Twisted-Python mailing list
>Twisted-Python at twistedmatrix.com
>http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
>
>End of Twisted-Python Digest
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-python/attachments/20061031/b6581253/attachment.htm 

From franz.zieher at gmail.com  Tue Oct 31 19:26:48 2006
From: franz.zieher at gmail.com (Franz Zieher)
Date: Wed, 1 Nov 2006 01:26:48 +0100
Subject: [Twisted-Python] Strange error when using strptime within a nevow
	application
Message-ID: <f15b981d0610311626m5f6836ccob3b8d082df5e3bab@mail.gmail.com>

I've experiencing a very strange error when using strptime for populating a
'formal' form.

If I run the code segment with strptime in ipython it can succesfully
transform
'12-10-06' with '%d-%m-%Y' into a time tuple!

With nevow I get the following exception:
----------------------------------------------------------

2006/11/01 01:18 W. Europe Standard Time [-] Log opened.
2006/11/01 01:18 W. Europe Standard Time [-] twistd
2.4.0(D:\Python24\python.exe
2.4.3) starting up
2006/11/01 01:18 W. Europe Standard Time [-] reactor class: <class '
twisted.internet.selectreactor.SelectReactor'>
2006/11/01 01:18 W. Europe Standard Time [-]
nevow.appserver.NevowSitestarting on 8000
2006/11/01 01:18 W. Europe Standard Time [-] Starting factory <
nevow.appserver.NevowSite instance at 0x02797A30>
2006/11/01 01:18 W. Europe Standard Time [HTTPChannel,0,127.0.0.1]
127.0.0.1- - [01/Nov/2006:00:18:24 +0000] "GET / HT
P/1.1" 200 7872 "-" "Mozilla/5.0 (Windows; U; Windows NT 5.1; de; rv:1.8.1)
Gecko/20061010 Firefox/2.0"
2006/11/01 01:18 W. Europe Standard Time [HTTPChannel,0,127.0.0.1]
(NAME,DIR):  ('newChild', None)
2006/11/01 01:18 W. Europe Standard Time [HTTPChannel,0,127.0.0.1]
IRemainingSegments: ('newChild',)
2006/11/01 01:18 W. Europe Standard Time [HTTPChannel,0,127.0.0.1] Unhandled
error in Deferred:
2006/11/01 01:18 W. Europe Standard Time [HTTPChannel,0,127.0.0.1] Traceback
(most recent call last):
          File "d:\python24\lib\site-packages\twisted\internet\defer.py",
line 307, in _runCallbacks
            self.result = callback(self.result, *args, **kw)
          File "build\bdist.win32\egg\formal\form.py", line 617, in
locateForm

          File "d:\python24\lib\site-packages\twisted\internet\defer.py",
line 191, in addCallback
            callbackKeywords=kw)
          File "d:\python24\lib\site-packages\twisted\internet\defer.py",
line 182, in addCallbacks
            self._runCallbacks()
        --- <exception caught here> ---
          File "d:\python24\lib\site-packages\twisted\internet\defer.py",
line 307, in _runCallbacks
            self.result = callback(self.result, *args, **kw)
          File "build\bdist.win32\egg\formal\form.py", line 617, in <lambda>

          File "build\bdist.win32\egg\formal\form.py", line 567, in
formFactory

          File "e:\data\iCAE\python\icaeForms.py", line 92, in form_instance
            eval('self.%s(form)' % tag)
          File "<string>", line 0, in ?

          File "e:\data\iCAE\python\icaeForms.py", line 128, in project
            print strptime('10-12-06','%d-%m-%Y')[0]
          File "D:\Python24\lib\_strptime.py", line 269, in ?
            _TimeRE_cache = TimeRE()
          File "D:\Python24\lib\_strptime.py", line 188, in __init__
            self.locale_time = LocaleTime()
          File "D:\Python24\lib\_strptime.py", line 74, in __init__
            self.__calc_weekday()
          File "D:\Python24\lib\_strptime.py", line 94, in __calc_weekday
            a_weekday = [calendar.day_abbr[i].lower() for i in range(7)]
        exceptions.AttributeError: 'module' object has no attribute
'day_abbr'

Any idea what that could be?

Thanks

Franz
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://twistedmatrix.com/pipermail/twisted-python/attachments/20061101/f677aaae/attachment.htm 

From ron.arts at netland.nl  Tue Oct 31 19:26:44 2006
From: ron.arts at netland.nl (Ron Arts)
Date: Wed, 01 Nov 2006 01:26:44 +0100
Subject: [Twisted-Python] Wrapping my mind around Interfaces, adapters,
	factories, protocols
Message-ID: <4547E9C4.6040700@netland.nl>

Hi,

I am trying to accomplish the following:

- have a client connecting to a remote service
   and collecting information from it
- have a service that can be queried for the collected
   info

But I am getting totally confused with all the interface classes,
adapters, factories, protocols I should write according to the
finger tutorial.
I skimmed the mailinglist, but to no avail.

My app is laid out almost like the finger tutorial (I left out
the web, and PB parts for now), the biggest difference being that
the client data should be available to the service that is
being queried.

So I thought that instead of first create the finger service in
the makeService() method, I would first create a TCP client, and
pass that to a service to be created later.

something like:

def makeService(config):
     s = service.MultiService()

     m = MyClient()
     m.username = 'username'
     m.password = 'password'
     theserver = '192.168.1.2'
     b = internet.TCPClient(theserver, 6666, IMyClientFactory(m))
     b.setServiceParent(s)

     return s

But for this to work I have to create interfacethis, protocol that,
and use components.registerAdapter(), to do something I totally don't
understand what it does and why it needs to be done,
I have read the finger example many times, but I can't seem to wrap
my mind around these concepts, in the little time I have available.
Can anybody whip me up a supershort example in pseudo code of what I
need to do to make the above makeService work? And explain it a bit?

Many thanks,
Ron


-------------- next part --------------
A non-text attachment was scrubbed...
Name: ron.arts.vcf
Type: text/x-vcard
Size: 270 bytes
Desc: not available
Url : http://twistedmatrix.com/pipermail/twisted-python/attachments/20061101/47ddcbb6/attachment.vcf 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3403 bytes
Desc: S/MIME Cryptographic Signature
Url : http://twistedmatrix.com/pipermail/twisted-python/attachments/20061101/47ddcbb6/attachment.bin 

From wgwigw at gmail.com  Sun Oct  1 01:01:28 2006
From: wgwigw at gmail.com (wang wei)
Date: Sun, 1 Oct 2006 15:01:28 +0800
Subject: [Twisted-Python] how can I invoke an httpFactory method in
	http.request?
Message-ID: <dbeb95830610010001j2e54c436gaa0264bb1bbb79e7@mail.gmail.com>

hi, is that a way to invoke a function in httpFactory from a http.request?
code here:
from twisted.web import http
class anotherRequestHandler(http.Request):
       def process(self):
             '''
             how to invoke a method in anotherHttpFactory
             such as judge?
             '''

class anotherHttp(http.HTTPChannel):
       requestFactory = anotherRequestHandler

class  resolve:
        def  show(self):
             return 'ok'

class anotherHttpFactory(http.HTTPFactory):
        def __init__(self):
             a = resolve()

        def judge(self):
             return a.show()


I don't want class 'resolve' to be initialized every time when a request
comes, or am I  mis-understand it ? Thanks for help.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20061001/c842b037/attachment.html>

From jml at mumak.net  Sun Oct  1 03:58:50 2006
From: jml at mumak.net (Jonathan Lange)
Date: Sun, 1 Oct 2006 20:58:50 +1100
Subject: [Twisted-Python] Removing _wait from Trial
In-Reply-To: <20060925064815.1717.606494837.divmod.quotient.59338@ohm>
References: <d06a5cd30609240026y3b50e953s472e4dd4eb70fb06@mail.gmail.com>
	<20060925064815.1717.606494837.divmod.quotient.59338@ohm>
Message-ID: <d06a5cd30610010258g4fabf9lf549ce52433fd1d@mail.gmail.com>

On 9/25/06, glyph at divmod.com <glyph at divmod.com> wrote:
> On Sun, 24 Sep 2006 17:26:10 +1000, Jonathan Lange <jml at mumak.net> wrote:
> >Unfortunately, some of Trial's cleanup code spins the reactor (see
> >t.trial.util._Janitor.do_cleanPending). This has to go.
>
> You are saying this part of the plan will happen post-2.5, I assume?
>

At the least, post #2091. The first wave is "deal with dirty reactor
failing the suite", the second wave is "drastically increase standards
of cleanliness".

This gets taken up below.


> >2. Tighten test cleanup errors. (Twisted 2.5)
> >
> >#2091 (ready for review) fulfils a long-standing promise. The "reactor
> >unclean" warnings have been turned into errors.
>
> I would really like it to be possible to turn these errors into warnings by passing a command-line flag, mainly for the migration path between 2.4 and 2.5.

As you have wished, so have I done.


> Twisted's buildslaves should _NOT_ use this flag, nor should it still be present in 2.6.  I am suggesting it _ONLY_ as a migration tool.

Good. I wasn't looking forward to fighting you to the death: my mech
is in dry-dock.


> >That means we will have to either:
> >a) surprise our users with new errors in their tests
> >b) find some way to introduce this gradually.
>
> I think this might be another use-case for a flag.  Really, developers should be alerted
> to these changes as soon as possible (warnings are too easily ignored), but have a way
> to give themselves a little leeway to fix the problems before the next release.

The --unclean-warnings flag will take care of this.


> >Currently TestCase.run() is a blocking call. I wish it could remain a
> >blocking call, but it can't.
>
> Why do you say you wish it could?  Isn't the whole point here to make it not be a blocking call?

If the reactors were restartable, it could remain a blocking call
without sucking. As it is, I can't have both "blocking" and "not
sucking". So I'm sacrificing the former to get closer to the latter.


> >4. Deprecate TestSuite.run and TestCase.run. (Twisted 2.6)
>
> In what sense are these APIs "public"?  Are there really people calling them outside of the 'trial' tool?

Some people use Trial tests with other tools. Similarly, overriding
run() is the place to start if you want to extend TestCase
functionality.


> >[1] Incidentally, all of this would be superfluous if reactors were
> >restartable.
>
> A clean restart() API would be a possible way of fixing some things, but I think you
> are underestimating how much code would break with a clean restart() method, too.
> For example: the threadpool would be stopped after each test.  Would that make any
> existing Twisted tests fail?  I don't know, but operating under your (probably correct)
> pessimistic assumption that any change to the test framework's interaction with the
> reactor will break some things, I'd have to say yes.

Yes, they would fail. We currently kill the threadpool after every
test *class*, not test case, because some people put certain things in
setUpClass once.


 > Then there is the issue that Bob recently brought up, which is that
in a 'normal' Twisted
> application the reactor is only started once, and so it's not really a representative test to
> constantly be pausing and resuming it.  If we implement a restartable reactor it would
> probably be a good torture-test though.

Lots of unit test tropes aren't representative of real applications.
"Normal" applications don't establish a connection, do one thing, then
disconnect.


Thanks for replying!
jml



From manlio_perillo at libero.it  Sun Oct  1 04:08:12 2006
From: manlio_perillo at libero.it (Manlio Perillo)
Date: Sun, 01 Oct 2006 12:08:12 +0200
Subject: [Twisted-Python] _dumbwin32proc and PIPE_NOWAIT
In-Reply-To: <20060930232337.1717.1142591311.divmod.quotient.63977@ohm>
References: <20060930232337.1717.1142591311.divmod.quotient.63977@ohm>
Message-ID: <451F938C.3060200@libero.it>

glyph at divmod.com ha scritto:
> [...]
> 
>> Is win32eventreactor not working and not tested?
> 
> It's tested, but it's not working.  See
> http://twistedmatrix.com/buildbot/ - you'll notice the "win32-win32er"
> column is always red.  It's also limited because it still allows only 63
> objects.
> 


I have just runned the test suite (with Twisted 2.4).

I got
FAILED (skips=76, expectedFailures=7, failures=6, errors=13, successes=868)

Moreover about 2-3 time I got a peak to CPU and memory usage (up to 300 MB).

>> You did not mention it in the "removing unsupported reactors in twisted"
>> thread.
> 
> It has maintainers, it has a buildbot, and it's been gradually
> decreasing its number of failing tests over time.  It didn't seem like a
> candidate for removal.
> 
>> I have write it, now stdio works ;-).
> 
>> Unfortunately it is not very efficient since:
>> - it uses _pollingfile (not a real porblem)
>> - it reads raw keyboard input and have to do all low level stuff like
>>  '\b' handling, '\r' conversion, and so
> 
> It's very hard to do these things efficiently, so I'm not too worried
> about that.  We also don't have a lot of programmers interested in
> Windows support.  My interest in Windows support ends right about at the
> point where the servers I develop can be successfully tested and
> developed on win32 :).  Providing functionality in an inefficient
> implementation at least provides some useful functionality in the
> meanwhile, and something to optimize later if it becomes important.
> 


The implementation surely can be optimized.

>> Here is the main code.

[...]


One more thing.
As I have said I would like to provide a portable interface to terminal
handling, so that scripts like conch can works on both POSIX and Window.

There are several options:
1) Write modules like twised.python.fncl, twisted.python.termios and
   twisted.python.pty, that implements the same POSIX interface on
   Windows too.

   I suspect that this can be done but it is hard (and I'm lazy).
   Moreover there is the problem with SIGWINCH handling
   (Windows can - not yet tested - report events about console window
    resizing)

2) Write an high level module like twisted.python.tty
   that provides functions like
   enableRawMode(fd, trueOrFalse), enableEcho(fd, trueOrFalse),
   addWindowChangeCallback(cb), and so

3) Write an high level module like twisted.internet.conio
   that provides StdIOChannel (just to pick a name) objects.
   These objects will have the interface as in 2).



Regards  Manlio Perillo



From manlio_perillo at libero.it  Sun Oct  1 11:06:46 2006
From: manlio_perillo at libero.it (Manlio Perillo)
Date: Sun, 01 Oct 2006 19:06:46 +0200
Subject: [Twisted-Python] _pollingfile._PollingTimer
Message-ID: <451FF5A6.6000602@libero.it>

Since the _PollingTimer can be reused for a possible console support,
why not to make it a public "simil reactor"?

As an example:

class UPollReactor(object):
   """User mode polling reactor, for Windows.

      Note that this is not a real reactor.
   """

   def addResource(self, resource, action):
	...

   def run():
      # add a fake resource, just to do the job done by twistd with the
      # TimeService
      ...



twistd can, as an example, always "run" the UPollReactor when on a
windows system.



Regards  Manlio Perillo



From exarkun at divmod.com  Sun Oct  1 11:23:34 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Sun, 1 Oct 2006 13:23:34 -0400
Subject: [Twisted-Python] _pollingfile._PollingTimer
In-Reply-To: <451FF5A6.6000602@libero.it>
Message-ID: <20061001172334.1717.689974007.divmod.quotient.64417@ohm>

On Sun, 01 Oct 2006 19:06:46 +0200, Manlio Perillo <manlio_perillo at libero.it> wrote:
>Since the _PollingTimer can be reused for a possible console support,
>why not to make it a public "simil reactor"?
>
>As an example:
>
>class UPollReactor(object):
>   """User mode polling reactor, for Windows.
>
>      Note that this is not a real reactor.
>   """
>
>   def addResource(self, resource, action):
>	...
>
>   def run():
>      # add a fake resource, just to do the job done by twistd with the
>      # TimeService
>      ...
>
>
>
>twistd can, as an example, always "run" the UPollReactor when on a
>windows system.
>

Huh?

Jean-Paul



From manlio_perillo at libero.it  Sun Oct  1 12:51:41 2006
From: manlio_perillo at libero.it (Manlio Perillo)
Date: Sun, 01 Oct 2006 20:51:41 +0200
Subject: [Twisted-Python] _pollingfile._PollingTimer
In-Reply-To: <20061001172334.1717.689974007.divmod.quotient.64417@ohm>
References: <20061001172334.1717.689974007.divmod.quotient.64417@ohm>
Message-ID: <45200E3D.7080307@libero.it>

Jean-Paul Calderone ha scritto:
> On Sun, 01 Oct 2006 19:06:46 +0200, Manlio Perillo
> <manlio_perillo at libero.it> wrote:
>> Since the _PollingTimer can be reused for a possible console support,
>> why not to make it a public "simil reactor"?
>>
>> As an example:
>>
>> class UPollReactor(object):
>>   """User mode polling reactor, for Windows.
>>
>>      Note that this is not a real reactor.
>>   """
>>
>>   def addResource(self, resource, action):
>>     ...
>>
>>   def run():
>>      # add a fake resource, just to do the job done by twistd with the
>>      # TimeService
>>      ...
>>
>>
>>
>> twistd can, as an example, always "run" the UPollReactor when on a
>> windows system.
>>
> 
> Huh?
> 

Forget about the run method.

I'm asking for an UPollreactor because I would like to do something like
this:

class PollableReader(object):
    implements(IPushProducer)

    def __init__(self, handle, receivedCallback, lostCallback, reactor):
        self.handle = handle
        self.receivedCallback = receivedCallback
        self.lostCallback = lostCallback
        self.reactor = reactor

    def doWork(self):
        raise NotImplementedError()

    def close(self):
        try:
            win32api.CloseHandle(self.handle)
        except pywintypes.error:
            # You can't close std handles...?
            pass

    def stopProducing(self):
        self.close()

    def pauseProducing(self):
        self.reactor.addResource(self)

    def resumeProducing(self):
        self.reactor.removeResource(self)


class Win32EventReactorWrapper(object):
   def __init__(self, reactor):
      self.reactor = reactor


   def addResource(self, rsc):
      reactor.addEvent(rsc, rsc.handle, "doWork")

   def removeResource(self, rsc):
      reactor.removeEvent(rsc)




Now I can do, as an example:

class ConsoleReader(PollableReader):
  # implements doWork for a console

class PipeReader(PollableReader):
  # implements doWork for a pipe

...

# assuming reactor has a name attribute
if reactor.name == "win32eventreactor"
    # do the polling in kernel space
    stdin = Console(..., Win32EventReactorWrapper(reactor))
else:
    # do the polling in user space
    stdin = Console(..., upollreactor)



Console handles can be passed to WaitForSingleObject and friends.
They became signaled when input is avaliable.

This means that I can avoid to use the polling when the
win32eventreactor is being used, without having to modify the code.

I *really* believed the same was true for anonymous pipes, but this is
not the case...





Regards  Manlio Perillo



From mailinglists at smartology.nl  Mon Oct  2 00:23:47 2006
From: mailinglists at smartology.nl (Remi Cool)
Date: Mon, 02 Oct 2006 08:23:47 +0200
Subject: [Twisted-Python] twistd save state does not work
In-Reply-To: <20060929160707.1717.1403292531.divmod.quotient.63126@ohm>
References: <20060929160707.1717.1403292531.divmod.quotient.63126@ohm>
Message-ID: <4520B073.9090306@smartology.nl>

Jean-Paul Calderone wrote:
> On Fri, 29 Sep 2006 16:53:10 +0200, Remi Cool 
> <mailinglists at smartology.nl> wrote:
>> Remi Cool wrote:
>>> Hello,
>>>
>>> I've readied my app for use with twistd, the daemonizing works, but 
>>> a tap file is not saved upon exit (kill 'cat twisted.pid'). How can 
>>> I enable the save state option? BTW I'm not using the -o option with 
>>> twistd ;)
>>>
>>> Second ... is it possible to disable the twisted logging if you use 
>>> twistd to start the app? Or is it possible to set a log level so 
>>> that only warnings and errors are shown and my log is not flooded 
>>> with (TCPServer) connection messages.
>> The save state function only seems to work when you start with a tap 
>> in the firstplace. It then saves the state in appname-shutdown.tap 
>> ... ok but why doesn't it work when you start from a python file?
>>
>
> It's implicitly disabled when loading an application from a Python file,
> since there is no guarantee that the application will be serializable.
>
> There is no way to explicitly re-enable it.  I would suggest that this
> feature be added, but since most people seem to think tap files should
> be eliminated as soon as possible, pursuing this would probably involve
> a lot of debate that I'm not personally interested in participating in.
>
> I would suggest using an alternate mechanism for persistence.
>
It was an interesting feature but if tap is almost obsolete, I won't bother.

>> My 2nd question about the logging still stands ...
>
> It's not, although it certainly should be.  I believe there is at least
> one ticket open in the tracker for improving the logging features of
> twistd.
>
:)
>> and is it possible to (re)set the name of the log file in the python 
>> file where application is defined? I have all paths for the app in an 
>> ini file (configParser) and it would not be a good solution to 
>> declare the logfile path somewhere else.
>
> The next release of Twisted will include a much more extensible way to
> interact with twistd which should satisfy this use-case.  If you want
> to play with it in svn trunk at HEAD, you can take a look at the output of
> `twistd --help'.  The command list which shows up at the end of that
> output can be extending using the plugin system, so you can add your
> command, which sets up logging or loads configuration from an ini, or
> whatever else you like.
>
Why not incorporate python logging into twisted? That way is easyer to 
incorporate modules without having to 'bother' with twisted. Or use 
modules which are not especially written for twisted.


- Remi -



From exarkun at divmod.com  Mon Oct  2 06:25:10 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Mon, 2 Oct 2006 08:25:10 -0400
Subject: [Twisted-Python] twistd save state does not work
In-Reply-To: <4520B073.9090306@smartology.nl>
Message-ID: <20061002122510.1717.533352840.divmod.quotient.65032@ohm>

On Mon, 02 Oct 2006 08:23:47 +0200, Remi Cool <mailinglists at smartology.nl> wrote:
>
>Why not incorporate python logging into twisted? That way is easyer to 
>incorporate modules without having to 'bother' with twisted. Or use modules 
>which are not especially written for twisted.
>

That wouldn't solve the problem, which is that twistd doesn't allow logging
behavior to be customized.  Once twistd allows customized logging behavior,
you'll be able to customize it to use the stdlib logging module if you want.

For quite a few reasons, I doubt we would change twisted.python.log to use
the logging package directly.  One of the biggest problems is that most of
the modules which were not written particularly for Twisted are blocking,
so using them would break any Twisted application.

Jean-Paul



From TimothyFitz at gmail.com  Mon Oct  2 19:32:39 2006
From: TimothyFitz at gmail.com (Timothy Fitz)
Date: Mon, 2 Oct 2006 21:32:39 -0400
Subject: [Twisted-Python] ThreadedSelectReactor
Message-ID: <972ec5bd0610021832w5199267cr7c4a7bbca64f7403@mail.gmail.com>

Recently there have been some changes to ThreadedSelectReactor,
specifically that it is no longer being considered as a stand alone
reactor choice (for example, you will no longer be able to twistd
--reactor=threadedselect). This action is desirable since there's no
reason for it. As I understand TSR it's broken for that usage anyway;
however, I have been warned that TSR is completely broken and
shouldn't be used at all. What exactly and specifically are the
current problems or at least symptoms of TSR and is it truly broken?



From exarkun at divmod.com  Tue Oct  3 01:13:21 2006
From: exarkun at divmod.com (exarkun at divmod.com)
Date: Tue, 03 Oct 2006 02:13:21 -0500
Subject: [Twisted-Python] (no subject)
Message-ID: <E1GUeSv-0005nb-00@pyramid.twistedmatrix.com>

On 01:32 am, timothyfitz at gmail.com wrote:
>Recently there have been some changes to ThreadedSelectReactor,
>specifically that it is no longer being considered as a stand alone
>reactor choice (for example, you will no longer be able to twistd
>--reactor=threadedselect). This action is desirable since there's no
>reason for it. As I understand TSR it's broken for that usage anyway;
>however, I have been warned that TSR is completely broken and
>shouldn't be used at all. What exactly and specifically are the
>current problems or at least symptoms of TSR and is it truly broken?

Excellent question.  The initial problem is that it has approximately
zero test coverage.  You cannot run Twisted's test suite using tsr, so
who knows what it does?  Any change made by any developer to Twisted
might break it completely; as a tsr user, you might be the first to notice
this circumstance.  Not an ideal situation in the least.

If tsr is important, I would suggest finding a way to run Twisted's test
suite using it.  One way to do this is to implement the actual reactor
API using a subclass (or some such).  Trial might then run the test suite
using that reactor subclass.  Hopefully there will be support for reactor
plugins somewhat soon, but until then you'll need to patch the reactors
dictionary at the top of twisted/application/app.py.

Jean-Paul
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20061003/9a61a81a/attachment.html>

From TimothyFitz at gmail.com  Tue Oct  3 11:16:22 2006
From: TimothyFitz at gmail.com (Timothy Fitz)
Date: Tue, 3 Oct 2006 13:16:22 -0400
Subject: [Twisted-Python] (no subject)
In-Reply-To: <E1GUeSv-0005nb-00@pyramid.twistedmatrix.com>
References: <E1GUeSv-0005nb-00@pyramid.twistedmatrix.com>
Message-ID: <972ec5bd0610031016x2c2d85acg15052da604304775@mail.gmail.com>

On 10/3/06, exarkun at divmod.com <exarkun at divmod.com> wrote:
> If tsr is important, I would suggest finding a way to run Twisted's test
> suite using it.  One way to do this is to implement the actual reactor
> API using a subclass (or some such).  Trial might then run the test suite
> using that reactor subclass.  Hopefully there will be support for reactor
> plugins somewhat soon, but until then you'll need to patch the reactors
> dictionary at the top of twisted/application/app.py.

It sounds like even if I were to do this, I could still run into
issues with the interleaving being untested. I'm personally using it
to interleave with pygame, which is a somewhat common usage. Does it
make more sense to write a pygame reactor which then trial can use?
(And then setup another buildslave, or at least get it on the reactor
buildslave) Would a TSR-only reactor have any purpose outside of
running trial and allowing us to narrow down what issues might be
causing platform-related bugs?



From exarkun at divmod.com  Tue Oct  3 12:02:47 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Tue, 3 Oct 2006 14:02:47 -0400
Subject: [Twisted-Python] threadedselectreactor
In-Reply-To: <972ec5bd0610031016x2c2d85acg15052da604304775@mail.gmail.com>
Message-ID: <20061003180247.1717.1073232237.divmod.quotient.66256@ohm>

On Tue, 3 Oct 2006 13:16:22 -0400, Timothy Fitz <timothyfitz at gmail.com> wrote:
>On 10/3/06, exarkun at divmod.com <exarkun at divmod.com> wrote:
>>If tsr is important, I would suggest finding a way to run Twisted's test
>>suite using it.  One way to do this is to implement the actual reactor
>>API using a subclass (or some such).  Trial might then run the test suite
>>using that reactor subclass.  Hopefully there will be support for reactor
>>plugins somewhat soon, but until then you'll need to patch the reactors
>>dictionary at the top of twisted/application/app.py.
>
>It sounds like even if I were to do this, I could still run into
>issues with the interleaving being untested. I'm personally using it
>to interleave with pygame, which is a somewhat common usage. Does it
>make more sense to write a pygame reactor which then trial can use?

That's what I meant.

Jean-Paul



From glyph at divmod.com  Tue Oct  3 18:59:14 2006
From: glyph at divmod.com (glyph at divmod.com)
Date: Wed, 04 Oct 2006 00:59:14 -0000
Subject: [Twisted-Python] twistd save state does not work
Message-ID: <20061004005914.30582.1669850735.divmod.xquotient.49@joule.divmod.com>

On 2 Oct, 06:23 am, mailinglists at smartology.nl wrote:

>Why not incorporate python logging into twisted? That way is easyer to 
>incorporate modules without having to 'bother' with twisted. Or use modules 
>which are not especially written for twisted.

Exarkun already mentioned that this doesn't solve the problem doesn't being discussed, but there is an open issue for discussion of logging.py if you have other reasons you'd like to suggest.

  http://twistedmatrix.com/trac/ticket/307
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20061004/69799a2e/attachment.html>

From jarrod at vertigrated.com  Wed Oct  4 14:49:52 2006
From: jarrod at vertigrated.com (jarrod roberson)
Date: Wed, 4 Oct 2006 16:49:52 -0400
Subject: [Twisted-Python] Is there any way to run twisted ( via twistd ) in
	a real profiler?
Message-ID: <2389d4730610041349w6d835ae3j6fa3ce38f27f95fb@mail.gmail.com>

we are trying to find where Twisted is spending all its time in a
server we are working on?

-- 
If you don't know what you want, you probably need a nap.



From wsanchez at wsanchez.net  Thu Oct  5 12:08:12 2006
From: wsanchez at wsanchez.net (=?ISO-8859-1?Q?Wilfredo_S=E1nchez_Vega?=)
Date: Thu, 5 Oct 2006 11:08:12 -0700
Subject: [Twisted-Python] Twisted & Qt
In-Reply-To: <20060930095417.1717.528727954.divmod.quotient.63644@ohm>
References: <20060930095417.1717.528727954.divmod.quotient.63644@ohm>
Message-ID: <623DDFB3-3E00-4012-BA84-F100723120B2@wsanchez.net>

   This is bunk.

   Any application that uses the GPL'ed Qt (or any other GPL noise)  
is subject to the terms of the GPL.  This, of course, includes the Qt  
reactor.

   I'm find will pulling the reactor if you think it's creating  
confusion, but there are no circumstances under which the reactor  
itself must be licensed under the GPL.  It must be licensed under a  
GPL-compatible license in order to be used with Qt, and I agree that  
without that, the reactor is rather uninteresting in a practical sense.

   The Qt reactor can be MIT licensed, if for no other reason than  
the MIT license is GPL-compatible.  See "X11 License" here:

	http://www.fsf.org/licensing/licenses/index_html#GPLCompatibleLicenses

   The GPL is stupid.  There is no need to become stupid along with  
it.  The language below is misleading.  Instead say something like  
"If you use Qt in your application (which is likely, if you use this  
reactor), beware that you are subject to the license of Qt, which is,  
for some users, the GPL, which stupidly taints your code, and the  
reason people pay for Qt or use truly free software (like Twisted)  
instead."  Feel free to edit the pissy parts out.

   Anyway, short version: we don't redistribute GPL software, so we  
aren't bound to its terms, and neither is our software.  Any fool who  
does is.

	-wsv


On Sep 30, 2006, at 2:54 AM, glyph at divmod.com wrote:

> On Tue, 26 Sep 2006 14:14:24 -0400, glyph at divmod.com wrote:
>> On Tue, 26 Sep 2006 13:01:50 -0400, James Y Knight <foom at fuhm.net>  
>> wrote:
>
>>> If it is truly their position that the  textual source code of  
>>> qtreactor is a derivative work of PyQT, I  think they are quite  
>>> confused.
>
>> If it is your opinion that the "textual source code" is not a  
>> derivative work because it merely refers to, but does not  
>> incorporate, the text of qtreactor or qt, then the GPL is  
>> completely meaningless in the context of Python and there was no  
>> point in licensing it that way in the first place. Python bytecode  
>> does not make any additional references to the code it is  
>> importing beyond what Python source code does.
>
> I've got what I believe is the final word on this.  Phil Thompson  
> (again, Riverbank) says:
>
> """
> The reactor must be licensed under the GPL, but the rest of Twisted
> doesn't. A Twisted application that doesn't use the reactor can be
> licensed under the Twisted license. A Twisted application that uses  
> the
> reactor must be licensed under the GPL.
> """
>
> The best course of action, then, would be to distribute qtreactor  
> separately, since we can no longer say that Twisted is all MIT  
> licensed if we do not.  The practical ramifications of this are not  
> earth-shattering, so I think that we do not need to, e.g. release a  
> 2.4.1 which does not include qtreactor, but 2.5+ should definitely  
> not include it.
>
> I also asked specifically about not interfering with the PyQt/Qt  
> commercial license, and Mr. Thompson suggested wording like this:
>
> """
> This code is licensed under either the Twisted license or the GPL
> depending on the license of the copy of PyQt being used.
>
> If the GPL version of PyQt is being used then this code is also  
> licensed
> under the GPL. Given the viral nature of the GPL this means that any
> application must also be licensed under the GPL.
>
> If any other version of PyQt is being used (eg. commercial,  
> evaluation,
> educational) then this code is licensed under the Twisted license.
> """
>
> I suggest that we leave that wording mostly unchanged.
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python




From duncan.mcgreggor at gmail.com  Sat Oct  7 00:49:22 2006
From: duncan.mcgreggor at gmail.com (Duncan McGreggor)
Date: Sat, 07 Oct 2006 00:49:22 -0600
Subject: [Twisted-Python] A New Web Presence for Twisted
Message-ID: <45274DF2.1030201@gmail.com>

Huw Wilkins has done a fabulous job creating and donating a new look and
feel to the Twisted community. He is continuing in the effort while we
convert a testing/dev trac instance to his vision.

We are all getting excited about having the new site go live, and could
use a little help from the community. For those willing to put some time
into testing the development version of the site, there is a trac item
for logging issues encountered:

  http://twistedmatrix.com/trac/ticket/2156

Note that the following trac items are being explored on the dev
instance as well:

  http://twistedmatrix.com/trac/ticket/2141
  http://twistedmatrix.com/trac/ticket/2142

Thanks, and stay tuned!

d



From manlio_perillo at libero.it  Sat Oct  7 16:02:50 2006
From: manlio_perillo at libero.it (Manlio Perillo)
Date: Sun, 08 Oct 2006 00:02:50 +0200
Subject: [Twisted-Python] _dumbwin32proc and PIPE_NOWAIT
In-Reply-To: <20060930232337.1717.1142591311.divmod.quotient.63977@ohm>
References: <20060930232337.1717.1142591311.divmod.quotient.63977@ohm>
Message-ID: <4528240A.6030108@libero.it>

glyph at divmod.com ha scritto:
> [...]

>> Here is the main code.
>> I suspect such a thing will never be accepted into Twisted ;-):
> 
> As JP said, it might, with some tests and a patch in the tracker :).
> 
>> The _win32stdio module can simply check if the stdin is attached to a
>> terminal, so it (hopefully) can support both pipes and consoles.
> 
> That would be great.
> 

I have managed to have an acceptable solution:
http://twistedmatrix.com/trac/attachment/ticket/2157/


>> Many things can be added, like an emulation of POSIX terminal, callbacks
>> for resize events, support for focus in/out, colored output, history
>> editing, ...
> 
>> [1]
>> How can be tested such a thing?
> 
> In addition to JP's suggestion, "mock" the actual API you will be
> testing with, by replacing it in the tests and asserting that the
> appropriate things are called on the console object that you are passing
> it.
> 
> Both approaches make sense in different situations, and good test
> coverage will generally do both.
> 


For now in the test suit I simply put some characters in the console
input buffer (with WriteConsoleInput), checking that they are
read/handled correctly.

I think that this should suffice.


If this patch is accepted I will add a new module,
twisted.internet.termios, for a portable termios support (to be used by
conch script).

My implementation supports raw mode and adding a callback when the
window size changes.
In future I will add history editing (as it works in cmd.exe)


Regards  Manlio Perillo



From exarkun at twistedmatrix.com  Sat Oct  7 23:05:02 2006
From: exarkun at twistedmatrix.com (exarkun at twistedmatrix.com)
Date: Sun, 08 Oct 2006 05:05:02 -0000
Subject: [Twisted-Python] Weekly Bug Summary
Message-ID: 1160283902.49.1947637632@twistedmatrix.com

Bug summary
______________________
Summary for 2006-10-01 through 2006-10-08
Bugs opened: 15    Bugs closed: 13  Total open bugs: 740 (+2)

|== Type Changes   |== Priority Changes   |== Component Changes     
|Defect:       -3  |Highest:  -3          |Conch:               +1  
|Enhancement:  +5  |High:     -4          |Core:                -1  
|Task:         +0  |Normal:  +10          |Names:               +0  
                   |Low:      -1          |Pb:                  -1  
                                          |Release Management:  +0  
                                          |Trial:               +4  
                                          |Web:                 -1  
                                          |Web2:                +1  
                                          |Website:             +0  
                                          |Words:               -1  


New / Reopened Bugs
______________________
                    ===== Highest =====
[#2148] Clean conch tests (opened by therve)
    enhancement     conch      http://twistedmatrix.com/trac/ticket/2148

[#2149] test_names.ServerDNSTestCase.tearDown doesn't wait for TCP Port closure (opened by PenguinOfDoom) (CLOSED, fixed)
    defect          names      http://twistedmatrix.com/trac/ticket/2149

[#2150] skip test_udp.ReactorShutdownInteraction for non-UDP-supporting reactors (opened by PenguinOfDoom) (CLOSED, fixed)
    enhancement     names      http://twistedmatrix.com/trac/ticket/2150

[#2155] test_udp.ReactorShutdownInteraction needs to clean up the UDP port (opened by PenguinOfDoom)
    defect          core       http://twistedmatrix.com/trac/ticket/2155

                    ===== Normal =====
[#2143] Improve test_cftp (opened by jml)
    task            conch      http://twistedmatrix.com/trac/ticket/2143

[#2144] Add Trial option to stop test run on the first failure (opened by jml)
    enhancement     trial      http://twistedmatrix.com/trac/ticket/2144

[#2145] Reporter factories for runner should take no arguments (opened by jml)
    task            trial      http://twistedmatrix.com/trac/ticket/2145

[#2146] t.trial.runner.samefile returns false negatives (opened by jml)
    defect          trial      http://twistedmatrix.com/trac/ticket/2146

[#2147] Give TestCase a default testMethod (opened by jml)
    enhancement     trial      http://twistedmatrix.com/trac/ticket/2147

[#2151] web2.static.File should take a FilePath in __init__, not a path string. (opened by wsanchez)
    enhancement     web2       http://twistedmatrix.com/trac/ticket/2151

[#2152] web2 dependency issue in svn trunk (opened by rikyu) (CLOSED, invalid)
    defect          release management http://twistedmatrix.com/trac/ticket/2152

[#2153] Remove hard dependency on pyopenssl from t.p.amp (opened by paulg)
    defect          core       http://twistedmatrix.com/trac/ticket/2153

[#2154] test_udp spits a DeprecationWarning regarding flushErrors (opened by PenguinOfDoom)
    defect          core       http://twistedmatrix.com/trac/ticket/2154

[#2156] New Twisted Site Preparing for Release (opened by oubiwann)
    enhancement     website    http://twistedmatrix.com/trac/ticket/2156

[#2157] console support for stdio in Windows (opened by synapsis)
    enhancement     core       http://twistedmatrix.com/trac/ticket/2157



Closed Bugs
______________________
                    ===== Highest =====
[#1999] Move newpb out of trunk into a branch or separate package (opened by exarkun, closed by warner, fixed)
    task            pb         http://twistedmatrix.com/trac/ticket/1999

[#1185] twisted.conch.test.test_recvline calls reactor.iterate() (opened by exarkun, closed by exarkun, fixed)
    defect          conch      http://twistedmatrix.com/trac/ticket/1185

[#2150] skip test_udp.ReactorShutdownInteraction for non-UDP-supporting reactors (opened by PenguinOfDoom, closed by pahan, fixed)
    enhancement     names      http://twistedmatrix.com/trac/ticket/2150

[#1051] HTTP server doesn't handle cookies containing '=' (opened by abram, closed by jml, fixed)
    defect          web        http://twistedmatrix.com/trac/ticket/1051

[#2127] Certificate.inspect busted (opened by exarkun, closed by exarkun, fixed)
    defect          core       http://twistedmatrix.com/trac/ticket/2127

[#2126] threadedselectreactor is made available as though it were a reactor (but it is not a reactor) (opened by exarkun, closed by exarkun, fixed)
    defect          core       http://twistedmatrix.com/trac/ticket/2126

[#2149] test_names.ServerDNSTestCase.tearDown doesn't wait for TCP Port closure (opened by PenguinOfDoom, closed by pahan, fixed)
    defect          names      http://twistedmatrix.com/trac/ticket/2149

                    ===== High =====
[#1896] Put giant warnings about obsoleteness on obsolete webpages (opened by exarkun, closed by oubiwann, duplicate)
    task            website    http://twistedmatrix.com/trac/ticket/1896

[#1194] twisted.test.test_sip calls reactor.iterate() (opened by exarkun, closed by therve, fixed)
    defect          core       http://twistedmatrix.com/trac/ticket/1194

[#1197] twisted.test.test_tcp calls reactor.iterate() (opened by exarkun, closed by therve, fixed)
    defect          core       http://twistedmatrix.com/trac/ticket/1197

[#488 ] [PATCH] [TEST] problem with arg handling in soap service (opened by waterbug, closed by therve, fixed)
    defect          core       http://twistedmatrix.com/trac/ticket/488

                    ===== Normal =====
[#2152] web2 dependency issue in svn trunk (opened by rikyu, closed by rikyu, invalid)
    defect          release management http://twistedmatrix.com/trac/ticket/2152

                    ===== Low =====
[#922 ] Add test cases for twisted.words.protocols.jabber.client (opened by ralphm, closed by ralphm, fixed)
    enhancement     words      http://twistedmatrix.com/trac/ticket/922





From TimothyFitz at gmail.com  Sun Oct  8 17:16:44 2006
From: TimothyFitz at gmail.com (Timothy Fitz)
Date: Sun, 8 Oct 2006 19:16:44 -0400
Subject: [Twisted-Python] Windows Buildbot for DDR Ram
In-Reply-To: <op.tg4gyfszy3d107@archimedes>
References: <972ec5bd0609070739m3c45c64ej43b69f426dbb68af@mail.gmail.com>
	<20060911002902.1717.209455672.divmod.quotient.45439@ohm>
	<20060911032546.GA2558@dreid.org>
	<7.0.1.0.2.20060911065215.02b18550@adelphia.net>
	<972ec5bd0609110752q4d42eaf6t8edbb2ea49647b70@mail.gmail.com>
	<ac6817db0609110857l68a63e98n8701a3658e93cdc9@mail.gmail.com>
	<972ec5bd0609110915j727e4b01t1367836df27de808@mail.gmail.com>
	<972ec5bd0609110918g1ee08e8r30a0610447c82d45@mail.gmail.com>
	<17669.37363.893469.295889@terry-jones-computer.local>
	<op.tg4gyfszy3d107@archimedes>
Message-ID: <972ec5bd0610081616x3ff03dacj3bcbb7611f2e5c89@mail.gmail.com>

On 10/8/06, Eric Mangold <teratorn at twistedmatrix.com> wrote:
> I have some $$ sitting here from a previous donation that ought to be put
> to good use.

Thanks for the support but the iocp-buildslave is already paid for and
built, details and pictures can be found at
http://www.timothyfitz.com/blog/?p=5 .

Of course, we can always use *more* buildslaves, so if you happen to
have $300 or so laying around, we need a threadedselectreactor
buildslave and a wxReactor buildslave.

Timothy Fitz



From foom at fuhm.net  Sun Oct  8 22:59:51 2006
From: foom at fuhm.net (James Y Knight)
Date: Mon, 9 Oct 2006 00:59:51 -0400
Subject: [Twisted-Python] Twisted & Qt
In-Reply-To: <623DDFB3-3E00-4012-BA84-F100723120B2@wsanchez.net>
References: <20060930095417.1717.528727954.divmod.quotient.63644@ohm>
	<623DDFB3-3E00-4012-BA84-F100723120B2@wsanchez.net>
Message-ID: <1E5A96AA-A32C-4688-AC0B-2D3E3260849D@fuhm.net>

On Oct 5, 2006, at 2:08 PM, Wilfredo Sánchez Vega wrote:
> This is bunk.

Yes, I agree (again). Look at KDE. If it's okay for the library parts  
of KDE to be licensed under the LGPL (which they are)...how can it be  
improper for qtreactor to be licensed under the MIT license. If the  
argument is that qtreactor is a derivative work of Qt, firstly,  
that's utterly insane, and secondly, KDE is *much* more arguably a  
derivative work than qtreactor.

In addition, the proposed "license" terms:
> """
> This code is licensed under either the Twisted license or the GPL
> depending on the license of the copy of PyQt being used.
>
> If the GPL version of PyQt is being used then this code is also  
> licensed
> under the GPL. Given the viral nature of the GPL this means that any
> application must also be licensed under the GPL.
>
> If any other version of PyQt is being used (eg. commercial,  
> evaluation,
> educational) then this code is licensed under the Twisted license.
> """
>
make very little sense. The license under which we make the code  
available shouldn't depend on something the user does with it. What I  
think he's trying to say there is that the code is available under  
the MIT license, but if you're putting it together with a GPL'd qt,  
you have to treat it as GPLd as well. Which is necessarily the case  
(because of the GPL), whether or not *we* say that. If it would make  
people happy, we could say something like:

"This module may be used under either the MIT or GPL license, at your  
option. However, note that your license of the underlying PyQt and Qt  
libraries may influence which you may use. (in particular, when using  
the GPL version of Qt, this module in turn must be treated under the  
GPL as well, as per Qt's GPL license)."

That is, of course, identical to the MIT license in actual meaning,  
but might make things clearer for people. Yes, you cannot really take  
advantage of its non-GPLness unless you pay for a commercial license  
of PyQt and Qt, but that's not our problem. We have no interest in  
forcing people to abide by the GPL with regards to the code in  
qtreactor, and the license should make that clear (by remaining an  
MIT license).

In addition, I think this whole thing has been a waste of time.  
Nobody was upset by qtreactor's license, there was no reason to even  
worry about it in the first place.

James




From corydodt at gmail.com  Mon Oct  9 12:06:47 2006
From: corydodt at gmail.com (Cory Dodt)
Date: Mon, 9 Oct 2006 11:06:47 -0700
Subject: [Twisted-Python] Twisted & Qt
In-Reply-To: <1E5A96AA-A32C-4688-AC0B-2D3E3260849D@fuhm.net>
References: <20060930095417.1717.528727954.divmod.quotient.63644@ohm>
	<623DDFB3-3E00-4012-BA84-F100723120B2@wsanchez.net>
	<1E5A96AA-A32C-4688-AC0B-2D3E3260849D@fuhm.net>
Message-ID: <c16a94ff0610091106v68de6f9bq4c715c63109e9000@mail.gmail.com>

Are we all forgetting how copyright works?  The GPL only applies if
copyright applies.  Copyright only applies if you're making copies of
someone else's materials.  The qtreactor does not do that, because we don't
include anyone else's files or distribute them.  Someone writing an
application *might* be, but that's their problem.

qtreactor should remain plain old MIT, or it should be dropped and left for
someone else to maintain, because frankly this whole issue has become
radioactive.

C


On 10/8/06, James Y Knight <foom at fuhm.net> wrote:
>
> On Oct 5, 2006, at 2:08 PM, Wilfredo Sánchez Vega wrote:
> > This is bunk.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20061009/8e614eb9/attachment.html>

From exarkun at divmod.com  Mon Oct  9 12:47:47 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Mon, 9 Oct 2006 14:47:47 -0400
Subject: [Twisted-Python] Mailing List Hiccup
In-Reply-To: 0
Message-ID: <20061009184747.1717.790209146.divmod.quotient.71949@ohm>

Mailman was out to lunch for a few days last week and over the weekend.  Things
should be sorted out now, and I don't think any messages _to_ the list got lost,
however I do think delivery of those messages to some subscribers got messed up. 
I don't know of any way to rectify this, so if you want to be sure you didn't
miss any messages, you may want to go take a look at the mailman archives
(linked from the bottom of this message).

Jean-Paul




From slamb at slamb.org  Mon Oct  9 18:58:52 2006
From: slamb at slamb.org (Scott Lamb)
Date: Mon, 9 Oct 2006 17:58:52 -0700
Subject: [Twisted-Python] Trial __del__ behavior change - intentional?
Message-ID: <438FC6AD-F29C-4263-91FB-7A90A3DB44BC@slamb.org>

I'm seeing a weird thing on Twisted 2.2.0. It does not happen with  
older versions of Twisted (trunk revision 16674, which I had sitting  
around for some reason). It appears I can't use reference handling to  
clean up resources within a trial - the output code apparently keeps  
a reference to the stack trace or something until after it's done.  
That's too late for me - this resource is essentially a mutex, so if  
I have more than one TestCase in a single trial run, my tests don't  
work.

Is this change intentional?

My test code's inline, along with results on both versions. I'm not  
quite sure how make proper unit tests of trial itself, so  
unfortunately you must interpret the results manually.

$ cat resource_test.py
#!/usr/bin/env
"""A test of using __del__ for cleaning up resources within trial tests.

On trunk revision 16674, this works fine. On Twisted 2.2.0, something  
holds
an extra reference to my resource object. Python actually exits without
ever calling my __del__.
"""

from twisted.trial import unittest

class MyResource:
     def __init__(self, cleaned_up):
         print '<<<INIT CALLED>>>'
         self.cleaned_up = cleaned_up

     def __del__(self):
         print '<<<DEL CALLED>>>'
         self.cleaned_up[0] = True

     def raiseerror(self):
         raise Exception('foo')

class ReferenceTest(unittest.TestCase):
     def setUp(self):
         # This is an array so that the callee can make changes that  
alter
         # our copy.
         self.cleaned_up = [False]
         self.my_resource = MyResource(self.cleaned_up)

     def tearDown(self):
         self.my_resource = None
         self.assertEquals(self.cleaned_up[0], True)

     def testError(self):
         self.my_resource.raiseerror()

     def testPass(self):
         pass


[machine-a ~]$ svnversion svn/Twisted
16674
[machine-a ~]$ trial resource_test
   resource_test
     ReferenceTest
<<<INIT CALLED>>>
       testError ... <<<DEL CALLED>>>
                                                     [ERROR]
<<<INIT CALLED>>>
       testPass ... <<<DEL CALLED>>>
                                                         [OK]

======================================================================== 
=======
[ERROR]: resource_test.ReferenceTest.testError

   File "twisted/internet/defer.py", line 109, in maybeDeferred

   File "/Users/slamb/resource_test.py", line 35, in testError
     self.my_resource.raiseerror()
   File "/Users/slamb/resource_test.py", line 21, in raiseerror
     raise Exception('foo')
exceptions.Exception: foo
------------------------------------------------------------------------ 
-------
Ran 2 tests in 0.030s

FAILED (errors=1, successes=1)

[machine-b ~]$ rpm -q python-twisted
python-twisted-2.2.0-1
[machine-b ~]$ trial resource_test
Running 2 tests.
resource_test
   ReferenceTest
     testError ... <<<INIT CALLED>>>
                                                       [ERROR]
                                                       [ERROR]
   tearDown                                                          
['ERROR']
     testPass ... <<<INIT CALLED>>>
<<<DEL CALLED>>>
                                                           [OK]

======================================================================== 
=======
[ERROR]: resource_test.ReferenceTest.testError

   File "/home/slamb/resource_test.py", line 35, in testError
     self.my_resource.raiseerror()
   File "/home/slamb/resource_test.py", line 21, in raiseerror
     raise Exception('foo')
exceptions.Exception: foo
======================================================================== 
=======
[ERROR]: resource_test.ReferenceTest.testError

   File "/home/slamb/resource_test.py", line 32, in tearDown
     self.assertEquals(self.cleaned_up[0], True)
twisted.trial.unittest.FailTest: False != True
------------------------------------------------------------------------ 
-------
Ran 2 tests in 0.055s

FAILED (errors=2, successes=1)
<<<DEL CALLED>>>

-- 
Scott Lamb <http://www.slamb.org/>





From glyph at divmod.com  Mon Oct  9 23:04:50 2006
From: glyph at divmod.com (glyph at divmod.com)
Date: Tue, 10 Oct 2006 05:04:50 -0000
Subject: [Twisted-Python] Twisted & Qt
Message-ID: <20061010050450.5666.1602139835.divmod.xquotient.121@joule.divmod.com>

On 9 Oct, 04:59 am, foom at fuhm.net wrote:
>On Oct 5, 2006, at 2:08 PM, Wilfredo S�nchez Vega wrote:
>>This is bunk.
>
>Yes, I agree (again).

There's really no reason to keep discussing this unless you get input from a lawyer or a relevant copyright holder.  The decision has been made: qtreactor is going to be developed and released outside of Twisted trunk proper, but given the relatively light level of development it generally sees, I don't see this creating a lot of problems. 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20061010/e7cd0680/attachment.html>

From glyph at divmod.com  Mon Oct  9 23:11:43 2006
From: glyph at divmod.com (glyph at divmod.com)
Date: Tue, 10 Oct 2006 05:11:43 -0000
Subject: [Twisted-Python] Trial __del__ behavior change - intentional?
Message-ID: <20061010051143.5666.1678925604.divmod.xquotient.127@joule.divmod.com>

On 12:58 am, slamb at slamb.org wrote:
>It appears I can't use reference handling to  clean up 
>resources within a trial - the output code apparently keeps  a reference to 
>the stack trace or something until after it's done.  That's too late for me 
>- this resource is essentially a mutex, so if  I have more than one TestCase 
>in a single trial run, my tests don't  work.

I can't speak to the intentionality of that particular change, but there are many cases where code (not necessarily trial) will do something like this temporarily.  You should always treat __del__ as slightly non-deterministic unless you have a very tightly controlled test _specifically_ for your __del__ and it includes a gc.collect().

Do startup / cleanup with the 'setUp' and 'tearDown' TestCase methods.  Don't depend on garbage collection: this goes for both your application and your test code.  Implicitly depending on the garbage collector's behavior will very likely make your program break under the debugger, but not under normal operation (or vice versa).
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20061010/79028333/attachment.html>

From slamb at slamb.org  Tue Oct 10 00:28:11 2006
From: slamb at slamb.org (Scott Lamb)
Date: Mon, 09 Oct 2006 23:28:11 -0700
Subject: [Twisted-Python] Trial __del__ behavior change - intentional?
In-Reply-To: <20061010051143.5666.1678925604.divmod.xquotient.127@joule.divmod.com>
References: <20061010051143.5666.1678925604.divmod.xquotient.127@joule.divmod.com>
Message-ID: <452B3D7B.7010805@slamb.org>

glyph at divmod.com wrote:
> On 12:58 am, slamb at slamb.org wrote:
>  >It appears I can't use reference handling to  clean up
>  >resources within a trial - the output code apparently keeps  a 
> reference to
>  >the stack trace or something until after it's done.  That's too late 
> for me
>  >- this resource is essentially a mutex, so if  I have more than one 
> TestCase
>  >in a single trial run, my tests don't  work.
> 
> I can't speak to the intentionality of that particular change, but there 
> are many cases where code (not necessarily trial) will do something like 
> this temporarily.  You should always treat __del__ as slightly 
> non-deterministic unless you have a very tightly controlled test 
> _specifically_ for your __del__ and it includes a gc.collect().

Ugh. No, under those restrictions, I'll avoid it entirely. Looks like I 
need more tearDown() stuff and a few finally clauses, Java-style.

> Do startup / cleanup with the 'setUp' and 'tearDown' TestCase methods. 
>  Don't depend on garbage collection: this goes for both your application 
> and your test code.  Implicitly depending on the garbage collector's 
> behavior will very likely make your program break under the debugger, 
> but not under normal operation (or vice versa).

Is this documented somewhere? I'm not sure where the logical place is, 
but I'm used to CPython code that generally avoids circular references, 
so this strikes me as unusual - I've never had a reason to call 
gc.collect(), and I've rarely even noticed that Python *has* a garbage 
collector. Including your statement in the documentation might save some 
pain.

Thanks for your help.

Warm regards,
Scott

-- 
Scott Lamb <http://www.slamb.org/>



From slamb at slamb.org  Tue Oct 10 01:01:19 2006
From: slamb at slamb.org (Scott Lamb)
Date: Tue, 10 Oct 2006 00:01:19 -0700
Subject: [Twisted-Python] trial for integration tests - setUpClass(),
	tearDownClass()
Message-ID: <452B453F.9000100@slamb.org>

We're using trial for tests of an external device. We've got some 
C-based unit tests where we're able to run our code on the build 
machine, but the Python/trial stuff is more of an integration test:

* Python can't run on our device itself - not only would the porting 
effort be prohibitive, it simply wouldn't fit.
* Tests inevitably cover more than one unit - everything requires the 
thing to have booted successfully, tests require either working console 
or Ethernet+IP+TCP+SSL+SSH, etc.
* We can't realistically do a new boot for each test method. It'd take 
too long. We're currently doing everything in one boot; one boot per 
test class might be feasible.

We're really not using any twisted-testing features of trial, and for us 
the package name "twisted.trial.unittest" is a total lie, but it 
provides a pretty nice framework all the same. buildbot understands its 
output, it does nice things like giving you results on 
InterruptException, etc.

So given our unusual usage, there's some stuff we need to do in 
setUpClass() and tearDownClass(). I've seen murmurs on the list avoid 
removing them. What's the latest? I like them, but I've encountered a 
couple problems so far:

* When setUpClass() errors out, Trial says our tests are broken, then 
tries again for every test method in the class. I have a thick skin, so 
I can take the taunting, but trying to reboot the thing a million times 
is pretty undesirable.

* If the final setUp() fails, tearDownClass() is never invoked. (I'll 
file a bug with details if there's still interest in setUpClass() and 
tearDownClass().)

-- 
Scott Lamb <http://www.slamb.org/>



From swalsh at ncipher.com  Tue Oct 10 11:34:24 2006
From: swalsh at ncipher.com (Walsh, Sandy)
Date: Tue, 10 Oct 2006 11:34:24 -0600
Subject: [Twisted-Python] Problems with code in "Twisted" book ...
Message-ID: <075DE16201D10648805AD252D1BC132203704366@VS6.EXCHPROD.USA.NET>

Hey there, 

Just got a copy of "Twisted" and I've been playing around with the book
examples. Can't seem to get the "Example 2-6. dataforward.py" to work on
Windows. I've reverted back to Python 2.3 (because I ultimately want to
use the secure stuff later). It compiles and runs, but I get no echo of
the input and the reactor seems to be frozen. When I Ctrl-C the program
I get my keyed input spewed into the console, so it seems python is not
receiving it. 

Is there a place I can check for the latest code from the book or is
there a more suitable place to ask questions of this type?

Thx,
Sandy




From BRADLEY.S.GASPARD at saic.com  Tue Oct 10 12:58:01 2006
From: BRADLEY.S.GASPARD at saic.com (Gaspard, Bradley S)
Date: Tue, 10 Oct 2006 14:58:01 -0400
Subject: [Twisted-Python] udp checksum
Message-ID: <702ADCB87C5EF340B1D7A597A9DFF1DA4B8B88@0015-its-exmb02.us.saic.com>

As a newbie trying to learn twisted I was playing with the udp echo
client/server that comes with twisted  (2.4.0) (echoclient_upd.py and
echoserv_udp.py) which worked fine except that when I observed the packets
using Ethereal it indicated that the udp checksum was in error?! [running
the example multiple times ... not just a one time occurance]

I am on a linux platform and my version of ethereal is 0.10.14 and Python is
2.4.2

Am I missing something??



From exarkun at divmod.com  Tue Oct 10 13:26:31 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Tue, 10 Oct 2006 15:26:31 -0400
Subject: [Twisted-Python] udp checksum
In-Reply-To: <702ADCB87C5EF340B1D7A597A9DFF1DA4B8B88@0015-its-exmb02.us.saic.com>
Message-ID: <20061010192631.1717.1996162280.divmod.quotient.72931@ohm>

On Tue, 10 Oct 2006 14:58:01 -0400, "Gaspard, Bradley S" <bradley.s.gaspard at saic.com> wrote:
>As a newbie trying to learn twisted I was playing with the udp echo
>client/server that comes with twisted  (2.4.0) (echoclient_upd.py and
>echoserv_udp.py) which worked fine except that when I observed the packets
>using Ethereal it indicated that the udp checksum was in error?! [running
>the example multiple times ... not just a one time occurance]
>
>I am on a linux platform and my version of ethereal is 0.10.14 and Python is
>2.4.2
>
>Am I missing something??
>

Ethereal often incorrectly reports that checksums are invalid.

Jean-Paul



From p.mayers at imperial.ac.uk  Tue Oct 10 14:49:48 2006
From: p.mayers at imperial.ac.uk (Phil Mayers)
Date: Tue, 10 Oct 2006 21:49:48 +0100
Subject: [Twisted-Python] udp checksum
In-Reply-To: <20061010192631.1717.1996162280.divmod.quotient.72931@ohm>
References: <20061010192631.1717.1996162280.divmod.quotient.72931@ohm>
Message-ID: <452C076C.8020805@imperial.ac.uk>

> 
> Ethereal often incorrectly reports that checksums are invalid.

Hardware checksum offloading can be a problem too. I've disabled it on 
more than one Linux server (especially with broadcom NICs) to find 
certain weird networking problems resolved.



From ncesar at lunix.com.ar  Wed Oct 11 14:30:25 2006
From: ncesar at lunix.com.ar (Nicolas D. Cesar)
Date: Wed, 11 Oct 2006 17:30:25 -0300
Subject: [Twisted-Python] Change twisted logging
Message-ID: <200610111730.25618.ncesar@lunix.com.ar>

How can I supress the "Traceback (most recent call last)" when an uncaught 
Exception rises up to twistd..?

I did:
-------------------------------------------------
originalLogger = log.theLogPublisher.observers.pop(0)
def emit(eventDict):
    if eventDict["isError"]:
        eventDict["message"] = ["[EE] " + x for x in eventDict["message"]]

    global originalLogger
    originalLogger(eventDict)

log.addObserver(emit)
--------------------------------------------------


and got:
-------------------------------------------------
2006/10/11 17:23 ART [-] [EE] Traceback (most recent call last):
2006/10/11 17:23 ART [-] [EE]   File "/usr/bin/twistd", line 25, in ?
2006/10/11 17:23 ART [-] [EE]     run()
2006/10/11 17:23 ART [-] [EE]   
File "/usr/lib/python2.4/site-packages/twisted/scripts/twistd.py", line 205, 
in run
[...]
2006/10/11 17:23 ART [-] [EE]   
File "/u/home/ncesar/src-svn/twisted-tests/src/multiltsp/servers.py", line 
375, in loadServers
2006/10/11 17:23 ART [-] [EE]     raise 
MandatoryConfig(os.path.join(os.getcwd(),servers_file),'main','servers')
2006/10/11 17:23 ART [-] [EE] multiltsp.servers.MandatoryConfig: ERROR: (..)
-----------------------------------------------

I just want to show the last line... not all the traceback info. Is this 
posible? 

Greetings,
-- 
Nicolás D. César <ncesar at lunix.com.ar>
Lunix S.R.L. -[ http://www.lunix.com.ar ]-
GnuPG Public Key: gpg --keyserver wwwkeys.pgp.net --recv-key 0x3606F3E6
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
URL: </pipermail/twisted-python/attachments/20061011/c4f69ac9/attachment.sig>

From glyph at divmod.com  Wed Oct 11 14:54:21 2006
From: glyph at divmod.com (glyph at divmod.com)
Date: Wed, 11 Oct 2006 20:54:21 -0000
Subject: [Twisted-Python] Change twisted logging
Message-ID: <20061011205421.17968.1259160777.divmod.xquotient.119@joule.divmod.com>


On 08:30 pm, ncesar at lunix.com.ar wrote:
>How can I supress the "Traceback (most recent call last)" when an uncaught
>Exception rises up to twistd..?

You can't.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20061011/f8a12424/attachment.html>

From mmcnett at cs.ucsd.edu  Wed Oct 11 15:57:45 2006
From: mmcnett at cs.ucsd.edu (Marvin McNett)
Date: Wed, 11 Oct 2006 14:57:45 -0700
Subject: [Twisted-Python] database transaction commit
Message-ID: <452D68D9.3070405@cs.ucsd.edu>

In the adbapi documentation it says, "In all cases a database 
transaction will be commited after your database usage is finished, 
unless an exception is raised in which case it will be rolled back."

So, I'm wondering when my database usage is actually finished.  In the 
example there, would it be after the call to '_getAge' or after the call 
to 'printResult' (i.e. after the callable to runInteraction or after the 
last callback attached to the deferred)?

Thanks,
Marvin



From p.mayers at imperial.ac.uk  Wed Oct 11 17:58:12 2006
From: p.mayers at imperial.ac.uk (Phil Mayers)
Date: Thu, 12 Oct 2006 00:58:12 +0100
Subject: [Twisted-Python] database transaction commit
In-Reply-To: <452D68D9.3070405@cs.ucsd.edu>
References: <452D68D9.3070405@cs.ucsd.edu>
Message-ID: <452D8514.4080101@imperial.ac.uk>

Marvin McNett wrote:
> In the adbapi documentation it says, "In all cases a database 
> transaction will be commited after your database usage is finished, 
> unless an exception is raised in which case it will be rolled back."
> 
> So, I'm wondering when my database usage is actually finished.  In the 
> example there, would it be after the call to '_getAge' or after the call 
> to 'printResult' (i.e. after the callable to runInteraction or after the 
> last callback attached to the deferred)?

I believe if runInteraction returns (as opposed to excepting) then the 
transaction has committed?



From swalsh at ncipher.com  Thu Oct 12 11:53:58 2006
From: swalsh at ncipher.com (Walsh, Sandy)
Date: Thu, 12 Oct 2006 11:53:58 -0600
Subject: [Twisted-Python] RE: Problems with code in "Twisted" book ...
Message-ID: <075DE16201D10648805AD252D1BC1322037C6BD1@VS6.EXCHPROD.USA.NET>


Anyone have any answers to this?

Abe? Care to support one of your customers?

-Sandy

-----Original Message-----
From: Walsh, Sandy 
Sent: Tuesday, October 10, 2006 2:34 PM
To: 'twisted-python at twistedmatrix.com'
Subject: Problems with code in "Twisted" book ...

Hey there, 

Just got a copy of "Twisted" and I've been playing around with the book
examples. Can't seem to get the "Example 2-6. dataforward.py" to work on
Windows. I've reverted back to Python 2.3 (because I ultimately want to
use the secure stuff later). It compiles and runs, but I get no echo of
the input and the reactor seems to be frozen. When I Ctrl-C the program
I get my keyed input spewed into the console, so it seems python is not
receiving it. 

Is there a place I can check for the latest code from the book or is
there a more suitable place to ask questions of this type?

Thx,
Sandy




From exarkun at divmod.com  Thu Oct 12 13:44:02 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Thu, 12 Oct 2006 15:44:02 -0400
Subject: [Twisted-Python] Problems with code in "Twisted" book ...
In-Reply-To: <075DE16201D10648805AD252D1BC132203704366@VS6.EXCHPROD.USA.NET>
Message-ID: <20061012194402.26151.440793185.divmod.quotient.234@ohm>

On Tue, 10 Oct 2006 11:34:24 -0600, "Walsh, Sandy" <swalsh at ncipher.com> wrote:
>Hey there,
>
>Just got a copy of "Twisted" and I've been playing around with the book
>examples. Can't seem to get the "Example 2-6. dataforward.py" to work on
>Windows. I've reverted back to Python 2.3 (because I ultimately want to
>use the secure stuff later). It compiles and runs, but I get no echo of
>the input and the reactor seems to be frozen. When I Ctrl-C the program
>I get my keyed input spewed into the console, so it seems python is not
>receiving it.

I can at least confirm that it doesn't work for me on Windows, either.  I
couldn't say why without doing more investigation, though.  The
dataforward.py example looks a little more complex than it needs to be, but
not obviously broken.  This may simply be poor stdio handling on Windows.

>
>Is there a place I can check for the latest code from the book or is
>there a more suitable place to ask questions of this type?
>
>Thx,
>Sandy
>

Jean-Paul



From warner at lothar.com  Fri Oct 13 01:38:28 2006
From: warner at lothar.com (Brian Warner)
Date: Fri, 13 Oct 2006 00:38:28 -0700 (PDT)
Subject: [Twisted-Python] Foolscap-0.0.3 released (aka newpb)
Message-ID: <20061013.003828.01839254.warner@lothar.com>

I've released version 0.0.3 of Foolscap (aka newpb), the next-generation
remote-object communication library for Twisted.

This release is still highly unstable: incompatible protocols changes *will*
happen, so don't use it if you can't retain control over both ends of the
wire.

This release contains a bunch of API changes and some new features:
eventual-send operators, an early version of Promises, and improvements to
the way Gifts are delivered. The NEWS file is attached below with complete
details.

Check out the Foolscap home page at:

 http://twistedmatrix.com/trac/wiki/FoolsCap

for docs, feature lists, and all your other Foolscap needs. And download the
0.0.3 release from here:

 http://twistedmatrix.com/~warner/Foolscap/


share and enjoy,
 -Brian




* Release 0.0.3 (05 Oct 2006)

** API Changes

The primary entry point for Foolscap is now the "Tub":

    import foolscap
    t = foolscap.Tub()
    d = t.getReference(pburl)
    d.addCallback(self.gotReference)
    ...

The old "PBService" name is gone, use "Tub" instead. There are now separate
classes for "Tub" and "UnauthenticatedTub", rather than using an "encrypted="
argument. Tubs always use encryption if available: the difference between the
two classes is whether this Tub should use a public key for its identity or
not. Note that you always need encryption to connect to an authenticated Tub.
So install pyopenssl, really.

** eventual send operators

Foolscap now provides 'eventually' and 'fireEventually', to implement the
"eventual send" operator advocated by Mark Miller's "Concurrency Among
Strangers" paper (http://www.erights.org/talks/promises/index.html).
eventually(cb, *args, **kwargs) runs the given call in a later reactor turn.
fireEventually(value=None) returns a Deferred that will be fired (with
'value') in a later turn. These behave a lot like reactor.callLater(0,..),
except that Twisted doesn't actually promise that a pair of callLater(0)s
will be fired in the right order (they usually do under unix, but they
frequently don't under windows). Foolscap's eventually() *does* make this
guarantee. In addition, there is a flushEventualQueue() that is useful for
unit tests, it returns a Deferred that will only fire when the entire queue
is empty. As long as your code only uses eventually() (and not callLater(0)),
putting the following in your trial test cases should keep everything nice
and clean:

 def tearDown(self):
     return foolscap.flushEventualQueue()

** Promises

An initial implementation of Promises is in foolscap.promise for
experimentation. Only "Near" Promises are implemented to far (promises which
resolve to a local object). Eventually Foolscap will offer "Far" Promises as
well, and you will be able to invoke remote method calls through Promises as
well as RemoteReferences. See foolscap/test/test_promise.py for some hints.

** Bug Fixes

Messages containing "Gifts" (third-party references) are now delivered in the
correct order. In previous versions, the presence of these references could
delay delivery of the containing message, causing methods to be executed out
of order.

The VOCAB-manipulating code used to have nasty race conditions, which should
be all fixed now. This would be more important if we actually used the
VOCAB-manipulating code yet, but we don't.

Lots of internal reorganization (put all slicers in a subpackage), not really
user-visible.

Updated to work with recent Twisted HEAD, specifically changes to sslverify.
This release of Foolscap ought to work with the upcoming Twisted-2.5 .

** Incompatible protocol changes

There are now separate add-vocab and set-vocab sequences, which add a single
new VOCAB token and replace the entire table, respectively. These replace the
previous 'vocab' sequence which behaved like set-vocab does now. This would
be an incompatible protocol change, except that previous versions never sent
the vocab sequence anyways. This version doesn't send either vocab-changing
sequence either, but when we finally do start using it, it'll be ready.




From therve at free.fr  Fri Oct 13 07:43:13 2006
From: therve at free.fr (Thomas HERVE)
Date: Fri, 13 Oct 2006 15:43:13 +0200
Subject: [Twisted-Python] database transaction commit
In-Reply-To: <452D68D9.3070405@cs.ucsd.edu>
References: <452D68D9.3070405@cs.ucsd.edu>
Message-ID: <20061013154313.ntf997j4wg8s4sko@itchy.wasabout.net>

Quoting Marvin McNett <mmcnett at cs.ucsd.edu>:

> In the adbapi documentation it says, "In all cases a database 
> transaction will be commited after your database usage is finished, 
> unless an exception is raised in which case it will be rolled back."
>
> So, I'm wondering when my database usage is actually finished.  In 
> the example there, would it be after the call to '_getAge' or after 
> the call to 'printResult' (i.e. after the callable to runInteraction 
> or after the last callback attached to the deferred)?

The transaction will be commited when the deferred returned by 
runInteraction will  be fired. It means in the *first* callback 
(printResult) you can expected it to be finished.

-- 
Thomas





From exarkun at twistedmatrix.com  Sat Oct 14 23:05:02 2006
From: exarkun at twistedmatrix.com (exarkun at twistedmatrix.com)
Date: Sun, 15 Oct 2006 05:05:02 -0000
Subject: [Twisted-Python] Weekly Bug Summary
Message-ID: 1160888702.24.1822126477@twistedmatrix.com

Bug summary
______________________
Summary for 2006-10-08 through 2006-10-15
Bugs opened: 15    Bugs closed: 12  Total open bugs: 743 (+3)

|== Type Changes   |== Priority Changes   |== Component Changes   
|Defect:       +4  |Highest:  -4          |Conch:    -1           
|Enhancement:  -1  |High:     -2          |Core:     -1           
|Task:         +0  |Normal:   +9          |Lore:     -1           
                                          |Mail:     +0           
                                          |Trial:    +6           
                                          |Web2:     +0           
                                          |Website:  -1           
                                          |Words:    +1           


New / Reopened Bugs
______________________
                    ===== Highest =====
[#2158] SMTP server incorrectly handles SMTPBadSender from validateFrom (opened by exarkun) (CLOSED, fixed)
    enhancement     mail       http://twistedmatrix.com/trac/ticket/2158

[#2160] Make Twisted work with latest zope.interface (opened by radix) (CLOSED, fixed)
    enhancement     core       http://twistedmatrix.com/trac/ticket/2160

[#2171] Bad ssl check (opened by ilia)
    defect          words      http://twistedmatrix.com/trac/ticket/2171

                    ===== Normal =====
[#2159] Conch uses no-longer-present trial benchmark feature (opened by exarkun)
    defect          conch      http://twistedmatrix.com/trac/ticket/2159

[#2161] trial doesn't load all the bzr tests (opened by jml)
    defect          trial      http://twistedmatrix.com/trac/ticket/2161

[#2162] Do skip and todo with exceptions (opened by jml)
    task            trial      http://twistedmatrix.com/trac/ticket/2162

[#2163] Add subunit reporter to Trial (opened by jml)
    enhancement     trial      http://twistedmatrix.com/trac/ticket/2163

[#2164] trial's IReporter interface is missing some attributes (opened by exarkun)
    defect          trial      http://twistedmatrix.com/trac/ticket/2164

[#2165] trial's "test_suite" feature violates naming standard (opened by exarkun)
    defect          trial      http://twistedmatrix.com/trac/ticket/2165

[#2166] Paste wsgi.lint finds a problem with web2 wsgi implementation. (opened by martinpaljak) (CLOSED, fixed)
    defect          web2       http://twistedmatrix.com/trac/ticket/2166

[#2167] typo in web2.channel.scgi (opened by mars)
    defect          web2       http://twistedmatrix.com/trac/ticket/2167

[#2168] tearDownClass() not always called after setUpClass() (opened by slamb)
    defect          trial      http://twistedmatrix.com/trac/ticket/2168

[#2169] twisted.plugin documentation errors (opened by babbitt)
    task            core       http://twistedmatrix.com/trac/ticket/2169

[#2170] BufferedStream.readline strips delimiter - makes it impossible to discover EOF (opened by exarkun) (CLOSED, fixed)
    defect          web2       http://twistedmatrix.com/trac/ticket/2170

[#2172] kqueue connection failure results in bad fd message (opened by ghazel)
    defect          core       http://twistedmatrix.com/trac/ticket/2172



Closed Bugs
______________________
                    ===== Highest =====
[#2148] Clean conch tests (opened by therve, closed by exarkun, fixed)
    enhancement     conch      http://twistedmatrix.com/trac/ticket/2148

[#2155] test_udp.ReactorShutdownInteraction needs to clean up the UDP port (opened by PenguinOfDoom, closed by pahan, fixed)
    defect          core       http://twistedmatrix.com/trac/ticket/2155

[#2134] lore --output latex fails on span indexes (opened by DavidBlewett, closed by exarkun, fixed)
    defect          lore       http://twistedmatrix.com/trac/ticket/2134

[#2158] SMTP server incorrectly handles SMTPBadSender from validateFrom (opened by exarkun, closed by exarkun, fixed)
    enhancement     mail       http://twistedmatrix.com/trac/ticket/2158

[#1983] Rename 'tlsstarted' to something that isn't a lie, and use more global constants for magic strings (opened by radix, closed by radix, fixed)
    task            core       http://twistedmatrix.com/trac/ticket/1983

[#2079] Deprecate twisted.python.reflect.funcinfo (opened by radix, closed by exarkun, fixed)
    task            core       http://twistedmatrix.com/trac/ticket/2079

[#2160] Make Twisted work with latest zope.interface (opened by radix, closed by exarkun, fixed)
    enhancement     core       http://twistedmatrix.com/trac/ticket/2160

                    ===== High =====
[#1481] SEO: Google searches for docs usually go to out-of-date sourceforge (opened by moonfallen, closed by jknight, fixed)
    defect          website    http://twistedmatrix.com/trac/ticket/1481

[#1451] twisted.web2.stream readline size argument (opened by mkerrin, closed by foom, fixed)
    enhancement     web2       http://twistedmatrix.com/trac/ticket/1451

                    ===== Normal =====
[#1679] conch script does not work on Windows (opened by synapsis, closed by exarkun, duplicate)
    defect          conch      http://twistedmatrix.com/trac/ticket/1679

[#2170] BufferedStream.readline strips delimiter - makes it impossible to discover EOF (opened by exarkun, closed by foom, fixed)
    defect          web2       http://twistedmatrix.com/trac/ticket/2170

[#2166] Paste wsgi.lint finds a problem with web2 wsgi implementation. (opened by martinpaljak, closed by foom, fixed)
    defect          web2       http://twistedmatrix.com/trac/ticket/2166





From konrads.smelkovs at gmail.com  Mon Oct 16 06:56:03 2006
From: konrads.smelkovs at gmail.com (Konrads Smelkovs)
Date: Mon, 16 Oct 2006 15:56:03 +0300
Subject: [Twisted-Python] Help wanted,
	will pay| Identity and media sharing system
Message-ID: <1161003363.9227.4.camel@localhost.localdomain>

Hello,
Looking for developer(s) for Identity and media sharing system. This is
a contract job. Result could be opensourced. Delivery in phases is
acceptable. Use of opensource components is encouraged




A middleware application must be developed for 3d party Application
integration in web environment. 

Requirements doc: http://docs.google.com/View?docid=dfk9tgvx_1g3ph94

The general purpose is to enable all media files to be uniquely
referenceable while avoiding duplicates. In addition, the management of
user information and rights across multiple services needs to be made
simple and secure.

<h2> 1. Objectives:</h2>  
  * Develop subsystems that will allow non locally developed
    applications to be securely integrated into the main media data
    sharing system used on the services Platform. 
  * The subsystems have to provide easy and secure integration the
    identity management and media data sharing facilities. 
  * The sub-systems must enable the possibility to provide an API for
    external services (third party applications) with custom sharing of
    information.

Examples:

-- 
Konrads Smelkovs
Applied IT sorcery.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20061016/397312da/attachment.html>

From eprparadocs at gmail.com  Mon Oct 16 07:04:37 2006
From: eprparadocs at gmail.com (Chaz.)
Date: Mon, 16 Oct 2006 09:04:37 -0400
Subject: [Twisted-Python] Help wanted, will pay| Identity and media sharing
	system
In-Reply-To: <1161003363.9227.4.camel@localhost.localdomain>
References: <1161003363.9227.4.camel@localhost.localdomain>
Message-ID: <45338365.7080701@gmail.com>

Is this a pay position or a play position?


Konrads Smelkovs wrote:
> Hello,
> Looking for developer(s) for Identity and media sharing system. This is
> a contract job. Result could be opensourced. Delivery in phases is
> acceptable. Use of opensource components is encouraged
> 
> 
> 
> 
> A middleware application must be developed for 3d party Application
> integration in web environment.
> 
> Requirements doc: http://docs.google.com/View?docid=dfk9tgvx_1g3ph94
> 
> The general purpose is to enable all media files to be uniquely
> referenceable while avoiding duplicates. In addition, the management of
> user information and rights across multiple services needs to be made
> simple and secure.
> 
> # <h2> 1. Objectives:</h2> Develop subsystems that will allow non locally
> developed applications to be securely integrated into the main media
> data sharing system used on the services Platform.
> # The subsystems have to provide easy and secure integration the identity
> management and media data sharing facilities.
> # The sub-systems must enable the possibility to provide an API for
> external services (third party applications) with custom sharing of
> information.
> 
> Examples:
> 
> -- 
> Konrads Smelkovs
> Applied IT sorcery.
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python




From konrads.smelkovs at gmail.com  Mon Oct 16 07:15:06 2006
From: konrads.smelkovs at gmail.com (Konrads Smelkovs)
Date: Mon, 16 Oct 2006 16:15:06 +0300
Subject: [Twisted-Python] Help wanted, will pay| Identity and media
	sharing system
In-Reply-To: <45338365.7080701@gmail.com>
References: <1161003363.9227.4.camel@localhost.localdomain>
	<45338365.7080701@gmail.com>
Message-ID: <1161004506.9227.6.camel@localhost.localdomain>

It is an outsourcing contract - I want it done and am willing to pay :)
On Mon, 2006-10-16 at 09:04 -0400, Chaz. wrote:

> Is this a pay position or a play position?
> 
> 
> Konrads Smelkovs wrote:
> > Hello,
> > Looking for developer(s) for Identity and media sharing system. This is
> > a contract job. Result could be opensourced. Delivery in phases is
> > acceptable. Use of opensource components is encouraged
> > 
> > 
> > 
> > 
> > A middleware application must be developed for 3d party Application
> > integration in web environment.
> > 
> > Requirements doc: http://docs.google.com/View?docid=dfk9tgvx_1g3ph94
> > 
> > The general purpose is to enable all media files to be uniquely
> > referenceable while avoiding duplicates. In addition, the management of
> > user information and rights across multiple services needs to be made
> > simple and secure.
> > 
> > # <h2> 1. Objectives:</h2> Develop subsystems that will allow non locally
> > developed applications to be securely integrated into the main media
> > data sharing system used on the services Platform.
> > # The subsystems have to provide easy and secure integration the identity
> > management and media data sharing facilities.
> > # The sub-systems must enable the possibility to provide an API for
> > external services (third party applications) with custom sharing of
> > information.
> > 
> > Examples:
> > 
> > -- 
> > Konrads Smelkovs
> > Applied IT sorcery.
> > 
> > 
> > ------------------------------------------------------------------------
> > 
> > _______________________________________________
> > Twisted-Python mailing list
> > Twisted-Python at twistedmatrix.com
> > http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
> 
> 
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python

-- 
Konrads Smelkovs
Applied IT sorcery.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20061016/328f7986/attachment.html>

From Sven-Erik.Tiberg at ltu.se  Tue Oct 17 03:05:13 2006
From: Sven-Erik.Tiberg at ltu.se (Sven-Erik Tiberg)
Date: Tue, 17 Oct 2006 11:05:13 +0200
Subject: [Twisted-Python] Twisted - reactor activated by reciving
	UDP-package.
Message-ID: <668D1B8AD729C94DB91D17EC19B8BB910400B0E8@EMMA.personal.adp.ltu.se>

Hi.
 
I'm Sven-Erik Tiberg at Lulea Univ. of Technology / Sweden and having a
project to make a system for distributed Interactive 3D simulations. 
My approach are to use OpenSource program as far as possible as Python,
Blender and Flux Studio in the client.
Transport of states will use UDP between client X3D-browser and
simulation server.
 
Would like to use Twisted with it's RT-functionallity to have Twisted
processes waiting for a UDP package to arrive ( interupt ) and then
activate a ROUTE node in the X3D-world that will change properties of a
X3D-Node like a cube, 3D speedometer,,
 
My Q. can a Twisted script be activated from an arrival of a UDP or TCP
package?
 
BG
Sven-Erik Tiberg
Lulea Univ of Technology.
Sweden
 
   
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20061017/b154032c/attachment.html>

From glyph at divmod.com  Tue Oct 17 06:06:02 2006
From: glyph at divmod.com (glyph at divmod.com)
Date: Tue, 17 Oct 2006 12:06:02 -0000
Subject: [Twisted-Python] Twisted - reactor activated by reciving
	UDP-package.
Message-ID: <20061017120602.20219.353551839.divmod.xquotient.7@joule.divmod.com>

On 09:05 am, sven-erik.tiberg at ltu.se wrote:

>My Q. can a Twisted script be activated from an arrival of a UDP or TCP
>package?

Yes.  That is what Twisted _is_.

Have you looked at the "finger" tutorial?

http://twistedmatrix.com/projects/core/documentation/howto/tutorial/index.html
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20061017/88799570/attachment.html>

From yqiang at gmail.com  Tue Oct 17 11:13:28 2006
From: yqiang at gmail.com (Yi Qiang)
Date: Tue, 17 Oct 2006 10:13:28 -0700
Subject: [Twisted-Python] Perspective Broker and keeping track of connected
	clients
Message-ID: <3af8969a0610171013yc42f2c6h4a8fdbdc3f5ba752@mail.gmail.com>

Hi,
I am using PB to expose some methods and objects remotely.  However, I need
to keep track of the people who are connected to the PB server via IP
address (I've thought about using authentication, but I would like anonymous
access as well).  My requirement is that at any given moment, I need to know
which ip's are connected to the server.  Is this possible using PB/Twisted?
If so how?  I have the Twisted book and have looked for tutorials on the
web, but neither seem to address this issue.

Thanks,
Yi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20061017/1afd28a1/attachment.html>

From phil at bubblehouse.org  Tue Oct 17 12:52:03 2006
From: phil at bubblehouse.org (Phil Christensen)
Date: Tue, 17 Oct 2006 14:52:03 -0400
Subject: [Twisted-Python] Perspective Broker and keeping track of
	connected clients
In-Reply-To: <3af8969a0610171013yc42f2c6h4a8fdbdc3f5ba752@mail.gmail.com>
References: <3af8969a0610171013yc42f2c6h4a8fdbdc3f5ba752@mail.gmail.com>
Message-ID: <28913A35-C302-4F9F-A0E7-F8CE7A06C80A@bubblehouse.org>

On Oct 17, 2006, at 1:13 PM, Yi Qiang wrote:

> Hi,
> I am using PB to expose some methods and objects remotely.   
> However, I need to keep track of the people who are connected to  
> the PB server via IP address (I've thought about using  
> authentication, but I would like anonymous access as well).  My  
> requirement is that at any given moment, I need to know which ip's  
> are connected to the server.  Is this possible using PB/Twisted?   
> If so how?  I have the Twisted book and have looked for tutorials  
> on the web, but neither seem to address this issue.
>


I actually needed this feature myself recently. It may or may not  
work for your needs, but I needed something that would 'catch' an IP  
address before the connection actually commenced (I also needed to be  
able to ban addresses).

The solution was a simple subclass of PBServerFactory

class MyServerFactory(pb.PBServerFactory):
     def buildProtocol(self, addr):
		#
		# Your custom code can go here, perhaps storing
		# addr.host somewhere fun
		#
		proto = self.protocol(0)
		proto.factory = self
		proto.setNameForLocal("root", self.root.rootObject(proto))
		return proto

Then you can catch disconnects in your Perspective class...


-phil




From Sven-Erik.Tiberg at ltu.se  Tue Oct 17 15:06:35 2006
From: Sven-Erik.Tiberg at ltu.se (Sven-Erik Tiberg)
Date: Tue, 17 Oct 2006 23:06:35 +0200
Subject: SV: [Twisted-Python] Twisted - reactor activated by
	recivingUDP-package.
References: <20061017120602.20219.353551839.divmod.xquotient.7@joule.divmod.com>
Message-ID: <668D1B8AD729C94DB91D17EC19B8BB91023426B3@EMMA.personal.adp.ltu.se>

Hi 
Thanks a lot for all public and private replies, got it confirmed so I'll continue with my first setup.
Made a X3D model this evening of some instruments and a human, with possibility to alter text, meter value, human: arms+ hand and legs + feets to interface to twisted - scripts.
Have a simulab model of a automotive drivetrain with automatic transmission and UDP I/O running in Pseudo-RealTIme.
So I'm on making twisted scripts to interface the X3D model with the simulink model.
 
BG
Sven-Erik Tiberg

________________________________

Från: twisted-python-bounces at twistedmatrix.com genom glyph at divmod.com
Skickat: ti 2006-10-17 14:06
Till: Twisted general discussion
Ämne: Re: [Twisted-Python] Twisted - reactor activated by recivingUDP-package.


On 09:05 am, sven-erik.tiberg at ltu.se wrote:

>My Q. can a Twisted script be activated from an arrival of a UDP or TCP
>package?

Yes.  That is what Twisted _is_.

Have you looked at the "finger" tutorial?

http://twistedmatrix.com/projects/core/documentation/howto/tutorial/index.html

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: msg-4695-401.txt
URL: </pipermail/twisted-python/attachments/20061017/7e939e19/attachment-0002.txt>

From franz.zieher at gmail.com  Tue Oct 17 18:05:28 2006
From: franz.zieher at gmail.com (Franz Zieher)
Date: Wed, 18 Oct 2006 02:05:28 +0200
Subject: [Twisted-Python] Newbie question on how to send "complex" objects
	over the wire
Message-ID: <f15b981d0610171705r4ec92d4en3aefb37e2e985685@mail.gmail.com>

Can anybody provide a an example on how I would best send
a data structure (i.e. an ElemenTree from elementtree) over from
a server to a client process. I followed somewhat the example in
the documentation and used the perspective broker "pb" to send
an "simple" structure (some class with simple members)

When I changed to a more complex class definition, I obviously got
an InsecureJelly exception.

I'm sure this question must have come up a number of times. I'm new
in using twisted and not everything is so obvious at the beginning to me :-(

Many thanks for the help

Franz

Attached is the sample code I used:

sending test1 --> OK
sending test2 --> InsecureJelly exception

------   pbsimple.py (server) -------
from twisted.spread import pb, jelly
from twisted.internet import reactor

class test:
  def __init__(self):
    x = 3.
    y = 4.

class Bag:
  def setContent(self,content):
    self.content = content
  def printContent(self):
    print "My data is", self.content

class CopyBag(Bag, pb.Copyable):
  pass

class Sender(pb.Root):
  def __init__(self, bag):
    self.bag = bag

  def remote_sendBag(self, remote):
    self.remote = remote
    d = remote.callRemote("takeBag", self.bag)
    d.addCallback(self.ok).addErrback(self.notOk)

  def ok(self, response):
    print "info: %s" % response
    d = self.remote.callRemote("finishTransfer")
    d.addErrback(self.notOk)
    return None

  def notOk(self, failure):
    if failure.type == jelly.InsecureJelly:
      print "error: InsecureJelly"
    elif failure.type == pb.PBConnectionLost:
      print "info: data transfer finished"
    else:
    print failure
    return None

def main():
  from pbsimple import CopyBag

  icae = iCAEconfig()
  bag = CopyBag()

  bag.setContent('simple data') # --> OK
  #bag.setContent(test())       # --> InsecureJelly
  sender = Sender(bag)

  factory = pb.PBServerFactory(sender)
  reactor.listenTCP(8789, factory)
  reactor.run()

if __name__ == '__main__':
  main()

-----------------------------

------------  pbsimleclient.py  -----------------

from twisted.spread import pb
from twisted.internet import reactor
from twisted.python import util

from pbsimple import Bag, CopyBag

class ReceiverBag(Bag,pb.RemoteCopy):
  pass

pb.setUnjellyableForClass(CopyBag, ReceiverBag)

class Receiver(pb.Referenceable):
  def remote_takeBag(self, bag):
    self.bag = bag
    return "data arrived safe and sound" # positive acknowledgement

  def remote_finishTransfer(self):
    print "got bag:", self.bag
    reactor.stop()

  def requestBag(self,remote):
    print "asking server for sending the data bag"
    remote.callRemote("sendBag",self)

def getContentFromServer():

  receiver = Receiver()
  factory = pb.PBClientFactory()
  reactor.connectTCP("localhost", 8789, factory,30)
  d = factory.getRootObject()
  d.addCallback(receiver.requestBag)
  reactor.run()
  return receiver.bag.content

if __name__ == '__main__':
  print getContentFromServer()

---------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20061018/185592e7/attachment.html>

From exarkun at divmod.com  Tue Oct 17 18:47:24 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Tue, 17 Oct 2006 20:47:24 -0400
Subject: [Twisted-Python] Newbie question on how to send "complex"
	objects over the wire
In-Reply-To: <f15b981d0610171705r4ec92d4en3aefb37e2e985685@mail.gmail.com>
Message-ID: <20061018004724.26151.2087069538.divmod.quotient.5360@ohm>

On Wed, 18 Oct 2006 02:05:28 +0200, Franz Zieher <franz.zieher at gmail.com> wrote:
>Can anybody provide a an example on how I would best send
>a data structure (i.e. an ElemenTree from elementtree) over from
>a server to a client process. I followed somewhat the example in
>the documentation and used the perspective broker "pb" to send
>an "simple" structure (some class with simple members)

Would suggesting you transfer it as serialized XML be too silly? :)

>
>When I changed to a more complex class definition, I obviously got
>an InsecureJelly exception.

You need to subclass a jellyable type, although it would be a simple
matter to extend jelly to support an external registration mechanism
and lift this restriction.  Take a look at twisted/spread/jelly.py,
in particular the _Jellier class's jelly method.

Jean-Paul



From felipe.lessa at gmail.com  Tue Oct 17 18:51:55 2006
From: felipe.lessa at gmail.com (Felipe Almeida Lessa)
Date: Tue, 17 Oct 2006 22:51:55 -0200
Subject: [Twisted-Python] Newbie question on how to send "complex" objects
	over the wire
In-Reply-To: <f15b981d0610171705r4ec92d4en3aefb37e2e985685@mail.gmail.com>
References: <f15b981d0610171705r4ec92d4en3aefb37e2e985685@mail.gmail.com>
Message-ID: <c2701f5c0610171751m54d5d1em4242cabf8651e875@mail.gmail.com>

2006/10/17, Franz Zieher <franz.zieher at gmail.com>:
>
> Can anybody provide a an example on how I would best send
> a data structure (i.e. an ElemenTree from elementtree) over from
> a server to a client process. I followed somewhat the example in
> the documentation and used the perspective broker "pb" to send
> an "simple" structure (some class with simple members)
>
> When I changed to a more complex class definition, I obviously got
> an InsecureJelly exception.
>
> I'm sure this question must have come up a number of times. I'm new
> in using twisted and not everything is so obvious at the beginning to me :-(

I don't know if it may help you, but I think you should take a look at
Cerealizer ( http://home.gna.org/oomadness/en/cerealizer/index.html )

Good luck,

-- 
Felipe.



From exarkun at divmod.com  Tue Oct 17 18:59:53 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Tue, 17 Oct 2006 20:59:53 -0400
Subject: [Twisted-Python] Newbie question on how to send "complex"
	objects over the wire
In-Reply-To: <c2701f5c0610171751m54d5d1em4242cabf8651e875@mail.gmail.com>
Message-ID: <20061018005953.26151.650655603.divmod.quotient.5370@ohm>

On Tue, 17 Oct 2006 22:51:55 -0200, Felipe Almeida Lessa <felipe.lessa at gmail.com> wrote:
>2006/10/17, Franz Zieher <franz.zieher at gmail.com>:
>>
>>Can anybody provide a an example on how I would best send
>>a data structure (i.e. an ElemenTree from elementtree) over from
>>a server to a client process. I followed somewhat the example in
>>the documentation and used the perspective broker "pb" to send
>>an "simple" structure (some class with simple members)
>>
>>When I changed to a more complex class definition, I obviously got
>>an InsecureJelly exception.
>>
>>I'm sure this question must have come up a number of times. I'm new
>>in using twisted and not everything is so obvious at the beginning to me 
>>:-(
>
>I don't know if it may help you, but I think you should take a look at
>Cerealizer ( http://home.gna.org/oomadness/en/cerealizer/index.html )
>

Using this together with PB would probably be counterproductive.

Jean-Paul



From eprparadocs at gmail.com  Wed Oct 18 07:47:05 2006
From: eprparadocs at gmail.com (Chaz.)
Date: Wed, 18 Oct 2006 09:47:05 -0400
Subject: [Twisted-Python] Error? twisted/internet/tcp.py:216:
 exceptions.UserWarning: SSL connection
 shutdown possibly unreliable, please upgrade to ver 0.XX
Message-ID: <45363059.9030905@gmail.com>

I just recently started getting the message from the my application :


[HTTPChannel,0,127.0.0.1]
/usr/lib/python2.4/site-packages/twisted/internet/tcp.py:216:
exceptions.UserWarning: SSL connection shutdown possibly unreliable,
please upgrade to ver 0.XX

Can someone tell me what I need to upgrade?

Thanks,
Chuck Wegrzyn



From franz.zieher at gmail.com  Wed Oct 18 15:42:16 2006
From: franz.zieher at gmail.com (Franz Zieher)
Date: Wed, 18 Oct 2006 23:42:16 +0200
Subject: [Twisted-Python] Newbie question on how to send "complex" objects
	over the wire
In-Reply-To: <20061018005953.26151.650655603.divmod.quotient.5370@ohm>
References: <c2701f5c0610171751m54d5d1em4242cabf8651e875@mail.gmail.com>
	<20061018005953.26151.650655603.divmod.quotient.5370@ohm>
Message-ID: <f15b981d0610181442n13fea12o92235e974de145c2@mail.gmail.com>

2006/10/18, Jean-Paul Calderone <exarkun at divmod.com>:
>
> On Tue, 17 Oct 2006 22:51:55 -0200, Felipe Almeida Lessa <
> felipe.lessa at gmail.com> wrote:
> >2006/10/17, Franz Zieher <franz.zieher at gmail.com>:
> >>
> >>Can anybody provide a an example on how I would best send
> >>a data structure (i.e. an ElemenTree from elementtree) over from
> >>a server to a client process. I followed somewhat the example in
> >>the documentation and used the perspective broker "pb" to send
> >>an "simple" structure (some class with simple members)
> >>
> >>When I changed to a more complex class definition, I obviously got
> >>an InsecureJelly exception.
> >>
> >>I'm sure this question must have come up a number of times. I'm new
> >>in using twisted and not everything is so obvious at the beginning to me
> >>:-(
> >
> >I don't know if it may help you, but I think you should take a look at
> >Cerealizer ( http://home.gna.org/oomadness/en/cerealizer/index.html )
> >
>
> Using this together with PB would probably be counterproductive.
>
> Jean-Paul
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>


Thanks for the help. I opted for Jean-Pauls suggestion.
It really allows for such a simple data transfer between a server
and a client. I included a compressed string. It very likely misses
a number of details, I post the changes again. Maybe it is helpful
for somebody else.

Franz :-)

----------- pbsimple.py

from twisted.spread import pb, jelly
from twisted.internet import reactor
import elementtree.ElementTree as ET
from path import path
import os, pickle
from StringIO import StringIO
from zlib import compress

class test:
  def __init__(self):
    x = 3.
    y = 4.
    data = ET.ElementTree()

class Bag:
  def setContent(self,content):
    # content must be serializable
    s_content = StringIO()
    pickle.dump(content,s_content)
    s_content.flush()
    self.content = compress(s_content.getvalue())

class CopyBag(Bag, pb.Copyable):
  pass

class Sender(pb.Root):
  def __init__(self, bag):
    self.bag = bag

  def remote_sendBag(self, remote):
    self.remote = remote
    d = remote.callRemote("takeBag", self.bag)
    d.addCallback(self.ok).addErrback(self.notOk)

  def ok(self, response):
    print "info: %s" % response
    d = self.remote.callRemote("finishTransfer")
    d.addErrback(self.notOk)
    return None

  def notOk(self, failure):
    if failure.type == jelly.InsecureJelly:
      print "error: InsecureJelly"
    elif failure.type == pb.PBConnectionLost:
      print "info: data transfer finished"
    else:
    print failure
    return None

def main():
  from pbsimple import CopyBag

  icae = iCAEconfig()
  bag = CopyBag()

  bag.setContent(test())
  sender = Sender(bag)

  factory = pb.PBServerFactory(sender)
  reactor.listenTCP(8789, factory)
  reactor.run()

if __name__ == '__main__':
  main()

----- pbsimpleclient.py

from twisted.spread import pb
from twisted.internet import reactor
from twisted.python import util
import os, pickle
from StringIO import StringIO
from zlib import decompress
import elementtree.ElementTree as ET

from pbsimple import Bag, CopyBag, test

class ReceiverBag(Bag,pb.RemoteCopy):
  pass

pb.setUnjellyableForClass(CopyBag, ReceiverBag)

class Receiver(pb.Referenceable):
  def remote_takeBag(self, bag):
    # deserialize the bag.content
    try:
      self.content = pickle.loads(decompress(bag.content))
      self.len = len(bag.content)
      return "data arrived safe and sound" # positive acknowledgement
    except:
      self.content = None
      self.len = 0
      print "error: data could not be de-serialized"
      reactor.stop()

  def remote_finishTransfer(self):
    print "got bag of length:", self.len
    reactor.stop()

  def requestBag(self,remote):
    print "asking server for sending the data bag"
    remote.callRemote("sendBag",self)

def getContentFromServer():

  receiver = Receiver()
  factory = pb.PBClientFactory()
  reactor.connectTCP("localhost", 8789, factory,30)
  d = factory.getRootObject()
  d.addCallback(receiver.requestBag)
  reactor.run()
  return receiver.content

if __name__ == '__main__':
  content = getContentFromServer()
  if hasattr(content,'getroot'):
    ET.dump(content)
  else:
    print content
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20061018/6e3c7e6d/attachment.html>

From exarkun at divmod.com  Wed Oct 18 17:43:36 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Wed, 18 Oct 2006 19:43:36 -0400
Subject: [Twisted-Python] Newbie question on how to send "complex"
	objects over the wire
In-Reply-To: <f15b981d0610181442n13fea12o92235e974de145c2@mail.gmail.com>
Message-ID: <20061018234336.26151.188662998.divmod.quotient.6374@ohm>

On Wed, 18 Oct 2006 23:42:16 +0200, Franz Zieher <franz.zieher at gmail.com> wrote:
> [snip]
>
>Thanks for the help. I opted for Jean-Pauls suggestion.
> [snip]

Hmm.  I don't recall suggesting pickle, actually.  Maybe you confused me with
someone else.

Jean-Paul



From felipe.lessa at gmail.com  Wed Oct 18 17:57:16 2006
From: felipe.lessa at gmail.com (Felipe Almeida Lessa)
Date: Wed, 18 Oct 2006 20:57:16 -0300
Subject: [Twisted-Python] Newbie question on how to send "complex" objects
	over the wire
In-Reply-To: <20061018234336.26151.188662998.divmod.quotient.6374@ohm>
References: <f15b981d0610181442n13fea12o92235e974de145c2@mail.gmail.com>
	<20061018234336.26151.188662998.divmod.quotient.6374@ohm>
Message-ID: <c2701f5c0610181657j12ea663anf19fa56ba0fcfe80@mail.gmail.com>

2006/10/18, Jean-Paul Calderone <exarkun at divmod.com>:
> On Wed, 18 Oct 2006 23:42:16 +0200, Franz Zieher <franz.zieher at gmail.com> wrote:
> > [snip]
> >
> >Thanks for the help. I opted for Jean-Pauls suggestion.
> > [snip]
>
> Hmm.  I don't recall suggesting pickle, actually.  Maybe you confused me with
> someone else.

Lol... Anyway, it should be emphasized that pickling is not safe, IIRC.

-- 
Felipe.



From mwyatt at wi.rr.com  Wed Oct 18 20:47:51 2006
From: mwyatt at wi.rr.com (Mike Wyatt)
Date: Wed, 18 Oct 2006 21:47:51 -0500
Subject: [Twisted-Python] Unreliable UDP
Message-ID: <4536E757.8030406@wi.rr.com>

Does Twisted provide any support for reliable UDP?  I'm looking for a 
nice networking library for and real-time (i.e. non-TCP) game development.



From exarkun at divmod.com  Wed Oct 18 21:27:00 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Wed, 18 Oct 2006 23:27:00 -0400
Subject: [Twisted-Python] Unreliable UDP
In-Reply-To: <4536E757.8030406@wi.rr.com>
Message-ID: <20061019032700.26151.69696568.divmod.quotient.6594@ohm>

On Wed, 18 Oct 2006 21:47:51 -0500, Mike Wyatt <mwyatt at wi.rr.com> wrote:
>Does Twisted provide any support for reliable UDP?  I'm looking for a nice 
>networking library for and real-time (i.e. non-TCP) game development.

First, just use TCP, unless you have already implemented the game using TCP,
done performance testing and discovered problems tied to TCP which are resolved
by UDP.

Assuming you have done that, come up with a list of the kind of traffic your
game needs to exchange between hosts.  Based on that, you may be able to narrow
your search (there are lots of kinds of "reliable" UDP) or you may find that
existing solutions aren't suitable.

Twisted itself doesn't offer any kind of reliability layering on top of UDP,
but there are various Twisted-based projects which use UDP for semi-reliable
messaging.  Whether any of them might be of use to you depends on how closely
your message model matches theirs.

Most likely, you'll end up implementing something yourself, assuming you
actually need a UDP-based solution at all.

Jean-Paul



From Sven-Erik.Tiberg at ltu.se  Thu Oct 19 01:21:56 2006
From: Sven-Erik.Tiberg at ltu.se (Sven-Erik Tiberg)
Date: Thu, 19 Oct 2006 09:21:56 +0200
Subject: [Twisted-Python] Unreliable UDP
Message-ID: <668D1B8AD729C94DB91D17EC19B8BB910400B0EE@EMMA.personal.adp.ltu.se>

Interesting! 
Appreciate any info on semi-reliable UDP Twisted-based projects? 
Sven-Erik Tiberg.

-----Original Message-----
From: twisted-python-bounces at twistedmatrix.com
[mailto:twisted-python-bounces at twistedmatrix.com] On Behalf Of Jean-Paul
Calderone
Sent: den 19 oktober 2006 05:27
To: Twisted general discussion
Subject: Re: [Twisted-Python] Unreliable UDP

On Wed, 18 Oct 2006 21:47:51 -0500, Mike Wyatt <mwyatt at wi.rr.com> wrote:
>Does Twisted provide any support for reliable UDP?  I'm looking for a 
>nice networking library for and real-time (i.e. non-TCP) game
development.

First, just use TCP, unless you have already implemented the game using
TCP, done performance testing and discovered problems tied to TCP which
are resolved by UDP.

Assuming you have done that, come up with a list of the kind of traffic
your game needs to exchange between hosts.  Based on that, you may be
able to narrow your search (there are lots of kinds of "reliable" UDP)
or you may find that existing solutions aren't suitable.

Twisted itself doesn't offer any kind of reliability layering on top of
UDP, but there are various Twisted-based projects which use UDP for
semi-reliable messaging.  Whether any of them might be of use to you
depends on how closely your message model matches theirs.

Most likely, you'll end up implementing something yourself, assuming you
actually need a UDP-based solution at all.

Jean-Paul

_______________________________________________
Twisted-Python mailing list
Twisted-Python at twistedmatrix.com
http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python



From free.as.in.speech at gmail.com  Thu Oct 19 02:32:37 2006
From: free.as.in.speech at gmail.com (Brian King)
Date: Thu, 19 Oct 2006 10:32:37 +0200
Subject: [Twisted-Python] finger tutorial: server slow to shutdown
Message-ID: <2cc028020610190132u56af92b7uc6a8cbff3e30a9b5@mail.gmail.com>

I was working my way through the tutorial, running each version of the
server and testing it out with "telnet localhost 1079".  When I got to
this ( http://twistedmatrix.com/projects/core/documentation/howto/tutorial/intro.html#auto11)
version of the server, I noticed that the server was not shutting down
immediately when I pressed ctrl-c.  The script I'm running is a
verbatim copy of the tutorial code.

I see the following behavior:
1. If immediately after receiving a response from a "finger" query I
press ctrl-c to stop the server, the server shuts down:
    a) after about 20 seconds, if there is no activity on port 1079, or
    b) as soon as a connection is attempted on port 1079 (e.g. "telnet
localhost 1079").
2.  If after having waited some time (e.g. 30 seconds) after the last
query I press ctrl-c to stop the server, it shuts down only after the
next connection attempt on port 1079.
3.  If no connections have been made to the server, ctrl-c shuts it
down immediately.

For the case 1) above:
Running "netstat -tn" after having pressed ctrl-c and before the
server shuts down gives the following output:
Active Internet connections
Proto Recv-Q Send-Q  Local Address          Foreign Address        (state)
tcp4       0      0  127.0.0.1.1079         127.0.0.1.57791        TIME_WAIT
...
(nothing indicating an open connection to the queried web server)

For the case 2) above, there is no mention of port 1079 in the output
from "netstat -tn".

I've spent some time trying to understand why it doesn't shut down
immediately in cases 1 and 2, but haven't figured it out.  Can anybody
shed some light on what is going on?  What would I have to do to get
it to shutdown quickly?

Environment info:
freebsd 6.1 release
python 2.4.3
twisted 2.4.0

Thanks,
Brian



From mwyatt at wi.rr.com  Thu Oct 19 06:41:52 2006
From: mwyatt at wi.rr.com (Mike Wyatt)
Date: Thu, 19 Oct 2006 07:41:52 -0500
Subject: [Twisted-Python] Unreliable UDP
In-Reply-To: <668D1B8AD729C94DB91D17EC19B8BB910400B0EE@EMMA.personal.adp.ltu.se>
References: <668D1B8AD729C94DB91D17EC19B8BB910400B0EE@EMMA.personal.adp.ltu.se>
Message-ID: <45377290.3000806@wi.rr.com>

Yeah, I would like to check out some of these projects.

As for using TCP, that is a valid option.  It would be even nicer to 
just start using a reliable UDP layer right from the start, though.  I'd 
rather not reinvent the wheel if I don't have to.

By "reliable", I mean a library that guarantees delivery and keeps the 
packets in order.  Similar to enet (http://enet.cubik.org/), but for 
Python.  I may end up writing a Pyrex/Boost wrapper for enet or RakNet, 
but that would be a bit of a pain.  That would probably convince me to 
play with TCP for a while, then replace the networking layer with 
reliable UDP when I have the time.
> Interesting! 
> Appreciate any info on semi-reliable UDP Twisted-based projects? 
> Sven-Erik Tiberg.
>
> -----Original Message-----
> From: twisted-python-bounces at twistedmatrix.com
> [mailto:twisted-python-bounces at twistedmatrix.com] On Behalf Of Jean-Paul
> Calderone
> Sent: den 19 oktober 2006 05:27
> To: Twisted general discussion
> Subject: Re: [Twisted-Python] Unreliable UDP
>
> On Wed, 18 Oct 2006 21:47:51 -0500, Mike Wyatt <mwyatt at wi.rr.com> wrote:
>   
>> Does Twisted provide any support for reliable UDP?  I'm looking for a 
>> nice networking library for and real-time (i.e. non-TCP) game
>>     
> development.
>
> First, just use TCP, unless you have already implemented the game using
> TCP, done performance testing and discovered problems tied to TCP which
> are resolved by UDP.
>
> Assuming you have done that, come up with a list of the kind of traffic
> your game needs to exchange between hosts.  Based on that, you may be
> able to narrow your search (there are lots of kinds of "reliable" UDP)
> or you may find that existing solutions aren't suitable.
>
> Twisted itself doesn't offer any kind of reliability layering on top of
> UDP, but there are various Twisted-based projects which use UDP for
> semi-reliable messaging.  Whether any of them might be of use to you
> depends on how closely your message model matches theirs.
>
> Most likely, you'll end up implementing something yourself, assuming you
> actually need a UDP-based solution at all.
>
> Jean-Paul
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
>
>   

-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20061019/ec17bd9c/attachment.html>

From christopher.zorn at gmail.com  Thu Oct 19 08:51:44 2006
From: christopher.zorn at gmail.com (Christopher Zorn)
Date: Thu, 19 Oct 2006 10:51:44 -0400
Subject: [Twisted-Python] Chesspark - A twisted based online chess community.
Message-ID: <149014b90610190751g6f8ba064gf7c8459ecd393f07@mail.gmail.com>

I would like to announce a twisted based online game called Chesspark.

Chesspark is an online chess community.  You can chat, play games,
meet new friends, do puzzles, and many other things.  The whole
system is built upon Jabber and uses Twisted for its backend
components and bots.

In addition, we have built a web client (which also works as a normal
Jabber client).  Built on top of punjab and the Javascript version of
strophe, this client allows you to play games, chat, and
pretty much anything the native client can do.  It even supports
avatars. Punjab is a twisted based http binding mechanism for jabber.

There is also a Windows client in case you don't like using web applications.

You can visit Chesspark here: http://www.chesspark.com
and try the webclient here: http://www.chesspark.com/webclient/client.xhtml

Of course, this is only the start.  There is much more to come, and
hopefully even more games than just Chess.

I hope you like it,
Christopher Zorn



From radix at twistedmatrix.com  Thu Oct 19 11:47:13 2006
From: radix at twistedmatrix.com (Christopher Armstrong)
Date: Thu, 19 Oct 2006 13:47:13 -0400
Subject: [Twisted-Python] Unreliable UDP
In-Reply-To: <45377290.3000806@wi.rr.com>
References: <668D1B8AD729C94DB91D17EC19B8BB910400B0EE@EMMA.personal.adp.ltu.se>
	<45377290.3000806@wi.rr.com>
Message-ID: <60ed19d40610191047o4f76b120j3ba140c36d2fc18f@mail.gmail.com>

On 10/19/06, Mike Wyatt <mwyatt at wi.rr.com> wrote:
>  As for using TCP, that is a valid option.  It would be even nicer to just
> start using a reliable UDP layer right from the start, though.  I'd rather
> not reinvent the wheel if I don't have to.
>
>  By "reliable", I mean a library that guarantees delivery and keeps the
> packets in order.  Similar to enet (http://enet.cubik.org/), but for Python.

Really, truly, honestly, this doesn't make sense. You want *both*
reliability *and* guaranteed delivery order: that is precisely what
TCP does. Why do you want to use anything else? If you don't want to
reinvent the wheel, use TCP.


-- 
Christopher Armstrong
International Man of Twistery
http://radix.twistedmatrix.com/
http://twistedmatrix.com/
http://canonical.com/



From general at eepatents.com  Thu Oct 19 13:31:25 2006
From: general at eepatents.com (Ed Suominen)
Date: Thu, 19 Oct 2006 12:31:25 -0700
Subject: [Twisted-Python] Re: Chesspark - A twisted based online chess
	community.
In-Reply-To: <E1GabFV-00023y-02@pyramid.twistedmatrix.com>
References: <E1GabFV-00023y-02@pyramid.twistedmatrix.com>
Message-ID: <4537D28D.7050407@eepatents.com>

> I would like to announce a twisted based online game called
> Chesspark. ... There is also a Windows client in case you don't like
> using web applications. ... Of course, this is only the start.  There
> is much more to come, and hopefully even more games than just Chess.
> 
> I hope you like it, Christopher Zorn

Cool! It's great to see Twisted being used in worthy projects like this.

I am a fan of chess (sadly stuck at around ELO 1100), Twisted, and
Linux. I'm a little disappointed to see that only the first two of the
three seem to be addressed here. What are your plans for a Linux version
of the client?

Best regards,
Ed Suominen
Occasionally seen on FICS as "edsuom"...



From christopher.zorn at gmail.com  Thu Oct 19 13:39:46 2006
From: christopher.zorn at gmail.com (Christopher Zorn)
Date: Thu, 19 Oct 2006 15:39:46 -0400
Subject: [Twisted-Python] Re: Chesspark - A twisted based online chess
	community.
In-Reply-To: <4537D28D.7050407@eepatents.com>
References: <E1GabFV-00023y-02@pyramid.twistedmatrix.com>
	<4537D28D.7050407@eepatents.com>
Message-ID: <149014b90610191239w12ca979eqe59944561adc0a07@mail.gmail.com>

On 10/19/06, Ed Suominen <general at eepatents.com> wrote:
<snip>
> Cool! It's great to see Twisted being used in worthy projects like this.
>
> I am a fan of chess (sadly stuck at around ELO 1100), Twisted, and
> Linux. I'm a little disappointed to see that only the first two of the
> three seem to be addressed here. What are your plans for a Linux version
> of the client?
>

Well, the webclient is for linux users. It works well in firefox. We
may do a linux native client though. The current clients are gonna be
under an open source license soon. I was also thinking about adding
chesspark support in gajim[1].

[1] http://gajim.org



From anthony at interlink.com.au  Thu Oct 19 19:37:01 2006
From: anthony at interlink.com.au (Anthony Baxter)
Date: Fri, 20 Oct 2006 11:37:01 +1000
Subject: [Twisted-Python] Unreliable UDP
In-Reply-To: <20061019032700.26151.69696568.divmod.quotient.6594@ohm>
References: <20061019032700.26151.69696568.divmod.quotient.6594@ohm>
Message-ID: <200610201137.05124.anthony@interlink.com.au>

I think it was Robert Elz who said "Those who do not understand TCP are doomed 
to repeat it" (in reference to the file sharing protocol FSP). 

Just use TCP if you need reliable communication.




From mwyatt at wi.rr.com  Thu Oct 19 20:08:11 2006
From: mwyatt at wi.rr.com (Mike Wyatt)
Date: Thu, 19 Oct 2006 21:08:11 -0500
Subject: [Twisted-Python] Unreliable UDP
In-Reply-To: <60ed19d40610191047o4f76b120j3ba140c36d2fc18f@mail.gmail.com>
References: <668D1B8AD729C94DB91D17EC19B8BB910400B0EE@EMMA.personal.adp.ltu.se>
	<45377290.3000806@wi.rr.com>
	<60ed19d40610191047o4f76b120j3ba140c36d2fc18f@mail.gmail.com>
Message-ID: <45382F8B.5050407@wi.rr.com>

Check out Q3 and Q4 in the GameDev.net "Multiplayer & Network 
Programming" Forum FAQ:  
http://www.gamedev.net/community/forums/showfaq.asp?forum_id=15

The problem with TCP is summed up nicely in Q4:  /"...to make this 
guarantee, TCP must suspend all packet delivery to the receiving end, if 
one packet is lost, until that packet can be detected as lost and 
re-sent."/  You can also check out this classic multiplayer design 
article:  http://www.gamasutra.com/features/19990903/lincroft_05.htm.  
The author is *very* against TCP.  Apparently the X-Wing vs. TIE Fighter 
developers were seeing pings of up to 50 seconds using TCP.

On the other hand, Q3 of GameDev's forum FAQ recommends TCP for 
real-time strategy games, or UDP in "extreme" cases.  This makes me more 
comfortable with using TCP, at least for early development, since 
testing on my LAN shouldn't have any problems with dropped packets.

The collective experience of the game development community seems to 
/lean /towards UDP for most game development.  I'm not against using 
TCP, but if I can find a solution that makes UDP equally easy, I'd like 
to use that. <http://www.gamasutra.com/features/19990903/lincroft_05.htm>
> Really, truly, honestly, this doesn't make sense. You want *both*
> reliability *and* guaranteed delivery order: that is precisely what
> TCP does. Why do you want to use anything else? If you don't want to
> reinvent the wheel, use TCP.
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20061019/ffbf127c/attachment.html>

From mwyatt at wi.rr.com  Thu Oct 19 20:22:56 2006
From: mwyatt at wi.rr.com (Mike Wyatt)
Date: Thu, 19 Oct 2006 21:22:56 -0500
Subject: [Twisted-Python] Unreliable UDP
In-Reply-To: <45382F8B.5050407@wi.rr.com>
References: <668D1B8AD729C94DB91D17EC19B8BB910400B0EE@EMMA.personal.adp.ltu.se>
	<45377290.3000806@wi.rr.com>
	<60ed19d40610191047o4f76b120j3ba140c36d2fc18f@mail.gmail.com>
	<45382F8B.5050407@wi.rr.com>
Message-ID: <45383300.2080605@wi.rr.com>

I've been doing more research since my last message, and I found some 
pretty interesting results.

Check out the posts from Simagery, hplus0603, and Ranger_One in this 
thread:  
http://www.gamedev.net/community/forums/topic.asp?topic_id=370603&whichpage=1&#2443682 
<http://www.gamedev.net/community/forums/topic.asp?topic_id=370603&whichpage=1&#2443682>

A good summary of that thread is this quote from Simagery: "...all of 
that above knowledge [UDP's superior flexibility] is based on the "state 
of the art" networking code circa 2000. Today, with wide availability of 
broadband, faster CPUs, higher quality NICs and better TCP/IP 
implementations, it all may be moot.".  I think that may have convinced 
me to stick with TCP.

Here's another great thread:  
http://www.gamedev.net/community/forums/topic.asp?topic_id=262742.  I 
didn't read the whole thing, but it includes more discussion of UDP vs. 
TCP.  There is even someone who questions the accuracy of the X-Wing vs. 
TIE Fighter article.

> Check out Q3 and Q4 in the GameDev.net "Multiplayer & Network 
> Programming" Forum FAQ:  
> http://www.gamedev.net/community/forums/showfaq.asp?forum_id=15
>
> The problem with TCP is summed up nicely in Q4:  /"...to make this 
> guarantee, TCP must suspend all packet delivery to the receiving end, 
> if one packet is lost, until that packet can be detected as lost and 
> re-sent."/  You can also check out this classic multiplayer design 
> article:  http://www.gamasutra.com/features/19990903/lincroft_05.htm.  
> The author is *very* against TCP.  Apparently the X-Wing vs. TIE 
> Fighter developers were seeing pings of up to 50 seconds using TCP.
>
> On the other hand, Q3 of GameDev's forum FAQ recommends TCP for 
> real-time strategy games, or UDP in "extreme" cases.  This makes me 
> more comfortable with using TCP, at least for early development, since 
> testing on my LAN shouldn't have any problems with dropped packets.
>
> The collective experience of the game development community seems to 
> /lean /towards UDP for most game development.  I'm not against using 
> TCP, but if I can find a solution that makes UDP equally easy, I'd 
> like to use that.
>> Really, truly, honestly, this doesn't make sense. You want *both*
>> reliability *and* guaranteed delivery order: that is precisely what
>> TCP does. Why do you want to use anything else? If you don't want to
>> reinvent the wheel, use TCP.
>>
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20061019/e4792def/attachment.html>

From radix at twistedmatrix.com  Thu Oct 19 21:17:20 2006
From: radix at twistedmatrix.com (Christopher Armstrong)
Date: Thu, 19 Oct 2006 23:17:20 -0400
Subject: [Twisted-Python] Unreliable UDP
In-Reply-To: <45383300.2080605@wi.rr.com>
References: <668D1B8AD729C94DB91D17EC19B8BB910400B0EE@EMMA.personal.adp.ltu.se>
	<45377290.3000806@wi.rr.com>
	<60ed19d40610191047o4f76b120j3ba140c36d2fc18f@mail.gmail.com>
	<45382F8B.5050407@wi.rr.com> <45383300.2080605@wi.rr.com>
Message-ID: <60ed19d40610192017m762a479dp844c6c85f9ed2ffb@mail.gmail.com>

On 10/19/06, Mike Wyatt <mwyatt at wi.rr.com> wrote:
>
>  I've been doing more research since my last message, and I found some
> pretty interesting results.
>
> Check out the posts from Simagery, hplus0603, and Ranger_One in this
> thread:
> http://www.gamedev.net/community/forums/topic.asp?topic_id=370603&whichpage=1&#2443682
>
> A good summary of that thread is this quote from Simagery: "...all of that
> above knowledge [UDP's superior flexibility] is based on the "state of the
> art" networking code circa 2000. Today, with wide availability of broadband,
> faster CPUs, higher quality NICs and better TCP/IP implementations, it all
> may be moot.".  I think that may have convinced me to stick with TCP.
>
> Here's another great thread:
> http://www.gamedev.net/community/forums/topic.asp?topic_id=262742.  I
> didn't read the whole thing, but it includes more discussion of UDP vs.
> TCP.  There is even someone who questions the accuracy of the X-Wing vs. TIE
> Fighter article.
>

I think the most important thing here isn't what the game industry says you
should do, but what your own stated requirements were. You specifically said
you wanted ordered, guaranteed-delivery data, and that's something that UDP
doesn't give you and that TCP does. If you had some good reason to *avoid*
either of those qualities, perhaps UDP would be appropriate, but since you
need that reliability, and TCP does exactly that, it is the clear winner.



-- 
Christopher Armstrong
International Man of Twistery
http://radix.twistedmatrix.com/
http://twistedmatrix.com/
http://canonical.com/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20061019/842bb5a7/attachment.html>

From mithrandi-twisted-python at mithrandi.za.net  Fri Oct 20 01:43:52 2006
From: mithrandi-twisted-python at mithrandi.za.net (Tristan Seligmann)
Date: Fri, 20 Oct 2006 09:43:52 +0200
Subject: [Twisted-Python] Unreliable UDP
In-Reply-To: <60ed19d40610192017m762a479dp844c6c85f9ed2ffb@mail.gmail.com>
References: <668D1B8AD729C94DB91D17EC19B8BB910400B0EE@EMMA.personal.adp.ltu.se>
	<45377290.3000806@wi.rr.com>
	<60ed19d40610191047o4f76b120j3ba140c36d2fc18f@mail.gmail.com>
	<45382F8B.5050407@wi.rr.com> <45383300.2080605@wi.rr.com>
	<60ed19d40610192017m762a479dp844c6c85f9ed2ffb@mail.gmail.com>
Message-ID: <20061020074351.GK14742@mithrandi.za.net>

* Christopher Armstrong <radix at twistedmatrix.com> [2006-10-19 23:17:20 -0400]:

> I think the most important thing here isn't what the game industry says you
> should do, but what your own stated requirements were. You specifically said
> you wanted ordered, guaranteed-delivery data, and that's something that UDP
> doesn't give you and that TCP does. If you had some good reason to *avoid*
> either of those qualities, perhaps UDP would be appropriate, but since you
> need that reliability, and TCP does exactly that, it is the clear winner.

I'd like to reiterate this; I'm familiar with a number of games using
UDP for networking, and they specifically do *not* make use of ordered
or guaranteed-delivery data, thus making UDP a reasonable choice. On the
other hand, there are plenty of other games using TCP under different
circumstances, so it very much depends on your specific use case.
-- 
mithrandi, i Ainil en-Balandor, a faer Ambar
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 197 bytes
Desc: Digital signature
URL: </pipermail/twisted-python/attachments/20061020/56fda31d/attachment.sig>

From healeyjames at yahoo.co.uk  Fri Oct 20 04:56:38 2006
From: healeyjames at yahoo.co.uk (James Healey)
Date: Fri, 20 Oct 2006 11:56:38 +0100 (BST)
Subject: [Twisted-Python] Help with TCPServer and listenTCP
Message-ID: <20061020105638.50879.qmail@web23102.mail.ird.yahoo.com>

I've been looking over some Twisted arcticles over the
past day or 2 and havnt found much help on TCPServer,
ive seen server/client exampels which use listenTCP
and connectTCP, but then i also find one that uses
TCPServer.

What are the differences between TCPServer and
listenTCP, and what are the parameters to TCPServer?

I'm trying to write a server/client app which handles
a build system, where the build system has x number of
builds it needs to handle. Currently each build is
done at a set time during the night, so one build
might start at 7pm and then the next build might start
at 10pm, each build is dependent on other builds.

A user can request a build, which will then go to the
server and ask if it can start a build and then start
with the first dependancy it needs to build.

But my main question is about the TCPServer call and
how it differs from listenTCP.

Cheers.
Jimmy.

Send instant messages to your online friends http://uk.messenger.yahoo.com 



From exarkun at divmod.com  Fri Oct 20 08:55:25 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Fri, 20 Oct 2006 10:55:25 -0400
Subject: [Twisted-Python] Help with TCPServer and listenTCP
In-Reply-To: <20061020105638.50879.qmail@web23102.mail.ird.yahoo.com>
Message-ID: <20061020145525.26151.666735889.divmod.quotient.8111@ohm>

On Fri, 20 Oct 2006 11:56:38 +0100 (BST), James Healey <healeyjames at yahoo.co.uk> wrote:
>I've been looking over some Twisted arcticles over the
>past day or 2 and havnt found much help on TCPServer,
>ive seen server/client exampels which use listenTCP
>and connectTCP, but then i also find one that uses
>TCPServer.
>
>What are the differences between TCPServer and
>listenTCP, and what are the parameters to TCPServer?

The parameters to each are the same.  The difference is
that TCPServer creates an IService provider (which can
be added to a service hierarchy and will only create a
listening TCP server after its startService method is
called), whereas reactor.listenTCP returns a provider of
IListeningPort which begins listening almost immediately
and does not integrate with the service system.

>
>I'm trying to write a server/client app which handles
>a build system, where the build system has x number of
>builds it needs to handle. Currently each build is
>done at a set time during the night, so one build
>might start at 7pm and then the next build might start
>at 10pm, each build is dependent on other builds.
>
>A user can request a build, which will then go to the
>server and ask if it can start a build and then start
>with the first dependancy it needs to build.

Are you familiar with buildbot?

>
>But my main question is about the TCPServer call and
>how it differs from listenTCP.
>

I hope this clears things up,

Jean-Paul



From healeyjames at yahoo.co.uk  Fri Oct 20 09:27:38 2006
From: healeyjames at yahoo.co.uk (James Healey)
Date: Fri, 20 Oct 2006 16:27:38 +0100 (BST)
Subject: [Twisted-Python] Help with TCPServer and listenTCP
In-Reply-To: <20061020145525.26151.666735889.divmod.quotient.8111@ohm>
Message-ID: <20061020152739.91862.qmail@web23104.mail.ird.yahoo.com>

This is my server code.......

from twisted.internet import reactor, protocol

class Echo(protocol.Protocol):
	"""This is just about the simplest possible
protocol"""
	
	def dataReceived(self, data):	
		if data == 1:
			print data
		
	def connectionMade(self):
		print "Client Connected to server"

def main():
    """This runs the protocol on port 8000"""
    factory = protocol.ServerFactory()
    factory.protocol = Echo
    reactor.listenTCP(8000,factory)
    reactor.run()

# this only runs if the module was *not* imported
if __name__ == '__main__':
    main()


And here is my client code.....

from twisted.internet import reactor, protocol

class EchoClient(protocol.Protocol):
	"""Once connected, send a message, then print the
result."""
	
	def connectionMade(self):
		buildInfo = 1
		self.transport.write(buildInfo)
				
	def dataReceived(self, data):
		"As soon as any data is received, write it back."
		print "Server said:", data
		self.transport.loseConnection()
		
	def connectionLost(self, reason):
		print "connection lost"

class EchoFactory(protocol.ClientFactory):
	protocol = EchoClient
	build = 1
	
	def clientConnectionFailed(self, connector, reason):
		print "Connection failed - goodbye!"
		reactor.stop()
		
	def clientConnectionLost(self, connector, reason):
		print "Connection lost - goodbye!"
		reactor.stop()


# this connects the protocol to a server runing on
port 8000
def main():
    f = EchoFactory()
    reactor.connectTCP("localhost", 8000, f)
    reactor.run()

# this only runs if the module was *not* imported
if __name__ == '__main__':
    main()


In this test im trying to send some data when the
client makes it's connection, but I get and error when
running the client.

>From all the examples i can find using write method
are all echo/chat programs and from that I guess only
strings/text can be send via the write method.


> Are you familiar with buildbot?

Heard of but never looked at.

I'm very new to this Twisted, and quite new to python.

Send instant messages to your online friends http://uk.messenger.yahoo.com 



From exarkun at divmod.com  Fri Oct 20 10:13:34 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Fri, 20 Oct 2006 12:13:34 -0400
Subject: [Twisted-Python] Help with TCPServer and listenTCP
In-Reply-To: <20061020152739.91862.qmail@web23104.mail.ird.yahoo.com>
Message-ID: <20061020161334.26151.1272455425.divmod.quotient.8157@ohm>

On Fri, 20 Oct 2006 16:27:38 +0100 (BST), James Healey <healeyjames at yahoo.co.uk> wrote:
> [snip]
>
>From all the examples i can find using write method
>are all echo/chat programs and from that I guess only
>strings/text can be send via the write method.
>

Yes.  Only instances of `str' can be written to a transport.
If you have non-str data to convey, you need to serialize it
somehow.

>
>> Are you familiar with buildbot?
>
>Heard of but never looked at.

It is an application which does something much like what you
described in your initial email.

Jean-Paul



From manlio_perillo at libero.it  Sat Oct 21 04:11:29 2006
From: manlio_perillo at libero.it (Manlio Perillo)
Date: Sat, 21 Oct 2006 12:11:29 +0200
Subject: [Twisted-Python] knowing which reactor is running
Message-ID: <4539F251.5030603@libero.it>

In a test suite I need to know if the win32eventreactor is running.
Any solution?


Thanks and regards  Manlio Perillo



From exarkun at twistedmatrix.com  Sat Oct 21 23:05:01 2006
From: exarkun at twistedmatrix.com (exarkun at twistedmatrix.com)
Date: Sun, 22 Oct 2006 05:05:01 -0000
Subject: [Twisted-Python] Weekly Bug Summary
Message-ID: 1161493501.74.627322803@twistedmatrix.com

Bug summary
______________________
Summary for 2006-10-15 through 2006-10-22
Bugs opened: 12    Bugs closed: 6  Total open bugs: 749 (+6)

|== Type Changes   |== Priority Changes   |== Component Changes   
|Defect:       +3  |Highest:  +2          |Core:   +6             
|Enhancement:  +5  |High:     +1          |Ftp:    +1             
|Task:         +1  |Normal:   +6          |Names:  +1             
                                          |Trial:  +1             
                                          |Words:  +0             


New / Reopened Bugs
______________________
                    ===== Highest =====
[#1953] Epoll reactor (opened by therve)
    enhancement     core       http://twistedmatrix.com/trac/ticket/1953

[#1953] Epoll reactor (opened by therve)
    enhancement     core       http://twistedmatrix.com/trac/ticket/1953

[#815 ] t.internet.process.Process should check for valid arguments (opened by marienz)
    enhancement     core       http://twistedmatrix.com/trac/ticket/815

                    ===== High =====
[#2173] twisted/trial/runner.py:243: exceptions.DeprecationWarning: log.startKeepingErrors is deprecated since Twisted 2.5 (opened by exarkun)
    defect          trial      http://twistedmatrix.com/trac/ticket/2173

[#2175] twisted.plugin.getCache doesn't handle WindowsError ERROR_FILE_NOT_FOUND (opened by exarkun) (CLOSED, duplicate)
    defect          core       http://twistedmatrix.com/trac/ticket/2175

                    ===== Normal =====
[#2174] Error in the PullProducer doc (opened by misto)
    defect          core       http://twistedmatrix.com/trac/ticket/2174

[#2176] Need IFilePath (opened by wsanchez)
    enhancement     core       http://twistedmatrix.com/trac/ticket/2176

[#2177] Collect Jabber interfaces in one file (opened by ralphm)
    task            words      http://twistedmatrix.com/trac/ticket/2177

[#2178] Generalize XMPP subprotocol containment (opened by ralphm)
    enhancement     words      http://twistedmatrix.com/trac/ticket/2178

[#2179] Parameterize the root directory of the FTP server for non-anonymous logins (opened by cwegrzyn)
    enhancement     ftp        http://twistedmatrix.com/trac/ticket/2179

[#2180] FilesystemLock needs a method that defers until it can acquire a lock (opened by wsanchez)
    enhancement     core       http://twistedmatrix.com/trac/ticket/2180

[#2181] twisted.names.client.getHostByName and friends insufficently documented. (opened by jerub)
    defect          names      http://twistedmatrix.com/trac/ticket/2181



Closed Bugs
______________________
                    ===== Highest =====
[#1953] Epoll reactor (opened by therve, closed by exarkun, )
    enhancement     core       http://twistedmatrix.com/trac/ticket/1953

[#1953] Epoll reactor (opened by therve, closed by exarkun, )
    enhancement     core       http://twistedmatrix.com/trac/ticket/1953

[#1995] Rework t.w.p.jabber.component to work with initializers. (opened by ralphm, closed by ralphm, fixed)
    enhancement     words      http://twistedmatrix.com/trac/ticket/1995

[#815 ] t.internet.process.Process should check for valid arguments (opened by marienz, closed by exarkun, )
    enhancement     core       http://twistedmatrix.com/trac/ticket/815

                    ===== High =====
[#2175] twisted.plugin.getCache doesn't handle WindowsError ERROR_FILE_NOT_FOUND (opened by exarkun, closed by exarkun, duplicate)
    defect          core       http://twistedmatrix.com/trac/ticket/2175

                    ===== Normal =====
[#2088] twisted.words.im.basechat.ChatUI.contactChangedNick is completely broken. (opened by jerub, closed by exarkun, duplicate)
    enhancement     words      http://twistedmatrix.com/trac/ticket/2088





From exarkun at divmod.com  Mon Oct 23 09:58:06 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Mon, 23 Oct 2006 11:58:06 -0400
Subject: [Twisted-Python] Re: [Twisted-commits] r18506 - Fix SSL check.
In-Reply-To: <E1Gc25F-0001CM-00@wolfwood>
Message-ID: <20061023155806.26151.380963351.divmod.quotient.11106@ohm>

On Mon, 23 Oct 2006 09:51:25 -0600, Ralph Meijer <ralphm at wolfwood.twistedmatrix.com> wrote:
>Author: ralphm
>Date: Mon Oct 23 09:51:25 2006
>New Revision: 18506
>
>Modified:
>   trunk/twisted/words/protocols/jabber/xmlstream.py
>   trunk/twisted/words/test/test_jabberxmlstream.py
>Log:
>Fix SSL check.
>
>Author: ralphm
>Reviewer: exarkun
>Fixes 2171
>

This changeset contains some changes which were made after the review but
never checked into the development branch.  This makes tracking down the
exact set of changes more challenging, since the branch diff does not end
up representing the actual trunk change.  This makes a difference if, for
example, the change needs to be reverted.  The person doing the revert may
not realize the trunk commit represented additional changes and they could
be lost.

For future branch merges, make sure that the trunk commit includes only the
changes from the branch.

Jean-Paul



From manlio_perillo at libero.it  Mon Oct 23 10:45:39 2006
From: manlio_perillo at libero.it (Manlio Perillo)
Date: Mon, 23 Oct 2006 18:45:39 +0200
Subject: [Twisted-Python] Problems with code in "Twisted" book ...
In-Reply-To: <075DE16201D10648805AD252D1BC132203704366@VS6.EXCHPROD.USA.NET>
References: <075DE16201D10648805AD252D1BC132203704366@VS6.EXCHPROD.USA.NET>
Message-ID: <453CF1B3.1070502@libero.it>

Walsh, Sandy ha scritto:
> Hey there, 
> 
> Just got a copy of "Twisted" and I've been playing around with the book
> examples. Can't seem to get the "Example 2-6. dataforward.py" to work on
> Windows. I've reverted back to Python 2.3 (because I ultimately want to
> use the secure stuff later). It compiles and runs, but I get no echo of
> the input and the reactor seems to be frozen. When I Ctrl-C the program
> I get my keyed input spewed into the console, so it seems python is not
> receiving it. 
> 

I suggest to try with
http://twistedmatrix.com/trac/ticket/2157

1. Backup your twisted.internet._win32stdio.py and
   twisted.internet._pollingfile.py

2. Copy conio.py into twisted.internet and apply the patches
   _pollingfile.patch and _win32stdio.patch.

One problem is that the cursor/caret is not visible (and I don't know why).
On my PC, with Windows XP Pro SP2, it works without problems.



Regards  Manlio Perillo



From ncesar at lunix.com.ar  Mon Oct 23 11:09:11 2006
From: ncesar at lunix.com.ar (Nicolas D. Cesar)
Date: Mon, 23 Oct 2006 14:09:11 -0300
Subject: [Twisted-Python] knowing which reactor is running
In-Reply-To: <4539F251.5030603@libero.it>
References: <4539F251.5030603@libero.it>
Message-ID: <200610231409.12113.ncesar@lunix.com.ar>

El Sábado, 21 de Octubre de 2006 07:11, Manlio Perillo escribió:
> In a test suite I need to know if the win32eventreactor is running.
> Any solution?

I'm new to python and twisted but try:

print reactor.__class__

Y get something like: 
reactor class: <class 'twisted.internet.selectreactor.SelectReactor'>

probably win32eventreactor  will say something like:

reactor class: <class 'twisted.internet.win32eventreactor.XXX'>

Greetings

PS:I'm using GNU/Linux, can't try further.
-- 
Nicolás D. César <ncesar at lunix.com.ar>
Lunix S.R.L. -[ http://www.lunix.com.ar ]-
GnuPG Public Key: gpg --keyserver wwwkeys.pgp.net --recv-key 0x3606F3E6
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
URL: </pipermail/twisted-python/attachments/20061023/a4a59508/attachment.sig>

From swalsh at ncipher.com  Mon Oct 23 11:08:38 2006
From: swalsh at ncipher.com (Walsh, Sandy)
Date: Mon, 23 Oct 2006 11:08:38 -0600
Subject: [Twisted-Python] Problems with code in "Twisted" book ...
In-Reply-To: <453CF1B3.1070502@libero.it>
Message-ID: <075DE16201D10648805AD252D1BC132203AA865A@VS6.EXCHPROD.USA.NET>

Super ... thx for the help!

-Sandy


-----Original Message-----
From: twisted-python-bounces at twistedmatrix.com
[mailto:twisted-python-bounces at twistedmatrix.com] On Behalf Of Manlio
Perillo
Sent: Monday, October 23, 2006 1:46 PM
To: Twisted general discussion
Subject: Re: [Twisted-Python] Problems with code in "Twisted" book ...

Walsh, Sandy ha scritto:
> Hey there, 
> 
> Just got a copy of "Twisted" and I've been playing around with the
book
> examples. Can't seem to get the "Example 2-6. dataforward.py" to work
on
> Windows. I've reverted back to Python 2.3 (because I ultimately want
to
> use the secure stuff later). It compiles and runs, but I get no echo
of
> the input and the reactor seems to be frozen. When I Ctrl-C the
program
> I get my keyed input spewed into the console, so it seems python is
not
> receiving it. 
> 

I suggest to try with
http://twistedmatrix.com/trac/ticket/2157

1. Backup your twisted.internet._win32stdio.py and
   twisted.internet._pollingfile.py

2. Copy conio.py into twisted.internet and apply the patches
   _pollingfile.patch and _win32stdio.patch.

One problem is that the cursor/caret is not visible (and I don't know
why).
On my PC, with Windows XP Pro SP2, it works without problems.



Regards  Manlio Perillo

_______________________________________________
Twisted-Python mailing list
Twisted-Python at twistedmatrix.com
http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python



From manlio_perillo at libero.it  Mon Oct 23 11:45:22 2006
From: manlio_perillo at libero.it (Manlio Perillo)
Date: Mon, 23 Oct 2006 19:45:22 +0200
Subject: [Twisted-Python] knowing which reactor is running
In-Reply-To: <200610231409.12113.ncesar@lunix.com.ar>
References: <4539F251.5030603@libero.it>
	<200610231409.12113.ncesar@lunix.com.ar>
Message-ID: <453CFFB2.5080906@libero.it>

Nicolas D. Cesar ha scritto:
> El Sábado, 21 de Octubre de 2006 07:11, Manlio Perillo escribió:
>> In a test suite I need to know if the win32eventreactor is running.
>> Any solution?
> 
> I'm new to python and twisted but try:
> 
> print reactor.__class__
> 
> Y get something like: 
> reactor class: <class 'twisted.internet.selectreactor.SelectReactor'>
> 
> probably win32eventreactor  will say something like:
> 
> reactor class: <class 'twisted.internet.win32eventreactor.XXX'>
> 


Thanks, it works.
However, maybe, a reactor should have a name attribute.



Regards  Manlio Perillo



From manlio_perillo at libero.it  Mon Oct 23 11:47:07 2006
From: manlio_perillo at libero.it (Manlio Perillo)
Date: Mon, 23 Oct 2006 19:47:07 +0200
Subject: [Twisted-Python] Problems with code in "Twisted" book ...
In-Reply-To: <075DE16201D10648805AD252D1BC132203AA865A@VS6.EXCHPROD.USA.NET>
References: <075DE16201D10648805AD252D1BC132203AA865A@VS6.EXCHPROD.USA.NET>
Message-ID: <453D001B.6020407@libero.it>

Walsh, Sandy ha scritto:
> Super ... thx for the help!
> 

If you find some problems, please let me know.
I'm the author of the patch.



Regards  Manlio Perillo



From exarkun at divmod.com  Mon Oct 23 12:12:41 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Mon, 23 Oct 2006 14:12:41 -0400
Subject: [Twisted-Python] knowing which reactor is running
In-Reply-To: <4539F251.5030603@libero.it>
Message-ID: <20061023181242.26151.256536441.divmod.quotient.11231@ohm>

On Sat, 21 Oct 2006 12:11:29 +0200, Manlio Perillo <manlio_perillo at libero.it> wrote:
>In a test suite I need to know if the win32eventreactor is running.
>Any solution?

You generally shouldn't need this information.  Rather, you should rely
on the interfaces provided by the reactor you're using, and less commonly
the modules which you are able to import.

Jean-Paul



From manlio_perillo at libero.it  Mon Oct 23 12:48:18 2006
From: manlio_perillo at libero.it (Manlio Perillo)
Date: Mon, 23 Oct 2006 20:48:18 +0200
Subject: [Twisted-Python] knowing which reactor is running
In-Reply-To: <20061023181242.26151.256536441.divmod.quotient.11231@ohm>
References: <20061023181242.26151.256536441.divmod.quotient.11231@ohm>
Message-ID: <453D0E72.1060500@libero.it>

Jean-Paul Calderone ha scritto:
> On Sat, 21 Oct 2006 12:11:29 +0200, Manlio Perillo
> <manlio_perillo at libero.it> wrote:
>> In a test suite I need to know if the win32eventreactor is running.
>> Any solution?
> 
> You generally shouldn't need this information.  Rather, you should rely
> on the interfaces provided by the reactor you're using, and less commonly
> the modules which you are able to import.
>

But the win32eventreactor does not implement a "special" interface like,
say, IWin32EventReactor.


Regards  Manlio Perillo



From ldanielburr at mac.com  Mon Oct 23 13:04:32 2006
From: ldanielburr at mac.com (L. Daniel Burr)
Date: Mon, 23 Oct 2006 14:04:32 -0500
Subject: [Twisted-Python] knowing which reactor is running
In-Reply-To: <453D0E72.1060500@libero.it>
References: <20061023181242.26151.256536441.divmod.quotient.11231@ohm>
	<453D0E72.1060500@libero.it>
Message-ID: <op.thv1xuxh3oj628@l-daniel-burrs-powerbook-g4-17.local>

On Mon, 23 Oct 2006 13:48:18 -0500, Manlio Perillo  
<manlio_perillo at libero.it> wrote:

> Jean-Paul Calderone ha scritto:
>> On Sat, 21 Oct 2006 12:11:29 +0200, Manlio Perillo
>> <manlio_perillo at libero.it> wrote:
>>> In a test suite I need to know if the win32eventreactor is running.
>>> Any solution?
>>
>> You generally shouldn't need this information.  Rather, you should rely
>> on the interfaces provided by the reactor you're using, and less  
>> commonly
>> the modules which you are able to import.
>>
>
> But the win32eventreactor does not implement a "special" interface like,
> say, IWin32EventReactor.
>
>
> Regards  Manlio Perillo
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python

Of course it doesn't, because interfaces aren't types.  Having an
interface named IWin32EventReactor makes no sense, because the
whole point of interfaces is to describe how something acts, not
what it is.  Types answer the question "what is this?"; interfaces
answer the question "what can I do with this?".

What exarkun is getting at is this: You shouldn't need to know what
*type* of reactor you have.  Instead, you should find out what kind
of behaviors your reactor instance supports, and interfaces are a
good way to do that.

This is really similar to the case with JavaScript and browser-sniff
strategies.  It used to be that most libraries relied on sniffing the
user-agent string to determine what browser they were dealing with.
Over time, it has become more common to test for supported behavior,
e.g., checking for document.implementation, etc.

Hope this helps,

L. Daniel Burr



From manlio_perillo at libero.it  Mon Oct 23 13:27:03 2006
From: manlio_perillo at libero.it (Manlio Perillo)
Date: Mon, 23 Oct 2006 21:27:03 +0200
Subject: [Twisted-Python] knowing which reactor is running
In-Reply-To: <op.thv1xuxh3oj628@l-daniel-burrs-powerbook-g4-17.local>
References: <20061023181242.26151.256536441.divmod.quotient.11231@ohm>	<453D0E72.1060500@libero.it>
	<op.thv1xuxh3oj628@l-daniel-burrs-powerbook-g4-17.local>
Message-ID: <453D1787.1060903@libero.it>

L. Daniel Burr ha scritto:
> On Mon, 23 Oct 2006 13:48:18 -0500, Manlio Perillo
> <manlio_perillo at libero.it> wrote:
> 
>> Jean-Paul Calderone ha scritto:
>>> On Sat, 21 Oct 2006 12:11:29 +0200, Manlio Perillo
>>> <manlio_perillo at libero.it> wrote:
>>>> In a test suite I need to know if the win32eventreactor is running.
>>>> Any solution?
>>>
>>> You generally shouldn't need this information.  Rather, you should rely
>>> on the interfaces provided by the reactor you're using, and less
>>> commonly
>>> the modules which you are able to import.
>>>
>>
>> But the win32eventreactor does not implement a "special" interface like,
>> say, IWin32EventReactor.
>>
> [...]
> 
> Of course it doesn't, because interfaces aren't types.  Having an
> interface named IWin32EventReactor makes no sense, because the
> whole point of interfaces is to describe how something acts, not
> what it is.  Types answer the question "what is this?"; interfaces
> answer the question "what can I do with this?".
> 

Yes.
IWin32EventReactor interface means that the reactor support the win32
event system (addEvent, removeEvent).



Regards  Manlio Perillo



From ldanielburr at mac.com  Mon Oct 23 14:00:11 2006
From: ldanielburr at mac.com (L. Daniel Burr)
Date: Mon, 23 Oct 2006 15:00:11 -0500
Subject: [Twisted-Python] knowing which reactor is running
In-Reply-To: <453D1787.1060903@libero.it>
References: <20061023181242.26151.256536441.divmod.quotient.11231@ohm>
	<453D0E72.1060500@libero.it>
	<op.thv1xuxh3oj628@l-daniel-burrs-powerbook-g4-17.local>
	<453D1787.1060903@libero.it>
Message-ID: <op.thv4ilde3oj628@l-daniel-burrs-powerbook-g4-17.local>

Hi Manlio,

On Mon, 23 Oct 2006 14:27:03 -0500, Manlio Perillo  
<manlio_perillo at libero.it> wrote:

> L. Daniel Burr ha scritto:
>> On Mon, 23 Oct 2006 13:48:18 -0500, Manlio Perillo
>> <manlio_perillo at libero.it> wrote:
>>
>>> Jean-Paul Calderone ha scritto:
>>>> On Sat, 21 Oct 2006 12:11:29 +0200, Manlio Perillo
>>>> <manlio_perillo at libero.it> wrote:
>>>>> In a test suite I need to know if the win32eventreactor is running.
>>>>> Any solution?
>>>>
>>>> You generally shouldn't need this information.  Rather, you should  
>>>> rely
>>>> on the interfaces provided by the reactor you're using, and less
>>>> commonly
>>>> the modules which you are able to import.
>>>>
>>>
>>> But the win32eventreactor does not implement a "special" interface  
>>> like,
>>> say, IWin32EventReactor.
>>>
>> [...]
>>
>> Of course it doesn't, because interfaces aren't types.  Having an
>> interface named IWin32EventReactor makes no sense, because the
>> whole point of interfaces is to describe how something acts, not
>> what it is.  Types answer the question "what is this?"; interfaces
>> answer the question "what can I do with this?".
>>
>
> Yes.
> IWin32EventReactor interface means that the reactor support the win32
> event system (addEvent, removeEvent).
>

An IWin32Event interface would suggest support for the win32 event system,
but adding "Reactor" to the end of that is wrong, in my opinion.

Naming conventions aside, yes, you have the right idea.  You'd check your
reactor instance to see if it supports the IWin32Event interface, rather
than checking the instance's class name.

>
>
> Regards  Manlio Perillo


Hope this helps,

L. Daniel Burr



From manlio_perillo at libero.it  Mon Oct 23 15:03:47 2006
From: manlio_perillo at libero.it (Manlio Perillo)
Date: Mon, 23 Oct 2006 23:03:47 +0200
Subject: [Twisted-Python] knowing which reactor is running
In-Reply-To: <op.thv4ilde3oj628@l-daniel-burrs-powerbook-g4-17.local>
References: <20061023181242.26151.256536441.divmod.quotient.11231@ohm>	<453D0E72.1060500@libero.it>	<op.thv1xuxh3oj628@l-daniel-burrs-powerbook-g4-17.local>	<453D1787.1060903@libero.it>
	<op.thv4ilde3oj628@l-daniel-burrs-powerbook-g4-17.local>
Message-ID: <453D2E33.5010504@libero.it>

L. Daniel Burr ha scritto:
> Hi Manlio,
> 

Hi.

> [...]
>> Yes.
>> IWin32EventReactor interface means that the reactor support the win32
>> event system (addEvent, removeEvent).
>>
> 
> An IWin32Event interface would suggest support for the win32 event system,
> but adding "Reactor" to the end of that is wrong, in my opinion.
> 

You are right, I just picked up the first name that come to my mind.

> Naming conventions aside, yes, you have the right idea.  You'd check your
> reactor instance to see if it supports the IWin32Event interface, rather
> than checking the instance's class name.
> 


When I find some time I will write a ticket.

Moreover I think that a one more ticked is needed for polishing the
little mess (IMHO) with abstract.FileDescriptor, what it is used in
_win32serialport and _pollingfile.

As an example:
1. abstract.FileDescriptor for Posix file descriptors (like sockets)
2. win32handle.Win32Handle for win32 handles that can get notified by
WaitForSingleObject and friends (like input console and generic events)
3. upoll.PollableResource for "poor man" polling



Regards   Manlio Perillo



From robert at gravina.com  Tue Oct 24 01:32:16 2006
From: robert at gravina.com (Robert Gravina)
Date: Tue, 24 Oct 2006 16:32:16 +0900
Subject: [Twisted-Python] keeping client data in sync with Twisted,
	mirroring some Axiom Items on the client-side 
Message-ID: <69656710-8BCA-4B6B-8D89-B9185E7AED1F@gravina.com>

Divmod and Twisted lists,

I think I've asked something similar before on the Divmod list, but  
I'd like to ask again for some advice about using Divmod Axiom (an  
object-relational DB) in a multi-user Twisted GUI application I'm  
writing. This has as much to do with Twisted as it does Axiom, so I  
felt it best to send to both lists. I apologise for the noise.

The problem I'm having is mainly architectural. I have about 15 Axiom  
Item classes that live on a server-side database, and these are  
Twisted pb.Copyable, so the clients end up with a pb.RemoteCopy which  
has all of the attributes from the server-side Item. I now have about  
1000 lines of code for the pb.Copyable Axiom Items and 500 lines of  
code for all these pb.RemoteCopy objects, but essentially all they  
are classes with the same attribute names as the Axiom Items. Apart  
from being a pain to maintain, it feels like this is really wasted  
code. There's also a lot of code to notify other clients when data in  
these objects changes.

Basically, my app is starting to feel really bloated, and I think I'm  
going about this the wrong way. Someone mentioned earlier that what I  
really want is Zope Enterprise Objects, and they are right. A  
distributed database that's simple keep all clients in sync is  
exactly what I want, but now that I've invested so much time and  
energy into Twisted I'd hate to throw it all away and begin the long  
arduous task of learning and switching to Zope.

My basic goals are this:

1) Have a database which several clients can share and modify. For  
example, if this is a contacts database, and I update someone's phone  
number, I want all the other clients to get the new number.

Perhaps this can be implemented using pb.Cacheables? I already do  
something like this using one Cacheable  which I send pb.Copyable  
objects to it's client-side RemoteCache as they are modified, and it  
updates a dict of objects indexed by storeID.... but my  
implementation is far from elegant :)

2) I'd like clients to be able to possibly one day "work offline".  
Say for example they don't have network access, they could, instead  
of logging in to the server, use their local cache of contacts. add/ 
edit/delete then and then have these changes reflected when they next  
logon. I assume this would probably take some effort to implement  
regardless of whether I used Twisted or ZEO, but my main stumbling  
block at the moment is that I can't send Axiom Items down the wire,  
since they have a Store reference and storeID etc. What I would  
really like to do is send Axiom Items to clients and have them create  
an Axiom Item *with the same storeID and details* as the one they  
received. Sort of like mirroring the data, but not necessarily the  
whole DB, just the objects they require.

I'm starting to wonder now if I should replace Twisted with ZEO in my  
application. The main reason I didn't go with ZEO in the beginning is  
I couldn't find any examples of it being used for mutli-user GUI  
database-apps, only for mirroring/scaling Zope instances, so figured  
it wasn't designed with this in mind. I do like Twisted, and I'm very  
happy with it as a framework, I'm just struggling with how to deal  
with this problem.

Thanks again all,

Robert




From overstock at gmail.com  Tue Oct 24 08:25:30 2006
From: overstock at gmail.com (Over Stock)
Date: Tue, 24 Oct 2006 16:25:30 +0200
Subject: [Twisted-Python] Raja Fashions, Quality Mens Fashions
Message-ID: <1d7842330610240725s86a6405l4f71613774bea5b@mail.gmail.com>

Raja Fashions, Quality Mens Fashions

http://www.raja-fashions.com

Raja Fashions is no ordinary custom tailor. Raja Fashions was founded
in 1957 and have not only become the most established custom tailor in
Hong Kong, but also the most dynamic.We are constantly applying new
means of technology to make the quality of our garments and efficiency
of our services the best in the industry. Our team is constantly on
the move, learning the ever changing fashion trends and the cultural
differences that impact the way people dress around the world.

We are not merely bespoke tailors, but in fact fashion consultants. We
want you to look good. Regardless of your shape and size, we make it
our mission to make you the best dressed individual in your workplace
or at whatever occassion you plan to attend. With our years of
experience and knowledge of styles and materials we can help you
design clothing that is perfect for you.

For overseas sales and order information
Tel: +852 2366 1801
raja at raja-fashions.com

For Hong Kong sales and order information
Tel: +852 2366 7624
raja at raja-fashions.com

For any questions and feedback concerning our website
Vishal Daswani at vishal at raja-fashions.com

For any other information
raja at raja-fashions.com

Custom Software
Custom Business Software
Custom Business Solutions
Ecommerce Software Solutions
Software Integration
Integration Software
Accounting Software Integration
Software Data Integration
Business to Business Software
Business Software Applications
Computer Software Applications



From mike at mkp.ca  Tue Oct 24 10:27:29 2006
From: mike at mkp.ca (Mike Pelletier)
Date: Tue, 24 Oct 2006 12:27:29 -0400
Subject: [Twisted-Python] Re: [Divmod-dev] keeping client data in sync with
	Twisted, mirroring some Axiom Items on the client-side
In-Reply-To: <69656710-8BCA-4B6B-8D89-B9185E7AED1F@gravina.com>
References: <69656710-8BCA-4B6B-8D89-B9185E7AED1F@gravina.com>
Message-ID: <200610241227.29796.mike@mkp.ca>

On Tuesday 24 October 2006 03:32, Robert Gravina wrote:
> I'm starting to wonder now if I should replace Twisted with ZEO in my  
> application.

The good news is that zeo+zodb can be used without pulling in the rest of Zope 
(thank god) and you probably could marry it with the rest of your twisted 
app.  The bad news is that zodb has completely different usage semantics and 
tuning assumptions than axiom, and even if you find a way to deal with zodb 
asynchronously (which may be a bigger problem than I just indicated now that 
I give it a passing though), you may find that such a change ends up leaking 
up a few layers of abstraction, depending on your use cases.  I'd be happy to 
hash it out off-list if you decide to go that way.  Regardless of these 
challenges, if your app is write-heavy, zodb is probably not the way to go.

It does seem like what you are trying to do with Axiom would be a fairly 
common case, but it's young so it might not have been addressed.  I'm eager 
to hear what the smart people have to say.  I think I've heard noises about 
Axiom starting to support other databases beyond sqllite, so perhaps it is 
not beyond the realm of possibility that you could connect a bunch of 
axiom-wielding processes to the same database.  For that matter, sqlite has 
been talking about providing a client/server interface.  Either way, I think 
you'd be on the bleeding edge.

Boy, I'm a big help, eh?

Mike.



From robert at gravina.com  Tue Oct 24 11:24:17 2006
From: robert at gravina.com (Robert Gravina)
Date: Wed, 25 Oct 2006 02:24:17 +0900
Subject: [Twisted-Python] Re: [Divmod-dev] keeping client data in sync with
	Twisted, mirroring some Axiom Items on the client-side
In-Reply-To: <200610241227.29796.mike@mkp.ca>
References: <69656710-8BCA-4B6B-8D89-B9185E7AED1F@gravina.com>
	<200610241227.29796.mike@mkp.ca>
Message-ID: <782E69A2-269B-4A58-B3FD-77659FF4F588@gravina.com>


On 2006/10/25, at 1:27, Mike Pelletier wrote:

> The good news is that zeo+zodb can be used without pulling in the  
> rest of Zope
> (thank god) and you probably could marry it with the rest of your  
> twisted
> app.

I started off doing this actually, and decided to switch to Axiom  
because it was object-relational. I've had some no-so-fun experiences  
with Plone and ZODB madness, but it probably has more to do with not  
understanding what was going on.

For the most part, as long as all the database-related work goes on  
on the server side, whether I use ZODB or Axiom probably doesn't make  
much of a difference to the rest of the application.

> The bad news is that zodb has completely different usage semantics and
> tuning assumptions than axiom, and even if you find a way to deal  
> with zodb
> asynchronously (which may be a bigger problem than I just indicated  
> now that
> I give it a passing though), you may find that such a change ends  
> up leaking
> up a few layers of abstraction, depending on your use cases.  I'd  
> be happy to
> hash it out off-list if you decide to go that way.

Thanks. Actually most of my database access so far is along the lines  
of the client sending an object to the server (along with its child  
objects), and the server persists it (and add/edits/removes the  
children to suit). Your typical CRUD GUI.

> Regardless of these
> challenges, if your app is write-heavy, zodb is probably not the  
> way to go.

I have heard this before yes. Actually I there will be more reading  
going on than writing. The application is your basic database-with- 
reports type application, so I'd say it would not be write heavy.

> It does seem like what you are trying to do with Axiom would be a  
> fairly
> common case, but it's young so it might not have been addressed.   
> I'm eager
> to hear what the smart people have to say.

As am I :) What I'm trying to I believe can be done with Twisted PB.  
Calling remote methods on all clients who have an object which is  
pb.Cacheable is quite easy to do. I am just unsure about how to go  
about it in a generic way. Also I'm sure there's a lot more to  
creating a distributed object system than meets the eye, but then  
again Twisted PB handles much of the heavy lifting.

Originally, I planned to do much of the work on the server, and one  
thing I liked about Twisted was that I could easy decide what work  
was done on the client, and what on the server. Now that I'm a little  
further in developmentI realise that the clients would really benifit  
from having much of that data locally, so that can search/make PDF  
reports etc. easily. Perhaps I'm just using Twisted wrong and I  
should be doing this on the server? I'm really I'm happy for the  
clients do *all* the work, which is why I'm back to considering ZEO  
again. The server just needs to handle authentication and access  
control, ensuring everyone has the latest copy of an object, make  
sure two users aren't allowed to open a edit GUI for some object at  
the same time, etc.

One important point, is that with ZEO I just code as if the database  
was a local ZODB. I like that because it saves literally hundreds of  
lines of code dealing with sending objects back and forth, notifying  
clients etc.

> I think I've heard noises about
> Axiom starting to support other databases beyond sqllite, so  
> perhaps it is
> not beyond the realm of possibility that you could connect a bunch of
> axiom-wielding processes to the same database.
> For that matter, sqlite has
> been talking about providing a client/server interface.  Either  
> way, I think
> you'd be on the bleeding edge.
>

If I were to go this way, then I wouldn't really be using Twisted  
right? In this case, I may as well use ZEO. Perhaps I'm taking the  
wrong approach - maybe all I need is a database server which clients  
connect to, and do away with the whole of Twisted cred/PB etc. that  
I'm using?

> Boy, I'm a big help, eh?
>

Actually you were thanks!

Robert



From BRADLEY.S.GASPARD at saic.com  Tue Oct 24 14:27:50 2006
From: BRADLEY.S.GASPARD at saic.com (Gaspard, Bradley S)
Date: Tue, 24 Oct 2006 16:27:50 -0400
Subject: [Twisted-Python] udp broadcast question
Message-ID: <702ADCB87C5EF340B1D7A597A9DFF1DA4B8B9C@0015-its-exmb02.us.saic.com>

I found a udp broadcast example (below) which works fine for my wired
ethernet interface but I would like to be able to specify my wireless
interface (ath0) for the udp broadcast. How can this be done?

On Wednesday, Dec 17, 2003, at 17:27 Europe/Helsinki, Jp Calderone 
wrote:

>
>   No threads, but maybe it's good enough anyway:

Thanks for trying to help. But really this is very incomplete, missing 
all read or write calls to the socket.
And I've tried, with just that SO_BROADCAST option I do not receive the 
stuff I send, and in fact with just that option, I can't even send.

But thanks for the pointer to twisted.

Torsten

>     import sys
>     from socket import SOL_SOCKET, SO_BROADCAST
>
>     from twisted.internet import reactor
>     from twisted.internet import protocol
>     from twisted.internet import task
>     from twisted.python import log
>
>     log.startLogging(sys.stdout)
>
>     port = 7154
>
>     class BroadcastingDatagramProtocol(protocol.DatagramProtocol):
>
>         port = port
>
>         def startProtocol(self):
>             self.transport.socket.setsockopt(SOL_SOCKET, SO_BROADCAST, 
> True)
>             self.call = task.LoopingCall(self.tick)
>             self.dcall = self.call.start(1.0)
>
>         def stopProtocol(self):
>             self.call.stop()
>
>         def tick(self):
>             self.transport.write(self.getPacket(), ("<broadcast>", 
> self.port))
>
> 	def getPacket(self):
>             return "Some bytes for you"
>
>         def datagramReceived(self, data, addr):
>             print "Received", repr(data)
>
>     reactor.listenUDP(port, BroadcastingDatagramProtocol())
>     reactor.run()
>
>   Jp
>
> -- 
> http://mail.python.org/mailman/listinfo/python-list





From BRADLEY.S.GASPARD at saic.com  Tue Oct 24 14:55:45 2006
From: BRADLEY.S.GASPARD at saic.com (Gaspard, Bradley S)
Date: Tue, 24 Oct 2006 16:55:45 -0400
Subject: [Twisted-Python] udp broadcast question
Message-ID: <702ADCB87C5EF340B1D7A597A9DFF1DA4B8B9D@0015-its-exmb02.us.saic.com>

It does work when I specify the broadcast address of my wireless interface.
I am still
curious if one can specify on which interface to broadcast to
255.255.255.255 ... perhaps 
not a twisted question.


-----Original Message-----
From: twisted-python-bounces at twistedmatrix.com on behalf of Gaspard, Bradley
S
Sent: Tue 10/24/2006 4:27 PM
To: twisted-python at twistedmatrix.com
Subject: [Twisted-Python] udp broadcast question
 
I found a udp broadcast example (below) which works fine for my wired
ethernet interface but I would like to be able to specify my wireless
interface (ath0) for the udp broadcast. How can this be done?

On Wednesday, Dec 17, 2003, at 17:27 Europe/Helsinki, Jp Calderone 
wrote:

>
>   No threads, but maybe it's good enough anyway:

Thanks for trying to help. But really this is very incomplete, missing 
all read or write calls to the socket.
And I've tried, with just that SO_BROADCAST option I do not receive the 
stuff I send, and in fact with just that option, I can't even send.

But thanks for the pointer to twisted.

Torsten

>     import sys
>     from socket import SOL_SOCKET, SO_BROADCAST
>
>     from twisted.internet import reactor
>     from twisted.internet import protocol
>     from twisted.internet import task
>     from twisted.python import log
>
>     log.startLogging(sys.stdout)
>
>     port = 7154
>
>     class BroadcastingDatagramProtocol(protocol.DatagramProtocol):
>
>         port = port
>
>         def startProtocol(self):
>             self.transport.socket.setsockopt(SOL_SOCKET, SO_BROADCAST, 
> True)
>             self.call = task.LoopingCall(self.tick)
>             self.dcall = self.call.start(1.0)
>
>         def stopProtocol(self):
>             self.call.stop()
>
>         def tick(self):
>             self.transport.write(self.getPacket(), ("<broadcast>", 
> self.port))
>
> 	def getPacket(self):
>             return "Some bytes for you"
>
>         def datagramReceived(self, data, addr):
>             print "Received", repr(data)
>
>     reactor.listenUDP(port, BroadcastingDatagramProtocol())
>     reactor.run()
>
>   Jp
>
> -- 
> http://mail.python.org/mailman/listinfo/python-list



_______________________________________________
Twisted-Python mailing list
Twisted-Python at twistedmatrix.com
http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/ms-tnef
Size: 3688 bytes
Desc: not available
URL: </pipermail/twisted-python/attachments/20061024/e9c36096/attachment-0002.bin>

From mmcnett at cs.ucsd.edu  Tue Oct 24 15:16:01 2006
From: mmcnett at cs.ucsd.edu (Marvin McNett)
Date: Tue, 24 Oct 2006 14:16:01 -0700
Subject: [Twisted-Python] setting perspective arg to
	getStateToCacheAndObserveFor
Message-ID: <453E8291.4070301@cs.ucsd.edu>

How does one go about setting the perspective parameter to 
twisted.spread.flavors.Cacheable.getStateToCacheAndObserveFor method? 
I'd like to return different information based on what type of observer 
is subscribing.  I've looked over and tested the example in the 
documentation, but it's always None.  I also looked over the source, but 
it's not obvious to me.

Thanks,
-Marvin



From ron.arts at netland.nl  Thu Oct 26 15:42:15 2006
From: ron.arts at netland.nl (Ron Arts)
Date: Thu, 26 Oct 2006 23:42:15 +0200
Subject: [Twisted-Python] finger tutorial question
Message-ID: <45412BB7.20909@netland.nl>

Hi,

I am pretty new to python and totally new to twisted.
 From what I read about it, it's perfect for my means.
I need to write a background daemon that connects to
a port, stays connected, reads information blocks,
keeps state, and write to a postgres database occasionally.
Also it should accepts connections from GUI clients,
that should display the state in a user friendly manner.

This looks like a perfect target for Twisted, especially
because I want to write the GUI client in wxPython.

So I started to follow the tutorial. Nothing too special,
apart from the last steps.

When making a finger library the tutorial creates
a file named organized-finger.tac. This file
starts with 'import finger'. The source for this file
is described in the tutorial as 'Code (from the module)'.
But I don't know where the module is.

If I try to use other pieces of code from earlier examples
as finger.py I invariably get something like:

           File "organized-finger.tac", line 13, in ?
             f = finger.FingerService('/etc/users')
         exceptions.AttributeError: 'module' object has no attribute 'FingerService'

Another thing is the configuration and packaging.
The tutorial wants to do:

mktap finger --file=/etc/users --ircnick=fingerbot

but that throws me Deprecated fatal errors. BTW I am using the
official twisted production version 2.4.0.

 From the subversion version I understand that mktap will
cease to exist, but for the moment I am stuck in the last step
to complete the example 'correct' application, and start my
own work from there.

So what am I doing wrong here?

Thanks
Ron

-------------- next part --------------
A non-text attachment was scrubbed...
Name: ron.arts.vcf
Type: text/x-vcard
Size: 270 bytes
Desc: not available
URL: </pipermail/twisted-python/attachments/20061026/aa612544/attachment-0002.vcf>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3403 bytes
Desc: S/MIME Cryptographic Signature
URL: </pipermail/twisted-python/attachments/20061026/aa612544/attachment-0002.bin>

From ron.arts at netland.nl  Thu Oct 26 16:29:04 2006
From: ron.arts at netland.nl (Ron Arts)
Date: Fri, 27 Oct 2006 00:29:04 +0200
Subject: [Twisted-Python] finger tutorial question: never mind
In-Reply-To: <45412BB7.20909@netland.nl>
References: <45412BB7.20909@netland.nl>
Message-ID: <454136B0.7010509@netland.nl>

Never mind my previous question...

Oh gee, I totally missed that I had to create a subdirectory
with __init__.py (which was a copy of finger.py), and other files
in it as well. Didn't get that at all.

Now everything really works. Thanks anyway..

Ron


Ron Arts schreef:
> Hi,
> 
> I am pretty new to python and totally new to twisted.
>  From what I read about it, it's perfect for my means.
> I need to write a background daemon that connects to
> a port, stays connected, reads information blocks,
> keeps state, and write to a postgres database occasionally.
> Also it should accepts connections from GUI clients,
> that should display the state in a user friendly manner.
> 
> This looks like a perfect target for Twisted, especially
> because I want to write the GUI client in wxPython.
> 
> So I started to follow the tutorial. Nothing too special,
> apart from the last steps.
> 
> When making a finger library the tutorial creates
> a file named organized-finger.tac. This file
> starts with 'import finger'. The source for this file
> is described in the tutorial as 'Code (from the module)'.
> But I don't know where the module is.
> 
> If I try to use other pieces of code from earlier examples
> as finger.py I invariably get something like:
> 
>           File "organized-finger.tac", line 13, in ?
>             f = finger.FingerService('/etc/users')
>         exceptions.AttributeError: 'module' object has no attribute 
> 'FingerService'
> 
> Another thing is the configuration and packaging.
> The tutorial wants to do:
> 
> mktap finger --file=/etc/users --ircnick=fingerbot
> 
> but that throws me Deprecated fatal errors. BTW I am using the
> official twisted production version 2.4.0.
> 
>  From the subversion version I understand that mktap will
> cease to exist, but for the moment I am stuck in the last step
> to complete the example 'correct' application, and start my
> own work from there.
> 
> So what am I doing wrong here?
> 
> Thanks
> Ron
> 
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ron.arts.vcf
Type: text/x-vcard
Size: 270 bytes
Desc: not available
URL: </pipermail/twisted-python/attachments/20061027/1add9016/attachment-0002.vcf>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3403 bytes
Desc: S/MIME Cryptographic Signature
URL: </pipermail/twisted-python/attachments/20061027/1add9016/attachment-0002.bin>

From exarkun at divmod.com  Thu Oct 26 17:07:06 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Thu, 26 Oct 2006 19:07:06 -0400
Subject: [Twisted-Python] finger tutorial question
In-Reply-To: <45412BB7.20909@netland.nl>
Message-ID: <20061026230706.20948.1413445688.divmod.quotient.1449@ohm>

On Thu, 26 Oct 2006 23:42:15 +0200, Ron Arts <ron.arts at netland.nl> wrote:
>Hi,

Hi.  It seems you figured out what was blocking you, but I'd like
to clarify a few points anyhow.

> [snip]
>
>This looks like a perfect target for Twisted, especially
>because I want to write the GUI client in wxPython.

Twisted doesn't have very good wxPython integration, actually.
It has _something_; whether or not it works varies a lot, and
the level of support likely to be available for it is minimal.

> [snip]
>
>Another thing is the configuration and packaging.
>The tutorial wants to do:
>
>mktap finger --file=/etc/users --ircnick=fingerbot
>
>but that throws me Deprecated fatal errors. BTW I am using the
>official twisted production version 2.4.0.

A Deprecation _Warning_ is what gets written to stderr.  This doesn't
prevent anything from working, it's just a a warning that the _later_
the functionality will probably be removed.  This generally means you
have at least one release (generally more like two, sometimes 10 or 20)
to stop using the functionality.  It is _not_ fatal.

>
> From the subversion version I understand that mktap will
>cease to exist,

Perhaps someday, but mktap itself isn't even deprecated yet.  The
finger tutorial uses the deprecated plugin system, and that's where
the warning is coming from.  mktap itself still loads plugins from
the old system because the old system is still only deprecated, not
removed.

Jean-Paul



From yqiang at gmail.com  Thu Oct 26 17:15:12 2006
From: yqiang at gmail.com (Yi Qiang)
Date: Thu, 26 Oct 2006 16:15:12 -0700
Subject: [Twisted-Python] twisted.cred question
Message-ID: <3af8969a0610261615o79841757m98f69b04878f2273@mail.gmail.com>

Hi, I am using twisted.cred to provide authentication to users over PB.  I
am using the FilePasswordDB class to provide avatarID's to users.  I am
wondering where/how I should implement the feature so that when a user tries
to login with a username that does not exist yet, we create a
username/password pair for that user and log them in.  I looked around in
checkers.py, but I am not sure if that is the right place to implement
this.

Thanks in advance,
Yi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20061026/a40cb7ec/attachment.html>

From exarkun at divmod.com  Thu Oct 26 18:06:24 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Thu, 26 Oct 2006 20:06:24 -0400
Subject: [Twisted-Python] twisted.cred question
In-Reply-To: <3af8969a0610261615o79841757m98f69b04878f2273@mail.gmail.com>
Message-ID: <20061027000624.20948.1469430479.divmod.quotient.1506@ohm>

On Thu, 26 Oct 2006 16:15:12 -0700, Yi Qiang <yqiang at gmail.com> wrote:
>Hi, I am using twisted.cred to provide authentication to users over PB.  I
>am using the FilePasswordDB class to provide avatarID's to users.  I am
>wondering where/how I should implement the feature so that when a user tries
>to login with a username that does not exist yet, we create a
>username/password pair for that user and log them in.  I looked around in
>checkers.py, but I am not sure if that is the right place to implement
>this.

If you're using FilePasswordDB as your checker, then you could subclass
it and add this behavior.  A problem with this in general is that it is
not always possible to extract sufficient information from a login attempt
to create a new set of credentials in the authentication backend.  For
example, a password may have been hashed together with a random number.
However, for plaintext password authentication (ie, over SSL) you should
have no problem.

There has been some discussion at various points about adding a general
API for adding new credentials through cred, but it hasn't really gotten
anywhere.

Jean-Paul



From deepankar.sharma at gmail.com  Thu Oct 26 22:33:17 2006
From: deepankar.sharma at gmail.com (Deepankar Sharma)
Date: Fri, 27 Oct 2006 00:33:17 -0400
Subject: [Twisted-Python] issues using pb.Copyable
Message-ID: <f5e6a4360610262133r62d4a7f2jd001304aee24c016@mail.gmail.com>

Hello,

I am trying to use pb.Copyable to send some python objects back and forth
between a client and server. I followed the documentation and quickly got
some simple examples working.
However i got stuck when i tried sending some python objects which are
actually wrappers for stuff written in C. Here is an example of what i am
trying to do


Class C (Wrapper for a c data structure)

Class B (inherits from class C and from pb.Copyable)

I have a lot of wrapper functions which give me instances of Class C. Trying
to do c_instance.__class__ = B does not work.
I somehow need to cast those instances into instances of class B so that the
jellying/unjellying can take place. What does one do in such a situation ?

Regards,
Deepankar
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20061027/0137a43c/attachment.html>

From ron.arts at netland.nl  Fri Oct 27 03:05:08 2006
From: ron.arts at netland.nl (Ron Arts)
Date: Fri, 27 Oct 2006 11:05:08 +0200
Subject: [Twisted-Python] finger tutorial question
In-Reply-To: <20061026230706.20948.1413445688.divmod.quotient.1449@ohm>
References: <20061026230706.20948.1413445688.divmod.quotient.1449@ohm>
Message-ID: <4541CBC4.9060406@netland.nl>

Jean-Paul Calderone schreef:
> On Thu, 26 Oct 2006 23:42:15 +0200, Ron Arts <ron.arts at netland.nl> wrote:
>> Hi,
> 
> Hi.  It seems you figured out what was blocking you, but I'd like
> to clarify a few points anyhow.
> 
>> [snip]
>>
>> This looks like a perfect target for Twisted, especially
>> because I want to write the GUI client in wxPython.
> 
> Twisted doesn't have very good wxPython integration, actually.
> It has _something_; whether or not it works varies a lot, and
> the level of support likely to be available for it is minimal.
> 

Okay, thanks for clarifying.

Is is possible to just integrate a Twisted client in
a wxPython program? I need to connect lots of
GUI clients to a twisted server, and both sides need to
send/receive asynchronously over that connection.

I could do that with plain wxPython, but I also would
prefer SSL over that connection, and probably also
support a separate PB connection.

Do you think this would be possible currently?

Ron

-- 
Netland Internet Services BV
bedrijfsmatige internetoplossingen

http://www.netland.nl  Kruislaan 419              1098 VA Amsterdam
info: 020-5628282      servicedesk: 020-5628282   fax: 020-5628281
KvK Amsterdam 33253286

Op dit bericht is de volgende disclaimer van toepassing:
http://www.netland.nl/maildisclaimer

People who live in stone houses shouldn't throw glasses.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ron.arts.vcf
Type: text/x-vcard
Size: 270 bytes
Desc: not available
URL: </pipermail/twisted-python/attachments/20061027/3a305ed0/attachment-0002.vcf>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3403 bytes
Desc: S/MIME Cryptographic Signature
URL: </pipermail/twisted-python/attachments/20061027/3a305ed0/attachment-0002.bin>

From exarkun at divmod.com  Fri Oct 27 07:23:07 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Fri, 27 Oct 2006 09:23:07 -0400
Subject: [Twisted-Python] issues using pb.Copyable
In-Reply-To: <f5e6a4360610262133r62d4a7f2jd001304aee24c016@mail.gmail.com>
Message-ID: <20061027132307.20948.764583438.divmod.quotient.2281@ohm>

On Fri, 27 Oct 2006 00:33:17 -0400, Deepankar Sharma <deepankar.sharma at gmail.com> wrote:
>Hello,
>
>I am trying to use pb.Copyable to send some python objects back and forth
>between a client and server. I followed the documentation and quickly got
>some simple examples working.
>However i got stuck when i tried sending some python objects which are
>actually wrappers for stuff written in C. Here is an example of what i am
>trying to do
>
>
>Class C (Wrapper for a c data structure)
>
>Class B (inherits from class C and from pb.Copyable)
>
>I have a lot of wrapper functions which give me instances of Class C. Trying
>to do c_instance.__class__ = B does not work.
>I somehow need to cast those instances into instances of class B so that the
>jellying/unjellying can take place. What does one do in such a situation ?

Instead of subclassing C, write a wrapper for it.  Implement getStateFor on
the wrapper.  For example:

>>> from twisted.spread import pb
>>> class X(object):
...     def __init__(self, y):
...             self.y = y
...
>>> class Z(pb.Jellyable):
...     def __init__(self, x):
...             self.x = x
...     def getStateFor(self, jellier):
...             return {'y': self.x.y}
...
>>> pb.jelly(Z(X(10)))
['__main__.Z', ['dictionary', ['y', 10]]]
>>> from twisted.spread import jelly
>>> def unjellyZ(jellier, state):
...     return Z(X(y=pb.unjelly(state[1])['y']))
... 
>>> jelly.setUnjellyableForClass('__main__.Z', unjellyZ)
>>> pb.unjelly(['__main__.Z', ['dictionary', ['y', 10]]]).x.y
10
>>>

Jean-Paul



From exarkun at divmod.com  Fri Oct 27 07:26:22 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Fri, 27 Oct 2006 09:26:22 -0400
Subject: [Twisted-Python] finger tutorial question
In-Reply-To: <4541CBC4.9060406@netland.nl>
Message-ID: <20061027132622.20948.616288199.divmod.quotient.2284@ohm>

On Fri, 27 Oct 2006 11:05:08 +0200, Ron Arts <ron.arts at netland.nl> wrote:
>Jean-Paul Calderone schreef:
>> On Thu, 26 Oct 2006 23:42:15 +0200, Ron Arts <ron.arts at netland.nl> wrote:
>>> Hi,
>>
>> Hi.  It seems you figured out what was blocking you, but I'd like
>> to clarify a few points anyhow.
>>
>>> [snip]
>>>
>>> This looks like a perfect target for Twisted, especially
>>> because I want to write the GUI client in wxPython.
>>
>> Twisted doesn't have very good wxPython integration, actually.
>> It has _something_; whether or not it works varies a lot, and
>> the level of support likely to be available for it is minimal.
>>
>
>Okay, thanks for clarifying.
>
>Is is possible to just integrate a Twisted client in
>a wxPython program? I need to connect lots of
>GUI clients to a twisted server, and both sides need to
>send/receive asynchronously over that connection.
>
>I could do that with plain wxPython, but I also would
>prefer SSL over that connection, and probably also
>support a separate PB connection.
>
>Do you think this would be possible currently?

I don't really know.  It may be possible.  I am not familiar enough
with wxPython to say either way.  From my observations of the attempts
made by others, but with Twisted and without Twisted, I would try to
avoid developing anything with wxPython.

Jean-Paul



From exarkun at divmod.com  Fri Oct 27 07:53:23 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Fri, 27 Oct 2006 09:53:23 -0400
Subject: [Twisted-Python] Re: [Twisted-commits] r18549 - Clean up
 t.web.soap.SOAPPublisher.lookupFunction
In-Reply-To: <E1GdKJY-0003Wa-00@wolfwood>
Message-ID: <20061027135323.20948.1793570260.divmod.quotient.2314@ohm>

On Thu, 26 Oct 2006 23:31:32 -0600, Jonathan Lange <jml at wolfwood.twistedmatrix.com> wrote:
> [snip]
>+        self.assertTrue(self.publisher.lookupFunction("add"))
>+        self.assertTrue(self.publisher.lookupFunction("fail"))
>+        self.assertFalse(self.publisher.lookupFunction("foobar"))

assertTrue?  assertFalse? :/  Why does trial have _four_ different names
for each of these functions?

Slightly more relevantly, shouldn't at least the last of these three be
assertIdentical(..., None)?  It is a common mistake throughout Twisted
to test for truth when the real intent is to test against None, so I'm
mostly pointing this out in the hopes of reducing new cases of it being
introduced in the future.

Jean-Paul



From robert at gravina.com  Fri Oct 27 08:38:07 2006
From: robert at gravina.com (Robert Gravina)
Date: Fri, 27 Oct 2006 23:38:07 +0900
Subject: [Twisted-Python] finger tutorial question
In-Reply-To: <20061027132622.20948.616288199.divmod.quotient.2284@ohm>
References: <20061027132622.20948.616288199.divmod.quotient.2284@ohm>
Message-ID: <CB81C330-A62F-4530-9389-E4E7E61108F4@gravina.com>


> I am not familiar enough
> with wxPython to say either way.  From my observations of the attempts
> made by others, but with Twisted and without Twisted, I would try to
> avoid developing anything with wxPython.
>

I wouldn't discount Twisted and wxPython altogether... Doesn't  
Chandler use this combination?
http://chandler.osafoundation.org/

I did a lot of looking around and couldn't find anything else as  
rich, native-looking, cross platform (linux/mac/windows) and free  
(for commercial use also). Although there was some discussion earlier  
about the stability and future of the wx reactor, at least as  
anecdotal evidence I have been able to use wxPython with Twisted and  
PB without any problems.

What exactly would you suggest as a replacement for wxPython then?

Robert




From therve at free.fr  Fri Oct 27 09:34:08 2006
From: therve at free.fr (Thomas HERVE)
Date: Fri, 27 Oct 2006 17:34:08 +0200
Subject: [Twisted-Python] Re: [Twisted-commits] r18549 - Clean up
	t.web.soap.SOAPPublisher.lookupFunction
In-Reply-To: <20061027135323.20948.1793570260.divmod.quotient.2314@ohm>
References: <20061027135323.20948.1793570260.divmod.quotient.2314@ohm>
Message-ID: <20061027173408.jhtwlz1yoos0g4s4@itchy.wasabout.net>

Quoting Jean-Paul Calderone <exarkun at divmod.com>:

> On Thu, 26 Oct 2006 23:31:32 -0600, Jonathan Lange 
> <jml at wolfwood.twistedmatrix.com> wrote:
>> [snip]
>> +        self.assertTrue(self.publisher.lookupFunction("add"))
>> +        self.assertTrue(self.publisher.lookupFunction("fail"))
>> +        self.assertFalse(self.publisher.lookupFunction("foobar"))
>
> assertTrue?  assertFalse? :/  Why does trial have _four_ different names
> for each of these functions?

Agree. But a choice should be made, and then deprecations put on other 
names. The fact other unittest libs can use the 4 has been a criteria, 
I guess.

> Slightly more relevantly, shouldn't at least the last of these three be
> assertIdentical(..., None)?  It is a common mistake throughout Twisted
> to test for truth when the real intent is to test against None, so I'm
> mostly pointing this out in the hopes of reducing new cases of it being
> introduced in the future.

Well I do intent to test False. The fact it returns None is an 
implementation detail: we could modify lookupFunction to return '' or 
False without modifying the tests. That might no be the good decision, 
though, but the reviewer didn't scream :).

-- 
Thomas





From general at eepatents.com  Fri Oct 27 11:23:30 2006
From: general at eepatents.com (Ed Suominen)
Date: Fri, 27 Oct 2006 10:23:30 -0700
Subject: [Twisted-Python] finger tutorial question
In-Reply-To: <E1GdV3u-0003Px-00@pyramid.twistedmatrix.com>
References: <E1GdV3u-0003Px-00@pyramid.twistedmatrix.com>
Message-ID: <45424092.1080308@eepatents.com>

>> I am not familiar enough
>> with wxPython to say either way.  From my observations of the attempts
>> made by others, but with Twisted and without Twisted, I would try to
>> avoid developing anything with wxPython.
>>
> 
> I wouldn't discount Twisted and wxPython altogether... Doesn't  
> Chandler use this combination?
> http://chandler.osafoundation.org/
> 
> I did a lot of looking around and couldn't find anything else as  
> rich, native-looking, cross platform (linux/mac/windows) and free  
> (for commercial use also). Although there was some discussion earlier  
> about the stability and future of the wx reactor, at least as  
> anecdotal evidence I have been able to use wxPython with Twisted and  
> PB without any problems.
> 
> What exactly would you suggest as a replacement for wxPython then?

I have developed an internal-use only application using PyQt4 and
Twisted and have found the combination to be very effective. Neither one
cares about the other being there, and events are processed seamlessly
by both, with no threads needed.

The only gripe I have is that you can't switch your project over to be
licensed under the commercial version of Qt and PyQt4 if it has been
developed with the GPL version. It seems to me that PyQt/Qt may be
shooting themselves in the foot somewhat with their "start your app.
with commercial version or keep it GPL forever" licensing terms.

Best regards, Ed



From calmasy at gmail.com  Fri Oct 27 15:57:14 2006
From: calmasy at gmail.com (=?ISO-8859-1?Q?Count_L=E1szl=F3_de_Alm=E1sy?=)
Date: Fri, 27 Oct 2006 15:57:14 -0600
Subject: [Twisted-Python] twisted.news.database: maildir backend?
Message-ID: <abb783b90610271457i6012b0a5q21c474b97b13569@mail.gmail.com>

Greetings,

I'm interested in an NNTP server that uses a standard Maildir(s) as
it's storage backend.  Before I start writing one, has anyone already
done this?  If not, any pointers as I get started?

Thanks.

-- 
Cheers, László



From jml at mumak.net  Fri Oct 27 19:12:27 2006
From: jml at mumak.net (Jonathan Lange)
Date: Sat, 28 Oct 2006 12:12:27 +1100
Subject: [Twisted-Python] Re: [Twisted-commits] r18549 - Clean up
	t.web.soap.SOAPPublisher.lookupFunction
In-Reply-To: <20061027135323.20948.1793570260.divmod.quotient.2314@ohm>
References: <E1GdKJY-0003Wa-00@wolfwood>
	<20061027135323.20948.1793570260.divmod.quotient.2314@ohm>
Message-ID: <d06a5cd30610271812y4fe2b037r37c282bcd21836ba@mail.gmail.com>

On 10/28/06, Jean-Paul Calderone <exarkun at divmod.com> wrote:
> On Thu, 26 Oct 2006 23:31:32 -0600, Jonathan Lange <jml at wolfwood.twistedmatrix.com> wrote:
> > [snip]
> >+        self.assertTrue(self.publisher.lookupFunction("add"))
> >+        self.assertTrue(self.publisher.lookupFunction("fail"))
> >+        self.assertFalse(self.publisher.lookupFunction("foobar"))
>
> assertTrue?  assertFalse? :/  Why does trial have _four_ different names
> for each of these functions?
>

Compatibility, both backwards and lateral.

I don't think I would object if someone decided to make the coding
standard restrict the allowable names of assert methods.

jml



From calmasy at gmail.com  Fri Oct 27 21:10:37 2006
From: calmasy at gmail.com (=?ISO-8859-1?Q?Count_L=E1szl=F3_de_Alm=E1sy?=)
Date: Fri, 27 Oct 2006 21:10:37 -0600
Subject: [Twisted-Python] eta for an epoll reactor?
Message-ID: <abb783b90610272010i638af3d5y2985a80af7fbe9b2@mail.gmail.com>

I see that the latest Twisted comes with a kqueue reactor.  But how
about us Linux guys?  Will an epoll reactor ever be part of Twisted?

-- 
Cheers, László



From jadestorm at nc.rr.com  Fri Oct 27 21:29:47 2006
From: jadestorm at nc.rr.com (Daniel Henninger)
Date: Fri, 27 Oct 2006 23:29:47 -0400
Subject: [Twisted-Python] eta for an epoll reactor?
In-Reply-To: <abb783b90610272010i638af3d5y2985a80af7fbe9b2@mail.gmail.com>
References: <abb783b90610272010i638af3d5y2985a80af7fbe9b2@mail.gmail.com>
Message-ID: <CE49F016-22CF-4719-8401-243137097671@nc.rr.com>

There's an epoll reactor for twisted available here:
http://delx.cjb.net/pymsnt/?page=downloads

Daniel

On Oct 27, 2006, at 11:10 PM, Count László de Almásy wrote:

> I see that the latest Twisted comes with a kqueue reactor.  But how
> about us Linux guys?  Will an epoll reactor ever be part of Twisted?
>
> -- 
> Cheers, László
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python




From exarkun at divmod.com  Fri Oct 27 21:43:06 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Fri, 27 Oct 2006 23:43:06 -0400
Subject: [Twisted-Python] eta for an epoll reactor?
In-Reply-To: <abb783b90610272010i638af3d5y2985a80af7fbe9b2@mail.gmail.com>
Message-ID: <20061028034306.20948.1616779736.divmod.quotient.3049@ohm>

On Fri, 27 Oct 2006 21:10:37 -0600, Count László de Almásy <calmasy at gmail.com> wrote:
>I see that the latest Twisted comes with a kqueue reactor.  But how
>about us Linux guys?  Will an epoll reactor ever be part of Twisted?

As of earlier this week (or maybe last week, I forget), there is a
epoll-based level-triggered reactor in trunk at HEAD.  It will be included
in Twisted 2.5.

Jean-Paul



From calmasy at gmail.com  Fri Oct 27 22:01:27 2006
From: calmasy at gmail.com (=?ISO-8859-1?Q?Count_L=E1szl=F3_de_Alm=E1sy?=)
Date: Fri, 27 Oct 2006 22:01:27 -0600
Subject: [Twisted-Python] eta for an epoll reactor?
In-Reply-To: <CE49F016-22CF-4719-8401-243137097671@nc.rr.com>
References: <abb783b90610272010i638af3d5y2985a80af7fbe9b2@mail.gmail.com>
	<CE49F016-22CF-4719-8401-243137097671@nc.rr.com>
Message-ID: <abb783b90610272101m7f0d5c7u767d06095a2782d8@mail.gmail.com>

On 10/27/06, Daniel Henninger <jadestorm at nc.rr.com> wrote:
> There's an epoll reactor for twisted available here:
> http://delx.cjb.net/pymsnt/?page=downloads

Thanks.  It installed okay, but when I tried `twistd -r epoll -noy
emailserver.tac' it  pegged my CPU at 100%.  I think I'll just wait
for the version that will comes with Twisted 2.5.

-- 
Cheers, László



From calmasy at gmail.com  Fri Oct 27 22:02:38 2006
From: calmasy at gmail.com (=?ISO-8859-1?Q?Count_L=E1szl=F3_de_Alm=E1sy?=)
Date: Fri, 27 Oct 2006 22:02:38 -0600
Subject: [Twisted-Python] eta for an epoll reactor?
In-Reply-To: <20061028034306.20948.1616779736.divmod.quotient.3049@ohm>
References: <abb783b90610272010i638af3d5y2985a80af7fbe9b2@mail.gmail.com>
	<20061028034306.20948.1616779736.divmod.quotient.3049@ohm>
Message-ID: <abb783b90610272102j15f0840clcd52a18ded0ca875@mail.gmail.com>

On 10/27/06, Jean-Paul Calderone <exarkun at divmod.com> wrote:
> As of earlier this week (or maybe last week, I forget), there is a
> epoll-based level-triggered reactor in trunk at HEAD.  It will be included
> in Twisted 2.5.

Nice!  How about edge-triggered epoll?

-- 
Cheers, László



From exarkun at divmod.com  Fri Oct 27 22:38:53 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Sat, 28 Oct 2006 00:38:53 -0400
Subject: [Twisted-Python] eta for an epoll reactor?
In-Reply-To: <abb783b90610272102j15f0840clcd52a18ded0ca875@mail.gmail.com>
Message-ID: <20061028043853.20948.210852606.divmod.quotient.3092@ohm>

On Fri, 27 Oct 2006 22:02:38 -0600, Count László de Almásy <calmasy at gmail.com> wrote:
>On 10/27/06, Jean-Paul Calderone <exarkun at divmod.com> wrote:
>>As of earlier this week (or maybe last week, I forget), there is a
>>epoll-based level-triggered reactor in trunk at HEAD.  It will be included
>>in Twisted 2.5.
>
>Nice!  How about edge-triggered epoll?
>

Patches accepted :)  Level-triggered already buys quite a lot over poll.
I expect edge-triggered is even better, but I don't think I have any apps
where I'd notice the difference (it's probably not likely I'd notice the
difference between poll and epoll, actually), so I probably won't be spending
any time on this in the near future.

Edge-triggered shares a lot less code with the existing reactors.  Maybe
some of the recent IOCP work will be leveragable to this goal, though.

Jean-Paul



From fritcher at corp.earthlink.net  Sat Oct 28 10:57:42 2006
From: fritcher at corp.earthlink.net (Jason Fritcher)
Date: Sat, 28 Oct 2006 12:57:42 -0400
Subject: [Twisted-Python] Previous libevent reactor work?
In-Reply-To: <20061028034306.20948.1616779736.divmod.quotient.3049@ohm>
References: <20061028034306.20948.1616779736.divmod.quotient.3049@ohm>
Message-ID: <45438C06.8010902@corp.earthlink.net>

Jean-Paul Calderone wrote:
> As of earlier this week (or maybe last week, I forget), there is a
> epoll-based level-triggered reactor in trunk at HEAD.  It will be included
> in Twisted 2.5.

Has there been any work done on building a reactor around libevent? I've 
been references in emails that some thought has gone into one, but I 
haven't seen any code to go along with those thoughts. I'm considering 
building one myself, but thought I would ask so I'm not reinventing the 
wheel if there is a libevent reactor already.

Thanks.

-- 
Jason Fritcher
Software Engineer
Core Infrastructure Services & Strategy
Earthlink, Inc
fritcher at corp.earthlink.net
(404) 748-7262, x22262



From therve at free.fr  Sat Oct 28 13:32:40 2006
From: therve at free.fr (Thomas HERVE)
Date: Sat, 28 Oct 2006 21:32:40 +0200
Subject: [Twisted-Python] Previous libevent reactor work?
In-Reply-To: <45438C06.8010902@corp.earthlink.net>
References: <20061028034306.20948.1616779736.divmod.quotient.3049@ohm>
	<45438C06.8010902@corp.earthlink.net>
Message-ID: <20061028213240.3ub2vj9xmyoso4oc@itchy.wasabout.net>

Quoting Jason Fritcher <fritcher at corp.earthlink.net>:

> Has there been any work done on building a reactor around libevent? 
> I've been references in emails that some thought has gone into one, 
> but I haven't seen any code to go along with those thoughts. I'm 
> considering building one myself, but thought I would ask so I'm not 
> reinventing the wheel if there is a libevent reactor already.

There is this ticket: http://twistedmatrix.com/trac/ticket/1930, with a 
link to this: 
http://twistedmatrix.com/trac/browser/branches/slyphon/libevent-4.


-- 
Thomas




From twisted-matrix at mail11.ml1.net  Sat Oct 28 18:37:22 2006
From: twisted-matrix at mail11.ml1.net (Zoltan (Twisted Python Mailing List))
Date: Sun, 29 Oct 2006 02:37:22 +0200
Subject: [Twisted-Python] Error "reactor already installed" - exact module
	import order?
Message-ID: <4543F7C2.6060403@mail11.ml1.net>

Hi everyone,


I would be grateful if someone could help me with the error "reactor already 
installed". I have seen this issue has been discussed previously, but I am not 
sure how to fix appropriate file so that error does not occur anymore.

I am using Twisted Python 2.4.0, as it is packaged by Mandriva.

Here is the Python stack trace:
----------------- cut 8< -------------------
Traceback (most recent call last):
   File "/usr/bin/pyscrabble.py", line 4, in ?
     gtk2reactor.install()
   File "/usr/lib/python2.4/site-packages/twisted/internet/gtk2reactor.py", 
line 270, in install
     installReactor(reactor)
   File "/usr/lib/python2.4/site-packages/twisted/internet/main.py", line 23, 
in installReactor
     assert not sys.modules.has_key('twisted.internet.reactor'), \
AssertionError: reactor already installed
----------------- cut 8< -------------------


Here is the piece of code that causes error:

----------------- /usr/bin/pyscrabble.py -------------------
#!/usr/bin/env python

from twisted.internet import gtk2reactor
gtk2reactor.install()
...
----------------- /usr/bin/pyscrabble.py -------------------

As for the "pyscrabble.py" causing, I'll contact its author, but is it possible 
to change ".../twisted/internet/main.py" so that it does not throw assertion 
error on already installed reactor?


Many thanks in advance,

Zoltan



From exarkun at divmod.com  Sat Oct 28 19:40:00 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Sat, 28 Oct 2006 21:40:00 -0400
Subject: [Twisted-Python] Error "reactor already installed" - exact
	module import order?
In-Reply-To: <4543F7C2.6060403@mail11.ml1.net>
Message-ID: <20061029014000.20948.1253110343.divmod.quotient.4051@ohm>

On Sun, 29 Oct 2006 02:37:22 +0200, "Zoltan \(Twisted Python Mailing List\)" <twisted-matrix at mail11.ml1.net> wrote:
>Hi everyone,
>

Hello.

>
>I would be grateful if someone could help me with the error "reactor already 
>installed". I have seen this issue has been discussed previously, but I am 
>not sure how to fix appropriate file so that error does not occur anymore.

This happens when an attempt is made to install more than one reactor in a
single process.  Twisted supports only a single reactor.

When twisted.internet.reactor is imported for the very first time, if no
other reactor has been installed, the default reactor is installed.  If
any other reactor has been installed, that reactor is given back as the
result of the import.

>
>I am using Twisted Python 2.4.0, as it is packaged by Mandriva.
>
>Here is the Python stack trace:
>----------------- cut 8< -------------------
>Traceback (most recent call last):
>   File "/usr/bin/pyscrabble.py", line 4, in ?
>     gtk2reactor.install()
>   File "/usr/lib/python2.4/site-packages/twisted/internet/gtk2reactor.py", 
>line 270, in install
>     installReactor(reactor)
>   File "/usr/lib/python2.4/site-packages/twisted/internet/main.py", line 23, 
>in installReactor
>     assert not sys.modules.has_key('twisted.internet.reactor'), \
>AssertionError: reactor already installed
>----------------- cut 8< -------------------
>
>
>Here is the piece of code that causes error:
>
>----------------- /usr/bin/pyscrabble.py -------------------
>#!/usr/bin/env python
>
>from twisted.internet import gtk2reactor
>gtk2reactor.install()
>...
>----------------- /usr/bin/pyscrabble.py -------------------

This seems strange.  Since only one reactor is being installed here, the
traceback above should not be happening.  I cannot replicate this failure;
when I try the above script, it works as expected (producing no output).

Do you have something in your environment which might be causing some other
reactor to be installed, or for twisted.internet.reactor to be imported,
causing the default reactor to be installed?  For example, do you have a
sitecustomize.py which is doing something with Twisted?


>
>As for the "pyscrabble.py" causing, I'll contact its author, but is it 
>possible to change ".../twisted/internet/main.py" so that it does not throw 
>assertion error on already installed reactor?
>

It's possible to make that change (by editing the source of Twisted), but
it seems unlikely that just suppressing the exception will solve the problem.

Jean-Paul



From calmasy at gmail.com  Sat Oct 28 22:36:07 2006
From: calmasy at gmail.com (=?ISO-8859-1?Q?Count_L=E1szl=F3_de_Alm=E1sy?=)
Date: Sat, 28 Oct 2006 22:36:07 -0600
Subject: [Twisted-Python] eta for an epoll reactor?
In-Reply-To: <20061028043853.20948.210852606.divmod.quotient.3092@ohm>
References: <abb783b90610272102j15f0840clcd52a18ded0ca875@mail.gmail.com>
	<20061028043853.20948.210852606.divmod.quotient.3092@ohm>
Message-ID: <abb783b90610282136s3f8140bv14ee8c8d7922860d@mail.gmail.com>

Yes, you're right.  Beggars can't be choosers I guess.  :)

On 10/27/06, Jean-Paul Calderone <exarkun at divmod.com> wrote:
> On Fri, 27 Oct 2006 22:02:38 -0600, Count László de Almásy <calmasy at gmail.com> wrote:
> >On 10/27/06, Jean-Paul Calderone <exarkun at divmod.com> wrote:
> >>As of earlier this week (or maybe last week, I forget), there is a
> >>epoll-based level-triggered reactor in trunk at HEAD.  It will be included
> >>in Twisted 2.5.
> >
> >Nice!  How about edge-triggered epoll?
> >
>
> Patches accepted :)  Level-triggered already buys quite a lot over poll.
> I expect edge-triggered is even better, but I don't think I have any apps
> where I'd notice the difference (it's probably not likely I'd notice the
> difference between poll and epoll, actually), so I probably won't be spending
> any time on this in the near future.
>
> Edge-triggered shares a lot less code with the existing reactors.  Maybe
> some of the recent IOCP work will be leveragable to this goal, though.
>
> Jean-Paul
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>


-- 
Cheers, László



From exarkun at twistedmatrix.com  Sat Oct 28 23:05:02 2006
From: exarkun at twistedmatrix.com (exarkun at twistedmatrix.com)
Date: Sun, 29 Oct 2006 05:05:02 -0000
Subject: [Twisted-Python] Weekly Bug Summary
Message-ID: 1162098302.18.1085781933@twistedmatrix.com

Bug summary
______________________
Summary for 2006-10-22 through 2006-10-29
Bugs opened: 21    Bugs closed: 8  Total open bugs: 761 (+13)

|== Type Changes   |== Priority Changes   |== Component Changes   
|Defect:       +4  |Highest:  -1          |Conch:     -1          
|Enhancement: +10  |High:     +1          |Core:      +4          
                   |Normal:  +12          |Mail:      +1          
                   |Low:      +1          |Pydoctor:  +4          
                   |Lowest:   +1          |Trial:     +1          
                                          |Web:       +1          
                                          |Web2:      +3          
                                          |Web2.Dav:  +2          
                                          |Words:     -1          


New / Reopened Bugs
______________________
                    ===== Highest =====
[#2184] microdom.toxml mishandles xml namespaces (opened by jml) (CLOSED, fixed)
    defect          web        http://twistedmatrix.com/trac/ticket/2184

[#2197] [SIP] wrong assertion in MessagesParser.dataDone (opened by antoine)
    defect          core       http://twistedmatrix.com/trac/ticket/2197

[#2199] Adaption of web2.iweb interfaces is broken (opened by wsanchez)
    defect          web2       http://twistedmatrix.com/trac/ticket/2199

[#2184] microdom.toxml mishandles xml namespaces (opened by jml) (CLOSED, fixed)
    defect          web        http://twistedmatrix.com/trac/ticket/2184

                    ===== High =====
[#2196] Need a generic API for reading and writing resource contents (opened by wsanchez)
    enhancement     web2.dav   http://twistedmatrix.com/trac/ticket/2196

                    ===== Normal =====
[#2182] process exit status support for Twisted (opened by synapsis)
    enhancement     core       http://twistedmatrix.com/trac/ticket/2182

[#2185] WSGI/PEP-333 and HTTP_CONTENT_TYPE vs CONTENT_TYPE (opened by martinpaljak)
    defect          web2       http://twistedmatrix.com/trac/ticket/2185

[#2186] pydoctor doesn't document code in __init__.py files (opened by spiv)
    defect          pydoctor   http://twistedmatrix.com/trac/ticket/2186

[#2187] pydoctor should have the equivalent of "epydoc --docformat restructuredtext" (opened by spiv)
    enhancement     pydoctor   http://twistedmatrix.com/trac/ticket/2187

[#2188] Trial catches exceptions during import (opened by jdahlin)
    defect          trial      http://twistedmatrix.com/trac/ticket/2188

[#2189] pydoctor should say something more useful than "Undocumented" if there are hidden docstrings (opened by glyph) (CLOSED, fixed)
    enhancement     pydoctor   http://twistedmatrix.com/trac/ticket/2189

[#2190] undocumented methods summary page (opened by glyph)
    enhancement     pydoctor   http://twistedmatrix.com/trac/ticket/2190

[#2192] add __main__ func to trial.py  allows trial to be executed under the pydev debugger (opened by scmikes) (CLOSED, wontfix)
    enhancement     trial      http://twistedmatrix.com/trac/ticket/2192

[#2193] Element.setTagName change (opened by jml)
    enhancement     web        http://twistedmatrix.com/trac/ticket/2193

[#2194] small bug in SIP Via header generation (opened by antoine)
    defect          core       http://twistedmatrix.com/trac/ticket/2194

[#2195] Ignore whitespace XML nodes when we know we can (opened by wsanchez)
    enhancement     web2.dav   http://twistedmatrix.com/trac/ticket/2195

[#2198] [SIP] patch for multiline headers (opened by antoine)
    enhancement     core       http://twistedmatrix.com/trac/ticket/2198

[#2200] Resource lookup is slow (opened by Cyrus Daboo)
    enhancement     web2       http://twistedmatrix.com/trac/ticket/2200

[#2201] Need performance testing in the build process (opened by wsanchez)
    enhancement     core       http://twistedmatrix.com/trac/ticket/2201

                    ===== Low =====
[#2183] twisted.mail.pop3.IMailbox's sync and undeleteMessages methods are unnecessary (opened by exarkun)
    enhancement     mail       http://twistedmatrix.com/trac/ticket/2183

                    ===== Lowest =====
[#2191] unified documentation generation process and tool (opened by glyph)
    enhancement     pydoctor   http://twistedmatrix.com/trac/ticket/2191



Closed Bugs
______________________
                    ===== Highest =====
[#2171] Bad ssl check (opened by ilia, closed by exarkun, fixed)
    defect          words      http://twistedmatrix.com/trac/ticket/2171

[#1953] Epoll reactor (opened by therve, closed by exarkun, fixed)
    enhancement     core       http://twistedmatrix.com/trac/ticket/1953

[#2184] microdom.toxml mishandles xml namespaces (opened by jml, closed by jml, fixed)
    defect          web        http://twistedmatrix.com/trac/ticket/2184

[#447 ] [PATCH] twisted.web.soap lookupFunction flawed (opened by knet, closed by jml, fixed)
    defect          web        http://twistedmatrix.com/trac/ticket/447

[#2159] Conch uses no-longer-present trial benchmark feature (opened by exarkun, closed by exarkun, fixed)
    defect          conch      http://twistedmatrix.com/trac/ticket/2159

[#2184] microdom.toxml mishandles xml namespaces (opened by jml, closed by jml, fixed)
    defect          web        http://twistedmatrix.com/trac/ticket/2184

                    ===== Normal =====
[#2189] pydoctor should say something more useful than "Undocumented" if there are hidden docstrings (opened by glyph, closed by mwh, fixed)
    enhancement     pydoctor   http://twistedmatrix.com/trac/ticket/2189

[#2192] add __main__ func to trial.py  allows trial to be executed under the pydev debugger (opened by scmikes, closed by scmikes, wontfix)
    enhancement     trial      http://twistedmatrix.com/trac/ticket/2192





From ron.arts at netland.nl  Sun Oct 29 12:57:21 2006
From: ron.arts at netland.nl (Ron Arts)
Date: Sun, 29 Oct 2006 20:57:21 +0100
Subject: [Twisted-Python] Problem with runInteraction and passing a dict
	variable
Message-ID: <454507A1.2060401@netland.nl>

Hello,

I am both a python and twisted beginner, but I think I have found
a problem in twisted. See the code below.
The handle_PeerStatus function receives a dict wich contains
some info. Then it calls runInteraction with that variable.
When the UpdatePeerStatus function is run, block is empty.

I did some investigating, it seems that UpdatePeerStatus is
run using a workerthread which takes it values from a Queue.

When the dict is pushed onto the Queue, it is valid, when
when it is popped by the worker thread, the var is empty.

Can anybody give me tips to solve this? Am I absolutely
missing something and on the wring track or should I enter a bug?

Thanks,
Ron

class .....
     def handle_PeerStatus(self, block):
         print block
         self.db.runInteraction(self.UpdatePeerStatus, block)


     def UpdatePeerStatus(self, txn, block):
         print block # prints {}
         status = block['PeerStatus']  # throws me an exception


-------------- next part --------------
A non-text attachment was scrubbed...
Name: ron.arts.vcf
Type: text/x-vcard
Size: 270 bytes
Desc: not available
URL: </pipermail/twisted-python/attachments/20061029/1f655a48/attachment-0002.vcf>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3403 bytes
Desc: S/MIME Cryptographic Signature
URL: </pipermail/twisted-python/attachments/20061029/1f655a48/attachment-0002.bin>

From exarkun at divmod.com  Sun Oct 29 14:48:31 2006
From: exarkun at divmod.com (Jean-Paul Calderone)
Date: Sun, 29 Oct 2006 16:48:31 -0500
Subject: [Twisted-Python] Problem with runInteraction and passing a dict
	variable
In-Reply-To: <454507A1.2060401@netland.nl>
Message-ID: <20061029214831.20948.899515279.divmod.quotient.5033@ohm>

On Sun, 29 Oct 2006 20:57:21 +0100, Ron Arts <ron.arts at netland.nl> wrote:
>Hello,
>
>I am both a python and twisted beginner, but I think I have found
>a problem in twisted. See the code below.
>The handle_PeerStatus function receives a dict wich contains
>some info. Then it calls runInteraction with that variable.
>When the UpdatePeerStatus function is run, block is empty.
>
>I did some investigating, it seems that UpdatePeerStatus is
>run using a workerthread which takes it values from a Queue.
>
>When the dict is pushed onto the Queue, it is valid, when
>when it is popped by the worker thread, the var is empty.
>
>Can anybody give me tips to solve this? Am I absolutely
>missing something and on the wring track or should I enter a bug?

Simply going through the queue won't mutate the dictionary.  Are
you certain no other part of your code is manipulating it?  One
way you could check this is by passing a _copy_ of block to
runInteraction so that modifications to the original won't affect
it.  If this results in things working as you expect, then you've
found the problem.

In general, you should _not_ be touching the same objects from more
than one thread.  Passing an object to another thread is fine, but
when you do so, you give up all rights to further inspect or modify
that object, until such time as the other thread chooses to give it
back to you (whereafter it should likewise give up those privileges).

Jean-Paul



From ron.arts at netland.nl  Sun Oct 29 15:38:16 2006
From: ron.arts at netland.nl (Ron Arts)
Date: Sun, 29 Oct 2006 23:38:16 +0100
Subject: [Twisted-Python] Problem with runInteraction and passing a dict
	variable
In-Reply-To: <20061029214831.20948.899515279.divmod.quotient.5033@ohm>
References: <20061029214831.20948.899515279.divmod.quotient.5033@ohm>
Message-ID: <45452D58.2050906@netland.nl>

Jean-Paul,

thanks! Being an experienced C and PHP programmer, the
fact that python always seems to pass around the original
variable took me by surprise, I used block.copy() and the problem
went away.

Thanks,
Ron

Jean-Paul Calderone schreef:
> On Sun, 29 Oct 2006 20:57:21 +0100, Ron Arts <ron.arts at netland.nl> wrote:
>> Hello,
>>
>> I am both a python and twisted beginner, but I think I have found
>> a problem in twisted. See the code below.
>> The handle_PeerStatus function receives a dict wich contains
>> some info. Then it calls runInteraction with that variable.
>> When the UpdatePeerStatus function is run, block is empty.
>>
>> I did some investigating, it seems that UpdatePeerStatus is
>> run using a workerthread which takes it values from a Queue.
>>
>> When the dict is pushed onto the Queue, it is valid, when
>> when it is popped by the worker thread, the var is empty.
>>
>> Can anybody give me tips to solve this? Am I absolutely
>> missing something and on the wring track or should I enter a bug?
> 
> Simply going through the queue won't mutate the dictionary.  Are
> you certain no other part of your code is manipulating it?  One
> way you could check this is by passing a _copy_ of block to
> runInteraction so that modifications to the original won't affect
> it.  If this results in things working as you expect, then you've
> found the problem.
> 
> In general, you should _not_ be touching the same objects from more
> than one thread.  Passing an object to another thread is fine, but
> when you do so, you give up all rights to further inspect or modify
> that object, until such time as the other thread chooses to give it
> back to you (whereafter it should likewise give up those privileges).
> 
> Jean-Paul
> 
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ron.arts.vcf
Type: text/x-vcard
Size: 270 bytes
Desc: not available
URL: </pipermail/twisted-python/attachments/20061029/880df1c8/attachment-0002.vcf>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3403 bytes
Desc: S/MIME Cryptographic Signature
URL: </pipermail/twisted-python/attachments/20061029/880df1c8/attachment-0002.bin>

From jarrod at vertigrated.com  Mon Oct 30 10:16:16 2006
From: jarrod at vertigrated.com (Jarrod Roberson)
Date: Mon, 30 Oct 2006 12:16:16 -0500
Subject: [Twisted-Python] Previous libevent reactor work?
In-Reply-To: <20061028213240.3ub2vj9xmyoso4oc@itchy.wasabout.net>
References: <20061028034306.20948.1616779736.divmod.quotient.3049@ohm>
	<45438C06.8010902@corp.earthlink.net>
	<20061028213240.3ub2vj9xmyoso4oc@itchy.wasabout.net>
Message-ID: <fa3d0c740610300916s1d786082vd3f899481ba755c7@mail.gmail.com>

On 10/28/06, Thomas HERVE <therve at free.fr> wrote:
>
> Quoting Jason Fritcher <fritcher at corp.earthlink.net>:
>
> > Has there been any work done on building a reactor around libevent?
> > I've been references in emails that some thought has gone into one,
> > but I haven't seen any code to go along with those thoughts. I'm
> > considering building one myself, but thought I would ask so I'm not
> > reinventing the wheel if there is a libevent reactor already.
>
>
so which one of them approaches is the best way to go about getting a
production ready version?
using pyevent like you did, or the pyrex approach?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20061030/24db2ffb/attachment.html>

From therve at free.fr  Tue Oct 31 01:31:34 2006
From: therve at free.fr (Thomas HERVE)
Date: Tue, 31 Oct 2006 09:31:34 +0100
Subject: [Twisted-Python] Previous libevent reactor work?
In-Reply-To: <fa3d0c740610300916s1d786082vd3f899481ba755c7@mail.gmail.com>
References: <20061028034306.20948.1616779736.divmod.quotient.3049@ohm>
	<45438C06.8010902@corp.earthlink.net>
	<20061028213240.3ub2vj9xmyoso4oc@itchy.wasabout.net>
	<fa3d0c740610300916s1d786082vd3f899481ba755c7@mail.gmail.com>
Message-ID: <20061031093134.jnsj3yum80ooc0wc@itchy.wasabout.net>

Quoting Jarrod Roberson <jarrod at vertigrated.com>:

> so which one of them approaches is the best way to go about getting a
> production ready version?

None :). Why do you need a libevent reactor in the first place ?

> using pyevent like you did, or the pyrex approach?

The libevent bindings come from http://python-hpio.net/, which is down 
for a few months now. I spotted a bug in it, so I don't advise to use 
it. Today I would use pyevent at 
http://www.monkey.org/~dugsong/pyevent/.

For the pyrex version, I didn't try it, but it seemed pretty complete.

-- 
Thomas




From Marcin.Kasperski at softax.com.pl  Tue Oct 31 08:52:37 2006
From: Marcin.Kasperski at softax.com.pl (Marcin Kasperski)
Date: Tue, 31 Oct 2006 16:52:37 +0100
Subject: [Twisted-Python] If lineReceived returns deferred,
	then connection is dropped and this deferred given as error message
Message-ID: <200610311652.37936.Marcin.Kasperski@softax.com.pl>

I am observing the twisted behaviour which seems rather strange to me. 

In short: if lineReceived returns some deferred, then the whole connection is 
aborted, moreover, this deferred is returned as error message.

Longer story (the code pieces extracted from quite large app, I have not
yet tried writing small example)

### Crucial code fragments

class SomeProtocol(basic.LineReceiver):
   (...)
   def lineReceived(self, line):
	(...)
	return defer.succeed(997)    # magic value I can recognize easily

class SomeFactory(protocol.ReconnectingClientFactory):
   (...)
   def clientConnectionLost(self, connector, reason):
        logger.warn("Connection lost. Reason: %s\nTraceback: %s" % (
            reason.getErrorMessage(), reason.getTraceback()))
        protocol.ReconnectingClientFactory.clientConnectionLost(self, connector, reason)

reactor.connectTCP(HOST, PORT, SomeFactory(...))
reactor.run()

### Things seen in log file

myapp     : WARNING  Connection lost. Reason: <Deferred at 0xB551E1ECL  current result: 997>
Traceback: Traceback (most recent call last):
Failure: <type 'instance'>: <Deferred at 0xB551E1ECL  current result: 997>

(you recognized this 997, didn't you?)

### Extra info

1. Removing return defer.succeed() from lineReceived helps.

2. I wanted to return deferreds from lineReceived because I wanted to write unit tests
    testing my factory object (and in some cases to check whether all worked correctly
    required waiting for some spawned deferred calls).



From Marcin.Kasperski at softax.com.pl  Tue Oct 31 09:15:36 2006
From: Marcin.Kasperski at softax.com.pl (Marcin Kasperski)
Date: Tue, 31 Oct 2006 17:15:36 +0100
Subject: [Twisted-Python] Re: If lineReceived returns deferred,
	then connection is dropped and this deferred given as error message
In-Reply-To: <200610311652.37936.Marcin.Kasperski@softax.com.pl>
References: <200610311652.37936.Marcin.Kasperski@softax.com.pl>
Message-ID: <200610311715.37167.Marcin.Kasperski@softax.com.pl>

One more observation after looking at twisted code:

twisted/protocols/basic.py funtion LineReceiver.dataReceived contains sth like that:

           why = self.lineReceived(line)
           if why or self.transport and self.transport.disconnecting:
                    return why

As this is WITHIN the loop, we see why returning deferred (or anything true)
from lineReceived breaks processing.

I did not search further but it seems somebody is using convention that
if lineReceived (and maybe dataReceived) returns something, then this is
an error. Why not exception??? And, is it possible to patch it somehow so 
lineReceived function could be unit-tested?



From radix at twistedmatrix.com  Tue Oct 31 09:23:28 2006
From: radix at twistedmatrix.com (Christopher Armstrong)
Date: Tue, 31 Oct 2006 11:23:28 -0500
Subject: [Twisted-Python] Re: If lineReceived returns deferred,
	then connection is dropped and this deferred given as error message
In-Reply-To: <200610311715.37167.Marcin.Kasperski@softax.com.pl>
References: <200610311652.37936.Marcin.Kasperski@softax.com.pl>
	<200610311715.37167.Marcin.Kasperski@softax.com.pl>
Message-ID: <60ed19d40610310823v2adc9c12m82b7c54d6683a29a@mail.gmail.com>

On 10/31/06, Marcin Kasperski <Marcin.Kasperski at softax.com.pl> wrote:
> One more observation after looking at twisted code:
>
> twisted/protocols/basic.py funtion LineReceiver.dataReceived contains sth like that:
>
>            why = self.lineReceived(line)
>            if why or self.transport and self.transport.disconnecting:
>                     return why
>
> As this is WITHIN the loop, we see why returning deferred (or anything true)
> from lineReceived breaks processing.
>
> I did not search further but it seems somebody is using convention that
> if lineReceived (and maybe dataReceived) returns something, then this is
> an error. Why not exception??? And, is it possible to patch it somehow so
> lineReceived function could be unit-tested?

While Twisted's handling of the result of lineReceived is perhaps
confusing, I find your reasons for wanting it changed dubious: your
unit tests should be testing that lineReceived has the appropriate
*effects*, not that arbitrary points in the code are reached by
testing its return value (which would have no effect in the actual
running of your program).

-- 
Christopher Armstrong
International Man of Twistery
http://radix.twistedmatrix.com/
http://twistedmatrix.com/
http://canonical.com/



From Marcin.Kasperski at softax.com.pl  Tue Oct 31 09:55:42 2006
From: Marcin.Kasperski at softax.com.pl (Marcin Kasperski)
Date: Tue, 31 Oct 2006 17:55:42 +0100
Subject: [Twisted-Python] Re: If lineReceived returns deferred,
	then connection is dropped and this deferred given as error message
In-Reply-To: <60ed19d40610310823v2adc9c12m82b7c54d6683a29a@mail.gmail.com>
References: <200610311652.37936.Marcin.Kasperski@softax.com.pl>
	<200610311715.37167.Marcin.Kasperski@softax.com.pl>
	<60ed19d40610310823v2adc9c12m82b7c54d6683a29a@mail.gmail.com>
Message-ID: <200610311755.42866.Marcin.Kasperski@softax.com.pl>

> While Twisted's handling of the result of lineReceived is
> perhaps confusing, I find your reasons for wanting it changed
> dubious: your unit tests should be testing that lineReceived
> has the appropriate *effects*, 

And this is exactly what do I want: lineReceived should 
cause some effect (in my case, for instance some database
update). So I call lineReceived with the intended string, and
want - in unit test - to verify whether the update was actually 
made (it is done by deferred subroutine). But, to check for it, 
I must wait for it somehow.... 



From Marcin.Kasperski at softax.com.pl  Tue Oct 31 10:00:32 2006
From: Marcin.Kasperski at softax.com.pl (Marcin Kasperski)
Date: Tue, 31 Oct 2006 18:00:32 +0100
Subject: [Twisted-Python] Re: If lineReceived returns deferred,
	then connection is dropped and this deferred given as error message
In-Reply-To: <200610311715.37167.Marcin.Kasperski@softax.com.pl>
References: <200610311652.37936.Marcin.Kasperski@softax.com.pl>
	<200610311715.37167.Marcin.Kasperski@softax.com.pl>
Message-ID: <200610311800.32426.Marcin.Kasperski@softax.com.pl>

> And, is it possible to patch it somehow so lineReceived
> function could be unit-tested?

After short reflection I found the solution

def myLineReceived(self, line):
    # ...
    # can return deferred
def lineReceived(self, line):
    self.myLineReceived(line)

and unit tests just use myLineReceived. A bit clumsy, but works.

The main question (why lineReceived breaks connection on true 
reply) of course remains valid.



From jarrod at vertigrated.com  Tue Oct 31 11:23:29 2006
From: jarrod at vertigrated.com (Jarrod Roberson)
Date: Tue, 31 Oct 2006 13:23:29 -0500
Subject: [Twisted-Python] Previous libevent reactor work?
In-Reply-To: <20061031093134.jnsj3yum80ooc0wc@itchy.wasabout.net>
References: <20061028034306.20948.1616779736.divmod.quotient.3049@ohm>
	<45438C06.8010902@corp.earthlink.net>
	<20061028213240.3ub2vj9xmyoso4oc@itchy.wasabout.net>
	<fa3d0c740610300916s1d786082vd3f899481ba755c7@mail.gmail.com>
	<20061031093134.jnsj3yum80ooc0wc@itchy.wasabout.net>
Message-ID: <fa3d0c740610311023n560caa91ld95718f31638ddd@mail.gmail.com>

On 10/31/06, Thomas HERVE <therve at free.fr> wrote:
>
> Quoting Jarrod Roberson <jarrod at vertigrated.com>:
>
> > so which one of them approaches is the best way to go about getting a
> > production ready version?
>
> None :). Why do you need a libevent reactor in the first place ?
>

we have multiple platforms and libevent would just use the most appropriate
event mechanism instead of having to document for production to have to
specify -r and when select doesn't cut it.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20061031/4d64eb17/attachment.html>

From moe at divmod.com  Tue Oct 31 12:24:43 2006
From: moe at divmod.com (moe at divmod.com)
Date: Tue, 31 Oct 2006 13:24:43 -0600
Subject: [Twisted-Python] (no subject)
Message-ID: <E1GezE3-0003NM-00@pyramid.twistedmatrix.com>




On 27 Oct 2003, 11:10 , twisted-python-request at twistedmatrix.com wrote:
>Send Twisted-Python mailing list submissions to
>	twisted-python at twistedmatrix.com
>
>To subscribe or unsubscribe via the World Wide Web, visit
>	http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>or, via email, send a message with subject or body 'help' to
>	twisted-python-request at twistedmatrix.com
>
>You can reach the person managing the list at
>	twisted-python-admin at twistedmatrix.com
>
>When replying, please edit your Subject line so it is more specific
>than "Re: Contents of Twisted-Python digest..."
>
>
>Today's Topics:
>
>   1. Re: Odd behavior in IRC logbot (Itamar Shtull-Trauring)
>   2. Re: authentification from a database (Jp Calderone)
>   3. ANN: Twisted 1.1.0, the framework of *your* internet (Itamar Shtull-Trauring)
>   4. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Philippe =?ISO-8859-1?Q?Lafoucri=E8re?=)
>   5. Re: ANN: Twisted 1.1.0, the framework of *your* internet (soso)
>   6. Post data (Matteo Giacomazzi)
>   7. Re: Post data (Matteo Giacomazzi)
>   8. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (=?ISO-8859-1?Q?Martin_M=F6llenbeck?=)
>   9. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Abe Fettig)
>  10. Re: ANN: Twisted 1.1.0, the framework of *your* internet (darryl)
>  11. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Glyph Lefkowitz)
>  12. Re: ANN: Twisted 1.1.0, the framework of *your* internet (darryl)
>  13. Re: ANN: Twisted 1.1.0, the framework of *your* internet (Donovan Preston)
>  14. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Federico Di Gregorio)
>  15. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Yun Mao)
>
>--__--__--
>
>Message: 1
>Date: Mon, 27 Oct 2003 09:29:29 -0500
>From: Itamar Shtull-Trauring <itamar at itamarst.org>
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] Odd behavior in IRC logbot
>Organization: http://itamarst.org
>Reply-To: twisted-python at twistedmatrix.com
>
>On Mon, 27 Oct 2003 09:15:13 -0500
>"Phillip J. Eby" <pje at telecommunity.com> wrote:
>
>> Um, what logs?
>
>Hm. I suppose you ought to enable logging, yes. Do:
>
>from twisted.python import log
>log.startLogging(open("irc.log", "a"))
>
>somewhere in the file (e.g. in the __main__-only section).
>
>--
>Itamar Shtull-Trauring    http://itamarst.org/
>Available for Python & Twisted consulting
>
>
>--__--__--
>
>Message: 2
>Date: Mon, 27 Oct 2003 11:00:47 -0500
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] authentification from a database
>From: Jp Calderone <exarkun at intarweb.us>
>Reply-To: twisted-python at twistedmatrix.com
>
>
>--TB36FDmn/VVEgNH/
>Content-Type: text/plain; charset=us-ascii
>Content-Disposition: inline
>Content-Transfer-Encoding: quoted-printable
>
>On Mon, Oct 27, 2003 at 09:17:08AM -0500, vicky lupien wrote:
>> I have a program that needs authentification from a database.  For now,
>> it's working fine but I'm using
>> checkers.InMemoryUsernamePasswordDatabaseDontUse(test=3D"test") (I want
>> many users not only "test").  =20
>
>  Use a different checker, such as FilePasswordDB.
>
>  Jp
>
>--TB36FDmn/VVEgNH/
>Content-Type: application/pgp-signature; name="signature.asc"
>Content-Description: Digital signature
>Content-Disposition: inline
>
>-----BEGIN PGP SIGNATURE-----
>Version: GnuPG v1.2.3 (GNU/Linux)
>
>iD8DBQE/nUEvedcO2BJA+4YRAlRCAJ4kAeN49EFmgMbrW3Fd/MNujVKNrwCgstoT
>r3iPt2vNXMjG69p7v0pa/JU=
>=wuRK
>-----END PGP SIGNATURE-----
>
>--TB36FDmn/VVEgNH/--
>
>
>--__--__--
>
>Message: 3
>Date: Mon, 27 Oct 2003 12:13:44 -0500
>From: Itamar Shtull-Trauring <itamar at itamarst.org>
>To: twisted-python at twistedmatrix.com
>Organization: http://itamarst.org
>Subject: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>Reply-To: twisted-python at twistedmatrix.com
>
>What's New in 1.1.0
>===================
>
>- twisted.application, an updated deployment and configuration library.
>
>- Mac OS X GUI event loop integration (requires PyObjC).
>
>- New howtos, including a tutorial, and more web framework docs.
>
>- The documentation is now better organized, up-to-date with the latest
>APIs, and in some areas much more extensive.
>
>- Removed a number of broken, unmaintained and unused packages and
>modules.
>
>- Bug fixes and feature enhancements.
>
>
>--__--__--
>
>Message: 4
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
>	internet
>From: Philippe =?ISO-8859-1?Q?Lafoucri=E8re?= <lafou at wanadoo.fr>
>To: Twisted <twisted-python at twistedmatrix.com>
>Organization: InFuzzion
>Date: Mon, 27 Oct 2003 18:56:04 +0100
>Reply-To: twisted-python at twistedmatrix.com
>
>Great work guys ! twisted is the python/network killer app
>
>On Mon, 2003-10-27 at 18:13, Itamar Shtull-Trauring wrote:
>> What's New in 1.1.0
>> ===================
>>
>> - twisted.application, an updated deployment and configuration library.
>>
>> - Mac OS X GUI event loop integration (requires PyObjC).
>>
>> - New howtos, including a tutorial, and more web framework docs.
>>
>> - The documentation is now better organized, up-to-date with the latest
>> APIs, and in some areas much more extensive.
>>
>> - Removed a number of broken, unmaintained and unused packages and
>> modules.
>>
>> - Bug fixes and feature enhancements.
>>
>> _______________________________________________
>> Twisted-Python mailing list
>> Twisted-Python at twistedmatrix.com
>> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
>
>
>--__--__--
>
>Message: 5
>From: soso <duke99 at email.ro>
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>Date: Mon, 27 Oct 2003 20:57:21 +0200
>Reply-To: twisted-python at twistedmatrix.com
>
>Thanks for the great work!
>
>But I can't find the windows installer. Or there isn't a windows installer for 1.1?
>
>soso
>
>
>______________________________________________________________________
>Do you want a free e-mail for life ? Get it at http://www.email.ro/
>
>
>
>--__--__--
>
>Message: 6
>Date: Mon, 27 Oct 2003 20:36:21 +0100
>From: Matteo Giacomazzi <matteo.giacomazzi at libero.it>
>To: twisted-python at twistedmatrix.com
>Subject: [Twisted-Python] Post data
>Reply-To: twisted-python at twistedmatrix.com
>
>Hi all,
>
>  I need to query a remote HTTP server using POST method.
>  To achieve this, I use the t.w.c.getPage function.
>  In  order  to  post  some  data, I pass to that function the keyword
>  postdata  bound  to  an urllib.urlencode()-d dictionary but it seems
>  that such data is not sent at all.
>
>  What is wrong?
>  Here  is  a  minimal  example:  the url is a PHP scripts that simply
>  dumps  the  content  of  the  $_POST  variable,  but  it is an empty
>  array...
>
>  Any help would be greatly appreciated!
>
>#=============================================
>from twisted.web.client import getPage
>from twisted.internet import reactor
>import urllib
>
>def printData(data):
>    print data
>    reactor.stop()
>
>payload = urllib.urlencode({'test':'the test'})
>url = 'http://www.hotelsprovider.com/~matteo'
>d = getPage(url, postdata=payload, timeout=5)
>d.addCallback(printData)
>reactor.run()
>#=============================================
>
>  Many thanks in advance!
>
>
>Kind regards
> Matteo
>
>
>
>--__--__--
>
>Message: 7
>Date: Mon, 27 Oct 2003 20:47:13 +0100
>From: Matteo Giacomazzi <matteo.giacomazzi at libero.it>
>To: twisted-python at twistedmatrix.com
>Subject: [Twisted-Python] Re: Post data
>Reply-To: twisted-python at twistedmatrix.com
>
>UPDATE:  I  forgot  to  use  the  method='POST'  keyword param, but no
>results yet...
>
>#==========================================================
>from twisted.web.client import getPage
>from twisted.internet import reactor
>import urllib
>
>def printData(data):
>    print data
>    reactor.stop()
>
>payload = urllib.urlencode({'test':'the test'})
>url = 'http://www.hotelsprovider.com/~matteo'
>d = getPage(url, method='POST', postdata=payload, timeout=5)
>d.addCallback(printData)
>reactor.run()
>#==========================================================
>
>Many thanks in advance!
>
>
>Kind regards
> Matteo
>
>
>
>--__--__--
>
>Message: 8
>Date: Mon, 27 Oct 2003 21:28:17 +0100
>From: Martin.Moellenbeck at t-online.de (=?ISO-8859-1?Q?Martin_M=F6llenbeck?=)
>To:  twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
> internet
>Reply-To: twisted-python at twistedmatrix.com
>
>very cool framework and you all have made a very good work.
>
>regards Martin
>
>Itamar Shtull-Trauring wrote:
>
>>What's New in 1.1.0
>>===================
>>
>>- twisted.application, an updated deployment and configuration library.
>>
>>- Mac OS X GUI event loop integration (requires PyObjC).
>>
>>- New howtos, including a tutorial, and more web framework docs.
>>
>>- The documentation is now better organized, up-to-date with the latest
>>APIs, and in some areas much more extensive.
>>
>>- Removed a number of broken, unmaintained and unused packages and
>>modules.
>>
>>- Bug fixes and feature enhancements.
>>
>>_______________________________________________
>>Twisted-Python mailing list
>>Twisted-Python at twistedmatrix.com
>>http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>>
>>
>>
>
>
>
>
>--__--__--
>
>Message: 9
>Date: Mon, 27 Oct 2003 16:46:36 -0500
>From: Abe Fettig <abe at fettig.net>
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
> internet
>Reply-To: twisted-python at twistedmatrix.com
>
>Looks like a great release... and it even has updated woven docs!
>Thanks for all the work you guys have put into Twisted!
>
>Abe
>
>Itamar Shtull-Trauring wrote:
>> What's New in 1.1.0
>
>
>
>
>--__--__--
>
>Message: 10
>Date: Mon, 27 Oct 2003 16:08:30 -0600 (CST)
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>From: "darryl" <developer at csrules.dyndns.org>
>To: <twisted-python at twistedmatrix.com>
>Cc: <abe at fettig.net>
>Reply-To: twisted-python at twistedmatrix.com
>
>
>
>> Looks like a great release... and it even has updated woven docs!
>
>The question is, does anyone want to focus on learing woven with NEW wove=
>n
>in the works?
>
>-darryl
>
>
>
>
>--__--__--
>
>Message: 11
>Date: Mon, 27 Oct 2003 17:13:35 -0500
>From: Glyph Lefkowitz <glyph at twistedmatrix.com>
>To:  twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
> internet
>Reply-To: twisted-python at twistedmatrix.com
>
>darryl wrote:
>
>>>Looks like a great release... and it even has updated woven docs!
>
>> The question is, does anyone want to focus on learing woven with NEW woven
>> in the works?
>
>An unfortunate last-minute change of direction, but worth it considering
>how vastly improved the new code is.
>
>It's no longer a part of Twisted, however.  Check out Quotient CVS -
>www.divmod.org
>
>
>
>--__--__--
>
>Message: 12
>Date: Mon, 27 Oct 2003 16:23:26 -0600 (CST)
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>From: "darryl" <developer at csrules.dyndns.org>
>To: <twisted-python at twistedmatrix.com>
>Cc: <glyph at twistedmatrix.com>
>Reply-To: twisted-python at twistedmatrix.com
>
>
>>> The question is, does anyone want to focus on learing woven with NEW
>>> woven in the works?
>>
>> An unfortunate last-minute change of direction, but worth it considerin=
>g
>>  how vastly improved the new code is.
>>
>> It's no longer a part of Twisted, however.  Check out Quotient CVS -
>> www.divmod.org
>
>May i ask why it's not part of twisted?
>And if that's the case will Woven be maintained?
>
>-Darryl
>
>
>
>
>--__--__--
>
>Message: 13
>From: Donovan Preston <dp at twistedmatrix.com>
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>Date: Mon, 27 Oct 2003 17:56:08 -0500
>To: twisted-python at twistedmatrix.com
>Reply-To: twisted-python at twistedmatrix.com
>
>
>On Oct 27, 2003, at 5:23 PM, darryl wrote:
>
>>
>>>> The question is, does anyone want to focus on learing woven with NEW
>>>> woven in the works?
>
>Woven is certainly very usable in it's current state -- if you want to
>do simple-to-moderate things quickly, it can be very useful. However,
>it's complexity made it difficult to do some of the more ambitious
>things we are trying to do, such as semi-transparent form handling, and
>serverToClient events. But there are a few people who have built (and
>deployed) fairly complex woven applications. The fact that nevow exists
>doesn't detract from that.
>
>nevow was originally a research project -- a weekend's worth of hacking
>whose benefits turned out to be so great that we decided to focus on
>bringing it up to a usable state for Quotient as soon as possible. And
>that's where it is now.
>
>Most of the woven concepts -- template and code abstraction using a
>DOM, reusable partial page renderers (Widgets in old woven, renderer
>callables in nevow), all of the concepts needed to know to use
>twisted.web -- carry over to nevow. The only thing that's really
>changed in nevow is a few names, and the code is VASTLY simplified,
>well tested, and thus far easier to understand, design semantics for,
>and change.
>
>>> An unfortunate last-minute change of direction, but worth it
>>> considering
>>>  how vastly improved the new code is.
>>>
>>> It's no longer a part of Twisted, however.  Check out Quotient CVS -
>>> www.divmod.org
>>
>> May i ask why it's not part of twisted?
>> And if that's the case will Woven be maintained?
>
>nevow will be moved into twisted after a period of
>stabilization/development in Quotient. Since twisted is a large project
>with many external developers using it, and quotient is a smaller
>project that is mostly a small core team of development, we felt it
>made sense to keep it out of twisted proper until the development had
>stabilized. Since nevow has the benefit of being a complete rewrite of
>all the *best* parts of woven, and none of the bad, stabilization has
>been remarkably quick. So expect to see nevow in twisted fairly soon.
>
>In the meantime, woven will continue to be maintained with bugfixes,
>and nevow is fully usable outside of quotient -- even to the point of
>being fully usable without twisted.web (as a cgi, or in zope or
>webware, for example). I should also mention that there will probably
>be a compatibility layer for nevow to render old-style Woven classes
>sometime in the future. It is amazingly simple to add rendering
>functionality to it since it uses components to render the dom (which
>is really just a list of any python objects)
>
>If you are doing any new development, I highly encourage you to take a
>look at nevow, if for no other reason than you can have a hand in
>shaping it's development. I would very much appreciate feedback about
>it, especially now, since the code is very, very short and readable.
>
>dp
>
>
>
>--__--__--
>
>Message: 14
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
>	internet
>From: Federico Di Gregorio <fog at initd.org>
>To: Twisted Mailing List <twisted-python at twistedmatrix.com>
>Organization: init.d
>Date: Tue, 28 Oct 2003 00:07:32 +0100
>Reply-To: twisted-python at twistedmatrix.com
>
>
>--=-DoAh4xSvNTURCciuKWCu
>Content-Type: text/plain
>Content-Transfer-Encoding: quoted-printable
>
>Il lun, 2003-10-27 alle 23:56, Donovan Preston ha scritto:
>> On Oct 27, 2003, at 5:23 PM, darryl wrote:
>>=20
>> >
>> >>> The question is, does anyone want to focus on learing woven with NEW
>> >>> woven in the works?
>>=20
>> Woven is certainly very usable in it's current state -- if you want to=20
>
>after using it in a real life project i disagree. woven has lots of
>problems that surface when you switch from "simple examples" to
>"moderate real-life use cases". i was about to write a lenghty mail
>about that shortcomings (like control not updating the model and needing
>a "name" attribute in the node even it they don't use it, etc.) but then
>two people told me about nevow in irc. looking at it right now.
>
>> nevow was originally a research project -- a weekend's worth of hacking=20
>> whose benefits turned out to be so great that we decided to focus on=20
>> bringing it up to a usable state for Quotient as soon as possible. And=20
>> that's where it is now.
>
>"we", "we". maybe i talked with you in irc.
>
>> Most of the woven concepts -- template and code abstraction using a=20
>> DOM, reusable partial page renderers (Widgets in old woven, renderer=20
>> callables in nevow), all of the concepts needed to know to use=20
>> twisted.web -- carry over to nevow. The only thing that's really=20
>> changed in nevow is a few names, and the code is VASTLY simplified,=20
>> well tested, and thus far easier to understand, design semantics for,=20
>> and change.
>
>KUDOS! :)
>
>--=20
>Federico Di Gregorio
>Debian GNU/Linux Developer                                fog at debian.org
>INIT.D Developer                                           fog at initd.org
>             Quis custodiet ipsos custodes? -- Juvenal, Satires, VI, 347
>
>--=-DoAh4xSvNTURCciuKWCu
>Content-Type: application/pgp-signature; name=signature.asc
>Content-Description: Questa parte del messaggio =?ISO-8859-1?Q?=E8?= firmata
>
>-----BEGIN PGP SIGNATURE-----
>Version: GnuPG v1.2.3 (GNU/Linux)
>
>iD8DBQA/naU0vcCgrgZGjesRAvqQAJ9dtVu4VpryFT1Lh0mnUaYnwE6uaACfQS26
>39BrxFusKQrgFo33vhA/ME0=
>=+JDU
>-----END PGP SIGNATURE-----
>
>--=-DoAh4xSvNTURCciuKWCu--
>
>
>
>--__--__--
>
>Message: 15
>Date: Mon, 27 Oct 2003 18:09:49 -0500 (EST)
>From: Yun Mao <maoy at cis.upenn.edu>
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
> internet
>Reply-To: twisted-python at twistedmatrix.com
>
>I really like the tutorial. Great work!
>
>Yun
>
>
>On Mon, 27 Oct 2003, Itamar Shtull-Trauring wrote:
>
>> What's New in 1.1.0
>> ===================
>>
>> - twisted.application, an updated deployment and configuration library.
>>
>> - Mac OS X GUI event loop integration (requires PyObjC).
>>
>> - New howtos, including a tutorial, and more web framework docs.
>>
>> - The documentation is now better organized, up-to-date with the latest
>> APIs, and in some areas much more extensive.
>>
>> - Removed a number of broken, unmaintained and unused packages and
>> modules.
>>
>> - Bug fixes and feature enhancements.
>>
>> _______________________________________________
>> Twisted-Python mailing list
>> Twisted-Python at twistedmatrix.com
>> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>>
>
>
>
>
>--__--__--
>
>_______________________________________________
>Twisted-Python mailing list
>Twisted-Python at twistedmatrix.com
>http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
>
>End of Twisted-Python Digest
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20061031/a381e217/attachment.html>

From moe at divmod.com  Tue Oct 31 12:24:46 2006
From: moe at divmod.com (moe at divmod.com)
Date: Tue, 31 Oct 2006 13:24:46 -0600
Subject: [Twisted-Python] (no subject)
Message-ID: <E1GezE6-0003NN-00@pyramid.twistedmatrix.com>




On 27 Oct 2003, 11:10 , twisted-python-request at twistedmatrix.com wrote:
>Send Twisted-Python mailing list submissions to
>	twisted-python at twistedmatrix.com
>
>To subscribe or unsubscribe via the World Wide Web, visit
>	http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>or, via email, send a message with subject or body 'help' to
>	twisted-python-request at twistedmatrix.com
>
>You can reach the person managing the list at
>	twisted-python-admin at twistedmatrix.com
>
>When replying, please edit your Subject line so it is more specific
>than "Re: Contents of Twisted-Python digest..."
>
>
>Today's Topics:
>
>   1. Re: Odd behavior in IRC logbot (Itamar Shtull-Trauring)
>   2. Re: authentification from a database (Jp Calderone)
>   3. ANN: Twisted 1.1.0, the framework of *your* internet (Itamar Shtull-Trauring)
>   4. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Philippe =?ISO-8859-1?Q?Lafoucri=E8re?=)
>   5. Re: ANN: Twisted 1.1.0, the framework of *your* internet (soso)
>   6. Post data (Matteo Giacomazzi)
>   7. Re: Post data (Matteo Giacomazzi)
>   8. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (=?ISO-8859-1?Q?Martin_M=F6llenbeck?=)
>   9. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Abe Fettig)
>  10. Re: ANN: Twisted 1.1.0, the framework of *your* internet (darryl)
>  11. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Glyph Lefkowitz)
>  12. Re: ANN: Twisted 1.1.0, the framework of *your* internet (darryl)
>  13. Re: ANN: Twisted 1.1.0, the framework of *your* internet (Donovan Preston)
>  14. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Federico Di Gregorio)
>  15. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Yun Mao)
>
>--__--__--
>
>Message: 1
>Date: Mon, 27 Oct 2003 09:29:29 -0500
>From: Itamar Shtull-Trauring <itamar at itamarst.org>
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] Odd behavior in IRC logbot
>Organization: http://itamarst.org
>Reply-To: twisted-python at twistedmatrix.com
>
>On Mon, 27 Oct 2003 09:15:13 -0500
>"Phillip J. Eby" <pje at telecommunity.com> wrote:
>
>> Um, what logs?
>
>Hm. I suppose you ought to enable logging, yes. Do:
>
>from twisted.python import log
>log.startLogging(open("irc.log", "a"))
>
>somewhere in the file (e.g. in the __main__-only section).
>
>--
>Itamar Shtull-Trauring    http://itamarst.org/
>Available for Python & Twisted consulting
>
>
>--__--__--
>
>Message: 2
>Date: Mon, 27 Oct 2003 11:00:47 -0500
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] authentification from a database
>From: Jp Calderone <exarkun at intarweb.us>
>Reply-To: twisted-python at twistedmatrix.com
>
>
>--TB36FDmn/VVEgNH/
>Content-Type: text/plain; charset=us-ascii
>Content-Disposition: inline
>Content-Transfer-Encoding: quoted-printable
>
>On Mon, Oct 27, 2003 at 09:17:08AM -0500, vicky lupien wrote:
>> I have a program that needs authentification from a database.  For now,
>> it's working fine but I'm using
>> checkers.InMemoryUsernamePasswordDatabaseDontUse(test=3D"test") (I want
>> many users not only "test").  =20
>
>  Use a different checker, such as FilePasswordDB.
>
>  Jp
>
>--TB36FDmn/VVEgNH/
>Content-Type: application/pgp-signature; name="signature.asc"
>Content-Description: Digital signature
>Content-Disposition: inline
>
>-----BEGIN PGP SIGNATURE-----
>Version: GnuPG v1.2.3 (GNU/Linux)
>
>iD8DBQE/nUEvedcO2BJA+4YRAlRCAJ4kAeN49EFmgMbrW3Fd/MNujVKNrwCgstoT
>r3iPt2vNXMjG69p7v0pa/JU=
>=wuRK
>-----END PGP SIGNATURE-----
>
>--TB36FDmn/VVEgNH/--
>
>
>--__--__--
>
>Message: 3
>Date: Mon, 27 Oct 2003 12:13:44 -0500
>From: Itamar Shtull-Trauring <itamar at itamarst.org>
>To: twisted-python at twistedmatrix.com
>Organization: http://itamarst.org
>Subject: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>Reply-To: twisted-python at twistedmatrix.com
>
>What's New in 1.1.0
>===================
>
>- twisted.application, an updated deployment and configuration library.
>
>- Mac OS X GUI event loop integration (requires PyObjC).
>
>- New howtos, including a tutorial, and more web framework docs.
>
>- The documentation is now better organized, up-to-date with the latest
>APIs, and in some areas much more extensive.
>
>- Removed a number of broken, unmaintained and unused packages and
>modules.
>
>- Bug fixes and feature enhancements.
>
>
>--__--__--
>
>Message: 4
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
>	internet
>From: Philippe =?ISO-8859-1?Q?Lafoucri=E8re?= <lafou at wanadoo.fr>
>To: Twisted <twisted-python at twistedmatrix.com>
>Organization: InFuzzion
>Date: Mon, 27 Oct 2003 18:56:04 +0100
>Reply-To: twisted-python at twistedmatrix.com
>
>Great work guys ! twisted is the python/network killer app
>
>On Mon, 2003-10-27 at 18:13, Itamar Shtull-Trauring wrote:
>> What's New in 1.1.0
>> ===================
>>
>> - twisted.application, an updated deployment and configuration library.
>>
>> - Mac OS X GUI event loop integration (requires PyObjC).
>>
>> - New howtos, including a tutorial, and more web framework docs.
>>
>> - The documentation is now better organized, up-to-date with the latest
>> APIs, and in some areas much more extensive.
>>
>> - Removed a number of broken, unmaintained and unused packages and
>> modules.
>>
>> - Bug fixes and feature enhancements.
>>
>> _______________________________________________
>> Twisted-Python mailing list
>> Twisted-Python at twistedmatrix.com
>> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
>
>
>--__--__--
>
>Message: 5
>From: soso <duke99 at email.ro>
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>Date: Mon, 27 Oct 2003 20:57:21 +0200
>Reply-To: twisted-python at twistedmatrix.com
>
>Thanks for the great work!
>
>But I can't find the windows installer. Or there isn't a windows installer for 1.1?
>
>soso
>
>
>______________________________________________________________________
>Do you want a free e-mail for life ? Get it at http://www.email.ro/
>
>
>
>--__--__--
>
>Message: 6
>Date: Mon, 27 Oct 2003 20:36:21 +0100
>From: Matteo Giacomazzi <matteo.giacomazzi at libero.it>
>To: twisted-python at twistedmatrix.com
>Subject: [Twisted-Python] Post data
>Reply-To: twisted-python at twistedmatrix.com
>
>Hi all,
>
>  I need to query a remote HTTP server using POST method.
>  To achieve this, I use the t.w.c.getPage function.
>  In  order  to  post  some  data, I pass to that function the keyword
>  postdata  bound  to  an urllib.urlencode()-d dictionary but it seems
>  that such data is not sent at all.
>
>  What is wrong?
>  Here  is  a  minimal  example:  the url is a PHP scripts that simply
>  dumps  the  content  of  the  $_POST  variable,  but  it is an empty
>  array...
>
>  Any help would be greatly appreciated!
>
>#=============================================
>from twisted.web.client import getPage
>from twisted.internet import reactor
>import urllib
>
>def printData(data):
>    print data
>    reactor.stop()
>
>payload = urllib.urlencode({'test':'the test'})
>url = 'http://www.hotelsprovider.com/~matteo'
>d = getPage(url, postdata=payload, timeout=5)
>d.addCallback(printData)
>reactor.run()
>#=============================================
>
>  Many thanks in advance!
>
>
>Kind regards
> Matteo
>
>
>
>--__--__--
>
>Message: 7
>Date: Mon, 27 Oct 2003 20:47:13 +0100
>From: Matteo Giacomazzi <matteo.giacomazzi at libero.it>
>To: twisted-python at twistedmatrix.com
>Subject: [Twisted-Python] Re: Post data
>Reply-To: twisted-python at twistedmatrix.com
>
>UPDATE:  I  forgot  to  use  the  method='POST'  keyword param, but no
>results yet...
>
>#==========================================================
>from twisted.web.client import getPage
>from twisted.internet import reactor
>import urllib
>
>def printData(data):
>    print data
>    reactor.stop()
>
>payload = urllib.urlencode({'test':'the test'})
>url = 'http://www.hotelsprovider.com/~matteo'
>d = getPage(url, method='POST', postdata=payload, timeout=5)
>d.addCallback(printData)
>reactor.run()
>#==========================================================
>
>Many thanks in advance!
>
>
>Kind regards
> Matteo
>
>
>
>--__--__--
>
>Message: 8
>Date: Mon, 27 Oct 2003 21:28:17 +0100
>From: Martin.Moellenbeck at t-online.de (=?ISO-8859-1?Q?Martin_M=F6llenbeck?=)
>To:  twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
> internet
>Reply-To: twisted-python at twistedmatrix.com
>
>very cool framework and you all have made a very good work.
>
>regards Martin
>
>Itamar Shtull-Trauring wrote:
>
>>What's New in 1.1.0
>>===================
>>
>>- twisted.application, an updated deployment and configuration library.
>>
>>- Mac OS X GUI event loop integration (requires PyObjC).
>>
>>- New howtos, including a tutorial, and more web framework docs.
>>
>>- The documentation is now better organized, up-to-date with the latest
>>APIs, and in some areas much more extensive.
>>
>>- Removed a number of broken, unmaintained and unused packages and
>>modules.
>>
>>- Bug fixes and feature enhancements.
>>
>>_______________________________________________
>>Twisted-Python mailing list
>>Twisted-Python at twistedmatrix.com
>>http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>>
>>
>>
>
>
>
>
>--__--__--
>
>Message: 9
>Date: Mon, 27 Oct 2003 16:46:36 -0500
>From: Abe Fettig <abe at fettig.net>
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
> internet
>Reply-To: twisted-python at twistedmatrix.com
>
>Looks like a great release... and it even has updated woven docs!
>Thanks for all the work you guys have put into Twisted!
>
>Abe
>
>Itamar Shtull-Trauring wrote:
>> What's New in 1.1.0
>
>
>
>
>--__--__--
>
>Message: 10
>Date: Mon, 27 Oct 2003 16:08:30 -0600 (CST)
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>From: "darryl" <developer at csrules.dyndns.org>
>To: <twisted-python at twistedmatrix.com>
>Cc: <abe at fettig.net>
>Reply-To: twisted-python at twistedmatrix.com
>
>
>
>> Looks like a great release... and it even has updated woven docs!
>
>The question is, does anyone want to focus on learing woven with NEW wove=
>n
>in the works?
>
>-darryl
>
>
>
>
>--__--__--
>
>Message: 11
>Date: Mon, 27 Oct 2003 17:13:35 -0500
>From: Glyph Lefkowitz <glyph at twistedmatrix.com>
>To:  twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
> internet
>Reply-To: twisted-python at twistedmatrix.com
>
>darryl wrote:
>
>>>Looks like a great release... and it even has updated woven docs!
>
>> The question is, does anyone want to focus on learing woven with NEW woven
>> in the works?
>
>An unfortunate last-minute change of direction, but worth it considering
>how vastly improved the new code is.
>
>It's no longer a part of Twisted, however.  Check out Quotient CVS -
>www.divmod.org
>
>
>
>--__--__--
>
>Message: 12
>Date: Mon, 27 Oct 2003 16:23:26 -0600 (CST)
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>From: "darryl" <developer at csrules.dyndns.org>
>To: <twisted-python at twistedmatrix.com>
>Cc: <glyph at twistedmatrix.com>
>Reply-To: twisted-python at twistedmatrix.com
>
>
>>> The question is, does anyone want to focus on learing woven with NEW
>>> woven in the works?
>>
>> An unfortunate last-minute change of direction, but worth it considerin=
>g
>>  how vastly improved the new code is.
>>
>> It's no longer a part of Twisted, however.  Check out Quotient CVS -
>> www.divmod.org
>
>May i ask why it's not part of twisted?
>And if that's the case will Woven be maintained?
>
>-Darryl
>
>
>
>
>--__--__--
>
>Message: 13
>From: Donovan Preston <dp at twistedmatrix.com>
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>Date: Mon, 27 Oct 2003 17:56:08 -0500
>To: twisted-python at twistedmatrix.com
>Reply-To: twisted-python at twistedmatrix.com
>
>
>On Oct 27, 2003, at 5:23 PM, darryl wrote:
>
>>
>>>> The question is, does anyone want to focus on learing woven with NEW
>>>> woven in the works?
>
>Woven is certainly very usable in it's current state -- if you want to
>do simple-to-moderate things quickly, it can be very useful. However,
>it's complexity made it difficult to do some of the more ambitious
>things we are trying to do, such as semi-transparent form handling, and
>serverToClient events. But there are a few people who have built (and
>deployed) fairly complex woven applications. The fact that nevow exists
>doesn't detract from that.
>
>nevow was originally a research project -- a weekend's worth of hacking
>whose benefits turned out to be so great that we decided to focus on
>bringing it up to a usable state for Quotient as soon as possible. And
>that's where it is now.
>
>Most of the woven concepts -- template and code abstraction using a
>DOM, reusable partial page renderers (Widgets in old woven, renderer
>callables in nevow), all of the concepts needed to know to use
>twisted.web -- carry over to nevow. The only thing that's really
>changed in nevow is a few names, and the code is VASTLY simplified,
>well tested, and thus far easier to understand, design semantics for,
>and change.
>
>>> An unfortunate last-minute change of direction, but worth it
>>> considering
>>>  how vastly improved the new code is.
>>>
>>> It's no longer a part of Twisted, however.  Check out Quotient CVS -
>>> www.divmod.org
>>
>> May i ask why it's not part of twisted?
>> And if that's the case will Woven be maintained?
>
>nevow will be moved into twisted after a period of
>stabilization/development in Quotient. Since twisted is a large project
>with many external developers using it, and quotient is a smaller
>project that is mostly a small core team of development, we felt it
>made sense to keep it out of twisted proper until the development had
>stabilized. Since nevow has the benefit of being a complete rewrite of
>all the *best* parts of woven, and none of the bad, stabilization has
>been remarkably quick. So expect to see nevow in twisted fairly soon.
>
>In the meantime, woven will continue to be maintained with bugfixes,
>and nevow is fully usable outside of quotient -- even to the point of
>being fully usable without twisted.web (as a cgi, or in zope or
>webware, for example). I should also mention that there will probably
>be a compatibility layer for nevow to render old-style Woven classes
>sometime in the future. It is amazingly simple to add rendering
>functionality to it since it uses components to render the dom (which
>is really just a list of any python objects)
>
>If you are doing any new development, I highly encourage you to take a
>look at nevow, if for no other reason than you can have a hand in
>shaping it's development. I would very much appreciate feedback about
>it, especially now, since the code is very, very short and readable.
>
>dp
>
>
>
>--__--__--
>
>Message: 14
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
>	internet
>From: Federico Di Gregorio <fog at initd.org>
>To: Twisted Mailing List <twisted-python at twistedmatrix.com>
>Organization: init.d
>Date: Tue, 28 Oct 2003 00:07:32 +0100
>Reply-To: twisted-python at twistedmatrix.com
>
>
>--=-DoAh4xSvNTURCciuKWCu
>Content-Type: text/plain
>Content-Transfer-Encoding: quoted-printable
>
>Il lun, 2003-10-27 alle 23:56, Donovan Preston ha scritto:
>> On Oct 27, 2003, at 5:23 PM, darryl wrote:
>>=20
>> >
>> >>> The question is, does anyone want to focus on learing woven with NEW
>> >>> woven in the works?
>>=20
>> Woven is certainly very usable in it's current state -- if you want to=20
>
>after using it in a real life project i disagree. woven has lots of
>problems that surface when you switch from "simple examples" to
>"moderate real-life use cases". i was about to write a lenghty mail
>about that shortcomings (like control not updating the model and needing
>a "name" attribute in the node even it they don't use it, etc.) but then
>two people told me about nevow in irc. looking at it right now.
>
>> nevow was originally a research project -- a weekend's worth of hacking=20
>> whose benefits turned out to be so great that we decided to focus on=20
>> bringing it up to a usable state for Quotient as soon as possible. And=20
>> that's where it is now.
>
>"we", "we". maybe i talked with you in irc.
>
>> Most of the woven concepts -- template and code abstraction using a=20
>> DOM, reusable partial page renderers (Widgets in old woven, renderer=20
>> callables in nevow), all of the concepts needed to know to use=20
>> twisted.web -- carry over to nevow. The only thing that's really=20
>> changed in nevow is a few names, and the code is VASTLY simplified,=20
>> well tested, and thus far easier to understand, design semantics for,=20
>> and change.
>
>KUDOS! :)
>
>--=20
>Federico Di Gregorio
>Debian GNU/Linux Developer                                fog at debian.org
>INIT.D Developer                                           fog at initd.org
>             Quis custodiet ipsos custodes? -- Juvenal, Satires, VI, 347
>
>--=-DoAh4xSvNTURCciuKWCu
>Content-Type: application/pgp-signature; name=signature.asc
>Content-Description: Questa parte del messaggio =?ISO-8859-1?Q?=E8?= firmata
>
>-----BEGIN PGP SIGNATURE-----
>Version: GnuPG v1.2.3 (GNU/Linux)
>
>iD8DBQA/naU0vcCgrgZGjesRAvqQAJ9dtVu4VpryFT1Lh0mnUaYnwE6uaACfQS26
>39BrxFusKQrgFo33vhA/ME0=
>=+JDU
>-----END PGP SIGNATURE-----
>
>--=-DoAh4xSvNTURCciuKWCu--
>
>
>
>--__--__--
>
>Message: 15
>Date: Mon, 27 Oct 2003 18:09:49 -0500 (EST)
>From: Yun Mao <maoy at cis.upenn.edu>
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
> internet
>Reply-To: twisted-python at twistedmatrix.com
>
>I really like the tutorial. Great work!
>
>Yun
>
>
>On Mon, 27 Oct 2003, Itamar Shtull-Trauring wrote:
>
>> What's New in 1.1.0
>> ===================
>>
>> - twisted.application, an updated deployment and configuration library.
>>
>> - Mac OS X GUI event loop integration (requires PyObjC).
>>
>> - New howtos, including a tutorial, and more web framework docs.
>>
>> - The documentation is now better organized, up-to-date with the latest
>> APIs, and in some areas much more extensive.
>>
>> - Removed a number of broken, unmaintained and unused packages and
>> modules.
>>
>> - Bug fixes and feature enhancements.
>>
>> _______________________________________________
>> Twisted-Python mailing list
>> Twisted-Python at twistedmatrix.com
>> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>>
>
>
>
>
>--__--__--
>
>_______________________________________________
>Twisted-Python mailing list
>Twisted-Python at twistedmatrix.com
>http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
>
>End of Twisted-Python Digest
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20061031/51556f35/attachment.html>

From moe at divmod.com  Tue Oct 31 16:14:46 2006
From: moe at divmod.com (moe at divmod.com)
Date: Tue, 31 Oct 2006 17:14:46 -0600
Subject: [Twisted-Python] (no subject)
Message-ID: <E1Gf2of-0001PQ-00@pyramid.twistedmatrix.com>




On 27 Oct 2003, 11:10 , twisted-python-request at twistedmatrix.com wrote:
>Send Twisted-Python mailing list submissions to
>	twisted-python at twistedmatrix.com
>
>To subscribe or unsubscribe via the World Wide Web, visit
>	http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>or, via email, send a message with subject or body 'help' to
>	twisted-python-request at twistedmatrix.com
>
>You can reach the person managing the list at
>	twisted-python-admin at twistedmatrix.com
>
>When replying, please edit your Subject line so it is more specific
>than "Re: Contents of Twisted-Python digest..."
>
>
>Today's Topics:
>
>   1. Re: Odd behavior in IRC logbot (Itamar Shtull-Trauring)
>   2. Re: authentification from a database (Jp Calderone)
>   3. ANN: Twisted 1.1.0, the framework of *your* internet (Itamar Shtull-Trauring)
>   4. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Philippe =?ISO-8859-1?Q?Lafoucri=E8re?=)
>   5. Re: ANN: Twisted 1.1.0, the framework of *your* internet (soso)
>   6. Post data (Matteo Giacomazzi)
>   7. Re: Post data (Matteo Giacomazzi)
>   8. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (=?ISO-8859-1?Q?Martin_M=F6llenbeck?=)
>   9. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Abe Fettig)
>  10. Re: ANN: Twisted 1.1.0, the framework of *your* internet (darryl)
>  11. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Glyph Lefkowitz)
>  12. Re: ANN: Twisted 1.1.0, the framework of *your* internet (darryl)
>  13. Re: ANN: Twisted 1.1.0, the framework of *your* internet (Donovan Preston)
>  14. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Federico Di Gregorio)
>  15. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Yun Mao)
>
>--__--__--
>
>Message: 1
>Date: Mon, 27 Oct 2003 09:29:29 -0500
>From: Itamar Shtull-Trauring <itamar at itamarst.org>
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] Odd behavior in IRC logbot
>Organization: http://itamarst.org
>Reply-To: twisted-python at twistedmatrix.com
>
>On Mon, 27 Oct 2003 09:15:13 -0500
>"Phillip J. Eby" <pje at telecommunity.com> wrote:
>
>> Um, what logs?
>
>Hm. I suppose you ought to enable logging, yes. Do:
>
>from twisted.python import log
>log.startLogging(open("irc.log", "a"))
>
>somewhere in the file (e.g. in the __main__-only section).
>
>--
>Itamar Shtull-Trauring    http://itamarst.org/
>Available for Python & Twisted consulting
>
>
>--__--__--
>
>Message: 2
>Date: Mon, 27 Oct 2003 11:00:47 -0500
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] authentification from a database
>From: Jp Calderone <exarkun at intarweb.us>
>Reply-To: twisted-python at twistedmatrix.com
>
>
>--TB36FDmn/VVEgNH/
>Content-Type: text/plain; charset=us-ascii
>Content-Disposition: inline
>Content-Transfer-Encoding: quoted-printable
>
>On Mon, Oct 27, 2003 at 09:17:08AM -0500, vicky lupien wrote:
>> I have a program that needs authentification from a database.  For now,
>> it's working fine but I'm using
>> checkers.InMemoryUsernamePasswordDatabaseDontUse(test=3D"test") (I want
>> many users not only "test").  =20
>
>  Use a different checker, such as FilePasswordDB.
>
>  Jp
>
>--TB36FDmn/VVEgNH/
>Content-Type: application/pgp-signature; name="signature.asc"
>Content-Description: Digital signature
>Content-Disposition: inline
>
>-----BEGIN PGP SIGNATURE-----
>Version: GnuPG v1.2.3 (GNU/Linux)
>
>iD8DBQE/nUEvedcO2BJA+4YRAlRCAJ4kAeN49EFmgMbrW3Fd/MNujVKNrwCgstoT
>r3iPt2vNXMjG69p7v0pa/JU=
>=wuRK
>-----END PGP SIGNATURE-----
>
>--TB36FDmn/VVEgNH/--
>
>
>--__--__--
>
>Message: 3
>Date: Mon, 27 Oct 2003 12:13:44 -0500
>From: Itamar Shtull-Trauring <itamar at itamarst.org>
>To: twisted-python at twistedmatrix.com
>Organization: http://itamarst.org
>Subject: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>Reply-To: twisted-python at twistedmatrix.com
>
>What's New in 1.1.0
>===================
>
>- twisted.application, an updated deployment and configuration library.
>
>- Mac OS X GUI event loop integration (requires PyObjC).
>
>- New howtos, including a tutorial, and more web framework docs.
>
>- The documentation is now better organized, up-to-date with the latest
>APIs, and in some areas much more extensive.
>
>- Removed a number of broken, unmaintained and unused packages and
>modules.
>
>- Bug fixes and feature enhancements.
>
>
>--__--__--
>
>Message: 4
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
>	internet
>From: Philippe =?ISO-8859-1?Q?Lafoucri=E8re?= <lafou at wanadoo.fr>
>To: Twisted <twisted-python at twistedmatrix.com>
>Organization: InFuzzion
>Date: Mon, 27 Oct 2003 18:56:04 +0100
>Reply-To: twisted-python at twistedmatrix.com
>
>Great work guys ! twisted is the python/network killer app
>
>On Mon, 2003-10-27 at 18:13, Itamar Shtull-Trauring wrote:
>> What's New in 1.1.0
>> ===================
>>
>> - twisted.application, an updated deployment and configuration library.
>>
>> - Mac OS X GUI event loop integration (requires PyObjC).
>>
>> - New howtos, including a tutorial, and more web framework docs.
>>
>> - The documentation is now better organized, up-to-date with the latest
>> APIs, and in some areas much more extensive.
>>
>> - Removed a number of broken, unmaintained and unused packages and
>> modules.
>>
>> - Bug fixes and feature enhancements.
>>
>> _______________________________________________
>> Twisted-Python mailing list
>> Twisted-Python at twistedmatrix.com
>> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
>
>
>--__--__--
>
>Message: 5
>From: soso <duke99 at email.ro>
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>Date: Mon, 27 Oct 2003 20:57:21 +0200
>Reply-To: twisted-python at twistedmatrix.com
>
>Thanks for the great work!
>
>But I can't find the windows installer. Or there isn't a windows installer for 1.1?
>
>soso
>
>
>______________________________________________________________________
>Do you want a free e-mail for life ? Get it at http://www.email.ro/
>
>
>
>--__--__--
>
>Message: 6
>Date: Mon, 27 Oct 2003 20:36:21 +0100
>From: Matteo Giacomazzi <matteo.giacomazzi at libero.it>
>To: twisted-python at twistedmatrix.com
>Subject: [Twisted-Python] Post data
>Reply-To: twisted-python at twistedmatrix.com
>
>Hi all,
>
>  I need to query a remote HTTP server using POST method.
>  To achieve this, I use the t.w.c.getPage function.
>  In  order  to  post  some  data, I pass to that function the keyword
>  postdata  bound  to  an urllib.urlencode()-d dictionary but it seems
>  that such data is not sent at all.
>
>  What is wrong?
>  Here  is  a  minimal  example:  the url is a PHP scripts that simply
>  dumps  the  content  of  the  $_POST  variable,  but  it is an empty
>  array...
>
>  Any help would be greatly appreciated!
>
>#=============================================
>from twisted.web.client import getPage
>from twisted.internet import reactor
>import urllib
>
>def printData(data):
>    print data
>    reactor.stop()
>
>payload = urllib.urlencode({'test':'the test'})
>url = 'http://www.hotelsprovider.com/~matteo'
>d = getPage(url, postdata=payload, timeout=5)
>d.addCallback(printData)
>reactor.run()
>#=============================================
>
>  Many thanks in advance!
>
>
>Kind regards
> Matteo
>
>
>
>--__--__--
>
>Message: 7
>Date: Mon, 27 Oct 2003 20:47:13 +0100
>From: Matteo Giacomazzi <matteo.giacomazzi at libero.it>
>To: twisted-python at twistedmatrix.com
>Subject: [Twisted-Python] Re: Post data
>Reply-To: twisted-python at twistedmatrix.com
>
>UPDATE:  I  forgot  to  use  the  method='POST'  keyword param, but no
>results yet...
>
>#==========================================================
>from twisted.web.client import getPage
>from twisted.internet import reactor
>import urllib
>
>def printData(data):
>    print data
>    reactor.stop()
>
>payload = urllib.urlencode({'test':'the test'})
>url = 'http://www.hotelsprovider.com/~matteo'
>d = getPage(url, method='POST', postdata=payload, timeout=5)
>d.addCallback(printData)
>reactor.run()
>#==========================================================
>
>Many thanks in advance!
>
>
>Kind regards
> Matteo
>
>
>
>--__--__--
>
>Message: 8
>Date: Mon, 27 Oct 2003 21:28:17 +0100
>From: Martin.Moellenbeck at t-online.de (=?ISO-8859-1?Q?Martin_M=F6llenbeck?=)
>To:  twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
> internet
>Reply-To: twisted-python at twistedmatrix.com
>
>very cool framework and you all have made a very good work.
>
>regards Martin
>
>Itamar Shtull-Trauring wrote:
>
>>What's New in 1.1.0
>>===================
>>
>>- twisted.application, an updated deployment and configuration library.
>>
>>- Mac OS X GUI event loop integration (requires PyObjC).
>>
>>- New howtos, including a tutorial, and more web framework docs.
>>
>>- The documentation is now better organized, up-to-date with the latest
>>APIs, and in some areas much more extensive.
>>
>>- Removed a number of broken, unmaintained and unused packages and
>>modules.
>>
>>- Bug fixes and feature enhancements.
>>
>>_______________________________________________
>>Twisted-Python mailing list
>>Twisted-Python at twistedmatrix.com
>>http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>>
>>
>>
>
>
>
>
>--__--__--
>
>Message: 9
>Date: Mon, 27 Oct 2003 16:46:36 -0500
>From: Abe Fettig <abe at fettig.net>
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
> internet
>Reply-To: twisted-python at twistedmatrix.com
>
>Looks like a great release... and it even has updated woven docs!
>Thanks for all the work you guys have put into Twisted!
>
>Abe
>
>Itamar Shtull-Trauring wrote:
>> What's New in 1.1.0
>
>
>
>
>--__--__--
>
>Message: 10
>Date: Mon, 27 Oct 2003 16:08:30 -0600 (CST)
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>From: "darryl" <developer at csrules.dyndns.org>
>To: <twisted-python at twistedmatrix.com>
>Cc: <abe at fettig.net>
>Reply-To: twisted-python at twistedmatrix.com
>
>
>
>> Looks like a great release... and it even has updated woven docs!
>
>The question is, does anyone want to focus on learing woven with NEW wove=
>n
>in the works?
>
>-darryl
>
>
>
>
>--__--__--
>
>Message: 11
>Date: Mon, 27 Oct 2003 17:13:35 -0500
>From: Glyph Lefkowitz <glyph at twistedmatrix.com>
>To:  twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
> internet
>Reply-To: twisted-python at twistedmatrix.com
>
>darryl wrote:
>
>>>Looks like a great release... and it even has updated woven docs!
>
>> The question is, does anyone want to focus on learing woven with NEW woven
>> in the works?
>
>An unfortunate last-minute change of direction, but worth it considering
>how vastly improved the new code is.
>
>It's no longer a part of Twisted, however.  Check out Quotient CVS -
>www.divmod.org
>
>
>
>--__--__--
>
>Message: 12
>Date: Mon, 27 Oct 2003 16:23:26 -0600 (CST)
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>From: "darryl" <developer at csrules.dyndns.org>
>To: <twisted-python at twistedmatrix.com>
>Cc: <glyph at twistedmatrix.com>
>Reply-To: twisted-python at twistedmatrix.com
>
>
>>> The question is, does anyone want to focus on learing woven with NEW
>>> woven in the works?
>>
>> An unfortunate last-minute change of direction, but worth it considerin=
>g
>>  how vastly improved the new code is.
>>
>> It's no longer a part of Twisted, however.  Check out Quotient CVS -
>> www.divmod.org
>
>May i ask why it's not part of twisted?
>And if that's the case will Woven be maintained?
>
>-Darryl
>
>
>
>
>--__--__--
>
>Message: 13
>From: Donovan Preston <dp at twistedmatrix.com>
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>Date: Mon, 27 Oct 2003 17:56:08 -0500
>To: twisted-python at twistedmatrix.com
>Reply-To: twisted-python at twistedmatrix.com
>
>
>On Oct 27, 2003, at 5:23 PM, darryl wrote:
>
>>
>>>> The question is, does anyone want to focus on learing woven with NEW
>>>> woven in the works?
>
>Woven is certainly very usable in it's current state -- if you want to
>do simple-to-moderate things quickly, it can be very useful. However,
>it's complexity made it difficult to do some of the more ambitious
>things we are trying to do, such as semi-transparent form handling, and
>serverToClient events. But there are a few people who have built (and
>deployed) fairly complex woven applications. The fact that nevow exists
>doesn't detract from that.
>
>nevow was originally a research project -- a weekend's worth of hacking
>whose benefits turned out to be so great that we decided to focus on
>bringing it up to a usable state for Quotient as soon as possible. And
>that's where it is now.
>
>Most of the woven concepts -- template and code abstraction using a
>DOM, reusable partial page renderers (Widgets in old woven, renderer
>callables in nevow), all of the concepts needed to know to use
>twisted.web -- carry over to nevow. The only thing that's really
>changed in nevow is a few names, and the code is VASTLY simplified,
>well tested, and thus far easier to understand, design semantics for,
>and change.
>
>>> An unfortunate last-minute change of direction, but worth it
>>> considering
>>>  how vastly improved the new code is.
>>>
>>> It's no longer a part of Twisted, however.  Check out Quotient CVS -
>>> www.divmod.org
>>
>> May i ask why it's not part of twisted?
>> And if that's the case will Woven be maintained?
>
>nevow will be moved into twisted after a period of
>stabilization/development in Quotient. Since twisted is a large project
>with many external developers using it, and quotient is a smaller
>project that is mostly a small core team of development, we felt it
>made sense to keep it out of twisted proper until the development had
>stabilized. Since nevow has the benefit of being a complete rewrite of
>all the *best* parts of woven, and none of the bad, stabilization has
>been remarkably quick. So expect to see nevow in twisted fairly soon.
>
>In the meantime, woven will continue to be maintained with bugfixes,
>and nevow is fully usable outside of quotient -- even to the point of
>being fully usable without twisted.web (as a cgi, or in zope or
>webware, for example). I should also mention that there will probably
>be a compatibility layer for nevow to render old-style Woven classes
>sometime in the future. It is amazingly simple to add rendering
>functionality to it since it uses components to render the dom (which
>is really just a list of any python objects)
>
>If you are doing any new development, I highly encourage you to take a
>look at nevow, if for no other reason than you can have a hand in
>shaping it's development. I would very much appreciate feedback about
>it, especially now, since the code is very, very short and readable.
>
>dp
>
>
>
>--__--__--
>
>Message: 14
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
>	internet
>From: Federico Di Gregorio <fog at initd.org>
>To: Twisted Mailing List <twisted-python at twistedmatrix.com>
>Organization: init.d
>Date: Tue, 28 Oct 2003 00:07:32 +0100
>Reply-To: twisted-python at twistedmatrix.com
>
>
>--=-DoAh4xSvNTURCciuKWCu
>Content-Type: text/plain
>Content-Transfer-Encoding: quoted-printable
>
>Il lun, 2003-10-27 alle 23:56, Donovan Preston ha scritto:
>> On Oct 27, 2003, at 5:23 PM, darryl wrote:
>>=20
>> >
>> >>> The question is, does anyone want to focus on learing woven with NEW
>> >>> woven in the works?
>>=20
>> Woven is certainly very usable in it's current state -- if you want to=20
>
>after using it in a real life project i disagree. woven has lots of
>problems that surface when you switch from "simple examples" to
>"moderate real-life use cases". i was about to write a lenghty mail
>about that shortcomings (like control not updating the model and needing
>a "name" attribute in the node even it they don't use it, etc.) but then
>two people told me about nevow in irc. looking at it right now.
>
>> nevow was originally a research project -- a weekend's worth of hacking=20
>> whose benefits turned out to be so great that we decided to focus on=20
>> bringing it up to a usable state for Quotient as soon as possible. And=20
>> that's where it is now.
>
>"we", "we". maybe i talked with you in irc.
>
>> Most of the woven concepts -- template and code abstraction using a=20
>> DOM, reusable partial page renderers (Widgets in old woven, renderer=20
>> callables in nevow), all of the concepts needed to know to use=20
>> twisted.web -- carry over to nevow. The only thing that's really=20
>> changed in nevow is a few names, and the code is VASTLY simplified,=20
>> well tested, and thus far easier to understand, design semantics for,=20
>> and change.
>
>KUDOS! :)
>
>--=20
>Federico Di Gregorio
>Debian GNU/Linux Developer                                fog at debian.org
>INIT.D Developer                                           fog at initd.org
>             Quis custodiet ipsos custodes? -- Juvenal, Satires, VI, 347
>
>--=-DoAh4xSvNTURCciuKWCu
>Content-Type: application/pgp-signature; name=signature.asc
>Content-Description: Questa parte del messaggio =?ISO-8859-1?Q?=E8?= firmata
>
>-----BEGIN PGP SIGNATURE-----
>Version: GnuPG v1.2.3 (GNU/Linux)
>
>iD8DBQA/naU0vcCgrgZGjesRAvqQAJ9dtVu4VpryFT1Lh0mnUaYnwE6uaACfQS26
>39BrxFusKQrgFo33vhA/ME0=
>=+JDU
>-----END PGP SIGNATURE-----
>
>--=-DoAh4xSvNTURCciuKWCu--
>
>
>
>--__--__--
>
>Message: 15
>Date: Mon, 27 Oct 2003 18:09:49 -0500 (EST)
>From: Yun Mao <maoy at cis.upenn.edu>
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
> internet
>Reply-To: twisted-python at twistedmatrix.com
>
>I really like the tutorial. Great work!
>
>Yun
>
>
>On Mon, 27 Oct 2003, Itamar Shtull-Trauring wrote:
>
>> What's New in 1.1.0
>> ===================
>>
>> - twisted.application, an updated deployment and configuration library.
>>
>> - Mac OS X GUI event loop integration (requires PyObjC).
>>
>> - New howtos, including a tutorial, and more web framework docs.
>>
>> - The documentation is now better organized, up-to-date with the latest
>> APIs, and in some areas much more extensive.
>>
>> - Removed a number of broken, unmaintained and unused packages and
>> modules.
>>
>> - Bug fixes and feature enhancements.
>>
>> _______________________________________________
>> Twisted-Python mailing list
>> Twisted-Python at twistedmatrix.com
>> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>>
>
>
>
>
>--__--__--
>
>_______________________________________________
>Twisted-Python mailing list
>Twisted-Python at twistedmatrix.com
>http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
>
>End of Twisted-Python Digest
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20061031/637c9380/attachment.html>

From moe at divmod.com  Tue Oct 31 16:14:46 2006
From: moe at divmod.com (moe at divmod.com)
Date: Tue, 31 Oct 2006 17:14:46 -0600
Subject: [Twisted-Python] (no subject)
Message-ID: <E1Gf2og-0001PP-00@pyramid.twistedmatrix.com>




On 27 Oct 2003, 11:10 , twisted-python-request at twistedmatrix.com wrote:
>Send Twisted-Python mailing list submissions to
>	twisted-python at twistedmatrix.com
>
>To subscribe or unsubscribe via the World Wide Web, visit
>	http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>or, via email, send a message with subject or body 'help' to
>	twisted-python-request at twistedmatrix.com
>
>You can reach the person managing the list at
>	twisted-python-admin at twistedmatrix.com
>
>When replying, please edit your Subject line so it is more specific
>than "Re: Contents of Twisted-Python digest..."
>
>
>Today's Topics:
>
>   1. Re: Odd behavior in IRC logbot (Itamar Shtull-Trauring)
>   2. Re: authentification from a database (Jp Calderone)
>   3. ANN: Twisted 1.1.0, the framework of *your* internet (Itamar Shtull-Trauring)
>   4. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Philippe =?ISO-8859-1?Q?Lafoucri=E8re?=)
>   5. Re: ANN: Twisted 1.1.0, the framework of *your* internet (soso)
>   6. Post data (Matteo Giacomazzi)
>   7. Re: Post data (Matteo Giacomazzi)
>   8. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (=?ISO-8859-1?Q?Martin_M=F6llenbeck?=)
>   9. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Abe Fettig)
>  10. Re: ANN: Twisted 1.1.0, the framework of *your* internet (darryl)
>  11. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Glyph Lefkowitz)
>  12. Re: ANN: Twisted 1.1.0, the framework of *your* internet (darryl)
>  13. Re: ANN: Twisted 1.1.0, the framework of *your* internet (Donovan Preston)
>  14. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Federico Di Gregorio)
>  15. Re: ANN: Twisted 1.1.0, the framework of *your*
>       internet (Yun Mao)
>
>--__--__--
>
>Message: 1
>Date: Mon, 27 Oct 2003 09:29:29 -0500
>From: Itamar Shtull-Trauring <itamar at itamarst.org>
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] Odd behavior in IRC logbot
>Organization: http://itamarst.org
>Reply-To: twisted-python at twistedmatrix.com
>
>On Mon, 27 Oct 2003 09:15:13 -0500
>"Phillip J. Eby" <pje at telecommunity.com> wrote:
>
>> Um, what logs?
>
>Hm. I suppose you ought to enable logging, yes. Do:
>
>from twisted.python import log
>log.startLogging(open("irc.log", "a"))
>
>somewhere in the file (e.g. in the __main__-only section).
>
>--
>Itamar Shtull-Trauring    http://itamarst.org/
>Available for Python & Twisted consulting
>
>
>--__--__--
>
>Message: 2
>Date: Mon, 27 Oct 2003 11:00:47 -0500
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] authentification from a database
>From: Jp Calderone <exarkun at intarweb.us>
>Reply-To: twisted-python at twistedmatrix.com
>
>
>--TB36FDmn/VVEgNH/
>Content-Type: text/plain; charset=us-ascii
>Content-Disposition: inline
>Content-Transfer-Encoding: quoted-printable
>
>On Mon, Oct 27, 2003 at 09:17:08AM -0500, vicky lupien wrote:
>> I have a program that needs authentification from a database.  For now,
>> it's working fine but I'm using
>> checkers.InMemoryUsernamePasswordDatabaseDontUse(test=3D"test") (I want
>> many users not only "test").  =20
>
>  Use a different checker, such as FilePasswordDB.
>
>  Jp
>
>--TB36FDmn/VVEgNH/
>Content-Type: application/pgp-signature; name="signature.asc"
>Content-Description: Digital signature
>Content-Disposition: inline
>
>-----BEGIN PGP SIGNATURE-----
>Version: GnuPG v1.2.3 (GNU/Linux)
>
>iD8DBQE/nUEvedcO2BJA+4YRAlRCAJ4kAeN49EFmgMbrW3Fd/MNujVKNrwCgstoT
>r3iPt2vNXMjG69p7v0pa/JU=
>=wuRK
>-----END PGP SIGNATURE-----
>
>--TB36FDmn/VVEgNH/--
>
>
>--__--__--
>
>Message: 3
>Date: Mon, 27 Oct 2003 12:13:44 -0500
>From: Itamar Shtull-Trauring <itamar at itamarst.org>
>To: twisted-python at twistedmatrix.com
>Organization: http://itamarst.org
>Subject: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>Reply-To: twisted-python at twistedmatrix.com
>
>What's New in 1.1.0
>===================
>
>- twisted.application, an updated deployment and configuration library.
>
>- Mac OS X GUI event loop integration (requires PyObjC).
>
>- New howtos, including a tutorial, and more web framework docs.
>
>- The documentation is now better organized, up-to-date with the latest
>APIs, and in some areas much more extensive.
>
>- Removed a number of broken, unmaintained and unused packages and
>modules.
>
>- Bug fixes and feature enhancements.
>
>
>--__--__--
>
>Message: 4
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
>	internet
>From: Philippe =?ISO-8859-1?Q?Lafoucri=E8re?= <lafou at wanadoo.fr>
>To: Twisted <twisted-python at twistedmatrix.com>
>Organization: InFuzzion
>Date: Mon, 27 Oct 2003 18:56:04 +0100
>Reply-To: twisted-python at twistedmatrix.com
>
>Great work guys ! twisted is the python/network killer app
>
>On Mon, 2003-10-27 at 18:13, Itamar Shtull-Trauring wrote:
>> What's New in 1.1.0
>> ===================
>>
>> - twisted.application, an updated deployment and configuration library.
>>
>> - Mac OS X GUI event loop integration (requires PyObjC).
>>
>> - New howtos, including a tutorial, and more web framework docs.
>>
>> - The documentation is now better organized, up-to-date with the latest
>> APIs, and in some areas much more extensive.
>>
>> - Removed a number of broken, unmaintained and unused packages and
>> modules.
>>
>> - Bug fixes and feature enhancements.
>>
>> _______________________________________________
>> Twisted-Python mailing list
>> Twisted-Python at twistedmatrix.com
>> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
>
>
>--__--__--
>
>Message: 5
>From: soso <duke99 at email.ro>
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>Date: Mon, 27 Oct 2003 20:57:21 +0200
>Reply-To: twisted-python at twistedmatrix.com
>
>Thanks for the great work!
>
>But I can't find the windows installer. Or there isn't a windows installer for 1.1?
>
>soso
>
>
>______________________________________________________________________
>Do you want a free e-mail for life ? Get it at http://www.email.ro/
>
>
>
>--__--__--
>
>Message: 6
>Date: Mon, 27 Oct 2003 20:36:21 +0100
>From: Matteo Giacomazzi <matteo.giacomazzi at libero.it>
>To: twisted-python at twistedmatrix.com
>Subject: [Twisted-Python] Post data
>Reply-To: twisted-python at twistedmatrix.com
>
>Hi all,
>
>  I need to query a remote HTTP server using POST method.
>  To achieve this, I use the t.w.c.getPage function.
>  In  order  to  post  some  data, I pass to that function the keyword
>  postdata  bound  to  an urllib.urlencode()-d dictionary but it seems
>  that such data is not sent at all.
>
>  What is wrong?
>  Here  is  a  minimal  example:  the url is a PHP scripts that simply
>  dumps  the  content  of  the  $_POST  variable,  but  it is an empty
>  array...
>
>  Any help would be greatly appreciated!
>
>#=============================================
>from twisted.web.client import getPage
>from twisted.internet import reactor
>import urllib
>
>def printData(data):
>    print data
>    reactor.stop()
>
>payload = urllib.urlencode({'test':'the test'})
>url = 'http://www.hotelsprovider.com/~matteo'
>d = getPage(url, postdata=payload, timeout=5)
>d.addCallback(printData)
>reactor.run()
>#=============================================
>
>  Many thanks in advance!
>
>
>Kind regards
> Matteo
>
>
>
>--__--__--
>
>Message: 7
>Date: Mon, 27 Oct 2003 20:47:13 +0100
>From: Matteo Giacomazzi <matteo.giacomazzi at libero.it>
>To: twisted-python at twistedmatrix.com
>Subject: [Twisted-Python] Re: Post data
>Reply-To: twisted-python at twistedmatrix.com
>
>UPDATE:  I  forgot  to  use  the  method='POST'  keyword param, but no
>results yet...
>
>#==========================================================
>from twisted.web.client import getPage
>from twisted.internet import reactor
>import urllib
>
>def printData(data):
>    print data
>    reactor.stop()
>
>payload = urllib.urlencode({'test':'the test'})
>url = 'http://www.hotelsprovider.com/~matteo'
>d = getPage(url, method='POST', postdata=payload, timeout=5)
>d.addCallback(printData)
>reactor.run()
>#==========================================================
>
>Many thanks in advance!
>
>
>Kind regards
> Matteo
>
>
>
>--__--__--
>
>Message: 8
>Date: Mon, 27 Oct 2003 21:28:17 +0100
>From: Martin.Moellenbeck at t-online.de (=?ISO-8859-1?Q?Martin_M=F6llenbeck?=)
>To:  twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
> internet
>Reply-To: twisted-python at twistedmatrix.com
>
>very cool framework and you all have made a very good work.
>
>regards Martin
>
>Itamar Shtull-Trauring wrote:
>
>>What's New in 1.1.0
>>===================
>>
>>- twisted.application, an updated deployment and configuration library.
>>
>>- Mac OS X GUI event loop integration (requires PyObjC).
>>
>>- New howtos, including a tutorial, and more web framework docs.
>>
>>- The documentation is now better organized, up-to-date with the latest
>>APIs, and in some areas much more extensive.
>>
>>- Removed a number of broken, unmaintained and unused packages and
>>modules.
>>
>>- Bug fixes and feature enhancements.
>>
>>_______________________________________________
>>Twisted-Python mailing list
>>Twisted-Python at twistedmatrix.com
>>http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>>
>>
>>
>
>
>
>
>--__--__--
>
>Message: 9
>Date: Mon, 27 Oct 2003 16:46:36 -0500
>From: Abe Fettig <abe at fettig.net>
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
> internet
>Reply-To: twisted-python at twistedmatrix.com
>
>Looks like a great release... and it even has updated woven docs!
>Thanks for all the work you guys have put into Twisted!
>
>Abe
>
>Itamar Shtull-Trauring wrote:
>> What's New in 1.1.0
>
>
>
>
>--__--__--
>
>Message: 10
>Date: Mon, 27 Oct 2003 16:08:30 -0600 (CST)
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>From: "darryl" <developer at csrules.dyndns.org>
>To: <twisted-python at twistedmatrix.com>
>Cc: <abe at fettig.net>
>Reply-To: twisted-python at twistedmatrix.com
>
>
>
>> Looks like a great release... and it even has updated woven docs!
>
>The question is, does anyone want to focus on learing woven with NEW wove=
>n
>in the works?
>
>-darryl
>
>
>
>
>--__--__--
>
>Message: 11
>Date: Mon, 27 Oct 2003 17:13:35 -0500
>From: Glyph Lefkowitz <glyph at twistedmatrix.com>
>To:  twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
> internet
>Reply-To: twisted-python at twistedmatrix.com
>
>darryl wrote:
>
>>>Looks like a great release... and it even has updated woven docs!
>
>> The question is, does anyone want to focus on learing woven with NEW woven
>> in the works?
>
>An unfortunate last-minute change of direction, but worth it considering
>how vastly improved the new code is.
>
>It's no longer a part of Twisted, however.  Check out Quotient CVS -
>www.divmod.org
>
>
>
>--__--__--
>
>Message: 12
>Date: Mon, 27 Oct 2003 16:23:26 -0600 (CST)
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>From: "darryl" <developer at csrules.dyndns.org>
>To: <twisted-python at twistedmatrix.com>
>Cc: <glyph at twistedmatrix.com>
>Reply-To: twisted-python at twistedmatrix.com
>
>
>>> The question is, does anyone want to focus on learing woven with NEW
>>> woven in the works?
>>
>> An unfortunate last-minute change of direction, but worth it considerin=
>g
>>  how vastly improved the new code is.
>>
>> It's no longer a part of Twisted, however.  Check out Quotient CVS -
>> www.divmod.org
>
>May i ask why it's not part of twisted?
>And if that's the case will Woven be maintained?
>
>-Darryl
>
>
>
>
>--__--__--
>
>Message: 13
>From: Donovan Preston <dp at twistedmatrix.com>
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your* internet
>Date: Mon, 27 Oct 2003 17:56:08 -0500
>To: twisted-python at twistedmatrix.com
>Reply-To: twisted-python at twistedmatrix.com
>
>
>On Oct 27, 2003, at 5:23 PM, darryl wrote:
>
>>
>>>> The question is, does anyone want to focus on learing woven with NEW
>>>> woven in the works?
>
>Woven is certainly very usable in it's current state -- if you want to
>do simple-to-moderate things quickly, it can be very useful. However,
>it's complexity made it difficult to do some of the more ambitious
>things we are trying to do, such as semi-transparent form handling, and
>serverToClient events. But there are a few people who have built (and
>deployed) fairly complex woven applications. The fact that nevow exists
>doesn't detract from that.
>
>nevow was originally a research project -- a weekend's worth of hacking
>whose benefits turned out to be so great that we decided to focus on
>bringing it up to a usable state for Quotient as soon as possible. And
>that's where it is now.
>
>Most of the woven concepts -- template and code abstraction using a
>DOM, reusable partial page renderers (Widgets in old woven, renderer
>callables in nevow), all of the concepts needed to know to use
>twisted.web -- carry over to nevow. The only thing that's really
>changed in nevow is a few names, and the code is VASTLY simplified,
>well tested, and thus far easier to understand, design semantics for,
>and change.
>
>>> An unfortunate last-minute change of direction, but worth it
>>> considering
>>>  how vastly improved the new code is.
>>>
>>> It's no longer a part of Twisted, however.  Check out Quotient CVS -
>>> www.divmod.org
>>
>> May i ask why it's not part of twisted?
>> And if that's the case will Woven be maintained?
>
>nevow will be moved into twisted after a period of
>stabilization/development in Quotient. Since twisted is a large project
>with many external developers using it, and quotient is a smaller
>project that is mostly a small core team of development, we felt it
>made sense to keep it out of twisted proper until the development had
>stabilized. Since nevow has the benefit of being a complete rewrite of
>all the *best* parts of woven, and none of the bad, stabilization has
>been remarkably quick. So expect to see nevow in twisted fairly soon.
>
>In the meantime, woven will continue to be maintained with bugfixes,
>and nevow is fully usable outside of quotient -- even to the point of
>being fully usable without twisted.web (as a cgi, or in zope or
>webware, for example). I should also mention that there will probably
>be a compatibility layer for nevow to render old-style Woven classes
>sometime in the future. It is amazingly simple to add rendering
>functionality to it since it uses components to render the dom (which
>is really just a list of any python objects)
>
>If you are doing any new development, I highly encourage you to take a
>look at nevow, if for no other reason than you can have a hand in
>shaping it's development. I would very much appreciate feedback about
>it, especially now, since the code is very, very short and readable.
>
>dp
>
>
>
>--__--__--
>
>Message: 14
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
>	internet
>From: Federico Di Gregorio <fog at initd.org>
>To: Twisted Mailing List <twisted-python at twistedmatrix.com>
>Organization: init.d
>Date: Tue, 28 Oct 2003 00:07:32 +0100
>Reply-To: twisted-python at twistedmatrix.com
>
>
>--=-DoAh4xSvNTURCciuKWCu
>Content-Type: text/plain
>Content-Transfer-Encoding: quoted-printable
>
>Il lun, 2003-10-27 alle 23:56, Donovan Preston ha scritto:
>> On Oct 27, 2003, at 5:23 PM, darryl wrote:
>>=20
>> >
>> >>> The question is, does anyone want to focus on learing woven with NEW
>> >>> woven in the works?
>>=20
>> Woven is certainly very usable in it's current state -- if you want to=20
>
>after using it in a real life project i disagree. woven has lots of
>problems that surface when you switch from "simple examples" to
>"moderate real-life use cases". i was about to write a lenghty mail
>about that shortcomings (like control not updating the model and needing
>a "name" attribute in the node even it they don't use it, etc.) but then
>two people told me about nevow in irc. looking at it right now.
>
>> nevow was originally a research project -- a weekend's worth of hacking=20
>> whose benefits turned out to be so great that we decided to focus on=20
>> bringing it up to a usable state for Quotient as soon as possible. And=20
>> that's where it is now.
>
>"we", "we". maybe i talked with you in irc.
>
>> Most of the woven concepts -- template and code abstraction using a=20
>> DOM, reusable partial page renderers (Widgets in old woven, renderer=20
>> callables in nevow), all of the concepts needed to know to use=20
>> twisted.web -- carry over to nevow. The only thing that's really=20
>> changed in nevow is a few names, and the code is VASTLY simplified,=20
>> well tested, and thus far easier to understand, design semantics for,=20
>> and change.
>
>KUDOS! :)
>
>--=20
>Federico Di Gregorio
>Debian GNU/Linux Developer                                fog at debian.org
>INIT.D Developer                                           fog at initd.org
>             Quis custodiet ipsos custodes? -- Juvenal, Satires, VI, 347
>
>--=-DoAh4xSvNTURCciuKWCu
>Content-Type: application/pgp-signature; name=signature.asc
>Content-Description: Questa parte del messaggio =?ISO-8859-1?Q?=E8?= firmata
>
>-----BEGIN PGP SIGNATURE-----
>Version: GnuPG v1.2.3 (GNU/Linux)
>
>iD8DBQA/naU0vcCgrgZGjesRAvqQAJ9dtVu4VpryFT1Lh0mnUaYnwE6uaACfQS26
>39BrxFusKQrgFo33vhA/ME0=
>=+JDU
>-----END PGP SIGNATURE-----
>
>--=-DoAh4xSvNTURCciuKWCu--
>
>
>
>--__--__--
>
>Message: 15
>Date: Mon, 27 Oct 2003 18:09:49 -0500 (EST)
>From: Yun Mao <maoy at cis.upenn.edu>
>To: twisted-python at twistedmatrix.com
>Subject: Re: [Twisted-Python] ANN: Twisted 1.1.0, the framework of *your*
> internet
>Reply-To: twisted-python at twistedmatrix.com
>
>I really like the tutorial. Great work!
>
>Yun
>
>
>On Mon, 27 Oct 2003, Itamar Shtull-Trauring wrote:
>
>> What's New in 1.1.0
>> ===================
>>
>> - twisted.application, an updated deployment and configuration library.
>>
>> - Mac OS X GUI event loop integration (requires PyObjC).
>>
>> - New howtos, including a tutorial, and more web framework docs.
>>
>> - The documentation is now better organized, up-to-date with the latest
>> APIs, and in some areas much more extensive.
>>
>> - Removed a number of broken, unmaintained and unused packages and
>> modules.
>>
>> - Bug fixes and feature enhancements.
>>
>> _______________________________________________
>> Twisted-Python mailing list
>> Twisted-Python at twistedmatrix.com
>> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>>
>
>
>
>
>--__--__--
>
>_______________________________________________
>Twisted-Python mailing list
>Twisted-Python at twistedmatrix.com
>http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
>
>End of Twisted-Python Digest
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20061031/b6581253/attachment.html>

From franz.zieher at gmail.com  Tue Oct 31 17:26:48 2006
From: franz.zieher at gmail.com (Franz Zieher)
Date: Wed, 1 Nov 2006 01:26:48 +0100
Subject: [Twisted-Python] Strange error when using strptime within a nevow
	application
Message-ID: <f15b981d0610311626m5f6836ccob3b8d082df5e3bab@mail.gmail.com>

I've experiencing a very strange error when using strptime for populating a
'formal' form.

If I run the code segment with strptime in ipython it can succesfully
transform
'12-10-06' with '%d-%m-%Y' into a time tuple!

With nevow I get the following exception:
----------------------------------------------------------

2006/11/01 01:18 W. Europe Standard Time [-] Log opened.
2006/11/01 01:18 W. Europe Standard Time [-] twistd
2.4.0(D:\Python24\python.exe
2.4.3) starting up
2006/11/01 01:18 W. Europe Standard Time [-] reactor class: <class '
twisted.internet.selectreactor.SelectReactor'>
2006/11/01 01:18 W. Europe Standard Time [-]
nevow.appserver.NevowSitestarting on 8000
2006/11/01 01:18 W. Europe Standard Time [-] Starting factory <
nevow.appserver.NevowSite instance at 0x02797A30>
2006/11/01 01:18 W. Europe Standard Time [HTTPChannel,0,127.0.0.1]
127.0.0.1- - [01/Nov/2006:00:18:24 +0000] "GET / HT
P/1.1" 200 7872 "-" "Mozilla/5.0 (Windows; U; Windows NT 5.1; de; rv:1.8.1)
Gecko/20061010 Firefox/2.0"
2006/11/01 01:18 W. Europe Standard Time [HTTPChannel,0,127.0.0.1]
(NAME,DIR):  ('newChild', None)
2006/11/01 01:18 W. Europe Standard Time [HTTPChannel,0,127.0.0.1]
IRemainingSegments: ('newChild',)
2006/11/01 01:18 W. Europe Standard Time [HTTPChannel,0,127.0.0.1] Unhandled
error in Deferred:
2006/11/01 01:18 W. Europe Standard Time [HTTPChannel,0,127.0.0.1] Traceback
(most recent call last):
          File "d:\python24\lib\site-packages\twisted\internet\defer.py",
line 307, in _runCallbacks
            self.result = callback(self.result, *args, **kw)
          File "build\bdist.win32\egg\formal\form.py", line 617, in
locateForm

          File "d:\python24\lib\site-packages\twisted\internet\defer.py",
line 191, in addCallback
            callbackKeywords=kw)
          File "d:\python24\lib\site-packages\twisted\internet\defer.py",
line 182, in addCallbacks
            self._runCallbacks()
        --- <exception caught here> ---
          File "d:\python24\lib\site-packages\twisted\internet\defer.py",
line 307, in _runCallbacks
            self.result = callback(self.result, *args, **kw)
          File "build\bdist.win32\egg\formal\form.py", line 617, in <lambda>

          File "build\bdist.win32\egg\formal\form.py", line 567, in
formFactory

          File "e:\data\iCAE\python\icaeForms.py", line 92, in form_instance
            eval('self.%s(form)' % tag)
          File "<string>", line 0, in ?

          File "e:\data\iCAE\python\icaeForms.py", line 128, in project
            print strptime('10-12-06','%d-%m-%Y')[0]
          File "D:\Python24\lib\_strptime.py", line 269, in ?
            _TimeRE_cache = TimeRE()
          File "D:\Python24\lib\_strptime.py", line 188, in __init__
            self.locale_time = LocaleTime()
          File "D:\Python24\lib\_strptime.py", line 74, in __init__
            self.__calc_weekday()
          File "D:\Python24\lib\_strptime.py", line 94, in __calc_weekday
            a_weekday = [calendar.day_abbr[i].lower() for i in range(7)]
        exceptions.AttributeError: 'module' object has no attribute
'day_abbr'

Any idea what that could be?

Thanks

Franz
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20061101/f677aaae/attachment.html>

From ron.arts at netland.nl  Tue Oct 31 17:26:44 2006
From: ron.arts at netland.nl (Ron Arts)
Date: Wed, 01 Nov 2006 01:26:44 +0100
Subject: [Twisted-Python] Wrapping my mind around Interfaces, adapters,
	factories, protocols
Message-ID: <4547E9C4.6040700@netland.nl>

Hi,

I am trying to accomplish the following:

- have a client connecting to a remote service
   and collecting information from it
- have a service that can be queried for the collected
   info

But I am getting totally confused with all the interface classes,
adapters, factories, protocols I should write according to the
finger tutorial.
I skimmed the mailinglist, but to no avail.

My app is laid out almost like the finger tutorial (I left out
the web, and PB parts for now), the biggest difference being that
the client data should be available to the service that is
being queried.

So I thought that instead of first create the finger service in
the makeService() method, I would first create a TCP client, and
pass that to a service to be created later.

something like:

def makeService(config):
     s = service.MultiService()

     m = MyClient()
     m.username = 'username'
     m.password = 'password'
     theserver = '192.168.1.2'
     b = internet.TCPClient(theserver, 6666, IMyClientFactory(m))
     b.setServiceParent(s)

     return s

But for this to work I have to create interfacethis, protocol that,
and use components.registerAdapter(), to do something I totally don't
understand what it does and why it needs to be done,
I have read the finger example many times, but I can't seem to wrap
my mind around these concepts, in the little time I have available.
Can anybody whip me up a supershort example in pseudo code of what I
need to do to make the above makeService work? And explain it a bit?

Many thanks,
Ron


-------------- next part --------------
A non-text attachment was scrubbed...
Name: ron.arts.vcf
Type: text/x-vcard
Size: 270 bytes
Desc: not available
URL: </pipermail/twisted-python/attachments/20061101/47ddcbb6/attachment-0002.vcf>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3403 bytes
Desc: S/MIME Cryptographic Signature
URL: </pipermail/twisted-python/attachments/20061101/47ddcbb6/attachment-0002.bin>

