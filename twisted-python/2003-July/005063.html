<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] How Twisted is This?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20How%20Twisted%20is%20This%3F&In-Reply-To=20030716160430.GB19921%40xdsk200">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005060.html">
   <LINK REL="Next"  HREF="005067.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] How Twisted is This?</H1>
    <B>Christopher Armstrong</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20How%20Twisted%20is%20This%3F&In-Reply-To=20030716160430.GB19921%40xdsk200"
       TITLE="[Twisted-Python] How Twisted is This?">radix at twistedmatrix.com
       </A><BR>
    <I>Wed Jul 16 12:38:51 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="005060.html">[Twisted-Python] How Twisted is This?
</A></li>
        <LI>Next message: <A HREF="005067.html">[Twisted-Python] How Twisted is This?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5063">[ date ]</a>
              <a href="thread.html#5063">[ thread ]</a>
              <a href="subject.html#5063">[ subject ]</a>
              <a href="author.html#5063">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Jul 16, 2003 at 12:04:30PM -0400, Brad Bollenbach wrote:
&gt;<i> On Wed, Jul 16, 2003 at 05:45:04PM +0200, Ivo van der Wijk wrote:
</I>
&gt;<i> &gt; Somewhat. You need to make very sure your system doesn't block
</I>&gt;<i> &gt; unexpectedly :)
</I>&gt;<i> 
</I>&gt;<i> I'm not sure how you (or Twisted) define &quot;unexpected&quot;, but I probably
</I>&gt;<i> want things to block when -- for example -- I try to retrieve a page
</I>&gt;<i> from a certain URL.
</I>
&quot;unexpectedly&quot; means &quot;at all&quot; :-)

Are you sure you _really_ mean this? Is there some user interface bit
that you're implying when you say you want it to block? Do you just
mean that you want to wait for some tasks to complete before you start
others? If so, then that's not blocking, and Twisted is still
appropriate.

&gt;<i> I certainly don't want to be writing state machines.
</I>
That's how Twisted works. But it's not annoying if you have a good
standard library of state machines already :-) For example,
twisted.web.client and/or twisted.web.monitor already exist, so all
you would have to do to implement the web checker (using t.w.client)
is this (I'm assuming you know the basics of Deferreds)::

from twisted.web import client
class WebChecker:
    def doIt(self, url):
        return client.getPage(url,
                   ).addCallback(self.gotPage, url
                   ).addErrback(self.reportError, url)

    def gotPage(self, page, url):
        print &quot;hooray, got page %s&quot; % url
        #self.checkForFoo(page, url), etc

    def reportError(self, failure, url):
        print &quot;:( There was a problem in %s&quot; % url
        print failure

To try out this code, do

from twisted.internet import reactor
WebChecker().doIt('<A HREF="http://twistedmatrix.com/'">http://twistedmatrix.com/'</A>
    ).addCallback(lambda *a: reactor.stop())
reactor.run()

-- 
 Twisted | Christopher Armstrong: International Man of Twistery
  Radix  |          Release Manager,  Twisted Project
---------+     <A HREF="http://twistedmatrix.com/users/radix.twistd/">http://twistedmatrix.com/users/radix.twistd/</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005060.html">[Twisted-Python] How Twisted is This?
</A></li>
	<LI>Next message: <A HREF="005067.html">[Twisted-Python] How Twisted is This?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5063">[ date ]</a>
              <a href="thread.html#5063">[ thread ]</a>
              <a href="subject.html#5063">[ subject ]</a>
              <a href="author.html#5063">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
