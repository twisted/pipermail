<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: My pet peeve ugly coding style
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20My%20pet%20peeve%20ugly%20coding%20style&In-Reply-To=20030710191759.GA18878%40lapdog">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004978.html">
   <LINK REL="Next"  HREF="004938.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: My pet peeve ugly coding style</H1>
    <B>Fran&#231;ois Pinard</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20My%20pet%20peeve%20ugly%20coding%20style&In-Reply-To=20030710191759.GA18878%40lapdog"
       TITLE="[Twisted-Python] Re: My pet peeve ugly coding style">pinard at iro.umontreal.ca
       </A><BR>
    <I>Thu Jul 10 18:00:40 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="004978.html">[Twisted-Python] My pet peeve ugly coding style
</A></li>
        <LI>Next message: <A HREF="004938.html">[Twisted-Python] a patch to add an option to twistd to run without signal handlers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4970">[ date ]</a>
              <a href="thread.html#4970">[ thread ]</a>
              <a href="subject.html#4970">[ subject ]</a>
              <a href="author.html#4970">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>[Tommi Virtanen]

&gt;<i> On Thu, Jul 10, 2003 at 03:33:26PM -0000, Moshe Zadka wrote:
</I>&gt;<i> &gt; &gt; &gt; checkHosts(('moshez.org', 25), ('moshez.org', 22)
</I>&gt;<i> &gt; &gt; &gt; ).addCallback(util.println
</I>&gt;<i> &gt; &gt; &gt; ).addCallback(lambda _: reactor.stop())
</I>
&gt;<i> 	Yes, it's legal. It's still ugly.
</I>
&gt;<i> 	return foo(      v
</I>&gt;<i> 	).addCallback(bar
</I>&gt;<i> 	).addCallback(baz
</I>&gt;<i> 	).addCallback(quux
</I>&gt;<i> 	).addCallback(thud
</I>&gt;<i> 	).addCallback(xyzzy)
</I>
For the above, I would most probably use:

 	return (foo()
                .addCallback(bar)
 	        .addCallback(baz)
 	        .addCallback(quux)
 	        .addCallback(thud)
 	        .addCallback(xyzzy))

The Python mode (for Emacs) agrees with this indentation, given the
surrounding pair of parentheses exists, and this is why I type them.  This
mode (through those having written it: so far that I know, Tim Peters and
Barry Warsaw) is usually a good advisor about correct indentation.

About using dot at the beginning of the line instead of the end, it looks
strange when you are not used to it, but if follows the general principle of
GNU programming standards for C, which is worth for Python as well, that a
continued expression is more legible when the operator is at the start of
the continuation line instead of at the end of the continued one.  I follow
this convention quite systematically, and indeed, the code is more legible.

-- 
Fran&#231;ois Pinard   <A HREF="http://www.iro.umontreal.ca/~pinard">http://www.iro.umontreal.ca/~pinard</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004978.html">[Twisted-Python] My pet peeve ugly coding style
</A></li>
	<LI>Next message: <A HREF="004938.html">[Twisted-Python] a patch to add an option to twistd to run without signal handlers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4970">[ date ]</a>
              <a href="thread.html#4970">[ thread ]</a>
              <a href="subject.html#4970">[ subject ]</a>
              <a href="author.html#4970">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
