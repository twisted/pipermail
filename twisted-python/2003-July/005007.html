<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Woven: access to submodels
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Woven%3A%20access%20to%20submodels&In-Reply-To=20030713043613.8689.qmail%40green.zadka.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005004.html">
   <LINK REL="Next"  HREF="005008.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Woven: access to submodels</H1>
    <B>Mary</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Woven%3A%20access%20to%20submodels&In-Reply-To=20030713043613.8689.qmail%40green.zadka.com"
       TITLE="[Twisted-Python] Woven: access to submodels">mary-twisted at puzzling.org
       </A><BR>
    <I>Sun Jul 13 05:12:42 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="005004.html">[Twisted-Python] Woven: access to submodels
</A></li>
        <LI>Next message: <A HREF="005008.html">[Twisted-Python] Woven: access to submodels
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5007">[ date ]</a>
              <a href="thread.html#5007">[ thread ]</a>
              <a href="subject.html#5007">[ subject ]</a>
              <a href="author.html#5007">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, Jul 13, 2003, Moshe Zadka wrote:
&gt;<i> On Sun, 13 Jul 2003, Mary &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">mary-twisted at puzzling.org</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt;     def getDynamicChild(self, name, request):
</I>&gt;<i> &gt;         return IndividualPage(amodel=self.getSubmodel('authors')[name]))
</I>&gt;<i> 
</I>&gt;<i> Rar! You are very evil.
</I>&gt;<i> Please do not reinvent SQL in Python: write *another* select query, that
</I>&gt;<i> only selects posts from this author.
</I>
I have to anyway... the SELECT query you saw doesn't extract any posts
at all, it extracts the names of authors (posts.names -- plus a little
extraneous information) who have made posts.

So I take it that in this design the arguments to __init__/initialize of
child IndividualPage would be just the name of the author?

This leaves a few questions still:

 1. Pure design issue: There still needs to be a query along the lines
 of &quot;does this author in fact exist?&quot; so that /author/Mary/ generates a
 list of my articles and /author/Humphrey/ generates an error page. This
 was the query I was trying to avoid by passing the submodel around --
 the &quot;get me all posts by Mary&quot; query was always going to be part of
 IndividualPage.

 At present, my model does not have the IndividualPage make a query to
 this effect, it relies on its parent AuthorsPage to have accessed a
 list of all authors in the system (actually, the SELECT query given
 ignores authors who have made no posts, a deliberate choice).

 Should I have IndividualPage access this information itself? If not, I
 still continue to rely on the information presently accesible to
 AuthorsPage -- how should I make this information available to
 IndividualPage? (related to point 3). If I don't use the authors model,
 then I have to make an essentially identical query anyway. There's a
 few options about where I make the query, how many times I make it, and
 where I should store the results. And of course, where (and how) I pass
 a Deferred around.

 2. More generally, since I'm unfamiliar with the design pattern(s)
 associated with Woven, what level of information sharing in this sense
 is acceptable between parents and children? (Pointers to other sources
 of information would be welcome, since this question is pretty open
 ended)?

 3. (Generalisation of point 1.) To whatever extent it is even
 acceptable to share query results of some kind between parents and
 children (perhaps in the form of Models), what functions do I call in
 Woven to share the information? Should an object ever access its own
 sub-models?

-Mary


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005004.html">[Twisted-Python] Woven: access to submodels
</A></li>
	<LI>Next message: <A HREF="005008.html">[Twisted-Python] Woven: access to submodels
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5007">[ date ]</a>
              <a href="thread.html#5007">[ thread ]</a>
              <a href="subject.html#5007">[ subject ]</a>
              <a href="author.html#5007">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
