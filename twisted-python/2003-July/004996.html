<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] One big smile ...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20One%20big%20smile%20...&In-Reply-To=005701c34810%2468f725d0%240401a8c0%40razor">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004989.html">
   <LINK REL="Next"  HREF="004997.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] One big smile ...</H1>
    <B>Abe Fettig</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20One%20big%20smile%20...&In-Reply-To=005701c34810%2468f725d0%240401a8c0%40razor"
       TITLE="[Twisted-Python] One big smile ...">abe at fettig.net
       </A><BR>
    <I>Sat Jul 12 11:53:08 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="004989.html">[Twisted-Python] One big smile ...
</A></li>
        <LI>Next message: <A HREF="004997.html">[Twisted-Python] One big smile ...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4996">[ date ]</a>
              <a href="thread.html#4996">[ thread ]</a>
              <a href="subject.html#4996">[ subject ]</a>
              <a href="author.html#4996">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, 2003-07-11 at 20:56, Thomas Weholt wrote:
&gt;<i> I got a list of RSS/RDF-urls and I iterate thru them in sequence, feeding
</I>&gt;<i> each one to Mark Pilgrims Ultra Liberal Parser. The call to that
</I>&gt;<i> parse-method is actually what's being using in deferToThread. The I add a
</I>&gt;<i> callback-method which processes the result of the RSS/RDF-parsing. It's a
</I>&gt;<i> plain dictionary. This dictionary is processed into a simpler list. That's
</I>&gt;<i> it.
</I>&gt;<i> 
</I>&gt;<i> Alot of the things I'll be doing is like this; fetch a file from the net (
</I>&gt;<i> here the parser fetches it itself ), process the data returned from that
</I>&gt;<i> call and update some object or stuff the result into a database.
</I>
While Mark's feedparser does include it's own code for downloading the
feed over HTTP, it doesn't make sense to use it in a Twisted app.  You
should let Twisted download the rss file, thus avoiding the need to run
feedparser in a seperate thread.  It's easy enough to use the feedparser
parsing code on it's own once you've downloaded the file - that's what I
do in Hep.

I've attached two examples.  The first downloads my RSS feed using
Twisted, parses it with feedparser, and prints the results.  As you can
see, it's only a few lines of code.  The second example does the same
thing, but runs the parsing code in a seperate thread, so that you avoid
blocking even for the small amount of time feedparser takes to parse the
RSS (whether it actually makes sense to do this depends on the needs of
your application).

Abe
-------------- next part --------------
A non-text attachment was scrubbed...
Name: rss_demo.py
Type: text/x-python
Size: 407 bytes
Desc: not available
Url : <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20030712/25e187c9/attachment.py">http://twistedmatrix.com/pipermail/twisted-python/attachments/20030712/25e187c9/attachment.py</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: rss_demo2.py
Type: text/x-python
Size: 701 bytes
Desc: not available
Url : <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20030712/25e187c9/attachment-0001.py">http://twistedmatrix.com/pipermail/twisted-python/attachments/20030712/25e187c9/attachment-0001.py</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004989.html">[Twisted-Python] One big smile ...
</A></li>
	<LI>Next message: <A HREF="004997.html">[Twisted-Python] One big smile ...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4996">[ date ]</a>
              <a href="thread.html#4996">[ thread ]</a>
              <a href="subject.html#4996">[ subject ]</a>
              <a href="author.html#4996">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
