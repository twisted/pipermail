<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: IMAP fixes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20IMAP%20fixes&In-Reply-To=200307022114.h62LEMw2001260%40fido.strakt.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005128.html">
   <LINK REL="Next"  HREF="004853.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: IMAP fixes</H1>
    <B>Jp Calderone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20IMAP%20fixes&In-Reply-To=200307022114.h62LEMw2001260%40fido.strakt.com"
       TITLE="[Twisted-Python] Re: IMAP fixes">exarkun at intarweb.us
       </A><BR>
    <I>Thu Jul  3 05:11:22 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="005128.html">[Twisted-Python] Twisted Bug Tracking
</A></li>
        <LI>Next message: <A HREF="004853.html">[Twisted-Python] Re: IMAP fixes 
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4852">[ date ]</a>
              <a href="thread.html#4852">[ thread ]</a>
              <a href="subject.html#4852">[ subject ]</a>
              <a href="author.html#4852">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Jul 02, 2003 at 11:14:22PM +0200, Anders Hammarquist wrote:
&gt;<i> Hi!
</I>&gt;<i> 
</I>&gt;<i> Here are the changes for handling literals I talked about earlier.
</I>&gt;<i> So far I've only looked at the server part, but it seems to work
</I>&gt;<i> nicely. There's still work to do on improving the argument parser
</I>&gt;<i> functions, as some arguments can probably be parsed into a nicer
</I>&gt;<i> format than used now.
</I>
  Great stuff, I really really like your solution to the parsing problem. 
The patch is now applied, with a couple changes:

  * MessageSet.__iadd__ was renamed to MessageSet.extend.  __iadd__ gives me
nightmares.

  * I re-arranged the MessageSet.last property code in a trivial manner to
keep the class namespace cleaner.  As a result, _getLast and _setLast are no
longer available explicitly, only implicitly through reads and writes of the
property.

  I am unsure about the usefulness of the LiteralString class in its current
state.  It seems to open up the possiblity of an unbounded memory usage
attack against the server.  I'm considering either removing it and using
LiteralFile in its place, or adding a limit to the size of string it will
accept (something on the order of a kilobyte or two, though I will check
exactly what might get passed to it by a benign client before picking a
default limit).  Do you have any particular reason to want to keep it, or to
keep it unlimited?

  I suppose I will be thinking about how to apply a similar change to the
client code, where it will have (at least to me ;) a much more noticable
affect on performance.  It seems a little tougher, but maybe a mapping of
responses to parsers would do the job...  Any ideas in this area would be
welcome :)

  Thanks again for this contribution,

  Jp
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20030703/be7ed160/attachment.pgp">http://twistedmatrix.com/pipermail/twisted-python/attachments/20030703/be7ed160/attachment.pgp</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005128.html">[Twisted-Python] Twisted Bug Tracking
</A></li>
	<LI>Next message: <A HREF="004853.html">[Twisted-Python] Re: IMAP fixes 
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4852">[ date ]</a>
              <a href="thread.html#4852">[ thread ]</a>
              <a href="subject.html#4852">[ subject ]</a>
              <a href="author.html#4852">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
