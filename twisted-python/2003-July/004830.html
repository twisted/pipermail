<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] ldaptor feedback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20ldaptor%20feedback&In-Reply-To=20030702063520.GA24397%40lapdog">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004829.html">
   <LINK REL="Next"  HREF="004834.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] ldaptor feedback</H1>
    <B>Clark C. Evans</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20ldaptor%20feedback&In-Reply-To=20030702063520.GA24397%40lapdog"
       TITLE="[Twisted-Python] ldaptor feedback">cce at clarkevans.com
       </A><BR>
    <I>Wed Jul  2 04:07:48 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="004829.html">[Twisted-Python] ldaptor feedback
</A></li>
        <LI>Next message: <A HREF="004834.html">[Twisted-Python] ldaptor feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4830">[ date ]</a>
              <a href="thread.html#4830">[ thread ]</a>
              <a href="subject.html#4830">[ subject ]</a>
              <a href="author.html#4830">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Tommi.   Thank you for taking time to respond.

On Wed, Jul 02, 2003 at 09:35:20AM +0300, Tommi Virtanen wrote:
|<i> 	LDAP is not really used commonly enough to bloat the twisted
</I>|<i> 	core with it. (Quick! Name three end user applications using
</I>|<i> 	LDAP!)
</I>
I think LDAP is pretty cornerstone to any internet application
where 'single sign on' and other directory information is 
required.   If it was available, I even picture game servers
or muds using it... 

|<i> &gt;     Long term I'd like to see Glyph form some sort of non-profit to 
</I>|<i> &gt;     hold the copyrights, or at the very least present a 'will' of 
</I>|<i> &gt;     sorts describing what happens to the copyrights in the event 
</I>|<i> &gt;     that he is incapacitated or gets hit by a MAC truck.    For 
</I>|<i> &gt;     now, I'm not too worried about this.
</I>|<i> 
</I>|<i> 	I think we as the community don't need anything better than
</I>|<i> 	LGPL.
</I>
Although the legal environment for open source moves quite slowly,
it is certainly not static; thus changes may be required down the
road (think 5-15 years) and furthermore, to enforce the license you
have to have an coordinated entity to do this.   If the code comes
from a hodge-podge of developers, most of whom can't be contacted,
it makes enforcement impossible.

Another problem that is on the horizion is is alot of FUD and
uncertainty by corporations in using open source beacuse it is
hard to track down who owned what modules, etc.   Unless we do
this in an organized manner, it doesn't matter what license
we put at the top of the file; wide spread adoption will be
hindered.  Alas, this is probably the wrong list for this sort
of discussion; perhaps we need a twisted-legal (for licensing, 
and other legal stuff)

|<i> &gt; 2.  Your package hierarchy needs help... lots of help.
</I>|<i> 
</I>|<i> 	Agreed.
</I>
Cool.

|<i> 	The current situation looks more like
</I>|<i> 
</I>|<i> 	from ldaptor.protocol.ldap import ldapsyntax
</I>|<i> 
</I>|<i> 	o = ldapsyntax.LDAPObject(..)
</I>
Ok.   

|<i> &gt;     First, ldaptor has one protocol... ldap.  So &quot;protocols.ldap&quot; is
</I>|<i> &gt;     quite redundant.
</I>|<i> 
</I>|<i> 	There's likely to be LDAPv4. LDAP protocol versions aren't really
</I>|<i> 	compatible.
</I>
All the more reason to not prefix in class names. ;)

   from ldaptor import ldap3 as ldap
   ent = ldap.client(...)

   // 3 years from now

   from ldaptor import ldap4 as ldap
   ent = ldap.client(...)


And hopefully the interface can be the same, if not, it will
raise an error.   (ie, there may be xtra constructor arguments 
available in ldap4.Entry

|<i> 	What's really making you grit your teeth is that the mechanism
</I>|<i> 	an LDAP client uses to open a connection to an LDAP server should
</I>|<i> 	be in ldaptor.client; and it will be, once I have a clear idea
</I>|<i> 	what the API should look like.
</I>
Yes!  And sorry that the griding teeth is so visible.  ;)

|<i> 	from ldaptor import client
</I>|<i> 
</I>|<i> 	d=client.openDN('dc=example,dc=com')
</I>|<i> 	d.addCallback(lambda o: o.search('cn=foo'))
</I>
Nice.  

|<i> 	Yes, the word syntax is bad. It dates back to the time I tried to
</I>|<i> 	make the data in LDAP be manipulatable as Python objects, from the
</I>|<i> 	days before Twisted.
</I>|<i> 
</I>|<i> 	I refuse to name a class &quot;Object&quot;. I refuse to name a class
</I>|<i> 	&quot;Proxy&quot;.
</I>
After reading the RFC, it seems that &quot;entry&quot; is most often used
to mean an object in the LDAP database.  

|<i> &gt;     The 'low-level' pureber and pureldap are really not protocol
</I>|<i> &gt;     items so much as they are parsers/emitters.  You could stuff
</I>|<i> &gt;     these, as well as the filter, ldif, and schema all into 
</I>|<i> &gt;     another part of ldaptor, ldaptor.parse.ldif, etc.
</I>|<i> 
</I>|<i> 	There are two things in a protocol:
</I>|<i> 
</I>|<i> 	1. the wire representation of things
</I>|<i> 		ldaptor.protocols.pureber
</I>|<i> 		ldaptor.protocols.pureldap
</I>|<i> 
</I>|<i> 	2. the state machine
</I>|<i> 		ldaptor.protocols.ldap.ldapclient
</I>|<i> 		ldaptor.protocols.ldap.ldapsyntax
</I>|<i> 
</I>|<i> 	The wire representation of the LDAP messages is never
</I>|<i> 	written to a file, so there's no use for it outside of
</I>|<i> 	the protocol scope.
</I>
Right.   And I'd just like to see the opposite:

        1.  state machine

             ldaptor.protocols.ldap3.client
             ldaptor.protocols.ldap3.server
      
        2. wire format

             ldaptor.protocols.ldap3.wire.ber
             ldaptor.protocols.ldap3.wire.request

|<i> 	Filter and ldif need to move some day. They started life
</I>|<i> 	as residing inside the neighbouring .py files, and were
</I>|<i> 	split out when they grew too big; moving them should be
</I>|<i> 	reasonably trivial.
</I>
Ok.

|<i> &gt; Anyway, I'm curious how open you are to these items.   Adding this to
</I>|<i> &gt; Twisted (with alot of work) is probably a good bargin; you get more
</I>|<i> &gt; eyes helping your project along, documentation, etc.  
</I>|<i> 
</I>|<i> 	I have long hoped for some other developers to share the work.
</I>
I'm a painful one.  ;)

|<i> 	But no, I will not donate &gt;10000 lines of my work to glyph.
</I>|<i> 	I'm too much a free software bigot; I want to force him to
</I>|<i> 	the rules of LGPL. Just like everyone else. In fact, that's
</I>|<i> 	why I still consider him to have a partial copyright on Ldaptor,
</I>|<i> 	even though he wrote none of it; that makes _me_ faithful to
</I>|<i> 	the LGPL, too. And that's a good thing.
</I>
I will let Glyph respond to this when he has time.  I do think that
there is quite a deep mis-understanding here, hopefully this will
resolve it self shortly.  

|<i> 	Oh, by the way, you are horribly naive for thinking that
</I>|<i> 	merely having the code located in the Twisted CVS makes
</I>|<i> 	everyone else maintain it. That just isn't the way things
</I>|<i> 	have happened. LDAP is not a core protocol for most people.
</I>
Well.  Since flow has been added (to the sandbox), I've received 
over 10 patches, several of them non-trivial and even two that 
extended functionality. I never expected this, but it happened.  
A few patches were even done without asking me (thank god) beacuse
they were so clearly wrong.    This is really the beauty of open
source software; the community does really take ownership of the
code.   I'm not saying that there isn't a primary 'author', but
I am saying that maintanence does get distributed.

Also, I think that you are completely wrong about LDAP not
being core.  It is just a matter of time.   LDAP is barely
6 years old now...  it takes at least 5 years for broad 
adoption... more like 10.   LDAP has a long way to go, and
something like ldaptor in twisted could make it go much
further.   Further, having ldap in twisted will allow other
packages to tightly integrate with ldap (for instance, the
imap server via cred), etc.

Best,

Clark


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004829.html">[Twisted-Python] ldaptor feedback
</A></li>
	<LI>Next message: <A HREF="004834.html">[Twisted-Python] ldaptor feedback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4830">[ date ]</a>
              <a href="thread.html#4830">[ thread ]</a>
              <a href="subject.html#4830">[ subject ]</a>
              <a href="author.html#4830">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
