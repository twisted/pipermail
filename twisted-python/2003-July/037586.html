<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] with a subject this time - Woven LivePage beginners trouble
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20with%20a%20subject%20this%20time%20-%20Woven%20LivePage%20beginners%20trouble&In-Reply-To=%3CMIEKLAIKJGMEAEJNJKJAGEPPCAAA.tim.andrews%40adpro.com.au%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="037585.html">
   <LINK REL="Next"  HREF="037587.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] with a subject this time - Woven LivePage beginners trouble</H1>
    <B>Tim Andrews</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20with%20a%20subject%20this%20time%20-%20Woven%20LivePage%20beginners%20trouble&In-Reply-To=%3CMIEKLAIKJGMEAEJNJKJAGEPPCAAA.tim.andrews%40adpro.com.au%3E"
       TITLE="[Twisted-Python] with a subject this time - Woven LivePage beginners trouble">tim.andrews at adpro.com.au
       </A><BR>
    <I>Wed Jul 16 18:44:10 MDT 2003</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="037585.html">[Twisted-Python] (no subject)
</A></li>
        <LI>Next message (by thread): <A HREF="037587.html">[Twisted-Python] with a subject this time - Woven LivePage beginners trouble
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37586">[ date ]</a>
              <a href="thread.html#37586">[ thread ]</a>
              <a href="subject.html#37586">[ subject ]</a>
              <a href="author.html#37586">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi twisted,

I've just started playing with twisted and am keen to get something
happening with  LivePage. I can serve pages quite happily from an .rpy and
have tried to follow the examples from the manual to get event handlers and
LivePage happening.  When my page is generated &quot;MyController.handle&quot; gets
called, but &quot;MyController.setUp&quot; never gets called.  If I add an &quot;__init__&quot;
method it gets called, but when I try to call &quot;self.view.addEventHandler&quot; it
complains that self.view is a NoneType.

I have also tried subclassing input.Anything, but suffer from a similar
problem in that my &quot;initialize&quot; method never gets called or if I call
&quot;input.Anything.__init__&quot; then I still have a problem with
&quot;self.view.addEventHandler&quot;

FYI I'm running twisted 1.06 on Python 2.2 on a Windows 2000 box

My code for your perusal ...

from twisted.web.woven import page, controller

model = {
    'name': 'fred',
    'stuff': ['Foo', 'Bar', 'Baz']
}

template = &quot;&quot;&quot;
  &lt;html&gt;
  &lt;body&gt;
  &lt;h3 model=&quot;name&quot; view=&quot;Text&quot;  controller = &quot;foo&quot;/&gt;
  &lt;div model=&quot;stuff&quot; view=&quot;List&quot;&gt;
  &lt;li pattern=&quot;listItem&quot; view=&quot;Text&quot;/&gt;
  &lt;/div&gt;
  &lt;span view=&quot;webConduitGlue&quot; /&gt;
  &lt;/body&gt;
  &lt;/html&gt;
&quot;&quot;&quot;

class MyController(controller.Controller):

#  def __init__(self, *args, **kwargs):
#    controller.Controller.__init__(self, args, kwargs)
#    self.view.addEventHandler(&quot;onmouseover&quot;, self.mouse) # self.view =
NoneType :(

  def setUp(self, request, *args):
    print &quot;setUp&quot; # this never happens :(

  def handle(self, request):
    print 'handle' # this happens :)

  def mouse(self, request, widget):
    print 'Mouse Over!!!'


class MyPage(page.LivePage):

  def wcfactory_foo(self, request, node, model):
    print 'foo factory' # this happens :)
    return MyController(model)


resource = MyPage(model, template=template)


Thanks,

Tim

PS sorry about the finger trouble
----------------------------------------
Tim Andrews
Principal Hardware Engineer

Vision Fire and Security
14 Park Way, Technology Park
Mawson Lakes, S.A. 5095

ph: +61-8-84621201
fax: +61-8-84621001
email: <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Tim.Andrews at adpro.com.au</A>
web site: www.adpro.com.au

----------------------------------------
IMPORTANT ? This email and any attachments may be confidential. Any
retransmissions, dissemination or other use of these materials by persons
or entities other than the intended recipient is prohibited. If received in
error, please contact us and delete all copies. Before opening or using
attachments, check them for viruses and defects. Our liability is limited
to resupplying any affected attachments. [Any representations or opinions
expressed in this e.mail are those of the individual sender, and not
necessarily those of Vision Systems Limited].
--------------------------------------------



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="037585.html">[Twisted-Python] (no subject)
</A></li>
	<LI>Next message (by thread): <A HREF="037587.html">[Twisted-Python] with a subject this time - Woven LivePage beginners trouble
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37586">[ date ]</a>
              <a href="thread.html#37586">[ thread ]</a>
              <a href="subject.html#37586">[ subject ]</a>
              <a href="author.html#37586">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
