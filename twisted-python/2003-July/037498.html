<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Lazily adding Identities in new cred
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Lazily%20adding%20Identities%20in%20new%20cred&In-Reply-To=%3C3F0F89E8.3040001%40ripton.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="037495.html">
   <LINK REL="Next"  HREF="037499.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Lazily adding Identities in new cred</H1>
    <B>David Ripton</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Lazily%20adding%20Identities%20in%20new%20cred&In-Reply-To=%3C3F0F89E8.3040001%40ripton.net%3E"
       TITLE="[Twisted-Python] Lazily adding Identities in new cred">dripton at ripton.net
       </A><BR>
    <I>Fri Jul 11 22:09:12 MDT 2003</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="037495.html">[Twisted-Python] One big smile ...
</A></li>
        <LI>Next message (by thread): <A HREF="037499.html">[Twisted-Python] Lazily adding Identities in new cred
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37498">[ date ]</a>
              <a href="thread.html#37498">[ thread ]</a>
              <a href="subject.html#37498">[ subject ]</a>
              <a href="author.html#37498">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm working on a turn-based game, with a server and N untrusted clients, 
using PB.

So far I just have a few hardcoded test users and passwords.  Now I'd 
like to add lazy user registration.  If a username is already known, 
then you need the password to log in.  If it's not known, you can claim 
that username by attempting to login, and your password should be 
immediately set to whatever you just used.

(I'm not saying this is the generally ideal way to add new users and 
assign their passwords, but it should definitely be doable in any 
reasonably flexible authentication framework.)

It appears that cred was not really designed to support this, because 
the password that the user entered is not passed to 
Authorizer.getIdentityRequest, which seems like the obvious place to 
lazily add an Identity.

Getting it there by patching Twisted would be easy enough: pass it from 
pb.authIdentity through AuthServ.remote_username into the call to 
getIdentityRequest.  The callers would always need to pass the password, 
but only a small percentage of Authorizers would actually use it, so 
this doesn't seem perfectly clean.  But I don't see a better alternative.

Suggestions?

-- 
David Ripton    <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">dripton at ripton.net</A>



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="037495.html">[Twisted-Python] One big smile ...
</A></li>
	<LI>Next message (by thread): <A HREF="037499.html">[Twisted-Python] Lazily adding Identities in new cred
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37498">[ date ]</a>
              <a href="thread.html#37498">[ thread ]</a>
              <a href="subject.html#37498">[ subject ]</a>
              <a href="author.html#37498">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
