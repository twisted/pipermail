<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: IMAP fixes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Re%3A%20IMAP%20fixes&In-Reply-To=%3C1ED4ECF91CDED24C8D012BCF2B034F130212AADD%40its-xchg4.massey.ac.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="037416.html">
   <LINK REL="Next"  HREF="037434.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: IMAP fixes</H1>
    <B>Tony Meyer</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Re%3A%20IMAP%20fixes&In-Reply-To=%3C1ED4ECF91CDED24C8D012BCF2B034F130212AADD%40its-xchg4.massey.ac.nz%3E"
       TITLE="[Twisted-Python] Re: IMAP fixes">ta-meyer at ihug.co.nz
       </A><BR>
    <I>Tue Jul  8 22:47:57 MDT 2003</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="037416.html">[Twisted-Python] Re: IMAP fixes
</A></li>
        <LI>Next message (by thread): <A HREF="037434.html">[Twisted-Python] Re: IMAP fixes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37430">[ date ]</a>
              <a href="thread.html#37430">[ thread ]</a>
              <a href="subject.html#37430">[ subject ]</a>
              <a href="author.html#37430">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>[Tony]
&gt;<i> &gt; For example, this command:
</I>&gt;<i>     0003 FETCH 1 BODY.PEEK[HEADER.FIELDS (References X-Ref)] UID
</I>[Jp]
&gt;<i> Ideally, I'd like to see this parsed into a structure 
</I>&gt;<i> resembling this:
</I>&gt;<i> 
</I>&gt;<i>     [Header(peek=1, name=1, value=1, ['References', 'X-Ref']), UID()]
</I>&gt;<i> 
</I>&gt;<i> Would you be interested in patching the fetch methods to 
</I>&gt;<i> generate a structure like the one I described above?
</I>
This command now becomes:
    [&quot;BODY(PEEK=1, HEADER=1, FIELDS=1, fielditems=['References', 'X-Ref'])&quot;,
'UID()']

Is this suitable?  I presume(d) from the structure that you suggested that
one way of handling this would be to then exec each element (having a
BODY(), UID function, and so on).

If there are problems with this, I'm happy to make changes.  I wrote it
against the RFC, so there may be things that need to be changed if there are
clients that do things illegally that are meant to be supported.  It also
_only_ supports rfc2060, not any extra additions, although if they are
simple ones or macros then it would be easy to simply append them to the
appropriate list.

Anyway, here it is, let me know what you think.

=Tony Meyer
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: fetch_att.py
URL: &lt;/pipermail/twisted-python/attachments/20030709/4fea0991/attachment.ksh&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="037416.html">[Twisted-Python] Re: IMAP fixes
</A></li>
	<LI>Next message (by thread): <A HREF="037434.html">[Twisted-Python] Re: IMAP fixes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37430">[ date ]</a>
              <a href="thread.html#37430">[ thread ]</a>
              <a href="subject.html#37430">[ subject ]</a>
              <a href="author.html#37430">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
