<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] questions about Twisted mail
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20questions%20about%20Twisted%20mail&In-Reply-To=20030729062302.GB11245%40lapdog">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005243.html">
   <LINK REL="Next"  HREF="005250.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] questions about Twisted mail</H1>
    <B>Matthew Scott</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20questions%20about%20Twisted%20mail&In-Reply-To=20030729062302.GB11245%40lapdog"
       TITLE="[Twisted-Python] questions about Twisted mail">twisted at goldenspud.com
       </A><BR>
    <I>Tue Jul 29 11:27:52 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="005243.html">[Twisted-Python] questions about Twisted mail
</A></li>
        <LI>Next message: <A HREF="005250.html">[Twisted-Python] questions about Twisted mail
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5248">[ date ]</a>
              <a href="thread.html#5248">[ thread ]</a>
              <a href="subject.html#5248">[ subject ]</a>
              <a href="author.html#5248">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue 2003-07-29 01:23, Tommi Virtanen wrote:
&gt;<i> &gt; POP3 access to account: PASS
</I>&gt;<i> &gt; SMTP Mail from outside domain to outside domain: FAIL
</I>&gt;<i> 	Huh? This means people cannot use vanity domains. That's
</I>&gt;<i> 	generally not what you want.
</I>&gt;<i>       [ ... ]
</I>&gt;<i> 	If what you want is relay control, the traditional (and good!)
</I>&gt;<i> 	mechanism for that is knowing what IP addresses belong to your
</I>&gt;<i> 	organization, accept mail to outside domains only from those
</I>&gt;<i> 	IP addresses.
</I>
Yes, it was relay control I was looking for.  I have seen some ISPs use SMTP 
AUTH to control relaying, but for our use of an e-mail server it will be fine 
to limit by IP addresses.  (That will also alleviate silly tech support 
issues that would arise from requiring SMTP AUTH :)


&gt;<i> 	Umm, I hope you do mean _authenticated (E)SMTP_, not just
</I>&gt;<i> 	ESMTP? Because the only real difference between SMTP and ESMTP
</I>&gt;<i> 	is whether the client says HELO or EHLO.
</I>
Yes.  Thank you :)  To put what I mentioned in my original e-mail another way, 
I haven't kept my brain up to spec regarding the details of SMTP vs ESMTP and 
where AUTH falls in, as well as related RFCs.  :)


&gt;<i> 	I've said this earlier, and I'll say it again. twisted.mail is
</I>&gt;<i> 	not really ready for production use yet. It can still lose
</I>&gt;<i> 	email.
</I>
That alone tells me that in the short term any efforts to use the existing 
Twisted mail would not be useful, and that I should be researching the use of 
more 'traditional' email server configurations :)

I might have perhaps run across this if I did an extensive search in the 
mailing list archives, but my resource was grepping the Twisted CVS for 
'twisted mail'.  The only thing I ran across that had any depth to its 
description was doc/historic/2002/ipc10/twisted-network-framework/index.html 
and it had no mention of not using Twisted mail in a production environment.

I'm not saying that it's a bad thing that I couldn't find more definitive 
information -- after all if something is not ready for production use then 
it's probably not a good thing to give people lots of easy ways to believe 
that it is :)


&gt;<i> &gt; How would one keep usernames on different domains separate in terms of
</I>&gt;<i> &gt;  logging in with POP3 and authenticating with ESMTP?  E.g.
</I>&gt;<i> &gt; &quot;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">jdoe at domain1.com</A>&quot; and &quot;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">jdoe at domain2.com</A>&quot;
</I>&gt;<i> 	By authenticating as <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">jdoe at domain1.com</A>, not as joe.
</I>
'tis what I tried...

+OK &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">20030729152108.1218.1275775558 at advocate</A>&gt;
USER test
+OK USER accepted, send PASS
PASS 1234
+OK Authentication succeeded

+OK &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">20030729152118.1218.400479354 at advocate</A>&gt;
USER <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">test at test.example.com</A>
+OK USER accepted, send PASS
PASS 1234
-ERR Authentication failed

+OK &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">20030729152133.1218.265884954 at advocate</A>&gt;
USER test%test.example.com
+OK USER accepted, send PASS
PASS 1234
-ERR Authentication failed


&gt;<i> 	Scalemail is quite close to first real deployment. It uses parts
</I>&gt;<i> 	of twisted.mail. <A HREF="http://scalemail.sf.net/">http://scalemail.sf.net/</A>  (I really need to update
</I>&gt;<i> 	the web site ;)
</I>
I will take a look at this and see what I can glean from it. I see CVS commits 
in the last 2 months, and a 'debian' directory in there, so I'm happy even if 
the website isn't up-to-date :-D

Thanks for the link and the info on the status of Twisted mail!


-- 
Matthew R. Scott
OMAjA / <A HREF="http://www.omaja.com/">http://www.omaja.com/</A>



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005243.html">[Twisted-Python] questions about Twisted mail
</A></li>
	<LI>Next message: <A HREF="005250.html">[Twisted-Python] questions about Twisted mail
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5248">[ date ]</a>
              <a href="thread.html#5248">[ thread ]</a>
              <a href="subject.html#5248">[ subject ]</a>
              <a href="author.html#5248">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
