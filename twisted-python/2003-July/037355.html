<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] cgi on win32 fails, process only available in this reactor on POSIX
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20cgi%20on%20win32%20fails%2C%20process%20only%20available%20in%20this%20reactor%20on%20POSIX&In-Reply-To=%3C20030702.213804.-169917.0.eltronic%40juno.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="037354.html">
   <LINK REL="Next"  HREF="037356.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] cgi on win32 fails, process only available in this reactor on POSIX</H1>
    <B>eltronic at juno.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20cgi%20on%20win32%20fails%2C%20process%20only%20available%20in%20this%20reactor%20on%20POSIX&In-Reply-To=%3C20030702.213804.-169917.0.eltronic%40juno.com%3E"
       TITLE="[Twisted-Python] cgi on win32 fails, process only available in this reactor on POSIX">eltronic at juno.com
       </A><BR>
    <I>Wed Jul  2 19:37:52 MDT 2003</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="037354.html">[Twisted-Python] [patch] win32serialport win98 support
</A></li>
        <LI>Next message (by thread): <A HREF="037356.html">[Twisted-Python] Can't get ssh-connections to work
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37355">[ date ]</a>
              <a href="thread.html#37355">[ thread ]</a>
              <a href="subject.html#37355">[ subject ]</a>
              <a href="author.html#37355">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>am I missing something to get cgi working?
running a web.tas created from a dos window,
when I navigate to <A HREF="http://localhost/moin.cgi">http://localhost/moin.cgi</A>

**edited [HTTPChannel,0,127.0.0.1] Traceback 
File &quot;...\twisted\web\twcgi.py&quot;, line 130, in runProcess
   reactor.spawnProcess(p, self.filename, [self.filename]+qargs, env,
os.path.dirname(self.filename))
File &quot;...\twisted\internet\default.py&quot;, line 168, in spawnProcess
   raise NotImplementedError, &quot;process only available in this reactor on
POSIX&quot;

judging from the one paragraph in book.pdf on cgi
I'm guessing its not a huge priority to have this 
work on win98 out of the box.
had the same problem with that Perlscript example.
looks like win cgi is made impossible in 
t.i.defaults.py where it appears to force posix 
and everything else is commented out.

tried adding this to scripts/mktap.py &amp; scripts/twistd.py
and running msys the mingw bash shell

if sys.platform == 'win32':
    if os.getenv('MSYSTEM','nope')=='MINGW32':
        os.path = __import__('posixpath')
        os.sep='/'
which also produces the same error with any cgi

was the same in 1.0.5, currently using 1.0.6 
installed from source with setup.py 
which doesn't create any shortcuts
for tkmktap.py and is missing the twistenv.bat
like the installer created in 1.0.5
woulden't even try to compile c reactor,
otherwise installed ok. 
and, other web activity using html and rpy works.

on another front:
scripts/trial.py won't run from msys
some strange path stuff at the top
causes  ./scripts and ../Lib/site-packages
to be duplicated several times in sys.path and then
ImportError: No module named twisted.scripts.trial

from dos window all the tests try to run

from dos window
$ python trial.py -p twisted.test
protocols\dns.py:50: RuntimeWarning: PyCrypto not available -
   proceeding with non-cryptographically secure random source
$ is too, and I tryed changing a few things,  but ok,
then a bunch of tracebacks
KeyError: Invalid OID 65207c3d20524544 (too large)
-----------
Ran 797 tests in 1121.250s

FAILED (failures=5, errors=9, skips=28, expectedFailures=4)
leaves about 150k of junk in scripts/_trial_temp

am I missing something to get cgi working?
in reply please, don't be afraid to state the obvious.

________________________________________________________________
The best thing to hit the internet in years - Juno SpeedBand!
Surf the web up to FIVE TIMES FASTER!
Only $14.95/ month - visit www.juno.com to sign up today!


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="037354.html">[Twisted-Python] [patch] win32serialport win98 support
</A></li>
	<LI>Next message (by thread): <A HREF="037356.html">[Twisted-Python] Can't get ssh-connections to work
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37355">[ date ]</a>
              <a href="thread.html#37355">[ thread ]</a>
              <a href="subject.html#37355">[ subject ]</a>
              <a href="author.html#37355">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
