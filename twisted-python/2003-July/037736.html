<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: [Zope3-dev] twisted zope
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Re%3A%20%5BZope3-dev%5D%20twisted%20zope&In-Reply-To=%3C5.1.0.14.0.20030728131951.01e61890%40mail.telecommunity.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="037731.html">
   <LINK REL="Next"  HREF="037744.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: [Zope3-dev] twisted zope</H1>
    <B>Phillip J. Eby</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Re%3A%20%5BZope3-dev%5D%20twisted%20zope&In-Reply-To=%3C5.1.0.14.0.20030728131951.01e61890%40mail.telecommunity.com%3E"
       TITLE="[Twisted-Python] Re: [Zope3-dev] twisted zope">pje at telecommunity.com
       </A><BR>
    <I>Mon Jul 28 11:25:54 MDT 2003</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="037731.html">[Twisted-Python] Postgres client
</A></li>
        <LI>Next message (by thread): <A HREF="037744.html">[Twisted-Python] Re: [Zope3-dev] twisted zope
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37736">[ date ]</a>
              <a href="thread.html#37736">[ thread ]</a>
              <a href="subject.html#37736">[ subject ]</a>
              <a href="author.html#37736">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>At 11:26 AM 7/28/03 -0400, Shane Hathaway wrote:
&gt;<i>Gary Poster wrote:
</I>&gt;&gt;<i>As to the request parsing, I like Twisted's design a lot.  My impression 
</I>&gt;&gt;<i>is that if you used it, rather than Zope's request parsing, you would be 
</I>&gt;&gt;<i>in for a lot more work, but that work would probably end up being a big 
</I>&gt;&gt;<i>eventual win in clarity and simplicity.  If I were doing it, I'd punt and 
</I>&gt;&gt;<i>stick with Zope's, with a regretful glance backward.  If you have the gas 
</I>&gt;&gt;<i>to go up the mountain, though, I betcha the view's worth it. :-)
</I>&gt;<i>
</I>&gt;<i>May I suggest a different approach?
</I>&gt;<i>
</I>&gt;<i>Zope 3's HTTP request parsing is superior to Twisted's because it can more 
</I>&gt;<i>easily handle complex features of HTTP like pipelining.  However, 
</I>&gt;<i>Twisted's core is a better-executed implementation of the same idea behind 
</I>&gt;<i>asyncore.  Therefore, this is how I'd like to see the integration work:
</I>&gt;<i>
</I>&gt;<i>- Enhance Twisted's HTTP server with notions taken from Zope 3's HTTP 
</I>&gt;<i>server.  The most important notion is that there is a request object that 
</I>&gt;<i>does nothing but receive the request data.  Once the entire request is 
</I>&gt;<i>received, the request is used to construct an HTTP transaction; at that 
</I>&gt;<i>time the request is considered immutable.  Also, the generic memory/disk 
</I>&gt;<i>buffer concept could be a big win for Twisted.
</I>&gt;<i>
</I>&gt;<i>- Rename Zope 3's HTTPTask to HTTPTransaction.  Create 
</I>&gt;<i>IHTTPTransaction.  (It might become part of Twisted instead of Zope.)
</I>&gt;<i>
</I>&gt;<i>- Add only specific modules of Twisted to the Zope 3 source, such as 
</I>&gt;<i>twisted.internet (I think that's its name).  Straighten out the licensing 
</I>&gt;<i>first.
</I>
And there's yet another possible approach...  Have Zope depend on specific 
I*Reactor interfaces in place of asyncore, but don't necessarily depend on 
Twisted itself.  I'm not sure if this meets the intended goals for 
Zope/Twisted integration, but it's a useful first step.  If this is useful, 
PEAK has an &quot;UntwistedReactor&quot; class that implements a useful subset of the 
Twisted reactor interfaces, enough to be able to have a select loop and 
scheduled callbacks.  It's ZPL/PSF licensed, so you can steal it fair and 
square.  So, as long as the existing Zope 3 server code just expects to be 
woken up by asyncore for reads and writes, it should be pretty adaptable to 
the reactor interface, at which point it could be hooked into Twisted or 
into a Zope 3 mini-reactor.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="037731.html">[Twisted-Python] Postgres client
</A></li>
	<LI>Next message (by thread): <A HREF="037744.html">[Twisted-Python] Re: [Zope3-dev] twisted zope
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37736">[ date ]</a>
              <a href="thread.html#37736">[ thread ]</a>
              <a href="subject.html#37736">[ subject ]</a>
              <a href="author.html#37736">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
