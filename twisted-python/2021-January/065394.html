<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] reactor for Linux io_uring
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20reactor%20for%20Linux%20io_uring&In-Reply-To=%3Cc918c7ba-5ec3-84c7-51e9-07505bca784e%40haywood.id.au%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="065391.html">
   <LINK REL="Next"  HREF="065395.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] reactor for Linux io_uring</H1>
    <B>Ian Haywood</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20reactor%20for%20Linux%20io_uring&In-Reply-To=%3Cc918c7ba-5ec3-84c7-51e9-07505bca784e%40haywood.id.au%3E"
       TITLE="[Twisted-Python] reactor for Linux io_uring">ian at haywood.id.au
       </A><BR>
    <I>Thu Jan  7 04:24:51 MST 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="065391.html">[Twisted-Python] reactor for Linux io_uring
</A></li>
        <LI>Next message (by thread): <A HREF="065395.html">[Twisted-Python] reactor for Linux io_uring
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65394">[ date ]</a>
              <a href="thread.html#65394">[ thread ]</a>
              <a href="subject.html#65394">[ subject ]</a>
              <a href="author.html#65394">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 6/01/2021 1:04 am, Adi Roiban wrote:
&gt;<i> On Tue, 5 Jan 2021 at 13:44, Jean-Paul Calderone 
</I>&gt;<i> &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at twistedmatrix.com</A> &lt;mailto:<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at twistedmatrix.com</A>&gt;&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>     On Tue, Jan 5, 2021 at 6:49 AM Barry Scott
</I>&gt;<i>     &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">barry.scott at forcepoint.com</A> &lt;mailto:<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">barry.scott at forcepoint.com</A>&gt;&gt;
</I>&gt;<i>     wrote:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>         What threads? Why do you call out file FDs different from
</I>&gt;<i>         socket FDs?
</I>&gt;<i>
</I>If you give epoll()/select() a file FD it lies and says the FD is always 
&quot;ready&quot; even when, as you point out, file operations can block.

&gt;<i> My suggestion is to find a real world / production use case for the 
</I>&gt;<i> new reactor so that we can run more than unit / functional tests.
</I>&gt;<i>
</I>&gt;<i> -- 
</I>&gt;<i> Adi Roiban
</I>
As a &quot;standard&quot; reactor any twisted app would stress-test it for 
network/pipe operations, no?

For async file I/O my plan would be to export a new IFilesystem (which 
is closely based on conch.interfaces.ISFTPServer) apps would be have to 
be written to use it, conch could with minimal tweaking,  and 
unsurprisingly the SMB server will.

Apps can fallback to thread-based or aio(7) based implementations that 
already  exists as PoC: <A HREF="https://github.com/twisted/twisted/pull/1420">https://github.com/twisted/twisted/pull/1420</A>

Ian

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20210107/3d9ec971/attachment.htm&gt;
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="065391.html">[Twisted-Python] reactor for Linux io_uring
</A></li>
	<LI>Next message (by thread): <A HREF="065395.html">[Twisted-Python] reactor for Linux io_uring
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65394">[ date ]</a>
              <a href="thread.html#65394">[ thread ]</a>
              <a href="subject.html#65394">[ subject ]</a>
              <a href="author.html#65394">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
