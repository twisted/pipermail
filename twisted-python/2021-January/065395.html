<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] reactor for Linux io_uring
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20reactor%20for%20Linux%20io_uring&In-Reply-To=%3C66870E3A-6FA9-466B-B1FB-E263A882EFC2%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="065394.html">
   <LINK REL="Next"  HREF="065399.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] reactor for Linux io_uring</H1>
    <B>Glyph</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20reactor%20for%20Linux%20io_uring&In-Reply-To=%3C66870E3A-6FA9-466B-B1FB-E263A882EFC2%40twistedmatrix.com%3E"
       TITLE="[Twisted-Python] reactor for Linux io_uring">glyph at twistedmatrix.com
       </A><BR>
    <I>Thu Jan  7 13:23:44 MST 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="065394.html">[Twisted-Python] reactor for Linux io_uring
</A></li>
        <LI>Next message (by thread): <A HREF="065399.html">[Twisted-Python] reactor for Linux io_uring
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65395">[ date ]</a>
              <a href="thread.html#65395">[ thread ]</a>
              <a href="subject.html#65395">[ subject ]</a>
              <a href="author.html#65395">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

&gt;<i> On Jan 7, 2021, at 3:24 AM, Ian Haywood &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">ian at haywood.id.au</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> For async file I/O my plan would be to export a new IFilesystem (which is closely based on conch.interfaces.ISFTPServer) apps would be have to be written to use it, conch could with minimal tweaking,  and unsurprisingly the SMB server will. 
</I>&gt;<i> 
</I>&gt;<i> Apps can fallback to thread-based or aio(7) based implementations that already  exists as PoC:<A HREF="https://github.com/twisted/twisted/pull/1420">https://github.com/twisted/twisted/pull/1420</A> &lt;<A HREF="https://github.com/twisted/twisted/pull/1420">https://github.com/twisted/twisted/pull/1420</A>&gt;  
</I>&gt;<i> 
</I>
The mess of ctypes stuff seems somewhat irrelevant to the &quot;asynchronous filesystem&quot; part of this PR - do you think you could do a smaller version of this which decouples it from smb and ctypes?  It would be very nice for twisted.web.static.File to be able to use this as well.  And it would be much easier to review in isolation.  (And also easier to review as concrete &quot;clear asynchronous file I/O interface&quot; functionality, rather than tying it to the term &quot;VFS&quot; which has a fairly checkered past within Twisted :)).

(It would also be nice to have an interface that acts as an IProducer to integrate more natively with Twisted's support for backpressure rather than only having a custom readChunk method.  I think readChunk is still necessary for completeness since you need to be able to seek and offset, though.)

-g
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20210107/7d615a78/attachment.htm&gt;
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="065394.html">[Twisted-Python] reactor for Linux io_uring
</A></li>
	<LI>Next message (by thread): <A HREF="065399.html">[Twisted-Python] reactor for Linux io_uring
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65395">[ date ]</a>
              <a href="thread.html#65395">[ thread ]</a>
              <a href="subject.html#65395">[ subject ]</a>
              <a href="author.html#65395">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
