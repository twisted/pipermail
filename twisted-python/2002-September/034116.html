<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: [XML-SIG] Re: Can anyone recommend a sensible XML parser for Python?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Re%3A%20%5BXML-SIG%5D%20Re%3A%20Can%20anyone%20recommend%20a%20sensible%20XML%20parser%20for%0A%20Python%3F&In-Reply-To=%3CE17oUNW-0006ov-00%40malatesta.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="034108.html">
   <LINK REL="Next"  HREF="034118.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: [XML-SIG] Re: Can anyone recommend a sensible XML parser for Python?</H1>
    <B>Uche Ogbuji</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Re%3A%20%5BXML-SIG%5D%20Re%3A%20Can%20anyone%20recommend%20a%20sensible%20XML%20parser%20for%0A%20Python%3F&In-Reply-To=%3CE17oUNW-0006ov-00%40malatesta.local%3E"
       TITLE="[Twisted-Python] Re: [XML-SIG] Re: Can anyone recommend a sensible XML parser for Python?">uche.ogbuji at fourthought.com
       </A><BR>
    <I>Mon Sep  9 13:39:01 MDT 2002</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="034108.html">[XML-SIG] Re: [Twisted-Python] Can anyone recommend a sensible  XML parser for Python?
</A></li>
        <LI>Next message (by thread): <A HREF="034118.html">[Twisted-Python] Re: [XML-SIG] Re: Can anyone recommend a sensible  XML parser forPython?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34116">[ date ]</a>
              <a href="thread.html#34116">[ thread ]</a>
              <a href="subject.html#34116">[ subject ]</a>
              <a href="author.html#34116">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> &gt; Accordin to the DOM Level 2 spec: &quot;And, cloning Document, DocumentType,
</I>&gt;<i> &gt; Entity, and Notation nodes is implementation dependent.&quot;
</I>&gt;<i> 
</I>&gt;<i> This is why standards compliance is not terribly important to me.  I would
</I>&gt;<i> rather have a useful XML API than a standardized one.
</I>
Well, what do you think is the most useful behavior of cloning a document?  Is 
it the one I posted in response to thread?  If so, don't you think the element 
of surprise is too great (I'd be surprised myself at that behavior)?

Wouldn't it be better for Python/XML to offer a *separate*, specialized 
function for cloning nodes, rather than doing weird things with cloneNode?


&gt;<i> &gt; Can you expand a bit more on the actual use case that makes you think you want 
</I>&gt;<i> &gt; to clone a document node?
</I>&gt;<i> 
</I>&gt;<i> I have a template &quot;frame&quot; document.  I want to clone the document, populate it
</I>&gt;<i> with information lifted from other XML files, and then write the resultant
</I>&gt;<i> (cloned) document out.  This is the very first use-case I ever had working with
</I>&gt;<i> XML and it is still the most common.
</I>
I see.  It sounds as if a general document duplication function would be of 
use to you.  I agree that this would be useful.  I'm willing to write one and 
add it to xml.dom.ext.

But I don't think this is a use case for node.cloneNode.


&gt;<i> &gt; We choose not to allow it.  Perfectly legal, and I think this is the right 
</I>&gt;<i> &gt; choice.
</I>&gt;<i> 
</I>&gt;<i> Yes, but the point remains that this *used* to work, and now it *doesn't*.
</I>
I don't remember.  What did it do when it &quot;worked&quot;?


&gt;<i> This is functionality I found useful.  While I can't comment on the intrinsic
</I>&gt;<i> sense or nonsense of cloning document nodes in DOM, I do know that it's
</I>&gt;<i> difficult to keep track of when features like this appear and disappear in the
</I>&gt;<i> various different XML solutions for Python.
</I>
Was it ever documented?  Every software module has undocumented &quot;features&quot; 
that you use at your peril.  I don't think it's fair to complain when these 
appear and disappear.

Then again, the poor state of PyXML documentation in general weakens that 
point of mine, doesn't it?  Ah well.


&gt;<i> Maybe this is the only feature that has done this; I don't know.  It just
</I>&gt;<i> happens that it's a very commonly-used one for me.
</I>&gt;<i> 
</I>&gt;<i> This is just another instance of my general complaint that tracking versioning
</I>&gt;<i> dependencies is not worth the effort for my degenerately simple use-cases for
</I>&gt;<i> XML.
</I>&gt;<i> 
</I>&gt;<i> &gt; You mean you can't require, say PyXML 0.8.1?  Tough crowd you develop for?
</I>&gt;<i> &gt; :-)
</I>&gt;<i> 
</I>&gt;<i> There are still some parties interested in Twisted who are upset that it
</I>&gt;<i> requires Python 2.1; in fact, I felt guilty doing 2.1 support because I am
</I>&gt;<i> likely going to have to backport portions of it to 1.5.2 for some people.  We
</I>&gt;<i> can all thank Red Hat for this inane persistence of ancient python versions,
</I>&gt;<i> but it is sadly the world I live in.
</I>
I sympethize.  It's largely because of Red Hat that it took us so long to drop 
1.5 support in 4Suite.  But a couple of months ago we decided it is not worth 
the developemtn and support overhead and ditched support for all versions 
before 2.1.  I sleep better since then  :-)


&gt;<i> &gt; &gt; My main frustration is with packaging.
</I>&gt;<i> 
</I>&gt;<i> &gt; Here you have a point.  Python, PyXML, and a lot of the related packages move
</I>&gt;<i> &gt; very quickly,. and so quickly that they cause all manner of packaging
</I>&gt;<i> &gt; problems.
</I>&gt;<i> 
</I>&gt;<i> This is my main point, and this is the one that the PyXML community can do the
</I>&gt;<i> least to address.  Buggy and idiosyncratic implementations are already in the
</I>&gt;<i> wild, and some apps will depend on those particular bugs and idiosyncrasies.
</I>&gt;<i> If twisted depends on a new or different set of bugs and quirks, I make it
</I>&gt;<i> incompatible with whatever other XML-using applications are out there today.
</I>&gt;<i> 
</I>&gt;<i> Given that XML is an integration technology this is certainly less than
</I>&gt;<i> desirable.
</I>&gt;<i> 
</I>&gt;<i> &gt; There is no easy solution to this.
</I>&gt;<i> 
</I>&gt;<i> Having a project that is precipitously approaching 1.0 myself, I can
</I>&gt;<i> sympathize.  As much as this sort of dependency and compatibility problem has
</I>&gt;<i> bothered me, I *know* there will be people that write apps for Twisted and will
</I>&gt;<i> curse my name when I enhance some functionality later on :-).
</I>&gt;<i> 
</I>&gt;<i> &gt; I have had it in mind to suggest a PyXML-in-a-tie type effort in the Python
</I>&gt;<i> &gt; Business Forum once the effort on Python itself starts to gain legs.  I guess
</I>&gt;<i> &gt; I can count on you to at least help cheerlead?  :-)
</I>&gt;<i> 
</I>&gt;<i> Cheerleading, certainly :-).  Although I'm less interested in seeing PyXML
</I>&gt;<i> prepared for &quot;business&quot; clients and more interested in just seeing the level of
</I>&gt;<i> QA on the volunteer work go up.  If I *had* any spare &quot;scarce resources&quot; to
</I>&gt;<i> commit beyond my own projects, I would certainly help getting the unit tests
</I>&gt;<i> unified and automated.
</I>&gt;<i> 
</I>&gt;<i> &gt; &gt; or produce what amounts to my own `implementation' of an XML parser.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; If you try going this route, I guarantee you'll still be trying to get the 
</I>&gt;<i> &gt; most basic things right six months from now.
</I>&gt;<i> 
</I>&gt;<i> ...
</I>&gt;<i> 
</I>&gt;<i> &gt; &gt; For the applications that I'm intending to write, just doing my own parser and
</I>&gt;<i> &gt; &gt; API is both more appealing and more rewarding.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Really?  Color me deep skeptical.  I have not seen an application on earth 
</I>&gt;<i> &gt; where implementing one's own parser is a good idea, and precious few where 
</I>&gt;<i> &gt; implementing one's own API is a good idea.  I have a lot of colleagues who 
</I>&gt;<i> &gt; have tried.
</I>&gt;<i> 
</I>&gt;<i> While it is *possible* that I'm smarter than you think I am, it is certain that
</I>&gt;<i> I'm more stubborn.
</I>
I think you take the wrong gloss on my words.  I think Linus Torvalds himself 
would take years to write a complete and correct XML parser.  It's the nature 
of the beast (XML), not the programmer.

I certainly do not consider myself smart enough to take on that dragon.  I'm 
just glad to lean on folk like Clark (and Drake, Evans and co), Garshol and 
Viellard.


&gt;<i> My sophomoric attempt at an XML parser is now in Twisted
</I>&gt;<i> CVS.
</I>
Interesting.  So how did you test it?


&gt;<i> I've had this objection raised over writing yet another a web server, yet
</I>&gt;<i> another remote procedure call protocol, yet another asynchronous socket server
</I>&gt;<i> and yet another database interface.  It seems like at least some of these ideas
</I>&gt;<i> were good ones, so I went ahead and wrote an XML parser and representation
</I>&gt;<i> anyway :-).
</I>
I would rather write a Web server, another RPC, another async socket server 
*and* another DBMS interface all in a row than just take on the single task of 
writing an XML parser.  And I think I can speak authoritatively, because I 
*have* implemented all four of those things.

 
&gt;<i> As a data point for this hypothesis, writing the parser and the node tree took
</I>&gt;<i> me less than half as much time as writing these posts to various mailing lists
</I>&gt;<i> about XML tools (not counting this post, which has been the most
</I>&gt;<i> time-consuming): it took less than a quarter as much time as attempting (and
</I>&gt;<i> failing) to track down bugs in PyXML, not counting the time I spent trying to
</I>&gt;<i> figure out how to turn off undesired features in a way that would work on more
</I>&gt;<i> than one version.  My two main existing PyXML-using applications are already
</I>&gt;<i> ported to this, changing barely any of their code.
</I>
As I said, I am very skeptical of the result.  I'll be impressed when you tell 
me your home-brew XML parser passes the OASIS conformance suite.

Anyway, this is all moot argument.  It looks as if you've satisfied yourself 
for now.

Good luck.


-- 
Uche Ogbuji                                    Fourthought, Inc.
<A HREF="http://uche.ogbuji.net">http://uche.ogbuji.net</A>    <A HREF="http://4Suite.org">http://4Suite.org</A>    <A HREF="http://fourthought.com">http://fourthought.com</A>
Track chair, XML/Web Services One Boston: <A HREF="http://www.xmlconference.com/">http://www.xmlconference.com/</A>
Basic XML and RDF techniques for knowledge management, Part 7 - 
<A HREF="http://www-106.ibm.com/developerworks/xml/library/x-think12.html">http://www-106.ibm.com/developerworks/xml/library/x-think12.html</A>
Keeping pace with James Clark - <A HREF="http://www-106.ibm.com/developerworks/xml/libra">http://www-106.ibm.com/developerworks/xml/libra</A>
ry/x-jclark.html
Python and XML development using 4Suite, Part 3: 4RDF - 
<A HREF="http://www-105.ibm.com/developerworks/education.nsf/xml-onlinecourse-bytitle/8A">http://www-105.ibm.com/developerworks/education.nsf/xml-onlinecourse-bytitle/8A</A>
1EA5A2CF4621C386256BBB006F4CEC




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="034108.html">[XML-SIG] Re: [Twisted-Python] Can anyone recommend a sensible  XML parser for Python?
</A></li>
	<LI>Next message (by thread): <A HREF="034118.html">[Twisted-Python] Re: [XML-SIG] Re: Can anyone recommend a sensible  XML parser forPython?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34116">[ date ]</a>
              <a href="thread.html#34116">[ thread ]</a>
              <a href="subject.html#34116">[ subject ]</a>
              <a href="author.html#34116">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
