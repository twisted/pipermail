<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] row.html howto XHTML compliance [PATCH]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20row.html%20howto%20XHTML%20compliance%20%5BPATCH%5D&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001669.html">
   <LINK REL="Next"  HREF="001700.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] row.html howto XHTML compliance [PATCH]</H1>
    <B>Jonathan Lange</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20row.html%20howto%20XHTML%20compliance%20%5BPATCH%5D&In-Reply-To="
       TITLE="[Twisted-Python] row.html howto XHTML compliance [PATCH]">jml at mumak.net
       </A><BR>
    <I>Tue Sep 17 19:24:34 EDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="001669.html">[Twisted-Python] Is X.25 supported?
</A></li>
        <LI>Next message: <A HREF="001700.html">[Twisted-Python] row.html howto XHTML compliance [PATCH]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1699">[ date ]</a>
              <a href="thread.html#1699">[ thread ]</a>
              <a href="subject.html#1699">[ subject ]</a>
              <a href="author.html#1699">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>G'day all,

I noticed that admin/generate-domdocs failed on row.html, so I patched
it to be a well-formed XHTML document (and to have lowercase tags ;)

Patch below!

Cheers,
jml

Index: doc/howto/row.html
===================================================================
RCS file: /cvs/Twisted/doc/howto/row.html,v
retrieving revision 1.9
diff -r1.9 row.html
1,5c1,9
&lt; &lt;HTML&gt;
&lt; &lt;HEAD&gt;
&lt;   &lt;TITLE&gt;Twisted Enterprise Row Objects&lt;/TITLE&gt;
&lt; &lt;/HEAD&gt;
&lt; &lt;BODY&gt;
---
&gt;<i> &lt;?xml version=&quot;1.0&quot;?&gt;
</I>&gt;<i> &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot;
</I>&gt;<i>     &quot;<A HREF="http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;">http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;</A>&gt;
</I>&gt;<i> 
</I>&gt;<i> &lt;html xmlns=&quot;<A HREF="http://www.w3.org/1999/xhtml&quot;">http://www.w3.org/1999/xhtml&quot;</A>&gt;
</I>&gt;<i> &lt;head&gt;
</I>&gt;<i>   &lt;title&gt;Twisted Enterprise Row Objects&lt;/title&gt;
</I>&gt;<i> &lt;/head&gt;
</I>&gt;<i> &lt;body&gt;
</I>7c11
&lt; &lt;H1&gt;Twisted Enterprise Row Objects&lt;/H1&gt;
---
&gt;<i> &lt;h1&gt;Twisted Enterprise Row Objects&lt;/h1&gt;
</I>9c13
&lt; &lt;P&gt;The &lt;CODE&gt;twisted.enterprise.row&lt;/CODE&gt; module is a method
---
&gt;<i> &lt;p&gt;The &lt;code&gt;twisted.enterprise.row&lt;/code&gt; module is a method
</I>11c15
&lt; tables. It has two components: the &lt;CODE&gt;RowObject&lt;/CODE&gt; class
---
&gt;<i> tables. It has two components: the &lt;code&gt;RowObject&lt;/code&gt; class
</I>13c17
&lt; code interacts with, and the &lt;CODE&gt;DBReflector&lt;/CODE&gt; which generates
---
&gt;<i> code interacts with, and the &lt;code&gt;DBReflector&lt;/code&gt; which generates
</I>15c19
&lt; deletes against the database.&lt;/P&gt;
---
&gt;<i> deletes against the database.&lt;/p&gt;
</I>17c21
&lt; &lt;P&gt;The row module is intended for applications such as on-line
---
&gt;<i> &lt;p&gt;The row module is intended for applications such as on-line
</I>24c28
&lt; to an existing python application.&lt;/P&gt;
---
&gt;<i> to an existing python application.&lt;/p&gt;
</I>26c30
&lt; &lt;P&gt;Currently, the row module requires the use of PostgreSQL.&lt;/P&gt;
---
&gt;<i> &lt;p&gt;Currently, the row module requires the use of PostgreSQL.&lt;/p&gt;
</I>28c32
&lt; &lt;H2&gt;Class Definitions&lt;/H2&gt;
---
&gt;<i> &lt;h2&gt;Class Definitions&lt;/h2&gt;
</I>30,31c34,35
&lt; &lt;P&gt;To interface to relational database tables, the developer must
&lt; create a class derived from the
&lt;CODE&gt;twisted.enterprise.row.RowObject&lt;/CODE&gt;
---
&gt;<i> &lt;p&gt;To interface to relational database tables, the developer must
</I>&gt;<i> create a class derived from the
</I>&lt;code&gt;twisted.enterprise.row.RowObject&lt;/code&gt;
35c39
&lt; are:&lt;/P&gt;
---
&gt;<i> are:&lt;/p&gt;
</I>37,42c41,46
&lt; &lt;UL&gt;
&lt;   &lt;LI&gt;rowColumns - list of the columns in the table with the correct
&lt;   case
&lt;   &lt;LI&gt;rowKeyColumns - list of key columns in form: [(columnName,
&lt;   typeName)]
&lt;   &lt;LI&gt;rowTableName - the name of the database table
---
&gt;<i> &lt;ul&gt;
</I>&gt;<i>   &lt;li&gt;rowColumns - list of the columns in the table with the correct
</I>&gt;<i>   case&lt;/li&gt;
</I>&gt;<i>   &lt;li&gt;rowKeyColumns - list of key columns in form: [(columnName,
</I>&gt;<i>   typeName)]&lt;/li&gt;
</I>&gt;<i>   &lt;li&gt;rowTableName - the name of the database table&lt;/li&gt;
</I>45c49
&lt; &lt;P&gt;There are also two optional class attributes that can be
specified:&lt;/P&gt;
---
&gt;<i> &lt;p&gt;There are also two optional class attributes that can be
</I>specified:&lt;/p&gt;
47,48c51,52
&lt; &lt;UL&gt;
&lt;   &lt;LI&gt;rowForeignKeys - list of foreign keys to other database tables
---
&gt;<i> &lt;ul&gt;
</I>&gt;<i>   &lt;li&gt;rowForeignKeys - list of foreign keys to other database tables
</I>50,53c54,57
&lt;   autoLoad]
&lt;   &lt;LI&gt;rowFactoryMethod - a method that creates instances of this
&lt;   class
&lt; &lt;/UL&gt;
---
&gt;<i>   autoLoad]&lt;/li&gt;
</I>&gt;<i>   &lt;li&gt;rowFactoryMethod - a method that creates instances of this
</I>&gt;<i>   class&lt;/li&gt;
</I>&gt;<i> &lt;/ul&gt;
</I>55c59
&lt; &lt;P&gt;For example:&lt;/P&gt;
---
&gt;<i> &lt;p&gt;For example:&lt;/p&gt;
</I>57c61
&lt; &lt;PRE&gt;
---
&gt;<i> &lt;pre class=&quot;python&quot;&gt;
</I>62c66,67
&lt;     rowFactoryMethod = [myRowFactory]&lt;/PRE&gt;
---
&gt;<i>     rowFactoryMethod = [myRowFactory]
</I>&gt;<i> &lt;/pre&gt;
</I>64,65c69,70
&lt; &lt;P&gt;The items in the rowColumns list will become data members of
&lt; classes of this type when they are created by the DBReflector.&lt;/P&gt;
---
&gt;<i> &lt;p&gt;The items in the rowColumns list will become data members of
</I>&gt;<i> classes of this type when they are created by the DBReflector.&lt;/p&gt;
</I>67c72
&lt; &lt;H2&gt;Initialization&lt;/H2&gt;
---
&gt;<i> &lt;h2&gt;Initialization&lt;/h2&gt;
</I>69c74
&lt; &lt;P&gt;The initialization phase builds the SQL for the database
interactions.
---
&gt;<i> &lt;p&gt;The initialization phase builds the SQL for the database
</I>interactions.
73c78
&lt; are passed to the DBReflector when it is created.&lt;/P&gt;
---
&gt;<i> are passed to the DBReflector when it is created.&lt;/p&gt;
</I>75c80
&lt; &lt;P&gt;An example class list for the RoomRow class we specified above:&lt;/P&gt;
---
&gt;<i> &lt;p&gt;An example class list for the RoomRow class we specified above:&lt;/p&gt;
</I>77c82
&lt; &lt;PRE&gt;
---
&gt;<i> &lt;pre class=&quot;python&quot;&gt;
</I>82c87,88
&lt; reflector = row.DBReflector( dbpool, [RoomRow], runTests )&lt;/PRE&gt;
---
&gt;<i> reflector = row.DBReflector( dbpool, [RoomRow], runTests )
</I>&gt;<i> &lt;/pre&gt;
</I>84c90
&lt; &lt;H2&gt;Creating Row Objects&lt;/H2&gt;
---
&gt;<i> &lt;h2&gt;Creating Row Objects&lt;/h2&gt;
</I>86,87c92,93
&lt; &lt;P&gt;There are two methods of creating RowObjects - loading from
&lt; the database, and creating a new instance ready to be inserted.&lt;/P&gt;
---
&gt;<i> &lt;p&gt;There are two methods of creating RowObjects - loading from
</I>&gt;<i> the database, and creating a new instance ready to be inserted.&lt;/p&gt;
</I>89c95
&lt; &lt;P&gt;To load rows from the database and create RowObject instances
---
&gt;<i> &lt;p&gt;To load rows from the database and create RowObject instances
</I>94c100
&lt; example:&lt;/P&gt;
---
&gt;<i> example:&lt;/p&gt;
</I>96c102
&lt; &lt;PRE&gt;
---
&gt;<i> &lt;pre class=&quot;python&quot;&gt;
</I>101c107,108
&lt; refector.loadObjectsFrom(&amp;quot;testrooms&amp;quot;,
whereClause=[(&amp;quot;id&amp;quot;, reflector.EQUAL,
5)]).addCallback(gotRooms)&lt;/PRE&gt;
---
&gt;<i> refector.loadObjectsFrom(&amp;quot;testrooms&amp;quot;,
</I>whereClause=[(&amp;quot;id&amp;quot;, reflector.EQUAL,
5)]).addCallback(gotRooms)
&gt;<i> &lt;/pre&gt;
</I>103c110
&lt; &lt;P&gt;For more advanced RowObject construction, loadObjectsFrom may
---
&gt;<i> &lt;p&gt;For more advanced RowObject construction, loadObjectsFrom may
</I>110c117
&lt; before exposing the data to user code. An example factory method:&lt;/P&gt;
---
&gt;<i> before exposing the data to user code. An example factory method:&lt;/p&gt;
</I>112c119
&lt; &lt;PRE&gt;
---
&gt;<i> &lt;pre class=&quot;python&quot;&gt;
</I>116c123
&lt;     return newRoom&lt;/PRE&gt;
---
&gt;<i>     return newRoom&lt;/pre&gt;
</I>118c125
&lt; &lt;P&gt;The last method of creating a row object is for new instances
---
&gt;<i> &lt;p&gt;The last method of creating a row object is for new instances
</I>122c129
&lt; method of the DBReflector. For example:&lt;/P&gt;
---
&gt;<i> method of the DBReflector. For example:&lt;/p&gt;
</I>124c131
&lt; &lt;PRE&gt;
---
&gt;<i> &lt;pre class=&quot;python&quot;&gt;
</I>134c141,142
&lt;     reflector.insertRow(newRoom).addCallback(onInsert)&lt;/PRE&gt;
---
&gt;<i>     reflector.insertRow(newRoom).addCallback(onInsert)
</I>&gt;<i> &lt;/pre&gt;
</I>136c144
&lt; &lt;P&gt;This will insert a new row into the database table for this
---
&gt;<i> &lt;p&gt;This will insert a new row into the database table for this
</I>141c149
&lt; from being changed by mistake.&lt;/P&gt;
---
&gt;<i> from being changed by mistake.&lt;/p&gt;
</I>143d150
&lt; &lt;P&gt;&amp;nbsp;&lt;/P&gt;
145c152
&lt; &lt;H2&gt;Relationships Between Tables&lt;/H2&gt;
---
&gt;<i> &lt;h2&gt;Relationships Between Tables&lt;/h2&gt;
</I>147,154c154,162
&lt; &lt;P&gt;Specifying a foreign key for a RowClass creates a relationship
&lt; between database tables. When &lt;I&gt;loadObjectsFrom&lt;/I&gt; is called for a
&lt; table, it will automatically load all the children rows for the rows
&lt; from the specified table. The child rows will be put into a list
&lt; member variable of the rowObject instance with the name &quot;childRows&quot; or
&lt; if a &lt;i&gt;containerMethod&lt;/i&gt; is specified for the foreign key
&lt; relationship, that method will be called on the parent row object for
&lt; each row that is being added to it as a child.&lt;/P&gt;
---
&gt;<i> &lt;p&gt;Specifying a foreign key for a RowClass creates a relationship
</I>&gt;<i> between database tables. When &lt;code
</I>&gt;<i> class=&quot;python&quot;&gt;loadObjectsFrom&lt;/code&gt; is called for a table, it will
</I>&gt;<i> automatically load all the children rows for the rows from the
</I>specified
&gt;<i> table. The child rows will be put into a list member variable of the
</I>&gt;<i> rowObject instance with the name &quot;childRows&quot; or if a
</I>&gt;<i> &lt;i&gt;containerMethod&lt;/i&gt; is specified for the foreign key relationship,
</I>&gt;<i> that method will be called on the parent row object for each row that
</I>is
&gt;<i> being added to it as a child.&lt;/p&gt;
</I>156c164
&lt; &lt;P&gt;The &lt;i&gt;autoLoad&lt;/i&gt; member of the foreign key definition is a flag
---
&gt;<i> &lt;p&gt;The &lt;i&gt;autoLoad&lt;/i&gt; member of the foreign key definition is a flag
</I>158c166
&lt; relationship when a parent row is loaded.
---
&gt;<i> relationship when a parent row is loaded.&lt;/p&gt;
</I>160c168
&lt; &lt;H2&gt;Duplicate Row Objects&lt;/H2&gt;
---
&gt;<i> &lt;h2&gt;Duplicate Row Objects&lt;/h2&gt;
</I>162c170
&lt; &lt;P&gt;If a reflector tries to load an instance of a rowObject that
---
&gt;<i> &lt;p&gt;If a reflector tries to load an instance of a rowObject that
</I>166c174
&lt; unique keys for this purpose.&lt;/P&gt;
---
&gt;<i> unique keys for this purpose.&lt;/p&gt;
</I>168c176
&lt; &lt;H2&gt;Updating Row Objects&lt;/H2&gt;
---
&gt;<i> &lt;h2&gt;Updating Row Objects&lt;/h2&gt;
</I>170c178
&lt; &lt;P&gt;RowObjects have a &amp;quot;dirty&amp;quot; member attribute that is
---
&gt;<i> &lt;p&gt;RowObjects have a &amp;quot;dirty&amp;quot; member attribute that is
</I>176c184
&lt; (be sure to call the base class setDirty though!).&lt;/P&gt;
---
&gt;<i> (be sure to call the base class setDirty though!).&lt;/p&gt;
</I>178c186
&lt; &lt;P&gt;When it is determined that a RowObject instance is dirty and
---
&gt;<i> &lt;p&gt;When it is determined that a RowObject instance is dirty and
</I>180c188
&lt; to the &amp;quot;updateRow&amp;quot; method of the DBReflector. For
example:&lt;/P&gt;
---
&gt;<i> to the &amp;quot;updateRow&amp;quot; method of the DBReflector. For
</I>example:&lt;/p&gt;
182,183c190,192
&lt; &lt;PRE&gt;
&lt;     reflector.updateRow(room).addCallback(onUpdated)&lt;/PRE&gt;
---
&gt;<i> &lt;pre class=&quot;python&quot;&gt;
</I>&gt;<i> reflector.updateRow(room).addCallback(onUpdated)\
</I>&gt;<i> &lt;/pre&gt;
</I>185c194
&lt; &lt;P&gt;For more complex behavior, the reflector can generate the SQL
---
&gt;<i> &lt;p&gt;For more complex behavior, the reflector can generate the SQL
</I>187c196
&lt; for batching up multiple updates into single requests. For
example:&lt;/P&gt;
---
&gt;<i> for batching up multiple updates into single requests. For
</I>example:&lt;/p&gt;
189,190c198,200
&lt; &lt;PRE&gt;
&lt;     updateSQL = reflector.updateRowSQL(room)&lt;/PRE&gt;
---
&gt;<i> &lt;pre class=&quot;python&quot;&gt;
</I>&gt;<i> updateSQL = reflector.updateRowSQL(room)\
</I>&gt;<i> &lt;/pre&gt;
</I>192c202
&lt; &lt;H2&gt;Deleting Row Objects&lt;/H2&gt;
---
&gt;<i> &lt;h2&gt;Deleting Row Objects&lt;/h2&gt;
</I>194c204
&lt; &lt;P&gt;To delete a row from a database pass the RowObject instance
---
&gt;<i> &lt;p&gt;To delete a row from a database pass the RowObject instance
</I>196,197c206,207
&lt; Deleting the python Rowobject instance does &lt;EM&gt;not&lt;/EM&gt; automatically
&lt; delete the row from the database. For example:&lt;/P&gt;
---
&gt;<i> Deleting the python Rowobject instance does &lt;em&gt;not&lt;/em&gt; automatically
</I>&gt;<i> delete the row from the database. For example:&lt;/p&gt;
</I>199,200c209,211
&lt; &lt;PRE&gt;
&lt;     reflector.deleteRow(room)&lt;/PRE&gt;
---
&gt;<i> &lt;pre class=&quot;python&quot;&gt;
</I>&gt;<i> reflector.deleteRow(room)
</I>&gt;<i> &lt;/pre&gt;
</I>202,203c213,214
&lt; &lt;/BODY&gt;
&lt; &lt;/HTML&gt;
---
&gt;<i> &lt;/body&gt;
</I>&gt;<i> &lt;/html&gt;
</I>




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001669.html">[Twisted-Python] Is X.25 supported?
</A></li>
	<LI>Next message: <A HREF="001700.html">[Twisted-Python] row.html howto XHTML compliance [PATCH]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1699">[ date ]</a>
              <a href="thread.html#1699">[ thread ]</a>
              <a href="subject.html#1699">[ subject ]</a>
              <a href="author.html#1699">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
