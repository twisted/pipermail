<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] OS X build issues..
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20OS%20X%20build%20issues..&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001687.html">
   <LINK REL="Next"  HREF="001763.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] OS X build issues..</H1>
    <B>Bob Ippolito</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20OS%20X%20build%20issues..&In-Reply-To="
       TITLE="[Twisted-Python] OS X build issues..">bob at redivi.com
       </A><BR>
    <I>Sat Sep 21 16:59:33 EDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="001687.html">[Twisted-Python] real code examples
</A></li>
        <LI>Next message: <A HREF="001763.html">[Twisted-Python] OS X build issues..
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1688">[ date ]</a>
              <a href="thread.html#1688">[ thread ]</a>
              <a href="subject.html#1688">[ subject ]</a>
              <a href="author.html#1688">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Just FYI, the C modules don't build on OS X.  Shouldn't be a difficult 
fix, perhaps I'll do a patch later..  not sure if I'll have the time.

-bob

checking for sys/poll.h ...
conftest.c:1: header file 'sys/poll.h' not found
cpp-precomp: warning: errors during smart preprocessing, retrying in 
basic mode
The C reactor is unavailable on this system.
checking for rpc/pmap_clnt.h ...
/usr/include/rpc/pmap_clnt.h:91: undefined type, found `bool_t'
/usr/include/rpc/pmap_clnt.h:91: syntax error, found `int'
/usr/include/rpc/pmap_clnt.h:91: illegal function definition, found `)'
/usr/include/rpc/pmap_clnt.h:92: undefined type, found `bool_t'
/usr/include/rpc/pmap_clnt.h:94: syntax error, found `u_long'
/usr/include/rpc/pmap_clnt.h:94: illegal function definition, found `)'
/usr/include/rpc/pmap_clnt.h:99: syntax error, found `char'
/usr/include/rpc/pmap_clnt.h:99: illegal function definition, found `)'
/usr/include/rpc/pmap_clnt.h:103: undefined type, found `u_short'
/usr/include/rpc/pmap_clnt.h:103: syntax error, found `u_long'
/usr/include/rpc/pmap_clnt.h:103: illegal function definition, found `)'
cpp-precomp: warning: errors during smart preprocessing, retrying in 
basic mode
In file included from conftest.c:2:
/usr/include/rpc/pmap_clnt.h:91: parse error before &quot;pmap_set&quot;
/usr/include/rpc/pmap_clnt.h:91: parse error before &quot;int&quot;
/usr/include/rpc/pmap_clnt.h:92: parse error before &quot;pmap_unset&quot;
/usr/include/rpc/pmap_clnt.h:94: parse error before &quot;u_long&quot;
/usr/include/rpc/pmap_clnt.h:99: parse error before &quot;char&quot;
/usr/include/rpc/pmap_clnt.h:99: parse error before ')' token
/usr/include/rpc/pmap_clnt.h:103: parse error before &quot;pmap_getport&quot;
/usr/include/rpc/pmap_clnt.h:103: parse error before &quot;u_long&quot;
The C reactor is unavailable on this system.
building 'twisted.spread.cBanana' extension
creating build/temp.darwin-6.1-Power Macintosh-2.2
gcc -DNDEBUG -g -O3 -Wall -Wstrict-prototypes -no-cpp-precomp 
-I/usr/include/python2.2 -c twisted/spread/cBanana.c -o 
build/temp.darwin-6.1-Power Macintosh-2.2/cBanana.o
gcc -arch i386 -arch ppc -bundle -flat_namespace -undefined suppress 
build/temp.darwin-6.1-Power Macintosh-2.2/cBanana.o -o 
build/lib.darwin-6.1-Power Macintosh-2.2/twisted/spread/cBanana.so
ld: for architecture i386
ld: warning /usr/lib/bundle1.o cputype (18, architecture ppc) does not 
match cputype (7) for specified -arch flag: i386 (file not loaded)
ld: warning build/temp.darwin-6.1-Power Macintosh-2.2/cBanana.o cputype 
(18, architecture ppc) does not match cputype (7) for specified -arch 
flag: i386 (file not loaded)
ld: warning /usr/lib/gcc/darwin/3.1/libgcc.a archive's cputype (18, 
architecture ppc) does not match cputype (7) for specified -arch flag: 
i386 (can't load from it)
ld: warning /usr/lib/libSystem.dylib cputype (18, architecture ppc) 
does not match cputype (7) for specified -arch flag: i386 (file not 
loaded)
building 'twisted.internet.cReactor' extension
gcc -DNDEBUG -g -O3 -Wall -Wstrict-prototypes -no-cpp-precomp 
-I/usr/include/python2.2 -c twisted/internet/cReactor/cReactor.c -o 
build/temp.darwin-6.1-Power Macintosh-2.2/cReactor.o
In file included from twisted/internet/cReactor/cReactor.c:22:
twisted/internet/cReactor/cReactor.h:23:22: sys/poll.h: No such file or 
directory
twisted/internet/cReactor/cReactor.c: In function 
`iterate_rebuild_pollfd_arrray':
twisted/internet/cReactor/cReactor.c:508: sizeof applied to an 
incomplete type
twisted/internet/cReactor/cReactor.c:541: dereferencing pointer to 
incomplete type
twisted/internet/cReactor/cReactor.c:542: dereferencing pointer to 
incomplete type
twisted/internet/cReactor/cReactor.c:549: dereferencing pointer to 
incomplete type
twisted/internet/cReactor/cReactor.c:549: `POLLIN' undeclared (first 
use in this function)
twisted/internet/cReactor/cReactor.c:549: (Each undeclared identifier 
is reported only once
twisted/internet/cReactor/cReactor.c:549: for each function it appears 
in.)
twisted/internet/cReactor/cReactor.c:558: dereferencing pointer to 
incomplete type
twisted/internet/cReactor/cReactor.c:558: `POLLOUT' undeclared (first 
use in this function)
twisted/internet/cReactor/cReactor.c:562: dereferencing pointer to 
incomplete type
twisted/internet/cReactor/cReactor.c:564: increment of pointer to 
unknown structure
twisted/internet/cReactor/cReactor.c:564: arithmetic on pointer to an 
incomplete type
twisted/internet/cReactor/cReactor.c: In function 
`iterate_process_pollfd_array':
twisted/internet/cReactor/cReactor.c:588: increment of pointer to 
unknown structure
twisted/internet/cReactor/cReactor.c:588: arithmetic on pointer to an 
incomplete type
twisted/internet/cReactor/cReactor.c:591: dereferencing pointer to 
incomplete type
twisted/internet/cReactor/cReactor.c:597: dereferencing pointer to 
incomplete type
twisted/internet/cReactor/cReactor.c:602: dereferencing pointer to 
incomplete type
twisted/internet/cReactor/cReactor.c:602: `POLLIN' undeclared (first 
use in this function)
twisted/internet/cReactor/cReactor.c:607: dereferencing pointer to 
incomplete type
twisted/internet/cReactor/cReactor.c:607: `POLLOUT' undeclared (first 
use in this function)
twisted/internet/cReactor/cReactor.c:612: dereferencing pointer to 
incomplete type
twisted/internet/cReactor/cReactor.c: In function `iterate_internal':
twisted/internet/cReactor/cReactor.c:777: warning: implicit declaration 
of function `poll'
error: command 'gcc' failed with exit status 1



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001687.html">[Twisted-Python] real code examples
</A></li>
	<LI>Next message: <A HREF="001763.html">[Twisted-Python] OS X build issues..
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1688">[ date ]</a>
              <a href="thread.html#1688">[ thread ]</a>
              <a href="subject.html#1688">[ subject ]</a>
              <a href="author.html#1688">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
