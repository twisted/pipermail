<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] serial datatype in t.e.row
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20serial%20datatype%20in%20t.e.row&In-Reply-To=%3C3D85130D.4030506%40cubik.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="034174.html">
   <LINK REL="Next"  HREF="034104.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] serial datatype in t.e.row</H1>
    <B>Bruce Mitchener</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20serial%20datatype%20in%20t.e.row&In-Reply-To=%3C3D85130D.4030506%40cubik.org%3E"
       TITLE="[Twisted-Python] serial datatype in t.e.row">bruce at cubik.org
       </A><BR>
    <I>Sun Sep 15 17:09:01 MDT 2002</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="034174.html">[Twisted-Python] serial datatype in t.e.row
</A></li>
        <LI>Next message (by thread): <A HREF="034104.html">[Twisted-Python] container elements in domtemplate
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34171">[ date ]</a>
              <a href="thread.html#34171">[ thread ]</a>
              <a href="subject.html#34171">[ subject ]</a>
              <a href="author.html#34171">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sean Riley wrote:
&gt;<i> I have been looking at adding support for &quot;serial&quot; columns into
</I>&gt;<i> twisted.enterprise.row and it appears to be harder than i originally
</I>&gt;<i> thought.
</I>&gt;<i> 
</I>&gt;<i> ... snipped ...
</I>&gt;<i> 
</I>&gt;<i> But.. using twisted enterprise:
</I>&gt;<i> 
</I>&gt;<i> 	newRow = MyRow()
</I>&gt;<i> 	reflector.insertRow(newRow)
</I>&gt;<i> 
</I>&gt;<i> does effectively the same thing, but the newRow object doesn't know the
</I>&gt;<i> value of the index column (column1 in this case) that was just inserted, so
</I>&gt;<i> it doesn't know how to update or delete itself!
</I>&gt;<i> 
</I>&gt;<i> One solution may be to manually run a
</I>&gt;<i> 
</I>&gt;<i> 	SELECT nextval('sequencename')
</I>&gt;<i> 
</I>&gt;<i> to get the next value and use that for the insert, but this requires an
</I>&gt;<i> extra step for each insert, and requires that the we know which tables have
</I>&gt;<i> serial columns (suprisingly hard to figure out..) and makes the behavior for
</I>&gt;<i> tables with serial columns and no serial columns very different.
</I>
Ignoring the various problems that you're needing to solve, if you're 
using pyPgSQL, after an insert operation, the oid of the new row is 
available on the underlying pyPgSQL cursor object.  You can use that 
along with a select to get back the serial column value inserted rather 
than necessarily having to select off of the sequence.

  - Bruce



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="034174.html">[Twisted-Python] serial datatype in t.e.row
</A></li>
	<LI>Next message (by thread): <A HREF="034104.html">[Twisted-Python] container elements in domtemplate
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34171">[ date ]</a>
              <a href="thread.html#34171">[ thread ]</a>
              <a href="subject.html#34171">[ subject ]</a>
              <a href="author.html#34171">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
