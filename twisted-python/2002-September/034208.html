<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] row.html howto XHTML compliance [PATCH]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20row.html%20howto%20XHTML%20compliance%20%5BPATCH%5D&In-Reply-To=%3C1032305839.5642.5.camel%40sting%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="034207.html">
   <LINK REL="Next"  HREF="034183.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] row.html howto XHTML compliance [PATCH]</H1>
    <B>Jonathan Lange</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20row.html%20howto%20XHTML%20compliance%20%5BPATCH%5D&In-Reply-To=%3C1032305839.5642.5.camel%40sting%3E"
       TITLE="[Twisted-Python] row.html howto XHTML compliance [PATCH]">jml at mumak.net
       </A><BR>
    <I>Tue Sep 17 17:37:17 MDT 2002</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="034207.html">[Twisted-Python] row.html howto XHTML compliance [PATCH]
</A></li>
        <LI>Next message (by thread): <A HREF="034183.html">[Twisted-Python] DBReflector.loadObjectFrom question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34208">[ date ]</a>
              <a href="thread.html#34208">[ thread ]</a>
              <a href="subject.html#34208">[ subject ]</a>
              <a href="author.html#34208">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 2002-09-18 at 09:24, Jonathan Lange wrote:
&gt;<i> G'day all,
</I>&gt;<i> 
</I>&gt;<i> I noticed that admin/generate-domdocs failed on row.html, so I patched
</I>&gt;<i> it to be a well-formed XHTML document (and to have lowercase tags ;)
</I>&gt;<i> 
</I>&gt;<i> Patch below!
</I>&gt;<i> 
</I>
Was asked by spiv to resend this as a unidiff.
Here it is:

Index: doc/howto/row.html
===================================================================
RCS file: /cvs/Twisted/doc/howto/row.html,v
retrieving revision 1.9
diff -u -r1.9 row.html
--- doc/howto/row.html	23 Sep 2002 00:21:53 -0000	1.9
+++ doc/howto/row.html	23 Sep 2002 11:26:03 -0000
@@ -1,127 +1,134 @@
-&lt;HTML&gt;
-&lt;HEAD&gt;
-  &lt;TITLE&gt;Twisted Enterprise Row Objects&lt;/TITLE&gt;
-&lt;/HEAD&gt;
-&lt;BODY&gt;
+&lt;?xml version=&quot;1.0&quot;?&gt;
+&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot;
+    &quot;<A HREF="http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd</A>&quot;&gt;
+
+&lt;html xmlns=&quot;<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>&quot;&gt;
+&lt;head&gt;
+  &lt;title&gt;Twisted Enterprise Row Objects&lt;/title&gt;
+&lt;/head&gt;
+&lt;body&gt;
 
-&lt;H1&gt;Twisted Enterprise Row Objects&lt;/H1&gt;
+&lt;h1&gt;Twisted Enterprise Row Objects&lt;/h1&gt;
 
-&lt;P&gt;The &lt;CODE&gt;twisted.enterprise.row&lt;/CODE&gt; module is a method
+&lt;p&gt;The &lt;code&gt;twisted.enterprise.row&lt;/code&gt; module is a method
 of interfacing simple python objects with rows in relational database
-tables. It has two components: the &lt;CODE&gt;RowObject&lt;/CODE&gt; class
+tables. It has two components: the &lt;code&gt;RowObject&lt;/code&gt; class
 which developers sub-class for each relational table that their
-code interacts with, and the &lt;CODE&gt;DBReflector&lt;/CODE&gt; which generates
+code interacts with, and the &lt;code&gt;DBReflector&lt;/code&gt; which generates
 and contains the SQL to perform updates, inserts, queries and
-deletes against the database.&lt;/P&gt;
+deletes against the database.&lt;/p&gt;
 
-&lt;P&gt;The row module is intended for applications such as on-line
+&lt;p&gt;The row module is intended for applications such as on-line
 games, and web-site that require a back-end database interface.
 It is not a full functioned object-relational mapper for python
 - it deals best with simple data types structured in ways that
 can be easily represented in a relational database. It is well
 suited to building a python interface to an existing relational
 database, and slightly less suited to added database persistance
-to an existing python application.&lt;/P&gt;
+to an existing python application.&lt;/p&gt;
 
-&lt;P&gt;Currently, the row module requires the use of PostgreSQL.&lt;/P&gt;
+&lt;p&gt;Currently, the row module requires the use of PostgreSQL.&lt;/p&gt;
 
-&lt;H2&gt;Class Definitions&lt;/H2&gt;
+&lt;h2&gt;Class Definitions&lt;/h2&gt;
 
-&lt;P&gt;To interface to relational database tables, the developer must
-create a class derived from the
&lt;CODE&gt;twisted.enterprise.row.RowObject&lt;/CODE&gt;
+&lt;p&gt;To interface to relational database tables, the developer must
+create a class derived from the
&lt;code&gt;twisted.enterprise.row.RowObject&lt;/code&gt;
 class for each table. These derived classes must define a number
 of class attributes which contains information about the database
 table that class corresponds to. The required class attributes
-are:&lt;/P&gt;
+are:&lt;/p&gt;
 
-&lt;UL&gt;
-  &lt;LI&gt;rowColumns - list of the columns in the table with the correct
-  case
-  &lt;LI&gt;rowKeyColumns - list of key columns in form: [(columnName,
-  typeName)]
-  &lt;LI&gt;rowTableName - the name of the database table
+&lt;ul&gt;
+  &lt;li&gt;rowColumns - list of the columns in the table with the correct
+  case&lt;/li&gt;
+  &lt;li&gt;rowKeyColumns - list of key columns in form: [(columnName,
+  typeName)]&lt;/li&gt;
+  &lt;li&gt;rowTableName - the name of the database table&lt;/li&gt;
 &lt;/UL&gt;
 
-&lt;P&gt;There are also two optional class attributes that can be
specified:&lt;/P&gt;
+&lt;p&gt;There are also two optional class attributes that can be
specified:&lt;/p&gt;
 
-&lt;UL&gt;
-  &lt;LI&gt;rowForeignKeys - list of foreign keys to other database tables
+&lt;ul&gt;
+  &lt;li&gt;rowForeignKeys - list of foreign keys to other database tables
   in the form: [(tableName, [(columnName, columnType)],
containerMethodName,
-  autoLoad]
-  &lt;LI&gt;rowFactoryMethod - a method that creates instances of this
-  class
-&lt;/UL&gt;
+  autoLoad]&lt;/li&gt;
+  &lt;li&gt;rowFactoryMethod - a method that creates instances of this
+  class&lt;/li&gt;
+&lt;/ul&gt;
 
-&lt;P&gt;For example:&lt;/P&gt;
+&lt;p&gt;For example:&lt;/p&gt;
 
-&lt;PRE&gt;
+&lt;pre class=&quot;python&quot;&gt;
 class RoomRow(row.RowObject):
     rowColumns       =
[&quot;roomId&quot;,&quot;town_id&quot;,&quot;name&quot;,&quot;owner&quot;,&quot;posx&quot;,&quot;posy&quot;,&quot;width&quot;,&quot;height&quot;]
     rowKeyColumns    = [(&quot;id&quot;, &quot;int4&quot;)]
     rowTableName     = &quot;testrooms&quot;
-    rowFactoryMethod = [myRowFactory]&lt;/PRE&gt;
+    rowFactoryMethod = [myRowFactory]
+&lt;/pre&gt;
 
-&lt;P&gt;The items in the rowColumns list will become data members of
-classes of this type when they are created by the DBReflector.&lt;/P&gt;
+&lt;p&gt;The items in the rowColumns list will become data members of
+classes of this type when they are created by the DBReflector.&lt;/p&gt;
 
-&lt;H2&gt;Initialization&lt;/H2&gt;
+&lt;h2&gt;Initialization&lt;/h2&gt;
 
-&lt;P&gt;The initialization phase builds the SQL for the database
interactions.
+&lt;p&gt;The initialization phase builds the SQL for the database
interactions.
 It uses the system catalogs of the database to do this, but requires
 some basic information to get started. The class attributes of
 the classes derived from RowClass are used for this. Those clases
-are passed to the DBReflector when it is created.&lt;/P&gt;
+are passed to the DBReflector when it is created.&lt;/p&gt;
 
-&lt;P&gt;An example class list for the RoomRow class we specified above:&lt;/P&gt;
+&lt;p&gt;An example class list for the RoomRow class we specified above:&lt;/p&gt;
 
-&lt;PRE&gt;
+&lt;pre class=&quot;python&quot;&gt;
 def runTests(result):
     print &quot;Done initializing&quot;
 
 dbpool = adbapi.ConnectionPool(&quot;pyPgSQL.PgSQL&quot;)
-reflector = row.DBReflector( dbpool, [RoomRow], runTests )&lt;/PRE&gt;
+reflector = row.DBReflector( dbpool, [RoomRow], runTests )
+&lt;/pre&gt;
 
-&lt;H2&gt;Creating Row Objects&lt;/H2&gt;
+&lt;h2&gt;Creating Row Objects&lt;/h2&gt;
 
-&lt;P&gt;There are two methods of creating RowObjects - loading from
-the database, and creating a new instance ready to be inserted.&lt;/P&gt;
+&lt;p&gt;There are two methods of creating RowObjects - loading from
+the database, and creating a new instance ready to be inserted.&lt;/p&gt;
 
-&lt;P&gt;To load rows from the database and create RowObject instances
+&lt;p&gt;To load rows from the database and create RowObject instances
 for each of the rows, use the loadObjectsFrom method of the Reflector.
 This takes a tableName, an optional &quot;user data&quot; parameter,
 and an optional &quot;where clause&quot;. The where clause may
 be omitted which will retrieve all the rows from the table. For
-example:&lt;/P&gt;
+example:&lt;/p&gt;
 
-&lt;PRE&gt;
+&lt;pre class=&quot;python&quot;&gt;
 def gotRooms(rooms):
     for room in rooms:
         print &quot;Got room:&quot;, room.id
 
-refector.loadObjectsFrom(&quot;testrooms&quot;,
whereClause=[(&quot;id&quot;, reflector.EQUAL,
5)]).addCallback(gotRooms)&lt;/PRE&gt;
+refector.loadObjectsFrom(&quot;testrooms&quot;,
whereClause=[(&quot;id&quot;, reflector.EQUAL,
5)]).addCallback(gotRooms)
+&lt;/pre&gt;
 
-&lt;P&gt;For more advanced RowObject construction, loadObjectsFrom may
+&lt;p&gt;For more advanced RowObject construction, loadObjectsFrom may
 use a factoryMethod that was specified as a class attribute for
 the RowClass derived class. This method will be called for each
 of the rows with the class object, the userData parameter, and
 a dictionary of data from the database keyed by column name. This
 factory method should return a fully populated RowObject instance
 and may be used to do pre-processing, lookups, and data transformations
-before exposing the data to user code. An example factory method:&lt;/P&gt;
+before exposing the data to user code. An example factory method:&lt;/p&gt;
 
-&lt;PRE&gt;
+&lt;pre class=&quot;python&quot;&gt;
 def testRoomFactory(roomClass, userData, kw):
     newRoom = roomClass(userData)
     newRoom.__dict__.update(kw)
-    return newRoom&lt;/PRE&gt;
+    return newRoom&lt;/pre&gt;
 
-&lt;P&gt;The last method of creating a row object is for new instances
+&lt;p&gt;The last method of creating a row object is for new instances
 that do not already exist in the database table. In this case,
 create a new instance and assign its primary key attributes and
 all of its member data attributes, then pass it to the
&quot;insertRow&quot;
-method of the DBReflector. For example:&lt;/P&gt;
+method of the DBReflector. For example:&lt;/p&gt;
 
-&lt;PRE&gt;
+&lt;pre class=&quot;python&quot;&gt;
     newRoom = RoomRow()
     newRoom.assignKeyAttr(&quot;roomId&quot;, 11)
     newRoom.town_id = 20
@@ -131,73 +138,77 @@
     newRoom.posy = 100
     newRoom.width = 15
     newRoom.height = 20
-    reflector.insertRow(newRoom).addCallback(onInsert)&lt;/PRE&gt;
+    reflector.insertRow(newRoom).addCallback(onInsert)
+&lt;/pre&gt;
 
-&lt;P&gt;This will insert a new row into the database table for this
+&lt;p&gt;This will insert a new row into the database table for this
 new RowObject instance. Note that the &quot;assignKeyAttr&quot;
 method must be used to set primary key attributes - regular attribute
 assignment of a primary key attribute of a rowObject will raise
 an exception. This prevents the database identity of RowObject
-from being changed by mistake.&lt;/P&gt;
+from being changed by mistake.&lt;/p&gt;
 
-&lt;P&gt;&nbsp;&lt;/P&gt;
 
-&lt;H2&gt;Relationships Between Tables&lt;/H2&gt;
+&lt;h2&gt;Relationships Between Tables&lt;/h2&gt;
 
-&lt;P&gt;Specifying a foreign key for a RowClass creates a relationship
-between database tables. When &lt;I&gt;loadObjectsFrom&lt;/I&gt; is called for a
-table, it will automatically load all the children rows for the rows
-from the specified table. The child rows will be put into a list
-member variable of the rowObject instance with the name &quot;childRows&quot; or
-if a &lt;i&gt;containerMethod&lt;/i&gt; is specified for the foreign key
-relationship, that method will be called on the parent row object for
-each row that is being added to it as a child.&lt;/P&gt;
+&lt;p&gt;Specifying a foreign key for a RowClass creates a relationship
+between database tables. When &lt;code
+class=&quot;python&quot;&gt;loadObjectsFrom&lt;/code&gt; is called for a table, it will
+automatically load all the children rows for the rows from the
specified
+table. The child rows will be put into a list member variable of the
+rowObject instance with the name &quot;childRows&quot; or if a
+&lt;i&gt;containerMethod&lt;/i&gt; is specified for the foreign key relationship,
+that method will be called on the parent row object for each row that
is
+being added to it as a child.&lt;/p&gt;
 
-&lt;P&gt;The &lt;i&gt;autoLoad&lt;/i&gt; member of the foreign key definition is a flag
+&lt;p&gt;The &lt;i&gt;autoLoad&lt;/i&gt; member of the foreign key definition is a flag
 that specifies whether child rows should be auto-loaded for that
-relationship when a parent row is loaded.
+relationship when a parent row is loaded.&lt;/p&gt;
 
-&lt;H2&gt;Duplicate Row Objects&lt;/H2&gt;
+&lt;h2&gt;Duplicate Row Objects&lt;/h2&gt;
 
-&lt;P&gt;If a reflector tries to load an instance of a rowObject that
+&lt;p&gt;If a reflector tries to load an instance of a rowObject that
 is already loaded, it will return a reference to the existing
 rowObject rather than creating a new instance. The reflector maintains
 a cache of weak references to all loaded row objects by their
-unique keys for this purpose.&lt;/P&gt;
+unique keys for this purpose.&lt;/p&gt;
 
-&lt;H2&gt;Updating Row Objects&lt;/H2&gt;
+&lt;h2&gt;Updating Row Objects&lt;/h2&gt;
 
-&lt;P&gt;RowObjects have a &quot;dirty&quot; member attribute that is
+&lt;p&gt;RowObjects have a &quot;dirty&quot; member attribute that is
 set to 1 when any of the member attributes of the instance that
 map to database columns are changed. This dirty flag can be used
 to tell when RowObjects need to be updated back to the database.
 In addition, the &quot;setDirty&quot; method can be overridden
 to provide more complex automated handling such as dirty lists
-(be sure to call the base class setDirty though!).&lt;/P&gt;
+(be sure to call the base class setDirty though!).&lt;/p&gt;
 
-&lt;P&gt;When it is determined that a RowObject instance is dirty and
+&lt;p&gt;When it is determined that a RowObject instance is dirty and
 need to have its state updated into the database, pass that object
-to the &quot;updateRow&quot; method of the DBReflector. For
example:&lt;/P&gt;
+to the &quot;updateRow&quot; method of the DBReflector. For
example:&lt;/p&gt;
 
-&lt;PRE&gt;
-    reflector.updateRow(room).addCallback(onUpdated)&lt;/PRE&gt;
+&lt;pre class=&quot;python&quot;&gt;
+reflector.updateRow(room).addCallback(onUpdated)\
+&lt;/pre&gt;
 
-&lt;P&gt;For more complex behavior, the reflector can generate the SQL
+&lt;p&gt;For more complex behavior, the reflector can generate the SQL
 for the update but not perform the update. This can be useful
-for batching up multiple updates into single requests. For example:&lt;/P&gt;
+for batching up multiple updates into single requests. For example:&lt;/p&gt;
 
-&lt;PRE&gt;
-    updateSQL = reflector.updateRowSQL(room)&lt;/PRE&gt;
+&lt;pre class=&quot;python&quot;&gt;
+updateSQL = reflector.updateRowSQL(room)\
+&lt;/pre&gt;
 
-&lt;H2&gt;Deleting Row Objects&lt;/H2&gt;
+&lt;h2&gt;Deleting Row Objects&lt;/h2&gt;
 
-&lt;P&gt;To delete a row from a database pass the RowObject instance
+&lt;p&gt;To delete a row from a database pass the RowObject instance
 for that row to the DBReflector &quot;deleteRow&quot; method.
-Deleting the python Rowobject instance does &lt;EM&gt;not&lt;/EM&gt; automatically
-delete the row from the database. For example:&lt;/P&gt;
+Deleting the python Rowobject instance does &lt;em&gt;not&lt;/em&gt; automatically
+delete the row from the database. For example:&lt;/p&gt;
 
-&lt;PRE&gt;
-    reflector.deleteRow(room)&lt;/PRE&gt;
+&lt;pre class=&quot;python&quot;&gt;
+reflector.deleteRow(room)
+&lt;/pre&gt;
 
-&lt;/BODY&gt;
-&lt;/HTML&gt;
+&lt;/body&gt;
+&lt;/html&gt;







</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="034207.html">[Twisted-Python] row.html howto XHTML compliance [PATCH]
</A></li>
	<LI>Next message (by thread): <A HREF="034183.html">[Twisted-Python] DBReflector.loadObjectFrom question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34208">[ date ]</a>
              <a href="thread.html#34208">[ thread ]</a>
              <a href="subject.html#34208">[ subject ]</a>
              <a href="author.html#34208">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
