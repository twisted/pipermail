<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] domtemplate examples
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20domtemplate%20examples&In-Reply-To=3D822D9E.9040801%40cubik.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001642.html">
   <LINK REL="Next"  HREF="001627.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] domtemplate examples</H1>
    <B>Donovan Preston</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20domtemplate%20examples&In-Reply-To=3D822D9E.9040801%40cubik.org"
       TITLE="[Twisted-Python] domtemplate examples">dp at twistedmatrix.com
       </A><BR>
    <I>Sat Sep 14 15:52:39 EDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="001642.html">[Twisted-Python] domtemplate examples
</A></li>
        <LI>Next message: <A HREF="001627.html">[Twisted-Python] Another proposal for new look for website 
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1655">[ date ]</a>
              <a href="thread.html#1655">[ thread ]</a>
              <a href="subject.html#1655">[ subject ]</a>
              <a href="author.html#1655">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Bruce,

Your code totally rocks, and I liked it so much I abstracted it to 
apply to all Widgets, automatically. Basically, here's how it works;

I added a new method to Widget, setUp(self, request, node, data), which 
gets called before generateDOM. The common case of overriding 
generateDOM, doing some setup work, and then calling Widget.generateDOM 
can now be implemented by overriding setUp. As an added bonus, the 
Model data that the widget is meant to be operating on is passed in to 
the fourth parameter, data.

Then, I changed the way Widgets are rendered so that if a Widget is 
operating on a subModel which happens to be a Deferred instance, both 
setUp and generateDOM will be deferred until after the Deferred 
instance fires. So, you can make a database call in Model.__init__, 
save the deferred in a subModel, apply a Widget to the subModel, and 
you don't have to do anything to have your Widget operate correctly. 
Attached is an example.

Thanks for the clarity and inspiration, bruce!

-------------- next part --------------
A non-text attachment was scrubbed...
Name: deferredList.rpy
Type: application/applefile
Size: 470 bytes
Desc: not available
Url : <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20020914/f635b09a/attachment.bin">http://twistedmatrix.com/pipermail/twisted-python/attachments/20020914/f635b09a/attachment.bin</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: deferredList.rpy
Type: application/text
Size: 80 bytes
Desc: not available
Url : <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20020914/f635b09a/attachment-0001.bin">http://twistedmatrix.com/pipermail/twisted-python/attachments/20020914/f635b09a/attachment-0001.bin</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: deferredList.py
Type: application/applefile
Size: 469 bytes
Desc: not available
Url : <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20020914/f635b09a/attachment-0002.bin">http://twistedmatrix.com/pipermail/twisted-python/attachments/20020914/f635b09a/attachment-0002.bin</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: deferredList.py
Type: application/text
Size: 1200 bytes
Desc: not available
Url : <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20020914/f635b09a/attachment-0003.bin">http://twistedmatrix.com/pipermail/twisted-python/attachments/20020914/f635b09a/attachment-0003.bin</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001642.html">[Twisted-Python] domtemplate examples
</A></li>
	<LI>Next message: <A HREF="001627.html">[Twisted-Python] Another proposal for new look for website 
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1655">[ date ]</a>
              <a href="thread.html#1655">[ thread ]</a>
              <a href="subject.html#1655">[ subject ]</a>
              <a href="author.html#1655">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
