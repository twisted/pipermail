<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [XML-SIG] Re: [Twisted-Python] Can anyone recommend a sensible XML parser for Python?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BXML-SIG%5D%20Re%3A%20%5BTwisted-Python%5D%20Can%20anyone%20recommend%20a%20sensible%0A%20XML%20parser%20for%20Python%3F&In-Reply-To=%3C20020906.224442.74757833.glyph%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="034094.html">
   <LINK REL="Next"  HREF="034098.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[XML-SIG] Re: [Twisted-Python] Can anyone recommend a sensible XML parser for Python?</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BXML-SIG%5D%20Re%3A%20%5BTwisted-Python%5D%20Can%20anyone%20recommend%20a%20sensible%0A%20XML%20parser%20for%20Python%3F&In-Reply-To=%3C20020906.224442.74757833.glyph%40twistedmatrix.com%3E"
       TITLE="[XML-SIG] Re: [Twisted-Python] Can anyone recommend a sensible XML parser for Python?">glyph at twistedmatrix.com
       </A><BR>
    <I>Fri Sep  6 21:44:42 MDT 2002</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="034094.html">[XML-SIG] Re: [Twisted-Python] Can anyone recommend a sensible XML parser for Python?
</A></li>
        <LI>Next message (by thread): <A HREF="034098.html">[XML-SIG] Re: [Twisted-Python] Can anyone recommend a sensible XML parser for Python?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34092">[ date ]</a>
              <a href="thread.html#34092">[ thread ]</a>
              <a href="subject.html#34092">[ subject ]</a>
              <a href="author.html#34092">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Fri, 06 Sep 2002 17:31:51 -0600, Uche Ogbuji &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">uche.ogbuji at fourthought.com</A>&gt; wrote:

&gt;<i> BTW, from what you're describing above, you are *not* parsing XHTML.  If it 
</I>&gt;<i> violates the DTD, it is not XHTML.  Period.
</I>
&gt;<i> Just say you're parsing &quot;HTML&quot; and don't mention a version.  That's the only 
</I>&gt;<i> way to say it correctly  ;-)
</I>
OK, &quot;XML which browsers will render&quot;.  I am not parsing HTML, in that I won't
accept XML that is not well-formed.  I suppose I could try to wrap HtmlParser
with minidom... yuck.  Gross, but probably a good idea, come to think of it :)

&gt;<i> Well, no one can tell you what to do with your time, but such general comments 
</I>&gt;<i> are not very useful.  It's not as if you posted 10 bug reports, then threw up 
</I>&gt;<i> your hands and said &quot;I'm blowing this joint&quot;.  You made one vague mention of a 
</I>&gt;<i> cloneNode bug, without even a bare test case.
</I>
The reason I mentioned the cloneNode bug is because it is the most reliable and
the most trivial to demonstrate.  Like I said; at some point, I will clean up
my complaints and submit some bug reports.  Here's a &quot;bare test case&quot; of that
particular spurious accusation:

    <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at zelda</A>:~% python
    Python 2.2.1 (#1, Aug 30 2002, 09:36:47) 
    [GCC 2.95.4 20011002 (Debian prerelease)] on linux2
    Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
    &gt;&gt;&gt; from xml.dom.minidom import parseString
    &gt;&gt;&gt; parseString(&quot;&lt;hello_world/&gt;&quot;).cloneNode(1)
    Traceback (most recent call last):
      File &quot;&lt;stdin&gt;&quot;, line 1, in ?
      File &quot;/usr/lib/python2.2/site-packages/_xmlplus/dom/minidom.py&quot;, line 186, in cloneNode
        clone = _clone_node(self, deep, self.ownerDocument or self)
      File &quot;/usr/lib/python2.2/site-packages/_xmlplus/dom/minidom.py&quot;, line 1248, in _clone_node
        elif node.nodeType == PROCESSING_INSTRUCTION_NODE:
    NameError: global name 'PROCESSING_INSTRUCTION_NODE' is not defined

In order to do the work I want to do, though, those bug reports aren't going to
help.  Even if you resolved every bug report that I submitted within a week, I
would be stuck in the same place I am now: I have to work around the bugs in a
bunch of old versions of PyXML or produce what amounts to my own
`implementation' of an XML parser.  Granted, if I packaged a newer, fixed-up
version of PyXML with Twisted, I wouldn't have to be mucking about with bits
and bytes -- but I *would* have to understand the entire ontology of confusion
associated with cross-language XML APIs.

My main frustration is with packaging.  If all the world were running Debian
unstable, I'd be fine: I'd just say Depends: python2.2-xml &gt;= 0.9.  However,
with lots of users in Windows, and many more on other linux platforms with less
pleasant package management, every new package that Twisted requires is another
fifteen minutes that the software takes to get running.  It's already confusing
enough to understand it when it *works*; I want the process of getting it
running to be as seamless as possible :).

For the applications that I'm intending to write, just doing my own parser and
API is both more appealing and more rewarding.  Neither DOM nor SAX will
present an API which allows me to get network XML events in quite the way I
want, so I'm going to have to do some wrapping.  (I do wish pyRXP were
event-based... it's very close, in spirit, to what I want.)  If the general
quality of XML parsers in Python were really high, I would regard this impulse
as contrary and counterproductive -- why write my own library for doing this
when perfectly good ones already exist and and are deployed all over the place?

So maybe I'm just rationalizing what I would have done anyway.  Nevertheless,
it is easier to write my own XML parser than to even properly report the bugs
that I have thus far discovered.

&gt;<i> No one gets paid to develop PyXML, but if you come our way a bit, we're quite 
</I>&gt;<i> willing to help.
</I>
I appreciate that.  At some point I hope to have the time to run down every
last bug I've found and help PyXML to become very robust.  (I know that my
requirements are at least a little esoteric; I don't plan for Twisted to be a
general-purpose XML processing toolkit!)  Despite my various problems with it,
PyXML *is* what got me to see why XML might be worthwhile and kind of cool in
some circumstances.

For more information my perception of XML, and why my requirements are as
stripped-down as they are, look at the presentation here:

    <A HREF="http://xmlsucks.org/but_you_have_to_use_it_anyway/">http://xmlsucks.org/but_you_have_to_use_it_anyway/</A>

(Yes, it's a real URL, and it's not mine.)

-- 
 |    &lt;`'&gt;    |  Glyph Lefkowitz: Traveling Sorcerer   |
 |   &lt; _/ &gt;   |  Lead Developer,  the Twisted project  |
 |  &lt; ___/ &gt;  |      <A HREF="http://www.twistedmatrix.com">http://www.twistedmatrix.com</A>      |
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
URL: &lt;/pipermail/twisted-python/attachments/20020906/744f9cc4/attachment.sig&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="034094.html">[XML-SIG] Re: [Twisted-Python] Can anyone recommend a sensible XML parser for Python?
</A></li>
	<LI>Next message (by thread): <A HREF="034098.html">[XML-SIG] Re: [Twisted-Python] Can anyone recommend a sensible XML parser for Python?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34092">[ date ]</a>
              <a href="thread.html#34092">[ thread ]</a>
              <a href="subject.html#34092">[ subject ]</a>
              <a href="author.html#34092">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
