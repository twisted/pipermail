<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Multiple reactors, connecting to self,	or other solution?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Multiple%20reactors%2C%20connecting%20to%20self%2C%0A%09or%20other%20solution%3F&In-Reply-To=%3CCAGQ70euyO6SY%2BdryPrZw6R5gyToiZmvtCOm8%3DqEju9ARm6hprw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="062409.html">
   <LINK REL="Next"  HREF="029919.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Multiple reactors, connecting to self,	or other solution?</H1>
    <B>Oon-Ee Ng</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Multiple%20reactors%2C%20connecting%20to%20self%2C%0A%09or%20other%20solution%3F&In-Reply-To=%3CCAGQ70euyO6SY%2BdryPrZw6R5gyToiZmvtCOm8%3DqEju9ARm6hprw%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Multiple reactors, connecting to self,	or other solution?">ngoonee.talk at gmail.com
       </A><BR>
    <I>Fri Nov 20 01:32:32 MST 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="062409.html">[Twisted-Python] Multiple reactors, connecting to self,	or other solution?
</A></li>
        <LI>Next message (by thread): <A HREF="029919.html">[Twisted-Python] Twisted Trac filters my messages as Spam when	trying to update ticket #8102
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#62411">[ date ]</a>
              <a href="thread.html#62411">[ thread ]</a>
              <a href="subject.html#62411">[ subject ]</a>
              <a href="author.html#62411">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Nov 20, 2015 at 1:22 PM, Glyph Lefkowitz
&lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A>&gt; wrote:
&gt;&gt;<i> On Nov 19, 2015, at 9:19 PM, Oon-Ee Ng &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">ngoonee.talk at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Wed, Nov 18, 2015 at 4:55 PM, Glyph Lefkowitz
</I>&gt;&gt;<i> &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A>&gt; wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> On Nov 15, 2015, at 9:54 AM, Itamar Turner-Trauring &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">itamar at itamarst.org</A>&gt; wrote:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> On 11/15/2015 10:19 AM, Oon-Ee Ng wrote:
</I>&gt;&gt;&gt;&gt;&gt;<i> Based on my reading/searching, multiple reactors in the same process
</I>&gt;&gt;&gt;&gt;&gt;<i> (even in multiple threads) is pretty much a no-go because
</I>&gt;&gt;&gt;&gt;&gt;<i> twisted.internet.reactor is a global singleton.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> I'm also unable to find any information about connecting to self (for
</I>&gt;&gt;&gt;&gt;&gt;<i> example, to send messages from one reactor to itself).
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> You can just have a single reactor. E.g. if you do a listenTCP (e.g. on port 8080) on the reactor you can in the same process do a connectTCP to localhost in the same process on the same reactor; just connect to '127.0.0.1' or 'localhost' on port 8080.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> But of course you'd use &lt;<A HREF="https://twistedmatrix.com/documents/15.4.0/core/howto/endpoints.html">https://twistedmatrix.com/documents/15.4.0/core/howto/endpoints.html</A>&gt;, not 'listenTCP' and 'connectTCP' directly, right? :)
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> -glyph
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> But, but... I LIKE listen/connectTCP.... fits better with how I think.
</I>&gt;<i>
</I>&gt;<i> If you use connectTCP/listenTCP, you miss out on important functionality.  For example, listenTCP can't do encryption, which means it's unsuitable for use on the modern internet, unless your protocol calls startTLS right away.
</I>&gt;<i>
</I>&gt;<i> Also you don't get stuff like <A HREF="https://txtorcon.readthedocs.org">https://txtorcon.readthedocs.org</A> for free.
</I>&gt;<i>
</I>&gt;<i> So, connectTCP/listenTCP are low-level APIs that should really only be used for *implementing* an endpoint, not used directly by applications.  If this does not fit with how you think then you need to change how you think :).
</I>&gt;<i>
</I>&gt;<i> -glyph
</I>
I know better than to argue this point. My app as it currently stands
will only ever be used on local networks (doubt the way I'm designing
it would handle high latencies well), and I'm really using twisted as
a more convenient/performant socket with AMP on top.

That being said, using endpoints is easy enough (it seems), and I'm
going to give it a go once I'm done crafting all these messages (based
on the earlier response in this thread I'm totally cutting blinker out
of the app and replacing all my signals).


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="062409.html">[Twisted-Python] Multiple reactors, connecting to self,	or other solution?
</A></li>
	<LI>Next message (by thread): <A HREF="029919.html">[Twisted-Python] Twisted Trac filters my messages as Spam when	trying to update ticket #8102
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#62411">[ date ]</a>
              <a href="thread.html#62411">[ thread ]</a>
              <a href="subject.html#62411">[ subject ]</a>
              <a href="author.html#62411">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
