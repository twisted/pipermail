<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Implementing Postfix Inet Policy Check Client
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Implementing%20Postfix%20Inet%20Policy%20Check%20Client&In-Reply-To=%3CCADtv4OCMF3m58iVRe9btQY%3DhcHkxQ4yR6cDPsG%2BQoPCejVrVhw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="062405.html">
   <LINK REL="Next"  HREF="029928.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Implementing Postfix Inet Policy Check Client</H1>
    <B>exvito here</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Implementing%20Postfix%20Inet%20Policy%20Check%20Client&In-Reply-To=%3CCADtv4OCMF3m58iVRe9btQY%3DhcHkxQ4yR6cDPsG%2BQoPCejVrVhw%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Implementing Postfix Inet Policy Check Client">ex.vitorino at gmail.com
       </A><BR>
    <I>Thu Nov 19 17:10:26 MST 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="062405.html">[Twisted-Python] Implementing Postfix Inet Policy Check Client
</A></li>
        <LI>Next message (by thread): <A HREF="029928.html">[Twisted-Python] Suggested plan for GitHub migration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#62406">[ date ]</a>
              <a href="thread.html#62406">[ thread ]</a>
              <a href="subject.html#62406">[ subject ]</a>
              <a href="author.html#62406">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Nov 19, 2015 at 4:19 PM, Tom Boland &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">tom at t0mb.net</A>&gt; wrote:

&gt;<i> Thanks again for this.  It's really useful.  It turns out that the
</I>&gt;<i> delimiter is a plain old \n.  Who knows how consistent this will be between
</I>&gt;<i> different policy daemons, I don't know!
</I>&gt;<i>
</I>
I would check the Postfix docs for that.


&gt;<i> Now, this isn't a working example, it's just the minimum that will
</I>&gt;<i> demonstrate my idea.  I just wonder if what I've done with the
</I>&gt;<i> DeferredQueue is sane.  If I return the .get() entry from the DeferredQueue
</I>&gt;<i> when doing the request, and then do a put() in lineReceived, am I
</I>&gt;<i> guaranteeing that I will get my results in the correct order?
</I>&gt;<i>
</I>
The DeferredQueue is a nice approach: it ensures the get() results come out
in the same order as the put() calls.

The key question is whether or not the server handles multiple outstanding
requests within the same connection. Given your informal protocol
description, if the server supports it, it seems the responses must come
back in the same order as the requests were sent, otherwise there is
apparently no way to relate them; that being the case, what's the advantage
of pushing more than one request at a time if one slow request/response
&quot;transaction&quot; will delay a subsequent fast request/response &quot;transaction&quot;?

A variation of this, assuming the server only handles one outstanding
request at a time per connection, could be a protocol implementation that
would queue requests ensuring only one was sent at a time: this might
provide a cleaner client side API.

PS: My references to &quot;Postfix docs&quot; might need to be replaced by &quot;your
policy server docs&quot; which, hopefully, will match Postfix's... (you would
know that) :)

Cheers,
--
exvito
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20151120/3ee25ae2/attachment-0002.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="062405.html">[Twisted-Python] Implementing Postfix Inet Policy Check Client
</A></li>
	<LI>Next message (by thread): <A HREF="029928.html">[Twisted-Python] Suggested plan for GitHub migration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#62406">[ date ]</a>
              <a href="thread.html#62406">[ thread ]</a>
              <a href="subject.html#62406">[ subject ]</a>
              <a href="author.html#62406">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
