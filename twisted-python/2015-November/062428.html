<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] How to get the class of the wrapped fget/fset	property methods
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20How%20to%20get%20the%20class%20of%20the%20wrapped%20fget/fset%0A%09property%20methods&In-Reply-To=%3C6D0C62E4-7955-4295-95CD-96A863AE58A4%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="029963.html">
   <LINK REL="Next"  HREF="062432.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] How to get the class of the wrapped fget/fset	property methods</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20How%20to%20get%20the%20class%20of%20the%20wrapped%20fget/fset%0A%09property%20methods&In-Reply-To=%3C6D0C62E4-7955-4295-95CD-96A863AE58A4%40twistedmatrix.com%3E"
       TITLE="[Twisted-Python] How to get the class of the wrapped fget/fset	property methods">glyph at twistedmatrix.com
       </A><BR>
    <I>Sun Nov 22 17:32:38 MST 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="029963.html">[Twisted-Python] How to get the class of the wrapped fget/fset	property methods
</A></li>
        <LI>Next message (by thread): <A HREF="062432.html">[Twisted-Python] How to get the class of the wrapped fget/fset property methods
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#62428">[ date ]</a>
              <a href="thread.html#62428">[ thread ]</a>
              <a href="subject.html#62428">[ subject ]</a>
              <a href="author.html#62428">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> On Nov 22, 2015, at 07:04, Adi Roiban &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">adi at roiban.ro</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> The @deprecated decorator (at leas on py2.7) does not work when paired @property
</I>&gt;<i> 
</I>&gt;<i> For deprecated instance variables, our deprecation policy recommend converting them into properties and emitted the  warning from there.
</I>&gt;<i> It would be nice if we could use the standard @deprecated decorator here.
</I>&gt;<i> 
</I>&gt;<i> The problem is that when property are used the fget/fset are received by the @deprecated wrapper as functions and not as methods
</I>&gt;<i> 
</I>&gt;<i> Is there a way to get the class in which a property is defined... or there is no way to use the @deprecated decorator with the @property .. and we should create a dedicated deprecatedMember method which is called as a normal method. 
</I>
If you care about inheritance, the implementation is a little bit tricky, because you have to manually walk the class hierarchy looking for the attribute.  But conceptually it's pretty simple: just look at the type of 'oself' in the __get__ method of the returned descriptor.

Right now, @deprecated is hard-coded to assume a function, but it could be repurposed to work with specific other descriptor types reasonably easily.  Arbitrary descriptors might be hard, because it's not clear when to emit the message, but specific types like @property should be pretty straightforward with an instance check.

-glyph

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20151122/312f34e2/attachment-0002.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="029963.html">[Twisted-Python] How to get the class of the wrapped fget/fset	property methods
</A></li>
	<LI>Next message (by thread): <A HREF="062432.html">[Twisted-Python] How to get the class of the wrapped fget/fset property methods
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#62428">[ date ]</a>
              <a href="thread.html#62428">[ thread ]</a>
              <a href="subject.html#62428">[ subject ]</a>
              <a href="author.html#62428">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
