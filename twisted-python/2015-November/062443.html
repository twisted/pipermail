<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Question for obtaining mac-address
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Question%20for%20obtaining%20mac-address&In-Reply-To=%3C36858CE3-3270-48E4-846E-EEB11E7C6F6D%40lukasa.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="029981.html">
   <LINK REL="Next"  HREF="029983.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Question for obtaining mac-address</H1>
    <B>Cory Benfield</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Question%20for%20obtaining%20mac-address&In-Reply-To=%3C36858CE3-3270-48E4-846E-EEB11E7C6F6D%40lukasa.co.uk%3E"
       TITLE="[Twisted-Python] Question for obtaining mac-address">cory at lukasa.co.uk
       </A><BR>
    <I>Thu Nov 26 09:04:20 MST 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="029981.html">[Twisted-Python] Question for obtaining mac-address
</A></li>
        <LI>Next message (by thread): <A HREF="029983.html">[Twisted-Python] doc breakage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#62443">[ date ]</a>
              <a href="thread.html#62443">[ thread ]</a>
              <a href="subject.html#62443">[ subject ]</a>
              <a href="author.html#62443">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> On 26 Nov 2015, at 13:29, Pavel Zverev &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">pzverr at gmail.com</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> Have nice day, developers!
</I>&gt;<i> 
</I>&gt;<i> I am a beginner python developer, and recently I came across the Twisted framework, I was interested in whether I get the MAC-address of the client connected to the network, similar twisted.web.http.Request.getClientIP.
</I>
If you’re trying to get the MAC address of the client from an IP connection, then this is basically not possible. Once the packet has been handled as an IP packet, the MAC address is simply not used anymore. This is primarily because IP packets can cross layer 3 boundaries, so the MAC address from which a given IP packet arrived is potentially entirely unrelated to the MAC address of the source machine.

Generally speaking, I do not believe the socket layer provides any mechanism for obtaining the MAC address for the remote peer on a socket of type AF_INET: it’s just not relevant information.

Assuming you’re restricting yourself to the case where the client is on the same layer 2 broadcast domain as the server (again, hardly a guaranteed state of affairs), then the easiest way to obtain the MAC address is actually to grab it out of your machine’s ARP cache. If you execute `arp -a` (either in a shell or a Python subprocess), you will get access to the ARP cache on your machine which you can use to locate the MAC address for a given IP. This of course is IPv4 specific (ARP does not exist for IPv6): for IPv6 you’d want to use `ip -6 neigh show` (`ip neigh show` also works for ARP but provides quite a lot of info).

Cory

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 801 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: &lt;/pipermail/twisted-python/attachments/20151126/69f66750/attachment.sig&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="029981.html">[Twisted-Python] Question for obtaining mac-address
</A></li>
	<LI>Next message (by thread): <A HREF="029983.html">[Twisted-Python] doc breakage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#62443">[ date ]</a>
              <a href="thread.html#62443">[ thread ]</a>
              <a href="subject.html#62443">[ subject ]</a>
              <a href="author.html#62443">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
