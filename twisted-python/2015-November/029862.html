<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] INCOMPATIBLE CHANGE: removing dependency on PyCrypto
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20INCOMPATIBLE%20CHANGE%3A%20removing%20dependency%20on%0A%20PyCrypto&In-Reply-To=%3C563656E6.3050609%40lothar.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029861.html">
   <LINK REL="Next"  HREF="029863.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] INCOMPATIBLE CHANGE: removing dependency on PyCrypto</H1>
    <B>Brian Warner</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20INCOMPATIBLE%20CHANGE%3A%20removing%20dependency%20on%0A%20PyCrypto&In-Reply-To=%3C563656E6.3050609%40lothar.com%3E"
       TITLE="[Twisted-Python] INCOMPATIBLE CHANGE: removing dependency on PyCrypto">warner at lothar.com
       </A><BR>
    <I>Sun Nov  1 11:16:06 MST 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="029861.html">[Twisted-Python] INCOMPATIBLE CHANGE: removing dependency on	PyCrypto
</A></li>
        <LI>Next message: <A HREF="029863.html">[Twisted-Python] INCOMPATIBLE CHANGE: removing dependency on	PyCrypto
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29862">[ date ]</a>
              <a href="thread.html#29862">[ thread ]</a>
              <a href="subject.html#29862">[ subject ]</a>
              <a href="author.html#29862">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10/31/15 11:16 PM, Glyph Lefkowitz wrote:

&gt;<i> I'm working on a ticket - <A HREF="https://twistedmatrix.com/trac/ticket/7413">https://twistedmatrix.com/trac/ticket/7413</A> -
</I>&gt;<i> to eliminate the dependency on PyCrypto. Right now, in that branch,
</I>&gt;<i> those objects are Cryptography key objects instead of PyCrypto key
</I>&gt;<i> objects.
</I>&gt;<i> 
</I>&gt;<i> It is /possible/ to preserve compatibility with keyObject, and we
</I>&gt;<i> could deprecate and then remove objectType, with conditional
</I>&gt;<i> dependencies on PyCrypto. But before I go through the effort there,
</I>&gt;<i> I'm wondering if any users of conch actually care.
</I>
Tahoe-LAFS uses Conch for two features: an SFTP frontend, and a
&quot;manhole&quot; repl-inside-the-app debugging interface. Neither uses the keys
objects.

Tahoe *does* indicate a dependency on PyCrypto because conch uses it,
and at the time we found it was more reliable to depend upon the
transitive closure of our subdependencies. We'll need to fix that (as we
bring our packaging up to modern standards).

Our SFTP frontend currently uses &quot;from Crypto import Util&quot; as a test to
see whether twisted.conch.ssh.filetransfer is going to work, so the
failure happens early and we can provide a better &quot;your configuration
isn't going to work&quot; error message. I'm guessing we imported pycrypto
rather than t.c.ssh directly to work around some old importer bug (I
vaguely remember something about half-complete imports causing confusion
in some old version of python). The code in question is ancient and
we'll need to update that when Twisted stops using PyCrypto.

But in general, yeah, we'd love to see PyCrypto go away. We currently
depend on pycryptopp (for AES/RSA/Ed25519), PyCrypto (via conch for SFTP
and manhole), and 'cryptography' (via pyOpenSSL via Foolscap for server
connections). Reducing the dependency graph by one node would be great.

cheers,
 -Brian

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029861.html">[Twisted-Python] INCOMPATIBLE CHANGE: removing dependency on	PyCrypto
</A></li>
	<LI>Next message: <A HREF="029863.html">[Twisted-Python] INCOMPATIBLE CHANGE: removing dependency on	PyCrypto
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29862">[ date ]</a>
              <a href="thread.html#29862">[ thread ]</a>
              <a href="subject.html#29862">[ subject ]</a>
              <a href="author.html#29862">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
