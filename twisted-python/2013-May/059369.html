<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] suggestions for improvement in Twisted APIs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20suggestions%20for%20improvement%20in%20Twisted%20APIs&In-Reply-To=%3C1810A2A6-0CF7-4043-9FD8-57690843D685%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="059368.html">
   <LINK REL="Next"  HREF="059370.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] suggestions for improvement in Twisted APIs</H1>
    <B>Glyph</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20suggestions%20for%20improvement%20in%20Twisted%20APIs&In-Reply-To=%3C1810A2A6-0CF7-4043-9FD8-57690843D685%40twistedmatrix.com%3E"
       TITLE="[Twisted-Python] suggestions for improvement in Twisted APIs">glyph at twistedmatrix.com
       </A><BR>
    <I>Sat May  4 17:51:08 MDT 2013</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="059368.html">[Twisted-Python] suggestions for improvement in Twisted APIs
</A></li>
        <LI>Next message (by thread): <A HREF="059370.html">[Twisted-Python] Weekly Bug Summary
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59369">[ date ]</a>
              <a href="thread.html#59369">[ thread ]</a>
              <a href="subject.html#59369">[ subject ]</a>
              <a href="author.html#59369">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Miika,

On May 4, 2013, at 8:54 AM, Miika Komu &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">mkomu at cs.hut.fi</A>&gt; wrote:

&gt;<i> with connected sockets, (almost) the same API calls could be used and 
</I>&gt;<i> the details could be possibly abstracted away (some kind of a flag still 
</I>&gt;<i> needed to choose between TCP and UDP). A number of applications appear 
</I>&gt;<i> to support both TCP and UDP-based connectivity:
</I>
Supporting both TCP (stream-based) and UDP (datagram-based) communications requires explicit decisions on the part of the application, both in the design of the protocol and in the logic of its parsing.  The biggest difference is that TCP applications must implement logic to deal with framing, where as UDP applications do not need to, but there are other nuances as well.

See this frequently asked question for more information:

&lt;<A HREF="http://twistedmatrix.com/trac/wiki/FrequentlyAskedQuestions#Whyisprotocol.dataReceivedcalledwithonlypartofthedataIcalledtransport.writewith">http://twistedmatrix.com/trac/wiki/FrequentlyAskedQuestions#Whyisprotocol.dataReceivedcalledwithonlypartofthedataIcalledtransport.writewith</A>&gt;

&gt;<i> While it is possible to write almost identical code for the two transports, 
</I>&gt;<i> the Sockets API favors different functions for the two. This 
</I>&gt;<i> unnecessarily complicates the application code.
</I>
It does not &quot;unnecessarily complicate&quot; the application code; it introduces a different code path for a semantically distinct operation (transmit a datagram vs. transmit a stream segment).

Based on my experience helping people understand UDP in the past, I would hazard a guess that many of these application protocols that can run in hybrid TCP/UDP mode are simply full of bugs because their developers did UDP testing on a fast local network, where, under low load, UDP can superficially behave like TCP and did not appreciate the semantics of the low-level networking operations they were invoking.  Twisted at least makes the distinction explicit, so that in order to make this mistake you need to consciously implement the same code against two transports.

Thanks for looking into Twisted, though; the fact that we have already addressed most of your other criticisms in our development process indicates that most of the other issues you pointed out were spot on :).  I just hope that next time you'll have a look at a more recent version!

-glyph

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20130504/5e072290/attachment.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="059368.html">[Twisted-Python] suggestions for improvement in Twisted APIs
</A></li>
	<LI>Next message (by thread): <A HREF="059370.html">[Twisted-Python] Weekly Bug Summary
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59369">[ date ]</a>
              <a href="thread.html#59369">[ thread ]</a>
              <a href="subject.html#59369">[ subject ]</a>
              <a href="author.html#59369">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
