<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Serial transport protocol logging on Raspberry	Pi
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Serial%20transport%20protocol%20logging%20on%20Raspberry%0A%09Pi&In-Reply-To=%3CD00EB5B7-C70D-4A2B-8536-6FE03F043743%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027345.html">
   <LINK REL="Next"  HREF="027352.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Serial transport protocol logging on Raspberry	Pi</H1>
    <B>Lucas Taylor</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Serial%20transport%20protocol%20logging%20on%20Raspberry%0A%09Pi&In-Reply-To=%3CD00EB5B7-C70D-4A2B-8536-6FE03F043743%40gmail.com%3E"
       TITLE="[Twisted-Python] Serial transport protocol logging on Raspberry	Pi">ltaylor.volks at gmail.com
       </A><BR>
    <I>Sat Aug 24 11:37:04 MDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027345.html">[Twisted-Python] Serial transport protocol logging on Raspberry Pi
</A></li>
        <LI>Next message: <A HREF="027352.html">[Twisted-Python] Serial transport protocol logging on Raspberry Pi
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27350">[ date ]</a>
              <a href="thread.html#27350">[ thread ]</a>
              <a href="subject.html#27350">[ subject ]</a>
              <a href="author.html#27350">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Aug 23, 2013, at 1:53 PM, Phil Mayers wrote:

&gt;<i> On 08/23/2013 06:39 PM, Lucas Taylor wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> I suppose the obvious answer may be that the Pi is underpowered for
</I>&gt;&gt;<i> this task, but I am hoping to better understand why.  I may be able
</I>&gt;&gt;<i> to defer logging to a queue or find other workarounds, but I'd like
</I>&gt;&gt;<i> to figure out why basic usage of logging could be causing this.  Any
</I>&gt;&gt;<i> thoughts as to what I could be looking at next would be appreciated.
</I>&gt;<i> 
</I>&gt;<i> What is the data rate, and the nature of the serial ports (e.g. UART or USB?)
</I>&gt;<i> 
</I>&gt;<i> Your suggestion of CPU rings a little bell for me; IIRC the Pi had some (ahem) sub-optimal behaviour w.r.t. the USB controller in some hardware versions. There was some mild controversy over this, with various accusations slung back and forth in the forums, people getting banned for &quot;continuing to talk about it&quot; and so on. But I seem to recall timely data delivery under CPU load was a symptom, and it might be the overhead of Twisted/Python/logging drives the Pi too hard.
</I>&gt;<i> 
</I>&gt;<i> Where is the logging directed - I'm assuming NV storage which is the SD card? - you might try logging to RAM and not touching the storage or bus.
</I>&gt;<i> 
</I>
9600bps, using USB-Serial adapters (tried 3 different supported chipsets). Logging to local storage and also to stdout.

Now that I have waded through many Pi forum posts about USB behavior trying to figure this out, it seems that most of the USB-Serial issues had to do with freezes when accessing the serial port, or hanging after some length of continuous use. Those issues appear to have been resolved (or at least I am not experiencing them), but it does seem there may still be lingering hardware issues in search of driver fixes according to the forums. Lots of folks are using the Pi w/ USB serial adapters to good effect, though, so who knows?

At any rate, I don't think there is much to be done on the Twisted side. I have a few minor things left to try, but I have a feeling my curiosity about the root cause of this is going to disappear in favor of ponying up for a more substantial piece of hardware... 


Thanks for your reply,

Lucas
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027345.html">[Twisted-Python] Serial transport protocol logging on Raspberry Pi
</A></li>
	<LI>Next message: <A HREF="027352.html">[Twisted-Python] Serial transport protocol logging on Raspberry Pi
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27350">[ date ]</a>
              <a href="thread.html#27350">[ thread ]</a>
              <a href="subject.html#27350">[ subject ]</a>
              <a href="author.html#27350">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
