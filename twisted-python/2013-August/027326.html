<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Advice Request: Under what circumstances should I	use AMP's Command Response field?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Advice%20Request%3A%20Under%20what%20circumstances%20should%20I%0A%09use%20AMP%27s%20Command%20Response%20field%3F&In-Reply-To=%3C63B2B6C7-06A9-45A5-BF26-87BE08BC0110%40nehbit.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027325.html">
   <LINK REL="Next"  HREF="027327.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Advice Request: Under what circumstances should I	use AMP's Command Response field?</H1>
    <B>Burak Nehbit</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Advice%20Request%3A%20Under%20what%20circumstances%20should%20I%0A%09use%20AMP%27s%20Command%20Response%20field%3F&In-Reply-To=%3C63B2B6C7-06A9-45A5-BF26-87BE08BC0110%40nehbit.net%3E"
       TITLE="[Twisted-Python] Advice Request: Under what circumstances should I	use AMP's Command Response field?">burak at nehbit.net
       </A><BR>
    <I>Tue Aug 20 04:21:35 MDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027325.html">[Twisted-Python] Twisted as a House for Sale
</A></li>
        <LI>Next message: <A HREF="027327.html">[Twisted-Python] Advice Request: Under what circumstances should I use AMP's Command Response field?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27326">[ date ]</a>
              <a href="thread.html#27326">[ thread ]</a>
              <a href="subject.html#27326">[ subject ]</a>
              <a href="author.html#27326">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi there,

I was meaning to ask you all about the 'proper' way to use AMP in regards to two&#8211;way communication. The problem I am facing is quite simple, I am building a simple peer&#8211;to&#8211;peer network in which the user:

a) When sent a handshake, returns a handshake,
b) When asked for fingerprints of posts in the local, returns it, and then asks for the same thing,
and finally, c) If any of the fingerprints do not match posts, request those posts with the fingerprint.

The only non&#8211;symmetric step I have in my protocol is the last one.

My question is, should I send my responses over the same AMP command as a response to the command requested, or should I just return an ACK (a boolean value of true, to confirm receipt) and then initiate a separate AMP request from local to the same remote? 

That would mean I would need to handle my open&#8211;connections pool by myself, to prevent posts from a non&#8211;initiated machine being accepted into the local machine, but I do need to implement that anyway due to the complexity of my business rules. At that point, it seems that I am (Am I?) just using AMP as a remote method header I don't strictly need, and I could just use LineReceiver&#8212;all my data is text&#8212;to do my bidding. 

Am I missing anything AMP is doing silently for me? Am I using it the correct way?

Thanks in advance,

Best,
Burak





On Aug 20, 2013, at 8:47 AM, Laurens Van Houtven &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">_ at lvh.io</A>&gt; wrote:

&gt;<i> Hi Matt,
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Loved the story, excited about the prospects. Just one nitpick: after one of Glyph's rants on gender-neutral words, I got tripped up by Ronnie not being referred to as &quot;they&quot; ;-)
</I>&gt;<i> 
</I>&gt;<i> cheers
</I>&gt;<i> lvh
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 4343 bytes
Desc: not available
URL: &lt;<A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20130820/9105d270/attachment-0001.bin">http://twistedmatrix.com/pipermail/twisted-python/attachments/20130820/9105d270/attachment-0001.bin</A>&gt;
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027325.html">[Twisted-Python] Twisted as a House for Sale
</A></li>
	<LI>Next message: <A HREF="027327.html">[Twisted-Python] Advice Request: Under what circumstances should I use AMP's Command Response field?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27326">[ date ]</a>
              <a href="thread.html#27326">[ thread ]</a>
              <a href="subject.html#27326">[ subject ]</a>
              <a href="author.html#27326">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
