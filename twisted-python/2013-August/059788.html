<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Advice Request: Under what circumstances should I use AMP's Command Response field?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Advice%20Request%3A%20Under%20what%20circumstances%0A%20should%20I%20use%20AMP%27s%20Command%20Response%20field%3F&In-Reply-To=%3CCAE_Hg6Y5_xdxDF8zwcEH5f1OG8dZwQBZryMNXExSx%3DSoXwz%3D6A%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="059787.html">
   <LINK REL="Next"  HREF="059791.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Advice Request: Under what circumstances should I use AMP's Command Response field?</H1>
    <B>Laurens Van Houtven</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Advice%20Request%3A%20Under%20what%20circumstances%0A%20should%20I%20use%20AMP%27s%20Command%20Response%20field%3F&In-Reply-To=%3CCAE_Hg6Y5_xdxDF8zwcEH5f1OG8dZwQBZryMNXExSx%3DSoXwz%3D6A%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Advice Request: Under what circumstances should I use AMP's Command Response field?">_ at lvh.io
       </A><BR>
    <I>Tue Aug 20 06:06:51 MDT 2013</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="059787.html">[Twisted-Python] Advice Request: Under what circumstances should I	use AMP's Command Response field?
</A></li>
        <LI>Next message (by thread): <A HREF="059791.html">[Twisted-Python] Advice Request: Under what circumstances	should I use AMP's Command Response field?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59788">[ date ]</a>
              <a href="thread.html#59788">[ thread ]</a>
              <a href="subject.html#59788">[ subject ]</a>
              <a href="author.html#59788">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Burak,

On Tue, Aug 20, 2013 at 12:21 PM, Burak Nehbit &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">burak at nehbit.net</A>&gt; wrote:

&gt;<i> Hi there,
</I>&gt;<i>
</I>&gt;<i> I was meaning to ask you all about the 'proper' way to use AMP in regards
</I>&gt;<i> to two–way communication. The problem I am facing is quite simple, I am
</I>&gt;<i> building a simple peer–to–peer network in which the user:
</I>&gt;<i>
</I>&gt;<i> a) When sent a handshake, returns a handshake,
</I>&gt;<i> b) When asked for fingerprints of posts in the local, returns it, and then
</I>&gt;<i> asks for the same thing,
</I>&gt;<i> and finally, c) If any of the fingerprints do not match posts, request
</I>&gt;<i> those posts with the fingerprint.
</I>&gt;<i>
</I>&gt;<i> The only non–symmetric step I have in my protocol is the last one.
</I>&gt;<i>
</I>&gt;<i> My question is, should I send my responses over the same AMP command as a
</I>&gt;<i> response to the command requested, or should I just return an ACK (a
</I>&gt;<i> boolean value of true, to confirm receipt) and then initiate a separate AMP
</I>&gt;<i> request from local to the same remote?
</I>&gt;<i>
</I>
Keep in mind that AMP commands are always ack'ed without you needing to
specify any kind of value, unless you set requiresResponse = False on the
Command class.

That would mean I would need to handle my open–connections pool by myself,
&gt;<i> to prevent posts from a non–initiated machine being accepted into the local
</I>&gt;<i> machine, but I do need to implement that anyway due to the complexity of my
</I>&gt;<i> business rules.
</I>

I don't understand this part. It sounds like an authentication problem, no?


&gt;<i> At that point, it seems that I am (Am I?) just using AMP as a remote
</I>&gt;<i> method header I don't strictly need, and I could just use LineReceiver—all
</I>&gt;<i> my data is text—to do my bidding.
</I>&gt;<i>
</I>
It's usually correct that you can do things with LineReceiver, but it's
also usually true that AMP is doing stuff for you ;)

Some more information about your system would be useful. Are posts
append-only? Would it make sense to have a given serialization of them? If
so, a hash chain would allow you to sync with just one hash value. A
consensus protocol might help you figure out what that serialization is.

cheers
lvh
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20130820/04381f3a/attachment-0002.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="059787.html">[Twisted-Python] Advice Request: Under what circumstances should I	use AMP's Command Response field?
</A></li>
	<LI>Next message (by thread): <A HREF="059791.html">[Twisted-Python] Advice Request: Under what circumstances	should I use AMP's Command Response field?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59788">[ date ]</a>
              <a href="thread.html#59788">[ thread ]</a>
              <a href="subject.html#59788">[ subject ]</a>
              <a href="author.html#59788">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
