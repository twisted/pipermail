<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Twisted and Qt5
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted%20and%20Qt5&In-Reply-To=%3C651E48B5-20DD-4386-875E-5784ED861A6D%40nehbit.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027312.html">
   <LINK REL="Next"  HREF="027314.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Twisted and Qt5</H1>
    <B>Burak Nehbit</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted%20and%20Qt5&In-Reply-To=%3C651E48B5-20DD-4386-875E-5784ED861A6D%40nehbit.net%3E"
       TITLE="[Twisted-Python] Twisted and Qt5">burak at nehbit.net
       </A><BR>
    <I>Sat Aug 10 07:42:51 MDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027312.html">[Twisted-Python] Twisted and Qt5
</A></li>
        <LI>Next message: <A HREF="027314.html">[Twisted-Python] Twisted and Qt5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27313">[ date ]</a>
              <a href="thread.html#27313">[ thread ]</a>
              <a href="subject.html#27313">[ subject ]</a>
              <a href="author.html#27313">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>More good news.

I have confirmed that the reason of this failure was my using of an unstable version of PyQt5. With the stable version of PyQt5, Qt 5.0.2 and the current Twisted stable, trial suite passes&#8212; or rather it fails with the same errors the default reactor fails:

FAILED (skips=2025, expectedFailures=11, errors=1, successes=6578)

The default twisted reactor goes through the suite in 61 seconds, qt5reactor in 66 seconds. Pretty good.

You can find the qt5 reactor here: <A HREF="https://dl.dropbox.com/s/r285g4bo8jb4of9/index.html">https://dl.dropbox.com/s/r285g4bo8jb4of9/index.html</A>

If I have more time, I'll package this reactor and put it on GitHub, but I am not sure if I have the (moral) right to&#8212;the only thing I did was to change four or five lines, after all. 

Mind that PySide does not yet support Qt5, so I have removed PySide imports. It seems that they have no plans to support Qt5 for at least through the next year.

Hope it helps someone!

Best,
Burak






On Aug 9, 2013, at 7:55 PM, Burak Nehbit &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">burak at nehbit.net</A>&gt; wrote:

&gt;<i> I have been experimenting with porting qt4reactor to qt5, and I have some progress to share. It seems that the PyQt API that was being used in qt4reactor was deprecated, so I have converted the calls to the new version API and it seems it mostly works.. Except one thing: 
</I>&gt;<i> 
</I>&gt;<i> Traceback (most recent call last):
</I>&gt;<i>   File &quot;sampleguiclient_twisted.py&quot;, line 132, in &lt;module&gt;
</I>&gt;<i>     from twisted.internet import reactor
</I>&gt;<i> AttributeError: 'function' object has no attribute '__pyqtSignature__'
</I>&gt;<i> 
</I>&gt;<i> I could not get past this error. I have prepared an example with a test case where you can see the error for yourself, and it can be reached here: 
</I>&gt;<i> 
</I>&gt;<i> <A HREF="https://dl.dropbox.com/s/4asklib8yuvm5ru/index.html">https://dl.dropbox.com/s/4asklib8yuvm5ru/index.html</A> 
</I>&gt;<i> 
</I>&gt;<i> This bunch of python files assume you have Qt5 installed, but otherwise free of dependencies. 
</I>&gt;<i> 
</I>&gt;<i> Any guesses on what's going on?
</I>&gt;<i> 
</I>&gt;<i> Best,
</I>&gt;<i> Burak
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Jul 23, 2013, at 12:43 AM, Glyph &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> On Jul 20, 2013, at 5:04 AM, Burak Nehbit &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">burak at nehbit.net</A>&gt; wrote:
</I>&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> Is there such a thing for Qt5? Is it planned?
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Well, it sounds like you're planning it, so, I guess so :).
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I doubt that anyone on this list has plans to do it (or there would already be work qt5 work done in the qt reactor repository) but there are plenty of people (myself included) who would be very happy to help you learn enough about Twisted to do it yourself.  And, honestly, if you're motivated to do it it's probably *not* a huge amount of effort to update the implementation.  Feel free to ask any questions you have on this list.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> In the meanwhile though, maybe you could report a bug to Nokia or Trolltech or whoever runs Qt development right now that they should stop gratuitously breaking interfaces between versions?  We've had (at least one) major rewrite of the Qt reactor for every version of Qt, which seem to come out relatively frequently.  Nothing about the nature of event loops or sockets has changed sufficiently in the meanwhile to justify the constant re-work that Qt seems to require from us.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> -glyph
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Twisted-Python mailing list
</I>&gt;&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i> 
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20130810/26b951bd/attachment.html">http://twistedmatrix.com/pipermail/twisted-python/attachments/20130810/26b951bd/attachment.html</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 4343 bytes
Desc: not available
URL: &lt;<A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20130810/26b951bd/attachment.bin">http://twistedmatrix.com/pipermail/twisted-python/attachments/20130810/26b951bd/attachment.bin</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027312.html">[Twisted-Python] Twisted and Qt5
</A></li>
	<LI>Next message: <A HREF="027314.html">[Twisted-Python] Twisted and Qt5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27313">[ date ]</a>
              <a href="thread.html#27313">[ thread ]</a>
              <a href="subject.html#27313">[ subject ]</a>
              <a href="author.html#27313">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
