<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Work around pyflakes errors
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Work%20around%20pyflakes%20errors&In-Reply-To=%3CCAFycZ9cs53_Ndv385%2BPx6ejS5OqmnMKwX%3DBFr%3DDSaHfg2Degtw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Work around pyflakes errors</H1>
    <B>Adi Roiban</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Work%20around%20pyflakes%20errors&In-Reply-To=%3CCAFycZ9cs53_Ndv385%2BPx6ejS5OqmnMKwX%3DBFr%3DDSaHfg2Degtw%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Work around pyflakes errors">adi at roiban.ro
       </A><BR>
    <I>Mon Mar  3 09:59:01 MST 2014</I>
    <P><UL>
        
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60564">[ date ]</a>
              <a href="thread.html#60564">[ thread ]</a>
              <a href="subject.html#60564">[ subject ]</a>
              <a href="author.html#60564">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I would like to see twisted code base free of pyflakes errors.

In this way, when someone sees pyflakes errors in his/her branch will know
for sure that those errors are generated by changes in that branch. Also
developers could run pyflakes on local computers, before sending a patch
and have instance feedback for pyflakes errors.

One problem is that pyflakes will complain about unused imports.

JP suggested a fix for that and I have created a ticket:
<A HREF="https://twistedmatrix.com/trac/ticket/7014">https://twistedmatrix.com/trac/ticket/7014</A>

I am not sure how the suggested requireModule(&quot;OpenSSL&quot;) style API should
work, but in the same comment, JP suggested to use 'namedAny' to get the
same effect as the unused import.

My problem with namedAny is that it does not raise ImportError ... but
rather ModuleNotFound or ObjectNotFound.

But I found 'namedModule' which raise ImportError

Here is an example of namedModule usage which should work around pyflakes
errors.

Old code:

try:
    import threading
    threading  # Silence the linter.
except ImportError:
    self.assertFalse(Platform().supportsThreads())

New code

try:
    namedModule('threading')
except ImportError:
    self.assertFalse(Platform().supportsThreads())

What do you think, is namedModule usage acceptable or we should work at
implementing the requireModule(&quot;OpenSSL&quot;) API?

Thanks!
-- 
Adi Roiban
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20140303/a87a1bed/attachment-0002.html&gt;
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60564">[ date ]</a>
              <a href="thread.html#60564">[ thread ]</a>
              <a href="subject.html#60564">[ subject ]</a>
              <a href="author.html#60564">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
