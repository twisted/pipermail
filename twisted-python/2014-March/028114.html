<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Using DeferredList,	on the remote method get parameter of None type?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Using%20DeferredList%2C%0A%09on%20the%20remote%20method%20get%20parameter%20of%20None%20type%3F&In-Reply-To=%3C2014030522351363970510%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="028113.html">
   <LINK REL="Next"  HREF="060576.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Using DeferredList,	on the remote method get parameter of None type?</H1>
    <B>yangyouxiu</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Using%20DeferredList%2C%0A%09on%20the%20remote%20method%20get%20parameter%20of%20None%20type%3F&In-Reply-To=%3C2014030522351363970510%40gmail.com%3E"
       TITLE="[Twisted-Python] Using DeferredList,	on the remote method get parameter of None type?">yangyouxiu at gmail.com
       </A><BR>
    <I>Wed Mar  5 07:35:18 MST 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="028113.html">[Twisted-Python] Where are the documentation files?
</A></li>
        <LI>Next message (by thread): <A HREF="060576.html">[Twisted-Python] Using DeferredList, on the remote method get parameter of None type?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28114">[ date ]</a>
              <a href="thread.html#28114">[ thread ]</a>
              <a href="subject.html#28114">[ subject ]</a>
              <a href="author.html#28114">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
When developing server-client software, on the client i call the method getTrafficDate, but on the server end, i got nio is None(d2=d.addCallback(lambda object: object.callRemote(&quot;getNIOTrafficInfo&quot;, node, nio)))
,so, what's the key point?

Thanks all!
-------------------------------------------------------------------------------------------------------------
client end
def getTrafficDate(self):
       if self.interfacenio_dict is not None and self.k:
            nodelist = self.interfacenio_dict.keys()
            trafficDataList=[]#DeferredList
            for node in nodelist:
                interfaces=self.interfacenio_dict[node]['interfaceinfo'].keys()
                if len(interfaces):
                    for interface in interfaces:
                        nio= self.interfacenio_dict[node]['interfaceinfo'][interface]
                        if nio is not None:
                            if 'nio_tap' in nio or 'NIO_NF_tap' in nio:
                                d= globals.perspective.callRemote('getServerRoot')
                                d2=d.addCallback(lambda object: object.callRemote(&quot;getNIOTrafficInfo&quot;, node, nio))
                                d2.addCallback(self.setTrafficSpeed_Tap, node, interface)
                                trafficDataList.append(d2)
                            else:
                                d= globals.perspective.callRemote('getServerRoot')
                                d2=d.addCallback(lambda object: object.callRemote(&quot;getNIOTrafficInfo&quot;, node, nio))
                                d2.addCallback(self.setTrafficSpeed_NotTap, node, interface)
                                trafficDataList.append(d2)
            
            trafficDataDeferredList=defer.DeferredList(trafficDataList, consumeErrors=True)
            trafficDataDeferredList.addCallback(self.getTrafficDataHandle)


server end
def remote_getNIOTrafficInfo(self,node,nio):
print nio
 if nio.name==nioName:
    pass

Bug info is:
File &quot;/home/gddw/Documents/gddw-server-branche/src/Server.py&quot;, line 154, in remote_getNIOTrafficInfo
    if nio.name==nioName:
exceptions.AttributeError: 'NoneType' object has no attribute 'name'
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20140305/4a117f91/attachment.html">http://twistedmatrix.com/pipermail/twisted-python/attachments/20140305/4a117f91/attachment.html</A>&gt;
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="028113.html">[Twisted-Python] Where are the documentation files?
</A></li>
	<LI>Next message (by thread): <A HREF="060576.html">[Twisted-Python] Using DeferredList, on the remote method get parameter of None type?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28114">[ date ]</a>
              <a href="thread.html#28114">[ thread ]</a>
              <a href="subject.html#28114">[ subject ]</a>
              <a href="author.html#28114">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
