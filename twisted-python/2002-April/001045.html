<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] mutexes in twisted.enterprise?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20mutexes%20in%20twisted.enterprise%3F&In-Reply-To=CBDFEEE4-5332-11D6-B58C-0003938210D6%40redivi.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001044.html">
   <LINK REL="Next"  HREF="001046.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] mutexes in twisted.enterprise?</H1>
    <B>Andrew Bennetts</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20mutexes%20in%20twisted.enterprise%3F&In-Reply-To=CBDFEEE4-5332-11D6-B58C-0003938210D6%40redivi.com"
       TITLE="[Twisted-Python] mutexes in twisted.enterprise?">andrew-twisted at puzzling.org
       </A><BR>
    <I>Thu Apr 18 21:32:50 EDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="001044.html">[Twisted-Python] mutexes in twisted.enterprise?
</A></li>
        <LI>Next message: <A HREF="001046.html">[Twisted-Python] mutexes in twisted.enterprise?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1045">[ date ]</a>
              <a href="thread.html#1045">[ thread ]</a>
              <a href="subject.html#1045">[ subject ]</a>
              <a href="author.html#1045">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Apr 18, 2002 at 09:14:28PM -0400, Bob Ippolito wrote:
&gt;<i> Well see the thing is that yes, the db supports transactions [postgres], 
</I>&gt;<i> but I need to make sure the db processes requests in the order that 
</I>&gt;<i> they're received over the wire, not whenever that particular db 
</I>&gt;<i> connection gets around to it.
</I>
Ok.  Well, mutexes aren't going to guarantee order, either.  IIRC,
there's no guarantee that mutexes will be woken in the order they called
.acquire().  I'd recommend that the network reading thread pushes the
data onto a Queue.Queue that is being popped by a DB thread.  If this is
all you are doing with the DB, then perhaps you don't even need
twisted.enterprise, which is more designed for getting data than
inserting it.

I actually have a module somewhere that basically does exactly that, and
returns Deferreds that trigger when individual data items are inserted.
I might see if I can find it, and if it is not too specific that I can
post it.

&gt;<i> I don't think I'm currently having issues w/ it right now, but I'm just 
</I>&gt;<i> concerned that potentially it could be a problem someday.
</I>
Yeah, best to be cautious.  That sort of bug can be hell to track down
later on :(

-Andrew.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001044.html">[Twisted-Python] mutexes in twisted.enterprise?
</A></li>
	<LI>Next message: <A HREF="001046.html">[Twisted-Python] mutexes in twisted.enterprise?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1045">[ date ]</a>
              <a href="thread.html#1045">[ thread ]</a>
              <a href="subject.html#1045">[ subject ]</a>
              <a href="author.html#1045">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
