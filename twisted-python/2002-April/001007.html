<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] How to setup a ftpserver, ftpclient?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20How%20to%20setup%20a%20ftpserver%2C%20ftpclient%3F&In-Reply-To=20020409025514.GA16521%40ritsuko.xware.cx">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001006.html">
   <LINK REL="Next"  HREF="001012.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] How to setup a ftpserver, ftpclient?</H1>
    <B>Andrew Bennetts</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20How%20to%20setup%20a%20ftpserver%2C%20ftpclient%3F&In-Reply-To=20020409025514.GA16521%40ritsuko.xware.cx"
       TITLE="[Twisted-Python] How to setup a ftpserver, ftpclient?">andrew-twisted at puzzling.org
       </A><BR>
    <I>Mon Apr  8 23:04:14 EDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="001006.html">[Twisted-Python] How to setup a ftpserver, ftpclient?
</A></li>
        <LI>Next message: <A HREF="001012.html">[Twisted-Python] How to setup a ftpserver, ftpclient?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1007">[ date ]</a>
              <a href="thread.html#1007">[ thread ]</a>
              <a href="subject.html#1007">[ subject ]</a>
              <a href="author.html#1007">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>*sigh* Replying to myself again...

While we're on the topic of FTP, I was wondering if there's any reason
why I shouldn't use a single listening socket per FTPClient for active
transfers?

Currently, for each active transfer, it opens a new FTPDataPort to
accept the connection, which ends out being quite icky due to the
sequencing of events.  I've realised that because I don't pipeline FTP
commands in the client (because it's tricky to do right and some servers
can't do it anyway), there's no ambiguity with re-using the same
FTPDataPort over and over...

The only downside should be that all the hard work Glyph and Itamar put
into tracking down the connectionLost from inside tcp.doRead bug for me
will now be unnecessary ;)

If you're wondering, I think it would make the code *alot* cleaner.
Especially in .retrieve and .generatePortCommand, which do messy things
with Deferreds.  I just want to convince myself that it's a perfectly
safe change that won't break anything before I do it.

-Andrew.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001006.html">[Twisted-Python] How to setup a ftpserver, ftpclient?
</A></li>
	<LI>Next message: <A HREF="001012.html">[Twisted-Python] How to setup a ftpserver, ftpclient?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1007">[ date ]</a>
              <a href="thread.html#1007">[ thread ]</a>
              <a href="subject.html#1007">[ subject ]</a>
              <a href="author.html#1007">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
