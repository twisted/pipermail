<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] two deferred_tutorial patches
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20two%20deferred_tutorial%20patches&In-Reply-To=%3CBAY2-F27F1P4f7LXXcb0000eae4%40hotmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="041402.html">
   <LINK REL="Next"  HREF="041405.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] two deferred_tutorial patches</H1>
    <B>Lee Harr</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20two%20deferred_tutorial%20patches&In-Reply-To=%3CBAY2-F27F1P4f7LXXcb0000eae4%40hotmail.com%3E"
       TITLE="[Twisted-Python] two deferred_tutorial patches">missive at hotmail.com
       </A><BR>
    <I>Sat Oct 23 08:22:12 MDT 2004</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="041402.html">[Twisted-Python] ANN: deferred howto/tutorial
</A></li>
        <LI>Next message (by thread): <A HREF="041405.html">[Twisted-Python] two deferred_tutorial patches
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41384">[ date ]</a>
              <a href="thread.html#41384">[ thread ]</a>
              <a href="subject.html#41384">[ subject ]</a>
              <a href="author.html#41384">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The first catches a bit more of the output from
deferred_ex3.py which makes a bit more sense:

Index: doc/core/howto/tutorial/deferred_tutorial.xhtml
===================================================================
--- doc/core/howto/tutorial/deferred_tutorial.xhtml     (revision 12146)
+++ doc/core/howto/tutorial/deferred_tutorial.xhtml     (working copy)
@@ -157,6 +157,9 @@
   File &quot;./deferred_ex2.py&quot;, line 35, in failAtHandlingResult
     raise RuntimeError, &quot;whoops! we encountered an error&quot;
exceptions.RuntimeError: whoops! we encountered an error
+
+callback 3
+        got result: okay, continue on
&lt;/pre&gt;

&lt;h2&gt;addBoth: the deferred version of &lt;em&gt;finally&lt;/em&gt;&lt;/h2&gt;




Actually, now that I look at it ... the output in the text
is just from the wrong program:

Index: doc/core/howto/tutorial/deferred_tutorial.xhtml
===================================================================
--- doc/core/howto/tutorial/deferred_tutorial.xhtml     (revision 12146)
+++ doc/core/howto/tutorial/deferred_tutorial.xhtml     (working copy)
@@ -147,16 +147,22 @@
&lt;pre&gt;
callback 1
         got result: success
+callback 2
+        got result: yay! handleResult was successful!
         about to raise exception
errback
we got an exception: Traceback (most recent call last):
---- &lt;exception caught here&gt; ---
-  File &quot;/home/slyphon/Projects/Twisted/trunk/twisted/internet/defer.py&quot;, 
line
-326, in _runCallbacks
-    self.result = callback(self.result, *args, **kw)
-  File &quot;./deferred_ex2.py&quot;, line 35, in failAtHandlingResult
+  File &quot;deferred_ex3.py&quot;, line 94, in ?
+    behindTheScenes(&quot;success&quot;)
+--- &lt;exception caught here&gt; ---
+  File &quot;deferred_ex3.py&quot;, line 57, in behindTheScenes
+    result = failAtHandlingResult(result)
+  File &quot;deferred_ex3.py&quot;, line 34, in failAtHandlingResult
     raise RuntimeError, &quot;whoops! we encountered an error&quot;
exceptions.RuntimeError: whoops! we encountered an error
+
+callback 3
+        got result: okay, continue on
&lt;/pre&gt;

&lt;h2&gt;addBoth: the deferred version of &lt;em&gt;finally&lt;/em&gt;&lt;/h2&gt;




And the second one makes the tutorial look right
when loaded from the filesystem.  I have a feeling
I am supposed to start a webserver or process
these files somehow, but this was easier for me...


Index: doc/core/howto/tutorial/deferred_tutorial.xhtml
===================================================================
--- doc/core/howto/tutorial/deferred_tutorial.xhtml     (revision 12146)
+++ doc/core/howto/tutorial/deferred_tutorial.xhtml     (working copy)
@@ -1,6 +1,7 @@
&lt;!DOCTYPE HTML PUBLIC &quot;-//IETF//DTD HTML//EN&quot;&gt;
&lt;html&gt; &lt;head&gt;
&lt;title&gt;Deferreds are beautiful! (A Tutorial)&lt;/title&gt;
+&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;../stylesheet.css&quot; /&gt;
&lt;/head&gt;

&lt;body&gt;
@@ -27,7 +28,7 @@

First, a simple example so that we have something to talk about:

-&lt;a href=&quot;../listings/deferred/deferred_ex.py&quot; class=&quot;py-listing&quot;&gt;&lt;/a&gt;
+&lt;a href=&quot;../listings/deferred/deferred_ex.py&quot; 
class=&quot;py-listing&quot;&gt;deferred_ex.py&lt;/a&gt;

&lt;p&gt;And the output: (since both methods in the example produce the same 
output,
it will only be shown once.) &lt;/p&gt;
@@ -56,7 +57,7 @@
returned the deferred needs to alert the callback chain that an error
has occurred.&lt;/p&gt;

-&lt;a href=&quot;../listings/deferred/deferred_ex1a.py&quot; class=&quot;py-listing&quot;&gt;&lt;/a&gt;
+&lt;a href=&quot;../listings/deferred/deferred_ex1a.py&quot; 
class=&quot;py-listing&quot;&gt;deferred_ex1a.py&lt;/a&gt;

&lt;pre&gt;
errback
@@ -80,7 +81,7 @@
&lt;p&gt;Now let's see what happens when &lt;em&gt;our callback&lt;/em&gt; raises an
exception&lt;/p&gt;

-&lt;a href=&quot;../listings/deferred/deferred_ex1b.py&quot; class=&quot;py-listing&quot;&gt;&lt;/a&gt;
+&lt;a href=&quot;../listings/deferred/deferred_ex1b.py&quot; 
class=&quot;py-listing&quot;&gt;deferred_ex1b.py&lt;/a&gt;

&lt;p&gt;And the output: (note, tracebacks will be edited slightly to conserve
space)&lt;/p&gt;
@@ -112,7 +113,7 @@
errback in the chain. If the chain is started off with a failure, the first
method to be called will be the first errback.&lt;/p&gt;

-&lt;a href=&quot;../listings/deferred/deferred_ex2.py&quot; class=&quot;py-listing&quot;&gt;&lt;/a&gt;
+&lt;a href=&quot;../listings/deferred/deferred_ex2.py&quot; 
class=&quot;py-listing&quot;&gt;deferred_ex2.py&lt;/a&gt;

&lt;pre&gt;
callback 1
@@ -142,7 +143,7 @@
failure or raise an exception) the chain continues on with the next
callback.&lt;/p&gt;

-&lt;a href=&quot;../listings/deferred/deferred_ex3.py&quot; class=&quot;py-listing&quot;&gt;&lt;/a&gt;
+&lt;a href=&quot;../listings/deferred/deferred_ex3.py&quot; 
class=&quot;py-listing&quot;&gt;deferred_ex3.py&lt;/a&gt;

&lt;pre&gt;
callback 1
@@ -168,7 +169,7 @@
returning the value that it received to allow processing the chain to
continue, but appearing transparent in terms of the result.&lt;/p&gt;

-&lt;a href=&quot;../listings/deferred/deferred_ex4.py&quot; class=&quot;py-listing&quot;&gt;&lt;/a&gt;
+&lt;a href=&quot;../listings/deferred/deferred_ex4.py&quot; 
class=&quot;py-listing&quot;&gt;deferred_ex4.py&lt;/a&gt;

&lt;pre&gt;
callback 1
@@ -205,7 +206,7 @@
addCallback followed by an addErrback.&lt;/p&gt;


-&lt;a href=&quot;../listings/deferred/deferred_ex5.py&quot; class=&quot;py-listing&quot;&gt;&lt;/a&gt;
+&lt;a href=&quot;../listings/deferred/deferred_ex5.py&quot; 
class=&quot;py-listing&quot;&gt;deferred_ex5.py&lt;/a&gt;

&lt;pre&gt;
callback 1
@@ -227,7 +228,7 @@
processing in response to the error, we would have used a passthru, and
returned the failure we received, as we see in this next example: &lt;/p&gt;

-&lt;a href=&quot;../listings/deferred/deferred_ex6.py&quot; class=&quot;py-listing&quot;&gt;&lt;/a&gt;
+&lt;a href=&quot;../listings/deferred/deferred_ex6.py&quot; 
class=&quot;py-listing&quot;&gt;deferred_ex6.py&lt;/a&gt;

&lt;pre&gt;
callback 1
@@ -258,7 +259,7 @@
beforehand and then executes it, the other executes the chain as it is being
constructed.  This is because deferreds are &lt;em&gt;stateful&lt;/em&gt;.  &lt;/p&gt;

-&lt;a href=&quot;../listings/deferred/deferred_ex7.py&quot; class=&quot;py-listing&quot;&gt;&lt;/a&gt;
+&lt;a href=&quot;../listings/deferred/deferred_ex7.py&quot; 
class=&quot;py-listing&quot;&gt;deferred_ex7.py&lt;/a&gt;

&lt;pre&gt;
callback 1
@@ -309,7 +310,7 @@
processing chain will become the result that gets passed to the next 
callback
of the primary deferreds processing chain &lt;/p&gt;

-&lt;a href=&quot;../listings/deferred/deferred_ex8.py&quot; class=&quot;py-listing&quot;&gt;&lt;/a&gt;
+&lt;a href=&quot;../listings/deferred/deferred_ex8.py&quot; 
class=&quot;py-listing&quot;&gt;deferred_ex8.py&lt;/a&gt;

&lt;pre&gt;
callback 1



Thanks for your time.

_________________________________________________________________
Express yourself instantly with MSN Messenger! Download today it's FREE! 
<A HREF="http://messenger.msn.com/">http://messenger.msn.com/</A>



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="041402.html">[Twisted-Python] ANN: deferred howto/tutorial
</A></li>
	<LI>Next message (by thread): <A HREF="041405.html">[Twisted-Python] two deferred_tutorial patches
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41384">[ date ]</a>
              <a href="thread.html#41384">[ thread ]</a>
              <a href="subject.html#41384">[ subject ]</a>
              <a href="author.html#41384">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
