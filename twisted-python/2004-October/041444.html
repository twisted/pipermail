<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Case for an Async MySQL Driver?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Case%20for%20an%20Async%20MySQL%20Driver%3F&In-Reply-To=%3C5d35fc5d041028132764475aa6%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="041438.html">
   <LINK REL="Next"  HREF="041445.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Case for an Async MySQL Driver?</H1>
    <B>Seun Osewa</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Case%20for%20an%20Async%20MySQL%20Driver%3F&In-Reply-To=%3C5d35fc5d041028132764475aa6%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Case for an Async MySQL Driver?">naijasms at gmail.com
       </A><BR>
    <I>Thu Oct 28 14:27:24 MDT 2004</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="041438.html">[Twisted-Python] Case for an Async MySQL Driver?
</A></li>
        <LI>Next message (by thread): <A HREF="041445.html">[Twisted-Python] Case for an Async MySQL Driver?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41444">[ date ]</a>
              <a href="thread.html#41444">[ thread ]</a>
              <a href="subject.html#41444">[ subject ]</a>
              <a href="author.html#41444">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Nick Arnett wrote:
&gt;<i>Anybody want to offer more about how this might look? I don't know if I
</I>&gt;<i>can fit it into my work, but it would be a terrific addition to my
</I>&gt;<i>toolbox (I have many thousands of lines of Python talking to MySQL).
</I>&gt;<i>And I suppose it would offer the excuse I've been needing to ask our CEO
</I>&gt;<i>about his thoughts on open-sourcing parts of our code.
</I>
Here are some ideas for an async MySQL 'driver' for Twisted:

1) create or use a connection:
connection = MySqlPool.connect(&quot;hostname&quot;, &quot;username&quot;, &quot;password&quot;)

2) send a query:
d = connection.exec([&quot;begin&quot;, &quot;update db.stats set value=value+1 where
accesses&quot;, &quot;select * from db.important_table&quot;, &quot;commit&quot;])

def myCallBack (resultset):
    # 'results' contains the result of the last QUERY in the list of
commands sent to exec.
    # it is empty if there's no QUERY and no error
     ....

def myErrBack (errorval, errorstring command_id):
   # this is called if there's an error in executing any of the commands
   # command_id indicates which point in the list of commands the error occured
   # errorval is the error name/number, errorstring the exact result

3) close the connection:
connection.close()

This format allows the user to send an unlimited number of queries to
be run together, thus limiting the number of callbacks necessary for a
program requiring many small interactions with the database. &quot;begin&quot;
and &quot;end&quot; will count as an example.  This minimalistic API also allows
more advanced (twisted.enterprise style) interfaces to be built on top
of it.

Is there any task you can think of that can't be built on top of this?
(of course I've not touched the implementation details...)

Regards,
Seun.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="041438.html">[Twisted-Python] Case for an Async MySQL Driver?
</A></li>
	<LI>Next message (by thread): <A HREF="041445.html">[Twisted-Python] Case for an Async MySQL Driver?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41444">[ date ]</a>
              <a href="thread.html#41444">[ thread ]</a>
              <a href="subject.html#41444">[ subject ]</a>
              <a href="author.html#41444">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
