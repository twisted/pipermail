<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] twisted run out of file descriptors
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20twisted%20run%20out%20of%20file%20descriptors&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008931.html">
   <LINK REL="Next"  HREF="008911.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] twisted run out of file descriptors</H1>
    <B>Alec Matusis</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20twisted%20run%20out%20of%20file%20descriptors&In-Reply-To="
       TITLE="[Twisted-Python] twisted run out of file descriptors">matusis at matusis.com
       </A><BR>
    <I>Tue Oct 26 00:40:09 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="008931.html">[Twisted-Python] CFReactor
</A></li>
        <LI>Next message: <A HREF="008911.html">[Twisted-Python] twisted run out of file descriptors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8910">[ date ]</a>
              <a href="thread.html#8910">[ thread ]</a>
              <a href="subject.html#8910">[ subject ]</a>
              <a href="author.html#8910">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi
I am running twisted on 2.4.21 Kernel.

My chat server has been puking and dying the last couple days and it
seemed pretty clear that it was dying when it was reaching 1024 open
file descriptors.
I noticed the default ulimit -n was 1024, so I added a 'ulimit -n
4096' before starting the chat server. That has apparently allowed it to
surpass
1024 descriptors (it has 1263 at the moment) but now it is failing to
call select (see sample errors below).


There is this value
FD_SETSIZE in the C headers that determines the maximum number of
sockets a proc can select() on, and it's set to 1024. It it possible to
increase this limit, short of recompiling the Kernel?

Sample Errors:

-----

File
&quot;/usr/local/encap/Twisted-1.2.0/lib/python2.3/site-packages/twisted/
internet/default.py&quot;, line 487, in doSelect
[], timeout)
exceptions.ValueError: filedescriptor out of range in select()

2004/10/25 16:35 PDT [-] Malformed file descriptor found. Preening
lists.
2004/10/25 16:35 PDT [-] bad descriptor

Thanks

Alec matusis




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008931.html">[Twisted-Python] CFReactor
</A></li>
	<LI>Next message: <A HREF="008911.html">[Twisted-Python] twisted run out of file descriptors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8910">[ date ]</a>
              <a href="thread.html#8910">[ thread ]</a>
              <a href="subject.html#8910">[ subject ]</a>
              <a href="author.html#8910">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
