<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] A pseudo-deferred class that can be canceled
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20A%20pseudo-deferred%20class%20that%20can%20be%20canceled&In-Reply-To=E47113FD-92DB-46A0-900E-9DFCDC0187B3%40twistedmatrix.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021330.html">
   <LINK REL="Next"  HREF="021326.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] A pseudo-deferred class that can be canceled</H1>
    <B>ssteinerX@gmail.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20A%20pseudo-deferred%20class%20that%20can%20be%20canceled&In-Reply-To=E47113FD-92DB-46A0-900E-9DFCDC0187B3%40twistedmatrix.com"
       TITLE="[Twisted-Python] A pseudo-deferred class that can be canceled">ssteinerx at gmail.com
       </A><BR>
    <I>Wed Jan  6 09:46:46 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="021330.html">[Twisted-Python] A pseudo-deferred class that can be canceled
</A></li>
        <LI>Next message: <A HREF="021326.html">[Twisted-Python] A pseudo-deferred class that can be canceled
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21324">[ date ]</a>
              <a href="thread.html#21324">[ thread ]</a>
              <a href="subject.html#21324">[ subject ]</a>
              <a href="author.html#21324">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Jan 6, 2010, at 5:23 AM, Glyph Lefkowitz wrote:

&gt;<i> I know what the use-cases are for stopping the underlying operation (notifying the peer that you're not going to accept it, reclaiming the resources); but if you're just going to let the operation complete eventually anyway, why wouldn't you want to just finish processing the result when it arrives regardless?
</I>
Please forgive an old real-time jock here, but one way of handling this, and yes, I know how nasty, dirty, and ugly it is, is to patch the response chain so that all further notifications route to an ABORT handler that explicitly knows the details of how to clean old things up and stop new things from happening.

I have had to use a mechanism like this in multi-processor, low bandwidth, high priority systems where a corrupted message can not be allowed to propagate and use up bandwidth or processor time that could be used to regenerate a correct message (think naval guidance system where one or more transducers just stopped working properly, like, got hit by a torpedo or started taking on sea water under pressure)

Obviously, this is very radical and the ABORT handler needs to be completely aware of exactly how to interrupt all things in the chain properly in all possible states, but if it's that important that the process be interrupted, then it is.

As far as I know, in my limited spelunking into Twisted's guts, Deferred's pretty much only know about themselves and their callbacks so I'm not sure whether there's a &quot;ringmaster&quot; that knows any more than that that could make sure that all things are cleaned up properly.

S


</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021330.html">[Twisted-Python] A pseudo-deferred class that can be canceled
</A></li>
	<LI>Next message: <A HREF="021326.html">[Twisted-Python] A pseudo-deferred class that can be canceled
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21324">[ date ]</a>
              <a href="thread.html#21324">[ thread ]</a>
              <a href="subject.html#21324">[ subject ]</a>
              <a href="author.html#21324">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
