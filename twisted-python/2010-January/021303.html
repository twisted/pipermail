<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] A pseudo-deferred class that can be canceled
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20A%20pseudo-deferred%20class%20that%20can%20be%20canceled&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021301.html">
   <LINK REL="Next"  HREF="021304.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] A pseudo-deferred class that can be canceled</H1>
    <B>Terry Jones</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20A%20pseudo-deferred%20class%20that%20can%20be%20canceled&In-Reply-To="
       TITLE="[Twisted-Python] A pseudo-deferred class that can be canceled">terry at jon.es
       </A><BR>
    <I>Mon Jan  4 23:29:17 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="021301.html">[Twisted-Python] A pseudo-deferred class that can be canceled
</A></li>
        <LI>Next message: <A HREF="021304.html">[Twisted-Python] A pseudo-deferred class that can be canceled
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21303">[ date ]</a>
              <a href="thread.html#21303">[ thread ]</a>
              <a href="subject.html#21303">[ subject ]</a>
              <a href="author.html#21303">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Glyph

I read through &lt;<A HREF="http://twistedmatrix.com/trac/ticket/990">http://twistedmatrix.com/trac/ticket/990</A>&gt; without trying to
get all the details (some are not relevant to me, see below).

I'll make a few comments here, then continue in the ticket, supposing
there's interest.

- It would simplify things to separate discussion of canceling deferreds
from discussion of timeouts, which I think you were saying too. The timeout
issue seemed to fade in that ticket, which is good.  The stuff I posted is
just about cancelation, nothing to do with timeouts.

- Deferreds are fairly simple, would be good to keep them that way (i.e.,
  not add to the class). Deferreds are very general, you can use them as
  building blocks to do more complex things, which is what my class does -
  it's just a deferred in the middle.

- Once someone has made a function call, gotten a deferred, added
  call/errbacks to it, etc., it's gone. It's in flight. Forget about it.
  Relax and let it happen, etc. It's too complicated to try to stop things
  from happening that someone else set up to happen in some potentially
  complex manner. Other code, that the Deferred class itself can't possibly
  be aware of, may be relying on the deferred firing and at least part of
  its callback chain being run, etc. The simplest thing to do is to just
  provide a mechanism whereby the eventual holder of the deferred can opt
  to trigger their deferred immediately and ignore the final result of the
  original call (supposing there ever is one).

- My class seems a bit like the Operation class proposed by Peaker. But
  it's simpler because you still only work with normal deferreds. You just
  get to fire a deferred any time you want to, with any value you want, and
  to ignore what would have been the result had you not preempively fired
  it.

Those are some reactions to the thread. I'm happy to continue there.

Terry

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021301.html">[Twisted-Python] A pseudo-deferred class that can be canceled
</A></li>
	<LI>Next message: <A HREF="021304.html">[Twisted-Python] A pseudo-deferred class that can be canceled
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21303">[ date ]</a>
              <a href="thread.html#21303">[ thread ]</a>
              <a href="subject.html#21303">[ subject ]</a>
              <a href="author.html#21303">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
