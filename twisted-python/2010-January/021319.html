<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] A pseudo-deferred class that can be canceled
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20A%20pseudo-deferred%20class%20that%20can%20be%20canceled&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021326.html">
   <LINK REL="Next"  HREF="021311.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] A pseudo-deferred class that can be canceled</H1>
    <B>Terry Jones</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20A%20pseudo-deferred%20class%20that%20can%20be%20canceled&In-Reply-To="
       TITLE="[Twisted-Python] A pseudo-deferred class that can be canceled">terry at jon.es
       </A><BR>
    <I>Tue Jan  5 16:47:51 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="021326.html">[Twisted-Python] A pseudo-deferred class that can be canceled
</A></li>
        <LI>Next message: <A HREF="021311.html">[Twisted-Python] A pseudo-deferred class that can be canceled
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21319">[ date ]</a>
              <a href="thread.html#21319">[ thread ]</a>
              <a href="subject.html#21319">[ subject ]</a>
              <a href="author.html#21319">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;&gt;&gt;&gt;&gt;<i> &quot;Tristan&quot; == Tristan Seligmann &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">mithrandi at mithrandi.net</A>&gt; writes:
</I>
Tristan&gt; On Tue, Jan 5, 2010 at 6:29 AM, Terry Jones &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">terry at jon.es</A>&gt; wrote:
&gt;&gt;<i> - Once someone has made a function call, gotten a deferred, added
</I>&gt;&gt;<i> &#160;call/errbacks to it, etc., it's gone. It's in flight. Forget about it.
</I>
Tristan&gt; The thing is, this attitude isn't always reasonable.

Yes, I was being a bit deliberately flippant, and was speaking in the
context of deferred processing. Reading through
<A HREF="http://twistedmatrix.com/trac/ticket/990">http://twistedmatrix.com/trac/ticket/990</A> there are lots of issues. It feels
to me like it's too complicated to tackle in a clean / simple manner inside
the Deferred class.

Tristan&gt; Deferred is not necessarily the place to implement cancellation,
Tristan&gt; but I think the idiom itself is important.

Yes, agreed.

Tristan&gt; But, consider something like the transfer of a 512 TB file;
Tristan&gt; cancellation /is/ possible, through closing the TCP connection,
Tristan&gt; and the operation is significantly expensive, so &quot;just forget it
Tristan&gt; and let it finish&quot; is a somewhat cavalier attitude to take.

I didn't mean to imply that cancellation isn't important or isn't possible
etc.

Tristan&gt; I would imagine that you would errback the deferred in the general
Tristan&gt; case of cancellation; if your callback chain doesn't handle
Tristan&gt; errors, well...

Yes, you'd see an exception just as you would if some other error
happened. But errbacking the deferred is just one option. You can also
callback it or, in the most recent code I posted, just tell the deferred to
never fire.  They're all options. The point is to give the caller those
options.

Terry

</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021326.html">[Twisted-Python] A pseudo-deferred class that can be canceled
</A></li>
	<LI>Next message: <A HREF="021311.html">[Twisted-Python] A pseudo-deferred class that can be canceled
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21319">[ date ]</a>
              <a href="thread.html#21319">[ thread ]</a>
              <a href="subject.html#21319">[ subject ]</a>
              <a href="author.html#21319">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
