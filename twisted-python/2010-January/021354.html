<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] [ANN] Foolscap-0.5.0 released
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20%5BANN%5D%20Foolscap-0.5.0%20released&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021349.html">
   <LINK REL="Next"  HREF="021355.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] [ANN] Foolscap-0.5.0 released</H1>
    <B>Brian Warner</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20%5BANN%5D%20Foolscap-0.5.0%20released&In-Reply-To="
       TITLE="[Twisted-Python] [ANN] Foolscap-0.5.0 released">warner at lothar.com
       </A><BR>
    <I>Tue Jan 19 14:19:03 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="021349.html">[Twisted-Python] Timeout with pb callRemote
</A></li>
        <LI>Next message: <A HREF="021355.html">[Twisted-Python] Lore to Sphinx Conversion Progress Report 4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21354">[ date ]</a>
              <a href="thread.html#21354">[ thread ]</a>
              <a href="subject.html#21354">[ subject ]</a>
              <a href="author.html#21354">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
I'm pleased to announce the release of Foolscap-0.5.0 . This is a fairly
minor release: the biggest difference from the previous 0.4.2 is a
change to the preferred main entry point: application code should use
e.g. &quot;from foolscap.api import Tub&quot; instead of &quot;from foolscap import
Tub&quot;. A DeprecationWarning will be raised for code that continues to
import from the main &quot;foolscap&quot; module, which will become an error in a
future foolscap-0.6.0. (this was done to avoid annoying circular
dependencies within foolscap itself)

In addition, many tools received minor improvements, and the &quot;sets is
deprecated in python2.6&quot; warning was fixed.

 Bugs, docs, discussion: <A HREF="http://foolscap.lothar.com/trac">http://foolscap.lothar.com/trac</A>
 Download:
  PyPI: <A HREF="http://pypi.python.org/pypi/foolscap/0.5.0">http://pypi.python.org/pypi/foolscap/0.5.0</A>
  home page: <A HREF="http://foolscap.lothar.com/releases/foolscap-0.5.0.tar.gz">http://foolscap.lothar.com/releases/foolscap-0.5.0.tar.gz</A>
  Releases are signed with my GPG key 0x1514A7BD, recently renewed
  (expiration date extended to jan-2011, please re-download from
  keyservers)

Foolscap is a Twisted-friendly remote object protocol, a descendant of
Perspective Broker, with improved security properties, third-party
references, adaptable serialization, remote logging, and other useful
features. Please visit <A HREF="http://foolscap.lothar.com/trac">http://foolscap.lothar.com/trac</A> for more details.


have a importable day,
 -Brian




* Release 0.5.0 (18 Jan 2010)

** Compatibility

The wire format remains the same as in earlier releases. The preferred
API import path has changed, see below.

** API changes: import statements, foolscap.api

To reduce circular dependencies in Foolscap's internal code, a new
&quot;foolscap.api&quot; module has been created. Applications should use:

 from foolscap.api import Tub

instead of e.g. &quot;from foolscap import Tub&quot;. Deprecation warnings will be
raised for code which imports symbols directly from the &quot;foolscap&quot;
module. These warnings will turn into errors in the 0.6.0 release. (see
ticket #122 for details)

The nearly-useless getRemoteURL_TCP() function was removed.

** setup.py is more windows-friendly

The main setup.py script has been modified to use setuptools
&quot;entry_points=&quot; on windows, which should help create runnable
executables of &quot;flogtool&quot; and &quot;flappserver&quot;, with proper extensions.
Entry-point scripts are not used on non-windows platforms, but
setuptools still creates fairly opaque executable scripts (which makes
it hard to figure out that e.g. /usr/bin/flogtool wants to import the
&quot;foolscap&quot; module). To get non-opaque scripts, install with &quot;setup.py
install --single-version-externally-managed&quot;. (#109)

** tool changes

*** flappserver

&quot;flappserver create&quot; now records the umask value from its environment,
and uses it later when the server is started (since normally twistd
resets the umask to a very restrictive value). A new --umask argument
was added to override this. The server's base directory is chmod go-rwx
to protect the private key from other users.

The &quot;flappserver start&quot; command uses twisted.scripts.twistd.run(),
instead of spawning an intermediate &quot;twistd&quot; process with os.execvp().
This should make things work better in environments where Twisted is not
fully installed (especially on windows) and correctly launching &quot;twistd&quot;
is non-trivial, such as when some other package is installing it as a
setuptools dependency.

&quot;flappclient upload-file ~/foo.txt&quot; will use os.path.expanduser() on the
filename, even if your shell does not. This should make it easier to use
from e.g. buildbot upload commands. (#134)

*** logging

The &quot;flogtool dump&quot; and &quot;flogtool web-viewer&quot; commands now have a
--timestamps argument, which controls how timestamps are expressed (UTC
vs localtime, ISO-9601, etc). The web-viewer HTML pages now have more
timestamp and sorting options, and hyperlinks to select each. (#100)

&quot;flogtool web-viewer --open&quot; will tell your local web browser to open to
the correct page, using the Python stdlib &quot;webbrowser&quot; module.

&quot;flogtool dump&quot; now emits a better error when told to open a missing
file.

*** examples

Examples of running the Git version-control-system over a
flappserver-based secure connection have been added to doc/examples/ .
This enables remote-update authority to be expressed as a FURL with no
other shell privileges. To accomplish the same with ssh
&quot;authorized_keys&quot; command restrictions is annoying and error-prone. See
doc/examples/git-proxy-flappclient for setup instructions. This will
probably be simplified to a single &quot;git-furl&quot; executable in a later
release.

The xfer-client/xfer-server/command-client examples have been removed,
obsoleted by the flappserver/flappclient tools.

** Other changes

The DeprecationWarning for the obsolete &quot;sets&quot; module is now removed on
python2.6 (#124)

When a getReference() call fails because the remote Tub does not
recognize the FURL, it now only emits the first two letters of the
secret swissnum in the exception, instead of the whole thing. This
reduces information leakage into e.g. stderr logs from a &quot;flappclient
--furlfile=X upload-file&quot; command.

DeadReferenceError now includes the remote tubid, interfacename, and
remote method name of the message that was being sent when the lost
connection was discovered, so log.err() calls which record a
DeadReferenceError should include this information. This may make it
easier to locate the code that provoked the error.

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021349.html">[Twisted-Python] Timeout with pb callRemote
</A></li>
	<LI>Next message: <A HREF="021355.html">[Twisted-Python] Lore to Sphinx Conversion Progress Report 4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21354">[ date ]</a>
              <a href="thread.html#21354">[ thread ]</a>
              <a href="subject.html#21354">[ subject ]</a>
              <a href="author.html#21354">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
