<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] understanding deferreds
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20understanding%20deferreds&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021418.html">
   <LINK REL="Next"  HREF="021419.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] understanding deferreds</H1>
    <B>Terry Jones</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20understanding%20deferreds&In-Reply-To="
       TITLE="[Twisted-Python] understanding deferreds">terry at jon.es
       </A><BR>
    <I>Thu Jan 28 17:46:08 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="021418.html">[Twisted-Python] understanding deferreds
</A></li>
        <LI>Next message: <A HREF="021419.html">[Twisted-Python] understanding deferreds
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21416">[ date ]</a>
              <a href="thread.html#21416">[ thread ]</a>
              <a href="subject.html#21416">[ subject ]</a>
              <a href="author.html#21416">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;&gt;&gt;&gt;&gt;<i> &quot;Michael&quot; == Michael P Soulier &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">msoulier at digitaltorque.ca</A>&gt; writes:
</I>
Michael&gt; I'm a bit confused as to the &quot;visual explanation&quot;. It seems like
Michael&gt; if you have a single callback and errback, that if the errback
Michael&gt; wants to swallow the error, the callback will not be called at
Michael&gt; all, since deferred processing will look for the second callback
Michael&gt; at that point by the diagram.

Michael&gt; So, right now I'm calling my own callback from the errback if I
Michael&gt; want to swallow the error. Is there a better way?

Yes. Add the errback to the deferred and then add the callback.

  d = somethingReturningADeferred()
  d.addErrback(cleanup)
  d.addCallback(dealWithResult)

If cleanup doesn't return the failure object it's passed or raise some an
exception, processing will pass to dealWithResult. Note that dealWithResult
will get as an argument whatever cleanup returns (that means None if cleanup
doesn't explicitly return something).

You're thinking about this in the right way. Understanding the difference
between the above and 

  d = somethingReturningADeferred()
  d.addCallbacks(dealWithResult, cleanup)

is important.

Terry

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021418.html">[Twisted-Python] understanding deferreds
</A></li>
	<LI>Next message: <A HREF="021419.html">[Twisted-Python] understanding deferreds
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21416">[ date ]</a>
              <a href="thread.html#21416">[ thread ]</a>
              <a href="subject.html#21416">[ subject ]</a>
              <a href="author.html#21416">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
