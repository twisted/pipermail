<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Not subclassing internet.TCPServer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Not%20subclassing%20internet.TCPServer&In-Reply-To=%3C20060825182053.1717.1838518131.divmod.quotient.31108%40ohm%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="046376.html">
   <LINK REL="Next"  HREF="046391.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Not subclassing internet.TCPServer</H1>
    <B>glyph at divmod.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Not%20subclassing%20internet.TCPServer&In-Reply-To=%3C20060825182053.1717.1838518131.divmod.quotient.31108%40ohm%3E"
       TITLE="[Twisted-Python] Not subclassing internet.TCPServer">glyph at divmod.com
       </A><BR>
    <I>Fri Aug 25 12:20:53 MDT 2006</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="046376.html">[Twisted-Python] Not subclassing internet.TCPServer
</A></li>
        <LI>Next message (by thread): <A HREF="046391.html">[Twisted-Python] Not subclassing internet.TCPServer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46389">[ date ]</a>
              <a href="thread.html#46389">[ thread ]</a>
              <a href="subject.html#46389">[ subject ]</a>
              <a href="author.html#46389">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 24 Aug 2006 14:30:48 -0400, &quot;Chaz.&quot; &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">eprparadocs at gmail.com</A>&gt; wrote:

&gt;<i>So my question is why is subclassing internet.TCPServer not a good idea?
</I>
In the general case, the short version is: &quot;Because we wrote that code, and we say so.&quot;

Usually I am not a big fan of the &quot;argument from authority&quot;, but in this case, it has a special significance.  When a developer on a library you're using says &quot;this is the correct, supported method to use interface XYZ&quot;, that means that is the method they are going to be supporting in the future, and unsupported usages may break.  It is in your best interest to stick to the supported usage if you ever intend to upgrade that library.

In a future version of twisted.internet.application, for example, it may be deemed a good idea to make TCPServer and friends a set of functions rather than classes for some reason.  Since you're supposed to be calling them and not subclassing them, that usage will continue to work, but subclassing won't.

Calling is generally better than subclassing anyway.  When you subclass, a number of undesirable things happen: in any language with multiple inheritance this is a problem, but in Python especially, you inherit all sorts of things from your superclass other than simple functionality.

For one thing, object semantics.  Maybe you used to be a classic class, but subclassing turns you into a new-style class before you're ready to make that switch.  Maybe your superclass has a bizarre metaclass which performs some mutation you didn't expect.  Maybe it has a __new__ which does something weird.

Then you inherit state.  Your 'self.' namespace becomes polluted with additional variable names that may conflict with your own.  These names may change in future releases, so even if they don't conflict now, they may in future releases.

While inheritance can be a useful tool, it is a lot more complex than composition, so you should generally avoid it unless all these ugly side-effects are actually desirable properties in your particular application.  In the case of twisted.application.internet, they are not.  That's not to say they *never* are: default implementation classes paired with interfaces can insulate your applications from certain varieties of change in libraries, and sometimes all those object-model features described as annoyances above are incredibly useful (most usually in persistence libraries like Axiom or ZODB).


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="046376.html">[Twisted-Python] Not subclassing internet.TCPServer
</A></li>
	<LI>Next message (by thread): <A HREF="046391.html">[Twisted-Python] Not subclassing internet.TCPServer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46389">[ date ]</a>
              <a href="thread.html#46389">[ thread ]</a>
              <a href="subject.html#46389">[ subject ]</a>
              <a href="author.html#46389">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
