<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Multicast XMLRPC
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Multicast%20XMLRPC&In-Reply-To=%3C44EDEC35.6060502%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="046373.html">
   <LINK REL="Next"  HREF="046377.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Multicast XMLRPC</H1>
    <B>Chaz.</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Multicast%20XMLRPC&In-Reply-To=%3C44EDEC35.6060502%40gmail.com%3E"
       TITLE="[Twisted-Python] Multicast XMLRPC">eprparadocs at gmail.com
       </A><BR>
    <I>Thu Aug 24 12:13:09 MDT 2006</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="046373.html">[Twisted-Python] Multicast XMLRPC
</A></li>
        <LI>Next message (by thread): <A HREF="046377.html">[Twisted-Python] Multicast XMLRPC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46375">[ date ]</a>
              <a href="thread.html#46375">[ thread ]</a>
              <a href="subject.html#46375">[ subject ]</a>
              <a href="author.html#46375">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at divmod.com</A> wrote:
&gt;<i> On Thu, 24 Aug 2006 12:54:38 -0400, &quot;Chaz.&quot; &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">eprparadocs at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> Chaz. wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> It seems my one problem was that in the definition of my class...
</I>&gt;<i> 
</I>&gt;<i> Those classes are not really meant to be used by subclassing.
</I>&gt;<i> 
</I>&gt;&gt;<i> That solved my immediate problem, though I did find out that XMLRPC 
</I>&gt;&gt;<i> does in fact assume that you have a connection oriented protocol 
</I>&gt;&gt;<i> underneath it. Now I will just have to fix that problem.
</I>&gt;<i> 
</I>&gt;<i> How do you propose to &quot;fix&quot; that property of XMLRPC?  It's not really a 
</I>&gt;<i> &quot;problem&quot;, in that it's *defined* to use not only a connection, but an 
</I>&gt;<i> HTTP connection at that.  From the XML-RPC specification: &quot;An XML-RPC 
</I>&gt;<i> message is an HTTP-POST request.&quot;
</I>&gt;<i> 
</I>&gt;<i> There is Jabber-RPC, which indicates how you might make an XMLRPC-*like* 
</I>&gt;<i> protocol over some other transport, but in your case that still requires 
</I>&gt;<i> a reliable multicast message delivery layer (a monumental task by itself).
</I>&gt;<i> 
</I>&gt;<i> What is the application you are writing this for?
</I>&gt;<i> 
</I>&gt;&gt;<i> Also for those of you that said you can't do:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> internet.TCPServer.__init__(self,...)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I would suggest you are wrong. In fact that is exactly how subclassing 
</I>&gt;&gt;<i> works in Python. But that is for another time.
</I>&gt;<i> 
</I>&gt;<i> You misunderstood.  I assure you they were correct, but that isn't what 
</I>&gt;<i> they said.  Simplified, here is what you did:
</I>&gt;<i> 
</I>&gt;&gt;&gt;&gt;<i> class A:
</I>&gt;<i> ...  def __init__(self):
</I>&gt;<i> ...   print self
</I>&gt;<i> ...
</I>&gt;&gt;&gt;&gt;<i> class B:
</I>&gt;<i> ...  def __init__(self):
</I>&gt;<i> ...   A.__init__(self)
</I>&gt;<i> ...
</I>&gt;&gt;&gt;&gt;<i> B()
</I>&gt;<i> Traceback (most recent call last):
</I>&gt;<i>  File &quot;&lt;stdin&gt;&quot;, line 1, in ?
</I>&gt;<i>  File &quot;&lt;stdin&gt;&quot;, line 3, in __init__
</I>&gt;<i> TypeError: unbound method __init__() must be called with A instance as 
</I>&gt;<i> first argument (got B instance instead)
</I>&gt;<i> 
</I>&gt;<i> This is, in fact, illegal, and that is why you got the exception that 
</I>&gt;<i> you did.
</I>&gt;<i> 
</I>&gt;<i> This is all moot, however, since you shouldn't use TCPServer with 
</I>&gt;<i> subclassing :).
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i> 
</I>
First, I got the mistake I made. It was the standard &quot;cut-and-paste&quot; 
problem. I cut code from one place, pasted it in another and forgot one 
piece all together.

I have a thousand or more processors running in an application and need 
to send out a request to each and every one of them. Obviously it is 
impossible to send it out sequentially and it doesn't need to.

The model of communication I am working from is that most communications 
are delivered and only once in a while do they fail (this is pretty true 
of an un-congested ethernet-like network).

So my algorithm is as follows (and if someone sees something wrong 
please let me know...a thousand pairs of eyes and brains is better than 
one). Send out the RPC request via Multicast. Set some timeout (based on 
  the request type). Since I know the servers in the collection, when I 
don't hear from one within the time out, resend the RPC request.

There is a problem with this approach - that is the semantics of the 
call. Current RPC calls are EXACTLY ONCE semantics - it either works or 
doesn't. In this there is an uncertainty - it might have worked and I 
don't know about it (the response was lost for instance) or the server 
itself failed and restarted. This means I can't every be guaranteed the 
normal call semantics. It means it switches to AT LEAST ONCE semantics. 
  This means I have to be careful in how I code the server side.

Does anyone see another approach.

Chaz




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="046373.html">[Twisted-Python] Multicast XMLRPC
</A></li>
	<LI>Next message (by thread): <A HREF="046377.html">[Twisted-Python] Multicast XMLRPC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46375">[ date ]</a>
              <a href="thread.html#46375">[ thread ]</a>
              <a href="subject.html#46375">[ subject ]</a>
              <a href="author.html#46375">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
