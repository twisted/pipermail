<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Reducing memory footprint of twisted app?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Reducing%20memory%20footprint%20of%20twisted%20app%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013831.html">
   <LINK REL="Next"  HREF="013829.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Reducing memory footprint of twisted app?</H1>
    <B>Marcin Kasperski</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Reducing%20memory%20footprint%20of%20twisted%20app%3F&In-Reply-To="
       TITLE="[Twisted-Python] Reducing memory footprint of twisted app?">Marcin.Kasperski at softax.com.pl
       </A><BR>
    <I>Tue Aug 15 06:36:16 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="013831.html">[Twisted-Python] Is Twisted adequate for usage in reactive robots?
</A></li>
        <LI>Next message: <A HREF="013829.html">[Twisted-Python] Re: Reducing memory footprint of twisted app?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13828">[ date ]</a>
              <a href="thread.html#13828">[ thread ]</a>
              <a href="subject.html#13828">[ subject ]</a>
              <a href="author.html#13828">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Not an exact question, but rather 'searching for ideas'.

I have some twisted app, which uses more memory than I would like it to.
I tried analysing it a bit (mainly using gc module object list and 
enumerating
items of different types) and it seem to me that there is something 
'twistedish'
in it. My application uses in a lot of places generator idiom 
(functions/methods
which yield wrapped with defer.deferredGenerator). And, as there seem to be
a lot of anonymous functions and tuples allocated, I suspect that maybe 
those
functions, deferreds and related params and closures live longer then I 
would like
to.

Any ideas of what could I do to track it down? In particular, is it 
possible to somehow
use introspection to find which lambdas and deferreds are allocated 
while the program
is running? Are there any suggestions on how to code deferredGenerators 
to reduce
allocated memory (maybe, for instance, I should try to turn local 
variables into
object attributes, or opposite, or ...)

Also, if anybody could me point to any interesting resources about 
tracking python
momory usage, I would be grateful.

Tried googling for some time, but apart of zope trackRef I did not found 
anything.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013831.html">[Twisted-Python] Is Twisted adequate for usage in reactive robots?
</A></li>
	<LI>Next message: <A HREF="013829.html">[Twisted-Python] Re: Reducing memory footprint of twisted app?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13828">[ date ]</a>
              <a href="thread.html#13828">[ thread ]</a>
              <a href="subject.html#13828">[ subject ]</a>
              <a href="author.html#13828">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
