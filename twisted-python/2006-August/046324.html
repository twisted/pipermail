<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] spawnProcess under Win32
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20spawnProcess%20under%20Win32&In-Reply-To=%3C44E0906F.4050602%40mekensleep.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="046323.html">
   <LINK REL="Next"  HREF="046325.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] spawnProcess under Win32</H1>
    <B>Igor Kravtchenko</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20spawnProcess%20under%20Win32&In-Reply-To=%3C44E0906F.4050602%40mekensleep.com%3E"
       TITLE="[Twisted-Python] spawnProcess under Win32">igor at mekensleep.com
       </A><BR>
    <I>Mon Aug 14 09:02:07 MDT 2006</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="046323.html">[Twisted-Python] spawnProcess under Win32
</A></li>
        <LI>Next message (by thread): <A HREF="046325.html">[Twisted-Python] spawnProcess under Win32
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46324">[ date ]</a>
              <a href="thread.html#46324">[ thread ]</a>
              <a href="subject.html#46324">[ subject ]</a>
              <a href="author.html#46324">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

yes I see your point of view.
I deliberately passed that Win32 flags since I didn't wanted to get in 
details
of what kind of Win32 features we need or not.
It can indeed potentially breaks Twisted behavior if incorrect flags are 
passed.

However it's just easier even if less secure.  Otherwise, you have to 
enumerate
all kind of features users want and implement them explicitly while 
having the
correct code guard to prevent from crash or incorrect behavior.

I don't know about other Win32 developpers.  From my side, I just wanted
a way to prevent a console to be opened, so might be something like an
explicit CREATE_NO_CONSOLE flag or such.

Igor.



<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at divmod.com</A> wrote:

&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Mon, 14 Aug 2006 15:15:55 +0200, Igor Kravtchenko 
</I>&gt;<i> &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">igor at mekensleep.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Hi!
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> I've looked at the way Twisted creates a process under Win32 and I've 
</I>&gt;&gt;<i> noticed
</I>&gt;&gt;<i> that it uses the CreateProcess() function.  The problem is it doesn't 
</I>&gt;&gt;<i> mention any
</I>&gt;&gt;<i> creation flags (i.e.: it just passes 0) whereas here, we would need 
</I>&gt;&gt;<i> to pass
</I>&gt;&gt;<i> DETACHED_PROCESS to avoid a new console to be created.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> I would be interested to know what do you think about this?
</I>&gt;&gt;<i> Does it seem to you a good idea?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Well, we do have a UNIX-specific argument to spawnProcess (usePTY), so 
</I>&gt;<i> I don't see why we couldn't have a Win32-specific argument as well.  
</I>&gt;<i> However, &quot;win32flags&quot; seems like a pretty vague name, especially since 
</I>&gt;<i> it could be CreateProcess's dwCreationFlags argument or STARTUPINFO's 
</I>&gt;<i> dwFlags attribute.
</I>&gt;<i>
</I>&gt;<i> Also, depending on context, you might want CREATE_NO_WINDOW or 
</I>&gt;<i> DETACHED_PROCESS or possibly both.
</I>&gt;<i>
</I>&gt;<i> I believe the right thing to do is to come up with some typical 
</I>&gt;<i> features of the Windows process environment and support them 
</I>&gt;<i> explicitly.  I don't believe all the flags you can pass to 
</I>&gt;<i> CreateProcess are compatible with the way Twisted expects subprocesses 
</I>&gt;<i> to behave, and I am definitely sure that not all the things you can 
</I>&gt;<i> put in STARTUPINFO are.
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>&gt;<i>
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="046323.html">[Twisted-Python] spawnProcess under Win32
</A></li>
	<LI>Next message (by thread): <A HREF="046325.html">[Twisted-Python] spawnProcess under Win32
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46324">[ date ]</a>
              <a href="thread.html#46324">[ thread ]</a>
              <a href="subject.html#46324">[ subject ]</a>
              <a href="author.html#46324">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
