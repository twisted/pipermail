<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Newbie question: Is this possible with twisted?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Newbie%20question%3A%20Is%20this%20possible%20with%20twisted%3F&In-Reply-To=%3C95bb10691002241240j76d3ab70i8ce52e069308548f%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="054165.html">
   <LINK REL="Next"  HREF="054169.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Newbie question: Is this possible with twisted?</H1>
    <B>Reza Lotun</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Newbie%20question%3A%20Is%20this%20possible%20with%20twisted%3F&In-Reply-To=%3C95bb10691002241240j76d3ab70i8ce52e069308548f%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Newbie question: Is this possible with twisted?">rlotun at gmail.com
       </A><BR>
    <I>Wed Feb 24 13:40:44 MST 2010</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="054165.html">[Twisted-Python] Newbie question: Is this possible with twisted?
</A></li>
        <LI>Next message (by thread): <A HREF="054169.html">[Twisted-Python] Newbie question: Is this possible with twisted?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54166">[ date ]</a>
              <a href="thread.html#54166">[ thread ]</a>
              <a href="subject.html#54166">[ subject ]</a>
              <a href="author.html#54166">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Tim,

&gt;<i> first of all: I've no experience with network-programming yet, but need to go in for creating a &quot;simple&quot; client-server application.
</I>
No problem.

&gt;<i> In the end I'd like to connect a web-form (django) with a twisted-server, which then should do some long-lasting calculations.
</I>&gt;<i>
</I>&gt;<i> So far I got a simple xmlrpc-server, which &quot;defers&quot; the calculation to a new thread and a client which sends the initial request to do the calculation. Though I have the problem that the client stays connected until the calculations are done.
</I>
Keep in mind you can run this &quot;calculation server&quot; as a separate
server-process and connect to it via loopback (localhost:SOME_PORT).
This makes it easier to put it on another machine one day without
changing the code.

Also, if you're doing a blocking calculation in Python (i.e. if it's
not a special C-module), then because of the Python Global Interpreter
Lock (GIL), you're not going to be able to paralllelise that
calculation effectively.

&gt;<i> Could someone tell me if it's somehow possible to disconnect the client right after sending the request to the server?
</I>
Well, it depends. Does the client need the result of that calculation?
Probably not, so what you can do is issue a job id back to the client,
and associate the job id to the result of that job. This is all very
doable in Twisted.

However, I'm going to suggest something different, which seems like a
better fit for what you're trying to do. Check out Celery
(<A HREF="http://celeryproject.org/">http://celeryproject.org/</A>) which is a distributed task queue. The
idea is that you set up a queue system, like RabbitMQ, which implement
a job queue via Celery. You write tasks as Python functions in a
module somewhere. When a client connects, you issue a task, and return
the task id back to the client. By and by the job is picked up by some
worker, and the result is stored in some persistent database, like
MySQL or Redis. Celery also has excellent integration with Django.

Hope that helps you out.

Cheers,
Reza

-- 
Reza Lotun
mobile: +44 (0)7521 310 763
email:  <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">rlotun at gmail.com</A>
work:   <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">reza at tweetdeck.com</A>
twitter: @rlotun


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="054165.html">[Twisted-Python] Newbie question: Is this possible with twisted?
</A></li>
	<LI>Next message (by thread): <A HREF="054169.html">[Twisted-Python] Newbie question: Is this possible with twisted?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54166">[ date ]</a>
              <a href="thread.html#54166">[ thread ]</a>
              <a href="subject.html#54166">[ subject ]</a>
              <a href="author.html#54166">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
