<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Streaming File Transfer Protocol?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Streaming%20File%20Transfer%20Protocol%3F&In-Reply-To=%3C1266604717.2532.142.camel%40kratos%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="054110.html">
   <LINK REL="Next"  HREF="054112.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Streaming File Transfer Protocol?</H1>
    <B>Darren Govoni</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Streaming%20File%20Transfer%20Protocol%3F&In-Reply-To=%3C1266604717.2532.142.camel%40kratos%3E"
       TITLE="[Twisted-Python] Streaming File Transfer Protocol?">darren at ontrenet.com
       </A><BR>
    <I>Fri Feb 19 11:38:37 MST 2010</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="054110.html">[Twisted-Python] Streaming File Transfer Protocol?
</A></li>
        <LI>Next message (by thread): <A HREF="054112.html">[Twisted-Python] Streaming File Transfer Protocol?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54111">[ date ]</a>
              <a href="thread.html#54111">[ thread ]</a>
              <a href="subject.html#54111">[ subject ]</a>
              <a href="author.html#54111">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hmmmm. I set self.MAX_LENGTH in my subclass
(self.MAX_LENGTH=73768960000) but still no callback happens to
strongReceived. Also, the connection is not lost.

Its like it doesn't notice it on the server, while the client writes
successfully. Still investigating.



On Fri, 2010-02-19 at 13:12 +0000, <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at twistedmatrix.com</A> wrote:

&gt;<i> On 11:33 am, <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">darren at ontrenet.com</A> wrote:
</I>&gt;<i> &gt;Hi again,
</I>&gt;<i> &gt;   Ok, so now it seems the Int32StringReceiver does not receive
</I>&gt;<i> &gt;&quot;stringReceived&quot; events if the sent bytes
</I>&gt;<i> &gt;exceed a certain amount. If I send from the client, say 5000 bytes. It
</I>&gt;<i> &gt;receives it.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;But when i send 7376896 bytes at a time, the client indicates it wrote
</I>&gt;<i> &gt;the bytes, but there is not one
</I>&gt;<i> &gt;stringReceived callback on the server side of the protocol. No error or
</I>&gt;<i> &gt;exception. nothing.
</I>&gt;<i> &gt;Is this normal behavior?
</I>&gt;<i> 
</I>&gt;<i> Yes.  You've hit the arbitrary additional limit on the maximum length of 
</I>&gt;<i> a single string that Int32StringReceiver will accept.  When this limit 
</I>&gt;<i> is exceeded, the connection is dropped.  If you really want to accept 
</I>&gt;<i> 7MB strings from your peer, set the MAX_LENGTH attribute of your 
</I>&gt;<i> Int32StringReceiver subclass (or instance) to large enough value.  You 
</I>&gt;<i> can also get notification when this limit is exceeded by overriding the 
</I>&gt;<i> lengthLimitExceeded method (the default implementation of which is what 
</I>&gt;<i> drops the connection).
</I>&gt;<i> 
</I>&gt;<i> Jean-Paul
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20100219/c52f424f/attachment.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="054110.html">[Twisted-Python] Streaming File Transfer Protocol?
</A></li>
	<LI>Next message (by thread): <A HREF="054112.html">[Twisted-Python] Streaming File Transfer Protocol?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54111">[ date ]</a>
              <a href="thread.html#54111">[ thread ]</a>
              <a href="subject.html#54111">[ subject ]</a>
              <a href="author.html#54111">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
