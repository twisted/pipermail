<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] understanding deferreds
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20understanding%20deferreds&In-Reply-To=%3C20100202095702.GE2456%40steerpike.home.puzzling.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="053930.html">
   <LINK REL="Next"  HREF="053931.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] understanding deferreds</H1>
    <B>Andrew Bennetts</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20understanding%20deferreds&In-Reply-To=%3C20100202095702.GE2456%40steerpike.home.puzzling.org%3E"
       TITLE="[Twisted-Python] understanding deferreds">andrew at bemusement.org
       </A><BR>
    <I>Tue Feb  2 02:57:02 MST 2010</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="053930.html">[Twisted-Python] understanding deferreds
</A></li>
        <LI>Next message (by thread): <A HREF="053931.html">[Twisted-Python] How do I get data from a Queue (or &quot;outside&quot;) into	a Telnet Server?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53934">[ date ]</a>
              <a href="thread.html#53934">[ thread ]</a>
              <a href="subject.html#53934">[ subject ]</a>
              <a href="author.html#53934">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Landreville wrote:
&gt;<i> On Sat, Jan 30, 2010 at 2:16 AM, Andrew Bennetts &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">andrew at bemusement.org</A>&gt; wrote:
</I>&gt;<i> &gt; <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-web at udmvt.ru</A> wrote:
</I>&gt;<i> &gt; [...]
</I>&gt;<i> &gt;&gt; Is it true, that adding many callback functions as filters is elegant,
</I>&gt;<i> &gt;&gt; but impractical solution?
</I>&gt;<i> &gt;&gt; Since there is only a [linear] list of pairs (callback, errback), the last errbacks
</I>&gt;<i> &gt;&gt; have to be complex to distinguish the failures, that came from the previous callback
</I>&gt;<i> &gt;&gt; from failures, that traverse the errback chain from the beginning.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; This is no different to regular Python code, which has a linear call stack which
</I>&gt;<i> &gt; can have exception handlers at any point on the stack.  The exact same tradeoffs
</I>&gt;<i> &gt; apply about which exceptions to raise and which to catch, and at what points.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; -Andrew.
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> In normal python code you might put each filter into a try/except
</I>&gt;<i> block, wouldn't this be equivalent to putting a callback and errback
</I>&gt;<i> (addCallbacks) each time you are adding a callback. So that the
</I>&gt;<i> errback would then know which callback (the previous one) failed.
</I>
Yes and no.

Yes, you could use addCallbacks as you suggest to get a clearer idea of
where an exception was raised from, and that approach certainly suits
some code.

But unless your Python code usually uses bare excepts (“except:” rather
than “except SpecifcException:”), which is generally bad style, you
can't be sure without horrible introspection where precisely in the code
the exception was raised from.  But then, you generally don't need to
know... e.g. it rarely matters where a KeyboardInterrupt happened, you
probably will always want to respond to it the same way.

Again, to mind at least, the tradeoffs of bare excepts vs. specific
exception handlers have very direct parallels with Deferred
callback/errback chains.  Ditto for how much code should be inside a
“try” block, etc.  They are just exception handlers for async code, the
way you should deal with exceptions might be spelled rather differently
but the principles are the same.

-Andrew.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="053930.html">[Twisted-Python] understanding deferreds
</A></li>
	<LI>Next message (by thread): <A HREF="053931.html">[Twisted-Python] How do I get data from a Queue (or &quot;outside&quot;) into	a Telnet Server?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53934">[ date ]</a>
              <a href="thread.html#53934">[ thread ]</a>
              <a href="subject.html#53934">[ subject ]</a>
              <a href="author.html#53934">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
