<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Streaming File Transfer Protocol?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Streaming%20File%20Transfer%20Protocol%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021524.html">
   <LINK REL="Next"  HREF="021528.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Streaming File Transfer Protocol?</H1>
    <B>David Bolen</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Streaming%20File%20Transfer%20Protocol%3F&In-Reply-To="
       TITLE="[Twisted-Python] Streaming File Transfer Protocol?">db3l.net at gmail.com
       </A><BR>
    <I>Wed Feb 10 16:01:08 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="021524.html">[Twisted-Python] Streaming File Transfer Protocol?
</A></li>
        <LI>Next message: <A HREF="021528.html">[Twisted-Python] Streaming File Transfer Protocol?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21526">[ date ]</a>
              <a href="thread.html#21526">[ thread ]</a>
              <a href="subject.html#21526">[ subject ]</a>
              <a href="author.html#21526">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Darren Govoni &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">darren at ontrenet.com</A>&gt; writes:

&gt;&gt;<i>From what I learned in other posts, the dataReceived(self, data): in the
</I>&gt;<i> Echo server
</I>&gt;<i> will get called with out-of-order data/bytes from the client. Of course,
</I>&gt;<i> I could be misinformed,
</I>&gt;<i> but what I understood before was that in this type of Protocol, I would
</I>&gt;<i> have to re-order
</I>&gt;<i> and re-assemble the bytes.  And I'm trying to avoid that, since of
</I>&gt;<i> course, TCP already does it.
</I>
Data being received out of order can't happen, as long as the Protocol
is layered on top of TCP, since as you say, TCP already provides that
guarantee.  The dataReceived() method is really just how the data
being received from TCP is handed to the Protocol object.

UDP can be out of order, as it provides very few guarantees above and
beyond IP itself.  But I'm not sure you can layer an IProtocol over
UDP with Twisted.

There is a general issue where you may receive the data in differently
sized chunks in dataReceived() than it might have been transmitted
originally, which is a common source of confusion to people new to
stream protocols, so perhaps you were thinking of that issue?

The stream nature (and possibility for early disconnect from the
client) is why having some internal length information for bulk
transfers is sensible.  For your original question, I was going to
suggest an older posting of mine for a similar situation where I needed
a bulk upload to augment a PB-based server, but it appears that you've
located it in the archives yourself.

&gt;<i> But like I said, I could have been misinformed because it seems pretty
</I>&gt;<i> basic to write 1,2,3
</I>&gt;<i> to a server and have it received 1,2,3, guaranteed.
</I>
Yes - TCP guarantees that what you transmit at one end will be
received in order at the other end or not at all (e.g., outages,
disconnects, etc...).  It has a weaker guarantee in terms of no
corruption, but one that is, in combination with typical link layer
protections, generally more than sufficient for the vast majority of
connections using it each day.

-- David


</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021524.html">[Twisted-Python] Streaming File Transfer Protocol?
</A></li>
	<LI>Next message: <A HREF="021528.html">[Twisted-Python] Streaming File Transfer Protocol?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21526">[ date ]</a>
              <a href="thread.html#21526">[ thread ]</a>
              <a href="subject.html#21526">[ subject ]</a>
              <a href="author.html#21526">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
