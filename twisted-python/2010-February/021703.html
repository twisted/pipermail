<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Is AMP secure enough for the internet?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Is%20AMP%20secure%20enough%20for%20the%20internet%3F&In-Reply-To=f5eea9171002281633s6ee01b2dp5c6ce27e3acdf4f6%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021702.html">
   <LINK REL="Next"  HREF="021699.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Is AMP secure enough for the internet?</H1>
    <B>Eric P. Mangold</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Is%20AMP%20secure%20enough%20for%20the%20internet%3F&In-Reply-To=f5eea9171002281633s6ee01b2dp5c6ce27e3acdf4f6%40mail.gmail.com"
       TITLE="[Twisted-Python] Is AMP secure enough for the internet?">teratorn at gmail.com
       </A><BR>
    <I>Sun Feb 28 23:09:30 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="021702.html">[Twisted-Python] Is AMP secure enough for the internet?
</A></li>
        <LI>Next message: <A HREF="021699.html">[Twisted-Python] Weekly Bug Summary
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21703">[ date ]</a>
              <a href="thread.html#21703">[ thread ]</a>
              <a href="subject.html#21703">[ subject ]</a>
              <a href="author.html#21703">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 2010-03-01 at 02:33 +0200, Tristan Seligmann wrote:
&gt;<i> On Sat, Feb 27, 2010 at 11:59 PM, Attila Nagy &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">bra at fsn.hu</A>&gt; wrote:
</I>&gt;<i> &gt; What would I like to do:
</I>&gt;<i> &gt; 1. authenticate and authorize connecting clients with their SSL certificates
</I>&gt;<i> &gt; 2. securely transfer arbitrary (binary and json) data from and to the
</I>&gt;<i> &gt; clients (both the server and client would be twisted)
</I>&gt;<i> 
</I>&gt;<i> If you're using SSL, then points 1 and 2 are the responsibility of
</I>&gt;<i> SSL, not AMP, and you should be fine.
</I>&gt;<i> 
</I>&gt;<i> &gt; 3. protect the server from malicious clients
</I>&gt;<i> 
</I>&gt;<i> I can't really comment on this, as I haven't studied the AMP
</I>&gt;<i> implementation much; I think there are some built-in limits which will
</I>&gt;<i> protect against certain kinds of resource DoS, but hopefully somebody
</I>&gt;<i> else can comment in more detail.
</I>
AMP &quot;keys&quot; are limited to 256 bytes and &quot;values&quot; are limited to 64k. So
that will prevent your program from handling a malformed AMP packet that
tries to exceed those limits....

If the AMP parser detects a parsing problem it will drop the connection.

One of the things you will need to implement yourself is preventing an
otherwise legit client from flooding your server with legitimate
requests... this is application-specific, and Twisted can't implement a
generalized protection mechanize here.

There should not be any way for a client to &quot;access&quot; any parts of your
program apart from your pre-defined AMP command-handlers, and anything
else for which you &quot;give&quot; access.

Everything in AMP is length-prefixed, so this precludes any
&quot;quote-escaping&quot; type vulnerabilities.

There shouldn't be any issues with any of the built-in data types that
AMP knows how to handle... if the data doesn't fall within acceptable
parameters Python will thrown an Exception, and I *imagine* that also
results in a connection tear-down, but it's been a while since I've
studied the code in depth.

Good luck, and let us know when you're AMP-DOSing test-suite is
available ;)

-teratorn 



</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021702.html">[Twisted-Python] Is AMP secure enough for the internet?
</A></li>
	<LI>Next message: <A HREF="021699.html">[Twisted-Python] Weekly Bug Summary
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21703">[ date ]</a>
              <a href="thread.html#21703">[ thread ]</a>
              <a href="subject.html#21703">[ subject ]</a>
              <a href="author.html#21703">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
