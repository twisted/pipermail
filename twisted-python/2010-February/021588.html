<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] fast high load protocol
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20fast%20high%20load%20protocol&In-Reply-To=572f045e1002161146y4234b1aen946ff3743badc6a0%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021587.html">
   <LINK REL="Next"  HREF="021592.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] fast high load protocol</H1>
    <B>Phil Christensen</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20fast%20high%20load%20protocol&In-Reply-To=572f045e1002161146y4234b1aen946ff3743badc6a0%40mail.gmail.com"
       TITLE="[Twisted-Python] fast high load protocol">phil at bubblehouse.org
       </A><BR>
    <I>Tue Feb 16 15:08:46 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="021587.html">[Twisted-Python] fast high load protocol
</A></li>
        <LI>Next message: <A HREF="021592.html">[Twisted-Python] fast high load protocol
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21588">[ date ]</a>
              <a href="thread.html#21588">[ thread ]</a>
              <a href="subject.html#21588">[ subject ]</a>
              <a href="author.html#21588">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Feb 16, 2010, at 2:46 PM, Vlad Shevchenko wrote:
&gt;<i> I have developed two kind of servers:
</I>&gt;<i>    api - http server
</I>&gt;<i>    memory_db - dict-based server with some logic of putting data to dict and getting it back.
</I>&gt;<i> 
</I>&gt;<i> Api communicate with memory_db via txJSON-RPC but response time is huge under high load. I also try implementation with replacement txJSON-RPC -&gt; Perspective Broker with no success. PB implementation has 10+ times faster responses when returning data is small (dict with few keys and values like list of 1-5 strings). However, PM much depends on size of returning value. When I return a list of 600 items (each is string with length 20) response time incredibly growing up. Unlike PB, json-rpc implementation keeps it response-time near the same lever as with small return data.
</I>&gt;<i> 
</I>&gt;<i> Can you suggest some protocol with a small response? Or should I look into development of my own?
</I>
It definitely depends on your use case...

PB can still be a good solution for you if you change your architecture a little bit. Instead of returning a 600-item list, you could return a pb.Referencable object that can iteratively return each row at a time.

You may also want to look into using Copyable or Cacheable PB objects. More on that here:

	<A HREF="http://twistedmatrix.com/documents/current/core/howto/pb-copyable.html">http://twistedmatrix.com/documents/current/core/howto/pb-copyable.html</A>

Of course, if you need a large amount of data to be available before you can begin calculations or whatnot, you're going to have to wait for it to be sent no matter what protocol you use.

-phil



</PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021587.html">[Twisted-Python] fast high load protocol
</A></li>
	<LI>Next message: <A HREF="021592.html">[Twisted-Python] fast high load protocol
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21588">[ date ]</a>
              <a href="thread.html#21588">[ thread ]</a>
              <a href="subject.html#21588">[ subject ]</a>
              <a href="author.html#21588">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
