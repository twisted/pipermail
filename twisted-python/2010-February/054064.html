<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] reactor.run hangs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20reactor.run%20hangs&In-Reply-To=%3C72236ba91002142130m2527df4fn9c5a600f32ad087a%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="054063.html">
   <LINK REL="Next"  HREF="054065.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] reactor.run hangs</H1>
    <B>Alexandre Quessy</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20reactor.run%20hangs&In-Reply-To=%3C72236ba91002142130m2527df4fn9c5a600f32ad087a%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] reactor.run hangs">alexandre at quessy.net
       </A><BR>
    <I>Sun Feb 14 22:30:36 MST 2010</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="054063.html">[Twisted-Python] reactor.run hangs
</A></li>
        <LI>Next message (by thread): <A HREF="054065.html">[Twisted-Python] reactor.run hangs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54064">[ date ]</a>
              <a href="thread.html#54064">[ thread ]</a>
              <a href="subject.html#54064">[ subject ]</a>
              <a href="author.html#54064">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello giskard,
I suggest you leave the reactor.run() in the if __name__ == &quot;__main__&quot;
of your application. It's a blocking call, until you call
reactor.stop().
Thats make things a lot easier when you need to merge many
applications, classes, etc. together.

Next, to start your Jabber client, you should probably do it when
reactor is running. To do so, you can use a reactor.callLater.

if __name__ == &quot;__main__&quot;:
  def _later():
    # do stuff
  reactor.callLater(0, _later)
  reactor.run()


2010/2/14 Darren Govoni &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">darren at ontrenet.com</A>&gt;:
&gt;<i> I believe reactor.run() never returns and always blocks the calling thread
</I>&gt;<i> until reactor.stop() is called, afterwhich you cannot call reactor.run()
</I>&gt;<i> again. Not sure if that helps you though.
</I>&gt;<i>
</I>&gt;<i> On Sun, 2010-02-14 at 22:36 +0100, giskard wrote:
</I>&gt;<i>
</I>&gt;<i> Hi all,
</I>&gt;<i>
</I>&gt;<i> i think i'm not doing things in the right way:
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://paste.debian.net/59855/">http://paste.debian.net/59855/</A>
</I>&gt;<i>
</I>&gt;<i> this code implement a simple jabber client, if you remove the class
</I>&gt;<i> defnition
</I>&gt;<i> and run it (removing also the run def) it works!
</I>&gt;<i>
</I>&gt;<i> but if i 'class' it and run via:
</I>&gt;<i> <A HREF="http://paste.debian.net/59856/">http://paste.debian.net/59856/</A>
</I>&gt;<i>
</I>&gt;<i> reactor.run() hangs.
</I>&gt;<i>
</I>&gt;<i> where i'm wrong?
</I>&gt;<i>
</I>&gt;<i> thank you in advance,
</I>&gt;<i> --
</I>&gt;<i> ciao,
</I>&gt;<i> giskard
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>&gt;<i>
</I>


-- 
Alexandre Quessy
<A HREF="http://alexandre.quessy.net/">http://alexandre.quessy.net/</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="054063.html">[Twisted-Python] reactor.run hangs
</A></li>
	<LI>Next message (by thread): <A HREF="054065.html">[Twisted-Python] reactor.run hangs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54064">[ date ]</a>
              <a href="thread.html#54064">[ thread ]</a>
              <a href="subject.html#54064">[ subject ]</a>
              <a href="author.html#54064">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
