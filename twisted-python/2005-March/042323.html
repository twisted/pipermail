<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] loseConnection should stop the int32/int16	stringReceived too
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20loseConnection%20should%20stop%20the%20int32/int16%0A%09stringReceived%20too&In-Reply-To=%3C20050314125847.13806.1461771439.divmod.quotient.1563%40ohm%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="042312.html">
   <LINK REL="Next"  HREF="042367.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] loseConnection should stop the int32/int16	stringReceived too</H1>
    <B>Jp Calderone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20loseConnection%20should%20stop%20the%20int32/int16%0A%09stringReceived%20too&In-Reply-To=%3C20050314125847.13806.1461771439.divmod.quotient.1563%40ohm%3E"
       TITLE="[Twisted-Python] loseConnection should stop the int32/int16	stringReceived too">exarkun at divmod.com
       </A><BR>
    <I>Mon Mar 14 05:58:47 MST 2005</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="042312.html">[Twisted-Python] loseConnection should stop the int32/int16	stringReceived too
</A></li>
        <LI>Next message (by thread): <A HREF="042367.html">[Twisted-Python] loseConnection should stop the int32/int16	stringReceived too
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42323">[ date ]</a>
              <a href="thread.html#42323">[ thread ]</a>
              <a href="subject.html#42323">[ subject ]</a>
              <a href="author.html#42323">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, 13 Mar 2005 20:57:09 +0100, Andrea Arcangeli &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">andrea at cpushare.com</A>&gt; wrote:
&gt;<i>This patch adds a check for transport.disconnecting to the int16/32
</I>&gt;<i> protocols, so that they don't keep firing stringReceived callbacks after
</I>&gt;<i> calling transport.loseConnection (in line with the linereceiver
</I>&gt;<i> protocol). This also adds the methods for pauseproducer in line with the
</I>&gt;<i> linereceiver protocol (as per previous patch in this thread).
</I>&gt;<i> 
</I>&gt;<i> If these two fixes to int32/16 are correct please apply to SVN.
</I>
  transport.disconnecting is horrible (it's an implementation detail, it doesn't work on a lot of transports).  LineReceiver shouldn't be using it.  The feature LineReceiver uses it to implement may be reasonable, though, which is why its code is still how it is.

  If the feature is desired somewhere else, the best way to add it is to either find another way that doesn't rely on transport.disconnecting (and then we can fix LineReceiver too), or factor the code such that all protocols can provide the feature without having more than one method that relies on transport.disconnecting (then we can fix them all at once someday).

  Jp


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="042312.html">[Twisted-Python] loseConnection should stop the int32/int16	stringReceived too
</A></li>
	<LI>Next message (by thread): <A HREF="042367.html">[Twisted-Python] loseConnection should stop the int32/int16	stringReceived too
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42323">[ date ]</a>
              <a href="thread.html#42323">[ thread ]</a>
              <a href="subject.html#42323">[ subject ]</a>
              <a href="author.html#42323">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
