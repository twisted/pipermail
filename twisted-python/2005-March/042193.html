<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] potential bug in the reactor's handling events	loop
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20potential%20bug%20in%20the%20reactor%27s%20handling%20events%0A%09loop&In-Reply-To=%3C20050304162920.2951.667830422.divmod.quotient.16345%40ohm%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="042192.html">
   <LINK REL="Next"  HREF="042187.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] potential bug in the reactor's handling events	loop</H1>
    <B>Jp Calderone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20potential%20bug%20in%20the%20reactor%27s%20handling%20events%0A%09loop&In-Reply-To=%3C20050304162920.2951.667830422.divmod.quotient.16345%40ohm%3E"
       TITLE="[Twisted-Python] potential bug in the reactor's handling events	loop">exarkun at divmod.com
       </A><BR>
    <I>Fri Mar  4 09:29:20 MST 2005</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="042192.html">[Twisted-Python] potential bug in the reactor's handling	events loop
</A></li>
        <LI>Next message (by thread): <A HREF="042187.html">[Twisted-Python] anyone interested in helping work on a UPnP server?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42193">[ date ]</a>
              <a href="thread.html#42193">[ thread ]</a>
              <a href="subject.html#42193">[ subject ]</a>
              <a href="author.html#42193">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

On Wed, 02 Mar 2005 19:39:00 -0600, Andrzej Leszczynski &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">leszczynscy at yahoo.com</A>&gt; wrote:
&gt;<i>Python 2.3, one of the latest Twisted version:
</I>&gt;<i> 
</I>&gt;<i> I noted that under Linux there is not way to Control-C the reactor loop. 
</I>&gt;<i> After digging a little I found that following change helps:
</I>&gt;<i> 
</I>&gt;<i> [<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">root at d1501-0a10109c</A> internet]# diff base.py{,.ori}
</I>&gt;<i>  &gt;
</I>&gt;<i> 302d301
</I>&gt;<i> &lt;       print &quot;1&quot;,sysEvtTriggers
</I>&gt;<i> 305d303
</I>&gt;<i> &lt;       print &quot;2&quot;,`self._eventTriggers`
</I>&gt;<i> 307,308c305
</I>&gt;<i> &lt;         for callable, args, kw in sysEvtTriggers[1]:
</I>&gt;<i> &lt;           print &quot;3&quot;
</I>&gt;<i> ---
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;         for callable, args, kw in sysEvtTriggers[0]:
</I>&gt;<i> 317d313
</I>&gt;<i> &lt;           print &quot;4&quot;
</I>&gt;<i> 320d315
</I>&gt;<i> &lt;           print &quot;5&quot;,`eventType`
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Of course it is quick work around, not a permanent fix, but it really helps.
</I>&gt;<i> 
</I>
  The change is completely broken, unfortunately :)  It executes the &quot;during&quot; triggers in the &quot;before&quot; phase, and entirely skips the &quot;before&quot; triggers.

  I'll hazard a guess that you're trying to run and stop the reactor twice, and that it only fails on the second attempt.  This behavior isn't supported (reactor.run() can only be called once in a process's lifetime).  

  If this isn't the case, could you include a minimal (but complete and self-contained) example which reproduces the undesirable behavior?

  Jp


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="042192.html">[Twisted-Python] potential bug in the reactor's handling	events loop
</A></li>
	<LI>Next message (by thread): <A HREF="042187.html">[Twisted-Python] anyone interested in helping work on a UPnP server?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42193">[ date ]</a>
              <a href="thread.html#42193">[ thread ]</a>
              <a href="subject.html#42193">[ subject ]</a>
              <a href="author.html#42193">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
