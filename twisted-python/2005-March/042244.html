<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] application design / threads
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20application%20design%20/%20threads&In-Reply-To=%3CF92274058556DE42B94B148EEFB9183949E646%40exchange-03.suedkurier.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="042276.html">
   <LINK REL="Next"  HREF="042248.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] application design / threads</H1>
    <B>Henning.Ramm at mediapro-gmbh.de</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20application%20design%20/%20threads&In-Reply-To=%3CF92274058556DE42B94B148EEFB9183949E646%40exchange-03.suedkurier.de%3E"
       TITLE="[Twisted-Python] application design / threads">Henning.Ramm at mediapro-gmbh.de
       </A><BR>
    <I>Wed Mar  9 06:17:16 MST 2005</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="042276.html">[Twisted-Python] Twisted Logging?
</A></li>
        <LI>Next message (by thread): <A HREF="042248.html">[Twisted-Python] deferreds and hung connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42244">[ date ]</a>
              <a href="thread.html#42244">[ thread ]</a>
              <a href="subject.html#42244">[ subject ]</a>
              <a href="author.html#42244">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi again!

Being a bloody newbie I'm quite unsure how to construct my application; twisted has so much possibilities, perhaps you can provide some hints.

The whole thing becomes a workflow manager that collects information about processed newspaper pages. I'm planning to connect several modules (running on different machines) with PB. The server will handle a database connection and perhaps cache some data that the clients might request. Later the server will provide some status information via http (praise twisted).

One part is an Acrobat Distiller wrapper (via win32com.client):

I created a library with makepy and implemented an event handler class that catches Distiller's events, e.g. &quot;OnJobStart&quot;.
That handler class is inherited from a base class by makepy. Each event calls one predefined method.
The handler class is connected with the distiller class like
dist = acrobatdistiller.PdfDistiller()
win32com.client.WithEvents(dist, DistEventHandler)
There can be only one Distiller instance. I guess I should keep that as long as possible, for several files to distill.
-&gt; How should I handle these events with twisted? Do I need multiple inheritance to inherit my handler also from some twisted class?

Before a PostScript file gets distilled [dist.FileToPDF(source, target, joboptions)], I must patch it (write some pdfmarks into it). I guess I should use a thread for those blocking operations (distilling can take several minutes).
-&gt; One thread for both, just work blocking?
-&gt; Do I need a thread for every copy/move operation (large files via network)?

Another part reads some XML files (using minidom) and writes the mangled content into a database.
I guess I can't split XML parsing into smaller non-blocking portions -&gt; one thread for every file?
For the database stuff I'm using runInteraction, seems to be the best solution.

A general issue is logging. I'm used to log4perl/log4net (same as log4j from apache), but dropped log4py in favour of the similar Python 2.3 standard logging. I already asked in my last mail to this list how I can integrate that with twisted. 
-&gt; Is it possible to get correct linenumbers if using deferreds? Or can I trust logging to be non-blocking?


Best regards,
Henning Hraban Ramm
SÃ¼dkurier Medienhaus / MediaPro
Support/Admin/Development Dept.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="042276.html">[Twisted-Python] Twisted Logging?
</A></li>
	<LI>Next message (by thread): <A HREF="042248.html">[Twisted-Python] deferreds and hung connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42244">[ date ]</a>
              <a href="thread.html#42244">[ thread ]</a>
              <a href="subject.html#42244">[ subject ]</a>
              <a href="author.html#42244">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
