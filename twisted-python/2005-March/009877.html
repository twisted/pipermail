<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] How to accept connections faster
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20How%20to%20accept%20connections%20faster&In-Reply-To=048A40781D05D143842A596D7C78F40F0540837E%40spi-mail2003.spitech.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009875.html">
   <LINK REL="Next"  HREF="009878.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] How to accept connections faster</H1>
    <B>Bob Ippolito</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20How%20to%20accept%20connections%20faster&In-Reply-To=048A40781D05D143842A596D7C78F40F0540837E%40spi-mail2003.spitech.com"
       TITLE="[Twisted-Python] How to accept connections faster">bob at redivi.com
       </A><BR>
    <I>Wed Mar 16 05:39:48 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="009875.html">[Twisted-Python] How to accept connections faster
</A></li>
        <LI>Next message: <A HREF="009878.html">[Twisted-Python] How to accept connections faster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9877">[ date ]</a>
              <a href="thread.html#9877">[ thread ]</a>
              <a href="subject.html#9877">[ subject ]</a>
              <a href="author.html#9877">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Mar 16, 2005, at 5:21, Sinang, Danny wrote:

&gt;<i> I ran the (Twisted) server code below and it accepts a client socket 
</I>&gt;<i> connection every&#160;1.3 seconds. The&#160;equivalent&#160;Synchronous socket code 
</I>&gt;<i> accepts&#160;one every 2 seconds.
</I>&gt;<i>  &#160;
</I>&gt;<i> Can anyone here suggest any code&#160;improvements for&#160;my Twisted server to 
</I>&gt;<i> accept connections faster ?
</I>...
&gt;<i> &#160;
</I>&gt;<i> &#160;&#160;&#160;&#160;&#160;&#160;&#160; for i in range(10000000):
</I>&gt;<i> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; pass
</I>&gt;<i> &#160;&#160;&#160;&#160;&#160;&#160;&#160; print &quot;Looping done.&quot;
</I>
That is blocking code and is not suitable for usage in a Twisted server 
if you expect good performance.  All functions that run in the 
reactor's thread should be designed to return quickly so that Twisted 
can handle events quickly.  You either need to refactor it to run 
iteratively (via successive callLater, LoopingCall, etc.), or in 
another thread (deferToThread).

-bob



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009875.html">[Twisted-Python] How to accept connections faster
</A></li>
	<LI>Next message: <A HREF="009878.html">[Twisted-Python] How to accept connections faster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9877">[ date ]</a>
              <a href="thread.html#9877">[ thread ]</a>
              <a href="subject.html#9877">[ subject ]</a>
              <a href="author.html#9877">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
