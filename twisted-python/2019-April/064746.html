<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] ws(s):// urls and host/port duplication in twisted/autobahn code
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20ws%28s%29%3A//%20urls%20and%20host/port%20duplication%20in%0A%20twisted/autobahn%20code&In-Reply-To=%3C211cd6d9-5ca5-3923-57f5-f7bb298b5583%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="064744.html">
   <LINK REL="Next"  HREF="032268.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] ws(s):// urls and host/port duplication in twisted/autobahn code</H1>
    <B>Tobias Oberstein</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20ws%28s%29%3A//%20urls%20and%20host/port%20duplication%20in%0A%20twisted/autobahn%20code&In-Reply-To=%3C211cd6d9-5ca5-3923-57f5-f7bb298b5583%40gmail.com%3E"
       TITLE="[Twisted-Python] ws(s):// urls and host/port duplication in twisted/autobahn code">tobias.oberstein at gmail.com
       </A><BR>
    <I>Thu Apr 11 02:35:12 MDT 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="064744.html">[Twisted-Python] ws(s):// urls and host/port duplication in twisted/autobahn code
</A></li>
        <LI>Next message (by thread): <A HREF="032268.html">[Twisted-Python] txsni + alpn + acme (letsencrypt)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64746">[ date ]</a>
              <a href="thread.html#64746">[ thread ]</a>
              <a href="subject.html#64746">[ subject ]</a>
              <a href="author.html#64746">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Am 10.04.19 um 19:46 schrieb meejah:
&gt;<i> Chris Withers &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">chris at withers.org</A>&gt; writes:
</I>&gt;<i> 
</I>&gt;&gt;<i> Not sure I follow, I specify <A HREF="ws://">ws://</A> and things work. What am I missing?
</I>&gt;&gt;<i> (I know the initial protocol is http and that's &quot;upgraded&quot; into
</I>&gt;&gt;<i> websocket, but the url is still <A HREF="ws://">ws://</A> or <A HREF="wss://,">wss://,</A> right?)
</I>&gt;<i> 
</I>&gt;<i> What Tobias is getting at, I think, is that your URL could be
</I>&gt;<i> <A HREF="wss://example.com/ws">wss://example.com/ws</A> but the endpoint could be a unix-socket at
</I>&gt;<i> /var/run/foo
</I>
yeah, exactly. thx for helping out;)

&gt;&gt;&gt;<i> fwiw, WAMP is a protocol with a clear-cut, rigorous and decoupled
</I>&gt;&gt;&gt;<i> layering:
</I>&gt;<i> 
</I>&gt;&gt;<i> Do browsers speak WAMP?
</I>&gt;<i> 
</I>&gt;<i> Yes. See Autobahn-JS
</I>&gt;<i> 
</I>&gt;&gt;<i> Do firewalls get upset with it?
</I>&gt;<i> 
</I>&gt;<i> No.
</I>&gt;<i> 
</I>&gt;<i> WAMP connections are usually &quot;outbound&quot; style connections to the router,
</I>&gt;<i> so most firewall configurations will be fine with this.
</I>
yes!

let me add some more details (which are irrelevant in most common cases)

- &quot;usually&quot;: WAMP _can_ run _also_ over connections where the WAMP level 
peer role assignment (client vs router) is fully independent of the 
transport level role (client vs server) assignment as dictated from the 
direction of connection establishment. eg when runnin WAMP over pipes on 
Twisted, the connection establishment / transport roles are reversed

- firewalls: np as long as _outbound_ TLS on 443 is allowed (HTTPS). no 
open ports whatsoever are required, and WAMP still allows you to to RPCs 
_from_ the cloud _to_ the thing sitting inside / behind the firewall. 
you can even do RPCs between 2 browser tabs 
(<A HREF="https://crossbario.com/blog/Free-Your-Code-Backends-in-the-Browser/">https://crossbario.com/blog/Free-Your-Code-Backends-in-the-Browser/</A>)

- MITM https proxies: those TLS unwrapping intermediaries might break 
websocket - if they are not websocket aware or sidestepping via admin 
config of the MITM box. anything over websocket is affected then (not 
only WAMP). TLS v1.3 will make those privacy breaking intermediaries sad 
anyways - which is a GOOD THING!! luckily, the IETF dismissed the last 
minute push from the banking corps in particular to compromise TLS v1.3. 
there are a couple of threads on the IETF WG which really are fun to read;)


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="064744.html">[Twisted-Python] ws(s):// urls and host/port duplication in twisted/autobahn code
</A></li>
	<LI>Next message (by thread): <A HREF="032268.html">[Twisted-Python] txsni + alpn + acme (letsencrypt)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64746">[ date ]</a>
              <a href="thread.html#64746">[ thread ]</a>
              <a href="subject.html#64746">[ subject ]</a>
              <a href="author.html#64746">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
