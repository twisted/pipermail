<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] ws(s):// urls and host/port duplication in twisted/autobahn code
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20ws%28s%29%3A//%20urls%20and%20host/port%20duplication%20in%0A%20twisted/autobahn%20code&In-Reply-To=%3C86imvloirc.fsf%40atlantis.meejah.ca%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="032281.html">
   <LINK REL="Next"  HREF="032285.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] ws(s):// urls and host/port duplication in twisted/autobahn code</H1>
    <B>meejah</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20ws%28s%29%3A//%20urls%20and%20host/port%20duplication%20in%0A%20twisted/autobahn%20code&In-Reply-To=%3C86imvloirc.fsf%40atlantis.meejah.ca%3E"
       TITLE="[Twisted-Python] ws(s):// urls and host/port duplication in twisted/autobahn code">meejah at meejah.ca
       </A><BR>
    <I>Wed Apr 10 11:46:47 MDT 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="032281.html">[Twisted-Python] ws(s):// urls and host/port duplication in twisted/autobahn code
</A></li>
        <LI>Next message (by thread): <A HREF="032285.html">[Twisted-Python] ws(s):// urls and host/port duplication in twisted/autobahn code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32283">[ date ]</a>
              <a href="thread.html#32283">[ thread ]</a>
              <a href="subject.html#32283">[ subject ]</a>
              <a href="author.html#32283">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Chris Withers &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">chris at withers.org</A>&gt; writes:

&gt;<i> Not sure I follow, I specify <A HREF="ws://">ws://</A> and things work. What am I missing?
</I>&gt;<i> (I know the initial protocol is http and that's &quot;upgraded&quot; into
</I>&gt;<i> websocket, but the url is still <A HREF="ws://">ws://</A> or <A HREF="wss://,">wss://,</A> right?)
</I>
What Tobias is getting at, I think, is that your URL could be
<A HREF="wss://example.com/ws">wss://example.com/ws</A> but the endpoint could be a unix-socket at
/var/run/foo

Now, that said, some of the APIs do allow you to shortcut this in the
case when your endpoint will be the same as the host in the URI. Compare
these two &quot;Component&quot; examples; the first uses the &quot;long form&quot; way to
specify the URL + transport and the second is just a string:

<A HREF="https://github.com/crossbario/autobahn-python/blob/master/examples/twisted/wamp/component/backend.py#L34">https://github.com/crossbario/autobahn-python/blob/master/examples/twisted/wamp/component/backend.py#L34</A>
<A HREF="https://github.com/crossbario/autobahn-python/blob/master/examples/twisted/wamp/component/frontend.py#L42">https://github.com/crossbario/autobahn-python/blob/master/examples/twisted/wamp/component/frontend.py#L42</A>

&gt;&gt;<i> fwiw, WAMP is a protocol with a clear-cut, rigorous and decoupled
</I>&gt;&gt;<i> layering:
</I>
&gt;<i> Do browsers speak WAMP?
</I>
Yes. See Autobahn-JS

&gt;<i> Do firewalls get upset with it?
</I>
No.

WAMP connections are usually &quot;outbound&quot; style connections to the router,
so most firewall configurations will be fine with this.

-- 
meejah

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="032281.html">[Twisted-Python] ws(s):// urls and host/port duplication in twisted/autobahn code
</A></li>
	<LI>Next message (by thread): <A HREF="032285.html">[Twisted-Python] ws(s):// urls and host/port duplication in twisted/autobahn code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32283">[ date ]</a>
              <a href="thread.html#32283">[ thread ]</a>
              <a href="subject.html#32283">[ subject ]</a>
              <a href="author.html#32283">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
