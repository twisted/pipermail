<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Unicode
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Unicode&In-Reply-To=%3C4341CAA0.6000600%40kenkinder.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Unicode</H1>
    <B>Ken Kinder</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Unicode&In-Reply-To=%3C4341CAA0.6000600%40kenkinder.com%3E"
       TITLE="[Twisted-Python] Unicode">ken at kenkinder.com
       </A><BR>
    <I>Mon Oct  3 18:19:44 MDT 2005</I>
    <P><UL>
        
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44070">[ date ]</a>
              <a href="thread.html#44070">[ thread ]</a>
              <a href="subject.html#44070">[ subject ]</a>
              <a href="author.html#44070">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Perhaps like many developers, I came across this surprising bit of code
inside a couple of Twisted's methods:

        if isinstance(data, unicode): # no, really, I mean it
            raise TypeError(&quot;Data must be not be unicode&quot;)

And of course, I simply removed those lines. But I'm sure if I submit
that patch, a discussion similar to this one would develop, because it's
unlikely that such code would have been accidentally included:

    <A HREF="http://twistedmatrix.com/pipermail/twisted-python/2005-April/010199.html">http://twistedmatrix.com/pipermail/twisted-python/2005-April/010199.html</A>

Python library will kindly cast unicode objects to strings when
necessary, as is mentioned in the above thread. It *would* be fair to
say that not implicitly deciding on an encoding type is &quot;taking the high
road&quot; if the behavior of encoding weren't so uniformly explicit and
consistent in Python and its standard library:

    <A HREF="http://www.python.org/peps/pep-0100.html">http://www.python.org/peps/pep-0100.html</A>
    <A HREF="http://docs.python.org/api/arg-parsing.html">http://docs.python.org/api/arg-parsing.html</A>
    <A HREF="http://docs.python.org/api/stringObjects.html">http://docs.python.org/api/stringObjects.html</A>

(There are more...)

The purpose of Python's unicode type is transparent exchange of string
objects, whether those string objects are of type str or type unicode.
Pretending that isn't so and raising a TypeError is not helpful. I would
urge you to AT LEAST provide a detailed explanation in that error,
explaining the philosophical disagreement you have with Python's
unicode-string conversion behavior and have a flag you can set to
disable that check.



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44070">[ date ]</a>
              <a href="thread.html#44070">[ thread ]</a>
              <a href="subject.html#44070">[ subject ]</a>
              <a href="author.html#44070">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
