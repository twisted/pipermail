<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] How to force synchronous behavior
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20How%20to%20force%20synchronous%20behavior&In-Reply-To=.82.103.130.3.1130616746.squirrel%40webmail.darkarts.co.za">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011850.html">
   <LINK REL="Next"  HREF="011848.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] How to force synchronous behavior</H1>
    <B>Moe Aboulkheir</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20How%20to%20force%20synchronous%20behavior&In-Reply-To=.82.103.130.3.1130616746.squirrel%40webmail.darkarts.co.za"
       TITLE="[Twisted-Python] How to force synchronous behavior">moe at divmod.com
       </A><BR>
    <I>Sat Oct 29 17:47:02 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="011850.html">[Twisted-Python] How to force synchronous behavior
</A></li>
        <LI>Next message: <A HREF="011848.html">[Twisted-Python] How to force synchronous behavior
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11847">[ date ]</a>
              <a href="thread.html#11847">[ thread ]</a>
              <a href="subject.html#11847">[ subject ]</a>
              <a href="author.html#11847">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, 29 Oct 2005 22:12:26 +0200 (SAST), Clive Crous &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">clive at darkarts.co.za</A>&gt; wrote:
&gt;<i>
</I>&gt;<i>#
</I>&gt;<i>#&gt;&gt; I want to encapsulate deferreds into a function that looks like
</I>&gt;<i>#&gt;&gt; synchronous when invoked.
</I>&gt;<i>#&gt;
</I>&gt;<i>#&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>I use a similar mechanism in my database wrapper module.
</I>&gt;<i>
</I>&gt;<i>here is an example of it in use:
</I>&gt;<i><A HREF="http://www.darkarts.co.za/repository/tada/doc/examples/taoBasicUsage.py">http://www.darkarts.co.za/repository/tada/doc/examples/taoBasicUsage.py</A>
</I>
the OP wanted a function that looks synchronous when *invoked* - the example you gave doesn't look synchronous to the caller at all - the functions decorated with &quot;genAside&quot; return deferreds.  it's easy to pretend that they don't, if you decorate all of your functions similarly, but at some point some plain, upstream  function is going to have to deal directly with a deferred (this is not the case with the example because it is a script, and nothing actually depends on the result of doit()).  also, if any operation inside the doit() function raises an exception, the reactor will not stop.  something like this would probably be better:

doit().addErrback(log.err).addCallback(lambda ignore: reactor.stop())

i'd like to reiterate glyph's advice that suggesting generator based short-cuts to twisted beginners is not a good idea.  it's *very* easy to use these things without understanding what is actually going on under the hood, and massive confusion frequently arises as soon as something crops up that doesn't fit into that programming style. 

--
Moe Aboulkheir


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011850.html">[Twisted-Python] How to force synchronous behavior
</A></li>
	<LI>Next message: <A HREF="011848.html">[Twisted-Python] How to force synchronous behavior
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11847">[ date ]</a>
              <a href="thread.html#11847">[ thread ]</a>
              <a href="subject.html#11847">[ subject ]</a>
              <a href="author.html#11847">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
