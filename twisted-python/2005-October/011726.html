<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] https xmlrpc through proxy 
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20https%20xmlrpc%20through%20proxy%20&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011743.html">
   <LINK REL="Next"  HREF="011728.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] https xmlrpc through proxy </H1>
    <B>Grant Kelly</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20https%20xmlrpc%20through%20proxy%20&In-Reply-To="
       TITLE="[Twisted-Python] https xmlrpc through proxy ">gkwrcc at dri.edu
       </A><BR>
    <I>Thu Oct 20 18:33:07 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="011743.html">[Twisted-Python] LDAP Checker
</A></li>
        <LI>Next message: <A HREF="011728.html">[Twisted-Python] https xmlrpc through proxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11726">[ date ]</a>
              <a href="thread.html#11726">[ thread ]</a>
              <a href="subject.html#11726">[ subject ]</a>
              <a href="author.html#11726">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I just signed up for this list because I am having no success connecting 
to an https xmlrpc server through a proxy/firewall. The proxy can do 
both http and https for the web just fine. I have also been able to 
connect to an xmlrpc server with just http through the proxy.  I am 
using the ProxiedXMLRPC class from this page: 
<A HREF="http://twistedmatrix.com/pipermail/twisted-python/2004-December/009258.html">http://twistedmatrix.com/pipermail/twisted-python/2004-December/009258.html</A>
The author notes it isn't tested with https.

In order to connect to the xmlrpc server, a certificate and key need to 
be specified. I don't know where to specify these files.

I don't even know if this is technically possible. I am hoping that it is.

Any suggestions will be appreciated.
Grant

PS:  I'm going to include the python traceback in case it provides any 
more information:

Traceback (most recent call last):
  File &quot;/usr/local/lib/python2.4/site-packages/twisted/python/log.py&quot;, 
line 41, in callWithContext
    return context.call({ILogContext: newCtx}, func, *args, **kw)
  File 
&quot;/usr/local/lib/python2.4/site-packages/twisted/python/context.py&quot;, line 
52, in callWithContext
    return self.currentContext().callWithContext(ctx, func, *args, **kw)
  File 
&quot;/usr/local/lib/python2.4/site-packages/twisted/python/context.py&quot;, line 
31, in callWithContext
    return func(*args,**kw)
  File 
&quot;/usr/local/lib/python2.4/site-packages/twisted/internet/selectreactor.py&quot;, 
line 139, in _doReadOrWrite
    why = getattr(selectable, method)()
--- &lt;exception caught here&gt; ---
  File &quot;/usr/local/lib/python2.4/site-packages/twisted/internet/tcp.py&quot;, 
line 111, in doRead
    return Connection.doRead(self)
  File &quot;/usr/local/lib/python2.4/site-packages/twisted/internet/tcp.py&quot;, 
line 343, in doRead
    data = self.socket.recv(self.bufferSize)
OpenSSL.SSL.Error: [('SSL routines', 'SSL3_READ_BYTES', 'ssl handshake 
failure')]
Traceback (most recent call last):
  File &quot;testproxy.py&quot;, line 54, in ?
    reactor.run()
  File 
&quot;/usr/local/lib/python2.4/site-packages/twisted/internet/posixbase.py&quot;, 
line 199, in run
    self.mainLoop()
  File 
&quot;/usr/local/lib/python2.4/site-packages/twisted/internet/posixbase.py&quot;, 
line 210, in mainLoop
    self.doIteration(t)
  File 
&quot;/usr/local/lib/python2.4/site-packages/twisted/internet/selectreactor.py&quot;, 
line 133, in doSelect
    _logrun(selectable, _drdw, selectable, method, dict)
--- &lt;exception caught here&gt; ---
  File &quot;/usr/local/lib/python2.4/site-packages/twisted/python/log.py&quot;, 
line 56, in callWithLogger
    return callWithContext({&quot;system&quot;: lp}, func, *args, **kw)
  File &quot;/usr/local/lib/python2.4/site-packages/twisted/python/log.py&quot;, 
line 41, in callWithContext
    return context.call({ILogContext: newCtx}, func, *args, **kw)
  File 
&quot;/usr/local/lib/python2.4/site-packages/twisted/python/context.py&quot;, line 
52, in callWithContext
    return self.currentContext().callWithContext(ctx, func, *args, **kw)
  File 
&quot;/usr/local/lib/python2.4/site-packages/twisted/python/context.py&quot;, line 
31, in callWithContext
    return func(*args,**kw)
  File 
&quot;/usr/local/lib/python2.4/site-packages/twisted/internet/selectreactor.py&quot;, 
line 149, in _doReadOrWrite
    self._disconnectSelectable(selectable, why, method==&quot;doRead&quot;)
  File 
&quot;/usr/local/lib/python2.4/site-packages/twisted/internet/posixbase.py&quot;, 
line 234, in _disconnectSelectable
    selectable.connectionLost(f)
  File &quot;/usr/local/lib/python2.4/site-packages/twisted/internet/tcp.py&quot;, 
line 556, in connectionLost
    Connection.connectionLost(self, reason)
  File &quot;/usr/local/lib/python2.4/site-packages/twisted/internet/tcp.py&quot;, 
line 402, in connectionLost
    protocol.connectionLost(reason)
  File &quot;/usr/local/lib/python2.4/site-packages/twisted/web/http.py&quot;, 
line 351, in connectionLost
    self.handleResponseEnd()
  File &quot;/usr/local/lib/python2.4/site-packages/twisted/web/http.py&quot;, 
line 357, in handleResponseEnd
    self.handleResponse(b)
  File &quot;/usr/local/lib/python2.4/site-packages/twisted/web/xmlrpc.py&quot;, 
line 259, in handleResponse
    self.factory.parseResponse(contents)
  File &quot;/usr/local/lib/python2.4/site-packages/twisted/web/xmlrpc.py&quot;, 
line 284, in parseResponse
    response = xmlrpclib.loads(contents)
  File &quot;/usr/local/lib/python2.4/xmlrpclib.py&quot;, line 1080, in loads
    p.close()
  File &quot;/usr/local/lib/python2.4/xmlrpclib.py&quot;, line 530, in close
    self._parser.Parse(&quot;&quot;, 1) # end of data
xml.parsers.expat.ExpatError: no element found: line 1, column 0



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011743.html">[Twisted-Python] LDAP Checker
</A></li>
	<LI>Next message: <A HREF="011728.html">[Twisted-Python] https xmlrpc through proxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11726">[ date ]</a>
              <a href="thread.html#11726">[ thread ]</a>
              <a href="subject.html#11726">[ subject ]</a>
              <a href="author.html#11726">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
