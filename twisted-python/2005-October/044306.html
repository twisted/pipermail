<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Thoughts about testing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Thoughts%20about%20testing&In-Reply-To=%3C1130346896.31676.25.camel%40localhost.localdomain%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="044302.html">
   <LINK REL="Next"  HREF="044307.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Thoughts about testing</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Thoughts%20about%20testing&In-Reply-To=%3C1130346896.31676.25.camel%40localhost.localdomain%3E"
       TITLE="[Twisted-Python] Thoughts about testing">glyph at divmod.com
       </A><BR>
    <I>Wed Oct 26 11:14:56 MDT 2005</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="044302.html">[Twisted-Python] Thoughts about testing
</A></li>
        <LI>Next message (by thread): <A HREF="044307.html">[Twisted-Python] Thoughts about testing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44306">[ date ]</a>
              <a href="thread.html#44306">[ thread ]</a>
              <a href="subject.html#44306">[ subject ]</a>
              <a href="author.html#44306">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 2005-10-26 at 04:56 -0700, David Ripton wrote:

&gt;<i> Things I particularly like about py.test, vs. unittest:
</I>
Can we compare to trial as it stands please?  I don't think anyone is
seriously suggesting stdlib unittest for Twisted, and I am pretty sure
trial has already subsumed every interesting feature from unittest
itself :)

&gt;<i> 1. assert, not self.failUnlessAllThisUglyCamelCaseActuallyKillsMe()
</I>
This is cute - more in the way it deals with printing appropriate
context than the fact that you actually use 'assert' - but it's a shame
that they resorted to a language hack rather than a simple function like
'test()' or something.  Using 'assert' makes it impossible to test with
-O or -OO.  I personally don't use those options, but some people do,
and they should be testable.

&gt;<i> 2. You can use module-level test functions.  No need to make a test
</I>&gt;<i> class unless it's actually helpful.  (Yay Java.)
</I>
Handy in some cases, but from what I've seen in my brief survey of
py.test-based tests the only thing this does is make it more of a
convention to smear unit test state across a bunch of shared globals ...

&gt;<i> 3. Tests execute in predictable order.
</I>
... and then since there is now global state smeared across your whole
module, the tests have to run in an exact order because each one sets up
things for the next, rather than proper setUp/tearDown encapsulation.

&gt;<i> 4. setup_module / setup_class / setup_method.  Handy for reusing
</I>&gt;<i> database connections.
</I>
Technically trial has similar features, but they were broken so horribly
for so long that it became the common wisdom not to use them.  I have to
assume this has recently changed?

&gt;<i> 5. A separate test runner binary, so you don't need __main__ boilerplate
</I>&gt;<i> in every test module, and you can put tests in the same module as a 
</I>&gt;<i> script (if you don't care about them being found automatically).
</I>
Trial has this already too.

&gt;<i> 6. You can fill your tests with print statements, and only see their
</I>&gt;<i> output if the test fails (or you pass the -s option).
</I>
This is like a replication of trial's AND unittest's worst feature - the
fact that tracebacks are deferred until execution is finished, so tests
which hang intermittently are un-debuggable.  I believe it is only for
the buildbot that -e is not the default.  Speaking of which, let me go
update TwistedEmacs...




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="044302.html">[Twisted-Python] Thoughts about testing
</A></li>
	<LI>Next message (by thread): <A HREF="044307.html">[Twisted-Python] Thoughts about testing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44306">[ date ]</a>
              <a href="thread.html#44306">[ thread ]</a>
              <a href="subject.html#44306">[ subject ]</a>
              <a href="author.html#44306">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
