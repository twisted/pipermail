<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: [Twisted-commits] r14683 - Make the	toMainThread Queue unlimited in size, instead of max size 1. 
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20%5BTwisted-commits%5D%20r14683%20-%20Make%20the%0A%09toMainThread%20Queue%20unlimited%20in%20size%2C%20instead%20of%20max%20size%201.%20&In-Reply-To=E1ENtn5-00011b-00%40wolfwood">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011613.html">
   <LINK REL="Next"  HREF="011615.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: [Twisted-commits] r14683 - Make the	toMainThread Queue unlimited in size, instead of max size 1. </H1>
    <B>James Y Knight</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20%5BTwisted-commits%5D%20r14683%20-%20Make%20the%0A%09toMainThread%20Queue%20unlimited%20in%20size%2C%20instead%20of%20max%20size%201.%20&In-Reply-To=E1ENtn5-00011b-00%40wolfwood"
       TITLE="[Twisted-Python] Re: [Twisted-commits] r14683 - Make the	toMainThread Queue unlimited in size, instead of max size 1. ">foom at fuhm.net
       </A><BR>
    <I>Fri Oct  7 13:31:02 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="011613.html">[Twisted-Python] Conch SSH client howto
</A></li>
        <LI>Next message: <A HREF="011615.html">[Twisted-Python] Re: [Twisted-commits] r14683 - Make	thetoMainThread Queue unlimited in size, instead of max size 1. 
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11614">[ date ]</a>
              <a href="thread.html#11614">[ thread ]</a>
              <a href="subject.html#11614">[ subject ]</a>
              <a href="author.html#11614">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Oct 7, 2005, at 11:05 AM, Stephen Thorne wrote:
&gt;<i> Make the toMainThread Queue unlimited in size, instead of max size 1.
</I>&gt;<i> This can cause deadlocks.
</I>
Why does it cause deadlocks? That queue should be the only lock the  
tsr thread blocks upon, besides the GIL. Making the queue infinite  
means the tsr thread could sit there generating large amounts of  
events before the main thread gets around to reading any of them,  
getting in a state of continuous backlog and badness. From what I can  
see, the select thread *should* block until the main thread has read  
the data.

James



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011613.html">[Twisted-Python] Conch SSH client howto
</A></li>
	<LI>Next message: <A HREF="011615.html">[Twisted-Python] Re: [Twisted-commits] r14683 - Make	thetoMainThread Queue unlimited in size, instead of max size 1. 
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11614">[ date ]</a>
              <a href="thread.html#11614">[ thread ]</a>
              <a href="subject.html#11614">[ subject ]</a>
              <a href="author.html#11614">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
