<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Freevo 2.0, Kamaelia, pyevent,	Eventnet/LGT: what's going on?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Freevo%202.0%2C%20Kamaelia%2C%20pyevent%2C%0A%09Eventnet/LGT%3A%20what%27s%20going%20on%3F&In-Reply-To=%3C20051021013415.GI9373%40divmod.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="044245.html">
   <LINK REL="Next"  HREF="044243.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Freevo 2.0, Kamaelia, pyevent,	Eventnet/LGT: what's going on?</H1>
    <B>Valentino Volonghi aka Dialtone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Freevo%202.0%2C%20Kamaelia%2C%20pyevent%2C%0A%09Eventnet/LGT%3A%20what%27s%20going%20on%3F&In-Reply-To=%3C20051021013415.GI9373%40divmod.com%3E"
       TITLE="[Twisted-Python] Freevo 2.0, Kamaelia, pyevent,	Eventnet/LGT: what's going on?">dialtone at divmod.com
       </A><BR>
    <I>Thu Oct 20 19:34:15 MDT 2005</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="044245.html">[Twisted-Python] Freevo 2.0, Kamaelia, pyevent, Eventnet/LGT:	what's going on?
</A></li>
        <LI>Next message (by thread): <A HREF="044243.html">[Twisted-Python] Freevo 2.0, Kamaelia, pyevent,	Eventnet/LGT: what's going on?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44246">[ date ]</a>
              <a href="thread.html#44246">[ thread ]</a>
              <a href="subject.html#44246">[ subject ]</a>
              <a href="author.html#44246">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Oct 21, 2005 at 03:05:16AM +0200, Antoine Pitrou wrote:

&gt;<i> Understanding Python code is not very hard. But it merely tells me how
</I>&gt;<i> the thing works /now/. It doesn't tell me how it's supposed to work in
</I>&gt;<i> former/future versions, i.e. it doesn't give me a spec to program
</I>&gt;<i> against. I don't know which behaviour is an implementation detail and
</I>&gt;<i> which behaviour is part of the spec.
</I>
Point taken. But still this doesn't explain why few people submit bugs for
documentation and help in fixing them.

&gt;<i> Ok, but Twisted is much much more than a simple event loop.
</I>
Only because it has a lot of protocols already implemented, which you don't
use and hence make twisted a simple event loop from your perspective.

&gt;<i> Well, that is quite my opinion on OpenDocument right now. It is a
</I>&gt;<i> standard de jure, but de facto it is not interoperable at all (much less
</I>&gt;<i> than RTF or SXW). Of course we can be sure this will change for
</I>&gt;<i> OpenDocument, while this is less sure for PB (not the same
</I>&gt;<i> mindshare...).
</I>
Still it is Open and not proprietary.

&gt;<i> When I write &quot;class Protocol&quot;, it seems obvious that each instance would
</I>&gt;<i> be &quot;a Protocol&quot;. The same way that if I write &quot;class Truck&quot;, each
</I>&gt;<i> instance will be &quot;a Truck&quot;. Not &quot;a fragment of existence of a Truck
</I>&gt;<i> between two engine starts determined by an external Factory which is
</I>&gt;<i> semantically the real Truck&quot;.
</I>
What does: 'a fragment of existence of a Truck' mean? Is lifetime specified in
the name? Do we need to change the name of a class depending on how long it
instances live?

Not at all.

A class is the type of something. Explains the behaviour and initial state of
a something, frozen in time. The fact that one particular instance (or even
all of them) survive only one connection has no reflection on the object
itself.

Also because protocol lifetime is also completely in your hands. By default it
only lasts one connection, you may keep it live for the whole application
life and even reuse it from the factory for later connections.

The protocol instance is created in the Factory. Twisted gives you the chance
to make decisions in that precise moment.

&gt;<i> I don't agree. Using a framework without trying to understand (even
</I>&gt;<i> roughly) what happens underneath is very dangerous. For example using
</I>&gt;<i> Twisted without knowing (even roughly) how an event loop works in
</I>&gt;<i> practice would not be a good idea.
</I>
Understanding an event loop and how it is exposed to the user is part of the
abstraction level. You don't need to know that twisted buffers communication
or that it accepts 50 connections at a time. Except when you are really
dealing with that stuff. In which case this should be documented and maybe it
isn't as much. Yet for most cases you don't need to know those details.

&gt;<i> That doesn't tell me a separate Protocol instance is created for each
</I>&gt;<i> connection. 
</I>&gt;<i> Having to rely on such &quot;hints&quot; is like playing Russian roulette.
</I>
The fact that the factory is the thing that creates the protocol, and thus has
the main word on how long it will survive and how it will be used, should just
be a big alarm on that.

&gt;<i> Of course I took the simpler route of not caring /at all/ about it and
</I>&gt;<i> instead implementing all state and connection bookkeeping in my own
</I>&gt;<i> classes. Which means my Protocol/Factory classes are essentially empty.
</I>
This is indeed sad.

&gt;<i> If on another hand I use the &quot;full Monty&quot; (twistd, PB, etc.), my app
</I>&gt;<i> will be very closely wired around Twisted and it will be very tedious to
</I>&gt;<i> rearrange it around another framework.
</I>
Why? Things are never reusable in such an easy way.

&gt;<i> How do you want to merge them together ?
</I>&gt;<i> There has been various discussion on the Python-dev list and the general
</I>&gt;<i> sentiment has been &quot;explicit is better than implicit&quot;. In other words,
</I>&gt;<i> don't make async tasks look like they are synchronous. I rather agree
</I>&gt;<i> with this. Too much magic often backfires brutally.
</I>
This is the future. Now it's different. And the future includes the ternary
operator (sigh).

&gt;<i> Without knowing the precise problem to be solved, I'd say: launch the
</I>&gt;<i> Twisted event loop in a separate thread, and use threading.Condition to
</I>&gt;<i> signal the main thread. Or a subtle variation of it ;)
</I>
Maybe. Still makes me sad though (more complexity instead of more simplicity,
as the boss hints for a reason to not use twisted, as you are hinting too).

&gt;<i> My advice is that you shouldn't take every criticism as just a proof of
</I>&gt;<i> laziness on the part of the critic. Even very terse critics like
</I>&gt;<i> &quot;Twisted is a huge monster&quot; can be valuable for you to guess what kind
</I>&gt;<i> of perception Twisted enjoys.
</I>
There are criticisms and criticisms. Yours is very well accepted and will be
considered if it will end up in a bug submission or some help in fixing the
bugs you see in documentation. Just saying: 'there is few' doesn't help much,
maybe we already know that not everything is perfectly documented. Taking a
bit of your time to write a small summary of where the documentation is
lacking and a small comment on how to fix that instead will be answered and
fixed most probably.

HTH

-- 
Valentino Volonghi aka Dialtone
Now Running MacOSX 10.4
Blog: <A HREF="http://vvolonghi.blogspot.com">http://vvolonghi.blogspot.com</A>
<A HREF="http://weever.berlios.de">http://weever.berlios.de</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 186 bytes
Desc: not available
URL: &lt;/pipermail/twisted-python/attachments/20051021/bb5cbcb5/attachment.sig&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="044245.html">[Twisted-Python] Freevo 2.0, Kamaelia, pyevent, Eventnet/LGT:	what's going on?
</A></li>
	<LI>Next message (by thread): <A HREF="044243.html">[Twisted-Python] Freevo 2.0, Kamaelia, pyevent,	Eventnet/LGT: what's going on?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44246">[ date ]</a>
              <a href="thread.html#44246">[ thread ]</a>
              <a href="subject.html#44246">[ subject ]</a>
              <a href="author.html#44246">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
