<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Unicode
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Unicode&In-Reply-To=4341CAA0.6000600%40kenkinder.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011587.html">
   <LINK REL="Next"  HREF="011581.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Unicode</H1>
    <B>Andrew Bennetts</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Unicode&In-Reply-To=4341CAA0.6000600%40kenkinder.com"
       TITLE="[Twisted-Python] Unicode">andrew-twisted at puzzling.org
       </A><BR>
    <I>Mon Oct  3 22:58:28 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="011587.html">[Twisted-Python] Unicode
</A></li>
        <LI>Next message: <A HREF="011581.html">[Twisted-Python] Unicode
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11570">[ date ]</a>
              <a href="thread.html#11570">[ thread ]</a>
              <a href="subject.html#11570">[ subject ]</a>
              <a href="author.html#11570">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Oct 03, 2005 at 06:19:44PM -0600, Ken Kinder wrote:
[...]
&gt;<i> 
</I>&gt;<i> The purpose of Python's unicode type is transparent exchange of string
</I>&gt;<i> objects, whether those string objects are of type str or type unicode.
</I>&gt;<i> Pretending that isn't so and raising a TypeError is not helpful. I would
</I>&gt;<i> urge you to AT LEAST provide a detailed explanation in that error,
</I>&gt;<i> explaining the philosophical disagreement you have with Python's
</I>&gt;<i> unicode-string conversion behavior and have a flag you can set to
</I>&gt;<i> disable that check.
</I>
The issue is that the python-global default implicit encoding of unicode to
str could be completely wrong for any given protocol and transport instance
(i.e. socket).  Protocol implementations should not be vulnerable to bugs
just because someone adds sys.setdefaultencoding('utf-16') to their
sitecustomize.py.

It's not hard at all to imagine a situation where two different sockets have
two completely different encodings -- e.g. HTTP servers can and should
choose charsets for responses based on what the client request asks for,
iirc.

This is formally addressed in the Twisted documentation -- as a FAQ -- here:

    <A HREF="http://twistedmatrix.com/projects/core/documentation/howto/faq.html#auto25">http://twistedmatrix.com/projects/core/documentation/howto/faq.html#auto25</A>

-Andrew.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011587.html">[Twisted-Python] Unicode
</A></li>
	<LI>Next message: <A HREF="011581.html">[Twisted-Python] Unicode
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11570">[ date ]</a>
              <a href="thread.html#11570">[ thread ]</a>
              <a href="subject.html#11570">[ subject ]</a>
              <a href="author.html#11570">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
