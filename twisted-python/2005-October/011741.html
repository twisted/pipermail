<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Solved? Or Not? testing my application
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Solved%3F%20Or%20Not%3F%20testing%20my%20application&In-Reply-To=200510201807.20029.Marcin.Kasperski%40softax.com.pl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011721.html">
   <LINK REL="Next"  HREF="011745.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Solved? Or Not? testing my application</H1>
    <B>Jp Calderone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Solved%3F%20Or%20Not%3F%20testing%20my%20application&In-Reply-To=200510201807.20029.Marcin.Kasperski%40softax.com.pl"
       TITLE="[Twisted-Python] Solved? Or Not? testing my application">exarkun at divmod.com
       </A><BR>
    <I>Fri Oct 21 23:43:58 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="011721.html">[Twisted-Python] Solved? Or Not? testing my application
</A></li>
        <LI>Next message: <A HREF="011745.html">[Twisted-Python] Solved? Or Not? testing my application
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11741">[ date ]</a>
              <a href="thread.html#11741">[ thread ]</a>
              <a href="subject.html#11741">[ subject ]</a>
              <a href="author.html#11741">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 20 Oct 2005 18:07:19 +0200, Marcin Kasperski &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">marcin.kasperski at softax.com.pl</A>&gt; wrote:
&gt;&gt;<i> As one more attempt I just ugraded from twisted 1.3 to twisted
</I>&gt;&gt;<i> 2.0 (= from twisted version present in Debian testing to
</I>&gt;&gt;<i> twisted version present in Debian unstable).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> And now ........ the script which in 1.3 ignored errors but
</I>&gt;&gt;<i> worked, *hangs(, in exactly the same way in which it used to
</I>&gt;&gt;<i> hang when I used deferredResult.
</I>&gt;<i>
</I>&gt;<i>I found the solution. The following modification caused
</I>&gt;<i>everything to work as expected
</I>&gt;<i>
</I>&gt;<i>    def setUp(self):
</I>&gt;<i>        self.dbpool = adbapi.ConnectionPool('psycopg', DSN)
</I>&gt;<i>        self.dbpool.start()
</I>&gt;<i>        # ...
</I>&gt;<i>
</I>&gt;<i>(I added self.dbpool.start())
</I>&gt;<i>
</I>&gt;<i>Confusing part is that start method doc tells:
</I>&gt;<i>
</I>&gt;<i>            If you are using the reactor normally, this function
</I>&gt;<i>            does *not* need to be called.
</I>&gt;<i>
</I>&gt;<i>So it seems trial is *not* using reactor 'normally' - whatever
</I>&gt;<i>does it mean.
</I>
Indeed.  Hopefully this will be rectified at some future point, but it is difficult to fix for now, due to the way the vast majority of existing tests
are written, along with the desire to retain backwards compatibility.

Jp


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011721.html">[Twisted-Python] Solved? Or Not? testing my application
</A></li>
	<LI>Next message: <A HREF="011745.html">[Twisted-Python] Solved? Or Not? testing my application
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11741">[ date ]</a>
              <a href="thread.html#11741">[ thread ]</a>
              <a href="subject.html#11741">[ subject ]</a>
              <a href="author.html#11741">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
