<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Project design questions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Project%20design%20questions&In-Reply-To=OF2BEB7F20.432F903F-ON86257367.0076A604-86257367.0076B60A%40uscmail.uscourts.gov">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016098.html">
   <LINK REL="Next"  HREF="016101.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Project design questions</H1>
    <B>Justin Warren</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Project%20design%20questions&In-Reply-To=OF2BEB7F20.432F903F-ON86257367.0076A604-86257367.0076B60A%40uscmail.uscourts.gov"
       TITLE="[Twisted-Python] Project design questions">daedalus at eigenmagic.com
       </A><BR>
    <I>Tue Oct  2 01:54:25 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="016098.html">[Twisted-Python] Project design questions
</A></li>
        <LI>Next message: <A HREF="016101.html">[Twisted-Python] Project design questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16100">[ date ]</a>
              <a href="thread.html#16100">[ thread ]</a>
              <a href="subject.html#16100">[ subject ]</a>
              <a href="author.html#16100">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 2007-10-01 at 16:36 -0500, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Paul_S_Johnson at mnb.uscourts.gov</A>
wrote:
&gt;<i> 
</I>&gt;<i> Here's a description of my general game plan and my questions are
</I>&gt;<i> below: 
</I>&gt;<i> 
</I>&gt;<i> THE MISSION 
</I>&gt;<i> Create a GUI-based, dashboard-like application that monitors the
</I>&gt;<i> overall health of our resources. It would be a tool that helps
</I>&gt;<i> pinpoint trouble spots when performance is less than desirable.
</I>&gt;<i> Ideally, we would get such a good handle on it that it would warn us
</I>&gt;<i> of impending trouble before it causes a failure. 
</I>
Wow. This is indeed a mighty mission.

&gt;<i> SAMPLE FUNCTIONS FOR THE APPLICATION 
</I>&gt;<i> Monitor web traffic by distilling down Apache logs 
</I>&gt;<i> Monitor server hardware through built in firmware http interface 
</I>&gt;<i> Monitor server health via command line commands: 
</I>&gt;<i>         disk space 
</I>&gt;<i>         processor load 
</I>&gt;<i>         etc. 
</I>&gt;<i> Monitor database health via command line commands 
</I>&gt;<i> Monitor backup success through log output 
</I>&gt;<i> Monitor misc. server messages 
</I>&gt;<i> Monitor switch traffic 
</I>&gt;<i> Monitor processes 
</I>&gt;<i> ...And more. 
</I>
May I suggest that reviewing existing prior art might serve as a useful
place to begin in understanding ways in which this can be done? Examples
include, but are far from limited to:

- Concord eHealth
- BMC Patrol
- HP IT/O (or whatever it's called these days)
- IBM Tivoli
- EMC SMART
- Nagios
- Zenoss
- Hyperic
- seafelt (disclosure: I wrote large amounts of this one)
- cacti
- MRTG

&gt;<i> POSSIBLE CONSTRAINTS 
</I>&gt;<i> Our main servers are on a WAN whose security is the job of the greater
</I>&gt;<i> org.  We have access through SSL connections now, but we may not be
</I>&gt;<i> able to get permissions to open any additional ports for our
</I>&gt;<i> monitoring purposes. 
</I>&gt;<i> 
</I>&gt;<i> THE QUESTIONS 
</I>&gt;<i> Very basic question: am I better off leaving most of the heavy lifting
</I>&gt;<i> (as in the programming logic) on the client side? This would mean more
</I>&gt;<i> data would have to pass from server to client app (e.g. a whole web
</I>&gt;<i> log or part thereof) which is the downside. The upside is that in a
</I>&gt;<i> failure emergency situation if my server is still up enough to have a
</I>&gt;<i> SSH connection my dashboard app may still be useful to me. Thoughts? 
</I>
In a production environment, it is usual for people to get nervous about
how much of a system's resources will be consumed by the monitoring
software (usually called an agent). A webserver's primary function is to
serve web traffic, a database server to be a database, etc. so the usual
way is to make the client as lightweight as possible and have the heavy
lifting done on a dedicated monitoring server (or servers).

Then you need to consider if you will need to maintain historical data
in order to make decisions. You would need a certain amount of
historical data to decide if the rate of storage growth is abnormal, for
example.

You will also need to decide if you're doing polling based monitoring,
where the monitoring system asks clients at a regular interval for some
information, or event based monitoring where you simply respond to an
event occurring, or some hybrid of the two, where regular polling
identifies an event (eg: CPU load too high) which then triggers an event
(CPU load too high on client x). Having the client/agent do the polling
may be more appropriate in some circumstances, and in others having the
server do it might be best.

&gt;<i> If we are not constrained to only get our info via SSH what's the best
</I>&gt;<i> kind of connection to have? My thought is to use the Prospective
</I>&gt;<i> Broker since that seems to be the most Pythonistic option. Is it
</I>&gt;<i> possible to encrypt the PB server connection? 
</I>
It sounds like you're talking about how to get from the GUI to a server,
rather than how to talk to a device to interrogate it for information,
so yes, Perspective Broker is probably a reasonable way to do that. You
won't be able to run Python on a Cisco switch, though, so have you
considered something like SNMP for statistics gathering for non-Python
devices?

What is your actual goal? Do you want to write your own systems
monitoring software, or do you want to monitor your kit? Writing this
sort of software can become quite a complex undertaking.

Have you considered adapting an existing implementation to your own
needs by writing the necessary plugin? To stand on the shoulders of
giants, as it were.

-- 
Justin Warren &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">daedalus at eigenmagic.com</A>&gt;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016098.html">[Twisted-Python] Project design questions
</A></li>
	<LI>Next message: <A HREF="016101.html">[Twisted-Python] Project design questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16100">[ date ]</a>
              <a href="thread.html#16100">[ thread ]</a>
              <a href="subject.html#16100">[ subject ]</a>
              <a href="author.html#16100">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
