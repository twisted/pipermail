<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: Proxy server in front of two web sites
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20Proxy%20server%20in%20front%20of%20two%20web%20sites&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016237.html">
   <LINK REL="Next"  HREF="016244.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: Proxy server in front of two web sites</H1>
    <B>Marcin Kasperski</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20Proxy%20server%20in%20front%20of%20two%20web%20sites&In-Reply-To="
       TITLE="[Twisted-Python] Re: Proxy server in front of two web sites">Marcin.Kasperski at softax.com.pl
       </A><BR>
    <I>Mon Oct 29 09:37:05 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="016237.html">[Twisted-Python] Proxy server in front of two web sites
</A></li>
        <LI>Next message: <A HREF="016244.html">[Twisted-Python] Re: Proxy server in front of two web sites
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16239">[ date ]</a>
              <a href="thread.html#16239">[ thread ]</a>
              <a href="subject.html#16239">[ subject ]</a>
              <a href="author.html#16239">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&quot;Stefan Arentz&quot; &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">stefan.arentz at gmail.com</A>&gt; writes:

&gt;<i> I'm looking at implementing a solution for the following problem: I
</I>&gt;<i> have a setup with two web servers. Each contains the same directory
</I>&gt;<i> structure but not the same files. Using a proxy server in front of
</I>&gt;<i> these two I would like to merge them into one. So the proxy would
</I>&gt;<i> first hit server A and if A returned a 404 then it would hit B.
</I>&gt;<i>
</I>&gt;<i> Is this something that I should implement as a web server or as a
</I>&gt;<i> proxy server? Is there actually a difference?
</I>
Well, de facto it will (almost-*) always be a proxy, proxy is
something that forwards requests and responses. One thing to note is
that if you want backend servers to see the client IP, some extra
effort is needed (like mod_rpaf on backend and adding X-Forwarded-For
on proxy).

nginx suggestion is good one, although of course not the only
possible.  I believe almost every product suitable to work as
reverse-proxy should handle this use case.


*) There exists the solution which does not require a proxy (and is
reasonable if most of the requests go to the first server). Just
have clients accessing the first server but in error handler redirect
them to the second server whenever they face 404.  This way one item
less to manage. But such process will not be transparent for users,
they will see different URLs.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016237.html">[Twisted-Python] Proxy server in front of two web sites
</A></li>
	<LI>Next message: <A HREF="016244.html">[Twisted-Python] Re: Proxy server in front of two web sites
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16239">[ date ]</a>
              <a href="thread.html#16239">[ thread ]</a>
              <a href="subject.html#16239">[ subject ]</a>
              <a href="author.html#16239">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
