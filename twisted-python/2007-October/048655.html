<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] trouble with missing exceptions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20trouble%20with%20missing%20exceptions&In-Reply-To=%3C20071010233736.GA16455%40steerpike.home.puzzling.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="048652.html">
   <LINK REL="Next"  HREF="048685.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] trouble with missing exceptions</H1>
    <B>Andrew Bennetts</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20trouble%20with%20missing%20exceptions&In-Reply-To=%3C20071010233736.GA16455%40steerpike.home.puzzling.org%3E"
       TITLE="[Twisted-Python] trouble with missing exceptions">andrew-twisted at puzzling.org
       </A><BR>
    <I>Wed Oct 10 17:37:36 MDT 2007</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="048652.html">[Twisted-Python] trouble with missing exceptions
</A></li>
        <LI>Next message (by thread): <A HREF="048685.html">[Twisted-Python] trouble with missing exceptions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48655">[ date ]</a>
              <a href="thread.html#48655">[ thread ]</a>
              <a href="subject.html#48655">[ subject ]</a>
              <a href="author.html#48655">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>markus espenhain wrote:
&gt;<i> hi
</I>&gt;<i> 
</I>&gt;<i> i've written a tcp client - using a derived NetstringReceiver, a 
</I>&gt;<i> ReconnectingClientFactory and just reactor.connectTCP + reactor.run.
</I>&gt;<i> 
</I>&gt;<i> the problem is that after the connection is made - every exception that 
</I>&gt;<i> occurred seems to be lost and the execution at this point discontinues - 
</I>&gt;<i> also with a try/catch block around it
</I>&gt;<i> 
</I>&gt;<i> class MyProtocol(basic.NetstringReceiver):
</I>&gt;<i> 	...
</I>&gt;<i> 	def onData(self, data):
</I>&gt;<i> 		print data
</I>&gt;<i> 		try:
</I>&gt;<i> 			print 'before' # printed
</I>&gt;<i> 			raise Exception('err')
</I>&gt;<i> 		except Exception, e:
</I>&gt;<i> 			print e # nothing
</I>&gt;<i> 		print 'after' # nothing
</I>&gt;<i> 
</I>&gt;<i> after print 'before' nothing more in onData happens - anyway the app 
</I>&gt;<i> runs and on new data the onData is entered again
</I>&gt;<i> 
</I>&gt;<i> i poke around 2h or so and i can't remember to had this problem before 
</I>&gt;<i> ... so anybody can give me a hint or maybe something that i miss?
</I>
I'm guessing this isn't literally code you've tried to run, because that will
always print e and 'after'.  There's nothing in Twisted that changes the way
Python's exception handling works.

Taking a guess that by “raise Exception('err')” you mean you call a function
that somehow raises an exception your “except Exception:” block fails to catch,
perhaps try a bare “except:”.  It might be a string exception.

Otherwise, I'd try making as minimal an example of the problem as you can that
can reproduce the problem, and if you're still stuck, posting that to this list
(or if it doesn't involve Twisted, comp.lang.python).  Or use “import pdb;
pdb.set_trace()” to insert a breakpoint and step through the code in the
debugger.

-Andrew.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="048652.html">[Twisted-Python] trouble with missing exceptions
</A></li>
	<LI>Next message (by thread): <A HREF="048685.html">[Twisted-Python] trouble with missing exceptions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48655">[ date ]</a>
              <a href="thread.html#48655">[ thread ]</a>
              <a href="subject.html#48655">[ subject ]</a>
              <a href="author.html#48655">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
