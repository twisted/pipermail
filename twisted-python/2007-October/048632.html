<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] stdio.StandardIO, ServerProtocol and Services.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20stdio.StandardIO%2C%20ServerProtocol%20and%20Services.&In-Reply-To=%3C20071009020227.8162.890306013.divmod.quotient.20321%40ohm%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="048631.html">
   <LINK REL="Next"  HREF="048640.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] stdio.StandardIO, ServerProtocol and Services.</H1>
    <B>Jean-Paul Calderone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20stdio.StandardIO%2C%20ServerProtocol%20and%20Services.&In-Reply-To=%3C20071009020227.8162.890306013.divmod.quotient.20321%40ohm%3E"
       TITLE="[Twisted-Python] stdio.StandardIO, ServerProtocol and Services.">exarkun at divmod.com
       </A><BR>
    <I>Mon Oct  8 20:02:27 MDT 2007</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="048631.html">[Twisted-Python] stdio.StandardIO, ServerProtocol and Services.
</A></li>
        <LI>Next message (by thread): <A HREF="048640.html">[Twisted-Python] stdio.StandardIO, ServerProtocol and Services.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48632">[ date ]</a>
              <a href="thread.html#48632">[ thread ]</a>
              <a href="subject.html#48632">[ subject ]</a>
              <a href="author.html#48632">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 8 Oct 2007 11:15:33 +0300, kgi &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">iacovou at gmail.com</A>&gt; wrote:
&gt;<i>On Saturday 06 October 2007 18:04:46 Phil Mayers wrote:
</I>&gt;&gt;<i> &gt; The fact that adding reactor.run() (which shouldn't be needed in a
</I>&gt;&gt;<i> &gt; Service, right?) implies to me that the reactor isn't starting up
</I>&gt;&gt;<i> &gt; properly without it, and I can't see why.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> How are you starting this code? Are you just executing it? If so, don't
</I>&gt;&gt;<i> do that. Use:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> twistd -noy thefile.py
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The Twisted application/service code just creates the relevant objects;
</I>&gt;&gt;<i> the application object still needs to be run. &quot;twistd&quot; will do this for
</I>&gt;&gt;<i> you.
</I>&gt;<i>
</I>&gt;<i>Hi Phil; thanks for your reply.
</I>&gt;<i>
</I>&gt;<i>Sadly, I am already using twistd to start this code. Virtually all my Twisted
</I>&gt;<i>code is service.Service-based, and I am accustomed to just boshing the
</I>&gt;<i>various services into an application hierarchy and letting twistd Do The
</I>&gt;<i>Right Thing, which is why I'm confused as to why this snippet seems not to
</I>&gt;<i>work.
</I>
You want to do things with the terminal.  twistd also wants to do things
with the terminal (particularly if you use -n).  These two things come
into conflict.  The added call to reactor.run() seems to &quot;fix&quot; the issue
because it prevents twistd from finishing the usual startup tasks, so
your code gets to run and has the terminal to itself.

It's probably not feasible at this point to provide a terminal interface
to an application run with twistd on the controlling pty for that
application.  This is a feature which would need to be added to twistd.

Jean-Paul


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="048631.html">[Twisted-Python] stdio.StandardIO, ServerProtocol and Services.
</A></li>
	<LI>Next message (by thread): <A HREF="048640.html">[Twisted-Python] stdio.StandardIO, ServerProtocol and Services.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48632">[ date ]</a>
              <a href="thread.html#48632">[ thread ]</a>
              <a href="subject.html#48632">[ subject ]</a>
              <a href="author.html#48632">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
