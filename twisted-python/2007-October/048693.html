<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] [newbie] server script with client functionality
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20%5Bnewbie%5D%20server%20script%20with%20client%20functionality&In-Reply-To=%3CEE1BF4AE-D4B5-4666-8270-34D846033229%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="048688.html">
   <LINK REL="Next"  HREF="048689.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] [newbie] server script with client functionality</H1>
    <B>Evert Rol</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20%5Bnewbie%5D%20server%20script%20with%20client%20functionality&In-Reply-To=%3CEE1BF4AE-D4B5-4666-8270-34D846033229%40gmail.com%3E"
       TITLE="[Twisted-Python] [newbie] server script with client functionality">evert.rol at gmail.com
       </A><BR>
    <I>Tue Oct 16 09:43:39 MDT 2007</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="048688.html">[Twisted-Python] [newbie] server script with client functionality
</A></li>
        <LI>Next message (by thread): <A HREF="048689.html">[Twisted-Python] using Twisted with postgresql
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48693">[ date ]</a>
              <a href="thread.html#48693">[ thread ]</a>
              <a href="subject.html#48693">[ subject ]</a>
              <a href="author.html#48693">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>   Hi Johann,

Thanks for your reply.

&gt;&gt;<i> I'm new to Twisted, so I'm not sure where to find information on  
</I>&gt;&gt;<i> this.
</I>&gt;<i> <A HREF="http://twistedmatrix.com/projects/core/documentation/howto/tutorial/">http://twistedmatrix.com/projects/core/documentation/howto/tutorial/</A> 
</I>&gt;<i> client.html
</I>
I had looked at the tutorial, but admittedly not gone all the way, as  
it didn't seem to address my problem. But it looks like this part of  
the tutorial actually does.

Then again, by that time, I felt a bit daunted by the Twisted  
framework (Protocols, Services, Factories and what not, all hooked  
into each other). So I've switched back to the socket module. While  
less neat, it does have the additional advantage that when exporting  
my script to other people, I don't have to ask them to install  
Twisted as well.
But perhaps, in time, I will give Twisted another try. I'll certainly  
play with a few times more, to see if I can get the hang of it.

Anyway, thanks again,

   Evert

ps: ah yes, I did mean reactor.run(). I had already gotten somewhat  
confused with the terminology.


&gt;<i> Evert Rol wrote:
</I>&gt;&gt;<i>   Hi all,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'm trying to write a server script that can pass the received  
</I>&gt;&gt;<i> data on
</I>&gt;&gt;<i> (acting as a client) to a next server.
</I>&gt;&gt;<i> Say, server A receives data from client B, and then acts as client A
</I>&gt;&gt;<i> (while keeping in contact with client B) for server C.
</I>&gt;&gt;<i> I'm using it to pass data through an extra machine before reaching  
</I>&gt;&gt;<i> the
</I>&gt;&gt;<i> actual machine, where the extra machine serves as a security measure
</I>&gt;&gt;<i> (eg, if that gets hacked, that won't bring too may other things  
</I>&gt;&gt;<i> down).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I've been looking at creating a client at the moment that the server
</I>&gt;&gt;<i> receives data (in the dataReceived() method), but then I get two
</I>&gt;&gt;<i> factory.run() methods
</I>&gt;<i> do you mean reactor.run()?  Factories usually just implement
</I>&gt;<i> buildProtocol, and can be used to keep references to protocols and  
</I>&gt;<i> other
</I>&gt;<i> stuff (see tutorial).
</I>&gt;&gt;<i> , and would also need to find a way to stop the client; that doesn't
</I>&gt;&gt;<i> seem to be correct. Or perhaps using threads, but then I don't know
</I>&gt;&gt;<i> how to pass the data from the server to client.
</I>&gt;<i> you don't need threads.
</I>&gt;&gt;<i> Best to me would to have both connections active, each on their own
</I>&gt;&gt;<i> port, and when data is received, 'something' in the client part gets
</I>&gt;&gt;<i> called that sends these data on.
</I>&gt;&gt;<i> Alternatively, I could simply call an external program with the data
</I>&gt;&gt;<i> as arguments from the server script, but I'd like a all-in-one
</I>&gt;&gt;<i> solution if possible. Or perhaps I'm looking at this the wrong way?
</I>&gt;&gt;<i> (Although I'd prefer not to try and turn 'server C' into 'client C'.)
</I>&gt;<i> what do you mean by  turning 'server C' into 'client C'?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Any suggestions or pointers?
</I>&gt;&gt;<i>
</I>&gt;<i> How many connections from A to C do you need? as many as for B to A?
</I>&gt;<i> Since you're in control of both servers it might make sense to keep  
</I>&gt;<i> some
</I>&gt;<i> connections open between A and C, and save some handshake-overhead.
</I>&gt;<i>
</I>&gt;<i> The finger example comes close to what you need, you just have to make
</I>&gt;<i> serverprotocolA and clientprotocolA aware of each other.
</I>&gt;<i>
</I>&gt;<i> Johann
</I>&gt;&gt;<i> Thanks in advance,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>   Evert
</I>&gt;&gt;<i>
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="048688.html">[Twisted-Python] [newbie] server script with client functionality
</A></li>
	<LI>Next message (by thread): <A HREF="048689.html">[Twisted-Python] using Twisted with postgresql
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48693">[ date ]</a>
              <a href="thread.html#48693">[ thread ]</a>
              <a href="subject.html#48693">[ subject ]</a>
              <a href="author.html#48693">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
