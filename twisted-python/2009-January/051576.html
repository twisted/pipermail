<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Plugins in files with hyphenated names found in	2.5.0 but not in 8.1.0
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Plugins%20in%20files%20with%20hyphenated%20names%20found%20in%0A%092.5.0%20but%20not%20in%208.1.0&In-Reply-To=%3C20090120192559.12555.966403788.divmod.xquotient.3660%40weber.divmod.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="051573.html">
   <LINK REL="Next"  HREF="051577.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Plugins in files with hyphenated names found in	2.5.0 but not in 8.1.0</H1>
    <B>glyph at divmod.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Plugins%20in%20files%20with%20hyphenated%20names%20found%20in%0A%092.5.0%20but%20not%20in%208.1.0&In-Reply-To=%3C20090120192559.12555.966403788.divmod.xquotient.3660%40weber.divmod.com%3E"
       TITLE="[Twisted-Python] Plugins in files with hyphenated names found in	2.5.0 but not in 8.1.0">glyph at divmod.com
       </A><BR>
    <I>Tue Jan 20 12:25:59 MST 2009</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="051573.html">[Twisted-Python] Plugins in files with hyphenated names found	in 2.5.0 but not in 8.1.0
</A></li>
        <LI>Next message (by thread): <A HREF="051577.html">[Twisted-Python] Seeking OSS 'point to point' data transfer solution
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51576">[ date ]</a>
              <a href="thread.html#51576">[ thread ]</a>
              <a href="subject.html#51576">[ subject ]</a>
              <a href="author.html#51576">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 12:53 pm, <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">mithrandi at mithrandi.net</A> wrote:
&gt;<i>* Terry Jones &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">terry at jon.es</A>&gt; [2009-01-20 12:23:26 +0100]:
</I>
&gt;<i>The exact change, I believe, is that plugin source files have to be
</I>&gt;<i>valid python modules; that is to say, you have to be able to do:
</I>&gt;<i>
</I>&gt;<i>import foo.plugins.some_plugin
</I>
This was always the intent.  The change from 2.5 to 8.0 was essentially 
a bugfix; although not an entirely intentional one.  I'm actually 
surprised that dashes in plugin filenames ever worked.  I suspect things 
defined in &quot;some-plugin.py&quot; would have bogus __module__ attributes under 
2.5, and interact oddly with some introspection tools.
&gt;&gt;<i>I guess this restriction on plugin-containing filenames should either 
</I>&gt;&gt;<i>be
</I>&gt;&gt;<i>documented, or the code should be made to work as it did. I'm happy to 
</I>&gt;&gt;<i>open
</I>&gt;&gt;<i>a ticket - though the text of the ticket would depend on which 
</I>&gt;&gt;<i>solution is
</I>&gt;&gt;<i>preferred.
</I>&gt;<i>
</I>&gt;<i>I believe this change was deliberate, so I expect it won't be reverted,
</I>&gt;<i>but perhaps someone else can comment further on the design motivations
</I>&gt;<i>(and confirm that my explanation is correct).
</I>
It definitely won't be reverted :).  I don't think it should be 
documented in terms of a filename restriction, either.

In my opinion, the best way to deal with this would be to really improve 
the plugin documentation to make it clear that plugins are not magical 
.py files executed in a weird context, but modules which are imported 
normally and then have their contents inspected.  I've tried writing 
this up a few times, but the difficulty is that there just isn't much to 
write: the full impact of &quot;this is just a module&quot; is hard to 
communicate.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="051573.html">[Twisted-Python] Plugins in files with hyphenated names found	in 2.5.0 but not in 8.1.0
</A></li>
	<LI>Next message (by thread): <A HREF="051577.html">[Twisted-Python] Seeking OSS 'point to point' data transfer solution
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51576">[ date ]</a>
              <a href="thread.html#51576">[ thread ]</a>
              <a href="subject.html#51576">[ subject ]</a>
              <a href="author.html#51576">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
