<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] [Q] Naming Service for Twisted Servers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20%5BQ%5D%20Naming%20Service%20for%20Twisted%20Servers&In-Reply-To=%3C1231718308.31243.1294199569%40webmail.messagingengine.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="051494.html">
   <LINK REL="Next"  HREF="051495.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] [Q] Naming Service for Twisted Servers</H1>
    <B>V S P</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20%5BQ%5D%20Naming%20Service%20for%20Twisted%20Servers&In-Reply-To=%3C1231718308.31243.1294199569%40webmail.messagingengine.com%3E"
       TITLE="[Twisted-Python] [Q] Naming Service for Twisted Servers">toreason at fastmail.fm
       </A><BR>
    <I>Sun Jan 11 16:58:28 MST 2009</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="051494.html">[Twisted-Python] [Q] Naming Service for Twisted Servers
</A></li>
        <LI>Next message (by thread): <A HREF="051495.html">[Twisted-Python] connectionLost not always getting called?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51496">[ date ]</a>
              <a href="thread.html#51496">[ thread ]</a>
              <a href="subject.html#51496">[ subject ]</a>
              <a href="author.html#51496">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, I thought that 
MQ is quite 'heavy' for my needs 

Basically the whole system allows users to request 'reports'
and those reports can rung for days (or hours).

Instead of having 'one' persistent queue (or a service)
such as provided for typical MQ implementations -- I thought
just to have a 'little' message queue that for each user -- that
would be visible from their profile
(since there is no 'admin' interface to administer 'jobs' as in typical
message queues)


So I just simply planned a process scan each profiles queue,
and send the job requests in round robin to available twisted servers.

You might ask -- well you will store events to be dispatched in 
a table with profile IDs -- so that's what message queues do anyways.

However, the system is built such there is more than one database
instance
(where users are destributed based on a hashing scheme acrsoss multiple
databases) -- so it is not simply one table (that's also why there is
a need for multiple Twsited servers  as they would serve their own
'partitions' in the system)


On the other hand ... may be I need to look at open source and free
MQ solutions to see if I is easier to 


Thank you again for all the suggestions so far,
I am writting up a small summary of the replies for
furthere analysis.

On Sat, 10 Jan 2009 14:27:18 -0800, &quot;Don Smith&quot; &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">donwsmith at gmail.com</A>&gt;
said:
&gt;<i> Why not use a Message Queue? I developed a very similar program to what
</I>&gt;<i> you
</I>&gt;<i> have described, only each agent would connect to the Queue to get their
</I>&gt;<i> data
</I>&gt;<i> to work on. However, I think something like Apache ActiveMQ or AmazonSQS
</I>&gt;<i> would be a better approach.
</I>&gt;<i> 
</I>&gt;<i> =Don
</I>&gt;<i> 
</I>&gt;<i> 2009/1/9 V S P &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">toreason at fastmail.fm</A>&gt;
</I>&gt;<i> 
</I>&gt;<i> &gt; Thank you for the replies.  Wanted to make sure I was not missing
</I>&gt;<i> &gt; a 'twisted goodie'
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; What is ZeroConf?  Can you please point me to the project page
</I>&gt;<i> &gt; (I searched for some but did not find something twisted/python
</I>&gt;<i> &gt; specific).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; my client will be a program that reads rows of 'requests' from the
</I>&gt;<i> &gt; database and dispatch them to available twisted servers (I call it
</I>&gt;<i> &gt; Dispatcher).  Then twisted servers will use the pool of worker threads
</I>&gt;<i> &gt; (with help of Ampula plugin I guess) to do the work (that will take
</I>&gt;<i> &gt; hours
</I>&gt;<i> &gt; of not more).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; So there will be just one program that needs to be
</I>&gt;<i> &gt; aware of all the available servers in my scenario.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Also I can see that some people might have needed a 'proxy'
</I>&gt;<i> &gt; that sits infront of the cluster of twisted servers and that proxy
</I>&gt;<i> &gt; has some balancing mechanism.  And if there is any body that has that
</I>&gt;<i> &gt; solution I would like to know as well.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; thank you again.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On Fri, 9 Jan 2009 22:29:22 -0500, &quot;Jarrod Roberson&quot;
</I>&gt;<i> &gt; &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">jarrod at vertigrated.com</A>&gt; said:
</I>&gt;<i> &gt; &gt; 2009/1/9 V S P &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">toreason at fastmail.fm</A>&gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; Hi,
</I>&gt;<i> &gt; &gt; &gt; I am sorry I am reasking the same question I asked before
</I>&gt;<i> &gt; &gt; &gt; (but I did not get any replies)
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; Basically wanted to know -- for running Twisted on multiple servers
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; is there such a thing as a &quot;Naming&quot; server that
</I>&gt;<i> &gt; &gt; &gt; would register all the currently running twisted servers
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; -- so that asynchronious event dispatching can be done in some
</I>&gt;<i> &gt; &gt; &gt; round-robin to available twisted servers
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; we used ZeroConf for autodiscovery that way the clients can decide for
</I>&gt;<i> &gt; &gt; themselves which server to connect to.
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt;   V S P
</I>&gt;<i> &gt;  <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">toreason at fastmail.fm</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt; <A HREF="http://www.fastmail.fm">http://www.fastmail.fm</A> - And now for something completely differentâ”˜
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Twisted-Python mailing list
</I>&gt;<i> &gt; <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> &gt; <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i> &gt;
</I>-- 
  V S P
  <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">toreason at fastmail.fm</A>

-- 
<A HREF="http://www.fastmail.fm">http://www.fastmail.fm</A> - IMAP accessible web-mail



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="051494.html">[Twisted-Python] [Q] Naming Service for Twisted Servers
</A></li>
	<LI>Next message (by thread): <A HREF="051495.html">[Twisted-Python] connectionLost not always getting called?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51496">[ date ]</a>
              <a href="thread.html#51496">[ thread ]</a>
              <a href="subject.html#51496">[ subject ]</a>
              <a href="author.html#51496">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
