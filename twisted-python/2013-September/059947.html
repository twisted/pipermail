<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] AMP Argument.toBox's proto argument is a	locator, not the proto?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20AMP%20Argument.toBox%27s%20proto%20argument%20is%20a%0A%09locator%2C%20not%20the%20proto%3F&In-Reply-To=%3CE911B264-65A6-4BBF-8E76-4B88803F5E1B%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="027485.html">
   <LINK REL="Next"  HREF="059950.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] AMP Argument.toBox's proto argument is a	locator, not the proto?</H1>
    <B>Glyph</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20AMP%20Argument.toBox%27s%20proto%20argument%20is%20a%0A%09locator%2C%20not%20the%20proto%3F&In-Reply-To=%3CE911B264-65A6-4BBF-8E76-4B88803F5E1B%40twistedmatrix.com%3E"
       TITLE="[Twisted-Python] AMP Argument.toBox's proto argument is a	locator, not the proto?">glyph at twistedmatrix.com
       </A><BR>
    <I>Mon Sep 30 12:41:52 MDT 2013</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="027485.html">[Twisted-Python] AMP Argument.toBox's proto argument is a locator,	not the proto?
</A></li>
        <LI>Next message (by thread): <A HREF="059950.html">[Twisted-Python] AMP Argument.toBox's proto argument is a locator, not the proto?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59947">[ date ]</a>
              <a href="thread.html#59947">[ thread ]</a>
              <a href="subject.html#59947">[ subject ]</a>
              <a href="author.html#59947">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Sep 30, 2013, at 2:45 AM, Laurens Van Houtven &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">_ at lvh.io</A>&gt; wrote:

&gt;<i> What am I doing wrong? Is this a bug?
</I>
I think it's pretty clearly a bug.  Calling the argument &quot;proto&quot; in the first place indicates the nature of the confusion.

There are parts of the flow here from bytes to method execution and back (like _wrapWithSerialization) which are nice for composition, but the fact that they're private sort of ruins their utility for extensibility.

Looking at the code you're trying to write in txampext though, the problem appears to be simply that you're writing functionality close enough to AMP's core that you should be making the changes to AMP directly, and fixing the issue by making changes to AMP itself rather than trying to work around it externally.  The way I was going to recommend fixing it before I clicked on your link was by writing something like ExposingArgument and accessing the locator/receiver/sender via that new API rather than via the 'proto' argument at all :)

-glyph
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20130930/523e2617/attachment-0002.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="027485.html">[Twisted-Python] AMP Argument.toBox's proto argument is a locator,	not the proto?
</A></li>
	<LI>Next message (by thread): <A HREF="059950.html">[Twisted-Python] AMP Argument.toBox's proto argument is a locator, not the proto?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59947">[ date ]</a>
              <a href="thread.html#59947">[ thread ]</a>
              <a href="subject.html#59947">[ subject ]</a>
              <a href="author.html#59947">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
