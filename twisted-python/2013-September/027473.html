<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Clean pb solution for two-way object sync?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Clean%20pb%20solution%20for%20two-way%20object%20sync%3F&In-Reply-To=%3CEB8457F1-9D6C-47F9-8BB8-BE2A3B4FD801%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027470.html">
   <LINK REL="Next"  HREF="027475.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Clean pb solution for two-way object sync?</H1>
    <B>Glyph</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Clean%20pb%20solution%20for%20two-way%20object%20sync%3F&In-Reply-To=%3CEB8457F1-9D6C-47F9-8BB8-BE2A3B4FD801%40twistedmatrix.com%3E"
       TITLE="[Twisted-Python] Clean pb solution for two-way object sync?">glyph at twistedmatrix.com
       </A><BR>
    <I>Thu Sep 26 19:52:04 MDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027470.html">[Twisted-Python] Clean pb solution for two-way object sync?
</A></li>
        <LI>Next message: <A HREF="027475.html">[Twisted-Python] Clean pb solution for two-way object sync?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27473">[ date ]</a>
              <a href="thread.html#27473">[ thread ]</a>
              <a href="subject.html#27473">[ subject ]</a>
              <a href="author.html#27473">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sep 25, 2013, at 11:05 PM, Daniel Sank &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">sank.daniel at gmail.com</A>&gt; wrote:

&gt;<i> This isn't THAT bad. The client's requestMove is thin and unecessary (I put it there for illustration). Still I need to have two separate classes with corresponding methods to handle moving the piece.
</I>
That's OK.  Don't try to reduce your number of classes just for the sake of having fewer classes.  Each class should have a clearly defined responsibility.  In this case, your responsibilities correspond directly to the things that have to happen on the server (validating the move) and the things that have to happen on the client (updating the graphical representation to correspond to the new game state).  Having more, smaller classes means that it's easier for you to understand each class on its own, and programming is nothing if not the act of promoting local understanding :).

If anything, you should have an additional class to separate out your remote_* responders and the actual internal state.

&gt;<i> This seems like the kind of thing I could twisted.pb to solve more cleanly if I only would look in the right place.
</I>

I don't know if this is going to directly address any of your concerns, but have you considered using twisted.spread.flavors.Cacheable?  That will atomically combine the propagation of initial state with the provision of the back-propagation channel for updates to that state.  It's designed for exactly what you're doing, maintaining parallel simulated states on client and server.

Does that help at all?

-glyph
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20130926/5452ebb0/attachment.html">http://twistedmatrix.com/pipermail/twisted-python/attachments/20130926/5452ebb0/attachment.html</A>&gt;
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027470.html">[Twisted-Python] Clean pb solution for two-way object sync?
</A></li>
	<LI>Next message: <A HREF="027475.html">[Twisted-Python] Clean pb solution for two-way object sync?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27473">[ date ]</a>
              <a href="thread.html#27473">[ thread ]</a>
              <a href="subject.html#27473">[ subject ]</a>
              <a href="author.html#27473">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
