<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Twisted Project Jobs Volunteer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Twisted%20Project%20Jobs%20Volunteer&In-Reply-To=20111116121350.GM9962%40boombah.thristian.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024905.html">
   <LINK REL="Next"  HREF="024907.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Twisted Project Jobs Volunteer</H1>
    <B>Jonathan Ballet</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Twisted%20Project%20Jobs%20Volunteer&In-Reply-To=20111116121350.GM9962%40boombah.thristian.org"
       TITLE="[Twisted-Python] Twisted Project Jobs Volunteer">jon at multani.info
       </A><BR>
    <I>Wed Nov 16 07:41:21 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="024905.html">[Twisted-Python] Twisted Project Jobs Volunteer
</A></li>
        <LI>Next message: <A HREF="024907.html">[Twisted-Python] Twisted Project Jobs Volunteer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24906">[ date ]</a>
              <a href="thread.html#24906">[ thread ]</a>
              <a href="subject.html#24906">[ subject ]</a>
              <a href="author.html#24906">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Nov 16, 2011 at 11:13:50PM +1100, Tim Allen wrote:
&gt;<i> On Mon, Nov 14, 2011 at 01:33:45PM -0500, Glyph wrote:
</I>&gt;<i> &gt; Really the most important thing here though is just to get the
</I>&gt;<i> &gt; automatic mirroring initially set up, not the never-ending
</I>&gt;<i> &gt; ambassadorial work.  That way git users wouldn't _need_ elaborate
</I>&gt;<i> &gt; instructions as to what to clone and how; if we just say &quot;get twisted
</I>&gt;<i> &gt; from github&quot; and have that automatically updated it would be easier
</I>&gt;<i> &gt; for everyone.
</I>&gt;<i>
</I>&gt;<i> I've done some experimentation, and (as best I can tell) it's impossible
</I>&gt;<i> to use git-svn to create a sensible SVN &#8594; Git conversion of the Twisted
</I>&gt;<i> repository. This is because of the various, inconsistent branch-naming
</I>&gt;<i> schemes that have been used over Twisted's long history.
</I>&gt;<i>
</I>
Actually, maybe git-svn by itself is not smart enough to handle all the
possible cases and &quot;weird&quot; repository schemes like Twisted's one.

However, I think it should be possible with a second pass script to have
a pretty good, or at least better, conversion.

If you init the repository with &quot;--prefix=svn/ --trunk=trunk&quot;, I think
you will got a working copy with trunk, and all the branches and tags as
references in the &quot;svn/&quot; namespace. Then, with a script smart enough,
which looks through the references in &quot;svn/branches/&quot; and &quot;svn/tags/&quot;,
it can create the right branches and tags like &quot;--stdlayout&quot; would do if
the scheme was compatible.

The difficulty I think lies into the &quot;smart enough&quot;, but if we can't
find a way with this, I don't know how git-svn would be capable of.

As an example of what I mean, if we want to import the tags from the
Subversion repository, the job will consist in:

1. list all of the svn/tags/releases/release-* references
2. strip the &quot;release-&quot; prefix to keep only the &quot;x.y.z&quot; scheme
3. for each tag, if it doesn't already exit, &quot;git tag x.y.z
   svn/tags/releases/release-x.y.z&quot;

Maybe it needs to be even smarter for branches, but the final step will
only be &quot;git branch BRANCH_NAME SVN_REFERENCE&quot;, which might end up with
a cleaner Git repository than the original Subversion repository...

If some help is needed, I'm willing to help too. I'm not sure to fully
understand where and how this conversion is heading to.

My 2 cents,

 Jonathan

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024905.html">[Twisted-Python] Twisted Project Jobs Volunteer
</A></li>
	<LI>Next message: <A HREF="024907.html">[Twisted-Python] Twisted Project Jobs Volunteer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24906">[ date ]</a>
              <a href="thread.html#24906">[ thread ]</a>
              <a href="subject.html#24906">[ subject ]</a>
              <a href="author.html#24906">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
