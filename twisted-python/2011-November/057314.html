<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Rts/Cts Serial port flow control in twisted
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Rts/Cts%20Serial%20port%20flow%20control%20in%20twisted&In-Reply-To=%3C20111108145737.20412.971335401.divmod.xquotient.12%40localhost.localdomain%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="057313.html">
   <LINK REL="Next"  HREF="057315.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Rts/Cts Serial port flow control in twisted</H1>
    <B>exarkun at twistedmatrix.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Rts/Cts%20Serial%20port%20flow%20control%20in%20twisted&In-Reply-To=%3C20111108145737.20412.971335401.divmod.xquotient.12%40localhost.localdomain%3E"
       TITLE="[Twisted-Python] Rts/Cts Serial port flow control in twisted">exarkun at twistedmatrix.com
       </A><BR>
    <I>Tue Nov  8 07:57:37 MST 2011</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="057313.html">[Twisted-Python] Rts/Cts Serial port flow control in twisted
</A></li>
        <LI>Next message (by thread): <A HREF="057315.html">[Twisted-Python] Rts/Cts Serial port flow control in twisted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57314">[ date ]</a>
              <a href="thread.html#57314">[ thread ]</a>
              <a href="subject.html#57314">[ subject ]</a>
              <a href="author.html#57314">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11:59 am, <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">dsturmfels at gmail.com</A> wrote:
&gt;<i>Hi,
</I>&gt;<i>Has anyone had much experience with serial flow control in twisted?
</I>
I don't. :)  It sounds like this may not really have much to do with 
Twisted, though.
&gt;<i>I've been using a twisted serial port in my gtk+ software for quite a 
</I>&gt;<i>while
</I>&gt;<i>now, and I can get xonxoff flow control to work, but for some reason,
</I>&gt;<i>rtscts flow control isn't working (or I may be using it wrong).
</I>&gt;<i>
</I>&gt;<i>I'm connecting the software, via a usb-serial cable, to a Datalogic 
</I>&gt;<i>barcode
</I>&gt;<i>scanner cradle.
</I>&gt;<i>I've been able to replicate this problem with pyserial as well.
</I>
As you perhaps already know, Twisted's serial port support is 
implemented in terms of pyserial - and the layer Twisted adds is very 
thin.  So the problem you experience with pyserial is probably exactly 
the same as the problem you experience with Twisted, since the latter is 
actually the same code as the former.
&gt;<i>
</I>&gt;<i>Without flow control on, I can for example, send a particular serial 
</I>&gt;<i>string
</I>&gt;<i>to the cradle, and the cradle replies instantly with it's software 
</I>&gt;<i>version
</I>&gt;<i>(as a string).
</I>&gt;<i>If I scan a barcode, this also instantly shows up in 
</I>&gt;<i>twisted/pyserial/etc
</I>&gt;<i>(as a string).
</I>&gt;<i>
</I>&gt;<i>With xonxoff flow control on in both the software and cradle, the 
</I>&gt;<i>serial
</I>&gt;<i>connection works exactly the same as having no flow control on.
</I>&gt;<i>
</I>&gt;<i>With rtscts flow control on in both the software and cradle however, 
</I>&gt;<i>the
</I>&gt;<i>cradle doesn't reply instantly with it's software version when the 
</I>&gt;<i>correct
</I>&gt;<i>string is sent.
</I>&gt;<i>However, a scanned barcode shows up instantly in the twisted/pyserial
</I>&gt;<i>software, and if you've previously requested the cradle software 
</I>&gt;<i>version,
</I>&gt;<i>the software version string only shows up directly after receiving a
</I>&gt;<i>barcode string.
</I>&gt;<i>
</I>&gt;<i>Am I doing something wrong, or does anyone know what might be going on 
</I>&gt;<i>here?
</I>
Do you know that the device supports RTS/CTS?  Do you know that the USB 
driver for the device supports it?  Do you know that the USB driver 
support for it is bug free? :)

Sorry I can't add anything more helpful.  I think you want to be looking 
for the problem at a pretty low level, though.  Perhaps even at the 
level of measuring voltage on the RTS pin...

Jean-Paul


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="057313.html">[Twisted-Python] Rts/Cts Serial port flow control in twisted
</A></li>
	<LI>Next message (by thread): <A HREF="057315.html">[Twisted-Python] Rts/Cts Serial port flow control in twisted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57314">[ date ]</a>
              <a href="thread.html#57314">[ thread ]</a>
              <a href="subject.html#57314">[ subject ]</a>
              <a href="author.html#57314">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
