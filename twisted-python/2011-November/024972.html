<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Log output formatting (was Re: logging	question)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Log%20output%20formatting%20%28was%20Re%3A%20logging%0A%09question%29&In-Reply-To=4ED52805.7050300%40advpubtech.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024973.html">
   <LINK REL="Next"  HREF="024903.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Log output formatting (was Re: logging	question)</H1>
    <B>exarkun at twistedmatrix.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Log%20output%20formatting%20%28was%20Re%3A%20logging%0A%09question%29&In-Reply-To=4ED52805.7050300%40advpubtech.com"
       TITLE="[Twisted-Python] Log output formatting (was Re: logging	question)">exarkun at twistedmatrix.com
       </A><BR>
    <I>Wed Nov 30 08:20:41 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="024973.html">[Twisted-Python] Log output formatting (was Re: logging	question)
</A></li>
        <LI>Next message: <A HREF="024903.html">[Twisted-Python] 64 bit windows machine
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24972">[ date ]</a>
              <a href="thread.html#24972">[ thread ]</a>
              <a href="subject.html#24972">[ subject ]</a>
              <a href="author.html#24972">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 29 Nov, 06:44 pm, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">ddwiggins at advpubtech.com</A> wrote:
&gt;<i>On 11/17/2011 3:26 PM, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at twistedmatrix.com</A> wrote:
</I>&gt;&gt;<i>`msg` doesn't really care about what you give it. It doesn't support
</I>&gt;&gt;<i>the `format` keyword in any particular way.  It's the job of a log
</I>&gt;&gt;<i>observer to handle that sort of thing.  So it could certainly be
</I>&gt;&gt;<i>documented, but don't mix things together that are unrelated.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Jean-Paul
</I>&gt;<i>
</I>&gt;<i>True, but I was motivated by a different concern: when I first started
</I>&gt;<i>using msg, I was unable to trace through the API docs to the place 
</I>&gt;<i>where
</I>&gt;<i>I could find what I've quoted; Chris' message gave me the hint I needed
</I>&gt;<i>to complete my detective work.  I'd like to spare future users of the
</I>&gt;<i>method the trouble I had.
</I>&gt;<i>
</I>&gt;<i>Looking at the source of log.py, I'm at a bit of a loss to reconcile
</I>&gt;<i>these two forces.  Certainly, the two log observers implemented there
</I>&gt;<i>use textFromEventDict, but one could create a different observer that
</I>&gt;<i>does things entirely differently.
</I>&gt;<i>
</I>&gt;<i>The best idea I can come up with is, in the documentation for msg, 
</I>&gt;<i>refer
</I>&gt;<i>to the documentation for the chosen log observer; then, in each log
</I>&gt;<i>observer's documentation, describe how the formatting is done, either
</I>&gt;<i>explicitly, or by reference to textFromEventDict.  (And maybe in the
</I>&gt;<i>documentation for ILogObserver, recommend strongly that each
</I>&gt;<i>implementation be explicit about message formatting.)  There should
</I>&gt;<i>probably also be something in the logging howto.
</I>&gt;<i>
</I>&gt;<i>Any better suggestions?
</I>
I'm not sure what you mean by &quot;refer to the documentation for the chosen 
log observer&quot;.  The only interpretation I can think of involves changing 
the documentation dynamically at runtime, which doesn't make any sense, 
so I don't think it's what you meant. :)

Adding something about observers to the twisted.python.log.msg 
documentation does seem like it makes sense.  Maybe that could be a link 
to most-used observers that Twisted comes with, or maybe to a document 
about observers in general.

The second part of your suggestion, having each observer document what 
kind of events it expects to consume, sounds great.

Extending the logging howto also sounds great.

And a long-standing related issue, twisted.python.log.msg not appearing 
in the API documentation, would also be nice to resolve.

Jean-Paul

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024973.html">[Twisted-Python] Log output formatting (was Re: logging	question)
</A></li>
	<LI>Next message: <A HREF="024903.html">[Twisted-Python] 64 bit windows machine
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24972">[ date ]</a>
              <a href="thread.html#24972">[ thread ]</a>
              <a href="subject.html#24972">[ subject ]</a>
              <a href="author.html#24972">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
