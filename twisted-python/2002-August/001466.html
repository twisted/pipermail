<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] PB over unix socket ... how?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20PB%20over%20unix%20socket%20...%20how%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001464.html">
   <LINK REL="Next"  HREF="001463.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] PB over unix socket ... how?</H1>
    <B>Itamar Shtull-Trauring</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20PB%20over%20unix%20socket%20...%20how%3F&In-Reply-To="
       TITLE="[Twisted-Python] PB over unix socket ... how?">twisted at itamarst.org
       </A><BR>
    <I>Sun Aug 11 12:55:06 EDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="001464.html">[Twisted-Python] PB over unix socket ... how?
</A></li>
        <LI>Next message: <A HREF="001463.html">[Twisted-Python] Twisted.web/DOMTemplate
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1466">[ date ]</a>
              <a href="thread.html#1466">[ thread ]</a>
              <a href="subject.html#1466">[ subject ]</a>
              <a href="author.html#1466">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jp Calderone wrote:

&gt;&gt;<i>I know from wandering around in the internet module that there's lots 
</I>&gt;&gt;<i>of support for unix sockets and even an IReactorUNIX, but it's late and 
</I>&gt;&gt;<i>I'm a little dizzy and I figured someone could probably point me in the 
</I>&gt;&gt;<i>right direction with about 5 lines anyway ... if there's an example, I 
</I>&gt;&gt;<i>musta missed it ... 8^P  
</I>
&gt;<i> Just take the pb examples and change the &quot;listenTCP&quot; call and change the
</I>&gt;<i> port argument to a string.  The string will be the name of unix socket in
</I>&gt;<i> the filesystem.  Change your connectTCP calls similarly and you should be in
</I>&gt;<i> business.
</I>
Uh, no.

This only worked because of a bad design decision in tcp.py - it will not 
work in CVS or in any future release. The real solution then is to fix the 
pb connection APIs so they use pluggable transports. Glyph tends to do this 
using URLs, e.g. &quot;pb-<A HREF="tcp://localhost:7777/bar&quot;">tcp://localhost:7777/bar&quot;</A> or &quot;pb-<A HREF="unix://tmp/.socket&quot;">unix://tmp/.socket&quot;</A> or 
&quot;pb-<A HREF="tls://localhost:8888/baz&quot;.">tls://localhost:8888/baz&quot;.</A>

There should hopefully be some solution in CVS soon, given that we need this 
functionality to run twistedmatrix.com.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001464.html">[Twisted-Python] PB over unix socket ... how?
</A></li>
	<LI>Next message: <A HREF="001463.html">[Twisted-Python] Twisted.web/DOMTemplate
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1466">[ date ]</a>
              <a href="thread.html#1466">[ thread ]</a>
              <a href="subject.html#1466">[ subject ]</a>
              <a href="author.html#1466">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
