<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] How to explicitly free memory in twisted daemon process
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20How%20to%20explicitly%20free%20memory%20in%20twisted%0A%20daemon%20process&In-Reply-To=CAK9OTsvNx55fEx_i0uvf%2BmMhnXzJJZzJ8FA_R86pFzLY_332EA%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024570.html">
   <LINK REL="Next"  HREF="024572.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] How to explicitly free memory in twisted daemon process</H1>
    <B>Andrew Bennetts</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20How%20to%20explicitly%20free%20memory%20in%20twisted%0A%20daemon%20process&In-Reply-To=CAK9OTsvNx55fEx_i0uvf%2BmMhnXzJJZzJ8FA_R86pFzLY_332EA%40mail.gmail.com"
       TITLE="[Twisted-Python] How to explicitly free memory in twisted daemon process">andrew at bemusement.org
       </A><BR>
    <I>Mon Sep 26 20:01:32 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="024570.html">[Twisted-Python] How to explicitly free memory in twisted daemon	process
</A></li>
        <LI>Next message: <A HREF="024572.html">[Twisted-Python] Client/Server to stream text logfiles?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24571">[ date ]</a>
              <a href="thread.html#24571">[ thread ]</a>
              <a href="subject.html#24571">[ subject ]</a>
              <a href="author.html#24571">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Sep 27, 2011 at 07:48:20AM +0800, Don Li wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> I have facing a problem:
</I>&gt;<i>   &quot;According to the Python memory pool mechanism, the memory usage will take
</I>&gt;<i> up more and more in a long-running daemon process.
</I>&gt;<i>   &quot;In the long sustained logon and logout logic by a lot of users , Twisted
</I>&gt;<i> process MUST stop restarting because the memory usage.&quot;
</I>
Where are you quoting that problem from?

The short answer is that if your code doesn't leak, you probably have nothing to
worry about.

It's true enough that CPython's memory consumption will tend to grow over time
in a long-running daemon &#8212; but probably not unbounded, unless your code has a
leak.  If there's no leak, you'd expect memory consumption grow asymptotically
to some upper bound, i.e. the memory usage will grow more and more slowly.

Are you actually experiencing a problem, or just trying to anticipate one?

Either way, actual data is good: you know that meliae reports no leaks, so what
does the OS report for memory consumption over time?  Are you doing anything to
try reproduce unwanted memory usage (e.g. running load tests against your
daemon)?

-Andrew.


</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024570.html">[Twisted-Python] How to explicitly free memory in twisted daemon	process
</A></li>
	<LI>Next message: <A HREF="024572.html">[Twisted-Python] Client/Server to stream text logfiles?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24571">[ date ]</a>
              <a href="thread.html#24571">[ thread ]</a>
              <a href="subject.html#24571">[ subject ]</a>
              <a href="author.html#24571">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
