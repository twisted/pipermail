<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Twisted-Python Digest, Vol 90, Issue 16
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Twisted-Python%20Digest%2C%20Vol%2090%2C%20Issue%2016&In-Reply-To=10D2EEB4-BE62-404E-9690-81BDFA713DB6%40twistedmatrix.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024533.html">
   <LINK REL="Next"  HREF="024536.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Twisted-Python Digest, Vol 90, Issue 16</H1>
    <B>Fabian Rothfuchs</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Twisted-Python%20Digest%2C%20Vol%2090%2C%20Issue%2016&In-Reply-To=10D2EEB4-BE62-404E-9690-81BDFA713DB6%40twistedmatrix.com"
       TITLE="[Twisted-Python] Twisted-Python Digest, Vol 90, Issue 16">fabian.rothfuchs at googlemail.com
       </A><BR>
    <I>Tue Sep 20 13:12:44 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="024533.html">[Twisted-Python] Twisted-Python Digest, Vol 90, Issue 16
</A></li>
        <LI>Next message: <A HREF="024536.html">[Twisted-Python] Twisted-Python Digest, Vol 90, Issue 16
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24534">[ date ]</a>
              <a href="thread.html#24534">[ thread ]</a>
              <a href="subject.html#24534">[ subject ]</a>
              <a href="author.html#24534">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>If you can afford to make the change, running twisted as a completely
</I>&gt;&gt;&gt;<i> separate service in another process, and implementing communication
</I>&gt;&gt;&gt;<i> between your Django server and your twisted server via a protocol might
</I>&gt;&gt;&gt;<i> simplify things a bit in terms of coordination.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> This is exactly the kind of architecture I'm currently spying out :)
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Thanks for confirming the general correctness of my idea!
</I>&gt;&gt;<i> Fabian
</I>&gt;<i>
</I>&gt;<i>You can't run Django by itself, though; it needs a WSGI container.  So
</I>&gt;<i>you're either dealing with coordinating between 2 pieces of software here
</I>&gt;<i>or 3.  In this case, fewer is always better :).  Using Twisted's WSGI
</I>&gt;<i>container lets you use callFromThread or blockingCallFromThread to call
</I>&gt;<i>pretty much whatever Twisted or Twisted-using API you want; I don't see
</I>&gt;<i>how this would be much simplified by pushing that communication over a
</I>&gt;<i>socket, since Django isn't going to have an event loop of its own anyway,
</I>&gt;<i>and there will be blocking communication at some point.
</I>&gt;<i>
</I>&gt;<i>There's nothing wrong with coordinating with Twisted via a socket, it
</I>&gt;<i>will work fine, but it's extra complexity that you probably don't need.
</I>&gt;<i>I would recommend using Twisted's WSGI support and using callFromThread
</I>&gt;<i>most cases.
</I>

Well. Initially the idea was to have Django as the Application's Core, and
Twisted (e.g. The Reactor) running somewhere in the background, to be used
whenever it's needed.
For instance, if the Application needs to communicate via Telnet, Django
would tell the Reactor to do stuff.
But this now turned out to be inefficient and far too complex, if you want
to go the asynchronous way instead of the WSGI one.

The idea now is to change responsibilities.
The Application Core will be built using Twisted instead of Django, and
Django will be used as the side framework for ORM, GUI and that stuff.
Django itself can run in a separate Thread or a separate process or even
on a separate machine (which is requirement anyway).
And yes, for this the architecture, the Core needs to listen on an
event-socket that tells it stuff like 'communicate via Telnet'.
In Django, I'd realize that via Web Services - the Twisted way would be a
Socket (e.g. A Protocol), I guess.

I feel quite happy with that solution till now (planning since 4 hours and
it seems like it could be really working).

Fabian




</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024533.html">[Twisted-Python] Twisted-Python Digest, Vol 90, Issue 16
</A></li>
	<LI>Next message: <A HREF="024536.html">[Twisted-Python] Twisted-Python Digest, Vol 90, Issue 16
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24534">[ date ]</a>
              <a href="thread.html#24534">[ thread ]</a>
              <a href="subject.html#24534">[ subject ]</a>
              <a href="author.html#24534">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
