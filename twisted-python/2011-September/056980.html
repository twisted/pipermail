<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Autobahn WebSockets - Twisted based	WS	implementation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Autobahn%20WebSockets%20-%20Twisted%20based%0A%09WS%09implementation&In-Reply-To=%3C634914A010D0B943A035D226786325D422C0FEF87E%40EXVMBX020-12.exch020.serverdata.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="056979.html">
   <LINK REL="Next"  HREF="056981.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Autobahn WebSockets - Twisted based	WS	implementation</H1>
    <B>Tobias Oberstein</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Autobahn%20WebSockets%20-%20Twisted%20based%0A%09WS%09implementation&In-Reply-To=%3C634914A010D0B943A035D226786325D422C0FEF87E%40EXVMBX020-12.exch020.serverdata.net%3E"
       TITLE="[Twisted-Python] Autobahn WebSockets - Twisted based	WS	implementation">tobias.oberstein at tavendo.de
       </A><BR>
    <I>Mon Sep 12 11:37:49 MDT 2011</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="056979.html">[Twisted-Python] Autobahn WebSockets - Twisted based WS	implementation
</A></li>
        <LI>Next message (by thread): <A HREF="056981.html">[Twisted-Python] announcing Tahoe-LAFS v1.8.3,	fixing a security issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56980">[ date ]</a>
              <a href="thread.html#56980">[ thread ]</a>
              <a href="subject.html#56980">[ subject ]</a>
              <a href="author.html#56980">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Reza,

the WS protocol has indeed changed alot from hixie-76. There are binary frames, new framing scheme, interspersed control
frames, masking, etc etc.

Currently, it's in the last review phase involving IESG/IAB members, and the WG chairs want to cross the finish line
in November on WS 1.0 final.

Code base size should not be a measure of completeness, of course. With regard to Autobahn WS, I would nevertheless
say it's quite complete, since it includes a WS test suite with &gt;200 test cases that cover a lot of the spec - and passes all.

The tests are quite rigorous, for example I've taken the pains to implement own UTF-8 payload validator, since
the one that comes with Python has outstanding issues related to surrogate pairs.

Also, the test suite is used already with a couple of server frameworks, and it found several bugs both in
Firefox and Chrome. Of course the test suite increases the total code size.

Another area that took time/code is: support for message-based, frame-based and streaming APIs. I expect (hope;)
that the code structuring that was necessary for the latter helps when implementing - a yet to be defined/agreed -
multiplexing scheme over WS. This was also one reason why I didn't base the code on Site, but Protocol directly.

Anyway, it's good to hear that you're planning to take up development again .. choice is good.

Regards,
Tobias


Von: <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python-bounces at twistedmatrix.com</A> [mailto:<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python-bounces at twistedmatrix.com</A>] Im Auftrag von Reza Lotun
Gesendet: Montag, 12. September 2011 18:10
An: Twisted general discussion
Betreff: Re: [Twisted-Python] Autobahn WebSockets - Twisted based WS implementation

Hi,

On Mon, Sep 12, 2011 at 4:38 PM, Tobias Oberstein &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">tobias.oberstein at tavendo.de</A>&lt;mailto:<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">tobias.oberstein at tavendo.de</A>&gt;&gt; wrote:
No, it's not. From a cursory look at the code (didn't knew it existed):

That repo on Github is based on a Twisted branch that was nearly ready for inclusion into Twisted. This was back in the day when the websocket protocol seemed on the verge of stabilizing. Obviously this wasn't the case. I came along and added cross version support for the next iteration of the protocol which was then newly supported in Chrome. Then there came the discovery of a cache poising security flaw that was eventually addressed in the latest iteration of the websocket protocol. I haven't yet had time to incorporate it, though I believe there is an open pull request for its support (thanks, to whoever that was).

Outdated WS protocol, probably wasnt complete at any time, based on the Site class.

Depends on what you consider to be &quot;complete&quot; I guess. It had working examples and stayed close to the reference Twisted implementation, which was in the last stages of its code review.

Autobahn WS has complete, current WS support. Code base is roughly 9k LOC.

Completeness shouldn't really be measured by size of code base. I take your point that the latest version of the protocol is indeed supported in Autobahn, which is a good thing of course.

Thanks for Autobahn - it's useful to take a look at. I'll still continue work on txWebsocket, however, with the intention of:

* eventual inclusion into Twisted (meeting Twisted coding standards, MIT license, etc.)
* small, simple code base

Hopefully one day if and when txWebSocket is finally merged we can standardize on one reference implementation (it doesn't have to be txWebsocket of course - it'd be great if the core of Autobahn could be contributed...)

Thanks,
Reza

--
Reza Lotun
mobile: +44 (0)7521 310 763
email:  <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">rlotun at gmail.com</A>&lt;mailto:<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">rlotun at gmail.com</A>&gt;
work:   <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">rlotun at twitter.com</A>&lt;mailto:<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">rlotun at twitter.com</A>&gt;
@rlotun
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20110912/64cc6b36/attachment.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="056979.html">[Twisted-Python] Autobahn WebSockets - Twisted based WS	implementation
</A></li>
	<LI>Next message (by thread): <A HREF="056981.html">[Twisted-Python] announcing Tahoe-LAFS v1.8.3,	fixing a security issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56980">[ date ]</a>
              <a href="thread.html#56980">[ thread ]</a>
              <a href="subject.html#56980">[ subject ]</a>
              <a href="author.html#56980">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
