<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] twisted and kerberos
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20twisted%20and%20kerberos&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024505.html">
   <LINK REL="Next"  HREF="024509.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] twisted and kerberos</H1>
    <B>Benjamin Rutt</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20twisted%20and%20kerberos&In-Reply-To="
       TITLE="[Twisted-Python] twisted and kerberos">rutt.4 at osu.edu
       </A><BR>
    <I>Thu Sep 15 21:16:54 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="024505.html">[Twisted-Python] Folding the server into the client?
</A></li>
        <LI>Next message: <A HREF="024509.html">[Twisted-Python] twisted and kerberos
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24508">[ date ]</a>
              <a href="thread.html#24508">[ thread ]</a>
              <a href="subject.html#24508">[ subject ]</a>
              <a href="author.html#24508">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello twisted experts,

We are trying to add kerberos authentication to our existing twisted server.
 We haven't yet found a twisted specific library that can do this; any
pointers?

What we have found is python-krbV (<A HREF="https://fedorahosted.org/python-krbV/">https://fedorahosted.org/python-krbV/</A>),
but we end up using it along with code like this to take over the socket
ourselves from twisted, when the client connects:

    self.transport.stopReading()
    self.transport.stopWriting()
    self.transport.socket.setblocking(1)

and then we use the self.transport.socket directly in blocking mode in
another thread (so it won't block the reactor).  In particular, we use code
like this to start the authentication process:

    ac = krbV.default_context().sendauth(self.transport.socket, ...)

&#8230;once the client has authenticated, we use:

    self.transport.socket.setblocking(0)
    self.transport.startReading()
    self.transport.startWriting()

to let twisted take over the socket again for the rest of the conversation.

So in the event there are no ready-to-go twisted libraries for kerberos, is
the above approach totally insane?
-- 
Benjamin Rutt
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20110915/4566cf15/attachment.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20110915/4566cf15/attachment.htm</A> 
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024505.html">[Twisted-Python] Folding the server into the client?
</A></li>
	<LI>Next message: <A HREF="024509.html">[Twisted-Python] twisted and kerberos
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24508">[ date ]</a>
              <a href="thread.html#24508">[ thread ]</a>
              <a href="subject.html#24508">[ subject ]</a>
              <a href="author.html#24508">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
