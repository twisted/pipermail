<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] &lt;no subject&gt;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20%3Cno%20subject%3E&In-Reply-To=%3C1110919085125.40537A-100000%40Ives.egh.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="056991.html">
   <LINK REL="Next"  HREF="056993.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] &lt;no subject&gt;</H1>
    <B>John Santos</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20%3Cno%20subject%3E&In-Reply-To=%3C1110919085125.40537A-100000%40Ives.egh.com%3E"
       TITLE="[Twisted-Python] &lt;no subject&gt;">JOHN at egh.com
       </A><BR>
    <I>Mon Sep 19 07:19:07 MDT 2011</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="056991.html">[Twisted-Python] &lt;no subject&gt;
</A></li>
        <LI>Next message (by thread): <A HREF="056993.html">[Twisted-Python] &lt;no subject&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56992">[ date ]</a>
              <a href="thread.html#56992">[ thread ]</a>
              <a href="subject.html#56992">[ subject ]</a>
              <a href="author.html#56992">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
I'm a newbie compared to most of the people on this list, but this is a
question I think I can answer:

Your call to reactor.run() in main() won't return until the reactor shuts
down.  After reactor.run(), *everything* happens in a deferred, until one
of them shuts down the reactor.

One thing you can do is make a small initial startup method that
you supply to reactor.callLater with a delay of 0, that does the loop on
the connectTCP()'s.  It will start up your initial set of connections.

If future events tell your application to make more connections, you
can perform more connectTCP()'s in the deferred triggered by the event.

------

def initialConnectionStartup:

    for host in hosts:

        host, port = (host, 23)

        d = defer.Deferred()

        factory = S12ClientFactory(d, username='root', password='admin')

        Connection = reactor.connectTCP(host, port, factory, timeout=5)

        d.addCallbacks(success, error)

        d.addBoth(logout)


...

# __main__

reactor.callLater(0,initialConnectionStartup)
reactor.run()

------------


Hope this helps.

-- 
John Santos
Evans Griffiths &amp; Hart, Inc.
781-861-0670 ext 539
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="056991.html">[Twisted-Python] &lt;no subject&gt;
</A></li>
	<LI>Next message (by thread): <A HREF="056993.html">[Twisted-Python] &lt;no subject&gt;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56992">[ date ]</a>
              <a href="thread.html#56992">[ thread ]</a>
              <a href="subject.html#56992">[ subject ]</a>
              <a href="author.html#56992">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
