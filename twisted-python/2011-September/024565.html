<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Running the same trial test suite against a live	server and a mock server
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Running%20the%20same%20trial%20test%20suite%20against%20a%20live%0A%09server%20and%20a%20mock%20server&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024563.html">
   <LINK REL="Next"  HREF="024568.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Running the same trial test suite against a live	server and a mock server</H1>
    <B>Laurens Van Houtven</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Running%20the%20same%20trial%20test%20suite%20against%20a%20live%0A%09server%20and%20a%20mock%20server&In-Reply-To="
       TITLE="[Twisted-Python] Running the same trial test suite against a live	server and a mock server">_ at lvh.cc
       </A><BR>
    <I>Mon Sep 26 07:37:16 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="024563.html">[Twisted-Python] Weekly Bug Summary
</A></li>
        <LI>Next message: <A HREF="024568.html">[Twisted-Python] Running the same trial test suite against a	live server and a mock server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24565">[ date ]</a>
              <a href="thread.html#24565">[ thread ]</a>
              <a href="subject.html#24565">[ subject ]</a>
              <a href="author.html#24565">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey,


In order to properly test txievery (a twisted library for dealing with
Paypal's APIs), I'm building a mock Paypal server. The idea is to run the
same high-level tests (which basically use the API and eventually make it
make real HTTPS requests) against both the mock server and the Paypal
Sandbox.

The problem is that using the Paypal Sandbox requires extra information:
specifically, username, password, and an SSL certificate (I don't intend to
support &quot;signature&quot; authentication. It's a horrible alternative for
environments too stupid to make requests given a client cert).  My mock
sandbox also requires all of that, but I just have fake credentials. When
you run the test suite against the Paypal Sandbox, obviously you're going to
need Paypal-blessed credentials.

The obvious solution is to have a makeClient function defined in module
scope for the given test module. I could then have a bin/liveTest.py that
takes a username, password and cert, and monkeypatches that module. I'm
assuming it can't be hard to tell trial to just take a test module and run
it...

Are there any better ways to pass test data to trial?

cheers
lvh
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20110926/4a1eab69/attachment.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20110926/4a1eab69/attachment.htm</A> 
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024563.html">[Twisted-Python] Weekly Bug Summary
</A></li>
	<LI>Next message: <A HREF="024568.html">[Twisted-Python] Running the same trial test suite against a	live server and a mock server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24565">[ date ]</a>
              <a href="thread.html#24565">[ thread ]</a>
              <a href="subject.html#24565">[ subject ]</a>
              <a href="author.html#24565">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
