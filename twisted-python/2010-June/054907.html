<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Review process, news fragments
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Review%20process%2C%20news%20fragments&In-Reply-To=%3C20100620222637.2412.1463970295.divmod.xquotient.310%40localhost.localdomain%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="054906.html">
   <LINK REL="Next"  HREF="054911.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Review process, news fragments</H1>
    <B>exarkun at twistedmatrix.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Review%20process%2C%20news%20fragments&In-Reply-To=%3C20100620222637.2412.1463970295.divmod.xquotient.310%40localhost.localdomain%3E"
       TITLE="[Twisted-Python] Review process, news fragments">exarkun at twistedmatrix.com
       </A><BR>
    <I>Sun Jun 20 16:26:37 MDT 2010</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="054906.html">[Twisted-Python] Review process, news fragments
</A></li>
        <LI>Next message (by thread): <A HREF="054911.html">[Twisted-Python] Review process, news fragments
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54907">[ date ]</a>
              <a href="thread.html#54907">[ thread ]</a>
              <a href="subject.html#54907">[ subject ]</a>
              <a href="author.html#54907">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10:32 am, <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A> wrote:
&gt;<i>On Jun 19, 2010, at 6:08 AM, <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at twistedmatrix.com</A> wrote:
</I>&gt;&gt;<i>In particular, I'd like to draw everyone's attention to the 
</I>&gt;&gt;<i>requirements
</I>&gt;&gt;<i>for news fragments.  Since we introduced this part of the workflow, 
</I>&gt;&gt;<i>the
</I>&gt;&gt;<i>review requirements for these has been a little unclear.  Many 
</I>&gt;&gt;<i>reviewers
</I>&gt;&gt;<i>haven't required that the news fragment be reviewed (that is, if it 
</I>&gt;&gt;<i>was
</I>&gt;&gt;<i>missing, they would say &quot;Please add a news fragment and then merge.&quot;) 
</I>&gt;&gt;<i>or
</I>&gt;&gt;<i>haven't kept the guidelines these files in mind when reviewing them.
</I>&gt;<i>
</I>&gt;<i>Can you point to some specific examples in the current release, and 
</I>&gt;<i>note what they should have been?
</I>
Sure.  Just going in order that they happened to appear in the news 
file...

This one is too long.

- Added new &quot;endpoint&quot; interfaces in twisted.internet.interfaces,
   which abstractly describe stream transport endpoints which can be
   listened on or connected to.  Implementations for TCP and SSL
   clients and servers are present in twisted.internet.endpoints.
   Notably, client endpoints' connect() methods return cancellable
   Deferreds, so code written to use them can bypass the awkward
   &quot;ClientFactory.clientConnectionFailed&quot; and
   &quot;Connector.stopConnecting&quot; methods, and handle errbacks from or
   cancel the returned deferred, respectively. (#1442)

I would have said something like:

  - A high-level client and server setup API, &quot;endpoints&quot;, has been
    introduced which provides many benefits over using reactor.connect*
    and reactor.listen* methods directly.

Alternatively, just the first two sentences of the original news 
fragment stand fairly well on their own, and I probably wouldn't have 
complained if the last sentence had been omitted.

Here's one that's complete nonsense.

- Substrings are escaped before being passed to a regular expression
   for searching to ensure that they don't get interpreted as part of
   the expression. (#1893)

The author clearly wasn't expecting this to be read outside the context 
of the specific ticket being resolved, but news fragments must be 
coherent on their own.  This turns out to be a fix for Twisted Web's 
rendering of Failures that include frames including generator 
expressions.

The parenthetical in this one seems to add little.

- Removed twisted.application.app.ApplicationRunner.startLogging,
   which has been deprecated (doesn't say since when), as well as
   support for the legacy
   twisted.application.app.ApplicationRunner.getLogObserver method.
   (#4092)

Omitting it entirely would have conveyed the same amount of information. 
:<i>)
</I>
For the deprecations/removals section in particular, we definitely need 
some more guidelines about what information to include and how to 
construct the message.  There are a few styles represented in the 
entries for this release.  Some include information about when the 
removed API was first deprecated, but some do it by version number and 
some do it by date.  Others omit the information entirely.  We also 
switch at random between &quot;was&quot; and &quot;has been&quot;.  And some deprecation 
messages point at a replacement API, and some don't.

Obviously this is English prose we're talking about here, and there's a 
lot of room for variation.  I don't want to impose a *strict* style 
guide here.  I do want the fragments to all aim for roughly the same 
level of detail, and they should all at least make sense to a reader who 
hasn't looked at the history of the relevant ticket.  And where it makes 
sense, I'd like the presentation of the information (like the age of the 
deprecation on an API being removed or changed) to be uniform.
&gt;<i>
</I>&gt;&gt;<i>I'd like for this to change.  Informative, consistently written news
</I>&gt;&gt;<i>fragments result better information being available to users when we 
</I>&gt;&gt;<i>do
</I>&gt;&gt;<i>a release.  This is a very simple part the development process but
</I>&gt;&gt;<i>effort here has a disproportionately large effect on the perception of
</I>&gt;&gt;<i>Twisted.
</I>&gt;<i>
</I>&gt;<i>Generally speaking, I agree.  But I think we need to nail down a very 
</I>&gt;<i>specific proposal if this is to improve.  What should reviewers be 
</I>&gt;<i>looking for in a good news fragment?  What are pitfalls to avoid? 
</I>&gt;<i>Asking reviewers to look at something that isn't clearly spelled out 
</I>&gt;<i>may just result in more churn in reviews; I'd hate to see an extra 
</I>&gt;<i>round trip on a ticket because of an oxford comma placement in the news 
</I>&gt;<i>fragment.
</I>
True.  Although man, what kind of a jerk would leave out the oxford 
comma (or worse, ask for one to be removed!) in a news fragment? 
Sheesh.  I think we're all a little bit beyond that.
&gt;<i>
</I>&gt;&gt;<i>If the guidelines for news fragment content on the review process wiki
</I>&gt;&gt;<i>page are unclear or insufficient, please complain and we can work on
</I>&gt;&gt;<i>improving the weaknesses.
</I>&gt;<i>
</I>&gt;<i>There's very little in the way of stylistic guidance on this page.
</I>&gt;<i>
</I>&gt;<i>For one thing, I suspect there were a lot of fixes which could have 
</I>&gt;<i>been a '.misc' but were instead a '.feature' or '.bugfix'.  We need 
</I>&gt;<i>some better guidelines for what exactly constitutes a change that is 
</I>&gt;<i>interesting to users.
</I>
I have little hope of this.  I think we could update the page to say *at 
all* that only changes interesting to end-users reading the release 
announcement should be summarized.  ReviewProcess#Newsfiles implies 
this, but doesn't explicitly state it.
&gt;<i>
</I>&gt;<i>It advises that a single sentence be written about a change to an FQPN. 
</I>&gt;<i>This is hard to do well for new features.  For example, 
</I>&gt;<i>&quot;twisted.internet.endpoints now ... exists&quot; doesn't really scan, and 
</I>&gt;<i>doesn't really emphasize the importance of the feature relative to some 
</I>&gt;<i>of the other small fixes which have been added.  I feel like I probably 
</I>&gt;<i>wrote too much of a dissertation in 1442.feature and not enough of a 
</I>&gt;<i>description in 990.feature, but I don't know what would have been 
</I>&gt;<i>better.  If you know something should be a highlight, how should that 
</I>&gt;<i>be indicated?  Should the highlight text be different from the news 
</I>&gt;<i>fragment text?
</I>
Why did you want to include non-&quot;highlight&quot; text in the news fragment? 
Just leave it out entirely.  The news fragment is the highlight.  Or am 
I missing the point?

For the earlier point, I agree that the guide doesn't fit all types of 
changes well.  We should allow for a few different forms, and present 
more examples.
&gt;<i>
</I>&gt;<i>For complicated bugfixes it's also sometimes awkward, because it's hard 
</I>&gt;<i>to briefly describe a subtle, but still potentially important change in 
</I>&gt;<i>behavior.
</I>&gt;<i>
</I>&gt;<i>A list of 10 examples of &quot;good&quot; feature descriptions and &quot;good&quot; bugfix 
</I>&gt;<i>descriptions would go a long way towards improving this.
</I>&gt;<i>
</I>&gt;<i>Thanks for raising the issue though.  I would also like to see a more 
</I>&gt;<i>coherent NEWS file for 10.2 :).
</I>
Jean-Paul


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="054906.html">[Twisted-Python] Review process, news fragments
</A></li>
	<LI>Next message (by thread): <A HREF="054911.html">[Twisted-Python] Review process, news fragments
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54907">[ date ]</a>
              <a href="thread.html#54907">[ thread ]</a>
              <a href="subject.html#54907">[ subject ]</a>
              <a href="author.html#54907">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
