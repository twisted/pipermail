<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Twisted Names too many open files...resolv.conf
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted%20Names%20too%20many%20open%20files...resolv.conf&In-Reply-To=%3C20100618014154.2412.1216951132.divmod.xquotient.93%40localhost.localdomain%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="054876.html">
   <LINK REL="Next"  HREF="054895.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Twisted Names too many open files...resolv.conf</H1>
    <B>exarkun at twistedmatrix.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted%20Names%20too%20many%20open%20files...resolv.conf&In-Reply-To=%3C20100618014154.2412.1216951132.divmod.xquotient.93%40localhost.localdomain%3E"
       TITLE="[Twisted-Python] Twisted Names too many open files...resolv.conf">exarkun at twistedmatrix.com
       </A><BR>
    <I>Thu Jun 17 19:41:54 MDT 2010</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="054876.html">[Twisted-Python] Twisted Names too many open files...resolv.conf
</A></li>
        <LI>Next message (by thread): <A HREF="054895.html">[Twisted-Python] Twisted Names too many open files...resolv.conf
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54877">[ date ]</a>
              <a href="thread.html#54877">[ thread ]</a>
              <a href="subject.html#54877">[ subject ]</a>
              <a href="author.html#54877">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 12:36 am, <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">jasonjwwilliams at gmail.com</A> wrote:
&gt;<i>Hi Guys,
</I>&gt;<i>
</I>&gt;<i>Is there anyway to prevent twisted.names.client.createResolver() from
</I>&gt;<i>creating a resolvconf resolver, when servers= is passed?
</I>&gt;<i>
</I>&gt;<i>The use here doesn't need the resolv.conf resolvers (and actually
</I>&gt;<i>really doesn't want them). What appears to be occurring is that
</I>&gt;<i>repeated use of createResolver() exhausts the number of allowed open
</I>&gt;<i>files because resolv.conf is never closed:
</I>&gt;<i>
</I>&gt;<i>exceptions.IOError: [Errno 24] Too many open files: '/etc/resolv.conf'
</I>
This doesn't mean resolv.conf is never closed.  It just means you've 
already run into your open file limit when something tried to open 
resolv.conf.

You didn't mention which version of Twisted you're using.  Perhaps 
you're running in to #970 (fixed in 10.0).

But if you just want to use a particular server, then maybe you want to 
instantiate twisted.names.client.Resolver directly, rather than calling 
createResolver.

Jean-Paul


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="054876.html">[Twisted-Python] Twisted Names too many open files...resolv.conf
</A></li>
	<LI>Next message (by thread): <A HREF="054895.html">[Twisted-Python] Twisted Names too many open files...resolv.conf
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54877">[ date ]</a>
              <a href="thread.html#54877">[ thread ]</a>
              <a href="subject.html#54877">[ subject ]</a>
              <a href="author.html#54877">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
