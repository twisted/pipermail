<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Multiple clients
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Multiple%20clients&In-Reply-To=%3C201006182008.21775.bszabolcs%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="054886.html">
   <LINK REL="Next"  HREF="054889.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Multiple clients</H1>
    <B>Szabolcs Balogh</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Multiple%20clients&In-Reply-To=%3C201006182008.21775.bszabolcs%40gmail.com%3E"
       TITLE="[Twisted-Python] Multiple clients">bszabolcs at gmail.com
       </A><BR>
    <I>Fri Jun 18 11:08:21 MDT 2010</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="054886.html">[Twisted-Python] Multiple clients
</A></li>
        <LI>Next message (by thread): <A HREF="054889.html">[Twisted-Python] Multiple clients
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54888">[ date ]</a>
              <a href="thread.html#54888">[ thread ]</a>
              <a href="subject.html#54888">[ subject ]</a>
              <a href="author.html#54888">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Friday 18 June 2010 19:24:54 Glyph Lefkowitz wrote:
&gt;<i> On Jun 18, 2010, at 8:25 AM, Szabolcs Balogh wrote:
</I>&gt;<i> &gt; Than how can I start checking for messages for different accounts (When I
</I>&gt;<i> &gt; have finished checking the messages for the first account to start
</I>&gt;<i> &gt; checking for the next account, and so on...)?
</I>&gt;<i> 
</I>&gt;<i> The whole *point* of the &quot;reactor&quot; is to allow multiple connections (and
</I>&gt;<i> timed calls) to be serviced simultaneously.
</I>&gt;<i> 
</I>&gt;<i> When you have &quot;finished checking messages&quot; for the first account,
</I>&gt;<i> presumably there is a callback of some kind; most likely
</I>&gt;<i> 'connectionLost()'.  In connectionLost, you can just call connectTCP again
</I>&gt;<i> with a protocol factory pointed at the second account.
</I>&gt;<i> 
</I>&gt;<i> This is actually a FAQ:
</I>&gt;<i> 
</I>&gt;<i> &lt;<A HREF="http://twistedmatrix.com/trac/wiki/FrequentlyAskedQuestions#HowdoImakeTwis">http://twistedmatrix.com/trac/wiki/FrequentlyAskedQuestions#HowdoImakeTwis</A>
</I>&gt;<i> tedtalktomultipleclientsconnecttomultipleservers&gt;
</I>&gt;<i> 
</I>&gt;<i> Hopefully this helps.
</I>&gt;<i> 
</I>&gt;<i> This is a hard question to answer in a way where the next asker will
</I>&gt;<i> actually find the answer, since the answer is really &quot;just call a method&quot;,
</I>&gt;<i> and the asker needs to understand that they can call any of these methods
</I>&gt;<i> at any time.  If you have any idea as to how the FAQ could be improved so
</I>&gt;<i> that you might have found your answer while searching around, please let
</I>&gt;<i> us know :).  For example: the way you phrased your requirement here, &quot;When
</I>&gt;<i> I have done X, start doing X&quot;, even *sounds* like an event-driven program
</I>&gt;<i> - 'def iHaveFinishedChecking(self): next.startChecking()' - so you were
</I>&gt;<i> clearly on the right track.  Why did you think you needed to run the
</I>&gt;<i> reactor again in order to accomplish this?
</I>
Using:
            twisted.internet.reactor.connectTCP(host, port, imapfactory, 4)
	    twisted.internet.reactor.run()
it works.

But if I try:
	    twisted.internet.reactor.run()
            twisted.internet.reactor.connectTCP(host, port, imapfactory, 4)
it stops at run() and doesn't executes the connectTCP method.

This is why I thought that first I have to execute connectTCP and then 
reactor.run()


&gt;<i>Couldn't you use callLater to fire the first account check every N
</I>&gt;<i>interval and then just attach the subsequent accounts for that
</I>&gt;<i>interval as callbacks to the first check inside your callLater func?
</I>
I can't use the callLater, because I'm working on the engine part of an email 
client. So I need a &quot;get_messages(imap_account)&quot; method, which can be called 
from the GUI synchron or asynchron (pressed the check now button by the user) 
and checks for new messages for the account specified. So it needs to be as 
generally as possible and automatically doesn't do anything.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="054886.html">[Twisted-Python] Multiple clients
</A></li>
	<LI>Next message (by thread): <A HREF="054889.html">[Twisted-Python] Multiple clients
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54888">[ date ]</a>
              <a href="thread.html#54888">[ thread ]</a>
              <a href="subject.html#54888">[ subject ]</a>
              <a href="author.html#54888">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
