<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Deferreds vs sys.getrecursionlimit()
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Deferreds%20vs%20sys.getrecursionlimit%28%29&In-Reply-To=%3C49227F56.9090109%40thiengineering.ch%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="051215.html">
   <LINK REL="Next"  HREF="051206.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Deferreds vs sys.getrecursionlimit()</H1>
    <B>Werner Thie</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Deferreds%20vs%20sys.getrecursionlimit%28%29&In-Reply-To=%3C49227F56.9090109%40thiengineering.ch%3E"
       TITLE="[Twisted-Python] Deferreds vs sys.getrecursionlimit()">wthie at thiengineering.ch
       </A><BR>
    <I>Tue Nov 18 01:39:50 MST 2008</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="051215.html">[Twisted-Python] Deferreds vs sys.getrecursionlimit()
</A></li>
        <LI>Next message (by thread): <A HREF="051206.html">[Twisted-Python] Released Ampoule - 0.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51218">[ date ]</a>
              <a href="thread.html#51218">[ thread ]</a>
              <a href="subject.html#51218">[ subject ]</a>
              <a href="author.html#51218">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Just to add my 2cts:

a quick solution to the problem is using stackless and setting 
sys.setrecursionlimit(sys.maxint). Your test code runs no problem with

            :
for i in range(100000):
     d.addCallback(fire, i)
            :

on a lousy Athlon dualcore with stackless compiled in:

Python 2.5.2 Stackless 3.1b3 060516 (release25-maint, Sep 26 2008, 
10:22:13) [MSC v.1310 32 bit (Intel)] on win32

For more than a year now I'm using stackless for all my Python projects 
without resorting to tasklets and the stuff stackless is really aiming 
at. I do so because getting rid of the C-stack is a major point in 
modern language design and implementation and in my opinion Python lags 
somewhat in this particular area.

It is of course true that one must be able to rebuild all the C based 
stuff you're using in a project but doing so is and was always at the 
center of my projects.

HTH, Werner


Brian Warner wrote:
&gt;<i> About once every six months, I wind up debugging a python stack
</I>&gt;<i> overflow in my Deferred-using code. The symptom is usually a log
</I>&gt;<i> message that ends with:
</I>snip...


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="051215.html">[Twisted-Python] Deferreds vs sys.getrecursionlimit()
</A></li>
	<LI>Next message (by thread): <A HREF="051206.html">[Twisted-Python] Released Ampoule - 0.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51218">[ date ]</a>
              <a href="thread.html#51218">[ thread ]</a>
              <a href="subject.html#51218">[ subject ]</a>
              <a href="author.html#51218">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
