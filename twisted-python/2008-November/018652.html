<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> wxreactor [was Re: [Twisted-Python] Silencing PotentialZombieWarning]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=wxreactor%20%5Bwas%20Re%3A%20%5BTwisted-Python%5D%20Silencing%20PotentialZombieWarning%5D&In-Reply-To=356e30830811060631o25c620b6nf9f2d036db870ebf%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018649.html">
   <LINK REL="Next"  HREF="018653.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>wxreactor [was Re: [Twisted-Python] Silencing PotentialZombieWarning]</H1>
    <B>Stephen Waterbury</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=wxreactor%20%5Bwas%20Re%3A%20%5BTwisted-Python%5D%20Silencing%20PotentialZombieWarning%5D&In-Reply-To=356e30830811060631o25c620b6nf9f2d036db870ebf%40mail.gmail.com"
       TITLE="wxreactor [was Re: [Twisted-Python] Silencing PotentialZombieWarning]">stephen.c.waterbury at nasa.gov
       </A><BR>
    <I>Thu Nov  6 16:30:34 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="018649.html">[Twisted-Python] Silencing PotentialZombieWarning
</A></li>
        <LI>Next message: <A HREF="018653.html">wxreactor [was Re: [Twisted-Python] Silencing	PotentialZombieWarning]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18652">[ date ]</a>
              <a href="thread.html#18652">[ thread ]</a>
              <a href="subject.html#18652">[ subject ]</a>
              <a href="author.html#18652">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Reza Lotun wrote:
&gt;<i> I'm working on a multi-platform (win32 and os x) wx + Twisted app,
</I>&gt;<i> where I've found the best solution is to run both in a separate thread
</I>&gt;<i> - the main thread is wx, and the other is Twisted. It basically works
</I>&gt;<i> like a charm (though I'd be interested in hearing about other
</I>&gt;<i> approaches. I've also played with wxreactor way back, but didn't find
</I>&gt;<i> it as stable).
</I>
I'd be interested to know what wxreactor symptoms of non-stability
you saw.

A few months ago, the wxreactor apps wxdemo.py and wxacceptance.py on
ubuntu worked, but if I added a file dialog to wxacceptance.py, invoking
the file dialog caused the application to hang.

In my most recent experiments, wxdemo.py just hangs but
wxacceptance.py works fine, even with the addition of a file dialog
-- presumably due to some recent change in wx, since wxreactor has not
been modified recently.  The environment I'm using is:

* ubuntu hardy, fully updated
* Python 2.5.2
* wxPython 2.8.9.1-0 (python-wxgtk2.8 from <A HREF="http://apt.wxwidgets.org/">http://apt.wxwidgets.org/</A>)
* Twisted svn trunk rev 25323.

I've attached an example (wxacceptancemod.py) that has the
file dialog that used to cause the lock-up, sets the helloWorld loop
interval to 4 seconds, and closes the gui window immediately when
it receives the DoExit event (by calling self.Show(False)) --
a friendlier behavior than the original wxacceptance.py, which
leaves the gui window hanging until the last reactor iteration
completes (kinda misses the point of being asynchronous ;),
although this only becomes noticeable if the helloWorld loop interval
is set to more than a second or two.

Interestingly, wxdemo.py works if the helloWorld loop from
wxacceptance.py is added to it, and wxacceptance.py ceases to work
if the callLater loop is removed.  The looping interval used is
arbitrary, so it seems the reactor stack needs to stay loaded with 
something or it hangs.

Although it's not pretty, I don't mind adding a non-printing callLater
loop to my code so that wxreactor works, but of course it would be
nice to know what's going on. ;)

Do others see these behaviors if you run these examples?

Steve
-------------- next part --------------
A non-text attachment was scrubbed...
Name: wxacceptancemod.py
Type: text/x-python
Size: 3619 bytes
Desc: not available
Url : <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20081106/d6988e4a/attachment.py">http://twistedmatrix.com/pipermail/twisted-python/attachments/20081106/d6988e4a/attachment.py</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018649.html">[Twisted-Python] Silencing PotentialZombieWarning
</A></li>
	<LI>Next message: <A HREF="018653.html">wxreactor [was Re: [Twisted-Python] Silencing	PotentialZombieWarning]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18652">[ date ]</a>
              <a href="thread.html#18652">[ thread ]</a>
              <a href="subject.html#18652">[ subject ]</a>
              <a href="author.html#18652">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
