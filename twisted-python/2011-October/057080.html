<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Sent e-mails coming up empty
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Sent%20e-mails%20coming%20up%20empty&In-Reply-To=%3C65AF0871-407F-4140-9183-2AA1F1C62419%40lvh.cc%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="057079.html">
   <LINK REL="Next"  HREF="057081.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Sent e-mails coming up empty</H1>
    <B>Laurens Van Houtven</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Sent%20e-mails%20coming%20up%20empty&In-Reply-To=%3C65AF0871-407F-4140-9183-2AA1F1C62419%40lvh.cc%3E"
       TITLE="[Twisted-Python] Sent e-mails coming up empty">_ at lvh.cc
       </A><BR>
    <I>Wed Oct  5 14:56:26 MDT 2011</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="057079.html">[Twisted-Python] Sent e-mails coming up empty
</A></li>
        <LI>Next message (by thread): <A HREF="057081.html">[Twisted-Python] dataReveived() buffer best practice?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57080">[ date ]</a>
              <a href="thread.html#57080">[ thread ]</a>
              <a href="subject.html#57080">[ subject ]</a>
              <a href="author.html#57080">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Eek!

As Stephen somewhat tongue-in-cheekly pointed out, this was fixed by rewinding the StringIO ;)

cheers
lvh



On 05 Oct 2011, at 22:46, Thorne, Stephen wrote:

&gt;<i> Have you tried rewinding the stringio with .seek(0,0) first?
</I>&gt;<i> 
</I>&gt;<i> Stephen
</I>&gt;<i> 
</I>&gt;<i> On Wed, Oct 5, 2011 at 21:34, Laurens Van Houtven &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">_ at lvh.cc</A>&gt; wrote:
</I>&gt;<i> Hey,
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I've hacked some code together based on smtpclient_tls.py and radix's article on how to send e-mail: <A HREF="http://radix.twistedmatrix.com/2010/07/how-to-send-good-unicode-email-with.html">http://radix.twistedmatrix.com/2010/07/how-to-send-good-unicode-email-with.html</A>
</I>&gt;<i> 
</I>&gt;<i> Here's what I've come up with: <A HREF="http://paste.pocoo.org/show/487918/">http://paste.pocoo.org/show/487918/</A>
</I>&gt;<i> 
</I>&gt;<i> The e-mail arrives, but it's as if the body is empty. The from address is wrong (it uses my login email), there's no subject, no body... I've pointed my debugger at the problem, but the repr looks pretty okay: 
</I>&gt;<i> 
</I>&gt;<i> 'Content-Type: multipart/alternative;\n boundary=&quot;===============6076587290379738777==&quot;\nMIME-Version: 1.0\nSubject: Content Access\nTo: <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">_ at lvh.cc</A>\nFrom: <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">dc83518c-4eea-447f-a9d8-29e29022e6f8 at myotherdomain.com</A>\n\n--===============6076587290379738777==\nMIME-Version: 1.0\nContent-Type: text/html; charset=&quot;utf-8&quot;\nContent-Transfer-Encoding: quoted-printable\n\n&lt;html&gt;\n&lt;body&gt;\nOh hello!!!!!\n&lt;/body&gt;\n&lt;/html&gt;\n--===============6076587290379738777==\nMIME-Version: 1.0\nContent-Type: text/plain; charset=&quot;utf-8&quot;\nContent-Transfer-Encoding: quoted-printable\n\n\nOh hello!!!!!\n\n--===============6076587290379738777==--'
</I>&gt;<i> 
</I>&gt;<i> How do I go about debugging this further?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> cheers
</I>&gt;<i> lvh
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 1306 bytes
Desc: not available
URL: &lt;/pipermail/twisted-python/attachments/20111005/0b8faa20/attachment-0002.bin&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="057079.html">[Twisted-Python] Sent e-mails coming up empty
</A></li>
	<LI>Next message (by thread): <A HREF="057081.html">[Twisted-Python] dataReveived() buffer best practice?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57080">[ date ]</a>
              <a href="thread.html#57080">[ thread ]</a>
              <a href="subject.html#57080">[ subject ]</a>
              <a href="author.html#57080">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
