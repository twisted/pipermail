<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Twisted for Python 3
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted%20for%20Python%203&In-Reply-To=%3C88E1D93D-1556-4918-AC41-11D913E44685%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="057147.html">
   <LINK REL="Next"  HREF="057149.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Twisted for Python 3</H1>
    <B>Glyph</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted%20for%20Python%203&In-Reply-To=%3C88E1D93D-1556-4918-AC41-11D913E44685%40twistedmatrix.com%3E"
       TITLE="[Twisted-Python] Twisted for Python 3">glyph at twistedmatrix.com
       </A><BR>
    <I>Wed Oct 19 12:50:41 MDT 2011</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="057147.html">[Twisted-Python] Twisted for Python 3
</A></li>
        <LI>Next message (by thread): <A HREF="057149.html">[Twisted-Python] Twisted for Python 3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57148">[ date ]</a>
              <a href="thread.html#57148">[ thread ]</a>
              <a href="subject.html#57148">[ subject ]</a>
              <a href="author.html#57148">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Oct 19, 2011, at 7:50 AM, Antoine Pitrou wrote:

&gt;<i> Feedback and contributions welcome. If you are interested in helping,
</I>&gt;<i> please go and read the link above, it will give you suggestions.
</I>
Antoine, I'm very happy that you've decided to help Twisted get going on Py3.  I see that you've already submitted several of your fixes to the Twisted tracker.  Thanks for that. We'll try (as always) to get those reviewed soon.  We do eventually want to have 3.x support in trunk, so anything you're doing to support that goal should be an acceptable patch - provided it meets our other quality criteria, of course, but there's no patch for py3k support which shouldn't be able to meet that criteria :).

I would suggest that you submit all patches directly to the Twisted tracker, where they can be properly reviewed before landing, not to this (or any other) fork.  As several other messages in this thread have indicated, it looks like you may be misunderstanding a few key aspects of Twisted (such as how the distinction between bytes and unicode needs to be treated in the Banana protocol), so this fork is going to get some things wrong, potentially with wire-level implications and incompatibilities.  Review discussions of targeted patches will allow us to address those areas individually, while getting the other parts merged into the mainline.

(This goes double for other people who are not Antoine wanting to help out: please look first at this list of tickets: &lt;<A HREF="http://twistedmatrix.com/trac/query?status=assigned&amp;status=new&amp;status=reopened&amp;group=status&amp;milestone=Python-3.x">http://twistedmatrix.com/trac/query?status=assigned&amp;status=new&amp;status=reopened&amp;group=status&amp;milestone=Python-3.x</A>&gt;, and help them get through the review process, rather than submitting patches to a fork.)

Most importantly, it will not be reasonable to merge in a humongous branch with hundreds of unrelated changes later; doing code review on changes that big just isn't feasible and chances are good that they will linger forever.  If your fork _is_ made to work correctly, folding that correct behavior back in with all the necessary test coverage and fixes will be a much larger job than doing it the right way in the first place, one bit at a time, in Twisted trunk.  We have had several bad experiences with this kind of development before and I would rather not repeat them.

Finally, having the code in mainline will allow it to be subjected to our correctness testing &lt;<A HREF="http://buildbot.twistedmatrix.com/">http://buildbot.twistedmatrix.com/</A>&gt; and also our performance testing &lt;<A HREF="http://speed.twistedmatrix.com/">http://speed.twistedmatrix.com/</A>&gt;, neither of which is a small effort.

If this is just a short-lived experimental test bed to try things out quickly (i.e. a spike to demonstrate that it's feasible to get Twisted on py3), then that's fine, but I am somewhat concerned that impatient users will actually adopt this fork, and we will have to spend a lot of energy telling people (A) &quot;don't use Antoine's fork, it's broken&quot;, and (B) &quot;please stop reporting bugs in this broken fork on our bug tracker&quot;.

At any rate, the very first step here should be to add an as-yet-unsupported py3 builder to our build farm.  This should be pretty straightforward, as new builders are added all the time, and we have some new hardware that could be put to use for this.

Alternatively, we do already have a py3k-warnings buildbot set up; you can see the current warnings here: &lt;<A HREF="http://buildbot.twistedmatrix.com/builders/python-3k-warnings/builds/111/steps/trial/logs/stdio">http://buildbot.twistedmatrix.com/builders/python-3k-warnings/builds/111/steps/trial/logs/stdio</A>&gt;, although possibly this needs to be updated to python 2.7 to get rid of irrelevant noise like warnings about callable() going away, since I believe it's come back to 3.x now.

We might also be able to help with your problem of testing things on Windows, as we do have several Windows test machines set up already.  (Is pywin32 supported on 3.x yet?  &lt;<A HREF="http://pypi.python.org/pypi/pywin32/">http://pypi.python.org/pypi/pywin32/</A>&gt; doesn't indicate.)

As you can see on &lt;<A HREF="http://buildbot.twistedmatrix.com/builders">http://buildbot.twistedmatrix.com/builders</A>&gt;, we already even have some buildbots running python 3 builds for PyOpenSSL, so this isn't even really anything new.

Would anyone like to volunteer to help out with Antoine's efforts on the build-infrastructure side of things?

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20111019/281a46bb/attachment.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="057147.html">[Twisted-Python] Twisted for Python 3
</A></li>
	<LI>Next message (by thread): <A HREF="057149.html">[Twisted-Python] Twisted for Python 3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57148">[ date ]</a>
              <a href="thread.html#57148">[ thread ]</a>
              <a href="subject.html#57148">[ subject ]</a>
              <a href="author.html#57148">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
