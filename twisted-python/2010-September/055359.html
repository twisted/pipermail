<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Selectable SerialPort Windows/Linux
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Selectable%20SerialPort%20Windows/Linux&In-Reply-To=%3CAANLkTi%3D2QTgKFDh7Ap4BccpGZnCyCMBf3k%3DT8gQSw-ZP%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="055355.html">
   <LINK REL="Next"  HREF="055360.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Selectable SerialPort Windows/Linux</H1>
    <B>Markus Hubig</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Selectable%20SerialPort%20Windows/Linux&In-Reply-To=%3CAANLkTi%3D2QTgKFDh7Ap4BccpGZnCyCMBf3k%3DT8gQSw-ZP%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Selectable SerialPort Windows/Linux">mhubig at imko.de
       </A><BR>
    <I>Tue Sep 14 07:32:29 MDT 2010</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="055355.html">[Twisted-Python] Selectable SerialPort Windows/Linux
</A></li>
        <LI>Next message (by thread): <A HREF="055360.html">[Twisted-Python] Selectable SerialPort Windows/Linux
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55359">[ date ]</a>
              <a href="thread.html#55359">[ thread ]</a>
              <a href="subject.html#55359">[ subject ]</a>
              <a href="author.html#55359">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Sep 14, 2010 at 2:08 PM, &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at twistedmatrix.com</A>&gt; wrote:

&gt;<i> See the serialport examples on the website.  A couple are linked from
</I>&gt;<i> <A HREF="http://twistedmatrix.com/documents/current/core/examples/.">http://twistedmatrix.com/documents/current/core/examples/.</A>
</I>&gt;<i>
</I>
The examples I found are mouse.py and gpsfix.py and there only listening on
the serial line. It seems that with twisted I have some sort of a thread
running
which will trigger some methods (e.g. dataRecieved) as it reads something
from the serial line. How could I send data then?


&gt;<i> You do indeed want a Protocol subclass.
</I>

Ok I see, and the Protocol subclass provides the dataReceived method!?


&gt;<i> The code from your &quot;self.read(7)&quot; line to the end of that loop will
</I>&gt;<i> probably
</I>
end up in a dataReceived method - but note that you'll have to do some

buffering, as you can't be assured that dataReceived will get called with
&gt;<i> exactly
</I>
the number of bytes you want at a time, so you may have to collect data from
&gt;<i> multiple dataReceived calls (likewise you may get more than you want at
</I>&gt;<i> once, and need to split it up).
</I>&gt;<i>
</I>
Hmm ok so I have to design dataReceived() to buffer the received data until
it get's
the whole answer packet and than let it call e.g. packetRecieved() to
process the
packet ... I'm mot sure if this asynchronous approach is what I need,
because the
protocol I'm implementing is strict Master-Slave.

- Markus

-- 
__________________________________________________________________

IMKO Micromodultechnik GmbH
Markus Hubig
System Administration &amp; Development
Im Stoeck 2
D-76275 Ettlingen / GERMANY

HR: HRB 360936 Amtsgericht Mannheim
President: Dipl.-Ing. (FH) Kurt Koehler

Tel: 0049-(0)7243-5921-26
Fax: 0049-(0)7243-5921-40
e-mail: <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">mhubig at imko.de</A>
internet: www.imko.de
_________________________________________________________________
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20100914/c7407ee0/attachment.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="055355.html">[Twisted-Python] Selectable SerialPort Windows/Linux
</A></li>
	<LI>Next message (by thread): <A HREF="055360.html">[Twisted-Python] Selectable SerialPort Windows/Linux
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55359">[ date ]</a>
              <a href="thread.html#55359">[ thread ]</a>
              <a href="subject.html#55359">[ subject ]</a>
              <a href="author.html#55359">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
