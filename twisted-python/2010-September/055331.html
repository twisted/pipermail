<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] twisted cred: why does avatarId need to be a	str?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20twisted%20cred%3A%20why%20does%20avatarId%20need%20to%20be%20a%0A%09str%3F&In-Reply-To=%3C8217BC64-88A8-4839-A611-244C25316A14%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="055325.html">
   <LINK REL="Next"  HREF="055341.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] twisted cred: why does avatarId need to be a	str?</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20twisted%20cred%3A%20why%20does%20avatarId%20need%20to%20be%20a%0A%09str%3F&In-Reply-To=%3C8217BC64-88A8-4839-A611-244C25316A14%40twistedmatrix.com%3E"
       TITLE="[Twisted-Python] twisted cred: why does avatarId need to be a	str?">glyph at twistedmatrix.com
       </A><BR>
    <I>Thu Sep  9 18:34:48 MDT 2010</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="055325.html">[Twisted-Python] twisted cred: why does avatarId need to be a	str?
</A></li>
        <LI>Next message (by thread): <A HREF="055341.html">[Twisted-Python] twisted cred: why does avatarId need to be a	str?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55331">[ date ]</a>
              <a href="thread.html#55331">[ thread ]</a>
              <a href="subject.html#55331">[ subject ]</a>
              <a href="author.html#55331">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Sep 8, 2010, at 8:12 PM, Laurens Van Houtven wrote:

&gt;<i> Actually, I believe much of the confusion is cleared up. Apparently I misunderstood what a Realm does. Oops!
</I>&gt;<i> 
</I>&gt;<i> The application in the original mail, which I will continue to talk about in this one, is a token endpoint. I've been told an explanation of what that is is in order. To start out: it is NOT the thing that actually serves protected resources, that's a resource server, which is a different beast entirely. The job of a token endpoint is to turn certain kinds of credentials into an access token; the access token, in turn, can be used to access protected resources. So basically, these credentials are about already provided access grants, that haven't been turned into access tokens yet. Examples of such credentials which can be turned in for access tokens:
</I>
(...)

&gt;<i> Does that help?
</I>&gt;<i> Laurens
</I>
Somewhat, but it really casts the main issue into sharper focus:

for any given cred implementation, there are two key questions:

What is the avatar interface?
What is the associated mind interface?

If we're not talking about a system where the avatar interface (the one passed to 'login', the one that the realm must return something that gets implemented) is IResource, then that's the problem.  What is that interface that you're talking about?  Be very specific: what methods does it have and why?

It sounds like OAuth is very precisely implementing something that maps almost exactly onto the checker part of cred, but you're doing it by implementing a realm to allow applications to provide their own logic.  This might not be the wrong idea, but it needs to be spelled out very clearly.

As you describe it:

&gt;<i> token endpoints let you trade in some credentials that prove you're supposed to have access for a token that actually *gives* you that access
</I>
In cred-ese, that would be &quot;checkers let you trade in some credentials that prove you're supposed to have access for an &lt;avatar ID, which you give to a Realm&gt; that actually *gives* you that access&quot;.  As far as the OAuth response is concerned, it's like a checker.  Looking at the individual parts, assuming that the avatar interface for the purposes of this discussion is IResource, it breaks down like this in my mind:

&gt;<i>     - the access token (an ascii string, mandatory)
</I>
Avatar ID.  (See, it's a str!)

&gt;<i>     - the expiration time (optional)
</I>
Implementation detail of the session.  Avatars are actually sessions, which expire: sometimes (as with POP) at the end of a connection, sometimes (as with nevow.guard's HTTP support) with a session timeout.

&gt;<i>     - the refresh token (another ascii string, similar to the access token, optional)
</I>
Implementation detail of the authentication protocol.  The client library and server library should be transparently refreshing this without telling either the client application code or server application code, right?

&gt;<i>     - scope (an ascii string consisting of a set of space-separated words, optional)
</I>

This part doesn't quite fit, but could be expressed in one of two ways: a modification to the avatar ID, or as some extra structure on the Mind that modifies what functionality the Realm bundles in to your avatar implementation (without changing the interface provided by that object, of course).

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20100909/15a808ff/attachment.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="055325.html">[Twisted-Python] twisted cred: why does avatarId need to be a	str?
</A></li>
	<LI>Next message (by thread): <A HREF="055341.html">[Twisted-Python] twisted cred: why does avatarId need to be a	str?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55331">[ date ]</a>
              <a href="thread.html#55331">[ thread ]</a>
              <a href="subject.html#55331">[ subject ]</a>
              <a href="author.html#55331">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
