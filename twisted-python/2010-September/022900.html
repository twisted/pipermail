<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] How to cap the buffering size of data to be sent	in Protocol class
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20How%20to%20cap%20the%20buffering%20size%20of%20data%20to%20be%20sent%0A%09in%20Protocol%20class&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022899.html">
   <LINK REL="Next"  HREF="022901.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] How to cap the buffering size of data to be sent	in Protocol class</H1>
    <B>Weikai Xie</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20How%20to%20cap%20the%20buffering%20size%20of%20data%20to%20be%20sent%0A%09in%20Protocol%20class&In-Reply-To="
       TITLE="[Twisted-Python] How to cap the buffering size of data to be sent	in Protocol class">xieweikai at gmail.com
       </A><BR>
    <I>Wed Sep 22 03:52:20 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="022899.html">[Twisted-Python] Python 3
</A></li>
        <LI>Next message: <A HREF="022901.html">[Twisted-Python] How to cap the buffering size of data to be sent	in Protocol class
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22900">[ date ]</a>
              <a href="thread.html#22900">[ thread ]</a>
              <a href="subject.html#22900">[ subject ]</a>
              <a href="author.html#22900">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Folks,
    I have a server program which basically use a protocol.Protocol
class to send a continuous byte stream  to clients on TCP connections.
 However, I found , for whatever reason, if a client hung up and
failed to remove the data from its receiving socket buffer, then the
memory usage of the server program will go up endlessly.

    I think it is because the TCP sendQ buffer of the svr  was
building up as a result of  the other side does not remove the data
from its recvQ buffer (this guess was verified by the output of the
netstat command), which in turn results the twisted Protocol to buffer
the data submitted by upper layer via transport.write() to its
internal buffer.

    My questions is that whether there is any mechanism in Twisted
which can be used to set the maximum buffering size of the Protocol;
and whenever if this cap is reached, I can be informed to give a
chance to know the client is experiencing problem


Regards.

Weikai Xie

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022899.html">[Twisted-Python] Python 3
</A></li>
	<LI>Next message: <A HREF="022901.html">[Twisted-Python] How to cap the buffering size of data to be sent	in Protocol class
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22900">[ date ]</a>
              <a href="thread.html#22900">[ thread ]</a>
              <a href="subject.html#22900">[ subject ]</a>
              <a href="author.html#22900">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
