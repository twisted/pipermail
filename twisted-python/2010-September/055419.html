<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Handling too many open file descriptors
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Handling%20too%20many%20open%20file%20descriptors&In-Reply-To=%3C20100927145339.4943.1346464266.divmod.xquotient.15%40localhost.localdomain%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="055418.html">
   <LINK REL="Next"  HREF="055420.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Handling too many open file descriptors</H1>
    <B>exarkun at twistedmatrix.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Handling%20too%20many%20open%20file%20descriptors&In-Reply-To=%3C20100927145339.4943.1346464266.divmod.xquotient.15%40localhost.localdomain%3E"
       TITLE="[Twisted-Python] Handling too many open file descriptors">exarkun at twistedmatrix.com
       </A><BR>
    <I>Mon Sep 27 08:53:39 MDT 2010</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="055418.html">[Twisted-Python] Handling too many open file descriptors
</A></li>
        <LI>Next message (by thread): <A HREF="055420.html">[Twisted-Python] Handling too many open file descriptors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55419">[ date ]</a>
              <a href="thread.html#55419">[ thread ]</a>
              <a href="subject.html#55419">[ subject ]</a>
              <a href="author.html#55419">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 02:45 pm, <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">landreville at deadtreepages.com</A> wrote:
&gt;<i>I'm running an application that makes about 1300 snmp connections
</I>&gt;<i>every minute; I'm using utils.getProcessOutput with snmpget because
</I>&gt;<i>pysnmp throws an error when I try to run it. Now of course I get the
</I>&gt;<i>Too many open files error, but is the best way to handle this
</I>&gt;<i>increasing the limit on Linux or by implementing some sort of queue so
</I>&gt;<i>that there are only x number of the snmpget processes at a time? Is
</I>&gt;<i>there such a queue feature in twisted?
</I>
It doesn't seem likely to me that it's useful to have a thousand smtpget 
processes running at once.  But who knows, maybe it is.  To actually 
know, you'll have to decide what your requirements are (how many do you 
actually have to run in parallel to get the throughput you need?  how 
hard are you willing to thrash the machine you're running on?) and then 
measure various approaches and configurations.

If you decide you want to limit the number of snmpget processes you 
launch, then you might find twisted.internet.defer.DeferredSemaphore 
useful (and since the API docs for it are messed up, make sure you find 
the &quot;run&quot; method, not just the &quot;acquire&quot; and &quot;release&quot; methods).

Jean-Paul


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="055418.html">[Twisted-Python] Handling too many open file descriptors
</A></li>
	<LI>Next message (by thread): <A HREF="055420.html">[Twisted-Python] Handling too many open file descriptors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55419">[ date ]</a>
              <a href="thread.html#55419">[ thread ]</a>
              <a href="subject.html#55419">[ subject ]</a>
              <a href="author.html#55419">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
