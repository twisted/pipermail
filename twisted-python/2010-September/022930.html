<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] getProcessOutput - Can it be made to return	'output' instead of differed
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20getProcessOutput%20-%20Can%20it%20be%20made%20to%20return%0A%09%27output%27%20instead%20of%20differed&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022965.html">
   <LINK REL="Next"  HREF="022931.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] getProcessOutput - Can it be made to return	'output' instead of differed</H1>
    <B>Senthil Kumaran</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20getProcessOutput%20-%20Can%20it%20be%20made%20to%20return%0A%09%27output%27%20instead%20of%20differed&In-Reply-To="
       TITLE="[Twisted-Python] getProcessOutput - Can it be made to return	'output' instead of differed">orsenthil at gmail.com
       </A><BR>
    <I>Tue Sep 28 06:16:47 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="022965.html">[Twisted-Python] Unable to start twistd service on Ubuntu 10.04 when using pseudo terminal
</A></li>
        <LI>Next message: <A HREF="022931.html">[Twisted-Python] getProcessOutput - Can it be made to	return	'output' instead of differed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22930">[ date ]</a>
              <a href="thread.html#22930">[ thread ]</a>
              <a href="subject.html#22930">[ subject ]</a>
              <a href="author.html#22930">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

My current application structure is like this:

If something:
   d = defertoThread(func1,params1)
if something2:
   d = defertoThread(func2, params2)
...


d.addCallback(lambda r: transport.write(r)

I had designed it this way because, the functions, func1, func2 etc..
were all assumed to be Blocking ones.
One of them, internally uses subprocess.Popen() and executes the
command and returns the output. All is fine till now.

But I had situation, where for the process which is executed via
subprocess module, I had to attach a pseudo-terminal.
subprocess does not have a mechanism to send a pseudo-terminal to the process.

So, I looked into utils.getProcessOutput and found that it does have a
mechanism to send a psuedo-terminal to the process.
But the problem I am facing is,  if I replace the subprocess Call in
one of those functions (which are called via deferToThread ), I might
need to return the value (in a blocking way) so that it fits in rest
of the program well.


So, my question is, how can I make utils.getProcessOutput return value
instead of a differed. I am okay if it blocks.

<A HREF="http://twistedmatrix.com/trac/browser/tags/releases/twisted-10.1.0/twisted/internet/utils.py">http://twistedmatrix.com/trac/browser/tags/releases/twisted-10.1.0/twisted/internet/utils.py</A>

Please let me know if you have any other suggestions. (I am still a
learner here).

TIA,


-- 
Senthil

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022965.html">[Twisted-Python] Unable to start twistd service on Ubuntu 10.04 when using pseudo terminal
</A></li>
	<LI>Next message: <A HREF="022931.html">[Twisted-Python] getProcessOutput - Can it be made to	return	'output' instead of differed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22930">[ date ]</a>
              <a href="thread.html#22930">[ thread ]</a>
              <a href="subject.html#22930">[ subject ]</a>
              <a href="author.html#22930">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
