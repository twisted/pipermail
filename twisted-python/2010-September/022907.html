<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] High traffic connection issue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20High%20traffic%20connection%20issue&In-Reply-To=AANLkTim-tDiL_9Zq1PD-XpPKsZ7NYFCipJ%3D0%3DmjoSqdq%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022906.html">
   <LINK REL="Next"  HREF="022913.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] High traffic connection issue</H1>
    <B>exarkun at twistedmatrix.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20High%20traffic%20connection%20issue&In-Reply-To=AANLkTim-tDiL_9Zq1PD-XpPKsZ7NYFCipJ%3D0%3DmjoSqdq%40mail.gmail.com"
       TITLE="[Twisted-Python] High traffic connection issue">exarkun at twistedmatrix.com
       </A><BR>
    <I>Wed Sep 22 14:38:51 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="022906.html">[Twisted-Python] High traffic connection issue
</A></li>
        <LI>Next message: <A HREF="022913.html">[Twisted-Python] How to exit a twistd program with a status code ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22907">[ date ]</a>
              <a href="thread.html#22907">[ thread ]</a>
              <a href="subject.html#22907">[ subject ]</a>
              <a href="author.html#22907">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 05:47 pm, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">ted.pederson at gmail.com</A> wrote:
&gt;<i>Trying to do some scalability testing on my first twisted server.
</I>&gt;<i>
</I>&gt;<i>When I have hundreds of connections and moments of very high server 
</I>&gt;<i>activity
</I>&gt;<i>I am seeing that clients are unable to connect.
</I>&gt;<i>
</I>&gt;<i>Here are some numbers: 250 open TCP connections. I see 857 operations 
</I>&gt;<i>in my
</I>&gt;<i>log during the second where a new client tries to connect. In the 
</I>&gt;<i>client log
</I>&gt;<i>I see that connectionMade() is called. I am pretty sure I don't see a
</I>&gt;<i>corresponding connectionMade() on the server side (could this be 
</I>&gt;<i>right?).
</I>&gt;<i>
</I>&gt;<i>Then, about a second later I get a connectionLost() on the client with
</I>&gt;<i>'Connection to the other side was lost in a non-clean fashion'.
</I>&gt;<i>
</I>&gt;<i>Is this to be expected? Should the client just be expected to retry?
</I>
This depends a lot on what your server does, as well as what platform 
you're running it on.  If all your server does is accept TCP connections 
and ignore data received from them, and you're on Linux and using 
epollreactor, then I would expect you to have no problems up into the 
tens of thousands of connections range.  On the other hand, if you check 
an RSA signature for every new connection, and you're on Windows using 
win32eventreactor, I would expect failures once you get to a few dozen 
connections.

Jean-Paul

</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022906.html">[Twisted-Python] High traffic connection issue
</A></li>
	<LI>Next message: <A HREF="022913.html">[Twisted-Python] How to exit a twistd program with a status code ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22907">[ date ]</a>
              <a href="thread.html#22907">[ thread ]</a>
              <a href="subject.html#22907">[ subject ]</a>
              <a href="author.html#22907">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
