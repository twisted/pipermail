<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Woven web question about clearing http request.args
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Woven%20web%20question%20about%20clearing%20http%20request.args&In-Reply-To=%3C3FA91FE0.20803%40tv.debian.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="038790.html">
   <LINK REL="Next"  HREF="038791.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Woven web question about clearing http request.args</H1>
    <B>Tommi Virtanen</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Woven%20web%20question%20about%20clearing%20http%20request.args&In-Reply-To=%3C3FA91FE0.20803%40tv.debian.net%3E"
       TITLE="[Twisted-Python] Woven web question about clearing http request.args">tv at tv.debian.net
       </A><BR>
    <I>Wed Nov  5 09:05:52 MST 2003</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="038790.html">[Twisted-Python] Woven web question about clearing http request.args
</A></li>
        <LI>Next message (by thread): <A HREF="038791.html">[Twisted-Python] design issue wrt exceptional events
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38822">[ date ]</a>
              <a href="thread.html#38822">[ thread ]</a>
              <a href="subject.html#38822">[ subject ]</a>
              <a href="author.html#38822">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hegedus, Matthew S wrote:
&gt;<i> I've got multiple input buttons and their view is the same logic. The logic
</I>&gt;<i> is delete some data on a button press, then rerender the page with the
</I>&gt;<i> updated data. The data it will remove depends on the unique ID of the button
</I>&gt;<i> pressed.  When the web page is rerendered the view gets called for each
</I>&gt;<i> button with the same http request, so the deletion logic will be evaluated
</I>&gt;<i> for each button, even though it should be evaluated for just the button that
</I>&gt;<i> was pressed. I don't like that. I want to clear request.args so the behavior
</I>&gt;<i> will be as if there was only one http event, corresponding to a single
</I>&gt;<i> button press. I tried &quot;request.args.clear()&quot;, but that doesn't seem to have
</I>&gt;<i> the expected effect.
</I>
The view factory is called once per use of that view in the template.
If you use the view for three buttons, your view factory gets called 
three times. Whether there were any button presses or not.

Maybe you should move your &quot;delete&quot; logic from the view to the render 
method, or to a model that is used only once in the template. That is 
only called once per request, and is a logical place to do some processing.

&gt;<i> What's worse is when I click the browser's reload button, request.args still
</I>&gt;<i> has the last http request that occurred. In other words, if I click my
</I>&gt;<i> delete button the page will be rerendered with updated data, then if I click
</I>&gt;<i> the browser's reload it will try to delete more data as if I had hit on of
</I>&gt;<i> my delete buttons again. Can anyone help me with this problem?
</I>
You should use a POST method for submitting the form; then the browser 
is not allowed to just resend the request without confirming the action 
from the user.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="038790.html">[Twisted-Python] Woven web question about clearing http request.args
</A></li>
	<LI>Next message (by thread): <A HREF="038791.html">[Twisted-Python] design issue wrt exceptional events
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38822">[ date ]</a>
              <a href="thread.html#38822">[ thread ]</a>
              <a href="subject.html#38822">[ subject ]</a>
              <a href="author.html#38822">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
