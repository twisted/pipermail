<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] SNMPProtocol, request for review...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20SNMPProtocol%2C%20request%20for%20review...&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006273.html">
   <LINK REL="Next"  HREF="006275.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] SNMPProtocol, request for review...</H1>
    <B>Mike C. Fletcher</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20SNMPProtocol%2C%20request%20for%20review...&In-Reply-To="
       TITLE="[Twisted-Python] SNMPProtocol, request for review...">mcfletch at rogers.com
       </A><BR>
    <I>Sun Nov  2 13:56:15 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="006273.html">[Twisted-Python] connectTCP/listenTCP socks/ssh
</A></li>
        <LI>Next message: <A HREF="006275.html">[Twisted-Python] SNMPProtocol, request for review...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6274">[ date ]</a>
              <a href="thread.html#6274">[ thread ]</a>
              <a href="subject.html#6274">[ subject ]</a>
              <a href="author.html#6274">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've built an SNMP Protocol for Twisted (based on a pattern from Patrick 
K. O'Brien), but as I'm a rather new Twisted developer, I'm wondering if 
someone more &quot;in the know&quot; could take a look at the package and see if I 
got the &quot;ideas&quot; right.  That is, whether I'm going about the entire 
thing incorrectly/correctly, or whether I've missed anything that would 
be obvious to an experienced twisted developer.

The protocol provides for sending get, getnext and getbulk requests, but 
doesn't yet support trap or answering any query (i.e. in SNMP-eese it's 
a manager-only protocol at the moment, not an agent-side protocol).

I'm particularly interested in:

    * whether the timeouts are handled properly (we do a crude callLater
      and check for deferred.called for them), is there a more elegant
      Twisted mechanism for handling timed-out operations?
    * whether the message IDs are handled properly (we just store all
      &quot;live&quot; messages in a dictionary and delete them when they are
      timed out or responded to), is there some more elegant Twisted
      solution?
    * whether the entire approach is okay. I put most of the code and
      API on the protocol object, with a helper object for managing
      tabular downloads.  Is there a more &quot;Twisted&quot; way of doing this? 
      Should the get method on the protocol be implemented as a separate
      object driving the protocol as well?  What should be in the
      &quot;protocol&quot; level, (as opposed to higher-level &quot;application&quot; code)?

Package is here:
    <A HREF="http://members.rogers.com/mcfletch/programming/TwistedSNMP-0.1.tar.gz">http://members.rogers.com/mcfletch/programming/TwistedSNMP-0.1.tar.gz</A>
It requires pysnmp-3.3.5, available here:
    <A HREF="http://download.sourceforge.net/pysnmp/">http://download.sourceforge.net/pysnmp/</A>

You'll need an SNMP agent against which to test (as well as some OIDs 
for that agent), as the ips in the scripts won't work without the proper 
community IDs (or from unrecognised manager IPs, for that matter).

Feedback appreciated,
Mike

_______________________________________
  Mike C. Fletcher
  Designer, VR Plumber, Coder
  <A HREF="http://members.rogers.com/mcfletch/">http://members.rogers.com/mcfletch/</A>





</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006273.html">[Twisted-Python] connectTCP/listenTCP socks/ssh
</A></li>
	<LI>Next message: <A HREF="006275.html">[Twisted-Python] SNMPProtocol, request for review...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6274">[ date ]</a>
              <a href="thread.html#6274">[ thread ]</a>
              <a href="subject.html#6274">[ subject ]</a>
              <a href="author.html#6274">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
