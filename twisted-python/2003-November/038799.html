<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Scaling problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Scaling%20problem&In-Reply-To=%3C3FA80A1E.6050606%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="038807.html">
   <LINK REL="Next"  HREF="038801.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Scaling problem</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Scaling%20problem&In-Reply-To=%3C3FA80A1E.6050606%40twistedmatrix.com%3E"
       TITLE="[Twisted-Python] Scaling problem">glyph at twistedmatrix.com
       </A><BR>
    <I>Tue Nov  4 13:20:46 MST 2003</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="038807.html">[Twisted-Python] Scaling problem
</A></li>
        <LI>Next message (by thread): <A HREF="038801.html">[Twisted-Python] Scaling problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38799">[ date ]</a>
              <a href="thread.html#38799">[ thread ]</a>
              <a href="subject.html#38799">[ subject ]</a>
              <a href="author.html#38799">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Uwe C. Schroeder wrote:

&gt;<i> Is there a way to have twisted do something like apache or postgres and split 
</I>&gt;<i> the incoming connection to several processes ? It's not a web application, 
</I>&gt;<i> I'm solely using pb.
</I>
This is possible, although not as easy as I'd like it to be.  In 
principle, on most UNIX-based OSes, it's possible to listen() and 
accept() in one process, pass the returned file descriptor to a 
subprocess and do communication there.  I'd like to make this automatic 
at some point, but won't have the time to do it for at least another few 
months.

The fact that it's not as graceful or automatic as I like doesn't mean 
it's impossible though.  If you want to just have one &quot;control&quot; process 
that shuttles around I/O and N worker processes that do the actual work, 
you can still use spawnProcess and communicate over stdin/stdout to the 
subprocesses about new connections using a simple protocol which 
multiplexes multiple socket connections down to the one pipe connection 
and back.

Also, if database latency is your main problem, or you can move a little 
bit of performance-sensitive code into C and relinquish the GIL while 
they're happening, you can just use callInThread to run your 
transactions in threads instead of having the reactor waiting on them.

Is this helpful?



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="038807.html">[Twisted-Python] Scaling problem
</A></li>
	<LI>Next message (by thread): <A HREF="038801.html">[Twisted-Python] Scaling problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38799">[ date ]</a>
              <a href="thread.html#38799">[ thread ]</a>
              <a href="subject.html#38799">[ subject ]</a>
              <a href="author.html#38799">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
