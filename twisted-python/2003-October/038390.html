<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Woven Model extreme pain
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Woven%20Model%20extreme%20pain&In-Reply-To=%3Cuad8iu3gf.fsf%40inout.no%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="038385.html">
   <LINK REL="Next"  HREF="038401.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Woven Model extreme pain</H1>
    <B>Syver Enstad</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Woven%20Model%20extreme%20pain&In-Reply-To=%3Cuad8iu3gf.fsf%40inout.no%3E"
       TITLE="[Twisted-Python] Woven Model extreme pain">syver at inout.no
       </A><BR>
    <I>Fri Oct  3 02:32:00 MDT 2003</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="038385.html">[Twisted-Python] Woven Model extreme pain
</A></li>
        <LI>Next message (by thread): <A HREF="038401.html">[Twisted-Python] Woven Model extreme pain
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38390">[ date ]</a>
              <a href="thread.html#38390">[ thread ]</a>
              <a href="subject.html#38390">[ subject ]</a>
              <a href="author.html#38390">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>James Y Knight &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">foom at fuhm.net</A>&gt; writes:

&gt;<i> More ARRRRRRRRRRGGGGGGGH.
</I>&gt;<i> 
</I>&gt;<i> Returning a Deferred from submodelFactory doesn't seem to work
</I>&gt;<i> *either*, if you then want to get a submodel of that.
</I>&gt;<i> E.g simplified:
</I>&gt;<i> 	def result1(self, d):
</I>&gt;<i> 		d.callback((1,3,4,5))
</I>&gt;<i> 	
</I>&gt;<i> 	def wmfactory_foo(self, request):
</I>&gt;<i> 		d = defer.Deferred()
</I>&gt;<i> 		reactor.callLater(1000000, self.result1, d)
</I>&gt;<i> 		return d
</I>&gt;<i> 
</I>&gt;<i> If you then ask for a model=&quot;foo/0&quot;, twisted claims there is no such
</I>&gt;<i> model, immediately. so it's not even trying to deal with the
</I>&gt;<i> deferred. arrrrgh.
</I>&gt;<i> 
</I>&gt;<i> Is none of this tested? I can't believe I'm only person who wants to
</I>&gt;<i> do this?
</I>&gt;<i> 
</I>&gt;<i> This is really making me want to give up. It seems nice but nothing
</I>&gt;<i> works!
</I>
I've also been down this road James. You can't tunnel through
deferreds in the submodel path, and you have to specify a view for the
deferred system to work.


Examples: 

All examples are just written from memory and are completely untested.

&lt;span model=&quot;foo/0&quot;&gt;&lt;/span&gt; 
won't work because tunneling through the deferred is not supported

&lt;span model=&quot;foo&quot;&gt;
  &lt;span model=&quot;0&quot; view=&quot;Text&quot;&gt;&lt;/span&gt;
&lt;/span&gt;
won't work because the default view, DefaultWidget doesn't support deferreds

&lt;span model=&quot;foo&quot; view=&quot;Widget&quot;&gt;
  &lt;span model=&quot;0&quot; view=&quot;Text&quot;&gt;&lt;/span&gt;
&lt;/span&gt;

should work because the Widget handles the deferred model and
postpones processing of child nodes until the deferred result is
ready.

All views that are derived from Widget (and doesn't override the
deferred handling in generate) should work:

&lt;span model=&quot;foo&quot; view=&quot;Text&quot;&gt;&lt;/span&gt;

or:

&lt;span model=&quot;foo&quot; view=&quot;List&quot;&gt;
  &lt;span pattern=&quot;listItem&quot;&gt;&lt;/span&gt;
&lt;/span&gt;




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="038385.html">[Twisted-Python] Woven Model extreme pain
</A></li>
	<LI>Next message (by thread): <A HREF="038401.html">[Twisted-Python] Woven Model extreme pain
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38390">[ date ]</a>
              <a href="thread.html#38390">[ thread ]</a>
              <a href="subject.html#38390">[ subject ]</a>
              <a href="author.html#38390">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
