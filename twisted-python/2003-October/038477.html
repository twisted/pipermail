<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] SSL client certificate verification...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20SSL%20client%20certificate%20verification...&In-Reply-To=%3C20031008.165937.88655788.miguel%40yorku.ca%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="038476.html">
   <LINK REL="Next"  HREF="038478.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] SSL client certificate verification...</H1>
    <B>Miguel Marques</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20SSL%20client%20certificate%20verification...&In-Reply-To=%3C20031008.165937.88655788.miguel%40yorku.ca%3E"
       TITLE="[Twisted-Python] SSL client certificate verification...">miguel at yorku.ca
       </A><BR>
    <I>Wed Oct  8 14:59:37 MDT 2003</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="038476.html">[Twisted-Python] SSL client certificate verification...
</A></li>
        <LI>Next message (by thread): <A HREF="038478.html">[Twisted-Python] SSL client certificate verification...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38477">[ date ]</a>
              <a href="thread.html#38477">[ thread ]</a>
              <a href="subject.html#38477">[ subject ]</a>
              <a href="author.html#38477">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Greetings...
On Wed, 8 Oct 2003 15:49:42 -0400, Itamar Shtull-Trauring &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">itamar at itamarst.org</A>&gt; wrote:
&gt;<i> On Wed, 08 Oct 2003 14:58:10 -0400 (EDT)
</I>&gt;<i> Miguel Marques &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">miguel at yorku.ca</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; I'm having a bit of difficulty figuring out how to get the CN.  I'm
</I>&gt;<i> &gt; trying to get it from the twisted.web.server.Request passed to the
</I>&gt;<i> &gt; render method of xmlrpc.XMLRPC.  I suspect somewhere in there is the
</I>&gt;<i> &gt; OpenSSL Connection object I can call get_peer_certificate() on.
</I>&gt;<i> &gt; But I'm not sure where...
</I>&gt;<i> &gt; Any pointers in the right direction would be greatly appreciated.
</I>&gt;<i> &gt; TIA...
</I>&gt;<i> 
</I>&gt;<i> request.channel.transport.getPeerCertificate() I think, except this
</I>Thanks, request.channel.transport.socket.get_peer_certificate() did
the trick and things seem to work...

&gt;<i> won't work for pipelining clients at the moment. Arguably auth
</I>&gt;<i> should be done when the client connects - you can do this with custom
</I>&gt;<i> ContextFactory that creates Contexts that do verification callback.
</I>
Agreed,  except in this case each xmlrpc procedure has a list of CN's
allowed to call it, so I can only check the CN of the connection's
certificate against that, when I know which xmlrpc procedure they are
trying to call...  (I do use a custom ContextFactory to cause the
client certificate to be checked against my CA)

I've just started using Twisted and I'm not sure what you mean by
'won't work for pipelining clients'?
Could you explain?
Thanks!

							Miguel

C. Miguel Marques, Development Services, Computing and Network Services, York University
e-mail: miguel at yorku.ca, voice: (416)736-2100x22684, fax: (416)736-5830


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="038476.html">[Twisted-Python] SSL client certificate verification...
</A></li>
	<LI>Next message (by thread): <A HREF="038478.html">[Twisted-Python] SSL client certificate verification...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38477">[ date ]</a>
              <a href="thread.html#38477">[ thread ]</a>
              <a href="subject.html#38477">[ subject ]</a>
              <a href="author.html#38477">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
