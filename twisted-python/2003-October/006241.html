<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] twisted.web and MySQLdb
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20twisted.web%20and%20MySQLdb&In-Reply-To=1616.65.246.170.211.1067461713.squirrel%40192.168.0.2">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006233.html">
   <LINK REL="Next"  HREF="006244.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] twisted.web and MySQLdb</H1>
    <B>Moshe Zadka</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20twisted.web%20and%20MySQLdb&In-Reply-To=1616.65.246.170.211.1067461713.squirrel%40192.168.0.2"
       TITLE="[Twisted-Python] twisted.web and MySQLdb">twisted at zadka.site.co.il
       </A><BR>
    <I>Thu Oct 30 02:00:00 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="006233.html">[Twisted-Python] twisted.web and MySQLdb
</A></li>
        <LI>Next message: <A HREF="006244.html">[Twisted-Python] Dual Reactor Script
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6241">[ date ]</a>
              <a href="thread.html#6241">[ thread ]</a>
              <a href="subject.html#6241">[ subject ]</a>
              <a href="author.html#6241">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 29 Oct 2003, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">phil at bubblehouse.org</A> wrote:

&gt;<i> well, my only use of the db object directly is for actually updating the
</I>&gt;<i> table. my particular implementation would have far more views than
</I>&gt;<i> updates, so i was going to cache the common data, or possibly pre-render
</I>&gt;<i> html...
</I>
At the point where you're caching stuff yourself, it should be obvious
that you're writing a database...so why not admit it to yourself
and just finish writing it? :)
Just cache everything in-memory, and write to files in a fail-safe way
(UNIX, luckily, has enough useful primitives for that like writing
to a tempfile, then renaming when you're done). This will let you
use the operating system's mechanisms for LRU, which is probably
more or less the right thing to do in a web application (LRU anticipates
stuff like slashdotting, for example :)
Twisted even has stuff to do such filesystem-transactions for you:
twisted.persisted.dirdbm and twisted.python.filepath.FilePath.setContent

&gt;<i> as nice as it would be to live in a world where pickle was
</I>&gt;<i> a common data format, we're not there yet...
</I>
Pickle is just as much a common file format as MySQL's internal
format. That is to say, there's just one way to access it, but
you can program object viewers easily. In any case, there's no
need to write pickles to the files. You can, for example, have
each row be a list of netstrings in a file -- Twisted also has
code to decode and encode netstrings.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006233.html">[Twisted-Python] twisted.web and MySQLdb
</A></li>
	<LI>Next message: <A HREF="006244.html">[Twisted-Python] Dual Reactor Script
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6241">[ date ]</a>
              <a href="thread.html#6241">[ thread ]</a>
              <a href="subject.html#6241">[ subject ]</a>
              <a href="author.html#6241">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
