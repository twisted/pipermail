<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] twisted.web and MySQLdb
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20twisted.web%20and%20MySQLdb&In-Reply-To=%3C3F9FD218.8060001%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="038726.html">
   <LINK REL="Next"  HREF="038730.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] twisted.web and MySQLdb</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20twisted.web%20and%20MySQLdb&In-Reply-To=%3C3F9FD218.8060001%40twistedmatrix.com%3E"
       TITLE="[Twisted-Python] twisted.web and MySQLdb">glyph at twistedmatrix.com
       </A><BR>
    <I>Wed Oct 29 07:43:36 MST 2003</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="038726.html">[Twisted-Python] twisted.web and MySQLdb
</A></li>
        <LI>Next message (by thread): <A HREF="038730.html">[Twisted-Python] twisted.web and MySQLdb
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38729">[ date ]</a>
              <a href="thread.html#38729">[ thread ]</a>
              <a href="subject.html#38729">[ subject ]</a>
              <a href="author.html#38729">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Nathan Seven wrote:

&gt;<i> Hmmmm I would qualify that- I dont think the
</I>&gt;<i> filesystem is the place to be handling dynamic data. 
</I>
The filesystem is a fine place.

For example, in the Prevayler persistence model, you just write logfiles 
to disk, and synchronize your state at a checkpoint.  For highly dynamic 
applications, especially ones which require failover, (You can re-play 
the transaction log live, after all) this works quite well.

&gt;<i> Databases were created *specifically* for this
</I>&gt;<i> purpose.
</I>
I think that databases were specifically designed to store accounting 
information, actually.

&gt;<i> Sure, storing all your static blobs in your
</I>&gt;<i> database is a really quick way to grind shit to a
</I>&gt;<i> halt, but locking and concurrency?
</I>&gt;<i> If you're doing things properly, and your http server
</I>&gt;<i> is just serving static objects, then these are
</I>&gt;<i> non-issues.
</I>
Databases can be amazingly slow, especially if you have a lot of updates 
to do.  (Even a very fast database can be made slow by I/O bottlenecks 
if you are trying to make it remote for scalability reasons.)  This has 
an easy solution: you can cache everything!  Of course, then you need to 
be able to easily access the cache from all of the machines, because it 
may have been updated.  Now you have problems with coherency.  Then you 
need to lock the cache, because it could have been updated, and then you 
need to read from it.

Pretty soon you're talking to your caching server as if it were a 
database.  This is _great_ if you are Livejournal:

&gt;<i> Yeah- through my line of work I deal with a *lot* of
</I>&gt;<i> different infrastructures.  Everything from &quot;Joe's BBQ
</I>&gt;<i> Sauce Garage&quot; to Amazon.  Literally the only
</I>&gt;<i> organization I can think of that can keep anything
</I>&gt;<i> coherent with MySQL is Livejournal- and then I believe
</I>&gt;<i> only because Brad seems to be a cache-god with
</I>&gt;<i> memcached and such.
</I>
because then you don't have to worry about computation, mutable data, 
etc - you're basically just storing data and then spitting it back out, 
and you don't care if the timestamps are a little off.

This is the important point about LAMP and Twisted:

There are applications which can connect to HTTP which are not blogs.

If you are writing a multiplayer game which wants to support lots of 
concurrent users, you can't afford to spawn a thread and do a database 
request every time a player picks something up.  (Python is quite slow 
enough already, thanks.)  You can't just use a cache because the data 
changes _all the time_, and you have to care about it from everywhere 
that you care about your data.  Working with your objects directly in 
memory is close to the only option.

If you're writing a real-time financial data system, you do want to use 
a database, but you want to very carefully control your access to it. 
Certainly, you don't want to equate 'web hit' with 'database query', as 
the LAMP model is wont to do.

Or maybe you're writing an application that has to operate as a 
client-side proxy, and you don't have the leisure of a DBA at every 
desk, so you can't require that an RDBMS gets set up with each 
installation.  This might require some hackish workarounds with the 
filesystem that you'd rather not do, but nevertheless, it's better than 
having the user editing pg_hba.conf themselves.




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="038726.html">[Twisted-Python] twisted.web and MySQLdb
</A></li>
	<LI>Next message (by thread): <A HREF="038730.html">[Twisted-Python] twisted.web and MySQLdb
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38729">[ date ]</a>
              <a href="thread.html#38729">[ thread ]</a>
              <a href="subject.html#38729">[ subject ]</a>
              <a href="author.html#38729">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
