<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] SSH client bad packet length
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20SSH%20client%20bad%20packet%20length&In-Reply-To=%3C20031006210433.GB28465%40elmer.skumleren.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="038437.html">
   <LINK REL="Next"  HREF="038424.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] SSH client bad packet length</H1>
    <B>Anders Bruun Olsen</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20SSH%20client%20bad%20packet%20length&In-Reply-To=%3C20031006210433.GB28465%40elmer.skumleren.net%3E"
       TITLE="[Twisted-Python] SSH client bad packet length">anders at bruun-olsen.net
       </A><BR>
    <I>Mon Oct  6 15:04:22 MDT 2003</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="038437.html">[Twisted-Python] callFromThread with return
</A></li>
        <LI>Next message (by thread): <A HREF="038424.html">[Twisted-Python] SSH client bad packet length
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38423">[ date ]</a>
              <a href="thread.html#38423">[ thread ]</a>
              <a href="subject.html#38423">[ subject ]</a>
              <a href="author.html#38423">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I am trying to learn a bit of Twisted in order to make an app that will
use SSH for running commands on remote hosts. I have followed the SSH
howto on the homepage where I have changed it to accept any fingerprint
and have put my own private and public keys in instead of the ones from
the example and have it connecting to a server of mine that accepts
passwordless key-auth. Lastly I have enabled logging to stdout (it might
be an idea to add to the howto which module to import to get the log
object!).

When it connects this is the output I get:

<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">drzero at ernest</A> pyssh-stuff $ ./sshsimpleclient.py
2003/10/06 22:31 CEST [-] Log opened.
2003/10/06 22:31 CEST [-] Starting factory &lt;twisted.internet.protocol.ClientFactory instance at 0x8323b0c&gt;
2003/10/06 22:31 CEST [ClientTransport,client] kex alg, key alg: diffie-hellman-group-exchange-sha1 ssh-rsa
2003/10/06 22:31 CEST [ClientTransport,client] client-&gt;server: aes256-ctr hmac-sha1 none
2003/10/06 22:31 CEST [ClientTransport,client] server-&gt;client: aes256-ctr hmac-sha1 none
2003/10/06 22:31 CEST [ClientTransport,client] Disconnecting with error, code 2
        reason: bad packet length 415956278
2003/10/06 22:31 CEST [ClientTransport,client] connection lost
2003/10/06 22:31 CEST [ClientTransport,client] Stopping factory &lt;twisted.internet.protocol.ClientFactory instance at 0x8323b0c&gt;
2003/10/06 22:32 CEST [-] Main loop terminated.


Note that the packet length changes..

Is it a problem in my code (which is basically the howto code) or a
problem with my server (Gentoo w/ OpenSSH 3.7.1p2) or something else?

-- 
Anders
-----BEGIN GEEK CODE BLOCK-----
Version: 3.12
GCS/O d--@ s:+ a-- C++ UL+++$ P++ L+++ E- W+ N(+) o K? w O-- M- V
PS+ PE@ Y+ PGP+ t 5 X R+ tv+ b++ DI+++ D+ G e- h !r y?
------END GEEK CODE BLOCK------
PGPKey: <A HREF="http://pgp.mit.edu:11371/pks/lookup?op=get&amp;search=0x8BFECB41">http://pgp.mit.edu:11371/pks/lookup?op=get&amp;search=0x8BFECB41</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="038437.html">[Twisted-Python] callFromThread with return
</A></li>
	<LI>Next message (by thread): <A HREF="038424.html">[Twisted-Python] SSH client bad packet length
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38423">[ date ]</a>
              <a href="thread.html#38423">[ thread ]</a>
              <a href="subject.html#38423">[ subject ]</a>
              <a href="author.html#38423">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
