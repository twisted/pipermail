<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Writing unit tests with Trial for Twisted Applications
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Writing%20unit%20tests%20with%20Trial%20for%20Twisted%20Applications&In-Reply-To=20031002025314.GA14211%40frobozz">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005867.html">
   <LINK REL="Next"  HREF="005870.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Writing unit tests with Trial for Twisted Applications</H1>
    <B>Jp Calderone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Writing%20unit%20tests%20with%20Trial%20for%20Twisted%20Applications&In-Reply-To=20031002025314.GA14211%40frobozz"
       TITLE="[Twisted-Python] Writing unit tests with Trial for Twisted Applications">exarkun at intarweb.us
       </A><BR>
    <I>Wed Oct  1 23:38:10 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="005867.html">[Twisted-Python] Writing unit tests with Trial for Twisted Applications
</A></li>
        <LI>Next message: <A HREF="005870.html">[Twisted-Python] Writing unit tests with Trial for Twisted Applications
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5869">[ date ]</a>
              <a href="thread.html#5869">[ thread ]</a>
              <a href="subject.html#5869">[ subject ]</a>
              <a href="author.html#5869">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Oct 02, 2003 at 12:53:14PM +1000, Andrew Bennetts wrote:
&gt;<i> On Wed, Oct 01, 2003 at 10:44:05PM -0400, Christopher Armstrong wrote:
</I>&gt;<i> 
</I>&gt;<i> [snip]
</I>&gt;<i> 
</I>&gt;<i> &gt; you do test over the network, make sure you listen on a local-only
</I>&gt;<i> &gt; interface (i.e., '127.0.0.1') and use a portno of 0. e.g.:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;         self.port = reactor.listenTCP(0, self.svr, interface=&quot;127.0.0.1&quot;)
</I>&gt;<i> &gt;         self.portno = self.port.getHost()[-1]
</I>&gt;<i> 
</I>&gt;<i> This bothers me a little; the details of TCP connections are generally
</I>&gt;<i> irrelevant to what the test method is trying to test (and TCP, hopefully, is
</I>&gt;<i> getting fully tested in test_tcp).  It'd be nice if this wasn't required.
</I>&gt;<i> 
</I>
  I agree.  Only a few of the tests you write should actually go over the
network -- note that loopback.loopback() and the rest of the fake transport
bit fall into this category!).  The bulk of your functionality should be
testable in isolation of the network code.  If it's not, consider trying to
rewrite it so it is.  This will lead to simpler, more reliable tests as well
as simpler and more modular code.

  Jp

-- 
&quot;The problem is, of course, that not only is economics bankrupt but it has
 always been nothing more than politics in disguise ... economics is a form
 of brain damage.&quot;  -- Hazel Henderson
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20031001/3e857d6a/attachment.pgp">http://twistedmatrix.com/pipermail/twisted-python/attachments/20031001/3e857d6a/attachment.pgp</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005867.html">[Twisted-Python] Writing unit tests with Trial for Twisted Applications
</A></li>
	<LI>Next message: <A HREF="005870.html">[Twisted-Python] Writing unit tests with Trial for Twisted Applications
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5869">[ date ]</a>
              <a href="thread.html#5869">[ thread ]</a>
              <a href="subject.html#5869">[ subject ]</a>
              <a href="author.html#5869">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
