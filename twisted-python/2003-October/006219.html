<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] twisted.web and MySQLdb
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20twisted.web%20and%20MySQLdb&In-Reply-To=20031029085758.GC3030%40frobozz">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006217.html">
   <LINK REL="Next"  HREF="006220.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] twisted.web and MySQLdb</H1>
    <B>Eric C. Newton</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20twisted.web%20and%20MySQLdb&In-Reply-To=20031029085758.GC3030%40frobozz"
       TITLE="[Twisted-Python] twisted.web and MySQLdb">ecn at metaslash.com
       </A><BR>
    <I>Wed Oct 29 07:49:47 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="006217.html">[Twisted-Python] twisted.web and MySQLdb
</A></li>
        <LI>Next message: <A HREF="006220.html">[Twisted-Python] twisted.web and MySQLdb
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6219">[ date ]</a>
              <a href="thread.html#6219">[ thread ]</a>
              <a href="subject.html#6219">[ subject ]</a>
              <a href="author.html#6219">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I looked into this for a few hours.  I had to build a server that
needed to regularly maintain 20K+ connections.  Of course, I prototyped
it in python first.

It takes a long time just to create and accept 20K+ connections 
in Python.  Epoll wasn't going to help that much.

In the end I wrote it in C++ using ACE.  Since ACE supports poll()
and epoll() event loops, I experimented with both.  I was surprised
that the poll() interface performed nearly as well as epoll() for my
tests.

BTW, if you are going to play around with large numbers of connections,
and you are using Linux, drop the kernel per-connection buffer sizes.

-Eric

On Wed, Oct 29, 2003 at 07:57:58PM +1100, Andrew Bennetts wrote:
&gt;<i> On Tue, Oct 28, 2003 at 11:34:37PM -0800, Nathan Seven wrote:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Speaking of- I know we're kinda tied to Python, but
</I>&gt;<i> &gt; what are the thoughts about using any of the OS's
</I>&gt;<i> &gt; provided event-driven polls? (epoll,kqueue) 
</I>&gt;<i> &gt; I'm guessing these are essentially untouchable without
</I>&gt;<i> &gt; Python mods.
</I>&gt;<i> 
</I>&gt;<i> There's a kqueue reactor already -- see twisted/internet/kqreactor.py (yes,
</I>&gt;<i> it does rely up on an extension module).  I'm not sure how complete it is,
</I>&gt;<i> it's not tested by the buildbot.
</I>&gt;<i> 
</I>&gt;<i> epoll shouldn't be too hard to do with pretty much the same approach.
</I>&gt;<i> Patches accepted :)
</I>&gt;<i> 
</I>&gt;<i> -Andrew.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006217.html">[Twisted-Python] twisted.web and MySQLdb
</A></li>
	<LI>Next message: <A HREF="006220.html">[Twisted-Python] twisted.web and MySQLdb
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6219">[ date ]</a>
              <a href="thread.html#6219">[ thread ]</a>
              <a href="subject.html#6219">[ subject ]</a>
              <a href="author.html#6219">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
