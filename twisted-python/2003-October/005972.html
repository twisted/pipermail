<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Woven page instances deferring to each  other...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Woven%20page%20instances%20deferring%20to%20each%0A%20%20other...&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005970.html">
   <LINK REL="Next"  HREF="005973.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Woven page instances deferring to each  other...</H1>
    <B>Stuart Hungerford</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Woven%20page%20instances%20deferring%20to%20each%0A%20%20other...&In-Reply-To="
       TITLE="[Twisted-Python] Woven page instances deferring to each  other...">stuart.hungerford at anu.edu.au
       </A><BR>
    <I>Wed Oct  8 20:52:38 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="005970.html">[Twisted-Python] SSL client certificate verification...
</A></li>
        <LI>Next message: <A HREF="005973.html">[Twisted-Python] newbie: groking flows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5972">[ date ]</a>
              <a href="thread.html#5972">[ thread ]</a>
              <a href="subject.html#5972">[ subject ]</a>
              <a href="author.html#5972">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Quoth <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python-request at twistedmatrix.com</A>:

 &gt;On Wed, Oct 08, 2003, Stuart Hungerford wrote:
 &gt;&gt; In another Woven page the application can detect these
 &gt;&gt; &quot;error&quot; states and I would like to optionally &quot;defer&quot; the HTML
 &gt;&gt; generation to the existing error pages:
 &gt;
 &gt;I *think* here you mean &quot;I'd like totally different HTML generated if
 &gt;there is an error state&quot;, rather than &quot;my check for the error returns a
 &gt;Deferred object&quot;. Let me know if I'm wrong.

    Quite right -- I did mean &quot;totally different HTML&quot;, it was a poor
    choice of terms after too little thought ;-)

 &gt;Assuming you meant &quot;I'd like totally different HTML generated if
 &gt;there is an error state&quot; you probably do want macros or something like
 &gt;them. The best documentation I've seen on this is here:
 &gt;<A HREF="http://twistedmatrix.com/pipermail/twisted-python/2003-June/004662.html">http://twistedmatrix.com/pipermail/twisted-python/2003-June/004662.html</A>

    Thanks -- I'll check that out.

 &gt;Followup...
 &gt;
 &gt;A nicer solution may be to have the parent Page (by this I mean
 &gt;<A HREF="http://example.com/bob/">http://example.com/bob/</A> is a parent and <A HREF="http://example.com/bob/result/">http://example.com/bob/result/</A>
 &gt;is a child -- parents in the URL structure) do the check and return an
 &gt;object of a different Page class, something like:
 &gt;
 &gt;class MyParentPage(page.Page):
 &gt;
 &gt;    def getDynamicChild(self, name, request):
 &gt;
 &gt;        if error_condition_1:
 &gt;            return ErrorPage1()
 &gt;        elif error_condition_2:
 &gt;            return ErrorPage2()
 &gt;        else:
 &gt;            return NormalChildPage()
 &gt;
 &gt;If there's any way you can determine if the error has happened before
 &gt;the child page starts rendering, then I suspect it would be nicer to do
 &gt;the error check at child creation time, rather than when the child
 &gt;renders.

    I can see the sense in this approach, but it does have the effect
    pushing implementation of business rules from the wvupdate_foo()
    functions into creation time checks.  Although, that may be a good
    thing, I haven't really got a feel yet for what constitutes &quot;good&quot;
    Twisted or Woven idioms.

 &gt;[...]
 &gt;Since woven renders the entire page before it calls request.write, any
 &gt;portion of the view rendering code which detects an error is able to
 &gt;call request.redirect (because we can still set headers since we
 &gt;haven't written any of the body yet). Just thought I'd chuck that out
 &gt;there, it may be totally irrelevant.

    This could also be very useful, as Mary points out, it gives us a
    choice of where the application logic can be based.

    Many thanks to all for the help!


Cheers,

Stu

--
::<i> Stuart Hungerford (<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">stuart.hungerford at anu.edu.au</A>)
</I>::<i> ANU Internet Futures Group
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005970.html">[Twisted-Python] SSL client certificate verification...
</A></li>
	<LI>Next message: <A HREF="005973.html">[Twisted-Python] newbie: groking flows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5972">[ date ]</a>
              <a href="thread.html#5972">[ thread ]</a>
              <a href="subject.html#5972">[ subject ]</a>
              <a href="author.html#5972">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
