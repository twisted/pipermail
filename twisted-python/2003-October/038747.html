<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] twisted.web and MySQLdb
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20twisted.web%20and%20MySQLdb&In-Reply-To=%3C20031030064519.22248.qmail%40green.zadka.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] twisted.web and MySQLdb</H1>
    <B>Moshe Zadka</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20twisted.web%20and%20MySQLdb&In-Reply-To=%3C20031030064519.22248.qmail%40green.zadka.com%3E"
       TITLE="[Twisted-Python] twisted.web and MySQLdb">twisted at zadka.site.co.il
       </A><BR>
    <I>Wed Oct 29 23:45:19 MST 2003</I>
    <P><UL>
        
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38747">[ date ]</a>
              <a href="thread.html#38747">[ thread ]</a>
              <a href="subject.html#38747">[ subject ]</a>
              <a href="author.html#38747">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 30 Oct 2003, Rene Dudfield &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">illumen at yahoo.com</A>&gt; wrote:

&gt;<i> Threads and processes also can easily use multiple cpus. 
</I>
This is a common objection, so I thought I will point out the fallacy
here: common multiple CPU are on the order of 4, maybe 8, CPUs. Rarely
do we get to 64-land, and only for extremely high-end servers. Common
web servers are expected to deal with 100s of requests concurrently,
and that's the *low-end* stuff. High-end means tens of thousands of
requests concurrently. This means (number of requests)&gt;&gt;(number of CPUs).
Since you want, for high-performance, for threads (or processes) to
get tied to a CPU, the optimal number of runnable processes is
#CPUS-1 (this is so the &quot;odd task&quot; will get the free CPU instead
of displacing one of the long-running tasks). So, if you really want
to use your SMP hardware, the best thing is to set up several servers,
one per CPU (minus 1). Twisted can do it, the worst case you'll need
to hack up a ten-minute custom IListener and use listenWith, if you
don't have more efficient round-robin schemes. If those really need
to talk to each other, they can use mmap with the right flags to
communicate. There is almost never a reason to use threads here.
(The optimal thing would be to divide along URL boundaries, if you
have a smart enough reverse-proxy, so that the different servers have
as little need to communicate as possible).


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38747">[ date ]</a>
              <a href="thread.html#38747">[ thread ]</a>
              <a href="subject.html#38747">[ subject ]</a>
              <a href="author.html#38747">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
