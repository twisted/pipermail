<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Twisted Agent Python 2 -&gt;3 Porting Pitfalls
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted%20Agent%20Python%202%20-%3E3%20Porting%20Pitfalls&In-Reply-To=%3C97d4876afa29415dbd96d7c566ff3920%40BYEX35.de.bayer.cnb%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Twisted Agent Python 2 -&gt;3 Porting Pitfalls</H1>
    <B>Thomas Westfeld</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted%20Agent%20Python%202%20-%3E3%20Porting%20Pitfalls&In-Reply-To=%3C97d4876afa29415dbd96d7c566ff3920%40BYEX35.de.bayer.cnb%3E"
       TITLE="[Twisted-Python] Twisted Agent Python 2 -&gt;3 Porting Pitfalls">thomas.westfeld at currenta.de
       </A><BR>
    <I>Mon May 20 01:21:33 MDT 2019</I>
    <P><UL>
        
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64777">[ date ]</a>
              <a href="thread.html#64777">[ thread ]</a>
              <a href="subject.html#64777">[ subject ]</a>
              <a href="author.html#64777">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear all,

I just migrated some quite basic twisted code from Python 2.7 to Python 3. Everything worked quite nicely, the main issue was the correct handling of strings vs. bytes.

There was a mean error I made when using the Twisted Agent http client: I specified the method as a Unicode string, instead of using Agent.request(b'GET',b'<A HREF="http://whatever.com">http://whatever.com</A>'). The mean thing is that the code does not produce any error. It connects to the server via TCP but then stops.

It is given correctly in the examples of the docs and also in the source code, but wouldn't it make things easier to make a type check in the request method if the method parameter is of type Unicode and raise an error?

Best regards,
Thomas Westfeld
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64777">[ date ]</a>
              <a href="thread.html#64777">[ thread ]</a>
              <a href="subject.html#64777">[ subject ]</a>
              <a href="author.html#64777">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
