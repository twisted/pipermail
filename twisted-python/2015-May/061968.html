<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Multiple plugins in &quot;twistd&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Multiple%20plugins%20in%20%22twistd%22&In-Reply-To=%3CCAOA_4jAy8Lu1%3Dy%3DehrQc%2Bab4vQjgNifJM02ZEGvnzvo7WQHfMw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="061966.html">
   <LINK REL="Next"  HREF="061973.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Multiple plugins in &quot;twistd&quot;</H1>
    <B>Moshe Zadka</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Multiple%20plugins%20in%20%22twistd%22&In-Reply-To=%3CCAOA_4jAy8Lu1%3Dy%3DehrQc%2Bab4vQjgNifJM02ZEGvnzvo7WQHfMw%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Multiple plugins in &quot;twistd&quot;">zadka.moshe at gmail.com
       </A><BR>
    <I>Tue May 19 20:41:21 MDT 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="061966.html">[Twisted-Python] Multiple plugins in &quot;twistd&quot;
</A></li>
        <LI>Next message (by thread): <A HREF="061973.html">[Twisted-Python] Multiple plugins in &quot;twistd&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61968">[ date ]</a>
              <a href="thread.html#61968">[ thread ]</a>
              <a href="subject.html#61968">[ subject ]</a>
              <a href="author.html#61968">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>OK, so let me once again enumerate the tickets I'm going to open, because
it seems like we're reaching consensus:

[1] PROVIDES (pretty much as written: exarkun -- the idea is to walk up the
hierarchy and then back down, so I did mean IService -- go up until you
find a root, then go down and get all descendents)
[2] 3538 -- will do it with a flag to turn on .tac + plugin
[2.1] I'm assuming the deprecation dance is &quot;flag to turn on&quot; -&gt; &quot;flag to
turn on + warn if .tac+plugin and no flag&quot; -&gt; &quot;make flag no-op&quot; -&gt; &quot;warn on
flag&quot; -&gt; &quot;remove flag&quot;. If someone doesn't want this dance, please let me
know preferred alternatives.
[3] MAKE -- API for &quot;createServiceFromNameAndOptions&quot; (basically,
compose-as-a-library)
[4] COMPOSE (implements twistd_compose plugin)

I think there's at least rough consensus that these four pieces are useful,
even if there's still some disagreement on the details, so maybe the next
step is to open the three to-be-opened tickets, and then to discuss the
details on the tickets. I'm going to do the ticket opening tomorrow, and
maybe even work on them during the SF Python Meetup (anyone in SF -- you
should [a] go and [b] say hi also [c] optionally, help me with that).

If anyone has serious objections to this plan, let me know!

Thanks,
Moshe Z.

On Tue, May 19, 2015 at 2:35 PM Glyph &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A>&gt; wrote:

&gt;<i>
</I>&gt;<i> &gt; On May 19, 2015, at 14:01, Tom Prince &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">tom.prince at ualberta.net</A>&gt; wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Glyph &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A>&gt; writes:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; You could also find some other way to split the argument list but &quot;+&quot;
</I>&gt;<i> doesn't seem particularly obscure in this context to me.  (If there's
</I>&gt;<i> really a need to pass a literal &quot;+&quot; to a plugin we could add an escaping
</I>&gt;<i> syntax as well.)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I think if we are adding syntax, then we should also add escaping at the
</I>&gt;<i> &gt; same time.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On a related note, when designing this kind of syntax, I think it is
</I>&gt;<i> &gt; often valuable to explictly leave some of the space as an explict error,
</I>&gt;<i> &gt; to leave freedom to extend the syntax in the future.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I wonder if there is any value in having a syntax that is nestable. I
</I>&gt;<i> &gt; don't see any specific use case, but I can imagine wanting ot pass
</I>&gt;<i> &gt; options to `compose` that are scoped to an individual plugin that it is
</I>&gt;<i> &gt; loading. And then, maybe you want to nest things so that those options
</I>&gt;<i> &gt; apply to a subset of plugins, which might naturally be implemented as
</I>&gt;<i> &gt; compos of a compose.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The suggestions in the last paragraph are perhaps somewhat contrived,
</I>&gt;<i> &gt; and certainly not something that should be *implemnted* in a first (or
</I>&gt;<i> &gt; even second pass). But considering the possiblity, and then picking a
</I>&gt;<i> &gt; syntax that might allow those kinds of extension (and then explictly
</I>&gt;<i> &gt; making the extension syntax an error) gives us the ability to add those
</I>&gt;<i> &gt; features without breaking backwards compatibility.
</I>&gt;<i>
</I>&gt;<i> We can un-escape '\+' as a token just fine, and if we do that, all of the
</I>&gt;<i> weird use-cases you just described are possible.  I can't think of any
</I>&gt;<i> options I'd want to pass to 'compose' myself, but it would be easy enough
</I>&gt;<i> to add some flags to its parser.
</I>&gt;<i>
</I>&gt;<i> -g
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20150520/dcd432b5/attachment-0002.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="061966.html">[Twisted-Python] Multiple plugins in &quot;twistd&quot;
</A></li>
	<LI>Next message (by thread): <A HREF="061973.html">[Twisted-Python] Multiple plugins in &quot;twistd&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61968">[ date ]</a>
              <a href="thread.html#61968">[ thread ]</a>
              <a href="subject.html#61968">[ subject ]</a>
              <a href="author.html#61968">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
