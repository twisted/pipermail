<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Need advice on how to move further with ticket	7897
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Need%20advice%20on%20how%20to%20move%20further%20with%20ticket%0A%097897&In-Reply-To=%3CCAFycZ9d%2B13%3D9vDzZqJ5AOvJ9JJTsuW2D%2BMxpa5YsR3YRr9dYjA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="061974.html">
   <LINK REL="Next"  HREF="029506.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Need advice on how to move further with ticket	7897</H1>
    <B>Adi Roiban</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Need%20advice%20on%20how%20to%20move%20further%20with%20ticket%0A%097897&In-Reply-To=%3CCAFycZ9d%2B13%3D9vDzZqJ5AOvJ9JJTsuW2D%2BMxpa5YsR3YRr9dYjA%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Need advice on how to move further with ticket	7897">adi at roiban.ro
       </A><BR>
    <I>Fri May 22 01:40:45 MDT 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="061974.html">[Twisted-Python] Need advice on how to move further with ticket 7897
</A></li>
        <LI>Next message (by thread): <A HREF="029506.html">[Twisted-Python] HTTP and SSH over SOCKS5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61983">[ date ]</a>
              <a href="thread.html#61983">[ thread ]</a>
              <a href="subject.html#61983">[ subject ]</a>
              <a href="author.html#61983">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 20 May 2015 at 12:10,  &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at twistedmatrix.com</A>&gt; wrote:
&gt;<i> On 19 May, 04:38 pm, <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">jerryguitarist at gmail.com</A> wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hi!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I filed a ticket (Log the log events in twisted.internet.protocol.Factory
</I>&gt;&gt;<i> using the new logging system &lt;<A HREF="https://twistedmatrix.com/trac/ticket/7897">https://twistedmatrix.com/trac/ticket/7897</A>&gt;)
</I>&gt;&gt;<i> and I have also submitted a patch for it. However, while working on the
</I>&gt;&gt;<i> patch, I had some concerns that I have already summarized in a ticket
</I>&gt;&gt;<i> comment. I would really appreciate it if someone could please take a look
</I>&gt;&gt;<i> and give me some advice as to how to move further with this ticket so that
</I>&gt;&gt;<i> I can start working on other patches for porting to twisted.logger. :-)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I think this question may indicate a certain section of documentation that
</I>&gt;<i> is missing for twisted.logger.
</I>&gt;<i>
</I>&gt;<i> Perhaps some folks who have ideas about how this new logging library should
</I>&gt;<i> be used could look at that ticket and then clarify some existing
</I>&gt;<i> twisted.logger docs or add something to them.
</I>&gt;<i>
</I>+1

I think that the trouble with twisted.logger documentation is that it
looks like an independent project and is documented as such.

It has no info/policy about how the logger and observers should be
used in Twisted core code.

To move things forward I suggest using a `_log` instance attribute to
emit log events.

It can be defined as the generic _log = Logger() class attribute
similar to the current patch

---------

http  and socks factory already define their own log() method with
different signatures.

Those method are more like observers as they write the events in a
file... outside of the old (or new) logging system.

Maybe we can refactor the http and socks code to emit all event using
_log() and use a dedicated log observer to persist the events in a
file.

---------

Having 'log' or '_log' in low level classes like Factory and Protocol
might conflict with existing code written by Twisted users... but this
might happen with any new method (public or private) added to the new
Twisted versions

With the new API docs formatting which hides private methods by
default, we might want to have the log method public so that users
will have a greater change to observer the method and prevent them
from overwriting the method.

Cheers

-- 
Adi Roiban


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="061974.html">[Twisted-Python] Need advice on how to move further with ticket 7897
</A></li>
	<LI>Next message (by thread): <A HREF="029506.html">[Twisted-Python] HTTP and SSH over SOCKS5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61983">[ date ]</a>
              <a href="thread.html#61983">[ thread ]</a>
              <a href="subject.html#61983">[ subject ]</a>
              <a href="author.html#61983">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
