<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Plugin Example - review appreciated
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Plugin%20Example%20-%20review%20appreciated&In-Reply-To=BANLkTikEE5rBG3ngQkmyE%2BfPigXUnf3g5Q%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024131.html">
   <LINK REL="Next"  HREF="024134.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Plugin Example - review appreciated</H1>
    <B>exarkun at twistedmatrix.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Plugin%20Example%20-%20review%20appreciated&In-Reply-To=BANLkTikEE5rBG3ngQkmyE%2BfPigXUnf3g5Q%40mail.gmail.com"
       TITLE="[Twisted-Python] Plugin Example - review appreciated">exarkun at twistedmatrix.com
       </A><BR>
    <I>Fri Jun 24 12:23:36 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="024131.html">[Twisted-Python] Plugin Example - review appreciated
</A></li>
        <LI>Next message: <A HREF="024134.html">[Twisted-Python] Plugin Example - review appreciated
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24133">[ date ]</a>
              <a href="thread.html#24133">[ thread ]</a>
              <a href="subject.html#24133">[ subject ]</a>
              <a href="author.html#24133">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 03:41 pm, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">robert.waters at gmail.com</A> wrote:
&gt;<i>On Tue, Jun 21, 2011 at 5:32 PM, &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at twistedmatrix.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Don't define Options or makeService in the dropin file.
</I>
The system will perform better if there is less code in the dropin file 
(or imported by the dropin file).  There are some ideas to add an 
optimization which will make this irrelevant, but someone needs to 
implement them before they'll matter.
&gt;&gt;<i>Use twisted.application.service.ServiceMaker instead of implementing
</I>&gt;&gt;<i>your own.
</I>
It's just less code to use `ServiceMaker`.  It should be flexible enough 
for any twistd plugin.  This interacts with the previous point as well, 
ServiceMaker avoids loading your Options and makeService implementation 
until someone actually invokes your twistd plugin.
&gt;&gt;<i>  Don't use the global reactor in SetupService.
</I>
Using the global reactor makes code less easily testable.  This isn't 
specific to plugins, you should avoid the global reactor in all your 
Twisted-using code.  Accept it as a parameter instead.
&gt;&gt;<i>
</I>&gt;<i>Would you please elaborate on the three items above?
</I>&gt;<i>Most of the plugin code that I've used as examples for my own have all
</I>&gt;<i>violated at least two of those.
</I>
Hope that helps!

Jean-Paul

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024131.html">[Twisted-Python] Plugin Example - review appreciated
</A></li>
	<LI>Next message: <A HREF="024134.html">[Twisted-Python] Plugin Example - review appreciated
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24133">[ date ]</a>
              <a href="thread.html#24133">[ thread ]</a>
              <a href="subject.html#24133">[ subject ]</a>
              <a href="author.html#24133">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
