<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] A new &amp; improved IResource
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20A%20new%20%26%20improved%20IResource&In-Reply-To=%3C7B876BA2-586A-423B-AE2C-E68DD3A83D4B%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="056535.html">
   <LINK REL="Next"  HREF="056534.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] A new &amp; improved IResource</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20A%20new%20%26%20improved%20IResource&In-Reply-To=%3C7B876BA2-586A-423B-AE2C-E68DD3A83D4B%40twistedmatrix.com%3E"
       TITLE="[Twisted-Python] A new &amp; improved IResource">glyph at twistedmatrix.com
       </A><BR>
    <I>Tue Jun 14 11:07:10 MDT 2011</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="056535.html">[Twisted-Python] A new &amp; improved IResource
</A></li>
        <LI>Next message (by thread): <A HREF="056534.html">[Twisted-Python] Specifying the local port for a twisted.names DNS	query or resolver
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56536">[ date ]</a>
              <a href="thread.html#56536">[ thread ]</a>
              <a href="subject.html#56536">[ subject ]</a>
              <a href="author.html#56536">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Jun 13, 2011, at 9:18 AM, Laurens Van Houtven wrote:

&gt;<i> Hey!
</I>&gt;<i> 
</I>&gt;<i> In relation to my recent getChild problem (specifically, I want to return deferred resources from it), it has become evident that IResource just won't cut it for a number of reasons and we should probably replace the API with something else.
</I>&gt;<i> 
</I>&gt;<i> The issues we should take care of in this new API:
</I>&gt;<i> 
</I>&gt;<i> 1. <A HREF="http://tm.tl/3711">http://tm.tl/3711</A> (returning deferreds from render methods)
</I>&gt;<i> 2. <A HREF="http://tm.tl/3621">http://tm.tl/3621</A> (returning deferreds from getChild and friends)
</I>&gt;<i> 3. <A HREF="http://tm.tl/288">http://tm.tl/288</A> (accessing uploaded data while in progress)
</I>
A new IResource means an opportunity for a new IRequest, since implementing that new interface is the easiest way for a resource to say &quot;I require the new IRequest interface as a parameter to these methods&quot;.  This long-standing enhancement would be a nice thing to get in there:

<A HREF="http://tm.tl/1569">http://tm.tl/1569</A> (IRequest should have a uri object)

This ticket predates my understanding of many of the nuances of URIs, URLs, URNs, IRIs, IDNA, etc, so URLPath is probably not quite up to the job.  nevow.url is closer, but probably needs some fixing (especially in the area of IRIs).

And, for that matter, some compatibility between the request object used by Agent and the request object used by the server would be great.  That's not necessary for a new interface, but in any design of a new interface, that should be taken into account so that it can satisfy requirements on both sides.

&gt;<i> If there are any missing tickets I'm forgetting about that are only fixable by breaking the interface, now would be a good time to speak up.
</I>&gt;<i> 
</I>&gt;<i> I have created a new ticket (<A HREF="http://tm.tl/5152">http://tm.tl/5152</A>) for the new interface using an integration branch that addresses the issues in the individual tickets on a new interface as Glyph proposed. I've also commented on #3711 to say that it just won't work that way and that we need a new interface, referring them to the new ticket number.
</I>&gt;<i> 
</I>&gt;<i> What should the migration plan look like? At least from the code point of view, exarkun has already partially answered this question: <A HREF="http://twistedmatrix.com/trac/ticket/288#comment:31">http://twistedmatrix.com/trac/ticket/288#comment:31</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> cheers
</I>&gt;<i> lvh
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20110614/ffc03d55/attachment.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="056535.html">[Twisted-Python] A new &amp; improved IResource
</A></li>
	<LI>Next message (by thread): <A HREF="056534.html">[Twisted-Python] Specifying the local port for a twisted.names DNS	query or resolver
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56536">[ date ]</a>
              <a href="thread.html#56536">[ thread ]</a>
              <a href="subject.html#56536">[ subject ]</a>
              <a href="author.html#56536">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
