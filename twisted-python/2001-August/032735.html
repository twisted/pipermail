<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] manhole
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20manhole&In-Reply-To=%3C20010809193434.A4890%40Fookidla.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] manhole</H1>
    <B>Chris Armstrong</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20manhole&In-Reply-To=%3C20010809193434.A4890%40Fookidla.org%3E"
       TITLE="[Twisted-Python] manhole">carmstro at twistedmatrix.com
       </A><BR>
    <I>Thu Aug  9 17:34:35 MDT 2001</I>
    <P><UL>
        
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32735">[ date ]</a>
              <a href="thread.html#32735">[ thread ]</a>
              <a href="subject.html#32735">[ subject ]</a>
              <a href="author.html#32735">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Glyph and I have talked about editing code from within manhole before.
I'm not sure if he agrees with the following ideas, but they're related.

I think it'd be really cool if we somehow kept a source representation of
*all* of Twisted for dynamic editing at runtime (sounds cool, eh?).. Of
course, this is probably far off, but here's a list of things that need to
be done to accomplish this ridiculous goal.

* At startup, read all of the source code from the .py files into an
internal datastructure somewhere

* whenever someone hacks new code from within manhole (or the telnet server
(blech)), we save this too. (I actually had this idea in another context,
when I wished for a special python interactive interpreter which would
remember what I typed to save the code to modules later).

* when we shut down the process, we must save all of this source code into
the pickle as well.

* offer a &quot;source&quot; functionality like reality's 'source' command to write
out all changes to the source we've made.

Yeah, I know, this seems really disgusting and memory-hogging, but it
shouldn't be that bad. Actually, now that I think of it, this could be
optimized some. Like, only actually retrieving source code when it's called
for (that's probably the biggest optimization we can do). 

Now, this whole source code editing thing brings up more issues, like what
do we edit source code with. Manhole is ok for some hacks, but it is of this
hacker's opinion that we just call up external editors from the twisted
process and pass it a temp file with a chunk of code in it. (glyph: &quot;eggs&quot;?)

Another issue this brings up is the &quot;stability of modifying a running
process&quot;. I'd imagine only real twisted hackers would be screwing with the
deep internals at runtime, but for regular &quot;end-users&quot; (hah), they'll
probably stay close to the &quot;edges&quot; (very high level code). 

Now, this whole idea can really lead on into some crazy stuff.. Like, say,
version controlling these &quot;eggs&quot; from *within* Twisted itself.. 

Thank you for listening to my crazy ramblings,
-- 
Chris Armstrong                        <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">carmstro at twistedmatrix.com</A>
<A HREF="http://twistedmatrix.com/~carmstro">http://twistedmatrix.com/~carmstro</A>     <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">carmstro at dynup.net</A>



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32735">[ date ]</a>
              <a href="thread.html#32735">[ thread ]</a>
              <a href="subject.html#32735">[ subject ]</a>
              <a href="author.html#32735">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
