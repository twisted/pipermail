<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] new function for t.i.main
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20new%20function%20for%20t.i.main&In-Reply-To=E15U2ee-0008C6-00%40darjeeling">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000199.html">
   <LINK REL="Next"  HREF="000210.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] new function for t.i.main</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20new%20function%20for%20t.i.main&In-Reply-To=E15U2ee-0008C6-00%40darjeeling"
       TITLE="[Twisted-Python] new function for t.i.main">glyph at twistedmatrix.com
       </A><BR>
    <I>Tue Aug  7 18:14:34 EDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="000199.html">[Twisted-Python] new function for t.i.main
</A></li>
        <LI>Next message: <A HREF="000210.html">[Twisted-Python] new function for t.i.main
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#201">[ date ]</a>
              <a href="thread.html#201">[ thread ]</a>
              <a href="subject.html#201">[ subject ]</a>
              <a href="author.html#201">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, 7 Aug 2001, Moshe Zadka wrote:

&gt;<i> daemonize() is cool, useful and should really be refactored out
</I>&gt;<i> of twistd
</I>&gt;<i> I really see no harm in providing more functionality in t.i.main
</I>&gt;<i> Flamewars re: correct debian packaging will be left for later.
</I>
[snip]

Daemonize's functionality is probably useful, however, there are a few
things it doesn't take into account.  Insofar as it's useful, most of
twistd should probably be incorporated into it; any less is offering
incomplete functionality.

After all, this is about as platform specific as you get.  If we have
daemonize, then we probably want to have a similiar function for starting
a Windows Service.  Moreover, it would be good if we could detect which
platform we're on, then do the appropriate thing for creating a daemon on
that platform.

This implies logging.  &quot;daemonize&quot; won't work if you're still writing to
standard output after you call it.

So I'd say daemonize should at least take a logfile, and a function +
varargs, and never return.

&gt;<i> Here's a quick thought about Debian packaging:
</I>&gt;<i> add a script to ./bin &quot;debianize&quot;.
</I>&gt;<i> This script will take a .tap file and create a package named the same
</I>&gt;<i> as the .tap file which relevant /etc/init.d/package and 
</I>&gt;<i> /var/lib/package/package.tap
</I>&gt;<i> Perhaps even add it as a generic argument to mktap, so
</I>&gt;<i> mktap --debian web --static /var/www
</I>&gt;<i> will create the debian package.
</I>&gt;<i> One caveat: version numbers.
</I>
This sounds cool, with one minor caveat.

I don't want to give windows users the impression that they're totally
unsupported, especially any more than they already are.

We should make plans to have similiar windows-ize scripts, and even if we
don't have them, make it clear that we're not trying to make a
debian-specific server infrastructure.

Also, wouldn't this &quot;debian&quot; functionality be very similiar for redhat,
mandrake, etc?  Even solaris and MacOS X?  &quot;unixize&quot; might be a better
name for it.


                      ______      __   __  _____  _     _
                     |  ____ |      \_/   |_____] |_____|
                     |_____| |_____  |    |       |     |
                     @ t w i s t e d m a t r i x  . c o m
                     <A HREF="http://twistedmatrix.com/users/glyph">http://twistedmatrix.com/users/glyph</A>






</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000199.html">[Twisted-Python] new function for t.i.main
</A></li>
	<LI>Next message: <A HREF="000210.html">[Twisted-Python] new function for t.i.main
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#201">[ date ]</a>
              <a href="thread.html#201">[ thread ]</a>
              <a href="subject.html#201">[ subject ]</a>
              <a href="author.html#201">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
