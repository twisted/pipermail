<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] automat question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20automat%20question&In-Reply-To=%3Ca716ef02-44ae-953c-4be5-2b830e1f070c%40withers.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="065535.html">
   <LINK REL="Next"  HREF="065538.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] automat question</H1>
    <B>Chris Withers</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20automat%20question&In-Reply-To=%3Ca716ef02-44ae-953c-4be5-2b830e1f070c%40withers.org%3E"
       TITLE="[Twisted-Python] automat question">chris at withers.org
       </A><BR>
    <I>Tue Mar  9 04:18:15 MST 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="065535.html">[Twisted-Python] automat question
</A></li>
        <LI>Next message (by thread): <A HREF="065538.html">[Twisted-Python] automat question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65536">[ date ]</a>
              <a href="thread.html#65536">[ thread ]</a>
              <a href="subject.html#65536">[ subject ]</a>
              <a href="author.html#65536">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm not sure we're quite on the same page: I'm not looking to inspect 
the state, but more be notified when certain edges are traversed.

That said: what's the best practice when you want to visualize the 
current state of a machine? In this case, the machine is for a unit of 
work in a scheduling app, and the UI has a list of these units where 
it'd make sense to show the current state.

The unit of work also forms the boundary API between the from end object 
model and the pool/scheduling back end. As such, each side can naturally 
call inputs methods on the machine, as I believe automat intends, but 
it's how to get notified by an output?

So, the front end may want to say &quot;I no longer need this UoW done, 
please kill it&quot;, the back end then needs to run the code to kill 
whatever's running the UoW.
Likewise, when the backend finishes a UoW, it wants to call either 
machine.result(...) or machine.error(...) to say what happened, but how 
do I wire in the front end bit that needs to get called when this happens?

cheers,

Chris

On 07/03/2021 22:34, Glyph wrote:
&gt;<i> Automat is designed to make this sort of thing intentionally annoying, 
</I>&gt;<i> as you have discovered:).
</I>&gt;<i>
</I>&gt;<i> The idea is that if you want to know this sort of internal state, it’s 
</I>&gt;<i> for a specific reason. That's not a blanket &quot;No&quot; — see for example how 
</I>&gt;<i> automat deals with serialization — but each such interface should be 
</I>&gt;<i> minimal and thoughtfully designed. Otherwise a state machine library 
</I>&gt;<i> just becomes a bunch of complex infrastructure around making an 
</I>&gt;<i> arbitrary series of function calls, and loses all of its helpful 
</I>&gt;<i> formalisms.
</I>&gt;<i>
</I>&gt;<i> So probably we do need to make a change to automat if you really need 
</I>&gt;<i> to do this, but first it's important to know what your use-case is. In 
</I>&gt;<i> a lot of cases the answer is &quot;just make an output. Stop trying to make 
</I>&gt;<i> the application see into the guts of the framework.&quot; But without 
</I>&gt;<i> knowing it’s impossible to say!
</I>&gt;<i>
</I>&gt;<i> -g
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Apologies if there's a better list for this, please let me know where...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I've grown to like Glyph's automat package a lot, but in a current
</I>&gt;&gt;<i> project, I have observers that need to know when a machine changes state.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> What's the best way to let those observers know?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> cheers,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Chris
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Twisted-Python mailing list
</I>&gt;&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20210309/eeb57377/attachment.htm&gt;
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="065535.html">[Twisted-Python] automat question
</A></li>
	<LI>Next message (by thread): <A HREF="065538.html">[Twisted-Python] automat question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65536">[ date ]</a>
              <a href="thread.html#65536">[ thread ]</a>
              <a href="subject.html#65536">[ subject ]</a>
              <a href="author.html#65536">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
