<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Twisted v21.2.0 breaks Crossbar.io
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted%20v21.2.0%20breaks%20Crossbar.io&In-Reply-To=%3C2d318533-b552-c62b-cc33-c97791df7a92%40crossbario.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="065507.html">
   <LINK REL="Next"  HREF="065510.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Twisted v21.2.0 breaks Crossbar.io</H1>
    <B>Tobias Oberstein</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted%20v21.2.0%20breaks%20Crossbar.io&In-Reply-To=%3C2d318533-b552-c62b-cc33-c97791df7a92%40crossbario.com%3E"
       TITLE="[Twisted-Python] Twisted v21.2.0 breaks Crossbar.io">tobias.oberstein at crossbario.com
       </A><BR>
    <I>Tue Mar  2 19:48:24 MST 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="065507.html">[Twisted-Python] Twisted v21.2.0 breaks Crossbar.io
</A></li>
        <LI>Next message (by thread): <A HREF="065510.html">[Twisted-Python] Twisted v21.2.0 breaks Crossbar.io
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65509">[ date ]</a>
              <a href="thread.html#65509">[ thread ]</a>
              <a href="subject.html#65509">[ subject ]</a>
              <a href="author.html#65509">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Jean-Paul,

&gt;<i> It seems like this change does not actually violate Twisted's 
</I>&gt;<i> compatibility policy.  This is not to say introducing such regressions 
</I>&gt;<i> is desirable, but when constructing such work-arounds it might be worth 
</I>&gt;<i> paying closer-than-average attention to what the policy actually is.
</I>&gt;<i> 
</I>&gt;<i> The policy is currently documented at 
</I>&gt;<i> <A HREF="https://twistedmatrix.com/documents/current/core/development/policy/compatibility-policy.html#new-attributes">https://twistedmatrix.com/documents/current/core/development/policy/compatibility-policy.html#new-attributes</A> 
</I>
Thanks! I wasn't aware (well, I was, but I never read all the docs;)

That indeed quite precisely hints at sth we did in our workaround: 
relying on the output of dir()

IOW, we should have done

except (AttributeError, NotImplementedError):

in the first place, because that catches both.

on an different angle, I wonder about the relation between both 
exceptions independent of Twisted.

eg &quot;attribute not defined&quot; certainly is an &quot;attribute error&quot;? and in any 
case, a missing attribute means it cannot be implemented?

so it cannot be implemented without making attribute access succeed, right?

but even if that would all be defined, it could not be expressed in 
python. or even statically checked. because that would require some 
machine readable language / decorators / whatever to exhaustively state 
what exceptions can be raised in the first place.

and then, an app developer (crossbar in this case) can make sure and 
test that it does actually have code to treat _all_ exceptions that can 
ever be raised.

anyways, just some ramblings .. python won't give me that, yes.


&gt;<i> (and that anchor takes you to the section that I think allows the change).
</I>&gt;<i> 
</I>&gt;<i> Policy aside, this change doesn't seem like much of an improvement to 
</I>&gt;<i> me.  If I were to guess, I would guess the change was made to satisfy 
</I>&gt;<i> some check Mypy is now being asked to make about Twisted.  If that's the 
</I>&gt;<i> case, it seems unfortunate that real-world software is suffering so that 
</I>&gt;<i> a synthetic goal can be achieved.  I do recognize there is a perception 
</I>&gt;<i> that practical value can come from attending to the errors Mypy 
</I>&gt;<i> reports.  It would probably benefit everyone if more care were taken to 
</I>&gt;<i> consider the real-world consequences of changes that are made to satisfy 
</I>&gt;<i> the non-real-world goalposts set by tools like Mypy.
</I>
fwiw, I highly welcome the use of mypy! even with some fallout;) we use 
it too (in crossbarfx).

but ^ might indeed be what happened practically. np, I can deal with it. 
Twisted has been a very reliable, and central piece of our stack - and 
is here to stay! happy user=) and, I guess, all workarounds (mine) 
eventually come back and bite. that's life;)

Cheers,
/Tobias


&gt;<i> 
</I>&gt;<i> Jean-Paul
</I>&gt;<i> 
</I>&gt;<i>     _______________________________________________
</I>&gt;<i>     Twisted-Python mailing list
</I>&gt;<i>     <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i>     &lt;mailto:<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>&gt;
</I>&gt;<i>     <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i> 
</I>
-- 

Tobias Oberstein - phone +49 176 2375 2055 - <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">tobias.oberstein at crossbario.com</A>
Crossbar.io GmbH - Waldstrasse 18 - 91054 Erlangen
HRB 15870 - Amtsgericht Fuerth - Geschäftsfuehrer/CEO - Tobias Oberstein

<A HREF="https://crossbar.io">https://crossbar.io</A>
<A HREF="https://crossbario.com">https://crossbario.com</A>

</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="065507.html">[Twisted-Python] Twisted v21.2.0 breaks Crossbar.io
</A></li>
	<LI>Next message (by thread): <A HREF="065510.html">[Twisted-Python] Twisted v21.2.0 breaks Crossbar.io
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65509">[ date ]</a>
              <a href="thread.html#65509">[ thread ]</a>
              <a href="subject.html#65509">[ subject ]</a>
              <a href="author.html#65509">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
