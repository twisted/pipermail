<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] different import paths lead to insecureJelly
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20different%20import%20paths%20lead%20to%20insecureJelly&In-Reply-To=%3CCAKN9TDKvXhevxPRW9Ed1WfMBBC%2BF9UKnYK50zQg3kLaFyAVsag%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   
   <LINK REL="Next"  HREF="060352.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] different import paths lead to insecureJelly</H1>
    <B>Daniel Sank</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20different%20import%20paths%20lead%20to%20insecureJelly&In-Reply-To=%3CCAKN9TDKvXhevxPRW9Ed1WfMBBC%2BF9UKnYK50zQg3kLaFyAVsag%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] different import paths lead to insecureJelly">sank.daniel at gmail.com
       </A><BR>
    <I>Thu Jan  2 00:54:43 MST 2014</I>
    <P><UL>
        
        <LI>Next message (by thread): <A HREF="060352.html">[Twisted-Python] different import paths lead to insecureJelly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27890">[ date ]</a>
              <a href="thread.html#27890">[ thread ]</a>
              <a href="subject.html#27890">[ subject ]</a>
              <a href="author.html#27890">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have a project in which various modules need to import a particular
module &quot;util&quot; which has the following content:

    # util.py
    class FooMaster(pb.Cacheable):
        ...

    class FooSlave(pb.RemoteCache):
        ...

    pb.setUnjellyableForClass(FooMaster, FooSlave)

Module &quot;server&quot; lives in the same directory as util and imports it like this
    # server.py
    import util

Module clent lives in an entirely different directory and imports util like
this
    # client.py
    import myproject.path.to.some.files.util as util

This leads to the infamous insecureJelly exception because the name of the
FooMaster class winds up being different due to the different import
statements. Specifically, server's copy of pb registers it as

&quot;util.FooMaster&quot;

but client's copy registers it as

&quot;myproject.path.to.some.files.util.FooMaster&quot;

1. Is it a bug that pb cares about how something was imported when
registering unjellyable classes?
2. If not, how am I supposed to work around this?
3. The problem goes away if I use the long, fully qualified import
statement everywhere. Is that what I'm supposed to do?

I read the howto and the on Stackoverflow question I could find regarding
this issue. In both cases, it says to not define names in a main file
precisely to avoid this issue, but not what to do in my case.

Thank you for any advice.

-- 
Daniel Sank
Department of Physics
Broida Hall
University of California
Santa Barbara, CA 93117
(805)893-3899
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20140101/c9c53f5f/attachment.html">http://twistedmatrix.com/pipermail/twisted-python/attachments/20140101/c9c53f5f/attachment.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message (by thread): <A HREF="060352.html">[Twisted-Python] different import paths lead to insecureJelly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27890">[ date ]</a>
              <a href="thread.html#27890">[ thread ]</a>
              <a href="subject.html#27890">[ subject ]</a>
              <a href="author.html#27890">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
