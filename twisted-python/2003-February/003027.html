<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] InstallSignalHandlers question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20InstallSignalHandlers%20question&In-Reply-To=115960-220032420211256578%40websys.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003026.html">
   <LINK REL="Next"  HREF="003028.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] InstallSignalHandlers question</H1>
    <B>Itamar Shtull-Trauring</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20InstallSignalHandlers%20question&In-Reply-To=115960-220032420211256578%40websys.com"
       TITLE="[Twisted-Python] InstallSignalHandlers question">twisted at itamarst.org
       </A><BR>
    <I>Thu Feb 20 17:47:58 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="003026.html">[Twisted-Python] InstallSignalHandlers question
</A></li>
        <LI>Next message: <A HREF="003028.html">[Twisted-Python] InstallSignalHandlers question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3027">[ date ]</a>
              <a href="thread.html#3027">[ thread ]</a>
              <a href="subject.html#3027">[ subject ]</a>
              <a href="author.html#3027">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 20 Feb 2003 16:12:56 -0500
&quot;Chris Skinner&quot; &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">chris at websys.com</A>&gt; wrote:

&gt;<i>   I couldn't find any reference to methods/overrides I would need to
</I>&gt;<i> implement in my Application. to actually do some processing on
</I>&gt;<i> specific signals... is the flag in .run() just disabling some
</I>&gt;<i> previous call to signal assigning a default handler?
</I>
Just schedule a method to run on startup, and then in that method use
the signal module as you usually would.

&gt;<i>   Primarily I'm looking to implement an in-process re-initialize,
</I>&gt;<i> log-rotation and to catch the shutdown so I can terminate another
</I>&gt;<i> process before exiting.
</I>
1. Twisted already does log rotation on signals, if you use twistd.
twistd id your friend (and no, that does not require TAPs).

2. in process re-initialize is a good use case.

3. Use the reactor's scheduling system - it lets you schedule events to
be run on shutdown.

<A HREF="http://twistedmatrix.com/documents/TwistedDocs/current/api/public/twisted.internet.interfaces.IReactorCore.html#addSystemEventTrigger">http://twistedmatrix.com/documents/TwistedDocs/current/api/public/twisted.internet.interfaces.IReactorCore.html#addSystemEventTrigger</A>
is the method you want.

E.g. reactor.addSystemEventTrigger('after', 'startup', myFunction) runs
myFunction after startup.

Or, as Bob Ippolito said, make an ApplicationService, and it will have
its stopService and startService methods called wwhen the application
starts and shuts down.

-- 
Itamar Shtull-Trauring    <A HREF="http://itamarst.org/">http://itamarst.org/</A>
<A HREF="http://www.zoteca.com">http://www.zoteca.com</A> -- Python &amp; Twisted consulting
***&gt; Stop the war: <A HREF="http://unitedforpeace.org/">http://unitedforpeace.org/</A> &lt;***


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003026.html">[Twisted-Python] InstallSignalHandlers question
</A></li>
	<LI>Next message: <A HREF="003028.html">[Twisted-Python] InstallSignalHandlers question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3027">[ date ]</a>
              <a href="thread.html#3027">[ thread ]</a>
              <a href="subject.html#3027">[ subject ]</a>
              <a href="author.html#3027">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
