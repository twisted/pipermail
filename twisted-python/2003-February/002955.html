<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] session
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20session&In-Reply-To=005f01c2d5cd%240c65df10%240401a8c0%40razor">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002952.html">
   <LINK REL="Next"  HREF="002954.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] session</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20session&In-Reply-To=005f01c2d5cd%240c65df10%240401a8c0%40razor"
       TITLE="[Twisted-Python] session">glyph at twistedmatrix.com
       </A><BR>
    <I>Sun Feb 16 10:57:10 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="002952.html">[Twisted-Python] session
</A></li>
        <LI>Next message: <A HREF="002954.html">[Twisted-Python] session
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2955">[ date ]</a>
              <a href="thread.html#2955">[ thread ]</a>
              <a href="subject.html#2955">[ subject ]</a>
              <a href="author.html#2955">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sunday, February 16, 2003, at 09:06 AM, Thomas Weholt wrote:

&gt;&gt;<i> No -- you want to use .rpys (.rpys can be used for XML-RPC resources
</I>&gt;&gt;<i> too, of course). William made some nice changes to that example, but
</I>&gt;&gt;<i> changing it to instantiate its own server.Site was a bad one.
</I>
&gt;<i> I cannot get the grip on how to use childs and leafs in Twisted. I 
</I>&gt;<i> think my code should be written to use that somehow. The reason I need 
</I>&gt;<i> this is because I need to have a perstistent object, containing 
</I>&gt;<i> compiled templates ( using simple TAL/ES ), users-information and a 
</I>&gt;<i> dict of what I've called webapps, similar to the rpys I guess, in 
</I>&gt;<i> memory. I think that can work with some of the sample code I've seen. 
</I>&gt;<i> But I want to pass more parameters to the rpy-file that will produce 
</I>&gt;<i> the content, not just call it's render method.
</I>
You want to use twisted.web.woven.tapestry: however, it's not entirely 
ready.  At last I knew of it, this module was going to be deprecated 
and functionality was going to be rolled back into Controller.  At any 
rate, reading the code there should give you some ideas.

Nothing horribly confusing is going to happen to it though.  You will 
probably have to spend 30 minutes renaming some classes when we polish 
and finalize it.

As to the theory:

An RPY is a file that can generate a resource.  It is NOT suggested, in 
an application, to have multiple related resources in different .rpy's. 
  They are conceptually related objects, which you can aggregate by 
using request.putChild and overriding request.getChild.

What you want to do is to create a top-level &quot;site&quot; resource, (not a 
server.Site) and then handle getChild there, returning other Resource 
instances that you can dynamically create, cache, or load from your own 
files.

As far as &quot;leafs&quot; -- in Twisted Web, isLeaf is just a flag that says 
&quot;stop calling getChild here, please&quot;.  There's nothing really special 
about it.

A simple example:

	<A HREF="http://asdf.com/foo/bar/baz">http://asdf.com/foo/bar/baz</A> =&gt; root.getChild(&quot;foo&quot;, 
...).getChild(&quot;bar&quot;, ...).getChild(&quot;baz&quot;, ...).render(...)

What happens at each step of that path is pretty much up to you ;).



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002952.html">[Twisted-Python] session
</A></li>
	<LI>Next message: <A HREF="002954.html">[Twisted-Python] session
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2955">[ date ]</a>
              <a href="thread.html#2955">[ thread ]</a>
              <a href="subject.html#2955">[ subject ]</a>
              <a href="author.html#2955">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
