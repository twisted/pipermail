<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] PB and multiple apps
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20PB%20and%20multiple%20apps&In-Reply-To=20030213210939.GA23400%40meson.dyndns.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002892.html">
   <LINK REL="Next"  HREF="002898.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] PB and multiple apps</H1>
    <B>Jeff Grimmett</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20PB%20and%20multiple%20apps&In-Reply-To=20030213210939.GA23400%40meson.dyndns.org"
       TITLE="[Twisted-Python] PB and multiple apps">grimmtooth at softhome.net
       </A><BR>
    <I>Thu Feb 13 17:37:57 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="002892.html">[Twisted-Python] A useful value for argv[0]
</A></li>
        <LI>Next message: <A HREF="002898.html">[Twisted-Python] PB and multiple apps
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2896">[ date ]</a>
              <a href="thread.html#2896">[ thread ]</a>
              <a href="subject.html#2896">[ subject ]</a>
              <a href="author.html#2896">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I may get an answer from the docs eventually, but I've encountered a bit
of difficulty with pb.

I have two apps (and thus two event loops) that operate independently
but can talk to each other through PB. I *am* using different port
numbers for the two, just to be safe.

This initially works great, but I have encountered what seems to be a
namespace issue.  I'm using the example code given for PB in the how-to,
which employs functions at the top level of the script. I am using this
chunk of code as a library -- i.e. each app imports this bit of code and
uses it to communicate with the other.

Occasionally, one of the apps using PB in this way is forcing the other
app to shut down.  I've traced this to the reactor.stop() line in each
of the pb callbacks on the client side.

I've considered a few approaches, but if anyone has any sage advice it
would be greatly appreciated :-)

1) Limit scope of imports as much as possible to reduce conflicts a bit.

2) find a way to gracefully inject my PB client calls into the existing
event loop without having to call reactore.run() / reactor.stop() in my
library module. (favored at the moment)

3) keep reading PB docs and maybe find a wrinkle I wasn't aware of yet.

Thanks in advance...




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002892.html">[Twisted-Python] A useful value for argv[0]
</A></li>
	<LI>Next message: <A HREF="002898.html">[Twisted-Python] PB and multiple apps
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2896">[ date ]</a>
              <a href="thread.html#2896">[ thread ]</a>
              <a href="subject.html#2896">[ subject ]</a>
              <a href="author.html#2896">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
