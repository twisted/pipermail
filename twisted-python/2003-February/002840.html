<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: In Defense of Taps
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20In%20Defense%20of%20Taps&In-Reply-To=20030211235434.GE31012%40cantanker.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002828.html">
   <LINK REL="Next"  HREF="002841.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: In Defense of Taps</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20In%20Defense%20of%20Taps&In-Reply-To=20030211235434.GE31012%40cantanker.net"
       TITLE="[Twisted-Python] Re: In Defense of Taps">glyph at twistedmatrix.com
       </A><BR>
    <I>Wed Feb 12 08:51:46 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="002828.html">[Twisted-Python] Re: In Defense of Taps
</A></li>
        <LI>Next message: <A HREF="002841.html">[Twisted-Python] Re: In Defense of Taps
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2840">[ date ]</a>
              <a href="thread.html#2840">[ thread ]</a>
              <a href="subject.html#2840">[ subject ]</a>
              <a href="author.html#2840">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Wed, 12 Feb 2003 10:54:34 +1100, Adrian van den Dries &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">az at CANTANKER.NET</A>&gt; wrote:

&gt;<i> Perhaps the TAP references in the howto should be moved later, under
</I>&gt;<i> &quot;Advanced usage&quot; or somesuch, and the early docs concentrate on methods with
</I>&gt;<i> which more users will be familiar (ie, standalone scripts).
</I>
This is exactly what I was arguing against.

While this may present a superficially simpler start-up process for new users
creating their first application, it will create the impression that TAPs are
something esoteric that you shouldn't necessarily be using if you're just
building a canonical Twisted server.

I'm afraid that I've already created that impression, though.  In going through
various projects I'm aware of that use Twisted, very few of them use TAPs.
Sadly, a few of the projects that I tried which use Twisted don't work at all!
(I'm not listing those here.)  It seems like this framework is more popular for
internal development than open source work.

The two public projects that I know of which use TAPs well are:

* Bannerfish: <A HREF="http://itamarst.org/software/bannerfish/">http://itamarst.org/software/bannerfish/</A>
* CVSToys: <A HREF="http://www.twistedmatrix.com/users/acapnotic/wares/code/CVSToys/">http://www.twistedmatrix.com/users/acapnotic/wares/code/CVSToys/</A>

Both of these are written by Twisted development team members that I have
gotten to scream at personally :-).

* The Hep Message Server: <A HREF="http://www.fettig.net/projects/hep/">http://www.fettig.net/projects/hep/</A>

  No use of TAPs or twistd whatsoever, it uses its own start-script.
  Accordingly, the &quot;daemon&quot; responds badly to signals, and doesn't daemonize on
  UNIX.  On the other hand, this may not just be a case of poor advocacy.
  There is also an INI file, no use of distutils, and the package structure is
  scattered across the top level namespace with unique and distinctive names
  like &quot;servers&quot;, &quot;messaging&quot;, and &quot;agents&quot;.

  Abe has produced a nice message server demo here but appears singularly
  unconcerned with integration of any kind :).

* apt-proxy v2: <A HREF="http://apt-proxy.sourceforge.net/">http://apt-proxy.sourceforge.net/</A>

  This project uses a collection of scripts which can either be used as
  standalone daemons or arguments to the &quot;--python&quot; option to twistd.  It's
  understandable given the low-level platform-specific nature of this code, and
  they still get about half the benefits of twistd.

* khashmir: <A HREF="http://khashmir.sourceforge.net/">http://khashmir.sourceforge.net/</A>

  I can't figure out what's going on here.  I _think_ from the README that
  you're still expected to type python expressions at a prompt and get results.
  Given that there are no releases of this yet it's probably premature to guess
  whether taps will be used or not ;-).

There are two conclusions I can draw from this brief survey:

 1. Not very many mature projects use Twisted yet.
 2. Everybody hates TAPs unless I've personally explained why they shouldn't.

I get the impression that both conclusions are valid.  Not much can be done
about #1 except to stay the course.  If you are currently writing tap-less
code, has this thread convinced you to take another look at plugins?  Or at
least wait and see what the next iteration of COIL will be like?

Another thing that I notice here is that Twisted's internal TAP plugins need to
provide slightly more expansive descriptions of what they do, for the browsing
functionality I've described to be useful.  For example:

    <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at zelda</A>:~% mktap --help portforward
         [ ... ]
    Port Forwarder.


-- 
 |    &lt;`'&gt;    |  Glyph Lefkowitz: Traveling Sorcerer   |
 |   &lt; _/ &gt;   |  Lead Developer,  the Twisted project  |
 |  &lt; ___/ &gt;  |      <A HREF="http://www.twistedmatrix.com">http://www.twistedmatrix.com</A>      |
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20030212/e937eea8/attachment.pgp">http://twistedmatrix.com/pipermail/twisted-python/attachments/20030212/e937eea8/attachment.pgp</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002828.html">[Twisted-Python] Re: In Defense of Taps
</A></li>
	<LI>Next message: <A HREF="002841.html">[Twisted-Python] Re: In Defense of Taps
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2840">[ date ]</a>
              <a href="thread.html#2840">[ thread ]</a>
              <a href="subject.html#2840">[ subject ]</a>
              <a href="author.html#2840">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
