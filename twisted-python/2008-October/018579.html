<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Passing revieved rata and erroring out bad	passowrds
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Passing%20revieved%20rata%20and%20erroring%20out%20bad%0A%09passowrds&In-Reply-To=37d49ed40810281236h6c2d918alca85069c0f401f3%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018578.html">
   <LINK REL="Next"  HREF="018580.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Passing revieved rata and erroring out bad	passowrds</H1>
    <B>Kevin Horn</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Passing%20revieved%20rata%20and%20erroring%20out%20bad%0A%09passowrds&In-Reply-To=37d49ed40810281236h6c2d918alca85069c0f401f3%40mail.gmail.com"
       TITLE="[Twisted-Python] Passing revieved rata and erroring out bad	passowrds">kevin.horn at gmail.com
       </A><BR>
    <I>Tue Oct 28 17:08:52 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="018578.html">[Twisted-Python] Passing revieved rata and erroring out bad	passowrds
</A></li>
        <LI>Next message: <A HREF="018580.html">[Twisted-Python] Shared memory for multiple twisted servers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18579">[ date ]</a>
              <a href="thread.html#18579">[ thread ]</a>
              <a href="subject.html#18579">[ subject ]</a>
              <a href="author.html#18579">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Assuming the getpass is the one the from the std lib, I don't see why you're
overriding getPassword at all.

according to the API docs, you should be able to get a custom prompt just by
adding a prompt parameter:
<A HREF="http://twistedmatrix.com/documents/8.1.0/api/twisted.conch.ssh.userauth.SSHUserAuthClient.html#getPassword">http://twistedmatrix.com/documents/8.1.0/api/twisted.conch.ssh.userauth.SSHUserAuthClient.html#getPassword</A>

and you probably don't want to call succeed() on the deferred you are
returning, since that likely screws up the whole auth calback chain

if you were looking at this example:
<A HREF="http://www.devshed.com/c/a/Python/SSH-with-Twisted/4/">http://www.devshed.com/c/a/Python/SSH-with-Twisted/4/</A>
realize that it might be misleading, as the author overrides the __init__ of
his SSHUserAuthClient and passes the password in directly
(he does not prompt the user for it)

...or I could be misunderstanding the way the module works... :)

Good Luck!

Kevin Horn

On Tue, Oct 28, 2008 at 2:36 PM, Andy Fundinger
&lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Andy at newworldelectric.com</A>&gt;wrote:

&gt;<i> For the password problem, I think what you want to do is raise an
</I>&gt;<i> exception, which will in turn cause your defereds to call their error
</I>&gt;<i> backs.  In the error back you can handle the particular error however
</I>&gt;<i> you need to.  That's probably something you need to either setup in
</I>&gt;<i> the getpass module, alternatively, that may be setup already and just
</I>&gt;<i> waiting for you to addErrback() on it.
</I>&gt;<i>
</I>&gt;<i> - Andy Fundinger
</I>&gt;<i>
</I>&gt;<i> On Tue, Oct 28, 2008 at 11:19 AM, Jean-Paul Calderone
</I>&gt;<i> &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at divmod.com</A>&gt; wrote:
</I>&gt;<i> &gt; On Tue, 28 Oct 2008 10:42:49 -0400 (EDT), Brian Levin &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">b.levin at hvcc.edu</A>&gt;
</I>&gt;<i> &gt; wrote:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; I apologizes if these are simple questions.  I am a complete newb when
</I>&gt;<i> it
</I>&gt;<i> &gt;&gt; comes to python and twisted.  I am trying to pass a command via ssh to a
</I>&gt;<i> &gt;&gt; server.  I am having 2 problems.  I am hoping that someone can help me.
</I>&gt;<i>  I
</I>&gt;<i> &gt;&gt; have been unable to find answers in &quot;the google&quot;.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Problem 2:  A bad password or username causes and infinite loop.  I need
</I>&gt;<i> &gt;&gt; to find a way to cause an error or return a false value when the
</I>&gt;<i> password or
</I>&gt;<i> &gt;&gt; username is bad.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I'm not sure about this one.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Jean-Paul
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Twisted-Python mailing list
</I>&gt;<i> &gt; <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> &gt; <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Blog:  <A HREF="http://channel3b.wordpress.com">http://channel3b.wordpress.com</A>
</I>&gt;<i> Second Life Name:  Ciemaar Flintoff
</I>&gt;<i>
</I>&gt;<i> Watch out for the invisible man.
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20081028/6b03f45e/attachment.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20081028/6b03f45e/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018578.html">[Twisted-Python] Passing revieved rata and erroring out bad	passowrds
</A></li>
	<LI>Next message: <A HREF="018580.html">[Twisted-Python] Shared memory for multiple twisted servers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18579">[ date ]</a>
              <a href="thread.html#18579">[ thread ]</a>
              <a href="subject.html#18579">[ subject ]</a>
              <a href="author.html#18579">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
