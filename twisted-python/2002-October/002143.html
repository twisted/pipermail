<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] addWriter
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20addWriter&In-Reply-To=09328AED5429D311A3000008C7911B1011253705%40exanpmb1.arinc.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002141.html">
   <LINK REL="Next"  HREF="002146.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] addWriter</H1>
    <B>Andrew Bennetts</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20addWriter&In-Reply-To=09328AED5429D311A3000008C7911B1011253705%40exanpmb1.arinc.com"
       TITLE="[Twisted-Python] addWriter">andrew-twisted at puzzling.org
       </A><BR>
    <I>Tue Oct 29 19:16:12 EST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="002141.html">[Twisted-Python] addWriter
</A></li>
        <LI>Next message: <A HREF="002146.html">[Twisted-Python] addWriter
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2143">[ date ]</a>
              <a href="thread.html#2143">[ thread ]</a>
              <a href="subject.html#2143">[ subject ]</a>
              <a href="author.html#2143">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Oct 29, 2002 at 07:00:27PM -0500, Scherbina, Alexander (ASCHERBI) wrote:
[..snip..]
&gt;<i> 
</I>&gt;<i> So far, this mechanism works well.  But one of its flaws is the partial
</I>&gt;<i> write situation.  If output buffer overflow occurred, I would like to
</I>&gt;<i> continue doing other things and get called back by the Reactor when the
</I>&gt;<i> socket is writable again.  Moreover, I would like to break the direct
</I>&gt;<i> association between the Queue and the ConnectionFactory.  
</I>
Why are having problems with partial writes?  Your Protocol should simply call
self.transport.write(...), which will take care of all the hard work of
sending stuff at the appropriate times.  The Reactor will automatically wake
up the Transport when the socket is ready for writing, and the Transport
will automatically write anything that is waiting to be written.

&gt;<i> Is addWriter/doWrite approach correct?  Or am I going in a totally wrong
</I>&gt;<i> direction?  Please, help, if you can.
</I>
It sounds to me like you're going in completely the wrong direction :)

Twisted does all of the hard work for you :)

The idea is you simply say &quot;write this to this connection please&quot; and
Twisted will do everything else... it'll handle partial writes, it'll handle
waiting until the socket is writeable.

Have you read the &quot;Writing Clients&quot; HOWTO?

-Andrew.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002141.html">[Twisted-Python] addWriter
</A></li>
	<LI>Next message: <A HREF="002146.html">[Twisted-Python] addWriter
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2143">[ date ]</a>
              <a href="thread.html#2143">[ thread ]</a>
              <a href="subject.html#2143">[ subject ]</a>
              <a href="author.html#2143">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
