<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] woven-bug: multiple nodes using the same model
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20woven-bug%3A%20multiple%20nodes%20using%20the%20same%20model&In-Reply-To=20021009143243.GA21447%40soniq.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001868.html">
   <LINK REL="Next"  HREF="001870.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] woven-bug: multiple nodes using the same model</H1>
    <B>Paul Boehm</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20woven-bug%3A%20multiple%20nodes%20using%20the%20same%20model&In-Reply-To=20021009143243.GA21447%40soniq.net"
       TITLE="[Twisted-Python] woven-bug: multiple nodes using the same model">typo at soniq.net
       </A><BR>
    <I>Wed Oct  9 10:56:57 EDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="001868.html">[Twisted-Python] woven-bug: multiple nodes using the same model
</A></li>
        <LI>Next message: <A HREF="001870.html">[Twisted-Python] woven-bug: multiple nodes using the same model
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1869">[ date ]</a>
              <a href="thread.html#1869">[ thread ]</a>
              <a href="subject.html#1869">[ subject ]</a>
              <a href="author.html#1869">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>ok,

this fixes at least the problem with List repeating the same
element all over (instead of listing all elements).
(patch made against my local tree, also contains added CheckBox
functionality).

i'm still working on the problem that the view lags behind the model.

diff -u -r1.20 widgets.py
--- widgets.py  3 Oct 2002 15:46:26 -0000       1.20
+++ widgets.py  9 Oct 2002 14:55:54 -0000
@@ -270,7 +270,7 @@
         newNode = self.generateDOM(request, oldNode)
         mutator = template.NodeNodeMutator(newNode)
         mutator.d = request.d
-        mutator.generate(request, oldNode)
+        mutator.generate(request, newNode)
         self.node = newNode

     def __setitem__(self, item, value):
@@ -395,6 +395,11 @@
 class CheckBox(Input):
     def initialize(self):
         self['type'] = 'checkbox'
+    def generateDOM(self, request, node):
+        node = Input.generateDOM(self, request, node)
+        if self.getData():
+            node.setAttribute('checked', &quot;checked&quot;)
+        return node

 class RadioButton(Input):
     def initialize(self):



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001868.html">[Twisted-Python] woven-bug: multiple nodes using the same model
</A></li>
	<LI>Next message: <A HREF="001870.html">[Twisted-Python] woven-bug: multiple nodes using the same model
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1869">[ date ]</a>
              <a href="thread.html#1869">[ thread ]</a>
              <a href="subject.html#1869">[ subject ]</a>
              <a href="author.html#1869">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
