<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Completely new to twisted - where to get some background?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Completely%20new%20to%20twisted%20-%20where%20to%20get%20some%0A%20background%3F&In-Reply-To=%3Cn2m-g.lm4ra80e.fsf%40morpheus.demon.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="034539.html">
   <LINK REL="Next"  HREF="034555.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Completely new to twisted - where to get some background?</H1>
    <B>Paul Moore</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Completely%20new%20to%20twisted%20-%20where%20to%20get%20some%0A%20background%3F&In-Reply-To=%3Cn2m-g.lm4ra80e.fsf%40morpheus.demon.co.uk%3E"
       TITLE="[Twisted-Python] Completely new to twisted - where to get some background?">lists at morpheus.demon.co.uk
       </A><BR>
    <I>Mon Oct 21 13:48:01 MDT 2002</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="034539.html">[Twisted-Python] Completely new to twisted - where to get some background?
</A></li>
        <LI>Next message (by thread): <A HREF="034555.html">[Twisted-Python] Completely new to twisted - where to get some background?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34553">[ date ]</a>
              <a href="thread.html#34553">[ thread ]</a>
              <a href="subject.html#34553">[ subject ]</a>
              <a href="author.html#34553">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jp Calderone &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at meson.dyndns.org</A>&gt; writes:

&gt;<i>   From this, I'd say that you're probably going to be a developer, an
</I>&gt;<i> administrator, and a user. ;)
</I>
I sort of thought that might be the case :-)

&gt;<i>   The current NNTP code lets you use one of two different backends - a
</I>&gt;<i> pickle file or an RDBM (postgres is what was used to develop it).  To serve
</I>&gt;<i> news out of mbox files, you'll need to write another backend that implements
</I>&gt;<i> the NewsStorage interface (twisted.news.database.NewsStorage), then hand
</I>&gt;<i> this to either an NNTPServerFactory or a UsenetServerFactory (probably the
</I>&gt;<i> former).
</I>
Thanks! That pointer was enough to get me started, and I managed to
get a simple &quot;dummy&quot; backend (serving one static article in one group)
up and running in half an hour! It's extremely easy, once you get the
picture.


&gt;<i> It would be nice if 'mktap news' could handle this, but it can't
</I>&gt;<i> (yet), so you'll have to write a little more python to glue it all
</I>&gt;<i> together. twisted.tap.news.updateApplication() is definitely
</I>&gt;<i> something you'll want to look at.
</I>
Haven't done this yet, at the moment I'm just starting the server
running directly, not botyhering with mktap/twistd. That's my next job
(as far as learning Twisted goes - writing the backend I really want
probably has to go in there somewhere too :-))

I can see a few possible approaches - the simpler one seems to be to
write a new type of application so that you do &quot;mktap pfmnews&quot;. This
seems like an unpleasant hack, though...

Better would probably be to patch Twisted (and submit the patch,
obviously :-)) to allow the &quot;news&quot; application to be more configurable
as regards backend type. My feeling is that this is a reasonable and
not too hard way to go.

I wonder, however, if it is somehow possible to &quot;subclass&quot; the
existing news application type, to add my own backend into it without
needing to patch Twisted. That would seem the best solution,
ultimately. However, I'm not at all familiar with this part of Twisted
yet, so I could easily have missed something simple.

&gt;<i> The Application Howto and the Server Howto are probably worth going
</I>&gt;<i> over:
</I>&gt;<i>
</I>&gt;<i>   <A HREF="http://twistedmatrix.com/documents/howto/application">http://twistedmatrix.com/documents/howto/application</A>
</I>&gt;<i>   <A HREF="http://twistedmatrix.com/documents/howto/servers">http://twistedmatrix.com/documents/howto/servers</A>
</I>&gt;<i>
</I>&gt;<i>   You shouldn't need to write a Factory or a Protocol to do what you want,
</I>&gt;<i> but knowing how the pieces fit together will probably be beneficial.
</I>
It was indeed. Gave me a good place to start.

&gt;<i>   Depending if you try to make &quot;queries&quot; to the mbox synchronous or not, the
</I>&gt;<i> Deferred howto might be relevant as well:
</I>&gt;<i>
</I>&gt;<i>   <A HREF="http://twistedmatrix.com/documents/howto/defer">http://twistedmatrix.com/documents/howto/defer</A>
</I>&gt;<i>
</I>&gt;<i>   Twisted usually considers disk operations (and certainly memory
</I>&gt;<i> operations) fast enough to not worry about this, though, so doing what the
</I>&gt;<i> PickleStorage class does (defer.fail(), defer.succeed()) will probably work
</I>&gt;<i> for you.
</I>
So far, the simple approach is working, but I'll keep this in mind...

&gt;<i>   Twisted is definitely suited for this :)  I'm not aware of a document that
</I>&gt;<i> is directly relevant to what you want to do, because it's not too deeply
</I>&gt;<i> related to Twisted.  Hopefully what needs to be done will be clear after you
</I>&gt;<i> check out the code I mentioned above.  
</I>
Indeed, it became a lot clearer, very fast. I was getting bogged down
in concepts (Perspective Broker, reactors...) which didn't seem
relevant to me (and weren't, as it happened). Maybe some sort of
documentation roadmap (&quot;If you are trying to do XXX, then start with
documents YYY, ZZZ&quot;) would be useful. Your suggestions certainly got
me on the right track, starting from &quot;I want to implement a server&quot;,
and &quot;I want to implement a *news* server, specifically&quot;.

Thanks for the help,
Paul.

-- 
This signature intentionally left blank


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="034539.html">[Twisted-Python] Completely new to twisted - where to get some background?
</A></li>
	<LI>Next message (by thread): <A HREF="034555.html">[Twisted-Python] Completely new to twisted - where to get some background?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34553">[ date ]</a>
              <a href="thread.html#34553">[ thread ]</a>
              <a href="subject.html#34553">[ subject ]</a>
              <a href="author.html#34553">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
