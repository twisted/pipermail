<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] woven-bug: multiple nodes using the same model
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20woven-bug%3A%20multiple%20nodes%20using%20the%20same%20model&In-Reply-To=20021009143243.GA21447%40soniq.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001869.html">
   <LINK REL="Next"  HREF="001880.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] woven-bug: multiple nodes using the same model</H1>
    <B>Donovan Preston</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20woven-bug%3A%20multiple%20nodes%20using%20the%20same%20model&In-Reply-To=20021009143243.GA21447%40soniq.net"
       TITLE="[Twisted-Python] woven-bug: multiple nodes using the same model">dp at twistedmatrix.com
       </A><BR>
    <I>Wed Oct  9 13:07:03 EDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="001869.html">[Twisted-Python] woven-bug: multiple nodes using the same model
</A></li>
        <LI>Next message: <A HREF="001880.html">[Twisted-Python] jfi: twisted pygame :)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1870">[ date ]</a>
              <a href="thread.html#1870">[ thread ]</a>
              <a href="subject.html#1870">[ subject ]</a>
              <a href="author.html#1870">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Thanks for the bug report. I have known about this issue for a while; 
it's tricky otherwise I would have solved it by now. Here's the issue:

The Widget gets generated, and mutates the original Template node from 
the HTML template. However, it has rendered the old data.

The controller gets some input and updates the model with some new data.

The controller sends a notification to the model telling it it has 
changed, and the model forwards these notifications to all views that 
want it (Widgets)

The widget then gets re-generated, but the DOM node it works on isn't 
the same as it was in the template HTML, so funny things happen.

This is the same issue radix was seeing where a node would get a piece 
of text inserted into it multiple times.

I think the solution is for each widget to store a copy of the original 
template node, so it can operate on a fresh copy the second time; I'm 
testing this change right now. Maybe I'll even write some tests.

Donovan



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001869.html">[Twisted-Python] woven-bug: multiple nodes using the same model
</A></li>
	<LI>Next message: <A HREF="001880.html">[Twisted-Python] jfi: twisted pygame :)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1870">[ date ]</a>
              <a href="thread.html#1870">[ thread ]</a>
              <a href="subject.html#1870">[ subject ]</a>
              <a href="author.html#1870">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
