<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: [Twisted-commits] Accumulated Woven Changes::
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20%5BTwisted-commits%5D%20Accumulated%20Woven%20Changes%3A%3A&In-Reply-To=20021014153945.GA13235%40twistedmatrix.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001926.html">
   <LINK REL="Next"  HREF="001933.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: [Twisted-commits] Accumulated Woven Changes::</H1>
    <B>Andrew Bennetts</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20%5BTwisted-commits%5D%20Accumulated%20Woven%20Changes%3A%3A&In-Reply-To=20021014153945.GA13235%40twistedmatrix.com"
       TITLE="[Twisted-Python] Re: [Twisted-commits] Accumulated Woven Changes::">andrew-twisted at puzzling.org
       </A><BR>
    <I>Mon Oct 14 12:31:56 EDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="001926.html">[Twisted-Python] Re: [Twisted-commits] Accumulated Woven Changes::
</A></li>
        <LI>Next message: <A HREF="001933.html">[Twisted-Python] Re: [Twisted-commits] Accumulated Woven Changes::
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1927">[ date ]</a>
              <a href="thread.html#1927">[ thread ]</a>
              <a href="subject.html#1927">[ subject ]</a>
              <a href="author.html#1927">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Oct 14, 2002 at 05:39:45PM +0200, Christopher Armstrong wrote:
&gt;<i> &gt; radix CVS wrote:
</I>&gt;<i> &gt; &gt;3) changed some addCallback/addErrback to addCallbacks
</I>&gt;<i> 
</I>&gt;<i> Sorry, I've brain-farted. I knew they were semantic changes, but
</I>&gt;<i> usually addCallbacks is recommended; I didn't realize that these
</I>&gt;<i> particular semantics were really needed in this case.
</I>
This makes me wonder if most of the time you want to add a callback and an
errback, you want the errback to be able to catch the callbacks errors.

That is, maybe
    d.addCallbacks(cb, eb)
should be changed to be equivalent to 
    d.addCallback(cb).addErrback(eb)
and anyone requiring the current behaviour would have to do
    d.addErrback(eb).addCallback(cb)

Although now that I think of it, that last example isn't *quite* the same as
the current behaviour if eb returns a non-Failure...

I'm just thinking that the most commonly desired behaviour is to mirror
    try:
        cb()
    except:
        eb()

Hmm.  Perhaps a better solution is to add a kwarg to addCallbacks, so that
something like
    d.addCallbacks(cb, eb, errbackCatchesCallback=1)
would modify it to do what you want.  It'd be nice to think of a nicer name
for the kwarg though.

I guess it depends on what the most common use-case for adding callbacks &amp;
errbacks is, and whether that is important enough to change the interface.
It's probably too late to do this with 1.0 so close :(

-Andrew.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001926.html">[Twisted-Python] Re: [Twisted-commits] Accumulated Woven Changes::
</A></li>
	<LI>Next message: <A HREF="001933.html">[Twisted-Python] Re: [Twisted-commits] Accumulated Woven Changes::
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1927">[ date ]</a>
              <a href="thread.html#1927">[ thread ]</a>
              <a href="subject.html#1927">[ subject ]</a>
              <a href="author.html#1927">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
