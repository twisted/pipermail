<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] usage.Options
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20usage.Options&In-Reply-To=%3C1033817498.8380.84.camel%40troglodyte.funhouse%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="034344.html">
   <LINK REL="Next"  HREF="034348.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] usage.Options</H1>
    <B>Kevin Turner</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20usage.Options&In-Reply-To=%3C1033817498.8380.84.camel%40troglodyte.funhouse%3E"
       TITLE="[Twisted-Python] usage.Options">acapnotic at twistedmatrix.com
       </A><BR>
    <I>Sat Oct  5 05:31:37 MDT 2002</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="034344.html">[Twisted-Python] usage.Options
</A></li>
        <LI>Next message (by thread): <A HREF="034348.html">[Twisted-Python] usage.Options
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34345">[ date ]</a>
              <a href="thread.html#34345">[ thread ]</a>
              <a href="subject.html#34345">[ subject ]</a>
              <a href="author.html#34345">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, 2002-10-05 at 00:18, Brian Warner wrote:
&gt;<i> One shortcoming of my patch is that the auth will probably steal pb.portno
</I>&gt;<i> from any existing PB services. If there are already PB services listening on
</I>&gt;<i> that port, the code should probably raise an exception and tell the user to
</I>&gt;<i> make it listen on a different one (rather than silently insert it's user/pass
</I>&gt;<i> into the user's Authorizer). I don't know how to check for that.. any ideas?
</I>
I had code very much like this in mktap once, to allow building in a
manhole to any .tap upon creation.  It did some check so that if a PB
server was already running, it would go ahead and add the manhole
service to that instead of trying to open a port.  Adding a user/pass to
the existing authorizer (which it did) may not be such a bad idea as you
seem to suggest, since you only give that new identity a key for the
&quot;twisted.manhole&quot; service and not the other(s).   (...but authorizers
are now per-Service, not per-ServiceCollection, so you can still have
your separate one if you wish, even if you put them on one port under
the same broker factory.)

However, that code was blown away sometime when I wasn't looking and I
was later urged to use &quot;mktap --append foo.tap manhole&quot; instead, which
still has the same port-clobbering problem as you ran in to.

Back to the question that started this thread, I do agree with you that
adding an &quot;addManhole&quot; interface is a much more reasonable thing to do
than changing the usage.Options interface.  I understand what you said
about the &quot;from twisted.tap.manhole import Options, updateapplication&quot;
being a quick and convenient solution, but it should be recognized that
it's a somewhat abusive hack.  Modules in the 'tap' package are for use
with mktap, and &quot;usage&quot; is a command-line processing utility, not a more
comprehensive configuration tool such as coil might be.

I hope that didn't sound unforgivably grouchy -- I'm up past my bedtime
and am due for a nap.

g'night,

 - kevin

-- 
The moon is waning crescent, 2.6% illuminated, 28.0 days old.




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="034344.html">[Twisted-Python] usage.Options
</A></li>
	<LI>Next message (by thread): <A HREF="034348.html">[Twisted-Python] usage.Options
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34345">[ date ]</a>
              <a href="thread.html#34345">[ thread ]</a>
              <a href="subject.html#34345">[ subject ]</a>
              <a href="author.html#34345">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
