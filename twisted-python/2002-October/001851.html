<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Twisted performance?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Twisted%20performance%3F&In-Reply-To=Pine.LNX.4.44.0210070833140.26529-100000%40ns0.tbye.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001854.html">
   <LINK REL="Next"  HREF="001859.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Twisted performance?</H1>
    <B>Itamar Shtull-Trauring</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Twisted%20performance%3F&In-Reply-To=Pine.LNX.4.44.0210070833140.26529-100000%40ns0.tbye.com"
       TITLE="[Twisted-Python] Twisted performance?">twisted at itamarst.org
       </A><BR>
    <I>Mon Oct  7 12:06:10 EDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="001854.html">[Twisted-Python] Twisted performance?
</A></li>
        <LI>Next message: <A HREF="001859.html">[Twisted-Python] Twisted performance?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1851">[ date ]</a>
              <a href="thread.html#1851">[ thread ]</a>
              <a href="subject.html#1851">[ subject ]</a>
              <a href="author.html#1851">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 7 Oct 2002 09:08:08 -0700 (PDT)
<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">dave at pythonapocrypha.com</A> wrote:

&gt;<i> I'd love to hear comments and performance numbers, even if they're just
</I>&gt;<i> anectdotal. 
</I>
Twisted sustained performance is not all that great, especially from disk, but then we haven't really tried to optimize it that much. On the other hand, on my laptop (866 crusoe) it can do 160Mbit from disk (100 concurrent connections over loopback, using ab), but then it's a pretty slow machine. On a decent machine it'd probably do much better, and there are clear paths towards optimization - certainly we'd love it if you ported your optimizations to Twisted.

&gt;<i> Additionally (or as an alternative), if anyone can point me to
</I>&gt;<i> some sample code I can run it against our internal performance tests - I'd
</I>&gt;<i> be interested in (1) an HTTP server that serves just from memory (i.e.  
</I>&gt;<i> returns a valid but large HTTP response of just random or junk data) and
</I>&gt;<i> (2) an HTTP server that just serves a file or two from disk. In both cases
</I>&gt;<i> the emphasis is on total throughput at varying numbers of concurrent 
</I>&gt;<i> connections.
</I>
1. $ cp largefile /var/www/
   $ mktap web --path=/var/www
   $ twistd -f web.tap
   $ ab -n 300 -c 20 <A HREF="http://localhost:8080/largefile">http://localhost:8080/largefile</A>

2. Run attached script and run benchmarks against it. Seems rather slow, actually, compared to (1).

&gt;<i> P.S. Does Twisted support any sort of throughput throttling? (i.e. the 
</I>&gt;<i> ability to cap [average] throughput at a certain level)
</I>
No, but it could be added pretty easily to things that use producer/consumer, I think (e.g. serving files).

-- 
Itamar Shtull-Trauring    <A HREF="http://itamarst.org/">http://itamarst.org/</A>
Available for Python, Twisted, Zope and Java consulting
-------------- next part --------------
A non-text attachment was scrubbed...
Name: empty.py
Type: application/octet-stream
Size: 1060 bytes
Desc: not available
Url : <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20021007/81cad21b/attachment.obj">http://twistedmatrix.com/pipermail/twisted-python/attachments/20021007/81cad21b/attachment.obj</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001854.html">[Twisted-Python] Twisted performance?
</A></li>
	<LI>Next message: <A HREF="001859.html">[Twisted-Python] Twisted performance?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1851">[ date ]</a>
              <a href="thread.html#1851">[ thread ]</a>
              <a href="subject.html#1851">[ subject ]</a>
              <a href="author.html#1851">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
