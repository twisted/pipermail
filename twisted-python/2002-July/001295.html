<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] distributed method calls in twisted.sister
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20distributed%20method%20calls%20in%20twisted.sister&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001294.html">
   <LINK REL="Next"  HREF="001296.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] distributed method calls in twisted.sister</H1>
    <B>Sean Riley</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20distributed%20method%20calls%20in%20twisted.sister&In-Reply-To="
       TITLE="[Twisted-Python] distributed method calls in twisted.sister">sean at ninjaneering.com
       </A><BR>
    <I>Mon Jul  8 12:49:53 EDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="001294.html">[Twisted-Python] 0.19.0rc3
</A></li>
        <LI>Next message: <A HREF="001296.html">[Twisted-Python] distributed method calls in twisted.sister
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1295">[ date ]</a>
              <a href="thread.html#1295">[ thread ]</a>
              <a href="subject.html#1295">[ subject ]</a>
              <a href="author.html#1295">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>background:

twisted.sister is a piece of clustering infrastructure to allow a single
application or simulation to be distributed across multiple servers on
multiple hosts.

twisted.sister has a concept of a &quot;parent&quot; server which acts as a central
locking facility for objects distributed on any number of &quot;sister&quot; servers
in the network.

security in distributed sister servers:

example use case: player1 logged into on one sister server wishes to send a
text message to player2 logged into another - unknown - sister server.

I implemented a &quot;callDistributed&quot; on the sister server which looks like:

def callDistributed(self,
	resourceType,
	resourceName,
	methodName,
	*args,
	**kw):

this goes off to the parent which looks up the sister that has the specified
resource locked, then passes the method call off to that sister to actually
be invoked. all results of course being deferred so the result is passed all
the way back to the originating caller.

so player1 would call:
self.service.callDistributed(
	'avatar',
	'player2',
	'chatMsg',
	'hi there')
and player2 would get the chat message. It currently prepends &quot;remote_&quot; to
the method name on the callee's end.

This appears to be inconsistent with the common twisted notion of knowing
&quot;who&quot; is calling a method for security reasons. Maybe there should be
another type of remote method called &quot;distributed_&quot; which takes the
identifying information of the calling distributed object as the first
arguments:

def distributed_chatMsg(self, resourceType, resourceName, message)

where the resourecType and resourceName identify the distributed resource
that invoked the distributed method call. this distributed_ method would
only ever be invoked by remote objects managed in a twisted.sister network.

I thought about adding the location of the distributed caller object also,
but this information probably isnt required as it is known by the parent who
can route any further communication. the location could also change if an
object migrated between sisters which would invalidate any location
information stored on a sister, so not sending it is a better option.

thoughts?



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001294.html">[Twisted-Python] 0.19.0rc3
</A></li>
	<LI>Next message: <A HREF="001296.html">[Twisted-Python] distributed method calls in twisted.sister
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1295">[ date ]</a>
              <a href="thread.html#1295">[ thread ]</a>
              <a href="subject.html#1295">[ subject ]</a>
              <a href="author.html#1295">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
