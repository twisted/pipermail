<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Large file transfers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Large%20file%20transfers&In-Reply-To=%3C3D415182.9010703%40cubik.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="033926.html">
   <LINK REL="Next"  HREF="033854.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Large file transfers</H1>
    <B>Bruce Mitchener</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Large%20file%20transfers&In-Reply-To=%3C3D415182.9010703%40cubik.org%3E"
       TITLE="[Twisted-Python] Large file transfers">bruce at cubik.org
       </A><BR>
    <I>Fri Jul 26 07:41:22 MDT 2002</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="033926.html">[Twisted-Python] Large file transfers
</A></li>
        <LI>Next message (by thread): <A HREF="033854.html">[Twisted-Python] unit tests
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33908">[ date ]</a>
              <a href="thread.html#33908">[ thread ]</a>
              <a href="subject.html#33908">[ subject ]</a>
              <a href="author.html#33908">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Steve Waterbury wrote:
&gt;<i> Twisted gurus,
</I>&gt;<i> 
</I>&gt;<i> I just noticed item 008 on the twisted TO DO list:
</I>&gt;<i> 
</I>&gt;<i>     File Transfer layer for PB.  This would be especially nice for
</I>&gt;<i>     twisted.words; having standard a way to transfer &quot;large&quot; (100MB+) packets
</I>&gt;<i>     across or in tandem with a PB connection without breaking anything would be
</I>&gt;<i>     very good.
</I>&gt;<i> 
</I>&gt;<i> &lt;sophomoric question&gt;
</I>&gt;<i> Would an ftp connection (authenticated using cred, of course) in 
</I>&gt;<i> tandem or parallel to the PB connection work?  ... but maybe you 
</I>&gt;<i> are referring to implementing file transfer as *part* of the 
</I>&gt;<i> PB protocol, in which case this question might not make any sense 
</I>&gt;<i> at all.    
</I>&gt;<i> &lt;/sophomoric question&gt;
</I>&gt;<i> 
</I>&gt;<i> And how close is this to being implemented?
</I>&gt;<i> 
</I>&gt;<i> My interest is not merely academic -- the application I am working 
</I>&gt;<i> on will be &quot;routinely&quot; transferring 100MB+ files, and I'd like 
</I>&gt;<i> to use the PB as one of our interfaces.
</I>
Steve,

This sort of thing is why some of the features of the BEEP protocol are 
nice, specifically the presence of multiple channels and that messages 
on those channels needn't block others, because it chunks them and 
interleaves them.

BEEP is documented in RFC 3080:

   <A HREF="http://www.ietf.org/rfc/rfc3080.txt">http://www.ietf.org/rfc/rfc3080.txt</A>

and the design rationale is documented in 3171, On the Design of 
Application Protocols:

   <A HREF="ftp://ftp.rfc-editor.org/in-notes/rfc3117.txt">ftp://ftp.rfc-editor.org/in-notes/rfc3117.txt</A>

and more information, including links to various implementations can be 
found at:

   <A HREF="http://www.beepcore.org/">http://www.beepcore.org/</A>

I don't know that I'd directly use BEEP because the existing 
implementations are lacking (thread-heavy), and it doesn't support 
features that would be needed for PB-over-UDP support, but having the 
option to run PB over BEEP would let you do large file transfers over 
the same connection (without worrying about NAT or firewall issues) 
without blocking the usual PB messages.

I'd go so far as to say that this problem isn't just with file 
transfers.  It is a potential problem anytime you have messages of 
different priorities being sent over PB.  Larger, lesser priority 
messages block higher priority messages because they're all over the 
same connection and there aren't logical channels in PB (as in BEEP).

You can work around this yourself by manually chunking messages and 
managing sending them at the sending side in small pieces to give other 
messages a chance to make it through.  Another way of handling this, and 
nicer than laying on top of BEEP, would be to start down the path 
towards some of the features that would be needed or useful in UDP 
support.  With UDP support, it'd be useful to be able to flag messages 
with different bits of data:

    * Reliable
    * Unreliable
    * Time-sensitive data which is useless after that time.

in that sort of scenario, one could add an additional set of behaviors 
where the message that contained large, low-priority data would be 
flagged to let PB know that it was something that could be spread out 
over time and that timing for it wasn't a concern.

Maybe there are already capabilities like this in PB .. but given the 
lack of docs, I haven't found them yet. :)

Cheers,

  - Bruce



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="033926.html">[Twisted-Python] Large file transfers
</A></li>
	<LI>Next message (by thread): <A HREF="033854.html">[Twisted-Python] unit tests
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33908">[ date ]</a>
              <a href="thread.html#33908">[ thread ]</a>
              <a href="subject.html#33908">[ subject ]</a>
              <a href="author.html#33908">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
