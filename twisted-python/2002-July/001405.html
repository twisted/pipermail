<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] New client APIs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20New%20client%20APIs&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001409.html">
   <LINK REL="Next"  HREF="001406.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] New client APIs</H1>
    <B>Itamar Shtull-Trauring</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20New%20client%20APIs&In-Reply-To="
       TITLE="[Twisted-Python] New client APIs">twisted at itamarst.org
       </A><BR>
    <I>Sat Jul 27 19:26:29 EDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="001409.html">[Twisted-Python] Newbie: Help with twisted.web, HTTPClient
</A></li>
        <LI>Next message: <A HREF="001406.html">[Twisted-Python] New client APIs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1405">[ date ]</a>
              <a href="thread.html#1405">[ thread ]</a>
              <a href="subject.html#1405">[ subject ]</a>
              <a href="author.html#1405">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I just checked in a new API for client connections (TCP/SSL/UNIX.) The main 
change is that you now register a ClientFactory using reactor.connectTCP (or 
Application.connectTCP). Various callbacks will get called on the factory, 
allowing you to reconnect on a failure or lost connection, let users abort 
connections, and so on. So, these policies are now done in the *factory* - 
connectionFailed will no longer be called on protocols unless you use the 
old deprecated APIs.

So what does this mean to you? If you are a Twisted developer, please take a 
look and see if you have any further needs or issues with the 
implementation. If all goes well (and this is the second refactoring I've 
done, I don't expect many changes) we need to start updating all the code to 
use the new APIs.

For example, FTP tests are failing right now, due to my not making the 
backwards compatability code totally backwards compatible. This is fine by 
me - the new API is much nicer and will make everyone's life easier, so it's 
not worth the time making the old API work exactly the same.

Documentation can be found by looking at:
IConnector, protocol.ClientFactory, IReactorTCP.connectTCP



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001409.html">[Twisted-Python] Newbie: Help with twisted.web, HTTPClient
</A></li>
	<LI>Next message: <A HREF="001406.html">[Twisted-Python] New client APIs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1405">[ date ]</a>
              <a href="thread.html#1405">[ thread ]</a>
              <a href="subject.html#1405">[ subject ]</a>
              <a href="author.html#1405">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
