<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] You guys rock
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20You%20guys%20rock&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001428.html">
   <LINK REL="Next"  HREF="001432.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] You guys rock</H1>
    <B>Barry A. Warsaw</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20You%20guys%20rock&In-Reply-To="
       TITLE="[Twisted-Python] You guys rock">barry at zope.com
       </A><BR>
    <I>Wed Jul 31 12:56:15 EDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="001428.html">[Twisted-Python] Dynamic web application using twisted.web.resource
</A></li>
        <LI>Next message: <A HREF="001432.html">[Twisted-Python] You guys rock
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1431">[ date ]</a>
              <a href="thread.html#1431">[ thread ]</a>
              <a href="subject.html#1431">[ subject ]</a>
              <a href="author.html#1431">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I wanted to test out some news/mail gatewaying for Mailman 2.1 but I
didn't want to go through the hassle of actually connecting things up
to a real news server, and I /definitely/ didn't want to actually try
to install inn or some nonesense (I'd like to do some other work this
week :).

I wished I had something like Lib/smtpd.py in the Python distro for
the server side of NNTP, then it dawned on me that I remember Moshe
and crew saying that Twisted comes with a news server.  Well, let's
just see how easy it would be to hook up.

You guys have a big problem, because it was /way/ too easy to do!  How
are you going to make the big consulting bucks? :)

Three commands and I had an nntp server with a single newsgroup that
was featured enough to connect Mozilla to, and to point Mailman's
gateway at and actually get messages flowing back and forth.
Congratulations!

I don't know if I'm going to do much else with Twisted, but I /would/
like to try to figure out how to use it in a Mailman functional test
suite.  Right now I have some very ugly kludges to start up smtpd.py,
send a message to it, and then suck the message out and compare the
results with what I expect.  As time permits I think I'll try to see
how easy it would be to use Twisted in the role of smtpd.py, and add
some tests for news as well as mail.

The main issue is that unittest must be able to fire off the server,
and extract information from it once the message has been propagated.
My current test is pretty kludgy, but I'll spare you the asyncgore
(sic).  What would be ideal would be to be able to create a Twisted
service but don't start it, send a message via Mailman machinery, then
start the server and block on reading that message back from Twisted
(with a timeout).  I'd run Twisted with both an SMTP and NNTP server.
Has anybody else thought about using Twisted in a unit or functional
test situation?

I'm not on this list so please CC me.

Anyway, good stuff, thanks.
-Barry

P.S. You guys need a bass player. :)


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001428.html">[Twisted-Python] Dynamic web application using twisted.web.resource
</A></li>
	<LI>Next message: <A HREF="001432.html">[Twisted-Python] You guys rock
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1431">[ date ]</a>
              <a href="thread.html#1431">[ thread ]</a>
              <a href="subject.html#1431">[ subject ]</a>
              <a href="author.html#1431">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
