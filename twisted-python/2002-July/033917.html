<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Newbie: Help with twisted.web, HTTPClient
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Newbie%3A%20Help%20with%20twisted.web%2C%20HTTPClient&In-Reply-To=%3C1027879950.6779.8.camel%40radii%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="033916.html">
   <LINK REL="Next"  HREF="033913.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Newbie: Help with twisted.web, HTTPClient</H1>
    <B>Christopher Armstrong</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Newbie%3A%20Help%20with%20twisted.web%2C%20HTTPClient&In-Reply-To=%3C1027879950.6779.8.camel%40radii%3E"
       TITLE="[Twisted-Python] Newbie: Help with twisted.web, HTTPClient">carmstro at twistedmatrix.com
       </A><BR>
    <I>Sun Jul 28 12:12:29 MDT 2002</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="033916.html">[Twisted-Python] Newbie: Help with twisted.web, HTTPClient
</A></li>
        <LI>Next message (by thread): <A HREF="033913.html">[Twisted-Python] New client APIs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33917">[ date ]</a>
              <a href="thread.html#33917">[ thread ]</a>
              <a href="subject.html#33917">[ subject ]</a>
              <a href="author.html#33917">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, 2002-07-27 at 13:11, Daniel Burr wrote:
&gt;<i> I just started playing with Twisted last week; great stuff!
</I>&gt;<i> 
</I>&gt;<i> My question is this:  I have an .rpy file, which defines a Resource.  As part
</I>&gt;<i> of this Resource's render method, I need to perform an http GET against
</I>&gt;<i> another server, which of course causes the twisted.web server to block.  From
</I>&gt;<i> looking through the source code, it looks like the HTTPClient should be what I
</I>&gt;<i> need to perform a non-blocking http GET from within my resource, but I cannot
</I>&gt;<i> find  any information on how to use it; just creating an instance and doing
</I>&gt;<i> sendCommand fails, stating that there is no transport.
</I>
Check out doc/examples/qtdemo.py; it has a HTTPClient example (class
TwistzillaClient). Basically, you'll want your render method to 

1) instantiate your HTTPClient subclass, making sure to pass your
'request' object to it (and make sure to connect it),
2) return web.server.NOT_DONE_YET,
3) in the 'handleResponse' method of your HTTPClient subclass, write all
the data with 'request.write(data)', then call 'request.finish()' so
twisted.web knows you're done.

HTH.
-- 
                                Chris Armstrong
                         &lt;&lt; <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">radix at twistedmatrix.com</A> &gt;&gt;
                <A HREF="http://twistedmatrix.com/users/carmstro.twistd/">http://twistedmatrix.com/users/carmstro.twistd/</A>



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="033916.html">[Twisted-Python] Newbie: Help with twisted.web, HTTPClient
</A></li>
	<LI>Next message (by thread): <A HREF="033913.html">[Twisted-Python] New client APIs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33917">[ date ]</a>
              <a href="thread.html#33917">[ thread ]</a>
              <a href="subject.html#33917">[ subject ]</a>
              <a href="author.html#33917">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
