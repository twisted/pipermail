<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python]  Running CPU bound function concurrently in twisted
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20%0A%20%3D%3Futf-8%3Fq%3FRunning_CPU_bound_function_concurrent%3F%3D%0A%20%3D%3Futf-8%3Fq%3Fly_in_twisted%3F%3D&In-Reply-To=%3C00cd45d4-4e25-41a2-aa61-e23e29af23e1%40www.fastmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="032377.html">
   <LINK REL="Next"  HREF="032379.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python]  Running CPU bound function concurrently in twisted</H1>
    <B>Moshe Zadka</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20%0A%20%3D%3Futf-8%3Fq%3FRunning_CPU_bound_function_concurrent%3F%3D%0A%20%3D%3Futf-8%3Fq%3Fly_in_twisted%3F%3D&In-Reply-To=%3C00cd45d4-4e25-41a2-aa61-e23e29af23e1%40www.fastmail.com%3E"
       TITLE="[Twisted-Python]  Running CPU bound function concurrently in twisted">moshez at zadka.club
       </A><BR>
    <I>Mon Jun 24 17:37:26 MDT 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="032377.html">[Twisted-Python] Running CPU bound function concurrently in twisted
</A></li>
        <LI>Next message (by thread): <A HREF="032379.html">[Twisted-Python] Running CPU bound function concurrently in twisted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32378">[ date ]</a>
              <a href="thread.html#32378">[ thread ]</a>
              <a href="subject.html#32378">[ subject ]</a>
              <a href="author.html#32378">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Jun 24, 2019, at 16:27, Chengi Liu wrote:
&gt;<i>  cpu_res *= yield *defer.*gatherResults*(cpus)
</I>
Remember: This will not block the reactor (Good!) but will still limit you to one CPU core (in general, some caveats, but true.) If you are CPU bound, this is woefully underutilizing modern CPU resources (again, some caveats here).

&gt;<i> if __name__ == '__main__':
</I>
In general, the best thing to do is to to use twisted.internet.task.react for main. This would also solve the other problem you point out below.

<A HREF="https://twistedmatrix.com/documents/current/api/twisted.internet.task.html#react">https://twistedmatrix.com/documents/current/api/twisted.internet.task.html#react</A> has a good example.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20190624/f6f5b223/attachment.html&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="032377.html">[Twisted-Python] Running CPU bound function concurrently in twisted
</A></li>
	<LI>Next message (by thread): <A HREF="032379.html">[Twisted-Python] Running CPU bound function concurrently in twisted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32378">[ date ]</a>
              <a href="thread.html#32378">[ thread ]</a>
              <a href="subject.html#32378">[ subject ]</a>
              <a href="author.html#32378">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
