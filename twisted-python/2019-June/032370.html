<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Azure Pipelines
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Azure%20Pipelines&In-Reply-To=%3C6de20054ff4ff80b96f395c90d802b7b%40fstab.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="032368.html">
   <LINK REL="Next"  HREF="032371.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Azure Pipelines</H1>
    <B>Kyle Altendorf</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Azure%20Pipelines&In-Reply-To=%3C6de20054ff4ff80b96f395c90d802b7b%40fstab.net%3E"
       TITLE="[Twisted-Python] Azure Pipelines">sda at fstab.net
       </A><BR>
    <I>Sun Jun 23 09:11:09 MDT 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="032368.html">[Twisted-Python] Azure Pipelines
</A></li>
        <LI>Next message (by thread): <A HREF="032371.html">[Twisted-Python] Running CPU bound function concurrently in twisted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32370">[ date ]</a>
              <a href="thread.html#32370">[ thread ]</a>
              <a href="subject.html#32370">[ subject ]</a>
              <a href="author.html#32370">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

On 2019-06-22 14:05, Amber Brown wrote:
&gt;<i> On 22/6/19 9:59 am, Kyle Altendorf wrote:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Hmm...  I'm running Python inside a build to generate the matrix for 
</I>&gt;&gt;<i> that build (with a yaml file for a pipeline).  Now I'm curious what 
</I>&gt;&gt;<i> matrixing is being used that isn't supported yet.  But perhaps it 
</I>&gt;&gt;<i> isn't worth bothering to work through.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Cheers,
</I>&gt;&gt;<i> -kyle
</I>&gt;<i> 
</I>&gt;<i> It now says:
</I>&gt;<i> 
</I>&gt;<i> #Multi-configuration and multi-agent job options are not exported to
</I>&gt;<i> YAML. Configure these options using documentation guidance:
</I>&gt;<i> <A HREF="https://docs.microsoft.com/vsts/pipelines/process/phases">https://docs.microsoft.com/vsts/pipelines/process/phases</A>
</I>&gt;<i> 
</I>&gt;<i> So maybe it'd work? Anyone want to volunteer to see? :)
</I>
I don't know what our setup is now so I can't really compare.  Do we 
have a matrix built from a few axes?  Like Windows/macOS and py2.7/3.7 
generating 4 builds for us?  AFAIK that isn't yet supported.

<A HREF="https://github.com/microsoft/azure-pipelines-yaml/issues/20">https://github.com/microsoft/azure-pipelines-yaml/issues/20</A>

But, you can certainly write a job and list out the four (or whatever) 
parameter sets you want it to be run against.  For romp I went ahead and 
implemented a little Python cross matrixer which runs as the first job 
and outputs JSON.  It's output is used as the matrix def for another job 
which does whatever it's supposed to.  So there are options anywhere 
from hand-coded YAML to build-parameter-dependent on-the-fly-generated 
JSON to configure a 'matrix', and whatever in between.  I'm guessing at 
present we'd be satisfied with just hand-coded YAML parameter sets.  
Maybe if we moved all platforms etc to Azure we'd like a generated 
matrix (either a manual script when the matrix definition is changed or 
in-build generation though that of course adds a bit of build time).  
Honestly, I would expect to usually want exceptions to any basic matrix 
cross-producting system so just defining it with regular Python code 
from the get-go has some upsides.

I need to tweak exttrs a bit and romp has a bit of a specialized purpose 
but they are the two examples I have.

<A HREF="https://github.com/altendky/exttr/blob/60aa5d6e9f04631b8e86552620f2d9cd2a0a3a04/azure_job_template.yml#L15-L43">https://github.com/altendky/exttr/blob/60aa5d6e9f04631b8e86552620f2d9cd2a0a3a04/azure_job_template.yml#L15-L43</A>
<A HREF="https://github.com/altendky/romp/blob/0b05a7830ba1b02e503dd0004ffdce5e0ae3164f/azure-pipelines.yml#L43">https://github.com/altendky/romp/blob/0b05a7830ba1b02e503dd0004ffdce5e0ae3164f/azure-pipelines.yml#L43</A>

After all that...  is this actually what we are talking about when it 
comes to matrixing?

Cheers,
-kyle

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="032368.html">[Twisted-Python] Azure Pipelines
</A></li>
	<LI>Next message (by thread): <A HREF="032371.html">[Twisted-Python] Running CPU bound function concurrently in twisted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32370">[ date ]</a>
              <a href="thread.html#32370">[ thread ]</a>
              <a href="subject.html#32370">[ subject ]</a>
              <a href="author.html#32370">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
