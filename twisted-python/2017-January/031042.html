<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Streaming Requests
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Streaming%20Requests&In-Reply-To=%3C20170109005054.7b76t245rhe67wiy%40hammal%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031041.html">
   <LINK REL="Next"  HREF="031046.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Streaming Requests</H1>
    <B>Mark Williams</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Streaming%20Requests&In-Reply-To=%3C20170109005054.7b76t245rhe67wiy%40hammal%3E"
       TITLE="[Twisted-Python] Streaming Requests">markrwilliams at gmail.com
       </A><BR>
    <I>Sun Jan  8 17:50:55 MST 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="031041.html">[Twisted-Python] Streaming Requests
</A></li>
        <LI>Next message: <A HREF="031046.html">[Twisted-Python] Testing Strategies (was Re:  Streaming Requests)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31042">[ date ]</a>
              <a href="thread.html#31042">[ thread ]</a>
              <a href="subject.html#31042">[ subject ]</a>
              <a href="author.html#31042">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, Jan 08, 2017 at 07:34:53PM -0500, Jean-Paul Calderone wrote:
&gt;<i> Hi Mark,
</I>&gt;<i>
</I>&gt;<i> Thanks for tackling this long-standing issue!
</I>&gt;<i>
</I>
I hope I actually make some progress :)

&gt;<i> &gt;   He also noted that the Request interface with which HTTPChannel
</I>&gt;<i> &gt;   interacts is mostly not described by twisted.iweb.IRequest.  That
</I>&gt;<i> &gt;   means we can augment the ways HTTPChannel talks to Request-like
</I>&gt;<i> &gt;   things without breaking many public APIs.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> How will this affect applications which have implemented Request-alike
</I>&gt;<i> classes (for example, for testing purposes)?  The interface may not be
</I>&gt;<i> explicitly defined as a Zope Interface right now but it is defined by the
</I>&gt;<i> current implementation and it is largely public (ie, non-_-prefixed
</I>&gt;<i> names).  Tests may have hooked in to parts of Request not documented by
</I>&gt;<i> IRequest out of necessity.  It would be a shame to break such carefully
</I>&gt;<i> crafted automated tests.
</I>&gt;<i>
</I>
The new streaming request interface will define how HTTPChannel talks
to a completely separate Request-like implementation.  HTTPChannel can
then inspect what interface is provided by the object returned from
its requestFactory and either use the existing code path or the new
streaming one.  The default requestFactory will remain
twisted.web.http.Request.

These things taken together should mean that existing code doesn't
need to change at all.  I hope to use Twisted's own tests to verify
this, but I might use Flocker's as well.

I'd like to point out that this approach means that defining
_IDeprecatedHTTPChannelToRequestInterface isn't strictly necessary.
I'd like to do so anyway to help me track the existing API so I'm less
likely to break it, and to make the dispatch logic in HTTPChannel more
robust.

</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031041.html">[Twisted-Python] Streaming Requests
</A></li>
	<LI>Next message: <A HREF="031046.html">[Twisted-Python] Testing Strategies (was Re:  Streaming Requests)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31042">[ date ]</a>
              <a href="thread.html#31042">[ thread ]</a>
              <a href="subject.html#31042">[ subject ]</a>
              <a href="author.html#31042">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
