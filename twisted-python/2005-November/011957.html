<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Using pb/jelly for large objects
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Using%20pb/jelly%20for%20large%20objects&In-Reply-To=OF56C049E5.89C53FA4-ON802570B4.0035D8FB-802570B4.003BEB9B%40bnpparibas.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011956.html">
   <LINK REL="Next"  HREF="011958.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Using pb/jelly for large objects</H1>
    <B>Jean-Paul Calderone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Using%20pb/jelly%20for%20large%20objects&In-Reply-To=OF56C049E5.89C53FA4-ON802570B4.0035D8FB-802570B4.003BEB9B%40bnpparibas.com"
       TITLE="[Twisted-Python] Using pb/jelly for large objects">exarkun at divmod.com
       </A><BR>
    <I>Wed Nov  9 08:58:40 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="011956.html">[Twisted-Python] Using pb/jelly for large objects
</A></li>
        <LI>Next message: <A HREF="011958.html">[Twisted-Python] Problems reconstructing object
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11957">[ date ]</a>
              <a href="thread.html#11957">[ thread ]</a>
              <a href="subject.html#11957">[ subject ]</a>
              <a href="author.html#11957">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 9 Nov 2005 10:54:29 +0000, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">william.lewis at uk.bnpparibas.com</A> wrote:
&gt;<i>Hi,
</I>&gt;<i>
</I>&gt;<i>I am looking to build a system that runs multiple processes across a LAN
</I>&gt;<i>of win32 machines. The processes will be initialised with a large amount
</I>&gt;<i>of data at startup, followed by many more smaller chunks of data with the
</I>&gt;<i>results being returned across the network. I would like to
</I>&gt;<i>represent/transfer the data using your pb.Copyable and/or pb.Cacheable
</I>&gt;<i>objects. My main question relates to the fact that pb uses jelly to
</I>&gt;<i>serialise these objects. Particularly the comments at the top of the jelly
</I>&gt;<i>module that emphasise the fact that jelly should have a lot more
</I>&gt;<i>optimization in order to gain acceptable large-scale performance and that,
</I>&gt;<i>compared to pickle, jelly is a more portable, human readable, less
</I>&gt;<i>efficient mechanism.
</I>&gt;<i>
</I>&gt;<i>So, would you use pb/jelly for transferring large chunks of data (e.g.
</I>&gt;<i>~10s MB) to multiple nodes on a LAN?
</I>&gt;<i>If not, could pb be used with, for example, pickle instead of jelly?
</I>
Depends on the form of the data.  If it is represented locally as large strings, or lists of integers or floats, or some other simple structure such as that, I would probably use a PB control channel and a secondary data channel.  The secondary channel could speak a trivial protocol, such as int32strings, which would be much faster than any general object serialization mechanism.

Of course, this is just an optimization.  I'd probably start out passing the data inline, and only worry about this once I saw it was causing problems, though keeping this in mind so the APIs are amenable to the change.

&gt;<i>Also, I notice that the pb, jelly and flavors modules are all classified
</I>&gt;<i>as semi-stable. Could you give an indication of what this means in
</I>&gt;<i>practice?
</I>
PB hasn't changed in a manner that is not backwards compatible in years.  There is, of course, the looming juggernaut of newpb...

&gt;<i>
</I>&gt;<i>Thank you for your time. I think you have built a very useful/powerful
</I>&gt;<i>framework and am looking forward to using it.
</I>
Thanks :)  I hope you have fun building your application.

Jean-Paul


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011956.html">[Twisted-Python] Using pb/jelly for large objects
</A></li>
	<LI>Next message: <A HREF="011958.html">[Twisted-Python] Problems reconstructing object
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11957">[ date ]</a>
              <a href="thread.html#11957">[ thread ]</a>
              <a href="subject.html#11957">[ subject ]</a>
              <a href="author.html#11957">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
