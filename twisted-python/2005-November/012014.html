<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Newbie - how to modify my db-intensive app to	use Twisted
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Newbie%20-%20how%20to%20modify%20my%20db-intensive%20app%20to%0A%09use%20Twisted&In-Reply-To=20051120095402.8522E3F434C%40fcserver.chagford.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012013.html">
   <LINK REL="Next"  HREF="012017.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Newbie - how to modify my db-intensive app to	use Twisted</H1>
    <B>Clark C. Evans</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Newbie%20-%20how%20to%20modify%20my%20db-intensive%20app%20to%0A%09use%20Twisted&In-Reply-To=20051120095402.8522E3F434C%40fcserver.chagford.com"
       TITLE="[Twisted-Python] Newbie - how to modify my db-intensive app to	use Twisted">cce at clarkevans.com
       </A><BR>
    <I>Sun Nov 20 12:04:21 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="012013.html">[Twisted-Python] Newbie - how to modify my db-intensive app to	use Twisted
</A></li>
        <LI>Next message: <A HREF="012017.html">[Twisted-Python] Newbie - how to modify my db-intensive app to	useTwisted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12014">[ date ]</a>
              <a href="thread.html#12014">[ thread ]</a>
              <a href="subject.html#12014">[ subject ]</a>
              <a href="author.html#12014">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Frank,

There are two approaches depending upon your database driver.  If you
have a driver that supports async queries (such as psycopg2) then it
won't block while waiting for the query results.  In this case, your
&quot;execute query&quot; just returns a Deferred; and when the driver is notified
that the results are available, the deferred's callback is executed.

The second approach, usable if you don't have an async driver (like
pyPgSQL) is to use runInteraction.  Basically, in this approach you
don't really get the advantages of Twisted's core event loop; since
you put most of your request handling code in the runInteraction,
which returns a Deferred when it is completed.   This is the approach
my current code uses; but back when I wrote it psycopg2 didn't exist.

The primary advantage in the latter case, over a multi-threaded server,
such as Webware (for example), is that you have access to all of the
wonderful protocol handlers and, IMHO, a stellar development team.
This latter point -- the people -- is the driving reason for me to
continue to use Twisted (as my work is also heavily database intensive).

Cheers,

Clark



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012013.html">[Twisted-Python] Newbie - how to modify my db-intensive app to	use Twisted
</A></li>
	<LI>Next message: <A HREF="012017.html">[Twisted-Python] Newbie - how to modify my db-intensive app to	useTwisted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12014">[ date ]</a>
              <a href="thread.html#12014">[ thread ]</a>
              <a href="subject.html#12014">[ subject ]</a>
              <a href="author.html#12014">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
