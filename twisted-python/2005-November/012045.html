<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] trial setUp/tearDown behavior
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20trial%20setUp/tearDown%20behavior&In-Reply-To=20051115185324.10365.1070518382.divmod.quotient.8139%40ohm">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012005.html">
   <LINK REL="Next"  HREF="011998.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] trial setUp/tearDown behavior</H1>
    <B>Jonathan Lange</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20trial%20setUp/tearDown%20behavior&In-Reply-To=20051115185324.10365.1070518382.divmod.quotient.8139%40ohm"
       TITLE="[Twisted-Python] trial setUp/tearDown behavior">jml at mumak.net
       </A><BR>
    <I>Thu Nov 24 21:47:54 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="012005.html">[Twisted-Python] trial setUp/tearDown behavior
</A></li>
        <LI>Next message: <A HREF="011998.html">[Twisted-Python] Weekly Bug Summary
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12045">[ date ]</a>
              <a href="thread.html#12045">[ thread ]</a>
              <a href="subject.html#12045">[ subject ]</a>
              <a href="author.html#12045">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 16/11/05, Jean-Paul Calderone &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at divmod.com</A>&gt; wrote:
&gt;<i> A main problem to coming to some agreement here seems to be that a lot of people are assuming they know how trial deals with shared state (or how trial should deal with shared state), but I haven't seen anyone explicitly spell this out yet.  Doing this might be a good first step to making further progress.
</I>
I'll give it a burl.

Trial should not share state between tests, unless specifically and
explicitly requested by the application developer.

That is, the only state shared between tests ought to be state
explicitly defined in something like setUpClass, resources or similar.

Tests are particularly useful as debugging aids.  So, as much as
possible, tests should be self-contained and reproducable.  It should
be easy to reproduce a failed test.  The order in which tests are run
should have no bearing on their success of failure.  Sharing state
works against this -- particularly 'flag variables'.


As a side-note: All of the Twisted tests pass when run without shared
state [1].  This is almost certainly a by-product of the buildbot
running the tests in random order.

I hope this helps.
jml

1.  Achieved 'in the lab' by running setUpClass / tearDownClass for
every test.  Obviously, the final implementation would have to be
different.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012005.html">[Twisted-Python] trial setUp/tearDown behavior
</A></li>
	<LI>Next message: <A HREF="011998.html">[Twisted-Python] Weekly Bug Summary
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12045">[ date ]</a>
              <a href="thread.html#12045">[ thread ]</a>
              <a href="subject.html#12045">[ subject ]</a>
              <a href="author.html#12045">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
