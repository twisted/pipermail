<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Refactoring Documentation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Refactoring%20Documentation&In-Reply-To=FC3E7771-71A8-4DEA-817D-47EC8B633BD3%40twistedmatrix.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023362.html">
   <LINK REL="Next"  HREF="023366.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Refactoring Documentation</H1>
    <B>Kevin Horn</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Refactoring%20Documentation&In-Reply-To=FC3E7771-71A8-4DEA-817D-47EC8B633BD3%40twistedmatrix.com"
       TITLE="[Twisted-Python] Refactoring Documentation">kevin.horn at gmail.com
       </A><BR>
    <I>Thu Jan 20 13:54:39 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="023362.html">[Twisted-Python] Refactoring Documentation
</A></li>
        <LI>Next message: <A HREF="023366.html">[Twisted-Python] Refactoring Documentation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23365">[ date ]</a>
              <a href="thread.html#23365">[ thread ]</a>
              <a href="subject.html#23365">[ subject ]</a>
              <a href="author.html#23365">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Jan 20, 2011 at 1:55 AM, Glyph Lefkowitz &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A>&gt;wrote:

&gt;<i> Let me begin by saying that I'm _very_ excited about this prospect and I'm
</I>&gt;<i> looking forward to the output of this project.  So, some of what I'm about
</I>&gt;<i> to say may sound like harsh criticism but *please do not let it discourage
</I>&gt;<i> you*.  I agree with pretty much everything you're saying about problems
</I>&gt;<i> with the current documentation.  They need to be fixed.  I'm offering
</I>&gt;<i> criticism at this early stage in the hopes that it will be useful and feed
</I>&gt;<i> into your project, not in the hopes that it will stop you.
</I>&gt;<i>
</I>&gt;<i> On Jan 20, 2011, at 1:10 AM, Tom Davis wrote:
</I>&gt;<i>
</I>&gt;<i> I've been using (and threatening to work on) Twisted for a few years now.
</I>&gt;<i> It seems like every time I get back into it, I need to dig up old code or
</I>&gt;<i> Google queries just to get started. Yesterday, Jean-Paul introduced me to
</I>&gt;<i> the trial-tutorial branch&lt;<A HREF="http://twistedmatrix.com/trac/browser/branches/trial-tutorial-2443-2">http://twistedmatrix.com/trac/browser/branches/trial-tutorial-2443-2</A>&gt; which
</I>&gt;<i> has shed some light on the basics of using trial and testing Twisted
</I>&gt;<i> client/server applications in general. Until he mentioned it in IRC, I was
</I>&gt;<i> stuck looking at the actual tests for protocols and deciding which parts of
</I>&gt;<i> that were generically useful to me. I agreed to finish up that documentation
</I>&gt;<i> so that it could finally (four years later) be added to trunk (and more
</I>&gt;<i> importantly, twistedmatrix.com). But after thinking about it, I believe
</I>&gt;<i> the problem runs much deeper than just the lack of a branch merge.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Yet, the problem _starts_ with a branch merge.
</I>&gt;<i>
</I>&gt;<i> There are many outstanding documentation branches which are substantial
</I>&gt;<i> improvements, which need to be edited and merged - the trial tutorial among
</I>&gt;<i> them.  It would be great if your efforts could start with getting those
</I>&gt;<i> landed, turning the crank on the process to get our users better
</I>&gt;<i> documentation in the interim, as you survey the existing documentation.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>    1. Factories create protocols somehow
</I>&gt;<i>    2. Protocols have methods like connectionMade, connectionLost, and
</I>&gt;<i>    dataReceived to handle events
</I>&gt;<i>    3. There are other protocols with other methods. One that I know of,
</I>&gt;<i>    anyway.
</I>&gt;<i>    4. I may need to write a state machine (???)
</I>&gt;<i>    5. I should use an Endpoint or maybe a Service or reactor (but probably
</I>&gt;<i>    not!)
</I>&gt;<i>    6. I should also use Application for serious business
</I>&gt;<i>
</I>&gt;<i> Moving forward, howto/clients.html duplicates a lot of these things and
</I>&gt;<i> fills in some gaps in knowledge while creating more holes. Meanwhile, I
</I>&gt;<i> still never wanted to create a QOTD or Echo server.
</I>&gt;<i>
</I>&gt;<i> I think the point has been made.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> This kind of tear-down is pretty easy: I'd really like to hear your idea of
</I>&gt;<i> its inverse, though.  What *should* a newcomer who reads this document
</I>&gt;<i> know by the end of it?  A massive pile of improved documentation would of
</I>&gt;<i> course be useful, but a good start would be a clear statement of
</I>&gt;<i> requirements and audience.  (As well as an enumeration of *different* audiences
</I>&gt;<i> that different documents might serve.)
</I>&gt;<i>
</I>&gt;<i> My *real* point, though, is that I love Twisted. And I'm constantly
</I>&gt;<i> wishing it was more accessible to newcomers. Twisted is Python's oldest and
</I>&gt;<i> most mature event-based networking engine
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> (minor nitpick: I really like &quot;event-based&quot; or &quot;event-driven&quot;, as you've
</I>&gt;<i> said here: why does &lt;<A HREF="http://docs.recursivedream.com/twisted/">http://docs.recursivedream.com/twisted/</A>&gt; say
</I>&gt;<i> &quot;asynchronous&quot;? I find that especially in documentation it's a lot easier to
</I>&gt;<i> explain &quot;event-driven&quot;, because you can enumerate what the events are,
</I>&gt;<i> instead of explaining the etymology of &quot;synchronicity&quot;...)
</I>&gt;<i>
</I>
I also find that if you use &quot;event-driven&quot; you can compare to event-driven
GUI apps, when giving an explanation.  Many, many people who have no idea
about what &quot;asynchronous networking&quot; is will get the idea pretty easily when
you make this comparison.  Not everybody, certainly, but a lot.


&gt;<i> I want to fix that, among other things. And as luck may have it, I like
</I>&gt;<i> writing documentation. And I know at least enough Twisted to get the
</I>&gt;<i> high-level stuff in order and improve the documentation to the point that
</I>&gt;<i> people will keep reading long enough to make sense of the &quot;idea of Twisted&quot;
</I>&gt;<i> and be able to implement some basic things and expand upon them later.
</I>&gt;<i>
</I>&gt;<i> There are some things I *do* want to accomplish early on:
</I>&gt;<i>
</I>&gt;<i>    - Make the docs accessible (a lot is hidden and hard to find)
</I>&gt;<i>    - Make them more concise and useful to somebody who doesn't want to
</I>&gt;<i>    know the 50 different ways to skin every cat (including the ones you should
</I>&gt;<i>    never use)
</I>&gt;<i>    - Make them introduce and explain Twisted in a way that somebody as
</I>&gt;<i>    dumb as me can understand it. This means talking about protocols, factories,
</I>&gt;<i>    deferreds, etc. in a way that doesn't require thousands of words of circular
</I>&gt;<i>    explanations, digressions, and duplications.
</I>&gt;<i>    - Document the different Twisted projects as what they are: really
</I>&gt;<i>    useful libraries and/or clients/servers built on top of Twisted that just so
</I>&gt;<i>    happens to also ship with the core. One of them is likely to do what the
</I>&gt;<i>    prospective user wants, too.
</I>&gt;<i>
</I>&gt;<i> These all sound like excellent goals.
</I>&gt;<i>
</I>&gt;<i> There are also some things I *don't* want to accomplish, at least
</I>&gt;<i> initially:
</I>&gt;<i>
</I>&gt;<i>    - Explain asynchronous programming in depth
</I>&gt;<i>    - Get into the level of detail that the Krondo series does (but I plan
</I>&gt;<i>    to borrow from it!)
</I>&gt;<i>
</I>&gt;<i> There are things I'll *need help with*:
</I>&gt;<i>
</I>&gt;<i>    - The final word on what is/isn't to be used in what context;
</I>&gt;<i>    practical, real-world explanations of why I would use A instead of B (not
</I>&gt;<i>    just &quot;it's more flexible&quot;).
</I>&gt;<i>
</I>&gt;<i> You will probably have to press us core developers on this one, and you may
</I>&gt;<i> spark some debates.  These tend to sputter out with no clear resolution as
</I>&gt;<i> everyone is frustrated that nobody's solution (not even their own) is ideal,
</I>&gt;<i> but you would be doing us all a great service if you really forced us to
</I>&gt;<i> develop a consensus about certain things (like &quot;what's the best way to build
</I>&gt;<i> a twisted command-line program&quot;, for example) and agree to agree on the
</I>&gt;<i> current documented &quot;best practice&quot; for those things.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>    - Better documentation from project creators/maintainers/lovers on
</I>&gt;<i>    their project. These projects make a lot of hard stuff trivial and many do
</I>&gt;<i>    not convey that very well. I'll do my best to reorganize and improve the
</I>&gt;<i>    existing documentation, but most of the projects cater to a specific niche
</I>&gt;<i>    that requires its own core knowledge.
</I>&gt;<i>
</I>&gt;<i> The biggest problem with this is that you will find that a very small group
</I>&gt;<i> of people have created the vast majority of this stuff and don't have time
</I>&gt;<i> to maintain it all any more :).  We certainly don't have a separate
</I>&gt;<i> dedicated maintainer for each project (although I really wish we could get
</I>&gt;<i> to that point).
</I>&gt;<i>
</I>
I think this right here is the main reason that the docs need to be
improved.  Easier newbie experience translates to more users translates to
more developers translates to more maintainers.  Especially if the
perception of Twisted as a &quot;languishing&quot; or even &quot;mostly dead&quot; project can
be undone. (Yes, I've heard this a number of times.  No, I don't know where
they get it.  I correct it whenever I can. It's something that needs to be
addressed, but that's a different conversation.).  Fixing up the docs will
at least help with this.


&gt;<i> Most of this was discussed with Jean-Paul and Glyph at tonight's Python
</I>&gt;<i> meet-up in Cambridge. Some work has already begun on the new docs here:
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://github.com/tdavis/twisted-docs">https://github.com/tdavis/twisted-docs</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> There have been several abortive efforts to do something grand to re-invent
</I>&gt;<i> all of the Twisted documentation in the universe, or a complete overhaul of
</I>&gt;<i> the website, including several false starts that I've made, and most
</I>&gt;<i> recently the (somewhat arduous, arguably &quot;mostly complete&quot; (fingers crossed
</I>&gt;<i> on that one)) attempt to do a sphinx migration.
</I>&gt;<i>
</I>
Seriously man, we're close.  3 more &quot;chunk tickets&quot; in the &quot;edit the lore
source&quot; phase (and one of those is finished I think and just needs to be
merged).  Then another round of &quot;chunk tickets&quot; to manually fix any other
little typographical issues in the Sphinx source, and done.  I suppose there
will also need to be a website deployment process.  And probably lots of
other minor things that we'll discover as we go.

I've had some major speedbumps, had to find a new job, kids were sick
several times, etc.  You know...life.  I'm getting fired up again though,
and thijs seems to be as well, and this coming up now just pumps the
bellows.

By the way, it seemed tonight that you weren't that familiar with the
&gt;<i> existing Sphinx efforts, so you may want to have a look at this and see if
</I>&gt;<i> it is an improvement on our existing documentation index:
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://twistedsphinx.funsize.net/contents.html">http://twistedsphinx.funsize.net/contents.html</A>
</I>&gt;<i>
</I>&gt;<i> (I was going to point you at the output of the buildbot, but it looks like
</I>&gt;<i> something in trunk has broken the conversion process.  Anyone know what this
</I>&gt;<i> is about? &lt;
</I>&gt;<i> <A HREF="http://buildbot.twistedmatrix.com/builds/sphinx-html-15724/contents.html">http://buildbot.twistedmatrix.com/builds/sphinx-html-15724/contents.html</A>&gt;)
</I>&gt;<i>
</I>&gt;<i> I'm really glad to see that Kevin beat me to the punch on posting his reply
</I>&gt;<i> though, hopefully we'll see this moving along soon :).
</I>&gt;<i>
</I>
I was glad to see just about anyone else interested! :)

It looks like Tom and I have some similar ideas on where we should be going,
and I think his Sphinx skeleton is a great example of what things should
eventually look like.  As I said earlier, I've had a number of similar
ideas, though it looks like maybe Tom's are a little more concrete and/or
fleshed-out.  I just really wanted to get the Sphinx convo &quot;out the door&quot;,
before I took on another huge project.  I'll elaborate in a separate email.


&gt;<i> Before you continue too much further in that github repository though,
</I>&gt;<i> please, consider this:
</I>&gt;<i>
</I>&gt;<i> ~/Projects/Twisted/trunk/doc$ find conch core mail names pair web words
</I>&gt;<i> -name '*.xhtml' -or -name '*.py' | xargs wc -l
</I>&gt;<i>     .
</I>&gt;<i>     .
</I>&gt;<i>     .
</I>&gt;<i>    28836 total
</I>&gt;<i>
</I>&gt;<i> That's 28 thousand lines of documentation and sample code.  It might not
</I>&gt;<i> all be the best documentation, but some of it is quite good.  Jean-Paul's
</I>&gt;<i> &quot;twisted web in 60 seconds&quot; tutorial is in there, and that's definitely
</I>&gt;<i> worth reading.  Would you volunteer to rewrite 28 thousand lines of code all
</I>&gt;<i> at once?  Or submit a 28 thousand line patch for review?  As problematic as
</I>&gt;<i> the current situation is, there is a definite potential for some baby vs.
</I>&gt;<i> bathwater confusion in improving it.
</I>&gt;<i>
</I>&gt;<i> I am open to the idea that documentation needs different review practices
</I>&gt;<i> from code, and there are things about documentation (like narrative flow)
</I>&gt;<i> which are impossible to automatically verify and may require significant
</I>&gt;<i> changes at multiple layers simultaneously.  These features may not have an
</I>&gt;<i> obvious parallel in code - which can typically be evolved incrementally,
</I>&gt;<i> despite the occasional frustrated lament that everything needs to be
</I>&gt;<i> rewritten.
</I>&gt;<i>
</I>&gt;<i> But, parts of the documentation are code.  Another major problem with the
</I>&gt;<i> current documentation is that it is out of date.  We know when code goes out
</I>&gt;<i> of date because it starts raising exceptions and emitting warnings from our
</I>&gt;<i> test suite, but we only find out about documentation examples are going out
</I>&gt;<i> of date when we do a release and some poor soul encounters an error when
</I>&gt;<i> trying to follow along.  I'd really like any effort that undertakes to
</I>&gt;<i> substantially change the structure of the documentation to make a concerted
</I>&gt;<i> effort to hit the ground running with test-driven examples which can be
</I>&gt;<i> automatically verified, so that we have some idea of the impact of code
</I>&gt;<i> changes on the docs.
</I>&gt;<i>
</I>
There's a ticket for writing tests for the code samples in Trac.


&gt;<i> Also, while you're energized now, please consider what happens to our
</I>&gt;<i> documentation efforts if you run out of time or out of motivation halfway
</I>&gt;<i> through this process.  Incremental improvements may not necessarily provide
</I>&gt;<i> the best outcome, but they _do_ mean that users get to see some results from
</I>&gt;<i> these volunteer efforts even if the original volunteer gets busy with other
</I>&gt;<i> aspects of life and can't complete their project.  Many of your
</I>&gt;<i> bullet-points above are well suited to individual efforts (some of which are
</I>&gt;<i> actually issues with the web site, rather than the documentation per se).
</I>&gt;<i>
</I>
@Tom: agree here.  Let's get _some_ benefit out of your energy, rather than
you getting discouraged and having half a great set of docs floating out
there someplace confusing users.  I've been through this myself a couple of
times (I've been pretty much ready to &quot;pull the trigger&quot; at least three
times!) and have gotten discouraged and/or off track.  After a while, my
&quot;voom&quot; comes back, but in the meantime, the trunk has progressed, and
there's that much more work to do.  My advice is to try and get many small
changes made, and get them _done_ rather than a few huge changes.


&gt;<i> I'd like to suggest that, at the very least, you create a branch of Twisted
</I>&gt;<i> (perhaps on Launchpad?) and integrate your work into the doc/ hierarchy of
</I>&gt;<i> the current tree.  That way, at least, it would be easier for someone else
</I>&gt;<i> to pick up where you've left off and fold things into the right place.  This
</I>&gt;<i> would also provide a way to more easily integrate the doc test suite into
</I>&gt;<i> the main test suite on our existing build and release infrastructure.
</I>&gt;<i>
</I>&gt;<i> I hope the above came off as optimistic and constructive as I meant it:
</I>&gt;<i> it's not my intention to insult the documentation or those who wrote it. I
</I>&gt;<i> just think with a dose of hindsight and a lot of effort, the docs can be
</I>&gt;<i> awesome. And they would improve the entire Twisted ecosystem along with
</I>&gt;<i> them.
</I>&gt;<i>
</I>&gt;<i>  Indeed, as the author of many of these original documents, I did not feel
</I>insulted in either my person or my work :).  Hopefully you didn't feel that
way either after reading this reply!

&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>I think this has been pretty constructive on both sides.  I look forward to
more.

Kevin Horn
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20110120/6375f545/attachment-0001.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20110120/6375f545/attachment-0001.htm</A> 
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023362.html">[Twisted-Python] Refactoring Documentation
</A></li>
	<LI>Next message: <A HREF="023366.html">[Twisted-Python] Refactoring Documentation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23365">[ date ]</a>
              <a href="thread.html#23365">[ thread ]</a>
              <a href="subject.html#23365">[ subject ]</a>
              <a href="author.html#23365">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
