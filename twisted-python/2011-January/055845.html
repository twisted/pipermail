<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Refactoring Documentation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Refactoring%20Documentation&In-Reply-To=%3CAANLkTim%3DVnLWbpkZTJ%2B3pU7vG98xFr1YiYtorJLz5cvt%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="055842.html">
   <LINK REL="Next"  HREF="055846.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Refactoring Documentation</H1>
    <B>Kevin Horn</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Refactoring%20Documentation&In-Reply-To=%3CAANLkTim%3DVnLWbpkZTJ%2B3pU7vG98xFr1YiYtorJLz5cvt%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Refactoring Documentation">kevin.horn at gmail.com
       </A><BR>
    <I>Thu Jan 20 00:36:30 MST 2011</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="055842.html">[Twisted-Python] Refactoring Documentation
</A></li>
        <LI>Next message (by thread): <A HREF="055846.html">[Twisted-Python] Refactoring Documentation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55845">[ date ]</a>
              <a href="thread.html#55845">[ thread ]</a>
              <a href="subject.html#55845">[ subject ]</a>
              <a href="author.html#55845">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Jan 20, 2011 at 12:10 AM, Tom Davis &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">tom at recursivedream.com</A>&gt; wrote:

&gt;<i> I've been using (and threatening to work on) Twisted for a few years now.
</I>&gt;<i> It seems like every time I get back into it, I need to dig up old code or
</I>&gt;<i> Google queries just to get started. Yesterday, Jean-Paul introduced me to
</I>&gt;<i> the trial-tutorial branch&lt;<A HREF="http://twistedmatrix.com/trac/browser/branches/trial-tutorial-2443-2">http://twistedmatrix.com/trac/browser/branches/trial-tutorial-2443-2</A>&gt; which
</I>&gt;<i> has shed some light on the basics of using trial and testing Twisted
</I>&gt;<i> client/server applications in general. Until he mentioned it in IRC, I was
</I>&gt;<i> stuck looking at the actual tests for protocols and deciding which parts of
</I>&gt;<i> that were generically useful to me. I agreed to finish up that documentation
</I>&gt;<i> so that it could finally (four years later) be added to trunk (and more
</I>&gt;<i> importantly, twistedmatrix.com). But after thinking about it, I believe
</I>&gt;<i> the problem runs much deeper than just the lack of a branch merge.
</I>&gt;<i>
</I>&gt;<i> Reading code to find answers isn't rocket science; I've been programming
</I>&gt;<i> long enough to be comfortable doing it. But I probably have to resort to
</I>&gt;<i> reading Twisted's code about 8 billion percent more often than any other
</I>&gt;<i> codebase. And reading code is a hurdle. Reading through Twisted's
</I>&gt;<i> semi-random, 45-point FAQ is a hurdle—and recommending it as a starting
</I>&gt;<i> point is unhelpful at best. The core documentation isn't awesome either,
</I>&gt;<i> given that it has a tendency to be overly cryptic and link to API
</I>&gt;<i> documentation that is often incomplete or generally unhelpful.
</I>&gt;<i>
</I>&gt;<i> As one very basic example, see:
</I>&gt;<i> <A HREF="http://twistedmatrix.com/documents/current/core/howto/servers.html.">http://twistedmatrix.com/documents/current/core/howto/servers.html.</A> Let's
</I>&gt;<i> just review a few things wrong with this page:
</I>&gt;<i>
</I>&gt;<i>    - It's tutorial page #1, but basically tells me I need to read
</I>&gt;<i>    howto/plugins.html first if I am writing an &quot;application&quot; (whatever that
</I>&gt;<i>    is), as opposed to a &quot;TCP, SSL, and Unix socket server&quot;. And it's the wrong
</I>&gt;<i>    place for UDP.
</I>&gt;<i>    - It attempts to introduce Protocols and Factories—two of Twisted's
</I>&gt;<i>    most important concepts—and does neither particularly well. I know that
</I>&gt;<i>    Protocols (usually) inherit from t.i.p.Protocol and may be instantiated for
</I>&gt;<i>    a variety of reasons and aren't (usually) persistent. I also know that
</I>&gt;<i>    Factories instantiate Protocols and give a reference to themselves so
</I>&gt;<i>    protocols can &quot;access and modify the persistent configuration&quot;. I am told I
</I>&gt;<i>    need to implement some interface (or something) to actually listen on a
</I>&gt;<i>    host/port. I think.
</I>&gt;<i>    - At one point &quot;TCP4ServerEndpoint&quot; is instantiated (but never
</I>&gt;<i>    imported); its explanation is left to a digression into the endpoints API,
</I>&gt;<i>    which has its own issues. Suffice it to say the document doesn't give me
</I>&gt;<i>    sufficient reason to actually use the endpoints API.
</I>&gt;<i>    - Later on, we just use reactor.listenTCP()—which our previous
</I>&gt;<i>    digression (if bothered to click through and read) claims is not preferable.
</I>&gt;<i>
</I>&gt;<i> By the end of the *servers* tutorial (and after reading some linked
</I>&gt;<i> documentation), here's all I *really* know:
</I>&gt;<i>
</I>&gt;<i>    1. Factories create protocols somehow
</I>&gt;<i>    2. Protocols have methods like connectionMade, connectionLost, and
</I>&gt;<i>    dataReceived to handle events
</I>&gt;<i>    3. There are other protocols with other methods. One that I know of,
</I>&gt;<i>    anyway.
</I>&gt;<i>    4. I may need to write a state machine (???)
</I>&gt;<i>    5. I should use an Endpoint or maybe a Service or reactor (but probably
</I>&gt;<i>    not!)
</I>&gt;<i>    6. I should also use Application for serious business
</I>&gt;<i>
</I>&gt;<i> Moving forward, howto/clients.html duplicates a lot of these things and
</I>&gt;<i> fills in some gaps in knowledge while creating more holes. Meanwhile, I
</I>&gt;<i> still never wanted to create a QOTD or Echo server.
</I>&gt;<i>
</I>&gt;<i> I think the point has been made. My *real* point, though, is that I love
</I>&gt;<i> Twisted. And I'm constantly wishing it was more accessible to newcomers.
</I>&gt;<i> Twisted is Python's oldest and most mature event-based networking engine and
</I>&gt;<i> despite its decade of existence it remains largely confusing and obscure to
</I>&gt;<i> the majority of Python programmers who come upon it. It contains concepts
</I>&gt;<i> and standards that are alien to the average Python programmer, but they make
</I>&gt;<i> a lot of sense and have a lot more consistency and predictability than the
</I>&gt;<i> documentation conveys.
</I>&gt;<i>
</I>&gt;<i> I want to fix that, among other things. And as luck may have it, I like
</I>&gt;<i> writing documentation. And I know at least enough Twisted to get the
</I>&gt;<i> high-level stuff in order and improve the documentation to the point that
</I>&gt;<i> people will keep reading long enough to make sense of the &quot;idea of Twisted&quot;
</I>&gt;<i> and be able to implement some basic things and expand upon them later.
</I>&gt;<i>
</I>&gt;<i> There are some things I *do* want to accomplish early on:
</I>&gt;<i>
</I>&gt;<i>    - Make the docs accessible (a lot is hidden and hard to find)
</I>&gt;<i>    - Make them more concise and useful to somebody who doesn't want to
</I>&gt;<i>    know the 50 different ways to skin every cat (including the ones you should
</I>&gt;<i>    never use)
</I>&gt;<i>    - Make them introduce and explain Twisted in a way that somebody as
</I>&gt;<i>    dumb as me can understand it. This means talking about protocols, factories,
</I>&gt;<i>    deferreds, etc. in a way that doesn't require thousands of words of circular
</I>&gt;<i>    explanations, digressions, and duplications.
</I>&gt;<i>    - Document the different Twisted projects as what they are: really
</I>&gt;<i>    useful libraries and/or clients/servers built on top of Twisted that just so
</I>&gt;<i>    happens to also ship with the core. One of them is likely to do what the
</I>&gt;<i>    prospective user wants, too.
</I>&gt;<i>
</I>&gt;<i> There are also some things I *don't* want to accomplish, at least
</I>&gt;<i> initially:
</I>&gt;<i>
</I>&gt;<i>    - Explain asynchronous programming in depth
</I>&gt;<i>    - Get into the level of detail that the Krondo series does (but I plan
</I>&gt;<i>    to borrow from it!)
</I>&gt;<i>
</I>&gt;<i> There are things I'll *need help with*:
</I>&gt;<i>
</I>&gt;<i>    - The final word on what is/isn't to be used in what context;
</I>&gt;<i>    practical, real-world explanations of why I would use A instead of B (not
</I>&gt;<i>    just &quot;it's more flexible&quot;).
</I>&gt;<i>    - Better documentation from project creators/maintainers/lovers on
</I>&gt;<i>    their project. These projects make a lot of hard stuff trivial and many do
</I>&gt;<i>    not convey that very well. I'll do my best to reorganize and improve the
</I>&gt;<i>    existing documentation, but most of the projects cater to a specific niche
</I>&gt;<i>    that requires its own core knowledge.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Most of this was discussed with Jean-Paul and Glyph at tonight's Python
</I>&gt;<i> meet-up in Cambridge. Some work has already begun on the new docs here:
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://github.com/tdavis/twisted-docs">https://github.com/tdavis/twisted-docs</A>
</I>&gt;<i>
</I>&gt;<i> I hope the above came off as optimistic and constructive as I meant it:
</I>&gt;<i> it's not my intention to insult the documentation or those who wrote it. I
</I>&gt;<i> just think with a dose of hindsight and a lot of effort, the docs can be
</I>&gt;<i> awesome. And they would improve the entire Twisted ecosystem along with
</I>&gt;<i> them.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i>
</I>&gt;<i> Tom
</I>&gt;<i>
</I>&gt;<i>
</I>Tom,

I very much like this idea, and in fact I have some ideas for this, but I've
been putting off doing anything about it until the (neraly done! really!)
conversion of the current documentation to Sphinx is complete (see ticket
#4500).  I got off track with that the last part of last year, but one of my
New Year's Resolutions is to complete that project.

How can we combine these efforts, or at least keep from working at cross
purposes?

I see from your link above that you are building your own Sphinx project.
Perhaps you would be better off working from the results of the Lore2sphinx
conversion?  Are you modifying existing docs or working from scratch?

Let's get together on this!

Kevin Horn
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20110120/7f65e0d4/attachment.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="055842.html">[Twisted-Python] Refactoring Documentation
</A></li>
	<LI>Next message (by thread): <A HREF="055846.html">[Twisted-Python] Refactoring Documentation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55845">[ date ]</a>
              <a href="thread.html#55845">[ thread ]</a>
              <a href="subject.html#55845">[ subject ]</a>
              <a href="author.html#55845">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
