<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Names DNS Client too chatty
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Names%20DNS%20Client%20too%20chatty&In-Reply-To=06F2DF10-BDAE-4CC8-9AB0-C17973A92B2D%40twistedmatrix.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023416.html">
   <LINK REL="Next"  HREF="023410.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Names DNS Client too chatty</H1>
    <B>Jason J. W. Williams</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Names%20DNS%20Client%20too%20chatty&In-Reply-To=06F2DF10-BDAE-4CC8-9AB0-C17973A92B2D%40twistedmatrix.com"
       TITLE="[Twisted-Python] Names DNS Client too chatty">jasonjwwilliams at gmail.com
       </A><BR>
    <I>Tue Jan 25 16:52:00 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="023416.html">[Twisted-Python] Names DNS Client too chatty
</A></li>
        <LI>Next message: <A HREF="023410.html">[Twisted-Python] Names DNS Client too chatty
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23423">[ date ]</a>
              <a href="thread.html#23423">[ thread ]</a>
              <a href="subject.html#23423">[ subject ]</a>
              <a href="author.html#23423">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Jan 24, 2011 at 10:01 PM, Glyph Lefkowitz
&lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A>&gt; wrote:

&gt;<i> While I agree with the general sentiment (incremental improvements that can
</I>&gt;<i> be done now are pretty much always better than gigantic overhauls that have
</I>&gt;<i> to be put off until later) the current&#160;logging system is already pretty much
</I>&gt;<i> designed for this, we're just not using&#160;it right. &#160;Trimming JP's message a
</I>&gt;<i> bit to just the key part:
</I>&gt;<i>
</I>&gt;<i> This doesn't even have to mean&#160;changes to LogPublisher. &#160;It could mean
</I>&gt;<i> replacing:
</I>&gt;<i>
</I>&gt;<i> &#160;log.msg(&quot;%s starting on %s&quot;%(self.protocol.__class__,
</I>&gt;<i>
</I>&gt;<i> self._realPortNumber))
</I>&gt;<i>
</I>&gt;<i> with:
</I>&gt;<i>
</I>&gt;<i> &#160;log.msg(
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; event_source=self,
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; event_type=&quot;start&quot;,
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; protocol=self.protocol,
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; port_number=self._realPortNumber)
</I>&gt;<i>
</I>
Playing with this a bit, the above change does indeed blackhole the
log message. The question then is how someone can get these actually
outputted the log when they want to. Right now the TCP unit test for
test_connectionLostLogMsg expects textual output to the log. I'm
re-working the test to instead expect the dict with the same values
passed in, but that just ensures the data is properly passed to
log.msg() not that it's going to show up if you want it to.

-J

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023416.html">[Twisted-Python] Names DNS Client too chatty
</A></li>
	<LI>Next message: <A HREF="023410.html">[Twisted-Python] Names DNS Client too chatty
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23423">[ date ]</a>
              <a href="thread.html#23423">[ thread ]</a>
              <a href="subject.html#23423">[ subject ]</a>
              <a href="author.html#23423">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
