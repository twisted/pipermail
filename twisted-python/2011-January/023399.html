<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Names DNS Client too chatty
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Names%20DNS%20Client%20too%20chatty&In-Reply-To=A80AC1DB-79F0-4E93-99FB-15881549A0DF%40gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023398.html">
   <LINK REL="Next"  HREF="023400.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Names DNS Client too chatty</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Names%20DNS%20Client%20too%20chatty&In-Reply-To=A80AC1DB-79F0-4E93-99FB-15881549A0DF%40gmail.com"
       TITLE="[Twisted-Python] Names DNS Client too chatty">glyph at twistedmatrix.com
       </A><BR>
    <I>Sun Jan 23 20:39:18 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="023398.html">[Twisted-Python] Names DNS Client too chatty
</A></li>
        <LI>Next message: <A HREF="023400.html">[Twisted-Python] Names DNS Client too chatty
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23399">[ date ]</a>
              <a href="thread.html#23399">[ thread ]</a>
              <a href="subject.html#23399">[ subject ]</a>
              <a href="author.html#23399">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Jan 23, 2011, at 7:11 PM, Jaros&#322;aw Fedewicz wrote:

&gt;<i> My 2 cents to this is that responsiveness and performance of an application has turned out to be severely impacted even by console output, disk output of the same data being actually faster. Various tests have consistently shown that being 'distracted' for synchronous write() actually costs noticeable amounts of time.
</I>
Yes, logging in Twisted is a bit of a mess.

Almost all of these chatty little messages should not be logged to disk.  If they're logged at all, they should be logged as purely structured data for observers to analyze later, not as text messages to go on a log file.

Something like this, maybe:

    log.msg(interface=INameResolutionLogEvent, name=domain, recordType=type)

This will allow log observers to listen for events with event['interface'] == INameResolutionLogEvent, but won't trigger a synchronous write().

One of my dream features for Twisted's logging system is to get ring-buffer logging, like Foolscap has - &lt;<A HREF="http://foolscap.lothar.com/docs/logging.html">http://foolscap.lothar.com/docs/logging.html</A>&gt;.  Also, to log a lot less text and a lot more structured stuff that can be examined later without big piles of regular expressions.  I'd be happy to describe this in more detail if anyone would like to try to make systematic improvements to our logging subsystem or Twisted's internal use of it :).

In the meanwhile, I think it would be OK to just remove these messages entirely.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20110123/9091ae6d/attachment.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20110123/9091ae6d/attachment.htm</A> 
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023398.html">[Twisted-Python] Names DNS Client too chatty
</A></li>
	<LI>Next message: <A HREF="023400.html">[Twisted-Python] Names DNS Client too chatty
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23399">[ date ]</a>
              <a href="thread.html#23399">[ thread ]</a>
              <a href="subject.html#23399">[ subject ]</a>
              <a href="author.html#23399">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
