<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Refactoring Documentation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Refactoring%20Documentation&In-Reply-To=20110120235716.GS21847%40boombah.thristian.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023383.html">
   <LINK REL="Next"  HREF="023375.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Refactoring Documentation</H1>
    <B>Kevin Horn</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Refactoring%20Documentation&In-Reply-To=20110120235716.GS21847%40boombah.thristian.org"
       TITLE="[Twisted-Python] Refactoring Documentation">kevin.horn at gmail.com
       </A><BR>
    <I>Thu Jan 20 19:34:17 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="023383.html">[Twisted-Python] Refactoring Documentation
</A></li>
        <LI>Next message: <A HREF="023375.html">[Twisted-Python] Refactoring Documentation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23373">[ date ]</a>
              <a href="thread.html#23373">[ thread ]</a>
              <a href="subject.html#23373">[ subject ]</a>
              <a href="author.html#23373">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Jan 20, 2011 at 5:57 PM, Tim Allen &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">screwtape at froup.com</A>&gt; wrote:

&gt;<i> On Thu, Jan 20, 2011 at 05:22:55PM -0600, Kevin Horn wrote:
</I>&gt;<i> &gt; Hmmm...yes, I think it does.  It looks like the l2s_builder script is
</I>&gt;<i> &gt; choking on fetching the DTD for some reason.  lore2sphinx itself is
</I>&gt;<i> supposed
</I>&gt;<i> &gt; to cache the DTD between runs, but I'm betting it doesn't work in the
</I>&gt;<i> &gt; buildbot due to the (hopefully) clean environment it has every time it
</I>&gt;<i> runs.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I can change it to not care about that, but if I do, then it won't be
</I>&gt;<i> able
</I>&gt;<i> &gt; to resolve HTML entities (of which there are a few in the Lore sources,
</I>&gt;<i> &gt; mostly em-dashes IIRC).
</I>&gt;<i>
</I>&gt;<i> You mean these DTDs?
</I>&gt;<i>
</I>&gt;<i>    twisted/lore/xhtml1-strict.dtd
</I>&gt;<i>    twisted/lore/xhtml1-transitional.dtd
</I>&gt;<i>
</I>&gt;<i> They reference the xhtml-*.ent entity definitions which are also in the
</I>&gt;<i> same directory. It would be neat if lore2sphinx could be taught to use
</I>&gt;<i> the DTDs packaged with lore instead of having to download them from the
</I>&gt;<i> Internet every time.
</I>&gt;<i>
</I>&gt;<i>
</I>Huh. Never even knew that was there.  It probably could, and the reason it
downloads from the internet was because that's the default way of doing it
in lxml.  I've since figured out how to override that behavior (which is how
the caching works) so maybe that wouldn't even be hard.  The easiest/fastest
fix for the moment though would probably be to pre-populate the cache as I
mentioned before, since IIRC, this would just involve adding the file to my
hg repo.  I'll have to look into it though, it may be just as easy to do it
the other way, though I don't want to depend necessarily on having Twisted's
code available (remember, this is supposed to work on the various divmod
projects, and anything else that uses Lore, too).

Kevin Horn
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20110120/e258dacd/attachment.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20110120/e258dacd/attachment.htm</A> 
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023383.html">[Twisted-Python] Refactoring Documentation
</A></li>
	<LI>Next message: <A HREF="023375.html">[Twisted-Python] Refactoring Documentation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23373">[ date ]</a>
              <a href="thread.html#23373">[ thread ]</a>
              <a href="subject.html#23373">[ subject ]</a>
              <a href="author.html#23373">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
