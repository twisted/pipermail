<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Twisted and ipython
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Twisted%20and%20ipython&In-Reply-To=AANLkTikGkR0pv0VkOUp3-uHpWQ1B%2BzCZuX3kR0K%2BZH%3D6%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023317.html">
   <LINK REL="Next"  HREF="023338.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Twisted and ipython</H1>
    <B>Alessandro Dentella</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Twisted%20and%20ipython&In-Reply-To=AANLkTikGkR0pv0VkOUp3-uHpWQ1B%2BzCZuX3kR0K%2BZH%3D6%40mail.gmail.com"
       TITLE="[Twisted-Python] Twisted and ipython">sandro at e-den.it
       </A><BR>
    <I>Thu Jan 13 18:43:09 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="023317.html">[Twisted-Python] Twisted and ipython
</A></li>
        <LI>Next message: <A HREF="023338.html">[Twisted-Python] Twisted and ipython
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23325">[ date ]</a>
              <a href="thread.html#23325">[ thread ]</a>
              <a href="subject.html#23325">[ subject ]</a>
              <a href="author.html#23325">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>thanks,

short abstact: manhole is very good, thanks. But I'd need to add readline to
make it usable and I'd need tab-completion too. 


On Thu, Jan 13, 2011 at 12:06:10PM +0000, Michael Thompson wrote:
&gt;<i> On 11 January 2011 07:48, Alessandro Dentella &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">sandro at e-den.it</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; So what's the suggested way to play with twisted?
</I>&gt;<i> 
</I>&gt;<i> It depends what you're trying to do. I'd suggest you get some form of
</I>&gt;<i> skeleton program running first. 
</I>
I do have already: it uses SerialPort, queries a serial bus and returns info
on a domotic system (switches &amp; co). Apart from my queries it also listen to
whatever the serial bus issues and react changing the internal state of some
objects.

What I'd like to do is to play interactively with these objects (Eg: a
digital module with 8 switches: I want to switch on/off the exits).

&gt;<i> At that point you can interact with the program using twisted manhole.
</I>
this is interesting. I found a working example::

   from twisted.internet import reactor
   from twisted.conch import telnet

   def createShellServer( ):

       print 'Creating shell server instance'
       factory = telnet.ShellFactory()
       port = reactor.listenTCP( 2000, factory)
       factory.namespace['x'] = 'hello world'
       factory.username = 'sd'
       factory.password = 'vega'
       print 'Listening on port 2000'
       return port

   if __name__ == &quot;__main__&quot;:

       reactor.callWhenRunning( createShellServer )
       reactor.run()

that raises /usr/lib/python2.6/dist-packages/twisted/manhole/telnet.py:8: DeprecationWarning: As of Twisted 2.1, twisted.protocols.telnet is deprecated.  See twisted.conch.telnet for the current, supported API.
  from twisted.protocols import telnet

I couldn't make out a correct syntax using the new API. Can somebody point
me to the correct solution?

Adding readline
----------------

To make this solution viable to me I really need to have readline and
completion. I found a thread hinting of a patch that should implement it but
no real patch to see [1].

I tryied to start an IPythonShell at the prompt but it simply hangs forever.



sandro
*:-)

[1] <A HREF="http://www.mail-archive.com/twisted-web@twistedmatrix.com/msg02241.html">http://www.mail-archive.com/twisted-web@twistedmatrix.com/msg02241.html</A>

-- 
Sandro Dentella  *:-)
<A HREF="http://www.reteisi.org">http://www.reteisi.org</A>             Soluzioni libere per le scuole
<A HREF="http://sqlkit.argolinux.org">http://sqlkit.argolinux.org</A>        SQLkit home page - PyGTK/python/sqlalchemy

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023317.html">[Twisted-Python] Twisted and ipython
</A></li>
	<LI>Next message: <A HREF="023338.html">[Twisted-Python] Twisted and ipython
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23325">[ date ]</a>
              <a href="thread.html#23325">[ thread ]</a>
              <a href="subject.html#23325">[ subject ]</a>
              <a href="author.html#23325">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
