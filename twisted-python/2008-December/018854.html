<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: PDF I thought may be of interest
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20PDF%20I%20thought%20may%20be%20of%20interest&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018852.html">
   <LINK REL="Next"  HREF="018855.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: PDF I thought may be of interest</H1>
    <B>Andrew Francis</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20PDF%20I%20thought%20may%20be%20of%20interest&In-Reply-To="
       TITLE="[Twisted-Python] Re: PDF I thought may be of interest">andrewfr_ice at yahoo.com
       </A><BR>
    <I>Thu Dec 11 09:34:24 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="018852.html">[Twisted-Python] twisted reverse proxy for web filtering
</A></li>
        <LI>Next message: <A HREF="018855.html">[Twisted-Python] twisted.mail.relaymanager.MXCalculator.getMX in	Win32 got problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18854">[ date ]</a>
              <a href="thread.html#18854">[ thread ]</a>
              <a href="subject.html#18854">[ subject ]</a>
              <a href="author.html#18854">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Michael and Colleagues:

&gt;<i> .. which is a paper by Rob von Behren, Jeremy Condit and
</I>&gt;<i> Eric Brewer.
</I>
As a part of writing &quot;Adventures in Stackless Python/Twisted Integration,&quot; I have read &quot;The Why Events are&quot; paper as well as the Ousterhout &quot;Why Threads Are A Bad Idea (for most purposes). 

The &quot;Why Events&quot; paper led me to the Adya et al, &quot;Cooperative task management without manual stack management&quot; and the original Lauer and Needham  &quot;On the duality of operating system structures.&quot; I also visited the Schmitt papers on the Reactor pattern. 

&gt;<i>From what I recalled, I preferred the latter three papers because they provide a much better analytic framework for describing the issues. In particular, the Adya provides terminology.
</I>
I have two basic sets of take-aways from the paper survey

1) &quot;Events are great papers&quot; state that threads are bad because of A,B, and C. &quot;Threads are great papers&quot; state that events are bad because of X,Y, and Z. As a programmer using these systems, perhaps I should pay special attention to issues A,B,C,X,Y and Z whenever applicable (and by the way papers thanks for telling me C and Y were issues since I didn't know). 

Perhaps out of all this, we can come up with appropriate guidelines for lockless programming?

2) The &quot;Duality&quot; paper argues that messaging passing and procedural systems can be described in terms of each other (bi-simulation?). I found this to be a very powerful way to look at Stackless Python and Twisted's threading models. 

A simple example. 

At the time I presented &quot;Adventures,&quot; to avoid deadlock, I ran a reactor protocol instance in its own Stackless thread. This bugged me. It turned out that by replacing channels with deferreds (and doing a little buffering), I could replace the extraneous tasklet. My way of looking at it was, after all, protocol instances/deferreds are just another way of doing continuations... Use them, don't replace them....
 
&gt;<i> Looking slightly below the surface of things, it appears to
</I>&gt;<i> be advocating something more like stackless's tasklets, rather than
</I>&gt;<i> OS level threads (since it makes reference near the end to Erlang's &gt;threading model).
</I>
A quote from the paper:

&quot;To evaluate the ability of threads to support high
concurrency, we designed and implemented a simple
(5000 line) user-level cooperative threading package for
Linux. Our thread package uses the coro coroutine
library [15] for minimalist context switching, and it
translates blocking I/O requests to asynchronous requests
internally.&quot;

&gt;<i> The paper appears to be 5 years old already, so the impact
</I>&gt;<i> of this paper appears minimal, but I thought it may be of interest to
</I>&gt;<i> others. (The reason it  raised such a surprise for me is because it &gt;would be as surprising to me as it would be to read of any of the core &gt;twisted devs to suddenly come out in  favour of a threading approach &gt;rather than non-threading!)
</I>
&quot;The Why Events&quot; is essentially the approach I took in regards to Stackless and Twisted. Right now, I am analyzing Stackless's scheduling model to see if improvements can be made. I feel I have much to learn...

That said, I feel inline callbacks are a step in this direction. As Stackless/PyPy concepts get into mainstream Python, I can see Twisted following in this direction. Already one can see that with stuff like Christopher Armstrong's Corotwine. 

Again, I think the key to incorporate threads and keep to the spirit of Twisted, simplicity and safety, is to come up with some guidelines for lockless programming.

Cheers,
Andrew




      


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018852.html">[Twisted-Python] twisted reverse proxy for web filtering
</A></li>
	<LI>Next message: <A HREF="018855.html">[Twisted-Python] twisted.mail.relaymanager.MXCalculator.getMX in	Win32 got problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18854">[ date ]</a>
              <a href="thread.html#18854">[ thread ]</a>
              <a href="subject.html#18854">[ subject ]</a>
              <a href="author.html#18854">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
