<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python]	twisted.conch.ssh.session.SSHSession.request_subsystem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%0A%09twisted.conch.ssh.session.SSHSession.request_subsystem&In-Reply-To=%3C2f5ea7490812221110r467b5ebfyb4f2525a21147b86%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="051425.html">
   <LINK REL="Next"  HREF="051428.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python]	twisted.conch.ssh.session.SSHSession.request_subsystem</H1>
    <B>Tzury Bar Yochay</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%0A%09twisted.conch.ssh.session.SSHSession.request_subsystem&In-Reply-To=%3C2f5ea7490812221110r467b5ebfyb4f2525a21147b86%40mail.gmail.com%3E"
       TITLE="[Twisted-Python]	twisted.conch.ssh.session.SSHSession.request_subsystem">tzury.by at gmail.com
       </A><BR>
    <I>Mon Dec 22 12:10:23 MST 2008</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="051425.html">[Twisted-Python]	twisted.conch.ssh.session.SSHSession.request_subsystem
</A></li>
        <LI>Next message (by thread): <A HREF="051428.html">[Twisted-Python]	twisted.conch.ssh.session.SSHSession.request_subsystem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51427">[ date ]</a>
              <a href="thread.html#51427">[ thread ]</a>
              <a href="subject.html#51427">[ subject ]</a>
              <a href="author.html#51427">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Glyph, thanks for your attention and time. I am afraid I was not clear
wit hmy question so please allow me to elaborate.

&gt;<i> The way you control which paths a user can access in this scenario is by
</I>&gt;<i> setting the filesystem permissions on those directories.  Sorry, but Twisted
</I>&gt;<i> cannot magically change your UNIX filesystem so that arbitrary commands see
</I>&gt;<i> a different view of it.
</I>
I don't want to create a UNIX user per client. I want to design the
system in a way that all the clients will access using one single
'public' account.
In fact, each client is already pushing its files to it associated
'home' folder.
However, I want to be able to control it in case someone is hacking
with the system, so to ensure it cannot access any other paths but the
one which is associated with its rsa_key

I've investigated jailkit and gitosis and other approaches and was not
satisfied with the final result. That's the reason why I am not using
OpenSSH server and trying to make it possible with Twisted. I think it
will make a much more scalable and flexible system.
I strongly believe that others will find this project useful.

&gt;<i> If you want to write an SSH application server that does *not* allow running
</I>&gt;<i> UNIX commands, you are going to have to write a lot more code; in effect,
</I>&gt;<i> emulating a shell (or denying access to one entirely, as described in
</I>&gt;<i> <A HREF="http://cyli.livejournal.com/38382.html">http://cyli.livejournal.com/38382.html</A> )
</I>
I don't want to supply shell or any other interactive mode for a user.
This is all to be done at the client side 'automatically' using custom
sftp/ssh client

e.g. bzr branch <A HREF="sftp://user@server:port/allowed_path_only">sftp://user@server:port/allowed_path_only</A>

&gt;<i> This code could definitely be better documented, but I don't think your
</I>&gt;<i> question is related to subsystems.
</I>
when running the command mentioned above (bzr branch
<A HREF="sftp://user@server:port/allowed_path_only">sftp://user@server:port/allowed_path_only</A>)  only
SSHSession.request_subsystem is called (neither request_shell nor
request_exec) - that's why I brought it up.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="051425.html">[Twisted-Python]	twisted.conch.ssh.session.SSHSession.request_subsystem
</A></li>
	<LI>Next message (by thread): <A HREF="051428.html">[Twisted-Python]	twisted.conch.ssh.session.SSHSession.request_subsystem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51427">[ date ]</a>
              <a href="thread.html#51427">[ thread ]</a>
              <a href="subject.html#51427">[ subject ]</a>
              <a href="author.html#51427">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
