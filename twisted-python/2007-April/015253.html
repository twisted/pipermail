<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] The Trial of the DirtyReactorError
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20The%20Trial%20of%20the%20DirtyReactorError&In-Reply-To=20070413152205.19381.954094387.divmod.quotient.509%40ohm">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015252.html">
   <LINK REL="Next"  HREF="015244.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] The Trial of the DirtyReactorError</H1>
    <B>Matthew Glubb</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20The%20Trial%20of%20the%20DirtyReactorError&In-Reply-To=20070413152205.19381.954094387.divmod.quotient.509%40ohm"
       TITLE="[Twisted-Python] The Trial of the DirtyReactorError">matt at zgroupplc.com
       </A><BR>
    <I>Fri Apr 13 12:03:31 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="015252.html">[Twisted-Python] The Trial of the DirtyReactorError
</A></li>
        <LI>Next message: <A HREF="015244.html">Trial adbapi tip. Was: [Twisted-Python] The Trial of the	DirtyReactorError
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15253">[ date ]</a>
              <a href="thread.html#15253">[ thread ]</a>
              <a href="subject.html#15253">[ subject ]</a>
              <a href="author.html#15253">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi Jean-Paul,

On 13 Apr 2007, at 16:22, Jean-Paul Calderone wrote:

&gt;<i> Port.stopListening can return a Deferred if shutdown is not  
</I>&gt;<i> immediately
</I>&gt;<i> completed.  In this case, you need to have trial wait for this  
</I>&gt;<i> Deferred
</I>&gt;<i> to fire before letting the test finish.
</I>
Ah. That's handy to know. Thanks.

&gt;<i>   Also, Port.stopListening does
</I>&gt;<i> not cause Echo.connectionLost to be called.  Shutting down a port only
</I>
Yes, I have realised this now. I was getting confused with another  
event, and thought connectionLost was getting called as a result of  
port shutdown. tcp.Port.stopListening() now works fine from within  
the ServerFactory.

&gt;<i> You might also consider disabling the port when the connection is / 
</I>&gt;<i> made/.
</I>&gt;<i> This reduces the size of the window available for a second  
</I>&gt;<i> connection to
</I>&gt;<i> be made, and as I mentioned above, has no affect on the already- 
</I>&gt;<i> established
</I>&gt;<i> connection.
</I>
I have actually implemented the ListenOverflowProtocol in the server.  
This seems to do what it says on the tin!

Thanks for you help and patience :)

Matt



m a t t h e w   g l u b b

________________________________________________________________________
Z Group PLC

Tel: +44 (0) 8700 111 173
Fax: +44 (0) 8707 051 393
Txt: +44 (0) 7800 140 877
Web: &lt;<A HREF="http://www.zgroupplc.com/">http://www.zgroupplc.com/</A>&gt;

This  email  and  any  files  transmitted  with it are  confidential and
intended solely for the use of the individual or entity to whom they are
addressed.  The opinions  expressed in this mail are those of the author
and do not necessarily  represent the views of the company.  If you have
received this email in error please notify &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">service at zgroupplc.com</A>&gt;



-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.1 (Darwin)

iD8DBQFGH6nWyI6MkdKPngkRAnoqAKCm2tZzlNn53dhXTM9ivBcUk2B1qACfdY6W
Dg2YtME3powiuyEoXACvXu0=
=XM/y
-----END PGP SIGNATURE-----


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015252.html">[Twisted-Python] The Trial of the DirtyReactorError
</A></li>
	<LI>Next message: <A HREF="015244.html">Trial adbapi tip. Was: [Twisted-Python] The Trial of the	DirtyReactorError
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15253">[ date ]</a>
              <a href="thread.html#15253">[ thread ]</a>
              <a href="subject.html#15253">[ subject ]</a>
              <a href="author.html#15253">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
