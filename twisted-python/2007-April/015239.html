<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Implementing an event manager in twisted
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Implementing%20an%20event%20manager%20in%20twisted&In-Reply-To=1176337611.7007.31.camel%40localhost">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015233.html">
   <LINK REL="Next"  HREF="015241.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Implementing an event manager in twisted</H1>
    <B>Manuel Arias</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Implementing%20an%20event%20manager%20in%20twisted&In-Reply-To=1176337611.7007.31.camel%40localhost"
       TITLE="[Twisted-Python] Implementing an event manager in twisted">manuel.arias at gmail.com
       </A><BR>
    <I>Thu Apr 12 12:40:24 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="015233.html">[Twisted-Python] Implementing an event manager in twisted
</A></li>
        <LI>Next message: <A HREF="015241.html">[Twisted-Python] Implementing an event manager in twisted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15239">[ date ]</a>
              <a href="thread.html#15239">[ thread ]</a>
              <a href="subject.html#15239">[ subject ]</a>
              <a href="author.html#15239">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Justin,

The scheduling is easily doable using twisted as a scheduler eg) callLater
or task.LoopingCall.

Writing an event dispatcher isn't too tough either. A very simple one allows
you to register using a hash-able &quot;name&quot; object eg) a string. You call the
dispatcher with the same object when you want to notify the registered
handlers. Twisted has one see:
<A HREF="http://twistedmatrix.com/docum&lt;http://twistedmatrix.com/documents/current/api/twisted.python.dispatch.EventDispatcher.html">http://twistedmatrix.com/docum&lt;http://twistedmatrix.com/documents/current/api/twisted.python.dispatch.EventDispatcher.html</A>&gt;
ents/current/api/twisted.python&lt;<A HREF="http://twistedmatrix.com/documents/current/api/twisted.python.dispatch.EventDispatcher.html">http://twistedmatrix.com/documents/current/api/twisted.python.dispatch.EventDispatcher.html</A>&gt;
.dispatch.EventDispatcher.html&lt;<A HREF="http://twistedmatrix.com/documents/current/api/twisted.python.dispatch.EventDispatcher.html">http://twistedmatrix.com/documents/current/api/twisted.python.dispatch.EventDispatcher.html</A>&gt;.
That could easily be tied in to generating events from a listener
having
received data.

It seems that you have various programs that you want to coordinate using
twisted. One way to accomplish this is like you said to write an event
manager with twisted. Your listeners would connect (how? over sockets using
existing protocols or write your own...or use Perspective Broker) to your
twisted event manager to generate &quot;received data&quot; events. Your &quot;received
data&quot; event handlers could spawn processes and pipe the data to them, or you
can use twisted's adbapi to store the data in the database.


On 4/11/07, Justin Warren &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">daedalus at eigenmagic.com</A>&gt; wrote:
&gt;<i> Hi folks,
</I>&gt;<i>
</I>&gt;<i> I have had an idea to implement an event manager to glue a few different
</I>&gt;<i> system components together, and I am wondering which pieces of twisted
</I>&gt;<i> would be best suited to the task, or even if I should attempt it at all.
</I>&gt;<i>
</I>&gt;<i> I have programs that poll for data.
</I>&gt;<i> I have a database that stores polled information.
</I>&gt;<i> I have programs that listen for data to be provided to them from
</I>&gt;<i> external entities.
</I>&gt;<i>
</I>&gt;<i> I have a desire to provide scheduler functionality (at time x, take
</I>&gt;<i> action y).
</I>&gt;<i>
</I>&gt;<i> It seems to me that I could join all of these things via an event
</I>&gt;<i> manager:
</I>&gt;<i>
</I>&gt;<i> A program polls for data, succeeds and notifies the event manager of the
</I>&gt;<i> data that was polled. The event manager notifies a 'poll storage' object
</I>&gt;<i> that stores the data in the database. It could also notify other things.
</I>&gt;<i>
</I>&gt;<i> Data is received from an external entity by a listener. The listener
</I>&gt;<i> notifies the event manager of the data. The event manager notifies an
</I>&gt;<i> object that stores it in the database, or runs a script, or uploads
</I>&gt;<i> something to flickr, or whatever.
</I>&gt;<i>
</I>&gt;<i> Time passes. The event manager notifies interested objects that this is
</I>&gt;<i> so. They take whatever action they deem necessary.
</I>&gt;<i>
</I>&gt;<i> None of this is new, so I wonder what others have done in this area? Am
</I>&gt;<i> I heading down a dangerous path? What are the traps for new players? Has
</I>&gt;<i> someone already written something that does all of this that I can use,
</I>&gt;<i> saving myself time and headaches?
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Justin Warren &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">daedalus at eigenmagic.com</A>&gt;
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20070412/6d24a71d/attachment.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20070412/6d24a71d/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015233.html">[Twisted-Python] Implementing an event manager in twisted
</A></li>
	<LI>Next message: <A HREF="015241.html">[Twisted-Python] Implementing an event manager in twisted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15239">[ date ]</a>
              <a href="thread.html#15239">[ thread ]</a>
              <a href="subject.html#15239">[ subject ]</a>
              <a href="author.html#15239">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
