<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] IPython embedded in twisted (and Re: readline-like behavior inside Twisted)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20IPython%20embedded%20in%20twisted%20%28and%20Re%3A%20readline-like%0A%20behavior%20inside%20Twisted%29&In-Reply-To=20070408145125.18920.1518675638.divmod.quotient.9346%40ohm">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015193.html">
   <LINK REL="Next"  HREF="015194.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] IPython embedded in twisted (and Re: readline-like behavior inside Twisted)</H1>
    <B>Stefan Rank</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20IPython%20embedded%20in%20twisted%20%28and%20Re%3A%20readline-like%0A%20behavior%20inside%20Twisted%29&In-Reply-To=20070408145125.18920.1518675638.divmod.quotient.9346%40ohm"
       TITLE="[Twisted-Python] IPython embedded in twisted (and Re: readline-like behavior inside Twisted)">list-ener at strank.info
       </A><BR>
    <I>Thu Apr 12 04:45:35 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="015193.html">[Twisted-Python] Re: readline-like behavior inside Twisted	(was	Re:Re:	Synchronization techniques)
</A></li>
        <LI>Next message: <A HREF="015194.html">[Twisted-Python] Synchronization techniques
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15238">[ date ]</a>
              <a href="thread.html#15238">[ thread ]</a>
              <a href="subject.html#15238">[ subject ]</a>
              <a href="author.html#15238">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

on 08.04.2007 16:51 Jean-Paul Calderone said the following:
&lt;snip&gt;
&gt;<i> What would actually be really excellent is if both
</I>&gt;<i> insults and pyreadline used the same underlying readline model code which
</I>&gt;<i> was devoid of input/output code, then each could focus on the part it 
</I>&gt;<i> should
</I>&gt;<i> really care about (dealing with events or talking to a windows console or
</I>&gt;<i> what have you) and improvements to the actually interesting behavior in the
</I>&gt;<i> readline model could be shared between the two.
</I>&gt;<i> 
</I>&gt;<i> To some extend insults already has this (I've tried to factor as much of 
</I>&gt;<i> the
</I>&gt;<i> interesting behavior out away from the Twisted parts), and I see this is 
</I>&gt;<i> also
</I>&gt;<i> how at least some of pyreadline is structured (eg 
</I>&gt;<i> lineeditor/history.py), so
</I>&gt;<i> it might actually be feasible to merge the two backends into one shared
</I>&gt;<i> thing.
</I>
That would be perfect.

on 09.04.2007 16:33 Michael Hudson said the following:
&lt;snip&gt;
&gt;<i> This isn't really a followup, but it seems worthwhile to mention that GNU
</I>&gt;<i> readline itself has a callback interface (rl_callback_read_char) that would be
</I>&gt;<i> suitable for using with Twisted.  You'd have to use ctypes or something to get
</I>&gt;<i> to it, but it's there.
</I>
Seems even better. This interface, however, wants to consume the input 
itself, so a t.i.stdio-alike would need to poll/select for input events 
and then call rl_callback_read_char to actually consume them, right?


Attached is my ugly first attempt at embedding IPython in twisted 
without threads.
(no readline behaviour, only tried it on Windows)

Hopefully this catches the interest of someone with more 
time/knowledge... ;-)

Will also post on the IPython list to see if they would be willing to 
change their code to be more callback-friendly.

cheers,
stefan

-------------- next part --------------
A non-text attachment was scrubbed...
Name: testtwistedipython.py
Type: text/x-python
Size: 12974 bytes
Desc: not available
Url : <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20070412/2d518160/attachment.py">http://twistedmatrix.com/pipermail/twisted-python/attachments/20070412/2d518160/attachment.py</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015193.html">[Twisted-Python] Re: readline-like behavior inside Twisted	(was	Re:Re:	Synchronization techniques)
</A></li>
	<LI>Next message: <A HREF="015194.html">[Twisted-Python] Synchronization techniques
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15238">[ date ]</a>
              <a href="thread.html#15238">[ thread ]</a>
              <a href="subject.html#15238">[ subject ]</a>
              <a href="author.html#15238">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
