<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: Synchronization techniques
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20Synchronization%20techniques&In-Reply-To=46168ED8.9040601%40strank.info">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015180.html">
   <LINK REL="Next"  HREF="015187.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: Synchronization techniques</H1>
    <B>glyph at divmod.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20Synchronization%20techniques&In-Reply-To=46168ED8.9040601%40strank.info"
       TITLE="[Twisted-Python] Re: Synchronization techniques">glyph at divmod.com
       </A><BR>
    <I>Fri Apr  6 17:28:49 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="015180.html">[Twisted-Python] Re: Synchronization techniques
</A></li>
        <LI>Next message: <A HREF="015187.html">readline-like behavior inside Twisted (was Re: [Twisted-Python] Re:	Synchronization techniques)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15181">[ date ]</a>
              <a href="thread.html#15181">[ thread ]</a>
              <a href="subject.html#15181">[ subject ]</a>
              <a href="author.html#15181">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 06:18 pm, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">list-ener at strank.info</A> wrote:
&gt;<i>on 04.04.2007 23:40 <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at divmod.com</A> said the following:
</I>&gt;<i>&lt;snip&gt;
</I>
&gt;&gt;<i>Run &quot;python -m twisted/conch/stdio&quot; for an example of an interactive
</I>&lt;snip&gt;
&gt;&gt;<i>Here's a screenshot of an interactive session using the command above:
</I>
&gt;<i>Am I right that this is a screenshot of the manhole client?
</I>
Sort of.  It's the manhole server (I don't know what you mean by 
&quot;client&quot;) running on standard IO, run via 'python -m 
twisted/conch/stdio'.
&gt;<i>For embedding this in twisted, the twisted reactor needs to be the one 
</I>&gt;<i>calling IPython/pyreadline when necessary.
</I>&gt;<i>On the IPython level, I think this should be &quot;easy&quot; by subclassing the 
</I>&gt;<i>Shell and splitting/rearranging the relevant code, so that it can be 
</I>&gt;<i>called back at the point where raw_input would normally return.
</I>&gt;<i>(I did not look at the new IPython saw branch...)
</I>
&gt;<i>On the twisted side, I think that something like twisted.internet.stdio 
</I>&gt;<i>would be calling back?
</I>
Rather than IPython calling into raw_input, the loop that calls 
raw_input would have to be changed to a function that takes a string. 
This would almost certainly be the trickiest part, since it seems there 
are about two dozen places (at a quick glance) in ipython that call 
raw_input.
&gt;<i>Or rather something like twisted.conch.insults?
</I>
insults will be getting its events from twisted.internet.stdio, so both 
will be involved.
&gt;<i>I suspect that it would be hard to recode pyreadline in a way that it 
</I>&gt;<i>could be called back by twisted?
</I>&gt;<i>So to get readline support, something like readline would need to be 
</I>&gt;<i>implemented using t.i.stdio / insults.
</I>&gt;<i>
</I>&gt;<i>Does this seem possible, so far? :-)
</I>
To me, sure - although I hardly have the time to do it :).  There have 
been a few forays into line-editing code for insults, although I'm not 
clear of the current state of the art, JP Calderone should be returning 
from vacation soon and will probably have some light to shed on the 
issue.  I don't know much about pyreadline.  There may be code there 
that's reusable, maybe not, but in any event it is a goal of the insults 
library to provide high-quality event-driven line-editing.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20070406/a7887903/attachment.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20070406/a7887903/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015180.html">[Twisted-Python] Re: Synchronization techniques
</A></li>
	<LI>Next message: <A HREF="015187.html">readline-like behavior inside Twisted (was Re: [Twisted-Python] Re:	Synchronization techniques)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15181">[ date ]</a>
              <a href="thread.html#15181">[ thread ]</a>
              <a href="subject.html#15181">[ subject ]</a>
              <a href="author.html#15181">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
