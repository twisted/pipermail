<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Threadpool analysis?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Threadpool%20analysis%3F&In-Reply-To=CAE5C43D-9FC3-43C1-A960-68BBB034EDD7%402xlp.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015232.html">
   <LINK REL="Next"  HREF="015236.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Threadpool analysis?</H1>
    <B>Andrew Bennetts</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Threadpool%20analysis%3F&In-Reply-To=CAE5C43D-9FC3-43C1-A960-68BBB034EDD7%402xlp.com"
       TITLE="[Twisted-Python] Threadpool analysis?">andrew-twisted at puzzling.org
       </A><BR>
    <I>Wed Apr 11 21:06:42 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="015232.html">[Twisted-Python] Threadpool analysis?
</A></li>
        <LI>Next message: <A HREF="015236.html">[Twisted-Python] Threadpool analysis?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15235">[ date ]</a>
              <a href="thread.html#15235">[ thread ]</a>
              <a href="subject.html#15235">[ subject ]</a>
              <a href="author.html#15235">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jonathan Vanasco wrote:
&gt;<i> 
</I>&gt;<i> On Apr 11, 2007, at 5:02 PM, Phil Mayers wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt;Why are you using a threadpool with Twisted?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I'm not using one directly -- I'm using deferToThread , which twisted  
</I>&gt;<i> manages via its own threadpool.  Stuff is locking up, so i'm using  
</I>&gt;<i> manhole to try and see wtf is going on.
</I>
Keep in mind that deferToThread uses the reactor's threadpool, which by default
only has a fairly small number of threads.  So if you are trying to run many
long-running operations via deferToThread, it may take a long time for them to
get served.  It may be better to start your own threadpool
(twisted.python.threadpool) if you depend heavily on it.

Also, the easiest way to find out what the state the threads started by a thread
pool are in is by looking at the ThreadPool object; you could inspect the
tp.q.qsize(), len(tp.threads), etc.

You could also look at threading.enumerate() in the standard library.

-Andrew.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015232.html">[Twisted-Python] Threadpool analysis?
</A></li>
	<LI>Next message: <A HREF="015236.html">[Twisted-Python] Threadpool analysis?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15235">[ date ]</a>
              <a href="thread.html#15235">[ thread ]</a>
              <a href="subject.html#15235">[ subject ]</a>
              <a href="author.html#15235">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
