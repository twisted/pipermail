<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Cannot pickle &lt;type 'DB'&gt; objects
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Cannot%20pickle%20%3Ctype%20%27DB%27%3E%20objects&In-Reply-To=%3C20070409133405.18920.2039463152.divmod.quotient.9716%40ohm%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="047696.html">
   <LINK REL="Next"  HREF="047700.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Cannot pickle &lt;type 'DB'&gt; objects</H1>
    <B>Jean-Paul Calderone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Cannot%20pickle%20%3Ctype%20%27DB%27%3E%20objects&In-Reply-To=%3C20070409133405.18920.2039463152.divmod.quotient.9716%40ohm%3E"
       TITLE="[Twisted-Python] Cannot pickle &lt;type 'DB'&gt; objects">exarkun at divmod.com
       </A><BR>
    <I>Mon Apr  9 07:34:05 MDT 2007</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="047696.html">[Twisted-Python] Cannot pickle &lt;type 'DB'&gt; objects
</A></li>
        <LI>Next message (by thread): <A HREF="047700.html">[Twisted-Python] Cannot pickle &lt;type 'DB'&gt; objects
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47697">[ date ]</a>
              <a href="thread.html#47697">[ thread ]</a>
              <a href="subject.html#47697">[ subject ]</a>
              <a href="author.html#47697">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 09 Apr 2007 15:21:50 +0200, Roland Hedberg &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">roland.hedberg at adm.umu.se</A>&gt; wrote:
&gt;<i>Hi!
</I>&gt;<i>
</I>&gt;<i>I've written a system that consists of a central module, one or more
</I>&gt;<i>receiver modules and one or more sender modules.
</I>&gt;<i>
</I>&gt;<i>Different modules might handle different protocols, and this is one of
</I>&gt;<i>the reasons I choose twisted as framework.
</I>&gt;<i>
</I>&gt;<i>But now I've got a problem I don't know how to solve.
</I>&gt;<i>
</I>&gt;<i>One of the sender modules is depending on another package and that
</I>&gt;<i>package opens a sleepycat database at initialization.
</I>&gt;<i>
</I>&gt;<i>Which is not playing nice with mktap. So, now when I use mktap I get an
</I>&gt;<i>exception with the error code shown on the subject line of this mail.
</I>&gt;<i>
</I>&gt;<i>Is there anyway by which I can tell mktap to &quot;forget&quot; about the
</I>&gt;<i>sleepycat database or ... ?
</I>
Two possibilities jump out at me:

  - Don't invoke the initialization code of that package in makeService,
    wait until the startService method of the service you create is called,
    and invoke it then.  This will prevent the DB from being opened until
    the application is actually started (ie, when twistd is run).

  - Don't use mktap, just use twistd: since Twisted 2.5, these two are
    roughly equivalent:

      mktap foo --bar
      twistd -f foo.tap

    vs

      twistd foo --bar

    The most significant difference being that the latter doesn't create a
    tap file initially.

Jean-Paul


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="047696.html">[Twisted-Python] Cannot pickle &lt;type 'DB'&gt; objects
</A></li>
	<LI>Next message (by thread): <A HREF="047700.html">[Twisted-Python] Cannot pickle &lt;type 'DB'&gt; objects
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47697">[ date ]</a>
              <a href="thread.html#47697">[ thread ]</a>
              <a href="subject.html#47697">[ subject ]</a>
              <a href="author.html#47697">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
