<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Server with several outgoing connections
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Server%20with%20several%20outgoing%20connections&In-Reply-To=%3C5d35fc5d041105133568864a47%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="041512.html">
   <LINK REL="Next"  HREF="041483.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Server with several outgoing connections</H1>
    <B>Seun Osewa</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Server%20with%20several%20outgoing%20connections&In-Reply-To=%3C5d35fc5d041105133568864a47%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Server with several outgoing connections">naijasms at gmail.com
       </A><BR>
    <I>Fri Nov  5 14:35:36 MST 2004</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="041512.html">[Twisted-Python] Log in - state of the art?
</A></li>
        <LI>Next message (by thread): <A HREF="041483.html">[Twisted-Python] multiple connectTCP bindaddress problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41496">[ date ]</a>
              <a href="thread.html#41496">[ thread ]</a>
              <a href="subject.html#41496">[ subject ]</a>
              <a href="author.html#41496">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>You might also want to consider the design of your application in case
it's not the best way of solving the problem using Twisted (for
example if all the nodes run on the same computer ....)


On Fri, 05 Nov 2004 10:39:09 -0600, Eric Mangold &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">teratorn at world-net.net</A>&gt; wrote:
&gt;<i> On Thu, 4 Nov 2004 10:37:53 +0100, Roland Hedberg
</I>&gt;<i> &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">roland.hedberg at adm.umu.se</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; Hi!
</I>&gt;<i> 
</I>&gt;<i> Hello.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I'm new to Twisted and I have tried to read and understand the intricate
</I>&gt;<i> &gt; sides of it.
</I>&gt;<i> &gt; And have found as so many other that the learning curve pretty steep,
</I>&gt;<i> &gt; especially I guess if one comes from being a C programmer :-)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Anyway, this is my problem:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I'm building a system that consists of a number of nodes, each node
</I>&gt;<i> &gt; acting as a receiver and transmitter of messages. The protocol used
</I>&gt;<i> &gt; between the nodes might be a message passing system like xmpp or
</I>&gt;<i> &gt; something else. The number of nodes are dynamic and might change at any
</I>&gt;<i> &gt; time. Plus there is no way by which you can know when the system is
</I>&gt;<i> &gt; started how many nodes there will be. Also nodes might receive messages
</I>&gt;<i> &gt; from any number of nodes and be expected to transmit the messages to
</I>&gt;<i> &gt; several nodes.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Writing the 'server' part of a node is easy, plenty of examples of that
</I>&gt;<i> &gt; exists on the net.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Writing the 'client' side is not so easy and here I guess my C legacy is
</I>&gt;<i> &gt; hampering me.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; So I'd like someone to give me, or point me, to an example on how to
</I>&gt;<i> &gt; dynamically create new connections to receivers.
</I>&gt;<i> 
</I>&gt;<i> I don't see the need for anything special. The reactor.connectTCP function
</I>&gt;<i> is probably what you want.
</I>&gt;<i> 
</I>&gt;<i> &gt; I first though these connections should be shortlived that is 'open the
</I>&gt;<i> &gt; connection, send the message, receive the ACK and close the connection'
</I>&gt;<i> &gt; but now I think it might be wiser to keep the connections as long as
</I>&gt;<i> &gt; possible. That is, until that receiver disappears.
</I>&gt;<i> 
</I>&gt;<i> Just call transport.loseConnection() when you want it to go away.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Another side of this is that the influx of messages might be higher than
</I>&gt;<i> &gt; the possible output, that is each node has to keep queues for messages
</I>&gt;<i> &gt; not yet sent and messages sent but not ack'ed.
</I>&gt;<i> &gt; It might also happen that recivers of messages are not accessible in
</I>&gt;<i> &gt; which case the message has to be queue until the receiver pops up again.
</I>&gt;<i> &gt; The system is not allowed to drop messages.
</I>&gt;<i> &gt; Note, that each incomming message might have several receivers, so one
</I>&gt;<i> &gt; incomming message might end up in the sendqueue of several receivers.
</I>&gt;<i> 
</I>&gt;<i> ...
</I>&gt;<i> 
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; And here in lies one of the problems, I guess I have to keep a
</I>&gt;<i> &gt; 'centrally' managed queue, that should then be notified on the change of
</I>&gt;<i> &gt; status of a message on route to a recevier. How should I implement this ?
</I>&gt;<i> 
</I>&gt;<i> *shrug*, depends on the application. Do you want central management?
</I>&gt;<i> Do you really need it?
</I>&gt;<i> 
</I>&gt;<i> You really need to ask some more specific questions before anyone can give
</I>&gt;<i> you good answers.
</I>&gt;<i> 
</I>&gt;<i> -Eric
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="041512.html">[Twisted-Python] Log in - state of the art?
</A></li>
	<LI>Next message (by thread): <A HREF="041483.html">[Twisted-Python] multiple connectTCP bindaddress problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41496">[ date ]</a>
              <a href="thread.html#41496">[ thread ]</a>
              <a href="subject.html#41496">[ subject ]</a>
              <a href="author.html#41496">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
