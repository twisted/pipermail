<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Waiting time for tests running on Travis CI	and Buildbot
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Waiting%20time%20for%20tests%20running%20on%20Travis%20CI%0A%09and%20Buildbot&In-Reply-To=%3CCB0A7C25-83E7-45C8-A7B5-9CEFDCCF91D4%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030735.html">
   <LINK REL="Next"  HREF="030741.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Waiting time for tests running on Travis CI	and Buildbot</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Waiting%20time%20for%20tests%20running%20on%20Travis%20CI%0A%09and%20Buildbot&In-Reply-To=%3CCB0A7C25-83E7-45C8-A7B5-9CEFDCCF91D4%40twistedmatrix.com%3E"
       TITLE="[Twisted-Python] Waiting time for tests running on Travis CI	and Buildbot">glyph at twistedmatrix.com
       </A><BR>
    <I>Tue Aug 16 13:38:49 MDT 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="030735.html">[Twisted-Python] Waiting time for tests running on Travis CI	and Buildbot
</A></li>
        <LI>Next message: <A HREF="030741.html">[Twisted-Python] Waiting time for tests running on Travis CI	and Buildbot
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30737">[ date ]</a>
              <a href="thread.html#30737">[ thread ]</a>
              <a href="subject.html#30737">[ subject ]</a>
              <a href="author.html#30737">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> On Aug 16, 2016, at 3:06 AM, Jean-Paul Calderone &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at twistedmatrix.com</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> On Mon, Aug 15, 2016 at 7:03 PM, Glyph Lefkowitz &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A> &lt;mailto:<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A>&gt;&gt; wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> On Aug 15, 2016, at 2:11 PM, Jean-Paul Calderone &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at twistedmatrix.com</A> &lt;mailto:<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at twistedmatrix.com</A>&gt;&gt; wrote:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> On Mon, Aug 15, 2016 at 4:38 PM, Glyph Lefkowitz &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A> &lt;mailto:<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A>&gt;&gt; wrote:
</I>&gt;&gt;<i> 
</I>&gt;&gt;&gt;&gt;<i> There's a lot that we can do to make Travis almost that fast, with pre-built Docker images and cached dependencies.  We haven't done much in the way of aggressive optimization yet.  As recently discussed we're still doing twice as many builds as we need to just because we've misconfigured branch / push builds :).
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> Hm... pre-built dockers also takes effort to keep them updated... and
</I>&gt;&gt;&gt;<i> then we will have a KVM VM starting inside a docker in which we run
</I>&gt;&gt;&gt;<i> the tests...
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> ...and we would not be able to test the inotify part.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Not true:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> We can have one non-containerized builder (sudo: true) for testing inotify; no need for KVM-in-Docker (also you can't do that without a privileged container, so, good thing)
</I>&gt;&gt;<i> I'm curious about the details of how such a configuration would work.  Since there is only one travis configuration per repository (well, per branch, technically, don't think that makes a difference here) and the sudo configuration is global (isn't it?), I always though either a project had to pick sudo or not sudo and you couldn't have a mix of builds with each.
</I>&gt;<i> 
</I>&gt;<i> I had just assumed that it would be per-matrix-entry, and while it looks like I'm correct, it's much less obvious than I had thought.  If you look at the second example code block under this heading:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="https://docs.travis-ci.com/user/multi-os/#Example-Multi-OS-Build-Matrix">https://docs.travis-ci.com/user/multi-os/#Example-Multi-OS-Build-Matrix</A> &lt;<A HREF="https://docs.travis-ci.com/user/multi-os/#Example-Multi-OS-Build-Matrix">https://docs.travis-ci.com/user/multi-os/#Example-Multi-OS-Build-Matrix</A>&gt;
</I>&gt;<i> 
</I>&gt;<i> you'll see that one of the matrix/include entries has a 'sudo: required' tag, which means &quot;non-container-based&quot; please.  Presumably you can mix those.
</I>&gt;<i> 
</I>&gt;<i> Ah, neat.  I hope that works (and wish I'd noticed that example a couple months ago).
</I>&gt;<i> 
</I>
I strongly suspect it will, since you can have OS X and Linux builds in the same matrix, and OS X builds are by definition not container based :).

&gt;<i> Jean-Paul
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> The docs on &quot;migrating to the container-based infrastructure&quot; do make it sound like this is impossible though, and this isn't nearly as clear as I'd like, so it would be nice to actually experiment and see what happens...
</I>&gt;<i> 
</I>&gt;&gt;<i> (Wonky quoting thanks to gmail's wonky web interface, sorry)
</I>&gt;<i> 
</I>&gt;<i> It wasn't too bad - certainly well-worth suffering through for your contribution :).
</I>&gt;<i> 
</I>&gt;<i> -glyph
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A> &lt;mailto:<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>&gt;
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A> &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>&gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A> &lt;mailto:<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>&gt;
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A> &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>&gt;
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20160816/d7d86e00/attachment.html">http://twistedmatrix.com/pipermail/twisted-python/attachments/20160816/d7d86e00/attachment.html</A>&gt;
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030735.html">[Twisted-Python] Waiting time for tests running on Travis CI	and Buildbot
</A></li>
	<LI>Next message: <A HREF="030741.html">[Twisted-Python] Waiting time for tests running on Travis CI	and Buildbot
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30737">[ date ]</a>
              <a href="thread.html#30737">[ thread ]</a>
              <a href="subject.html#30737">[ subject ]</a>
              <a href="author.html#30737">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
