<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Tunneling using conch (with application.service)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Tunneling%20using%20conch%20%28with%20application.service%29&In-Reply-To=%3C66dccc4d0908060847y21a42afdt2c1d831419d710a0%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="052686.html">
   <LINK REL="Next"  HREF="052689.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Tunneling using conch (with application.service)</H1>
    <B>Sean Hollingsworth</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Tunneling%20using%20conch%20%28with%20application.service%29&In-Reply-To=%3C66dccc4d0908060847y21a42afdt2c1d831419d710a0%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Tunneling using conch (with application.service)">smhollingsworth at gmail.com
       </A><BR>
    <I>Thu Aug  6 09:47:43 MDT 2009</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="052686.html">[Twisted-Python] Adbapi issues
</A></li>
        <LI>Next message (by thread): <A HREF="052689.html">[Twisted-Python] Tunneling using conch (with	application.service)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52681">[ date ]</a>
              <a href="thread.html#52681">[ thread ]</a>
              <a href="subject.html#52681">[ subject ]</a>
              <a href="author.html#52681">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I’ve got an app written that runs as a service using
twisted.application.service that I need to tunnel through SSH. Right now, I
use a script that makes use of Paramiko (and runs separate from my app) to
set up a tunnel. That more or less works, but I’ve had some problems with
the tunnel just going away and would like to integrate the tunneling into
the app, using conch. I’ve found an example of tunneling via conch, at
<A HREF="http://twistedmatrix.com/pipermail/twisted-python/2009-February/019196.html,">http://twistedmatrix.com/pipermail/twisted-python/2009-February/019196.html,</A>
that I think I can use as a base to add the code to my app.

Right now my app is basically:

class DataPuller(service.Service):
    ...Code for my app...
    ... The app pulls data from a database and I can only connect to the
server via SSH...

application = service.Application(‘Data_puller’)
dpService = DataPuller()
dpService.setServiceParent(application)

My main problems are that I’m not sure whether or not the example linked to
above is a good one for tunneling with conch and, if it is, how do I merge
the example tunneling code with my app code. From the example, where the
code is:

 class Connection(connection.SSHConnection):
        .
        .
        .
        def serviceStarted(self):

Do I instantiate my DataPuller class there, in serviceStarted (and not
subclass from service.Service)? If so, how do I wrap the tunneling code so
that I can make it a service? If not, do I need put the tunneling code
inside my DataPuller class? What would that look like?

Any help will be greatly appreciated.

Sean M Hollingsworth
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20090806/9f8cfb99/attachment.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="052686.html">[Twisted-Python] Adbapi issues
</A></li>
	<LI>Next message (by thread): <A HREF="052689.html">[Twisted-Python] Tunneling using conch (with	application.service)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52681">[ date ]</a>
              <a href="thread.html#52681">[ thread ]</a>
              <a href="subject.html#52681">[ subject ]</a>
              <a href="author.html#52681">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
