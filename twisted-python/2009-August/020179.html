<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Adbapi issues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Adbapi%20issues&In-Reply-To=BB13E4C4D649234F84A01F6DF64BB87F0481F61D%40ccs-ex01.coldstorage.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020177.html">
   <LINK REL="Next"  HREF="020180.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Adbapi issues</H1>
    <B>exarkun at twistedmatrix.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Adbapi%20issues&In-Reply-To=BB13E4C4D649234F84A01F6DF64BB87F0481F61D%40ccs-ex01.coldstorage.com"
       TITLE="[Twisted-Python] Adbapi issues">exarkun at twistedmatrix.com
       </A><BR>
    <I>Thu Aug  6 15:24:44 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="020177.html">[Twisted-Python] Adbapi issues
</A></li>
        <LI>Next message: <A HREF="020180.html">[Twisted-Python] Adbapi issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20179">[ date ]</a>
              <a href="thread.html#20179">[ thread ]</a>
              <a href="subject.html#20179">[ subject ]</a>
              <a href="author.html#20179">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 06:57 pm, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">grickert at coldstorage.com</A> wrote:
&gt;<i>[snip]
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Supporting arraysize in some form is probably a good idea. Another
</I>&gt;&gt;<i>ticket is in order.
</I>&gt;<i>
</I>&gt;<i>Ok, I filed ticket #3956
</I>&gt;<i>...along with a patch for adbapi.py, and test_adbapi.py.
</I>
Great.  Thanks a lot! :)
&gt;<i>My apologies in advance for the test patch :o)
</I>&gt;<i>I haven't written many tests, so I'm not exactly sure the best
</I>&gt;<i>(or perhaps even a good way) of testing some things.
</I>
No worries.  I've given you some feedback on the ticket (I did that
before I noticed this email).  Please feel free to ask if anything
I wrote is unclear.
&gt;<i>[snip]
</I>&gt;<i>
</I>&gt;<i>...my understanding is that it's relatively easy to kill a thread on a
</I>&gt;<i>Unix platform, but not as easy with Windows (which, unfortunately I
</I>&gt;<i>use almost exclusively).
</I>
It's about equally easy on either platform.  However, it's also
basically unreliable on both platforms.  What happens if the killed
thread held a mutex, for example?
&gt;<i>...maybe once *most* users are up to at least python version 2.6 (I'm
</I>&gt;<i>not),
</I>&gt;<i>I wonder if the threadpool in adbapi could be replaced with
</I>&gt;<i>functionality
</I>&gt;&gt;<i> From the multiprocessing package.  I would think it would be easier to
</I>&gt;<i>just kill and restart dead connections then.
</I>
Twisted actually has good support for running child processes already,
so we don't have to wait for Python 2.6, if this is a direction that's
interesting.

Perhaps something based on Ampoule would make sense?  It could be an API
compatible replacement for twisted.enterprise.adbapi, but use child 
processes
instead of threads, and add one new method for interrupting outstanding
work.

Jean-Paul

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020177.html">[Twisted-Python] Adbapi issues
</A></li>
	<LI>Next message: <A HREF="020180.html">[Twisted-Python] Adbapi issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20179">[ date ]</a>
              <a href="thread.html#20179">[ thread ]</a>
              <a href="subject.html#20179">[ subject ]</a>
              <a href="author.html#20179">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
