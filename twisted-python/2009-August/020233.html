<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] How to do basic authentication on twisted web
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20How%20to%20do%20basic%20authentication%20on%20twisted%20web&In-Reply-To=95bb10690908170245x4f968145o48a2578e9e0e4678%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020232.html">
   <LINK REL="Next"  HREF="020234.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] How to do basic authentication on twisted web</H1>
    <B>Colin Alston</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20How%20to%20do%20basic%20authentication%20on%20twisted%20web&In-Reply-To=95bb10690908170245x4f968145o48a2578e9e0e4678%40mail.gmail.com"
       TITLE="[Twisted-Python] How to do basic authentication on twisted web">colin.alston at thusa.co.za
       </A><BR>
    <I>Mon Aug 17 06:02:25 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="020232.html">[Twisted-Python] How to do basic authentication on twisted web
</A></li>
        <LI>Next message: <A HREF="020234.html">[Twisted-Python] How to do basic authentication on twisted web
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20233">[ date ]</a>
              <a href="thread.html#20233">[ thread ]</a>
              <a href="subject.html#20233">[ subject ]</a>
              <a href="author.html#20233">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Aug 17, 2009 at 11:45 AM, Reza Lotun &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">rlotun at gmail.com</A>&gt; wrote:

&gt;<i> The short answer is that you need to use twisted.cred.
</I>

You don't need to do that at all, it just happens to be the best way.


&gt;<i>   wrapper = guard.HTTPAuthSessionWrapper(
</I>&gt;<i>                    Portal(SimpleRealm(), checkers),
</I>&gt;<i>                    [guard.BasicCredentialFactory('yoursite.com')])
</I>&gt;<i>
</I>

Where is Portal and SimpleRealm in your example? Those are actually quite
large constructs which are crucial to guard doing anything useful at all.

Since there are numerous circumstances that people need Htauth, it is
implemented as follows

from twisted.web import http
# and other stuff...

class HTTPAuthPage(rend.Page):
    def renderHTTP(self, ctx):
        request = inevow.IRequest(ctx)
        username, password = request.getUser(), request.getPassword()

        if [My auth details check out]:
            return rend.Page.renderHTTP(self, ctx)

        else:
            request.setHeader('WWW-Authenticate', 'Basic realm=&quot;My realm
name&quot;')
            request.setResponseCode(http.UNAUTHORIZED)
            return &quot;Authentication required.&quot;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20090817/6c8a77e7/attachment.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20090817/6c8a77e7/attachment.htm</A> 
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020232.html">[Twisted-Python] How to do basic authentication on twisted web
</A></li>
	<LI>Next message: <A HREF="020234.html">[Twisted-Python] How to do basic authentication on twisted web
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20233">[ date ]</a>
              <a href="thread.html#20233">[ thread ]</a>
              <a href="subject.html#20233">[ subject ]</a>
              <a href="author.html#20233">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
