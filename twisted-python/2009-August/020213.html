<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Clarification on returning exceptions via	Perspective Broker
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Clarification%20on%20returning%20exceptions%20via%0A%09Perspective%20Broker&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020225.html">
   <LINK REL="Next"  HREF="020218.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Clarification on returning exceptions via	Perspective Broker</H1>
    <B>Matt Bennett</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Clarification%20on%20returning%20exceptions%20via%0A%09Perspective%20Broker&In-Reply-To="
       TITLE="[Twisted-Python] Clarification on returning exceptions via	Perspective Broker">matt at bennett.name
       </A><BR>
    <I>Thu Aug 13 10:32:18 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="020225.html">[Twisted-Python] twisted.positioning: progress report + Factory	question
</A></li>
        <LI>Next message: <A HREF="020218.html">[Twisted-Python] Clarification on returning exceptions via	Perspective Broker
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20213">[ date ]</a>
              <a href="thread.html#20213">[ thread ]</a>
              <a href="subject.html#20213">[ subject ]</a>
              <a href="author.html#20213">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

I'm using the Perspective Broker to run functions on various remote
servers, and trying to pass exceptions raised in the remote functions
back to the client.

My exceptions subclass pb.Error, which means tracebacks are suppressed
on the server and errbacks triggered on the client, exactly as I'd
hoped. What I'm confused about though, is why the
serialization/deserialization process reduces my nice structured
exception into a mere string. Isn't PB's raison d'&#234;tre to allow you to
send fully formed Python classes over the wire?

I'm not 100% convinced that I've not misinterpreted something, but
assuming that pb.Error subclasses are indeed reduced string
representations, I'd appreciate some insight into why PB behaves this
way. I have experimented with returning a standard Exception subclass
to the client, but what it receives is &quot;Unpersistable ... instance
deemed insecure&quot;, which I guess has something to do with the design
rationale, but I don't know enough to understand why.

Finally, is there a standard workaround to this that allows structured
data to be returned as or along with the exception, rather than having
to generate structured text as the string representation and then
rebuild the object at the other end?

Many thanks,
Matt.

</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020225.html">[Twisted-Python] twisted.positioning: progress report + Factory	question
</A></li>
	<LI>Next message: <A HREF="020218.html">[Twisted-Python] Clarification on returning exceptions via	Perspective Broker
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20213">[ date ]</a>
              <a href="thread.html#20213">[ thread ]</a>
              <a href="subject.html#20213">[ subject ]</a>
              <a href="author.html#20213">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
