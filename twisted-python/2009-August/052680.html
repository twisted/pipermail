<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Adbapi issues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Adbapi%20issues&In-Reply-To=%3CBB13E4C4D649234F84A01F6DF64BB87F0481F527%40ccs-ex01.coldstorage.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="052679.html">
   <LINK REL="Next"  HREF="052684.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Adbapi issues</H1>
    <B>Gerrat Rickert</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Adbapi%20issues&In-Reply-To=%3CBB13E4C4D649234F84A01F6DF64BB87F0481F527%40ccs-ex01.coldstorage.com%3E"
       TITLE="[Twisted-Python] Adbapi issues">grickert at coldstorage.com
       </A><BR>
    <I>Thu Aug  6 09:37:03 MDT 2009</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="052679.html">[Twisted-Python] Adbapi issues
</A></li>
        <LI>Next message (by thread): <A HREF="052684.html">[Twisted-Python] Adbapi issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52680">[ date ]</a>
              <a href="thread.html#52680">[ thread ]</a>
              <a href="subject.html#52680">[ subject ]</a>
              <a href="author.html#52680">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i>-----Original Message-----
</I>&gt;<i>From: <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python-bounces at twistedmatrix.com</A> [mailto:twisted-python-
</I>&gt;<i><A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">bounces at twistedmatrix.com</A>] On Behalf Of <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at twistedmatrix.com</A>
</I>&gt;<i>Sent: Thursday, August 06, 2009 10:44 AM
</I>&gt;<i>To: Twisted general discussion
</I>&gt;<i>Subject: Re: [Twisted-Python] Adbapi issues
</I>&gt;<i>
</I>&gt;<i>On 01:56 am, <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">dave at krondo.com</A> wrote:
</I>&gt;&gt;<i>Gerrat Rickert wrote:
</I>&gt;&gt;<i>[snip]
</I>&gt;&gt;&gt;<i>2.  ...since I can't get it to reconnect properly, perhaps I could
</I>&gt;&gt;&gt;<i>just
</I>&gt;&gt;&gt;<i>close the connections in the old connection pool, and create a new
</I>&gt;&gt;&gt;<i>one...
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>dbpool = adbapi.ConnectionPool('cx_Oracle', conn_str,
</I>&gt;&gt;&gt;<i>                cp_noisy=True, cp_min=1, cp_reconnect=True, cp_max=3,
</I>&gt;&gt;&gt;<i>cp_good_sql='select * from dual', threaded=True)
</I>&gt;&gt;&gt;<i>dbpool.close()
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>Traceback (most recent call last):
</I>&gt;&gt;&gt;<i>   File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
</I>&gt;&gt;&gt;<i>   File &quot;c:\python25\lib\site-packages\twisted\enterprise\adbapi.py&quot;,
</I>&gt;&gt;&gt;<i>line 359, i
</I>&gt;&gt;&gt;<i>n close
</I>&gt;&gt;&gt;<i>     if self.shutdownID:
</I>&gt;&gt;&gt;<i>AttributeError: ConnectionPool instance has no attribute 'shutdownID'
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>...shouldn't shutdownID be initialized in the class, or at least in
</I>&gt;&gt;&gt;<i>__init__ ?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Yes, probably so. Feel submit a ticket, including a patch if you want.
</I>&gt;<i>
</I>&gt;<i>This looks a lot like a bug that's fixed in trunk already.  I
</I>&gt;<i>suggest trying this out with a recent checkout of trunk to see
</I>&gt;<i>if it goes away before spending much time trying to track it down.
</I>&gt;<i>
</I>&gt;<i>Jean-Paul
</I>
Well, before filing this as a bug, I found Ticket #2680, which I think
is the same issue.  Nothing's been fixed in the trunk though (...as of
30 seconds ago anyway).  ...and judging from all the discussion on that
ticket, maybe resolving this isn't as trivial as I would have expected.

Gerrat




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="052679.html">[Twisted-Python] Adbapi issues
</A></li>
	<LI>Next message (by thread): <A HREF="052684.html">[Twisted-Python] Adbapi issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52680">[ date ]</a>
              <a href="thread.html#52680">[ thread ]</a>
              <a href="subject.html#52680">[ subject ]</a>
              <a href="author.html#52680">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
