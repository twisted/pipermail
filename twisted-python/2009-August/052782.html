<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] OT - adbapi, connection timeouts, mysql - OT
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20OT%20-%20adbapi%2C%20connection%20timeouts%2C%20mysql%20-%20OT&In-Reply-To=%3Ch6vd8e%24uru%241%40ger.gmane.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="052780.html">
   <LINK REL="Next"  HREF="052783.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] OT - adbapi, connection timeouts, mysql - OT</H1>
    <B>Don Dwiggins</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20OT%20-%20adbapi%2C%20connection%20timeouts%2C%20mysql%20-%20OT&In-Reply-To=%3Ch6vd8e%24uru%241%40ger.gmane.org%3E"
       TITLE="[Twisted-Python] OT - adbapi, connection timeouts, mysql - OT">ddwiggins at advpubtech.com
       </A><BR>
    <I>Mon Aug 24 19:03:09 MDT 2009</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="052780.html">[Twisted-Python] OT - adbapi, connection timeouts, mysql - OT
</A></li>
        <LI>Next message (by thread): <A HREF="052783.html">[Twisted-Python] OT - adbapi, connection timeouts, mysql - OT
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52782">[ date ]</a>
              <a href="thread.html#52782">[ thread ]</a>
              <a href="subject.html#52782">[ subject ]</a>
              <a href="author.html#52782">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Phil Christensen wrote:
&gt;<i> The thing that would concern me is that you can get a ConnectionLost 
</I>&gt;<i> error for a variety of different reasons, and they might not be raised 
</I>&gt;<i> by the first query issued in your interaction.
</I>&gt;<i> 
</I>&gt;<i> I feel like I can think of any number of ways running the same series of 
</I>&gt;<i> queries twice would be a bad thing. I have some very important queries 
</I>&gt;<i> that are run inside a interaction because they do a series of operations 
</I>&gt;<i> in sequence. I can't use transactions because my tables are MyISAM.
</I>&gt;<i> 
</I>&gt;<i> Perhaps I'm jumping at shadows, but automatic re-querying just seems 
</I>&gt;<i> dangerous to me. Only the particular application knows when it's safe.
</I>
I agree strongly.  A case I've run into with Sql Server accessed through 
ODBC: some work is done resulting in some open connections in the pool. 
  At some point, the DB server goes down, or maybe connectivity is lost, 
and later restored.  Any following attempt to use one of the pool 
connections will fail, with one of several error messages, and I at 
least was unable to use them to clearly distinguish this case from an 
error on the request itself.

I wound up putting a wrapper around adbapi that closes the connection 
after each request.

-- 
Don Dwiggins
Advanced Publishing Technology



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="052780.html">[Twisted-Python] OT - adbapi, connection timeouts, mysql - OT
</A></li>
	<LI>Next message (by thread): <A HREF="052783.html">[Twisted-Python] OT - adbapi, connection timeouts, mysql - OT
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52782">[ date ]</a>
              <a href="thread.html#52782">[ thread ]</a>
              <a href="subject.html#52782">[ subject ]</a>
              <a href="author.html#52782">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
