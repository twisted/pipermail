<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] TDD using Trial
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20TDD%20using%20Trial&In-Reply-To=4A9AC7A2.8070104%40gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020329.html">
   <LINK REL="Next"  HREF="020331.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] TDD using Trial</H1>
    <B>Tim Allen</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20TDD%20using%20Trial&In-Reply-To=4A9AC7A2.8070104%40gmail.com"
       TITLE="[Twisted-Python] TDD using Trial">screwtape at froup.com
       </A><BR>
    <I>Sun Aug 30 21:08:35 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="020329.html">[Twisted-Python] TDD using Trial
</A></li>
        <LI>Next message: <A HREF="020331.html">[Twisted-Python] TDD using Trial
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20330">[ date ]</a>
              <a href="thread.html#20330">[ thread ]</a>
              <a href="subject.html#20330">[ subject ]</a>
              <a href="author.html#20330">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, Aug 30, 2009 at 01:40:34PM -0500, Nathan Lundquist wrote:
&gt;<i> I was wondering if any tutorials existed for setting up unit tests for 
</I>&gt;<i> use with trial. I've done a fair share of googling and only found 
</I>&gt;<i> tickets suggesting that more documentation be made available for trial.
</I>
Setting up unit tests with trial is (deliberately) almost identical to
setting up unit tests with the &quot;unittest&quot; module in Python's standard
library. The key differences are:

    - Trial provides a subclass of unittest.TestCase called
      twisted.trial.unittest.TestCase, which adds the following features
      on top of the standard Python API:
	- t.t.u.TestCase supports testing of Twisted-based code,
	  spinning up the reactor and shutting it down when necessary,
	  etc.
	- t.t.u.TestCase allows the setUp, tearDown and individual test
	  methods to return Deferreds, which causes Trial to wait for
	  those Deferreds to fire before it continues on.
	- t.t.u.TestCase has an expanded set of assertions available,
	  including Twisted-specific ones like failUnlessFailure (to
	  check the Failure object returned by a deferred) but also
	  prettier output for simple ones like failUnlessEqual.
	- t.t.u.TestCase has a 'patch' method which allows you to
	  monkeypatch other code for testing purposes. All patches are
	  reverted at the end of the individual test.
	- t.t.u.TestCase subclasses and even individual test methods can
	  be given a 'skip' property, set to a string describing why
	  that TestCase or test should be skipped. This lets you stop
	  broken tests being reported as failures, but unlike just
	  commenting them out, you don't have to worry that the test
	  will be left out of refactorings or forgotten about and never
	  uncommented. You can even skip tests at runtime, for example
	  if a test is platform specific and the test is being run on
	  the 'wrong' platform.
    - Trial will happily run unittest.TestCase test cases, but they
      can't use Twisted features like the reactor or deferreds. If
      you just want to use Trial as an alternative to nosetests, you
      should be fine.
    - If you want the automatic test-discovery to work, you need to put
      your TestCase classes inside files named &quot;test_whatever.py&quot;,
      inside a Python package. Then you can just give Trial the name of
      the Python package and it will run all the tests it can find
      inside it.

Is that helpful?

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020329.html">[Twisted-Python] TDD using Trial
</A></li>
	<LI>Next message: <A HREF="020331.html">[Twisted-Python] TDD using Trial
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20330">[ date ]</a>
              <a href="thread.html#20330">[ thread ]</a>
              <a href="subject.html#20330">[ subject ]</a>
              <a href="author.html#20330">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
