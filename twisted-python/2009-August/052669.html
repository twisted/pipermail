<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Really Basic clarification on defers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Really%20Basic%20clarification%20on%20defers&In-Reply-To=%3C20090805151753.19518.1309660004.divmod.xquotient.21%40localhost.localdomain%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="052667.html">
   <LINK REL="Next"  HREF="052671.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Really Basic clarification on defers</H1>
    <B>exarkun at twistedmatrix.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Really%20Basic%20clarification%20on%20defers&In-Reply-To=%3C20090805151753.19518.1309660004.divmod.xquotient.21%40localhost.localdomain%3E"
       TITLE="[Twisted-Python] Really Basic clarification on defers">exarkun at twistedmatrix.com
       </A><BR>
    <I>Wed Aug  5 09:17:53 MDT 2009</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="052667.html">[Twisted-Python] Really Basic clarification on defers
</A></li>
        <LI>Next message (by thread): <A HREF="052671.html">[Twisted-Python] Really Basic clarification on defers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52669">[ date ]</a>
              <a href="thread.html#52669">[ thread ]</a>
              <a href="subject.html#52669">[ subject ]</a>
              <a href="author.html#52669">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 09:33 am, <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">johnaherne at rocs.co.uk</A> wrote:
&gt;<i>On Wed, Aug 5, 2009 at 12:14 AM, Johann Borck 
</I>&gt;<i>&lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">johann.borck at densedata.com</A>&gt;wrote:
</I>&gt;&gt;<i>
</I>&gt;<i>[snip]
</I>&gt;<i>
</I>&gt;<i>Sendline is not blocking so as you say we can avoid the use of 
</I>&gt;<i>deferreds and
</I>&gt;<i>continue to use sendline directly.
</I>
LineReceiver.sendLine is not blocking, correct.  However, your statement
implies that if it were blocking, you could use Deferreds to address 
this
problem.  This is incorrect.  Deferreds do not make blocking APIs into
non-blocking APIs.
&gt;<i>[snip]
</I>&gt;<i>
</I>&gt;<i>Our option 3 using defertothread does use sendline from the thread. 
</I>&gt;<i>Your
</I>&gt;<i>response implies that is OK since you say defertothread is threadsafe. 
</I>&gt;<i>Did
</I>&gt;<i>you really mean that.
</I>
deferToThread is not thread-safe: you may only call it from the reactor 
thread
(the thread in which you called reactor.run).

Since deferToThread runs the function you pass to it in a non-reactor 
thread,
you may not use any non-thread-safe Twisted APIs in the function you 
pass to
it.
&gt;<i>
</I>&gt;<i>Once again thanks for a very good response. That has cleared up a lot 
</I>&gt;<i>of
</I>&gt;<i>confusion.
</I>&gt;<i>
</I>&gt;<i>I suppose it would help if there was a paragraph at the start of the 
</I>&gt;<i>twisted
</I>&gt;<i>documentation detailing what you have just said. So when they start on
</I>&gt;<i>deferreds you have some sort of context in which to interpret what is 
</I>&gt;<i>being
</I>&gt;<i>said
</I>
A significant effort is presently underway to improve the documentation 
about
Deferreds.  Any specific feedback you have about it would be much 
appreciated.
:<i>)
</I>
Jean-Paul


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="052667.html">[Twisted-Python] Really Basic clarification on defers
</A></li>
	<LI>Next message (by thread): <A HREF="052671.html">[Twisted-Python] Really Basic clarification on defers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52669">[ date ]</a>
              <a href="thread.html#52669">[ thread ]</a>
              <a href="subject.html#52669">[ subject ]</a>
              <a href="author.html#52669">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
