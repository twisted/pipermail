<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Tunneling using conch (with application.service)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Tunneling%20using%20conch%20%28with%20application.service%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020180.html">
   <LINK REL="Next"  HREF="020183.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Tunneling using conch (with application.service)</H1>
    <B>Sean Hollingsworth</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Tunneling%20using%20conch%20%28with%20application.service%29&In-Reply-To="
       TITLE="[Twisted-Python] Tunneling using conch (with application.service)">smhollingsworth at gmail.com
       </A><BR>
    <I>Thu Aug  6 11:47:43 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="020180.html">[Twisted-Python] Adbapi issues
</A></li>
        <LI>Next message: <A HREF="020183.html">[Twisted-Python] Tunneling using conch (with	application.service)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20174">[ date ]</a>
              <a href="thread.html#20174">[ thread ]</a>
              <a href="subject.html#20174">[ subject ]</a>
              <a href="author.html#20174">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I&#8217;ve got an app written that runs as a service using
twisted.application.service that I need to tunnel through SSH. Right now, I
use a script that makes use of Paramiko (and runs separate from my app) to
set up a tunnel. That more or less works, but I&#8217;ve had some problems with
the tunnel just going away and would like to integrate the tunneling into
the app, using conch. I&#8217;ve found an example of tunneling via conch, at
<A HREF="http://twistedmatrix.com/pipermail/twisted-python/2009-February/019196.html,">http://twistedmatrix.com/pipermail/twisted-python/2009-February/019196.html,</A>
that I think I can use as a base to add the code to my app.

Right now my app is basically:

class DataPuller(service.Service):
    ...Code for my app...
    ... The app pulls data from a database and I can only connect to the
server via SSH...

application = service.Application(&#8216;Data_puller&#8217;)
dpService = DataPuller()
dpService.setServiceParent(application)

My main problems are that I&#8217;m not sure whether or not the example linked to
above is a good one for tunneling with conch and, if it is, how do I merge
the example tunneling code with my app code. From the example, where the
code is:

 class Connection(connection.SSHConnection):
        .
        .
        .
        def serviceStarted(self):

Do I instantiate my DataPuller class there, in serviceStarted (and not
subclass from service.Service)? If so, how do I wrap the tunneling code so
that I can make it a service? If not, do I need put the tunneling code
inside my DataPuller class? What would that look like?

Any help will be greatly appreciated.

Sean M Hollingsworth
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20090806/9f8cfb99/attachment.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20090806/9f8cfb99/attachment.htm</A> 
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020180.html">[Twisted-Python] Adbapi issues
</A></li>
	<LI>Next message: <A HREF="020183.html">[Twisted-Python] Tunneling using conch (with	application.service)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20174">[ date ]</a>
              <a href="thread.html#20174">[ thread ]</a>
              <a href="subject.html#20174">[ subject ]</a>
              <a href="author.html#20174">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
