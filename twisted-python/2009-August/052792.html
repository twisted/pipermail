<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] deciding to use twisted or not
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20deciding%20to%20use%20twisted%20or%20not&In-Reply-To=%3Cd9047f780908261841g268bd8fdh3af9faac727f943c%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="052788.html">
   <LINK REL="Next"  HREF="052793.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] deciding to use twisted or not</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20deciding%20to%20use%20twisted%20or%20not&In-Reply-To=%3Cd9047f780908261841g268bd8fdh3af9faac727f943c%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] deciding to use twisted or not">glyph at twistedmatrix.com
       </A><BR>
    <I>Wed Aug 26 19:41:27 MDT 2009</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="052788.html">[Twisted-Python] deciding to use twisted or not
</A></li>
        <LI>Next message (by thread): <A HREF="052793.html">[Twisted-Python] deciding to use twisted or not
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52792">[ date ]</a>
              <a href="thread.html#52792">[ thread ]</a>
              <a href="subject.html#52792">[ subject ]</a>
              <a href="author.html#52792">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Aug 26, 2009 at 4:56 PM, Martin-Louis Bright &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">mlbright at gmail.com</A>&gt;wrote:

&gt;<i> I would like to write a small daemon that monitors (tails) a server log,
</I>&gt;<i> parses the entries and sends HTTP requests based on some of those entries. I
</I>&gt;<i> would like it if the reading of the log file and the sending of http
</I>&gt;<i> requests were asynchronous. Should I use twisted for this? Or is twisted
</I>&gt;<i> overkill...
</I>&gt;<i>
</I>Twisted would be perfectly appropriate for this!  The HTTP requests will
certainly be non-blocking, assuming you use twisted.web.client (or the new,
better thing which I hope will be released before we all get old).

In fact, if anything, Twisted is under-kill; you'll need to go a bit
further.  The one minor issue is that Twisted has no explicit way to do
asynchronous file I/O (because most operating systems provide a bewildering
array of not-really-working systems for non-blocking file I/O, so it would
be challenging for Twisted to do in a way that was useful).  There are a
number of ways to emulate it though; for log files (which are fairly low
volume, and almost by definition will immediately be in your filesystem
cache as the parts you want to read become available) you can just do a
LoopingCall() which does .read() on a file that it leaves open to retrieve
the next chunk of data, and that will probably be good enough.  In practice
you won't actually block doing this read() because your kernel is just going
to pull the bytes directly out of filesystem cache memory and hand them back
to you.  It is of course possible to have to wait for the disk or even the
network, depending on your underlying filesystem.

I just filed <A HREF="http://twistedmatrix.com/trac/ticket/3983">http://twistedmatrix.com/trac/ticket/3983</A> for a more thorough
solution (mostly in the hopes that somebody will close it as a duplicate and
point to some pre-existing issue I couldn't find through search) so you can
monitor future discussion there if you like.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20090826/076162d0/attachment.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="052788.html">[Twisted-Python] deciding to use twisted or not
</A></li>
	<LI>Next message (by thread): <A HREF="052793.html">[Twisted-Python] deciding to use twisted or not
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52792">[ date ]</a>
              <a href="thread.html#52792">[ thread ]</a>
              <a href="subject.html#52792">[ subject ]</a>
              <a href="author.html#52792">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
