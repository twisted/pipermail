<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] unicode for pyPgSQL
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20unicode%20for%20pyPgSQL&In-Reply-To=20090812165115.10431.824940550.divmod.xquotient.62%40localhost.localdomain">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020204.html">
   <LINK REL="Next"  HREF="020209.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] unicode for pyPgSQL</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20unicode%20for%20pyPgSQL&In-Reply-To=20090812165115.10431.824940550.divmod.xquotient.62%40localhost.localdomain"
       TITLE="[Twisted-Python] unicode for pyPgSQL">glyph at twistedmatrix.com
       </A><BR>
    <I>Wed Aug 12 13:13:57 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="020204.html">[Twisted-Python] unicode for pyPgSQL
</A></li>
        <LI>Next message: <A HREF="020209.html">[Twisted-Python] unicode for pyPgSQL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20205">[ date ]</a>
              <a href="thread.html#20205">[ thread ]</a>
              <a href="subject.html#20205">[ subject ]</a>
              <a href="author.html#20205">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Aug 12, 2009 at 12:51 PM, &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at twistedmatrix.com</A>&gt; wrote:

&gt;<i> I did recently learn that pyPgSQL doesn't support bind parameters,
</I>&gt;<i> apparently resulting in almost any use of it insecure and vulnerable to
</I>&gt;<i> SQL injection attacks.  You may want to investigate this further before
</I>&gt;<i> deciding if it's worth figuring out how unicode works.
</I>&gt;<i>
</I>
I believe exarkun is referring to this article:

&lt;
<A HREF="http://www.cerias.purdue.edu/site/blog/post/beware_sql_injections_due_to_missing_prepared_statement_support/">http://www.cerias.purdue.edu/site/blog/post/beware_sql_injections_due_to_missing_prepared_statement_support/</A>
&gt;<i>
</I>
I had a private discussion with the author to clarify.  In order to avoid
spreading FUD, I'd like to draw your attention to this note he added to the
bottom of the post as a result of that discussion:

P.P.S.: To clarify, I haven't demonstrated an SQL injection vulnerability in
pyPGSQL. It's not about the performance penalty either. It's about escaping
done by the client library (the basic implementation of bind parameters
without using the database's support) being a second-rate security solution
to explicitly telling the database &quot;here is the code. Now here's the data&quot;
(prepared statements). It's about decreasing code complexity and reducing
chances for &quot;misunderstandings&quot; (and configuration, e.g., encoding,
discrepancies). It's about assurance and choosing safer technologies and
architectures.

So, to be clear, I don't believe there are any *demonstrated* injection
vulnerabilities (although if someone has a reference to a current one, that
would be helpful); it's just that pyPgSQL goes with an unnecessarily risky
and poorly-performing implementation strategy for quoting parameters.  This
dates back to Postgres itself having poor client-library support for bind
parameters in versions previous to 7; unfortunately this means that most of
the other database bindings for postgres use a similarly bad strategy (and
as Mr. Meunier mentions in his post, the ones which do support bind
parameters have other issues).
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20090812/54b67f82/attachment.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20090812/54b67f82/attachment.htm</A> 
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020204.html">[Twisted-Python] unicode for pyPgSQL
</A></li>
	<LI>Next message: <A HREF="020209.html">[Twisted-Python] unicode for pyPgSQL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20205">[ date ]</a>
              <a href="thread.html#20205">[ thread ]</a>
              <a href="subject.html#20205">[ subject ]</a>
              <a href="author.html#20205">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
