<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] HTTP 302 instead of just delivering the content.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20HTTP%20302%20instead%20of%20just%20delivering%20the%20content.&In-Reply-To=450672AC.2040409%40bluegap.ch">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013990.html">
   <LINK REL="Next"  HREF="013992.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] HTTP 302 instead of just delivering the content.</H1>
    <B>David Reid</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20HTTP%20302%20instead%20of%20just%20delivering%20the%20content.&In-Reply-To=450672AC.2040409%40bluegap.ch"
       TITLE="[Twisted-Python] HTTP 302 instead of just delivering the content.">dreid at dreid.org
       </A><BR>
    <I>Tue Sep 12 10:25:29 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="013990.html">[Twisted-Python] HTTP 302 instead of just delivering the content.
</A></li>
        <LI>Next message: <A HREF="013992.html">[Twisted-Python] HTTP 302 instead of just delivering the content.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13991">[ date ]</a>
              <a href="thread.html#13991">[ thread ]</a>
              <a href="subject.html#13991">[ subject ]</a>
              <a href="author.html#13991">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Sep 12, 2006 at 10:41:16AM +0200, Markus Schiltknecht wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> Phil Mayers wrote:
</I>&gt;<i> &gt;You need a vhostmonster
</I>&gt;<i> 
</I>&gt;<i> Thank you, I didn't think about a vhostmonster, because I don't want to 
</I>&gt;<i> serve multiple vhosts. I only want to serve _one_ website. It gets 
</I>&gt;<i> accessed from different URLs, though.
</I>&gt;<i> 
</I>&gt;<i> As I'm using nevow, I think I have to use the nevow vhost thingie:
</I>&gt;<i> 
</I>&gt;<i> from nevow import appserver
</I>&gt;<i> from nevow import vhost
</I>
Nevow has a VHostMonster.
 
&gt;<i> root = vhost.NameVirtualHost()
</I>&gt;<i> 
</I>&gt;<i> webroot = Website('sites')
</I>&gt;<i> webroot.putChild('xxxxxx.ch', root)
</I>&gt;<i> webroot.putChild('www.xxxxxx.ch', root)
</I>
What do you expect this to do?  

&gt;<i> site = appserver.NevowSite(webroot)
</I>&gt;<i> webserver = internet.TCPServer(8083, site)
</I>&gt;<i> 
</I>&gt;<i> application = service.Application('ulmann website')
</I>&gt;<i> webserver.setServiceParent(application)
</I>
See:
<A HREF="http://twistedmatrix.com/projects/web/documentation/howto/using-twistedweb.html#auto21">http://twistedmatrix.com/projects/web/documentation/howto/using-twistedweb.html#auto21</A>
The usage is exactly the same for Nevow's VHostMonster.
 
&gt;<i> But, that works as before: it still redirects to port 8083 instead of 
</I>&gt;<i> just ignoring the HTTP Host: Header field.
</I>&gt;<i> 
</I>&gt;<i> Can't I just tell twisted web to ignore that? Without VHostMonsters and 
</I>&gt;<i> stuff like that? IMHO twisted should not mind and just serve what it's 
</I>&gt;<i> told to serve on port 8083. And let apache do the reverse proxying.
</I>
It's an issue of URL generation from the request object.  There is no
good way to make the right thing just magically happen.  Because as
usual your right thing will be different from someone elses.
VHostMonster is an atrocity though, someone should seriously consider
backporting the *VHostURIRewrite resources in twisted.web2.vhost.

I'll go get the bear.

-David

-- 
&quot;Usually the protocol is this: I appoint someone for a task,
which they are not qualified to do.  Then, they have to fight
a bear if they don't want to do it.&quot; -- Glyph Lefkowitz


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013990.html">[Twisted-Python] HTTP 302 instead of just delivering the content.
</A></li>
	<LI>Next message: <A HREF="013992.html">[Twisted-Python] HTTP 302 instead of just delivering the content.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13991">[ date ]</a>
              <a href="thread.html#13991">[ thread ]</a>
              <a href="subject.html#13991">[ subject ]</a>
              <a href="author.html#13991">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
