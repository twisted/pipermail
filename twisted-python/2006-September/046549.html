<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] removing unsupported reactors in twisted 2.6: qt, corefoundation, threadedselect, wx
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20removing%20unsupported%20reactors%20in%20twisted%202.6%3A%20qt%2C%0A%20corefoundation%2C%20threadedselect%2C%20wx&In-Reply-To=%3C20060924022046.1717.700961292.divmod.quotient.58188%40ohm%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="046546.html">
   <LINK REL="Next"  HREF="046550.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] removing unsupported reactors in twisted 2.6: qt, corefoundation, threadedselect, wx</H1>
    <B>glyph at divmod.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20removing%20unsupported%20reactors%20in%20twisted%202.6%3A%20qt%2C%0A%20corefoundation%2C%20threadedselect%2C%20wx&In-Reply-To=%3C20060924022046.1717.700961292.divmod.quotient.58188%40ohm%3E"
       TITLE="[Twisted-Python] removing unsupported reactors in twisted 2.6: qt, corefoundation, threadedselect, wx">glyph at divmod.com
       </A><BR>
    <I>Sat Sep 23 20:20:46 MDT 2006</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="046546.html">[Twisted-Python] Re: [Twisted-commits] r18220 - Make tests clean	up after themselves
</A></li>
        <LI>Next message (by thread): <A HREF="046550.html">Other wx/twisted methods (was Re: [Twisted-Python] removing	unsupported	reactors in twisted 2.6: qt, corefoundation, threadedselect, wx)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46549">[ date ]</a>
              <a href="thread.html#46549">[ thread ]</a>
              <a href="subject.html#46549">[ subject ]</a>
              <a href="author.html#46549">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>There are a few reactors in the twisted codebase which currently have no maintainer and do not pass the test suite.  I've listed them in the subject of this message.

I'm comfortable to leave half-supported or potentially broken reactors in the Twisted distribution, as long as they were clearly marked as such and there was some at least potential path to making them work.  IOCP, for example, is good enough for many uses despite not passing the full test suite (and there are rumours of a new buildbot for it appearing soon...)  However, leaving a pile of known-to-be-broken and unmaintained reactors in Twisted is just going to give the impression that Twisted is buggy, and increase the amount of dead code that people reading the codebase can be confused by.

The reactors presented in the subject all seem to have been abandoned.  Even our friends at Apple are mainly concerned with the use of Twisted for server work, and while they've been attempting to help us find someone to poke around GUI &lt;-&gt; reactor integration on OS X, it's not their area of expertise.

At this point, I believe that setting up a buildslave for any of these reactors should be possible with our existing build infrastructure.  Of course, contributions of additional buildslaves are always welcome :), but we can set up slaves for wx and corefoundation ourselves if someone is going to actually start trying to fix them.

I know that there are people in the Twisted community integrating it with wxpython and qt.  I'd really like it if someone could commit to at least contributing some patches in the future.

If I don't hear anything on these fronts before the Twisted 2.6 release, those reactors will be removed from SVN <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">trunk at HEAD</A> and not be included in the 2.6 release.  (The next planned release is Twisted 2.5, so you still have some breathing room.)

Currently qtreactor is being tested on the &quot;reactors&quot; buildslave and is keeping it red, despite the fact that all the other reactors on that slave work fine (modulo a few elusive race conditions).  wxreactor is not being tested at all.  I believe we should split qt out so that it can have its own red column and not interfere with the gtk and poll reactors, and if we run a wx slave it should also be separate.

Although I know of Qt and WX users, I do not know of anyone currently using the corefoundation reactor in an application.  Are you out there?  Is it being used?

The last word I heard on the corefoundation reactor was from its author, Bob Ippolito, who suggested that it was not the correct way to integrate Twisted with GUI applications.  However, his suggested replacement (threadedselectreactor) is buggy, also unmaintained, and IMHO misdesigned, so in the absence of other knowledge I believe that continuing to provide some corefoundation support would be the best way to support the mac.  After receiving a shiny new computer from them I feel inclined to do the best job possible to support Apple's platform, but I simply don't have the time, knowledge, or energy to do the development myself.

With the aforementioned hardware, I believe it would not be much trouble for us to set up a corefoundation reactor buildslave of our own, but we still need someone who will actually work on fixing the bugs, otherwise, the code should be removed.

threadedselectreactor is an interesting concept but hopelessly broken and untested in its current implementation.  I believe it should definitely be removed as a reactor of its own, although as a supporting basis for other reactors it might be good to leave around.  While not entirely correct, it is certainly _less_ broken than the previous ghastly attempt at a wxreactor.  I think it would be a good idea to remove threadedselect from the reactors list in Twisted 2.6, although if someone wants to convince me otherwise with a use-case (and a similar promise of future patches), I'd be happy to hear it.

Once all these reactors have dedicated buildslaves and pass the tests, it is far less important that we have dedicated maintainers.  We can simply insist that all future commits keep all the buildslaves green.  I say this because I want to be clear that I am not asking for a lifetime commitment or we are going to instantly desupport your platform: I'm asking for help getting to the point where we can support multiple platforms without having to be experts in all of them.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="046546.html">[Twisted-Python] Re: [Twisted-commits] r18220 - Make tests clean	up after themselves
</A></li>
	<LI>Next message (by thread): <A HREF="046550.html">Other wx/twisted methods (was Re: [Twisted-Python] removing	unsupported	reactors in twisted 2.6: qt, corefoundation, threadedselect, wx)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46549">[ date ]</a>
              <a href="thread.html#46549">[ thread ]</a>
              <a href="subject.html#46549">[ subject ]</a>
              <a href="author.html#46549">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
