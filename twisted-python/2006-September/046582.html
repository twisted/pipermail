<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: removing unsupported reactors in twisted 2.6:	qt, corefoundation, threadedselect, wx
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Re%3A%20removing%20unsupported%20reactors%20in%20twisted%202.6%3A%0A%09qt%2C%20corefoundation%2C%20threadedselect%2C%20wx&In-Reply-To=%3Cef8feg%241l0%241%40sea.gmane.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="046583.html">
   <LINK REL="Next"  HREF="046597.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: removing unsupported reactors in twisted 2.6:	qt, corefoundation, threadedselect, wx</H1>
    <B>Toby Dickenson</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Re%3A%20removing%20unsupported%20reactors%20in%20twisted%202.6%3A%0A%09qt%2C%20corefoundation%2C%20threadedselect%2C%20wx&In-Reply-To=%3Cef8feg%241l0%241%40sea.gmane.org%3E"
       TITLE="[Twisted-Python] Re: removing unsupported reactors in twisted 2.6:	qt, corefoundation, threadedselect, wx">tdickenson at geminidataloggers.com
       </A><BR>
    <I>Mon Sep 25 05:44:16 MDT 2006</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="046583.html">[Twisted-Python] removing unsupported reactors in twisted 2.6:
</A></li>
        <LI>Next message (by thread): <A HREF="046597.html">[Twisted-Python] removing unsupported reactors in twisted 2.6: qt,	corefoundation, threadedselect, wx
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46582">[ date ]</a>
              <a href="thread.html#46582">[ thread ]</a>
              <a href="subject.html#46582">[ subject ]</a>
              <a href="author.html#46582">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thomas HERVE wrote:

&gt;<i> The next QT version (4.2, currently in RC1) contains support for the
</I>&gt;<i> Glib eventloop. This has to be tested, but it promises use of the gtk
</I>&gt;<i> reactor with Qt application. Qt 4.2 (and PyQt) is not released but
</I>&gt;<i> should be by the time of Twisted 2.6; we could then write a
</I>&gt;<i> documentation about integration. The drawback is that you'll need glib
</I>&gt;<i> (ie, python-gtk) to write a Qt app.
</I>&gt;<i> 
</I>&gt;<i> We also have a qt4 reactor (<A HREF="http://twistedmatrix.com/trac/ticket/1770">http://twistedmatrix.com/trac/ticket/1770</A>)
</I>&gt;<i> that needs a maintener. Last time I checked few things were needed to
</I>&gt;<i> make the test suite pass.
</I>
As far as I am aware (and please correct me if I am wrong) all these recent
qt-specific reactors have the same systematic problem on win32 because they
rely on hooks into the Qt main loop. This means that the reactor only
processes events when the Qt main loop is running, and it stalls if the
main thread blocks in some nested non-Qt message loop. This is a reasonable
thing to happen in a GUI application; nested message loops are used in
MessageBox, drap/drop, window resizing, and non-Qt dialog boxes (like the
standard file chooser).

The nested message loop will be doing the win32 GetMessage/DispatchMessage
dance. This is sufficient to keep the GUI updating smoothly, and it should
be sufficient for the reactor too. IMHO threadedselectreactor seems like
the best option for getting *this* right.

glyph wrote:

&gt;<i> threadedselectreactor is an interesting concept but hopelessly broken
</I>&gt;<i> and untested in its current implementation.
</I>
Im currently using threadedselectreactor (plus private patches) and a
derivative threadedwin32eventreactor in production, so this statement
leaves me with a fairly big itch to scratch. I will check out the failing
tests.





</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="046583.html">[Twisted-Python] removing unsupported reactors in twisted 2.6:
</A></li>
	<LI>Next message (by thread): <A HREF="046597.html">[Twisted-Python] removing unsupported reactors in twisted 2.6: qt,	corefoundation, threadedselect, wx
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46582">[ date ]</a>
              <a href="thread.html#46582">[ thread ]</a>
              <a href="subject.html#46582">[ subject ]</a>
              <a href="author.html#46582">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
