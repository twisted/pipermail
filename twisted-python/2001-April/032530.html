<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] config interface
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20config%20interface&In-Reply-To=%3C20010411114220.A2931%40Fookidla.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="032529.html">
   <LINK REL="Next"  HREF="032533.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] config interface</H1>
    <B>Chris Armstrong</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20config%20interface&In-Reply-To=%3C20010411114220.A2931%40Fookidla.org%3E"
       TITLE="[Twisted-Python] config interface">carmstro at dynup.net
       </A><BR>
    <I>Wed Apr 11 09:42:20 MDT 2001</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="032529.html">[Twisted-Python] config interface
</A></li>
        <LI>Next message (by thread): <A HREF="032533.html">[Twisted-Python] config interface
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32530">[ date ]</a>
              <a href="thread.html#32530">[ thread ]</a>
              <a href="subject.html#32530">[ subject ]</a>
              <a href="author.html#32530">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Apr 11, 2001 at 06:31:32AM -0500, Glyph Lefkowitz wrote:
&gt;<i> &gt;     #Type should return the type of the current object
</I>&gt;<i> &gt;     def configType(self): pass
</I>&gt;<i> 
</I>&gt;<i> I don't think this is necessary though.  Can't you just use the Python class?
</I>
You're right. I was switching to classes for the type system, anyway.

&gt;<i> &gt;     #GetContents should return a dict of children of this object. {&quot;name&quot;:
</I>&gt;<i> &gt; obj} def configGetChildren(self): pass
</I>&gt;<i> 
</I>&gt;<i> Seems like a list of tuples (.items() style) might be more appropriate than a 
</I>&gt;<i> dict, considering that this really isn't mutable.
</I>
Ok, makes sense.

&gt;<i> &gt; I'd like to change this API somewhat to allow different paramaters to add
</I>&gt;<i> &gt; and remove item methods. Not all objects need ids to add an object, and
</I>&gt;<i> &gt; it's not natural for some objects to represent their contents as a dict
</I>&gt;<i> &gt; (selectors, for instance). I was thinking about a solution similar to the
</I>&gt;<i> &gt; improper-state trick that glyph described to me, only it would just look at
</I>&gt;<i> &gt; the arguments that a method needs rather than a constructor of a class.
</I>&gt;<i> 
</I>&gt;<i> That trick is a necessary addition to the API in any case -- these functions 
</I>&gt;<i> aren't enough.  However, you might want to have ConfigurableDictionary, 
</I>&gt;<i> ConfigurableItem, and ConfigurableSequence types which have different ideas 
</I>&gt;<i> about how things get added to them.
</I>
I don't understand what those methods should do. Could you explain a bit
more?

The main thing I was confused about was what exact paramaters might 
configAddItem and configRemoveItem need. Not all containers will have an
'id' for each of their children, but I suppose they could be somehow
generated. For instance, for Selector, I was starting to implement the ids
for each server as 'str(serverObj)', but this didn't seem very nice to me.
I guess now that I think of it again, it doesn't seem all that bad. I might
need to add id(Obj) onto that, though, in some cases.

The following you described to me on IRC, but I appreciate you organizing
it for my benefit. :)

&gt;<i> In order for new configurable things to be instantiatable, you'll need API 
</I>&gt;<i> additions like:
</I>&gt;<i> 
</I>&gt;<i> def configGetRequiredInitArgs(self)
</I>&gt;<i> 
</I>&gt;<i> This returns a 2-tuple of a sequence and a hash.  The first sequence is a 
</I>...
&gt;<i> Note that if something returned by configGetRequiredInitArgs is a class, that 
</I>&gt;<i> class be configurable as well -- that, and your interface may need to be 
</I>&gt;<i> somewhat recursive in order to allow you to pass configurable elements to the 
</I>&gt;<i> initializers of other configurable elements... I'd recommend trying to get 
</I>&gt;<i> something work only supporting basic types at first.
</I>
That sounds pretty neat. Recursion is such fun. :)

&gt;<i> Also, what are you planning on doing for configuring an object's attributes?  
</I>&gt;<i> It seems like that should behave differently from configuring the objects it 
</I>&gt;<i> contains.
</I>
I already have that implemented. Remember config_strings and config_callbacks?


Thanks for the reply
-- 
Chris Armstrong                        <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">carmstro at twistedmatrix.com</A>
<A HREF="http://twistedmatrix.com/~carmstro">http://twistedmatrix.com/~carmstro</A>     <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">carmstro at dynup.net</A>



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="032529.html">[Twisted-Python] config interface
</A></li>
	<LI>Next message (by thread): <A HREF="032533.html">[Twisted-Python] config interface
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32530">[ date ]</a>
              <a href="thread.html#32530">[ thread ]</a>
              <a href="subject.html#32530">[ subject ]</a>
              <a href="author.html#32530">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
