<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] twisted.net refactoring
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20twisted.net%20refactoring&In-Reply-To=01041703154214.26755%40helix">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000029.html">
   <LINK REL="Next"  HREF="000035.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] twisted.net refactoring</H1>
    <B>Moshe Zadka</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20twisted.net%20refactoring&In-Reply-To=01041703154214.26755%40helix"
       TITLE="[Twisted-Python] twisted.net refactoring">moshez at zadka.site.co.il
       </A><BR>
    <I>Tue Apr 17 04:30:56 EDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="000029.html">[Twisted-Python] twisted.net refactoring
</A></li>
        <LI>Next message: <A HREF="000035.html">[Twisted-Python] PIRP for Twisted Python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30">[ date ]</a>
              <a href="thread.html#30">[ thread ]</a>
              <a href="subject.html#30">[ subject ]</a>
              <a href="author.html#30">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, 17 Apr 2001, Glyph Lefkowitz &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A>&gt; wrote:

&gt;<i> This is definitely the direction I want twisted.net to be going in.  Thank 
</I>&gt;<i> you for implmenting it (as well as the additional protocols!).
</I>&gt;<i> 
</I>&gt;<i> Have you started making the requisite changes in net.py as well?
</I>
Not yet. 
I'm not *exactly* sure of the design of net.py itself -- it's a bit
too big for me to digest it right now.
Twisted.net is not the only one that needs to be changed though --
.web, .irc and .telnet should also be modified to take advantage
of it. 

I'm starting to think I want to change my original direction a bit --
just have protocols as twisted.protocols package, think of it as
a library that bridges a level mismatch in event-based protocol
handling -- that is, transforms low-level events (got chunk of
data) into semantic events (got an e-mail message). Then we can
port .net and friends over one by one when we have the chance.

IOW .net should specialize in things that call .handleData and and supply
.write, and .protocols should specialize in providing mixins that supply
.handleData and .write -- and never the twain shall meet, except in high-level
things like twisted.web or twisted.irc which use .net *and* .protocols
to provide useful services. Well, actually, the interface should be
enhanced to .goodBye() -- this is a method .net's should provide and
.protocol's use to signal the remote end requested a shutdown. Oh, 
and .welcome() which the .net's should call 

.net and .protcols should be considered seperate packages that are not
allowed to have any dependancy on any part of twisted.

So here is a summary
- .protocol -- has .welcome() and .handleData method, will call .write()
  and .goodBye() methods.
- .net -- has .write() and .goodBye() methods, will call .welcome() on
  connecting and .handleData() when the transport layer has data.

-- 
&quot;I'll be ex-DPL soon anyway so I'm        |LUKE: Is Perl better than Python?
looking for someplace else to grab power.&quot;|YODA: No...no... no. Quicker,
   -- Wichert Akkerman (on debian-private)|      easier, more seductive.
For public key, finger <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">moshez at debian.org</A>  |<A HREF="http://www.{python,debian,gnu}.org">http://www.{python,debian,gnu}.org</A>



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000029.html">[Twisted-Python] twisted.net refactoring
</A></li>
	<LI>Next message: <A HREF="000035.html">[Twisted-Python] PIRP for Twisted Python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30">[ date ]</a>
              <a href="thread.html#30">[ thread ]</a>
              <a href="subject.html#30">[ subject ]</a>
              <a href="author.html#30">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
