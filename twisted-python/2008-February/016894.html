<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Factory question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Factory%20question&In-Reply-To=47C52001.2080506%40evotex.ch">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016879.html">
   <LINK REL="Next"  HREF="016913.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Factory question</H1>
    <B>Drew Smathers</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Factory%20question&In-Reply-To=47C52001.2080506%40evotex.ch"
       TITLE="[Twisted-Python] Factory question">drew.smathers at gmail.com
       </A><BR>
    <I>Wed Feb 27 11:12:53 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="016879.html">[Twisted-Python] Factory question
</A></li>
        <LI>Next message: <A HREF="016913.html">[Twisted-Python] Factory question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16894">[ date ]</a>
              <a href="thread.html#16894">[ thread ]</a>
              <a href="subject.html#16894">[ subject ]</a>
              <a href="author.html#16894">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Feb 27, 2008 at 3:32 AM, Gabriel Rossetti
&lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">mailing_lists at evotex.ch</A>&gt; wrote:
&gt;<i> Hello everyone,
</I>&gt;<i>
</I>&gt;<i>  I have a small question, I have a service which needs to sometimes send
</I>&gt;<i>  data (without having received any prior to sending) and sometimes
</I>&gt;<i>  receive data, which is better :
</I>&gt;<i>
</I>&gt;<i>  1) create a factory that inherits from ServerFactory and ClientFactory,
</I>&gt;<i>  thus it can listen and send data
</I>&gt;<i>
</I>&gt;<i>  2) create a factory that inherits from ServerFactory only and uses a
</I>&gt;<i>  single-use client (ClientCreator, as shown in the writing clients howto)
</I>&gt;<i>  when it needs to send data
</I>&gt;<i>
</I>
I'm not sure of there's a single right way to do it, but I wouldn't
bother inheriting from both ClientFactory and ServerFactory.  I think
you're on the write track with 2, though.

In most use cases you shouldn't have to create custom factories.  Just
write the protocol to support bidirectional comm and to create the
server:

f = Factory()
f.protocol = YourBidirectionalProtocol

Regarding the client, how you implement it depends on whether or not
the server is establishing the connection vs. reusing the existing
connection.  If you're establishing the connection (like in a cluster
app with known peers), just use ClientCreator.  If you're reusing the
existing connection, then you might not have to anything, unless you
have some state to set up which could be done by overriding
connectionMade on your Protocol.

Finally, take everything I've stated above with a grain of salt.

-- 
\\\\\/\&quot;/\\\\\\\\\\\
\\\\/ // //\/\\\\\\\
\\\/  \\// /\ \/\\\\
\\/ /\/ / /\/ /\ \\\
\/ / /\/ /\  /\\\ \\
/ /\\\  /\\\ \\\\\/\
\/\\\\\/\\\\\/\\\\\\
               d.p.s


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016879.html">[Twisted-Python] Factory question
</A></li>
	<LI>Next message: <A HREF="016913.html">[Twisted-Python] Factory question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16894">[ date ]</a>
              <a href="thread.html#16894">[ thread ]</a>
              <a href="subject.html#16894">[ subject ]</a>
              <a href="author.html#16894">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
