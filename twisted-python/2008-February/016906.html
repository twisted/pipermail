<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] twisted application server
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20twisted%20application%20server&In-Reply-To=d272f0690802271537l78d345b6s57bb490956e0f41b%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016905.html">
   <LINK REL="Next"  HREF="016893.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] twisted application server</H1>
    <B>glyph at divmod.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20twisted%20application%20server&In-Reply-To=d272f0690802271537l78d345b6s57bb490956e0f41b%40mail.gmail.com"
       TITLE="[Twisted-Python] twisted application server">glyph at divmod.com
       </A><BR>
    <I>Wed Feb 27 19:20:29 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="016905.html">[Twisted-Python] twisted application server
</A></li>
        <LI>Next message: <A HREF="016893.html">[Twisted-Python] Re: Open Spaces Revisited
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16906">[ date ]</a>
              <a href="thread.html#16906">[ thread ]</a>
              <a href="subject.html#16906">[ subject ]</a>
              <a href="author.html#16906">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11:37 pm, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">clemesha at gmail.com</A> wrote:
&gt;<i>Would you say that this method of using a separate process instead of
</I>&gt;<i>threads to do work also is possibly good for database operations?
</I>
Sure.
&gt;<i>I'm always reading 'beware of threads' ;) with respect to Twisted,
</I>&gt;<i>so using a very simple control protocol to manage a separate
</I>&gt;<i>dedicate database process might be better than
</I>&gt;<i>relying on the threading that 'adbapi' uses?
</I>
It would definitely work.  The main reason adbapi itself isn't done this 
way is that setting up a process pool is unfortunately more work than 
spawning a thread - you have to decide on a proper set of environment 
variables, locate the python interpreter, locate the script that you're 
going to run, make sure that script is installed by setup.py, decide on 
a control protocol, wait for the subprocess to start up before sending 
it messages, shut down the process appropriately, catch process 
termination and restart (or not), etc etc etc.  Twisted should really 
have a nice API that does all that stuff for you, though, and it's a 
shame that it doesn't.

The other reason is that adbapi is old.  If we were going to implement 
something like ADBAPI today, we'd probably write a process pool first, 
but adbapi was written as a quick hack to get some database integration 
a long time ago.

The only caveat is that additional Python interpreters take up more RAM 
than additional threads.  If the database processes are doing any heavy 
CPU lifting though, this cost could well be worth it.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016905.html">[Twisted-Python] twisted application server
</A></li>
	<LI>Next message: <A HREF="016893.html">[Twisted-Python] Re: Open Spaces Revisited
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16906">[ date ]</a>
              <a href="thread.html#16906">[ thread ]</a>
              <a href="subject.html#16906">[ subject ]</a>
              <a href="author.html#16906">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
