<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] How to say &quot;reverted&quot;. (was Re:	[Twisted-commits] r22628 - Revert r22624: regression in test_conch.)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20How%20to%20say%20%22reverted%22.%20%28was%20Re%3A%0A%09%5BTwisted-commits%5D%20r22628%20-%20Revert%20r22624%3A%20regression%20in%20test_conch.%29&In-Reply-To=%3C20080221114546.euvgnjrdw4o8k0sg%40wasabox.wasabout.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="049339.html">
   <LINK REL="Next"  HREF="049340.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] How to say &quot;reverted&quot;. (was Re:	[Twisted-commits] r22628 - Revert r22624: regression in test_conch.)</H1>
    <B>Thomas Hervé</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20How%20to%20say%20%22reverted%22.%20%28was%20Re%3A%0A%09%5BTwisted-commits%5D%20r22628%20-%20Revert%20r22624%3A%20regression%20in%20test_conch.%29&In-Reply-To=%3C20080221114546.euvgnjrdw4o8k0sg%40wasabox.wasabout.net%3E"
       TITLE="[Twisted-Python] How to say &quot;reverted&quot;. (was Re:	[Twisted-commits] r22628 - Revert r22624: regression in test_conch.)">therve at free.fr
       </A><BR>
    <I>Thu Feb 21 03:45:46 MST 2008</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="049339.html">[Twisted-Python] How to say &quot;reverted&quot;. (was Re:	[Twisted-commits] r22628 - Revert r22624: regression in test_conch.)
</A></li>
        <LI>Next message (by thread): <A HREF="049340.html">[Twisted-Python] Question about writing a server that accepts multiple clients with independent processing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49344">[ date ]</a>
              <a href="thread.html#49344">[ thread ]</a>
              <a href="subject.html#49344">[ subject ]</a>
              <a href="author.html#49344">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Quoting Andrew Bennetts &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">andrew-twisted at puzzling.org</A>&gt;:

&gt;<i> Thomas Hervé wrote:
</I>&gt;<i> [...]
</I>&gt;&gt;<i> &gt; [1] I'll be even happier when we have *machines* monitoring the test
</I>&gt;&gt;<i> &gt; suite, but that's another email.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Currently, our test suite is a little bit too unreliable to do this
</I>&gt;&gt;<i> (aka 'intermittent failures'). But maybe in a near future...
</I>&gt;<i>
</I>&gt;<i> We've had intermittent failures for *years*.  I doubt that'll get solved in a
</I>&gt;<i> near future without some sort of significant change to how we do things.
</I>&gt;<i>
</I>&gt;<i> Here's a thought experiment: one possibility would be completely automate the
</I>&gt;<i> running of the test suite, as jml is suggesting, e.g. by using a   
</I>&gt;<i> commit hook (or
</I>&gt;<i> a ?commit bot? like PQM) that will run the test suite before   
</I>&gt;<i> allowing a commit
</I>&gt;<i> to trunk.  Then intermittent failures become much more intolerable,   
</I>&gt;<i> because they
</I>&gt;<i> will regularly frustrate developers rather than being something you   
</I>&gt;<i> can usually
</I>&gt;<i> ignore.  Thus people will be much more motivated to find solutions to our
</I>&gt;<i> intermittent tests (whether by fixing the offending tests, or   
</I>&gt;<i> disabling them, or
</I>&gt;<i> something else).
</I>&gt;<i>
</I>&gt;<i> I'm not sure it'd be worth the effort, but it's interesting to think about...
</I>

I think it definitely worth the effort. As I see it, maybe we could  
split the effort in 2 parts:
  * having one commit bot for our best supported platform. I think  
debian-py2.4-select has been free of intermittent failure for a bit  
now. Maybe we could trust it enough to disallow commits that breaks  
it. The other advantage for this is that we could formalize the merge  
process a bit more: for example, with a web page where you specify the  
branch name, authors, reviewers, tickets fixed, etc. It looks like  
what PQM is doing.
  * having better notifications for trunk commits that generate failed  
runs. Today, this work is basically done by JP looking at the buildbot  
and remembering the failures and tickets linked to them, and possibly  
creating a new ticket if it's not an already identified problem. It's  
not only cumbersome but probably let some errors pass through.


We could look at this after the release :).

-- 
Thomas




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="049339.html">[Twisted-Python] How to say &quot;reverted&quot;. (was Re:	[Twisted-commits] r22628 - Revert r22624: regression in test_conch.)
</A></li>
	<LI>Next message (by thread): <A HREF="049340.html">[Twisted-Python] Question about writing a server that accepts multiple clients with independent processing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49344">[ date ]</a>
              <a href="thread.html#49344">[ thread ]</a>
              <a href="subject.html#49344">[ subject ]</a>
              <a href="author.html#49344">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
