<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Question about writing a server that accepts	multiple clients with independent processing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Question%20about%20writing%20a%20server%20that%20accepts%0A%09multiple%20clients%20with%20independent%20processing&In-Reply-To=47BD44E4.7080508%40evotex.ch">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016832.html">
   <LINK REL="Next"  HREF="016834.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Question about writing a server that accepts	multiple clients with independent processing</H1>
    <B>Stephen Thorne</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Question%20about%20writing%20a%20server%20that%20accepts%0A%09multiple%20clients%20with%20independent%20processing&In-Reply-To=47BD44E4.7080508%40evotex.ch"
       TITLE="[Twisted-Python] Question about writing a server that accepts	multiple clients with independent processing">stephen at thorne.id.au
       </A><BR>
    <I>Thu Feb 21 04:53:47 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="016832.html">[Twisted-Python] Question about writing a server that accepts multiple clients with independent processing
</A></li>
        <LI>Next message: <A HREF="016834.html">[Twisted-Python] Question about writing a server that accepts	multiple clients with independent processing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16833">[ date ]</a>
              <a href="thread.html#16833">[ thread ]</a>
              <a href="subject.html#16833">[ subject ]</a>
              <a href="author.html#16833">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 21/02/2008, at 7:31 PM, Gabriel Rossetti wrote:
&gt;<i>
</I>&gt;<i> I have done this so far using Twisted :
</I>&gt;<i>
</I>&gt;<i> 1) created a protocol (the one that would be executed in a separate  
</I>&gt;<i> thread in the example above)
</I>&gt;<i> 2) created a factory and listen for incoming connections.
</I>&gt;<i>
</I>&gt;<i> This works great if I have one connection, but I need multiple  
</I>&gt;<i> connections being processed in parallel (simulated parallelism I  
</I>&gt;<i> guess)
</I>&gt;<i>
</I>
Twisted handles the multiple connections by being event based. When a  
networking event occurs, you can receive notifications of those events.

For instance:

A new connection is established -&gt; Factory is told, and has the  
ability to create and associate a protocol instance with that  
connection.
Data comes over a connection -&gt; The Protocol object is told via the  
dataReceived method.
A connection is closed -&gt; The Protocol is told via there  
connectionLost method.

Each time these methods are called, you are expected to return from  
them, not do things in while loops. To get more data, you just return  
control to the event loop (aka reactor.run()) and wait for futher  
notifications.

In order to send data, you send it to protocol.transport.write 
(allmydata), and the event loop takes the responsibility of sending  
that data to the other end of the connection.

I hope that helps you with the concepts involved here. I suggest  
playing around with the Echo server example if you want a readable  
example you can poke and prod.

Regards,
Stephen Thorne


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016832.html">[Twisted-Python] Question about writing a server that accepts multiple clients with independent processing
</A></li>
	<LI>Next message: <A HREF="016834.html">[Twisted-Python] Question about writing a server that accepts	multiple clients with independent processing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16833">[ date ]</a>
              <a href="thread.html#16833">[ thread ]</a>
              <a href="subject.html#16833">[ subject ]</a>
              <a href="author.html#16833">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
