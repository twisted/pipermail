<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Twisted and python-ogre
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted%20and%20python-ogre&In-Reply-To=%3C47B59B31.4030906%40student.ecp.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="049283.html">
   <LINK REL="Next"  HREF="049285.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Twisted and python-ogre</H1>
    <B>Thomas Boucher</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted%20and%20python-ogre&In-Reply-To=%3C47B59B31.4030906%40student.ecp.fr%3E"
       TITLE="[Twisted-Python] Twisted and python-ogre">thomas.boucher at student.ecp.fr
       </A><BR>
    <I>Fri Feb 15 07:01:21 MST 2008</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="049283.html">[Twisted-Python] Re: Twisted and python-ogre
</A></li>
        <LI>Next message (by thread): <A HREF="049285.html">[Twisted-Python] Twisted and python-ogre
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49284">[ date ]</a>
              <a href="thread.html#49284">[ thread ]</a>
              <a href="subject.html#49284">[ subject ]</a>
              <a href="author.html#49284">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jean-Paul Calderone a Ã©crit :
&gt;<i> Chris Armstrong's response to the post you refer to is accurate.  Twisted
</I>&gt;<i> APIs are not threadsafe.  In order to call them from a thread other than
</I>&gt;<i> the one in which the reactor is running, it is absolutely required that you
</I>&gt;<i> use reactor.callFromThread.  This is quite simple.  Instead of:
</I>&gt;<i> 
</I>&gt;<i>    proto.sendLine(&quot;line&quot;)
</I>&gt;<i> 
</I>&gt;<i> Simple do:
</I>&gt;<i> 
</I>&gt;<i>    reactor.callFromThread(proto.sendLine, &quot;line&quot;)
</I>&gt;<i> 
</I>&gt;<i> You will have to do this for every call you make to a Twisted API (except
</I>&gt;<i> for reactor.callFromThread, of course ;).
</I>
I have just tried this method, and it perfectly works.
The twisted reactor is run in another thread and the calls to Twisted 
are managed by the callFromThread method. The main advantage I see to it 
(excepting the fact that it works) is that it does not require changes 
in the way the graphic rendering is done : you do not care about how 
python-ogre runs to code the twisted part.

&gt;<i> The best solution would be to really integrate the two loops.  I don't know
</I>&gt;<i> the details of OGRE though, so I can't tell you specifically how to do 
</I>&gt;<i> this.
</I>&gt;<i> It is tightly dependent on the details of the loops being integrated.
</I>
What I can't see for the moment is how much better it would be to do 
like the other ways delivered in the discussion thread (by Werner, 
Bernie an Stefan). These ways consist in running Twisted first and in 
letting it manage python-ogre (by doing the rendering frame by frame 
with coiteration, or loopingcalls).
Is this better than doing separate threads ?

&gt;<i> Because most other event loops are very bad at managing events. :)  If you
</I>&gt;<i> want reasonable network performance, you need a good network event loop to
</I>&gt;<i> be in control.
</I>
Don't you think using basic sockets (easy to code in Python) to make the 
network connection from a client to a server is more efficient 
(considering the time spent to do it or the complexity of the code) and 
more easy to keep in a project ?

I suppose the connexion is better managed with Twisted with a lot of 
control (and moreover there are huge libs) but to what extend ?


Anyway, thanks for all the suggestions already given by everybody.

Cheers

-- 
Thomas Boucher


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="049283.html">[Twisted-Python] Re: Twisted and python-ogre
</A></li>
	<LI>Next message (by thread): <A HREF="049285.html">[Twisted-Python] Twisted and python-ogre
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49284">[ date ]</a>
              <a href="thread.html#49284">[ thread ]</a>
              <a href="subject.html#49284">[ subject ]</a>
              <a href="author.html#49284">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
