<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Changing procmon.ProcessMonitor.processes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Changing%20procmon.ProcessMonitor.processes&In-Reply-To=%3CE7698FD8-9BE3-481C-AE99-D83A9199E7EA%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="031638.html">
   <LINK REL="Next"  HREF="064104.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Changing procmon.ProcessMonitor.processes</H1>
    <B>ex vito</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Changing%20procmon.ProcessMonitor.processes&In-Reply-To=%3CE7698FD8-9BE3-481C-AE99-D83A9199E7EA%40gmail.com%3E"
       TITLE="[Twisted-Python] Changing procmon.ProcessMonitor.processes">ex.vitorino at gmail.com
       </A><BR>
    <I>Mon Sep 11 03:43:44 MDT 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="031638.html">[Twisted-Python] Changing procmon.ProcessMonitor.processes
</A></li>
        <LI>Next message (by thread): <A HREF="064104.html">[Twisted-Python] Changing procmon.ProcessMonitor.processes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64100">[ date ]</a>
              <a href="thread.html#64100">[ thread ]</a>
              <a href="subject.html#64100">[ subject ]</a>
              <a href="author.html#64100">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> The options I see:
</I>&gt;<i> 
</I>&gt;<i> 1. Move processes to a private attribute, deprecate processors, then do it.
</I>
From an abstraction standpoint, that makes sense. Probably the same could be said about the other process related dict attributes like protocols, delay, etc., though. They all seem to be &quot;name&quot; indexed dicts of things related to a given process.

In other words, moving processes into a private attribute suggests making all (most?) other attributes private as well.


&gt;<i> 2. Have a parallel dictionary to processes
</I>
Given that there are already lots of interrelated dicts, I'd say this would continue the current design which, as we're seeing now, is not easily extendable. I'd try to avoid this.

Sidenote: A quick, mostly backwards compatible, change could probably add cwd to the existing per-process tuple in self.processes as an extra item, couldn't it? Not 100% backwards compatible, because the tuple would have one more element, but nearly 100%.


&gt;<i> 3. Move, as Glyph suggested, to object with attributes. For backwards compatibility, I can support __getitem__ for the historic unpackers.
</I>
This feels cleaner and better. Maybe __getitem__ could be implemented and deprecated immediately, who knows?

Again, creating a class here could also induce doing something similar with the &quot;process policy/state attributes&quot; (for the lack of a better name), where maybe the other dicts could somehow be brought together. Whether this is a better design or not is up for consideration. But one thing is a fact, just bringing them together into a common class (and, thus, down to a single attribute in ProcessMonitor) would break backwards compatibility for some of the same reasons you are now raising. *sigh!*


&gt;<i> 4. Decide we're going with &quot;incompatible change&quot;, and move processes to a private attribute.
</I>
I see no reason for accessing those attributes from &quot;outside of ProcessMonitor&quot; but if Twisted claims not to break existing code without previous deprecation warning, such an approach would break that promise (full policy details here <A HREF="http://twistedmatrix.com/documents/current/core/development/policy/compatibility-policy.html">http://twistedmatrix.com/documents/current/core/development/policy/compatibility-policy.html</A>).


My 2c.
Regards,
--
exvito


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="031638.html">[Twisted-Python] Changing procmon.ProcessMonitor.processes
</A></li>
	<LI>Next message (by thread): <A HREF="064104.html">[Twisted-Python] Changing procmon.ProcessMonitor.processes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64100">[ date ]</a>
              <a href="thread.html#64100">[ thread ]</a>
              <a href="subject.html#64100">[ subject ]</a>
              <a href="author.html#64100">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
