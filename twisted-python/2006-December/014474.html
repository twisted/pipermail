<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] web2: http Content-Length header
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20web2%3A%20http%20Content-Length%20header&In-Reply-To=200612061035.12521.mailinglists%40grimmerink.nl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014471.html">
   <LINK REL="Next"  HREF="014475.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] web2: http Content-Length header</H1>
    <B>James Y Knight</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20web2%3A%20http%20Content-Length%20header&In-Reply-To=200612061035.12521.mailinglists%40grimmerink.nl"
       TITLE="[Twisted-Python] web2: http Content-Length header">foom at fuhm.net
       </A><BR>
    <I>Wed Dec  6 11:23:24 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="014471.html">[Twisted-Python] web2: http Content-Length header
</A></li>
        <LI>Next message: <A HREF="014475.html">[Twisted-Python] web2: http Content-Length header
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14474">[ date ]</a>
              <a href="thread.html#14474">[ thread ]</a>
              <a href="subject.html#14474">[ subject ]</a>
              <a href="author.html#14474">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Dec 6, 2006, at 4:35 AM, Pieter Grimmerink wrote:

&gt;<i> On Wednesday 06 December 2006 01:54, David Reid wrote:
</I>&gt;&gt;<i> Why don't you just use self.length when showing the progress?
</I>&gt;<i>
</I>&gt;<i> The length is not passed to the Response object.
</I>&gt;<i>
</I>&gt;<i> twisted/web2/client/http.py line 168:
</I>&gt;<i> self.response = http.Response(self.code, self.inHeaders, self.stream)
</I>&gt;<i>
</I>&gt;<i> This response object is then passed to the responseDefer callback,  
</I>&gt;<i> which
</I>&gt;<i> means we only have resultcode, headers and stream to work with.
</I>
Sorry for not responding before. The Content-Length is removed from  
the set of headers and moved to an attribute of the stream. This is  
so that if anybody does content transforms before you get the data  
(e.g. transparent uncompressing/etc), the length and the data is in  
the same place, among other reasons.

You're supposed to get the length from the stream object.  
stream.length is an integer if the content length is known, and None  
if it is not known.

James



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014471.html">[Twisted-Python] web2: http Content-Length header
</A></li>
	<LI>Next message: <A HREF="014475.html">[Twisted-Python] web2: http Content-Length header
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14474">[ date ]</a>
              <a href="thread.html#14474">[ thread ]</a>
              <a href="subject.html#14474">[ subject ]</a>
              <a href="author.html#14474">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
