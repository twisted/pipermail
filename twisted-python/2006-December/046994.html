<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: Perspective Broker Anonymous access..
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Re%3A%20Perspective%20Broker%20Anonymous%20access..&In-Reply-To=%3C20061208204340.28587.724311602.divmod.xquotient.658%40joule.divmod.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="046993.html">
   <LINK REL="Next"  HREF="047021.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: Perspective Broker Anonymous access..</H1>
    <B>exarkun at divmod.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Re%3A%20Perspective%20Broker%20Anonymous%20access..&In-Reply-To=%3C20061208204340.28587.724311602.divmod.xquotient.658%40joule.divmod.com%3E"
       TITLE="[Twisted-Python] Re: Perspective Broker Anonymous access..">exarkun at divmod.com
       </A><BR>
    <I>Fri Dec  8 13:43:40 MST 2006</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="046993.html">[Twisted-Python] Re: Perspective Broker Anonymous access..
</A></li>
        <LI>Next message (by thread): <A HREF="047021.html">[Twisted-Python] Re: Perspective Broker Anonymous access..
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46994">[ date ]</a>
              <a href="thread.html#46994">[ thread ]</a>
              <a href="subject.html#46994">[ subject ]</a>
              <a href="author.html#46994">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 08:19 pm, <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">cedepaula at yahoo.com.br</A> wrote:
&gt;<i>Jean-Paul Calderone &lt;exarkun &lt;at&gt; divmod.com&gt; writes:
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> You have to re-implement the login process to support anonymous users.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> PBClientFactory.login() cannot be used for this.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Jean-Paul
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>So, the examples given in
</I>&gt;<i><A HREF="http://twistedmatrix.com/projects/core/documentation/howto/pb-cred.html">http://twistedmatrix.com/projects/core/documentation/howto/pb-cred.html</A> (below)
</I>&gt;<i>doesnt works?
</I>&gt;<i>
</I>&gt;<i># anonymous users share one Avatar, named users each get their own
</I>&gt;<i>    def requestAvatar(self, avatarID, mind, *interfaces):
</I>&gt;<i>        assert pb.IPerspective in interfaces
</I>&gt;<i>        if avatarID == checkers.ANONYMOUS:
</I>&gt;<i>            return pb.IPerspective, self.anonAvatar, lambda:None
</I>&gt;<i>        else:
</I>&gt;<i>            return pb.IPerspective, self.avatars[avatarID], lambda:None
</I>
Yes, unfortunately.  Without changing protocol-level code in PB, there is
no way the first branch in that if/else is ever going to be executed. I'm
not sure why the example bothers to cover this case; it seems misleading.

&gt;<i>
</I>&gt;<i>I was looking at pb.py, portal.py and the way i understood, the whole chain
</I>&gt;<i>(login -&gt; cbSendUsername -&gt; remote login -&gt; cb_Response -&gt; remote respond) is
</I>&gt;<i>the responsible by the login process... if we send like credentials.Anonymous in
</I>&gt;<i>login(), all this chain needs to handle it... right?
</I>
Yes, that is correct.  Despite the number of steps involved, it's actually
not very much work to adjust.

&gt;<i>
</I>&gt;<i>Its a little strange why we cant have authenticated and anonymous users sharing
</I>&gt;<i>the same process since we can filter in the avatar given the permissions (like
</I>&gt;<i>example above).
</I>
It's an unfortunate omission.  Requests for PB logins using a different
kind of credentials object are fairly common.

&gt;<i>
</I>&gt;<i>Another question... is it interesting to twisted project to have this kind of
</I>&gt;<i>support? I mean, is it important to provide a way to this support in a patch to
</I>&gt;<i>the project or should I do modifications I need (if i learn how to) and keep
</I>&gt;<i>them to me?
</I>
It would be a very welcome contribution. :)  Take a look at these pages,
if you haven't already seen them, for some guidelines on how to best
contribute the changes, and feel free to ask if you have any other questions.

Jean-Paul
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20061208/fcf1d6d9/attachment.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="046993.html">[Twisted-Python] Re: Perspective Broker Anonymous access..
</A></li>
	<LI>Next message (by thread): <A HREF="047021.html">[Twisted-Python] Re: Perspective Broker Anonymous access..
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46994">[ date ]</a>
              <a href="thread.html#46994">[ thread ]</a>
              <a href="subject.html#46994">[ subject ]</a>
              <a href="author.html#46994">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
