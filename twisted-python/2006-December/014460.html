<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Need Exception that will stop ther reactor	within twistd
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Need%20Exception%20that%20will%20stop%20ther%20reactor%0A%09within%20twistd&In-Reply-To=20061202021133.11053.119016448.divmod.xquotient.1144%40joule.divmod.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014451.html">
   <LINK REL="Next"  HREF="014452.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Need Exception that will stop ther reactor	within twistd</H1>
    <B>Nicolas D. Cesar</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Need%20Exception%20that%20will%20stop%20ther%20reactor%0A%09within%20twistd&In-Reply-To=20061202021133.11053.119016448.divmod.xquotient.1144%40joule.divmod.com"
       TITLE="[Twisted-Python] Need Exception that will stop ther reactor	within twistd">ncesar at lunix.com.ar
       </A><BR>
    <I>Mon Dec  4 14:56:00 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="014451.html">[Twisted-Python] Need Exception that will stop ther reactor	within twistd
</A></li>
        <LI>Next message: <A HREF="014452.html">[Twisted-Python] Weekly Bug Summary
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14460">[ date ]</a>
              <a href="thread.html#14460">[ thread ]</a>
              <a href="subject.html#14460">[ subject ]</a>
              <a href="author.html#14460">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>El Viernes, 1 de Diciembre de 2006 23:11, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at divmod.com</A> escribi&#243;:
&gt;<i> On 30 Nov, 08:00 pm, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">ncesar at lunix.com.ar</A> wrote:
</I>&gt;<i> My point is that you are artificially combining your application with your
</I>&gt;<i> infrastructure.  The reactor is always potentially in use by multiple
</I>&gt;<i> applications, so it is not the thing that should be stopped.
</I>
That's new to me! is there any documentation on &quot;multiple applications&quot; 
reactors? 

&gt;<i> &gt;I have multiple LSTP (Linux Terminal Server Project) servers. All servers
</I>&gt;<i> &gt; are (almost) the same, and any of them can serve any client. There are
</I>&gt;<i> &gt; arround 8-12 servers and 150+ clients. I'm developing a twisted
</I>&gt;<i> &gt; application that balances clients requests (by filtering DHCP
</I>&gt;<i> &gt; discover/requests packets. (I attached an image, my application is called
</I>&gt;<i> &gt; multiltsp). I'm using ip_queue for this.
</I>&gt;<i>
</I>&gt;<i> OK.  So somewhere, there should be a MultiLTSPService which is the thing
</I>&gt;<i> that gets stopped by these exceptions, I think.
</I>
I have a t.a.service.MultiService() serving all this inside an 
t.a.service.Application, where should I write the &quot;try:.. except:&quot; code? 

&gt;<i> &gt;There is a LDAP somewhere that has all client MACs that are in the group
</I>&gt;<i> &gt; (eg. the 150 clients) and from time to time, multiltsp re-reads this
</I>&gt;<i> &gt; list. (I'm simplifying much of these details). I'll call this list
</I>&gt;<i> &gt; &quot;ALL-MACS&quot;... ... all multiltsp daemons MUST have the ALL-MACS list
</I>&gt;<i> &gt; identical, in case there is a out of sync[1] problem the (incorrect)
</I>&gt;<i> &gt; server must quit and the others must handle the clients.
</I>&gt;<i>
</I>&gt;<i> Shouldn't it just get informed that it is in an invalid state, and re-start
</I>&gt;<i> itself, rather than shutting down entirely?  
</I>
Rebuilding your house won't stop the hurricane :-) re-starting won't bring it 
to a correct state, just because it's a problem from outside, usually 
asociated with a (sysadmin) human action. I need the process to stop (and 
send some mails) so it can be fully reparied with qualified supra-sysadmins. 
The MultiLTSP server can't be a zombie forever... But then again, i'm new to 
twisted (less than 5 month) and probably i'm misunderstanding twisted's 
components. 

&gt;<i> So there needs to be an object that represents the &quot;whole application&quot;,
</I>&gt;<i> which has references to all these services.  The reactor should not be
</I>&gt;<i> serving that purpose.
</I>
I thought the main quit() was the reactor.stop(), my teachers were tutorials, 
is there any cleaner way to quit. There is a t.a.service.Application() should 
be used for this? should be used ANOTHER object?


-- 
Nicol&#225;s D. C&#233;sar &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">ncesar at lunix.com.ar</A>&gt;
Lunix S.R.L. -[ <A HREF="http://www.lunix.com.ar">http://www.lunix.com.ar</A> ]-
GnuPG Public Key: gpg --keyserver wwwkeys.pgp.net --recv-key 0x3606F3E6
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20061204/3e08c545/attachment.pgp">http://twistedmatrix.com/pipermail/twisted-python/attachments/20061204/3e08c545/attachment.pgp</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014451.html">[Twisted-Python] Need Exception that will stop ther reactor	within twistd
</A></li>
	<LI>Next message: <A HREF="014452.html">[Twisted-Python] Weekly Bug Summary
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14460">[ date ]</a>
              <a href="thread.html#14460">[ thread ]</a>
              <a href="subject.html#14460">[ subject ]</a>
              <a href="author.html#14460">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
