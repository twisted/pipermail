<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Need Exception that will stop ther reactor	within twistd
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Need%20Exception%20that%20will%20stop%20ther%20reactor%0A%09within%20twistd&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014450.html">
   <LINK REL="Next"  HREF="014460.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Need Exception that will stop ther reactor	within twistd</H1>
    <B>glyph at divmod.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Need%20Exception%20that%20will%20stop%20ther%20reactor%0A%09within%20twistd&In-Reply-To="
       TITLE="[Twisted-Python] Need Exception that will stop ther reactor	within twistd">glyph at divmod.com
       </A><BR>
    <I>Fri Dec  1 21:11:33 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="014450.html">[Twisted-Python] trac's reliability
</A></li>
        <LI>Next message: <A HREF="014460.html">[Twisted-Python] Need Exception that will stop ther reactor	within twistd
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14451">[ date ]</a>
              <a href="thread.html#14451">[ thread ]</a>
              <a href="subject.html#14451">[ subject ]</a>
              <a href="author.html#14451">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 30 Nov, 08:00 pm, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">ncesar at lunix.com.ar</A> wrote:
&gt;<i>my apologies for the delayed answer, i've been very busy latelly.
</I>
No problem, aren't we all.

&gt;<i>El Martes, 28 de Noviembre de 2006 06:07, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at divmod.com</A> escribi&#243;:
</I>&gt;&gt;<i> Should the webserver stop simply because your protocol is not working?
</I>&gt;<i>
</I>&gt;<i>Well, yes I agree with you: not a webserver. So, I'll shortly describe my
</I>&gt;<i>application.
</I>
My point is that you are artificially combining your application with your infrastructure.  The reactor is always potentially in use by multiple applications, so it is not the thing that should be stopped.

&gt;<i>I have multiple LSTP (Linux Terminal Server Project) servers. All servers are
</I>&gt;<i>(almost) the same, and any of them can serve any client. There are arround
</I>&gt;<i>8-12 servers and 150+ clients. I'm developing a twisted application that
</I>&gt;<i>balances clients requests (by filtering DHCP discover/requests packets. (I
</I>&gt;<i>attached an image, my application is called multiltsp). I'm using ip_queue
</I>&gt;<i>for this.
</I>
OK.  So somewhere, there should be a MultiLTSPService which is the thing that gets stopped by these exceptions, I think.

&gt;<i>There is a LDAP somewhere that has all client MACs that are in the group (eg.
</I>&gt;<i>the 150 clients) and from time to time, multiltsp re-reads this list. (I'm
</I>&gt;<i>simplifying much of these details). I'll call this list &quot;ALL-MACS&quot;...
</I>&gt;<i>... all multiltsp daemons MUST have the ALL-MACS list identical, in case there
</I>&gt;<i>is a out of sync[1] problem the (incorrect) server must quit and the others
</I>&gt;<i>must handle the clients.
</I>
Shouldn't it just get informed that it is in an invalid state, and re-start itself, rather than shutting down entirely?  I understand that this is a &quot;panic&quot; state that should &quot;never happen&quot;, but you can flush that one bit of state without tanking the entire process.

&gt;<i>There are serveral  services involved in this application (the multicast UDP
</I>&gt;<i>protocol, a shell, the ip_queue reader and others),  but a major problem as
</I>&gt;<i>stated above MUST get the application down with some special clean up.
</I>
So there needs to be an object that represents the &quot;whole application&quot;, which has references to all these services.  The reactor should not be serving that purpose.

&gt;<i>Glyph, I hope you understand my rustic English in the explanation above. Any
</I>&gt;<i>advice or suggestion please respond this email.
</I>
It's not too bad :)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20061202/c8c543ba/attachment.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20061202/c8c543ba/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014450.html">[Twisted-Python] trac's reliability
</A></li>
	<LI>Next message: <A HREF="014460.html">[Twisted-Python] Need Exception that will stop ther reactor	within twistd
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14451">[ date ]</a>
              <a href="thread.html#14451">[ thread ]</a>
              <a href="subject.html#14451">[ subject ]</a>
              <a href="author.html#14451">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
