<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: Twisted-Python Digest, Vol 33, Issue 6
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20Twisted-Python%20Digest%2C%20Vol%2033%2C%20Issue%206&In-Reply-To=E1Gs0kH-0003PB-02%40pyramid.twistedmatrix.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014488.html">
   <LINK REL="Next"  HREF="014480.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: Twisted-Python Digest, Vol 33, Issue 6</H1>
    <B>Steve Han</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20Twisted-Python%20Digest%2C%20Vol%2033%2C%20Issue%206&In-Reply-To=E1Gs0kH-0003PB-02%40pyramid.twistedmatrix.com"
       TITLE="[Twisted-Python] Re: Twisted-Python Digest, Vol 33, Issue 6">hxianping at gmail.com
       </A><BR>
    <I>Thu Dec  7 22:08:26 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="014488.html">[Twisted-Python] What Win32 issues are important to you?
</A></li>
        <LI>Next message: <A HREF="014480.html">[Twisted-Python] delay_connect problems in twisted.enterprise.adbapi
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14479">[ date ]</a>
              <a href="thread.html#14479">[ thread ]</a>
              <a href="subject.html#14479">[ subject ]</a>
              <a href="author.html#14479">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thank you very much Robert.I have been using SuSE10.0 that contained
twisted.I could not find twisted when updating to SuSE10.1Wired.I am back to
suse10.0 again.I will learn more about twisted from now.

On 12/7/06, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python-request at twistedmatrix.com</A> &lt;
<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python-request at twistedmatrix.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Send Twisted-Python mailing list submissions to
</I>&gt;<i>         <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>
</I>&gt;<i>
</I>&gt;<i> To subscribe or unsubscribe via the World Wide Web, visit
</I>&gt;<i>         <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i> or, via email, send a message with subject or body 'help' to
</I>&gt;<i>         <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python-request at twistedmatrix.com</A>
</I>&gt;<i>
</I>&gt;<i> You can reach the person managing the list at
</I>&gt;<i>         <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python-owner at twistedmatrix.com</A>
</I>&gt;<i>
</I>&gt;<i> When replying, please edit your Subject line so it is more specific
</I>&gt;<i> than &quot;Re: Contents of Twisted-Python digest...&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Today's Topics:
</I>&gt;<i>
</I>&gt;<i>    1. Re: web2: http Content-Length header (Pieter Grimmerink)
</I>&gt;<i>    2. twisted dohop ( Atli ?orbj?rnsson )
</I>&gt;<i>    3. Re: twisted dohop (Christopher Armstrong)
</I>&gt;<i>    4. Re: web2: http Content-Length header (David Reid)
</I>&gt;<i>    5. Problems with building of twisted-2.4.0 (Steve Han)
</I>&gt;<i>    6. Re: Problems with building of twisted-2.4.0 (Robert Gravina)
</I>&gt;<i>    7. Re: web2: http Content-Length header (Pieter Grimmerink)
</I>&gt;<i>    8. Thread (Gabriel)
</I>&gt;<i>    9. Re: Thread (Jean-Paul Calderone)
</I>&gt;<i>   10. Re: web2: http Content-Length header (James Y Knight)
</I>&gt;<i>   11. Re: web2: http Content-Length header (Pieter Grimmerink)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ----------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 1
</I>&gt;<i> Date: Tue, 5 Dec 2006 22:55:37 +0100
</I>&gt;<i> From: Pieter Grimmerink &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">mailinglists at grimmerink.nl</A>&gt;
</I>&gt;<i> Subject: Re: [Twisted-Python] web2: http Content-Length header
</I>&gt;<i> To: Twisted general discussion &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>&gt;
</I>&gt;<i> Message-ID: &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">200612052255.37751.mailinglists at grimmerink.nl</A>&gt;
</I>&gt;<i> Content-Type: text/plain;  charset=&quot;us-ascii&quot;
</I>&gt;<i>
</I>&gt;<i> On Monday 04 December 2006 22:16, Pieter Grimmerink wrote:
</I>&gt;<i> &gt; Is it really necessary to remove the content-length header from the
</I>&gt;<i> &gt; response?
</I>&gt;<i>
</I>&gt;<i> Correction, it turns out indeed it has to be removed. If it isn't stripped
</I>&gt;<i> from the response, somehow the download stops after a single block of data
</I>&gt;<i> has been received.
</I>&gt;<i>
</I>&gt;<i> Since the content-length is saved in self.length, the following could be a
</I>&gt;<i> workaround (and it does work fine here):
</I>&gt;<i>
</I>&gt;<i> Add the Content-Length header again after calling setConnectionParams, at
</I>&gt;<i> the bottom of allHeadersReceived (line 195 twisted/web2/channel/http.py)
</I>&gt;<i>
</I>&gt;<i>   self.inHeaders.setHeader('Content-Length', str(self.length))
</I>&gt;<i>
</I>&gt;<i> What exactly goes wrong with setConnectionParams when the Content-Length
</I>&gt;<i> header is not (temporarily) removed is not 100% clear to me, so there
</I>&gt;<i> probably are better solutions for this problem.
</I>&gt;<i>
</I>&gt;<i> Regards, Pieter
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 2
</I>&gt;<i> Date: Tue, 5 Dec 2006 22:51:06 +0000
</I>&gt;<i> From: &quot; Atli ?orbj?rnsson &quot; &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">atlithorn at gmail.com</A>&gt;
</I>&gt;<i> Subject: [Twisted-Python] twisted dohop
</I>&gt;<i> To: <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>
</I>&gt;<i> Message-ID:
</I>&gt;<i>         &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">91142a380612051451k441243f8vd438f5daf618c3f8 at mail.gmail.com</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=&quot;iso-8859-1&quot;
</I>&gt;<i>
</I>&gt;<i> We would like to be added to the ProjectsUsingTwisted page. dohop.com is a
</I>&gt;<i> flight planner and twisted runs what we call our &quot;priceserver&quot;. The
</I>&gt;<i> priceserver is under a substantial amount of load and twisted handles the
</I>&gt;<i> job handsomely.
</I>&gt;<i>
</I>&gt;<i> Try it out at <A HREF="http://www.dohop.com">http://www.dohop.com</A>
</I>&gt;<i>
</I>&gt;<i> The backend of the site runs otherwise almost wholly on Python with bits
</I>&gt;<i> and
</I>&gt;<i> pieces in C. We do a lot of django under mod_python with a mysql db.
</I>&gt;<i>
</I>&gt;<i> Hope you see us fit for a mention and thank you for the amazing framework
</I>&gt;<i> that is twisted.
</I>&gt;<i>
</I>&gt;<i> Atli Thorbjornsson
</I>&gt;<i> dohop.com
</I>&gt;<i> -------------- next part --------------
</I>&gt;<i> An HTML attachment was scrubbed...
</I>&gt;<i> URL:
</I>&gt;<i> <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20061205/ed12d2e0/attachment-0001.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20061205/ed12d2e0/attachment-0001.htm</A>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 3
</I>&gt;<i> Date: Tue, 5 Dec 2006 18:18:14 -0500
</I>&gt;<i> From: &quot;Christopher Armstrong&quot; &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">radix at twistedmatrix.com</A>&gt;
</I>&gt;<i> Subject: Re: [Twisted-Python] twisted dohop
</I>&gt;<i> To: &quot;Twisted general discussion&quot; &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>&gt;
</I>&gt;<i> Message-ID:
</I>&gt;<i>         &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">60ed19d40612051518j3adf62c4hb73ce4b8abc2c4d at mail.gmail.com</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=UTF-8; format=flowed
</I>&gt;<i>
</I>&gt;<i> On 12/5/06, Atli &#222;orbj&#246;rnsson &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">atlithorn at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; We would like to be added to the ProjectsUsingTwisted page. dohop.com is
</I>&gt;<i> a
</I>&gt;<i> &gt; flight planner and twisted runs what we call our &quot;priceserver&quot;. The
</I>&gt;<i> &gt; priceserver is under a substantial amount of load and twisted handles
</I>&gt;<i> the
</I>&gt;<i> &gt; job handsomely.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Try it out at <A HREF="http://www.dohop.com">http://www.dohop.com</A>
</I>&gt;<i>
</I>&gt;<i> Ok, I've added it to the ProjectsUsingTwisted page, but really, this
</I>&gt;<i> kind of thing (that is, a commercial service) would be much more
</I>&gt;<i> appropriate on the SuccessStories page -- it would be great if you
</I>&gt;<i> could give us a few official sentences about how Twisted helped you
</I>&gt;<i> develop this service so we could put it there.
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Christopher Armstrong
</I>&gt;<i> International Man of Twistery
</I>&gt;<i> <A HREF="http://radix.twistedmatrix.com/">http://radix.twistedmatrix.com/</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/">http://twistedmatrix.com/</A>
</I>&gt;<i> <A HREF="http://canonical.com/">http://canonical.com/</A>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 4
</I>&gt;<i> Date: Tue, 5 Dec 2006 16:54:41 -0800
</I>&gt;<i> From: David Reid &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">dreid at dreid.org</A>&gt;
</I>&gt;<i> Subject: Re: [Twisted-Python] web2: http Content-Length header
</I>&gt;<i> To: Twisted general discussion &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>&gt;
</I>&gt;<i> Message-ID: &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">48238A9C-A227-4816-991F-93FCA3F94C26 at dreid.org</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Dec 5, 2006, at 1:55 PM, Pieter Grimmerink wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; On Monday 04 December 2006 22:16, Pieter Grimmerink wrote:
</I>&gt;<i> &gt;&gt; Is it really necessary to remove the content-length header from the
</I>&gt;<i> &gt;&gt; response?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Correction, it turns out indeed it has to be removed. If it isn't
</I>&gt;<i> &gt; stripped
</I>&gt;<i> &gt; from the response, somehow the download stops after a single block
</I>&gt;<i> &gt; of data
</I>&gt;<i> &gt; has been received.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Since the content-length is saved in self.length, the following
</I>&gt;<i> &gt; could be a
</I>&gt;<i> &gt; workaround (and it does work fine here):
</I>&gt;<i>
</I>&gt;<i> Why don't you just use self.length when showing the progress?
</I>&gt;<i> -David
</I>&gt;<i>
</I>&gt;<i> David Reid
</I>&gt;<i> <A HREF="http://dreid.org/">http://dreid.org/</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 5
</I>&gt;<i> Date: Wed, 6 Dec 2006 15:23:49 +0800
</I>&gt;<i> From: &quot;Steve Han&quot; &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">hxianping at gmail.com</A>&gt;
</I>&gt;<i> Subject: [Twisted-Python] Problems with building of twisted-2.4.0
</I>&gt;<i> To: twisted-python &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>&gt;
</I>&gt;<i> Message-ID:
</I>&gt;<i>         &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">702805a90612052323t780ee7e5h326917b2ce44713b at mail.gmail.com</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=&quot;iso-8859-1&quot;
</I>&gt;<i>
</I>&gt;<i> Hi all,
</I>&gt;<i> I am new to Twisted.When building ZopeInterface-3.1.0-0c1 got the messages
</I>&gt;<i> as the following:
</I>&gt;<i>
</I>&gt;<i> ...build/temp.linux-i686-2.4/Dependencies/zope.interface-
</I>&gt;<i> ZopeInterface-3.1.0c1/zope.interface/_zope_interface_coptimizations.o
</I>&gt;<i> unable to execute gcc: No such file or directory
</I>&gt;<i> error: command 'gcc' failed with exit status 1
</I>&gt;<i>
</I>&gt;<i> What does mean by that?
</I>&gt;<i> Which packages I need for building Twisted/ZopeInterface?
</I>&gt;<i> Thanks alot.
</I>&gt;<i> -------------- next part --------------
</I>&gt;<i> An HTML attachment was scrubbed...
</I>&gt;<i> URL:
</I>&gt;<i> <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20061206/4a846c3c/attachment-0001.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20061206/4a846c3c/attachment-0001.htm</A>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 6
</I>&gt;<i> Date: Wed, 6 Dec 2006 17:03:20 +0900
</I>&gt;<i> From: Robert Gravina &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">robert at gravina.com</A>&gt;
</I>&gt;<i> Subject: Re: [Twisted-Python] Problems with building of twisted-2.4.0
</I>&gt;<i> To: Twisted general discussion &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>&gt;
</I>&gt;<i> Message-ID: &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">20140598-9163-4239-9729-FF91F103B914 at gravina.com</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
</I>&gt;<i>
</I>&gt;<i> &gt; Hi all,
</I>&gt;<i> &gt; I am new to Twisted.When building ZopeInterface-3.1.0-0c1 got the
</I>&gt;<i> &gt; messages as the following:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;  ...build/temp.linux-i686-2.4/Dependencies/zope.interface-
</I>&gt;<i> &gt; ZopeInterface-3.1.0c1/zope.interface/_zope_interface_coptimizations.o
</I>&gt;<i> &gt; unable to execute gcc: No such file or directory
</I>&gt;<i> &gt; error: command 'gcc' failed with exit status 1
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; What does mean by that?
</I>&gt;<i> &gt; Which packages I need for building Twisted/ZopeInterface?
</I>&gt;<i> &gt; Thanks alot.
</I>&gt;<i>
</I>&gt;<i> It seems that you are running Linux, but don't have GCC (a C
</I>&gt;<i> compiler) installed. Parts of Zope Interface (and Twisted, too) are
</I>&gt;<i> written in C, so one is needed. Most Linux distributions install one
</I>&gt;<i> automatically, but as far as I know some don't if you don't  ask it
</I>&gt;<i> to install development software. Either that, or it's installed but
</I>&gt;<i> not in your PATH.
</I>&gt;<i>
</I>&gt;<i> Anyhow, there should be a GUI program for adding/removing programs,
</I>&gt;<i> so use it to install &quot;gcc&quot;. If not,  and you are using Ubuntu or
</I>&gt;<i> Debian &quot;apt-get install gcc&quot; or for Fedora try &quot;yum install gcc&quot; and
</I>&gt;<i> then try building Twisted again.
</I>&gt;<i>
</I>&gt;<i> Please excuse me if you know all this already (you are building
</I>&gt;<i> Twisted after all). It just seems like problem is that GCC is not
</I>&gt;<i> installed/cannot be found.
</I>&gt;<i>
</I>&gt;<i> Robert
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 7
</I>&gt;<i> Date: Wed, 6 Dec 2006 10:35:11 +0100
</I>&gt;<i> From: Pieter Grimmerink &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">mailinglists at grimmerink.nl</A>&gt;
</I>&gt;<i> Subject: Re: [Twisted-Python] web2: http Content-Length header
</I>&gt;<i> To: Twisted general discussion &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>&gt;
</I>&gt;<i> Message-ID: &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">200612061035.12521.mailinglists at grimmerink.nl</A>&gt;
</I>&gt;<i> Content-Type: text/plain;  charset=&quot;us-ascii&quot;
</I>&gt;<i>
</I>&gt;<i> On Wednesday 06 December 2006 01:54, David Reid wrote:
</I>&gt;<i> &gt; Why don't you just use self.length when showing the progress?
</I>&gt;<i>
</I>&gt;<i> The length is not passed to the Response object.
</I>&gt;<i>
</I>&gt;<i> twisted/web2/client/http.py line 168:
</I>&gt;<i> self.response = http.Response(self.code, self.inHeaders, self.stream)
</I>&gt;<i>
</I>&gt;<i> This response object is then passed to the responseDefer callback, which
</I>&gt;<i> means we only have resultcode, headers and stream to work with.
</I>&gt;<i>
</I>&gt;<i> Rgds, Pieter
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 8
</I>&gt;<i> Date: Wed, 6 Dec 2006 04:23:32 -0800
</I>&gt;<i> From: Gabriel &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">gabrielverta at gmail.com</A>&gt;
</I>&gt;<i> Subject: [Twisted-Python] Thread
</I>&gt;<i> To: <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>
</I>&gt;<i> Message-ID:
</I>&gt;<i>         &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">2254669b0612060423t4f75043auef8424ab3b5e257f at mail.gmail.com</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=ISO-8859-1; format=flowed
</I>&gt;<i>
</I>&gt;<i> Hi!!
</I>&gt;<i>
</I>&gt;<i> I'm new in Twisted, and I'm having problems with Thread.
</I>&gt;<i> I was looking for it at documentation, and saw that it's not safe
</I>&gt;<i> (!?), but it's possible to run using twisted.python.threadable, I
</I>&gt;<i> haven't understood the thread examples using simple TCP and
</I>&gt;<i> ServerFactoryl, there is anything like reactor.run() using it or can I
</I>&gt;<i> only use threads as client? Can anyone give me a basic example?
</I>&gt;<i>
</I>&gt;<i> Thanks!
</I>&gt;<i>
</I>&gt;<i> from Brazil...
</I>&gt;<i>
</I>&gt;<i>          Gabriel
</I>&gt;<i> www.garimpar.com
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 9
</I>&gt;<i> Date: Wed, 6 Dec 2006 08:49:50 -0500
</I>&gt;<i> From: Jean-Paul Calderone &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at divmod.com</A>&gt;
</I>&gt;<i> Subject: Re: [Twisted-Python] Thread
</I>&gt;<i> To: Twisted general discussion &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>&gt;
</I>&gt;<i> Message-ID:
</I>&gt;<i>         &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">20061206134950.20948.1512853559.divmod.quotient.60088 at ohm</A>&gt;
</I>&gt;<i> Content-Type: text/plain; format=flowed
</I>&gt;<i>
</I>&gt;<i> On Wed, 6 Dec 2006 04:23:32 -0800, Gabriel &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">gabrielverta at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt;Hi!!
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;I'm new in Twisted, and I'm having problems with Thread.
</I>&gt;<i> &gt;I was looking for it at documentation, and saw that it's not safe
</I>&gt;<i> &gt;(!?), but it's possible to run using twisted.python.threadable, I
</I>&gt;<i> &gt;haven't understood the thread examples using simple TCP and
</I>&gt;<i> &gt;ServerFactoryl, there is anything like reactor.run() using it or can I
</I>&gt;<i> &gt;only use threads as client? Can anyone give me a basic example?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Thanks!
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;from Brazil...
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;         Gabriel
</I>&gt;<i> &gt;www.garimpar.com
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> You don't need threads to do most things in Twisted.  More than that,
</I>&gt;<i> threads aren't /helpful/ for doing most things in Twisted.  More than
</I>&gt;<i> that, most of Twisted was written so that threads could be avoided.
</I>&gt;<i>
</I>&gt;<i> Jean-Paul
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 10
</I>&gt;<i> Date: Wed, 6 Dec 2006 11:23:24 -0500
</I>&gt;<i> From: James Y Knight &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">foom at fuhm.net</A>&gt;
</I>&gt;<i> Subject: Re: [Twisted-Python] web2: http Content-Length header
</I>&gt;<i> To: Twisted general discussion &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>&gt;
</I>&gt;<i> Message-ID: &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">1869B98D-5F03-49E0-9084-80771CE346F2 at fuhm.net</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Dec 6, 2006, at 4:35 AM, Pieter Grimmerink wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; On Wednesday 06 December 2006 01:54, David Reid wrote:
</I>&gt;<i> &gt;&gt; Why don't you just use self.length when showing the progress?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The length is not passed to the Response object.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; twisted/web2/client/http.py line 168:
</I>&gt;<i> &gt; self.response = http.Response(self.code, self.inHeaders, self.stream)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; This response object is then passed to the responseDefer callback,
</I>&gt;<i> &gt; which
</I>&gt;<i> &gt; means we only have resultcode, headers and stream to work with.
</I>&gt;<i>
</I>&gt;<i> Sorry for not responding before. The Content-Length is removed from
</I>&gt;<i> the set of headers and moved to an attribute of the stream. This is
</I>&gt;<i> so that if anybody does content transforms before you get the data
</I>&gt;<i> (e.g. transparent uncompressing/etc), the length and the data is in
</I>&gt;<i> the same place, among other reasons.
</I>&gt;<i>
</I>&gt;<i> You're supposed to get the length from the stream object.
</I>&gt;<i> stream.length is an integer if the content length is known, and None
</I>&gt;<i> if it is not known.
</I>&gt;<i>
</I>&gt;<i> James
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 11
</I>&gt;<i> Date: Wed, 6 Dec 2006 18:39:40 +0100
</I>&gt;<i> From: Pieter Grimmerink &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">mailinglists at grimmerink.nl</A>&gt;
</I>&gt;<i> Subject: Re: [Twisted-Python] web2: http Content-Length header
</I>&gt;<i> To: Twisted general discussion &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>&gt;
</I>&gt;<i> Message-ID: &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">200612061839.40844.mailinglists at grimmerink.nl</A>&gt;
</I>&gt;<i> Content-Type: text/plain;  charset=&quot;us-ascii&quot;
</I>&gt;<i>
</I>&gt;<i> On Wednesday 06 December 2006 17:23, James Y Knight wrote:
</I>&gt;<i> &gt; You're supposed to get the length from the stream object.
</I>&gt;<i> &gt; stream.length is an integer if the content length is known, and None
</I>&gt;<i> &gt; if it is not known.
</I>&gt;<i>
</I>&gt;<i> But stream.length is always None, even though the Content-Length is
</I>&gt;<i> specified.
</I>&gt;<i>
</I>&gt;<i> Pasted below is an example which demonstrates what I'm doing.
</I>&gt;<i> This is the response I'm getting:
</I>&gt;<i>
</I>&gt;<i> &lt;twisted.web2.http.Response code=302, streamlen=None&gt;
</I>&gt;<i>
</I>&gt;<i> And this is the response, when I add the line
</I>&gt;<i>
</I>&gt;<i> self.stream.length = self.length
</I>&gt;<i>
</I>&gt;<i> in twisted/web2/client/http.py, line 168:
</I>&gt;<i>
</I>&gt;<i> &lt;twisted.web2.http.Response code=302, streamlen=228&gt;
</I>&gt;<i>
</I>&gt;<i> Rgds, Pieter
</I>&gt;<i>
</I>&gt;<i> ---------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> from twisted.internet import protocol
</I>&gt;<i> from twisted.web2 import stream as stream_mod, http, http_headers,
</I>&gt;<i> responsecode
</I>&gt;<i> from twisted.web2.client.http import ClientRequest, HTTPClientProtocol
</I>&gt;<i>
</I>&gt;<i> def testConn(host):
</I>&gt;<i>     from twisted.internet import reactor
</I>&gt;<i>     d = protocol.ClientCreator(reactor,
</I>&gt;<i> HTTPClientProtocol).connectTCP(host,
</I>&gt;<i> 80)
</I>&gt;<i>     def gotResp(resp):
</I>&gt;<i>         def print_(n):
</I>&gt;<i>             print &quot;DATA&quot;
</I>&gt;<i>         def printdone(n):
</I>&gt;<i>             print &quot;DONE&quot;
</I>&gt;<i>         print &quot;GOT RESPONSE %s&quot; % resp
</I>&gt;<i>         stream_mod.readStream(resp.stream, print_).addCallback(printdone)
</I>&gt;<i>     def sendReqs(proto):
</I>&gt;<i>         proto.submitRequest(ClientRequest(&quot;GET&quot;, &quot;/index.html&quot;,
</I>&gt;<i> {'Host':host}, None)).addCallback(gotResp)
</I>&gt;<i>     d.addCallback(sendReqs)
</I>&gt;<i>     del d
</I>&gt;<i>     reactor.run()
</I>&gt;<i>
</I>&gt;<i> testConn(&quot;www.google.com&quot;)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> End of Twisted-Python Digest, Vol 33, Issue 6
</I>&gt;<i> *********************************************
</I>&gt;<i>
</I>


-- 
Steve Han
Tel:(0531)82704691   13864091826
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20061208/60c4a37f/attachment.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20061208/60c4a37f/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014488.html">[Twisted-Python] What Win32 issues are important to you?
</A></li>
	<LI>Next message: <A HREF="014480.html">[Twisted-Python] delay_connect problems in twisted.enterprise.adbapi
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14479">[ date ]</a>
              <a href="thread.html#14479">[ thread ]</a>
              <a href="subject.html#14479">[ subject ]</a>
              <a href="author.html#14479">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
