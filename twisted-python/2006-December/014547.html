<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] script can be used as namespace?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20script%20can%20be%20used%20as%20namespace%3F&In-Reply-To=702805a90612301834q38ffef77l9c79e1afeaf540fa%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014546.html">
   <LINK REL="Next"  HREF="014548.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] script can be used as namespace?</H1>
    <B>Jean-Paul Calderone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20script%20can%20be%20used%20as%20namespace%3F&In-Reply-To=702805a90612301834q38ffef77l9c79e1afeaf540fa%40mail.gmail.com"
       TITLE="[Twisted-Python] script can be used as namespace?">exarkun at divmod.com
       </A><BR>
    <I>Sat Dec 30 21:52:24 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="014546.html">[Twisted-Python] script can be used as namespace?
</A></li>
        <LI>Next message: <A HREF="014548.html">[Twisted-Python] script can be used as namespace?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14547">[ date ]</a>
              <a href="thread.html#14547">[ thread ]</a>
              <a href="subject.html#14547">[ subject ]</a>
              <a href="author.html#14547">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, 31 Dec 2006 10:34:49 +0800, Steve Han &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">hxianping at gmail.com</A>&gt; wrote:
&gt;<i>I am working on an example:
</I>&gt;<i>
</I>&gt;<i>from twisted.internet.app import Application
</I>&gt;<i>from twisted.internet.protocol import Protocol, Factory
</I>&gt;<i>
</I>&gt;<i>class Fibonacci(Protocol):
</I>&gt;<i>    &quot;&quot;&quot;Serve a sequence of Fibonacci numbers to all requesters&quot;&quot;&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>def dataReceived(self, data):
</I>&gt;<i>        self.factory.new
</I>&gt;<i>= self.factory.a + self.factory.b
</I>&gt;<i>        self.transport.write('%d' % self.factory.new)
</I>&gt;<i>        self.factory.a = self.factory.b
</I>&gt;<i>
</I>&gt;<i>self.factory.b = self.factory.new
</I>&gt;<i>
</I>&gt;<i>def main():
</I>&gt;<i>    import fib_server    # Use script as namespace
</I>&gt;<i>
</I>&gt;<i>    f = Factory()
</I>&gt;<i>    f.protocol = fib_server.Fibonacci
</I>&gt;<i>    f.a, f.b = 1, 1
</I>&gt;<i>    application = Application(&quot;Fibonacci&quot;)
</I>&gt;<i>
</I>&gt;<i>    application.listenTCP(8888, f)
</I>&gt;<i>    application.save()
</I>&gt;<i>
</I>&gt;<i>if'__main__' == __name__:
</I>&gt;<i>
</I>&gt;<i>    main()
</I>&gt;<i>
</I>&gt;<i>I have questions as the following:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>   1. Is application.save( ) that make Fibonacci.tap file?
</I>
Yes.  However, this is not the recommended way to create TAP files,
and TAP files themselves aren't even very highly recommended any more.
You may want to spend your time look at mktap plugins, .tac files, or
twistd plugins (which will be available in Twisted 2.5, which will be out
shortly).

&gt;<i>    2. testing on &quot;twistd -f Fibonacci.tap&quot; got message &quot;Failed to load
</I>&gt;<i>   application: No module named fib_server&quot;.Can we use script as namesp?
</I>
You need to fix your PYTHONPATH so that fib_server is importable.

<A HREF="http://python.org/doc/tut/node8.html#SECTION008110000000000000000">http://python.org/doc/tut/node8.html#SECTION008110000000000000000</A>

Jean-Paul


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014546.html">[Twisted-Python] script can be used as namespace?
</A></li>
	<LI>Next message: <A HREF="014548.html">[Twisted-Python] script can be used as namespace?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14547">[ date ]</a>
              <a href="thread.html#14547">[ thread ]</a>
              <a href="subject.html#14547">[ subject ]</a>
              <a href="author.html#14547">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
