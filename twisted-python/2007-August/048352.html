<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] locking threads when deferToThread is used
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20locking%20threads%20when%20deferToThread%20is%20used&In-Reply-To=%3Ca0839b890708080527u3d785b5bp74fbe80c38acc1b5%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="048407.html">
   <LINK REL="Next"  HREF="048359.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] locking threads when deferToThread is used</H1>
    <B>Marian Schubert</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20locking%20threads%20when%20deferToThread%20is%20used&In-Reply-To=%3Ca0839b890708080527u3d785b5bp74fbe80c38acc1b5%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] locking threads when deferToThread is used">marian.schubert at gmail.com
       </A><BR>
    <I>Wed Aug  8 06:27:05 MDT 2007</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="048407.html">[Twisted-Python] Persistent SSH Class for Twisted needed
</A></li>
        <LI>Next message (by thread): <A HREF="048359.html">[Twisted-Python] locking threads when deferToThread is used
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48352">[ date ]</a>
              <a href="thread.html#48352">[ thread ]</a>
              <a href="subject.html#48352">[ subject ]</a>
              <a href="author.html#48352">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 8/8/07, Ladislav Andel &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">ladaan at iptel.org</A>&gt; wrote:
&gt;<i> &gt; Don't.  Don't share state between different threads.  If you need to
</I>&gt;<i> &gt; mutate
</I>&gt;<i> &gt; state as a result of code which has run in a thread, do it in the reactor
</I>&gt;<i> &gt; thread based on the result of the Deferred returned by deferToThread.
</I>&gt;<i> &gt;
</I>&gt;<i> I'm aiming to use results of the Deffered returned by deferToThread.
</I>&gt;<i> Can you give me an example of combining two Deferred results?
</I>&gt;<i> This will be done through callbacks but what if the blocking application
</I>&gt;<i> gives me result in 5 sec
</I>&gt;<i> and e.g. DNS check in 1 sec.
</I>
check gatherResults from twisted.internet.defer. basicaly it's:
d3 = defer.gatherResults(d1, d2)
where d1 is call to blocking app using deferToThread and d2 is DNS check

and d3 gets called back with results of d1 and d2 (if they both succeeded)

cu,
MS


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="048407.html">[Twisted-Python] Persistent SSH Class for Twisted needed
</A></li>
	<LI>Next message (by thread): <A HREF="048359.html">[Twisted-Python] locking threads when deferToThread is used
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48352">[ date ]</a>
              <a href="thread.html#48352">[ thread ]</a>
              <a href="subject.html#48352">[ subject ]</a>
              <a href="author.html#48352">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
