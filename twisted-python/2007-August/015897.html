<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: Questions about the Perspective Broker	login mechanism
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20Questions%20about%20the%20Perspective%20Broker%0A%09login%20mechanism&In-Reply-To=m2fy2e9mql.fsf%40valheru.db3l.homeip.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015896.html">
   <LINK REL="Next"  HREF="015898.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: Questions about the Perspective Broker	login mechanism</H1>
    <B>Julien Peeters</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20Questions%20about%20the%20Perspective%20Broker%0A%09login%20mechanism&In-Reply-To=m2fy2e9mql.fsf%40valheru.db3l.homeip.net"
       TITLE="[Twisted-Python] Re: Questions about the Perspective Broker	login mechanism">jj.peeters at gmail.com
       </A><BR>
    <I>Mon Aug 20 13:24:10 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="015896.html">[Twisted-Python] Re: Questions about the Perspective Broker login	mechanism
</A></li>
        <LI>Next message: <A HREF="015898.html">[Twisted-Python] Re: Questions about the Perspective Broker login	mechanism
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15897">[ date ]</a>
              <a href="thread.html#15897">[ thread ]</a>
              <a href="subject.html#15897">[ subject ]</a>
              <a href="author.html#15897">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 2007-08-20 at 12:47 -0400, David Bolen wrote:
&gt;<i> Julien Peeters &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">jj.peeters at gmail.com</A>&gt; writes:
</I>&gt;<i> 
</I>&gt;<i> &gt; For the moment, except I make a mistake, only credentials which
</I>&gt;<i> &gt; implements IUsernamePassword are supported by the PBClientFactory.login
</I>&gt;<i> &gt; method. Then if, for instance, passwords are stored with a SHA hash
</I>&gt;<i> &gt; method, I can't use it as it is. 
</I>&gt;<i> 
</I>&gt;<i> Ah, I see - sorry I missed that.  Yup, so I agree you may want to
</I>&gt;<i> override that portion of PBClientFactory (and perhaps the matching
</I>&gt;<i> remote_login in PBServerFactory) in your own mechanism as well.
</I>&gt;<i> 
</I>&gt;<i> It's possible the existing signature might still work even with a
</I>&gt;<i> hashed password, since the password field from the supplied
</I>&gt;<i> credentials are passed unchanged to the challenge response generation
</I>&gt;<i> function, with nothing other than the client/server shared
</I>&gt;<i> challenge/response implementation caring that it is clear text, but
</I>&gt;<i> that does sort of &quot;bend&quot; the interface for IUsernamePassword so it's
</I>&gt;<i> probably clearer to implement your own.
</I>
Yes, It's what I noticed. When you use a username/password strategy it's
all right. With a precision that the password have to be hashed with the
same method with which the stored password at the ckercker side is
hashed. 

In the case of other type of credentials, it's not so trivial.

&gt;<i> &gt; (...)
</I>&gt;<i> &gt; May be it's possible to put a kind of &quot;credential remote reference&quot; at
</I>&gt;<i> &gt; the server side which serve as a proxy for the real credential. 
</I>&gt;<i> &gt; Form a security point of view it's all right because remote reference
</I>&gt;<i> &gt; does not transmit data but juste provide remote method calls.
</I>&gt;<i> 
</I>&gt;<i> Not sure this is a big win, since at some point in time you need to
</I>&gt;<i> transfer over the actual credentials used for authentication anyway.
</I>&gt;<i> So it's really a tradeoff between an established remote object method
</I>&gt;<i> interface (to retrieve the credentials) or the type of credential
</I>&gt;<i> object transmitted in general when sent as copyable data.  Toss up,
</I>&gt;<i> but you're free to try either approach.
</I>
And so. I noticed that the solution I proposed does not correctly work
because the &quot;proxy&quot; have to implements the interface the checker match
for. And it's impossible to do cleanly.

&gt;<i> &gt; And then, instead of give the _PortalAuthChallenger to the portal as the
</I>&gt;<i> &gt; credentials, that proxy would be given. The proxy have to implement the
</I>&gt;<i> &gt; same ICredentials interface to be compatible with the checker. And it
</I>&gt;<i> &gt; have also to implement a &quot;zero-knowledge password proof&quot; mechanism
</I>&gt;<i> &gt; (response/challenge) to communicate with the real credentials to
</I>&gt;<i> &gt; preserve security. 
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; This solution is based on the existing one. And may be would be more
</I>&gt;<i> &gt; flexible? Why not a starting point for an effective solution?
</I>&gt;<i> 
</I>&gt;<i> Why not indeed?  If I were you and I had convinced myself the
</I>&gt;<i> authentication approach was worth replacing in my application (per my
</I>&gt;<i> last response) at this point I'd just go ahead and do some
</I>&gt;<i> implementation to see how it goes.  You can certainly achieve
</I>&gt;<i> everything you're talking about by just overriding some of the
</I>&gt;<i> existing default behavior.
</I>
In theory all is possible. But it's an other challenge that to find a
good and clean way to do it :-).

I interested in all propositions if someone have any ideas.

Julien.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015896.html">[Twisted-Python] Re: Questions about the Perspective Broker login	mechanism
</A></li>
	<LI>Next message: <A HREF="015898.html">[Twisted-Python] Re: Questions about the Perspective Broker login	mechanism
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15897">[ date ]</a>
              <a href="thread.html#15897">[ thread ]</a>
              <a href="subject.html#15897">[ subject ]</a>
              <a href="author.html#15897">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
