<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] PEP 342 &amp; cooperative threads
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20PEP%20342%20%26%20cooperative%20threads&In-Reply-To=%3C1124292726.16527.22.camel%40p-dvsi-395-20.rd.francetelecom.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="043661.html">
   <LINK REL="Next"  HREF="043667.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] PEP 342 &amp; cooperative threads</H1>
    <B>Antoine Pitrou</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20PEP%20342%20%26%20cooperative%20threads&In-Reply-To=%3C1124292726.16527.22.camel%40p-dvsi-395-20.rd.francetelecom.fr%3E"
       TITLE="[Twisted-Python] PEP 342 &amp; cooperative threads">solipsis at pitrou.net
       </A><BR>
    <I>Wed Aug 17 09:32:06 MDT 2005</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="043661.html">[Twisted-Python] PEP 342 now in python CVS
</A></li>
        <LI>Next message (by thread): <A HREF="043667.html">[Twisted-Python] PEP 342 &amp; cooperative threads
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43662">[ date ]</a>
              <a href="thread.html#43662">[ thread ]</a>
              <a href="subject.html#43662">[ subject ]</a>
              <a href="author.html#43662">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi,

For what it's worth, I started writing a pure Python cooperative threads
package, some weeks ago. It's called &quot;softlets&quot; and uses, of course,
generators. There is a simple scheduler centered around the notion of
&quot;wait objects&quot; - you yield a wait object (e.g. a Queue) and it comes
back when the underlying condition is satisfied (e.g. the Queue has
something to give to you).

I'm writing it for fun but it does have some interesting
characteristics:
- no C extension required, no compiling, no annoying dependency (even
not Twisted actually)
- scalability: you can create thousands of threads with nearly no
overhead, and run them all &quot;at the same time&quot;
- a more comfortable way of writing certain operation sequences than
with cascades of deferreds
- robustness: in contrast to preemptive multithreading, cooperative MT
means you define the synchronisation points explicitly, so you don't
have any resource sharing problems in case you forget some
synchonisation points (latency will be worse, but your program will stay
correct)

Although there is no web page currently, you can get the source here (*)
and play with the examples in the examples directory (it's very alpha
and lacks most fonctionality but it does work, and it won't hose your
machine). Nothing is needed except Python 2.4; no setup required, just
checkout the sources.
(*) <A HREF="http://developer.berlios.de/svn/?group_id=4330">http://developer.berlios.de/svn/?group_id=4330</A>

Future work would be to add actual useful functionality (timers,
integration with Twisted deferreds, etc.).

Feel free to subscribe to the mailing-list and talk a little ;)
<A HREF="http://developer.berlios.de/mail/?group_id=4330">http://developer.berlios.de/mail/?group_id=4330</A>
I'm open to feedback, and to people willing to contribute.

Regards

Antoine.


Le mercredi 17 août 2005 à 17:02 +0200, tazzo a écrit :
&gt;<i> Hi all,
</I>&gt;<i> referring to the news about the implementation of PEP 342 in python CVS:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://dirtsimple.org/2005/08/pep-342-implementation-now-in-cvs.html">http://dirtsimple.org/2005/08/pep-342-implementation-now-in-cvs.html</A>
</I>&gt;<i> 
</I>&gt;<i> I know that is a great news for asynchronous programming in python and for
</I>&gt;<i> other aspects but I wonder what will be the future of  Twisted, what 
</I>&gt;<i> will change
</I>&gt;<i> (if something will change) in Twisted when PEP 342 will come?
</I>&gt;<i> I think that with PEP 342 we could write a more readable code but does 
</I>&gt;<i> it mean
</I>&gt;<i> rewrite all twisted?
</I>&gt;<i> What is the opinion of  Twisted developers??
</I>&gt;<i> 
</I>&gt;<i> thanks,
</I>&gt;<i> 
</I>&gt;<i> Tazzo
</I>



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="043661.html">[Twisted-Python] PEP 342 now in python CVS
</A></li>
	<LI>Next message (by thread): <A HREF="043667.html">[Twisted-Python] PEP 342 &amp; cooperative threads
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43662">[ date ]</a>
              <a href="thread.html#43662">[ thread ]</a>
              <a href="subject.html#43662">[ subject ]</a>
              <a href="author.html#43662">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
