<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] PEP 342 now in python CVS
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20PEP%20342%20now%20in%20python%20CVS&In-Reply-To=60ed19d405081716204b7f2f50%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011157.html">
   <LINK REL="Next"  HREF="011161.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] PEP 342 now in python CVS</H1>
    <B>glyph at divmod.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20PEP%20342%20now%20in%20python%20CVS&In-Reply-To=60ed19d405081716204b7f2f50%40mail.gmail.com"
       TITLE="[Twisted-Python] PEP 342 now in python CVS">glyph at divmod.com
       </A><BR>
    <I>Wed Aug 17 20:30:23 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="011157.html">[Twisted-Python] PEP 342 now in python CVS
</A></li>
        <LI>Next message: <A HREF="011161.html">[Twisted-Python] PEP 342 now in python CVS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11158">[ date ]</a>
              <a href="thread.html#11158">[ thread ]</a>
              <a href="subject.html#11158">[ subject ]</a>
              <a href="author.html#11158">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

On Thu, 18 Aug 2005 09:20:15 +1000, Christopher Armstrong &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">radeex at gmail.com</A>&gt; wrote:

&gt;<i>I'll just note that I am mostly alone amongst the developers of
</I>&gt;<i>Twisted who think that this kind of cooperative threading + Deferred
</I>&gt;<i>integration is a good idea. Glyph, Jp, and Allen Short (as he posted)
</I>&gt;<i>have all said it's a bad idea to have such magical code. On the other
</I>&gt;<i>hand, it's definitely not as bad as pre-emptive threading, where you
</I>&gt;<i>basically can't know where context switches will happen.
</I>
Perhaps my opinion has glacially shifted over time, (I think I've always thought this way) but it's a bit more nuanced than that.  I think that there is some merit to synchronous-looking code in some situations.  I've written some networking code recently that had indentation 10-deep; this PEP might have really helped with that.

I think it's a good thing in some situations and will probably reduce the length of some of the nastiest parts of my Q2Q implementation (AKA &quot;Divmod Vertex&quot;) by at least half.  However, it is limiting - it still doesn't expose the full power of a cooperative threading system.  At the same time, it provides some of the same implicit-state facilities that create problems with those same cooperative thread systems.  Depending on how it's regarded by Twisted developers, it could give us the bbest of both worlds or the worst of them.

How it's regarded is important because that will affect how it's used.  I believe that in particularly hairy code, it will probably help, and reduce bugs (code that already has hugely nested functions, that needs to be audited by 3 or 4 people before it works at all).  However, in average code it will likely be a source of them, since it tends to reduce line count at the cost of explicit transfer of control.  Since people like code that looks blocking a *whole lot*, and are willing to forego the benefits of event-driven programming most of the time (and by &quot;most of the time&quot; I mean the 90% of the world that doesn't even use Twisted, or any other event driven system), I am a bit concerned that this PEP will catch on like wildfire and Twisted programs will get a reputation for being really buggy and never handling edge cases or out-of-order input correctly.

So please, use this and enahnce your Twisted programs with it, but please tread lightly.  It's a powerful tool but it is still (perhaps even therefore) dangerous.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011157.html">[Twisted-Python] PEP 342 now in python CVS
</A></li>
	<LI>Next message: <A HREF="011161.html">[Twisted-Python] PEP 342 now in python CVS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11158">[ date ]</a>
              <a href="thread.html#11158">[ thread ]</a>
              <a href="subject.html#11158">[ subject ]</a>
              <a href="author.html#11158">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
