<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Ftp client
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Ftp%20client&In-Reply-To=%3C42F0FDAC.6060505%40unipex.it%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="043583.html">
   <LINK REL="Next"  HREF="043585.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Ftp client</H1>
    <B>Michele Petrazzo</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Ftp%20client&In-Reply-To=%3C42F0FDAC.6060505%40unipex.it%3E"
       TITLE="[Twisted-Python] Ftp client">michele.petrazzo at unipex.it
       </A><BR>
    <I>Wed Aug  3 11:23:56 MDT 2005</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="043583.html">[Twisted-Python] Ftp client
</A></li>
        <LI>Next message (by thread): <A HREF="043585.html">[Twisted-Python] Ftp client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43584">[ date ]</a>
              <a href="thread.html#43584">[ thread ]</a>
              <a href="subject.html#43584">[ subject ]</a>
              <a href="author.html#43584">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Andrew Bennetts wrote:
&gt;&gt;<i>One problem is that if the user has no password, I receive an error [1] 
</I>&gt;&gt;<i>(if I try to connect with a simple ftp client, when I connect to the 
</I>&gt;&gt;<i>server, if it see that I have no password, it connect me without 
</I>&gt;&gt;<i>password request), however if the user _has_ password, the client 
</I>&gt;&gt;<i>connect correctly.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Before connecting, can you add:
</I>&gt;<i> 
</I>&gt;<i>     FTPClient.debug = True
</I>&gt;<i> 
</I>&gt;<i> Then we can see a full transcript of what's going on.
</I>&gt;<i> 
</I>
I add that line, but I can't see any new line except that I already seen

&gt;<i> 
</I>&gt;&gt;<i>Second:
</I>&gt;&gt;<i>if the user _has_ password, so I can connect, I want to send &quot;LIST 
</I>&gt;&gt;<i>status&quot; command, if I use:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>ftpClient.queueStringCommand(&quot;LIST&quot;).addCallbacks(success, fail)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>I receive [2], and if I use:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Right.  LIST requires a data connection to be established, and directly
</I>&gt;<i> issuing a LIST without arranging for a PASV or PORT command and associated
</I>&gt;<i> connection will fail.
</I>&gt;<i> 
</I>
Ok, but what I do with to make it work?

&gt;<i> 
</I>&gt;&gt;<i>fileList = FTPFileListProtocol()
</I>&gt;&gt;<i>d = ftpClient.list(' status ', fileList)
</I>&gt;&gt;<i>d.addCallbacks(showFiles, fail, callbackArgs=(fileList,))
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>I receive [3]
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Can you retry this with latest Twisted from SVN?  There's a bug in error
</I>&gt;<i> reporting and DeferredLists here that's been fixed in SVN that will make
</I>&gt;<i> this much clearer.
</I>
Yes. Just update the my two (win and lin) machines.

[1]

&gt;<i> 
</I>&gt;<i> I don't understand why you're passing ' status ' instead of just 'status',
</I>&gt;<i> though.
</I>
But, I don't know :)

With this change &quot; status &quot; -&gt; &quot;status&quot; now I don't receive any error!
But what I receive is an empty file list [2] (on all status and recvq 
sub-directory), both case if I change directory with the cwd command and 
call ftpClient.list(&quot;.&quot;) or, call it with &quot;status/&quot;-&quot;recvq/&quot;.
But I know that into that sub-directory there are a lot of files...


[1]
The return are (on both OS):

[Failure instance: Traceback (failure with no frames): 
twisted.internet.defer.FirstError: 
FirstError(&lt;twisted.python.failure.Failure 
twisted.internet.defer.FirstError&gt;, 0)
]

[2]
Processed file listing:
Total: 0 files

Thanks,
Michele


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="043583.html">[Twisted-Python] Ftp client
</A></li>
	<LI>Next message (by thread): <A HREF="043585.html">[Twisted-Python] Ftp client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43584">[ date ]</a>
              <a href="thread.html#43584">[ thread ]</a>
              <a href="subject.html#43584">[ subject ]</a>
              <a href="author.html#43584">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
