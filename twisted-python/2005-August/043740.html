<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Interfaces and adapters
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Interfaces%20and%20adapters&In-Reply-To=%3C20050826084007.GA8963%40trogdor.home.puzzling.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="043739.html">
   <LINK REL="Next"  HREF="043743.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Interfaces and adapters</H1>
    <B>Andrew Bennetts</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Interfaces%20and%20adapters&In-Reply-To=%3C20050826084007.GA8963%40trogdor.home.puzzling.org%3E"
       TITLE="[Twisted-Python] Interfaces and adapters">andrew-twisted at puzzling.org
       </A><BR>
    <I>Fri Aug 26 02:40:07 MDT 2005</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="043739.html">[Twisted-Python] Interfaces and adapters
</A></li>
        <LI>Next message (by thread): <A HREF="043743.html">[Twisted-Python] Interfaces and adapters
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43740">[ date ]</a>
              <a href="thread.html#43740">[ thread ]</a>
              <a href="subject.html#43740">[ subject ]</a>
              <a href="author.html#43740">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Aug 26, 2005 at 12:00:39PM +0400, <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">en.karpachov at ospaz.ru</A> wrote:
&gt;<i> On Fri, 26 Aug 2005 16:30:26 +1000
</I>&gt;<i> Andrew Bennetts wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; &gt; Could somebody give any rationale why this condition shouldn't always hold:
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; foo = IFoo(bar)
</I>&gt;<i> &gt; &gt; assert IFoo.providedBy(foo)
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Seems it is not unreasonable to expect this behaviour, because it is
</I>&gt;<i> &gt; &gt; exactly what interfaces are all about, or am I wrong?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; That's a pretty reasonable expectation.  I think emitting a warning if this
</I>&gt;<i> &gt; doesn't hold would be a sane thing to do, and it wouldn't break any code.
</I>&gt;<i> 
</I>&gt;<i> For me, raising CannotAdapt would be better choice. After all, getting an
</I>&gt;<i> object that implements requested interface is the very thing what
</I>&gt;<i> adaptation is used for.
</I>&gt;<i> 
</I>&gt;<i> If I, say, adapt WovenContext to ISession, I get a session object which
</I>&gt;<i> does not implement the ISession interface itself. Absurdly.
</I>
Yep.  But that's a trivially fixable bug in that adapter.  And this is
exactly why raising an exception would be bad -- it will break code that
otherwise works fine.  Even though such code is arguably buggy, Twisted
tries reasonably hard not to break backwards compatibility without warning.
We couldn't raise CannotAdapt here without first giving DeprecationWarnings
for at least one release.

-Andrew.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="043739.html">[Twisted-Python] Interfaces and adapters
</A></li>
	<LI>Next message (by thread): <A HREF="043743.html">[Twisted-Python] Interfaces and adapters
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43740">[ date ]</a>
              <a href="thread.html#43740">[ thread ]</a>
              <a href="subject.html#43740">[ subject ]</a>
              <a href="author.html#43740">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
