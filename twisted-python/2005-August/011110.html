<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] simple spawnProcess
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20simple%20spawnProcess&In-Reply-To=3E7F9D21F31D094DB7721553EA2CD1B5E72817%40NTXBOIMBX15.micron.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011105.html">
   <LINK REL="Next"  HREF="011107.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] simple spawnProcess</H1>
    <B>glyph at divmod.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20simple%20spawnProcess&In-Reply-To=3E7F9D21F31D094DB7721553EA2CD1B5E72817%40NTXBOIMBX15.micron.com"
       TITLE="[Twisted-Python] simple spawnProcess">glyph at divmod.com
       </A><BR>
    <I>Wed Aug 10 16:37:42 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="011105.html">[Twisted-Python] simple spawnProcess
</A></li>
        <LI>Next message: <A HREF="011107.html">[Twisted-Python] Twisted on QNX
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11110">[ date ]</a>
              <a href="thread.html#11110">[ thread ]</a>
              <a href="subject.html#11110">[ subject ]</a>
              <a href="author.html#11110">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

On Wed, 10 Aug 2005 08:53:48 -0600, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">jmbenski at micron.com</A> wrote:
&gt;<i>Ok, obviously I'm missing something in the API.
</I>&gt;<i>
</I>&gt;<i>When I call reactor.run(), my main thread is stuck in the loop.  I tried to set up my code in a thread to get around this.
</I>
That is rather the point.  Using threads to &quot;get around this&quot; will break Twisted.  Threads are not supported for most APIs, and as JP said, they are what is breaking your program.

&gt;<i>    ##At some unknown point in the future I might need to issue commands
</I>
You are correct that your program will never get there.  Code after run() is not a place that your program should really ever *expect* to get.

If you need to run some code 'in the future', see reactor.callLater.  In general though, you will have to issue commands to your spawned process in response to some event.  Was it a button click?  Use Twisted's integration with a toolkit (such as GTK or Qt).  Was it a network request?  Set up a ProtocolFactory with a reference to your spawned process, or set up one that spawns processes itself when network connections are made.

There are lots of events which can potentially hpppen while the main loop is running.  Think of your program as a series of responses to those things, and the bit before reactor.run() as simply the set-up to make sure appropriate events get caught (your initial callLater to set up a timed loop, or a listenTCP to connect your program to the network) rather than as the program in its entirety.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011105.html">[Twisted-Python] simple spawnProcess
</A></li>
	<LI>Next message: <A HREF="011107.html">[Twisted-Python] Twisted on QNX
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11110">[ date ]</a>
              <a href="thread.html#11110">[ thread ]</a>
              <a href="subject.html#11110">[ subject ]</a>
              <a href="author.html#11110">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
