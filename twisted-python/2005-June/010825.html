<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: Traceback from pb-Server
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20Traceback%20from%20pb-Server&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010812.html">
   <LINK REL="Next"  HREF="010839.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: Traceback from pb-Server</H1>
    <B>David Bolen</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20Traceback%20from%20pb-Server&In-Reply-To="
       TITLE="[Twisted-Python] Re: Traceback from pb-Server">db3l at fitlinxx.com
       </A><BR>
    <I>Thu Jun 23 17:17:38 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="010812.html">[Twisted-Python] Traceback from pb-Server
</A></li>
        <LI>Next message: <A HREF="010839.html">[Twisted-Python] Traceback from pb-Server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10825">[ date ]</a>
              <a href="thread.html#10825">[ thread ]</a>
              <a href="subject.html#10825">[ subject ]</a>
              <a href="author.html#10825">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Stephan Popp &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Stephan.Popp at iisb.fraunhofer.de</A>&gt; writes:

&gt;<i> If the pythonscript named taskDescription.fileName isn't there 
</I>&gt;<i> self.serverErrorCB is called - thats ok. But it prints:
</I>&gt;<i> reason [Failure instance: Traceback from remote host -- Traceback unavailable]
</I>&gt;<i> 
</I>&gt;<i> But I need to know why the call failed. Can anyone please help me to get the 
</I>&gt;<i> traceback or the exception message that the server prints 
</I>&gt;<i> (exceptions.ImportError: No module named fitfunc2).
</I>
The returned Failure instance should still encapsulate the underlying
exception information in the type and value fields, as is usual with
Failure objects.  One difference from a local Failure instance though
is that type will be a string representation of the exception class
and not the class object itself in the PB client context.  If you
stick with failure.trap() and failure.check() for explicit exception
checks in errback chains, they handle both the direct class as well as
string version, so errback code will work locally or via a PB client.

So you can still identify the root exception (ImportError).  It just
happens to not show up in the default __str__ output for the failure
object (e.g., your print in your errback) but if you were to modify
that print to explicitly print out the type and value fields, and not
just let the failure object generate its own printable format, you can
see the information.  And checking for an exception itself rather than
looking for textual information in a traceback is probably better for
production code.

If you really want to see the traceback during development/debugging,
you should see them output as a log message on the server side (if you
have twisted logging going somewhere).  Alternatively, I believe you
can enable &quot;unsafe&quot; tracebacks (which sends the traceback to remote
clients) by setting the unsafeTracebacks attribute in the factory on
the side on which the exception is being generated - the
PBServerFactory side in your case.  For PBServerFactory, it's an
optional argument to the constructor.

-- David



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010812.html">[Twisted-Python] Traceback from pb-Server
</A></li>
	<LI>Next message: <A HREF="010839.html">[Twisted-Python] Traceback from pb-Server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10825">[ date ]</a>
              <a href="thread.html#10825">[ thread ]</a>
              <a href="subject.html#10825">[ subject ]</a>
              <a href="author.html#10825">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
