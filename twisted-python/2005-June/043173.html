<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] User manipulation question....
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20User%20manipulation%20question....&In-Reply-To=%3C20050608144603.GR8097%40groovy.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="043172.html">
   <LINK REL="Next"  HREF="043165.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] User manipulation question....</H1>
    <B>William Waites</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20User%20manipulation%20question....&In-Reply-To=%3C20050608144603.GR8097%40groovy.net%3E"
       TITLE="[Twisted-Python] User manipulation question....">ww at groovy.net
       </A><BR>
    <I>Wed Jun  8 08:46:03 MDT 2005</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="043172.html">[Twisted-Python] User manipulation question....
</A></li>
        <LI>Next message (by thread): <A HREF="043165.html">[Twisted-Python] Getting rid of boiler plate in pb.RemoteCache
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43173">[ date ]</a>
              <a href="thread.html#43173">[ thread ]</a>
              <a href="subject.html#43173">[ subject ]</a>
              <a href="author.html#43173">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Jun 07, 2005 at 01:47:31PM -0600, Dmitry S. Makovey wrote:
&gt;<i>
</I>&gt;<i> My problem right now is that I can't run server as unprivileged user 
</I>&gt;<i> and switch to other user's accounts. That would mean that I'd 
</I>&gt;<i> probably need:
</I>&gt;<i> 1. run server as privileged user so I can setuid(...) any time I want
</I>
Not the best idea, of course.

&gt;<i> 2. run two threads or so so that one thread is superuser-owned and the 
</I>&gt;<i> other one (the one that responds to requests) is non-privileged. 
</I>&gt;<i> First one will handle file operations since it can change uid 
</I>&gt;<i> on-the-flight and come back to normal.
</I>&gt;<i> 
</I>&gt;<i> I would prefer to implement second solution but I'm puzzled on where 
</I>&gt;<i> to start. Does twisted provide such capabilities out-of-the-box?
</I>
I'm reasonably sure it doesn't. You can't have threads in a single
process owned by different users. What you would have to do is
run different processes.

The only way I can think of right now, after only one coffee, 
is to have one twisted process that sits on the port
and waits for connections. When it gets one, it authenticates the
user then sends a message (pb maybe) to a superuser-owned process
whose only job is to fork(2) a user-owned process for file io
and to inform it how to talk with the original process that is 
holding the port... It would remain to write the file io &lt;--&gt; pb
glue I think...

Cheers,
-w


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="043172.html">[Twisted-Python] User manipulation question....
</A></li>
	<LI>Next message (by thread): <A HREF="043165.html">[Twisted-Python] Getting rid of boiler plate in pb.RemoteCache
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43173">[ date ]</a>
              <a href="thread.html#43173">[ thread ]</a>
              <a href="subject.html#43173">[ subject ]</a>
              <a href="author.html#43173">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
