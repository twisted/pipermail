<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Accurate delays in callLater
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Accurate%20delays%20in%20callLater&In-Reply-To=42BAED9E.8080304%40njp.us">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010814.html">
   <LINK REL="Next"  HREF="010817.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Accurate delays in callLater</H1>
    <B>Bob Ippolito</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Accurate%20delays%20in%20callLater&In-Reply-To=42BAED9E.8080304%40njp.us"
       TITLE="[Twisted-Python] Accurate delays in callLater">bob at redivi.com
       </A><BR>
    <I>Thu Jun 23 13:30:19 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="010814.html">[Twisted-Python] Accurate delays in callLater
</A></li>
        <LI>Next message: <A HREF="010817.html">[Twisted-Python] Accurate delays in callLater
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10816">[ date ]</a>
              <a href="thread.html#10816">[ thread ]</a>
              <a href="subject.html#10816">[ subject ]</a>
              <a href="author.html#10816">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Jun 23, 2005, at 1:13 PM, Norm Petterson wrote:

&gt;<i> George Sakkis wrote:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> I'm using twisted for a realtime simulation and I'm calling
</I>&gt;&gt;<i> reactor.callLater() for scheduling actions to be performed after a  
</I>&gt;&gt;<i> fixed
</I>&gt;&gt;<i> short delay (~60msec). However, if there is a cpu-intensive procedure
</I>&gt;&gt;<i> running in the meantime, the timer for the scheduled call may  
</I>&gt;&gt;<i> expire much
</I>&gt;&gt;<i> later, an order of magnitude or more if the procedure takes too  
</I>&gt;&gt;<i> much time.
</I>&gt;&gt;<i> Is this to be expected in general ? If not, does this may have to  
</I>&gt;&gt;<i> with the
</I>&gt;&gt;<i> delay being too short or the cpu-intensive procedure being mainly  
</I>&gt;&gt;<i> run in
</I>&gt;&gt;<i> an extension module ? Finally, is there a way to force the  
</I>&gt;&gt;<i> required delay
</I>&gt;&gt;<i> (with a tolerance of a few msec) ?
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> You don't say whether the cpu-intensive procedure is a part of your  
</I>&gt;<i> Twisted app (in which case it is an example of &quot;blocking&quot; behavior  
</I>&gt;<i> that you must design to eliminate yourself), or is running outside  
</I>&gt;<i> of Twisted (in which case you must utilize operating system  
</I>&gt;<i> features to run your Twisted app at a higher process priority).
</I>&gt;<i>
</I>&gt;<i> Unlike the preemptive scheduling of real time operating systems,  
</I>&gt;<i> Twisted &quot;scheduling&quot; won't preempt anything already running.
</I>
Additionally, the precision of reactor.callLater is only as good as  
the precision of the reactor's primitive for timing (select, in the  
default reactor).  The precision of select varies widely based on the  
platform.

You might have more luck with twisted.internet.task.LoopingCall

-bob



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010814.html">[Twisted-Python] Accurate delays in callLater
</A></li>
	<LI>Next message: <A HREF="010817.html">[Twisted-Python] Accurate delays in callLater
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10816">[ date ]</a>
              <a href="thread.html#10816">[ thread ]</a>
              <a href="subject.html#10816">[ subject ]</a>
              <a href="author.html#10816">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
