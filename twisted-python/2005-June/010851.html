<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Limiting number of concurrent client connections
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Limiting%20number%20of%20concurrent%20client%20connections&In-Reply-To=200506281047.04810.tdickenson%40devmail.geminidataloggers.co.uk">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010850.html">
   <LINK REL="Next"  HREF="010852.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Limiting number of concurrent client connections</H1>
    <B>Jp Calderone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Limiting%20number%20of%20concurrent%20client%20connections&In-Reply-To=200506281047.04810.tdickenson%40devmail.geminidataloggers.co.uk"
       TITLE="[Twisted-Python] Limiting number of concurrent client connections">exarkun at divmod.com
       </A><BR>
    <I>Tue Jun 28 10:10:52 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="010850.html">[Twisted-Python] Limiting number of concurrent client connections
</A></li>
        <LI>Next message: <A HREF="010852.html">[Twisted-Python] Limiting number of concurrent client connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10851">[ date ]</a>
              <a href="thread.html#10851">[ thread ]</a>
              <a href="subject.html#10851">[ subject ]</a>
              <a href="author.html#10851">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, 28 Jun 2005 10:47:04 +0100, Toby Dickenson &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">tdickenson at devmail.geminidataloggers.co.uk</A>&gt; wrote:
&gt;<i>Im finding that Win32Reactor raises an exception on every iteration of the
</I>&gt;<i>main loop if I exceed the limit of 64 WaitForMultipleObjects.
</I>&gt;<i>
</I>&gt;<i>I would prefer to avoid this fairly obvious denial-of-service problem by
</I>&gt;<i>limiting the number of concurrent client connections. Is there a standard
</I>&gt;<i>solution for this?
</I>&gt;<i>
</I>
Count the number of connections you have accepted.  When you get up to 62 or 63 or so, stop accepting new ones.  If ServerFactory.buildProtocol() returns None, Twisted immediately closes the accepted connection.  If you do this (perhaps in conjunction with calling stopListening() on the port returned by listenXYZ()), you'll never overrun the 64 object limit.

Jp


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010850.html">[Twisted-Python] Limiting number of concurrent client connections
</A></li>
	<LI>Next message: <A HREF="010852.html">[Twisted-Python] Limiting number of concurrent client connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10851">[ date ]</a>
              <a href="thread.html#10851">[ thread ]</a>
              <a href="subject.html#10851">[ subject ]</a>
              <a href="author.html#10851">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
