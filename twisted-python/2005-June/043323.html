<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Accurate delays in callLater
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Accurate%20delays%20in%20callLater&In-Reply-To=%3C200506231013.55704.ian%40ianduggan.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="043336.html">
   <LINK REL="Next"  HREF="043331.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Accurate delays in callLater</H1>
    <B>Ian Duggan</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Accurate%20delays%20in%20callLater&In-Reply-To=%3C200506231013.55704.ian%40ianduggan.net%3E"
       TITLE="[Twisted-Python] Accurate delays in callLater">ian at ianduggan.net
       </A><BR>
    <I>Thu Jun 23 11:13:55 MDT 2005</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="043336.html">[Twisted-Python] Accurate delays in callLater
</A></li>
        <LI>Next message (by thread): <A HREF="043331.html">[Twisted-Python] Accurate delays in callLater
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43323">[ date ]</a>
              <a href="thread.html#43323">[ thread ]</a>
              <a href="subject.html#43323">[ subject ]</a>
              <a href="author.html#43323">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
The scheduling isn't preemptive. The main twisted thread would have to be 
passing through it's &quot;find timed calls and run ones that are due&quot; code within 
the window of time that you need.

Long calls in protocol code, or simply not being the currect process run by 
the processor would prevent it from scheduling your code in the time you 
need.

Think cooperative scheduling, not preemptive.

That being said, you might try adjusting the priority of the twisted process 
to give it more access to the CPU.

--Ian


On Thursday 23 June 2005 09:29, George Sakkis wrote:
&gt;<i> I'm using twisted for a realtime simulation and I'm calling
</I>&gt;<i> reactor.callLater() for scheduling actions to be performed after a fixed
</I>&gt;<i> short delay (~60msec). However, if there is a cpu-intensive procedure
</I>&gt;<i> running in the meantime, the timer for the scheduled call may expire much
</I>&gt;<i> later, an order of magnitude or more if the procedure takes too much time.
</I>&gt;<i> Is this to be expected in general ? If not, does this may have to with the
</I>&gt;<i> delay being too short or the cpu-intensive procedure being mainly run in
</I>&gt;<i> an extension module ? Finally, is there a way to force the required delay
</I>&gt;<i> (with a tolerance of a few msec) ?
</I>&gt;<i>
</I>&gt;<i> Thanks for any insight,
</I>&gt;<i>
</I>&gt;<i> George
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="043336.html">[Twisted-Python] Accurate delays in callLater
</A></li>
	<LI>Next message (by thread): <A HREF="043331.html">[Twisted-Python] Accurate delays in callLater
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43323">[ date ]</a>
              <a href="thread.html#43323">[ thread ]</a>
              <a href="subject.html#43323">[ subject ]</a>
              <a href="author.html#43323">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
