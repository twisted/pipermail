<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] too many file descriptors on win2003 server
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20too%20many%20file%20descriptors%20on%20win2003%20server&In-Reply-To=42BBD391.2030709%40treepy.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010840.html">
   <LINK REL="Next"  HREF="010827.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] too many file descriptors on win2003 server</H1>
    <B>Itamar Shtull-Trauring</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20too%20many%20file%20descriptors%20on%20win2003%20server&In-Reply-To=42BBD391.2030709%40treepy.com"
       TITLE="[Twisted-Python] too many file descriptors on win2003 server">itamar at itamarst.org
       </A><BR>
    <I>Fri Jun 24 11:25:02 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="010840.html">[Twisted-Python] too many file descriptors on win2003 server
</A></li>
        <LI>Next message: <A HREF="010827.html">[Twisted-Python] Traceback from pb-Server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10842">[ date ]</a>
              <a href="thread.html#10842">[ thread ]</a>
              <a href="subject.html#10842">[ subject ]</a>
              <a href="author.html#10842">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, 2005-06-24 at 11:34 +0200, Patrick Lauber wrote:

&gt;<i> I have a server that acts as a Flash-XML-Socket Server that pushes data 
</I>&gt;<i> to the clients in a irregular interval. It is running on win2003 server 
</I>&gt;<i> and i get the &quot;too many file descriptors in select()&quot; error when i hit 
</I>&gt;<i> the 512 mark. Is there a way to extend this limit? the poll reactor 
</I>&gt;<i> doesn't seam to work under win. is the win32 reactor better at large 
</I>&gt;<i> simultaneous connections?
</I>
No, win32eventreactor is worse, it only does 64. The 512 limit comes
from Python, it #defines FD_SETSIZE to be 512 in the C socket extension
module; the default without this would have been 64 as well.

Your options: 

1. Compile your own version of the _socket.pyd for Windows, patched to
have a higher FD_SETSIZE.

2. Try the IOCP reactor, it might work, and certainly shouldn't have
limits on number of sockets.

more aggressive timeouts on client connections should help somewhat as
well, though they don't solve the real issue.




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010840.html">[Twisted-Python] too many file descriptors on win2003 server
</A></li>
	<LI>Next message: <A HREF="010827.html">[Twisted-Python] Traceback from pb-Server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10842">[ date ]</a>
              <a href="thread.html#10842">[ thread ]</a>
              <a href="subject.html#10842">[ subject ]</a>
              <a href="author.html#10842">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
