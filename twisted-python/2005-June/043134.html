<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Using twisted.conch.recvline
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Using%20twisted.conch.recvline&In-Reply-To=%3C429E8EBF.2000501%40fettig.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="043126.html">
   <LINK REL="Next"  HREF="043135.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Using twisted.conch.recvline</H1>
    <B>Abe Fettig</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Using%20twisted.conch.recvline&In-Reply-To=%3C429E8EBF.2000501%40fettig.net%3E"
       TITLE="[Twisted-Python] Using twisted.conch.recvline">abe at fettig.net
       </A><BR>
    <I>Wed Jun  1 22:44:47 MDT 2005</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="043126.html">[Twisted-Python] Using twisted.conch.recvline
</A></li>
        <LI>Next message (by thread): <A HREF="043135.html">[Twisted-Python] Using twisted.conch.recvline
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43134">[ date ]</a>
              <a href="thread.html#43134">[ thread ]</a>
              <a href="subject.html#43134">[ subject ]</a>
              <a href="author.html#43134">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jp Calderone wrote:

&gt;<i> If you hook all these pieces up right, the protocol class you give to
</I>&gt;<i> ServerProtocol should end up receiving application-level data from your
</I>&gt;<i> ssh server, and its terminal attribute will be hooked up to send bytes
</I>&gt;<i> back.
</I>&gt;<i> 
</I>&gt;<i> Note that this API may not be stable.
</I>&gt;<i> 
</I>&gt;<i> There's an example of all this smeared across
</I>&gt;<i> doc/conch/examples/demo_recvline.py and twisted/conch/manhole_ssh.py.
</I>
I've done this, and it's working in my example the same way as it does
in demo_recvline.py. It's a much nicer environment than my original:
backspace works, arrows work, you can scroll up and down through command
history. Yippee!

But there's a problem, both in my code and in demo_recvline.py: when you
get to the bottom of the terminal it doesn't scroll. All the lines just
get pasted over each other on the bottom line of the terminal. I'm
clueless about terminal programming: generally I just know that I can
dump a bunch of text and the terminal will scroll. But now it doesn't.
Can you help me fix this?

Once I get this all working, I'll post a modified simplesshserver.py for
the benefit of others who might want a working line editing and history
for their custom protocol.

Thanks!

Abe


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="043126.html">[Twisted-Python] Using twisted.conch.recvline
</A></li>
	<LI>Next message (by thread): <A HREF="043135.html">[Twisted-Python] Using twisted.conch.recvline
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43134">[ date ]</a>
              <a href="thread.html#43134">[ thread ]</a>
              <a href="subject.html#43134">[ subject ]</a>
              <a href="author.html#43134">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
