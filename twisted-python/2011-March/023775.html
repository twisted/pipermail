<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Failure is O(state) vs Exception
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Failure%20is%20O%28state%29%20vs%20Exception&In-Reply-To=4D90A52C.6090401%40arbash-meinel.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023757.html">
   <LINK REL="Next"  HREF="023776.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Failure is O(state) vs Exception</H1>
    <B>Andrew Bennetts</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Failure%20is%20O%28state%29%20vs%20Exception&In-Reply-To=4D90A52C.6090401%40arbash-meinel.com"
       TITLE="[Twisted-Python] Failure is O(state) vs Exception">andrew at bemusement.org
       </A><BR>
    <I>Wed Mar 30 04:39:50 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="023757.html">[Twisted-Python] Failure is O(state) vs Exception
</A></li>
        <LI>Next message: <A HREF="023776.html">[Twisted-Python] Failure is O(state) vs Exception
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23775">[ date ]</a>
              <a href="thread.html#23775">[ thread ]</a>
              <a href="subject.html#23775">[ subject ]</a>
              <a href="author.html#23775">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>John Arbash Meinel wrote:
[&#8230;]
&gt;<i> &gt; Just for the record, changing cleanFailure to not do its operation is
</I>&gt;<i> &gt; likely to lead to big memory leaks. The second thing you did, setting
</I>&gt;<i> &gt; self.tb to None, makes more sense to speed things up.
</I>&gt;<i> 
</I>&gt;<i> Right. I agree that it is a better solution. I was wondering about
</I>&gt;<i> having a whitelist of Exception classes that aren't considered
</I>&gt;<i> interesting enough to keep a traceback.
</I>
I've filed &lt;<A HREF="http://twistedmatrix.com/trac/ticket/5011">http://twistedmatrix.com/trac/ticket/5011</A>&gt; about this issue,
and I have a patch that takes an alternative approach: don't capture
tracebacks when Deferred callbacks raise exceptions unless
defer.setDebugging(True) has been called.

Another possibility might be to stop Failure from capturing all the
frame details (i.e. the locals and globals) by default (or at least when
invoked by Deferred._runCallbacks), as that's probably the bulk of the
expense and would be very rarely used.

-Andrew.


</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023757.html">[Twisted-Python] Failure is O(state) vs Exception
</A></li>
	<LI>Next message: <A HREF="023776.html">[Twisted-Python] Failure is O(state) vs Exception
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23775">[ date ]</a>
              <a href="thread.html#23775">[ thread ]</a>
              <a href="subject.html#23775">[ subject ]</a>
              <a href="author.html#23775">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
