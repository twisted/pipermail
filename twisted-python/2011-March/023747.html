<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Asynchronous context in Twisted
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Asynchronous%20context%20in%20Twisted&In-Reply-To=AANLkTika%3DxCxs1qmo2jZ2tFXSYJjUGtPqOpzacHcCE53%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023679.html">
   <LINK REL="Next"  HREF="023623.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Asynchronous context in Twisted</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Asynchronous%20context%20in%20Twisted&In-Reply-To=AANLkTika%3DxCxs1qmo2jZ2tFXSYJjUGtPqOpzacHcCE53%40mail.gmail.com"
       TITLE="[Twisted-Python] Asynchronous context in Twisted">glyph at twistedmatrix.com
       </A><BR>
    <I>Sun Mar 27 22:03:59 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="023679.html">[Twisted-Python] Asynchronous context in Twisted
</A></li>
        <LI>Next message: <A HREF="023623.html">[Twisted-Python] Agent and &quot;Cannot assign requested address&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23747">[ date ]</a>
              <a href="thread.html#23747">[ thread ]</a>
              <a href="subject.html#23747">[ subject ]</a>
              <a href="author.html#23747">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Mar 15, 2011, at 2:54 AM, Fantix King wrote:

&gt;<i> Thanks for replying! :)
</I>
No problem, I wish I had time for more replies, but my stack runneth over.

&gt;<i> --- &lt;asynchronous break point&gt; ---
</I>
This is completely awesome, and I have had this message sitting around waiting for me to appropriately consider it and reply.  Hopefully I'll have some time in the future though.  Can you perhaps file a ticket in the Twisted tracker for &quot;asynchronous tracebacks that show me what has happened to a Deferred&quot; or something like that?  I think that we've all been afraid that such a feature would have too high of a performance cost, but like the creation/invocation stacks that are used when Deferred debugging is on, we could at least make use of it in unit tests or in debug mode.

Thanks again for this awesome demonstration, and I'm sorry I haven't had more time to look at it.

&gt;<i> Additionally, in my scenario of a 5 years old asynchronous Twisted web application, we
</I>&gt;<i> need the &quot;request&quot; object available throughout all code between asynchronous network
</I>&gt;<i> accesses and database accesses because our global configuration system needs the
</I>&gt;<i> request object. It would greatly reduce our manual work to pass through the request
</I>&gt;<i> object here and there to have a context working in the asynchronous way.
</I>
Okay, _this_ sounds terrible to me.  Implicitly requiring an out-of-band parameter that is retrieved via some global variable is a maintenance nightmare.  This is one of the reasons I haven't written and published more about trying to do more with asynchronous context: I don't want idiomatic Twisted applications to become a big mess of spaghetti code which only works if your call stacks are all just so.

Availability of an implicit/shared context object was one of the things that made maintaining old Woven and Nevow code such a pain, and I consider its complete elimination in twisted.web.template a major step forward.  So let's not go down that road again :).

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20110327/f29f5b61/attachment.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20110327/f29f5b61/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023679.html">[Twisted-Python] Asynchronous context in Twisted
</A></li>
	<LI>Next message: <A HREF="023623.html">[Twisted-Python] Agent and &quot;Cannot assign requested address&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23747">[ date ]</a>
              <a href="thread.html#23747">[ thread ]</a>
              <a href="subject.html#23747">[ subject ]</a>
              <a href="author.html#23747">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
