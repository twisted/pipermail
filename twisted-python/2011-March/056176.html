<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Unicode exceptions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Unicode%20exceptions&In-Reply-To=%3C126311300369025%40web91.yandex.ru%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="056178.html">
   <LINK REL="Next"  HREF="056179.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Unicode exceptions</H1>
    <B>Temchenko Grigory</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Unicode%20exceptions&In-Reply-To=%3C126311300369025%40web91.yandex.ru%3E"
       TITLE="[Twisted-Python] Unicode exceptions">soid-exe at yandex.ru
       </A><BR>
    <I>Thu Mar 17 07:37:04 MDT 2011</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="056178.html">[Twisted-Python] [Twisted-commits] r31216 - skip glib and gtk	reactors in the new test
</A></li>
        <LI>Next message (by thread): <A HREF="056179.html">[Twisted-Python] Benchmark of Python WSGI servers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56176">[ date ]</a>
              <a href="thread.html#56176">[ thread ]</a>
              <a href="subject.html#56176">[ subject ]</a>
              <a href="author.html#56176">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey there,

On my production server I have periodically happening unicode error but not on my desktop. It appears in logs:

2011-03-17 13:14:53+0000 [GameProtocol,941,95.78.43.17] &lt;unicode instance at 0x9e304a0 with str error:
	 Traceback (most recent call last):
	  File &quot;/usr/local/lib/python2.6/dist-packages/twisted/python/reflect.py&quot;, line 546, in _safeFormat
	    return formatter(o)
	UnicodeEncodeError: 'ascii' codec can't encode characters in position 21-26: ordinal not in range(128)
	&gt;

It doesn't affect any logic in application but it's annoying in logs.

The server runs under Ubuntu 10.10 Server, Python 2.6.5, Twisted 10.2.0.
The desktop is Ubuntu 10.10 Desktop, Python 2.6.5, Twisted 10.2.0.

Locales are the same:
$ locale
LANG=en_US.UTF-8
LANGUAGE=en_US.UTF-8
LC_CTYPE=&quot;en_US.UTF-8&quot;
LC_NUMERIC=&quot;en_US.UTF-8&quot;
LC_TIME=&quot;en_US.UTF-8&quot;
LC_COLLATE=&quot;en_US.UTF-8&quot;
LC_MONETARY=&quot;en_US.UTF-8&quot;
LC_MESSAGES=&quot;en_US.UTF-8&quot;
LC_PAPER=&quot;en_US.UTF-8&quot;
LC_NAME=&quot;en_US.UTF-8&quot;
LC_ADDRESS=&quot;en_US.UTF-8&quot;
LC_TELEPHONE=&quot;en_US.UTF-8&quot;
LC_MEASUREMENT=&quot;en_US.UTF-8&quot;
LC_IDENTIFICATION=&quot;en_US.UTF-8&quot;
LC_ALL=en_US.UTF-8

What do I have to check to get it fixed?


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="056178.html">[Twisted-Python] [Twisted-commits] r31216 - skip glib and gtk	reactors in the new test
</A></li>
	<LI>Next message (by thread): <A HREF="056179.html">[Twisted-Python] Benchmark of Python WSGI servers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56176">[ date ]</a>
              <a href="thread.html#56176">[ thread ]</a>
              <a href="subject.html#56176">[ subject ]</a>
              <a href="author.html#56176">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
