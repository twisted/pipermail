<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Twisted, wxPython &amp; PyPubSub
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Twisted%2C%20wxPython%20%26%20PyPubSub&In-Reply-To=4AA75557.8040005%40arimaz.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020383.html">
   <LINK REL="Next"  HREF="020394.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Twisted, wxPython &amp; PyPubSub</H1>
    <B>exarkun at twistedmatrix.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Twisted%2C%20wxPython%20%26%20PyPubSub&In-Reply-To=4AA75557.8040005%40arimaz.com"
       TITLE="[Twisted-Python] Twisted, wxPython &amp; PyPubSub">exarkun at twistedmatrix.com
       </A><BR>
    <I>Wed Sep  9 21:46:28 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="020383.html">[Twisted-Python] Twisted, wxPython &amp; PyPubSub
</A></li>
        <LI>Next message: <A HREF="020394.html">[Twisted-Python] Twisted, wxPython &amp; PyPubSub
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20390">[ date ]</a>
              <a href="thread.html#20390">[ thread ]</a>
              <a href="subject.html#20390">[ subject ]</a>
              <a href="author.html#20390">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 9 Sep, 07:12 am, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">gabriel.rossetti at arimaz.com</A> wrote:
&gt;<i><A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at twistedmatrix.com</A> wrote:
</I>&gt;&gt;<i>On 02:21 pm, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">gabriel.rossetti at arimaz.com</A> wrote:
</I>&gt;&gt;&gt;<i>Hello everyone,
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>I am using wx with twisted and pubsub (not the on in wx but the
</I>&gt;&gt;&gt;<i>independent one) to notify each one of what is going on. I was
</I>&gt;&gt;&gt;<i>wondering
</I>&gt;&gt;&gt;<i>if I should use reactor.callFromThread to call publisher.sendMessage 
</I>&gt;&gt;&gt;<i>or
</I>&gt;&gt;&gt;<i>not? I haven't been doing that until now but I wondered if it was
</I>&gt;&gt;&gt;<i>better to.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Use reactor.callFromThread if you have code running in a non-reactor
</I>&gt;&gt;<i>thread and you want it to initiate some action in the reactor thread.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>So, if publisher.sendMessage is using Twisted APIs or otherwise 
</I>&gt;&gt;<i>requires
</I>&gt;&gt;<i>that it be run only in the reactor thread, and you need to use it from 
</I>&gt;&gt;<i>a
</I>&gt;&gt;<i>non-reactor thread, then use reactor.callFromThread.  Otherwise, 
</I>&gt;&gt;<i>don't.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Jean-Paul
</I>&gt;<i>
</I>&gt;<i>Would you consider the wxreactor like a non-reactor thread?
</I>
I'm not sure what you mean.  The &quot;reactor thread&quot; is the thread that 
&quot;reactor.run()&quot; is called in.  Even if you're using wxreactor.
&gt;<i>I haven't
</I>&gt;<i>checked out the code behind PyPubSub, but it's basically the
</I>&gt;<i>Observer-Pattern so when I call publisher.sendMessage(...) it iterates
</I>&gt;<i>the &quot;subscribers&quot; (observers) and calls the functions they associated 
</I>&gt;<i>w/
</I>&gt;<i>the subscription. Those functions are both in the twisted code and the
</I>&gt;<i>wx code. The Twisted code sends messages nd the wx code brings-up/hides
</I>&gt;<i>dialogs or frames. In the wxdemo it does :
</I>&gt;<i>
</I>&gt;<i># look, we can use twisted calls!
</I>&gt;<i>reactor.callLater(2, self.twoSecondsPassed)
</I>&gt;<i>
</I>&gt;<i>but doesn't use reactor.callFromThread, but unless I'm wrong
</I>&gt;<i>reactor.callLater does the same thing but deferred in time. I often see
</I>&gt;<i>reactor.callLater(0, myFunc) being used.
</I>
The wx demo doesn't do anything with threads, so it doesn't need to use 
callFromThread.  So, if you're only doing things like what the wx demo 
does, you probably don't need callFromThread either.

callLater doesn't do the same thing as callFromThread.  There might be 
some vague similarities (really the only one is that neither one calls 
the function you pass it right away), but they're for very different 
things.

Jean-Paul

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020383.html">[Twisted-Python] Twisted, wxPython &amp; PyPubSub
</A></li>
	<LI>Next message: <A HREF="020394.html">[Twisted-Python] Twisted, wxPython &amp; PyPubSub
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20390">[ date ]</a>
              <a href="thread.html#20390">[ thread ]</a>
              <a href="subject.html#20390">[ subject ]</a>
              <a href="author.html#20390">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
