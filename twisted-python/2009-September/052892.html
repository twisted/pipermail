<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] PB/Remote Object/Deferred question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20PB/Remote%20Object/Deferred%20question&In-Reply-To=%3Cmailman.7.1574573436.12674.twisted-python%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="052917.html">
   <LINK REL="Next"  HREF="052893.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] PB/Remote Object/Deferred question</H1>
    <B>John Crawford</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20PB/Remote%20Object/Deferred%20question&In-Reply-To=%3Cmailman.7.1574573436.12674.twisted-python%40twistedmatrix.com%3E"
       TITLE="[Twisted-Python] PB/Remote Object/Deferred question">cyclops at speakeasy.net
       </A><BR>
    <I>Wed Sep  9 10:39:03 MDT 2009</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="052917.html">[Twisted-Python] IOCP reactor on Windows 2000
</A></li>
        <LI>Next message (by thread): <A HREF="052893.html">[Twisted-Python] PB/Remote Object/Deferred question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52892">[ date ]</a>
              <a href="thread.html#52892">[ thread ]</a>
              <a href="subject.html#52892">[ subject ]</a>
              <a href="author.html#52892">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm trying to understand the Perspective Broker, reading over the 
on-site documentation, specifically the article:

<A HREF="http://twistedmatrix.com/projects/core/documentation/howto/pb-usage.html">http://twistedmatrix.com/projects/core/documentation/howto/pb-usage.html</A>

and there is a section about the callRemote() function that I really 
don't understand :)

First, consider these three lines:

d = factory.getRootObject()
d.addCallback(lambda object: object.callRemote(&quot;echo&quot;, &quot;hello network&quot;))
d.addCallback(lambda echo: 'server echoed: '+echo)

Second, the documentation says, &quot;...object.callRemote() returns a 
Deferred. Assuming the remote method was run without causing an 
exception (including an attempt to invoke an unknown method), the 
callback attached to that Deferred will be invoked with any objects 
that were returned by the remote method call.&quot;

If I read this correctly, callRemote() returns a whole new Deferred 
object, which is *not* the same as the 'd' Deferred object we already 
have. So that *new* Deferred should be the one that the next callback 
(line 3) is added to, since the next callback is based on the success 
of the callRemote(). So wouldn't these be the correct lines:

d = factory.getRootObject()
d2 = d.addCallback(lambda object: object.callRemote(&quot;echo&quot;, &quot;hello network&quot;))
d2.addCallback(lambda echo: 'server echoed: '+echo)


Thanks in advance for any clarification.

John C&gt;






</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="052917.html">[Twisted-Python] IOCP reactor on Windows 2000
</A></li>
	<LI>Next message (by thread): <A HREF="052893.html">[Twisted-Python] PB/Remote Object/Deferred question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52892">[ date ]</a>
              <a href="thread.html#52892">[ thread ]</a>
              <a href="subject.html#52892">[ subject ]</a>
              <a href="author.html#52892">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
