<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] hang when using twisted
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20hang%20when%20using%20twisted&In-Reply-To=8698335.3591253288916465.JavaMail.coremail%40mailweb">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020468.html">
   <LINK REL="Next"  HREF="020474.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] hang when using twisted</H1>
    <B>exarkun at twistedmatrix.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20hang%20when%20using%20twisted&In-Reply-To=8698335.3591253288916465.JavaMail.coremail%40mailweb"
       TITLE="[Twisted-Python] hang when using twisted">exarkun at twistedmatrix.com
       </A><BR>
    <I>Fri Sep 18 12:05:57 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="020468.html">[Twisted-Python] hang when using twisted
</A></li>
        <LI>Next message: <A HREF="020474.html">[Twisted-Python] Using reactor with multiple processes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20469">[ date ]</a>
              <a href="thread.html#20469">[ thread ]</a>
              <a href="subject.html#20469">[ subject ]</a>
              <a href="author.html#20469">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 03:48 pm, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">gx1986 at mail.ustc.edu.cn</A> wrote:
&gt;<i>
</I>&gt;<i>
</I>&gt;<i>I met some problem when writing twisted.
</I>&gt;<i>
</I>&gt;<i>The code is
</I>&gt;<i>
</I>&gt;<i>[snip]
</I>&gt;<i>38
</I>&gt;<i>39     def remoteCopyFile(HOST,filename = '4'):
</I>&gt;<i>40            reactor.connectTCP(HOST,PORT,TSClientFactory(filename))
</I>&gt;<i>41            reactor.run(installSignalHandlers=0)
</I>&gt;<i>42            updateCurrentIPList.updateCurrentIPList(HOST)
</I>&gt;<i>43 
</I>&gt;<i>reactor.connectTCP(HOST,PORT,TSClientFactory('currentIP'))
</I>&gt;<i>44            reactor.run(installSignalHandlers=0)
</I>&gt;<i>45
</I>&gt;<i>[snip]
</I>&gt;<i>
</I>&gt;<i>The program print two &quot;finished&quot;,then hang.
</I>&gt;<i>If i delete the line 40 and 41  or delete the line 43 and 44 ,the 
</I>&gt;<i>program become good.
</I>&gt;<i>whether can't we use two &quot;reactor.run()&quot; in one function? why?
</I>&gt;<i>Thank you!
</I>
Yes, you cannot call reactor.run() twice (anywhere in the same program - 
whether within one function or otherwise).  This is an minor 
implementation limitation which could fairly easily be lifted if anyone 
really wanted to.  However, there's not a lot of reason to bother. 
Instead of stopping the reactor after your first task and then starting 
it for your second task, just start your second task when the first one 
is done - don't stop the reactor and then start it again.  When you're 
done with everything and ready to exit, that's when you should stop the 
reactor.

Jean-Paul

</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020468.html">[Twisted-Python] hang when using twisted
</A></li>
	<LI>Next message: <A HREF="020474.html">[Twisted-Python] Using reactor with multiple processes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20469">[ date ]</a>
              <a href="thread.html#20469">[ thread ]</a>
              <a href="subject.html#20469">[ subject ]</a>
              <a href="author.html#20469">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
