<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Effects of backlog parameter on listenTCP
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Effects%20of%20backlog%20parameter%20on%20listenTCP&In-Reply-To=20120719012626.GA26606%40boombah.thristian.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025852.html">
   <LINK REL="Next"  HREF="025855.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Effects of backlog parameter on listenTCP</H1>
    <B>Tobias Oberstein</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Effects%20of%20backlog%20parameter%20on%20listenTCP&In-Reply-To=20120719012626.GA26606%40boombah.thristian.org"
       TITLE="[Twisted-Python] Effects of backlog parameter on listenTCP">tobias.oberstein at tavendo.de
       </A><BR>
    <I>Thu Jul 19 05:48:48 EDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="025852.html">[Twisted-Python] Effects of backlog parameter on listenTCP
</A></li>
        <LI>Next message: <A HREF="025855.html">[Twisted-Python] Effects of backlog parameter on listenTCP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25854">[ date ]</a>
              <a href="thread.html#25854">[ thread ]</a>
              <a href="subject.html#25854">[ subject ]</a>
              <a href="author.html#25854">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Tim, Itamar,

thanks for clarifying and reproducing the relevant man pages!

It would be great if the Twisted docstring for &quot;backlog&quot; on listenTCP/listenSSL stated something like:

&quot;Size of the listen queue. The value is passed directly to the listen system call and it's precise semantics is defined by the platform Twisted runs on.&quot;

Anyway, thanks!

Tobias




Mit freundlichen Gr&#252;&#223;en,

Tobias Oberstein
Gesch&#228;ftsf&#252;hrer

+49(0)9131 940 3574
+49(0)176 23 752 055
<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">tobias.oberstein at tavendo.de</A>
Skype: toberstein
Twitter: @oberstet
Xing: Tobias Oberstein



Tavendo GmbH &#183; Am Weihersbach 13 &#183; 91074 Herzogenaurach &#183; Deutschland
Office / Postanschrift : Waldstrasse 18 &#183; 91054 Erlangen &#183; Deutschland
+49(+)700 GO TAVENDO &#183; +49(0)700 46 828 36 36 &#183; www.tavendo.de
Amtsgericht F&#252;rth &#183; HRB 10365 &#183; USt-Id.Nr DE246462916 &#183; Gesch&#228;ftsf&#252;hrer Tobias Oberstein


&gt;<i> -----Urspr&#252;ngliche Nachricht-----
</I>&gt;<i> Von: <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python-bounces at twistedmatrix.com</A> [mailto:twisted-python-
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">bounces at twistedmatrix.com</A>] Im Auftrag von Tim Allen
</I>&gt;<i> Gesendet: Donnerstag, 19. Juli 2012 03:26
</I>&gt;<i> An: Twisted general discussion
</I>&gt;<i> Betreff: Re: [Twisted-Python] Effects of backlog parameter on listenTCP
</I>&gt;<i> 
</I>&gt;<i> On Wed, Jul 18, 2012 at 04:43:01PM -0700, Tobias Oberstein wrote:
</I>&gt;<i> &gt; Could someone shortly elaborate on the semantics / effect of the parameter
</I>&gt;<i> &quot;backlog&quot; with listenTCP?
</I>&gt;<i> 
</I>&gt;<i> It exactly corresponds to the &quot;backlog&quot; parameter of the BSD socket API
</I>&gt;<i> function &quot;listen(int sockfd, int backlog)&quot;. On my Debian Testing machine, the
</I>&gt;<i> listen(2) manpage says:
</I>&gt;<i> 
</I>&gt;<i>     The backlog argument defines the maximum length to which the queue
</I>&gt;<i>     of pending connections for sockfd may grow. If a connection request
</I>&gt;<i>     arrives when the queue is full, the client may receive an error with
</I>&gt;<i>     an indication of ECONNREFUSED or, if the underlying protocol
</I>&gt;<i>     supports retransmission, the request may be ignored so that a later
</I>&gt;<i>     reattempt at connection succeeds.
</I>&gt;<i> 
</I>&gt;<i> ..and later:
</I>&gt;<i> 
</I>&gt;<i>     The behavior of the backlog argument on TCP sockets changed with
</I>&gt;<i>     Linux 2.2. Now it specifies the queue length for completely
</I>&gt;<i>     established sockets waiting to be accepted, instead of the number of
</I>&gt;<i>     incomplete connection requests.  The maximum length of the queue for
</I>&gt;<i>     incomplete sockets can be set using
</I>&gt;<i>     /proc/sys/net/ipv4/tcp_max_syn_backlog.  When syncookies are enabled
</I>&gt;<i>     there is no logical maximum length and this setting is ignored. See
</I>&gt;<i>     tcp(7) for more information.
</I>&gt;<i> 
</I>&gt;<i>     If the backlog argument is greater than the value in
</I>&gt;<i>     /proc/sys/net/core/somaxconn, then it is silently truncated to that
</I>&gt;<i>     value; the default value in this file is 128. In kernels before
</I>&gt;<i>     2.4.25, this limit was a hard coded value, SOMAXCONN, with the value
</I>&gt;<i>     128.
</I>&gt;<i> 
</I>&gt;<i> Obviously the Twisted documentation can't go into all this detail because
</I>&gt;<i> Twisted runs on more operating systems than just Linux. Every OS that supports
</I>&gt;<i> the BSD socket API should have documentation explaining the precise definition
</I>&gt;<i> and meaning of the backlog parameter on that platform. For example, here's
</I>&gt;<i> the MSDN docs for the listen() function in
</I>&gt;<i> WinSock:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://msdn.microsoft.com/en-">http://msdn.microsoft.com/en-</A>
</I>&gt;<i> us/library/windows/desktop/ms739168%28v=vs.85%29.aspx
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025852.html">[Twisted-Python] Effects of backlog parameter on listenTCP
</A></li>
	<LI>Next message: <A HREF="025855.html">[Twisted-Python] Effects of backlog parameter on listenTCP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25854">[ date ]</a>
              <a href="thread.html#25854">[ thread ]</a>
              <a href="subject.html#25854">[ subject ]</a>
              <a href="author.html#25854">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
