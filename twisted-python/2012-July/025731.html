<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] txWS !!
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20txWS%20%21%21&In-Reply-To=CAEUxhZ03_%2BfF-Tw2AExHRzKCJ1hnGUh9Y6Av8vxP8Er8ZLsgbg%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025730.html">
   <LINK REL="Next"  HREF="025732.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] txWS !!</H1>
    <B>Corbin Simpson</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20txWS%20%21%21&In-Reply-To=CAEUxhZ03_%2BfF-Tw2AExHRzKCJ1hnGUh9Y6Av8vxP8Er8ZLsgbg%40mail.gmail.com"
       TITLE="[Twisted-Python] txWS !!">cds at corbinsimpson.com
       </A><BR>
    <I>Sun Jul  1 06:03:44 EDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="025730.html">[Twisted-Python] Weekly Bug Summary
</A></li>
        <LI>Next message: <A HREF="025732.html">[Twisted-Python] txWS !!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25731">[ date ]</a>
              <a href="thread.html#25731">[ thread ]</a>
              <a href="subject.html#25731">[ subject ]</a>
              <a href="author.html#25731">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, Jun 30, 2012 at 09:36:08PM +0200, vinod kumar wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i>  Thanks a lot for your reply. The trouble is that the events I have are
</I>&gt;<i> triggered by a homematic CCU. The CCU does it by multicall which has not
</I>&gt;<i> yet been implemented in twisted servers. So, I'm running a non-twisted
</I>&gt;<i> xmlrpc server in a thread so that my CCU triggers the events and it's
</I>&gt;<i> happening too. I can see the events printed on the console too. Now, I just
</I>&gt;<i> want a way to write the same to sockets. Can't we connect these to txWS
</I>&gt;<i> factory ? Doesn't the txWS has some socket object so that we can just say
</I>&gt;<i> socket.write..hmm
</I>
Well, no, txWS doesn't have raw sockets like that. Let me try to ASCII
things out.

In a normal Twisted TCP server, you might have some situation like this:

+---------------------------+
|<i> ServerFactory             |
</I>|<i>                           |           +----+
</I>|<i> + - - - - -+ +- - - - - + |~Raw~Bytes~|Port|~~TCP~~
</I>|<i> | Protocol | | Protocol | |           +----+
</I>|<i> +- - - - - + + - - - - -+ |
</I>+---------------------------+

In this scenario, the Port is bound to a ServerFactory, and each
Protocol of the Factory corresponds to a single TCP client. Protocols
should contain all of the logic necessary for communicating with their
given client. If necessary, the Factory could track all of its
Protocols, in order to facilitate cross-Protocol communication.

So, with that in mind, here's what txWS provides:

+---------------------------+
|<i> WebSocketsFactory         |
</I>|<i>                           |=WebSockets=Framing=+----+
</I>|<i> + - - - - - - - +         |~~~~~~Raw~Bytes~~~~~|Port|~~TCP~~
</I>|<i> | ServerFactory |         |====================+----+
</I>|<i> +- - - - - - - -+         |
</I>+---------------------------+

That is, WebSocketsFactory wraps a ServerFactory and armors all of the
bytes being sent with WebSockets frames. There isn't any magic in there;
it's all compositional and very straightforward.

I'm not sure what you want when you say that you &quot;want a way to write
the same to sockets.&quot; txWS doesn't have any special insight into the
bottom layer of its connection. (It could even work on non-TCP, if
somebody really wanted that.)

I hope this clarifies things; I know it doesn't exactly answer your
question as stated.

~ C.

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025730.html">[Twisted-Python] Weekly Bug Summary
</A></li>
	<LI>Next message: <A HREF="025732.html">[Twisted-Python] txWS !!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25731">[ date ]</a>
              <a href="thread.html#25731">[ thread ]</a>
              <a href="subject.html#25731">[ subject ]</a>
              <a href="author.html#25731">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
