<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Password hash for Perspective Brokers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Password%20hash%20for%20Perspective%20Brokers&In-Reply-To=20120726164328.2688.1891498547.divmod.xquotient.11%40localhost6.localdomain6">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025928.html">
   <LINK REL="Next"  HREF="025924.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Password hash for Perspective Brokers</H1>
    <B>Kevin Horn</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Password%20hash%20for%20Perspective%20Brokers&In-Reply-To=20120726164328.2688.1891498547.divmod.xquotient.11%40localhost6.localdomain6"
       TITLE="[Twisted-Python] Password hash for Perspective Brokers">kevin.horn at gmail.com
       </A><BR>
    <I>Thu Jul 26 13:36:57 EDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="025928.html">[Twisted-Python] Password hash for Perspective Brokers
</A></li>
        <LI>Next message: <A HREF="025924.html">[Twisted-Python] Password hash for Perspective Brokers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25915">[ date ]</a>
              <a href="thread.html#25915">[ thread ]</a>
              <a href="subject.html#25915">[ subject ]</a>
              <a href="author.html#25915">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Jul 26, 2012 at 11:43 AM, &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at twistedmatrix.com</A>&gt; wrote:

&gt;<i> On 02:28 pm, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">spalax at gresille.org</A> wrote:
</I>&gt;<i> &gt;         Hello
</I>&gt;<i> &gt;         I have a problem with checkers in Twisted, which could be
</I>&gt;<i> &gt;solved by
</I>&gt;<i> &gt;adding a new feature. I think I can write the necessary code, but
</I>&gt;<i> &gt;before
</I>&gt;<i> &gt;doing so, I would like to hear you about it.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;# The problem
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;         If I am right, the only way passwords can be hashed when using
</I>&gt;<i> &gt;authentication with perspective brokers is using MD5 [1]. However,
</I>&gt;<i> &gt;there
</I>&gt;<i> &gt;are two flaws with it.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;* First, MD5 is no longer considered sure. It may be possible, from the
</I>&gt;<i> &gt;hashed password, to find the original one.
</I>&gt;<i> &gt;* Second, in the current implementation of Twisted, no salt is used to
</I>&gt;<i> &gt;hash the password. A salt is considered good practise : it is harder to
</I>&gt;<i> &gt;find the password from the hashed form, and two identical passwords
</I>&gt;<i> &gt;have
</I>&gt;<i> &gt;different hashed form, which prevent someone looking at the hashed
</I>&gt;<i> &gt;passwords to see if two users have the same password.
</I>&gt;<i>
</I>&gt;<i> The second point is incorrect.  The hash is salted.  See the `respond`
</I>&gt;<i> method in twisted/spread/pb.py.
</I>&gt;<i> &gt;# A solution
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;         I tried to implement the solution proposed in [1], and I think
</I>&gt;<i> &gt;I can
</I>&gt;<i> &gt;manage to do it. However, this seems to be a not-so-smart hack, which
</I>&gt;<i> &gt;is
</I>&gt;<i> &gt;not guaranteed to work in future releases of Twisted. That is why I am
</I>&gt;<i> &gt;proposing a patch.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;         The patch would introduce some arguments to class
</I>&gt;<i> &gt;PBServerFactory [2]
</I>&gt;<i> &gt;to use (or not) a salt, and a different hash function. I am not settled
</I>&gt;<i> &gt;down yet about the new signature of this class, but what is sure is
</I>&gt;<i> &gt;that
</I>&gt;<i> &gt;the default must be the actual behaviour, not to break programs already
</I>&gt;<i> &gt;using Twisted. Then, I hesitate between
</I>&gt;<i>
</I>&gt;<i> A good approach would be to parameterize the supported authentication
</I>&gt;<i> mechanisms in an extensible way, rather than just hard coding one or two
</I>&gt;<i> new (probably better) options.
</I>&gt;<i>
</I>&gt;<i> In other words, a SASL implementation for PB would be the best way to
</I>&gt;<i> go.
</I>&gt;<i>
</I>&gt;<i> The existing API and behavior should indeed be preserved as-is for
</I>&gt;<i> backwards compatibility.  The new authentication features should be
</I>&gt;<i> exposed under a new API - either as new optional arguments accepted by
</I>&gt;<i> PBServerFactory (and perhaps PBClientFactory) and new login methods
</I>&gt;<i> (again, probably on those two classes).
</I>&gt;<i>
</I>&gt;<i> Jean-Paul
</I>&gt;<i>
</I>&gt;<i>
</I>It would probably also help if someone finished the &quot;Generic SASL
implementation&quot; ticket.

Lessee, who was working on that last?

Crap. It was me.

Sorry about that.

Kevin Horn
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20120726/191265a5/attachment.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20120726/191265a5/attachment.htm</A> 
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025928.html">[Twisted-Python] Password hash for Perspective Brokers
</A></li>
	<LI>Next message: <A HREF="025924.html">[Twisted-Python] Password hash for Perspective Brokers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25915">[ date ]</a>
              <a href="thread.html#25915">[ thread ]</a>
              <a href="subject.html#25915">[ subject ]</a>
              <a href="author.html#25915">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
