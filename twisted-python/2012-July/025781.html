<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Deserializing AMP callRemoteString without	knowing the Command's signature
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Deserializing%20AMP%20callRemoteString%20without%0A%09knowing%20the%20Command%27s%20signature&In-Reply-To=20120708013208.GC5497%40ragnarok.teratorn.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025780.html">
   <LINK REL="Next"  HREF="025782.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Deserializing AMP callRemoteString without	knowing the Command's signature</H1>
    <B>Glyph</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Deserializing%20AMP%20callRemoteString%20without%0A%09knowing%20the%20Command%27s%20signature&In-Reply-To=20120708013208.GC5497%40ragnarok.teratorn.org"
       TITLE="[Twisted-Python] Deserializing AMP callRemoteString without	knowing the Command's signature">glyph at twistedmatrix.com
       </A><BR>
    <I>Sat Jul  7 23:47:08 EDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="025780.html">[Twisted-Python] Deserializing AMP callRemoteString without knowing the Command's signature
</A></li>
        <LI>Next message: <A HREF="025782.html">[Twisted-Python] Weekly Bug Summary
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25781">[ date ]</a>
              <a href="thread.html#25781">[ thread ]</a>
              <a href="subject.html#25781">[ subject ]</a>
              <a href="author.html#25781">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Jul 7, 2012, at 6:32 PM, &quot;Eric P. Mangold&quot; &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">eric at teratorn.org</A>&gt; wrote:

&gt;<i> I'm a little bit unclear on what an AMP route is, but as I understand
</I>&gt;<i> it, it is basically a set of AMP Commands that are available at some
</I>&gt;<i> known location - useful for segregating functionality (pre-login,
</I>&gt;<i> post-login, user, admin, etc). Glyph, is that right?
</I>
It's not really the set of commands, so much as it is an identified endpoint for AMP boxes, so that you can multiplex them over a single connection.  The general idea is that you stick an extra key (&quot;_route&quot;) into the box, and that tells it where to go on the other end of the connection, so you can easily have as many parallel AMP streams as you want with only one TCP connection.  No protocol switching if you want to do this, of course.

Of course, your peer on a particular route will have a specific set of commands available, but so will the &quot;root&quot; route, i.e. the thing that you are talking to when you establish a TCP connection.  (Plus, maybe you get some extra or different stuff after you authenticate.)

But your peer on a particular route might be a completely dumb IBoxReceiver without even command-dispatch logic.

You can see an implementation of this here: &lt;<A HREF="http://bazaar.launchpad.net/~divmod-dev/divmod.org/trunk/view/head:/Epsilon/epsilon/amprouter.py">http://bazaar.launchpad.net/~divmod-dev/divmod.org/trunk/view/head:/Epsilon/epsilon/amprouter.py</A>&gt;.  (And I could swear there's a twisted ticket to integrate this but I can't find it in a quick search.)

-glyph

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20120707/202600c2/attachment.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20120707/202600c2/attachment.htm</A> 
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025780.html">[Twisted-Python] Deserializing AMP callRemoteString without knowing the Command's signature
</A></li>
	<LI>Next message: <A HREF="025782.html">[Twisted-Python] Weekly Bug Summary
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25781">[ date ]</a>
              <a href="thread.html#25781">[ thread ]</a>
              <a href="subject.html#25781">[ subject ]</a>
              <a href="author.html#25781">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
