<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] How to best log server/client interactions from a test?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20How%20to%20best%20log%20server/client%20interactions%0A%20from%20a%20test%3F&In-Reply-To=%3C50042001.9000702%40itamarst.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="058291.html">
   <LINK REL="Next"  HREF="058293.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] How to best log server/client interactions from a test?</H1>
    <B>Itamar Turner-Trauring</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20How%20to%20best%20log%20server/client%20interactions%0A%20from%20a%20test%3F&In-Reply-To=%3C50042001.9000702%40itamarst.org%3E"
       TITLE="[Twisted-Python] How to best log server/client interactions from a test?">itamar at itamarst.org
       </A><BR>
    <I>Mon Jul 16 08:06:57 MDT 2012</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="058291.html">[Twisted-Python] How to best log server/client interactions	from a test?
</A></li>
        <LI>Next message (by thread): <A HREF="058293.html">[Twisted-Python] How to best log server/client interactions from a test?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#58292">[ date ]</a>
              <a href="thread.html#58292">[ thread ]</a>
              <a href="subject.html#58292">[ subject ]</a>
              <a href="author.html#58292">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 07/16/2012 09:40 AM, Dan Milstein wrote:
&gt;<i> To be clear: my current interest is really just doing this during unit 
</I>&gt;<i> tests/ongoing development (e.g. not diagnosing prod issues, where 
</I>&gt;<i> Wireshark would make plenty of sense).  So something integrated into 
</I>&gt;<i> Twisted feels natural.
</I>&gt;<i>
</I>&gt;<i> That said, is the unit test pattern I'm seeing in the 
</I>&gt;<i> mail/test/test_imap.py module atypical?  Most of the doc'd examples 
</I>&gt;<i> for trial don't seem to be using loopbackTCP, so much as directly 
</I>&gt;<i> writing to lineReceived or something similar.  It's only because these 
</I>&gt;<i> tests are doing end-to-end things, by way of constructing both an IMAP 
</I>&gt;<i> server and client, and hooking them up, that I'm in this situation.
</I>&gt;<i>
</I>twisted.test.proto_helpers.StringTransport is handy for having an 
in-memory transport you control. loopbackAsync makes it less easy to see 
the bytes, but gives you more control than loopbackTCP, since you can 
determine policies about how bytes are delivered (e.g. there's a 
one-byte-at-a-time policy IIRC).


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="058291.html">[Twisted-Python] How to best log server/client interactions	from a test?
</A></li>
	<LI>Next message (by thread): <A HREF="058293.html">[Twisted-Python] How to best log server/client interactions from a test?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#58292">[ date ]</a>
              <a href="thread.html#58292">[ thread ]</a>
              <a href="subject.html#58292">[ subject ]</a>
              <a href="author.html#58292">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
