<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] How to best log server/client interactions	from a test?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20How%20to%20best%20log%20server/client%20interactions%0A%09from%20a%20test%3F&In-Reply-To=23FA91AD-F486-42E5-8346-DE9F8E53639B%40wingu.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025820.html">
   <LINK REL="Next"  HREF="025816.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] How to best log server/client interactions	from a test?</H1>
    <B>Glyph</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20How%20to%20best%20log%20server/client%20interactions%0A%09from%20a%20test%3F&In-Reply-To=23FA91AD-F486-42E5-8346-DE9F8E53639B%40wingu.com"
       TITLE="[Twisted-Python] How to best log server/client interactions	from a test?">glyph at twistedmatrix.com
       </A><BR>
    <I>Mon Jul 16 13:34:16 EDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="025820.html">[Twisted-Python] How to best log server/client interactions from a test?
</A></li>
        <LI>Next message: <A HREF="025816.html">[Twisted-Python] Weekly Bug Summary
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25821">[ date ]</a>
              <a href="thread.html#25821">[ thread ]</a>
              <a href="subject.html#25821">[ subject ]</a>
              <a href="author.html#25821">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Le Jul 16, 2012 &#224; 6:40 AM, Dan Milstein &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">dan at wingu.com</A>&gt; a &#233;crit :

&gt;<i> To be clear: my current interest is really just doing this during unit tests/ongoing development (e.g. not diagnosing prod issues, where Wireshark would make plenty of sense).  So something integrated into Twisted feels natural.
</I>&gt;<i> 
</I>&gt;<i> That said, is the unit test pattern I'm seeing in the mail/test/test_imap.py module atypical?  Most of the doc'd examples for trial don't seem to be using loopbackTCP, so much as directly writing to lineReceived or something similar.  It's only because these tests are doing end-to-end things, by way of constructing both an IMAP server and client, and hooking them up, that I'm in this situation.
</I>
Sorry, you're quite right that I misunderstood your question.

As Jean-Paul already said, this test code is quite old.

If you want to be diagnosing what's going on in a test, writing a (temporary) IProtocol or ITransport wrapper that has some print statements in it can be a good way to go.  Or as Itamar suggested, using StringTransport() and printing its contents.  Definitely using StringTransport would be preferred for anything you'd actually want to keep around in a test if you want to assert about what's being read or written, and not just look at a dump of the output.

-glyph

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20120716/60aa81e8/attachment.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20120716/60aa81e8/attachment.htm</A> 
</PRE>

























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025820.html">[Twisted-Python] How to best log server/client interactions from a test?
</A></li>
	<LI>Next message: <A HREF="025816.html">[Twisted-Python] Weekly Bug Summary
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25821">[ date ]</a>
              <a href="thread.html#25821">[ thread ]</a>
              <a href="subject.html#25821">[ subject ]</a>
              <a href="author.html#25821">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
