<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] deferred graph?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20deferred%20graph%3F&In-Reply-To=%3CCAGGBd_qc9RUjEmMNscf_1vg0JCU8yiNbGaodtUhgnaW6Ack2AA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="058267.html">
   <LINK REL="Next"  HREF="058296.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] deferred graph?</H1>
    <B>Dan Stromberg</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20deferred%20graph%3F&In-Reply-To=%3CCAGGBd_qc9RUjEmMNscf_1vg0JCU8yiNbGaodtUhgnaW6Ack2AA%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] deferred graph?">drsalists at gmail.com
       </A><BR>
    <I>Mon Jul 16 14:30:55 MDT 2012</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="058267.html">[Twisted-Python] deferred graph?
</A></li>
        <LI>Next message (by thread): <A HREF="058296.html">[Twisted-Python] deferred graph?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#58295">[ date ]</a>
              <a href="thread.html#58295">[ thread ]</a>
              <a href="subject.html#58295">[ subject ]</a>
              <a href="author.html#58295">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm continuing to have some stuck deferreds - deferredlists probably.

I had that graphviz/twisted graphing thing working for some test code, but
upon applying it to some deferreds that're getting stuck in some production
code, I didn't get the same pleasing output - not entirely surprising.
Part of the issue is that some of the deferreds have already disappeared
(which in a way is a good thing - less to sift through to find what's
left), and part of the matter is I believe there are some custom __repr__'s
in the code that are causing my graph code to discover violated assumptions.

Anyway, what I got, greatly truncated on the right, looks like:
  Deferred_at_0x46edcf8 -&gt;
bound_method_DeferredList._cbDeferred_of_DeferredList_at_0x46ed3b0_current_result
  Deferred_at_0x46edcf8 -&gt;
bound_method_DeferredList._cbDeferred_of_DeferredList_at_0x46ed3b0_current_result

To the right of those two lines appear to be a huge dictionary dump - and I
do mean huge.

Grep'ing through the code, I see no &quot;current.result&quot; matches.  There is
however a &quot;current\.result&quot; in the twisted code.

...so... I suppose I'm looking for a deferred (list) at a specific id(),
though that's a little fiddly to catch.

Can anyone think of other ways of getting to the bottom of this?  Perhaps
some field in a deferred or deferredList I can introspect to get better
specifics?

Is monkey patching an identifier of some sort into each deferred
reasonable?  The intent would be to make it easier to match up the
lingering DeferredLists with the place they're created.

TIA!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20120716/d359614f/attachment.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="058267.html">[Twisted-Python] deferred graph?
</A></li>
	<LI>Next message (by thread): <A HREF="058296.html">[Twisted-Python] deferred graph?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#58295">[ date ]</a>
              <a href="thread.html#58295">[ thread ]</a>
              <a href="subject.html#58295">[ subject ]</a>
              <a href="author.html#58295">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
