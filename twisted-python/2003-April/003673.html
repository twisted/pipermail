<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] perspective broker question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20perspective%20broker%20question&In-Reply-To=3EA507AA.7060404%40iplus.ru">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003666.html">
   <LINK REL="Next"  HREF="003671.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] perspective broker question</H1>
    <B>Christopher Armstrong</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20perspective%20broker%20question&In-Reply-To=3EA507AA.7060404%40iplus.ru"
       TITLE="[Twisted-Python] perspective broker question">radix at twistedmatrix.com
       </A><BR>
    <I>Tue Apr 22 11:39:11 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="003666.html">[Twisted-Python] perspective broker question
</A></li>
        <LI>Next message: <A HREF="003671.html">[Twisted-Python] Newbie reading Twisted book!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3673">[ date ]</a>
              <a href="thread.html#3673">[ thread ]</a>
              <a href="subject.html#3673">[ subject ]</a>
              <a href="author.html#3673">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 2003.04.22 05:13, Egor Cheshkov wrote:
&gt;<i> Hello everyone! Newbie question. I need to make a blocking call in 
</I>&gt;<i> perspective_X() method. So I put my call into separate thread and get a 
</I>&gt;<i> deferred wich will be called back when data available. But deferred 
</I>&gt;<i> could not be returned from perspective_X method (not sure). 
</I>
Yes, you can return a Deferred from a perspective_ method and it will
do the right thing.

Also, you can do something like this

    def perspective_X(self):
        #doSomeOperation here returns a Deferred
        return doSomeOperation().addCallbacks(self.mungeIt, self.ohCrap)

... And implement mungeIt and ohCrap to take the result, munge it in some
useful way, and return it. The return value will be used as the result
on the client side (who originally did callRemote('X'))
This way you can do some processing on the result of your operation
before the client gets it, if you need to.

For more info on Deferreds, <A HREF="http://twistedmatrix.com/documents/howto/defer">http://twistedmatrix.com/documents/howto/defer</A>

-- 
 Twisted | Christopher Armstrong: International Man of Twistery
  Radix  |          Release Manager,  Twisted Project
---------+     <A HREF="http://twistedmatrix.com/users/radix.twistd/">http://twistedmatrix.com/users/radix.twistd/</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003666.html">[Twisted-Python] perspective broker question
</A></li>
	<LI>Next message: <A HREF="003671.html">[Twisted-Python] Newbie reading Twisted book!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3673">[ date ]</a>
              <a href="thread.html#3673">[ thread ]</a>
              <a href="subject.html#3673">[ subject ]</a>
              <a href="author.html#3673">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
