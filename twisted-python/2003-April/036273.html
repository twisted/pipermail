<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] adapi.Connection._runQuery always does rollback()
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20adapi.Connection._runQuery%20always%20does%0A%20rollback%28%29&In-Reply-To=%3C20030426122016.1a357aa3.itamar%40itamarst.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="036272.html">
   <LINK REL="Next"  HREF="036278.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] adapi.Connection._runQuery always does rollback()</H1>
    <B>Itamar Shtull-Trauring</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20adapi.Connection._runQuery%20always%20does%0A%20rollback%28%29&In-Reply-To=%3C20030426122016.1a357aa3.itamar%40itamarst.org%3E"
       TITLE="[Twisted-Python] adapi.Connection._runQuery always does rollback()">itamar at itamarst.org
       </A><BR>
    <I>Sat Apr 26 10:20:16 MDT 2003</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="036272.html">[Twisted-Python] adapi.Connection._runQuery always does rollback()
</A></li>
        <LI>Next message (by thread): <A HREF="036278.html">[Twisted-Python] adapi.Connection._runQuery always does rollback()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36273">[ date ]</a>
              <a href="thread.html#36273">[ thread ]</a>
              <a href="subject.html#36273">[ subject ]</a>
              <a href="author.html#36273">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, 26 Apr 2003 12:12:08 -0400
&quot;Eric C. Newton&quot; &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">ecn at metaslash.com</A>&gt; wrote:

&gt;<i> Further, a rollback trashes a whole transaction.  The query could be
</I>&gt;<i> part of a larger transaction which includes update operations.
</I>&gt;<i> Granted, this is just silly in the async thread-pool, but that's why I
</I>&gt;<i> found it rather surprising.
</I>
For long running transactions you want to do the runTransaction or
whatever it's called method - the one where you pass a callable and it
gets run with a adbapi.Transaction object in a thread, thus allowing you
to do a series of database queries one after the other in a natural,
blocking way.

But, looks like we do need to deal with broken rollback support in
mysql. Is there any flag we can check, or must we trap AttributeError
and whatever mysql throws on rollback() calls?

-- 
Itamar Shtull-Trauring    <A HREF="http://itamarst.org/">http://itamarst.org/</A>
<A HREF="http://www.zoteca.com">http://www.zoteca.com</A> -- Python &amp; Twisted consulting


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="036272.html">[Twisted-Python] adapi.Connection._runQuery always does rollback()
</A></li>
	<LI>Next message (by thread): <A HREF="036278.html">[Twisted-Python] adapi.Connection._runQuery always does rollback()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36273">[ date ]</a>
              <a href="thread.html#36273">[ thread ]</a>
              <a href="subject.html#36273">[ subject ]</a>
              <a href="author.html#36273">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
