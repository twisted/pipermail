<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] mktap dns is broken if you switch subnets
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20mktap%20dns%20is%20broken%20if%20you%20switch%20subnets&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003871.html">
   <LINK REL="Next"  HREF="003867.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] mktap dns is broken if you switch subnets</H1>
    <B>Brian Warner</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20mktap%20dns%20is%20broken%20if%20you%20switch%20subnets&In-Reply-To="
       TITLE="[Twisted-Python] mktap dns is broken if you switch subnets">warner at lothar.com
       </A><BR>
    <I>Wed Apr 30 16:32:25 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="003871.html">[Twisted-Python] mktap dns is broken if you switch subnets
</A></li>
        <LI>Next message: <A HREF="003867.html">[Twisted-Python] NNTP/SMTP authentication
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3873">[ date ]</a>
              <a href="thread.html#3873">[ thread ]</a>
              <a href="subject.html#3873">[ subject ]</a>
              <a href="author.html#3873">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jp Calderone &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at intarweb.us</A>&gt; writes:
&gt;<i>   It would be great if Twisted could speak FAM.  I looked briefly at
</I>&gt;<i> integrating the python wrapper, but didn't have time to go very in-depth. 
</I>
Personally, I find FAM's implementation annoying, because is uses sunrpc, and
requires the &quot;security-compromise-waiting-to-happen&quot; portmap daemon be
running. I wish they had implemented it with a unix socket instead, but it
appears to be aimed at handling remote (NFS) directory changes as well as
local ones. Something less server-heavy would seem more appropriate.

The Linux mechanism is DNotify, and you can get at most of the functionality
from the Python side. I have code in the BuildBot (buildbot.dnotify) which
does the necessary Twisted glue, and I'd be happy to contribute that if it
seems useable. Code is available from <A HREF="http://buildbot.sf.net">http://buildbot.sf.net</A> .

One problem with that module is that DNotify uses SIGIO (or other signal of
your choice) to indicate the change, and Python's signal-delivery code
doesn't pass the siginfo_t argument to the Python handler, which means
multiple DNotify notifications for the same process all look the same.

That buildbot code also falls back to polling every 10 seconds if the DNotify
fcntl values aren't available (e.g. non-linux).


cheers,
 -Brian


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003871.html">[Twisted-Python] mktap dns is broken if you switch subnets
</A></li>
	<LI>Next message: <A HREF="003867.html">[Twisted-Python] NNTP/SMTP authentication
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3873">[ date ]</a>
              <a href="thread.html#3873">[ thread ]</a>
              <a href="subject.html#3873">[ subject ]</a>
              <a href="author.html#3873">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
