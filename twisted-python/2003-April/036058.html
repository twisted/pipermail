<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] twisted.news cleanups and tests
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20twisted.news%20cleanups%20and%20tests&In-Reply-To=%3C20030413195806.GC12415%40meson.dyndns.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="036057.html">
   <LINK REL="Next"  HREF="036074.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] twisted.news cleanups and tests</H1>
    <B>Jp Calderone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20twisted.news%20cleanups%20and%20tests&In-Reply-To=%3C20030413195806.GC12415%40meson.dyndns.org%3E"
       TITLE="[Twisted-Python] twisted.news cleanups and tests">exarkun at intarweb.us
       </A><BR>
    <I>Sun Apr 13 13:58:06 MDT 2003</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="036057.html">[Twisted-Python] twisted.news cleanups and tests
</A></li>
        <LI>Next message (by thread): <A HREF="036074.html">[Twisted-Python] twisted.news cleanups and tests
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36058">[ date ]</a>
              <a href="thread.html#36058">[ thread ]</a>
              <a href="subject.html#36058">[ subject ]</a>
              <a href="author.html#36058">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, Apr 13, 2003 at 05:53:46PM +1000, Tim Allen wrote:
&gt;<i> 
</I>&gt;<i> On Sunday, Apr 13, 2003, at 16:16 Australia/Sydney, Glyph Lefkowitz 
</I>&gt;<i> wrote:
</I>&gt;<i> 
</I>&gt;<i> &lt;snip&gt;
</I>&gt;<i> 
</I>&gt;<i> &gt;twisted.im also needs to be refactored, in order to make its API more 
</I>&gt;<i> &gt;coherent and easier to register observers of.  However, it remains 
</I>&gt;<i> &gt;unclear whether this kind of functionality actually deserves a 
</I>&gt;<i> &gt;separate package (that .words will use) or whether it will go into 
</I>&gt;<i> &gt;.words directly.  Moshe has me mostly convinced that it should remain 
</I>&gt;<i> &gt;an independant package, since real-time-client code is going to look 
</I>&gt;<i> &gt;significantly different to abstract-message-processing-and-forwarding 
</I>&gt;<i> &gt;code.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Thoughts?
</I>&gt;<i> 
</I>&gt;<i> I'll be watching this with interest. I'm not going to say it's 
</I>&gt;<i> impossible or crazy, but I'd like to see how all the inherent 
</I>&gt;<i> difficulties in making a &quot;generic messagey thing&quot; are overcome.
</I>&gt;<i> 
</I>&gt;<i> From the top of my head:
</I>&gt;<i>  - IMAP and NNTP have a bunch of folders, POP3 has just one.
</I>
  This is easy, POP3's single folder is IMAP4's &quot;INBOX&quot;, and NNTP lives in
an entirely different namespace from regular IMAP4 folders.

  A related point: what isn't clear to me is how to handle the difference
between the practically required download-all-messages behavior of POP3, and
the complete opposite of IMAP4 and NNTP.

&gt;<i>  - IMAP lets you create folders and move messages about, NNTP doesn't.
</I>
  IMAP is allowed to reject these operations, so NNTP and POP3 could
just have this error behavior in all cases.

&gt;<i>  - Instant messaging apps have no folders, but you could no doubt 
</I>&gt;<i> synthesise an 'inbox'. Some IM systems let you have 'categories' of 
</I>&gt;<i> buddies, which you might present as message folders. However, then IM 
</I>&gt;<i> has the restriction that a given folder can only contain messages from 
</I>&gt;<i> one recipient, which is not the case with IMAP or NNTP.
</I>
  Hmm.  No ideas from me here, yet.

&gt;<i>  - POP3 and NNTP need to be polled for new messages, IM protocols alert 
</I>&gt;<i> you when a new message comes in. I'm not sure which way IMAP goes.
</I>
  This is a kinda neat coincidence.  IMAP4 does both.  So we need both
behaviors, but POP3/NNTP will only use polling and IM will only use
notification.

&gt;<i>  - Email and usenet messages generally have a variety of interesting 
</I>&gt;<i> and useful headers that end-user applications are going to want to look 
</I>&gt;<i> at, IM messages do not.
</I>
  I'm not sure what the right answer is here.  One solution might be to add
headers to IM messages when exposing them through this API.  The information
for most of the common ones is available: From, Sender, Reply-To, To, Date
are obvious, CC and BCC are probably mostly empty (but ICQ used to support
multi-person chat, I don't know of any other protocols do, or if ICQ still
does); Subject is tough, and Message-ID I guess we'd generate ourself. 
Those are all the official &quot;envelope&quot; headers that are required to exist,
Subject being the only one that we really don't have information about -
perhaps giving users a way to tag exchanges with some value, or just leaving
it empty?

  OTOH, it makes sense to view IM messages in groups, not one at a time.  I
don't see how you could coherently add headers to more than one IM message.

&gt;<i>  - IMAP and IM are stateful protocols, POP3 is not. I'm not sure about 
</I>&gt;<i> NNTP.
</I>
  NNTP isn't, unless you go into pipeline mode (which Twisted doesn't
support [well?]).  Can you go more into why this might be a problem?  I
think the protocol code should handle any issues raised by this, and present
a unified front to the messaging API.

&gt;<i>  - Email and usenet messages have message-threading, IM does not.
</I>
  I think you could do some neat stuff with temporal analysis and trainable
neural networks, but I've got exactly zero practical experience with either
of these techniques, so I won't say this isn't a potential problem :)

  Some problems I foresee:

  - With email, you should always [according to standards documents, anyway]
    have a pretty good idea of what kind of data you're being handed. 
    Content-Type and other MIME headers make it easy enough to decypher what
    someone just sent you, but afaik, no IM protocols that support file
    transfer deal with this.  What's the correct way to handle a file with
    no meta data?

  - PGP; we can verify signatures, but security conscious users will want
    this done client-side - that means preserving the exact structure of the
    message somehow and then sending it on to them.  This doesn't play
    nicely with the idea of being able to receive one kind of message and
    send it off as another kind.

  Jp

-- 
Somewhere, something incredible is waiting to be known.
                -- Carl Sagan
-- 
 up 24 days, 15:01, 1 user, load average: 0.99, 0.90, 0.85
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
URL: &lt;/pipermail/twisted-python/attachments/20030413/44967b1a/attachment.sig&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="036057.html">[Twisted-Python] twisted.news cleanups and tests
</A></li>
	<LI>Next message (by thread): <A HREF="036074.html">[Twisted-Python] twisted.news cleanups and tests
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36058">[ date ]</a>
              <a href="thread.html#36058">[ thread ]</a>
              <a href="subject.html#36058">[ subject ]</a>
              <a href="author.html#36058">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
