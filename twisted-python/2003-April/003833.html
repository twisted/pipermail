<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: [Twisted-commits] &quot;no such user&quot; is too informative, no need to give attackers more information than necessary
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20%5BTwisted-commits%5D%20%22no%20such%20user%22%20is%20too%20informative%2C%20no%20need%0A%20to%20give%20attackers%20more%20information%20than%20necessary&In-Reply-To=E19ADUj-0003eM-00%40pyramid.twistedmatrix.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003831.html">
   <LINK REL="Next"  HREF="003836.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: [Twisted-commits] &quot;no such user&quot; is too informative, no need to give attackers more information than necessary</H1>
    <B>Bruce Mitchener</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20%5BTwisted-commits%5D%20%22no%20such%20user%22%20is%20too%20informative%2C%20no%20need%0A%20to%20give%20attackers%20more%20information%20than%20necessary&In-Reply-To=E19ADUj-0003eM-00%40pyramid.twistedmatrix.com"
       TITLE="[Twisted-Python] Re: [Twisted-commits] &quot;no such user&quot; is too informative, no need to give attackers more information than necessary">bruce at cubik.org
       </A><BR>
    <I>Mon Apr 28 16:41:39 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="003831.html">[Twisted-Python] Serving up php apps: gallery
</A></li>
        <LI>Next message: <A HREF="003836.html">[Twisted-Python] Re: [Twisted-commits] &quot;no such user&quot; is too informative, no need to give attackers more information than necessary
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3833">[ date ]</a>
              <a href="thread.html#3833">[ thread ]</a>
              <a href="subject.html#3833">[ subject ]</a>
              <a href="author.html#3833">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>itamarst CVS wrote:
&gt;<i> Modified files:
</I>&gt;<i> Twisted/twisted/web/distrib.py 1.47 1.48
</I>&gt;<i> 
</I>&gt;<i> Log message:
</I>&gt;<i> &quot;no such user&quot; is too informative, no need to give attackers more information than necessary
</I>
While there is good motivation for not making this public info, it seems 
like it would be a good thing to make this available to someone 
debugging the system, either by way of the log file or some other means.

While not necessarily appropriate for Twisted, one approach that I've 
used well in the past (in my own webserver and web app software) was to 
have an error page that recognized authenticated users and would display 
generic errors to unknown or unauthorized users, and 
informative/descriptive errors to authorized people (as well as direct 
access to the web-based tools used to determine what went wrong and so on).

Maybe some sort of policy framework might let that happen within Twisted 
or some other generalized logging infrastructure.  But at the least, it 
seems like this sort of info should be logged.

Cheers,

  - Bruce

&gt;<i> ViewCVS links:
</I>&gt;<i> <A HREF="http://twistedmatrix.com/users/jh.twistd/viewcvs/cgi/viewcvs.cgi/twisted/web/distrib.py.diff?r1=text&amp;tr1=1.47&amp;r2=text&amp;tr2=1.48&amp;cvsroot=Twisted">http://twistedmatrix.com/users/jh.twistd/viewcvs/cgi/viewcvs.cgi/twisted/web/distrib.py.diff?r1=text&amp;tr1=1.47&amp;r2=text&amp;tr2=1.48&amp;cvsroot=Twisted</A>
</I>&gt;<i> 
</I>&gt;<i> Index: Twisted/twisted/web/distrib.py
</I>&gt;<i> diff -u Twisted/twisted/web/distrib.py:1.47 Twisted/twisted/web/distrib.py:1.48
</I>&gt;<i> --- Twisted/twisted/web/distrib.py:1.47	Tue Dec  3 03:21:48 2002
</I>&gt;<i> +++ Twisted/twisted/web/distrib.py	Mon Apr 28 13:36:52 2003
</I>&gt;<i> @@ -230,10 +230,7 @@
</I>&gt;<i>              pw_name, pw_passwd, pw_uid, pw_gid, pw_gecos, pw_dir, pw_shell \
</I>&gt;<i>                       = pwd.getpwnam(username)
</I>&gt;<i>          except KeyError:
</I>&gt;<i> -            return error.ErrorPage(http.NOT_FOUND,
</I>&gt;<i> -                                   &quot;No Such User&quot;,
</I>&gt;<i> -                                   &quot;The user %s was not found on this system.&quot; %
</I>&gt;<i> -                                   repr(username))
</I>&gt;<i> +            return error.NoResource()
</I>&gt;<i>          if sub:
</I>&gt;<i>              twistdsock = os.path.join(pw_dir, self.userSocketName)
</I>&gt;<i>              rs = ResourceSubscription('unix',twistdsock)
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003831.html">[Twisted-Python] Serving up php apps: gallery
</A></li>
	<LI>Next message: <A HREF="003836.html">[Twisted-Python] Re: [Twisted-commits] &quot;no such user&quot; is too informative, no need to give attackers more information than necessary
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3833">[ date ]</a>
              <a href="thread.html#3833">[ thread ]</a>
              <a href="subject.html#3833">[ subject ]</a>
              <a href="author.html#3833">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
