<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: Twisted 1.0.4 - admin/runtests failures?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20Twisted%201.0.4%20-%20admin/runtests%20failures%3F&In-Reply-To=20030423.155734.48529138.warner%40lothar.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003720.html">
   <LINK REL="Next"  HREF="003723.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: Twisted 1.0.4 - admin/runtests failures?</H1>
    <B>Francois Pinard</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20Twisted%201.0.4%20-%20admin/runtests%20failures%3F&In-Reply-To=20030423.155734.48529138.warner%40lothar.com"
       TITLE="[Twisted-Python] Re: Twisted 1.0.4 - admin/runtests failures?">pinard at iro.umontreal.ca
       </A><BR>
    <I>Sun Apr 27 18:03:42 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="003720.html">[Twisted-Python] Twisted 1.0.4 - admin/runtests failures?
</A></li>
        <LI>Next message: <A HREF="003723.html">[Twisted-Python] Re: Twisted 1.0.4 - admin/runtests failures?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3807">[ date ]</a>
              <a href="thread.html#3807">[ thread ]</a>
              <a href="subject.html#3807">[ subject ]</a>
              <a href="author.html#3807">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>[Brian Warner]

&gt;<i> &gt; Woops.  This is a localization problem.  Maybe it should be an expected
</I>&gt;<i> &gt; skip for certain values of LC_LANG?  Or maybe we should just not use ls.
</I>
&gt;<i> Hmm, it means popen2 used french while reactor.spawnProcess used english.
</I>&gt;<i> [...]  Could you try the attached patch and see if it fixes the problem?
</I>
&gt;<i> Index: twisted/internet/default.py
</I>&gt;<i> Index: twisted/internet/interfaces.py
</I>&gt;<i> Index: twisted/test/test_process.py
</I>
Thanks.  Following your suggestion, I re-installed Twisted 1.0.4 with
the above patches, and reran `admin/runtests'.  The patches apparently
solved a few things.  Without them, the testing summary was:

----------------------------------------------------------------------&gt;
FAILED (failures=2, errors=1, skips=3, expectedFailures=2)
----------------------------------------------------------------------&lt;

and now, it is reduced to:

----------------------------------------------------------------------&gt;
FAILED (failures=1, skips=3, expectedFailures=2)
----------------------------------------------------------------------&lt;

Here is the listing result of what remains:

----------------------------------------------------------------------&gt;
........................................F...................................................................S.................................T..............................................................................................................................T......................................................................................................................................SS.....................................................................................................................................................................................
===============================================================================
SKIPPED: testModules (twisted.test.test_doc.DocCoverage)
-------------------------------------------------------------------------------
Activate me when you feel like writing docstrings, and fixing GTK crashing bugs.
===============================================================================
SKIPPED: testReadLimit (twisted.test.test_policies.ThrottlingTestCase)
-------------------------------------------------------------------------------
Inaccurate tests are worse than no tests.
===============================================================================
SKIPPED: testWriteLimit (twisted.test.test_policies.ThrottlingTestCase)
-------------------------------------------------------------------------------
Inaccurate tests are worse than no tests.
===============================================================================
EXPECTED FAILURE: testStor (twisted.test.test_ftp.FTPClientAndServerTests)
-------------------------------------------------------------------------------
Traceback (most recent call last):
   File &quot;/var/tmp/Twisted-1.0.4/twisted/test/test_ftp.py&quot;, line 276, in testStor
    self.assertEquals(open('HelloThere').read(), expectedContent)
 FailTest: '' != 'Hello\nHello\nHello\nHello\n'
===============================================================================
EXPECTED FAILURE: testSneakyHiddenDoom (twisted.test.test_loopback.LoopbackTCPTestCase)
-------------------------------------------------------------------------------
Traceback (most recent call last):
   File &quot;/var/tmp/Twisted-1.0.4/twisted/test/test_loopback.py&quot;, line 77, in testSneakyHiddenDoom
    LoopbackTestCase.testSneakyHiddenDoom(self)
   File &quot;/var/tmp/Twisted-1.0.4/twisted/test/test_loopback.py&quot;, line 71, in testSneakyHiddenDoom
    self.assertEquals(c.lines, ['DOOM LINE', 'Hello 1', 'Hello 2', 'Hello 3'])
 FailTest: ['DOOM LINE', 'Hello 1', 'Hello 2'] != ['DOOM LINE', 'Hello 1', 'Hello 2', 'Hello 3']
===============================================================================
FAILURE: testRSA (twisted.test.test_conch.SSHKeysHandlingTestCase)
-------------------------------------------------------------------------------
Traceback (most recent call last):
   File &quot;/var/tmp/Twisted-1.0.4/twisted/test/test_conch.py&quot;, line 76, in testRSA
    self._testKey(publicRSA_openssh, privateRSA_openssh, 'openssh')
   File &quot;/var/tmp/Twisted-1.0.4/twisted/test/test_conch.py&quot;, line 85, in _testKey
    self._testGenerateKey(privKey, pubKey, privData, pubData, keyType)
   File &quot;/var/tmp/Twisted-1.0.4/twisted/test/test_conch.py&quot;, line 118, in _testGenerateKey
    self.assertEquals(keys.makePrivateKeyString(privKey, kind=keyType), privData)
 FailTest: '-----BEGIN RSA PRIVATE KEY-----\nMIIBxwIBAAJhAK8ycfDmDpyZs3+LXwRLy4vA1T6yd/3PZNiPwM+uH8Yx3/YpskSW\n4sbUIZR/ZXzY1CMfuC5qyR+UDUbBaaK3Bwyjk8E02C4eSpkabJZGB0Yr3CUpG4fw\nvgUd7rQ0ueeZlQIBIwJgbh+1VZfr7WftK5lu7MHtqE1S1vPWZQYE3+VUn8yJADyb\nZ4fsZaCrzW9lkIqXkE3GIY+ojdhZhkO1gbG0118sIgphwSWKRxK0mvh6ERxKqIt1\nxJEJO74EykXZV4oNJ8sjAjEAy0pL0EBH6EVS98evDCBtQw22OZT52qXlAwZ2gyTr\niKFVoqjeEjt3SZKKqXHSApP/AjEA3J9r2ZghVhGN6V8DnQrTk24Td0E8hU8AcP0F\nVP+8PQm/g/aXf2QQkQT+omdHVEJrAjAXO7DkmaHRZwIq8j/kIPaLUgYyd20DC6Uk\n6su3N2tgEnAv2MjsJA2iAh55w918ozMCMEukX33NwkllGrZpuBiV/2W/VyGStaoM\ndS4Nm22Zgl4R+IUEFq9VggXV06VlPQbyMwIwJQPp/z+HDpM0ntg9cAo3390laeF0\nk8jwQJ0gL5x0oMYdpOhV0O5Ck/yrsRDCKDZA\n-----END RSA PRIVATE KEY-----' != '-----BEGIN RSA PRIVATE KEY-----\nMIIByAIBAAJhAK8ycfDmDpyZs3+LXwRLy4vA1T6yd/3PZNiPwM+uH8Yx3/YpskSW\n4sbUIZR/ZXzY1CMfuC5qyR+UDUbBaaK3Bwyjk8E02C4eSpkabJZGB0Yr3CUpG4fw\nvgUd7rQ0ueeZlQIBIwJgbh+1VZfr7WftK5lu7MHtqE1S1vPWZQYE3+VUn8yJADyb\nZ4fsZaCrzW9lkIqXkE3GIY+ojdhZhkO1gbG0118sIgphwSW
 KRxK0mvh6ERxKqIt1\nxJEJO74EykXZV4oNJ8sjAjEA3J9r2ZghVhGN6V8DnQrTk24Td0E8hU8AcP0FVP+8\nPQm/g/aXf2QQkQT+omdHVEJrAjEAy0pL0EBH6EVS98evDCBtQw22OZT52qXlAwZ2\ngyTriKFVoqjeEjt3SZKKqXHSApP/AjBLpF99zcJJZRq2abgYlf9lv1chkrWqDHUu\nDZttmYJeEfiFBBavVYIF1dOlZT0G8jMCMBc7sOSZodFnAiryP+Qg9otSBjJ3bQML\npSTqy7c3a2AScC/YyOwkDaICHnnD3XyjMwIxALRzl0tQEKMXs6hH8ToUdlLROCrP\nEhQ0wahUTCk1gKA4uPD6TMTChavbh4K63OvbKg==\n-----END RSA PRIVATE KEY-----'
-------------------------------------------------------------------------------
Ran 587 tests in 98.090s

FAILED (failures=1, skips=3, expectedFailures=2)
----------------------------------------------------------------------&lt;

-- 
Fran&#231;ois Pinard   <A HREF="http://www.iro.umontreal.ca/~pinard">http://www.iro.umontreal.ca/~pinard</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003720.html">[Twisted-Python] Twisted 1.0.4 - admin/runtests failures?
</A></li>
	<LI>Next message: <A HREF="003723.html">[Twisted-Python] Re: Twisted 1.0.4 - admin/runtests failures?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3807">[ date ]</a>
              <a href="thread.html#3807">[ thread ]</a>
              <a href="subject.html#3807">[ subject ]</a>
              <a href="author.html#3807">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
