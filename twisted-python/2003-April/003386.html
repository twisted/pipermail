<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] supressess warnings
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20supressess%20warnings&In-Reply-To=20030401191118.GC29239%40radii">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003387.html">
   <LINK REL="Next"  HREF="003388.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] supressess warnings</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20supressess%20warnings&In-Reply-To=20030401191118.GC29239%40radii"
       TITLE="[Twisted-Python] supressess warnings">glyph at twistedmatrix.com
       </A><BR>
    <I>Tue Apr  1 16:01:28 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="003387.html">[Twisted-Python] supressess warnings
</A></li>
        <LI>Next message: <A HREF="003388.html">[Twisted-Python] Re: supressess warnings
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3386">[ date ]</a>
              <a href="thread.html#3386">[ thread ]</a>
              <a href="subject.html#3386">[ subject ]</a>
              <a href="author.html#3386">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1


On Tuesday, April 1, 2003, at 02:11 PM, Christopher Armstrong wrote:

&gt;<i> On Tue, Apr 01, 2003 at 07:00:53AM -0500, Andrew Dalke wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> A bit of searching later and I found
</I>&gt;&gt;<i>   twisted/python/log.py
</I>&gt;&gt;<i> which redefines (!) warnings.showwarning to dump the data to a
</I>&gt;&gt;<i> logfile, which is initialized to a NullFile(), which does nothing.
</I>&gt;<i>
</I>&gt;<i> Yeah, replacing showwarnings is the idiomatic way to override the
</I>&gt;<i> display of warnings. The bit that initializes the default logfile to
</I>&gt;<i> NullFile is something moshez and glyph wanted, and, for the record,
</I>&gt;<i> something I'm against. (sorry glyph :-)
</I>
The reason that moshez and I have it written this way is simple: we 
don't want library code generating spurious messages that your code may 
not want printed.  However, I think that you're correct in criticizing 
it for throwing away warnings and tracebacks.  Errors, even in library 
code, ought to be presented the same way they're normally presented.

&gt;&gt;<i> And for the life of me I can't figure out why the log file should
</I>&gt;&gt;<i> default (when no logging is enabled) to the NullFile rather than
</I>&gt;&gt;<i> sys.stderr -- if you really want the NullFile, just pass it in.  So
</I>&gt;&gt;<i> I switched it to use sys.stderr.
</I>&gt;<i>
</I>&gt;<i> I wish this could be accepted, but unless glyph changes his mind, it
</I>&gt;<i> probably won't.
</I>
As long as we're talking about sys.std*err*, and not std*out*, I think 
this is acceptable.  I'd like to hear if moshez's has any objections 
too, but barring that, let's do it immediately.

&gt;<i> The usual response is to use twistd, but twistd isn't
</I>&gt;<i> appropriate in all use-cases (it is in yours, however).
</I>
This should be a FAQ.

	Q.  Is using 'twistd' always appropriate?

	A.  Not always, but it is in your case.

&gt;<i> The *reason*, IIRC, was that &quot;you shouldn't spam unwanted stuff to 
</I>&gt;<i> STDIO&quot;, which I think is stupid. Application developers could notice 
</I>&gt;<i> spam to stdio, and, if they don't like it, startLogging to NullFile. 
</I>&gt;<i> (I've heard a lot more complaints about &quot;Why don't I see any output!?&quot; 
</I>&gt;<i> than &quot;Why does Twisted write stuff to my stdio?&quot;)
</I>
Oh, I heard a lot of complaints about it writing spurious messages to 
stdio before this change was made.  Different people are unhappy, but 
people are unhappy either way :-)
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (Darwin)

iD8DBQE+if4svVGR4uSOE2wRArcOAKCKs4sHno57LtUWgB+U2C1Oc1X6qgCfbg5N
qHg2Z9ZDNkGHddmnKvWEFBw=
=FtOD
-----END PGP SIGNATURE-----



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003387.html">[Twisted-Python] supressess warnings
</A></li>
	<LI>Next message: <A HREF="003388.html">[Twisted-Python] Re: supressess warnings
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3386">[ date ]</a>
              <a href="thread.html#3386">[ thread ]</a>
              <a href="subject.html#3386">[ subject ]</a>
              <a href="author.html#3386">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
