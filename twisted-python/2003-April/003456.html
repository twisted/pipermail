<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] twistctl - start/stop/restart revisited
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20twistctl%20-%20start/stop/restart%20revisited&In-Reply-To=20030406064441.19318.qmail%40green.zadka.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003454.html">
   <LINK REL="Next"  HREF="003457.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] twistctl - start/stop/restart revisited</H1>
    <B>Clark C. Evans</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20twistctl%20-%20start/stop/restart%20revisited&In-Reply-To=20030406064441.19318.qmail%40green.zadka.com"
       TITLE="[Twisted-Python] twistctl - start/stop/restart revisited">cce at clarkevans.com
       </A><BR>
    <I>Sun Apr  6 12:37:36 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="003454.html">[Twisted-Python] twistctl - start/stop/restart revisited
</A></li>
        <LI>Next message: <A HREF="003457.html">[Twisted-Python] coding standard: plurals for database table names
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3456">[ date ]</a>
              <a href="thread.html#3456">[ thread ]</a>
              <a href="subject.html#3456">[ subject ]</a>
              <a href="author.html#3456">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Howdy Moshe!

On Sun, Apr 06, 2003 at 06:44:41AM -0000, Moshe Zadka wrote:
|<i> &gt;   1. Moshez objected to the killApp implementation,
</I>|<i> &gt;      when I get time I'll look at it.  But right now
</I>|<i> &gt;      it works on my platform just wonderfully.
</I>|<i> &gt;      The beauty of open source projects is that people
</I>|<i> &gt;      can hack at it till it works for everyone...
</I>|<i> 
</I>|<i> No, that's not a beauty.
</I>|<i> Let me explain: checking something which &quot;works for me, usually, when
</I>|<i> my machine is not heavily loaded&quot; is the worst thing that you can do.
</I>|<i> Intermittent failures are *worse* than deterministic failures. Do you
</I>|<i> seriously want something that you can't rely on?
</I>
Yes, you convinced me that the implementation sucks.  This is
why I'm proposing to check it in to the *sandbox* which has 
explicit warnings about broken code.   Once it is there it
can be worked on incrementally... perhaps by people other
than me.  If it stays private then we will have N people
working on the same thing without a chance of collaboration.

|<i> &gt; In particular, Moshez said that he thinks this script
</I>|<i> &gt; should *call* the twistd script via OS methods and
</I>|<i> &gt; thus the refactor above is not needed.  I respectfully
</I>|<i> &gt; disagree with his assertion.
</I>|<i> 
</I>|<i> Let me explain: the interface to twistd is well defined. It's documented
</I>|<i> in the manpage. We are commited to maintaining backwards compatibility with
</I>|<i> it. What you're doing with the refactor is forcing parts of the internal
</I>|<i> twistd implementation to stay static. This is insane. We should not add
</I>|<i> extra interfaces where existing ones will do.
</I>
I would hardly call it an extra burden, calling it insane is a
bit over-the-top...  in any case, the refactor makes sense even
without users -- runApp is quite large and the code to fetch
the passphrase really belongs more up-stream.

|<i> I'm not going to even start talking about how most of the twistd 
</I>|<i> flexibility is not needed, since in real daemons which run from 
</I>|<i> init scripts, the tap cannot be encrypted anyway, since the key 
</I>|<i> would have to be available to the script.
</I>
I'm not defending twistd, but it does seem to have a wee
bit more functionality than making twisted applications
into daemons.   Perhaps you should refactor it by moving
what *you* think twistd should be into its own module
and make it callable from twistd.   Something like
twisted.python.daemonize would be clean.  No?

Best,

Clark


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003454.html">[Twisted-Python] twistctl - start/stop/restart revisited
</A></li>
	<LI>Next message: <A HREF="003457.html">[Twisted-Python] coding standard: plurals for database table names
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3456">[ date ]</a>
              <a href="thread.html#3456">[ thread ]</a>
              <a href="subject.html#3456">[ subject ]</a>
              <a href="author.html#3456">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
