<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] coding standard: plurals for database	table	names
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20coding%20standard%3A%20plurals%20for%20database%0A%09table%09names&In-Reply-To=%3C1049655366.6953.282.camel%40qutang.gnubian.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="035966.html">
   <LINK REL="Next"  HREF="035991.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] coding standard: plurals for database	table	names</H1>
    <B>Justin Ryan</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20coding%20standard%3A%20plurals%20for%20database%0A%09table%09names&In-Reply-To=%3C1049655366.6953.282.camel%40qutang.gnubian.org%3E"
       TITLE="[Twisted-Python] coding standard: plurals for database	table	names">justin at gnubia.net
       </A><BR>
    <I>Sun Apr  6 12:56:06 MDT 2003</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="035966.html">[Twisted-Python] coding standard: plurals for database table	names
</A></li>
        <LI>Next message (by thread): <A HREF="035991.html">[Twisted-Python] coding standard: plurals for database table	names
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35967">[ date ]</a>
              <a href="thread.html#35967">[ thread ]</a>
              <a href="subject.html#35967">[ subject ]</a>
              <a href="author.html#35967">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> &gt;   3. It is helpful to name foreign key columns as the
</I>&gt;<i> &gt;      same name as the table that they are coming from.
</I>&gt;<i> 
</I>&gt;<i> What if you have more than one foreign key to the same 
</I>&gt;<i> table?  A very simple example (from my app ;^):  the 
</I>&gt;<i> attributes &quot;owner&quot;, &quot;creator&quot;, and &quot;modifier&quot; all point 
</I>&gt;<i> to the &quot;persons&quot; table.  As a rule of thumb, it's usually 
</I>&gt;<i> best to name the foreign key column after the role that 
</I>&gt;<i> the foreign key entity plays in the referring table.
</I>
A combination of both is best - i.e.

CONT_Contact
  CONT_ContactID FirstName LastName CONT_ContactTypeID

CONT_ContactType
  CONT_ContactTypeID Name

CONT_Organization
  CONT_OrganizationID Name Address

CONT_xref_Contact_Organization
  CONT_ContactID CONT_OrganizationID

CONT_ContactTypeID is a primary key on CONT_ContactType, and a foreign
key on CONT_Contact.  The xref table CONT_xref_Contact_Organization is
obviously a relationship between Contacts and Organizations, and
CONT_ContactID is obviously a foreign key to CONT_Contact.

If you structure tables / references like this, it's very difficult to
miss a bug where the wrong fields are being joined.  This still falls in
line with the recommendation that table names should be singular.

I agree that the Table-Row relationship is similar to the Class-Instance
relationship.  I think that the existence of object relational mappers
like t.e.row support this paradigm.  It is easy to understand the
mapping of programmatical information into the structure of the database
if you can name a class after a table.  Then you have instances of
CONT.Contact and references to a CONT.ContactType instance and one or
more CONT.Organization instances.

You can create higher level objects to further the abstraction, having a
Contact with an organization and type attribute.

&gt;<i> &gt;   5. While there are astechic reasons for this (above)
</I>&gt;<i> &gt;      the resons become all the more important when 
</I>&gt;<i> &gt;      you want to build automatic tools for searching 
</I>&gt;<i> &gt;      over schemata, etc.  In this case, using plurals
</I>&gt;<i> &gt;      only adds one extra (unnecessary) step in the
</I>&gt;<i> &gt;      automated translation of plural table names to 
</I>&gt;<i> &gt;      singluar column and or class names.
</I>&gt;<i> 
</I>&gt;<i> I didn't think it was all that difficult.  I can send you
</I>&gt;<i> the O-R mapping I use, if you like.
</I>
I would like to see the O-R mapping that you use, simply to compare
ideas..  I still think singular table names are more logical ;p

&gt;<i> &gt; In short, I'd recommend singluar nouns, with M-M
</I>&gt;<i> &gt; link tables as one__two where one and two are 
</I>&gt;<i> &gt; tables being linked to.
</I>
I think that my version with the 'xref' in the name is more readable.

&gt;<i> One could reasonably argue that it is not important to have 
</I>&gt;<i> a table-naming rule in the coding standard.  I don't really 
</I>&gt;<i> care either way, but I happen to like using plural names for 
</I>&gt;<i> tables, and I'll use it regardless of what the Twisted coding std 
</I>&gt;<i> says anyhow, because I use my own O-R mapping instead of t.e.row 
</I>&gt;<i> (mine is different from t.e.row in many ways, but it does map plural 
</I>&gt;<i> table names to singular object names ;^).
</I>
well, I beleive it's in the coding standard for the purpose of modules
that rely on a database schema of some sort.  It never hurts to develop
your code in line with the standards of a large framework you're using,
and if it doesn't make sense, you could question it (as we're doing
now).

Cheers,

-j



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="035966.html">[Twisted-Python] coding standard: plurals for database table	names
</A></li>
	<LI>Next message (by thread): <A HREF="035991.html">[Twisted-Python] coding standard: plurals for database table	names
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35967">[ date ]</a>
              <a href="thread.html#35967">[ thread ]</a>
              <a href="subject.html#35967">[ subject ]</a>
              <a href="author.html#35967">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
