<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Python3 twistd daemon for Ubuntu 14.04	alternatives
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Python3%20twistd%20daemon%20for%20Ubuntu%2014.04%0A%09alternatives&In-Reply-To=%3CCACKEAnVoBfbXEn1h4NBXrc4heCqbLrGyFKzk24FMvAo-FLN1Ew%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="063709.html">
   <LINK REL="Next"  HREF="063711.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Python3 twistd daemon for Ubuntu 14.04	alternatives</H1>
    <B>Clayton Daley</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Python3%20twistd%20daemon%20for%20Ubuntu%2014.04%0A%09alternatives&In-Reply-To=%3CCACKEAnVoBfbXEn1h4NBXrc4heCqbLrGyFKzk24FMvAo-FLN1Ew%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Python3 twistd daemon for Ubuntu 14.04	alternatives">clayton.daley at gmail.com
       </A><BR>
    <I>Sat Feb 25 10:03:34 MST 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="063709.html">[Twisted-Python] Python3 twistd daemon for Ubuntu 14.04 alternatives
</A></li>
        <LI>Next message (by thread): <A HREF="063711.html">[Twisted-Python] Python3 twistd daemon for Ubuntu 14.04 alternatives
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63710">[ date ]</a>
              <a href="thread.html#63710">[ thread ]</a>
              <a href="subject.html#63710">[ subject ]</a>
              <a href="author.html#63710">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Are you talking about building Docker containers on the fly?  We use Docker
extensively, but our build machine makes images that we push to Dockerhub
(private repos).  This has a lot of advantages:

   - Our images (on the hub) are effectively pinned at the version they
   were built
   - Our test and production servers (can, if we want) always get exactly
   the same image (even if we need to rebuild a server months later)
   - We test all our servers so we only have to manually pin packages
   (python or apt) if we run into regressions or other incompatibilities (i.e.
   an upgraded package that is no longer compatible with a manually pinned
   package)
   - Our build machine caches all the intermediate images (i.e. after each
   docker step).  We intentionally sequence our images to place oft-changing
   items at the end.
      - Unless I change the list of apt packages, that layer is never
      rebuilt.
      - We have an extra step that uploads *just* the requirements files
      before pip installing
      - Our last step is the app code so changes to this layer are just a
      cached layer + PUT (i.e. seconds)
      - This optimization also makes our containers super efficient to
      upgrade because we only download the changed layers

This sounds like it covers a lot of the PEX advantages plus the added
benefits of containerization.

Clayton Daley

On Sat, Feb 25, 2017 at 3:19 AM, Hynek Schlawack &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">hs at ox.cx</A>&gt; wrote:

&gt;<i> ...  Contrary I’m not a super fan of having one opaque blob on server; the
</I>&gt;&gt;<i> transparent structure of a virtualenv is something I learned to appreciate.
</I>&gt;&gt;<i> ...
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> A zipfile containing a virtualenv (pex) isn't all that opaque -- with the
</I>&gt;<i> right editor plugins, you can even *cough* edit the contained source inside
</I>&gt;<i> one.
</I>&gt;<i>
</I>&gt;<i> Back when pex was a lot younger, this was handy for quick debugging as we
</I>&gt;<i> were migrating from source-in-venvs-on-bare-metal-chroots to
</I>&gt;<i> pexed-in-mesos-containers
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> To be clear: I’m not trying to talk anybody out of using pex. :)  I’m just
</I>&gt;<i> saying there’s a slight downside (+ another tool) and no tangible upsides
</I>&gt;<i> in Docker for me so it’s not a good fit for me.
</I>&gt;<i>
</I>&gt;<i> That said, I’m gonna try it out in my deb-based deployments (contrary to
</I>&gt;<i> popular believe, you can’t/shouldn’t put *everything* into containers)
</I>&gt;<i> because we run ZFS and apt-get + lots of files in a deb =
</I>&gt;<i> omgiwannamurdersomeone.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20170225/b37372b0/attachment-0002.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="063709.html">[Twisted-Python] Python3 twistd daemon for Ubuntu 14.04 alternatives
</A></li>
	<LI>Next message (by thread): <A HREF="063711.html">[Twisted-Python] Python3 twistd daemon for Ubuntu 14.04 alternatives
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63710">[ date ]</a>
              <a href="thread.html#63710">[ thread ]</a>
              <a href="subject.html#63710">[ subject ]</a>
              <a href="author.html#63710">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
