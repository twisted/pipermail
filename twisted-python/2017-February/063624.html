<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] twisted eats the error
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20twisted%20eats%20the%20error&In-Reply-To=%3CetPan.58a1e555.6d20c965.8c82%40me.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="063623.html">
   <LINK REL="Next"  HREF="063625.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] twisted eats the error</H1>
    <B>L. Daniel Burr</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20twisted%20eats%20the%20error&In-Reply-To=%3CetPan.58a1e555.6d20c965.8c82%40me.com%3E"
       TITLE="[Twisted-Python] twisted eats the error">ldanielburr at me.com
       </A><BR>
    <I>Mon Feb 13 09:56:53 MST 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="063623.html">[Twisted-Python] twisted eats the error
</A></li>
        <LI>Next message (by thread): <A HREF="063625.html">[Twisted-Python] twisted eats the error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63624">[ date ]</a>
              <a href="thread.html#63624">[ thread ]</a>
              <a href="subject.html#63624">[ subject ]</a>
              <a href="author.html#63624">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Steven,

On February 13, 2017 at 9:24:03 AM, steven meiers (<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">commercials24 at yahoo.de</A>) wrote:

hi,


there is a abvious error in the code at the end.
since i know next to nothing about threads i thought maybe a print
statement in the code that is actually doing the work would give me
some pointers.

if im not mistaken, it is:
def callWithContext in python/context.py


as it turns out it does output nothing so i went back the call chain
until it prints something.
now im in:
internet/threads.py def deferToThreadPool

but even there, printing the argument f prints nothing?
isnt that the first method that is called from my code?


Sorry, your code example and your explanation don’t make clear what you expect to happen, and when.  When you say “the first method that is called from my code”, are you referring to  aSillyBlockingMethod, or runEverySecond?  In the deferToThread case, you are calling the former; in the task.LoopingCall case, you are calling the latter.

If your intent is to trigger the strftime exception as a consequence of your call to deferToThread, then you would need to either add runEverySecond to the callback chain, or move the call to strftime into the aSillyBlockingMethod call.

Example:

# this will &quot;sleep&quot; for x seconds
d = threads.deferToThread(aSillyBlockingMethod, 'some argument’)
d.addCallback(runEverySecond)
d.addCallback(printResult)
d.addErrback(printError)

Hope this helps,

L. Daniel Burr

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20170213/ae101b51/attachment-0002.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="063623.html">[Twisted-Python] twisted eats the error
</A></li>
	<LI>Next message (by thread): <A HREF="063625.html">[Twisted-Python] twisted eats the error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63624">[ date ]</a>
              <a href="thread.html#63624">[ thread ]</a>
              <a href="subject.html#63624">[ subject ]</a>
              <a href="author.html#63624">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
