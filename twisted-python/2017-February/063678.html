<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Python3 twistd daemon for Ubuntu 14.04 alternatives
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Python3%20twistd%20daemon%20for%20Ubuntu%2014.04%0A%20alternatives&In-Reply-To=%3C29F37A4C-839E-4DE1-9697-986D90E600E6%40savioke.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="063692.html">
   <LINK REL="Next"  HREF="063682.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Python3 twistd daemon for Ubuntu 14.04 alternatives</H1>
    <B>Dave Curtis</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Python3%20twistd%20daemon%20for%20Ubuntu%2014.04%0A%20alternatives&In-Reply-To=%3C29F37A4C-839E-4DE1-9697-986D90E600E6%40savioke.com%3E"
       TITLE="[Twisted-Python] Python3 twistd daemon for Ubuntu 14.04 alternatives">dcurtis at savioke.com
       </A><BR>
    <I>Wed Feb 22 10:17:26 MST 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="063692.html">[Twisted-Python] Python3 twistd daemon for Ubuntu 14.04 alternatives
</A></li>
        <LI>Next message (by thread): <A HREF="063682.html">[Twisted-Python] Python3 twistd daemon for Ubuntu 14.04 alternatives
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63678">[ date ]</a>
              <a href="thread.html#63678">[ thread ]</a>
              <a href="subject.html#63678">[ subject ]</a>
              <a href="author.html#63678">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> 
</I>&gt;&gt;<i> So my problem is that while my protocol stack spins up very nicely and trivially easy using the twistd daemon, the standard python3-twisted package for 14.04 is waaaay behind and doesn't include twistd (!), and I haven't found a good backport.  I'd also like to avoid doing things that make life hard for DevOps, such as pip3 installing and risking a package manager fight.
</I>&gt;<i> 
</I>&gt;<i> The general solution to this problem is &quot;don't use the system Python environment to deploy your applications&quot;.
</I>&gt;<i> 
</I>&gt;<i> This is what virtualenv is for.
</I>&gt;<i> 
</I>
Yes, well, the standard practice around here is to wrap up deliverables in a .deb so that the DevOps tools can do automated deploys.  I suppose it is possible to wrap up a venv in a .deb, but I’ve never done looked into it. Pointers welcome.

&gt;&gt;<i> So some options:
</I>&gt;&gt;<i> - Is there a reliable backport of the python3-twisted package for 14.04?  Google is failing me on that one.
</I>&gt;&gt;<i> [...]
</I>&gt;&gt;<i> - Perhaps I should create my own backport for Ubuntu 14.04 of the current python3-twisted .deb.  (This is probably not the right list to ask, but I'm happy to dereference a pointer.)
</I>&gt;<i> 
</I>&gt;<i> Both of these options are bad.  Installing or creating a backport will break any system tools that depend on the python3-twisted package.  This is better than `sudo pip3 install`, but only a little.
</I>&gt;<i> 
</I>&gt;&gt;<i> - All I need is the most basic twistd functionality.  Perhaps I should spin up my own by snarfing the code out of the twisted source repo.  I can package this with my stuff temporarily and get on with life.  Clues to the relevant parts of the repo welcome, I haven't poked around much in Twisted sources so need a road map.
</I>&gt;<i> 
</I>&gt;<i> If you have the ability to ship parts of the Twisted stack, there's a tool that can automate the &quot;snarfing&quot;: pip :-).
</I>&gt;<i> 
</I>&gt;&gt;<i> This is a short-term problem for me, we are transitioning to 16.04 soon, but the process is driven by other parts of the software stack. So I don't want to over-invest.  I'm looking for a reasonable band-aid.
</I>&gt;<i> 
</I>&gt;<i> 16.04 will also be out of date.
</I>
So… If you would like to dive into reasons… we do robots.  We use ROS, the Robot Operating System.  LTS versions of ROS are tied to LTS versions of Ubuntu.  Transitioning from one LTS version of ROS to another is, as they say, “non-trivial”.  Being on a stale version of Ubuntu is part of the price for using ROS, because ROS just can’t move that fast.  No one likes it.  A lot of people (in many ROS-based companies, and the OSRF) are working to improve the situation.  That doesn’t help me this week.  Now, why are the DevOps people here so conservative?  Because doing a remote update on a robot in the field, and having it fail, has two impacts: 1) we stop billing the customer until the robot is running again, and 2) we put someone on an airplane to make the robot run again.  

&gt;<i> 
</I>&gt;<i> I'm tempted to launch into a diatribe about namespacing, containers, and application isolation generally, but before I do - why is it that you want to use the system Python environment?  Had you just not considered the option of virtual environments?
</I>
Legitimate questions.  Fitting into the existing deployment flow, and ummm… can I wrap a venv in a .deb? ‘Cuz that would be cool.

Another poster mentioned Anaconda…. I’m not a huge fan.  I am using it extensively as part of the Udacity self-driving car class, and I will admit that it would be nearly impossible for Udacity to deploy the project environment any other way.  But I see Anaconda as a very heavy-weight solution for projects requiring a huge infrastructure, and my problem is no where near large enough that the benefits justifies the cost.  A simple venv is more in line.

&gt;<i> 
</I>&gt;<i> -glyph
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20170222/56484f8f/attachment-0002.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="063692.html">[Twisted-Python] Python3 twistd daemon for Ubuntu 14.04 alternatives
</A></li>
	<LI>Next message (by thread): <A HREF="063682.html">[Twisted-Python] Python3 twistd daemon for Ubuntu 14.04 alternatives
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63678">[ date ]</a>
              <a href="thread.html#63678">[ thread ]</a>
              <a href="subject.html#63678">[ subject ]</a>
              <a href="author.html#63678">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
