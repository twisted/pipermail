<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Getting started on making the move to the new	logging system
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Getting%20started%20on%20making%20the%20move%20to%20the%20new%0A%09logging%20system&In-Reply-To=%3CFD79B667-7F01-43F0-A50E-D7B50700DF40%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029411.html">
   <LINK REL="Next"  HREF="029417.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Getting started on making the move to the new	logging system</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Getting%20started%20on%20making%20the%20move%20to%20the%20new%0A%09logging%20system&In-Reply-To=%3CFD79B667-7F01-43F0-A50E-D7B50700DF40%40twistedmatrix.com%3E"
       TITLE="[Twisted-Python] Getting started on making the move to the new	logging system">glyph at twistedmatrix.com
       </A><BR>
    <I>Mon Apr 27 14:29:42 MDT 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="029411.html">[Twisted-Python] Getting started on making the move to the new	logging system
</A></li>
        <LI>Next message: <A HREF="029417.html">[Twisted-Python] Getting started on making the move to the new logging system
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29413">[ date ]</a>
              <a href="thread.html#29413">[ thread ]</a>
              <a href="subject.html#29413">[ subject ]</a>
              <a href="author.html#29413">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> On Apr 27, 2015, at 10:57 AM, Eeshan Garg &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">jerryguitarist at gmail.com</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> Hi everyone!
</I>&gt;<i> 
</I>&gt;<i> I have gone through &lt;<A HREF="http://twisted.readthedocs.org/en/latest/core/howto/logging.html">http://twisted.readthedocs.org/en/latest/core/howto/logging.html</A> &lt;<A HREF="http://twisted.readthedocs.org/en/latest/core/howto/logging.html">http://twisted.readthedocs.org/en/latest/core/howto/logging.html</A>&gt;&gt; and &lt;<A HREF="http://twisted.readthedocs.org/en/latest/core/howto/logger.html">http://twisted.readthedocs.org/en/latest/core/howto/logger.html</A> &lt;<A HREF="http://twisted.readthedocs.org/en/latest/core/howto/logger.html">http://twisted.readthedocs.org/en/latest/core/howto/logger.html</A>&gt;&gt;. And I want to get started helping out with making the move to the new logging system.
</I>&gt;<i> 
</I>&gt;<i> I talked to Glyph and ralphm about this at the PyCon sprints. The main purpose of this email is that I would like some advice as to how to move forward. Are there any other docs that I should read? Also, where should I start? What should be the scope of each individual ticket? 
</I>
My initial suggestion - don't take this too authoritatively, I'd be happy for input from anyone else - would be that the next step would be to simply identify a module that has some interesting log events, make a ticket for logging them using the new system, and then write a patch for that ticket.

The scope of each ticket should be as small as possible, given that small tickets get through review faster.  Keep in mind though that there is probably insufficient test coverage for log statements as it is, so you'll almost certainly have to add tests which assert things about the new messages even if the logging statements themselves were covered by HTTP/1.1.

One good place to start would either be in twisted.web, or in some of the &quot;core&quot; logging messages we see all of the time, like twisted.internet.protocol.Factory.doStart.  Right now the only way to control that particular message is to set the 'noisy' attribute on Factory, but the new logging system has an explicit filtering step which can start to provide better support for controlling chatty subsystems.

Another thing to keep an eye on as you do this is to make sure that you convert any string-formatting you find in log messages - like, for example, the '&quot;Starting factory %r&quot; % self' in the message I referenced - and replace it with structured formatting, like self.logger.info(&quot;Starting factory {self}&quot;).

&gt;<i> I was talking to adiroiban and hawkowl on IRC about this, and they also recommended that I send an email to the mailing list before getting started, so here I am. I would really appreciate it if you could give me some advice and guidance regarding this. :-)
</I>
Sounds like good advice.

Good luck, and feel free to keep asking questions,

-glyph

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20150427/2c2e3683/attachment.html">http://twistedmatrix.com/pipermail/twisted-python/attachments/20150427/2c2e3683/attachment.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029411.html">[Twisted-Python] Getting started on making the move to the new	logging system
</A></li>
	<LI>Next message: <A HREF="029417.html">[Twisted-Python] Getting started on making the move to the new logging system
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29413">[ date ]</a>
              <a href="thread.html#29413">[ thread ]</a>
              <a href="subject.html#29413">[ subject ]</a>
              <a href="author.html#29413">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
