<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Deprecating subproject packaging
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Deprecating%20subproject%20packaging&In-Reply-To=%3C20A668D6-604C-4D39-B716-62B420559DA9%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="061868.html">
   <LINK REL="Next"  HREF="061858.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Deprecating subproject packaging</H1>
    <B>Glyph</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Deprecating%20subproject%20packaging&In-Reply-To=%3C20A668D6-604C-4D39-B716-62B420559DA9%40twistedmatrix.com%3E"
       TITLE="[Twisted-Python] Deprecating subproject packaging">glyph at twistedmatrix.com
       </A><BR>
    <I>Wed Apr 22 18:01:52 MDT 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="061868.html">[Twisted-Python] Deprecating subproject packaging
</A></li>
        <LI>Next message (by thread): <A HREF="061858.html">[Twisted-Python] Deprecating subproject packaging
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61857">[ date ]</a>
              <a href="thread.html#61857">[ thread ]</a>
              <a href="subject.html#61857">[ subject ]</a>
              <a href="author.html#61857">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> On Apr 22, 2015, at 09:28, Adi Roiban &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">adi at roiban.ro</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;&gt;&gt;&gt;<i> So, I think we should:
</I>&gt;&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;&gt;<i> - Deprecate the subproject setup.pys starting with 15.2 and stop packaging subprojects separately as of 16.0 (15.2 in May, 15.3 in July, 15.4 in September, 15.5 in November, 16.0 in January 2016 -- so ~4 releases + 1 major release notice).
</I>&gt;&gt;&gt;&gt;<i> - Remove the support code for subprojects in twisted.python._release + the release scripts in the 16.0 release.
</I>&gt;<i> 
</I>&gt;<i> I am ok with deprecating this ... but I hope that this will not
</I>&gt;<i> discourage the effort to decouple the Twisted subprojects.
</I>
There is not really any such effort underway.  However, if anything, this change would make such an effort easier.  If we want to release the projects separately, we should maintain them separately; the lesson of this &quot;subproject&quot; split is that what users want, to perceive that projects are more &quot;lightweight&quot;, is a different &quot;front door&quot; to each project - different websites, different documentation indexes, different bug trackers - and not necessarily just a smaller download.  I'm pretty sure that if we split everything up but the actual releases we'd have better luck convincing people twisted is not hard to understand.

One immediate thing I think we should decouple, though, are our native dependencies.  IOCPReactor should remain in Twisted, but iocpsupport should be a separate, optional dependency, available as an extra.  Similarly, _initgroups, sendmsg, portmap, and raiser should all be optional dependencies, so that Twisted itself can be a pure wheel, and you can opt in to enhanced functionality by installing extras.

&gt;<i> I would like to see the subproject developed as independent
</I>&gt;<i> projects... this should help enforcing the decoupling and would speed
</I>&gt;<i> up the test suite.
</I>
Speeding up the test suite should be accomplished by actually fixing and optimizing the tests, not by chopping big sections of it off.  The amount of tests we have right now can run very quickly; but there are two immediate problems:

1. we are not leveraging twistd -j, and since we have no buildbots that run it, we keep making changes that break it for our test suite.  We should introduce a builder that runs the tests in parallel.
2. many of the tests still return Deferreds when they should not, spin the reactor, wait for real timeouts, and so on.  we should endeavor to reduce the number of real-IO tests as much as possible.

&gt;<i> Right now if you make a change in twisted.positioning, buildbot will
</I>&gt;<i> run all tests :(
</I>
Maybe we could speed up twisted.positioning's tests without sacrificing quality, but we would need to continue to run twisted.positioning's tests for every change to twisted core regardless, even if they were separate projects, or we would be reducing the amount of integration coverage received by twisted core.

-glyph

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20150422/94056d21/attachment-0002.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="061868.html">[Twisted-Python] Deprecating subproject packaging
</A></li>
	<LI>Next message (by thread): <A HREF="061858.html">[Twisted-Python] Deprecating subproject packaging
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61857">[ date ]</a>
              <a href="thread.html#61857">[ thread ]</a>
              <a href="subject.html#61857">[ subject ]</a>
              <a href="author.html#61857">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
