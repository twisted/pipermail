<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Nested/Aggregate Exceptions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Nested/Aggregate%20Exceptions&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012787.html">
   <LINK REL="Next"  HREF="012797.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Nested/Aggregate Exceptions</H1>
    <B>Justin Mazzola Paluska</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Nested/Aggregate%20Exceptions&In-Reply-To="
       TITLE="[Twisted-Python] Nested/Aggregate Exceptions">jmp at TWIN-TOWERS.MIT.EDU
       </A><BR>
    <I>Tue Mar 28 08:52:59 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="012787.html">[Twisted-Python] Re: [Twisted-commits] r16486 - Merge	epytext-cleanups-1545
</A></li>
        <LI>Next message: <A HREF="012797.html">[Twisted-Python] Nested/Aggregate Exceptions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12796">[ date ]</a>
              <a href="thread.html#12796">[ thread ]</a>
              <a href="subject.html#12796">[ subject ]</a>
              <a href="author.html#12796">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I'm writing a Twisted application using Twisted 2.0.1 on Mandriva 2006
that uses PerspectiveBroker for communication between modules.  Our
application is based on a centralized Twisted server and web- and
GTK-based client applications that connect to the Twisted server to
manage a user database.  

Up until recently, most of methods exported by the Twisted server are
essentially single-operation functions that operate on a single user
(e.g., &quot;update_user(user, **data)&quot;).  As such, exception handling in
the clients is easy: if the operation throws an exception, we know
what operation died and can report a reasonable error to the user
running the client program.

In the most recent version of our server, however, we've decided to
add several aggregate functions to our server that take in multiple
users (e.g., &quot;update_users(users, **data)&quot; where users is a Python
list of user names).  Essentially, these new aggregate functions
repeatedly call their single-operation counterparts multiple times.
Since each call that the aggregate function makes is independent from
other calls, we store away exceptions that get raised and continue
with the other operations.  At the end of the function, if there were
errors, we raise an AggregateException that contains the list of all
exceptions raised by the aggregate function.  This way our clients
know what the specific exceptions and what arguments they failed on.

The problem is, I can't figure out how to pass an AggregateException
across PB.  I know I can probably use pb.CopyableFailure, but my
experiments usually died when I passed non-Failure-subclasses into my
aggregate.  Do the mavens on the list have any suggestions?

Thanks!
	--Justin




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012787.html">[Twisted-Python] Re: [Twisted-commits] r16486 - Merge	epytext-cleanups-1545
</A></li>
	<LI>Next message: <A HREF="012797.html">[Twisted-Python] Nested/Aggregate Exceptions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12796">[ date ]</a>
              <a href="thread.html#12796">[ thread ]</a>
              <a href="subject.html#12796">[ subject ]</a>
              <a href="author.html#12796">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
