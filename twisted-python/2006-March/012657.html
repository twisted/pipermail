<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Degrading under load
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Degrading%20under%20load&In-Reply-To=1141939705.9187.2.camel%40localhost.localdomain">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012649.html">
   <LINK REL="Next"  HREF="012662.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Degrading under load</H1>
    <B>Yitzchak Gale</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Degrading%20under%20load&In-Reply-To=1141939705.9187.2.camel%40localhost.localdomain"
       TITLE="[Twisted-Python] Degrading under load">gale at sefer.org
       </A><BR>
    <I>Thu Mar  9 19:12:32 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="012649.html">[Twisted-Python] Degrading under load
</A></li>
        <LI>Next message: <A HREF="012662.html">[Twisted-Python] Degrading under load
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12657">[ date ]</a>
              <a href="thread.html#12657">[ thread ]</a>
              <a href="subject.html#12657">[ subject ]</a>
              <a href="author.html#12657">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 3/9/06, Itamar Shtull-Trauring &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">itamar at itamarst.org</A>&gt; wrote:
&gt;<i> On Thu, 2006-03-09 at 23:13 +0200, Yitzchak Gale wrote:
</I>&gt;&gt;<i> When running listenTCP, how often does twisted
</I>&gt;&gt;<i> accept pending connections on the port?
</I>
&gt;<i> The server will... accept connections on each iteration of
</I>&gt;<i> the event loop where the server socket is readable.
</I>
OK.

&gt;<i> If processing something when data is received takes a long time though
</I>&gt;<i> this mean the event loop won't get control back and so accept()ing will
</I>&gt;<i> be delayed.
</I>
Right. So in this scenario, performance under load would
depend on breaking up the higher-level processing steps
into small enough pieces.

&gt;&gt;<i> And when twisted does accept pending connections,
</I>&gt;&gt;<i> does it accept ALL of them and queue them all for
</I>&gt;&gt;<i> processing, or just one at a time?
</I>
&gt;<i> IIRC most reactors will try to accept as many as possible,
</I>&gt;<i> up to some limit in each iteration.
</I>
If I was going to do A, I would certainly want to check that
carefully. It's not like using select() or poll(). To get a
non-blocking accept(), for example, I think you need to
set some flag on the listen() call.

But right now it looks like I'll do B. It is still quite simple,
and looks more robust to me.

Thanks,
-Yitz


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012649.html">[Twisted-Python] Degrading under load
</A></li>
	<LI>Next message: <A HREF="012662.html">[Twisted-Python] Degrading under load
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12657">[ date ]</a>
              <a href="thread.html#12657">[ thread ]</a>
              <a href="subject.html#12657">[ subject ]</a>
              <a href="author.html#12657">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
