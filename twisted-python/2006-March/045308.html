<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Nested/Aggregate Exceptions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Nested/Aggregate%20Exceptions&In-Reply-To=%3C4429DC09.70203%40densedata.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="045305.html">
   <LINK REL="Next"  HREF="045306.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Nested/Aggregate Exceptions</H1>
    <B>Johann Borck</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Nested/Aggregate%20Exceptions&In-Reply-To=%3C4429DC09.70203%40densedata.com%3E"
       TITLE="[Twisted-Python] Nested/Aggregate Exceptions">johann.borck at densedata.com
       </A><BR>
    <I>Tue Mar 28 17:59:53 MST 2006</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="045305.html">[Twisted-Python] Nested/Aggregate Exceptions
</A></li>
        <LI>Next message (by thread): <A HREF="045306.html">[Twisted-Python] Twisted Sponsors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45308">[ date ]</a>
              <a href="thread.html#45308">[ thread ]</a>
              <a href="subject.html#45308">[ subject ]</a>
              <a href="author.html#45308">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Justin Mazzola Paluska wrote:

&gt;<i>Hello,
</I>&gt;<i>
</I>&gt;<i>I'm writing a Twisted application using Twisted 2.0.1 on Mandriva 2006
</I>&gt;<i>that uses PerspectiveBroker for communication between modules.  Our
</I>&gt;<i>application is based on a centralized Twisted server and web- and
</I>&gt;<i>GTK-based client applications that connect to the Twisted server to
</I>&gt;<i>manage a user database.  
</I>&gt;<i>
</I>&gt;<i>Up until recently, most of methods exported by the Twisted server are
</I>&gt;<i>essentially single-operation functions that operate on a single user
</I>&gt;<i>(e.g., &quot;update_user(user, **data)&quot;).  As such, exception handling in
</I>&gt;<i>the clients is easy: if the operation throws an exception, we know
</I>&gt;<i>what operation died and can report a reasonable error to the user
</I>&gt;<i>running the client program.
</I>&gt;<i>
</I>&gt;<i>In the most recent version of our server, however, we've decided to
</I>&gt;<i>add several aggregate functions to our server that take in multiple
</I>&gt;<i>users (e.g., &quot;update_users(users, **data)&quot; where users is a Python
</I>&gt;<i>list of user names).  Essentially, these new aggregate functions
</I>&gt;<i>repeatedly call their single-operation counterparts multiple times.
</I>&gt;<i>Since each call that the aggregate function makes is independent from
</I>&gt;<i>other calls, we store away exceptions that get raised and continue
</I>&gt;<i>with the other operations.  At the end of the function, if there were
</I>&gt;<i>errors, we raise an AggregateException that contains the list of all
</I>&gt;<i>exceptions raised by the aggregate function.  This way our clients
</I>&gt;<i>know what the specific exceptions and what arguments they failed on.
</I>&gt;<i>
</I>&gt;<i>The problem is, I can't figure out how to pass an AggregateException
</I>&gt;<i>across PB. 
</I>&gt;<i>
</I>You only want to pass information about what went wrong and how, why do
you have to transmit the exceptions themselves?  Isn't it even more
efficient to just submit the relevant info?  As far as I know PB takes a
set of classes which are allowed to be transmitted, and anything else
including unexpected Exceptions won't be. maybe there's already some
kind of exception-handling in PB, but iirc (though vaguely a phrase in
the docs like) &quot;you have to care about Exceptions yourself&quot;.

Johann

&gt;<i> I know I can probably use pb.CopyableFailure, but my
</I>&gt;<i>experiments usually died when I passed non-Failure-subclasses into my
</I>&gt;<i>aggregate.  Do the mavens on the list have any suggestions?
</I>&gt;<i>
</I>&gt;<i>Thanks!
</I>&gt;<i>	--Justin
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>_______________________________________________
</I>&gt;<i>Twisted-Python mailing list
</I>&gt;<i><A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i><A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="045305.html">[Twisted-Python] Nested/Aggregate Exceptions
</A></li>
	<LI>Next message (by thread): <A HREF="045306.html">[Twisted-Python] Twisted Sponsors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45308">[ date ]</a>
              <a href="thread.html#45308">[ thread ]</a>
              <a href="subject.html#45308">[ subject ]</a>
              <a href="author.html#45308">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
