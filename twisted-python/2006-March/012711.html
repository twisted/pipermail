<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Writing Servers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Writing%20Servers&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012714.html">
   <LINK REL="Next"  HREF="012713.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Writing Servers</H1>
    <B>A S</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Writing%20Servers&In-Reply-To="
       TITLE="[Twisted-Python] Writing Servers">abs621 at yahoo.com
       </A><BR>
    <I>Wed Mar 15 11:36:17 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="012714.html">[Twisted-Python] Broken mailing list link on wiki
</A></li>
        <LI>Next message: <A HREF="012713.html">[Twisted-Python] Writing Servers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12711">[ date ]</a>
              <a href="thread.html#12711">[ thread ]</a>
              <a href="subject.html#12711">[ subject ]</a>
              <a href="author.html#12711">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

It is said all over the documentation

That when connection is accepted the new *instance* of
a protocol is created. However as it is single
threaded, can use the same instance?


For example (In case of UDP):

port = x;

#some proto subclass of AbstractDatagramProtocol
#this protocol does not does nt delegate request to
threads. I assume request is served quickly

proto = Proto() 

for if in (&quot;eth0&quot;, &quot;eth1&quot;)
    addr = getAddr(if)
    reactor.listenUDP(port, proto, interface = addr,)

I want to have same protocol *instance running* for
diff interface on same port. As this protocol does not
store any state.

Also instead of creating one when connection comes and
descard is when connection is broken. Use a single
one.

however, internet/protocol.py does not allow it?

def makeConnection(self, transport):
        assert self.transport == None
        self.transport = transport
        self.doStart()


Can not i use the same instance of the protocol for
each connection instead of getting new instance every
time. As it is single threaded and it must return
before next connection in q is served?

I am once the datagramReceived is call, it must return
before any other request is served. (i am not using
any deferrer)

Q1) Am i missing some concept?

Q2) What if the request is delegated to deferrer or
threads, can we still use the same instance of
protocol class?

Q3) What are the ways to create deferrer itself
There is little about it, reactor callfromthread or
callinthread? Any good doc?


Regards,
Abbey



__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
<A HREF="http://mail.yahoo.com">http://mail.yahoo.com</A> 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012714.html">[Twisted-Python] Broken mailing list link on wiki
</A></li>
	<LI>Next message: <A HREF="012713.html">[Twisted-Python] Writing Servers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12711">[ date ]</a>
              <a href="thread.html#12711">[ thread ]</a>
              <a href="subject.html#12711">[ subject ]</a>
              <a href="author.html#12711">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
