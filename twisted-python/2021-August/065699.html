<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] bad news about twistedmatrix.com's hosting
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20bad%20news%20about%20twistedmatrix.com%27s%20hosting&In-Reply-To=%3C905161B8-C4C4-448D-B11B-B62B2294ADFC%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="065693.html">
   <LINK REL="Next"  HREF="065694.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] bad news about twistedmatrix.com's hosting</H1>
    <B>Glyph</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20bad%20news%20about%20twistedmatrix.com%27s%20hosting&In-Reply-To=%3C905161B8-C4C4-448D-B11B-B62B2294ADFC%40twistedmatrix.com%3E"
       TITLE="[Twisted-Python] bad news about twistedmatrix.com's hosting">glyph at twistedmatrix.com
       </A><BR>
    <I>Mon Aug  2 02:57:03 MDT 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="065693.html">[Twisted-Python] bad news about twistedmatrix.com's hosting
</A></li>
        <LI>Next message (by thread): <A HREF="065694.html">[Twisted-Python] Fwd: Moving the Twisted-Python and Twisted-Web mailing lists too Python mailman3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65699">[ date ]</a>
              <a href="thread.html#65699">[ thread ]</a>
              <a href="subject.html#65699">[ subject ]</a>
              <a href="author.html#65699">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

&gt;<i> On Aug 1, 2021, at 2:49 AM, Adi Roiban &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">adiroiban at gmail.com</A> &lt;mailto:<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">adiroiban at gmail.com</A>&gt;&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> Hi Glyph
</I>&gt;<i> 
</I>&gt;<i> Thanks for sending the message.
</I>
As a wise computer once sung, &quot;We do what we must, because we can&quot;.

&gt;<i> This is bad, but I am confident that we can do the migration in 60 days, as long as we don't expect to have the exact same Twisted infrastructure.
</I>
It's certainly annoying (and I'm very sad to see tummy go, they were great) but I think we may be happy with the opportunity to reduce the amount of stuff we operate.

&gt;<i> We have a monthly credit of 150 USD from MS to spend on Azure services.
</I>
This is great news!  Presumably I â€¦ already have access to this, somehow?  Is it in the 1password team vault?  How do I see it?  Do we have a commitment from MS to actually maintain this credit?

&gt;<i> A quick hack would be to create a new VM in Azure with Ubuntu 18.04 and migrate the existing server to it.
</I>
If we need to provision a new server anyway, could we provision it on the most recent ubuntu?  Presumably most of the stuff we require will still be on there?  If it's a hassle let's fall back to 18.04 but let's not set ourselves up to be outdated as long as we're doing this work.

&gt;<i> Do we have other servers hosted with tummy.com &lt;<A HREF="http://tummy.com/">http://tummy.com/</A>&gt;, other than dornkirk.twistedmatrix.com &lt;<A HREF="http://dornkirk.twistedmatrix.com/">http://dornkirk.twistedmatrix.com/</A>&gt; ?
</I>
Nope.  We used to have a VPS called Wolfwood, but in an act of nominative determinism, it had to die for the greater good.  (It was our source-control server, back when that was a thing you had to run yourself.  We shut it down when we migrated to github.)

&gt;<i> I will not have too much time to do the migration, but I can ask a sysadmin from my work to help with that and my company will cover that costs.
</I>
Thanks Adi, this is very generous.  Let me know if I'm needed to give this sysadmin any requisite privileges.

&gt;<i> I think that for now, we should see who is interested with helping with the migration and after 1 week start to work with that team.
</I>
Looks like a team is coming together :).

&gt;<i> Maybe we will need to schedule an online meeting, but I hope we can do async work via GitHub Issues (braid) and IRC/Gitter.
</I>
Yeah, async seems to be working fine.

&gt;<i> I saw that you have already considered using containers for Twisted infra <A HREF="https://github.com/twisted-infra/braid/issues/265">https://github.com/twisted-infra/braid/issues/265</A> &lt;<A HREF="https://github.com/twisted-infra/braid/issues/265">https://github.com/twisted-infra/braid/issues/265</A>&gt;
</I>Yes. I'd love to do this, and if such a migration reduces effort, then let's do it by all means - I just don't want to get caught up in trying to do this and ending up with things broken when the clock runs out.

&gt;<i> In parallel with migrating  dornkirk.twistedmatrix.com &lt;<A HREF="http://dornkirk.twistedmatrix.com/">http://dornkirk.twistedmatrix.com/</A>&gt;, we can look at outsourcing some of our services.
</I>&gt;<i> For example
</I>&gt;<i> 
</I>&gt;<i> * Move mailing list to the main Python mailing list server
</I>
Looks like this is full steam ahead!

&gt;<i> * Move DNS to a cloud provider (Azure DNS)
</I>
I've already pulled the trigger to migrate our DNS to Gandi, since they're our registrar and I already know I can provision certificates against their LiveDNS API :).  We do still have to get a few other domains off of this infrastructure though, I'll do the ones we control (Divunal) and contact folks at the others.

Longer-term, I would like to host some DNS, since I want to make sure that twisted.names does not bit-rot.  However, perhaps a prerequisite to setting this up again will be (A) containerizing it and (B) providing something like Sentry for us to track exceptions, so that the dog-fooding here is interesting and not just a tedious obligation that produces gigabytes full of tracback-laden log files that nobody ever looks at or fixes.

&gt;<i> * Move Trac Wiki to GitHub Wiki
</I>
The trac wiki's main purpose is not really to serve as a wiki-style editable document repository, but rather to host the website.  I think migrating it to something like Pelican, or some other static-site management thing might make more sense.

&gt;<i> * Move Trac Tickets to GitHub Issues
</I>
Sure, sure, as soon as we figure out a way to preserve all the links :).

&gt;<i> * Move static file hosting to GitHub pages
</I>
I wonder if it would make sense for www.twistedmatrix.com &lt;<A HREF="http://www.twistedmatrix.com/">http://www.twistedmatrix.com/</A>&gt; itself to be hosted by 

&gt;<i> * Move highscore to a container and update it to pull info from GitHub hooks
</I>
+1.  This thing might be interesting &lt;<A HREF="https://github.com/leereilly/github-high-scores">https://github.com/leereilly/github-high-scores</A> &lt;<A HREF="https://github.com/leereilly/github-high-scores">https://github.com/leereilly/github-high-scores</A>&gt;&gt; in that it might be a better starting point than our own code (which is not even open source because, among other reasons, it is such trash) this version gets the point of the scoring wrong, which is to weight 

&gt;<i> * IRC bot to some sort of integration to Gitter and then IRC bridge
</I>
Given that this is already broken right now, I'd say &quot;don't bother migrating the IRC bot right away&quot;.  This also means we don't need amptrac, and we can rebuild the IRC bot in a more sustainable way, inside a container, later

&gt;<i> * Retire speed tests and buildbot
</I>
Buildbot yes, speed tests no.  I agree that speedcenter is not super well maintained, but it does at least give us some sense of performance, and right now it's all we've got.  (If you can find some cloud CI thing like Github Actions which does anything with perf we should destroy speedcenter immediately, but given that PyPy still uses it, I have to imagine it's the best thing going.  We should absolutely put it in a container though.

We should expect all of our relative perf data to become garbage when we move to new hosting hardware, of course.

&gt;<i> From past experience, I would say that most active Twisted contributors are software developers and not sysadmin.
</I>&gt;<i> So we don't have the resources to keep custom Twisted infrastructure.
</I>&gt;<i> And with the limited resources that we have, I would like to see Twisted contributors work at doing code review, fixing bugs rather than doing infrastructure work.
</I>
Absolutely.

&gt;<i> So I am +1 for outsourcing as many Twisted services as possible. 
</I>
My only caveat to this is that I think it would be interesting to be able to host fun stuff that uses Twisted.  Some kind of goofy webchat thing or minimal real-time game to show off event-driven communication.  (Also maybe we should have first-party websockets support, but I digress.)  Maybe some public IMAP server that you can connect a mail client to that does something weird that isn't quite email.  Maybe a logbot that can talk to the IRC channel.  These things should all be containerized, and should not be permanently required for the project's workflows to work (writing such a toy should not be the same as committing to maintain it forever; if it breaks, it can break and we let it go), but we shouldn't aspire to pare down to nothing running in the cloud.

That said, to have the energy to write, set up, and maintain such things, we do have to discard the perpetual albatross of propping up a years-old non-containerized system with tons of mystery miserable mutable state in it.  (I really think relieving ourselves of Mailman will get rid of most of the stuff that makes this difficult, though, so I'm quite excited to get that migration underway.)

&gt;<i> I think that we have already outsourced a few services:
</I>&gt;<i> 
</I>&gt;<i> * Automated testing to Azure Pipelines and GitHub Actions
</I>&gt;<i> * Git Hosting to GitHub
</I>&gt;<i> * Some Twisted sub-projects use GitHub Issues
</I>&gt;<i> * Python package downloads to PyPi
</I>&gt;<i> * Documentation hosting to Read The Docs
</I>
Don't forget moving our mail hosting &amp; forwarding to Mailgun (which mailgun donates for free, thank you mailgunners)!  


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20210802/0f78f82f/attachment-0001.htm&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="065693.html">[Twisted-Python] bad news about twistedmatrix.com's hosting
</A></li>
	<LI>Next message (by thread): <A HREF="065694.html">[Twisted-Python] Fwd: Moving the Twisted-Python and Twisted-Web mailing lists too Python mailman3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65699">[ date ]</a>
              <a href="thread.html#65699">[ thread ]</a>
              <a href="subject.html#65699">[ subject ]</a>
              <a href="author.html#65699">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
