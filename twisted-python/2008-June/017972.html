<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] FW: reject all open connections
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20FW%3A%20reject%20all%20open%20connections&In-Reply-To=BLU125-W299CF7A19BA5B5E3266789DBA30%40phx.gbl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017971.html">
   <LINK REL="Next"  HREF="017973.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] FW: reject all open connections</H1>
    <B>Jean-Paul Calderone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20FW%3A%20reject%20all%20open%20connections&In-Reply-To=BLU125-W299CF7A19BA5B5E3266789DBA30%40phx.gbl"
       TITLE="[Twisted-Python] FW: reject all open connections">exarkun at divmod.com
       </A><BR>
    <I>Thu Jun 26 17:18:42 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="017971.html">[Twisted-Python] FW: reject all open connections
</A></li>
        <LI>Next message: <A HREF="017973.html">[Twisted-Python] Issues with creating switchboards with	twisted.words.protocols.msn
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17972">[ date ]</a>
              <a href="thread.html#17972">[ thread ]</a>
              <a href="subject.html#17972">[ subject ]</a>
              <a href="author.html#17972">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 26 Jun 2008 23:08:00 +0200, Irae Hueck Costa &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">iraehc at hotmail.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i>i just want to clean my reactor - all readers and writer should looseConnection()
</I>&gt;<i>
</I>&gt;<i>but how can i do this? reactor.removeAll() dont do it.
</I>&gt;<i>the best solutions i found was a horrible workaround:
</I>&gt;<i>a thread is tarted, which constantly calls ``[conn.loseConnection() for conn in reactor.removeAll()]``
</I>&gt;<i>
</I>&gt;<i>is there a better solution?
</I>&gt;<i>
</I>
This is an unusual thing to want to do.  Any code that does it risks
stomping on other code it doesn't know about.  If you have a factory
serving connections on a particular port, you might want to have that
factory keep track of all clients which are connected to it, then it
can iterate over those clients and disconnect them.

If you use removeAll(), then you'll probably end of breaking some
reactor internals (like threading support and maybe other stuff).
However, if that's your goal, then the list comprehension you
pasted is more or less correct.

Jean-Paul


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017971.html">[Twisted-Python] FW: reject all open connections
</A></li>
	<LI>Next message: <A HREF="017973.html">[Twisted-Python] Issues with creating switchboards with	twisted.words.protocols.msn
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17972">[ date ]</a>
              <a href="thread.html#17972">[ thread ]</a>
              <a href="subject.html#17972">[ subject ]</a>
              <a href="author.html#17972">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
