<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] notifyFinish not being called on Windows 10	Twisted 16.4.1
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20notifyFinish%20not%20being%20called%20on%20Windows%2010%0A%09Twisted%2016.4.1&In-Reply-To=%3C6229BFC7-FAD8-4409-B6F1-F6E278CF78FC%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030844.html">
   <LINK REL="Next"  HREF="030846.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] notifyFinish not being called on Windows 10	Twisted 16.4.1</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20notifyFinish%20not%20being%20called%20on%20Windows%2010%0A%09Twisted%2016.4.1&In-Reply-To=%3C6229BFC7-FAD8-4409-B6F1-F6E278CF78FC%40twistedmatrix.com%3E"
       TITLE="[Twisted-Python] notifyFinish not being called on Windows 10	Twisted 16.4.1">glyph at twistedmatrix.com
       </A><BR>
    <I>Tue Oct 18 02:18:39 MDT 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="030844.html">[Twisted-Python] notifyFinish not being called on Windows 10 Twisted 16.4.1
</A></li>
        <LI>Next message: <A HREF="030846.html">[Twisted-Python] Some things I've learned: safer callbacks,	better t.p.context
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30845">[ date ]</a>
              <a href="thread.html#30845">[ thread ]</a>
              <a href="subject.html#30845">[ subject ]</a>
              <a href="author.html#30845">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> On Oct 18, 2016, at 12:29 AM, John Aherne &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">johnaherne at rocs.co.uk</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> Having read the irc log a few times I'm still not clear what is meant to happen.
</I>&gt;<i> 
</I>&gt;<i> I can't see under what circumstances notifyFinish will return a Failure.
</I>
The difference between firing with None and firing with a Failure is extremely subtle.  If the client connection terminates &quot;before it's ready&quot; then you'll get an Failure, but this is fairly fuzzily defined in terms of application-level semantics.  A connection that is &quot;not ready&quot; to terminate might be one that has outstanding data to send to the client which the client doesn't receive, or a connection which has only partially received a request.  There are other low-level details of the socket which might also be relevant (for example, I think you might also get this if the client neglects to send a CLOSE_ALERT TLS message).

For most applications, the difference between &quot;failure&quot; and &quot;success&quot; in this case just isn't very interesting.

As Corey identified earlier in the thread though, _also_ a bug where it isn't being called all the time when we expect it.  As the ticket said though, you can try to work around this by just calling resumeProducing() unconditionally at the beginning of your request processing...

-glyph



</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030844.html">[Twisted-Python] notifyFinish not being called on Windows 10 Twisted 16.4.1
</A></li>
	<LI>Next message: <A HREF="030846.html">[Twisted-Python] Some things I've learned: safer callbacks,	better t.p.context
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30845">[ date ]</a>
              <a href="thread.html#30845">[ thread ]</a>
              <a href="subject.html#30845">[ subject ]</a>
              <a href="author.html#30845">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
