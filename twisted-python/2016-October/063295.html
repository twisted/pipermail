<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Endpoint composition syntax
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Endpoint%20composition%20syntax&In-Reply-To=%3CCAKF%3D%2BdhmJzNn1gheNJ-RT0-J%2B6dyEBuyYMtZ8VNvPUR9FLRRqg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="063294.html">
   <LINK REL="Next"  HREF="063296.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Endpoint composition syntax</H1>
    <B>Kevin Conway</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Endpoint%20composition%20syntax&In-Reply-To=%3CCAKF%3D%2BdhmJzNn1gheNJ-RT0-J%2B6dyEBuyYMtZ8VNvPUR9FLRRqg%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Endpoint composition syntax">kevinjacobconway at gmail.com
       </A><BR>
    <I>Thu Oct 13 05:14:27 MDT 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="063294.html">[Twisted-Python] Endpoint composition syntax
</A></li>
        <LI>Next message (by thread): <A HREF="063296.html">[Twisted-Python] Endpoint composition syntax
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63295">[ date ]</a>
              <a href="thread.html#63295">[ thread ]</a>
              <a href="subject.html#63295">[ subject ]</a>
              <a href="author.html#63295">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> we can just look up until the first ':'; we just need to define a new
</I>interface for a new syntax.

What do you think of adding a special argument for endpoint strings called
&quot;wraps&quot; or &quot;pipe&quot; that tells the parser to recombine the right-hand side
and send it back through the parser? For example:

 haproxy:*pipe=*
ssl:port=443:privateKey=/etc/ssl/server.pem:extraCertChain=/etc/ssl/chain.pem:sslmethod=SSLv3_METHOD:dhParameters=dh_param_1024.pem:
*pipe=*tcp:7.6.5.4:443:*pipe=*unix:path=/var/run/web.sock

I believe this would fit as a backwards compatible change to the syntax and
would also position us to add composition support to the existing endpoints
in backwards compatible ways. As endpoints gain composition support,
existing users can opt-in by adding the new argument to existing string
descriptors.

This topic coming back up is timely for me. I was recently talking with a
user of the haproxy endpoint wrapper who was hitting an issue with the SSL
endpoint not playing well when used in composition. I'll spin off another
thread for that topic, but coming up with a syntax for composition is going
to be pre-requisite to having true composition support.

On Thu, Oct 13, 2016 at 2:26 AM Glyph Lefkowitz &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A>&gt;
wrote:

&gt;<i>
</I>&gt;<i> On Oct 12, 2016, at 7:35 PM, Tom Prince &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">tom.prince at ualberta.net</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> Thinking about it some more, there isn't currently any endpoint
</I>&gt;<i> descriptions that have an empty name, so we could have a entirely new
</I>&gt;<i> syntax that starts with `:`. If we went in that direction, we'd definitely
</I>&gt;<i> want to think about future extensibility when designing it.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> This applies more generally; no need for any weird hacks.  Any 'new'
</I>&gt;<i> plugin could just opt in to a different syntax; we can just look up until
</I>&gt;<i> the first ':'; we just need to define a new interface for a new syntax.
</I>&gt;<i>
</I>&gt;<i> -glyph
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20161013/75847844/attachment-0002.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="063294.html">[Twisted-Python] Endpoint composition syntax
</A></li>
	<LI>Next message (by thread): <A HREF="063296.html">[Twisted-Python] Endpoint composition syntax
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63295">[ date ]</a>
              <a href="thread.html#63295">[ thread ]</a>
              <a href="subject.html#63295">[ subject ]</a>
              <a href="author.html#63295">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
