<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] doc bloat
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20doc%20bloat&In-Reply-To=%3C20141202190539.23969.240747748.divmod.xquotient.29%40top%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029010.html">
   <LINK REL="Next"  HREF="029013.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] doc bloat</H1>
    <B>exarkun at twistedmatrix.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20doc%20bloat&In-Reply-To=%3C20141202190539.23969.240747748.divmod.xquotient.29%40top%3E"
       TITLE="[Twisted-Python] doc bloat">exarkun at twistedmatrix.com
       </A><BR>
    <I>Tue Dec  2 12:05:39 MST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="029010.html">[Twisted-Python] doc bloat
</A></li>
        <LI>Next message: <A HREF="029013.html">[Twisted-Python] doc bloat
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29011">[ date ]</a>
              <a href="thread.html#29011">[ thread ]</a>
              <a href="subject.html#29011">[ subject ]</a>
              <a href="author.html#29011">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10:02 am, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">adi at roiban.ro</A> wrote:
&gt;<i>As a Twisted API users, I don't find a big problem the fact that 
</I>&gt;<i>__repr__
</I>&gt;<i>docstring is presented by pydoctor together with the other method,
</I>&gt;<i>
</I>&gt;<i>As a Twisted contributor, I don't like when I have to copy/paste 
</I>&gt;<i>docstring
</I>&gt;<i>from an interface or from an inherited class ...
</I>
I hate it when people do this, too.  I never want anyone to do this. 
When I review changes in which this appears, I ask the author to change 
the submission to include useful, non-redundant documentation instead.

The coding standard doesn't explicitly say that you should not copy the 
docstring from an implementation to an interface - but this is a good 
example of the kind of thing our documentation can't be expected to 
cover.  Copying an interface docstring to an implementation is just one 
of the many possible bad practices a developer could engage in; a list 
of all possible bad practices would make the developer documentation 
infinitely long.

To the larger issue, I think the most productive thing to do would be to 
actually look at our code base and see if there are glaring examples of 
useless documentation.  If we can generalize from these examples to a 
rule, we can add that rule to the project policy (preferably encoded in 
a tool, not as prose in the developer documentation).

I'm a little bit tempted to agree with the `__repr__` case.  People who 
are reading the API documentation might not be put off by documentation 
for these methods but are they helped in any way?  I think that most of 
the time they probably aren't.  I'm basing this on times I can recall 
having written a `__repr__` docstring and how I had to struggle to put 
useful words into that docstring instead of pointless boilerplate.  I 
still think it would be good to collect a bunch of actual `__repr__` 
docstrings from Twisted and see if such evidence supports this 
conclusion.
&gt;<i>or too explicity state
</I>&gt;<i>that the type of None is NoneType... and then to add a link to it :)
</I>
It sounds like there's agreement on this point, at least.  For what it's 
worth, this seems uncontroversial to me: the type of `None` is 
`NoneType` and the only instance of `NoneType` is `None`.  Documenting 
one or the other conveys all possible information there is to convey so 
documenting one should be enough.  Even if we wanted the rendered 
version of the documentation for this case to be redundant, pydoctor can 
synthesize that redundancy - it doesn't need the source material to be 
redundant.
&gt;<i>
</I>&gt;&gt;<i>As a first approximation, I think we could ask twistedchecker to stop
</I>&gt;<i>enforcing docstring requirements for objects directly matching a 
</I>&gt;<i>&quot;private&quot;
</I>&gt;<i>naming pattern.
</I>&gt;<i>
</I>&gt;<i>Is there a ticket/issue for that?
</I>&gt;<i>What does `stop enforcing docstring requirements` mean?
</I>&gt;<i>
</I>&gt;<i>I think that docstring are important, and testing code or private 
</I>&gt;<i>methods
</I>&gt;<i>is still code which should be maintained and it should have docstrings, 
</I>&gt;<i>but
</I>&gt;<i>it would be nice not to ask for
</I>&gt;<i>strict @param @type @return @rtype.
</I>
Eh.  Test code has to be maintained just like anything else.  As the de 
facto specification for most features, it's perhaps (but only perhaps) 
more important to have everything clearly documented in a test suite.  I 
think that requiring parameter and return type documentation in the test 
suite is a very good thing.

However, requiring the same degree of documentation for *all* code may 
not be necessary.  If a test method defines a simple nested function, 
perhaps that doesn't need a docstring.  This is another thing we could 
inspect the current Twisted codebase for.  Are there lots of useless 
docstrings on nested function definitions purely for the sake of 
twistedchecker?  Or are there undocumented nested functions that are 
actually a little bit difficult to understand on their own?

Jean-Paul
&gt;<i>-------
</I>&gt;<i>
</I>&gt;<i>+1 for getting serious about twistedcker ...
</I>&gt;<i>
</I>&gt;<i>I would be happy to help with twistedchecker, as well as with the other
</I>&gt;<i>automated tools.
</I>&gt;<i>
</I>&gt;<i>What do you say if we put all problems/issues/comments here
</I>&gt;<i><A HREF="https://github.com/twisted/twistedchecker/issues">https://github.com/twisted/twistedchecker/issues</A>
</I>&gt;<i>and have 2 or 3 people who can decide if an issues is accepted, or help
</I>&gt;<i>define the right behaviour or reject it and then also review the pull
</I>&gt;<i>requests.
</I>&gt;<i>
</I>&gt;<i>Right now there are many &quot;undecided&quot; or not tagged tickets, and I don't
</I>&gt;<i>know which one is a real problem or not.
</I>&gt;<i>
</I>&gt;<i>One important requirement to move things forward is to provide quick
</I>&gt;<i>feedback, both for the initial issue report and the review.
</I>&gt;<i>Waiting months to get feedback from a patch is not fun and is a sign 
</I>&gt;<i>that
</I>&gt;<i>core developers don't care about the newly proposed changes.
</I>&gt;<i>
</I>&gt;<i>----------
</I>&gt;<i>
</I>&gt;<i>+1 for getting serious about the other code checkers: pyflakes and
</I>&gt;<i>pydoctor. Right now, is a PITA to run all these tools on your local
</I>&gt;<i>computer ...
</I>&gt;<i>
</I>&gt;<i>Cheers
</I>&gt;<i>--
</I>&gt;<i>Adi Roiban
</I>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029010.html">[Twisted-Python] doc bloat
</A></li>
	<LI>Next message: <A HREF="029013.html">[Twisted-Python] doc bloat
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29011">[ date ]</a>
              <a href="thread.html#29011">[ thread ]</a>
              <a href="subject.html#29011">[ subject ]</a>
              <a href="author.html#29011">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
