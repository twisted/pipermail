<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] question : txdbus and dbus-send
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20question%20%3A%20txdbus%20and%20dbus-send&In-Reply-To=%3CCAFKh6jAsuduee3PQu0o4T3k-aTvjhM3jAtMT38uzknn5159Otw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="059347.html">
   <LINK REL="Next"  HREF="059352.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] question : txdbus and dbus-send</H1>
    <B>Tom Cocagne</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20question%20%3A%20txdbus%20and%20dbus-send&In-Reply-To=%3CCAFKh6jAsuduee3PQu0o4T3k-aTvjhM3jAtMT38uzknn5159Otw%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] question : txdbus and dbus-send">tom.cocagne at gmail.com
       </A><BR>
    <I>Mon Apr 22 22:27:24 MDT 2013</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="059347.html">[Twisted-Python] question : txdbus and dbus-send
</A></li>
        <LI>Next message (by thread): <A HREF="059352.html">[Twisted-Python] question : txdbus and dbus-send
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59351">[ date ]</a>
              <a href="thread.html#59351">[ thread ]</a>
              <a href="subject.html#59351">[ subject ]</a>
              <a href="author.html#59351">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Apr 22, 2013 at 2:25 AM, &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">bino at indoakses-online.com</A>&gt; wrote:

&gt;<i> Dear All
</I>&gt;<i> I take
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://github.com/cocagne/txdbus/blob/master/doc/tutorial_examples/simple_server">https://github.com/cocagne/txdbus/blob/master/doc/tutorial_examples/simple_server</A>
</I>&gt;<i> and save it to /home/bino/Documents/mbink/pythons/coretac/dbus00.py
</I>&gt;<i>
</I>&gt;<i> It's work as expected when 'called' using
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://github.com/cocagne/txdbus/blob/master/doc/tutorial_examples/simple_client">https://github.com/cocagne/txdbus/blob/master/doc/tutorial_examples/simple_client</A>
</I>&gt;<i>
</I>&gt;<i> Now I need to callable using dbus-send
</I>&gt;<i> I wrote '/usr/share/dbus-1/services/org.example.service' as :
</I>&gt;<i>
</I>&gt;<i> [D-BUS Service]
</I>&gt;<i> Name=org.example.MyObjPath
</I>&gt;<i> Exec=/home/bino/Documents/mbink/pythons/coretac/dbus00.py
</I>&gt;<i>
</I>
The &quot;Name&quot; in the org.example.services file refers to the bus name(s)
exported by the application. The file should instead read:

[D-BUS Service]
Name=org.example
Exec=/home/bino/Documents/mbink/pythons/coretac/dbus00.py


&gt;<i>
</I>&gt;<i> I try to call :
</I>&gt;<i> dbus-send --system --print-reply \
</I>&gt;<i> --type=method_call \
</I>&gt;<i> --dest='org.example.MyObjPath' '/org/example/MyObjPath' \
</I>&gt;<i> org.example.MyObjPath.exampleMethod string:'MYTEXT'
</I>&gt;<i>
</I>&gt;<i> But I got error msg ... &lt;snip&gt;
</I>&gt;<i>
</I>
There are several problems here. The command should be:

dbus-send --session --print-reply --type=method_call --dest='org.example'
'/MyObjPath' org.example.MyIFace.exampleMethod string:'MYTEXT'

--session means you're using the session bus instead of the system bus
(which requires a .service file in a different directory and, possibly, an
entry in /etc/dbus-1/..). The --dest flag, similar to the Name of the
.service file, refers to the bus name rather than the object. '/MyObjPath'
is the full object path exported by the server application. Lastly, the
fully-qualified method name is the interface name plus the method name
rather than the object name plus method name. It's pretty easy to confuse
the various names and paths in DBus. I did so more than once while writing
up this reply.

Tom
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20130422/a8c9ee29/attachment-0001.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="059347.html">[Twisted-Python] question : txdbus and dbus-send
</A></li>
	<LI>Next message (by thread): <A HREF="059352.html">[Twisted-Python] question : txdbus and dbus-send
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59351">[ date ]</a>
              <a href="thread.html#59351">[ thread ]</a>
              <a href="subject.html#59351">[ subject ]</a>
              <a href="author.html#59351">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
