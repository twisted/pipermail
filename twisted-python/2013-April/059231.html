<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] How to determine whether transport.write()	succeed?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20How%20to%20determine%20whether%20transport.write%28%29%0A%09succeed%3F&In-Reply-To=%3C63CABE5D-027D-41B4-B00C-2F96EE8F2F4C%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   
   <LINK REL="Next"  HREF="059246.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] How to determine whether transport.write()	succeed?</H1>
    <B>Glyph</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20How%20to%20determine%20whether%20transport.write%28%29%0A%09succeed%3F&In-Reply-To=%3C63CABE5D-027D-41B4-B00C-2F96EE8F2F4C%40twistedmatrix.com%3E"
       TITLE="[Twisted-Python] How to determine whether transport.write()	succeed?">glyph at twistedmatrix.com
       </A><BR>
    <I>Mon Apr  1 01:49:41 MDT 2013</I>
    <P><UL>
        
        <LI>Next message (by thread): <A HREF="059246.html">[Twisted-Python] How to determine whether transport.write()	succeed?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59231">[ date ]</a>
              <a href="thread.html#59231">[ thread ]</a>
              <a href="subject.html#59231">[ subject ]</a>
              <a href="author.html#59231">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Mar 31, 2013, at 6:09 PM, Todong Ma &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">gbstack08 at gmail.com</A>&gt; wrote:

&gt;<i> I wrote a simple client and server to get system information (e.g. cpu, memory, etc.)
</I>&gt;<i> Client send 'cpu' to the server, then server will return cpu's information to client.
</I>&gt;<i> 
</I>&gt;<i> Now client send multiple commands to server one time, e.g. cpu, memory, database, hard disk. But sometimes server couldn't receive some type information (e.g. cpu, database), and the missed information type is not fixed every time.
</I>&gt;<i> 
</I>&gt;<i> So I want client to check whether ITransport.write() sends message to server successfully. If failed, client will resend the message to server.
</I>
It's a good thing that write() doesn't convey information about send() succeeding so you can't trust it :).  You can't rely on send() succeeding to convey this information: send() can succeed but all that means is that data moved from your application into your kernel.

What you want to do is to have an application-level acknowledgement of the data that was sent.

AMP will provide this for you automatically; when the Deferred returned by callRemote fires, the other end has received and acknowledged the information.

-glyph

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20130401/4a28897b/attachment.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message (by thread): <A HREF="059246.html">[Twisted-Python] How to determine whether transport.write()	succeed?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59231">[ date ]</a>
              <a href="thread.html#59231">[ thread ]</a>
              <a href="subject.html#59231">[ subject ]</a>
              <a href="author.html#59231">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
