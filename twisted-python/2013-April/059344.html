<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Speed of twisted on Amazon EC2
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Speed%20of%20twisted%20on%20Amazon%20EC2&In-Reply-To=%3CCAMwy1twxH4momdXeh4sRmkJ1vBC3Y4--wpaJi-p_42TEPUSsGw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="059342.html">
   <LINK REL="Next"  HREF="059343.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Speed of twisted on Amazon EC2</H1>
    <B>Tom van Neerijnen</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Speed%20of%20twisted%20on%20Amazon%20EC2&In-Reply-To=%3CCAMwy1twxH4momdXeh4sRmkJ1vBC3Y4--wpaJi-p_42TEPUSsGw%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Speed of twisted on Amazon EC2">twisted at tomvn.com
       </A><BR>
    <I>Sun Apr 21 14:27:58 MDT 2013</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="059342.html">[Twisted-Python] Speed of twisted on Amazon EC2
</A></li>
        <LI>Next message (by thread): <A HREF="059343.html">[Twisted-Python] Speed of twisted on Amazon EC2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59344">[ date ]</a>
              <a href="thread.html#59344">[ thread ]</a>
              <a href="subject.html#59344">[ subject ]</a>
              <a href="author.html#59344">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thank you Gelin, as you suggested I benchmarked again on PyPy and am very
impressed with it. It was significantly quicker, beating node by a fair
margin on a higher concurrency. I pasted some results in another reply in
this same thread.


On Sun, Apr 21, 2013 at 4:26 PM, Gelin Yan &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">dynamicgl at gmail.com</A>&gt; wrote:

&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Sun, Apr 21, 2013 at 8:36 PM, Tobias Oberstein &lt;
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">tobias.oberstein at tavendo.de</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Tom,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> which OS are you running on your EC2 instance? Amazon Linux?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Which reactor are you running your Twisted test with? Epoll?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Are you running on CPython or PyPy?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Can we see you Twisted hello world test app?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Tobias
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Mit freundlichen Grüßen,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Tobias Oberstein
</I>&gt;&gt;<i> Geschäftsführer
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> +49(0)9131 940 3574
</I>&gt;&gt;<i> +49(0)176 23 752 055
</I>&gt;&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">tobias.oberstein at tavendo.de</A>
</I>&gt;&gt;<i> Skype: toberstein
</I>&gt;&gt;<i> Twitter: @oberstet
</I>&gt;&gt;<i> Xing: Tobias Oberstein
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Tavendo GmbH · Am Weihersbach 13 · 91074 Herzogenaurach · Deutschland
</I>&gt;&gt;<i> Office / Postanschrift : Waldstrasse 18 · 91054 Erlangen · Deutschland
</I>&gt;&gt;<i> +49(+)700 GO TAVENDO · +49(0)700 46 828 36 36 · www.tavendo.de
</I>&gt;&gt;<i> Amtsgericht Fürth · HRB 10365 · USt-Id.Nr DE246462916 · Geschäftsführer
</I>&gt;&gt;<i> Tobias Oberstein
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Von: <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python-bounces at twistedmatrix.com</A> [mailto:
</I>&gt;&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python-bounces at twistedmatrix.com</A>] Im Auftrag von Tom van
</I>&gt;&gt;<i> Neerijnen
</I>&gt;&gt;<i> Gesendet: Sonntag, 21. April 2013 12:58
</I>&gt;&gt;<i> An: <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>
</I>&gt;&gt;<i> Betreff: [Twisted-Python] Speed of twisted on Amazon EC2
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hi all
</I>&gt;&gt;<i> I recently wrote a hello world HTTP app in Twisted, Cyclone, node, Go and
</I>&gt;&gt;<i> Scala on the Play framework, and used a combination of ab and gattling to
</I>&gt;&gt;<i> see how fast each was on an m1.small instance on Amazon EC2. I also tested
</I>&gt;&gt;<i> it on bare metal (my laptop:)) but I'll get to that later.
</I>&gt;&gt;<i> The code I used for twisted was the web server code sample from the front
</I>&gt;&gt;<i> page of twistedmatrix.com with the numberRequests increment dropped and
</I>&gt;&gt;<i> a simple &quot;Hello World!&quot; returned instead.
</I>&gt;&gt;<i> For cyclone I used the sample code from the cyclone docs with the same
</I>&gt;&gt;<i> string being returned.
</I>&gt;&gt;<i> Node was the sample from their front page.
</I>&gt;&gt;<i> Play and Go I've never worked with before so those were copy pastes from
</I>&gt;&gt;<i> various examples on their pages but again same URI and return string as the
</I>&gt;&gt;<i> other frameworks.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> From one m1.small to another, Go, Play and node were handling about 1.5k
</I>&gt;&gt;<i> requests per second while Twisted and Cyclone were only handling 400-500
</I>&gt;&gt;<i> requests per second.
</I>&gt;&gt;<i> On loopback from the same m1.small I suspect I was starting to load test
</I>&gt;&gt;<i> the load testers more than the apps but locally all the frameworks were
</I>&gt;&gt;<i> performing similarly.
</I>&gt;&gt;<i> Load testing from another machine to my laptop I was seeing far better
</I>&gt;&gt;<i> performance from Twisted and Cyclone, both doing closer to 2k requests per
</I>&gt;&gt;<i> second. The other frameworks were only a little quicker but again, there's
</I>&gt;&gt;<i> a chance the machine running the load tests was the bottle neck.
</I>&gt;&gt;<i> These tests were very unscientifically done but I still wasn't expecting
</I>&gt;&gt;<i> to see such a big difference between specifically node and Twisted.  500
</I>&gt;&gt;<i> req/sec is plenty quick for 90% of what I do and of course I know there's
</I>&gt;&gt;<i> so much more to an application than returning hello world but I was
</I>&gt;&gt;<i> wondering if I was missing some trick to speed Twisted up to get close to
</I>&gt;&gt;<i> the others on EC2.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Twisted-Python mailing list
</I>&gt;&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hi
</I>&gt;<i>
</I>&gt;<i>    I suggest trying pypy. python actually is quite slow with lots of
</I>&gt;<i> function calls. I did have a benchmark for cyclone &amp; pypy. it is almost 3
</I>&gt;<i> times faster. twisted can work with pypy well so you definitely should give
</I>&gt;<i> it a try.
</I>&gt;<i>
</I>&gt;<i> Regards
</I>&gt;<i>
</I>&gt;<i> gelin yan
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20130421/f6246a21/attachment.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="059342.html">[Twisted-Python] Speed of twisted on Amazon EC2
</A></li>
	<LI>Next message (by thread): <A HREF="059343.html">[Twisted-Python] Speed of twisted on Amazon EC2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59344">[ date ]</a>
              <a href="thread.html#59344">[ thread ]</a>
              <a href="subject.html#59344">[ subject ]</a>
              <a href="author.html#59344">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
