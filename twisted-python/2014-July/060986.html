<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] FTP box disconnecting after 60 seconds
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20FTP%20box%20disconnecting%20after%2060%20seconds&In-Reply-To=%3CCACgdh2gCxyE_B_r3m4CJbir-V90_sTExtn_KBT1zP26wUE9Hsg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="060980.html">
   <LINK REL="Next"  HREF="028520.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] FTP box disconnecting after 60 seconds</H1>
    <B>Paul Wiseman</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20FTP%20box%20disconnecting%20after%2060%20seconds&In-Reply-To=%3CCACgdh2gCxyE_B_r3m4CJbir-V90_sTExtn_KBT1zP26wUE9Hsg%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] FTP box disconnecting after 60 seconds">poalman at gmail.com
       </A><BR>
    <I>Thu Jul 10 04:16:31 MDT 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="060980.html">[Twisted-Python] FTP box disconnecting after 60 seconds
</A></li>
        <LI>Next message (by thread): <A HREF="028520.html">[Twisted-Python] standard practices, was (bringing LDAP back)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60986">[ date ]</a>
              <a href="thread.html#60986">[ thread ]</a>
              <a href="subject.html#60986">[ subject ]</a>
              <a href="author.html#60986">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 9 July 2014 02:34, Werner Thie &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">werner at thieprojects.ch</A>&gt; wrote:
&gt;<i> On 7/8/14 6:30 AM, Paul Wiseman wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This is a google compute instance, so there is there firewall on
</I>&gt;&gt;<i> there. I did at first think it could be a hidden firewall rule google
</I>&gt;&gt;<i> have.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I think I can rule anything like that out though. I tried to recreate
</I>&gt;&gt;<i> the problem on another box, and got to the point where i'd set up the
</I>&gt;&gt;<i> entire working environment without the issue (same firewall etc.). A
</I>&gt;&gt;<i> bit puzzled and thinking I'd somehow fixed the issue, I swapped the
</I>&gt;&gt;<i> new box for the live one and once I'd done that I then started to see
</I>&gt;&gt;<i> the exact same problem on the new box. (And the problem had gone away
</I>&gt;&gt;<i> on the ex-live box). So the only thing I can think of is it is somehow
</I>&gt;&gt;<i> being triggered by the traffic.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> What's the number of connections when this is occuring?
</I>&gt;<i>
</I>&gt;<i> Werner
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>
Thank you for the suggestions on this.

I did locate the issue in the end - it was unrelated to twisted so
sorry about the post!

Just incase it could help anyone in the future, the issue was the live
traffic did have an extra step of going though a load balancer, which
had an idle connection timeout of 60 seconds on it. I was kind of
surprised that this closed the data connection as the PASV connection
is established directly between the server and client, but I guess
when the load balancer kills the initial connection it also stops the
data connection some how too.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="060980.html">[Twisted-Python] FTP box disconnecting after 60 seconds
</A></li>
	<LI>Next message (by thread): <A HREF="028520.html">[Twisted-Python] standard practices, was (bringing LDAP back)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60986">[ date ]</a>
              <a href="thread.html#60986">[ thread ]</a>
              <a href="subject.html#60986">[ subject ]</a>
              <a href="author.html#60986">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
