<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Passing messages from HTTP Request to another	factory or protocol
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Passing%20messages%20from%20HTTP%20Request%20to%20another%0A%09factory%20or%20protocol&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021035.html">
   <LINK REL="Next"  HREF="021037.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Passing messages from HTTP Request to another	factory or protocol</H1>
    <B>Don Schoeman</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Passing%20messages%20from%20HTTP%20Request%20to%20another%0A%09factory%20or%20protocol&In-Reply-To="
       TITLE="[Twisted-Python] Passing messages from HTTP Request to another	factory or protocol">don at delphexonline.com
       </A><BR>
    <I>Wed Nov 18 15:01:46 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="021035.html">[Twisted-Python] Farming off work to other web services
</A></li>
        <LI>Next message: <A HREF="021037.html">[Twisted-Python] Passing messages from HTTP Request to another factory or protocol
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21036">[ date ]</a>
              <a href="thread.html#21036">[ thread ]</a>
              <a href="subject.html#21036">[ subject ]</a>
              <a href="author.html#21036">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi guys,

I am busy developing a gateway of some sort and have the following
running so far on the reactor:
- HTTP Server listening for incoming connections and HTTP requests.
- LineReceiver client permanently connected to another server.
(Connection is established at startup)

What I need to do is to first translate and then pass messages received
at the HTTP listening end - over to the LineReceiver client. The client
in turn will pass it on to a server using a custom protocol called SSMI,
for example:

Web Browser Requests -&gt; HTTPServer -&gt; SSMIClient -&gt; ServerXYZ

For the HTTPServer I'm using the classic design where you inherit from
twisted.web.http.Request for the Protocol, while having
twisted.web.http.HTTPChannel and twisted.web.http.HTTPFactory inherited
classes to support it.

Also, there will only ever be one SSMIClient protocol instance whereas
the HTTPServer needs to process multiple requests at a time, so it will
be a many-to-one design.

What I need to know is how to pass the &quot;packets&quot; received by the
HTTPServer onto the SSMIClient protocol..? I am assuming one would use
deferreds, but the twisted.web.http.Request derived class seemingly does
not have &quot;access&quot; to the Reactor or it's Factory object. But to be
honest, I'm a little in over my head on this and don't even know how to
approach this. I don't know whether I should use a FIFO queue to store
the messages and I don't even know where to keep such a queue. If anyone
have done something even remotely like this I'd love to get some input
from you. It will be greatly appreciated!

Kind Regards,
Don Schoeman

</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021035.html">[Twisted-Python] Farming off work to other web services
</A></li>
	<LI>Next message: <A HREF="021037.html">[Twisted-Python] Passing messages from HTTP Request to another factory or protocol
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21036">[ date ]</a>
              <a href="thread.html#21036">[ thread ]</a>
              <a href="subject.html#21036">[ subject ]</a>
              <a href="author.html#21036">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
