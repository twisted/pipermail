<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Using a custom reactor in twisted trial for test	cases?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Using%20a%20custom%20reactor%20in%20twisted%20trial%20for%0A%20test%09cases%3F&In-Reply-To=20091030140621.12668.2112281336.divmod.xquotient.76%40localhost.localdomain">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020824.html">
   <LINK REL="Next"  HREF="020827.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Using a custom reactor in twisted trial for test	cases?</H1>
    <B>Crispin Wellington</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Using%20a%20custom%20reactor%20in%20twisted%20trial%20for%0A%20test%09cases%3F&In-Reply-To=20091030140621.12668.2112281336.divmod.xquotient.76%40localhost.localdomain"
       TITLE="[Twisted-Python] Using a custom reactor in twisted trial for test	cases?">cwellington at ccg.murdoch.edu.au
       </A><BR>
    <I>Sun Nov  1 23:17:41 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="020824.html">[Twisted-Python] Retrying function calls
</A></li>
        <LI>Next message: <A HREF="020827.html">[Twisted-Python] Using a custom reactor in twisted trial for	test cases?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20825">[ date ]</a>
              <a href="thread.html#20825">[ thread ]</a>
              <a href="subject.html#20825">[ subject ]</a>
              <a href="author.html#20825">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, 2009-10-30 at 14:06 +0000, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at twistedmatrix.com</A> wrote:
&gt;<i> It looks like your custom reactor is mainly in charge of making sure 
</I>&gt;<i> stackless.schedule() gets called at least once every 0.1 seconds.  Is 
</I>&gt;<i> that right?  If so, a much better approach would be to use 
</I>&gt;<i> twisted.internet.task.LoopingCall rather than implementing a custom 
</I>&gt;<i> reactor.
</I>&gt;<i> 
</I>&gt;<i> Is there something undesirable about that (much simpler, less fragile) 
</I>&gt;<i> approach?
</I>
I tried using LoopingCall, but it does not work. It only calls the
scheduler once. I think this has to do with the fact that the stackless
scheduler needs to be interwoven with the twisted reactor pump. There is
more info about why it has to be done like this here:
<A HREF="http://code.google.com/p/stacklessexamples/wiki/StacklessTwisted">http://code.google.com/p/stacklessexamples/wiki/StacklessTwisted</A>

&gt;<i> As for your actual question, if you want a new reactor to be as usable 
</I>&gt;<i> as one of the existing ones, you need to write a plugin declaring its 
</I>&gt;<i> available.  Take a look at twisted/plugins/twisted_reactors.py for some 
</I>&gt;<i> examples.
</I>
I shall have a look at that approach. Thanks.

Crispin


</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020824.html">[Twisted-Python] Retrying function calls
</A></li>
	<LI>Next message: <A HREF="020827.html">[Twisted-Python] Using a custom reactor in twisted trial for	test cases?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20825">[ date ]</a>
              <a href="thread.html#20825">[ thread ]</a>
              <a href="subject.html#20825">[ subject ]</a>
              <a href="author.html#20825">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
