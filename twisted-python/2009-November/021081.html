<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] is there way to baypass value limit of 64kb in	twisted.protocols.amp
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20is%20there%20way%20to%20baypass%20value%20limit%20of%2064kb%20in%0A%09twisted.protocols.amp&In-Reply-To=44752311-036A-4D43-B56C-0494753D86BF%40chown.lv">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021080.html">
   <LINK REL="Next"  HREF="021082.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] is there way to baypass value limit of 64kb in	twisted.protocols.amp</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20is%20there%20way%20to%20baypass%20value%20limit%20of%2064kb%20in%0A%09twisted.protocols.amp&In-Reply-To=44752311-036A-4D43-B56C-0494753D86BF%40chown.lv"
       TITLE="[Twisted-Python] is there way to baypass value limit of 64kb in	twisted.protocols.amp">glyph at twistedmatrix.com
       </A><BR>
    <I>Mon Nov 30 14:23:48 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="021080.html">[Twisted-Python] is there way to baypass value limit of 64kb in	twisted.protocols.amp
</A></li>
        <LI>Next message: <A HREF="021082.html">[Twisted-Python] Lore to Sphinx Conversion Progress Report
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21081">[ date ]</a>
              <a href="thread.html#21081">[ thread ]</a>
              <a href="subject.html#21081">[ subject ]</a>
              <a href="author.html#21081">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Nov 30, 2009, at 2:10 PM, M&#257;risR wrote:

&gt;<i> I'm currently trying to figure out, how to bypass amp value limit of 64kb. First tought was to split string into chunks &lt;64kb, then join before processing. Problem is, how to dinamicaly generate amp.Command argument list. Maybe there is other well known method how to achieve this?
</I>

You can define your own Argument which reads multiple values, rather than dynamically generating the arguments list.  This is what you want anyway, because your application code wants to receive one value; the fact that you are splitting/joining at the protocol level should not be important.

There's an example of this implemented here:

<A HREF="http://bazaar.launchpad.net/%7Eglyph/%2Bjunk/amphacks/annotate/head%3A/python/amphacks/mediumbox.py">http://bazaar.launchpad.net/%7Eglyph/%2Bjunk/amphacks/annotate/head%3A/python/amphacks/mediumbox.py</A>

The reason that this isn't currently included in the core AMP implementation is that if you need to transfer values larger than this limit, perhaps you should be doing the transfer in some other way. Streaming the result?  Doing the transfer out-of-band as (for example) an HTTP request?

I think this might be an unhelpful way to ask people to consider this problem, so we may end up packaging something similar in Twisted eventually.  One way to do this might be by doing this: &lt;<A HREF="http://twistedmatrix.com/trac/ticket/2529">http://twistedmatrix.com/trac/ticket/2529</A>&gt;, another might be bundling the contents of mediumbox.py (or something like it) into amp.py.


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021080.html">[Twisted-Python] is there way to baypass value limit of 64kb in	twisted.protocols.amp
</A></li>
	<LI>Next message: <A HREF="021082.html">[Twisted-Python] Lore to Sphinx Conversion Progress Report
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21081">[ date ]</a>
              <a href="thread.html#21081">[ thread ]</a>
              <a href="subject.html#21081">[ subject ]</a>
              <a href="author.html#21081">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
