<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Deferred SOAP methods
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Deferred%20SOAP%20methods&In-Reply-To=20091113204647.27565.2135646134.divmod.xquotient.13%40localhost.localdomain">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020980.html">
   <LINK REL="Next"  HREF="020983.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Deferred SOAP methods</H1>
    <B>Landreville</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Deferred%20SOAP%20methods&In-Reply-To=20091113204647.27565.2135646134.divmod.xquotient.13%40localhost.localdomain"
       TITLE="[Twisted-Python] Deferred SOAP methods">landreville at deadtreepages.com
       </A><BR>
    <I>Fri Nov 13 16:03:55 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="020980.html">[Twisted-Python] Deferred SOAP methods
</A></li>
        <LI>Next message: <A HREF="020983.html">[Twisted-Python] Deferred SOAP methods
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20982">[ date ]</a>
              <a href="thread.html#20982">[ thread ]</a>
              <a href="subject.html#20982">[ subject ]</a>
              <a href="author.html#20982">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Nov 13, 2009 at 3:46 PM, &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at twistedmatrix.com</A>&gt; wrote:

&gt;<i> On 03:42 pm, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">landreville at deadtreepages.com</A> wrote:
</I>&gt;<i> &gt;On Fri, Nov 13, 2009 at 10:25 AM, &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at twistedmatrix.com</A>&gt; wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;[snip]
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;What is it that you're going to be doing in these SOAP methods?
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;Jean-Paul
</I>&gt;<i> &gt;They are doing a bunch of setting and retrieving information from
</I>&gt;<i> &gt;databases.
</I>&gt;<i> &gt;There are a couple that load more modules which add more SOAP methods
</I>&gt;<i> &gt;for
</I>&gt;<i> &gt;interacting with a different database.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;None of the calls depend on eachother, so I don't want/need any of them
</I>&gt;<i> &gt;to
</I>&gt;<i> &gt;block the application from processing the next soap call. Is there
</I>&gt;<i> &gt;other
</I>&gt;<i> &gt;ways of generating deferreds without threads that I haven't seen?
</I>&gt;<i>
</I>&gt;<i> There are lots of ways.  Deferreds are just an approach to organizing
</I>&gt;<i> callbacks.  If you're actually asking if there's a way to call blocking
</I>&gt;<i> functions without blocking - no, threads are more or less it (there's
</I>&gt;<i> processes too, but that's sort of the same thing).
</I>&gt;<i>
</I>&gt;<i> Database access is definitely an area where you often have to deal with
</I>&gt;<i> blocking APIs.  If that's why your methods block, then threads might be
</I>&gt;<i> the right solution.  You might want to take a look at
</I>&gt;<i> twisted.enterprise.adbapi, a thread-based wrapper for DB-API 2.0
</I>&gt;<i> modules.
</I>&gt;<i>
</I>&gt;<i> If you're blocking waiting for the network or other events, though, then
</I>&gt;<i> you can probably find a Twisted API to deal with that without using
</I>&gt;<i> threads.
</I>&gt;<i>
</I>&gt;<i> Jean-Paul
</I>&gt;<i>
</I>&gt;<i>
</I>Most of the time it is datbase access. I guess I shouldn't have chosen
probiscus using the greentrunk api instead of the dbapi. I haven't been
pleased by the postgres drivers in python, so I'm wary to change the db api
and use adbapi around it.

Sometimes the calls are blocking because it is calling another SOAP server
(or possibly itself over SOAP). My SOAP calls will all be blocking because
twisted.web.soap doesn't support WSDL.
Other than db access and accessing soap calls the rest is just formatting
the results.

I'm thinking maybe I could make an attribute of my soap method called
&quot;deferred = True|False&quot; and then if it's True render will wrap the call to
the soap method in a deferred thread, otherwise I will defer blocking
statements inside the SOAP method.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20091113/a2bcd398/attachment-0001.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20091113/a2bcd398/attachment-0001.htm</A> 
</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020980.html">[Twisted-Python] Deferred SOAP methods
</A></li>
	<LI>Next message: <A HREF="020983.html">[Twisted-Python] Deferred SOAP methods
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20982">[ date ]</a>
              <a href="thread.html#20982">[ thread ]</a>
              <a href="subject.html#20982">[ subject ]</a>
              <a href="author.html#20982">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
