<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Twisted webserver performance issues	(was	volunteer...)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Twisted%20webserver%20performance%20issues%0A%09%28was%09volunteer...%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020889.html">
   <LINK REL="Next"  HREF="020891.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Twisted webserver performance issues	(was	volunteer...)</H1>
    <B>exarkun at twistedmatrix.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Twisted%20webserver%20performance%20issues%0A%09%28was%09volunteer...%29&In-Reply-To="
       TITLE="[Twisted-Python] Twisted webserver performance issues	(was	volunteer...)">exarkun at twistedmatrix.com
       </A><BR>
    <I>Sat Nov  7 18:05:51 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="020889.html">[Twisted-Python] Twisted webserver performance issues (was	volunteer...)
</A></li>
        <LI>Next message: <A HREF="020891.html">[Twisted-Python] Twisted webserver performance issues	(was	volunteer...)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20890">[ date ]</a>
              <a href="thread.html#20890">[ thread ]</a>
              <a href="subject.html#20890">[ subject ]</a>
              <a href="author.html#20890">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10:41 pm, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">leyssw at ihug.co.nz</A> wrote:
&gt;<i>
</I>&gt;<i>Isn't the simplest option to place a decent reverse proxy between the 
</I>&gt;<i>webserver and our clients?
</I>
Possibly so!  I gave this a half-hearted attempted a few weeks ago but 
quickly gave up.  If someone who is familiar with configuring such a 
proxy would like to help out, perhaps we can get something useful up and 
running.
&gt;<i>
</I>&gt;<i>For example, varnish will cache and proxy simple GETs, so simple views 
</I>&gt;<i>of the front page and docs (which I imagine is a large chunk of the 
</I>&gt;<i>traffic) will be offloaded from the webserver:
</I>&gt;<i><A HREF="http://varnish.projects.linpro.no/wiki/VarnishFeatures">http://varnish.projects.linpro.no/wiki/VarnishFeatures</A>
</I>&gt;<i>
</I>&gt;<i>Also, is the current installation (Db, apache + trac) all on one 
</I>&gt;<i>machine or are the DB and the webserver split already?
</I>
They're all on one machine.  Changing this is an expensive proposition 
with a hard to predict payoff, so it's rather low on the list of ideas 
to try.
&gt;<i>These would be easy ways to throw more hardware at the problem.
</I>&gt;<i>
</I>&gt;<i>What is the current web-server configuration?
</I>
Can you be more specific about which configuration you're interested in?
&gt;<i>Can you share traffic stats for the top 20 pages, so we get an idea of 
</I>&gt;<i>where the load is?
</I>
Yep.  Here are counts for the last few days.  Rank, request count, URL.

1)      22058   /trac/
2)      8742 
/trac/attachment/wiki/TSF/SponsorLogos/seomoves.png?format=raw
3)      8646 
/trac/attachment/wiki/TSF/SponsorLogos/zenoss.2.png?format=raw
4)      8550    /trac/attachment/wiki/TSF/SponsorLogos/Appropriate- 
Solutions-Inc.gif?format=raw
5)      8499 
/trac/attachment/wiki/TSF/SponsorLogos/securitymetrics.png?format=raw
6)      3075    /trac/wiki/Documentation
7)      2615 /trac/timeline?changeset=on&amp;max=100&amp;daysback=10&amp;format=rss
8)      2448    /trac/wiki/Downloads
9)      1788    /trac/wiki/FrequentlyAskedQuestions
10)     1356    /trac/wiki
11)     1019    /trac/wiki/TwistedProject
12)     966     /trac/wiki/TracGuide
13)     828     /trac/wiki/TwistedWeb
14)     814     /trac/robots.txt
15)     781     /trac/search
16)     710     /trac/wiki/TwistedProjects
17)     662     /trac/wiki/WikiStart?format=txt
18)     605     /trac/wiki/TwistedAdvantage
19)     595     /trac/report/9
20)     590 
/trac/timeline?milestone=on&amp;ticket=on&amp;changeset=on&amp;wiki=on&amp;max=50&amp;daysback=90&amp;format=rss

Looking at this, I'm reminded that we should try moving the sponsor 
logos to somewhere else

Unfortunately one thing we don't know is the relative cost of serving 
each of these URLs.  The sponsor logos, while accounting for a 
significant number requests, may actually be a very small contribution 
to overall load.

Anyhow, thanks!

Jean-Paul

</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020889.html">[Twisted-Python] Twisted webserver performance issues (was	volunteer...)
</A></li>
	<LI>Next message: <A HREF="020891.html">[Twisted-Python] Twisted webserver performance issues	(was	volunteer...)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20890">[ date ]</a>
              <a href="thread.html#20890">[ thread ]</a>
              <a href="subject.html#20890">[ subject ]</a>
              <a href="author.html#20890">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
