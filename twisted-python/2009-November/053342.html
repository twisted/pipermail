<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] The case of the missing Traceback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20The%20case%20of%20the%20missing%20Traceback&In-Reply-To=%3C19184.36440.926165.16119%40jon.es%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="053341.html">
   <LINK REL="Next"  HREF="053343.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] The case of the missing Traceback</H1>
    <B>Terry Jones</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20The%20case%20of%20the%20missing%20Traceback&In-Reply-To=%3C19184.36440.926165.16119%40jon.es%3E"
       TITLE="[Twisted-Python] The case of the missing Traceback">terry at jon.es
       </A><BR>
    <I>Tue Nov  3 13:11:04 MST 2009</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="053341.html">[Twisted-Python] The case of the missing Traceback
</A></li>
        <LI>Next message (by thread): <A HREF="053343.html">[Twisted-Python] The case of the missing Traceback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53342">[ date ]</a>
              <a href="thread.html#53342">[ thread ]</a>
              <a href="subject.html#53342">[ subject ]</a>
              <a href="author.html#53342">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;&gt;&gt;&gt;&gt;<i> &quot;Dan&quot; == Dan  &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">tw.1 at pyxos.com</A>&gt; writes:
</I>Dan&gt; I was playing around with Twisted today and ran into a problem where
Dan&gt; Tracebacks aren't emitted on stderr after a deferred callback from a
Dan&gt; process called launched by reactor.spawnProcess.  The simplified test
Dan&gt; case is below.  I put &quot;x = y&quot; in the callback function to generate an
Dan&gt; exception, y doesn't exist.  Uncomment &quot;x = z&quot; right before the
Dan&gt; callback and it produces the traceback on stderr just fine.

Hi Dan

The callback function raises an exception, which Twisted converts to
failure and stores in the deferred. But seeing as there are no errback
functions in the deferred *and you leave the reactor running*, the failure
just sits there (just as it should). If you do a 'from twisted.python
import log' and Change the addCallback line in test() to look like this

     d.addCallback(response).addErrback(log.err)

You'll see the expected NameError just fine.

Terry


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="053341.html">[Twisted-Python] The case of the missing Traceback
</A></li>
	<LI>Next message (by thread): <A HREF="053343.html">[Twisted-Python] The case of the missing Traceback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53342">[ date ]</a>
              <a href="thread.html#53342">[ thread ]</a>
              <a href="subject.html#53342">[ subject ]</a>
              <a href="author.html#53342">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
