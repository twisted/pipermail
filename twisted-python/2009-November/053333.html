<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Connect to an IRC server, modules.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Connect%20to%20an%20IRC%20server%2C%20modules.&In-Reply-To=%3C9BC87E69-133E-432C-B20A-888A5AA1FAF1%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="053337.html">
   <LINK REL="Next"  HREF="053347.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Connect to an IRC server, modules.</H1>
    <B>Alberto Piu</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Connect%20to%20an%20IRC%20server%2C%20modules.&In-Reply-To=%3C9BC87E69-133E-432C-B20A-888A5AA1FAF1%40gmail.com%3E"
       TITLE="[Twisted-Python] Connect to an IRC server, modules.">piu.alberto at gmail.com
       </A><BR>
    <I>Mon Nov  2 07:24:56 MST 2009</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="053337.html">[Twisted-Python] Using a custom reactor in twisted trial for	test cases?
</A></li>
        <LI>Next message (by thread): <A HREF="053347.html">[Twisted-Python] Connect to an IRC server, modules.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53333">[ date ]</a>
              <a href="thread.html#53333">[ thread ]</a>
              <a href="subject.html#53333">[ subject ]</a>
              <a href="author.html#53333">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Greetings,

first of all, I apologize for bad english. I am new with Twisted, and  
although it seems very powerful, I'm having some problems in using it.
I'm trying to create an IRC bot, which basically does nothing. My idea  
is to write a skeleton that's improved by modules, which do different  
things in an IRC channel.
When some events happen some modules become active, so that they can  
send messages, or notices, or private messages, and all what an IRC  
bot can do; so, every module has to have complete access to the  
methods of the bot class, but in the same time I need to keep the two  
things separated, to improve modularity.

I used an example, called LogBot example. I have a .py file (I'll call  
it &quot;mainfile), in which the LogBot class is located, where the reactor  
is set up etc, then I have a dir called modules, where modules are.

- mainfile.py
- modules
	- modulea
		- modulea.py
	- moduleb
		- moduleb.py

(I omitted __init__.py files).

Now the question is: how I can make accessible all the methods of the  
LogBot class from EVERY .py inside the modules directory? I tried to  
do the following:
In the mainfile, inside the LogBot class, I have

def joined(self, channel):
         &quot;&quot;&quot;This will get called when the bot joins the channel.&quot;&quot;&quot;
         self.logger.log(&quot;[I have joined %s]&quot; % channel)

This method is called when the bot joins the channel &quot;channel&quot;.
Know, if I want to use modulea to greet user &quot;x&quot; when I enter the  
channel, I would write:

def joined(self, channel):
         &quot;&quot;&quot;This will get called when the bot joins the channel.&quot;&quot;&quot;
         self.logger.log(&quot;[I have joined %s]&quot; % channel)
	modulea.greet(&quot;x&quot;, &quot;Hi, user x&quot;)

where greet is a function inside the module modulea (imported  
somewhere in my mainfile).
Anyway, modulea is defined as following:

def greet(who, message):
	## But here, how can the function know the method to use?

The solution can be...

##In mainfile.py
def joined(self, channel):
         &quot;&quot;&quot;This will get called when the bot joins the channel.&quot;&quot;&quot;
         self.logger.log(&quot;[I have joined %s]&quot; % channel)
	modulea.greet(self, &quot;x&quot;, &quot;Hi, user x&quot;)

##In module a:
def greet(bot, who, message):
	bot.msg(who, message)

But this does not work.
I tried to explain as better as I could. If you can, please use  
examples and speak easy (can't understand very well).
Hope you can help me!

Thank you, in advance.
--Alberto Piu


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="053337.html">[Twisted-Python] Using a custom reactor in twisted trial for	test cases?
</A></li>
	<LI>Next message (by thread): <A HREF="053347.html">[Twisted-Python] Connect to an IRC server, modules.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53333">[ date ]</a>
              <a href="thread.html#53333">[ thread ]</a>
              <a href="subject.html#53333">[ subject ]</a>
              <a href="author.html#53333">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
