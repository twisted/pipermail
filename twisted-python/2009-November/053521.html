<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] tee method in twisted.internet.defer.py ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20tee%20method%20in%20twisted.internet.defer.py%20%3F&In-Reply-To=%3C19202.53005.747275.833925%40jon.es%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="053519.html">
   <LINK REL="Next"  HREF="053525.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] tee method in twisted.internet.defer.py ?</H1>
    <B>Terry Jones</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20tee%20method%20in%20twisted.internet.defer.py%20%3F&In-Reply-To=%3C19202.53005.747275.833925%40jon.es%3E"
       TITLE="[Twisted-Python] tee method in twisted.internet.defer.py ?">terry at jon.es
       </A><BR>
    <I>Tue Nov 17 09:27:57 MST 2009</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="053519.html">[Twisted-Python] tee method in twisted.internet.defer.py ?
</A></li>
        <LI>Next message (by thread): <A HREF="053525.html">[Twisted-Python] tee method in twisted.internet.defer.py ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53521">[ date ]</a>
              <a href="thread.html#53521">[ thread ]</a>
              <a href="subject.html#53521">[ subject ]</a>
              <a href="author.html#53521">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;&gt;&gt;&gt;&gt;<i> &quot;JP&quot; == exarkun  &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at twistedmatrix.com</A>&gt; writes:
</I>JP&gt; We implemented this 5 or 6 times at Divmod.

I'm not surprised. Given that I'd have thought it would've made it into
defer.py at some point.

JP&gt; The most recent incarnation looks like this:
JP&gt; <A HREF="http://divmod.org/trac/browser/trunk/Epsilon/epsilon/pending.py">http://divmod.org/trac/browser/trunk/Epsilon/epsilon/pending.py</A>

Thanks.

That's more of a radial / hub pattern. I'm dealing with the case of already
having a deferred around and wanting to tee off it without interfering with
its callback/errback chain. E.g., I have a class that's already passed a
deferred back to its caller, and I later need to arrange to do some more
stuff when the deferred fires. The caller of my class may in the meantime
have added callbacks to the deferred, I tee off it with no effect on my
original caller. That's just one example use.  I'm sure you'll have
implemented something for similar situations, too.

JP&gt; Not to say it's a bad idea, but I don't think it's _obviously_ a great
JP&gt; idea.  If someone wanted to contribute a documented, tested
JP&gt; implementation, particularly with examples of common patterns that it
JP&gt; simplifies, then you could probably convince someone to commit it.

I don't need it committed, I was just wondering why something like that
doesn't already exist. Re patterns: it would be great to have a series of
diagrams illustrating situations one might want to deal with and showing
how these can be done with Deferred code. Your Epsilon class could be shown
as a hub with new listeners arriving, ready for the triggering of the
callback. The tee diagram would show a T (or multiple Ts on the same
callback chain) in the obvious way. add{Callback,Errback} is like a normal
UNIX pipe and, stretching things a little, chainDeferred reminds me a bit
of UNIX exec (though with real differences).

There's a PyCon talk in there somewhere. Like Patterns of Asynchronous Flow
of Control using Twisted Deferreds. It often feels to me like there's a
lurking taxonomy of Deferred use cases or building blocks that's just
waiting for someone to come along and make really clear to the world. I'd
really love to do it, but I just don't have the time.

Terry


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="053519.html">[Twisted-Python] tee method in twisted.internet.defer.py ?
</A></li>
	<LI>Next message (by thread): <A HREF="053525.html">[Twisted-Python] tee method in twisted.internet.defer.py ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#53521">[ date ]</a>
              <a href="thread.html#53521">[ thread ]</a>
              <a href="subject.html#53521">[ subject ]</a>
              <a href="author.html#53521">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
