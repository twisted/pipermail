<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Welcome (and some questions)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Welcome%20%28and%20some%20questions%29&In-Reply-To=4323601F.7020204%40softax.com.pl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011390.html">
   <LINK REL="Next"  HREF="011392.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Welcome (and some questions)</H1>
    <B>Jp Calderone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Welcome%20%28and%20some%20questions%29&In-Reply-To=4323601F.7020204%40softax.com.pl"
       TITLE="[Twisted-Python] Welcome (and some questions)">exarkun at divmod.com
       </A><BR>
    <I>Sat Sep 10 19:31:36 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="011390.html">[Twisted-Python] Welcome (and some questions)
</A></li>
        <LI>Next message: <A HREF="011392.html">[Twisted-Python] Welcome (and some questions)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11391">[ date ]</a>
              <a href="thread.html#11391">[ thread ]</a>
              <a href="subject.html#11391">[ subject ]</a>
              <a href="author.html#11391">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, 11 Sep 2005 00:37:19 +0200, Marcin Kasperski &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">marcin.kasperski at softax.com.pl</A>&gt; wrote:
&gt;<i>As it is my first post to the list, I would like to make thanks to all the 
</I>&gt;<i>people who created twisted. Great framework with many useful features. Thank 
</I>&gt;<i>you very much.
</I>&gt;<i>
</I>
Hello, and welcome to the list :)

&gt;<i>I have also some questions, thanks in advance for any hints.
</I>&gt;<i>
</I>&gt;<i>1) Which logging method is recommended for twisted applications? Python 
</I>&gt;<i>logging package? Some method present in twisted itself? Something else?
</I>
Twisted includes the basic pieces needed to construct a logging system.  The common thing to do in a Twisted application is just to call twisted.python.log.msg() and twisted.python.log.err().  These aren't covered much in the documentation, but their usage is pretty straightforward: msg() takes a string and gives all the &quot;log observers&quot; a chance to do something with it; similarly, err() takes a Failure (or nothing, in the suite of an &quot;except:&quot; - it will construct a Failure based on the exception being handled) and does the same thing.

If you use `twistd', there is a log observer which records these events to a file on disk named &quot;twistd.log&quot; and does some rudamentary log rotation.  You can write your own log observer as well, and install it using twisted.python.log.addObserver().  Most applications don't need this, at least not right off the bat.

If you aren't using `twistd', you can start the logging system off with twisted.python.log.startLogging().  It takes a file-like object and records messages to it.

&gt;<i>
</I>&gt;<i>2) What database access method is recommended? If I understand correctly it 
</I>&gt;<i>would be good idea to execute database access code in many short steps, 
</I>&gt;<i>deferring from time to time. Which database API support this way best, are 
</I>&gt;<i>there any code examples available?
</I>
For access to relational databases with an SQL interface, Twisted provides ADB-API: this is a wrapper around any DB-API module which presents a uniform, asynchronous interface (of course, since DB-API modules are blocking, this is achieved via use of a thread pool to issue database requests).  You'll find this at twisted.enterprise.adbapi, and documentation at &lt;<A HREF="http://twistedmatrix.com/projects/core/documentation/howto/enterprise.html">http://twistedmatrix.com/projects/core/documentation/howto/enterprise.html</A>&gt; and &lt;<A HREF="http://twistedmatrix.com/documents/current/api/twisted.enterprise.adbapi.html">http://twistedmatrix.com/documents/current/api/twisted.enterprise.adbapi.html</A>&gt;.

There has also been some effort towards implementing threadless asynchronous database adapters, but so far none of it is part of Twisted.  You can find a new PostgreSQL adapter like this at &lt;<A HREF="http://www.jamwt.com/pgasync/">http://www.jamwt.com/pgasync/</A>&gt;.

&gt;<i>
</I>&gt;<i>3) So far I code using 'low level twisted' and run my application as 
</I>&gt;<i>standalone python script. I understand that it is recommended to migrate to 
</I>&gt;<i>'application/service' API and use twistd to run application. Unfortunately I 
</I>&gt;<i>find it difficult to fully understand documentation on this subject, 
</I>&gt;<i>probably partially because my  application is not TCP/IP server, but rather 
</I>&gt;<i>TCP/IP client (in fact it is some kind of bot using telnet connection to 
</I>&gt;<i>game server). Does it make sense to use application and service concept in 
</I>&gt;<i>such situation? If so, how could the code look like? Currently my 'main' 
</I>&gt;<i>code looks so:
</I>&gt;<i>
</I>&gt;<i>     reactor.connectTCP(HOST, PORT, MyFactory(...))
</I>&gt;<i>     reactor.run()
</I>&gt;<i>
</I>
`twistd' is the &quot;Twisted daemonizer&quot;.  If your application will run as a daemon, whether it is conceptually a server or a client, you'll probably want to use it.

The above example can be trivially transformed into Twisted Service-using code:

    from twisted.application import service, internet

    # The name `application' is special in this arrangement
    application = service.Application(&quot;Some Kind of Thingy&quot;)

    HOST = 'foo'
    PORT = 23

    # This name is not
    _client = internet.TCPClient(HOST, PORT, MyFactory(...))
    _client.setServiceParent(application)

Put this into a file named `something.tac' and run it with `twistd -noy something.tac'.  One possible drawback here is that you will not be able to pass values for HOST and PORT as command-line arguments, since .tac files are intended to *be* configuration, not to take configuration.  If these values are generally fixed, this may be fine.  Otherwise, you would probably benefit from the mythical twistd-refactoring, stories of the coming of which have been passed down for generations.  When it comes to pass, you'll be able to take advantage of twistd's functionality in ways other than by writing .tac files (or any of their kin).

&gt;<i>4) Is twisted documentation available anywhere in the form of MsHelp file (I 
</I>&gt;<i>saw a lot of Python documentation converted this way, it is nice as one can 
</I>&gt;<i>easily find information by text search)?
</I>
There are no MsHelp-format versions of the documentation that I know of.  We use a tool called `lore' to generate the rendered versions of the Twisted documentation.  Lore supports output plugins, so if someone were interested and motivated, an MsHelp plugin could probably be added, and then all of Twisted's documentation could be made available in that format.

&gt;<i>
</I>&gt;<i>5) Does there exist example of twisted application with wxpython GUI?
</I>
wxPython is a challenge to integrate with.  There have been several strategies attempted and discarded over the years.  The current popular idea involves a new reactor which lets a foreign event loop maintain more control over the program's execution.  There has been no Twisted release since this was added though, so if you want to try it out you'll need to get an SVN checkout of Twisted.  If you do, you'll find some examples in doc/core/examples/threadedselect/.  You can also browse these online at &lt;<A HREF="http://cvs.twistedmatrix.com/cvs/trunk/doc/core/examples/threadedselect/">http://cvs.twistedmatrix.com/cvs/trunk/doc/core/examples/threadedselect/</A>&gt;.

Most Twisted developers (that is, developers of Twisted) prefer Gtk, and Twisted has quite good PyGtk integration.

Hope this helps,

Jp


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011390.html">[Twisted-Python] Welcome (and some questions)
</A></li>
	<LI>Next message: <A HREF="011392.html">[Twisted-Python] Welcome (and some questions)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11391">[ date ]</a>
              <a href="thread.html#11391">[ thread ]</a>
              <a href="subject.html#11391">[ subject ]</a>
              <a href="author.html#11391">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
