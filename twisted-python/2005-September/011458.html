<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: GUI responsiveness
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20GUI%20responsiveness&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011457.html">
   <LINK REL="Next"  HREF="011462.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: GUI responsiveness</H1>
    <B>glyph at divmod.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20GUI%20responsiveness&In-Reply-To="
       TITLE="[Twisted-Python] Re: GUI responsiveness">glyph at divmod.com
       </A><BR>
    <I>Thu Sep 15 17:48:39 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="011457.html">[Twisted-Python] Re: GUI responsiveness
</A></li>
        <LI>Next message: <A HREF="011462.html">[Twisted-Python] Re: GUI responsiveness
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11458">[ date ]</a>
              <a href="thread.html#11458">[ thread ]</a>
              <a href="subject.html#11458">[ subject ]</a>
              <a href="author.html#11458">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Thu, 15 Sep 2005 10:51:11 -0700, Jasper &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">jasper at peak.org</A>&gt; wrote:
&gt;<i>Nicola Larosa wrote:
</I>&gt;&gt;&gt;<i>Worse, I don't see a satisfactory way to deal
</I>&gt;&gt;&gt;<i>with the problem if it stems from some internal bit of Twisted taking
</I>&gt;&gt;&gt;<i>too big of a time slice.
</I>
&gt;&gt;<i>Two noticeable cases of that are (de)serialization in PB and in XML-RPC 
</I>&gt;&gt;<i>code.
</I>
There is a thing that SEDA does to make these kinds of things more reasonable.  Deferreds are sort of a degenerate case of this thing.  They don't name the thing, but I would call it &quot;stage discipline&quot;, the act of splitting code up into what they call &quot;stages&quot; and making each stage idempotent except for the terminal, transaction-processing/notification-emitting stage.  I think it would be great if more of Twisted did this, but doing it is a big job.

Defgen is a slightly-less-degenerate form of this, however, using defgen on something performance critical like (de)serialization is likely to have a HUGE performance hit.

&gt;&gt;<i>Is there going to be any facility, in newpb, for splitting up
</I>&gt;&gt;<i>(de)serialization in small chunks?
</I>
As warner said, &quot;yes&quot;.

&gt;<i>Yes, PB (de)serialization seems to be where I get responsiveness burps too. 
</I>&gt;<i>I can split up large processing chunks of my own (probably along the line of 
</I>&gt;<i>JP's Cooperator), but I don't see how to readily do that to delays that are 
</I>&gt;<i>internal to Twisted, without maintaining my own version or shunting all 
</I>&gt;<i>networking into a seperate thread (which I'm loath to do).
</I>
&quot;shunting all networking into a separate thread&quot; will certainly not work, since all of the APIs that jelly calls are not thread-safe.  So you can rest easy in the knowledge that what you want to do is not only disgusting, it's impossible :).

However, the problem here is that certain code in Twisted is not as awesome as it possibly could be.  While I agree this is sad, there isn't really a solution, except &quot;make it more awesome&quot;, which takes time, money, and effort, which nobody is contributing beyond an individual scale.

PB has been effectively unmaintained for almost 2 years now.  It is showing its age.  NewPB will fix several issues, but until someone wants to give Mr. Warner a staff and a budget for improving it, it's likely that it will have some ugly spots too.

In other words, you don't have to maintain your own version.  You just have to maintain the one in Twisted ;-).


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011457.html">[Twisted-Python] Re: GUI responsiveness
</A></li>
	<LI>Next message: <A HREF="011462.html">[Twisted-Python] Re: GUI responsiveness
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11458">[ date ]</a>
              <a href="thread.html#11458">[ thread ]</a>
              <a href="subject.html#11458">[ subject ]</a>
              <a href="author.html#11458">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
