<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: Disabling PB (de)serialization
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20Disabling%20PB%20%28de%29serialization&In-Reply-To=dfd2bn%24mql%241%40sea.gmane.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011307.html">
   <LINK REL="Next"  HREF="011321.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: Disabling PB (de)serialization</H1>
    <B>Steve Freitas</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20Disabling%20PB%20%28de%29serialization&In-Reply-To=dfd2bn%24mql%241%40sea.gmane.org"
       TITLE="[Twisted-Python] Re: Disabling PB (de)serialization">sflist at ihonk.com
       </A><BR>
    <I>Sun Sep  4 01:20:29 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="011307.html">[Twisted-Python] Re: Disabling PB (de)serialization
</A></li>
        <LI>Next message: <A HREF="011321.html">[Twisted-Python] Re: Disabling PB (de)serialization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11309">[ date ]</a>
              <a href="thread.html#11309">[ thread ]</a>
              <a href="subject.html#11309">[ subject ]</a>
              <a href="author.html#11309">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, 2005-09-03 at 22:51 +0200, Nicola Larosa wrote:
&gt;<i> &gt;&gt; if you don't want to go as low level as to rewrite a custom serialization
</I>&gt;<i> &gt;&gt; protocol for pb, why don't you use two channels, like in good old ftp?
</I>&gt;<i> &gt;&gt; One for control, and the other for data?
</I>&gt;<i> 
</I>&gt;<i> &gt; That's what I did for my application -- I had a similar need, so I set
</I>&gt;<i> &gt; up another protocol to listen on another port, use the control channel
</I>&gt;<i> &gt; (PB) to coordinate the connections, generate random tokens to provide
</I>&gt;<i> &gt; some means of verifying that the connecting client is who I think it is,
</I>&gt;<i> &gt; and so on.
</I>&gt;<i> 
</I>&gt;<i> You had to serialize and deserialize data manually anyway. What did you
</I>&gt;<i> use? The array module? Pickle? Banana?
</I>
No, I didn't. (Background: In my application, I only want two clients to
be able to exchange raw data.) So I make a new ServerFactory (subclassed
from protocol.Factory) listen on the server's data port, then hand a
token (a random string) via PB over the control port to Client A. Client
A initiates a connection to the data port, using a ClientFactory which
subclasses protocol.Factory, and hands over the token. Then my server
tells Client B via PB to connect to the data port with another token,
and the process is repeated. When Client B comes in, the server hands
Client A's transport to Client B's protocol, and vice versa. Then they
can just spew raw data at each other to their hearts' content.

This approach should be easily extendable to shifting the same raw data
among multiple clients.

&gt;<i> Some methods should be asymmetric: some should serialize only, and others
</I>&gt;<i> deserialize only, if I'm not mistaken.
</I>
Sounds good, when can I test it? ;-)

Steve



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011307.html">[Twisted-Python] Re: Disabling PB (de)serialization
</A></li>
	<LI>Next message: <A HREF="011321.html">[Twisted-Python] Re: Disabling PB (de)serialization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11309">[ date ]</a>
              <a href="thread.html#11309">[ thread ]</a>
              <a href="subject.html#11309">[ subject ]</a>
              <a href="author.html#11309">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
