<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] threadedselectreactor and twistd
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20threadedselectreactor%20and%20twistd&In-Reply-To=%3C18C50163-E9F7-4493-BA1E-4AD00241B834%40redivi.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="043913.html">
   <LINK REL="Next"  HREF="043917.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] threadedselectreactor and twistd</H1>
    <B>Bob Ippolito</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20threadedselectreactor%20and%20twistd&In-Reply-To=%3C18C50163-E9F7-4493-BA1E-4AD00241B834%40redivi.com%3E"
       TITLE="[Twisted-Python] threadedselectreactor and twistd">bob at redivi.com
       </A><BR>
    <I>Mon Sep 12 12:42:39 MDT 2005</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="043913.html">[Twisted-Python] threadedselectreactor and twistd
</A></li>
        <LI>Next message (by thread): <A HREF="043917.html">[Twisted-Python] threadedselectreactor and twistd
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43914">[ date ]</a>
              <a href="thread.html#43914">[ thread ]</a>
              <a href="subject.html#43914">[ subject ]</a>
              <a href="author.html#43914">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The problem that it solves is inherent to the reactor API, and the  
implementations of those reactors.  twistd supports the reactor API  
as-is, so it's not going to support an alternative to that API.  But  
yes, twistd isn't really appropriate for the same kind of typical use  
cases that threadedselectreactor is.  You're better off writing your  
app as you would normally do it, and invoking part of the twistd  
machinery yourself from inside there.

What really needs to happen is that the reactor API needs to be  
refactored such that any reactor can be used as a threaded reactor.   
Right now the idea of the threaded*reactor and the select() backend  
are conflated.  They don't have to be, and shouldn't, but I really  
didn't have the need to come up with such an API and change  
everything, I only needed one good implementation.

-bob

On Sep 12, 2005, at 11:28 AM, Antony Kummel wrote:

&gt;<i> Not sure what you mean.
</I>&gt;<i>
</I>&gt;<i> If threadedselectreactor can't integrate with twistd,
</I>&gt;<i> then the problem that threadedselectreactor solves is
</I>&gt;<i> inherent to twistd, in which case twistd is simply
</I>&gt;<i> unsuitable for some uses (i.e. GUI)?
</I>&gt;<i>
</I>&gt;<i> --- Bob Ippolito &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">bob at redivi.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Sep 11, 2005, at 11:06 AM, Antony Kummel wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Just wondering how and if to integrate
</I>&gt;&gt;&gt;<i> threadedselectreactor into twistd. I'm thinking to
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i> use
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> it for a GUI application which is also a server
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i> (and a
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> client), so I think using mktap/twistd makes
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i> sense,
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> but there is the matter of threadedselectreactor
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i> not
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> being supported.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> What I've been thinking is for
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i> threadedselectreactor
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> to have another method, or it could be combined
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i> with
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> interleave, that accepts a callable that makes the
</I>&gt;&gt;&gt;<i> main loop run. It could also be a special reactor
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i> for,
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> say, wxPython, that accepts a wxApp (and
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i> interleaves
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> automatically), and calls its MainLoop method
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i> inside
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> reactor.run(). This would make it trivial to use
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i> with
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> twisted.application. It would simple require the
</I>&gt;&gt;&gt;<i> service to let the reactor know about its
</I>&gt;&gt;&gt;<i> wxApp/whatever.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Any thoughts?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I don't think that's really going to work without a
</I>&gt;&gt;<i> bunch of
</I>&gt;&gt;<i> refactoring of twistd and special-cases for each
</I>&gt;&gt;<i> environment -- which
</I>&gt;&gt;<i> is the problem that threadedselectreactor solves in
</I>&gt;&gt;<i> the first place.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -bob
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> __________________________________________________
</I>&gt;<i> Do You Yahoo!?
</I>&gt;<i> Tired of spam?  Yahoo! Mail has the best spam protection around
</I>&gt;<i> <A HREF="http://mail.yahoo.com">http://mail.yahoo.com</A>
</I>&gt;<i>
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="043913.html">[Twisted-Python] threadedselectreactor and twistd
</A></li>
	<LI>Next message (by thread): <A HREF="043917.html">[Twisted-Python] threadedselectreactor and twistd
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43914">[ date ]</a>
              <a href="thread.html#43914">[ thread ]</a>
              <a href="subject.html#43914">[ subject ]</a>
              <a href="author.html#43914">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
