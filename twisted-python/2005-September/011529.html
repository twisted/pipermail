<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] twisted.vfs issues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20twisted.vfs%20issues&In-Reply-To=433AF3B0.9040709%40thecablelounge.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011541.html">
   <LINK REL="Next"  HREF="011542.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] twisted.vfs issues</H1>
    <B>James Y Knight</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20twisted.vfs%20issues&In-Reply-To=433AF3B0.9040709%40thecablelounge.com"
       TITLE="[Twisted-Python] twisted.vfs issues">foom at fuhm.net
       </A><BR>
    <I>Wed Sep 28 20:39:34 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="011541.html">[Twisted-Python] twisted.vfs issues
</A></li>
        <LI>Next message: <A HREF="011542.html">[Twisted-Python] twisted.vfs issues - metadata
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11529">[ date ]</a>
              <a href="thread.html#11529">[ thread ]</a>
              <a href="subject.html#11529">[ subject ]</a>
              <a href="author.html#11529">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sep 28, 2005, at 3:49 PM, Andy Gayton wrote:
&gt;<i> There's getMetadata. That let's you return arbitrary attributes.
</I>&gt;<i>
</I>&gt;<i> Would that cover what you're thinking?
</I>
No -- one problem is that extended metadata can be potentially very  
large (just as large as the file's normal contents). Another is that  
there may be potentially a large number of such attributes. So, you  
really don't want to return all of it with one call -- you want to  
explicitly ask for certain attributes. See the getxattr, listxattr,  
etc functions for what it the low-level functionality looks like in  
linux. At the moment this interface varies slightly between OSX,  
FreeBSD, and Linux, but they're almost the same. The OSX one adds an  
offset parameter to get/set, and the freebsd one adds a &quot;namespace&quot;  
parameter, to distinguish between root-only attributes and user  
attributes.

I think it may be best to model it as a special kind of child, as it  
seems as if that's the way people are moving their thinking anyhow.
  IFileSystemNode.xattrContainer() -&gt; IFileSystemContainer

That returned object would then allow the use of the same createFile/ 
child/remove/rename/open/read operations as on normal children. It  
would have to throw errors if you try doing excessively &quot;interesting&quot;  
things, like trying to create directories in it, but I think that's  
probably okay.

On the other hand, some people think xattrs are only for small  
metadata, and that &quot;subfiles&quot; or &quot;named forks&quot; are an altogether  
different thing. I'm not sure if that means that it's necessarily a  
bad idea to present both as fileish objects though.

Some interface to this is necessary for properly functioning WebDAV  
(and smb if anyone ever wanted to implement that mess).

&gt;<i> Protocol's should try to get by with as little metadata as they  
</I>&gt;<i> can.  If a backend doesn't supply a bit of metadata a protocol must  
</I>&gt;<i> have, then it won't be able to be used with the protocol.
</I>
Support for xattrs can also be optional in a backend.

Eventually, support for POSIX ACLs should also be considered. I don't  
really have the first clue how that should be modeled though.

James


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011541.html">[Twisted-Python] twisted.vfs issues
</A></li>
	<LI>Next message: <A HREF="011542.html">[Twisted-Python] twisted.vfs issues - metadata
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11529">[ date ]</a>
              <a href="thread.html#11529">[ thread ]</a>
              <a href="subject.html#11529">[ subject ]</a>
              <a href="author.html#11529">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
