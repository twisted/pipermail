<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] twisted.vfs issues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20twisted.vfs%20issues&In-Reply-To=%3CA11A5BDC-0CB9-492C-8CBB-5054B78DBF24%40fuhm.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="044035.html">
   <LINK REL="Next"  HREF="044039.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] twisted.vfs issues</H1>
    <B>James Y Knight</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20twisted.vfs%20issues&In-Reply-To=%3CA11A5BDC-0CB9-492C-8CBB-5054B78DBF24%40fuhm.net%3E"
       TITLE="[Twisted-Python] twisted.vfs issues">foom at fuhm.net
       </A><BR>
    <I>Wed Sep 28 18:35:40 MDT 2005</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="044035.html">[Twisted-Python] twisted.vfs issues
</A></li>
        <LI>Next message (by thread): <A HREF="044039.html">[Twisted-Python] twisted.vfs issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44036">[ date ]</a>
              <a href="thread.html#44036">[ thread ]</a>
              <a href="subject.html#44036">[ subject ]</a>
              <a href="author.html#44036">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sep 28, 2005, at 8:04 PM, Jp Calderone wrote:
&gt;<i>  twisted.vfs should not import things from or depend upon  
</I>&gt;<i> twisted.web2:
</I>&gt;<i>
</I>&gt;<i>    * web2 is unreleased
</I>&gt;<i>    * web2's APIs are unstable
</I>&gt;<i>    * vfs is more generally applicable than web2    * web2's stream  
</I>&gt;<i> abstraction is not generally agreed upon
</I>&gt;<i>
</I>&gt;<i>  If you like, we can talk more about how this interface should  
</I>&gt;<i> work.  However, my first inclination is to say that it should use  
</I>&gt;<i> the existing producer/consumer APIs.  While these are not the best  
</I>&gt;<i> APIs, they are used widely throughout Twisted, and therefore this  
</I>&gt;<i> will give the greatest usability to the resulting VFS code.  While  
</I>&gt;<i> there are adapters between these APIs and web2 streams, I still  
</I>&gt;<i> recommend against web2 streams for the reasons mentioned above.
</I>&gt;<i>
</I>
Twisted.vfs should not depend upon a module in twisted.web2 when  
twisted.vfs gets released. However, it is okay for it to depend upon  
that stream _code_ if it gets moved into twisted core before vfs is  
released. The idea all along has been to move t.w2.stream into  
twisted core when it is stable and useful. So I wouldn't worry about  
tearing it out of t.vfs quite yet.

Now, my first inclination is that the current block API *is* the  
right primitive for a file.

Also, in particular, making it use the old producer abstraction as a  
primitive is just asking for trouble. As the producer abstraction  
lets the producer send data asynchronously at any point, it becomes  
almost impossible to do a relatively simple operation like reading a  
part of a file. That is why, for web2, I had to drop it and make a  
new API that has the consumer request the data. I think the same  
reasoning applies here.

Again, I think that all requests for tearing various adapters and  
other bits out of twisted.vfs are currently completely premature. At  
this point in its development, it is critical that adapters for many  
different systems are created, to make sure that vfs has the  
appropriate abstractions and APIs to handle all use cases. And given  
that vfs is itself heavily under development, it makes no sense to  
request that said adapters be adopted upstream in each other project,  
yet.

James


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="044035.html">[Twisted-Python] twisted.vfs issues
</A></li>
	<LI>Next message (by thread): <A HREF="044039.html">[Twisted-Python] twisted.vfs issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44036">[ date ]</a>
              <a href="thread.html#44036">[ thread ]</a>
              <a href="subject.html#44036">[ subject ]</a>
              <a href="author.html#44036">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
