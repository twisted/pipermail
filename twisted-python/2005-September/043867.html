<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: Disabling PB (de)serialization
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Re%3A%20Disabling%20PB%20%28de%29serialization&In-Reply-To=%3Cdfom2p%24k6f%241%40sea.gmane.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="043864.html">
   <LINK REL="Next"  HREF="043872.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: Disabling PB (de)serialization</H1>
    <B>Nicola Larosa</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Re%3A%20Disabling%20PB%20%28de%29serialization&In-Reply-To=%3Cdfom2p%24k6f%241%40sea.gmane.org%3E"
       TITLE="[Twisted-Python] Re: Disabling PB (de)serialization">nico at tekNico.net
       </A><BR>
    <I>Thu Sep  8 00:35:04 MDT 2005</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="043864.html">[Twisted-Python] Re: Disabling PB (de)serialization
</A></li>
        <LI>Next message (by thread): <A HREF="043872.html">[Twisted-Python] Re: Disabling PB (de)serialization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43867">[ date ]</a>
              <a href="thread.html#43867">[ thread ]</a>
              <a href="subject.html#43867">[ subject ]</a>
              <a href="author.html#43867">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;&gt;<i> Mostly, *very* long lists of small objects, each containing a few numbers
</I>&gt;&gt;<i> and short strings.
</I>
&gt;<i> What order of magnitude are we talking about? Would something like
</I>&gt;<i> [(1,12,&quot;foo&quot;,&quot;bar&quot;) for i in range(10000)] be close? If so, I'll use this as
</I>&gt;<i> one of the benchmark cases.
</I>
Make that

[(0,1,2,3,4,5,6,7,8.0,9.0,'f','fo','foo','foob','fooba','foobar')
    for i in range(10**6)]

:<i>-)
</I>

&gt;<i> FYI, newpb is scheduled to have an opportunistic string-caching scheme in
</I>&gt;<i> which any string that gets sent over the wire more than a couple times gets
</I>&gt;<i> replaced by a VOCAB token with a number. The idea is to compress all the
</I>&gt;<i> standard internal PB sequences (like &quot;list&quot;, &quot;tuple&quot;, &quot;my-reference&quot;, &quot;call&quot;)
</I>&gt;<i> into short two-byte tokens, and for the sender to decide which strings get
</I>&gt;<i> tokenized these ways (there will be a special sequence that adds/removes
</I>&gt;<i> things from the receiver's mapping).
</I>
That would be great, in my case the total number of different string is
rather small. But instead of spending effort on that, you may want to
consider ways of transparently compressing and decompressing the serialized
stream with a standard algorithm.

-- 
Nicola Larosa - <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">nico at tekNico.net</A>

I love Apache, but in the same way I love my wife: with some trepidation.
Fast and stable, flexible and reliable, but make one little syntax error
and you can lose your ass. -- legLess on Slashdot, July 2005



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="043864.html">[Twisted-Python] Re: Disabling PB (de)serialization
</A></li>
	<LI>Next message (by thread): <A HREF="043872.html">[Twisted-Python] Re: Disabling PB (de)serialization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43867">[ date ]</a>
              <a href="thread.html#43867">[ thread ]</a>
              <a href="subject.html#43867">[ subject ]</a>
              <a href="author.html#43867">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
