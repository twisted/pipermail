<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] GUI responsiveness
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20GUI%20responsiveness&In-Reply-To=20050914120529.3914.647455527.divmod.quotient.16815%40ohm">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011447.html">
   <LINK REL="Next"  HREF="011442.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] GUI responsiveness</H1>
    <B>Jasper</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20GUI%20responsiveness&In-Reply-To=20050914120529.3914.647455527.divmod.quotient.16815%40ohm"
       TITLE="[Twisted-Python] GUI responsiveness">jasper at peak.org
       </A><BR>
    <I>Wed Sep 14 14:26:19 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="011447.html">[Twisted-Python] GUI responsiveness
</A></li>
        <LI>Next message: <A HREF="011442.html">[Twisted-Python] Re: GUI responsiveness
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11425">[ date ]</a>
              <a href="thread.html#11425">[ thread ]</a>
              <a href="subject.html#11425">[ subject ]</a>
              <a href="author.html#11425">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at divmod.com</A> wrote:

&gt;<i> On Wed, 14 Sep 2005 13:35:35 +0200, Antoine Pitrou 
</I>&gt;<i> &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">solipsis at pitrou.net</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Suppose a network event is taking some time to process (e.g. the
</I>&gt;&gt;<i> protocol is complex and there are some calculations involved), then your
</I>&gt;&gt;<i> GUI will become unresponsive (a 100ms delay is not critical for most
</I>&gt;&gt;<i> Internet protocols, but it is for GUIs).
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Not at all.  A user clicks on a button; if they don't see an update 
</I>&gt;<i> for 100ms, that is barely enough time for them to flick their mouse 
</I>&gt;<i> over to another button.  In fact, network latency is such that it is 
</I>&gt;<i> nearly impossible to provide faster than 100ms actual real response 
</I>&gt;<i> time even for highly performance-critical applications.
</I>&gt;<i>
</I>&gt;<i> If the UI isn't redrawing for 100ms, it is hard for the user to even 
</I>&gt;<i> notice, unless it is a continuous 100ms between redraws, in which case 
</I>&gt;<i> this GUI application is really doing quite a lot of work!
</I>

Normally you're a pretty sharp guy, but you're dead wrong about this. 
Tenth of a second delays are very noticeable, quickly become quite 
annoying, and make fine GUI control difficult as your mouse jumps 
around, etc..  Keeping interupts shorter than 100ms is very much 
critical for GUIs.

Your &quot;Firefox is unresponsive&quot; example is a special case, as usually 
there is nothing to do while you wait for a page to load, so lack of 
responsiveness goes unnoticed; even so, as soon as you try loading 
multiple pages in background tabs it can become quite annoying, with 
mouse clicks get lost, etc.

Now, I'm not a fan of threaded programming, and I definitely agree 
wxPython doesn't integrate well with Twisted (IIRC it doesn't relinquish 
control reliably), but Twisted is also lacking in this department.  I 
only see 2 ways to deal with moderate length processing chunks and still 
allow a responsive GUI: split them off into a seperate thread/process 
(yuck!), or painstakingly instrument every such piece of code to do it's 
own time tracking and yield at an appropriate moment -- which isn't much 
better than threading.  Worse, I don't see a satisfactory way to deal 
with the problem if it stems from some internal bit of Twisted taking 
too big of a time slice.  Manually split and recombine my network data 
into smaller chunks?  Run the whole GUI loop in a different thread?!

Unfortunately I don't have a solid idea of what Twisted could do better 
here, as I'm only passingly familiar with it's internals.  Perhaps some 
way to get the Reactor to transmit network data in smaller chunks, with 
more frequent pauses in between to allow for GUI responsiveness?

-Jasper


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011447.html">[Twisted-Python] GUI responsiveness
</A></li>
	<LI>Next message: <A HREF="011442.html">[Twisted-Python] Re: GUI responsiveness
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11425">[ date ]</a>
              <a href="thread.html#11425">[ thread ]</a>
              <a href="subject.html#11425">[ subject ]</a>
              <a href="author.html#11425">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
