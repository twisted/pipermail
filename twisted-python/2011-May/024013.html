<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] integrating a python REPL into my existing twisted application
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20integrating%20a%20python%20REPL%20into%20my%20existing%0A%20twisted%20application&In-Reply-To=BANLkTimjJDenN6kX10gFVH3Zf%3DjWfEMy0w%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024012.html">
   <LINK REL="Next"  HREF="024014.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] integrating a python REPL into my existing twisted application</H1>
    <B>Andrew Bennetts</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20integrating%20a%20python%20REPL%20into%20my%20existing%0A%20twisted%20application&In-Reply-To=BANLkTimjJDenN6kX10gFVH3Zf%3DjWfEMy0w%40mail.gmail.com"
       TITLE="[Twisted-Python] integrating a python REPL into my existing twisted application">andrew at bemusement.org
       </A><BR>
    <I>Thu May 26 01:08:13 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="024012.html">[Twisted-Python] integrating a python REPL into my existing twisted	application
</A></li>
        <LI>Next message: <A HREF="024014.html">[Twisted-Python] integrating a python REPL into my	existing	twisted application
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24013">[ date ]</a>
              <a href="thread.html#24013">[ thread ]</a>
              <a href="subject.html#24013">[ subject ]</a>
              <a href="author.html#24013">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Benjamin Rutt wrote:
&gt;<i>    Dear twisted-python,
</I>&gt;<i>    &#65533;
</I>&gt;<i>    I&#65533;m trying to integrate a python REPL into my existing twisted 8.2.0
</I>&gt;<i>    client-side program (which talks to another twisted server running a
</I>&gt;<i>    custom protocol).&#65533; This client side program uses
</I>&gt;<i>    twisted.internet.stdio.StandardIO already to interact with the user, to
</I>&gt;<i>    read commands from the user and send them to the server.&#65533; What&#65533;s the best
</I>&gt;<i>    way to add functionality to drop into a python REPL?&#65533; I adapted the
</I>&gt;<i>    doc/core/examples/stdin.py code below to drop into the &#65533;code&#65533; stdlib
</I>
Use twisted.conch.manhole.ManholeInterpreter.  Here's its docstring:

class ManholeInterpreter(code.InteractiveInterpreter):
    &quot;&quot;&quot;Interactive Interpreter with special output and Deferred support.

    Aside from the features provided by L{code.InteractiveInterpreter}, this
    class captures sys.stdout output and redirects it to the appropriate
    location (the Manhole protocol instance).  It also treats Deferreds
    which reach the top-level specially: each is formatted to the user with
    a unique identifier and a new callback and errback added to it, each of
    which will format the unique identifier and the result with which the
    Deferred fires and then pass it on to the next participant in the
    callback chain.
    &quot;&quot;&quot;

-Andrew.


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024012.html">[Twisted-Python] integrating a python REPL into my existing twisted	application
</A></li>
	<LI>Next message: <A HREF="024014.html">[Twisted-Python] integrating a python REPL into my	existing	twisted application
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24013">[ date ]</a>
              <a href="thread.html#24013">[ thread ]</a>
              <a href="subject.html#24013">[ subject ]</a>
              <a href="author.html#24013">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
