<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] caching suggestions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20caching%20suggestions&In-Reply-To=%3Cweb-2620192%40newmail.nfi.kiae.ru%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="048053.html">
   <LINK REL="Next"  HREF="048054.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] caching suggestions</H1>
    <B>Voznesensky Vladimir</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20caching%20suggestions&In-Reply-To=%3Cweb-2620192%40newmail.nfi.kiae.ru%3E"
       TITLE="[Twisted-Python] caching suggestions">vovic at nfi.kiae.ru
       </A><BR>
    <I>Fri Jun 15 00:35:02 MDT 2007</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="048053.html">[Twisted-Python] caching suggestions
</A></li>
        <LI>Next message (by thread): <A HREF="048054.html">[Twisted-Python] About transport.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48059">[ date ]</a>
              <a href="thread.html#48059">[ thread ]</a>
              <a href="subject.html#48059">[ subject ]</a>
              <a href="author.html#48059">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Well, if you need a fast database, you can use in-memory
database like
<A HREF="http://www.ispras.ru/~knizhnik/fastdb.html">http://www.ispras.ru/~knizhnik/fastdb.html</A>
(it's written in C++ for C++, so you will need to develop 
a glue
layer from C to Python)
But note, that all of your data should fit in RAM in such 
case.
Also note, that embedded databases delivers some delays
during commits in calling threads, so you should handle 
that
issues too.

On Thu, 14 Jun 2007 15:29:08 -0400
  Jonathan Vanasco &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at 2xlp.com</A>&gt; wrote:
&gt;<i> note: this is less about twisted than a project i've 
</I>&gt;<i>built on twisted  that is having some issues.  everyone 
</I>&gt;<i>here is smart, so i thought  this would be a good list to 
</I>&gt;<i>ask on.
</I>&gt;<i> 
</I>&gt;<i> i've got a small twisted daemon that is working as a 
</I>&gt;<i>proxy for  hosting content that we store on amazon-s3
</I>&gt;<i> long story short: archive to s3 (redundancy, cheap 
</I>&gt;<i>storage), twisted  daemon on our network fetches to cache 
</I>&gt;<i>&amp; serve.  we have cheaper  bandwidth, plus do a lot of 
</I>&gt;<i>file monitoring / name abstraction that  amazon's network 
</I>&gt;<i>won't support.  currently there are 10k documents on  s3, 
</I>&gt;<i>which are accessible via 150k+ 'keys'.   the cache 
</I>&gt;<i>basiscally  proxies the right doc for each key
</I>&gt;<i> 
</I>&gt;<i> I'm running into 2 issues with it:
</I>&gt;<i> 	short term- keys are mapped to s3 files via a ton of 
</I>&gt;<i>'hints' that i  store in bdb after fetching from 
</I>&gt;<i>postgresql.  the hints need to be  refreshed every 1-5 
</I>&gt;<i>minutes or so.  does anyone have a good  suggestion on 
</I>&gt;<i>how to do that?  i could do this really easily with 
</I>&gt;<i> sqlite, but i need to use bdb -- as sqlite isn't nearly 
</I>&gt;<i>fast enough;  while bdb is.
</I>&gt;<i> 
</I>&gt;<i> 	long term-    everything is fine for now -- we only 
</I>&gt;<i>have about 3gb  of data.  but thats going to be growing 
</I>&gt;<i>to about 20gb soon, and we  want to limit the cache to an 
</I>&gt;<i>active 10gb using an Adaptive  Replacement Cache 
</I>&gt;<i>algorithm with a bdb datastore.  has anyone done 
</I>&gt;<i> something similar in twisted or python in general?
</I>&gt;<i> 
</I>&gt;<i> any input would be appreciated.  thanks!
</I>&gt;<i> 
</I>&gt;<i> // Jonathan Vanasco
</I>&gt;<i> 
</I>&gt;<i> | - - - - - - - - - - - - - - - - - - - - - - - - - - - 
</I>&gt;<i>- - - - - - -  - - - - - - - - - - - - - - - - - - -
</I>&gt;<i> |   CEO/Founder SyndiClick Networks
</I>&gt;<i> | - - - - - - - - - - - - - - - - - - - - - - - - - - - 
</I>&gt;<i>- - - - - - -  - - - - - - - - - - - - - - - - - - -
</I>&gt;<i> |      FindMeOn.com - The cure for Multiple Web 
</I>&gt;<i>Personality Disorder
</I>&gt;<i> |      Web Identity Management and 3D Social Networking
</I>&gt;<i> | - - - - - - - - - - - - - - - - - - - - - - - - - - - 
</I>&gt;<i>- - - - - - -  - - - - - - - - - - - - - - - - - - -
</I>&gt;<i> |      RoadSound.com - Tools For Bands, Stuff For Fans
</I>&gt;<i> |      Collaborative Online Management And Syndication 
</I>&gt;<i>Tools
</I>&gt;<i> | - - - - - - - - - - - - - - - - - - - - - - - - - - - 
</I>&gt;<i>- - - - - - -  - - - - - - - - - - - - - - - - - - -
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="048053.html">[Twisted-Python] caching suggestions
</A></li>
	<LI>Next message (by thread): <A HREF="048054.html">[Twisted-Python] About transport.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48059">[ date ]</a>
              <a href="thread.html#48059">[ thread ]</a>
              <a href="subject.html#48059">[ subject ]</a>
              <a href="author.html#48059">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
