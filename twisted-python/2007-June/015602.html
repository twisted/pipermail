<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Beginner question: integrating with CORBA 
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Beginner%20question%3A%20integrating%20with%20CORBA%20&In-Reply-To=B81183566FF73947875C3A207CD60AA6056612CC%40LONEX01.tideway.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015601.html">
   <LINK REL="Next"  HREF="015605.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Beginner question: integrating with CORBA </H1>
    <B>Jean-Paul Calderone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Beginner%20question%3A%20integrating%20with%20CORBA%20&In-Reply-To=B81183566FF73947875C3A207CD60AA6056612CC%40LONEX01.tideway.com"
       TITLE="[Twisted-Python] Beginner question: integrating with CORBA ">exarkun at divmod.com
       </A><BR>
    <I>Mon Jun 25 07:46:36 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="015601.html">[Twisted-Python] Beginner question: integrating with CORBA 
</A></li>
        <LI>Next message: <A HREF="015605.html">[Twisted-Python] Beginner question: integrating with CORBA
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15602">[ date ]</a>
              <a href="thread.html#15602">[ thread ]</a>
              <a href="subject.html#15602">[ subject ]</a>
              <a href="author.html#15602">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 25 Jun 2007 12:03:46 +0100, Dave Kirby &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">d.kirby at tideway.com</A>&gt; wrote:
&gt;<i>I have just started looking at Twisted, and it looks really cool and
</I>&gt;<i>useful.  I have read through much of the docs and the O'Reilly book, but
</I>&gt;<i>I still have a head full of questions.
</I>&gt;<i>
</I>&gt;<i>First some background.  I am considering using Twisted to replace a
</I>&gt;<i>component in a network management suite.  All the components communicate
</I>&gt;<i>through CORBA (omniORB).  The component I want to replace gets CORBA
</I>&gt;<i>calls that requests data from servers on the network, and the component
</I>&gt;<i>retrieves the data using ssh.  Currently it spawns /usr/bin/ssh and uses
</I>&gt;<i>pexpect to control the interaction.  Typically we will have 20-40
</I>&gt;<i>simultaneous calls in progress to different IP addresses, each on a
</I>&gt;<i>separate thread and each spawning a separate ssh client.
</I>&gt;<i>
</I>&gt;<i>I want to replace this with a component that uses Twisted instead.  From
</I>&gt;<i>what I have read Twisted should be ideal for this - I can use the conch
</I>&gt;<i>library to do the ssh calls and eliminate the need for spawning dozens
</I>&gt;<i>of separate processes (something that has been a major cause of bugs).
</I>&gt;<i>
</I>&gt;<i>The first problem I have is how to integrate the omniORB event loop with
</I>&gt;<i>the reactor event loop.  My initial thoughts are to have the omniORB
</I>&gt;<i>event loop in one thread and run the reactor loop in another thread.
</I>&gt;<i>When a CORBA call comes in it will use callFromThread()  to post a
</I>&gt;<i>request to the Twisted thread that will create the connection and handle
</I>&gt;<i>the ssh session.  Is this feasible?  Any gotchas to watch out for?
</I>&gt;<i>
</I>
This is probably the most straightforward approach.  It's not as desirable
as one that doesn't involve threads at all, but it gives you the integration
you're after with the least development overhead, and it leaves a pretty
straightforward path for ultimately switching away from threads entirely,
should the opportunity to do that work arise (by incrementally replacing
code in the omniORB thread with code that performs an equivalent task in
the Twisted reactor thread).

&gt;<i>
</I>&gt;<i>However I have also seen reference to using threadedselectreactor for
</I>&gt;<i>mixing Twisted and foreign even loops
</I>&gt;<i>(<A HREF="http://bob.pythonmac.org/archives/2005/04/17/twisted-and-foreign-event-">http://bob.pythonmac.org/archives/2005/04/17/twisted-and-foreign-event-</A>
</I>&gt;<i>loops/), but I have no idea how to use this with omniORB.  Is this worth
</I>&gt;<i>investigating further, or should I stick with my original idea?
</I>&gt;<i>
</I>
I consider threadedselectreactor a non-starter due to the state of its
test coverage and the general mystery surrounding how application-level
tests are written for code which requires it.

&gt;<i>
</I>&gt;<i>Replacing CORBA with the Twisted PerspectiveBroker is not an option,
</I>&gt;<i>since it would require extensively rewriting a dozen or so components.
</I>&gt;<i>
</I>
How about doing a Twisted implementation of CORBA? ;)

Jean-Paul


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015601.html">[Twisted-Python] Beginner question: integrating with CORBA 
</A></li>
	<LI>Next message: <A HREF="015605.html">[Twisted-Python] Beginner question: integrating with CORBA
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15602">[ date ]</a>
              <a href="thread.html#15602">[ thread ]</a>
              <a href="subject.html#15602">[ subject ]</a>
              <a href="author.html#15602">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
