<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Asynchronicity
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Asynchronicity&In-Reply-To=%3CBAY114-F26CCA93C2ED01482B58091BE240%40phx.gbl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="048011.html">
   <LINK REL="Next"  HREF="048013.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Asynchronicity</H1>
    <B>Simon Pickles</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Asynchronicity&In-Reply-To=%3CBAY114-F26CCA93C2ED01482B58091BE240%40phx.gbl%3E"
       TITLE="[Twisted-Python] Asynchronicity">sipickles at hotmail.com
       </A><BR>
    <I>Sat Jun  9 13:51:39 MDT 2007</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="048011.html">[Twisted-Python] Asynchronicity
</A></li>
        <LI>Next message (by thread): <A HREF="048013.html">[Twisted-Python] Asynchronicity
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48012">[ date ]</a>
              <a href="thread.html#48012">[ thread ]</a>
              <a href="subject.html#48012">[ subject ]</a>
              <a href="author.html#48012">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Integrating into a GUI is just one example. In my case, I am using
Tkinter on win32. The GUI will be switched off when the server is
running, its simply a debug controller...

I'm more interested in how a twisted server manages to perform any other
logic. For a game server, a fair amount of time needs to be devoted to
object and memory management, AI, database access etc

My first server, in C++ could do this simply, with a winSock thread
listening and storing incoming network comms in a message queue. Easily
integrated into a game loop.

I was tempted to move to python due to the ease of modification.

So... with twisted, how can I manage to spend any time doing AI, for
instance?

I thought twisted.interface.reactor.iterate() might be my answer. API
docs say about iterate:

&quot;Run the main loop's I/O polling function for a period of time. This is
most useful in applications where the UI is being drawn &quot;as fast as
possible&quot;, such as games.&quot;

Unfortunately, the next sentence seems a little contradictory....

&quot; The reactor must have been started (via the run() method) prior to any
invocations of this method. It must also be stopped manually after the
last call to this method (via the stop() method). &quot;

Now, I am only a beginner at twisted, but it looks to me if I called
run(), I won't have a chance to call iterate() cos twisted will have
gone into its mainloop and stolen all control!

Am i making sense?

Regards

Simon


Jean-Paul Calderone wrote:
&gt;<i>On Sat, 09 Jun 2007 16:09:29 +0100, Simon Pickles &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">sipickles at hotmail.com</A>&gt; 
</I>&gt;<i>wrote:
</I>&gt;&gt;<i>Hi,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>I have managed to get a simple server going. It seems to accept multiple
</I>&gt;&gt;<i>connections correctly.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>I am a little puzzled as to how to achieve an asynchonous application
</I>&gt;&gt;<i>using twisted. Twisted itself seems asynchronous, but my code is blocked
</I>&gt;&gt;<i>by the call:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>reactor.run()
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>Quite so.  reactor.run enters the Twisted mainloop and does not return
</I>&gt;<i>until the mainloop is stopped (via reactor.stop).
</I>&gt;<i>
</I>&gt;&gt;<i>Is there anyway I can return from the reactor to run other code, like
</I>&gt;&gt;<i>GUI stuff, or other processing?
</I>&gt;<i>
</I>&gt;<i>No, but you can call into your other code from Twisted event handlers or
</I>&gt;<i>you can write a custom reactor which integrates an existing mainloop with
</I>&gt;<i>Twisted's.  As far as GUIs go, Twisted already includes reactors which
</I>&gt;<i>integrate glib, gtk, gtk2, various kinds of Windows loops, wxPython, and
</I>&gt;<i>a few others.
</I>&gt;<i>
</I>&gt;<i>Precisely how you integrate two mainloops depends on various details
</I>&gt;<i>about the loops in question.  Which GUI library are you trying to
</I>&gt;<i>integrate with?
</I>&gt;<i>
</I>&gt;<i>Jean-Paul
</I>&gt;<i>
</I>&gt;<i>_______________________________________________
</I>&gt;<i>Twisted-Python mailing list
</I>&gt;<i><A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i><A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>
_________________________________________________________________
The next generation of Hotmail is here! <A HREF="http://www.newhotmail.co.uk">http://www.newhotmail.co.uk</A>



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="048011.html">[Twisted-Python] Asynchronicity
</A></li>
	<LI>Next message (by thread): <A HREF="048013.html">[Twisted-Python] Asynchronicity
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48012">[ date ]</a>
              <a href="thread.html#48012">[ thread ]</a>
              <a href="subject.html#48012">[ subject ]</a>
              <a href="author.html#48012">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
