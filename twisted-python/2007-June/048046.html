<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] twisted and performance
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20twisted%20and%20performance&In-Reply-To=%3C7a01f6c00706140321w72e9023esf89a28e1c9363b6%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="048044.html">
   <LINK REL="Next"  HREF="048057.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] twisted and performance</H1>
    <B>Alvin Delagon</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20twisted%20and%20performance&In-Reply-To=%3C7a01f6c00706140321w72e9023esf89a28e1c9363b6%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] twisted and performance">adelagon at gmail.com
       </A><BR>
    <I>Thu Jun 14 04:21:02 MDT 2007</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="048044.html">[Twisted-Python] twisted and performance
</A></li>
        <LI>Next message (by thread): <A HREF="048057.html">[Twisted-Python] Athena transport duplicate message
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48046">[ date ]</a>
              <a href="thread.html#48046">[ thread ]</a>
              <a href="subject.html#48046">[ subject ]</a>
              <a href="author.html#48046">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi! This is my first advice for twisted-python list I hope I get this right.

I don't know much about adbapi but you might to check if your database is
causing the bottleneck. Also, what reactor are you using? You might want to
configure your twisted application to use the epoll reactor. We have a
server here using epoll and believe me this thing is wonderful. ^_^


On 6/13/07, weiwei weiwei &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">waterinfire at hotmail.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Hi,all!
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>          Thanks for the python twisted,it is a great software.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>          I am from china. This days we use twisted to develop a
</I>&gt;<i> middleware.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>          Requirement is:
</I>&gt;<i>
</I>&gt;<i> 1)       Receive:  receive 100~200 different client¡¯s message(they all
</I>&gt;<i> connect to our listen socket) and insert it into database(oracle)
</I>&gt;<i>
</I>&gt;<i> 2)       Send: application insert message into db,then our middleware
</I>&gt;<i> select
</I>&gt;<i> message from database and send this message to its destination through
</I>&gt;<i> socket.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Our design is : reactor + adbapi.ConnectionPool
</I>&gt;<i>
</I>&gt;<i> 1)       reactor is used in receiveing and sending message from and to
</I>&gt;<i> socket.
</I>&gt;<i>
</I>&gt;<i> 2)       when we received a message,we use adbapi to insert it to db
</I>&gt;<i>
</I>&gt;<i> 3)       we use adbapi to select message from db,and use a Deferred to
</I>&gt;<i> notify us when we got a message from db,and send it to peer,after
</I>&gt;<i> receiving
</I>&gt;<i> the peer¡¯s acknowledge message ,we update the databse.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> After testing many times,we found when the connection number is less than
</I>&gt;<i> 20,its performance is very good.But if the connection number is more than
</I>&gt;<i> 30
</I>&gt;<i> or 50, it is performance is worse and worse.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> DO you give me some advice about the design?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thanks in advance.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Wei wei
</I>&gt;<i>
</I>&gt;<i> _________________________________________________________________
</I>&gt;<i> Express yourself instantly with MSN Messenger! Download today it's FREE!
</I>&gt;<i> <A HREF="http://messenger.msn.click-url.com/go/onm00200471ave/direct/01/">http://messenger.msn.click-url.com/go/onm00200471ave/direct/01/</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20070614/a71e73d5/attachment.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="048044.html">[Twisted-Python] twisted and performance
</A></li>
	<LI>Next message (by thread): <A HREF="048057.html">[Twisted-Python] Athena transport duplicate message
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48046">[ date ]</a>
              <a href="thread.html#48046">[ thread ]</a>
              <a href="subject.html#48046">[ subject ]</a>
              <a href="author.html#48046">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
