<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] twisted and performance
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20twisted%20and%20performance&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015535.html">
   <LINK REL="Next"  HREF="015538.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] twisted and performance</H1>
    <B>weiwei weiwei</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20twisted%20and%20performance&In-Reply-To="
       TITLE="[Twisted-Python] twisted and performance">waterinfire at hotmail.com
       </A><BR>
    <I>Wed Jun 13 22:11:54 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="015535.html">[Twisted-Python] reactor and thread
</A></li>
        <LI>Next message: <A HREF="015538.html">[Twisted-Python] twisted and performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15536">[ date ]</a>
              <a href="thread.html#15536">[ thread ]</a>
              <a href="subject.html#15536">[ subject ]</a>
              <a href="author.html#15536">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,all!



         Thanks for the python twisted,it is a great software.



         I am from china. This days we use twisted to develop a middleware.



         Requirement is:

1)       Receive:  receive 100~200 different client&#161;&#175;s message(they all 
connect to our listen socket) and insert it into database(oracle)

2)       Send: application insert message into db,then our middleware select 
message from database and send this message to its destination through 
socket.



Our design is : reactor + adbapi.ConnectionPool

1)       reactor is used in receiveing and sending message from and to 
socket.

2)       when we received a message,we use adbapi to insert it to db

3)       we use adbapi to select message from db,and use a Deferred to 
notify us when we got a message from db,and send it to peer,after receiving 
the peer&#161;&#175;s acknowledge message ,we update the databse.



After testing many times,we found when the connection number is less than 
20,its performance is very good.But if the connection number is more than 30 
or 50, it is performance is worse and worse.



DO you give me some advice about the design?





Thanks in advance.





Wei wei

_________________________________________________________________
Express yourself instantly with MSN Messenger! Download today it's FREE! 
<A HREF="http://messenger.msn.click-url.com/go/onm00200471ave/direct/01/">http://messenger.msn.click-url.com/go/onm00200471ave/direct/01/</A>



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015535.html">[Twisted-Python] reactor and thread
</A></li>
	<LI>Next message: <A HREF="015538.html">[Twisted-Python] twisted and performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15536">[ date ]</a>
              <a href="thread.html#15536">[ thread ]</a>
              <a href="subject.html#15536">[ subject ]</a>
              <a href="author.html#15536">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
