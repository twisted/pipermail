<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Porting Apache Mina to Twisted
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Porting%20Apache%20Mina%20to%20Twisted&In-Reply-To=%3CAANLkTiknQek5OuFPHk7rt32D-5vxUtYo%3DLX7-tFQ%2B873%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="055708.html">
   <LINK REL="Next"  HREF="055710.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Porting Apache Mina to Twisted</H1>
    <B>Umut Aydin</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Porting%20Apache%20Mina%20to%20Twisted&In-Reply-To=%3CAANLkTiknQek5OuFPHk7rt32D-5vxUtYo%3DLX7-tFQ%2B873%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Porting Apache Mina to Twisted">devnetwork at gmail.com
       </A><BR>
    <I>Mon Dec  6 16:00:44 MST 2010</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="055708.html">[Twisted-Python] Porting Apache Mina to Twisted
</A></li>
        <LI>Next message (by thread): <A HREF="055710.html">[Twisted-Python] Porting Apache Mina to Twisted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55709">[ date ]</a>
              <a href="thread.html#55709">[ thread ]</a>
              <a href="subject.html#55709">[ subject ]</a>
              <a href="author.html#55709">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thank you for your response.

Probably that works and also itamar's approach seems right.

If  connectionLost method is being called every disconnection (no
matter what reason is) my unregisterBySocket method handles that
situation already. I mean It s not possible to have disconnected
socket in my job pool(work).

Right?



On Mon, Dec 6, 2010 at 5:16 PM, Godson Gera &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">godson.g at gmail.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Mon, Dec 6, 2010 at 7:41 PM, Umut Aydin &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">devnetwork at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hello again
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I couldn't get any answer to my question and I think I couldn't point
</I>&gt;&gt;<i> my problem clearly.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="https://github.com/naimon/Jobbar/blob/master/src/lib/server.py">https://github.com/naimon/Jobbar/blob/master/src/lib/server.py</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On the line #130 I need to check if the socket is still connected.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> That worker variable is a copy of self.transport actually. I have
</I>&gt;&gt;<i> found it's an instance of twisted.internet.tcp.Server
</I>&gt;&gt;<i> I also found getHandle method to reach the actual socket but I
</I>&gt;&gt;<i> couldn't find any method to check its availability.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Store a reference to the protocol object it self instead of protcol's
</I>&gt;<i> transport.
</I>&gt;<i>
</I>&gt;<i> Connectiong checkingÂ  can be done easily by simply adding a state attribute
</I>&gt;<i> to your protocol class. In your protocol define self.isConnected = False .
</I>&gt;<i> Set that attribute to True inside connectionMade() event method and set that
</I>&gt;<i> to False inside connectionLost() event.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Thanks &amp; Regards,
</I>&gt;<i> Godson Gera.
</I>&gt;<i> Twisted Python Consultant India
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>&gt;<i>
</I>


-- 
Best Regards,

Umut AYDIN
Email: <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">me at umut.mobi</A>

Skype: umut-aydin

Blog: <A HREF="http://umut.mobi">http://umut.mobi</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="055708.html">[Twisted-Python] Porting Apache Mina to Twisted
</A></li>
	<LI>Next message (by thread): <A HREF="055710.html">[Twisted-Python] Porting Apache Mina to Twisted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55709">[ date ]</a>
              <a href="thread.html#55709">[ thread ]</a>
              <a href="subject.html#55709">[ subject ]</a>
              <a href="author.html#55709">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
