<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] qt5 and twisted, reactor already installed,	python 2.x
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20qt5%20and%20twisted%2C%20reactor%20already%20installed%2C%0A%09python%202.x&In-Reply-To=%3C1467239942.6939.24.camel%40yahoo.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] qt5 and twisted, reactor already installed,	python 2.x</H1>
    <B>steven meier</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20qt5%20and%20twisted%2C%20reactor%20already%20installed%2C%0A%09python%202.x&In-Reply-To=%3C1467239942.6939.24.camel%40yahoo.de%3E"
       TITLE="[Twisted-Python] qt5 and twisted, reactor already installed,	python 2.x">commercials24 at yahoo.de
       </A><BR>
    <I>Wed Jun 29 16:39:02 MDT 2016</I>
    <P><UL>
        
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#62946">[ date ]</a>
              <a href="thread.html#62946">[ thread ]</a>
              <a href="subject.html#62946">[ subject ]</a>
              <a href="author.html#62946">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>hi,


ive got some twisted code that runs on its own
and some python code that also runs on its own,

now i would like to combine the two, so i added:

if __name__ == '__main__':
    app = QtWidgets.QApplication(sys.argv) # your code to init QtCore
    import qt5reactor
    qt5reactor.install()
    from twisted.internet import reactor
   


to use some qt reactor with twisted.
running the qt code with those lines also works.
but as soon as i import other code into this one i get:


python main_code.py 
Gtk-Message: Failed to load module &quot;canberra-gtk-module&quot;
Traceback (most recent call last):
  File &quot;main_code.py&quot;, line 29, in &lt;module&gt;
    qt5reactor.install()
  File &quot;/home/julius/.local/lib/python2.7/site-packages/qt5reactor.py&quot;,
line 412, in posixinstall
    installReactor(p)
  File
&quot;/home/julius/.local/lib/python2.7/site-packages/twisted/internet/main.py&quot;, line 32, in installReactor
    raise error.ReactorAlreadyInstalledError(&quot;reactor already
installed&quot;)
twisted.internet.error.ReactorAlreadyInstalledError: reactor already
installed




here is my code:
when importing get_main_page i get the error above...

import sys
from PyQt5 import QtWidgets
from untitled import Ui_MainWindow
#from webchat import get_main_page

class Main(QtWidgets.QMainWindow):

    def __init__(self):
        QtWidgets.QMainWindow.__init__(self)
        self.ui = Ui_MainWindow()
        self.ui.setupUi(self)
        self.setupSignals()

    def button_1_Clicked(self):
        self.ui.textbox_2.setText(self.ui.textbox_1.text())

    def setupSignals(self):
        #self.ui.textbox_1.textChanged.connect(self.textbox_1_Changed)
        self.ui.button_1.clicked.connect(self.button_1_Clicked)




if __name__ == '__main__':
    #app = QtWidgets.QApplication(sys.argv)
    
    app = QtWidgets.QApplication(sys.argv) # your code to init QtCore
    import qt5reactor
    qt5reactor.install()
    from twisted.internet import reactor
    print &quot;testing...&quot;

    #get_main_page()
    window = Main()
    window.show()
    #sys.exit(app.exec_())
    def printMe(argument):
        print argument

    def lala():
        reactor.callLater(5, printMe, '123')


    lala()
    reactor.run()






webchat.py (containing get_main_page) starts with the lines:

from twisted.web.client import Agent, CookieAgent, getPage,
HTTPClientFactory
from bs4 import BeautifulSoup
import json
import urllib
import random
from myglobals import *
from twisted.internet.task import LoopingCall




how can i get a more &quot;refined&quot; error message, that actually tells me
which line is causing the error?

because as i said, the line 29 in main_code works when i do not import
get_main_page



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#62946">[ date ]</a>
              <a href="thread.html#62946">[ thread ]</a>
              <a href="subject.html#62946">[ subject ]</a>
              <a href="author.html#62946">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
