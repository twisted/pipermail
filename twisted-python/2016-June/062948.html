<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Coverage exceptions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Coverage%20exceptions&In-Reply-To=%3CCAFycZ9dG0o3kXyi%2BmHwhAD55EDYh7bsPEpF3JDrFE7OvCeBi_g%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Coverage exceptions</H1>
    <B>Adi Roiban</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Coverage%20exceptions&In-Reply-To=%3CCAFycZ9dG0o3kXyi%2BmHwhAD55EDYh7bsPEpF3JDrFE7OvCeBi_g%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Coverage exceptions">adi at roiban.ro
       </A><BR>
    <I>Thu Jun 30 04:43:17 MDT 2016</I>
    <P><UL>
        
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#62948">[ date ]</a>
              <a href="thread.html#62948">[ thread ]</a>
              <a href="subject.html#62948">[ subject ]</a>
              <a href="author.html#62948">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Recently we have introduced a hard check of 100% coverage for all changes.
This is done via coverage + codecov + github protected branches.

Now, if your patch is not 100% covered github will not let you merge it.

See for example this change:
<A HREF="https://github.com/twisted/twisted/pull/261/files#diff-0fea8a8ca713deb7ea6a10053273319aR2360">https://github.com/twisted/twisted/pull/261/files#diff-0fea8a8ca713deb7ea6a10053273319aR2360</A>

The errback is there to help with test failures ... but the test should
never fail, so that errback is never called... and that line is not covered.

How should we proceed with these changes?

Maybe this is not the best example and that code could be refactored... but
I think that the topic of ignoring missing coverage is still valid.

I suggest to introduce `  # pragma: no cover`

and update the coverage config with

[report]
exclude_lines =
    pragma: no cover

-----------

What do you think?

Thanks!
-- 
Adi Roiban
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20160630/ad3526b2/attachment-0002.html&gt;
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#62948">[ date ]</a>
              <a href="thread.html#62948">[ thread ]</a>
              <a href="subject.html#62948">[ subject ]</a>
              <a href="author.html#62948">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
