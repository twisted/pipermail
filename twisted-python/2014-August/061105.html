<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Is there pb documentation somewhere?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Is%20there%20pb%20documentation%20somewhere%3F&In-Reply-To=%3C2E454D37-7A76-4527-8ABF-894E1E1E10F0%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="061104.html">
   <LINK REL="Next"  HREF="061107.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Is there pb documentation somewhere?</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Is%20there%20pb%20documentation%20somewhere%3F&In-Reply-To=%3C2E454D37-7A76-4527-8ABF-894E1E1E10F0%40twistedmatrix.com%3E"
       TITLE="[Twisted-Python] Is there pb documentation somewhere?">glyph at twistedmatrix.com
       </A><BR>
    <I>Mon Aug 18 14:01:02 MDT 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="061104.html">[Twisted-Python] Is there pb documentation somewhere?
</A></li>
        <LI>Next message (by thread): <A HREF="061107.html">[Twisted-Python] Is there pb documentation somewhere?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61105">[ date ]</a>
              <a href="thread.html#61105">[ thread ]</a>
              <a href="subject.html#61105">[ subject ]</a>
              <a href="author.html#61105">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Aug 18, 2014, at 12:37 PM, Daniel Sank &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">sank.daniel at gmail.com</A>&gt; wrote:

&gt;<i> glyph,
</I>&gt;<i> 
</I>&gt;<i> &gt; A &quot;resource&quot; - i.e. a Referenceable - is just a Python object in memory.
</I>&gt;<i> 
</I>&gt;<i> Indeed.
</I>&gt;<i> 
</I>&gt;<i> &gt; but in normal operation, Python objects don't spontaneously ascend
</I>&gt;<i> &gt; to a different plane of existence - as long as there are pointers to them in
</I>&gt;<i> &gt; memory
</I>&gt;<i> 
</I>&gt;<i> Of course.
</I>&gt;<i> 
</I>&gt;<i> &gt; in the case of Referenceables that are currently in use, a reference
</I>&gt;<i> &gt; from a dictionary on the Broker instance for the client which is using
</I>&gt;<i> &gt; them
</I>&gt;<i> 
</I>&gt;<i> Suppose I have a Thingy:
</I>&gt;<i> 
</I>&gt;<i> myThingy = Thingy()
</I>&gt;<i> 
</I>&gt;<i> I want to give you some amount of access to manipulate myThingy, so I make a Referenceable which has some connection to it:
</I>&gt;<i> 
</I>&gt;<i> myReferenceable.thingy = weakref.proxy(myThingy)
</I>&gt;<i> 
</I>&gt;<i> and I send you the Referenceable. Now suppose I do
</I>&gt;<i> 
</I>&gt;<i> del myThingy
</I>&gt;<i> 
</I>&gt;<i> Now myThingy will be garbage collected. Then, if you invoke methods on myReferenceable, they'll fail. Is this what we want, or should I tell you that your RemoteReference should be considered stale?
</I>&gt;<i> 
</I>&gt;<i> If I'm not thinking about this correctly please advise. I realize that I could have done
</I>&gt;<i> 
</I>&gt;<i> myReferenceable.thingy = myThingy
</I>&gt;<i> 
</I>&gt;<i> so that myThingy lives as long as myReferenceable, but this doesn't actually seem like what I would normally want.
</I>
Why would you not normally want that?

What you're saying here is that MyReferenceable requires a thingy in the 'thingy' attribute to do its job.  MyReferenceable is a Python class in your application - its clients will call its methods, and it should take care that its methods do something sensible.  The fact that its clients are remote via the Broker class is almost irrelevant.

If you pass a type MyReferenceable doesn't expect - a weakref.proxy that suddenly becomes invalid when the inner object goes away - you'll get nonsense behavior.  But this isn't specific to Referenceable or remote access - if you just had an A and a B, and A expects a 'b' attribute that's a B, and you set 'b' to something that isn't a B, you get the same kind of nonsense behavior. 

(Also, if you require a 'thingy' attribute it should probably be a constructor argument rather than an externally-set attribute, so that the instance is initially in a valid state.)

-glyph





</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="061104.html">[Twisted-Python] Is there pb documentation somewhere?
</A></li>
	<LI>Next message (by thread): <A HREF="061107.html">[Twisted-Python] Is there pb documentation somewhere?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61105">[ date ]</a>
              <a href="thread.html#61105">[ thread ]</a>
              <a href="subject.html#61105">[ subject ]</a>
              <a href="author.html#61105">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
