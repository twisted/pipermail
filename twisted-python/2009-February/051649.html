<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Traceback on loseConnection
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Traceback%20on%20loseConnection&In-Reply-To=%3C20090204145912.12853.199041922.divmod.quotient.3395%40henry.divmod.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="051642.html">
   <LINK REL="Next"  HREF="051656.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Traceback on loseConnection</H1>
    <B>Jean-Paul Calderone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Traceback%20on%20loseConnection&In-Reply-To=%3C20090204145912.12853.199041922.divmod.quotient.3395%40henry.divmod.com%3E"
       TITLE="[Twisted-Python] Traceback on loseConnection">exarkun at divmod.com
       </A><BR>
    <I>Wed Feb  4 07:59:12 MST 2009</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="051642.html">[Twisted-Python] Traceback on loseConnection
</A></li>
        <LI>Next message (by thread): <A HREF="051656.html">[Twisted-Python] Traceback on loseConnection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51649">[ date ]</a>
              <a href="thread.html#51649">[ thread ]</a>
              <a href="subject.html#51649">[ subject ]</a>
              <a href="author.html#51649">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 04 Feb 2009 11:04:26 +0100, Werner Thie &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">wthie at thiengineering.ch</A>&gt; wrote:
&gt;<i>Hi all
</I>&gt;<i>
</I>&gt;<i>My users are complaining that they get the odd disconnect while using my 
</I>&gt;<i>site built with nevow/athena on FreeBSD 7.1 with the poll reactor. I 
</I>&gt;<i>recently switched to twisted 8.2 release and am now observing 199 'Unhandled 
</I>&gt;<i>Error' out of 298436 logged requests with the following traceback.
</I>&gt;<i>
</I>&gt;<i>Any clues?
</I>&gt;<i>
</I>&gt;<i>TIA, Werner
</I>&gt;<i>
</I>&gt;<i> [snip]
</I>&gt;<i>           File &quot;/usr/local/lib/python2.5/site-packages/Twisted-8.2.0_r26128- 
</I>&gt;<i>py2.5-freebsd-7.1-RELEASE-amd64.egg/twisted/web/proxy.py&quot;, line 79, in 
</I>&gt;<i>handleResponseEnd
</I>&gt;<i>             self.father.channel.transport.loseConnection()
</I>&gt;<i>         exceptions.AttributeError: 'NoneType' object has no attribute 
</I>&gt;<i>'transport'
</I>&gt;<i>
</I>
Anywhere there are that many dots in a single expression, there's bound to
be trouble. :)

It's probably something rather simple, like the connection being lost near
when the response ends.  It's probably also pretty easy to fix (by being
more careful in how lost connections are handled).  If you can create a
short example which reproduces the problem, that'll go a long way towards
helping it get fixed.  I suggest instrumenting the codepath that sets the
&quot;channel&quot; attribute to None and watching to see what happens.

Jean-Paul


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="051642.html">[Twisted-Python] Traceback on loseConnection
</A></li>
	<LI>Next message (by thread): <A HREF="051656.html">[Twisted-Python] Traceback on loseConnection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51649">[ date ]</a>
              <a href="thread.html#51649">[ thread ]</a>
              <a href="subject.html#51649">[ subject ]</a>
              <a href="author.html#51649">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
