<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Twisted plugins and py2exe
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted%20plugins%20and%20py2exe&In-Reply-To=%3C20090224165527.12853.1836778921.divmod.quotient.13499%40henry.divmod.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="051754.html">
   <LINK REL="Next"  HREF="051756.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Twisted plugins and py2exe</H1>
    <B>Jean-Paul Calderone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted%20plugins%20and%20py2exe&In-Reply-To=%3C20090224165527.12853.1836778921.divmod.quotient.13499%40henry.divmod.com%3E"
       TITLE="[Twisted-Python] Twisted plugins and py2exe">exarkun at divmod.com
       </A><BR>
    <I>Tue Feb 24 09:55:27 MST 2009</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="051754.html">[Twisted-Python] Twisted plugins and py2exe
</A></li>
        <LI>Next message (by thread): <A HREF="051756.html">[Twisted-Python] Twisted plugins and py2exe
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51755">[ date ]</a>
              <a href="thread.html#51755">[ thread ]</a>
              <a href="subject.html#51755">[ subject ]</a>
              <a href="author.html#51755">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE> Tue, 24 Feb 2009 17:35:14 +0100, Gabriel Rossetti &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">gabriel.rossetti at arimaz.com</A>&gt; wrote:
&gt;<i>Jean-Paul Calderone wrote:
</I>&gt;&gt;<i>On Tue, 24 Feb 2009 11:49:13 +0100, Gabriel Rossetti 
</I>&gt;&gt;<i>&lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">gabriel.rossetti at arimaz.com</A>&gt; wrote:
</I>&gt;&gt;&gt;<i>Hello everyone!
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>I used py2exe on a Twisted app of mine and I get this exception :
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>Traceback (most recent call last):
</I>&gt;&gt;&gt;<i>  File &quot;proj\service.pyc&quot;, line 1308, in connectionMade
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>  File &quot;proj\service.pyc&quot;, line 1640, in _register
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>  File &quot;proj\service.pyc&quot;, line 504, in loadPlugins
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>  File &quot;twisted\plugin.pyc&quot;, line 200, in getPlugins
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>--- &lt;exception caught here&gt; ---
</I>&gt;&gt;&gt;<i>  File &quot;twisted\plugin.pyc&quot;, line 179, in getCache
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>exceptions.AttributeError: ZipPath instance has no attribute 'setContent'
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>Has anyone ever had this problem while using plugins with Twisted and 
</I>&gt;&gt;&gt;<i>py2exe?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>No, but from the traceback, it seems fairly clear that the plugin system
</I>&gt;&gt;<i>is trying to write a plugin cache file into your py2exe-created zip file
</I>&gt;&gt;<i>of Python source.  This won't work, of course.  You could try making sure
</I>&gt;&gt;<i>the cache file is up to date and including it in the zip file, but I have
</I>&gt;&gt;<i>no idea if this will actually produce sensible behavior.  The other
</I>&gt;&gt;<i>possibility is to actually teach the plugin system about zip files (ie,
</I>&gt;&gt;<i>contribute a patch to Twisted to support this case).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Jean-Paul
</I>&gt;<i>Ok, I could do this, teach it abot zip files and have it update it's cache 
</I>&gt;<i>in the zip file, but in certain cases, like mine actually, if you tell 
</I>&gt;<i>py2exe to include the zip file in the exec, then it won't work. How about 
</I>&gt;<i>adding the possibility to specify where the cache is to be written?
</I>
Updating the cache in the zip file probably isn't the right thing to do.
Just skipping cache generation would probably make more sense.  It should
be easier to implement, anyway.

As far as I can tell, it doesn't make sense to allow the cache location to
be specified as configuration, though.  Skipping cache file generation should
be fine.

Jean-Paul


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="051754.html">[Twisted-Python] Twisted plugins and py2exe
</A></li>
	<LI>Next message (by thread): <A HREF="051756.html">[Twisted-Python] Twisted plugins and py2exe
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51755">[ date ]</a>
              <a href="thread.html#51755">[ thread ]</a>
              <a href="subject.html#51755">[ subject ]</a>
              <a href="author.html#51755">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
