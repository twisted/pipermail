<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Twisted receiving buffers swamped?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted%20receiving%20buffers%20swamped%3F&In-Reply-To=%3CD723044F-EEAF-43C5-B748-3E51C18DA75B%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="061558.html">
   <LINK REL="Next"  HREF="061553.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Twisted receiving buffers swamped?</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted%20receiving%20buffers%20swamped%3F&In-Reply-To=%3CD723044F-EEAF-43C5-B748-3E51C18DA75B%40twistedmatrix.com%3E"
       TITLE="[Twisted-Python] Twisted receiving buffers swamped?">glyph at twistedmatrix.com
       </A><BR>
    <I>Tue Jan 13 20:18:48 MST 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="061558.html">[Twisted-Python] Twisted receiving buffers swamped?
</A></li>
        <LI>Next message (by thread): <A HREF="061553.html">[Twisted-Python] Twisted receiving buffers swamped?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61550">[ date ]</a>
              <a href="thread.html#61550">[ thread ]</a>
              <a href="subject.html#61550">[ subject ]</a>
              <a href="author.html#61550">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> On Jan 12, 2015, at 12:49 PM, Tobias Oberstein &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">tobias.oberstein at tavendo.de</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;&gt;&gt;<i> Probably the test machine was changed, a new version of OpenSSL or
</I>&gt;&gt;<i> pyOpenSSL, or something else?
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> One of those things.  There is no infrastructure in place for identifying events
</I>&gt;&gt;<i> which impact the performance testing infrastructure.  The only performance
</I>&gt;<i> 
</I>&gt;<i> Yes, this is an important point: track changes in infrastructure (everything that might
</I>&gt;<i> have an influence, but is outside the tested code).
</I>&gt;<i> 
</I>&gt;&gt;<i> testing environment is a very old mac mini still running Snow Leopard, which
</I>&gt;<i> 
</I>&gt;<i> omg;)
</I>&gt;<i> 
</I>&gt;&gt;&gt;<i> I'd say: the infrastructure aspects when doing performance tests do
</I>&gt;&gt;<i> matter. To the degree that performance results are of very limited value at
</I>&gt;&gt;<i> all, if the former aspects are not accounted for.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I don't think the results that we have presently are worth much at all.  My
</I>&gt;&gt;<i> point was mostly that there is some infrastructure which is halfway usable,
</I>&gt;&gt;<i> and so you don't have to start from scratch.  If you could take over this
</I>&gt;<i> 
</I>&gt;<i> You mean taking over the code &quot;as is&quot;
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://bazaar.launchpad.net/~twisted-dev/twisted-benchmarks/trunk/files">http://bazaar.launchpad.net/~twisted-dev/twisted-benchmarks/trunk/files</A>
</I>&gt;<i> 
</I>&gt;<i> or the task in general (Twisted benchmarking)?
</I>
Both, I think.

I'd really prefer it if you could start with the existing benchmarks, incrementally maintain them (perhaps beginning by porting to Github, we seem to be having pretty good success with travis) and probably eventually replace them wholesale, than replace them from the beginning.

&gt;&gt;<i> project (I am pretty sure at this point there is nobody to take it over *from*,
</I>&gt;<i> 
</I>&gt;<i> We are currently developing performance test infrastructure for Crossbar.io - naturally,
</I>&gt;<i> it is eating it's own dog food: the infrastructure is based on Crossbar.io and WAMP to
</I>&gt;<i> orchestrate and wire up things in a distributed test setup.
</I>&gt;<i> 
</I>&gt;<i> We could extend that to test at the Twisted(-only) level. Need to think about how
</I>&gt;<i> that fits into &quot;overall strategy&quot;, as the Crossbar.io perf. test stuff isn't open-source.
</I>&gt;<i> 
</I>&gt;<i> The testing hardware above (mac, no real network) is insufficient for what I need.
</I>&gt;<i> I'm thinking about buying and setting up 2 more boxes for Linux.
</I>
Keep in mind that a performance testing environment should be scalable.  Others may have different environments they care about.  Building your specific environment would be tremendously useful, but it would be even more useful to build it in a way that others can compare in their own hardware setups.

&gt;<i> Rgd. Codespeed (<A HREF="https://github.com/tobami/codespeed">https://github.com/tobami/codespeed</A>), which seems to be used
</I>&gt;<i> by speedcenter.twistedmatrix.com: I have issues here as well.
</I>&gt;<i> 
</I>&gt;<i> E.g. I need latency histograms, but this seems unsupported (benchmark results can
</I>&gt;<i> only have avg/min/max/stddev). For me, this isn't &quot;nice to have&quot;, but essential. 
</I>&gt;<i> Throughput is one thing. Constistent low latency a completely different. The latter is
</I>&gt;<i> much much harder.
</I>&gt;<i> 
</I>&gt;<i> But what is the &quot;interface&quot; between test cases from &quot;twisted-benchmarks&quot; to codespeed?
</I>
Codespeed runs the benchmark, and they print out this stuff: <A HREF="https://bazaar.launchpad.net/~twisted-dev/twisted-benchmarks/trunk/view/head:/benchlib.py#L12">https://bazaar.launchpad.net/~twisted-dev/twisted-benchmarks/trunk/view/head:/benchlib.py#L12</A>

POSTing them via JSON would be nicer, structured data is great.

&gt;<i> This
</I>&gt;<i> 
</I>&gt;<i> <A HREF="https://github.com/tobami/codespeed#saving-data">https://github.com/tobami/codespeed#saving-data</A>
</I>&gt;<i> 
</I>&gt;<i> seems to suggest, performance test results are HTTP/POSTed as JSON to codespeed.
</I>&gt;<i> 
</I>&gt;<i> And codespeed is then only responsible for visualization and web hosting, right?
</I>&gt;<i> 
</I>&gt;<i> I think we can find something better for that part.
</I>&gt;<i> 
</I>&gt;&gt;<i> (And if you care a lot about performance in a particular environment you
</I>&gt;&gt;<i> could set it up in that environment and get attention for it :)).
</I>&gt;<i> 
</I>&gt;<i> Yes, in particular that very last one is a factor to justify efforts;) Anything like having
</I>&gt;<i> a promo logo or similar - that would be an argument to invest time and material.
</I>&gt;<i> I will seriously contemplate .. need to align with strategy/available time.
</I>
You should probably contact tsf@ with these concerns :).

&gt;<i> We already host FreeBSD buildslaves for both Twisted and PyPy. That might be another
</I>&gt;<i> synergy (hosting the latter on that same boxes).
</I>&gt;<i> 
</I>&gt;&gt;<i> You should also have a look at the existing benchmark suite and potentially
</I>&gt;&gt;<i> look at maintaining / expanding that as well.
</I>&gt;<i> 
</I>&gt;<i> I will try to integrate some of this into our upcoming perf. infrastructure.
</I>&gt;<i> 
</I>&gt;<i> /Tobias
</I>&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Thoughts?
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> -glyph
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Twisted-Python mailing list
</I>&gt;&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20150113/8b0fb2b6/attachment-0002.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="061558.html">[Twisted-Python] Twisted receiving buffers swamped?
</A></li>
	<LI>Next message (by thread): <A HREF="061553.html">[Twisted-Python] Twisted receiving buffers swamped?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61550">[ date ]</a>
              <a href="thread.html#61550">[ thread ]</a>
              <a href="subject.html#61550">[ subject ]</a>
              <a href="author.html#61550">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
