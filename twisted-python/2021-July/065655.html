<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Twisted 21.7.0 Pre-Release Announcement
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted%2021.7.0%20Pre-Release%20Announcement&In-Reply-To=%3Ceee17337-d394-081f-877b-71de746e6512%40matrix.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="065652.html">
   <LINK REL="Next"  HREF="065656.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Twisted 21.7.0 Pre-Release Announcement</H1>
    <B>Richard van der Hoff</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted%2021.7.0%20Pre-Release%20Announcement&In-Reply-To=%3Ceee17337-d394-081f-877b-71de746e6512%40matrix.org%3E"
       TITLE="[Twisted-Python] Twisted 21.7.0 Pre-Release Announcement">richard at matrix.org
       </A><BR>
    <I>Thu Jul 15 10:00:06 MDT 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="065652.html">[Twisted-Python] Twisted 21.7.0 Pre-Release Announcement
</A></li>
        <LI>Next message (by thread): <A HREF="065656.html">[Twisted-Python] Twisted 21.7.0 Pre-Release Announcement
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65655">[ date ]</a>
              <a href="thread.html#65655">[ thread ]</a>
              <a href="subject.html#65655">[ subject ]</a>
              <a href="author.html#65655">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11/07/2021 00:49, Glyph wrote:
&gt;<i> Thank you Adi!  Very glad to see us collectively getting back on the 
</I>&gt;<i> release-management horse again!  And it was super encouraging to see 
</I>&gt;<i> how quickly you were able to get this out, with all the automation 
</I>&gt;<i> that everyone (not least of all yourself) has been building to make 
</I>&gt;<i> this process faster and simpler.
</I>&gt;<i>
</I>To echo this: thank you for your work, Adi!

&gt;<i> It appears we've buried the lede on one of our biggest features in 
</I>&gt;<i> this release though - 
</I>&gt;<i> <A HREF="https://github.com/twisted/twisted/pull/1448/files">https://github.com/twisted/twisted/pull/1448/files</A> 
</I>&gt;<i> &lt;<A HREF="https://github.com/twisted/twisted/pull/1448/files">https://github.com/twisted/twisted/pull/1448/files</A>&gt; had no newsfile 
</I>&gt;<i> that shows up in the changelog, but it properly made Deferred into a 
</I>&gt;<i> generic, so I think this is the first release of Twisted where you 
</I>&gt;<i> might /reasonably/ be able to use mypy without your own custom stub 
</I>&gt;<i> files! :)
</I>
This looks very cool, but presents us with a problem.

mypy now complains about instantiations of Deferred without a type 
annotation:

 &gt; d = defer.Deferred()

results in an error:

 &gt; synapse/util/async_helpers.py:124: error: Need type annotation for 
'd'  [var-annotated]

We can't just go and add type annotations because we need to maintain 
compatibility with older Twisted (to make it possible to package in 
Debian et al).

Any suggestions for keeping mypy happy?



-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20210715/df024404/attachment.htm&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="065652.html">[Twisted-Python] Twisted 21.7.0 Pre-Release Announcement
</A></li>
	<LI>Next message (by thread): <A HREF="065656.html">[Twisted-Python] Twisted 21.7.0 Pre-Release Announcement
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65655">[ date ]</a>
              <a href="thread.html#65655">[ thread ]</a>
              <a href="subject.html#65655">[ subject ]</a>
              <a href="author.html#65655">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
