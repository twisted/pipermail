<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Sending disconnect messages to clients
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Sending%20disconnect%20messages%20to%20clients&In-Reply-To=%3C56F1B5BD.80603%40googlemail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030203.html">
   <LINK REL="Next"  HREF="030214.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Sending disconnect messages to clients</H1>
    <B>Chris Norman</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Sending%20disconnect%20messages%20to%20clients&In-Reply-To=%3C56F1B5BD.80603%40googlemail.com%3E"
       TITLE="[Twisted-Python] Sending disconnect messages to clients">chris.norman2 at googlemail.com
       </A><BR>
    <I>Tue Mar 22 15:14:37 MDT 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="030203.html">[Twisted-Python] Sending disconnect messages to clients
</A></li>
        <LI>Next message: <A HREF="030214.html">[Twisted-Python] Twisted 16.1.0 Prerelease 1 Announcement
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30204">[ date ]</a>
              <a href="thread.html#30204">[ thread ]</a>
              <a href="subject.html#30204">[ subject ]</a>
              <a href="author.html#30204">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>OK... ignore me.

I made your test program and it worked fine. So I tried connecting to my 
server with telnet and saw the expected message... So I checked the 
error function which should have been called on the client with the 
particular message to see it was as good as pass...

Sorry for all the messages, everything works fine, panic over!

Thank you for your help with this!


On 22/03/2016 20:37, L. Daniel Burr wrote:
&gt;<i> Hi Chris,
</I>&gt;<i>
</I>&gt;<i> On March 22, 2016 at 3:09:08 PM, Chris Norman 
</I>&gt;<i> (<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">chris.norman2 at googlemail.com</A> &lt;mailto:<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">chris.norman2 at googlemail.com</A>&gt;) 
</I>&gt;<i> wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Hi Daniel,
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> [SNIP]
</I>&gt;<i>
</I>&gt;&gt;<i> Actually it's been added to the callback. I think my mail client 
</I>&gt;&gt;<i> wrapped the lines, but issue self.transport.LoseConnection() is the 
</I>&gt;&gt;<i> comment, so self.deferred_disconnect is added to the callback chain.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Sorry for the confusion.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Anything else which can cause this?
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Without seeing the rest of your code, I can&#8217;t suggest anything 
</I>&gt;<i> concrete.  You say the client never &#8220;sees&#8221; the message, but your call 
</I>&gt;<i> to loseConnection() still occurs, so you&#8217;re not encountering an 
</I>&gt;<i> exception during the callback chain.  Can you come up with an minimal 
</I>&gt;<i> example the demonstrates the problem?
</I>&gt;<i>
</I>&gt;<i> Daniel
</I>&gt;<i> &#8212;
</I>&gt;<i> L. Daniel Burr
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">ldanielburr at me.com</A> &lt;mailto:<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">ldanielburr at me.com</A>&gt;
</I>&gt;<i> (312) 656-8387
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20160322/72b706ef/attachment.html">http://twistedmatrix.com/pipermail/twisted-python/attachments/20160322/72b706ef/attachment.html</A>&gt;
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030203.html">[Twisted-Python] Sending disconnect messages to clients
</A></li>
	<LI>Next message: <A HREF="030214.html">[Twisted-Python] Twisted 16.1.0 Prerelease 1 Announcement
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30204">[ date ]</a>
              <a href="thread.html#30204">[ thread ]</a>
              <a href="subject.html#30204">[ subject ]</a>
              <a href="author.html#30204">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
