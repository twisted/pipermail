<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Sending disconnect messages to clients
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Sending%20disconnect%20messages%20to%20clients&In-Reply-To=%3CetPan.56f1ad00.c520713.9f5b%40dzur.corp.wargaming.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="062663.html">
   <LINK REL="Next"  HREF="062665.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Sending disconnect messages to clients</H1>
    <B>L. Daniel Burr</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Sending%20disconnect%20messages%20to%20clients&In-Reply-To=%3CetPan.56f1ad00.c520713.9f5b%40dzur.corp.wargaming.local%3E"
       TITLE="[Twisted-Python] Sending disconnect messages to clients">ldanielburr at me.com
       </A><BR>
    <I>Tue Mar 22 14:37:20 MDT 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="062663.html">[Twisted-Python] Sending disconnect messages to clients
</A></li>
        <LI>Next message (by thread): <A HREF="062665.html">[Twisted-Python] Sending disconnect messages to clients
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#62664">[ date ]</a>
              <a href="thread.html#62664">[ thread ]</a>
              <a href="subject.html#62664">[ subject ]</a>
              <a href="author.html#62664">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Chris,
On March 22, 2016 at 3:09:08 PM, Chris Norman (<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">chris.norman2 at googlemail.com</A>) wrote:

Hi Daniel,


[SNIP]

Actually it's been added to the callback. I think my mail client wrapped the lines, but issue self.transport.LoseConnection() is the comment, so self.deferred_disconnect is added to the callback chain.

Sorry for the confusion.

Anything else which can cause this?


Without seeing the rest of your code, I can’t suggest anything concrete.  You say the client never “sees” the message, but your call to loseConnection() still occurs, so you’re not encountering an exception during the callback chain.  Can you come up with an minimal example the demonstrates the problem?

Daniel
—
L. Daniel Burr
<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">ldanielburr at me.com</A>
(312) 656-8387

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20160322/fd1ce360/attachment-0002.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="062663.html">[Twisted-Python] Sending disconnect messages to clients
</A></li>
	<LI>Next message (by thread): <A HREF="062665.html">[Twisted-Python] Sending disconnect messages to clients
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#62664">[ date ]</a>
              <a href="thread.html#62664">[ thread ]</a>
              <a href="subject.html#62664">[ subject ]</a>
              <a href="author.html#62664">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
