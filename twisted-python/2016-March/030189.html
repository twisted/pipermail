<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] upcoming changes to twistedmatrix.com mail	infrastructure
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20upcoming%20changes%20to%20twistedmatrix.com%20mail%0A%09infrastructure&In-Reply-To=%3CD4ED8980-8B6B-48CD-AE83-8B00288A7481%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="062649.html">
   <LINK REL="Next"  HREF="062652.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] upcoming changes to twistedmatrix.com mail	infrastructure</H1>
    <B>Glyph</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20upcoming%20changes%20to%20twistedmatrix.com%20mail%0A%09infrastructure&In-Reply-To=%3CD4ED8980-8B6B-48CD-AE83-8B00288A7481%40twistedmatrix.com%3E"
       TITLE="[Twisted-Python] upcoming changes to twistedmatrix.com mail	infrastructure">glyph at twistedmatrix.com
       </A><BR>
    <I>Wed Mar 16 12:52:43 MDT 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="062649.html">[Twisted-Python] Cannot perform IPv6 Link-Local Multicast on	Twisted
</A></li>
        <LI>Next message (by thread): <A HREF="062652.html">[Twisted-Python] [Twisted-web] upcoming changes to twistedmatrix.com mail infrastructure
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30189">[ date ]</a>
              <a href="thread.html#30189">[ thread ]</a>
              <a href="subject.html#30189">[ subject ]</a>
              <a href="author.html#30189">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Over the last few months, twistedmatrix.com's mailman installation has been used increasingly frequently to execute denial-of-service attacks against people's mailboxes.  This is accomplished by sending huge numbers of subscription requests to our website, which in turn sends huge numbers of confirmation emails to their inbox.  Based on some information that some targeted users have sent me, I now believe that this is to cause those users' mail quotas to be exceeded so that password reset or login notification emails won't reach them.

This has been going on for some time, but the frequency and severity of the attacks seem to be increasing; I only recently realized that this was considerably worse than an annoyance for those affected.  I now have at least 1 confirmed report of this attack being a part of a (partially successful) identity theft.

This isn't the only problem we have with email:

We're running our own infrastructure which puts load on our already beyond-overloaded volunteer system administration team.
Despite running our own infrastructure, we are not dogfooding Twisted at all in the process, so we're not even learning anything useful from the pain; &quot;exim is bad&quot; is a lesson we've already learned many times, we do not need to keep learning it.
Given how hard it is for us to upgrade Mailman in our current system, we aren't even dogfooding our fellow community project terribly well.
Our infrastructure runs on the same host as the website and the buildmaster, overloading a very creaky system.
In addition to mailing lists, we run a mail forwarder.  Our server's sender reputation is ... not great.  We don't have SPF records, we don't do DKIM, and we don't provide authenticated SMTP for users, so emails just come from &quot;wherever&quot; when they are sent from, e.g. '<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A>' :-).

In order to address this, as soon as I can reasonably manage to do so, I will be moving Twisted's email infrastructure to mailgun.com &lt;<A HREF="http://mailgun.com/">http://mailgun.com/</A>&gt;, a product that I've been successfully using for a range of personal domains (in particular, the divmod.com &lt;<A HREF="http://divmod.com/">http://divmod.com/</A>&gt; email forwarder - yes, I still operate that, when the Twisted community promises you an email address for life you get it ;-)).  Additionally, Mailgun uses a bunch of Twisted within their infrastructure, so (although we won't be operating it) we will actually be dogfooding considerably more.

(Mailgun is a product of my employer, Rackspace, but they've given us a generous open source discount so there's no conflict of interest; the Twisted project won't be spending money on this.)

There will be a couple of inconveniences immediately after the transition:

At first, there will be no self-service subscription to mailing lists any more.  If you want to subscribe, you'll have to send a message to <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python-owner at twistedmatrix.com</A> &lt;mailto:<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python-owner at twistedmatrix.com</A>&gt; and the list administrator (right now, probably just me) will manually add your address.  (Self-service unsubscription will still be possible.)
I'm not sure if I'll be able to keep the list archives at <A HREF="https://twistedmatrix.com/pipermail/">https://twistedmatrix.com/pipermail/</A> &lt;<A HREF="https://twistedmatrix.com/pipermail/">https://twistedmatrix.com/pipermail/</A>&gt; updated, at least at first.  I would encourage everyone to use <A HREF="http://news.gmane.org/gmane.comp.python.twisted">http://news.gmane.org/gmane.comp.python.twisted</A> &lt;<A HREF="http://news.gmane.org/gmane.comp.python.twisted">http://news.gmane.org/gmane.comp.python.twisted</A>&gt; and <A HREF="http://news.gmane.org/gmane.comp.python.twisted.web">http://news.gmane.org/gmane.comp.python.twisted.web</A> &lt;<A HREF="http://news.gmane.org/gmane.comp.python.twisted.web">http://news.gmane.org/gmane.comp.python.twisted.web</A>&gt; in the meanwhile.
Speaking of the contents of that sad URL, many disused mailing lists will be deleted.  I doubt anyone will notice since there haven't been any posts to most of them in many years.
If you presently send email from a twistedmatrix.com &lt;<A HREF="http://twistedmatrix.com/">http://twistedmatrix.com/</A>&gt; address, you will probably want to start using the mailgun forwarder so that your messages will have nice shiny DKIM/SPF headers; I suspect you may start having more deliverability problems than you already do once other mail servers notice that we have said records if you're not using them.  I'll distribute SMTP credentials via GPG-encrypted email to everyone I'm aware of who uses such an address.

There will be considerable benefits though:

For those of you with @twistedmatrix.com &lt;<A HREF="http://twistedmatrix.com/">http://twistedmatrix.com/</A>&gt; addresses, Mailgun operates a pretty conservative low-pass spam filter, but in looking at the analytics from my own personal domains, it really helps a lot and it is definitely more effective than the setup we've got right now.
Deliverability and mail-sending performance should be much improved; messages should arrive faster because they will be quarantined or deferred-bounced by major senders like GMail et. al. far less often, because we'll be forwarding less spam and legitimate messages will have appropriate anti-spam headers.
Trac will get faster at certain times because email DoSes should stop hitting the server.
Administrative overhead will decrease; we can just stop maintaining email ourselves.
Last but certainly not least, we'll stop being a collective unwilling accessory to cybercrime.

Probably these changes will all be pretty subtle, and most folks won't notice, but I wanted it to be clear in advance that they were intentional, in case there is some disruption associated with them :-).  If anyone wants to give me a hand with parts of this (for example, setting up a smarthost configuration so that trac can still send email) please let me know.

-glyph

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20160316/4cd6be27/attachment.html">http://twistedmatrix.com/pipermail/twisted-python/attachments/20160316/4cd6be27/attachment.html</A>&gt;
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="062649.html">[Twisted-Python] Cannot perform IPv6 Link-Local Multicast on	Twisted
</A></li>
	<LI>Next message (by thread): <A HREF="062652.html">[Twisted-Python] [Twisted-web] upcoming changes to twistedmatrix.com mail infrastructure
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30189">[ date ]</a>
              <a href="thread.html#30189">[ thread ]</a>
              <a href="subject.html#30189">[ subject ]</a>
              <a href="author.html#30189">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
