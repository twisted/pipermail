<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] (no subject)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20%28no%20subject%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000516.html">
   <LINK REL="Next"  HREF="000518.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] (no subject)</H1>
    <B>Blake Winton</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20%28no%20subject%29&In-Reply-To="
       TITLE="[Twisted-Python] (no subject)">bwinton at tor.dhs.org
       </A><BR>
    <I>Wed Oct 17 16:30:18 EDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="000516.html">[Twisted-Python] Fresh CVS hooker
</A></li>
        <LI>Next message: <A HREF="000518.html">[Twisted-Python] (no subject)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#517">[ date ]</a>
              <a href="thread.html#517">[ thread ]</a>
              <a href="subject.html#517">[ subject ]</a>
              <a href="author.html#517">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Background:
I'm trying to make Twisted-0.11.0 run under Windows 2000.
Call me crazy.  ;)

Problem #1:
Windows really doesn't like files without extensions.
Solution #1:
Rename everything in bin\ to include &quot;.py&quot; at the end.
Does this break anything in particular for the Unix folks?
I realize it does make it a little more annoying, but can
you live with that to get it working under Windows?

Problem #2:
Running runtests(.py) gives the following error:
!!!FAILURES!!!
Test Results
Run: 91 ; Failures: 0; Errors: 1
There was 1 error:
1) twisted.test.test_dirdbm.DirDbmTestCase.testDbm
Traceback (most recent call last):
  File &quot;C:\Twisted-0.11.0\twisted\test\test_dirdbm.py&quot;, line 44, in
testDbm
    d[k] = v
  File &quot;C:\Twisted-0.11.0\twisted\persisted\dirdbm.py&quot;, line 60, in
__setitem__
    f = _open(os.path.join(self.dname, k),'wb')
IOError: [Errno 22] Invalid argument:
'C:\\DOCUME~1\\blakew\\LOCALS~1\\Temp\\~1796-1\\YWJj\012'

Tracking this down, The problem seems to be in
twisted\persisted\dirdbm.py
line 59.  We encode the filename, which is good, but we use the base64
encoder
which appends a newline to the end, which is bad.
Solution #2:
I've done some testing, and we can strip the newline (with &quot;k =
k[:-1]&quot;),
and it will decode into the correct value.  We should perhaps do this in
the
encoding function at line 52.

That seemed to be the only change to get runtests to work.

Next up: running the webserver...  :)

Later,
Blake.
-- 
  4:29pm  up 53 days, 23:14,  1 user,  load average: 1.00, 1.00, 1.00



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000516.html">[Twisted-Python] Fresh CVS hooker
</A></li>
	<LI>Next message: <A HREF="000518.html">[Twisted-Python] (no subject)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#517">[ date ]</a>
              <a href="thread.html#517">[ thread ]</a>
              <a href="subject.html#517">[ subject ]</a>
              <a href="author.html#517">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
