<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: pretzel (and mudbot theory)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20pretzel%20%28and%20mudbot%20theory%29&In-Reply-To=20011006110357.A4433%40europa.tranquility.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000468.html">
   <LINK REL="Next"  HREF="000461.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: pretzel (and mudbot theory)</H1>
    <B>Kevin Turner</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20pretzel%20%28and%20mudbot%20theory%29&In-Reply-To=20011006110357.A4433%40europa.tranquility.net"
       TITLE="[Twisted-Python] Re: pretzel (and mudbot theory)">acapnotic at twistedmatrix.com
       </A><BR>
    <I>Sun Oct  7 02:51:36 EDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="000468.html">[Twisted-Python] Re: splitting up Twisted [was: pretzel]
</A></li>
        <LI>Next message: <A HREF="000461.html">[Twisted-Python] Netstring unit tests fail with Python 1.x
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#466">[ date ]</a>
              <a href="thread.html#466">[ thread ]</a>
              <a href="subject.html#466">[ subject ]</a>
              <a href="author.html#466">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ok, here's a sketch of what I think of as an appropriately Twisted way
to do this.

An IRC bot of this sort amounts to the same thing as an IRC server.
Each exists in a number of rooms, has people log on and authenticate to
it, send it messages, sends messages back, etc.  The only difference[1]
is that an IRC server talks to its clients directly through a TCP port,
and the bot talks to them through some other IRC server.  Now, because
Twisted knows that services are independant of the transports which
connect to them, it already has a &quot;transport&quot; abstraction.

You should be able to use the IRC UserAgent as a transport in just the
same way as a tcp.Port...  
myTwistedIrcServer.listenOn(
    PretzelUA(&quot;ry:irc.openprojects.net::6667:#python&quot;), ...)


Now, for the features... what I would do is let features pass a trigger
regex and a callback function to the IRC server, which it would keep a
list of... and the features can send messages back if and when they see
fit.
(This is probably only speaking to one interface of the feature-service,
which may also have a web.Resource interface and a reality interface and
an enterprise interface and... just because Twisted is cool like that.
And, uh, isn't the phrase &quot;it doesn't need to be distributed&quot; pretty
blasphemous around here?)

As for skreech's bit about reprogramming/reconfiguring-without-editing-
code-or-restarting...  Well, I think that's been one of glyph's big
points about Twisted ever since, well, &quot;as long as I can remember&quot;.  I
do remember this because I've disagreed with him about it at times.
=) Don't we still have that introduction/tutorial which demonstrates
telnet-in-to-the-web-server-to-change-its-configuration?  And now with
manhole out there as well...

Skreech, you have the benefit of experience here, as you've already
done at least two incarnations of this bot.  I just wanted to make
sure you're appropriately and sufficiently Twisted before you start
becoming Twisted. ;)

&quot;It's not a cult, I swear&quot;-ingly yours,

 - Kevin (Acap)



[1] &quot;The only difference...&quot;
    Well, ok, so there are a few wrinkles, i.e. certain communications
which may only happen between server and client will have to be
inhibited by the useragent-transport, because it may not be possible or
desirable to proxy them as client-client messages on the other side.

[PS] yeah, there are a whole *lot* of other details left before the
approach I describe can actually happen.  Which is why I introduced it
as a &quot;sketch&quot; instead of code.  =) 

-- 
Kevin Turner &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">acapnotic at twistedmatrix.com</A>&gt; | OpenPGP encryption welcome
The moon is waning gibbous, 81.6% illuminated, 18.9 days old.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000468.html">[Twisted-Python] Re: splitting up Twisted [was: pretzel]
</A></li>
	<LI>Next message: <A HREF="000461.html">[Twisted-Python] Netstring unit tests fail with Python 1.x
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#466">[ date ]</a>
              <a href="thread.html#466">[ thread ]</a>
              <a href="subject.html#466">[ subject ]</a>
              <a href="author.html#466">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
