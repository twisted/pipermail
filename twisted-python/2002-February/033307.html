<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Potential PB Security Problem (And Solution)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Potential%20PB%20Security%20Problem%20%28And%20Solution%29&In-Reply-To=%3C1013827148.4188.43.camel%40zelda%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="033306.html">
   <LINK REL="Next"  HREF="033310.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Potential PB Security Problem (And Solution)</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Potential%20PB%20Security%20Problem%20%28And%20Solution%29&In-Reply-To=%3C1013827148.4188.43.camel%40zelda%3E"
       TITLE="[Twisted-Python] Potential PB Security Problem (And Solution)">glyph at twistedmatrix.com
       </A><BR>
    <I>Fri Feb 15 19:39:08 MST 2002</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="033306.html">[Twisted-Python] Potential PB Security Problem (And Solution)
</A></li>
        <LI>Next message (by thread): <A HREF="033310.html">[Twisted-Python] Potential PB Security Problem (And Solution)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33307">[ date ]</a>
              <a href="thread.html#33307">[ thread ]</a>
              <a href="subject.html#33307">[ subject ]</a>
              <a href="author.html#33307">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, 2002-02-15 at 20:11, Kevin Turner wrote:
&gt;<i> On Fri, 2002-02-15 at 15:44, Glyph Lefkowitz wrote:
</I>&gt;<i> &gt; My proposed solution is to change the way remote methods are invoked:
</I>&gt;<i> &gt; instead of emulating regular Python methods, they would be accessed
</I>&gt;<i> &gt; through a 'callRemote' method
</I>&gt;<i> 
</I>&gt;<i> It's not &quot;slightly more typing&quot;, it's a massive blow to the elegance and
</I>&gt;<i> transparency of spreadable object code.  I guess you're saying that the
</I>&gt;<i> transparancy has become a liability, as you can't necessarily tell if
</I>&gt;<i> you're invoking a local or remote object (...but I thought that was the
</I>&gt;<i> point?).  I'm also a little suprised because this is the first time I've
</I>&gt;<i> seen you vouch for any sort of &quot;safety&quot; mechanism to protect the
</I>&gt;<i> programmer from doing wayward things with eir data.
</I>
It was never my intention that remote object communication be
transparent, only convenient.  (The party line is &quot;translucent&quot;.)  In
fact, one of the use-cases that radix and I discussed on IRC was the
ability to have locally-callable asynchronous objects that behave like
PB references.  Since a PB object's semantics will differ slightly if it
is local or remote if you were to just wrap its results in a deferred
(thanks to serialization, and such) it would be desirable to have a
local interface as well, which could perform the necessary mutations on
the data to make it look as though it'd been serialized.

As it stands now, this wrapper would be pretty thick, creating at least
3 separate instances for a single method invocation.  In the case that
I'm proposing, though, all you'd need is to subclass a mixin that
implements callRemote and dispatches to &quot;async_&quot; prefixed method
instead.  From the user code point of view it would be about the same,
but it would simplify the implementation a lot.

&gt;<i> It also sounds like that this use case is inherently insecure.  You're
</I>&gt;<i> passing privledged information to
</I>&gt;<i> some-object-passed-to-you-from-who-knows-what.  I'm not sure there's
</I>&gt;<i> really anything you can do about that.
</I>
Well, what I propose to do about it &lt;0.5 wink&gt; is make it explicit that
the information you're sending *may* be going to a remote source.  This
causes the broken case -- where the client is trying to masquerade a
reference somewhere bad -- blow up, rather than merrily send your
information somewhere it shouldn't go.

If we intend to use this API for a general basis for client&lt;-&gt;server
communication, it is desirable that we make it require as *little
thinking as possible* to write secure code.  Buffer overflows are, after
all, something that can be easily prevented in C; it's just that the
fact that it's hard makes it a common mistake.

-- 
&quot;Cannot stand to be one of many -- I'm not what they are.&quot;
        -Guster, &quot;Rocketship&quot;
                glyph lefkowitz; ninjaneer, freelance demiurge
    glyph @ [ninjaneering|twistedmatrix].com
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 232 bytes
Desc: This is a digitally signed message part
URL: &lt;/pipermail/twisted-python/attachments/20020215/ca272d98/attachment.sig&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="033306.html">[Twisted-Python] Potential PB Security Problem (And Solution)
</A></li>
	<LI>Next message (by thread): <A HREF="033310.html">[Twisted-Python] Potential PB Security Problem (And Solution)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33307">[ date ]</a>
              <a href="thread.html#33307">[ thread ]</a>
              <a href="subject.html#33307">[ subject ]</a>
              <a href="author.html#33307">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
