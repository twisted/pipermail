<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] perspective introspection
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20perspective%20introspection&In-Reply-To=HOEEKPCOKELHCNIJNMAGOEMJCEAA.sean%40twistedmatrix.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000785.html">
   <LINK REL="Next"  HREF="000787.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] perspective introspection</H1>
    <B>Christopher Armstrong</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20perspective%20introspection&In-Reply-To=HOEEKPCOKELHCNIJNMAGOEMJCEAA.sean%40twistedmatrix.com"
       TITLE="[Twisted-Python] perspective introspection">carmstro at twistedmatrix.com
       </A><BR>
    <I>Mon Feb 11 22:51:41 EST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="000785.html">[Twisted-Python] perspective introspection
</A></li>
        <LI>Next message: <A HREF="000787.html">[Twisted-Python] perspective introspection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#784">[ date ]</a>
              <a href="thread.html#784">[ thread ]</a>
              <a href="subject.html#784">[ subject ]</a>
              <a href="author.html#784">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Well, I asked glyph about this earlier, and he said that it's just as
good to have versioned objects instead of publishing interfaces. I'm not
sure what cases versioned objects wouldn't be sufficient enough, so I'm
not sure which is the best route to go.

On Mon, 2002-02-11 at 22:40, Sean Riley wrote:
&gt;<i> other remote object APIs such as COM and CORBA have ways of asking a remote
</I>&gt;<i> object for it's published interface. SOAP also has this with WSDL
</I>&gt;<i> (<A HREF="http://www.w3.org/TR/wsdl">http://www.w3.org/TR/wsdl</A>).
</I>&gt;<i> 
</I>&gt;<i> implementing a way for pb perspectives to tell consumers about their
</I>&gt;<i> interface seemed like it would be a trivial undertaking - and it was:
</I>&gt;<i> 
</I>&gt;<i> (for twisted.spread.pb):
</I>&gt;<i> 
</I>&gt;<i> from twisted.python import reflect
</I>&gt;<i> 
</I>&gt;<i> def perspective_getInterface(self):
</I>&gt;<i>         &quot;&quot;&quot;Retrieve the set of perspective methods for this perspective.
</I>&gt;<i>         This allows client to retrieve the &quot;published&quot; external interface
</I>&gt;<i>         for this perspective/service.
</I>&gt;<i> 
</I>&gt;<i>         the result is returned in a dictionary with the keys being the names
</I>&gt;<i>         of the methods for the client to call, and the values a tuple of
</I>&gt;<i>         the names of the arguments to each method.
</I>&gt;<i>         &quot;&quot;&quot;
</I>&gt;<i>         dict = {}
</I>&gt;<i>         reflect.addMethodNamesToDict(self.__class__, dict, &quot;perspective_&quot;)
</I>&gt;<i>         del dict[&quot;getInterface&quot;] # remove the perspective_interface method
</I>&gt;<i> (THIS method)
</I>&gt;<i> 
</I>&gt;<i>         # populate args
</I>&gt;<i>         for k in dict.keys():
</I>&gt;<i>             func = self.__class__.__dict__[&quot;perspective_%s&quot;%k]
</I>&gt;<i>             l = func.func_code.co_varnames[1:]
</I>&gt;<i>             dict[k] = l
</I>&gt;<i>         return dict
</I>&gt;<i> 
</I>&gt;<i> it would probably even be possible to wrap this up into WSDL if we wanted
</I>&gt;<i> to, for further &quot;enterprise&quot; compatibility...
</I>&gt;<i> 
</I>&gt;<i> it isn't possible for clients to do this introspection on their own as they
</I>&gt;<i> only have a RemoteReference to the perspective object. does this create any
</I>&gt;<i> security holes? is a bad idea for any other reason?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ----
</I>&gt;<i> &quot;If it's not running programs or fusing atoms, it's just bending space.&quot;,
</I>&gt;<i> Ken Macleod
</I>&gt;<i> &quot;That's it, I'm outta here.&quot;, Homer Simpson's Brain
</I>&gt;<i> Sean Riley
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">sean at ninjaneering.com</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>-- 
                                Chris Armstrong
                         &lt;&lt; <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">radix at twistedmatrix.com</A> &gt;&gt;
                <A HREF="http://twistedmatrix.com/users/carmstro.twistd/">http://twistedmatrix.com/users/carmstro.twistd/</A>



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000785.html">[Twisted-Python] perspective introspection
</A></li>
	<LI>Next message: <A HREF="000787.html">[Twisted-Python] perspective introspection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#784">[ date ]</a>
              <a href="thread.html#784">[ thread ]</a>
              <a href="subject.html#784">[ subject ]</a>
              <a href="author.html#784">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
