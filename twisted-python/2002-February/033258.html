<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] some errors twisted does not handle gracefully
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20some%20errors%20twisted%20does%20not%20handle%20gracefully&In-Reply-To=%3C20020205092108.76415.qmail%40web10006.mail.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="033262.html">
   <LINK REL="Next"  HREF="033352.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] some errors twisted does not handle gracefully</H1>
    <B>Cory Dodt</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20some%20errors%20twisted%20does%20not%20handle%20gracefully&In-Reply-To=%3C20020205092108.76415.qmail%40web10006.mail.yahoo.com%3E"
       TITLE="[Twisted-Python] some errors twisted does not handle gracefully">corydodt at yahoo.com
       </A><BR>
    <I>Tue Feb  5 02:21:08 MST 2002</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="033262.html">[Twisted-Python] IM: Design ideas
</A></li>
        <LI>Next message (by thread): <A HREF="033352.html">[Twisted-Python] some errors twisted does not handle gracefully
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33258">[ date ]</a>
              <a href="thread.html#33258">[ thread ]</a>
              <a href="subject.html#33258">[ subject ]</a>
              <a href="author.html#33258">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm trying to make a catalog of these.  Twisted needs to have
better-defined exceptions for certain conditions instead of relying on
Python to report the error via tracebacks.  More specific errors would
allow the developer to more quickly track down the problem. 
Furthermore,
programmatic handling of exceptions in the client should be feasible. 
Handling a TypeError that could be a bug in your code the same as an
unauthorized-client-action style error means you have to accept that
bugs
in your code will be masked if you catch these.

Here's the list:


1) cause: Didn't set 'application' in a config.tac.

results in this message in the log:

&quot;05/02/2002 00:50 [-] Python file
'/home/cdodt/TwistedPlugins/dataconda/config.tac' did not produce an
application.&quot;

This isn't gross, but there's no reason not to give more information
here.
 Even though I knew about this requirement, I had forgotten about it and
renamed a variable, resulting in this situation.  The log message wasn't
helpful in reminding me.  It should be just a little more specific:
&quot;config.tac must set a variable named 'application'.  No application was
produced.&quot;


2) cause: Trying to log in as an Identity that never had a password set

Traceback! exceptions.TypeError, argument must be string or read-only
buffer, not None
/usr/lib/python2.1/site-packages/twisted/spread/pb.py:759:_recvMessage
/usr/lib/python2.1/site-packages/twisted/spread/flavors.py:155:remoteMessageReceived
/usr/lib/python2.1/site-packages/twisted/spread/pb.py:958:remote_respond
/usr/lib/python2.1/site-packages/twisted/cred/identity.py:123:verifyPassword

This one is pretty ugly.  It's valid to have an Identity with no password.
(If it isn't, then you shouldn't be able to create one.)  In my case,
it just means that user can't log in.  If we must throw an exception
here,
throw &quot;IdentityWithNullPasswordError&quot; or something like that, and better
yet, name the identity with the problem.


3) cause: calling a method with the wrong name on a RemoteReferenced
object (Perspective, Referenceable, etc.)

Traceback! exceptions.AttributeError, LobbyUser instance has no
attribute 'perspective_xxx'
/usr/lib/python2.1/site-packages/twisted/spread/pb.py:759:_recvMessage
/usr/lib/python2.1/site-packages/twisted/spread/pb.py:194:perspectiveMessageReceived

Well ok, duh, at least this one I can figure out.  But it should still
be something more specific: 'RemoteMethodNotImplementedError' for
example.

I will send more as I find them.

Thanks!
C


__________________________________________________
Do You Yahoo!?
Send FREE Valentine eCards with Yahoo! Greetings!
<A HREF="http://greetings.yahoo.com">http://greetings.yahoo.com</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="033262.html">[Twisted-Python] IM: Design ideas
</A></li>
	<LI>Next message (by thread): <A HREF="033352.html">[Twisted-Python] some errors twisted does not handle gracefully
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33258">[ date ]</a>
              <a href="thread.html#33258">[ thread ]</a>
              <a href="subject.html#33258">[ subject ]</a>
              <a href="author.html#33258">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
