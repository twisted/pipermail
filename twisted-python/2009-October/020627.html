<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Problem with XMLRPC resource wrapped with	guard basic auth
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Problem%20with%20XMLRPC%20resource%20wrapped%20with%0A%09guard%20basic%20auth&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020802.html">
   <LINK REL="Next"  HREF="020639.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Problem with XMLRPC resource wrapped with	guard basic auth</H1>
    <B>asset</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Problem%20with%20XMLRPC%20resource%20wrapped%20with%0A%09guard%20basic%20auth&In-Reply-To="
       TITLE="[Twisted-Python] Problem with XMLRPC resource wrapped with	guard basic auth">asset at impactdamage.com
       </A><BR>
    <I>Wed Oct  7 15:59:12 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="020802.html">[Twisted-Python] sleeping in inlineCallbacks
</A></li>
        <LI>Next message: <A HREF="020639.html">[Twisted-Python] IMAP IDLE client support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20627">[ date ]</a>
              <a href="thread.html#20627">[ thread ]</a>
              <a href="subject.html#20627">[ subject ]</a>
              <a href="author.html#20627">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I was indeed being tricked. I actually tested soap with a real client, but 
with xmlrpc i was using the browser.  I was expecting to see the same error 
message, and instead got a new one that was presented by the modifications 
I pulled out of the trunk to support the issue in #4014.  I was expecting 
to see the older error message and it was replaced.

A quick test via,

&gt;&gt;&gt;<i> import xmlrpclib
</I>&gt;&gt;&gt;<i> server = xmlrpclib.Server('<A HREF="http://user:password@localhost:9999/rpc2'">http://user:password@localhost:9999/rpc2'</A>)
</I>&gt;&gt;&gt;<i> server.quote()
</I>
Showed it indeed worked like it should. Swapped it to use SSL and now I'm 
all set.

Thank you for the clarification. Next time I'll test more before posting to 
the list. ;)

TWKiel

----------------------------------------
From: <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at twistedmatrix.com</A>
Sent: Tuesday, October 06, 2009 6:43 PM
To: <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">asset at impactdamage.com</A>, &quot;Twisted general discussion&quot; 
&lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>&gt;
Subject: Re: [Twisted-Python] Problem with XMLRPC resource wrapped with 
guard basic auth 

On 12:00 am, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">asset at impactdamage.com</A> wrote:
&gt;<i>Using the current trunk r27366 (which is after #4014 fixed a related
</I>&gt;<i>issue), I am having trouble with an implementation of web.guard wrapped
</I>&gt;<i>XMLRPC.  This is a new test implementation to expose both a soap and 
</I>&gt;<i>xmlrpc
</I>&gt;<i>interface.  SOAP works, but xmlrpc throws UnsupportedMethod POST.
</I>
I think you're being tricked by the confusing way in which this 
exception is displayed and by a slight implementation difference (and 
indeed externally visible behavioral difference) between XMLRPC and 
SOAPPublisher.

SOAPPublisher defines &quot;render&quot; and no other render methods.  So it will 
accept any request method and treat it the same way.  It will never 
raise UnsupportedMethod.

XMLRPC, on the other hand, defines &quot;render_POST&quot; and no other render 
methods, so it will only accept POST requests.  For any other request, 
it will raise UnsupportedMethod and create that exception with a tuple 
of which methods it does allow.  ('POST',) in this case.

The exception I see when I approach this server at /rpc2 with my web 
browser (which is the only thing I've tried, because it's too much work 
to put together a real xml-rpc client that supports basic auth) is just 
what I'd expect.  The browser issues a GET, the XMLRPC resource rejects 
this, indicating it only accepts POSTs.

It may be worth improving the way UnsupportedMethod exceptions are 
stringified to make it more clear what's going on.  Or, if this doesn't 
actually explain your problem, feel free to point that out and provide 
more details about how the client you're using behaves.

Jean-Paul

 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20091007/9e8a203c/attachment.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20091007/9e8a203c/attachment.htm</A> 
</PRE>








































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020802.html">[Twisted-Python] sleeping in inlineCallbacks
</A></li>
	<LI>Next message: <A HREF="020639.html">[Twisted-Python] IMAP IDLE client support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20627">[ date ]</a>
              <a href="thread.html#20627">[ thread ]</a>
              <a href="subject.html#20627">[ subject ]</a>
              <a href="author.html#20627">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
