<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] How to find out if exceptions are being raised	in your errBack?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20How%20to%20find%20out%20if%20exceptions%20are%20being%20raised%0A%09in%20your%20errBack%3F&In-Reply-To=B04EC372-364F-4A97-A51A-DB074933997D%40integrateddevcorp.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020696.html">
   <LINK REL="Next"  HREF="020686.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] How to find out if exceptions are being raised	in your errBack?</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20How%20to%20find%20out%20if%20exceptions%20are%20being%20raised%0A%09in%20your%20errBack%3F&In-Reply-To=B04EC372-364F-4A97-A51A-DB074933997D%40integrateddevcorp.com"
       TITLE="[Twisted-Python] How to find out if exceptions are being raised	in your errBack?">glyph at twistedmatrix.com
       </A><BR>
    <I>Wed Oct 14 08:45:28 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="020696.html">[Twisted-Python] How to find out if exceptions are being raised	in your errBack?
</A></li>
        <LI>Next message: <A HREF="020686.html">[Twisted-Python] Twisted Performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20695">[ date ]</a>
              <a href="thread.html#20695">[ thread ]</a>
              <a href="subject.html#20695">[ subject ]</a>
              <a href="author.html#20695">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Oct 14, 2009 at 4:43 AM, Steve Steiner (listsin) &lt;
<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">listsin at integrateddevcorp.com</A>&gt; wrote:

&gt;<i>
</I>&gt;<i> On Oct 14, 2009, at 2:07 AM, Glyph Lefkowitz wrote:
</I>&gt;<i>
</I>&gt;<i> Yes, we're working on it but it's a large code base and we started with
</I>&gt;<i> exactly zero tests.  While that leaves infinite room for improvement, it's a
</I>&gt;<i> little overwhelming.  Oh well, at least we know where to concentrate first
</I>&gt;<i> ;-0.
</I>&gt;<i>
</I>
I realize it's a challenge, but, well, &quot;Doctor, doctor, it hurts when I
don't do this!&quot;.  My immediate reaction is &quot;go ahead and do it, then&quot; :-).

&gt;<i> Trial will helpfully fail tests which cause exceptions to be logged, so you
</I>&gt;<i> don't need to write any special extra test to make sure that nothing is
</I>&gt;<i> blowing up; just test your error-handling case, and if it blows up you will
</I>&gt;<i> see it.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> We've just been using nose; is that something Trial handles specially for
</I>&gt;<i> Twisted?
</I>&gt;<i>
</I>
Yes.

&gt;<i> If you want to handle logged exceptions specially, for example to put them
</I>&gt;<i> in a separate file, or to e-mail them to somebody, consider writing a log
</I>&gt;<i> observer that checks for the isError key and does something special there.
</I>&gt;<i> You can find out more about writing log observers here: &lt;
</I>&gt;<i> <A HREF="http://twistedmatrix.com/projects/core/documentation/howto/logging.html">http://twistedmatrix.com/projects/core/documentation/howto/logging.html</A>&gt;.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> This is an area of Twisted I haven't explored at all since the code's all
</I>&gt;<i> using the standard Python logging.
</I>&gt;<i> That's the thing about Twisted; sometimes it's hard to know whether the
</I>&gt;<i> stuff that has been built into standard Python since Twisted 'rolled their
</I>&gt;<i> own' is a superset, a subset, or a completely different beast.  Logging is a
</I>&gt;<i> good case in point.  Since we're using Python's logging everywhere, I wasn't
</I>&gt;<i> even sure whether there would be an advantage to learning Twisted's similar
</I>&gt;<i> system.  Twisted's trial is another example; we've just been using nose.
</I>&gt;<i>  Seems like there's always some little extra that makes the Twisted stuff
</I>&gt;<i> worth knowing.
</I>&gt;<i>
</I>
Another option here would be to set up a PythonLoggingObserver that relay's
Twisted's log messages to Python standard logging, then setup a standard log
handler (another poster suggests nose already does this) to fail the test
when appropriate.  I'm fairly sure that the information you need is being
properly relayed to the relevant parties, but if I'm wrong, it's a bug and
probably a pretty easy one to fix :).
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20091014/4828fde8/attachment-0001.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20091014/4828fde8/attachment-0001.htm</A> 
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020696.html">[Twisted-Python] How to find out if exceptions are being raised	in your errBack?
</A></li>
	<LI>Next message: <A HREF="020686.html">[Twisted-Python] Twisted Performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20695">[ date ]</a>
              <a href="thread.html#20695">[ thread ]</a>
              <a href="subject.html#20695">[ subject ]</a>
              <a href="author.html#20695">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
