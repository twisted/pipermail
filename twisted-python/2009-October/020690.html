<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Twisted Performance
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Twisted%20Performance&In-Reply-To=3db160680910131944w7f101c1fhfd29dad00eb4dfe0%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020687.html">
   <LINK REL="Next"  HREF="020693.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Twisted Performance</H1>
    <B>Laurens Van Houtven</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Twisted%20Performance&In-Reply-To=3db160680910131944w7f101c1fhfd29dad00eb4dfe0%40mail.gmail.com"
       TITLE="[Twisted-Python] Twisted Performance">lvh at laurensvh.be
       </A><BR>
    <I>Wed Oct 14 04:55:53 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="020687.html">[Twisted-Python] Twisted Performance
</A></li>
        <LI>Next message: <A HREF="020693.html">[Twisted-Python] Twisted Performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20690">[ date ]</a>
              <a href="thread.html#20690">[ thread ]</a>
              <a href="subject.html#20690">[ subject ]</a>
              <a href="author.html#20690">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Oct 14, 2009 at 4:44 AM, Daniel Griffin &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">dgriff1 at gmail.com</A>&gt; wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I am new to twisted and have been having trouble finding out information
</I>&gt;<i> about twisted's performance. I have a fairly simple setup where I need to
</I>&gt;<i> open a bunch of TCP connections that last for varying amounts of time but
</I>&gt;<i> dont do much. I have tried using threads(got GILed to death) and
</I>&gt;<i> Processes(even worse). Now I am looking at either making a system to start
</I>&gt;<i> the connection and send info to have the remote point &quot;phone home&quot; when its
</I>&gt;<i> done, then closing the connection or using something like Twisted.
</I>&gt;<i>
</I>&gt;<i> my socket conversation:
</I>&gt;<i> my app -&gt; send a message that triggers an action on the other end
</I>&gt;<i> other end -&gt; recv's message does action(can take any amount of time)
</I>&gt;<i> other end - &gt; sends results back to my app
</I>
Sure, that's a blueprint for pretty much every Twisted app. You just
need to make the thing that takes a long time not block the reactor.
How you do that mostly depends on what the &quot;long thing&quot; is.

Usually this means using an existing library, sometimes it means
writing your own, and for some unfortunate cases it means deferring to
a thread. (Note that deferring to a thread to fake non-blocking IO is
not anywhere near as bad as doing actual _work_ in threads ;-))

Personally I'm a big fan of this series of blog posts:
<A HREF="http://krondo.com/blog/?page_id=1327">http://krondo.com/blog/?page_id=1327</A>

And you should probably read the finger tutorial and the deferreds tutorial :-)

&gt;<i> Can twisted handle up to several hundred connections like this? Is there a
</I>&gt;<i> better approach? Is there anything I should avoid?
</I>
Depends how much work you're doing in the Twisted process or on the
same box, of course. You're probably looking at several thousand
rather than several hundred, depending on how much work needs to be
done in each one.

&gt;<i> Thanks,
</I>&gt;<i>
</I>&gt;<i> Dan
</I>
</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020687.html">[Twisted-Python] Twisted Performance
</A></li>
	<LI>Next message: <A HREF="020693.html">[Twisted-Python] Twisted Performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20690">[ date ]</a>
              <a href="thread.html#20690">[ thread ]</a>
              <a href="subject.html#20690">[ subject ]</a>
              <a href="author.html#20690">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
