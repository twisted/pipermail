<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] HTTPClientFactory's deferred never finishing	download on .vcf (vcard file) link
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20HTTPClientFactory%27s%20deferred%20never%20finishing%0A%09download%20on%20.vcf%20%28vcard%20file%29%20link&In-Reply-To=95bb10690910090253j5c2a734ch364009f7d09864fe%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020653.html">
   <LINK REL="Next"  HREF="020656.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] HTTPClientFactory's deferred never finishing	download on .vcf (vcard file) link</H1>
    <B>Steve Steiner (listsin)</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20HTTPClientFactory%27s%20deferred%20never%20finishing%0A%09download%20on%20.vcf%20%28vcard%20file%29%20link&In-Reply-To=95bb10690910090253j5c2a734ch364009f7d09864fe%40mail.gmail.com"
       TITLE="[Twisted-Python] HTTPClientFactory's deferred never finishing	download on .vcf (vcard file) link">listsin at integrateddevcorp.com
       </A><BR>
    <I>Sat Oct 10 01:34:03 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="020653.html">[Twisted-Python] HTTPClientFactory's deferred never finishing	download on .vcf (vcard file) link
</A></li>
        <LI>Next message: <A HREF="020656.html">[Twisted-Python] HTTPClientFactory's deferred never finishing	download on .vcf (vcard file) link
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20655">[ date ]</a>
              <a href="thread.html#20655">[ thread ]</a>
              <a href="subject.html#20655">[ subject ]</a>
              <a href="author.html#20655">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Oct 9, 2009, at 5:53 AM, Reza Lotun wrote:

&gt;&gt;<i> I haven't found any way to dump the actual headers from within  
</I>&gt;&gt;<i> Twisted
</I>&gt;<i>
</I>&gt;<i> The getPage function in twisted.web is suited for simple calls but
</I>&gt;<i> won't return returns. What you have to do is create your own slightly
</I>&gt;<i> modified version of getPage that keeps track of the factory used for
</I>&gt;<i> the call (by attaching it to the deferred or something).
</I>
Yah, I kind of think this code was intended to do his own getPage()  
but I'm not exactly sure what the point was.  Maybe he used it for  
debugging along the way, but the original intent was lost due to lack  
of VCS (as was he!)

I ended up rewriting it to use the simple client.getPage()

Along the way, I ran into:

	<A HREF="http://python.net/crew/mwh/apidocs/twisted.web.http.Request.html">http://python.net/crew/mwh/apidocs/twisted.web.http.Request.html</A>

Good Lord, no wonder I'm confused.

Half PEP-8, <A HREF="http://www.python.org/dev/peps/pep-0008/,">http://www.python.org/dev/peps/pep-0008/,</A> half JavaRama.

I finally figured out that it was a stupid string formatting bug in  
the code that was being echoed by Twisted but swallowed by the &quot;Grand  
Catcher of all Things Exception&quot; in Twisted..

Once I found and fixed that, everything works fine -- until the next  
time.

Thanks for your help.

S


</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020653.html">[Twisted-Python] HTTPClientFactory's deferred never finishing	download on .vcf (vcard file) link
</A></li>
	<LI>Next message: <A HREF="020656.html">[Twisted-Python] HTTPClientFactory's deferred never finishing	download on .vcf (vcard file) link
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20655">[ date ]</a>
              <a href="thread.html#20655">[ thread ]</a>
              <a href="subject.html#20655">[ subject ]</a>
              <a href="author.html#20655">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
