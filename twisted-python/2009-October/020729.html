<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Handeling unresolved DNS queries?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Handeling%20unresolved%20DNS%20queries%3F&In-Reply-To=e78558910910201250n270d329di7678454ad9d231b9%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020714.html">
   <LINK REL="Next"  HREF="020733.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Handeling unresolved DNS queries?</H1>
    <B>exarkun at twistedmatrix.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Handeling%20unresolved%20DNS%20queries%3F&In-Reply-To=e78558910910201250n270d329di7678454ad9d231b9%40mail.gmail.com"
       TITLE="[Twisted-Python] Handeling unresolved DNS queries?">exarkun at twistedmatrix.com
       </A><BR>
    <I>Thu Oct 22 09:55:16 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="020714.html">[Twisted-Python] Handeling unresolved DNS queries?
</A></li>
        <LI>Next message: <A HREF="020733.html">[Twisted-Python] Handeling unresolved DNS queries?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20729">[ date ]</a>
              <a href="thread.html#20729">[ thread ]</a>
              <a href="subject.html#20729">[ subject ]</a>
              <a href="author.html#20729">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 20 Oct, 07:50 pm, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">jesper at taxboel.dk</A> wrote:
&gt;<i>Hi Guys,
</I>&gt;<i>
</I>&gt;<i>Im playing with a dns-cache script, that overrides DNS requests for 
</I>&gt;<i>certain
</I>&gt;<i>IP addresses.
</I>&gt;<i>
</I>&gt;<i>I would like to add functionality, so unresolved requests are sent to a
</I>&gt;<i>spicific IP. How do I go about doing that?
</I>&gt;<i>
</I>&gt;<i>Is there a negative answer in the (udp) DNS protocol or am I forced to 
</I>&gt;<i>use a
</I>&gt;<i>timeout.
</I>
You've overridden writeMessage to inspect messages for answers and 
rewrite them if necessary.  You can recognize error responses by looking 
at the rCode attribute of the message object itself.  This will take on 
a value like dns.OK, dns.EFORMAT, dns.ESERVER, dns.ENAME, dns.ENOTIMP, 
or dns.EREFUSED.  You can handle these errors by making a request of 
another domain, although since writeMessage is a very low-level API in 
the process and not really intended to be overridden, I'm not sure how 
you'll insert the responses you get from these new requests into the 
original request/response process.

Jean-Paul

</PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020714.html">[Twisted-Python] Handeling unresolved DNS queries?
</A></li>
	<LI>Next message: <A HREF="020733.html">[Twisted-Python] Handeling unresolved DNS queries?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20729">[ date ]</a>
              <a href="thread.html#20729">[ thread ]</a>
              <a href="subject.html#20729">[ subject ]</a>
              <a href="author.html#20729">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
