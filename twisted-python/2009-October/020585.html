<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] twisted python usage
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20twisted%20python%20usage&In-Reply-To=20091002180025.1533.1810599265.divmod.xquotient.581%40localhost.localdomain">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020584.html">
   <LINK REL="Next"  HREF="020586.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] twisted python usage</H1>
    <B>vitaly at synapticvision.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20twisted%20python%20usage&In-Reply-To=20091002180025.1533.1810599265.divmod.xquotient.581%40localhost.localdomain"
       TITLE="[Twisted-Python] twisted python usage">vitaly at synapticvision.com
       </A><BR>
    <I>Fri Oct  2 14:18:50 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="020584.html">[Twisted-Python] twisted python usage
</A></li>
        <LI>Next message: <A HREF="020586.html">[Twisted-Python] twisted python usage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20585">[ date ]</a>
              <a href="thread.html#20585">[ thread ]</a>
              <a href="subject.html#20585">[ subject ]</a>
              <a href="author.html#20585">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
bingo! thank you guys a lot! it was all about 'repr(self['module'])'.

Glyph, sorry man, did mean to hurt and shit on twisted: personally and  
professionally I think its a VERY professional framework, and I'm  
using it about a year.

Good job guys, keep doing.


Quoting <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at twistedmatrix.com</A>:

&gt;<i> On 05:47 pm, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">vitaly at synapticvision.com</A> wrote:
</I>&gt;&gt;<i> Quoting &quot;Glyph Lefkowitz&quot; &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A>&gt;:
</I>&gt;&gt;&gt;<i> On Fri, Oct 2, 2009 at 12:47 PM, &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">vitaly at synapticvision.com</A>&gt; wrote:
</I>&gt;&gt;&gt;&gt;<i> hi,
</I>&gt;&gt;&gt;<i> Hi, Vitaly!
</I>&gt;&gt;&gt;&gt;<i> I'm trying to accomplish to work couple of CLI commands without luck.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> <A HREF="http://twistedmatrix.com/projects/core/documentation/howto/options.htmland">http://twistedmatrix.com/projects/core/documentation/howto/options.htmland</A>
</I>&gt;&gt;&gt;&gt;<i> test/test_usage.py were not really helpful.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Why weren't these helpful?  To me, they seem to clearly explain
</I>&gt;&gt;&gt;<i> everything
</I>&gt;&gt;&gt;<i> you're trying to do.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> First of all - I'm sorry, I've succeed to accomplish first two
</I>&gt;&gt;<i> commands with previous doc link partially: I can't read value per key
</I>&gt;&gt;<i> ...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Trying to follow the following snip, how can I read for example value
</I>&gt;&gt;<i> of key -m?
</I>&gt;&gt;<i> CLI: python test.py import -m 'abc321'
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> from twisted.python import usage
</I>&gt;&gt;<i> import sys
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> class ImportOptions(usage.Options):
</I>&gt;&gt;<i>     optParameters = [
</I>&gt;&gt;<i>         ['module',  'm', 1, None],
</I>&gt;&gt;<i>         ['vendor',  'v', None, None],
</I>&gt;&gt;<i>         ['release', 'r', None]
</I>&gt;&gt;<i>     ]
</I>&gt;<i>
</I>&gt;<i> I think the idiomatic approach would be to add another method to this
</I>&gt;<i> class to replace the &quot;doImport&quot; function below:
</I>&gt;<i>
</I>&gt;<i>     def execute(self):
</I>&gt;<i>         print &quot;My -m option was&quot;, repr(self['module'])
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> class CheckoutOptions(usage.Options):
</I>&gt;&gt;<i>     optParameters = [['module', 'm', None, None], ['tag', 'r', None,
</I>&gt;&gt;<i> None]]
</I>&gt;<i>
</I>&gt;<i> And again here, replacing &quot;doCheckout&quot;:
</I>&gt;<i>
</I>&gt;<i>     def execute(self):
</I>&gt;<i>         print &quot;*My* -m option was&quot;, repr(self['module'])
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> class Options(usage.Options):
</I>&gt;&gt;<i>     subCommands = [['import', None, ImportOptions, &quot;Do an Import&quot;],
</I>&gt;&gt;<i>                    ['checkout', None, CheckoutOptions, &quot;Do a
</I>&gt;&gt;<i> Checkout&quot;]]
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     optParameters = [
</I>&gt;&gt;<i>         ['compression', 'z', 0, 'Use compression'],
</I>&gt;&gt;<i>         ['repository', 'r', None, 'Specify an alternate repository']
</I>&gt;&gt;<i>     ]
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> def doImport():
</I>&gt;&gt;<i>     print &quot;TODO: how can I now read the value of key, let's say of -m
</I>&gt;&gt;<i> key?&quot;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> def doCheckout():
</I>&gt;&gt;<i>     print &quot;TODO: same as doImport()&quot;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> config = Options()
</I>&gt;&gt;<i> try:
</I>&gt;&gt;<i>     config.parseOptions()
</I>&gt;&gt;<i> except usage.UsageError, errortext:
</I>&gt;&gt;<i>     print '%s: %s' % (sys.argv[0], errortext)
</I>&gt;&gt;<i>     print '%s: Try --help for usage details.' % (sys.argv[0])
</I>&gt;&gt;<i>     sys.exit(1)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> if config.subCommand == 'import':
</I>&gt;&gt;<i>     doImport(config.subOptions)
</I>&gt;&gt;<i> elif config.subCommand == 'checkout':
</I>&gt;&gt;<i>     doCheckout(config.subOptions)
</I>&gt;<i>
</I>&gt;<i> Then replace this thing with this:
</I>&gt;<i>
</I>&gt;<i>     config.subOptions.execute()
</I>&gt;<i>
</I>&gt;<i> But the answer to your original question seems to just be
</I>&gt;<i> &quot;options[optionName]&quot;.
</I>&gt;<i>
</I>&gt;<i> Jean-Paul
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020584.html">[Twisted-Python] twisted python usage
</A></li>
	<LI>Next message: <A HREF="020586.html">[Twisted-Python] twisted python usage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20585">[ date ]</a>
              <a href="thread.html#20585">[ thread ]</a>
              <a href="subject.html#20585">[ subject ]</a>
              <a href="author.html#20585">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
