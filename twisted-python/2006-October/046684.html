<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] trial for integration tests - setUpClass(),	tearDownClass()
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20trial%20for%20integration%20tests%20-%20setUpClass%28%29%2C%0A%09tearDownClass%28%29&In-Reply-To=%3C452B453F.9000100%40slamb.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="046683.html">
   <LINK REL="Next"  HREF="046685.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] trial for integration tests - setUpClass(),	tearDownClass()</H1>
    <B>Scott Lamb</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20trial%20for%20integration%20tests%20-%20setUpClass%28%29%2C%0A%09tearDownClass%28%29&In-Reply-To=%3C452B453F.9000100%40slamb.org%3E"
       TITLE="[Twisted-Python] trial for integration tests - setUpClass(),	tearDownClass()">slamb at slamb.org
       </A><BR>
    <I>Tue Oct 10 01:01:19 MDT 2006</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="046683.html">[Twisted-Python] Trial __del__ behavior change - intentional?
</A></li>
        <LI>Next message (by thread): <A HREF="046685.html">[Twisted-Python] Problems with code in &quot;Twisted&quot; book ...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46684">[ date ]</a>
              <a href="thread.html#46684">[ thread ]</a>
              <a href="subject.html#46684">[ subject ]</a>
              <a href="author.html#46684">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>We're using trial for tests of an external device. We've got some 
C-based unit tests where we're able to run our code on the build 
machine, but the Python/trial stuff is more of an integration test:

* Python can't run on our device itself - not only would the porting 
effort be prohibitive, it simply wouldn't fit.
* Tests inevitably cover more than one unit - everything requires the 
thing to have booted successfully, tests require either working console 
or Ethernet+IP+TCP+SSL+SSH, etc.
* We can't realistically do a new boot for each test method. It'd take 
too long. We're currently doing everything in one boot; one boot per 
test class might be feasible.

We're really not using any twisted-testing features of trial, and for us 
the package name &quot;twisted.trial.unittest&quot; is a total lie, but it 
provides a pretty nice framework all the same. buildbot understands its 
output, it does nice things like giving you results on 
InterruptException, etc.

So given our unusual usage, there's some stuff we need to do in 
setUpClass() and tearDownClass(). I've seen murmurs on the list avoid 
removing them. What's the latest? I like them, but I've encountered a 
couple problems so far:

* When setUpClass() errors out, Trial says our tests are broken, then 
tries again for every test method in the class. I have a thick skin, so 
I can take the taunting, but trying to reboot the thing a million times 
is pretty undesirable.

* If the final setUp() fails, tearDownClass() is never invoked. (I'll 
file a bug with details if there's still interest in setUpClass() and 
tearDownClass().)

-- 
Scott Lamb &lt;<A HREF="http://www.slamb.org/">http://www.slamb.org/</A>&gt;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="046683.html">[Twisted-Python] Trial __del__ behavior change - intentional?
</A></li>
	<LI>Next message (by thread): <A HREF="046685.html">[Twisted-Python] Problems with code in &quot;Twisted&quot; book ...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46684">[ date ]</a>
              <a href="thread.html#46684">[ thread ]</a>
              <a href="subject.html#46684">[ subject ]</a>
              <a href="author.html#46684">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
