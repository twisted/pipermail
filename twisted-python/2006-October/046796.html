<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Wrapping my mind around Interfaces, adapters,	factories, protocols
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Wrapping%20my%20mind%20around%20Interfaces%2C%20adapters%2C%0A%09factories%2C%20protocols&In-Reply-To=%3C4547E9C4.6040700%40netland.nl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="046789.html">
   <LINK REL="Next"  HREF="046795.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Wrapping my mind around Interfaces, adapters,	factories, protocols</H1>
    <B>Ron Arts</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Wrapping%20my%20mind%20around%20Interfaces%2C%20adapters%2C%0A%09factories%2C%20protocols&In-Reply-To=%3C4547E9C4.6040700%40netland.nl%3E"
       TITLE="[Twisted-Python] Wrapping my mind around Interfaces, adapters,	factories, protocols">ron.arts at netland.nl
       </A><BR>
    <I>Tue Oct 31 17:26:44 MST 2006</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="046789.html">[Twisted-Python] Re: If lineReceived returns deferred,	then connection is dropped and this deferred given as error message
</A></li>
        <LI>Next message (by thread): <A HREF="046795.html">[Twisted-Python] Strange error when using strptime within a nevow	application
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46796">[ date ]</a>
              <a href="thread.html#46796">[ thread ]</a>
              <a href="subject.html#46796">[ subject ]</a>
              <a href="author.html#46796">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I am trying to accomplish the following:

- have a client connecting to a remote service
   and collecting information from it
- have a service that can be queried for the collected
   info

But I am getting totally confused with all the interface classes,
adapters, factories, protocols I should write according to the
finger tutorial.
I skimmed the mailinglist, but to no avail.

My app is laid out almost like the finger tutorial (I left out
the web, and PB parts for now), the biggest difference being that
the client data should be available to the service that is
being queried.

So I thought that instead of first create the finger service in
the makeService() method, I would first create a TCP client, and
pass that to a service to be created later.

something like:

def makeService(config):
     s = service.MultiService()

     m = MyClient()
     m.username = 'username'
     m.password = 'password'
     theserver = '192.168.1.2'
     b = internet.TCPClient(theserver, 6666, IMyClientFactory(m))
     b.setServiceParent(s)

     return s

But for this to work I have to create interfacethis, protocol that,
and use components.registerAdapter(), to do something I totally don't
understand what it does and why it needs to be done,
I have read the finger example many times, but I can't seem to wrap
my mind around these concepts, in the little time I have available.
Can anybody whip me up a supershort example in pseudo code of what I
need to do to make the above makeService work? And explain it a bit?

Many thanks,
Ron


-------------- next part --------------
A non-text attachment was scrubbed...
Name: ron.arts.vcf
Type: text/x-vcard
Size: 270 bytes
Desc: not available
URL: &lt;/pipermail/twisted-python/attachments/20061101/47ddcbb6/attachment-0002.vcf&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3403 bytes
Desc: S/MIME Cryptographic Signature
URL: &lt;/pipermail/twisted-python/attachments/20061101/47ddcbb6/attachment-0002.bin&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="046789.html">[Twisted-Python] Re: If lineReceived returns deferred,	then connection is dropped and this deferred given as error message
</A></li>
	<LI>Next message (by thread): <A HREF="046795.html">[Twisted-Python] Strange error when using strptime within a nevow	application
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46796">[ date ]</a>
              <a href="thread.html#46796">[ thread ]</a>
              <a href="subject.html#46796">[ subject ]</a>
              <a href="author.html#46796">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
