<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] can pb.Copyable objects be compared for equality	after a round trip?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20can%20pb.Copyable%20objects%20be%20compared%20for%20equality%0A%09after%20a%20round%20trip%3F&In-Reply-To=%3CB4FA28D0-B8AE-4898-8417-0F315B2B8F45%40gravina.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="045996.html">
   <LINK REL="Next"  HREF="046001.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] can pb.Copyable objects be compared for equality	after a round trip?</H1>
    <B>Robert Gravina</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20can%20pb.Copyable%20objects%20be%20compared%20for%20equality%0A%09after%20a%20round%20trip%3F&In-Reply-To=%3CB4FA28D0-B8AE-4898-8417-0F315B2B8F45%40gravina.com%3E"
       TITLE="[Twisted-Python] can pb.Copyable objects be compared for equality	after a round trip?">robert at gravina.com
       </A><BR>
    <I>Sat Jun 24 11:57:56 MDT 2006</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="045996.html">[Twisted-Python] Iron Python support
</A></li>
        <LI>Next message (by thread): <A HREF="046001.html">[Twisted-Python] can pb.Copyable objects be compared for equality	after a round trip?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46000">[ date ]</a>
              <a href="thread.html#46000">[ thread ]</a>
              <a href="subject.html#46000">[ subject ]</a>
              <a href="author.html#46000">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This is an old thread, but I am finally tackling the round trip  
editing problem and unfortunately getting nowhere. Basically, I want  
to be able to create some object on one machine, then send it off to  
another (who edits some of the attributes) then when the other  
machine calls a method on the original machine and passes it the  
updated object, I can identify it simply by comparing for quality.  
Think of your basic client/server database application.

The Twisted howtos make the claim that &quot; Copyable objects return  
unchanged from a round trip&quot;, and can be compared for quality like  
(obj == obj) but in all my attempts I can get this to work (they are  
never equal). Does someone know of some sample code where this is  
done successfully? It is done successfully with pb.Referenceables in  
the howtos (look for the pb2client.py and pb2server.py listings).
<A HREF="http://twistedmatrix.com/projects/core/documentation/howto/pb-usage.html">http://twistedmatrix.com/projects/core/documentation/howto/pb-usage.html</A>

Since I'm using the ZODB, I've tried using ZODB's _p_oid attribute to  
identify objects that come back to me but the _p_oid is  None even  
after a transaction.commit() (since the object hasn't been persisted  
yet probably).

I could also create my own ID attribute and attempt to generate a  
random ID and compare that, but this is most definately a hack.

I am really having trouble progressing with my application because of  
this problem. I'd really appreciate some insight on how to go about  
solving this. Admittedly I'm not all that experienced with Twisted,  
but I thought this kind of thing was supposed to be straightforward.  
What am I doing wrong?

Thanks,

Robert

On 2006/05/07, at 18:55, Micky Latowicki wrote:

&gt;<i> It's possible to make each element in the set being edited a
</I>&gt;<i> cacheable. If you think that would introduce too much overhead, then
</I>&gt;<i> you can add a method to the &quot;address book&quot; object which updates one of
</I>&gt;<i> the entries in this address book, and uses an id to identify the entry
</I>&gt;<i> within the address book. So the address book is the dict. That's what
</I>&gt;<i> I did in a similar case. I'm no expert though.
</I>&gt;<i>
</I>&gt;<i> HTH
</I>&gt;<i>
</I>&gt;<i> Micky
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="045996.html">[Twisted-Python] Iron Python support
</A></li>
	<LI>Next message (by thread): <A HREF="046001.html">[Twisted-Python] can pb.Copyable objects be compared for equality	after a round trip?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46000">[ date ]</a>
              <a href="thread.html#46000">[ thread ]</a>
              <a href="subject.html#46000">[ subject ]</a>
              <a href="author.html#46000">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
