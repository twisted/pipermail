<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Returning a deferred, maybe
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Returning%20a%20deferred%2C%20maybe&In-Reply-To=%3C20060616001415.29014.183238890.divmod.quotient.1294%40ohm%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="045903.html">
   <LINK REL="Next"  HREF="045907.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Returning a deferred, maybe</H1>
    <B>glyph at divmod.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Returning%20a%20deferred%2C%20maybe&In-Reply-To=%3C20060616001415.29014.183238890.divmod.quotient.1294%40ohm%3E"
       TITLE="[Twisted-Python] Returning a deferred, maybe">glyph at divmod.com
       </A><BR>
    <I>Thu Jun 15 18:14:15 MDT 2006</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="045903.html">[Twisted-Python] Returning a deferred, maybe
</A></li>
        <LI>Next message (by thread): <A HREF="045907.html">[Twisted-Python] Returning a deferred, maybe
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45905">[ date ]</a>
              <a href="thread.html#45905">[ thread ]</a>
              <a href="subject.html#45905">[ subject ]</a>
              <a href="author.html#45905">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 15 Jun 2006 16:40:59 -0700, Wilfredo SÃ¡nchez Vega &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">wsanchez at wsanchez.net</A>&gt; wrote:

&gt;<i>   It seems like you can save the caller some grief by ensuring that  you 
</I>&gt;<i>always return a deferred value (eg. by wrapping a synchronous  result with 
</I>&gt;<i>defer.succeed(), as suggested in <A HREF="http://twistedmatrix.com/">http://twistedmatrix.com/</A> 
</I>&gt;<i>projects/core/documentation/howto/gendefer.html).  Should this be an 
</I>&gt;<i>encouraged practice?
</I>
There are 2 reasons for this practice.  One is a sort of silly micro-optimization (which vanishes anyway if the caller uses maybeDeferred) and the other is an issue of convenience for the callee.  We should forget about this and just make Deferred faster.

Newer interfaces have tended toward just saying &quot;@return a Deferred which...&quot; rather than &quot;@return a value or a Deferred&quot; unless they are highly public APIs like IResource and forgetting to wrap a 2-byte string return value is a real pain.

In other words: document your interfaces precisely, and decide whose responsibility is to ensure that the value is a Deferred at some point, and you should probably prefer requiring it is a Deferred in most cases -- but I don't think that this is the sort of thing that should be in the coding standard.  It varies from situation to situation.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="045903.html">[Twisted-Python] Returning a deferred, maybe
</A></li>
	<LI>Next message (by thread): <A HREF="045907.html">[Twisted-Python] Returning a deferred, maybe
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45905">[ date ]</a>
              <a href="thread.html#45905">[ thread ]</a>
              <a href="subject.html#45905">[ subject ]</a>
              <a href="author.html#45905">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
