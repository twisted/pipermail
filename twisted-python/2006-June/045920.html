<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] @raise and deferreds
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20%40raise%20and%20deferreds&In-Reply-To=%3C4492F04D.4010805%40dreid.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="045902.html">
   <LINK REL="Next"  HREF="045928.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] @raise and deferreds</H1>
    <B>David Reid</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20%40raise%20and%20deferreds&In-Reply-To=%3C4492F04D.4010805%40dreid.org%3E"
       TITLE="[Twisted-Python] @raise and deferreds">dreid at dreid.org
       </A><BR>
    <I>Fri Jun 16 11:54:21 MDT 2006</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="045902.html">[Twisted-Python] @raise and deferreds
</A></li>
        <LI>Next message (by thread): <A HREF="045928.html">[Twisted-Python] Re: @raise and deferreds
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45920">[ date ]</a>
              <a href="thread.html#45920">[ thread ]</a>
              <a href="subject.html#45920">[ subject ]</a>
              <a href="author.html#45920">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Wilfredo SÃ¡nchez Vega wrote:
&gt;<i>   I'm curious about what conventions we have for documenting exceptions
</I>&gt;<i> that are raised in deferreds, which turn into errbacks.  Say I have a
</I>&gt;<i> function which returns a deferred, and several flavors of Failure might
</I>&gt;<i> have been raised.  I'd like to document that thusly:
</I>&gt;<i> 
</I>&gt;<i>     def foo():
</I>&gt;<i>         &quot;&quot;&quot;
</I>&gt;<i>         Do something fooey.
</I>&gt;<i>         @raise FooError: if it's too fooey.
</I>&gt;<i>         @raise BarError: if there is any bar; this is foo, not bar.
</I>&gt;<i>         @raise HolyCrapError: if your pants are on fire.
</I>&gt;<i>         @return: a deferred containing a Foo.
</I>&gt;<i>         &quot;&quot;&quot;
</I>&gt;<i>         ...
</I>&gt;<i> 
</I>&gt;<i>   This is a little weird, since the exceptions are actually being
</I>&gt;<i> raised, but are being delivered in errbacks.  The alternative is to
</I>&gt;<i> describe all of the possible exceptions in the @return clause, but that
</I>&gt;<i> is really clunky.  So I'd like to have a convention whereby everyone
</I>&gt;<i> knows that if you have a function that returns a deferred, that the
</I>&gt;<i> exceptions described in the docstring refer to exceptions delivered via
</I>&gt;<i> errbacks rather than via raising.
</I>
A couple of quick greps seem to indicate that @raise is used sometimes,
but mostly that the errbacks are documented in @return which may be
unattractive is quite clear.  @raise is very confusing and I had to
check the actual implementations of the interfaces which brought up this
issue to see where the 'raise' actually took place.  So I'm still in
favor of the interfaces being changed to include the errback information
in the @return.  However it can probably be put off until the next web2
release.

&gt;<i>   Is that making any sense?  Alternatively, we could make up a new
</I>&gt;<i> keyword (@errback?), but I don't know how troublesome doing so is.  If
</I>&gt;<i> we do that, maybe another keyword (@callback) makes sense as well.
</I>
I think that would be good, we should ask mwh to do that.

- -David


- --
&quot;Usually the protocol is this: I appoint someone for a task,
which they are not qualified to do.  Then, they have to fight
a bear if they don't want to do it.&quot; -- Glyph Lefkowitz
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.3 (Darwin)
Comment: Using GnuPG with Mozilla - <A HREF="http://enigmail.mozdev.org">http://enigmail.mozdev.org</A>

iD8DBQFEkvBMrsrO6aeULcgRAjkCAJoDsfNOgTd8jM+JPa3jMdIJeX5OMQCeKpyK
hLiNeAHwmKSoOItnX6wC7sA=
=Gn0G
-----END PGP SIGNATURE-----


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="045902.html">[Twisted-Python] @raise and deferreds
</A></li>
	<LI>Next message (by thread): <A HREF="045928.html">[Twisted-Python] Re: @raise and deferreds
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45920">[ date ]</a>
              <a href="thread.html#45920">[ thread ]</a>
              <a href="subject.html#45920">[ subject ]</a>
              <a href="author.html#45920">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
