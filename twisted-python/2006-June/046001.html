<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] can pb.Copyable objects be compared for equality	after a round trip?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20can%20pb.Copyable%20objects%20be%20compared%20for%20equality%0A%09after%20a%20round%20trip%3F&In-Reply-To=%3Cd27002d90606241513hc0bd415te0cdb27b4e6ae233%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="046000.html">
   <LINK REL="Next"  HREF="046002.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] can pb.Copyable objects be compared for equality	after a round trip?</H1>
    <B>Micky Latowicki</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20can%20pb.Copyable%20objects%20be%20compared%20for%20equality%0A%09after%20a%20round%20trip%3F&In-Reply-To=%3Cd27002d90606241513hc0bd415te0cdb27b4e6ae233%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] can pb.Copyable objects be compared for equality	after a round trip?">ml.flex at gmail.com
       </A><BR>
    <I>Sat Jun 24 16:13:26 MDT 2006</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="046000.html">[Twisted-Python] can pb.Copyable objects be compared for equality	after a round trip?
</A></li>
        <LI>Next message (by thread): <A HREF="046002.html">[Twisted-Python] can pb.Copyable objects be compared for equality	after a round trip?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46001">[ date ]</a>
              <a href="thread.html#46001">[ thread ]</a>
              <a href="subject.html#46001">[ subject ]</a>
              <a href="author.html#46001">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Only thing I can think of is generate your own id. Doesn't have to be
random, you can simply increament a counter every time you create a new
instance. If you're worried about the id growing too long you can search the
database for unused ids that are lower than the current value of the
counter.

Perhaps somebody else has a better idea.

On 24/06/06, Robert Gravina &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">robert at gravina.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> This is an old thread, but I am finally tackling the round trip
</I>&gt;<i> editing problem and unfortunately getting nowhere. Basically, I want
</I>&gt;<i> to be able to create some object on one machine, then send it off to
</I>&gt;<i> another (who edits some of the attributes) then when the other
</I>&gt;<i> machine calls a method on the original machine and passes it the
</I>&gt;<i> updated object, I can identify it simply by comparing for quality.
</I>&gt;<i> Think of your basic client/server database application.
</I>&gt;<i>
</I>&gt;<i> The Twisted howtos make the claim that &quot; Copyable objects return
</I>&gt;<i> unchanged from a round trip&quot;, and can be compared for quality like
</I>&gt;<i> (obj == obj) but in all my attempts I can get this to work (they are
</I>&gt;<i> never equal). Does someone know of some sample code where this is
</I>&gt;<i> done successfully? It is done successfully with pb.Referenceables in
</I>&gt;<i> the howtos (look for the pb2client.py and pb2server.py listings).
</I>&gt;<i> <A HREF="http://twistedmatrix.com/projects/core/documentation/howto/pb-usage.html">http://twistedmatrix.com/projects/core/documentation/howto/pb-usage.html</A>
</I>&gt;<i>
</I>&gt;<i> Since I'm using the ZODB, I've tried using ZODB's _p_oid attribute to
</I>&gt;<i> identify objects that come back to me but the _p_oid is  None even
</I>&gt;<i> after a transaction.commit() (since the object hasn't been persisted
</I>&gt;<i> yet probably).
</I>&gt;<i>
</I>&gt;<i> I could also create my own ID attribute and attempt to generate a
</I>&gt;<i> random ID and compare that, but this is most definately a hack.
</I>&gt;<i>
</I>&gt;<i> I am really having trouble progressing with my application because of
</I>&gt;<i> this problem. I'd really appreciate some insight on how to go about
</I>&gt;<i> solving this. Admittedly I'm not all that experienced with Twisted,
</I>&gt;<i> but I thought this kind of thing was supposed to be straightforward.
</I>&gt;<i> What am I doing wrong?
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i>
</I>&gt;<i> Robert
</I>&gt;<i>
</I>&gt;<i> On 2006/05/07, at 18:55, Micky Latowicki wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; It's possible to make each element in the set being edited a
</I>&gt;<i> &gt; cacheable. If you think that would introduce too much overhead, then
</I>&gt;<i> &gt; you can add a method to the &quot;address book&quot; object which updates one of
</I>&gt;<i> &gt; the entries in this address book, and uses an id to identify the entry
</I>&gt;<i> &gt; within the address book. So the address book is the dict. That's what
</I>&gt;<i> &gt; I did in a similar case. I'm no expert though.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; HTH
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Micky
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Twisted-Python mailing list
</I>&gt;<i> &gt; <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> &gt; <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20060625/15f19b64/attachment.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="046000.html">[Twisted-Python] can pb.Copyable objects be compared for equality	after a round trip?
</A></li>
	<LI>Next message (by thread): <A HREF="046002.html">[Twisted-Python] can pb.Copyable objects be compared for equality	after a round trip?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46001">[ date ]</a>
              <a href="thread.html#46001">[ thread ]</a>
              <a href="subject.html#46001">[ subject ]</a>
              <a href="author.html#46001">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
