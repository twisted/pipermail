<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: can pb.Copyable objects be compared for	equality after a round trip?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20can%20pb.Copyable%20objects%20be%20compared%20for%0A%09equality%20after%20a%20round%20trip%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013499.html">
   <LINK REL="Next"  HREF="013513.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: can pb.Copyable objects be compared for	equality after a round trip?</H1>
    <B>David Bolen</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20can%20pb.Copyable%20objects%20be%20compared%20for%0A%09equality%20after%20a%20round%20trip%3F&In-Reply-To="
       TITLE="[Twisted-Python] Re: can pb.Copyable objects be compared for	equality after a round trip?">db3l at fitlinxx.com
       </A><BR>
    <I>Mon Jun 26 12:56:27 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="013499.html">[Twisted-Python] can pb.Copyable objects be compared for equality	after a round trip?
</A></li>
        <LI>Next message: <A HREF="013513.html">[Twisted-Python] Re: can pb.Copyable objects be compared for	equality after a round trip?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13512">[ date ]</a>
              <a href="thread.html#13512">[ thread ]</a>
              <a href="subject.html#13512">[ subject ]</a>
              <a href="author.html#13512">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Robert Gravina &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">robert at gravina.com</A>&gt; writes:

&gt;<i> Ah sorry everyone... it seems I've misunderstood a very basic concept:
</I>&gt;<i> 
</I>&gt;<i> Copyables are copy-by-value
</I>&gt;<i> Referenceables are copy-by-reference
</I>&gt;<i> 
</I>&gt;<i> It says so here:
</I>&gt;<i> <A HREF="http://www.lothar.com/tech/papers/PyCon-2003/pb-pycon/pb.html">http://www.lothar.com/tech/papers/PyCon-2003/pb-pycon/pb.html</A>
</I>&gt;<i> 
</I>&gt;<i> So basically I need to use either Referenceable or Viewable! OK now I
</I>&gt;<i> can get back to work.
</I>
Well, or just define your own comparison semantics in your copyable,
as you might for any other object.  We use copyables all the time for
precisely this pattern (return object remotely, edit it, re-use it in
a subsequent call back to the server) and it works fine as long as you
control the comparison and don't fall back to default Python rules,
which for class instances is effectively just an id() comparison.

As it turns out, we do also embed an &quot;_id&quot; attribute within the
objects (an auto-generated UUID) so we can detect collisions
(two clients attempting to modify the same object), but for general
comparison purposes outside of that collision check, we exclude the
_id attribute.

-- David



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013499.html">[Twisted-Python] can pb.Copyable objects be compared for equality	after a round trip?
</A></li>
	<LI>Next message: <A HREF="013513.html">[Twisted-Python] Re: can pb.Copyable objects be compared for	equality after a round trip?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13512">[ date ]</a>
              <a href="thread.html#13512">[ thread ]</a>
              <a href="subject.html#13512">[ subject ]</a>
              <a href="author.html#13512">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
