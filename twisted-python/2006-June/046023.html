<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: can pb.Copyable objects be compared for	equality after a round trip?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Re%3A%20can%20pb.Copyable%20objects%20be%20compared%20for%0A%09equality%20after%20a%20round%20trip%3F&In-Reply-To=%3C56FF91ED-BC73-4CF0-873B-87252308F726%40gravina.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="046022.html">
   <LINK REL="Next"  HREF="046024.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: can pb.Copyable objects be compared for	equality after a round trip?</H1>
    <B>Robert Gravina</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Re%3A%20can%20pb.Copyable%20objects%20be%20compared%20for%0A%09equality%20after%20a%20round%20trip%3F&In-Reply-To=%3C56FF91ED-BC73-4CF0-873B-87252308F726%40gravina.com%3E"
       TITLE="[Twisted-Python] Re: can pb.Copyable objects be compared for	equality after a round trip?">robert at gravina.com
       </A><BR>
    <I>Mon Jun 26 13:18:03 MDT 2006</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="046022.html">[Twisted-Python] Re: can pb.Copyable objects be compared for	equality after a round trip?
</A></li>
        <LI>Next message (by thread): <A HREF="046024.html">[Twisted-Python] Re: can pb.Copyable objects be compared for	equality after a round trip?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46023">[ date ]</a>
              <a href="thread.html#46023">[ thread ]</a>
              <a href="subject.html#46023">[ subject ]</a>
              <a href="author.html#46023">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks Mike and others.. I just figured out how I can get this to  
work (with a bit of help from the ZODB mailing list too)! I am using  
the ZODB, and up until now I though that the _p_oid (the attribute  
that stores a unique object ID) was None all the time, even after I  
had persisted an object. I tried loading up a persisted object  
iteractively and found:

 &gt;&gt;&gt; p._p_oid
'\x00\x00\x00\x00\x00\x00\x00\x08'
 &gt;&gt;&gt; print p._p_oid
 &gt;&gt;&gt; p._p_oid is None
False

... that it prints out as nothing, but it really is something (hence  
missing it in all my debug printouts)! (Those nutcase Zope  
developers!)... anyhow, it now appears I can compare the _p_oid of a  
Copyable coming back and find the object that represents it on the  
server, update it accordingly, commit the transaction and do a  
victory dance.

Thanks all for you help.

I thought I'd post this so anyone else using Twisted and ZODB won't  
spend days on this like I did.

Robert



On 2006/06/27, at 3:55, Mike Pelletier wrote:

&gt;<i> On Monday 26 June 2006 13:55, Robert Gravina wrote:
</I>&gt;&gt;<i> By the way, what is an id() comparison? As far as I know
</I>&gt;&gt;<i> Python compares to see if the instances (i.e. memory locations) are
</I>&gt;&gt;<i> equal.
</I>&gt;<i>
</I>&gt;<i> You got your chocolate in my peanutbutter!
</I>&gt;<i>
</I>&gt;<i> An &quot;id()&quot; comparison would be, &quot;id(this) == id(that)&quot;.  In most (all?)
</I>&gt;<i> implementations, 'id()' returns the memory location, but this is an
</I>&gt;<i> implementation detail that is not guaranteed and shouldn't be  
</I>&gt;<i> depended on.
</I>&gt;<i> An object's python id is to be treated as an opaque identifier.
</I>&gt;<i>
</I>&gt;<i> Mike.
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="046022.html">[Twisted-Python] Re: can pb.Copyable objects be compared for	equality after a round trip?
</A></li>
	<LI>Next message (by thread): <A HREF="046024.html">[Twisted-Python] Re: can pb.Copyable objects be compared for	equality after a round trip?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46023">[ date ]</a>
              <a href="thread.html#46023">[ thread ]</a>
              <a href="subject.html#46023">[ subject ]</a>
              <a href="author.html#46023">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
