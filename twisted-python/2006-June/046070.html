<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Compressing PB communication
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Compressing%20PB%20communication&In-Reply-To=%3C200606300034.19124.Tzahi.ML%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="046069.html">
   <LINK REL="Next"  HREF="046081.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Compressing PB communication</H1>
    <B>Tzahi Fadida</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Compressing%20PB%20communication&In-Reply-To=%3C200606300034.19124.Tzahi.ML%40gmail.com%3E"
       TITLE="[Twisted-Python] Compressing PB communication">Tzahi.ML at gmail.com
       </A><BR>
    <I>Thu Jun 29 15:34:18 MDT 2006</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="046069.html">[Twisted-Python] Compressing PB communication
</A></li>
        <LI>Next message (by thread): <A HREF="046081.html">[Twisted-Python] Re: Compressing PB communication
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46070">[ date ]</a>
              <a href="thread.html#46070">[ thread ]</a>
              <a href="subject.html#46070">[ subject ]</a>
              <a href="author.html#46070">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thursday 29 June 2006 22:31, Itamar Shtull-Trauring wrote:
&gt;<i> On Thu, 2006-06-29 at 22:01 +0300, Tzahi Fadida wrote:
</I>&gt;<i> &gt; I don't want to handle this on the application/PB level.
</I>&gt;<i>
</I>&gt;<i> twisted.spread.util.Pager and subclasses thereof will do it for you.
</I>First, the objects themselves hold , for a example, a list of records.
The records themselves are probably never going to exceed 640kb.
Looking at banana it looks at the string types per field. I.e. even if the 
message is 1gb but each field in the message, like a list of strings 
[str1,str2,...] does not exceed 640kb then there is no problem, right?

Assumming there is a problem:
I don't see how using Pager, going to not involve circumventing a PB
call. This should be done under the level of performing a call to the other 
side. As i said, i cannot break the arbitrary objects i am sending since i 
cannot predict each and every one of them in advance.
The proper way to do it, looks to me in the underlying communication.
I think that what should have been done was to send the size of the transfer
in advance and only then say &quot;ok, this transfer is going to be over 640kb
don't want it.&quot; Or &quot; ok the transmission has exceeded 640kb =&gt; error&quot;
And, according to this number and policy i enforce, limiting the size of the 
expanded message, pass a parameter to banana.
For now, i think that i will set the limit parameter for banana.py
pb.banana.SIZE_LIMIT=20*1024*1024 
however, for cBanana i will have to either hardwire it or change it to include
it as a parameter. This is not a variable in cBanana, it just says 640*1024
instead of SIZE_LIMIT.
How can i pass parameters to cBanana (at least at initialization time),
i am not sure if it is even on.
Though i am seeing it in the directory:
/usr/lib/python2.4/site-packages/twisted/spread/cBanana.so
Maybe there should be something like pb.changeMessageSizeLimit(numBytes)

&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>
-- 
Regards,
        Tzahi.
--
Tzahi Fadida
Blog: <A HREF="http://tzahi.blogsite.org">http://tzahi.blogsite.org</A> | Home Site: <A HREF="http://tzahi.webhop.info">http://tzahi.webhop.info</A>
WARNING TO SPAMMERS:  see at 
<A HREF="http://members.lycos.co.uk/my2nis/spamwarning.html">http://members.lycos.co.uk/my2nis/spamwarning.html</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="046069.html">[Twisted-Python] Compressing PB communication
</A></li>
	<LI>Next message (by thread): <A HREF="046081.html">[Twisted-Python] Re: Compressing PB communication
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#46070">[ date ]</a>
              <a href="thread.html#46070">[ thread ]</a>
              <a href="subject.html#46070">[ subject ]</a>
              <a href="author.html#46070">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
