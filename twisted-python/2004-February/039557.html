<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] What is the &quot;Twisted&quot; way to kill stuck child process
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20What%20is%20the%20%22Twisted%22%20way%20to%20kill%20stuck%20child%20process&In-Reply-To=%3C20040212152723.GA11833%40intarweb.us%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="039556.html">
   <LINK REL="Next"  HREF="039558.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] What is the &quot;Twisted&quot; way to kill stuck child process</H1>
    <B>Jp Calderone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20What%20is%20the%20%22Twisted%22%20way%20to%20kill%20stuck%20child%20process&In-Reply-To=%3C20040212152723.GA11833%40intarweb.us%3E"
       TITLE="[Twisted-Python] What is the &quot;Twisted&quot; way to kill stuck child process">exarkun at intarweb.us
       </A><BR>
    <I>Thu Feb 12 08:27:23 MST 2004</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="039556.html">[Twisted-Python] What is the &quot;Twisted&quot; way to kill stuck child process
</A></li>
        <LI>Next message (by thread): <A HREF="039558.html">[Twisted-Python] What is the &quot;Twisted&quot; way to kill stuck child process
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39557">[ date ]</a>
              <a href="thread.html#39557">[ thread ]</a>
              <a href="subject.html#39557">[ subject ]</a>
              <a href="author.html#39557">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Feb 12, 2004 at 08:57:07AM -0500, Schneider, Michael wrote:
&gt;<i> Hello All,
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I am making real progress with twisted.  Thank you very much
</I>&gt;<i> for the great project.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I am creating a process launcher that runs on SGI, SUN, IBM AIX,
</I>&gt;<i> HPUX, and windows 2000 and XP.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I modified the adbapi.py file to pool jobs.  It works great.
</I>&gt;<i> 
</I>&gt;<i> Problem:
</I>&gt;<i> Sometimes the launched c program will hang. (standard exe file).
</I>&gt;<i> I want to launch a process with timeout value.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Ex.  I know that task X usually take 1200 seconds to run, but it
</I>&gt;<i> will sometimes hang.  If the exe has not finished running after
</I>&gt;<i> 1500 seconds, I want to kill the job and notify the caller that
</I>&gt;<i> their job timed out.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> What are some options for implementing this with twisted.
</I>&gt;<i> 
</I>&gt;<i> NOTE: each process is launched in its own thread, so killing the
</I>&gt;<i> thread is an option is that is required.
</I>&gt;<i> 
</I>
  I don't understand this.  Are you using reactor.spawnProcess() to start
these processes?  If not, you should be.  If so, it should be called from
the main thread, and the process can be killed with the usual means,
os.kill(pid).  The PID is available, though I forget exactly where, probably
as processProtocol.transport.pid.  You can use reactor.callLater to set up a
simple timeout so that processes are killed if they run for too long.

  Jp

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 189 bytes
Desc: Digital signature
URL: &lt;/pipermail/twisted-python/attachments/20040212/c6f6130b/attachment.sig&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="039556.html">[Twisted-Python] What is the &quot;Twisted&quot; way to kill stuck child process
</A></li>
	<LI>Next message (by thread): <A HREF="039558.html">[Twisted-Python] What is the &quot;Twisted&quot; way to kill stuck child process
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39557">[ date ]</a>
              <a href="thread.html#39557">[ thread ]</a>
              <a href="subject.html#39557">[ subject ]</a>
              <a href="author.html#39557">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
