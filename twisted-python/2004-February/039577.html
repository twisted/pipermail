<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] twisted.names; authority query
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20twisted.names%3B%20authority%20query&In-Reply-To=%3C402FB7F3.3090403%40thecablelounge.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="039574.html">
   <LINK REL="Next"  HREF="039578.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] twisted.names; authority query</H1>
    <B>Andy Gayton</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20twisted.names%3B%20authority%20query&In-Reply-To=%3C402FB7F3.3090403%40thecablelounge.com%3E"
       TITLE="[Twisted-Python] twisted.names; authority query">andy at thecablelounge.com
       </A><BR>
    <I>Sun Feb 15 11:18:27 MST 2004</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="039574.html">[Twisted-Python] web messenger with ICQ and MSN support
</A></li>
        <LI>Next message (by thread): <A HREF="039578.html">[Twisted-Python] Re: [Twisted-web] twisted.internet.error.CannotListenError
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39577">[ date ]</a>
              <a href="thread.html#39577">[ thread ]</a>
              <a href="subject.html#39577">[ subject ]</a>
              <a href="author.html#39577">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi there,

I've extended twisted.names to support tinydns data files.  

names isn't responding with authoritive answers the way I was expecting it to though.  names responds that it is authoritive for my name server, but not for anything else.  This is the tinydns file I'm using:

-----------------------------------
.cablelounge.com::ns1.cablelounge.com:259200
=cablelounge.com:69.10.144.170:86400
+www.cablelounge.com:69.10.144.170:86400
+miles.cablelounge.com:69.10.144.170:86400
+twisted.cablelounge.com:203.113.212.32:900
+ns1.cablelounge.com:69.10.144.170:86400
@cablelounge.com:69.10.144.170:mail.cablelounge.com:0:86400
------------------------------------

names says that it is authoritive for ns1.cablelounge.com, but nothing else.  tinydns responds as authoritive for all of the above names:

#&gt; dig @cablelounge.com cablelounge.com

I ran a standard pyzone file through names and got the same result .. so I'm not sure where I'm going wrong .. .

Here's what I did with the pyzone file:

zones:
-----------------------
zone = [
    SOA(
        &quot;fred.com&quot;,
        mname   = &quot;ns1.fred.com&quot;,
        rname   = &quot;hostmaster.fred.com&quot;,
        serial  = 2004021501,
        refresh = &quot;1H&quot;,
        retry   = &quot;1H&quot;,
        expire  = &quot;1H&quot;,
        minimum = &quot;1H&quot;
    ),

    A(&quot;fred.com&quot;, &quot;192.168.10.10&quot;),
    NS(&quot;ns1.fred.com&quot;, &quot;fred.com&quot;),
    A(&quot;ns1.fred.com&quot;, &quot;192.168.10.10&quot;),
]
------------------------

#&gt; mktap dns --pyzone=zones --port 5053
#&gt; twistd -f dns
#&gt; dig -p 5053 @cablelounge.com fred.com

; &lt;&lt;&gt;&gt; DiG 9.2.1 &lt;&lt;&gt;&gt; -p 5053 @cablelounge.com fred.com
;; global options:  printcmd
;; Got answer:
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 48786
;; flags: qr aa rd; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0

;; QUESTION SECTION:
;fred.com.                      IN      A

;; ANSWER SECTION:
fred.com.               3600    IN      A       192.168.10.10

;; Query time: 2 msec
;; SERVER: 69.10.144.170#5053(cablelounge.com)
;; WHEN: Sun Feb 15 10:01:29 2004
;; MSG SIZE  rcvd: 42

#&gt; dig -p 5053 @cablelounge.com ns1.fred.com

; &lt;&lt;&gt;&gt; DiG 9.2.1 &lt;&lt;&gt;&gt; -p 5053 @cablelounge.com ns1.fred.com
;; global options:  printcmd
;; Got answer:
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 63056
;; flags: qr aa rd; QUERY: 1, ANSWER: 1, AUTHORITY: 1, ADDITIONAL: 1

;; QUESTION SECTION:
;ns1.fred.com.                  IN      A

;; ANSWER SECTION:
ns1.fred.com.           3600    IN      A       192.168.10.10

;; AUTHORITY SECTION:
ns1.fred.com.           3600    IN      NS      fred.com.

;; ADDITIONAL SECTION:
fred.com.               3600    IN      A       192.168.10.10

;; Query time: 2 msec
;; SERVER: 69.10.144.170#5053(cablelounge.com)
;; WHEN: Sun Feb 15 10:02:24 2004
;; MSG SIZE  rcvd: 76

twisted.names is showing as authoritive for ns1.fred.com, but not fred.com.

Has anyone had a similiar experience with twisted.names?  What am I overlooking?

regards,
Andy.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="039574.html">[Twisted-Python] web messenger with ICQ and MSN support
</A></li>
	<LI>Next message (by thread): <A HREF="039578.html">[Twisted-Python] Re: [Twisted-web] twisted.internet.error.CannotListenError
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39577">[ date ]</a>
              <a href="thread.html#39577">[ thread ]</a>
              <a href="subject.html#39577">[ subject ]</a>
              <a href="author.html#39577">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
