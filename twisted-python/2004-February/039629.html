<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Backup Agent
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Backup%20Agent&In-Reply-To=%3C523E314C-614A-11D8-9350-0003938E77E2%40rollingegg.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="039594.html">
   <LINK REL="Next"  HREF="039631.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Backup Agent</H1>
    <B>Frankie Chu</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Backup%20Agent&In-Reply-To=%3C523E314C-614A-11D8-9350-0003938E77E2%40rollingegg.net%3E"
       TITLE="[Twisted-Python] Backup Agent">frank at rollingegg.net
       </A><BR>
    <I>Tue Feb 17 06:08:04 MST 2004</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="039594.html">[Twisted-Python] Backup Agent
</A></li>
        <LI>Next message (by thread): <A HREF="039631.html">[Twisted-Python] Backup Agent
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39629">[ date ]</a>
              <a href="thread.html#39629">[ thread ]</a>
              <a href="subject.html#39629">[ subject ]</a>
              <a href="author.html#39629">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 17 Feb 04, at 10:21 AM, <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python-request at twistedmatrix.com</A> 
wrote:

&gt;<i> Message: 1
</I>&gt;<i> Date: Mon, 16 Feb 2004 10:03:37 -0500
</I>&gt;<i> To: <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>
</I>&gt;<i> From: &quot;David A. Leedom&quot; &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">daleedom at hightowergroup.com</A>&gt;
</I>&gt;<i> Subject: [Twisted-Python] Backup Agent
</I>&gt;<i> Reply-To: <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>
</I>&gt;<i>
</I>&gt;<i> --=====================_580045343==.ALT
</I>&gt;<i> Content-Type: text/plain; charset=&quot;us-ascii&quot;; format=flowed
</I>&gt;<i>
</I>&gt;<i> OK Guys I Need your help.
</I>&gt;<i>
</I>&gt;<i> I own a small computer consulting firm and am struggling with the basic
</I>&gt;<i> sales and marketing issues.  However, I think I have finally stumbled 
</I>&gt;<i> onto
</I>&gt;<i> a great &quot;no brainer&quot; idea:
</I>&gt;<i>
</I>&gt;<i>          A Remote Backup Service for Small businesses.
</I>&gt;<i>
</I>&gt;<i> Yes I know there are a bunch out their, but I am thinking of the 
</I>&gt;<i> Hundreds
</I>&gt;<i> of Businesses around my general geographic area who don't know how to 
</I>&gt;<i> find
</I>&gt;<i> them and who don't backup their data.  I would charge a monthly fee 
</I>&gt;<i> for a
</I>&gt;<i> given amount of space used ( no more than 500 Meg) and provide a 
</I>&gt;<i> software
</I>&gt;<i> that would backup and restore their data.
</I>&gt;<i>
</I>&gt;<i> My dilemma is that my margins would be to small to make it affordable 
</I>&gt;<i> for
</I>&gt;<i> me to resale someone else's software.  So....I would like to roll my
</I>&gt;<i> own.  Python makes a lot of sense for many reasons that I don't need 
</I>&gt;<i> to get
</I>&gt;<i> into here.
</I>&gt;<i>
</I>&gt;<i> My struggle is that although I have been programming since the 
</I>&gt;<i> mid-70s, I
</I>&gt;<i> am new to Python and feel like a man groping around in the dark.  Also
</I>&gt;<i> being new to Twisted it is like the room is full of chairs as well.  I 
</I>&gt;<i> did
</I>&gt;<i> get some sample code to work over the weekend, but I got a serious 
</I>&gt;<i> brain
</I>&gt;<i> cramp trying to figure it all out.
</I>&gt;<i>
</I>&gt;<i> The basic architecture that I am thinking of is client/server.  There 
</I>&gt;<i> would
</I>&gt;<i> be three basic applications running to make things work.  First, would 
</I>&gt;<i> be
</I>&gt;<i> an Agent program that does most of the work.  The Agent would run as a
</I>&gt;<i> service on each computer being backed up.  Second would be a GUI 
</I>&gt;<i> program
</I>&gt;<i> running locally to control the agents.  Finally there would be a &quot;Web
</I>&gt;<i> Service&quot; that received backup sets from each agent or a designated 
</I>&gt;<i> master
</I>&gt;<i> agent. The Web Service would handle authentication and other house 
</I>&gt;<i> keeping
</I>&gt;<i> things.
</I>&gt;<i>
</I>&gt;<i> Finally the Question!!!!
</I>&gt;<i> There are many other details that I have in mind as well (using 
</I>&gt;<i> patches to
</I>&gt;<i> reduce size, compression, encryption...), but right now I am working on
</I>&gt;<i> issues related to the communication between the GUI and Agents.  
</I>&gt;<i> Assuming
</I>&gt;<i> that I have one or more number of agents running on a network I want 
</I>&gt;<i> to do
</I>&gt;<i> a number of things.  1)  Have the GUI request that the agents identify
</I>&gt;<i> themselves so I don't have to tell the GUI where they are.  2) 
</I>&gt;<i> Transmit a
</I>&gt;<i> catalog list of the file system to the GUI so I can build a TreeView 
</I>&gt;<i> and
</I>&gt;<i> pick which files to backup on each computer.  3)  Finally I may want to
</I>&gt;<i> identify a &quot;Master&quot; agent that collects all the backups on the network 
</I>&gt;<i> and
</I>&gt;<i> transmits them as one session to the Web Service. This would allow for
</I>&gt;<i> local &quot;On Site&quot; backups for fast restores due to normal computer 
</I>&gt;<i> crashes
</I>&gt;<i> and failures.
</I>&gt;<i>
</I>&gt;<i> 1.      What would you guys suggest I do to I get the GUI to ask all 
</I>&gt;<i> the
</I>&gt;<i> agents to identify themselves?
</I>&gt;<i> 2.      What would be the best approach using twisted to transmit a 
</I>&gt;<i> file
</I>&gt;<i> system catalog across the local wire.  I was playing with some remote
</I>&gt;<i> procedure calls over the weekend that seemed to work.  I am thinking I
</I>&gt;<i> could create a class that would gather the local file system and send 
</I>&gt;<i> it
</I>&gt;<i> over the wire as one lump.
</I>&gt;<i> 3.      If I am going to transmit a backup file (&lt;500meg) over the 
</I>&gt;<i> wire to
</I>&gt;<i> another local computer what is the best Twisted approach to take?  Due 
</I>&gt;<i> to
</I>&gt;<i> WinXP security issues and the desire the run in a cross platform
</I>&gt;<i> environment I don't want to rely on normal file shares.
</I>&gt;<i>
</I>&gt;<i> There are a hundred other questions running though my mind right now, 
</I>&gt;<i> but
</I>&gt;<i> this will due for now,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thanks for any help you can give,
</I>&gt;<i>
</I>&gt;<i> David A. Leedom
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The Hightower Group, Inc.
</I>&gt;<i> Custom Software Solutions Designed To Fit Your Business Like A Glove.
</I>&gt;<i> 165 West Airport Road/Lititz, PA 17543
</I>&gt;<i> V:717-560-4002, 877-560-4002 x: 114
</I>&gt;<i> F:717-560-2825
</I>&gt;<i> www.hightowergroup.com
</I>&gt;<i> --=====================_580045343==.ALT
</I>&gt;<i> Content-Type: text/html; charset=&quot;us-ascii&quot;
</I>&gt;<i>
</I>&gt;<i> &lt;html&gt;
</I>&gt;<i> &lt;body&gt;
</I>&gt;<i> OK Guys I Need your help.&lt;br&gt;&lt;br&gt;
</I>&gt;<i> I own a small computer consulting firm and am struggling with the basic
</I>&gt;<i> sales and marketing issues.&nbsp; However, I think I have finally
</I>&gt;<i> stumbled onto a great &quot;no brainer&quot; idea:&nbsp; &lt;br&gt;&lt;br&gt;
</I>&gt;<i> &lt;x-tab&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/x-tab&gt;A Remote
</I>&gt;<i> Backup Service for Small businesses.&nbsp; &lt;br&gt;&lt;br&gt;
</I>&gt;<i> Yes I know there are a bunch out their, but I am thinking of the 
</I>&gt;<i> Hundreds
</I>&gt;<i> of Businesses around my general geographic area who don't know how to
</I>&gt;<i> find them and who don't backup their data.&nbsp; I would charge a 
</I>&gt;<i> monthly
</I>&gt;<i> fee for a given amount of space used ( no more than 500 Meg) and 
</I>&gt;<i> provide
</I>&gt;<i> a software that would backup and restore their data.&lt;br&gt;&lt;br&gt;
</I>&gt;<i> My dilemma is that my margins would be to small to make it affordable 
</I>&gt;<i> for
</I>&gt;<i> me to resale someone else's software.&nbsp; So....I would like to roll 
</I>&gt;<i> my
</I>&gt;<i> own.&nbsp; Python makes a lot of sense for many reasons that I don't 
</I>&gt;<i> need
</I>&gt;<i> to get into here.&lt;br&gt;&lt;br&gt;
</I>&gt;<i> My struggle is that although I have been programming since the 
</I>&gt;<i> mid-70s, I
</I>&gt;<i> am new to Python and feel like a man groping around in the dark.&nbsp;
</I>&gt;<i> Also being new to Twisted it is like the room is full of chairs as
</I>&gt;<i> well.&nbsp; I did get some sample code to work over the weekend, but I
</I>&gt;<i> got a serious brain cramp trying to figure it all out.&lt;br&gt;&lt;br&gt;
</I>&gt;<i> The basic architecture that I am thinking of is client/server.&nbsp;
</I>&gt;<i> There would be three basic applications running to make things
</I>&gt;<i> work.&nbsp; First, would be an Agent program that does most of the
</I>&gt;<i> work.&nbsp; The Agent would run as a service on each computer being
</I>&gt;<i> backed up.&nbsp; Second would be a GUI program running locally to 
</I>&gt;<i> control
</I>&gt;<i> the agents.&nbsp; Finally there would be a &quot;Web Service&quot; that
</I>&gt;<i> received backup sets from each agent or a designated master agent. The
</I>&gt;<i> Web Service would handle authentication and other house keeping
</I>&gt;<i> things.&lt;br&gt;&lt;br&gt;
</I>&gt;<i> &lt;b&gt;Finally the Question!!!!&lt;br&gt;
</I>&gt;<i> &lt;/b&gt;There are many other details that I have in mind as well (using
</I>&gt;<i> patches to reduce size, compression, encryption...), but right now I am
</I>&gt;<i> working on issues related to the communication between the GUI and
</I>&gt;<i> Agents.&nbsp; Assuming that I have one or more number of agents running
</I>&gt;<i> on a network I want to do a number of things.&nbsp; 1)&nbsp; Have the 
</I>&gt;<i> GUI
</I>&gt;<i> request that the agents identify themselves so I don't have to tell the
</I>&gt;<i> GUI where they are.&nbsp; 2) Transmit a catalog list of the file system
</I>&gt;<i> to the GUI so I can build a TreeView and pick which files to backup on
</I>&gt;<i> each computer.&nbsp; 3)&nbsp; Finally I may want to identify a
</I>&gt;<i> &quot;Master&quot; agent that collects all the backups on the network 
</I>&gt;<i> and
</I>&gt;<i> transmits them as one session to the Web Service. This would allow for
</I>&gt;<i> local &quot;On Site&quot; backups for fast restores due to normal
</I>&gt;<i> computer crashes and failures.&nbsp; &lt;br&gt;&lt;br&gt;
</I>&gt;<i> 1.&lt;x-tab&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/x-tab&gt;What would you 
</I>&gt;<i> guys
</I>&gt;<i> suggest I do to I get the GUI to ask all the agents to identify
</I>&gt;<i> themselves?&lt;br&gt;
</I>&gt;<i> 2.&lt;x-tab&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/x-tab&gt;What would be the
</I>&gt;<i> best approach using twisted to transmit a file system catalog across 
</I>&gt;<i> the
</I>&gt;<i> local wire.&nbsp; I was playing with some remote procedure calls over 
</I>&gt;<i> the
</I>&gt;<i> weekend that seemed to work.&nbsp; I am thinking I could create a class
</I>&gt;<i> that would gather the local file system and send it over the wire as 
</I>&gt;<i> one
</I>&gt;<i> lump. &lt;br&gt;
</I>&gt;<i> 3.&lt;x-tab&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/x-tab&gt;If I am going to
</I>&gt;<i> transmit a backup file (&lt;500meg) over the wire to another local
</I>&gt;<i> computer what is the best Twisted approach to take?&nbsp; Due to WinXP
</I>&gt;<i> security issues and the desire the run in a cross platform environment 
</I>&gt;<i> I
</I>&gt;<i> don't want to rely on normal file shares.&lt;br&gt;&lt;br&gt;
</I>&gt;<i> There are a hundred other questions running though my mind right now, 
</I>&gt;<i> but
</I>&gt;<i> this will due for now,&lt;br&gt;&lt;br&gt;
</I>&gt;<i> &lt;br&gt;
</I>&gt;<i> Thanks for any help you can give,&lt;br&gt;&lt;br&gt;
</I>&gt;<i> David A. Leedom&lt;br&gt;&lt;br&gt;
</I>&gt;<i> &lt;br&gt;&lt;br&gt;
</I>&gt;<i> &lt;x-sigsep&gt;&lt;p&gt;&lt;/x-sigsep&gt;
</I>&gt;<i> The Hightower Group, Inc.&lt;br&gt;
</I>&gt;<i> Custom Software Solutions Designed To Fit Your Business Like A
</I>&gt;<i> Glove.&lt;br&gt;
</I>&gt;<i> 165 West Airport Road/Lititz, PA 17543&lt;br&gt;
</I>&gt;<i> V:717-560-4002, 877-560-4002 x: 114&lt;br&gt;
</I>&gt;<i> F:717-560-2825&lt;br&gt;
</I>&gt;<i> &lt;a href=&quot;<A HREF="http://www.hightowergroup.com/">http://www.hightowergroup.com/</A>&quot; 
</I>&gt;<i> eudora=&quot;autourl&quot;&gt;www.hightowergroup.com&lt;/a&gt;
</I>&gt;<i> &lt;/body&gt;
</I>&gt;<i> &lt;/html&gt;
</I>&gt;<i>
</I>&gt;<i> --=====================_580045343==.ALT--
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --__--__--
</I>&gt;<i>
</I>&gt;<i> Message: 2
</I>&gt;<i> Date: Mon, 16 Feb 2004 18:23:03 +0100
</I>&gt;<i> From: Michal Pasternak &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">michal at pasternak.w.lub.pl</A>&gt;
</I>&gt;<i> To: <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>
</I>&gt;<i> Subject: Re: [Twisted-Python] Backup Agent
</I>&gt;<i> Reply-To: <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>
</I>&gt;<i>
</I>&gt;<i> David A. Leedom [Mon, Feb 16, 2004 at 10:03:37AM -0500]:
</I>&gt;&gt;<i> 1.      What would you guys suggest I do to I get the GUI to ask all 
</I>&gt;&gt;<i> the
</I>&gt;&gt;<i> agents to identify themselves?
</I>&gt;<i>
</I>&gt;<i> Well, that's a good question. In some app I did, I used machine's IP 
</I>&gt;<i> address
</I>&gt;<i> + some operating system info it run (sys.platform, os.uname) to build 
</I>&gt;<i> a kind
</I>&gt;<i> of machine identifier. You could as well generate some UID, then save 
</I>&gt;<i> it,
</I>&gt;<i> then send it together with machine's IP to identify it on server, by 
</I>&gt;<i> hand.
</I>&gt;<i>
</I>&gt;<i> Using OS-specific procedures could help you with this.
</I>&gt;<i>
</I>&gt;&gt;<i> 2.      What would be the best approach using twisted to transmit a 
</I>&gt;&gt;<i> file
</I>&gt;&gt;<i> system catalog across the local wire.  I was playing with some remote
</I>&gt;&gt;<i> procedure calls over the weekend that seemed to work.  I am thinking I
</I>&gt;&gt;<i> could create a class that would gather the local file system and send 
</I>&gt;&gt;<i> it
</I>&gt;&gt;<i> over the wire as one lump.
</I>&gt;<i>
</I>&gt;<i> Remote procedures have limit of 640 KB for their parameters (because 
</I>&gt;<i> &quot;640 KB
</I>&gt;<i> should be enough to anyone&quot;). You should use Pager and Collector.
</I>&gt;<i>
</I>&gt;&gt;<i> 3.      If I am going to transmit a backup file (&lt;500meg) over the 
</I>&gt;&gt;<i> wire to
</I>&gt;&gt;<i> another local computer what is the best Twisted approach to take?
</I>&gt;<i>
</I>&gt;<i> See above. Also, please remember, that memory issues matter. If you're
</I>&gt;<i> paging the data (send small chunks), you should save them on the backup
</I>&gt;<i> server, as they are received. If you are transfering a big file, 
</I>&gt;<i> keeping all
</I>&gt;<i> the data received in some buffer is a bad idea.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --__--__--
</I>&gt;<i>
</I>&gt;<i> Message: 3
</I>&gt;<i> Date: Mon, 16 Feb 2004 13:00:47 -0800
</I>&gt;<i> To: Twisted &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>&gt;
</I>&gt;<i> From: stephan &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">mailinglists at shechen.at</A>&gt;
</I>&gt;<i> Subject: [Twisted-Python] p2p, gnutella
</I>&gt;<i> Reply-To: <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I am looking forward to add p2p functionality to my app. Does anybody 
</I>&gt;<i> know
</I>&gt;<i> what the current status of twisted's gnutella implementation is?
</I>&gt;<i>
</I>&gt;<i> There seems to have been a semi-finished implemention in 1.0.2alpha4 
</I>&gt;<i> which
</I>&gt;<i> I can't find in 1.1.1 anymore.
</I>&gt;<i>
</I>&gt;<i> I might also be willing to implement missing parts but I would need to 
</I>&gt;<i> get
</I>&gt;<i> a short briefing on how things are.
</I>&gt;<i>
</I>&gt;<i> thanks,
</I>&gt;<i>
</I>&gt;<i> _stephan
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --__--__--
</I>&gt;<i>
</I>&gt;<i> Message: 4
</I>&gt;<i> Date: Mon, 16 Feb 2004 18:13:13 -0500
</I>&gt;<i> To: <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">peak at eby-sarna.com</A>
</I>&gt;<i> From: &quot;Phillip J. Eby&quot; &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">pje at telecommunity.com</A>&gt;
</I>&gt;<i> Cc: <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">zope3-dev at zope.org</A>, <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>
</I>&gt;<i> Subject: [Twisted-Python] PEAK 0.5a3 released
</I>&gt;<i> Reply-To: <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>
</I>&gt;<i>
</I>&gt;<i> After several months of feature creep, the third alpha release of PEAK 
</I>&gt;<i> 0.5
</I>&gt;<i> is now available for download at:
</I>&gt;<i>
</I>&gt;<i>     <A HREF="http://peak.telecommunity.com/dist/">http://peak.telecommunity.com/dist/</A>
</I>&gt;<i>
</I>&gt;<i> Some highlights of the changes since 0.5a2 include:
</I>&gt;<i>
</I>&gt;<i> * A simplified and consolidated binding API: there are now only four 
</I>&gt;<i> kinds
</I>&gt;<i> of bindings (Make, Obtain, Require, and Delegate) that provide a wider
</I>&gt;<i> variety of functionality than the old API.  You can also now create 
</I>&gt;<i> your
</I>&gt;<i> own IRecipe or IComponentKey implementations for use with Make and 
</I>&gt;<i> Obtain.
</I>&gt;<i>
</I>&gt;<i> * The 'n2' (namespace navigator) tool provides a handy, extensible 
</I>&gt;<i> shell
</I>&gt;<i> (with completion and history) for exploring PEAK naming systems and SQL
</I>&gt;<i> connections.
</I>&gt;<i>
</I>&gt;<i> * A greatly enhanced configuration file parser, with lots of new
</I>&gt;<i> convenience features such as [Import on Demand], [Named Services], and
</I>&gt;<i> [Component Factories] sections, based on its new extensible parsing
</I>&gt;<i> framework.  You can define new section types of your own, even from 
</I>&gt;<i> inside
</I>&gt;<i> an .ini file.
</I>&gt;<i>
</I>&gt;<i> * New configuration key features, such as multi-keys (similar to some 
</I>&gt;<i> of
</I>&gt;<i> Zope X3's &quot;adaptergeddon&quot; features), the ability to iterate over 
</I>&gt;<i> defined
</I>&gt;<i> keys in a hierarchy (useful for finding/registering various kinds of
</I>&gt;<i> &quot;plugins&quot;), new convenience features for defining wildcard property 
</I>&gt;<i> rules,
</I>&gt;<i>
</I>&gt;<i> * A new 'peak.events' framework that supports event sources, listeners,
</I>&gt;<i> subscriptions, generator-based pseudothreads (&quot;tasks&quot;), scheduling, 
</I>&gt;<i> and I/O
</I>&gt;<i> events.  Using 'peak.events', you can write event-driven code in a more
</I>&gt;<i> natural, sequential, &quot;untwisted&quot; style, but without giving up access to
</I>&gt;<i> Twisted's many great features.  'peak.events' can use PEAK's built-in 
</I>&gt;<i> event
</I>&gt;<i> loop, or adapt a Twisted reactor for use as an event loop.  You can 
</I>&gt;<i> also
</I>&gt;<i> use Twisted's &quot;Deferred&quot; objects as event sources, which means you can 
</I>&gt;<i> use
</I>&gt;<i> them in your Tasks (pseudothreads).
</I>&gt;<i>
</I>&gt;<i> * A new 'peak.ddt' &quot;document-driven testing&quot; framework, similar in 
</I>&gt;<i> form and
</I>&gt;<i> function to the FIT ( <A HREF="http://fit.c2.com/">http://fit.c2.com/</A> ) framework, but in Python and
</I>&gt;<i> well-integrated with the rest of PEAK.  'peak.ddt' lets you write test 
</I>&gt;<i> data
</I>&gt;<i> as tables in HTML documents (created with Word, Open Office, Mozilla, 
</I>&gt;<i> or
</I>&gt;<i> virtually any other tool), and then view the results in your
</I>&gt;<i> browser.  Correct results are highlighted in green, incorrect answers 
</I>&gt;<i> are
</I>&gt;<i> highlighted in red, and errors are highlighted in yellow, with a 
</I>&gt;<i> small-font
</I>&gt;<i> traceback added to the table cell.  It's a great way to do data-driven
</I>&gt;<i> acceptance testing, or to manage a project's progress using example 
</I>&gt;<i> data as
</I>&gt;<i> part of a requirements document.
</I>&gt;<i>
</I>&gt;<i> * Many, many more features, both large and small, like a pre-forking
</I>&gt;<i> multiprocess supervisor for FastCGI and other forking servers.  Quick
</I>&gt;<i> access to documentation via the 'peak help' command, which uses pydoc 
</I>&gt;<i> to
</I>&gt;<i> display reference documentation.  Early versions of the 'peak.security'
</I>&gt;<i> (access control), 'peak.web' (Zope X3-based web publishing), and
</I>&gt;<i> 'peak.query' (declarative relational and conceptual queries w/SQL
</I>&gt;<i> generation) packages.  The 'whenImported()' function that lets you 
</I>&gt;<i> call a
</I>&gt;<i> hook when a named module is first used.  &quot;Mock&quot; DBAPI and socket
</I>&gt;<i> implementations for testing.  Hooks for &quot;thunking&quot; database-specific 
</I>&gt;<i> SQL
</I>&gt;<i> and functions.  And many, many more examples of unbelievably blatant
</I>&gt;<i> feature creep!
</I>&gt;<i>
</I>&gt;<i> There is also now a nice &quot;Hello World&quot; introduction to PEAK available 
</I>&gt;<i> at:
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://peak.telecommunity.com/DevCenter/IntroToPeak">http://peak.telecommunity.com/DevCenter/IntroToPeak</A>
</I>&gt;<i>
</I>&gt;<i> that presents a guided tour of some of PEAK's &quot;vertical&quot; frameworks, 
</I>&gt;<i> like
</I>&gt;<i> command-line application support, database access, and so on.
</I>&gt;<i>
</I>&gt;<i> For more information about PEAK, and access to community resources
</I>&gt;<i> including documentation, the Wiki, mailing list archives, IRC channel 
</I>&gt;<i> logs,
</I>&gt;<i> CVS access, and more, please visit:
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://peak.telecommunity.com/">http://peak.telecommunity.com/</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --__--__--
</I>&gt;<i>
</I>&gt;<i> Message: 5
</I>&gt;<i> To: <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>
</I>&gt;<i> From: <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">ralf at brainbot.com</A>
</I>&gt;<i> Date: Tue, 17 Feb 2004 02:05:41 +0100
</I>&gt;<i> Subject: [Twisted-Python] [PATCH] nasty bug in 
</I>&gt;<i> twisted.names.client.createResolver
</I>&gt;<i> Reply-To: <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>
</I>&gt;<i>
</I>&gt;<i> The parameter variable 'hosts' gets overwritten by the import statement
</I>&gt;<i> in createResolver. hosts.Resolver constructor is called with a module
</I>&gt;<i> instead of a filename.
</I>&gt;<i>
</I>&gt;<i> - Ralf
</I>&gt;<i>
</I>&gt;<i> ===================================================================
</I>&gt;<i> RCS file: /cvs/Twisted/twisted/names/client.py,v
</I>&gt;<i> retrieving revision 1.45
</I>&gt;<i> diff -u -r1.45 client.py
</I>&gt;<i> --- twisted/names/client.py     4 Feb 2004 19:55:34 -0000       1.45
</I>&gt;<i> +++ twisted/names/client.py     17 Feb 2004 01:01:53 -0000
</I>&gt;<i> @@ -303,20 +303,20 @@
</I>&gt;<i>          return p
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -def createResolver(servers = None, resolvconf = None, hosts = None):
</I>&gt;<i> +def createResolver(servers = None, resolvconf = None, hostsfile = 
</I>&gt;<i> None):
</I>&gt;<i>      import resolve, cache, hosts, root
</I>&gt;<i>      if platform.getType() == 'posix':
</I>&gt;<i>          if resolvconf is None:
</I>&gt;<i>              resolvconf = '/etc/resolv.conf'
</I>&gt;<i> -        if hosts is None:
</I>&gt;<i> -            hosts = '/etc/hosts'
</I>&gt;<i> +        if hostsfile is None:
</I>&gt;<i> +            hostsfile = '/etc/hosts'
</I>&gt;<i>          theResolver = Resolver(resolvconf, servers)
</I>&gt;<i> -        hostResolver = hosts.Resolver(hosts)
</I>&gt;<i> +        hostResolver = hosts.Resolver(hostsfile)
</I>&gt;<i>      else:
</I>&gt;<i> -        if hosts is None:
</I>&gt;<i> -            hosts = r'c:\windows\hosts'
</I>&gt;<i> +        if hostsfile is None:
</I>&gt;<i> +            hostsfile = r'c:\windows\hosts'
</I>&gt;<i>          bootstrap = ThreadedResolver()
</I>&gt;<i> -        hostResolver = hosts.Resolver(hosts)
</I>&gt;<i> +        hostResolver = hosts.Resolver(hostsfile)
</I>&gt;<i>          theResolver = root.bootstrap(bootstrap)
</I>&gt;<i>
</I>&gt;<i>      L = [hostResolver, cache.CacheResolver(), theResolver]
</I>&gt;<i>
</I>&gt;<i> -- 
</I>&gt;<i> brainbot technologies ag
</I>&gt;<i> boppstrasse 64 . 55118 mainz . germany
</I>&gt;<i> fon +49 6131 211639-1 . fax +49 6131 211639-2
</I>&gt;<i> <A HREF="http://brainbot.com/">http://brainbot.com/</A>  mailto:<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">ralf at brainbot.com</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --__--__--
</I>&gt;<i>
</I>&gt;<i> Message: 6
</I>&gt;<i> Subject: Re: [Twisted-Python] [PATCH] nasty bug in
</I>&gt;<i> 	twisted.names.client.createResolver
</I>&gt;<i> From: Itamar Shtull-Trauring &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">itamar at itamarst.org</A>&gt;
</I>&gt;<i> To: <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>
</I>&gt;<i> Organization: <A HREF="http://itamarst.org">http://itamarst.org</A>
</I>&gt;<i> Date: Mon, 16 Feb 2004 20:33:55 -0500
</I>&gt;<i> Reply-To: <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>
</I>&gt;<i>
</I>&gt;<i> On Mon, 2004-02-16 at 20:05, <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">ralf at brainbot.com</A> wrote:
</I>&gt;&gt;<i> The parameter variable 'hosts' gets overwritten by the import 
</I>&gt;&gt;<i> statement
</I>&gt;&gt;<i> in createResolver. hosts.Resolver constructor is called with a module
</I>&gt;&gt;<i> instead of a filename.
</I>&gt;<i>
</I>&gt;<i> Please add patches and bugs to twistedmatrix.com/bugs/
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --__--__--
</I>&gt;<i>
</I>&gt;<i> Message: 7
</I>&gt;<i> Subject: Re: [Twisted-Python] Advice on doing thousands of 
</I>&gt;<i> simultaneous UDP
</I>&gt;<i> 	queries with Twisted...
</I>&gt;<i> From: Itamar Shtull-Trauring &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">itamar at itamarst.org</A>&gt;
</I>&gt;<i> To: <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>
</I>&gt;<i> Organization: <A HREF="http://itamarst.org">http://itamarst.org</A>
</I>&gt;<i> Date: Mon, 16 Feb 2004 20:40:06 -0500
</I>&gt;<i> Reply-To: <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>
</I>&gt;<i>
</I>&gt;<i> On Mon, 2004-02-09 at 05:51, Mike C. Fletcher wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Writing a simple asynchronous loop myself (poll on a simple socket, 
</I>&gt;&gt;<i> send
</I>&gt;&gt;<i> message from queue when writable, read one into other queue when
</I>&gt;&gt;<i> readable) allowed for doing a few thousand queries simultaneously), 
</I>&gt;&gt;<i> with
</I>&gt;&gt;<i> only a few dozen dropped messages.  However, with the Twisted 
</I>&gt;&gt;<i> equivalent
</I>&gt;&gt;<i> (UDPTransport with my simple protocol object), I was seeing huge drop
</I>&gt;&gt;<i> rates, so, gathering that Twisted isn't queueing up the UDP requests,
</I>&gt;<i>
</I>&gt;<i> Possibly we need some generic UDP queuing, rather than current system.
</I>&gt;<i> Patches are welcome.
</I>&gt;<i>
</I>&gt;<i> -- 
</I>&gt;<i> Itamar Shtull-Trauring    <A HREF="http://itamarst.org">http://itamarst.org</A>
</I>&gt;<i> Looking for a job: <A HREF="http://itamarst.org/resume.html">http://itamarst.org/resume.html</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --__--__--
</I>&gt;<i>
</I>&gt;<i> Message: 8
</I>&gt;<i> To: <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>
</I>&gt;<i> From: <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">ralf at brainbot.com</A>
</I>&gt;<i> Date: Tue, 17 Feb 2004 02:47:19 +0100
</I>&gt;<i> Subject: [Twisted-Python] [PATCH] twisted.names.hosts not working 
</I>&gt;<i> correct with getHostByName
</I>&gt;<i> Reply-To: <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>
</I>&gt;<i>
</I>&gt;<i> Even with my prior patch I'm not able to use 
</I>&gt;<i> twisted.names.client.getHostByName.
</I>&gt;<i> Seems like twisted.names.hosts.Resolver calls itself with bad 
</I>&gt;<i> parameters
</I>&gt;<i> and even doesn't use the ip address it extracted from /etc/hosts. Also 
</I>&gt;<i> the return
</I>&gt;<i> value could not be handled by the code in 
</I>&gt;<i> twisted.names.common.extractRecord.
</I>&gt;<i> The following patch seems to solve those problems.
</I>&gt;<i>
</I>&gt;<i> - Ralf
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ===================================================================
</I>&gt;<i> RCS file: /cvs/Twisted/twisted/names/hosts.py,v
</I>&gt;<i> retrieving revision 1.14
</I>&gt;<i> diff -u -r1.14 hosts.py
</I>&gt;<i> --- twisted/names/hosts.py      19 Jul 2003 10:13:50 -0000      1.14
</I>&gt;<i> +++ twisted/names/hosts.py      17 Feb 2004 01:45:44 -0000
</I>&gt;<i> @@ -49,11 +49,11 @@
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>      def query(self, query, timeout = None):
</I>&gt;<i> -        return self._lookup(str(query.name), query.type, query.type, 
</I>&gt;<i> timeout)
</I>&gt;<i> +        return self._lookup(str(query.name), query.cls, query.type, 
</I>&gt;<i> timeout)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>      def _lookup(self, name, cls, type, timeout):
</I>&gt;<i> -        if cls != dns.IN or type != dns.A:
</I>&gt;<i> +        if cls != dns.IN or (type != dns.A and type != 
</I>&gt;<i> dns.ALL_RECORDS): # getHostByName passes type==dns.ALL_RECORDS. what 
</I>&gt;<i> else do we need here?
</I>&gt;<i>              return 
</I>&gt;<i> defer.fail(failure.Failure(NotImplementedError(type, cls)))
</I>&gt;<i>          return self.lookupAddress(
</I>&gt;<i>              name, timeout
</I>&gt;<i> @@ -64,7 +64,7 @@
</I>&gt;<i>          res = searchFileFor(self.file, name)
</I>&gt;<i>          if res:
</I>&gt;<i>              return defer.succeed([
</I>&gt;<i> -                [dns.RRHeader(name, dns.A, dns.IN, self.ttl)], (), ()
</I>&gt;<i> +                [dns.RRHeader(name, dns.A, dns.IN, self.ttl, 
</I>&gt;<i> dns.Record_A(res, self.ttl))], [], []
</I>&gt;<i>              ])
</I>&gt;<i>          return defer.fail(failure.Failure(dns.DomainError(name)))
</I>&gt;<i>
</I>&gt;<i> -- 
</I>&gt;<i> brainbot technologies ag
</I>&gt;<i> boppstrasse 64 . 55118 mainz . germany
</I>&gt;<i> fon +49 6131 211639-1 . fax +49 6131 211639-2
</I>&gt;<i> <A HREF="http://brainbot.com/">http://brainbot.com/</A>  mailto:<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">ralf at brainbot.com</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --__--__--
</I>&gt;<i>
</I>&gt;<i> Message: 9
</I>&gt;<i> Date: Mon, 16 Feb 2004 22:47:47 -0300
</I>&gt;<i> From: Daniel Henrique Debonzi &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">debonzi at gwyddion.com</A>&gt;
</I>&gt;<i> To:  <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>
</I>&gt;<i> Subject: [Twisted-Python] Client Prompt
</I>&gt;<i> Reply-To: <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>
</I>&gt;<i>
</I>&gt;<i> Hi everybody,
</I>&gt;<i>
</I>&gt;<i> Maybe this is a very stupid question, but I realy couldn't find a way 
</I>&gt;<i> to
</I>&gt;<i> solve it by myself.
</I>&gt;<i>
</I>&gt;<i> Would be enough for my aplication if this example works.
</I>&gt;<i>
</I>&gt;<i> So, I want to have a client that read a string from the stdin and then
</I>&gt;<i> send it to the server. Wich changes should I do in this code to this
</I>&gt;<i> client work like a discrebed
</I>&gt;<i>
</I>&gt;<i> #################################################################
</I>&gt;<i> from twisted.internet import reactor, protocol
</I>&gt;<i>
</I>&gt;<i> class EchoClient(protocol.Protocol):
</I>&gt;<i>
</I>&gt;<i>      def connectionMade(self):
</I>&gt;<i> 	&quot;&quot;&quot;I don't want to write it here
</I>&gt;<i> 	   I want to take data from stdin and send o server,
</I>&gt;<i> 	   but were and how to do it? Too much dificult?
</I>&gt;<i> 	&quot;&quot;&quot;
</I>&gt;<i>          self.transport.write(&quot;hello, world!&quot;)
</I>&gt;<i>
</I>&gt;<i>      def dataReceived(self, data):
</I>&gt;<i>          print data
</I>&gt;<i>
</I>&gt;<i>      def connectionLost(self, reason):
</I>&gt;<i>          print &quot;connection lost&quot;
</I>&gt;<i>          from twisted.internet import reactor
</I>&gt;<i>          reactor.stop()
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> class EchoFactory(protocol.ClientFactory):
</I>&gt;<i>      protocol = EchoClient
</I>&gt;<i>
</I>&gt;<i>      def clientConnectionFailed(self, connector, reason):
</I>&gt;<i>          print &quot;Connection failed - goodbye!&quot;
</I>&gt;<i>          reactor.stop()
</I>&gt;<i>
</I>&gt;<i>      def clientConnectionLost(self, connector, reason):
</I>&gt;<i>          print &quot;Connection lost - goodbye!&quot;
</I>&gt;<i>          reactor.stop()
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> def main():
</I>&gt;<i>      f = EchoFactory()
</I>&gt;<i>      reactor.connectTCP(&quot;localhost&quot;, 5555, f)
</I>&gt;<i>      reactor.run()
</I>&gt;<i>
</I>&gt;<i> if __name__ == '__main__':
</I>&gt;<i>      main()
</I>&gt;<i>
</I>&gt;<i> #################################################################
</I>&gt;<i>
</I>&gt;<i> Thanks for all
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -- 
</I>&gt;<i> Daniel Henrique Debonzi  Linux user number 166903
</I>&gt;<i> Gwyddion Embedded Free-Software Development
</I>&gt;<i> www.gwyddion.com
</I>&gt;<i> São Carlos, São Paulo
</I>&gt;<i> Brazil
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --__--__--
</I>&gt;<i>
</I>&gt;<i> Message: 10
</I>&gt;<i> To: <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>
</I>&gt;<i> Subject: Re: [Twisted-Python] [PATCH] nasty bug in
</I>&gt;<i>  twisted.names.client.createResolver
</I>&gt;<i> From: <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">ralf at brainbot.com</A>
</I>&gt;<i> Date: Tue, 17 Feb 2004 03:20:28 +0100
</I>&gt;<i> Reply-To: <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>
</I>&gt;<i>
</I>&gt;<i> Itamar Shtull-Trauring &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">itamar at itamarst.org</A>&gt; writes:
</I>&gt;<i>
</I>&gt;&gt;<i> On Mon, 2004-02-16 at 20:05, <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">ralf at brainbot.com</A> wrote:
</I>&gt;&gt;&gt;<i> The parameter variable 'hosts' gets overwritten by the import 
</I>&gt;&gt;&gt;<i> statement
</I>&gt;&gt;&gt;<i> in createResolver. hosts.Resolver constructor is called with a module
</I>&gt;&gt;&gt;<i> instead of a filename.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Please add patches and bugs to twistedmatrix.com/bugs/
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Lots of bug reports in the bug tracker have status 'unread'. That's
</I>&gt;<i> not very motivating. Just committing this patch -even if it was wrong-
</I>&gt;<i> would not make things worse, as the original code is definitely
</I>&gt;<i> broken. But, I'll add it to the bugtracker tomorrow.
</I>&gt;<i>
</I>&gt;<i> - Ralf
</I>&gt;<i>
</I>&gt;<i> -- 
</I>&gt;<i> brainbot technologies ag
</I>&gt;<i> boppstrasse 64 . 55118 mainz . germany
</I>&gt;<i> fon +49 6131 211639-1 . fax +49 6131 211639-2
</I>&gt;<i> <A HREF="http://brainbot.com/">http://brainbot.com/</A>  mailto:<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">ralf at brainbot.com</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --__--__--
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> End of Twisted-Python Digest
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="039594.html">[Twisted-Python] Backup Agent
</A></li>
	<LI>Next message (by thread): <A HREF="039631.html">[Twisted-Python] Backup Agent
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39629">[ date ]</a>
              <a href="thread.html#39629">[ thread ]</a>
              <a href="subject.html#39629">[ subject ]</a>
              <a href="author.html#39629">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
