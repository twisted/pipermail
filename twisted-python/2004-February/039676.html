<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Components
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Components&In-Reply-To=%3C403E8671.1000308%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="039674.html">
   <LINK REL="Next"  HREF="039681.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Components</H1>
    <B>Christopher Armstrong</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Components&In-Reply-To=%3C403E8671.1000308%40twistedmatrix.com%3E"
       TITLE="[Twisted-Python] Components">radix at twistedmatrix.com
       </A><BR>
    <I>Thu Feb 26 16:51:13 MST 2004</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="039674.html">[Twisted-Python] Components
</A></li>
        <LI>Next message (by thread): <A HREF="039681.html">[Twisted-Python] Components
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39676">[ date ]</a>
              <a href="thread.html#39676">[ thread ]</a>
              <a href="subject.html#39676">[ subject ]</a>
              <a href="author.html#39676">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Glyph Lefkowitz wrote:
&gt;<i> On Thu, 2004-02-26 at 14:59, Phillip J. Eby wrote:
</I>&gt;&gt;<i>Yep, just subclass InterfaceClass and add a __call__ method that calls back 
</I>&gt;&gt;<i>to adapt() and you'd be all set.  One other benefit to PyProtocols is that 
</I>&gt;&gt;<i>you can track what interfaces an *instance* supports, independent of what 
</I>&gt;&gt;<i>its class supports.
</I>&gt;<i> 
</I>&gt;<i> Would you consider adding this to PyProtocols directly?  If we're going
</I>&gt;<i> to maintain a component system as part of Twisted, I would like to at
</I>&gt;<i> least get the benefit of having full control over the component system
</I>&gt;<i> within Twisted.  I don't want to have some people using PyProtocols and
</I>&gt;<i> others using PyProtocols+TwistedHacks.
</I>
Interface calling isn't that big of a deal. It just means for 
*parameterized* interfaces, we can't rely on calling (if we want to 
support non-Twisted interfaces there). But when we're adapting to a 
particular interface that we know subclasses our CallableInterface, we 
can call it.

&gt;<i> There are a lot of features I'd add to Twisted's component system if I
</I>&gt;<i> had time, such as:
</I>
In the following, &quot;components system&quot; = &quot;PyProtocols&quot;.

&gt;<i> 	- implicit context-dependent location of closest running t.a.service
</I>&gt;<i> services by interface
</I>
Doesn't require changes to the components system

&gt;<i> 	- interface-based context (moshez's context trick)
</I>
Doesn't require changes to the components system

&gt;<i> 	- automatic generation of interfaces from any class
</I>
Doesn't require changes to the components system (afaict)

&gt;<i> 	- IComponentized
</I>
Hmm, what exactly is the use case for this anyway? I thought it was 
related to string registration of adapters. It doesn't sound like it 
really requires changes to the components system, either; Componentized 
seems like it could easily be implemented on top of PyProtocols.

&gt;<i> 	- context / interface based log separations
</I>
I don't really understand this, but it doesn't sound like it requires 
changes to the components system.

&gt;<i> And of course, integrating foom's string-based components would be great
</I>&gt;<i> too.  There is a lot of friction even to add something like this to
</I>&gt;<i> Twisted.  I imagine that adding something like this to PyProtocols, with
</I>&gt;<i> potentially more projects out there depending on the exact specifics of
</I>&gt;<i> all its semantics, would be even worse.
</I>
Well, Bob said in another message that he had already done 
string-registration of adapters successfully. (?)

&gt;<i> The other alternative is to add a bunch of specific hacks to PyProtocols
</I>&gt;<i> that get loaded only when Twisted gets loaded, which could potentially
</I>&gt;<i> introduce compatibility problems with other PyProtocols-using code,
</I>&gt;<i> which would sort of invalidate the whole point of using a common
</I>&gt;<i> components system in the first place.
</I>
My previous retorts make this point of yours irrelevant for the moment, 
so I will not respond: if you want, you may debate my retorts and we can 
get to this point once we have worked those out.[1]

[1] I need to figure out a succinct way to say this. Maybe some Latin 
crap. It's way too verbose. spiv suggested &quot;ad nauseum&quot; when I asked 
him... Better look that one up. ;-)

&gt;<i> Then we have the issue of the PyProtocols dependency; dependency
</I>&gt;<i> management can be quite hairy on windows.
</I>
Hmm, yeah, I assumed we would include our own (hopefully unhacked) copy 
of PyProtocols in releases.

&gt;<i> Maybe I'm alone in these concerns, though.  Does anyone else feel that
</I>&gt;<i> depending on PyProtocols would increase the learning curve for Twisted
</I>&gt;<i> even more?  Or is this common knowledge in the Python community that
</I>&gt;<i> could be leveraged to actually make the curve shallower?  I can
</I>&gt;<i> certainly learn to wrap my head around the whole thing if nobody else
</I>&gt;<i> has trouble with it :)
</I>
I kinda hold this reservation. PyProtocols is VERY complex compared to 
the t.p.c components system. But maintaining our own inadequate version 
is pretty sucky.

&gt;&gt;<i>There might be some other issues that could come up, but I'm definitely 
</I>&gt;&gt;<i>willing to try to &quot;adapt&quot; to Twisted's needs in these areas, especially if 
</I>&gt;&gt;<i>it means I could get rid of PyProtocols' wrapper code and wrapping tests 
</I>&gt;&gt;<i>for Twisted's existing interface class.  :)
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> This is clearly something that we need to talk about more.  As many
</I>&gt;<i> silly disagreements about design as I can come up with, a common
</I>&gt;<i> components system would be beneficial to everyone involved.  Are you
</I>&gt;<i> coming to PyCon? :)
</I>
PyCon! PyCon! Everybody come to PyCon!

-- 
  Twisted | Christopher Armstrong: International Man of Twistery
   Radix  |          Release Manager,  Twisted Project
---------+           <A HREF="http://radix.twistedmatrix.com/">http://radix.twistedmatrix.com/</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 256 bytes
Desc: OpenPGP digital signature
URL: &lt;/pipermail/twisted-python/attachments/20040226/9a29e159/attachment.sig&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="039674.html">[Twisted-Python] Components
</A></li>
	<LI>Next message (by thread): <A HREF="039681.html">[Twisted-Python] Components
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39676">[ date ]</a>
              <a href="thread.html#39676">[ thread ]</a>
              <a href="subject.html#39676">[ subject ]</a>
              <a href="author.html#39676">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
