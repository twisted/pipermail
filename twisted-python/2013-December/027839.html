<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] ISSLTransport.getPeerCertificate returning None?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20ISSLTransport.getPeerCertificate%20returning%20None%3F&In-Reply-To=%3CCAE_Hg6ZPsLdGoW-QvcA5sVU4ikU1c76odh6_HDD9r55A8PcdxQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="060314.html">
   <LINK REL="Next"  HREF="060302.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] ISSLTransport.getPeerCertificate returning None?</H1>
    <B>Laurens Van Houtven</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20ISSLTransport.getPeerCertificate%20returning%20None%3F&In-Reply-To=%3CCAE_Hg6ZPsLdGoW-QvcA5sVU4ikU1c76odh6_HDD9r55A8PcdxQ%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] ISSLTransport.getPeerCertificate returning None?">_ at lvh.io
       </A><BR>
    <I>Mon Dec  9 15:19:21 MST 2013</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="060314.html">[Twisted-Python] Queries about connecting to a XML-RPC server over IPv6
</A></li>
        <LI>Next message (by thread): <A HREF="060302.html">[Twisted-Python] ISSLTransport.getPeerCertificate returning	None?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27839">[ date ]</a>
              <a href="thread.html#27839">[ thread ]</a>
              <a href="subject.html#27839">[ subject ]</a>
              <a href="author.html#27839">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi!


I'm trying to authenticate a client by looking at their SSL certificate.
I'm calling it from within an AMP responder (so, there's bytes going over
the TLS transport already), and it's still None, so this is unrelated to
calling it in connectionMade. That leads me to believe my client is doing
something wrong...

I've followed the SSL howto on how to write a client that sends a client
cert:

<A HREF="https://twistedmatrix.com/documents/current/core/howto/ssl.html#auto9">https://twistedmatrix.com/documents/current/core/howto/ssl.html#auto9</A>

My client is here:

<A HREF="https://gist.github.com/lvh/d8d9f0b530d07a087da4">https://gist.github.com/lvh/d8d9f0b530d07a087da4</A>

... but in the server's AMP protocol, self.transport.getPeerCertificate()
is still None :/

Any idea what's going on?

cheers
lvh
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20131209/692068e2/attachment.html">http://twistedmatrix.com/pipermail/twisted-python/attachments/20131209/692068e2/attachment.html</A>&gt;
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="060314.html">[Twisted-Python] Queries about connecting to a XML-RPC server over IPv6
</A></li>
	<LI>Next message (by thread): <A HREF="060302.html">[Twisted-Python] ISSLTransport.getPeerCertificate returning	None?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27839">[ date ]</a>
              <a href="thread.html#27839">[ thread ]</a>
              <a href="subject.html#27839">[ subject ]</a>
              <a href="author.html#27839">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
