<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] txmongo vs. pymongo + callInThread
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20txmongo%20vs.%20pymongo%20%2B%20callInThread&In-Reply-To=%3CCA%2BLhZ9-k-PtusKhQJ40%2BpGDD7m-GUU6xOqsUzt-6otnO13rRzA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="062261.html">
   <LINK REL="Next"  HREF="062267.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] txmongo vs. pymongo + callInThread</H1>
    <B>bret curtis</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20txmongo%20vs.%20pymongo%20%2B%20callInThread&In-Reply-To=%3CCA%2BLhZ9-k-PtusKhQJ40%2BpGDD7m-GUU6xOqsUzt-6otnO13rRzA%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] txmongo vs. pymongo + callInThread">psi29a at gmail.com
       </A><BR>
    <I>Mon Oct 12 01:51:36 MDT 2015</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="062261.html">[Twisted-Python] txmongo vs. pymongo + callInThread
</A></li>
        <LI>Next message (by thread): <A HREF="062267.html">[Twisted-Python] txmongo vs. pymongo + callInThread
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#62266">[ date ]</a>
              <a href="thread.html#62266">[ thread ]</a>
              <a href="subject.html#62266">[ subject ]</a>
              <a href="author.html#62266">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>There is one thing that TxMongo does that PyMongo, Motor and the rest don't
do: handle deadlines and timeouts.

We're (HGST/WesternDigital) using MongoDB (with WiredTiger) in real-time
applications and one of our requirements was to honour application set
deadlines (or timeouts) on a per-call basis.

So if you are interested in that, we have it. :)

For those just tuning in...
Timeout: how many seconds the call is allowed run before raising an error.
Deadline: a time (unix timestamp) in the future that the call is allowed to
run before raising an error.

We take advantage of Twisted's native deferred cancellation mechanism in
addition to validation checks that no modifications happen to MongoDB when
a TimeExceeded is raised.

We've been very satisfied with how MongoDB has performed (post 3.0/WT)
along with TxMongo and Twisted.

Cheers,
Bret


On Fri, Oct 9, 2015 at 7:52 PM, Jonathan Vanasco &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at 2xlp.com</A>&gt;
wrote:

&gt;<i>
</I>&gt;<i> On Oct 9, 2015, at 1:06 PM, Clayton Daley wrote:
</I>&gt;<i>
</I>&gt;<i> I (OP) was looking into these libraries/options as part of a side project
</I>&gt;<i> that's been delayed by real work.  I'm also relegating Mongo to a caching
</I>&gt;<i> layer after stumbling upon Sarah Mei's &quot;Why You Should Never Use MongoDB&quot;
</I>&gt;<i> and realizing I was going to have the exact same problems
</I>&gt;<i>
</I>&gt;<i> Thanks for the update!
</I>&gt;<i>
</I>&gt;<i> FWIW, (sorry, non-twisted!)  if you want to avoid mongodb:
</I>&gt;<i>
</I>&gt;<i> 1. We use redis for KV caching, and its really, really, really fast.
</I>&gt;<i> 2. Riak can use LevelDB as a backing store -- leveldb supports snappy
</I>&gt;<i> compression on documents
</I>&gt;<i> 3. If you need the document search, i really like Elastic
</I>&gt;<i>
</I>&gt;<i> I don't really like/trust mongodb from past experience myself.  I would
</I>&gt;<i> normally not use it for anything other than a read-through cache... except
</I>&gt;<i> for my current need.  We have a web spider and need to archive the
</I>&gt;<i> snapshots.  WireTiger, which was bought by mongodb and integrated into the
</I>&gt;<i> 3.x branch, is the only storage backend I've found that will do &quot;bucket
</I>&gt;<i> level compression&quot;.  I forget if it's applied on pages or blocks, but it
</I>&gt;<i> will basically apply zlib or snappy compression onto sets of documents.  I
</I>&gt;<i> looked for weeks on something that could do that, it was the only option.
</I>&gt;<i> We did a lot of storage tests on our typical data, and bucketed compression
</I>&gt;<i> saves way more space than document compression or document compression
</I>&gt;<i> using a seed.
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20151012/3ca9db9e/attachment-0002.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="062261.html">[Twisted-Python] txmongo vs. pymongo + callInThread
</A></li>
	<LI>Next message (by thread): <A HREF="062267.html">[Twisted-Python] txmongo vs. pymongo + callInThread
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#62266">[ date ]</a>
              <a href="thread.html#62266">[ thread ]</a>
              <a href="subject.html#62266">[ subject ]</a>
              <a href="author.html#62266">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
