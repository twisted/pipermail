<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] xmlrpc protocoll instanze per connection?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20xmlrpc%20protocoll%20instanze%20per%20connection%3F&In-Reply-To=%3CAANLkTim9b%3DV9w8GhpcX5iJu7OPoUqep9wX-shanJ3GmH%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="055135.html">
   <LINK REL="Next"  HREF="055137.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] xmlrpc protocoll instanze per connection?</H1>
    <B>Pet</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20xmlrpc%20protocoll%20instanze%20per%20connection%3F&In-Reply-To=%3CAANLkTim9b%3DV9w8GhpcX5iJu7OPoUqep9wX-shanJ3GmH%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] xmlrpc protocoll instanze per connection?">petshmidt at googlemail.com
       </A><BR>
    <I>Thu Aug  5 08:21:04 MDT 2010</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="055135.html">[Twisted-Python] xmlrpc protocoll instanze per connection?
</A></li>
        <LI>Next message (by thread): <A HREF="055137.html">[Twisted-Python] xmlrpc protocoll instanze per connection?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55136">[ date ]</a>
              <a href="thread.html#55136">[ thread ]</a>
              <a href="subject.html#55136">[ subject ]</a>
              <a href="author.html#55136">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Aug 5, 2010 at 3:32 PM, Alan Franzoni &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">mailing at franzoni.eu</A>&gt; wrote:
&gt;<i> On 8/4/10 1:30 PM, Pet wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> AFAIU this works only if Factory is subclassing
</I>&gt;&gt;<i> protocol.ServerFactory, XMLRPCFactory subclasses server.Site, where
</I>&gt;&gt;<i> protocol attribute is not present
</I>&gt;<i>
</I>&gt;<i> server.Site subclasses Â http.HTTPFactory which, in turns, subclasses
</I>&gt;<i> protocol.ServerFactory:
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/documents/10.0.0/api/twisted.web.server.Site.html">http://twistedmatrix.com/documents/10.0.0/api/twisted.web.server.Site.html</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> by the way, if I now understand your question: just subclass XMLRPC and
</I>&gt;<i> create your own xmlrpc resource class by adding methods like
</I>&gt;<i>
</I>&gt;<i> xmlrpc_somemethod
</I>&gt;<i> xmlrpc_othermethod
</I>&gt;<i>
</I>&gt;<i> then add such handler to your server.Site, and you're done. Your method
</I>&gt;<i> will be invoked once per request.
</I>
what I've tried to do is to have objects, which were members of
XMLRPC. And these objects would have some internal state which is
isolated per request. But each new request has changed this objects,
because xmlrpc is created once and not for each request or connection.
I've solved this by modifying render_POST where I create those objects
before calling requested function and so they lives only there without
being overwritten by new request. Ugh... It's might be ugly, but works
for me

Pet

&gt;<i>
</I>&gt;<i> Alan Franzoni
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="055135.html">[Twisted-Python] xmlrpc protocoll instanze per connection?
</A></li>
	<LI>Next message (by thread): <A HREF="055137.html">[Twisted-Python] xmlrpc protocoll instanze per connection?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55136">[ date ]</a>
              <a href="thread.html#55136">[ thread ]</a>
              <a href="subject.html#55136">[ subject ]</a>
              <a href="author.html#55136">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
