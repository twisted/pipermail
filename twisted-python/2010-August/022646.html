<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Cred question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Cred%20question&In-Reply-To=20100805123655.2908.168470113.divmod.xquotient.4%40localhost.localdomain">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022640.html">
   <LINK REL="Next"  HREF="022655.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Cred question</H1>
    <B>Konrads Smelkovs</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Cred%20question&In-Reply-To=20100805123655.2908.168470113.divmod.xquotient.4%40localhost.localdomain"
       TITLE="[Twisted-Python] Cred question">konrads at smelkovs.com
       </A><BR>
    <I>Thu Aug  5 12:45:13 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="022640.html">[Twisted-Python] Cred question
</A></li>
        <LI>Next message: <A HREF="022655.html">[Twisted-Python] Cred question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22646">[ date ]</a>
              <a href="thread.html#22646">[ thread ]</a>
              <a href="subject.html#22646">[ subject ]</a>
              <a href="author.html#22646">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>i guess he wants admin to 1) impersonate another user, akin to su -u
anotheruser and 2) also to drop that user's session.
For 1) you'd have to set the avatar to the user's id (or at
application level implement something like effective uid). For 2)
you'd have to iterate over all active sessions and terminate the one
you want


2010/8/5, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at twistedmatrix.com</A> &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at twistedmatrix.com</A>&gt;:
&gt;<i> On 4 Aug, 02:20 am, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">ssoni at nextdigital.com</A> wrote:
</I>&gt;&gt;<i>Hi,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>I am using Cred authentication system in my Nevow based web
</I>&gt;&gt;<i>application.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Admin user can see list of all users from admin interface of the
</I>&gt;&gt;<i>application.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Now, admin user wants to do following things:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>1.       Automatically login as other user
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>2.       Induce logout to already logged in user.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Q1. Since, admin user itself used cred authentication to login in first
</I>&gt;&gt;<i>place, how do we do automatic login as different user programmatically
</I>&gt;&gt;<i>or logout already logged in other user?
</I>&gt;<i>
</I>&gt;<i> I'm not sure what you're asking here.  Perhaps the answer is to call
</I>&gt;<i> your realm's requestAvatar method with the avatarId of the admin user?
</I>&gt;<i>
</I>&gt;<i> As far as logging out a user, that basically means dropping their
</I>&gt;<i> session.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>I tried to redirect my application to
</I>&gt;&gt;<i>/__login__/?username=otherusername&amp;password=itspassword and it went
</I>&gt;&gt;<i>through Cred system, but I believe, since previous session was active
</I>&gt;&gt;<i>as well, it triggered logout.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Q2. Does cred allow multiple login sessions in same browser? So, that
</I>&gt;&gt;<i>admin user can maintain its own session and login into other user as
</I>&gt;&gt;<i>well.
</I>&gt;<i>
</I>&gt;<i> nevow.guard is cookie-based.  There's no way to have multiple
</I>&gt;<i> authentication cookies inside a single browser instance, as far as I
</I>&gt;<i> know.
</I>&gt;<i>
</I>&gt;<i> Jean-Paul
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>
-- 
Nos&#363;t&#299;ts no manas mobil&#257;s ier&#299;ces

--
Konrads Smelkovs
Applied IT sorcery.

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022640.html">[Twisted-Python] Cred question
</A></li>
	<LI>Next message: <A HREF="022655.html">[Twisted-Python] Cred question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22646">[ date ]</a>
              <a href="thread.html#22646">[ thread ]</a>
              <a href="subject.html#22646">[ subject ]</a>
              <a href="author.html#22646">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
