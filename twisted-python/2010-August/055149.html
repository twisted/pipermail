<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Cred question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Cred%20question&In-Reply-To=%3C6CD03B2AA6AE4747BAF3A0D5EEEF7286072DF2%40exmbx01.corp.nextdigital.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="055140.html">
   <LINK REL="Next"  HREF="055126.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Cred question</H1>
    <B>Sury Soni</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Cred%20question&In-Reply-To=%3C6CD03B2AA6AE4747BAF3A0D5EEEF7286072DF2%40exmbx01.corp.nextdigital.com%3E"
       TITLE="[Twisted-Python] Cred question">ssoni at nextdigital.com
       </A><BR>
    <I>Thu Aug  5 18:09:13 MDT 2010</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="055140.html">[Twisted-Python] Cred question
</A></li>
        <LI>Next message (by thread): <A HREF="055126.html">[Twisted-Python] xmlrpc protocoll instanze per connection?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55149">[ date ]</a>
              <a href="thread.html#55149">[ thread ]</a>
              <a href="subject.html#55149">[ subject ]</a>
              <a href="author.html#55149">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> i guess he wants admin to 1) impersonate another user, akin to su -u
</I>&gt;<i> anotheruser and 2) also to drop that user's session.
</I>&gt;<i> For 1) you'd have to set the avatar to the user's id (or at application level
</I>&gt;<i> implement something like effective uid). For 2) you'd have to iterate over all
</I>&gt;<i> active sessions and terminate the one you want
</I>&gt;<i> 
</I>
Hi Konrads,

You are right.

Can you elaborate your suggested solutions?

I am not sure, where do I set the avatar to user's id, as request will come from protocol while admin session is already active in the browser.

In nevow.guard login request usually comes through login form submit to <A HREF="http://yourhost/__login_">http://yourhost/__login_</A>_ path.

And, then request goes to Realm, but since current (admin) session would be already active, how do we iterate over active session and drop admin session?

&gt;<i> 
</I>&gt;<i> 2010/8/5, <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at twistedmatrix.com</A> &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at twistedmatrix.com</A>&gt;:
</I>&gt;<i> &gt; On 4 Aug, 02:20 am, <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">ssoni at nextdigital.com</A> wrote:
</I>&gt;<i> &gt;&gt;Hi,
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;I am using Cred authentication system in my Nevow based web
</I>&gt;<i> &gt;&gt;application.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;Admin user can see list of all users from admin interface of the
</I>&gt;<i> &gt;&gt;application.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;Now, admin user wants to do following things:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;1.       Automatically login as other user
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;2.       Induce logout to already logged in user.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;Q1. Since, admin user itself used cred authentication to login in
</I>&gt;<i> &gt;&gt;first place, how do we do automatic login as different user
</I>&gt;<i> &gt;&gt;programmatically or logout already logged in other user?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I'm not sure what you're asking here.  Perhaps the answer is to call
</I>&gt;<i> &gt; your realm's requestAvatar method with the avatarId of the admin user?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; As far as logging out a user, that basically means dropping their
</I>&gt;<i> &gt; session.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;I tried to redirect my application to
</I>&gt;<i> &gt;&gt;/__login__/?username=otherusername&amp;password=itspassword and it
</I>&gt;<i> went
</I>&gt;<i> &gt;&gt;through Cred system, but I believe, since previous session was active
</I>&gt;<i> &gt;&gt;as well, it triggered logout.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;Q2. Does cred allow multiple login sessions in same browser? So, that
</I>&gt;<i> &gt;&gt;admin user can maintain its own session and login into other user as
</I>&gt;<i> &gt;&gt;well.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; nevow.guard is cookie-based.  There's no way to have multiple
</I>&gt;<i> &gt; authentication cookies inside a single browser instance, as far as I
</I>&gt;<i> &gt; know.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Jean-Paul
</I>&gt;<i> &gt;
</I>
Thanks JP for the clarification on multiple sessions.

-Sury
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="055140.html">[Twisted-Python] Cred question
</A></li>
	<LI>Next message (by thread): <A HREF="055126.html">[Twisted-Python] xmlrpc protocoll instanze per connection?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55149">[ date ]</a>
              <a href="thread.html#55149">[ thread ]</a>
              <a href="subject.html#55149">[ subject ]</a>
              <a href="author.html#55149">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
