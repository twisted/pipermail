<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Twisted.web, txOAuth and custom login pages
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted.web%2C%20txOAuth%20and%20custom%20login%20pages&In-Reply-To=%3CAANLkTi%3DyQWAnRKy8atYxp5R7%2BEh6fBQiSigGNxm5cabp%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="055235.html">
   <LINK REL="Next"  HREF="055225.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Twisted.web, txOAuth and custom login pages</H1>
    <B>Laurens Van Houtven</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted.web%2C%20txOAuth%20and%20custom%20login%20pages&In-Reply-To=%3CAANLkTi%3DyQWAnRKy8atYxp5R7%2BEh6fBQiSigGNxm5cabp%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Twisted.web, txOAuth and custom login pages">lvh at laurensvh.be
       </A><BR>
    <I>Tue Aug 24 04:57:29 MDT 2010</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="055235.html">[Twisted-Python] Twisted with wxPython in a thread
</A></li>
        <LI>Next message (by thread): <A HREF="055225.html">[Twisted-Python] Twisted.web, txOAuth and custom login pages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55222">[ date ]</a>
              <a href="thread.html#55222">[ thread ]</a>
              <a href="subject.html#55222">[ subject ]</a>
              <a href="author.html#55222">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey,


I'm writing txOAuth. Basically the idea is to abstract all the OAuth stuff
away so that people can just do boring old web auth.

I've seen JP's 60 seconds post but it appears to be HTTP Authentication
centric. I'd like to be able to offer users pretty login pages. Also, OAuth
logins typically have to inform the user about more stuff, such as who *we*
think authenticated the request (as a measure against forgery), and which
privileges exactly they've requested. That makes a pretty login page
something to want.

I've also found sources on how to do it with Woven, but I'm pretty sure I'm
not supposed to do that anymore. Some of them refer to Nevow as the shiny
new thing to use, but since I'm not trying to actually BUILD such a login
page (I'm merely trying to cater to other people that do), I don't think I
need it.

I'm not sure how much of the default stuff can be reused, because OAuth is a
bit different: authenticating the end-user (that's you!) relies on
redirection. Unfortunately the login page itself might redirect the user
many times already, so there must be some way of getting back to my library
with a redirectable request

Also I'm not sure if I should be using Cred here or if it's just
complicating stuff. I think you can model the three-legged auth as two
two-legged auths: the client is authenticating to me, and the end-user is
authenticating to me. That way, you could use HTTPAuthSessionWrapper to
authenticate clients, and its realm would return the login page. This sounds
pretty complex to me.

One really simple API I can think of is just passing a custom object around
that has a deferred. Once you've successfully authenticated the end-user,
you fire it with a Request (which I can then properly redirect), as
explained above. (Same with errback chain; again, I need a request to return
the error to the client that initiated the request.)

Any thoughts?

Thanks,
lvh
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20100824/acf3bab8/attachment.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="055235.html">[Twisted-Python] Twisted with wxPython in a thread
</A></li>
	<LI>Next message (by thread): <A HREF="055225.html">[Twisted-Python] Twisted.web, txOAuth and custom login pages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55222">[ date ]</a>
              <a href="thread.html#55222">[ thread ]</a>
              <a href="subject.html#55222">[ subject ]</a>
              <a href="author.html#55222">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
