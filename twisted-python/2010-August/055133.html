<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Configuring Twisted logging via plugins
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Configuring%20Twisted%20logging%20via%20plugins&In-Reply-To=%3C064DE39A-DCC2-4172-A023-5FAD4674E25B%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="055146.html">
   <LINK REL="Next"  HREF="055141.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Configuring Twisted logging via plugins</H1>
    <B>Valeriy Zamarayev</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Configuring%20Twisted%20logging%20via%20plugins&In-Reply-To=%3C064DE39A-DCC2-4172-A023-5FAD4674E25B%40gmail.com%3E"
       TITLE="[Twisted-Python] Configuring Twisted logging via plugins">valeriy.zamarayev at gmail.com
       </A><BR>
    <I>Wed Aug  4 22:44:43 MDT 2010</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="055146.html">[Twisted-Python] service stops/twistd exits
</A></li>
        <LI>Next message (by thread): <A HREF="055141.html">[Twisted-Python] Configuring Twisted logging via plugins
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55133">[ date ]</a>
              <a href="thread.html#55133">[ thread ]</a>
              <a href="subject.html#55133">[ subject ]</a>
              <a href="author.html#55133">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello, all.

There have been a few questions on this list about how to configure
Twisted logging via plugins, as opposed to .tac files. And we now know
about the #638 and #3534 tickets. Hopefully, they will be resolved
soon.

But before this happens, it seems to me there's no other way to handle
this than to use a &quot;monkey patching&quot; techinque on Twisted (excluding
patching the Twisted source code itself).

We need to access the 'application' object when the server starts. We
can do this when the 'twistd' code calls setServiceParent on the
service returned by the plugin. So if we wrap setServiceParent, we can
access the application object and do what we want.

See the code:  <A HREF="http://gist.github.com/505926">http://gist.github.com/505926</A>

This works for me. I don't know if a better and less dangerous way to
achieve the same exists. Maybe there is one?

Best Regards,
Valeriy



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="055146.html">[Twisted-Python] service stops/twistd exits
</A></li>
	<LI>Next message (by thread): <A HREF="055141.html">[Twisted-Python] Configuring Twisted logging via plugins
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55133">[ date ]</a>
              <a href="thread.html#55133">[ thread ]</a>
              <a href="subject.html#55133">[ subject ]</a>
              <a href="author.html#55133">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
