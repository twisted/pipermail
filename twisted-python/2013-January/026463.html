<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Twisted Names strings
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Twisted%20Names%20strings&In-Reply-To=20130117172226.643a8b42%40saiph.darkstar.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026462.html">
   <LINK REL="Next"  HREF="026465.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Twisted Names strings</H1>
    <B>exarkun at twistedmatrix.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Twisted%20Names%20strings&In-Reply-To=20130117172226.643a8b42%40saiph.darkstar.net"
       TITLE="[Twisted-Python] Twisted Names strings">exarkun at twistedmatrix.com
       </A><BR>
    <I>Thu Jan 17 12:19:01 EST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026462.html">[Twisted-Python] Twisted Names strings
</A></li>
        <LI>Next message: <A HREF="026465.html">[Twisted-Python] Twisted Names strings
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26463">[ date ]</a>
              <a href="thread.html#26463">[ thread ]</a>
              <a href="subject.html#26463">[ subject ]</a>
              <a href="author.html#26463">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 04:22 pm, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">angelo.dellaera at gmail.com</A> wrote:
&gt;<i>
</I>&gt;<i>After updating Twisted to 12.3.0 I started getting errors like the 
</I>&gt;<i>following one
</I>&gt;<i>
</I>&gt;<i>2013-01-17 14:38:23+0100 [-]   File &quot;/usr/lib64/python2.7/site- 
</I>&gt;<i>packages/twisted/names/common.py&quot;, line 93, in lookupAddress
</I>&gt;<i>2013-01-17 14:38:23+0100 [-]     return self._lookup(name, dns.IN, 
</I>&gt;<i>dns.A, timeout)
</I>&gt;<i>2013-01-17 14:38:23+0100 [-]   File &quot;/usr/lib64/python2.7/site- 
</I>&gt;<i>packages/twisted/names/client.py&quot;, line 384, in _lookup
</I>&gt;<i>2013-01-17 14:38:23+0100 [-]     d = self.queryUDP([dns.Query(name, 
</I>&gt;<i>type, cls)], timeout)
</I>&gt;<i>2013-01-17 14:38:23+0100 [-]   File &quot;/usr/lib64/python2.7/site- 
</I>&gt;<i>packages/twisted/names/dns.py&quot;, line 484, in __init__
</I>&gt;<i>2013-01-17 14:38:23+0100 [-]     self.name = Name(name)
</I>&gt;<i>2013-01-17 14:38:23+0100 [-]   File&quot;/usr/lib64/python2.7/site- 
</I>&gt;<i>packages/twisted/names/dns.py&quot;, line 357, in __init__
</I>&gt;<i>2013-01-17 14:38:23+0100 [-]     raise TypeError(&quot;%r is not a byte 
</I>&gt;<i>string&quot; % (name,))
</I>&gt;<i>2013-01-17 14:38:23+0100 [-] TypeError: u'example.com' is not a byte 
</I>&gt;<i>string
</I>&gt;<i>
</I>&gt;<i>Taking a look at documentation I found this document
</I>&gt;<i>
</I>&gt;<i><A HREF="http://twistedmatrix.com/documents/current/core/howto/python3.html">http://twistedmatrix.com/documents/current/core/howto/python3.html</A>
</I>&gt;<i>
</I>&gt;<i>which states
</I>&gt;<i>
</I>&gt;<i>&quot;twisted.names.dns deals with strings with a wide range of meanings,
</I>&gt;<i>often several for each DNS record type. Most of these strings have
</I>&gt;<i>remained as byte strings, which will probably require application
</I>&gt;<i>updates (for the reason given in the FilePath section above). Some
</I>&gt;<i>strings have changed to text strings, though. Any string representing a
</I>&gt;<i>human readable address (for example, Record_A's address parameter) is
</I>&gt;<i>now a text string. Additionally, time-to-live (ttl) values given as
</I>&gt;<i>strings must now be given as text strings.&quot;
</I>&gt;<i>
</I>&gt;<i>which seems to describe the problem I'm experiencing.
</I>&gt;<i>
</I>&gt;<i>But let me say that I'm currently using Python 2.7.3 and I was 
</I>&gt;<i>surprised in realizing
</I>&gt;<i>that a simple update from a minor 12.x release was enough to disrupt my 
</I>&gt;<i>application.
</I>&gt;<i>
</I>&gt;<i>Don't you think that a kind of compatibility mechanism (maybe with a 
</I>&gt;<i>warning message)
</I>&gt;<i>would have been a more gentle way of doing this transition especially 
</I>&gt;<i>for those who
</I>&gt;<i>are still using Python 2?
</I>
Absolutely.  This issue has been reported in connection to Wokkel 
already:

  <A HREF="http://twistedmatrix.com/trac/ticket/6245">http://twistedmatrix.com/trac/ticket/6245</A>

There is currently a fix proposed and waiting review, and there has been 
some discussion about doing a maintenance release of 12.3 to distribute 
the fix.  Thank you for reporting your experience with 12.3.0 (although 
testing during the /pre/-release period would have saved everyone some 
trouble :).

It would be great if you could try out the proposed fix and let us know 
if it also addresses the problem with your application.

Since some concern has been voiced over the effort necessary to do a 
12.3.1 release (as opposed to just including this fix in 13.0), I'd also 
be interested to know whether one or the other of those would be more 
helpful for you - does anything prevent you (or your users) from 
upgrading to 13.0 once it is released?

Thanks,
Jean-Paul

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026462.html">[Twisted-Python] Twisted Names strings
</A></li>
	<LI>Next message: <A HREF="026465.html">[Twisted-Python] Twisted Names strings
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26463">[ date ]</a>
              <a href="thread.html#26463">[ thread ]</a>
              <a href="subject.html#26463">[ subject ]</a>
              <a href="author.html#26463">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
