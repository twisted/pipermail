<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Must avatarId always be a string?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Must%20avatarId%20always%20be%20a%20string%3F&In-Reply-To=1358212208.23140.140661177616037.0DDCE0AA%40webmail.messagingengine.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026444.html">
   <LINK REL="Next"  HREF="026446.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Must avatarId always be a string?</H1>
    <B>Glyph</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Must%20avatarId%20always%20be%20a%20string%3F&In-Reply-To=1358212208.23140.140661177616037.0DDCE0AA%40webmail.messagingengine.com"
       TITLE="[Twisted-Python] Must avatarId always be a string?">glyph at twistedmatrix.com
       </A><BR>
    <I>Tue Jan 15 00:30:39 EST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026444.html">[Twisted-Python] Must avatarId always be a string?
</A></li>
        <LI>Next message: <A HREF="026446.html">[Twisted-Python] Must avatarId always be a string?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26445">[ date ]</a>
              <a href="thread.html#26445">[ thread ]</a>
              <a href="subject.html#26445">[ subject ]</a>
              <a href="author.html#26445">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Jan 14, 2013, at 5:10 PM, Peter Westlake &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">peter.westlake at pobox.com</A>&gt; wrote:

&gt;<i> The main question left in my mind is about the degree of dependency
</I>&gt;<i> between the checker and the realm if extra information is passed,
</I>&gt;<i> by whatever method. If the realm expects the checker to pass it
</I>&gt;<i> (for instance) an LDAP session, then it's pretty much committed
</I>&gt;<i> to one particular checker. That means abandoning pluggability -
</I>&gt;<i> which admittedly isn't very sensible in that case - and once you
</I>&gt;<i> do that, simply passing back a complex structure as an avatarId
</I>&gt;<i> seems as good a method as any. It's simple, and it works now.
</I>&gt;<i> Likewise Itamar's special-purpose portal suggestion.
</I>
The problem is not so much that pluggability is no longer possible if the realm requires something that not all checkers can provide, but that the failure mode is incoherent.  For example, checkers specify the credential interfaces that they can check specifically so that they can be slotted together with a protocol seamlessly; if a protocol offers credentials that can't be checked by any of the checkers on its portal, it will try not to offer those mechanisms to its peer.  Ultimately, if it tries to shove the wrong credentials in, it will still get a sensible authentication failure, not a random exception.

This is important because, for example, credentials checkers are pluggable via the --auth= option to certain twistd plugins; in the future, hopefully realms could be as well.

If the realm could declare what it needed from the avatar ID (or, probably, we'd want to call it something other than &quot;ID&quot; if it does more than identify the avatar) and it could sensibly report errors when those things were not provided, then we could have a mechanism that nicely integrated everything.

(Also, stuff like this is why we use zope.interface - it makes describing the way these bits fit together relatively straightforward.)

-glyph

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20130114/7738811e/attachment.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20130114/7738811e/attachment.htm</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026444.html">[Twisted-Python] Must avatarId always be a string?
</A></li>
	<LI>Next message: <A HREF="026446.html">[Twisted-Python] Must avatarId always be a string?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26445">[ date ]</a>
              <a href="thread.html#26445">[ thread ]</a>
              <a href="subject.html#26445">[ subject ]</a>
              <a href="author.html#26445">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
