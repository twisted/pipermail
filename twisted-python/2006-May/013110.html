<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] can pb.Copyable objects be compared for equality	after a round trip?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20can%20pb.Copyable%20objects%20be%20compared%20for%20equality%0A%09after%20a%20round%20trip%3F&In-Reply-To=d27002d90605070255y563ed3a5t2237b23c807d5c79%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013080.html">
   <LINK REL="Next"  HREF="013073.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] can pb.Copyable objects be compared for equality	after a round trip?</H1>
    <B>Robert Gravina</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20can%20pb.Copyable%20objects%20be%20compared%20for%20equality%0A%09after%20a%20round%20trip%3F&In-Reply-To=d27002d90605070255y563ed3a5t2237b23c807d5c79%40mail.gmail.com"
       TITLE="[Twisted-Python] can pb.Copyable objects be compared for equality	after a round trip?">robert at gravina.com
       </A><BR>
    <I>Fri May 12 05:03:24 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="013080.html">[Twisted-Python] can pb.Copyable objects be compared for equality	after a round trip?
</A></li>
        <LI>Next message: <A HREF="013073.html">[Twisted-Python] Twisted + SQLAlchemy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13110">[ date ]</a>
              <a href="thread.html#13110">[ thread ]</a>
              <a href="subject.html#13110">[ subject ]</a>
              <a href="author.html#13110">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> It's possible to make each element in the set being edited a
</I>&gt;<i> cacheable. If you think that would introduce too much overhead, then
</I>&gt;<i> you can add a method to the &quot;address book&quot; object which updates one of
</I>&gt;<i> the entries in this address book, and uses an id to identify the entry
</I>&gt;<i> within the address book. So the address book is the dict. That's what
</I>&gt;<i> I did in a similar case. I'm no expert though.
</I>
&gt;<i> HTH
</I>&gt;<i>
</I>&gt;<i> Micky
</I>
Yeah. I've just realised that after saving an object in the ZODB it  
should have an ID attribute called &quot;_p_oid&quot;. I can can compare  
copyables that come back to objects in the database this way. I think  
this will be much easier to implement than having around 20 classes  
which are all cachables, although I can see some problems arising  
here because the &quot;_p_oid&quot; only has a useful value after the object  
has been persisted.

Perhaps someone knows of an open source app which has tackled this  
problem (i.e. keeping an object hierarchy in sync across multiple  
clients) that I could look at and get general strategies from? It  
seems all my solutions have a &quot;hack&quot; feel too them, and I can't wrap  
my head around how to do this using a mix of cacheables/copyables/ 
referencables. For now, I just have one top-level cache that get it's  
observe_* methods called (e.g. observe_addFoo(foo)) and then just  
look to see if there is an Foo with the same _p_oid in my list of  
Foo's and update (by just calling setCopyableState) if so, or append  
otherwise. Something just doesn't feel right about this approach.

Robert


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013080.html">[Twisted-Python] can pb.Copyable objects be compared for equality	after a round trip?
</A></li>
	<LI>Next message: <A HREF="013073.html">[Twisted-Python] Twisted + SQLAlchemy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13110">[ date ]</a>
              <a href="thread.html#13110">[ thread ]</a>
              <a href="subject.html#13110">[ subject ]</a>
              <a href="author.html#13110">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
