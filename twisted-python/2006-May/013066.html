<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] protocol factory
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20protocol%20factory&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013065.html">
   <LINK REL="Next"  HREF="013067.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] protocol factory</H1>
    <B>aerodew</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20protocol%20factory&In-Reply-To="
       TITLE="[Twisted-Python] protocol factory">ssgzhantr at gmail.com
       </A><BR>
    <I>Thu May  4 23:13:59 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="013065.html">[Twisted-Python] No-op TimerService on Windows?
</A></li>
        <LI>Next message: <A HREF="013067.html">[Twisted-Python] can pb.Copyable objects be compared for equality	after a round trip?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13066">[ date ]</a>
              <a href="thread.html#13066">[ thread ]</a>
              <a href="subject.html#13066">[ subject ]</a>
              <a href="author.html#13066">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>    i think Factory is not to the point,just concerned with its
concept,factory
should only take care of producing proper protocol instance.i can't see any
clue
of protocol context in the defintion of factory.so the boudary of factory is
loom,i don't
like it.or on other hand,we can it can be categoried into abstract
factroy,then i proprose
following refraction.

class ProtoAbsFactory:
    implements(interfaces.IProtocolFactory)

    protocol=None
    context=None

    numProtos=0

    def buildProtocol(self):
        pass
    def buildContext(self):
        pass

class ProtoContext:
    def doStart(self):
        pass
    def doStop(self):
        pass

class ClientProtoContext(ProtoContext):
    def startedCnnecting(self):
        pass
    def clientConnectionFailed(self):
        pass
    def clientConnectionLost(self):
        pass

class ReconnectingClientProtoContext(ClientProtoContext):
    def clientConnectoionFailed(self,connector,reason):
        self.connector=connector
        self.retry()
    def clientConnectionLost(self,connector,reason):
        self.connector=connector
        self.retry()
    def retry(self):
        self.connector.connect()

     by introducing context,we make solution for some situation
very simple,just like http,since it is a stateless ,we have to bring
in session to store state information during the communication,here by
refining the context ,we can easily achieve it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20060505/9ecef08e/attachment.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20060505/9ecef08e/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013065.html">[Twisted-Python] No-op TimerService on Windows?
</A></li>
	<LI>Next message: <A HREF="013067.html">[Twisted-Python] can pb.Copyable objects be compared for equality	after a round trip?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13066">[ date ]</a>
              <a href="thread.html#13066">[ thread ]</a>
              <a href="subject.html#13066">[ subject ]</a>
              <a href="author.html#13066">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
