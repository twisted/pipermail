<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Multiple main loops
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Multiple%20main%20loops&In-Reply-To=20060502223856.22481.357549020.divmod.quotient.20771%40ohm">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013031.html">
   <LINK REL="Next"  HREF="013038.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Multiple main loops</H1>
    <B>David Pratt</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Multiple%20main%20loops&In-Reply-To=20060502223856.22481.357549020.divmod.quotient.20771%40ohm"
       TITLE="[Twisted-Python] Multiple main loops">fairwinds at eastlink.ca
       </A><BR>
    <I>Tue May  2 20:43:21 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="013031.html">[Twisted-Python] Multiple main loops
</A></li>
        <LI>Next message: <A HREF="013038.html">[Twisted-Python] Multiple main loops
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13034">[ date ]</a>
              <a href="thread.html#13034">[ thread ]</a>
              <a href="subject.html#13034">[ subject ]</a>
              <a href="author.html#13034">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at divmod.com</A> wrote:
&gt;<i> 
</I>&gt;<i> On Tue, 02 May 2006 12:00:53 -0300, David Pratt &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">fairwinds at eastlink.ca</A>&gt; 
</I>&gt;<i> wrote:
</I>&gt;&gt;<i> Hi. I am hoping you can clarify for me whether it is possible to run 
</I>&gt;&gt;<i> multiple independent main loops in Twisted. It is my understanding 
</I>&gt;&gt;<i> that this would mean separate independent reactors.
</I>&gt;<i> 
</I>&gt;<i> Yep.  This is not currently possible.  Most importantly there are no 
</I>&gt;<i> tests for it, so we would have no idea if it worked.  Writing tests for 
</I>&gt;<i> race conditions is notoriously hard.
</I>
Hi glyph. Have there been previous attempts to run more than a single 
reactor together? Does any of this exist anywhere in the history of the 
your repository.

&gt;&gt;<i> Googling, I found this patch but after looking into the repository, it 
</I>&gt;&gt;<i> was never committed. I would appreciate any comments on the patch or 
</I>&gt;&gt;<i> attempts people have made on the integration of a second twisted loop.
</I>&gt;<i> 
</I>&gt;<i> This patch was deliberately left uncommitted.  It definitely reverses an 
</I>&gt;<i> optimization that was demonstrated to improve performance on the 
</I>&gt;<i> critical path; it only maybe makes it possible to initialize multiple 
</I>&gt;<i> reactors.  If you want to write a comprehensive set of unit tests for 
</I>&gt;<i> multiple reactors, we might consider doing something like this, 
</I>&gt;<i> otherwise the reactor will be left in its current state in order to 
</I>&gt;<i> discourage people from attempting to start multiple reactors concurrently.
</I>
I understand what you are saying however there is some appeal in 
exploring this possibility (if there is a possibility for it to work).

&gt;&gt;<i> At the present time I am using twisted with wxpython with wxpython as 
</I>&gt;&gt;<i> main loop and also running a selectreactor instance. Here there are 
</I>&gt;&gt;<i> two separate loops, interoperating and operating independently, 
</I>&gt;&gt;<i> however they are not both twisted loops.
</I>&gt;<i> 
</I>&gt;<i> wxpython is buggy and has terrible event-loop support.  Consider using 
</I>&gt;<i> PyGTK instead.  If you really must use wx, there are a variety of 
</I>&gt;<i> mostly-working ways to integrate the mainloop with Twisted without 
</I>&gt;<i> resorting to multiple reactors.
</I>
I have been using wxpython and twisted together for about a year. They 
seem to perform well together and I would have no problem recommending 
wxpython for general cross platform gui development. I am using wxpython 
only to illustrate that multiple independent loops can work 
cooperatively. The target for the multiple reactor possibility is zope 
client instances where currently an asyncore loop has been integrated 
for zeo support.

Regards,
David




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013031.html">[Twisted-Python] Multiple main loops
</A></li>
	<LI>Next message: <A HREF="013038.html">[Twisted-Python] Multiple main loops
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13034">[ date ]</a>
              <a href="thread.html#13034">[ thread ]</a>
              <a href="subject.html#13034">[ subject ]</a>
              <a href="author.html#13034">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
