<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] DeferredList failure accumulation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20DeferredList%20failure%20accumulation&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005640.html">
   <LINK REL="Next"  HREF="005642.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] DeferredList failure accumulation</H1>
    <B>Justin Johnson</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20DeferredList%20failure%20accumulation&In-Reply-To="
       TITLE="[Twisted-Python] DeferredList failure accumulation">justinjohnson at fastmail.fm
       </A><BR>
    <I>Fri Aug 29 16:41:26 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="005640.html">[Twisted-Python] New PB API example?
</A></li>
        <LI>Next message: <A HREF="005642.html">[Twisted-Python] Plain text password with PB authentication?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5641">[ date ]</a>
              <a href="thread.html#5641">[ thread ]</a>
              <a href="subject.html#5641">[ subject ]</a>
              <a href="author.html#5641">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've been doing a lot with DeferredList's lately and just want to make
sure I'm doing things the &quot;right&quot; way.  There a couple different
situations where I want to report errors in Deferred's that are added to
a DeferredList.

1)  I define a remote_status method on the PB client that initiates the
request.  The PB server calls the remote_status method on the client to
update the status for the particular task and redisplay the grid below,
and if the status if a failure, passes the failure as an argument which
gets added to an overall list of failures that are displayed nicely when
all tasks are complete.

      | 1 | 2 | 3 | 4 | status
----------------------------------
job1  | S | S | S | S | success
----------------------------------
job2  | S | F | S | F | failure
----------------------------------

Failures
----------------------------------
Task: job2
Step: step2
Failure: blah blah blah

Task: job2
Step: step4
Failure: blah blah blah

2)  If the DeferredList is used in a general class that represents some
data type worked on by the PB server, have each Deferred have an errback
that adds its errors into a list of errors.  Then add a callback to the
entire DeferredList that checks to see if there are any accumulated
failures.  If it finds failures, it errback's with a list of the failure
objects represented as strings so we don't have to deal with
InsecureJelly problems.

Does this sound like an alright way to do this?  Anyone have any
suggestions at improving this?

Thanks.
-Justin


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005640.html">[Twisted-Python] New PB API example?
</A></li>
	<LI>Next message: <A HREF="005642.html">[Twisted-Python] Plain text password with PB authentication?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5641">[ date ]</a>
              <a href="thread.html#5641">[ thread ]</a>
              <a href="subject.html#5641">[ subject ]</a>
              <a href="author.html#5641">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
