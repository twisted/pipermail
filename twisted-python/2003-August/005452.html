<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Woven: access to submodels
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Woven%3A%20access%20to%20submodels&In-Reply-To=6577C938-BA1C-11D7-8547-000A95864FC4%40twistedmatrix.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005451.html">
   <LINK REL="Next"  HREF="005453.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Woven: access to submodels</H1>
    <B>Mary</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Woven%3A%20access%20to%20submodels&In-Reply-To=6577C938-BA1C-11D7-8547-000A95864FC4%40twistedmatrix.com"
       TITLE="[Twisted-Python] Woven: access to submodels">mary-twisted at puzzling.org
       </A><BR>
    <I>Fri Aug  8 20:43:35 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="005451.html">[Twisted-Python] UDP and factories
</A></li>
        <LI>Next message: <A HREF="005453.html">[Twisted-Python] Woven: access to submodels
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5452">[ date ]</a>
              <a href="thread.html#5452">[ thread ]</a>
              <a href="subject.html#5452">[ subject ]</a>
              <a href="author.html#5452">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Replying to an old thread here, I work though my problems slowly...

On Sat, Jul 19, 2003, Donovan Preston wrote:
&gt;<i> So, fortunately, things may be simpler than they seem.  You can just
</I>&gt;<i> pass the DeferredWrapper as the Main Model to the next Page instance
</I>&gt;<i> you construct, and as long as you are going to be rendering that Page
</I>&gt;<i> next, Woven will just wait on it as it would any other Deferred.
</I>
[some bits of code snipped]

&gt;<i> class DeferredProducer(model.MethodModel):
</I>&gt;<i>     def wmfactory_someDeferred(self, reqeuest):
</I>&gt;<i>         d = defer.Deferred()
</I>&gt;<i>         reactor.callLater(0.5, self.produce, d)
</I>&gt;<i>         return d
</I>&gt;<i> 
</I>&gt;<i>     def produce(self, d):
</I>&gt;<i>         d.callback( &quot;Hello, here is some text&quot; )
</I>&gt;<i> 
</I>&gt;<i> class MainPage(page.Page):
</I>&gt;<i>     template = &quot;&quot;&quot;&lt;html&gt;
</I>&gt;<i>     &lt;h3 model=&quot;someNotDeferred&quot; view=&quot;Text&quot;&gt; qawsf&lt;/h3&gt;
</I>&gt;<i>     &lt;span model=&quot;someDeferred&quot; view=&quot;Text&quot;&gt; qwensd&lt;/span&gt;
</I>&gt;<i> &lt;/html&gt; &quot;&quot;&quot;
</I>&gt;<i> 
</I>&gt;<i>     def getDynamicChild(self, name, request):
</I>&gt;<i>         return ChildPage(
</I>&gt;<i>                     self.model.getSubmodel(request, 'someDeferred'))
</I>&gt;<i> 
</I>&gt;<i> class ChildPage(page.Page):
</I>&gt;<i>     template = &quot;&quot;&quot;&lt;html&gt;
</I>&gt;<i>     Hello! Our main model is a deferred, so the next node will have to 
</I>&gt;<i> wait
</I>&gt;<i>     &lt;span model=&quot;.&quot; view=&quot;Text&quot;&gt; ncxnz&lt;/span&gt;
</I>&gt;<i> &lt;/html&gt; &quot;&quot;&quot;
</I>
Sorry, I'm not too familiar with the stages in which this gets sent to
the browser, but this code assumes that the ChildPage is always going to
exist.

In my blog model, obviously there are authors that don't exist. So
/author/Mary/ would be represented by a ChildPage Resource, but
/author/Donovan/ should 404. Is that possible in a code structure like
this, or is it too late to produce the appropriate error at the:
    &lt;span model=&quot;.&quot; view=&quot;Text&quot;&gt; ncxnz&lt;/span&gt;
stage, which is the first time Twisted Web needs to wait on our Deferred
main model?

-Mary


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005451.html">[Twisted-Python] UDP and factories
</A></li>
	<LI>Next message: <A HREF="005453.html">[Twisted-Python] Woven: access to submodels
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5452">[ date ]</a>
              <a href="thread.html#5452">[ thread ]</a>
              <a href="subject.html#5452">[ subject ]</a>
              <a href="author.html#5452">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
