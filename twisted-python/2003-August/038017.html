<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Watching over a Twisted daemon
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Watching%20over%20a%20Twisted%20daemon&In-Reply-To=%3C3F39281E.9070607%40tekNico.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="038016.html">
   <LINK REL="Next"  HREF="038020.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Watching over a Twisted daemon</H1>
    <B>Nicola Larosa</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Watching%20over%20a%20Twisted%20daemon&In-Reply-To=%3C3F39281E.9070607%40tekNico.net%3E"
       TITLE="[Twisted-Python] Watching over a Twisted daemon">nico at tekNico.net
       </A><BR>
    <I>Tue Aug 12 11:47:10 MDT 2003</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="038016.html">[Twisted-Python] PB service send output to client
</A></li>
        <LI>Next message (by thread): <A HREF="038020.html">[Twisted-Python] Watching over a Twisted daemon
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38017">[ date ]</a>
              <a href="thread.html#38017">[ thread ]</a>
              <a href="subject.html#38017">[ subject ]</a>
              <a href="author.html#38017">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

I'm using the ProcessMonitor class from t.runner.procmon, with good results,
to start and monitor a few daemons from Twisted. If a daemon goes down, it
is restarted immediately, because the class does not detach from the
daemons' streams.

This unfortunately introduces a single point of failure, because if the
Twisted process goes down, it not only does not monitors the daemons
anymore, but effectively takes them down with it.

It would be nice if Twisted could, via the ProcessMonitor class or
otherwise, monitor long running processes to whose streams it is not connected.

That would even allow one to start a second Twisted instance monitoring the
first, while the first could monitor the second, so that they would
effectively act as the watchdog of each other.

I could try and reimplement the ProcessMonitor class making it use pid
files, the output of the ps command, or even /proc/ directly (non-portable),
but first I would like to know if this is a sound idea, or maybe there are
simpler ways to get this result.


- --
&quot;Finding a pianist who can play the notes is cheap.
Just as finding a programmer who can write code is cheap. [...]
Finding a pianist who is a musician, or finding a coder who is an artist
- - that is a rare and precious find indeed.&quot;  Russell, on Slashdot

Nicola Larosa - <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">nico at tekNico.net</A>


-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.2 (GNU/Linux)

iD8DBQE/OSgdXv0hgDImBm4RAm2GAKC+4+gcqKuDNuI1Yf3TguzDjQ90zgCfZqo5
oDuXTPu6iiJtcGM9fGlWk/A=
=G1Ub
-----END PGP SIGNATURE-----




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="038016.html">[Twisted-Python] PB service send output to client
</A></li>
	<LI>Next message (by thread): <A HREF="038020.html">[Twisted-Python] Watching over a Twisted daemon
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38017">[ date ]</a>
              <a href="thread.html#38017">[ thread ]</a>
              <a href="subject.html#38017">[ subject ]</a>
              <a href="author.html#38017">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
