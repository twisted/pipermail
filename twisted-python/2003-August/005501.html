<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Setting a timeout for HTTPDownloader
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Setting%20a%20timeout%20for%20HTTPDownloader&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005499.html">
   <LINK REL="Next"  HREF="005502.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Setting a timeout for HTTPDownloader</H1>
    <B>Edd Dumbill</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Setting%20a%20timeout%20for%20HTTPDownloader&In-Reply-To="
       TITLE="[Twisted-Python] Setting a timeout for HTTPDownloader">edd at usefulinc.com
       </A><BR>
    <I>Tue Aug 12 07:27:45 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="005499.html">[Twisted-Python] Re: [Twisted-commits] Adventures in Epydoc: Stop The Hurt, part 1: The end of privatization
</A></li>
        <LI>Next message: <A HREF="005502.html">[Twisted-Python] Setting a timeout for HTTPDownloader
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5501">[ date ]</a>
              <a href="thread.html#5501">[ thread ]</a>
              <a href="subject.html#5501">[ subject ]</a>
              <a href="author.html#5501">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

Firstly, thanks for Twisted, I'm just starting to use it and I'm
impressed with what I see.  I'm also grateful for the help folks have
given me on the IRC channel.

So here's my problem.  I'm adapting the spider from Twisted to my own
purposes.  One problem I've come across is this: that an HTTP connection
will be opened OK, but is just held open with no return for many many
minutes by a server.

So, I want to implement a timeout.  As I understand it, this is
different from the timeout given at reactor.connectTCP time, as it's
post-connect.  Certainly that's how it looks from here.

I guess that somewhere I want a callLater which stops a download after
so many seconds, and that's what I tried to do.  Unfortunately I have no
idea what to do to implement that.  Most of my attempts ended up in
raising exceptions that brought everything to a halt: my understanding
of the thread of execution throughout the various Twisted components is
currently very immature.

I'd be grateful for pointers on how to implement this, with reference to
twisted/web/spider.py.  Essentially what I want is a timeout to cause an
error that will result in SpiderSender.downloadFailed being invoked,
pretty much as for any other error relating to the HTTP connection does.

With many thanks,

-- Edd




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005499.html">[Twisted-Python] Re: [Twisted-commits] Adventures in Epydoc: Stop The Hurt, part 1: The end of privatization
</A></li>
	<LI>Next message: <A HREF="005502.html">[Twisted-Python] Setting a timeout for HTTPDownloader
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5501">[ date ]</a>
              <a href="thread.html#5501">[ thread ]</a>
              <a href="subject.html#5501">[ subject ]</a>
              <a href="author.html#5501">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
