<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Surprises in twisted.web.woven
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Surprises%20in%20twisted.web.woven&In-Reply-To=19524A43-C6A1-11D7-8F2D-000393C9700E%40twistedmatrix.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005364.html">
   <LINK REL="Next"  HREF="005368.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Surprises in twisted.web.woven</H1>
    <B>Phillip J. Eby</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Surprises%20in%20twisted.web.woven&In-Reply-To=19524A43-C6A1-11D7-8F2D-000393C9700E%40twistedmatrix.com"
       TITLE="[Twisted-Python] Surprises in twisted.web.woven">pje at telecommunity.com
       </A><BR>
    <I>Mon Aug  4 14:14:51 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="005364.html">[Twisted-Python] Surprises in twisted.web.woven
</A></li>
        <LI>Next message: <A HREF="005368.html">[Twisted-Python] Surprises in twisted.web.woven
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5367">[ date ]</a>
              <a href="thread.html#5367">[ thread ]</a>
              <a href="subject.html#5367">[ subject ]</a>
              <a href="author.html#5367">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>At 12:28 PM 8/4/03 -0500, Glyph Lefkowitz wrote:

&gt;<i>On Monday, August 4, 2003, at 07:13 AM, Tim Allen wrote:
</I>&gt;<i>
</I>&gt;&gt;<i>Is there any reason why white-space preserving should not always be on?
</I>&gt;<i>
</I>&gt;<i>Believe it or not, it's a bottleneck.
</I>&gt;<i>
</I>&gt;<i>In order to preserve whitespace, you have to create a bunch of extra Node 
</I>&gt;<i>and str objects, which consume a not-inconsiderable set of resources for, 
</I>&gt;<i>let's say, a directory full of reasonably sized Woven templates.
</I>&gt;<i>
</I>&gt;<i>This cost is exacerbated by the fact that woven copies and inspects the 
</I>&gt;<i>entire tree of DOM objects on every page render.
</I>
You might be interested in the technique I use for 
peak.web.templates.  First, my DOMlet objects aren't even as sophisticated 
as Twisted's microdom; they are just objects that cwrite unicode 
streams.  Second, each node has a 'staticText' attribute that can be either 
a unicode value or None.  So, parent nodes can glom together adjacent nodes 
with staticText.  Then, if that node only has static content, it defines 
its own staticText attribute, so it can be glommed together with its peers, 
by its parent.  The net result is that a template, as a whole, consists of 
dynamic nodes occasionally interrupted by a block of static text.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005364.html">[Twisted-Python] Surprises in twisted.web.woven
</A></li>
	<LI>Next message: <A HREF="005368.html">[Twisted-Python] Surprises in twisted.web.woven
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5367">[ date ]</a>
              <a href="thread.html#5367">[ thread ]</a>
              <a href="subject.html#5367">[ subject ]</a>
              <a href="author.html#5367">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
