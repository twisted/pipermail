<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] SSL and Perspective Broker
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20SSL%20and%20Perspective%20Broker&In-Reply-To=20030804193750.187800b0.itamar%40itamarst.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005389.html">
   <LINK REL="Next"  HREF="005390.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] SSL and Perspective Broker</H1>
    <B>Edmund Dengler</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20SSL%20and%20Perspective%20Broker&In-Reply-To=20030804193750.187800b0.itamar%40itamarst.org"
       TITLE="[Twisted-Python] SSL and Perspective Broker">edmundd at eSentire.com
       </A><BR>
    <I>Tue Aug  5 10:50:05 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="005389.html">[Twisted-Python] SSL and Perspective Broker
</A></li>
        <LI>Next message: <A HREF="005390.html">[Twisted-Python] SSL and Perspective Broker
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5388">[ date ]</a>
              <a href="thread.html#5388">[ thread ]</a>
              <a href="subject.html#5388">[ subject ]</a>
              <a href="author.html#5388">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Trying it out. Is there any documentation (ala the How To's) to show how
to use the new API.

Tried it out, had to change the contextFactory and context orders, and
used serviceName and perspectiveName.

Here is the new go() method in the client side:

----------

    def go(self):
        factory = pb.PBClientFactory()
        reactor.connectSSL(&quot;localhost&quot;, 8800, factory, ssl.ClientContextFactory())
        def1 = factory.getPerspective(&quot;user1&quot;, &quot;pass1&quot;, serviceName=&quot;TransferService&quot;, perspectiveName=&quot;perspective1&quot;)
        def1.addCallbacks(self.startTransfer, self.unable)
        print &quot;finishing go()&quot;
        reactor.run()

----------

And here is what I get when I run it:

&gt;<i> python pb7client.py
</I>pb7client.py:16: DeprecationWarning: Please update your backend to use updated APIs.
  def1 = factory.getPerspective(&quot;user1&quot;, &quot;pass1&quot;, serviceName=&quot;TransferService&quot;, perspectiveName=&quot;perspective1&quot;)
finishing go()
TransferClient.unable() called
Failure: twisted.internet.error.ConnectionRefusedError: Connection was refused by other side: 61: Connection refused.

I can telnet to the port, so it is not a networking issue.

Regards,
Ed

On Mon, 4 Aug 2003, Itamar Shtull-Trauring wrote:

&gt;<i> On Mon, 4 Aug 2003 18:52:33 -0400 (EDT)
</I>&gt;<i> Edmund Dengler &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">edmundd at eSentire.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; I'm locking up again. It looks like it gets further than when I had my
</I>&gt;<i> &gt; problems with 1.0.5. The client claims to have gotten a root reference
</I>&gt;<i> &gt; (good, this is further), but the server does not show the attaching
</I>&gt;<i> &gt; client. It looks like the client is blocking in the pb.logIn method.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Twisted Version: 1.0.7alpha2
</I>&gt;<i>
</I>&gt;<i> getObjectAtSSL is deprecated in CVS. If you can reproduce this with CVS
</I>&gt;<i> I'll be glad to take a look.
</I>&gt;<i>
</I>&gt;<i>   # this is how it'd look:
</I>&gt;<i>   factory = pb.PBClientFactory()
</I>&gt;<i>   reactor.connectSSL(&quot;localhost&quot;, 8787, contextFactory, factory)
</I>&gt;<i>   deferredOfPerspective = factory.getPerspective(&quot;identity&quot;, &quot;password&quot;,
</I>&gt;<i> perspective=&quot;joe&quot;)
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Itamar Shtull-Trauring    <A HREF="http://itamarst.org/">http://itamarst.org/</A>
</I>&gt;<i> Available for Python &amp; Twisted consulting
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005389.html">[Twisted-Python] SSL and Perspective Broker
</A></li>
	<LI>Next message: <A HREF="005390.html">[Twisted-Python] SSL and Perspective Broker
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5388">[ date ]</a>
              <a href="thread.html#5388">[ thread ]</a>
              <a href="subject.html#5388">[ subject ]</a>
              <a href="author.html#5388">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
