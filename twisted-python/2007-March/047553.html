<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Twisted.Names assistance with auth and	additional sections
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted.Names%20assistance%20with%20auth%20and%0A%09additional%20sections&In-Reply-To=%3C20070321024152.18920.1241379717.divmod.quotient.4396%40ohm%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="047551.html">
   <LINK REL="Next"  HREF="047555.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Twisted.Names assistance with auth and	additional sections</H1>
    <B>Jean-Paul Calderone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted.Names%20assistance%20with%20auth%20and%0A%09additional%20sections&In-Reply-To=%3C20070321024152.18920.1241379717.divmod.quotient.4396%40ohm%3E"
       TITLE="[Twisted-Python] Twisted.Names assistance with auth and	additional sections">exarkun at divmod.com
       </A><BR>
    <I>Tue Mar 20 20:41:52 MDT 2007</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="047551.html">[Twisted-Python] Twisted.Names assistance with auth and	additional sections
</A></li>
        <LI>Next message (by thread): <A HREF="047555.html">[Twisted-Python] Twisted.Names assistance with auth and	additional sections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47553">[ date ]</a>
              <a href="thread.html#47553">[ thread ]</a>
              <a href="subject.html#47553">[ subject ]</a>
              <a href="author.html#47553">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, 20 Mar 2007 16:13:14 -0700, Sean Leach &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">kickdaddy at gmail.com</A>&gt; wrote:
&gt;<i>Thanks Jean-Paul,
</I>&gt;<i>
</I>&gt;<i>I tried changing to queryUDP, and it just sits there, never sends out
</I>&gt;<i>a query (watching with tcpdump).  If I change it to _lookup, which it
</I>&gt;<i>looks like queryUDP calls, it sends the query, but like lookupAddress,
</I>&gt;<i>I don't get the additional and auth sections still...
</I>&gt;<i>
</I>&gt;<i>What is weird, when I do this
</I>&gt;<i>
</I>&gt;<i>deferred = resolver.queryUDP([Dns.Query(name, dns.IN, dns.A)])
</I>&gt;<i>
</I>&gt;<i>and I try and debug why it's hanging, I put a print in the
</I>&gt;<i>ResolverBase.queryUDP function right at the top, and it never prints.
</I>&gt;<i>
</I>
The factoring here is a little weird.  Try creating a t.names.client.Resolver
explicitly (just instantiate it with a servers list or a resolv.conf filename)
and calling queryUDP on it (unless you were doing this already).  The
createResolver function does some other stuff which might be getting in the
way here, either of functioning or debugging.

Here's an example (using t/conch/stdio.py):

  &gt;&gt;&gt; from twisted.names import dns, client
  &gt;&gt;&gt; r = client.Resolver(servers=[('198.41.0.4', 53)])
  &gt;&gt;&gt; d = r.queryUDP([dns.Query('google.com', dns.IN, dns.A)])
  &gt;&gt;&gt; d
  &lt;Deferred at 0xB78F072CL  current result: &lt;twisted.names.dns.Message instance at 0xb79b6aec&gt;&gt;
  &gt;&gt;&gt; d.result
  &lt;twisted.names.dns.Message instance at 0xb79b6aec&gt;
  &gt;&gt;&gt; d.result.authority
  [&lt;snip - a bunch of records&gt;]
  &gt;&gt;&gt; d.result.additional
  [&lt;snip - a bunch of records&gt;]
  &gt;&gt;&gt; d.result.answers
  []
  &gt;&gt;&gt;

Hope this helps things,

Jean-Paul


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="047551.html">[Twisted-Python] Twisted.Names assistance with auth and	additional sections
</A></li>
	<LI>Next message (by thread): <A HREF="047555.html">[Twisted-Python] Twisted.Names assistance with auth and	additional sections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47553">[ date ]</a>
              <a href="thread.html#47553">[ thread ]</a>
              <a href="subject.html#47553">[ subject ]</a>
              <a href="author.html#47553">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
