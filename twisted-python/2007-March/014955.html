<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: how to get the result of a callLater-scheduled	func?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20how%20to%20get%20the%20result%20of%20a%20callLater-scheduled%0A%09func%3F&In-Reply-To=20070308193737.17852.893732227.divmod.quotient.5159%40ohm">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014954.html">
   <LINK REL="Next"  HREF="014960.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: how to get the result of a callLater-scheduled	func?</H1>
    <B>Stefan Rank</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20how%20to%20get%20the%20result%20of%20a%20callLater-scheduled%0A%09func%3F&In-Reply-To=20070308193737.17852.893732227.divmod.quotient.5159%40ohm"
       TITLE="[Twisted-Python] Re: how to get the result of a callLater-scheduled	func?">list-ener at strank.info
       </A><BR>
    <I>Thu Mar  8 17:40:21 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="014954.html">[Twisted-Python] how to get the result of a callLater-scheduled	func?
</A></li>
        <LI>Next message: <A HREF="014960.html">[Twisted-Python] Need some pointers for writing asynchronous code	for Twisted app
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14955">[ date ]</a>
              <a href="thread.html#14955">[ thread ]</a>
              <a href="subject.html#14955">[ subject ]</a>
              <a href="author.html#14955">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>on 08.03.2007 20:37 Jean-Paul Calderone said the following:
&gt;<i> On Thu, 08 Mar 2007 19:39:21 +0100, Stefan Rank &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">list-ener at strank.info</A>&gt; 
</I>&gt;<i> wrote:
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I am scheduling a function with `callLater`.
</I>&gt;&gt;<i> The function happens to return a Deferred (but it might return anything),
</I>&gt;&gt;<i> and I was searching for an easy way to add a callback in order to
</I>&gt;&gt;<i> get the result.
</I>&lt;snip&gt;
&gt;<i> 
</I>&gt;<i> It's probably possible, but I'm not sure it's ideal.  It sounds like you
</I>&gt;<i> have a use-case for the `deferLater' function which has been proposed for
</I>&gt;<i> inclusion:
</I>&gt;<i> 
</I>&gt;<i>  <A HREF="http://twistedmatrix.com/trac/ticket/1875">http://twistedmatrix.com/trac/ticket/1875</A>
</I>&gt;<i> 
</I>&gt;<i> With it, your example would look like either:
</I>&gt;<i> 
</I>&gt;<i>   d = deferLater(0)
</I>&gt;<i>   d.addCallback(lambda ignored: test('James'))
</I>&gt;<i>   d.addCallback(stopVerbose)
</I>&gt;<i> 
</I>&gt;<i> Or:
</I>&gt;<i> 
</I>&gt;<i>  d = deferLater(0, test, 'James')
</I>&gt;<i>  d.addCallback(stopVerbose)
</I>&gt;<i> 
</I>&gt;<i> Would that save enough typing to satisfy your use case?
</I>&gt;<i> 
</I>&gt;<i> Jean-Paul
</I>
Thanks, that's almost what I was looking for. :)

What is lost is the access to the DelayedCall, i.e. you cannot cancel or 
reschedule anymore.

The discussion at the ticket page revolves around which of the two 
variants above is preferable.
I very much prefer the second one,
but if the callable argument would default to None, then a simple::

    if callable_ is not None:
        ... # only now use addCallback inside deferLater

would allow both versions without any overhead.
If the DelayedCall functionality could be integrated somehow than I 
think this could simply replace reactor.callLater.

I'll post at the ticket page.

thanks again,
stefan



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014954.html">[Twisted-Python] how to get the result of a callLater-scheduled	func?
</A></li>
	<LI>Next message: <A HREF="014960.html">[Twisted-Python] Need some pointers for writing asynchronous code	for Twisted app
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14955">[ date ]</a>
              <a href="thread.html#14955">[ thread ]</a>
              <a href="subject.html#14955">[ subject ]</a>
              <a href="author.html#14955">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
