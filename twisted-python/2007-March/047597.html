<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] 2 threads questions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%202%20threads%20questions&In-Reply-To=%3C4F76F869-2FEA-4F45-80BD-1E76793CF989%402xlp.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="047593.html">
   <LINK REL="Next"  HREF="047598.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] 2 threads questions</H1>
    <B>Jonathan Vanasco</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%202%20threads%20questions&In-Reply-To=%3C4F76F869-2FEA-4F45-80BD-1E76793CF989%402xlp.com%3E"
       TITLE="[Twisted-Python] 2 threads questions">twisted-python at 2xlp.com
       </A><BR>
    <I>Wed Mar 28 10:44:23 MDT 2007</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="047593.html">[Twisted-Python] 2 threads questions
</A></li>
        <LI>Next message (by thread): <A HREF="047598.html">[Twisted-Python] exceptions.TypeError: ('Could not adapt',	&lt;twisted.spread.pb._PortalAuthChallenger instance at 0x013E3760&gt;,	&lt;InterfaceClass twisted.cred.credentials.IUsernamePassword&gt;)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47597">[ date ]</a>
              <a href="thread.html#47597">[ thread ]</a>
              <a href="subject.html#47597">[ subject ]</a>
              <a href="author.html#47597">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Mar 27, 2007, at 12:30 PM, Jean-Paul Calderone wrote:

&gt;<i>
</I>&gt;<i> Python 2.5 includes sys._current_frames() which returns a mapping  
</I>&gt;<i> from thread
</I>&gt;<i> identifiers to the frame objects which you might be able to use to  
</I>&gt;<i> learn what
</I>&gt;<i> is going on.  You can call this from your manhole prompt when you  
</I>&gt;<i> notice the
</I>&gt;<i> system to have hung.
</I>

Great!  Thanks.

Still working on debugging this, but for other people who need to  
jump into a manhole for something like this in the future  -- the  
following works well.



=======

import sys
import traceback

def formatTraceback ( frameId , frameObj ):
	traceback_lines= traceback.format_stack( frameObj )
	if not len(traceback_lines):
		return
	print &quot;&quot;
	print  
&quot;----------------------------------------------------------------------- 
-----------&quot;
	print &quot;&gt;&gt; --- %s | %s ===================================&quot; %  
( frameId , frameObj )
	print &quot;&quot;.join(traceback_lines)
	print &quot;&lt;&lt; --- %s | %s ===================================&quot; %  
( frameId , frameObj )
	print &quot;&quot;

def printCurrentStack():
	frames= sys._current_frames()
	for frameId in frames:
		frameObj= frames[frameId]
		formatTraceback( frameId , frameObj )

printCurrentStack()








// Jonathan Vanasco

|<i> - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
</I>- - - - - - - - - - - - - - - -
|<i> FindMeOn.com - The cure for Multiple Web Personality Disorder
</I>|<i> Web Identity Management and 3D Social Networking
</I>|<i> - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
</I>- - - - - - - - - - - - - - - -
|<i> RoadSound.com - Tools For Bands, Stuff For Fans
</I>|<i> Collaborative Online Management And Syndication Tools
</I>|<i> - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
</I>- - - - - - - - - - - - - - - -




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="047593.html">[Twisted-Python] 2 threads questions
</A></li>
	<LI>Next message (by thread): <A HREF="047598.html">[Twisted-Python] exceptions.TypeError: ('Could not adapt',	&lt;twisted.spread.pb._PortalAuthChallenger instance at 0x013E3760&gt;,	&lt;InterfaceClass twisted.cred.credentials.IUsernamePassword&gt;)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47597">[ date ]</a>
              <a href="thread.html#47597">[ thread ]</a>
              <a href="subject.html#47597">[ subject ]</a>
              <a href="author.html#47597">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
