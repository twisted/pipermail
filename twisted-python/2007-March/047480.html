<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] newbe twisted xmpp load
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20newbe%20twisted%20xmpp%20load&In-Reply-To=%3C5A9F82CC-6B5D-4DFB-A7AF-F7D9364E4F04%40cox.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="047475.html">
   <LINK REL="Next"  HREF="047481.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] newbe twisted xmpp load</H1>
    <B>Wrene Robyn</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20newbe%20twisted%20xmpp%20load&In-Reply-To=%3C5A9F82CC-6B5D-4DFB-A7AF-F7D9364E4F04%40cox.net%3E"
       TITLE="[Twisted-Python] newbe twisted xmpp load">wrobyn at cox.net
       </A><BR>
    <I>Sun Mar 11 17:43:15 MDT 2007</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="047475.html">[Twisted-Python] newbe twisted xmpp load
</A></li>
        <LI>Next message (by thread): <A HREF="047481.html">[Twisted-Python] newbe twisted xmpp load
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47480">[ date ]</a>
              <a href="thread.html#47480">[ thread ]</a>
              <a href="subject.html#47480">[ subject ]</a>
              <a href="author.html#47480">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks for all your help thus far. Here is my code which does run  
with normal select reactor. How to switch it to use poll reactor?  
that is really the crux of my problem.

import sys
import socket
import time
import resource
from threading import Thread
from twisted.words.protocols.jabber import client, jid
from twisted.words.xish import domish
from twisted.internet import reactor

resource.setrlimit(8,[65000,65000])
class testit():

     def authd(xmlstream):
         print &quot;authenticated&quot;

         presence = domish.Element(('jabber:client','presence'))
         xmlstream.send(presence)
     #xmlstream.addObserver('/message',  debug)
     #xmlstream.addObserver('/presence', debug)
     #xmlstream.addObserver('/iq',       debug)

     def debug(elem):
         print elem.toXml().encode('utf-8')
         print &quot;=&quot;*20
     for i in range(1,2000):
         print i
         myJid = jid.JID(str(i)+'@jbrsrvrnamt/twisted_words')
         factory = client.basicClientFactory(myJid, 'test')
         factory.addBootstrap('//event/stream/authd',authd)
         reactor.connectTCP('jbrsrvrname',5222,factory)

     reactor.run()

current = testit()
current.start()

On Mar 10, 2007, at 10:54 AM, Jean-Paul Calderone wrote:

&gt;<i> On Sat, 10 Mar 2007 09:24:49 -0500, Wrene Robyn &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">wrobyn at cox.net</A>&gt;  
</I>&gt;<i> wrote:
</I>&gt;&gt;<i> That throws an error if I import pollreactor in my code, then jid   
</I>&gt;&gt;<i> tries to import reactor, days there is already an instance or  
</I>&gt;&gt;<i> something
</I>&gt;<i>
</I>&gt;<i> You'll have to provide more information than this.  The behavior  
</I>&gt;<i> you describe
</I>&gt;<i> isn't what should happen given the program snippet below, nor what  
</I>&gt;<i> happens
</I>&gt;<i> when I simplify it to just this:
</I>&gt;<i>
</I>&gt;<i>  <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at boson</A>:~$ python
</I>&gt;<i>  Python 2.4.3 (#2, Oct  6 2006, 07:52:30)
</I>&gt;<i>  [GCC 4.0.3 (Ubuntu 4.0.3-1ubuntu5)] on linux2
</I>&gt;<i>  Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more  
</I>&gt;<i> information.
</I>&gt;<i>  &gt;&gt;&gt; from twisted.internet import pollreactor
</I>&gt;<i>  &gt;&gt;&gt; pollreactor.install()
</I>&gt;<i>  &gt;&gt;&gt; from twisted.words.protocols.jabber import jid
</I>&gt;<i>  &gt;&gt;&gt; # No error
</I>&gt;<i>
</I>&gt;<i> Generally when you encounter a problem you need help with, the best  
</I>&gt;<i> thing to do
</I>&gt;<i> is to create the simplest possible example which demonstrates the  
</I>&gt;<i> problem and
</I>&gt;<i> include it with your question.  Without this, responders have to  
</I>&gt;<i> guess at what
</I>&gt;<i> you're doing, which leads to incorrect, irrelevant, or ambiguous  
</I>&gt;<i> answers.
</I>&gt;<i>
</I>&gt;<i> Jean-Paul
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="047475.html">[Twisted-Python] newbe twisted xmpp load
</A></li>
	<LI>Next message (by thread): <A HREF="047481.html">[Twisted-Python] newbe twisted xmpp load
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47480">[ date ]</a>
              <a href="thread.html#47480">[ thread ]</a>
              <a href="subject.html#47480">[ subject ]</a>
              <a href="author.html#47480">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
