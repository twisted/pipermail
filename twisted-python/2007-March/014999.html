<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] CPU choice for big twisted server.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20CPU%20choice%20for%20big%20twisted%20server.&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014995.html">
   <LINK REL="Next"  HREF="015001.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] CPU choice for big twisted server.</H1>
    <B>Alec Matusis</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20CPU%20choice%20for%20big%20twisted%20server.&In-Reply-To="
       TITLE="[Twisted-Python] CPU choice for big twisted server.">matusis at matusis.com
       </A><BR>
    <I>Tue Mar 13 21:51:30 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="014995.html">[Twisted-Python] Re: Producers / Consumers and more	examples	tutorials?
</A></li>
        <LI>Next message: <A HREF="015001.html">[Twisted-Python] CPU choice for big twisted server.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14999">[ date ]</a>
              <a href="thread.html#14999">[ thread ]</a>
              <a href="subject.html#14999">[ subject ]</a>
              <a href="author.html#14999">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello
 
I am running a poll reactor with Twisted 2.2 on 2.6.11 kernel.
&quot;top&quot; currently shows 80-90% CPU utilization for this twistd process.
We have not switched to epoll Twisted 2.5 yet, although we are planning to.

We are going to add boxes to run these servers. We have a choice of getting
either Opteron 2216 with 1MB L2 cache and faster RAM access, or Intel
Woodcrest 5140 with 4MB L2 and slower FB-DIMM RAM access. 
The current RSS size of the twisted process is about 60MB. 
The main load comes from poll() and from modifying long dictionaries of the
protocol class instances (searching/modifying dictionaries of client
sessions).

Where should we expect a better performance: on Woodcrest 5140 with bigger
L2 or on Opteron 2216 with faster RAM access? We need to order the new box
tomorrow afternoon, so if someone could reply today, it'd be great for us!

Thanks

Alec.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014995.html">[Twisted-Python] Re: Producers / Consumers and more	examples	tutorials?
</A></li>
	<LI>Next message: <A HREF="015001.html">[Twisted-Python] CPU choice for big twisted server.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14999">[ date ]</a>
              <a href="thread.html#14999">[ thread ]</a>
              <a href="subject.html#14999">[ subject ]</a>
              <a href="author.html#14999">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
