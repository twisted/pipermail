<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] newbe twisted xmpp load
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20newbe%20twisted%20xmpp%20load&In-Reply-To=14508398.1173192289905.JavaMail.root%40eastrmwml03.mgt.cox.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014940.html">
   <LINK REL="Next"  HREF="014956.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] newbe twisted xmpp load</H1>
    <B>Jean-Paul Calderone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20newbe%20twisted%20xmpp%20load&In-Reply-To=14508398.1173192289905.JavaMail.root%40eastrmwml03.mgt.cox.net"
       TITLE="[Twisted-Python] newbe twisted xmpp load">exarkun at divmod.com
       </A><BR>
    <I>Tue Mar  6 10:01:22 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="014940.html">[Twisted-Python] newbe twisted xmpp load
</A></li>
        <LI>Next message: <A HREF="014956.html">[Twisted-Python] newbe twisted xmpp load
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14941">[ date ]</a>
              <a href="thread.html#14941">[ thread ]</a>
              <a href="subject.html#14941">[ subject ]</a>
              <a href="author.html#14941">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, 6 Mar 2007 9:44:49 -0500, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">wrobyn at cox.net</A> wrote:
&gt;<i>Hello,
</I>&gt;<i>I am attempting to write an xmpp load testing thingy in python. I am hitting big walls with regard to creating concurrent connections above 250.. I need really 1-n concurrent connections, the upper limit would be around 500,000 but I would be happy at this point breaching the 250 ceiling.
</I>&gt;<i>Would twisted be able to handle this? Can someone post a simple loop or routine to log in 1-n &quot;people&quot; (i am using the increment in a counter as username) into a jabber server?
</I>
&gt;<i>From the ~250 limit, I would guess you're on OS X and running into the
</I>default per-process open file limit.  You can raise this using the `ulimit'
command. If you're on some other platform, then it'd be helpful if you gave
more details about the exact failure you're running into.

Overall, if you use the select reactor, you're limited to FD_SETSIZE, which
varies, but is usually within an order of magnitude of 1000.  If you use the
poll reactor, then you're limited to the number of TCP connections you can
have, which is going to be at most 65000 per IP address (and possibly as low
as 32000).  You might find performance lacking with large numbers of clients
even with the poll reactor, but the epoll reactor should do somewhat better.

I don't know if you'll be able to do 500k with a single process, but I think
you should at least be able to get to the point where the limit you hit is
the CPU, not something related to file descriptors.

Jean-Paul


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014940.html">[Twisted-Python] newbe twisted xmpp load
</A></li>
	<LI>Next message: <A HREF="014956.html">[Twisted-Python] newbe twisted xmpp load
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14941">[ date ]</a>
              <a href="thread.html#14941">[ thread ]</a>
              <a href="subject.html#14941">[ subject ]</a>
              <a href="author.html#14941">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
