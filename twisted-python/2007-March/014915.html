<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] factory class has no __class__ attribute!
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20factory%20class%20has%20no%20__class__%20attribute%21&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014914.html">
   <LINK REL="Next"  HREF="014916.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] factory class has no __class__ attribute!</H1>
    <B>John Pote</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20factory%20class%20has%20no%20__class__%20attribute%21&In-Reply-To="
       TITLE="[Twisted-Python] factory class has no __class__ attribute!">johnpote at jptechnical.co.uk
       </A><BR>
    <I>Thu Mar  1 10:37:41 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="014914.html">[Twisted-Python] Foolscap: CopyableSlicer has no streamable	attribute?
</A></li>
        <LI>Next message: <A HREF="014916.html">[Twisted-Python] factory class has no __class__ attribute!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14915">[ date ]</a>
              <a href="thread.html#14915">[ thread ]</a>
              <a href="subject.html#14915">[ subject ]</a>
              <a href="author.html#14915">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi everyone,
Justed started out to get a twisted http server going. typed in example 
4.2 from Fettig's book but when I run it this strange error is reported:

twisted ver:2.5.0
python ver:2.4.4 (#71, Oct 18 2006, 08:34:43) [MSC v.1310 32 bit (Intel)]
Traceback (most recent call last):
  File &quot;dataServe.py&quot;, line 31, in ?
    reactor.listenTCP(8000, myhttpFactory)
  File 
&quot;c:\apps\python\244\lib\site-packages\twisted\internet\posixbase.py&quot;, 
line 467, in listenTCP
    p.startListening()
  File &quot;c:\apps\python\244\lib\site-packages\twisted\internet\tcp.py&quot;, 
line 739, in startListening
    log.msg(&quot;%s starting on %s&quot; % (self.factory.__class__, 
self._realPortNumber))
AttributeError: class myhttpFactory has no attribute '__class__'

anyone shed any light on this?

Also, for your information, I tried Fettig's example 2.6 
'dataforward.py'. This works fine on my Linux box but just hangs on my 
win XP box.

using Py 2.4.4 and Twisted 2.5.0 on winXP and Centos4.4 Linux.

Regards,
John Pote

source code
import sys
from twisted.web import http

class httpRequests(http.Request):
    pages = {
        '/':    '&lt;h1&gt;Home&lt;/h1&gt;Home page',
        '/test':'&lt;h1&gt;Test&lt;/h1&gt;Test page',
        }
    def process(s):
        if s.pages.has_key(s.path):
            s.write(s.pages[s.path])
        else:
            s.setResponseCode(http.NOT_FOUND)
            s.write(&quot;&lt;h1&gt;Not Found!&lt;/h1&gt;Sorry, no such page.&quot;)
        s.finish()


class httpProtocol(http.HTTPChannel):
    requestFactory = httpRequests

class myhttpFactory(http.HTTPFactory):
    protocol = httpProtocol


if __name__ == &quot;__main__&quot;:
    from twisted.internet import reactor
    from twisted._version import version
    print &quot;twisted ver:&quot;+version.short()
    print &quot;python ver:&quot;+sys.version

    reactor.listenTCP(8000, myhttpFactory)
    reactor.run()



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014914.html">[Twisted-Python] Foolscap: CopyableSlicer has no streamable	attribute?
</A></li>
	<LI>Next message: <A HREF="014916.html">[Twisted-Python] factory class has no __class__ attribute!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14915">[ date ]</a>
              <a href="thread.html#14915">[ thread ]</a>
              <a href="subject.html#14915">[ subject ]</a>
              <a href="author.html#14915">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
