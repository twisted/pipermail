<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Strange twistd behaviour
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Strange%20twistd%20behaviour&In-Reply-To=%3C20070312145604.18920.1597717110.divmod.quotient.1330%40ohm%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="047483.html">
   <LINK REL="Next"  HREF="047486.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Strange twistd behaviour</H1>
    <B>Jean-Paul Calderone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Strange%20twistd%20behaviour&In-Reply-To=%3C20070312145604.18920.1597717110.divmod.quotient.1330%40ohm%3E"
       TITLE="[Twisted-Python] Strange twistd behaviour">exarkun at divmod.com
       </A><BR>
    <I>Mon Mar 12 08:56:04 MDT 2007</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="047483.html">[Twisted-Python] Strange twistd behaviour
</A></li>
        <LI>Next message (by thread): <A HREF="047486.html">[Twisted-Python] Strange twistd behaviour
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47484">[ date ]</a>
              <a href="thread.html#47484">[ thread ]</a>
              <a href="subject.html#47484">[ subject ]</a>
              <a href="author.html#47484">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 12 Mar 2007 15:41:04 +0100, Jarek Zgoda &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">jarek.zgoda at sensisoft.com</A>&gt; wrote:
&gt;<i>I have an application ran as a twistd plugin. It spawns a &quot;worker thread&quot; 
</I>&gt;<i>that gets objects from Queue.Queue and runs in a &quot;while 1: &quot; loop. The 
</I>&gt;<i>problem I got is that when I run the application without daemonizing it 
</I>&gt;<i>(using -n switch for twistd) everything works fine, but as soon as it is run 
</I>&gt;<i>as daemon, the thread does not perform the &quot;looping&quot;. I am bit stuck, as I 
</I>&gt;<i>don't know even where to look for possible causes... Can anybody put some 
</I>&gt;<i>light here?
</I>&gt;<i>
</I>
If you are starting the thread before the process daemonizes, you might want
to try starting it after daemonization instead and see if that helps.

You can do this by starting the thread in the startService method of a Service.

Combining forking and threading usually leads to suffering.

Jean-Paul


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="047483.html">[Twisted-Python] Strange twistd behaviour
</A></li>
	<LI>Next message (by thread): <A HREF="047486.html">[Twisted-Python] Strange twistd behaviour
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47484">[ date ]</a>
              <a href="thread.html#47484">[ thread ]</a>
              <a href="subject.html#47484">[ subject ]</a>
              <a href="author.html#47484">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
