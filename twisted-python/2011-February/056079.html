<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Twisted Cred using network connections to check	credentials
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted%20Cred%20using%20network%20connections%20to%20check%0A%09credentials&In-Reply-To=%3CAANLkTimGGUy7tdcWTk0f8i8QS-Yc6hH2zV6JEaKrmMM4%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="056078.html">
   <LINK REL="Next"  HREF="056080.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Twisted Cred using network connections to check	credentials</H1>
    <B>Devin Jeanpierre</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted%20Cred%20using%20network%20connections%20to%20check%0A%09credentials&In-Reply-To=%3CAANLkTimGGUy7tdcWTk0f8i8QS-Yc6hH2zV6JEaKrmMM4%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Twisted Cred using network connections to check	credentials">jeanpierreda at gmail.com
       </A><BR>
    <I>Tue Feb 22 08:46:55 MST 2011</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="056078.html">[Twisted-Python] Error (and response) handling in protocols
</A></li>
        <LI>Next message (by thread): <A HREF="056080.html">[Twisted-Python] Twisted Cred using network connections to	check	credentials
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56079">[ date ]</a>
              <a href="thread.html#56079">[ thread ]</a>
              <a href="subject.html#56079">[ subject ]</a>
              <a href="author.html#56079">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I want to authenticate a user in twisted.cred by attempting to log him in to
an online service. If the authentication step of the connection fails, the
user gets no avatar, and if it succeeds, the user gets an avatar, and that
avatar either is or has a reference to that connection.

How would I do this? I can think of two ugly ways: I can use a global
dictionary mapping avatarIds to protocol instances, and do a lookup on that
dict in the Realm to create the avatar. Otherwise, I can instantiate the
connection as part of the credentials, and keep the reference to it around
when I get the avatar. I'm going ahead with the former, but it's scary.

Another possibility is that perhaps the credentials checker and the realm
could be the same object, and then I could move the global dict into an
attribute. Would that be a better approach?

The background for this is that I have an implementation of the chat part of
the Direct Connect (DC) protocol, and want to write an IRC&lt;-&gt;DC bridge. I
chose twisted.words.services on the recommendation of someone, which uses
Cred for auth. DC has authentication as a given nick as part of the
&quot;handshake&quot; during the start of the connection attempt.

Devin Jeanpierre
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20110222/0cdb1edc/attachment-0001.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="056078.html">[Twisted-Python] Error (and response) handling in protocols
</A></li>
	<LI>Next message (by thread): <A HREF="056080.html">[Twisted-Python] Twisted Cred using network connections to	check	credentials
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56079">[ date ]</a>
              <a href="thread.html#56079">[ thread ]</a>
              <a href="subject.html#56079">[ subject ]</a>
              <a href="author.html#56079">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
