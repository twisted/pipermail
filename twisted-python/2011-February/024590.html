<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> No subject
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20No%20subject&In-Reply-To=%3Cmailman.8.1317334233.9565.twisted-python%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="024588.html">
   <LINK REL="Next"  HREF="056085.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>No subject</H1>
    <B></B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20No%20subject&In-Reply-To=%3Cmailman.8.1317334233.9565.twisted-python%40twistedmatrix.com%3E"
       TITLE="No subject">
       </A><BR>
    <I>Wed Feb 23 11:29:31 MST 2011</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="024588.html">No subject
</A></li>
        <LI>Next message (by thread): <A HREF="056085.html">[Twisted-Python] Imap client problem, help fro troubleshoot
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24590">[ date ]</a>
              <a href="thread.html#24590">[ thread ]</a>
              <a href="subject.html#24590">[ subject ]</a>
              <a href="author.html#24590">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&lt;br&gt;
h =3D internet.TCPServer(79, IFingerFactory(f))&lt;br&gt;
&lt;br&gt;
notice IFingerFactory? If you read the earlier parts of the tutorial,&lt;br&gt;
you&amp;#39;ll see stuff like components.registerAdapter. It&amp;#39;s just magic t=
o&lt;br&gt;
create a FingerFactoryFromService, giving its constructor f, the&lt;br&gt;
&amp;quot;Finger Service&amp;quot;. What happens here is that &amp;quot;f&amp;quot;, the Fi=
nger Service,&lt;br&gt;
is different from the service.Service within the Twisted Framework.&lt;br&gt;&lt;/bl=
ockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The &lt;font class=3D&quot;Apple-style-span&quot; face=3D&quot;&amp;=
#39;courier new&amp;#39;, monospace&quot;&gt;FingerService&lt;/font&gt; inherits &lt;font class=
=3D&quot;Apple-style-span&quot; face=3D&quot;&amp;#39;courier new&amp;#39;, monospace&quot;&gt;service.Ser=
vice&lt;/font&gt; and implements the &lt;font class=3D&quot;Apple-style-span&quot; face=3D&quot;&amp;#3=
9;courier new&amp;#39;, monospace&quot;&gt;startService&lt;/font&gt; event, so it *is* a serv=
ice that can be run by the service framework; it just isn&amp;#39;t one of the =
&lt;font class=3D&quot;Apple-style-span&quot; face=3D&quot;&amp;#39;courier new&amp;#39;, monospace&quot;&gt;=
twisted.application.internet&lt;/font&gt; services, like &lt;font class=3D&quot;Apple-sty=
le-span&quot; face=3D&quot;&amp;#39;courier new&amp;#39;, monospace&quot;&gt;internet.TCPServer&lt;/font=
&gt;<i>.&lt;/div&gt;
</I>
&lt;div&gt;Moreover, it needs to have &lt;font class=3D&quot;Apple-style-span&quot; face=3D&quot;&amp;#=
39;courier new&amp;#39;, monospace&quot;&gt;startService&lt;/font&gt; called, somehow... and =
what I&amp;#39;m saying is that in the full example (provided in&lt;font class=3D&quot;=
Apple-style-span&quot; face=3D&quot;&amp;#39;courier new&amp;#39;, monospace&quot;&gt;=C2=A0twisted/d=
oc/core/howto/tutorial/listings/finger/finger/finger.py&lt;/font&gt;) it is not c=
alled, and if you actually try using it, it doesn&amp;#39;t work.&lt;/div&gt;

&lt;div&gt;=C2=A0&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;=
margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex;&quot;&gt;
You might as well call &amp;quot;f&amp;quot;, the Finger Service, &amp;quot;Finger Shar=
ed Data&amp;quot;.&lt;br&gt;
&lt;br&gt;
What really happens here is&lt;br&gt;
&lt;br&gt;
h is the service that has parent s, MultiService. s is then returned&lt;br&gt;
and started by the application.&lt;br&gt;
&lt;br&gt;
h contains a factory that gets run.&lt;br&gt;
&lt;br&gt;
The factory knows &amp;quot;f&amp;quot;, the Finger Service, which has nothing to d=
o&lt;br&gt;
with twisted&amp;#39;s mechanism. It&amp;#39;s more of a demo for the component bas=
ed&lt;br&gt;
framework. f is a way to share data and methods and states across&lt;br&gt;
multiple factories.&lt;br&gt;
&lt;br&gt;
I am also very new to twisted, so I **hope** this understanding of&lt;br&gt;
mine is correct ...&lt;br&gt;
&lt;br&gt;
I strongly recommend you read through the entire tutorial. They build&lt;br&gt;
very incrementally, so most of the time the code is repeated so you&lt;br&gt;
can just skim through it if you had started from the beginning.&lt;br&gt;&lt;/blockq=
uote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&amp;#39;ve read it many times over the years ;) It&amp;#=
39;s=C2=A0surprisingly complete as an example...you just don&amp;#39;t know tha=
t in the beginning.&lt;/div&gt;

&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The topic area of this question is something I&amp;#39;m tr=
ying to squeeze out of this tutorial series; I&amp;#39;m encountering conceptua=
l questions beyond the mechanics of how the framework works (which the tuto=
rial does a great job of explaining) like:=C2=A0&lt;/div&gt;

&lt;div&gt;should I ever make a tree of=C2=A0dependent=C2=A0services?&lt;/div&gt;&lt;div&gt;W=
hat if I do something in a &lt;font class=3D&quot;Apple-style-span&quot; face=3D&quot;&amp;#39;co=
urier new&amp;#39;, monospace&quot;&gt;startService&lt;/font&gt; method that I want to make s=
ure works before other services get their &lt;font class=3D&quot;Apple-style-span&quot; =
face=3D&quot;&amp;#39;courier new&amp;#39;, monospace&quot;&gt;startService&lt;/font&gt; called?=C2=A0=
&lt;/div&gt;

&lt;div&gt;If I create a bunch of business services (that just provide pure funct=
ionality) that I then adapt for deployment in different t.a.internet servic=
es, should I put the business services in their own MultiService and the in=
ternet services in their own MutiService container?=C2=A0&lt;/div&gt;

&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Like I said, more showcasing of use cases would help su=
ggest answers to these kind of questions. I see a lot of possibilities, but=
 haven&amp;#39;t put in the time in the trenches to try them all out ;)&lt;/div&gt;

&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks,&lt;/div&gt;&lt;div&gt;-Dorian&lt;/div&gt;&lt;div&gt;=C2=A0&lt;/div&gt;&lt;div&gt;&lt;b=
r&gt;&lt;/div&gt;&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;margin:0 0 0 .8ex;border=
-left:1px #ccc solid;padding-left:1ex;&quot;&gt;
&lt;br&gt;
David Kao&lt;br&gt;
&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div class=3D&quot;h5&quot;&gt;&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
On Fri, Sep 30, 2011 at 5:28 AM, Dorian Raymer &amp;lt;&lt;a href=3D&quot;mailto:deldot=
<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">dr at gmail.com</A>&quot;&gt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">deldotdr at gmail.com</A>&lt;/a&gt;&amp;gt; wrote:&lt;br&gt;
&amp;gt;<i> Hello,&lt;br&gt;
</I>&amp;gt;<i> I am confused about how the FingerService gets started in the&lt;br&gt;
</I>&amp;gt;<i> finger/finger.py makeService function. It is never assigned a service =
</I>parent&lt;br&gt;
&amp;gt;<i> and it can&amp;#39;t service getUser requests if its startService method i=
</I>sn&amp;#39;t&lt;br&gt;
&amp;gt;<i> called; you get an AttributeError:=C2=A0&amp;quot;no attribute &amp;#39;users&amp;=
</I>#39;&amp;quot; the way it works&lt;br&gt;
&amp;gt;<i> now. Is this a bug?&lt;br&gt;
</I>&amp;gt;<i> The most sensible thing, in this case, seems to be setting the FingerS=
</I>ervice&lt;br&gt;
&amp;gt;<i> parent to be the MultiService container that all of the interent servi=
</I>ces&lt;br&gt;
&amp;gt;<i> are added to in the makeService function.=C2=A0Is that correct?&lt;br&gt;
</I>&amp;gt;<i> I&amp;#39;m wondering if their are any other=C2=A0strategies people use fo=
</I>r starting&lt;br&gt;
&amp;gt;<i> non-internet services.&lt;br&gt;
</I>&amp;gt;<i> For instance, if instead of reading a file to get to my user db, I mig=
</I>ht&lt;br&gt;
&amp;gt;<i> want to start a redis client and read from redis to service a getUser =
</I>call.&lt;br&gt;
&amp;gt;<i> But that means I&amp;#39;d want to make sure the startService=C2=A0call su=
</I>cceeded (the&lt;br&gt;
&amp;gt;<i> redis connection was made) before one of the internet services tries t=
</I>o use&lt;br&gt;
&amp;gt;<i> the FingerService (a timing problem that doesn&amp;#39;t exist when just r=
</I>eading a&lt;br&gt;
&amp;gt;<i> file)...or something. Maybe I&amp;#39;m really just wondering how the twis=
</I>ted&lt;br&gt;
&amp;gt;<i> application framework handles exceptions that occur for startService c=
</I>alls.&lt;br&gt;
&amp;gt;<i> Maybe I need something else to handle that kind of thing?&lt;br&gt;
</I>&amp;gt;<i> I&amp;#39;m also wondering if it&amp;#39;s ever a good idea to make a extensio=
</I>n&lt;br&gt;
&amp;gt;<i> of=C2=A0ServerFactory=C2=A0(that adapts a Service)=C2=A0that calls=C2=
</I>=A0Service.startService&lt;br&gt;
&amp;gt;<i> when Factory.startServer is called (and Service.stopService when&lt;br&gt;
</I>&amp;gt;<i> Factory.stopFactory is called)?&lt;br&gt;
</I>&amp;gt;<i> And I&amp;#39;m looking for more use cases/projects (beyond the finger tut=
</I>orial)&lt;br&gt;
&amp;gt;<i> that really showcase the twisted application framework. Any references=
</I> would&lt;br&gt;
&amp;gt;<i> be appreciated!&lt;br&gt;
</I>&amp;gt;<i> Thanks!&lt;br&gt;
</I>&amp;gt;<i> -Dorian&lt;br&gt;
</I>&lt;/div&gt;&lt;/div&gt;&amp;gt; _______________________________________________&lt;br&gt;
&amp;gt;<i> Twisted-Python mailing list&lt;br&gt;
</I>&amp;gt;<i> &lt;a href=3D&quot;mailto:<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>&quot;&gt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twi</A>=
</I>stedmatrix.com&lt;/a&gt;&lt;br&gt;
&amp;gt;<i> &lt;a href=3D&quot;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-p=">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-p=</A>
</I>ython&quot; target=3D&quot;_blank&quot;&gt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/=">http://twistedmatrix.com/cgi-bin/mailman/listinfo/=</A>
twisted-python&lt;/a&gt;&lt;br&gt;
&amp;gt;<i>&lt;br&gt;
</I>&amp;gt;<i>&lt;br&gt;
</I>&lt;br&gt;
_______________________________________________&lt;br&gt;
Twisted-Python mailing list&lt;br&gt;
&lt;a href=3D&quot;mailto:<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>&quot;&gt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedm</A>=
atrix.com&lt;/a&gt;&lt;br&gt;
&lt;a href=3D&quot;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python=">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python=</A>
&quot; target=3D&quot;_blank&quot;&gt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twist=">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twist=</A>
ed-python&lt;/a&gt;&lt;br&gt;
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;

--0015174788367b000d04ae1bc660--

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="024588.html">No subject
</A></li>
	<LI>Next message (by thread): <A HREF="056085.html">[Twisted-Python] Imap client problem, help fro troubleshoot
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24590">[ date ]</a>
              <a href="thread.html#24590">[ thread ]</a>
              <a href="subject.html#24590">[ subject ]</a>
              <a href="author.html#24590">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
