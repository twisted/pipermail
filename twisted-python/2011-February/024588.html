<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> No subject
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20No%20subject&In-Reply-To=%3Cmailman.7.1317332698.9565.twisted-python%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="024495.html">
   <LINK REL="Next"  HREF="024590.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>No subject</H1>
    <B></B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20No%20subject&In-Reply-To=%3Cmailman.7.1317332698.9565.twisted-python%40twistedmatrix.com%3E"
       TITLE="No subject">
       </A><BR>
    <I>Wed Feb 23 11:29:31 MST 2011</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="024495.html">No subject
</A></li>
        <LI>Next message (by thread): <A HREF="024590.html">No subject
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24588">[ date ]</a>
              <a href="thread.html#24588">[ thread ]</a>
              <a href="subject.html#24588">[ subject ]</a>
              <a href="author.html#24588">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>h =3D internet.TCPServer(79, IFingerFactory(f))

notice IFingerFactory? If you read the earlier parts of the tutorial,
you'll see stuff like components.registerAdapter. It's just magic to
create a FingerFactoryFromService, giving its constructor f, the
&quot;Finger Service&quot;. What happens here is that &quot;f&quot;, the Finger Service,
is different from the service.Service within the Twisted Framework.
You might as well call &quot;f&quot;, the Finger Service, &quot;Finger Shared Data&quot;.

What really happens here is

h is the service that has parent s, MultiService. s is then returned
and started by the application.

h contains a factory that gets run.

The factory knows &quot;f&quot;, the Finger Service, which has nothing to do
with twisted's mechanism. It's more of a demo for the component based
framework. f is a way to share data and methods and states across
multiple factories.

I am also very new to twisted, so I **hope** this understanding of
mine is correct ...

I strongly recommend you read through the entire tutorial. They build
very incrementally, so most of the time the code is repeated so you
can just skim through it if you had started from the beginning.

David Kao



On Fri, Sep 30, 2011 at 5:28 AM, Dorian Raymer &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">deldotdr at gmail.com</A>&gt; wrote:
&gt;<i> Hello,
</I>&gt;<i> I am confused about how the FingerService gets started in the
</I>&gt;<i> finger/finger.py makeService function. It is never assigned a service par=
</I>ent
&gt;<i> and it can't service getUser requests if its startService method isn't
</I>&gt;<i> called; you get an AttributeError:=A0&quot;no attribute 'users'&quot; the way it wo=
</I>rks
&gt;<i> now. Is this a bug?
</I>&gt;<i> The most sensible thing, in this case, seems to be setting the FingerServ=
</I>ice
&gt;<i> parent to be the MultiService container that all of the interent services
</I>&gt;<i> are added to in the makeService function.=A0Is that correct?
</I>&gt;<i> I'm wondering if their are any other=A0strategies people use for starting
</I>&gt;<i> non-internet services.
</I>&gt;<i> For instance, if instead of reading a file to get to my user db, I might
</I>&gt;<i> want to start a redis client and read from redis to service a getUser cal=
</I>l.
&gt;<i> But that means I'd want to make sure the startService=A0call succeeded (t=
</I>he
&gt;<i> redis connection was made) before one of the internet services tries to u=
</I>se
&gt;<i> the FingerService (a timing problem that doesn't exist when just reading =
</I>a
&gt;<i> file)...or something. Maybe I'm really just wondering how the twisted
</I>&gt;<i> application framework handles exceptions that occur for startService call=
</I>s.
&gt;<i> Maybe I need something else to handle that kind of thing?
</I>&gt;<i> I'm also wondering if it's ever a good idea to make a extension
</I>&gt;<i> of=A0ServerFactory=A0(that adapts a Service)=A0that calls=A0Service.start=
</I>Service
&gt;<i> when Factory.startServer is called (and Service.stopService when
</I>&gt;<i> Factory.stopFactory is called)?
</I>&gt;<i> And I'm looking for more use cases/projects (beyond the finger tutorial)
</I>&gt;<i> that really showcase the twisted application framework. Any references wo=
</I>uld
&gt;<i> be appreciated!
</I>&gt;<i> Thanks!
</I>&gt;<i> -Dorian
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>&gt;<i>
</I>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="024495.html">No subject
</A></li>
	<LI>Next message (by thread): <A HREF="024590.html">No subject
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24588">[ date ]</a>
              <a href="thread.html#24588">[ thread ]</a>
              <a href="subject.html#24588">[ subject ]</a>
              <a href="author.html#24588">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
