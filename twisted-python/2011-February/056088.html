<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Imap client problem, help fro troubleshoot
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Imap%20client%20problem%2C%20help%20fro%20troubleshoot&In-Reply-To=%3C20110225132016.2231.480486396.divmod.xquotient.45%40localhost.localdomain%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="056085.html">
   <LINK REL="Next"  HREF="056091.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Imap client problem, help fro troubleshoot</H1>
    <B>exarkun at twistedmatrix.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Imap%20client%20problem%2C%20help%20fro%20troubleshoot&In-Reply-To=%3C20110225132016.2231.480486396.divmod.xquotient.45%40localhost.localdomain%3E"
       TITLE="[Twisted-Python] Imap client problem, help fro troubleshoot">exarkun at twistedmatrix.com
       </A><BR>
    <I>Fri Feb 25 06:20:16 MST 2011</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="056085.html">[Twisted-Python] Imap client problem, help fro troubleshoot
</A></li>
        <LI>Next message (by thread): <A HREF="056091.html">[Twisted-Python] Imap client problem, help fro troubleshoot
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56088">[ date ]</a>
              <a href="thread.html#56088">[ thread ]</a>
              <a href="subject.html#56088">[ subject ]</a>
              <a href="author.html#56088">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 24 Feb, 04:51 pm, <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">celord at gmail.com</A> wrote:
&gt;<i>Hello All, I have this[1] IMAP4 client in twisted, but I'am getting
</I>&gt;<i>this error too much, how can I troubleshoot it or how can I restart
</I>&gt;<i>the main loop after this failure?
</I>&gt;<i>
</I>&gt;<i>         Traceback (most recent call last):
</I>&gt;<i>        Failure: twisted.internet.error.ConnectionDone: Connection was
</I>&gt;<i>closed cleanly.
</I>
Your code already appears to be based on ReconnectingClientFactory, so 
your client should reconnect after it loses its connection.  The main 
thing that would prevent this is if you stop the reactor, which you also 
appear to be doing.  If you want the reconnection attempt to succeed, 
then try not stopping the reactor.

Jean-Paul
&gt;<i>2011-02-24 10:31:34-0600 [IMAP4Client,client] Disconnected at: Thu Feb
</I>&gt;<i>24 10:31:34 2011
</I>&gt;<i>2011-02-24 10:31:34-0600 [IMAP4Client,client] Connection Lost: Reason:
</I>&gt;<i>[Failure instance: Traceback (failure with no frames): &lt;class
</I>&gt;<i>'twisted.internet.error.ConnectionDone'&gt;: Connection was closed
</I>&gt;<i>cleanly.
</I>&gt;<i>2011-02-24 10:31:34-0600 [IMAP4Client,client] ]
</I>&gt;<i>2011-02-24 10:31:34-0600 [IMAP4Client,client]
</I>&gt;<i>&lt;twisted.internet.tcp.Connector instance at 0x5f8a30&gt; will retry in 7
</I>&gt;<i>seconds
</I>&gt;<i>2011-02-24 10:31:34-0600 [IMAP4Client,client] Stopping factory
</I>&gt;<i>&lt;__builtin__.IMAP4ClientFactory instance at 0xbd4468&gt;
</I>&gt;<i>2011-02-24 10:31:34-0600 [-] Main loop terminated.
</I>&gt;<i>2011-02-24 10:31:34-0600 [-] Server Shut Down.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>[1] <A HREF="http://pastebin.com/GrqG3MyD">http://pastebin.com/GrqG3MyD</A>
</I>&gt;<i>
</I>&gt;<i>--
</I>&gt;<i><A HREF="http://celord.blogspot.com/">http://celord.blogspot.com/</A>
</I>&gt;<i>
</I>&gt;<i>_______________________________________________
</I>&gt;<i>Twisted-Python mailing list
</I>&gt;<i><A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i><A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="056085.html">[Twisted-Python] Imap client problem, help fro troubleshoot
</A></li>
	<LI>Next message (by thread): <A HREF="056091.html">[Twisted-Python] Imap client problem, help fro troubleshoot
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56088">[ date ]</a>
              <a href="thread.html#56088">[ thread ]</a>
              <a href="subject.html#56088">[ subject ]</a>
              <a href="author.html#56088">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
