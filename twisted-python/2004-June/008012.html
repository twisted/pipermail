<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Refactoring of trial - call for	feature	requests	and suggestions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Refactoring%20of%20trial%20-%20call%20for%09feature%09requests%0A%09and%20suggestions&In-Reply-To=1087323243.21041.17.camel%40kazekage">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008010.html">
   <LINK REL="Next"  HREF="008039.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Refactoring of trial - call for	feature	requests	and suggestions</H1>
    <B>Cory Dodt</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Refactoring%20of%20trial%20-%20call%20for%09feature%09requests%0A%09and%20suggestions&In-Reply-To=1087323243.21041.17.camel%40kazekage"
       TITLE="[Twisted-Python] Refactoring of trial - call for	feature	requests	and suggestions">corydodt at twistedmatrix.com
       </A><BR>
    <I>Tue Jun 15 17:51:25 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="008010.html">[Twisted-Python] Refactoring of trial - call for	feature	requests and suggestions
</A></li>
        <LI>Next message: <A HREF="008039.html">[Twisted-Python] Re: Refactoring of trial - call for feature	requests and suggestions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8012">[ date ]</a>
              <a href="thread.html#8012">[ thread ]</a>
              <a href="subject.html#8012">[ subject ]</a>
              <a href="author.html#8012">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Glyph Lefkowitz wrote:
[...]
|<i> Second is that we shouldn't be waiting on deferreds in test code any
</I>|<i> more than we should be waiting on deferreds in real code.  The different
</I>|<i> approaches to waiting on deferreds currently mean there are still lots
</I>|<i> of places the tests can hang.  With a more unified approach, we could
</I>|<i> insert default timeouts on ALL tests more easily, and avoid loops that
</I>|<i> wait for multiple deferreds by using, e.g. DeferredList.
</I>
I would be a big fan of timeouts on all tests.  There are several different
ways win32 tests can hang.  We can't even run the win32ER tests currently, due
to hangs.  In my recent testing of wprocess (processes for windows in default
reactor) I decided to just blindly enable all the process tests and see which
ones broke.  I didn't find out though, because they hang in many different places.


On an unrelated note..

What if we had persistent test results?  Perhaps a test result aggregator
running on pyr.  Such a thing would enable us (independently of buildbot) to
examine trends and pull out tests that frequently regress--indicating either
(1) very fragile code that should be replaced or (2) more likely, tests that
fail only intermittently; and tests that have been broken (but are
expectedfailures or whatever) for a long time.

It doesn't have to be very complex.  Just something that accepts and parses
the test runs in sort of the same way that buildbot does, but can identify a
particular test from the log and record whether it passed or failed, and
compare several runs of that one test (or groups of tests, grouped in whatever
way makes the most sense) over time.  Maybe a command-line tool that would let
someone on pyr do the obvious analyses.  (Or a web tool, if someone is really
just dying to write one.)

The buildmaster would just have to pipe test runs into it.

C


-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.3-nr1 (Windows XP)
Comment: Using GnuPG with Thunderbird - <A HREF="http://enigmail.mozdev.org">http://enigmail.mozdev.org</A>

iD8DBQFAz29d3A5SrXAiHQcRApB5AJ9fJ3ZY7j4neTPB5QtKgbJSlJUGagCgqkl+
lI7Exzkcl91ZsUArA/nxYOw=
=zA8M
-----END PGP SIGNATURE-----


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008010.html">[Twisted-Python] Refactoring of trial - call for	feature	requests and suggestions
</A></li>
	<LI>Next message: <A HREF="008039.html">[Twisted-Python] Re: Refactoring of trial - call for feature	requests and suggestions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8012">[ date ]</a>
              <a href="thread.html#8012">[ thread ]</a>
              <a href="subject.html#8012">[ subject ]</a>
              <a href="author.html#8012">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
