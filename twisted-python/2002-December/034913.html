<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Failed test cases w/ Twisted CVS on Mac OS X 10.2.x w/ (mostly) stock Python 2.2
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Failed%20test%20cases%20w/%20Twisted%20CVS%20on%20Mac%20OS%20X%2010.2.x%20w/%20%28mostly%29%20stock%20Python%202.2&In-Reply-To=%3CE8EDE678-0DE9-11D7-AE4D-0003938210D6%40redivi.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="034912.html">
   <LINK REL="Next"  HREF="034914.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Failed test cases w/ Twisted CVS on Mac OS X 10.2.x w/ (mostly) stock Python 2.2</H1>
    <B>Bob Ippolito</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Failed%20test%20cases%20w/%20Twisted%20CVS%20on%20Mac%20OS%20X%2010.2.x%20w/%20%28mostly%29%20stock%20Python%202.2&In-Reply-To=%3CE8EDE678-0DE9-11D7-AE4D-0003938210D6%40redivi.com%3E"
       TITLE="[Twisted-Python] Failed test cases w/ Twisted CVS on Mac OS X 10.2.x w/ (mostly) stock Python 2.2">bob at redivi.com
       </A><BR>
    <I>Thu Dec 12 08:53:51 MST 2002</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="034912.html">[Twisted-Python] Lore and microdom problem.
</A></li>
        <LI>Next message (by thread): <A HREF="034914.html">[Twisted-Python] shared web hosting
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34913">[ date ]</a>
              <a href="thread.html#34913">[ thread ]</a>
              <a href="subject.html#34913">[ subject ]</a>
              <a href="author.html#34913">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I haven't looked very far into these.. but I do have a potential fix 
and a workaround..

for twisted.test.test_popsicle.PicklesicleTest.testPickle, the fix is 
likely as simple as changing True and False to 1 and 0 (2.2 doesn't 
know True and False, but 2.2.1 does... Apple hasn't updated to 2.2.2 
yet as of 10.2.3 build 6G24)

I suppose that the conch tests should be ignored if you're missing 
Crypto?

Note that I'm running an extra test suite (test_nmea.py) for the NMEA 
0183 GPS protocol I've submitted to Itamar, so my count is 352 instead 
of 351.

I try and keep my python pretty stock so I know what's going to run on 
untainted systems, I believe the only modules I've installed myself 
that twisted uses anywhere are ssl and the xml-sig stuff, since Apple 
obviously isn't very good at compiling python yet.

-bob

======================================================================
ERROR: Test DNS 'PTR' record queries
----------------------------------------------------------------------
Traceback (most recent call last):
   File &quot;/Users/bob/src/Twisted/twisted/internet/udp.py&quot;, line 110, in 
doRead
     self.protocol.datagramReceived(data, addr)
   File &quot;/Users/bob/src/Twisted/twisted/protocols/dns.py&quot;, line 809, in 
datagramReceived
     d.callback(m)
   File &quot;/Users/bob/src/Twisted/twisted/internet/defer.py&quot;, line 162, in 
callback
     self._startRunCallbacks(result, 0)
   File &quot;/Users/bob/src/Twisted/twisted/internet/defer.py&quot;, line 213, in 
_startRunCallbacks
     self._runCallbacks()
--- &lt;exception caught here&gt; ---
   File &quot;/Users/bob/src/Twisted/twisted/internet/defer.py&quot;, line 227, in 
_runCallbacks
     (self.result,)+tuple(args), kw)
   File &quot;/Users/bob/src/Twisted/pyunit/unittest.py&quot;, line 334, in 
_deferredFUEqualCallback
     self.failUnlessEqual(expected, success)
   File &quot;/Users/bob/src/Twisted/pyunit/unittest.py&quot;, line 279, in 
failUnlessEqual
     raise self.failureException, (msg or '%s != %s' % (repr(first), 
repr(second)))
exceptions.AssertionError: [&lt;twisted.protocols.dns.Record_PTR instance 
at 0xccaec0&gt;] != []
======================================================================
ERROR: testPickle (twisted.test.test_popsicle.PicklesicleTest)
----------------------------------------------------------------------
Traceback (most recent call last):
   File &quot;/Users/bob/src/Twisted/twisted/test/test_popsicle.py&quot;, line 
113, in testPickle
     alice._tracker = gcall(l.append, True)
NameError: global name 'True' is not defined
======================================================================
ERROR: testNormalTermination 
(twisted.test.test_process.PosixProcessTestCase)
----------------------------------------------------------------------
Traceback (most recent call last):
   File &quot;/Users/bob/src/Twisted/twisted/test/test_process.py&quot;, line 207, 
in testNormalTermination
     p.reason.trap(error.ProcessDone)
   File &quot;/Users/bob/src/Twisted/twisted/python/failure.py&quot;, line 230, in 
trap
     raise self
Failure: [Failure instance: Traceback! 
twisted.internet.error.ProcessTerminated, process ended with exit code 1
]
======================================================================
ERROR: testReconnect (twisted.test.test_tcp.ConnectorTestCase)
----------------------------------------------------------------------
Traceback (most recent call last):
   File &quot;/Users/bob/src/Twisted/twisted/test/test_tcp.py&quot;, line 276, in 
testReconnect
     factory.reason.trap(error.ConnectionRefusedError)
   File &quot;/Users/bob/src/Twisted/twisted/python/failure.py&quot;, line 230, in 
trap
     raise self
Failure: [Failure instance: Traceback! 
twisted.internet.error.TimeoutError,
]
======================================================================
ERROR: testFailing (twisted.test.test_tcp.LoopbackTestCase)
----------------------------------------------------------------------
Traceback (most recent call last):
   File &quot;/Users/bob/src/Twisted/twisted/test/test_tcp.py&quot;, line 131, in 
testFailing
     clientF.reason.trap(error.ConnectionRefusedError)
   File &quot;/Users/bob/src/Twisted/twisted/python/failure.py&quot;, line 230, in 
trap
     raise self
Failure: [Failure instance: Traceback! 
twisted.internet.error.TimeoutError,
]
======================================================================
ERROR: testMessages (twisted.test.test_unix.UnixSocketTestCase)
----------------------------------------------------------------------
Traceback (most recent call last):
   File &quot;/Users/bob/src/Twisted/twisted/test/test_smtp.py&quot;, line 146, in 
testMessages
     self.loopback(protocol, clientProtocol)
   File &quot;/Users/bob/src/Twisted/twisted/test/test_unix.py&quot;, line 27, in 
loopback
     loopback.loopbackUNIX(client, server)
   File &quot;/Users/bob/src/Twisted/twisted/protocols/loopback.py&quot;, line 
132, in loopbackUNIX
     reactor.iterate()
   File &quot;/Users/bob/src/Twisted/twisted/internet/base.py&quot;, line 201, in 
iterate
     self.doIteration(delay)
--- &lt;exception caught here&gt; ---
   File &quot;/Users/bob/src/Twisted/twisted/internet/default.py&quot;, line 547, 
in doSelect
     why = getattr(selectable, method)()
   File &quot;/Users/bob/src/Twisted/twisted/internet/abstract.py&quot;, line 102, 
in doWrite
     self.unsent = self.unsent[l:]
exceptions.TypeError: sequence index must be integer
======================================================================
FAIL: testCallLater (twisted.test.test_internet.InterfaceTestCase)
----------------------------------------------------------------------
Traceback (most recent call last):
   File &quot;/Users/bob/src/Twisted/twisted/test/test_internet.py&quot;, line 96, 
in testCallLater
     self.assertEquals(self._called, 1)
   File &quot;/Users/bob/src/Twisted/pyunit/unittest.py&quot;, line 279, in 
failUnlessEqual
     raise self.failureException, (msg or '%s != %s' % (repr(first), 
repr(second)))
AssertionError: 0 != 1
======================================================================
FAIL: testReadLimit (twisted.test.test_policies.ThrottlingTestCase)
----------------------------------------------------------------------
Traceback (most recent call last):
   File &quot;/Users/bob/src/Twisted/twisted/test/test_policies.py&quot;, line 
201, in testReadLimit
     self.assertEquals(c1.buffer, &quot;01234567890123456789&quot;)
   File &quot;/Users/bob/src/Twisted/pyunit/unittest.py&quot;, line 279, in 
failUnlessEqual
     raise self.failureException, (msg or '%s != %s' % (repr(first), 
repr(second)))
AssertionError: '0123456789' != '01234567890123456789'
======================================================================
FAIL: testFileRebuild (twisted.test.test_rebuild.RebuildTestCase)
----------------------------------------------------------------------
Traceback (most recent call last):
   File &quot;/Users/bob/src/Twisted/twisted/test/test_rebuild.py&quot;, line 73, 
in testFileRebuild
     assert b.b() == 'c'
AssertionError
----------------------------------------------------------------------
Ran 352 tests in 151.419s

FAILED (failures=3, errors=6)
The following test modules had errors when loading:

* twisted.test.test_conch:
Traceback (most recent call last):
   File &quot;/Users/bob/src/Twisted/twisted/test/test_all.py&quot;, line 80, in 
loadTestsFromMyPackage
     locals(), globals(), [name])
   File &quot;/Users/bob/src/Twisted/twisted/test/test_conch.py&quot;, line 19, in 
?
     from twisted.conch.ssh import keys, transport, factory, userauth, 
connection, common, session
   File &quot;/Users/bob/src/Twisted/twisted/conch/ssh/keys.py&quot;, line 32, in ?
     from Crypto.Cipher import DES
ImportError: No module named Crypto.Cipher



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="034912.html">[Twisted-Python] Lore and microdom problem.
</A></li>
	<LI>Next message (by thread): <A HREF="034914.html">[Twisted-Python] shared web hosting
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34913">[ date ]</a>
              <a href="thread.html#34913">[ thread ]</a>
              <a href="subject.html#34913">[ subject ]</a>
              <a href="author.html#34913">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
