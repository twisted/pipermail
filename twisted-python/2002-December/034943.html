<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] woven nested lists
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20woven%20nested%20lists&In-Reply-To=%3CD695C803-12A6-11D7-B2DC-0050E425C324%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="034942.html">
   <LINK REL="Next"  HREF="034944.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] woven nested lists</H1>
    <B>Donovan Preston</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20woven%20nested%20lists&In-Reply-To=%3CD695C803-12A6-11D7-B2DC-0050E425C324%40twistedmatrix.com%3E"
       TITLE="[Twisted-Python] woven nested lists">dp at twistedmatrix.com
       </A><BR>
    <I>Wed Dec 18 09:36:20 MST 2002</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="034942.html">[Twisted-Python] woven nested lists
</A></li>
        <LI>Next message (by thread): <A HREF="034944.html">[Twisted-Python] New SerialPort transport and associated goodies
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34943">[ date ]</a>
              <a href="thread.html#34943">[ thread ]</a>
              <a href="subject.html#34943">[ subject ]</a>
              <a href="author.html#34943">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wednesday, December 18, 2002, at 06:26  AM, Glyph Lefkowitz wrote:
&gt;<i>
</I>&gt;<i> As it happens, I discovered a woven bug in the process :-).  The code  
</I>&gt;<i> here has
</I>&gt;<i> 2 embedded templates ('template' and 'brokenTemplate'), one of which  
</I>&gt;<i> works with
</I>&gt;<i> CVS as of a few days ago and one of which works with CVS as of a few  
</I>&gt;<i> minutes
</I>&gt;<i> ago.  You can see my commit message about that if you're interested in  
</I>&gt;<i> the
</I>&gt;<i> details:
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://www.twistedmatrix.com/pipermail/twisted-commits/2002-December/">http://www.twistedmatrix.com/pipermail/twisted-commits/2002-December/</A> 
</I>&gt;<i> 005021.html
</I>
This bug stems from the fact that the List widget used to call getNode  
itself, thus finding only the first node below it's template node.  
getPattern will find all the pattern nodes below the widget's template  
node. The noNesting fix is a great solution, and hopefully will be  
enough of a fix.

Regarding the comment about anonymous lists: The outer list in this  
case is available using the name &quot;mytable&quot;. So the template could be as  
so:

&lt;table model=&quot;mytable&quot; view=&quot;List&quot;&gt;
	&lt;tr listItemOf=&quot;mytable&quot; view=&quot;List&quot;&gt;
		&lt;td pattern=&quot;listItem&quot; view=&quot;Text&quot;&gt;
		&lt;/td&gt;
	&lt;/tr&gt;
&lt;/table&gt;

It's only the inner lists that are truly anonymous, because as the List  
widget is iterating the outer list, it sets the model attribute of the  
pattern nodes to model=&quot;0&quot; model=&quot;1&quot; model=&quot;2&quot; etc. My first thought is  
to allow this type of syntax:

&lt;table model=&quot;mytable&quot; view=&quot;List&quot;&gt;
	&lt;tr listItemOf=&quot;mytable&quot; view=&quot;List&quot;&gt;
		&lt;td listItemOf=&quot;.&quot; view=&quot;Text&quot;&gt;
		&lt;/td&gt;
	&lt;/tr&gt;
&lt;/table&gt;

Which would mean &quot;the inner node is a pattern node with the name of the  
model on top of the model stack&quot;, but I'm not sure what that buys us  
over the current noNesting fix (which certainly is the way things  
should have worked, and is the way the code worked before the  
introduction of getPattern)

By the way, there is a test of nested lists in test_woven.py. It just  
counts the number of copied nodes, however, and should probably be  
updated to check that the *correct* nodes were copied.

Thanks Glyph
Donovan



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="034942.html">[Twisted-Python] woven nested lists
</A></li>
	<LI>Next message (by thread): <A HREF="034944.html">[Twisted-Python] New SerialPort transport and associated goodies
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34943">[ date ]</a>
              <a href="thread.html#34943">[ thread ]</a>
              <a href="subject.html#34943">[ subject ]</a>
              <a href="author.html#34943">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
