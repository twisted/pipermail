<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] POP3 improvements
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20POP3%20improvements&In-Reply-To=20021231064043.GD20756%40frobozz.local">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002501.html">
   <LINK REL="Next"  HREF="002503.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] POP3 improvements</H1>
    <B>screwtape at froup.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20POP3%20improvements&In-Reply-To=20021231064043.GD20756%40frobozz.local"
       TITLE="[Twisted-Python] POP3 improvements">screwtape at froup.com
       </A><BR>
    <I>Tue Dec 31 02:08:22 EST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="002501.html">[Twisted-Python] POP3 improvements
</A></li>
        <LI>Next message: <A HREF="002503.html">[Twisted-Python] POP3 improvements
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2502">[ date ]</a>
              <a href="thread.html#2502">[ thread ]</a>
              <a href="subject.html#2502">[ subject ]</a>
              <a href="author.html#2502">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Dec 31, 2002 at 05:40:43PM +1100, Andrew Bennetts wrote:
&gt;<i> On Tue, Dec 31, 2002 at 01:24:40AM -0500, Christopher Armstrong wrote:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Euughhh.. that sounds really horrible at first glance. Are there any
</I>&gt;<i> &gt; cases you can think of that actually make use of passing in different
</I>&gt;<i> &gt; Protocol classes? Also, how much less flexible would it be to simply
</I>&gt;<i> &gt; set the protocols as attributes on the FTPClient if you want to
</I>&gt;<i> &gt; override?  (similar to Factory.protocol). The FTPClient would then just use
</I>&gt;<i> &gt; 'self.whateverProtocol'. This agrees much more with what a lot of
</I>&gt;<i> &gt; Twisted already does, I think.
</I>&gt;<i> 
</I>&gt;<i> I do need to use different protocols, or at least I did at a previous job...
</I>&gt;<i> I had a program that downloaded TIFF files and text files.  TIFF files
</I>&gt;<i> needed to be written to disk and processed, text files were written to disk
</I>&gt;<i> for posterity, but were processed as they came in.  
</I>
IIRC, the TIFF files in question were very, very large, while the text
files were quite small. TIFF files you'd want to spool to disk as
quickly as possible, but text files you could build them up in a
buffer as they came in.

I imagine the HTTP client would face similar issues - how does it go
downloading large files?

&gt;<i> Also, an FTPClient can have multiple commands queued (It seems reasonable to
</I>&gt;<i> be able to do f.cd('foo/bar'); f.retr('file1'); f.retr('file2')), so an
</I>&gt;<i> instance attribute isn't a sane option.
</I>&gt;<i> 
</I>&gt;<i> Any other ideas, though?  I would like to make it cleaner.
</I>
I think it would be nice if Twisted had a DownloadingFile interface or
something - make a new DownloadingFile instance, then pass it to FTP's
RETR, HTTP's GET, an IRC DCC transfer, a twisted.conch scp session, or
whatever. Then you can get the DownloadingFile instance to trigger
deferreds when it's complete, when it's progress is updated, that sort
of thing. It would make it easy to generate stats like download speed,
estimated time, and so forth.

Make a subclass DownloadingTIFFFile that saves the file to disk and
processes it, make a subclass DownloadingTextFile that processes the
file as it comes in, then saves it to disk.

Screwtape,
...yes, another crazy idea I don't particulary want to implement
myself. :)

-- 
 ___________ ____________________________
|<i> Screwtape | Reply-To: munged on Usenet |________ ______ ____ __ _  _   _
</I>|<i>
</I>|<i> &quot;The cruel angel's thesis bleeds&quot; 
</I>|<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002501.html">[Twisted-Python] POP3 improvements
</A></li>
	<LI>Next message: <A HREF="002503.html">[Twisted-Python] POP3 improvements
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2502">[ date ]</a>
              <a href="thread.html#2502">[ thread ]</a>
              <a href="subject.html#2502">[ subject ]</a>
              <a href="author.html#2502">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
