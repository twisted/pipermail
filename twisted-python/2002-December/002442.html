<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] usage of sessions in twisted.web?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20usage%20of%20sessions%20in%20twisted.web%3F&In-Reply-To=3E04A42C.45AE32A0%40beeblebrox.gsfc.nasa.gov">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002441.html">
   <LINK REL="Next"  HREF="002443.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] usage of sessions in twisted.web?</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20usage%20of%20sessions%20in%20twisted.web%3F&In-Reply-To=3E04A42C.45AE32A0%40beeblebrox.gsfc.nasa.gov"
       TITLE="[Twisted-Python] usage of sessions in twisted.web?">glyph at twistedmatrix.com
       </A><BR>
    <I>Sat Dec 21 15:22:39 EST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="002441.html">[Twisted-Python] usage of sessions in twisted.web?
</A></li>
        <LI>Next message: <A HREF="002443.html">[Twisted-Python] usage of sessions in twisted.web?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2442">[ date ]</a>
              <a href="thread.html#2442">[ thread ]</a>
              <a href="subject.html#2442">[ subject ]</a>
              <a href="author.html#2442">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, 21 Dec 2002 12:26:04 -0500, Steve Waterbury &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">waterbug at beeblebrox.gsfc.nasa.gov</A>&gt; wrote:
&gt;<i> We are not using sessions yet, but plan to in the near future.  
</I>
Good... the &quot;near future&quot; will be a good time to start :-)

&gt;<i> Currently we are using the twisted xmlrpc for communication to our GUI client
</I>&gt;<i> (developed using wxPython), but we also plan to have a browser interface
</I>&gt;<i> (almost certainly using Woven), a SOAP interface, and quite possibly others
</I>&gt;<i> (e.g., PB and/or CORBA).
</I>
Wow!  Did Twisted inspire you to use such a diverse assortment of frontends, or
was it part of your charter and why you chose it in the first place? :)

&gt;<i> Do you plan to make your new Sessions implementation general enough to
</I>&gt;<i> support all of these?
</I>
This is a hard question to answer as asked, so I'll take this opportunity to
lay out my vision for how multi-protocol &quot;sessions&quot; are supposed to work.

There are two answers: yes, I plan to make Session part of a system general
enough to support all of these front-ends.  Also: no, I do not plan to make
Session general enough to support all these itself :-).  If you've been a good
disciple of the Twisted Way, you'll have a Service with Perspectives that
represent the way that users interact with your system.  That's the focal point
of the conversations your users will have with your abstractions.  Web session
management is a mostly-separate system, more of a kludge over the HTTP protocol
than a general way of representing stateful interaction.  The cool thing about
the new web session wrapper (now checked into CVS in twisted.web.woven.guard)
is the fact that it can negotiate with the browser to discover whether cookies
are turned on, more or less automatically, and provide effectively the same
experience whether they are or not.

I'm still working on the web part of the cross-protocol part of this system.
In twisted.cred, there are 4 real abstractions documented so far: identity,
perspective, service, authorizer.  There is a 5th though, which has really only
been used by PB so far: the notion of a &quot;client object&quot;.  (That's a terrible
name, I know, but it seems to describe its function.)

Abstractly, the client object is representative of the &quot;other side&quot; of some
connection to the user.  In PB, it's usually a RemoteReference that the client
sends as part of the authentication sequence, so the service's side of the
interface to this object will often be through callRemote.  (There are no
restrictions on what kind of object it is, though, so your service is welcome
to do whatever is appropriate.)

In the case of something like IRC, the &quot;client&quot; will simply be an instance
wrapping the IRC Protocol instance.  For the web, it will be an object stuck to
your Session (which has been initialized using the handshake code above).  In
the PB case, it's an instance of an object on the other side of the Broker, as
I said above.

Once you've decided what kind of client object you're using, however, the
'attached' method of your perspective will be called with it.  When you log out
/ your broker goes stale / your IRC connection drops / your web session times
out, the symmetric &quot;detached&quot; method is called.

I hope that this explains what how should be expecting to use the
authentication part of the new twisted.web.woven.guard once it's finished, but
feel free to ask for clarification.  I really can't think of how to express
this well :-).

&gt;<i> (Given your usual sound architectural principles, I would expect so, but you
</I>&gt;<i> might have practical reasons to make it more specific, so just thought I'd
</I>&gt;<i> ask. :^)
</I>
-YES-.  MY DESIGN-FU IS STRONG RARARA

-- 
 |    &lt;`'&gt;    |  Glyph Lefkowitz: Traveling Sorcerer   |
 |   &lt; _/ &gt;   |  Lead Developer,  the Twisted project  |
 |  &lt; ___/ &gt;  |      <A HREF="http://www.twistedmatrix.com">http://www.twistedmatrix.com</A>      |
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20021221/9d379ced/attachment.pgp">http://twistedmatrix.com/pipermail/twisted-python/attachments/20021221/9d379ced/attachment.pgp</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002441.html">[Twisted-Python] usage of sessions in twisted.web?
</A></li>
	<LI>Next message: <A HREF="002443.html">[Twisted-Python] usage of sessions in twisted.web?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2442">[ date ]</a>
              <a href="thread.html#2442">[ thread ]</a>
              <a href="subject.html#2442">[ subject ]</a>
              <a href="author.html#2442">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
