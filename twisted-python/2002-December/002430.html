<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Event-driven version of gzip module?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Event-driven%20version%20of%20gzip%20module%3F&In-Reply-To=FE09C524-11D6-11D7-B5C6-003065FB23D2%40pobox.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002428.html">
   <LINK REL="Next"  HREF="002429.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Event-driven version of gzip module?</H1>
    <B>Donovan Baarda</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Event-driven%20version%20of%20gzip%20module%3F&In-Reply-To=FE09C524-11D6-11D7-B5C6-003065FB23D2%40pobox.com"
       TITLE="[Twisted-Python] Event-driven version of gzip module?">abo at minkirri.apana.org.au
       </A><BR>
    <I>Tue Dec 17 16:59:52 EST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="002428.html">[Twisted-Python] Event-driven version of gzip module?
</A></li>
        <LI>Next message: <A HREF="002429.html">[Twisted-Python] test_nmea failing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2430">[ date ]</a>
              <a href="thread.html#2430">[ thread ]</a>
              <a href="subject.html#2430">[ subject ]</a>
              <a href="author.html#2430">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 2002-12-18 at 02:48, l.m.orchard wrote:
&gt;<i> Still getting my head around Twisted, so hopefully I make sense in 
</I>&gt;<i> asking this:
</I>&gt;<i> 
</I>&gt;<i> Does there happen to be an event-driven version of the gzip module for 
</I>&gt;<i> Twisted?  That is, instead of expecting a file object to actively read 
</I>&gt;<i> and seek at will, it accepts chunks of data from a stream and hits a 
</I>&gt;<i> callback with decompressed chunks as they're available.  (Would this 
</I>&gt;<i> involve a deferred?)  I was trying to do something with just zlib, but 
</I>&gt;<i> I forgot that that doesn't do anything to handle the header of a gzip 
</I>&gt;<i> stream like the gzip module itself does.
</I>[...]

the Python zlib module can compress/uncompress gzip data a block at a
time; perfect for what you want.

I'm not sure you need the gzip header stuff for http decompression, but
it you do, just have a look at the gzip.py source... the gzip module is
written in python and uses the zlib module. You might find once you look
at the gzip module implementation that it can actualy do what you want
anyway (it seems to support block at a time read/write, and provided you
use a stringIO file type should not block).





</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002428.html">[Twisted-Python] Event-driven version of gzip module?
</A></li>
	<LI>Next message: <A HREF="002429.html">[Twisted-Python] test_nmea failing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2430">[ date ]</a>
              <a href="thread.html#2430">[ thread ]</a>
              <a href="subject.html#2430">[ subject ]</a>
              <a href="author.html#2430">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
