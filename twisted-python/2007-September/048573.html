<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Can a deferred catch a segmentation fault?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Can%20a%20deferred%20catch%20a%20segmentation%20fault%3F&In-Reply-To=%3C46F29C53.1050406%40jpl.nasa.gov%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="048572.html">
   <LINK REL="Next"  HREF="048574.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Can a deferred catch a segmentation fault?</H1>
    <B>Gerald John M. Manipon</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Can%20a%20deferred%20catch%20a%20segmentation%20fault%3F&In-Reply-To=%3C46F29C53.1050406%40jpl.nasa.gov%3E"
       TITLE="[Twisted-Python] Can a deferred catch a segmentation fault?">Geraldjohn.M.Manipon at jpl.nasa.gov
       </A><BR>
    <I>Thu Sep 20 10:14:11 MDT 2007</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="048572.html">[Twisted-Python] 2006, 'MySQL server has gone away' 
</A></li>
        <LI>Next message (by thread): <A HREF="048574.html">[Twisted-Python] Can a deferred catch a segmentation fault?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48573">[ date ]</a>
              <a href="thread.html#48573">[ thread ]</a>
              <a href="subject.html#48573">[ subject ]</a>
              <a href="author.html#48573">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm using deferToThread to run some python code which may or may not
be safe.  In particular, the code may load some modules that could
seg fault.  In this case, deferToThread won't work and the python
process will bomb so I was wondering what Defer strategy I could
use to handle this situation:

from twisted.internet import threads, reactor

def segFaultFunc():
     import binning #this will seg fault
     return True

def myCb(res):
     print &quot;Got&quot;, res
     reactor.stop()

d = threads.deferToThread(segFaultFunc)
d.addCallback(myCb)

reactor.run()

Any help on this is greatly appreciated.

Thanks,

Gerald



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="048572.html">[Twisted-Python] 2006, 'MySQL server has gone away' 
</A></li>
	<LI>Next message (by thread): <A HREF="048574.html">[Twisted-Python] Can a deferred catch a segmentation fault?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48573">[ date ]</a>
              <a href="thread.html#48573">[ thread ]</a>
              <a href="subject.html#48573">[ subject ]</a>
              <a href="author.html#48573">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
