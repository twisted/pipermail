<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Wrapping a Perspective Broker remote object with a	blocking API
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Wrapping%20a%20Perspective%20Broker%20remote%20object%20with%20a%0A%09blocking%20API&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016004.html">
   <LINK REL="Next"  HREF="015966.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Wrapping a Perspective Broker remote object with a	blocking API</H1>
    <B>Rasjid Wilcox</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Wrapping%20a%20Perspective%20Broker%20remote%20object%20with%20a%0A%09blocking%20API&In-Reply-To="
       TITLE="[Twisted-Python] Wrapping a Perspective Broker remote object with a	blocking API">rasjidw at gmail.com
       </A><BR>
    <I>Tue Sep  4 01:22:37 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="016004.html">[Twisted-Python] twistd doesn't work
</A></li>
        <LI>Next message: <A HREF="015966.html">[Twisted-Python] Wrapping a Perspective Broker remote object	with a blocking API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15960">[ date ]</a>
              <a href="thread.html#15960">[ thread ]</a>
              <a href="subject.html#15960">[ subject ]</a>
              <a href="author.html#15960">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi everyone.

I've done some reading, and it seems that there have been several
attempts by new twisted users to get Perspective Broker to function
more like Corba or DCOM.  Despite having read
<A HREF="http://twistedmatrix.com/pipermail/twisted-python/2007-April/thread.html#15121">http://twistedmatrix.com/pipermail/twisted-python/2007-April/thread.html#15121</A>
on why this does not work, I have had a go and have got something that
seems to work well, at least for my test case.

Server side it is pretty standard.  Client side I run the twisted
reactor in a separate (non-main) thread, and use threading.Event()
objects placed into a 'pass through' callback to emulate blocking
until the required deferred has its result.

I have attached a simple server and client, with callback
functionality illustrated.

I have not really looked into the thread safety issues yet, but have
been looking into reactor.callFromThread and whether it is required
here.

If the entire approach is inherently broken for some reason, I'd like
to know so I can look at alternatives.

Cheers,

Rasjid.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: simple-client.py
Type: text/x-python
Size: 2376 bytes
Desc: not available
Url : <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20070904/b0f57998/attachment.py">http://twistedmatrix.com/pipermail/twisted-python/attachments/20070904/b0f57998/attachment.py</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: simple-server.py
Type: text/x-python
Size: 1228 bytes
Desc: not available
Url : <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20070904/b0f57998/attachment-0001.py">http://twistedmatrix.com/pipermail/twisted-python/attachments/20070904/b0f57998/attachment-0001.py</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016004.html">[Twisted-Python] twistd doesn't work
</A></li>
	<LI>Next message: <A HREF="015966.html">[Twisted-Python] Wrapping a Perspective Broker remote object	with a blocking API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15960">[ date ]</a>
              <a href="thread.html#15960">[ thread ]</a>
              <a href="subject.html#15960">[ subject ]</a>
              <a href="author.html#15960">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
