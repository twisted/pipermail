<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Properly handling Connection Refused
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Properly%20handling%20Connection%20Refused&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015999.html">
   <LINK REL="Next"  HREF="015982.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Properly handling Connection Refused</H1>
    <B>Beau Hargis</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Properly%20handling%20Connection%20Refused&In-Reply-To="
       TITLE="[Twisted-Python] Properly handling Connection Refused">beau at subobscur.us
       </A><BR>
    <I>Wed Sep  5 15:24:35 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="015999.html">[Twisted-Python] Wrapping a Perspective
</A></li>
        <LI>Next message: <A HREF="015982.html">[Twisted-Python] Properly handling Connection Refused
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15981">[ date ]</a>
              <a href="thread.html#15981">[ thread ]</a>
              <a href="subject.html#15981">[ subject ]</a>
              <a href="author.html#15981">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have this application built in twisted that is pretty robust save for one thing. The server reconnects when it falters or fails for any reason EXCEPT a refused connection, which happens when connecting to services on the Windows servers we have where particular services have not yet been started, which is normal. Every other failure is handled gracefully, including the database disappearing suddenly. I print out the reason in the log and I get this error: 

[Uninitialized]  Reason:  [Failure instance: Traceback (failure with no frames): &lt;class 'twisted.internet.error.ConnectionRefusedError'&gt;: Connection was refused by other side: 111: Connection refused.
[Uninitialized] ]
[Uninitialized] Stopping factory &lt;SomeFactory instance at 0x88b77ac&gt;

And the whole thing stops processing and does not restart the connection.

I am running on Ubuntu 7.04 with the twisted packages therein: python-twisted 2.5.0-0ubuntu3

Is this a bug that others have seen? Should I use the tarball from twisted Matrix or use the gutsy packages?




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015999.html">[Twisted-Python] Wrapping a Perspective
</A></li>
	<LI>Next message: <A HREF="015982.html">[Twisted-Python] Properly handling Connection Refused
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15981">[ date ]</a>
              <a href="thread.html#15981">[ thread ]</a>
              <a href="subject.html#15981">[ subject ]</a>
              <a href="author.html#15981">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
