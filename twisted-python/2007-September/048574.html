<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Can a deferred catch a segmentation fault?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Can%20a%20deferred%20catch%20a%20segmentation%20fault%3F&In-Reply-To=%3C20070920162831.8162.422442884.divmod.quotient.11901%40ohm%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="048573.html">
   <LINK REL="Next"  HREF="048575.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Can a deferred catch a segmentation fault?</H1>
    <B>Jean-Paul Calderone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Can%20a%20deferred%20catch%20a%20segmentation%20fault%3F&In-Reply-To=%3C20070920162831.8162.422442884.divmod.quotient.11901%40ohm%3E"
       TITLE="[Twisted-Python] Can a deferred catch a segmentation fault?">exarkun at divmod.com
       </A><BR>
    <I>Thu Sep 20 10:28:31 MDT 2007</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="048573.html">[Twisted-Python] Can a deferred catch a segmentation fault?
</A></li>
        <LI>Next message (by thread): <A HREF="048575.html">AW: Re: [Twisted-Python] Can a deferred catch a segmentation fault ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48574">[ date ]</a>
              <a href="thread.html#48574">[ thread ]</a>
              <a href="subject.html#48574">[ subject ]</a>
              <a href="author.html#48574">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 20 Sep 2007 09:14:11 -0700, &quot;Gerald John M. Manipon&quot; &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">geraldjohn.m.manipon at jpl.nasa.gov</A>&gt; wrote:
&gt;<i>Hi,
</I>&gt;<i>
</I>&gt;<i>I'm using deferToThread to run some python code which may or may not
</I>&gt;<i>be safe.  In particular, the code may load some modules that could
</I>&gt;<i>seg fault.  In this case, deferToThread won't work and the python
</I>&gt;<i>process will bomb so I was wondering what Defer strategy I could
</I>&gt;<i>use to handle this situation:
</I>
Deferreds don't do anything which will directly help in this situation.
If your process receives a signal for which the action is to exit, then
it will exit.  If you want, you can change the action associated with
certain signals (even SIGSEGV).  What action you *do* cause to happen
in such a case is independent of Deferreds.  You could, conceivably,
turn a segfault into an exception and then errback a Deferred.  However,
I wouldn't actually recommend this.  I would recommend not using software
which segfaults, fixing segfault bugs you find in software you are
using, and having comprehensive unit tests so that if something is
going to segfault, it does so during the course of development, not
on whatever server or client machines your software is deployed to.

Jean-Paul


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="048573.html">[Twisted-Python] Can a deferred catch a segmentation fault?
</A></li>
	<LI>Next message (by thread): <A HREF="048575.html">AW: Re: [Twisted-Python] Can a deferred catch a segmentation fault ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48574">[ date ]</a>
              <a href="thread.html#48574">[ thread ]</a>
              <a href="subject.html#48574">[ subject ]</a>
              <a href="author.html#48574">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
