<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Wrapping a Perspective
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Wrapping%20a%20Perspective&In-Reply-To=%3Cbf82ea70709051910p7fcfb579p8abb51acc242268f%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="048488.html">
   <LINK REL="Next"  HREF="048498.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Wrapping a Perspective</H1>
    <B>Rasjid Wilcox</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Wrapping%20a%20Perspective&In-Reply-To=%3Cbf82ea70709051910p7fcfb579p8abb51acc242268f%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Wrapping a Perspective">rasjidw at gmail.com
       </A><BR>
    <I>Wed Sep  5 20:10:39 MDT 2007</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="048488.html">[Twisted-Python] Wrapping a Perspective
</A></li>
        <LI>Next message (by thread): <A HREF="048498.html">[Twisted-Python] Wrapping a Perspective
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48495">[ date ]</a>
              <a href="thread.html#48495">[ thread ]</a>
              <a href="subject.html#48495">[ subject ]</a>
              <a href="author.html#48495">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 9/6/07, Andrew Francis &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">andrewfr_ice at yahoo.com</A>&gt; wrote:
&gt;<i> If you are willing to use Stackless Python, I would
</I>&gt;<i> recommend you use Christopher Armstrong's
</I>&gt;<i> threadlesss.py blockOn function. This would allow
</I>&gt;<i> Twisted calls to block. A few months ago, I posted a
</I>&gt;<i> solution that would work, but it would be overkill.
</I>
I have read about Stackless, and it looks like it would be really fun
to play with.  But I don't think my employer would be keen to go as
'fringe' as Stackless.

&gt;<i> I am also curious why you can't use inline callbacks?
</I>
I've only been playing with Twisted seriously for a couple of weeks,
but as far as I understand inline callbacks, they just make the code
'look' synchronous, but the end result is still a deferred.  In my
playing with them, they make twisted code much more succinct and
generally easier to read, but it is all still really just deferreds
underneath and there is no actual blocking going on.

I want to have my python code being called from an external process
via COM, and the external process will expect to be calling a class
method that will do something (blocking as long as required) and then
return the result. Rewriting the external app to deal with everything
being async is not an option.

I'd love to be shown that I'm wrong on this, but can't see how inline
callbacks solve my problem.

&gt;<i> &gt; So my question really is:
</I>&gt;<i> &gt; What are the problems / brawbacks with running the
</I>&gt;<i> &gt; twisted reactor in
</I>&gt;<i> &gt; a non-main thread, provided all calls to the reactor
</I>&gt;<i> &gt; are done through
</I>&gt;<i> &gt; twisted.internet.blockingCallFromThread?
</I>&gt;<i>
</I>&gt;<i> I have used threads with Twisted and Stackless and
</I>&gt;<i> found I took a performance hit. Also I found it
</I>&gt;<i> prudent to heed the advice and try not to mix threads
</I>&gt;<i> with Twisted (or Stackless)
</I>
The other option I have thought about is using the Python processing
module (<A HREF="http://pypi.python.org/pypi/processing">http://pypi.python.org/pypi/processing</A>), which would have the
com server and the twisted client each in their own python process
(and thus Twisted would then be single threaded), although it is
unclear to me if this is making the situation better or worse in
reality.

Cheers,

Rasjid.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="048488.html">[Twisted-Python] Wrapping a Perspective
</A></li>
	<LI>Next message (by thread): <A HREF="048498.html">[Twisted-Python] Wrapping a Perspective
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48495">[ date ]</a>
              <a href="thread.html#48495">[ thread ]</a>
              <a href="subject.html#48495">[ subject ]</a>
              <a href="author.html#48495">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
