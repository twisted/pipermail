<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Need help pulling things together.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Need%20help%20pulling%20things%20together.&In-Reply-To=e64b001e0705221232v70ce16d8x8c03970c4937dc56%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015418.html">
   <LINK REL="Next"  HREF="015428.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Need help pulling things together.</H1>
    <B>Matt Hubbard</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Need%20help%20pulling%20things%20together.&In-Reply-To=e64b001e0705221232v70ce16d8x8c03970c4937dc56%40mail.gmail.com"
       TITLE="[Twisted-Python] Need help pulling things together.">m.hubbard at imperial.ac.uk
       </A><BR>
    <I>Fri May 25 07:19:35 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="015418.html">[Twisted-Python] Need help pulling things together.
</A></li>
        <LI>Next message: <A HREF="015428.html">[Twisted-Python] Need help pulling things together.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15427">[ date ]</a>
              <a href="thread.html#15427">[ thread ]</a>
              <a href="subject.html#15427">[ subject ]</a>
              <a href="author.html#15427">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Brendon Colby wrote:
&gt;<i> With all the different examples I'm having a hard time finding the
</I>&gt;<i> &quot;right&quot; way to write my server using Twisted. I thought I was on to
</I>&gt;<i> something reading through the IRC server protocol, but without a full
</I>&gt;<i> server example I got lost. Do I set up a generic handleCommand() like
</I>&gt;<i> interface and define each command in the protocol class (i.e.
</I>&gt;<i> do_sendMessage) and have callbacks that my User class
</I>&gt;<i> redefines/implements? Or am I on the right path?
</I>&gt;<i> 
</I>&gt;<i> I really appreciate any input on this!
</I>

Hi Brendon,

I'm having a hard time working out what you've got and where you're trying to go.

I think you're asking where you should you place the abstraction between data from lineReceived and executing specific commands based on that data. I shall respond with the caveat that I'm not qualified to speak for the &quot;right twisted way&quot;, but I hope I can be of some assistance.

The first answer that springs to mind for most of your questions is &quot;depends on what you're trying to achieve with your project&quot;.

Where to place an abstraction layer is something that I often end up hitting my head against, and generally I've found this to be time-wasting vacillation.

I'd honestly recommend you get on and code your management of users and of areas and worry about the abstraction layer later. Sitting around postulating doesn't get any code written and re-factoring small projects doesn't take that long.


If it were me and I was writing a telnet-based chat server, I would probably separate chat messages from commands and make this distinction in the protocol. I'd handle command interpretation in the User class.

class ChatProtocol......
    def lineReceived(self,line):
        if line[0] == '/':
            self.user.cmdReceived(line[1:])
        else:
            self.user.msgReceived(line)


I hope this helps. Please point out if I've entirely misinterpreted your question.

Cheers,
Matt.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015418.html">[Twisted-Python] Need help pulling things together.
</A></li>
	<LI>Next message: <A HREF="015428.html">[Twisted-Python] Need help pulling things together.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15427">[ date ]</a>
              <a href="thread.html#15427">[ thread ]</a>
              <a href="subject.html#15427">[ subject ]</a>
              <a href="author.html#15427">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
