<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Twisted Memory Leaks &amp; Epoll
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Twisted%20Memory%20Leaks%20%26%20Epoll&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="015317.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Twisted Memory Leaks &amp; Epoll</H1>
    <B>Matthew Glubb</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Twisted%20Memory%20Leaks%20%26%20Epoll&In-Reply-To="
       TITLE="[Twisted-Python] Twisted Memory Leaks &amp; Epoll">matt at zgroupplc.com
       </A><BR>
    <I>Tue May  1 09:06:43 EDT 2007</I>
    <P><UL>
        
        <LI>Next message: <A HREF="015317.html">[Twisted-Python] Twisted Memory Leaks &amp; Epoll
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15316">[ date ]</a>
              <a href="thread.html#15316">[ thread ]</a>
              <a href="subject.html#15316">[ subject ]</a>
              <a href="author.html#15316">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Dear All,

I have been benchmarking my twistd application (twisted.web.server)  
and I am seeing increasing memory usage that is never freed. Before I  
delve into GC and valgrind, I am interested in learning whether there  
are any fundamental no-nos under twisted that might result in a leak.  
I am relatively new to twisted and its entirely possible that I am  
doing something wrong.

I am also interested in learning what the stability of the epoll  
reactor is. I have come across a few (old) posts that pointed to it  
being incomplete. Would the epoll reactor be a possible cause of a  
memory leak? Leak aside, I have benchmarked my app up to 5000  
simultaneous connections with no obvious drop in performance.  
Switching to poll produces *terrible* results.

For the purposes of diagnosing the cause of the leak (C extension,  
python, twisted, or my code) I have removed external library  
dependencies and I have also swapped out reactors. The leak persists.

Does anyone have any good tips for diagnosing leaks under twisted?  
For what its worth, I am conducting my tests under an AMD 64bit  
architecture.

Regards,


Matt


m a t t h e w   g l u b b

________________________________________________________________________
Z Group PLC

Tel: +44 (0) 8700 111 173
Fax: +44 (0) 8707 051 393
Txt: +44 (0) 7800 140 877
Web: &lt;<A HREF="http://www.zgroupplc.com/">http://www.zgroupplc.com/</A>&gt;

This  email  and  any  files  transmitted  with it are  confidential and
intended solely for the use of the individual or entity to whom they are
addressed.  The opinions  expressed in this mail are those of the author
and do not necessarily  represent the views of the company.  If you have
received this email in error please notify &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">service at zgroupplc.com</A>&gt;



-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.1 (Darwin)

iD8DBQFGNztmyI6MkdKPngkRAnW5AJ9D8Lx2BN3Ds8BL33TL1TS1QnK1pgCgk2X5
2HVOxP93ZJCWWLQ7Tver3wE=
=1nnG
-----END PGP SIGNATURE-----


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="015317.html">[Twisted-Python] Twisted Memory Leaks &amp; Epoll
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15316">[ date ]</a>
              <a href="thread.html#15316">[ thread ]</a>
              <a href="subject.html#15316">[ subject ]</a>
              <a href="author.html#15316">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
