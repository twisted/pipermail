<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: Improving spawnProcess and friends
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20Improving%20spawnProcess%20and%20friends&In-Reply-To=878xmknklm.fsf%40aka.i.naked.iki.fi">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013699.html">
   <LINK REL="Next"  HREF="013701.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: Improving spawnProcess and friends</H1>
    <B>Jean-Paul Calderone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20Improving%20spawnProcess%20and%20friends&In-Reply-To=878xmknklm.fsf%40aka.i.naked.iki.fi"
       TITLE="[Twisted-Python] Re: Improving spawnProcess and friends">exarkun at divmod.com
       </A><BR>
    <I>Sun Jul 23 22:01:38 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="013699.html">[Twisted-Python] Re: Improving spawnProcess and friends
</A></li>
        <LI>Next message: <A HREF="013701.html">[Twisted-Python] Re: Improving spawnProcess and friends
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13700">[ date ]</a>
              <a href="thread.html#13700">[ thread ]</a>
              <a href="subject.html#13700">[ subject ]</a>
              <a href="author.html#13700">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, 23 Jul 2006 23:15:49 +0300, Nuutti Kotivuori &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">naked at iki.fi</A>&gt; wrote:
&gt;<i>Itamar Shtull-Trauring wrote:
</I>&gt;&gt;<i> On Sat, 2006-07-22 at 18:44 +0300, Nuutti Kotivuori wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ... adding factory object to process spawning ...
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> How does this sound? If nobody yells murder, I'll be starting to build
</I>&gt;&gt;&gt;<i> a rudimentary implementation of this to see how the API would
</I>&gt;&gt;&gt;<i> naturally turn out to be and then submit it here for review.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Seems... over-engineered. I'm not sure adding a whole new object is the
</I>&gt;&gt;<i> way to go on this.
</I>&gt;<i>
</I>&gt;<i>A valid concern, it did cross my mind as well. However, I have yet to
</I>&gt;<i>think of a better way to achieve all the features that are wished
</I>&gt;<i>for. Any suggestions?
</I>&gt;<i>
</I>&gt;<i>Anyway, I have implemented some of the changes already. The patch is
</I>&gt;<i>again attached to the issue. Everything is still subject to change,
</I>&gt;<i>however. But, this is how setting up a process would look like at the
</I>&gt;<i>moment:
</I>&gt;<i>
</I>&gt;<i>  class MyProcessProtocolFactory(process.ProcessProtocolFactory):
</I>&gt;<i>      def processSetup(self, proc):
</I>&gt;<i>           proc.addHelper(SetuidHelper(1000, 1000))
</I>&gt;<i>           proc.addHelper(ChdirHelper('/tmp'))
</I>&gt;<i>           proc.addHelper(PTY('pty', [0, 1]))
</I>&gt;<i>           proc.addHelper(PassthroughFD(sys.stderr.fileno(), [2]))
</I>&gt;<i>           proc.addHelper(WritePipe('passphrase', [3]))
</I>
I think this probably isn't the best API.

Jean-Paul


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013699.html">[Twisted-Python] Re: Improving spawnProcess and friends
</A></li>
	<LI>Next message: <A HREF="013701.html">[Twisted-Python] Re: Improving spawnProcess and friends
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13700">[ date ]</a>
              <a href="thread.html#13700">[ thread ]</a>
              <a href="subject.html#13700">[ subject ]</a>
              <a href="author.html#13700">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
