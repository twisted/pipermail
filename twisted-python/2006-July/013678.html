<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Distributing calls over a time period
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Distributing%20calls%20over%20a%20time%20period&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013677.html">
   <LINK REL="Next"  HREF="013679.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Distributing calls over a time period</H1>
    <B>Mike Meyer</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Distributing%20calls%20over%20a%20time%20period&In-Reply-To="
       TITLE="[Twisted-Python] Distributing calls over a time period">mwm-keyword-twisted.c54178 at mired.org
       </A><BR>
    <I>Tue Jul 18 10:12:10 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="013677.html">[Twisted-Python] PB error
</A></li>
        <LI>Next message: <A HREF="013679.html">[Twisted-Python] Distributing calls over a time period
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13678">[ date ]</a>
              <a href="thread.html#13678">[ thread ]</a>
              <a href="subject.html#13678">[ subject ]</a>
              <a href="author.html#13678">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm writing a capacity test tool for a client's web server. The idea
is to measure count how many requests exceed the spec'ed response time
under various loads, where load is specified as &quot;M requests in N
secs&quot;. So I need to generate those M requests spaced relatively evenly
over N seconds, record the start time, and get a reasonably accurate
idea of when each requests ends.

I'm assuming that twisted callbacks will take care of the latter, and
don't have any reason to dobut that. However, the former has turned
out to be harder than I expected. I need to start the requests with
the reactor running so that previous requests will be handled
properly. The obvious solution - task.LoopingCall - isn't precise
enough, taking up to 33% more time than I'd alloted. The second
attempt - a loop using reactor.callLater with a delay based on the
requests and time left. That does slightly better, but only slightly.

Is there some other method that I might use for this? Or is twisted
the wrong tool entirely.

	Thanx,
	&lt;mike
-- 
Mike Meyer &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">mwm at mired.org</A>&gt;		<A HREF="http://www.mired.org/consulting.html">http://www.mired.org/consulting.html</A>
Independent Network/Unix/Perforce consultant, email for more information.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013677.html">[Twisted-Python] PB error
</A></li>
	<LI>Next message: <A HREF="013679.html">[Twisted-Python] Distributing calls over a time period
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13678">[ date ]</a>
              <a href="thread.html#13678">[ thread ]</a>
              <a href="subject.html#13678">[ subject ]</a>
              <a href="author.html#13678">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
