<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Proposal: changes to reactor.clientTCP
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Proposal%3A%20changes%20to%20reactor.clientTCP&In-Reply-To=20020618.193846.127653974.glyph%40twistedmatrix.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001232.html">
   <LINK REL="Next"  HREF="001243.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Proposal: changes to reactor.clientTCP</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Proposal%3A%20changes%20to%20reactor.clientTCP&In-Reply-To=20020618.193846.127653974.glyph%40twistedmatrix.com"
       TITLE="[Twisted-Python] Proposal: changes to reactor.clientTCP">glyph at twistedmatrix.com
       </A><BR>
    <I>Wed Jun 19 00:48:47 EDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="001232.html">[Twisted-Python] Proposal: changes to reactor.clientTCP
</A></li>
        <LI>Next message: <A HREF="001243.html">[Twisted-Python] Proposal: changes to reactor.clientTCP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1233">[ date ]</a>
              <a href="thread.html#1233">[ thread ]</a>
              <a href="subject.html#1233">[ subject ]</a>
              <a href="author.html#1233">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>From: Glyph Lefkowitz &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A>&gt;
Subject: Re: [Twisted-Python] Proposal: changes to reactor.clientTCP
Date: Tue, 18 Jun 2002 19:38:46 -0500 (CDT)

&gt;<i> From: Tommi Virtanen &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">tv at twistedmatrix.com</A>&gt;
</I>&gt;<i> Subject: Re: [Twisted-Python] Proposal: changes to reactor.clientTCP
</I>&gt;<i> Date: 18 Jun 2002 21:12:52 +0300
</I>
&gt;<i> &gt; 	Please do not clobber the information given by the
</I>&gt;<i> &gt;         kernel in errno. Translating errno to 2 different failures
</I>&gt;<i> &gt;         is not nice.
</I>
&gt;<i> It needs to be clobbered, at least in some sense, for portability.
</I>&gt;<i> 
</I>&gt;<i> Jython does not have errno and win32's support for it is very weak.
</I>
Reading this a few hours later, I think my tone was wrong and I was altogether
too brief here. :-).  To rephrase in a more constructive manner:

I believe that it needs to be clobbered, and some information lost, because I
don't see any other way to retain portability.  Also, we're losing information
already, since errno is used to report things that aren't &quot;errors&quot; in the
Twisted worldview (or at least, not errors that the user can deal with
directly).  Jython and win32 both have error-reporting mechanisms; Jython's is
exceptions, win32 is a sort of wacked-out informal errno.  Can you think of a
few primitive errors that we should support, rather than just the 2 types?
(I'd rather use Failure than just integer error codes, personally.)

I think that if we're going to add a new error reporting mechanism we need to
do it carefully so that we don't miss the same kind of information that we did
the last time we architected this API.  (Protocol.connectionLost used to take
an integer error code which was one of these two errors; that was a bad idea,
too).

Thanks for your feedback.  Does anybody have a solution?

-- 
 |    &lt;`'&gt;    |  Glyph Lefkowitz: Traveling Sorcerer   |
 |   &lt; _/ &gt;   |  Lead Developer,  the Twisted project  |
 |  &lt; ___/ &gt;  |      <A HREF="http://www.twistedmatrix.com">http://www.twistedmatrix.com</A>      |
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20020618/12fe95f8/attachment.pgp">http://twistedmatrix.com/pipermail/twisted-python/attachments/20020618/12fe95f8/attachment.pgp</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001232.html">[Twisted-Python] Proposal: changes to reactor.clientTCP
</A></li>
	<LI>Next message: <A HREF="001243.html">[Twisted-Python] Proposal: changes to reactor.clientTCP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1233">[ date ]</a>
              <a href="thread.html#1233">[ thread ]</a>
              <a href="subject.html#1233">[ subject ]</a>
              <a href="author.html#1233">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
