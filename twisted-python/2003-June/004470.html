<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Hep and Twisted (Was: Twisted-webserver hangs when serving big files)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Hep%20and%20Twisted%20%28Was%3A%20Twisted-webserver%20hangs%20when%20serving%20big%0A%20files%29&In-Reply-To=6F32DD2A-9969-11D7-804E-000393C9700E%40twistedmatrix.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004452.html">
   <LINK REL="Next"  HREF="004472.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Hep and Twisted (Was: Twisted-webserver hangs when serving big files)</H1>
    <B>Abe Fettig</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Hep%20and%20Twisted%20%28Was%3A%20Twisted-webserver%20hangs%20when%20serving%20big%0A%20files%29&In-Reply-To=6F32DD2A-9969-11D7-804E-000393C9700E%40twistedmatrix.com"
       TITLE="[Twisted-Python] Hep and Twisted (Was: Twisted-webserver hangs when serving big files)">abe at fettig.net
       </A><BR>
    <I>Mon Jun  9 13:35:56 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="004452.html">[Twisted-Python] Twisted-webserver hangs when serving big files
</A></li>
        <LI>Next message: <A HREF="004472.html">[Twisted-Python] Hep and Twisted (Was: Twisted-webserver hangs when serving big files)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4470">[ date ]</a>
              <a href="thread.html#4470">[ thread ]</a>
              <a href="subject.html#4470">[ subject ]</a>
              <a href="author.html#4470">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, 2003-06-08 at 00:26, Glyph Lefkowitz wrote:
&gt;<i> On Saturday, June 7, 2003, at 09:25 PM, Abe Fettig wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; [look of horror on my face]
</I>&gt;<i> 
</I>&gt;<i> You and me both :)
</I>&gt;<i> 
</I>&gt;<i> &gt; The web code in Hep 0.3.2 was crudely ported to Twisted from existing
</I>&gt;<i> &gt; asyncore-based code.  It should _not_ be viewed as an example of good
</I>&gt;<i> &gt; Twisted practices.  And, for that matter, neither should the web code 
</I>&gt;<i> &gt; in
</I>&gt;<i> &gt; Hep CVS :-).
</I>&gt;<i> 
</I>&gt;<i> We're always around, here and on IRC, if you need help to get things 
</I>&gt;<i> better in-sync with Twisted &quot;best practices&quot;.
</I>&gt;<i> 
</I>&gt;<i> Hep is a pretty interesting project, so it will likely attract this 
</I>&gt;<i> kind of attention in the future as well.  We both have an interest in 
</I>&gt;<i> seeing it more in-sync with the overall Twisted vibe, I think.
</I>
Agreed.  When I first started moving Hep to Twisted I hadn't yet come to
terms with the &quot;framework, not a library&quot; philosophy, and I didn't use
much beyond t.i.protocols.  But now I'm comfortable enough with Twisted
that I'm willing to make Hep a full-blown Twisted Application, and do
things the Twisted Way whenever possible.

That said, here are the areas that I know of where Hep doesn't do things
the Twisted way, and my thoughts on how to fix it.  Comments and
suggestions are welcome.

* The application: Hep should be a .tap-able twisted plugin.  At the
moment it's not.  This is assuming that it's possible to create a plugin
that combines multiple kinds of servers (http, pop3, imap, etc) into a
single application.  Also I believe that if I was using a twisted
Application object there would be some kind of official Twisted way to
share objects between my different servers.  It's been a while since I
read the plugin docs.  I'll do so soon.

* The web server: The current code is Hep CVS is an excellent example of
what happens when you write Twisted.web code without understanding how
Resources work.  Please refrain from commenting on just how bad it is - 
I started rewriting the web interface in Woven this weekend, so this
should be fixed soon :-)

* Users and authentication:  I have a vague idea that I should be using
Perspectives and/or Cred for authenticating users and accessing user
data.  Currently each server in Hep does the work of authentication and
setting up user access.  It would be nice to have this centralized, so
you could (for example) see which users are currently connected to Hep.

* The SMTP server: Currently going through a rewrite in CVS.  I need to
set up code to manage the outgoing message queue, and keep track of
which messages have been delivered to which locations.  Is there code in
twisted.mail to do this? (Keep in mind some messages are being delivered
to blogs and other non-SMTP locations)

I think that just about covers it... Thoughts?

Abe



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004452.html">[Twisted-Python] Twisted-webserver hangs when serving big files
</A></li>
	<LI>Next message: <A HREF="004472.html">[Twisted-Python] Hep and Twisted (Was: Twisted-webserver hangs when serving big files)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4470">[ date ]</a>
              <a href="thread.html#4470">[ thread ]</a>
              <a href="subject.html#4470">[ subject ]</a>
              <a href="author.html#4470">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
