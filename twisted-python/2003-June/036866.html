<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] ReverseProxy doesn't send X-Forwarded-For header
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20ReverseProxy%20doesn%27t%20send%20X-Forwarded-For%20header&In-Reply-To=%3C71041B2C80BFDE4493468955AFAC59DB111461%40chi03-mail.usambiron.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="036864.html">
   <LINK REL="Next"  HREF="036867.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] ReverseProxy doesn't send X-Forwarded-For header</H1>
    <B>Lance Kurisaki</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20ReverseProxy%20doesn%27t%20send%20X-Forwarded-For%20header&In-Reply-To=%3C71041B2C80BFDE4493468955AFAC59DB111461%40chi03-mail.usambiron.net%3E"
       TITLE="[Twisted-Python] ReverseProxy doesn't send X-Forwarded-For header">lkurisaki at ambiron.net
       </A><BR>
    <I>Mon Jun  2 23:08:33 MDT 2003</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="036864.html">[Twisted-Python] ReverseProxy doesn't send X-Forwarded-For header
</A></li>
        <LI>Next message (by thread): <A HREF="036867.html">[Twisted-Python] ReverseProxy doesn't send X-Forwarded-For header
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36866">[ date ]</a>
              <a href="thread.html#36866">[ thread ]</a>
              <a href="subject.html#36866">[ subject ]</a>
              <a href="author.html#36866">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I understand your reasons and agree. My only reservation is that if
someone wants to send the header, it's not immediately obvious (wasn't
to me, anyway) what the proper line of code is and where it should go.
It took me a while to figure it out.

Perhaps if we make it dependent on an instance attribute, such as
&quot;sendXForwardedFor&quot;, which is by default set to 0?

I have no problem if you decide to leave it out entirely, though...

					Lance

-----Original Message-----
From: Moshe Zadka [mailto:<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">m at moshez.org</A>] 
Sent: Monday, June 02, 2003 9:48 PM
To: <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>
Subject: Re: [Twisted-Python] ReverseProxy doesn't send X-Forwarded-For
header


On Mon, 2 Jun 2003, Itamar Shtull-Trauring &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">itamar at itamarst.org</A>&gt; wrote:

&gt;<i> Done. Thanks!
</I>
I have reverted this patch, for the following reasons:

1. It removes functionality: there is no way for subclasses to avoid
sending
   this header, while it is easy, the way the code is now, for a
subclass
   to add this header if it so wishes.

2. It divulges private information (the client's IP) to possibly hostile
   parties.

If you really want this, just do it in a custom subclass.
 
-- 
Moshe Zadka -- <A HREF="http://moshez.org/">http://moshez.org/</A>
Buffy: I don't like you hanging out with someone that... short.
Riley: Yeah, a lot of young people nowadays are experimenting with
shortness.
Agile Programming Language -- <A HREF="http://www.python.org/">http://www.python.org/</A>

_______________________________________________
Twisted-Python mailing list
<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="036864.html">[Twisted-Python] ReverseProxy doesn't send X-Forwarded-For header
</A></li>
	<LI>Next message (by thread): <A HREF="036867.html">[Twisted-Python] ReverseProxy doesn't send X-Forwarded-For header
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36866">[ date ]</a>
              <a href="thread.html#36866">[ thread ]</a>
              <a href="subject.html#36866">[ subject ]</a>
              <a href="author.html#36866">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
