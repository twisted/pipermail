<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] xmlrpc ExpatError
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20xmlrpc%20ExpatError&In-Reply-To=20030618142856.40933366F2%40www.fastmail.fm">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004603.html">
   <LINK REL="Next"  HREF="004605.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] xmlrpc ExpatError</H1>
    <B>Justin Johnson</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20xmlrpc%20ExpatError&In-Reply-To=20030618142856.40933366F2%40www.fastmail.fm"
       TITLE="[Twisted-Python] xmlrpc ExpatError">justinjohnson at fastmail.fm
       </A><BR>
    <I>Wed Jun 18 11:03:46 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="004603.html">[Twisted-Python] xmlrpc ExpatError
</A></li>
        <LI>Next message: <A HREF="004605.html">[Twisted-Python] xmlrpc ExpatError
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4604">[ date ]</a>
              <a href="thread.html#4604">[ thread ]</a>
              <a href="subject.html#4604">[ subject ]</a>
              <a href="author.html#4604">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I changed printError to...

def printError(error):
	print error
	print error.getErrorMessage()
	error.printDetailedTraceback()
	reactor.stop()

and got the following...

[Failure instance: Traceback: twisted.internet.error.ConnectionLost,
]

*--- Failure #4 ---
--- &lt;exception caught here&gt; ---
*--- End of Failure #4 ---

Not sure if this helps any.

On Wed, 18 Jun 2003 08:28:56 -0600, &quot;Justin Johnson&quot;
&lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">justinjohnson at fastmail.fm</A>&gt; said:
&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> I have an xmlrpc server using twisted.web.xmlrpc.XMLRPC.  I have been
</I>&gt;<i> able to contect to it fine using just python's xmlrpclib on the client,
</I>&gt;<i> and am now switching over to use twisted on the client as well.  I'm
</I>&gt;<i> getting a wierd error though that I'm not sure how to track down.  Below
</I>&gt;<i> is are snippets of my client code, server code, and the error I'm
</I>&gt;<i> getting.
</I>&gt;<i> 
</I>&gt;<i> Any help you can provide is appreciated.
</I>&gt;<i> -Justin
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> [client]
</I>&gt;<i> def connectToServer(server):
</I>&gt;<i> 	s = Proxy('<A HREF="http://%s:%s'">http://%s:%s'</A> % (server, config.portNumber))
</I>&gt;<i> 	return s
</I>&gt;<i> 
</I>&gt;<i> def printValue(output):
</I>&gt;<i> 	print &quot;success&quot;
</I>&gt;<i> 	#print &quot;success: %s&quot; % output
</I>&gt;<i> 	reactor.stop()
</I>&gt;<i> 
</I>&gt;<i> def printError(output):
</I>&gt;<i> 	print &quot;error&quot;
</I>&gt;<i> 	#print &quot;error: %s&quot; % output
</I>&gt;<i> 	reactor.stop()
</I>&gt;<i> 
</I>&gt;<i> # Subcommand: mkvob
</I>&gt;<i> def doMkvob(options):
</I>&gt;<i> 	vobs = options[&quot;vobs&quot;].split(&quot;,&quot;)
</I>&gt;<i> 	original_site = options[&quot;original&quot;]
</I>&gt;<i> 	group = options[&quot;group&quot;]
</I>&gt;<i> 
</I>&gt;<i> 	s = connectToServer(config.siteToServer[original_site])
</I>&gt;<i> 	print &quot;Successfully connected to %s (%s).&quot; % (original_site, config.siteToServer[original_site])
</I>&gt;<i> 	print &quot;Calling remote mkvob ...&quot;
</I>&gt;<i> 
</I>&gt;<i> 	d = s.callRemote('mkvob', vobs, group).addCallbacks(printValue, printError)
</I>&gt;<i> 	reactor.run()
</I>&gt;<i> [/client]
</I>&gt;<i> 
</I>&gt;<i> [server]
</I>&gt;<i> class CCService(xmlrpc.XMLRPC):
</I>&gt;<i> 	&quot;&quot;&quot;Service for handling remote VOB creation, removal, and general
</I>&gt;<i> 	   ClearCase maintenance.
</I>&gt;<i> 	&quot;&quot;&quot;
</I>&gt;<i> 
</I>&gt;<i> 	def xmlrpc_mkvob(self, vobs, group):
</I>&gt;<i> 		&quot;&quot;&quot;Create VOBs and apply standard triggers.
</I>&gt;<i> 		&quot;&quot;&quot;
</I>&gt;<i> 		log(&quot;we're in&quot;)
</I>&gt;<i> 		output = &quot;&quot;
</I>&gt;<i> 		rtn = SUCCESS
</I>&gt;<i> 		for tag in vobs:
</I>&gt;<i> 			log(&quot;Start mkvob for VOB '%s'&quot; % tag)
</I>&gt;<i> 			vob = VOB(tag, group)
</I>&gt;<i> 			try:
</I>&gt;<i> 				output += vob.make()
</I>&gt;<i> 				output += vob.applyTriggers()
</I>&gt;<i> 			except errors.CmdError, e:
</I>&gt;<i> 				rtn = FAILURE
</I>&gt;<i> 				output = e.stdout + e.stderr
</I>&gt;<i> 				log(&quot;Error raised: cmd=%s, status=%s, stdout=%s, stderr=%s&quot; % (e.cmd, e.status, e.stdout, e.stderr))
</I>&gt;<i> 			log(&quot;End mkvob for VOB '%s'&quot; % tag)
</I>&gt;<i> 		return (rtn, output)
</I>&gt;<i> [/server]
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Traceback (most recent call last):
</I>&gt;<i>   File &quot;E:\Python22\Lib\site-packages\twisted\protocols\basic.py&quot;, line
</I>&gt;<i>   173, in
</I>&gt;<i> dataReceived
</I>&gt;<i>     self.lineReceived(line)
</I>&gt;<i>   File &quot;E:\Python22\Lib\site-packages\twisted\protocols\http.py&quot;, line
</I>&gt;<i>   893, in l
</I>&gt;<i> ineReceived
</I>&gt;<i>     self.allContentReceived()
</I>&gt;<i>   File &quot;E:\Python22\Lib\site-packages\twisted\protocols\http.py&quot;, line
</I>&gt;<i>   932, in a
</I>&gt;<i> llContentReceived
</I>&gt;<i>     req.requestReceived(command, path, version)
</I>&gt;<i>   File &quot;E:\Python22\Lib\site-packages\twisted\protocols\http.py&quot;, line
</I>&gt;<i>   504, in r
</I>&gt;<i> equestReceived
</I>&gt;<i>     self.process()
</I>&gt;<i> --- &lt;exception caught here&gt; ---
</I>&gt;<i>   File &quot;E:\Python22\Lib\site-packages\twisted\web\server.py&quot;, line 156,
</I>&gt;<i>   in proce
</I>&gt;<i> ss
</I>&gt;<i>     self.render(resrc)
</I>&gt;<i>   File &quot;E:\Python22\Lib\site-packages\twisted\web\server.py&quot;, line 162,
</I>&gt;<i>   in rende
</I>&gt;<i> r
</I>&gt;<i>     body = resrc.render(self)
</I>&gt;<i>   File &quot;E:\Python22\Lib\site-packages\twisted\web\xmlrpc.py&quot;, line 103,
</I>&gt;<i>   in rende
</I>&gt;<i> r
</I>&gt;<i>     args, functionPath = xmlrpclib.loads(request.content.read())
</I>&gt;<i>   File &quot;E:\Python22\lib\xmlrpclib.py&quot;, line 805, in loads
</I>&gt;<i>     p.close()
</I>&gt;<i>   File &quot;E:\Python22\lib\xmlrpclib.py&quot;, line 393, in close
</I>&gt;<i>     self._parser.Parse(&quot;&quot;, 1) # end of data
</I>&gt;<i> xml.parsers.expat.ExpatError: no element found: line 1, column 0
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004603.html">[Twisted-Python] xmlrpc ExpatError
</A></li>
	<LI>Next message: <A HREF="004605.html">[Twisted-Python] xmlrpc ExpatError
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4604">[ date ]</a>
              <a href="thread.html#4604">[ thread ]</a>
              <a href="subject.html#4604">[ subject ]</a>
              <a href="author.html#4604">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
