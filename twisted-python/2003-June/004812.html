<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] map Url to function
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20map%20Url%20to%20function&In-Reply-To=FCEMIEFBFOIDAOJDEPIAGEDDFKAA.domma%40procoders.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004811.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] map Url to function</H1>
    <B>Mario Ruggier</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20map%20Url%20to%20function&In-Reply-To=FCEMIEFBFOIDAOJDEPIAGEDDFKAA.domma%40procoders.net"
       TITLE="[Twisted-Python] map Url to function">mario at ruggier.org
       </A><BR>
    <I>Mon Jun 30 12:21:47 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="004811.html">[Twisted-Python] map Url to function
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4812">[ date ]</a>
              <a href="thread.html#4812">[ thread ]</a>
              <a href="subject.html#4812">[ subject ]</a>
              <a href="author.html#4812">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>You may use getChild() on each child to traverse down the URL path
(and doing whatever you want at each step) or, if as you say you want
to make mainhandler just treat the rest of the url path as parameter
data, then you can declare your resource as a leaf, as below (this
just prints the dict of the request -- in particular look at the values
for path, prepath &amp; postpath). But see also the web howto's.

## reqdict.rpy (mainhandler)

from twisted.web import resource

def prettyDict(name,d):
     s = []
     s.append('&lt;table width=&quot;100%&quot; border=&quot;0&quot;&gt;')
     s.append('&lt;tr&gt;&lt;th align=&quot;left&quot; colspan=&quot;2&quot;&gt;'+name+'&lt;/th&gt;&lt;/tr&gt;')
     for key in d.keys():
         s.append('&lt;tr&gt;')
         s.append('&lt;td width=&quot;25%&quot;&gt;' +key+ 
'&lt;/td&gt;&lt;td&gt;'+str(d[key])+'&lt;/td&gt;')
         s.append('&lt;/tr&gt;')
     s.append('&lt;tr&gt;')
     s.append('&lt;/tr&gt;')
     s.append('&lt;/table&gt;')
     return '\n'.join(s)

class TestResource(resource.Resource):
     isLeaf = 1
     def render(self, request):
         return prettyDict('request', request.__dict__ )

resource = TestResource()
##

Cheers, mario


On lundi, juin 30, 2003, at 17:45 Europe/Amsterdam, Achim Domma 
((ProCoders)) wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I started playing around with twisted.web and want to map the Url to
</I>&gt;<i> function calls with parameters. For example
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://myserver.net/mainhandler/somefkt/parama/paramb">http://myserver.net/mainhandler/somefkt/parama/paramb</A>
</I>&gt;<i>
</I>&gt;<i> should be call some 'mainhandler'. This should be a script which gets
</I>&gt;<i> '/somefkt/parama/paramb' and knows what to do with it. What's the 
</I>&gt;<i> easiest
</I>&gt;<i> way to do this?
</I>&gt;<i>
</I>&gt;<i> regards,
</I>&gt;<i> Achim
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004811.html">[Twisted-Python] map Url to function
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4812">[ date ]</a>
              <a href="thread.html#4812">[ thread ]</a>
              <a href="subject.html#4812">[ subject ]</a>
              <a href="author.html#4812">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
