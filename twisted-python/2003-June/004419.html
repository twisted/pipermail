<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] twisted newbie question about woven and model
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20twisted%20newbie%20question%20about%20woven%20and%20model&In-Reply-To=1054797127.16160.254.camel%40biproc">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004401.html">
   <LINK REL="Next"  HREF="004379.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] twisted newbie question about woven and model</H1>
    <B>Donovan Preston</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20twisted%20newbie%20question%20about%20woven%20and%20model&In-Reply-To=1054797127.16160.254.camel%40biproc"
       TITLE="[Twisted-Python] twisted newbie question about woven and model">dp at twistedmatrix.com
       </A><BR>
    <I>Thu Jun  5 13:16:48 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="004401.html">[Twisted-Python] twisted newbie question about woven and model
</A></li>
        <LI>Next message: <A HREF="004379.html">[Twisted-Python] ReverseProxy does not forward GET URL parameters
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4419">[ date ]</a>
              <a href="thread.html#4419">[ thread ]</a>
              <a href="subject.html#4419">[ subject ]</a>
              <a href="author.html#4419">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Thursday, June 5, 2003, at 12:12 AM, Philippe Lafoucri&#232;re wrote:

&gt;<i> On Wed, 2003-06-04 at 09:43, Philippe Lafoucri&#232;re wrote:
</I>&gt;&gt;<i> Hum
</I>&gt;&gt;<i> I get an exception when I use object/title
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> exceptions.Exception: Node had a model=object/title attribute, but the
</I>&gt;&gt;<i> submodel was not found in [&lt;twisted.web.woven.model.Wrapper instance 
</I>&gt;&gt;<i> at
</I>&gt;&gt;<i> 0x843be3c: wrapped data: &lt;ObjectManager instance at 0x8a24b5c&gt;&gt;].
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> (with model = object)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Someone can help me ?? this still doesn't work !
</I>
Woven needs to know how to request Submodels of a Model object in order 
to work. It does this using objects which conform to the IModel 
protocol. Since no IModel adapter has been registered for your 
ObjectManager class, Woven wraps it in a generic Wrapper. The generic 
Wrapper does not allow submodel access at all, which is why you are 
getting the exception.

There are two solutions to your problem: The first is to make 
ObjectManager a subclass of model.AttributeModel. AttributeModel is an 
implementation of IModel which exposes attributes of an object as 
submodels. This is probably the easiest because all the code is already 
written for you.

The second solution is to write an IModel adapter which exposes 
attributes of the adapted object as submodels. I have never done this 
before, but it seems like a logical thing to do.

Attached are two pieces of code that show each technique.

Hope this helps! dp


-------------- next part --------------
A non-text attachment was scrubbed...
Name: attributeModelSubclass.rpy
Type: application/octet-stream
Size: 351 bytes
Desc: not available
Url : <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20030605/7ed52ecc/attachment.obj">http://twistedmatrix.com/pipermail/twisted-python/attachments/20030605/7ed52ecc/attachment.obj</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: attributeAdapter.rpy
Type: application/octet-stream
Size: 733 bytes
Desc: not available
Url : <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20030605/7ed52ecc/attachment-0001.obj">http://twistedmatrix.com/pipermail/twisted-python/attachments/20030605/7ed52ecc/attachment-0001.obj</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004401.html">[Twisted-Python] twisted newbie question about woven and model
</A></li>
	<LI>Next message: <A HREF="004379.html">[Twisted-Python] ReverseProxy does not forward GET URL parameters
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4419">[ date ]</a>
              <a href="thread.html#4419">[ thread ]</a>
              <a href="subject.html#4419">[ subject ]</a>
              <a href="author.html#4419">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
