<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Allow static.Data to be at the root
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Allow%20static.Data%20to%20be%20at%20the%20root&In-Reply-To=pan.2003.06.21.11.21.27.607014%40smurf.noris.de">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004645.html">
   <LINK REL="Next"  HREF="004647.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Allow static.Data to be at the root</H1>
    <B>Andrew Bennetts</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Allow%20static.Data%20to%20be%20at%20the%20root&In-Reply-To=pan.2003.06.21.11.21.27.607014%40smurf.noris.de"
       TITLE="[Twisted-Python] Allow static.Data to be at the root">andrew-twisted at puzzling.org
       </A><BR>
    <I>Sat Jun 21 11:18:51 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="004645.html">[Twisted-Python] Allow static.Data to be at the root
</A></li>
        <LI>Next message: <A HREF="004647.html">[Twisted-Python] Re: [Twisted-commits] explanation of () for anonymity
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4646">[ date ]</a>
              <a href="thread.html#4646">[ thread ]</a>
              <a href="subject.html#4646">[ subject ]</a>
              <a href="author.html#4646">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, Jun 21, 2003 at 01:21:30PM +0200, Matthias Urlichs wrote:
&gt;<i> Hi, Moshe Zadka wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; On Tue, 13 May 2003, &quot;Matthias Urlichs&quot; &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">smurf at smurf.noris.de</A>&gt; wrote:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;&gt; Here's a small patch to allow a twisted.web.static.Data element at the
</I>&gt;<i> &gt;&gt; root of your web space.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; This detracts functionality, not enhances it.
</I>&gt;<i> &gt; If you really want it, it's better to have a 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; root = resource.Resource()
</I>&gt;<i> &gt; root.putChild('', static.Data('text/plain', 'hello world'))
</I>&gt;<i> 
</I>&gt;<i> ... but it's OK to do essentially the same thing to t.w.static.File?
</I>&gt;<i> 
</I>&gt;<i>   CVS: 2003-06-20 07:09:12
</I>&gt;<i>   Make static.File used as a root resource work as expected when serving a file.
</I>&gt;<i> 
</I>&gt;<i> IMHO: Please do either both, or neither.
</I>
I agree; I made this change to static.File because it worked fine as a root
resource when serving a directory, but not when serving a single file[1],
which seemed inconsistent to me.  As Matthias points out, static.Data should
be consistent with static.File (which of course should be consistent with
itself!).

If someone more familiar with Twisted Web wants to undo that change because
I've misunderstood the way things are meant to work, I won't mind.  In that
case, though, I'd like to see static.File used as root resource to serve a
directory fail, or at least raise a deprecation warning.  I volunteer to
update the using-twistedweb howto to mention this restriction if this is the
way we go.

-Andrew.

[1] Yes, I realise a web server that only serves a single file isn't very
    interesting.  This happened when a colleague at work tried to demostrate
    Twisted Web to another colleague; this behaviour was surprised them (and
    me, although I'm hardly a Twisted Web expert).  A use-case does spring
    to mind, though: a &quot;Sorry, the site is temporarily unavailable due to
    planned maintenance&quot; message that lives on-disk for easy editing -- when
    the maintenance is done, the root resource could be replaced with the
    real site again without restarting the server...



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004645.html">[Twisted-Python] Allow static.Data to be at the root
</A></li>
	<LI>Next message: <A HREF="004647.html">[Twisted-Python] Re: [Twisted-commits] explanation of () for anonymity
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4646">[ date ]</a>
              <a href="thread.html#4646">[ thread ]</a>
              <a href="subject.html#4646">[ subject ]</a>
              <a href="author.html#4646">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
