<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Hep and Twisted (Was: Twisted-webserver hangs	when serving big files)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Hep%20and%20Twisted%20%28Was%3A%20Twisted-webserver%20hangs%0A%09when%20serving%20big%20files%29&In-Reply-To=1055224483.13587.21.camel%40mingus">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004488.html">
   <LINK REL="Next"  HREF="004480.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Hep and Twisted (Was: Twisted-webserver hangs	when serving big files)</H1>
    <B>Moshe Zadka</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Hep%20and%20Twisted%20%28Was%3A%20Twisted-webserver%20hangs%0A%09when%20serving%20big%20files%29&In-Reply-To=1055224483.13587.21.camel%40mingus"
       TITLE="[Twisted-Python] Hep and Twisted (Was: Twisted-webserver hangs	when serving big files)">m at moshez.org
       </A><BR>
    <I>Tue Jun 10 02:48:09 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="004488.html">[Twisted-Python] Hep and Twisted (Was: Twisted-webserver hangs when serving big files)
</A></li>
        <LI>Next message: <A HREF="004480.html">[Twisted-Python] Hep and Twisted (Was: Twisted-webserver hangs when serving big files)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4494">[ date ]</a>
              <a href="thread.html#4494">[ thread ]</a>
              <a href="subject.html#4494">[ subject ]</a>
              <a href="author.html#4494">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10 Jun 2003, Abe Fettig &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">abe at fettig.net</A>&gt; wrote:

&gt;<i> This is a really natural fit for Hep and looks easy as pie to
</I>&gt;<i> implement.  One question, though.  Say I run a server by creating a
</I>&gt;<i> Factory and running application.listenTCP(myFactory, port).  What's the
</I>&gt;<i> preferred way to access services from inside that Factory?
</I>
When the service creates the factory, it can set a .service on the
factory. 

class FooService(app.ApplicationService):

    def makeFactory(self):
        f = protocol.Factory()
        f.service = self
        return f

service = FooService()
application.listenTCP(1000, service.makeFactory())

&gt;<i> The only variable that I think I'd want to maintain in the Application
</I>&gt;<i> is the location of it's data directory.  That way when the app starts it
</I>&gt;<i> knows where to look to find messages, user prefs, etc, and I can ditch
</I>&gt;<i> the hep.ini file.
</I>
That's good.
In fact, .ini files should die, in favour of a service holding that
information. Then, it's easy to configure HEP either via mktap hep,
or manually

% cat hep.tpy
from twisted.internet import app
from hep import service

application = app.Application(&quot;HEP&quot;)
s = service.HEPService(datadir=&quot;blah/blah&quot;)
application.listenTCP(25, s.makeMailFactory())
application.listenTCP(80, s.makeWebFactory())
% twistd -y hep.tpy

[This is written to an assumed HEP API, which probably has nothing
currently to do with the HEP API, and possibly is not the correct
way at all...this is just to give you an idea of what kind of flexibility
is easily available, once you drink the kool-aid]

-- 
Moshe Zadka -- <A HREF="http://moshez.org/">http://moshez.org/</A>
Buffy: I don't like you hanging out with someone that... short.
Riley: Yeah, a lot of young people nowadays are experimenting with shortness.
Agile Programming Language -- <A HREF="http://www.python.org/">http://www.python.org/</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004488.html">[Twisted-Python] Hep and Twisted (Was: Twisted-webserver hangs when serving big files)
</A></li>
	<LI>Next message: <A HREF="004480.html">[Twisted-Python] Hep and Twisted (Was: Twisted-webserver hangs when serving big files)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4494">[ date ]</a>
              <a href="thread.html#4494">[ thread ]</a>
              <a href="subject.html#4494">[ subject ]</a>
              <a href="author.html#4494">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
