<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Hacking imap 
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Hacking%20imap%20&In-Reply-To=%3C200306241128.h5OBSgk12750%40haddock.cd.chalmers.se%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="037197.html">
   <LINK REL="Next"  HREF="037236.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Hacking imap </H1>
    <B>Anders Hammarquist</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Hacking%20imap%20&In-Reply-To=%3C200306241128.h5OBSgk12750%40haddock.cd.chalmers.se%3E"
       TITLE="[Twisted-Python] Hacking imap ">iko at cd.chalmers.se
       </A><BR>
    <I>Tue Jun 24 05:28:41 MDT 2003</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="037197.html">[Twisted-Python] Hacking imap
</A></li>
        <LI>Next message (by thread): <A HREF="037236.html">[Twisted-Python] Hacking imap
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37216">[ date ]</a>
              <a href="thread.html#37216">[ thread ]</a>
              <a href="subject.html#37216">[ subject ]</a>
              <a href="author.html#37216">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>In a message of Tue, 24 Jun 2003 01:23:53 EDT, Jp Calderone writes:
&gt;<i>On Tue, Jun 24, 2003 at 01:38:32AM +0200, Anders Hammarquist wrote:
</I>&gt;<i>  Could you elaborate on &quot;properly handle&quot;?  I am currently making changes
</I>&gt;<i>in this area as well, mainly in the direction of avoiding all the in-memory
</I>&gt;<i>buffering the code currently does.
</I>
Certainly,

There are lots of places where literals aren't handled (I think that
the only place where they are handled is in APPEND, at least from what
my testing show). Anyplace where the syntax allows a string, a literal
is allowed.

The idea is to have the command dispatcher parse the arguments for each
command, and then pass the arguments to the command handling function.
This way, if the argument is a literal or a string, it can be passed as
a file object (but there is no need - for example, if a mailbox name
is given as a literal, there is little reason to give it in a file object).

So instead of naming the handler functions &lt;state&gt;_&lt;COMMAND&gt;, I'll have
&lt;state&gt;_&lt;COMMAND&gt; be a tuple containing ( &lt;handler_function&gt;,
&lt;arg_parser&gt;, &lt;arg_parser&gt;, ...) and then call the handler_function
with the results of the arg_parser functions.

/Anders

-- 
 -- Of course I'm crazy, but that doesn't mean I'm wrong.
Anders Hammarquist                                  | <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">iko at cd.chalmers.se</A>
Physics student, Chalmers University of Technology, | Hem: +46 31 88 48 50
G|teborg, Sweden.           RADIO: SM6XMM and N2JGL | Mob: +46 707 27 86 87


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="037197.html">[Twisted-Python] Hacking imap
</A></li>
	<LI>Next message (by thread): <A HREF="037236.html">[Twisted-Python] Hacking imap
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37216">[ date ]</a>
              <a href="thread.html#37216">[ thread ]</a>
              <a href="subject.html#37216">[ subject ]</a>
              <a href="author.html#37216">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
