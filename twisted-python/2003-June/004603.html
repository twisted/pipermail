<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] xmlrpc ExpatError
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20xmlrpc%20ExpatError&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004582.html">
   <LINK REL="Next"  HREF="004604.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] xmlrpc ExpatError</H1>
    <B>Justin Johnson</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20xmlrpc%20ExpatError&In-Reply-To="
       TITLE="[Twisted-Python] xmlrpc ExpatError">justinjohnson at fastmail.fm
       </A><BR>
    <I>Wed Jun 18 10:28:56 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="004582.html">[Twisted-Python] Getting Rid of Application in a Compatible Way
</A></li>
        <LI>Next message: <A HREF="004604.html">[Twisted-Python] xmlrpc ExpatError
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4603">[ date ]</a>
              <a href="thread.html#4603">[ thread ]</a>
              <a href="subject.html#4603">[ subject ]</a>
              <a href="author.html#4603">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I have an xmlrpc server using twisted.web.xmlrpc.XMLRPC.  I have been
able to contect to it fine using just python's xmlrpclib on the client,
and am now switching over to use twisted on the client as well.  I'm
getting a wierd error though that I'm not sure how to track down.  Below
is are snippets of my client code, server code, and the error I'm
getting.

Any help you can provide is appreciated.
-Justin


[client]
def connectToServer(server):
	s = Proxy('<A HREF="http://%s:%s'">http://%s:%s'</A> % (server, config.portNumber))
	return s

def printValue(output):
	print &quot;success&quot;
	#print &quot;success: %s&quot; % output
	reactor.stop()

def printError(output):
	print &quot;error&quot;
	#print &quot;error: %s&quot; % output
	reactor.stop()

# Subcommand: mkvob
def doMkvob(options):
	vobs = options[&quot;vobs&quot;].split(&quot;,&quot;)
	original_site = options[&quot;original&quot;]
	group = options[&quot;group&quot;]

	s = connectToServer(config.siteToServer[original_site])
	print &quot;Successfully connected to %s (%s).&quot; % (original_site, config.siteToServer[original_site])
	print &quot;Calling remote mkvob ...&quot;

	d = s.callRemote('mkvob', vobs, group).addCallbacks(printValue, printError)
	reactor.run()
[/client]

[server]
class CCService(xmlrpc.XMLRPC):
	&quot;&quot;&quot;Service for handling remote VOB creation, removal, and general
	   ClearCase maintenance.
	&quot;&quot;&quot;

	def xmlrpc_mkvob(self, vobs, group):
		&quot;&quot;&quot;Create VOBs and apply standard triggers.
		&quot;&quot;&quot;
		log(&quot;we're in&quot;)
		output = &quot;&quot;
		rtn = SUCCESS
		for tag in vobs:
			log(&quot;Start mkvob for VOB '%s'&quot; % tag)
			vob = VOB(tag, group)
			try:
				output += vob.make()
				output += vob.applyTriggers()
			except errors.CmdError, e:
				rtn = FAILURE
				output = e.stdout + e.stderr
				log(&quot;Error raised: cmd=%s, status=%s, stdout=%s, stderr=%s&quot; % (e.cmd, e.status, e.stdout, e.stderr))
			log(&quot;End mkvob for VOB '%s'&quot; % tag)
		return (rtn, output)
[/server]


Traceback (most recent call last):
  File &quot;E:\Python22\Lib\site-packages\twisted\protocols\basic.py&quot;, line
  173, in
dataReceived
    self.lineReceived(line)
  File &quot;E:\Python22\Lib\site-packages\twisted\protocols\http.py&quot;, line
  893, in l
ineReceived
    self.allContentReceived()
  File &quot;E:\Python22\Lib\site-packages\twisted\protocols\http.py&quot;, line
  932, in a
llContentReceived
    req.requestReceived(command, path, version)
  File &quot;E:\Python22\Lib\site-packages\twisted\protocols\http.py&quot;, line
  504, in r
equestReceived
    self.process()
--- &lt;exception caught here&gt; ---
  File &quot;E:\Python22\Lib\site-packages\twisted\web\server.py&quot;, line 156,
  in proce
ss
    self.render(resrc)
  File &quot;E:\Python22\Lib\site-packages\twisted\web\server.py&quot;, line 162,
  in rende
r
    body = resrc.render(self)
  File &quot;E:\Python22\Lib\site-packages\twisted\web\xmlrpc.py&quot;, line 103,
  in rende
r
    args, functionPath = xmlrpclib.loads(request.content.read())
  File &quot;E:\Python22\lib\xmlrpclib.py&quot;, line 805, in loads
    p.close()
  File &quot;E:\Python22\lib\xmlrpclib.py&quot;, line 393, in close
    self._parser.Parse(&quot;&quot;, 1) # end of data
xml.parsers.expat.ExpatError: no element found: line 1, column 0


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004582.html">[Twisted-Python] Getting Rid of Application in a Compatible Way
</A></li>
	<LI>Next message: <A HREF="004604.html">[Twisted-Python] xmlrpc ExpatError
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4603">[ date ]</a>
              <a href="thread.html#4603">[ thread ]</a>
              <a href="subject.html#4603">[ subject ]</a>
              <a href="author.html#4603">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
