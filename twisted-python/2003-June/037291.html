<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] flow testThreaded thingy
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20flow%20testThreaded%20thingy&In-Reply-To=%3C3EFC0548.20803%40home.wari.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="037287.html">
   <LINK REL="Next"  HREF="037294.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] flow testThreaded thingy</H1>
    <B>Wari Wahab</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20flow%20testThreaded%20thingy&In-Reply-To=%3C3EFC0548.20803%40home.wari.org%3E"
       TITLE="[Twisted-Python] flow testThreaded thingy">wari at home.wari.org
       </A><BR>
    <I>Fri Jun 27 02:50:16 MDT 2003</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="037287.html">[Twisted-Python] PATCH: doc/howto/flow.py   two typos
</A></li>
        <LI>Next message (by thread): <A HREF="037294.html">[Twisted-Python] flow testThreaded thingy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37291">[ date ]</a>
              <a href="thread.html#37291">[ thread ]</a>
              <a href="subject.html#37291">[ subject ]</a>
              <a href="author.html#37291">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>cce CVS wrote:

&gt;<i>Modified files:
</I>&gt;<i>Twisted/twisted/flow/threads.py 1.3 1.4
</I>&gt;<i>  
</I>&gt;<i>
</I>It seems that flows testing can pass 1% of the time and most of the 
time, it'll stop on testThreaded, as seen in the screen dump below:

    testProtocol 
...                                                       [OK]
    testProtocolLocalhost 
...                                              [OK]
    testThreaded 
...                                                       [OK]
    testThreadedSleep 
...                                                  [OK]
    testThreadedYield 
...                                                  [OK]
    testZip 
...                                                            [OK]
    testZipFailure 
...                                                     [OK]

-------------------------------------------------------------------------------
Ran 26 tests in 2.927s

OK
[<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">wari at sync</A> wari]$ trial -v twisted.test.test_flow
twisted.test.test_flow
  FlowTest
    testBasic 
...                                                          [OK]
[..snip..]
    testProtocolLocalhost 
...                                              [OK]
    testThreaded ...

 From here, I tried doing strace on the process and just got this:
gettimeofday({1056703375, 307699}, NULL) = 0
select(8, [4 7], [], [], {0, 0})        = 0 (Timeout)
gettimeofday({1056703375, 308951}, NULL) = 0
select(8, [4 7], [], [], {0, 0})        = 0 (Timeout)
gettimeofday({1056703375, 310242}, NULL) = 0
select(8, [4 7], [], [], {0, 0})        = 0 (Timeout)
gettimeofday({1056703375, 311093}, NULL) = 0
select(8, [4 7], [], [], {0, 0})        = 0 (Timeout)
gettimeofday({1056703375, 311504}, NULL) = 0
select(8, [4 7], [], [], {0, 0})        = 0 (Timeout)
gettimeofday({1056703375, 312164}, NULL) = 0
select(8, [4 7], [], [], {0, 0})        = 0 (Timeout)
gettimeofday({1056703375, 312646}, NULL) = 0
select(8, [4 7], [], [], {0, 0})        = 0 (Timeout)
gettimeofday({1056703375, 313504}, NULL) = 0
select(8, [4 7], [], [], {0, 0})        = 0 (Timeout)
gettimeofday({1056703375, 313888}, NULL) = 0
select(8, [4 7], [], [], {0, 0} &lt;unfinished ...&gt;
[<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">wari at sync</A> wari]$

Infinitely, of course.. Have not really gone thru the code at all, but 
anyway, my machine specs are the typical ones you get from 
johncompanies.com, Redhat 8.0, python 2.2.1, dual CPU and 2GB of RAM.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="037287.html">[Twisted-Python] PATCH: doc/howto/flow.py   two typos
</A></li>
	<LI>Next message (by thread): <A HREF="037294.html">[Twisted-Python] flow testThreaded thingy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37291">[ date ]</a>
              <a href="thread.html#37291">[ thread ]</a>
              <a href="subject.html#37291">[ subject ]</a>
              <a href="author.html#37291">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
