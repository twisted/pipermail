<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Hacking imap 
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Hacking%20imap%20&In-Reply-To=20030624203038.GB22074%40meson.dyndns.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004728.html">
   <LINK REL="Next"  HREF="004680.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Hacking imap </H1>
    <B>Anders Hammarquist</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Hacking%20imap%20&In-Reply-To=20030624203038.GB22074%40meson.dyndns.org"
       TITLE="[Twisted-Python] Hacking imap ">iko at cd.chalmers.se
       </A><BR>
    <I>Wed Jun 25 17:16:04 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="004728.html">[Twisted-Python] Hacking imap
</A></li>
        <LI>Next message: <A HREF="004680.html">[Twisted-Python] Twisted and NT Services
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4750">[ date ]</a>
              <a href="thread.html#4750">[ thread ]</a>
              <a href="subject.html#4750">[ subject ]</a>
              <a href="author.html#4750">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>In a message of Tue, 24 Jun 2003 16:30:38 EDT, Jp Calderone writes:
&gt;&gt;<i> So instead of naming the handler functions &lt;state&gt;_&lt;COMMAND&gt;, I'll have
</I>&gt;&gt;<i> &lt;state&gt;_&lt;COMMAND&gt; be a tuple containing ( &lt;handler_function&gt;,
</I>&gt;&gt;<i> &lt;arg_parser&gt;, &lt;arg_parser&gt;, ...) and then call the handler_function
</I>&gt;&gt;<i> with the results of the arg_parser functions.
</I>&gt;<i>
</I>&gt;<i>  This sounds like a great approach.  If I could make a request (and maybe
</I>&gt;<i>you were going to do this anway), it would be nice if the arg_parsers could
</I>&gt;<i>work incrementally: this is mostly of use when receiving an actual message,
</I>
That was the idea. Each arg_parser gets (what's left of) the current line,
and if they need more data, they'll have to arrange for reading it.
(Otherwise the easy fix would have been to have lineReceived() read
literals as well. I tried this approach first, but I didn't like it.)

&gt;<i>  Maybe this means &lt;arg_parser&gt; should be a factory that returns a parser,
</I>&gt;<i>so that state can be more easily managed when parsing the full
</I>&gt;<i>list-expression returned with from a fetch command.
</I>
That's a thought. I'll keep it in mind.

/Anders

-- 
 -- Of course I'm crazy, but that doesn't mean I'm wrong.
Anders Hammarquist                                  | <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">iko at cd.chalmers.se</A>
Physics student, Chalmers University of Technology, | Hem: +46 31 88 48 50
G|teborg, Sweden.           RADIO: SM6XMM and N2JGL | Mob: +46 707 27 86 87


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004728.html">[Twisted-Python] Hacking imap
</A></li>
	<LI>Next message: <A HREF="004680.html">[Twisted-Python] Twisted and NT Services
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4750">[ date ]</a>
              <a href="thread.html#4750">[ thread ]</a>
              <a href="subject.html#4750">[ subject ]</a>
              <a href="author.html#4750">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
