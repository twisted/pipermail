<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Is there a nice way to write transport-agnostic	protocols and servers/clients?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Is%20there%20a%20nice%20way%20to%20write%20transport-agnostic%0A%09protocols%20and%20servers/clients%3F&In-Reply-To=%3CCA%2BHdgOU4OWuhbXmczPR8YoX50CTkA-G5N7-EewPSLH2WzkiZ8g%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="064034.html">
   <LINK REL="Next"  HREF="064038.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Is there a nice way to write transport-agnostic	protocols and servers/clients?</H1>
    <B>Jaros≈Çaw Fedewicz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Is%20there%20a%20nice%20way%20to%20write%20transport-agnostic%0A%09protocols%20and%20servers/clients%3F&In-Reply-To=%3CCA%2BHdgOU4OWuhbXmczPR8YoX50CTkA-G5N7-EewPSLH2WzkiZ8g%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Is there a nice way to write transport-agnostic	protocols and servers/clients?">jaroslaw.fedewicz at gmail.com
       </A><BR>
    <I>Mon Aug 14 18:22:36 MDT 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="064034.html">[Twisted-Python] COMMERCIAL:Re: 17.5.0 _newtls.pu:207	loseConnection signatureproblem
</A></li>
        <LI>Next message (by thread): <A HREF="064038.html">[Twisted-Python] Is there a nice way to write transport-agnostic protocols and servers/clients?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31574">[ date ]</a>
              <a href="thread.html#31574">[ thread ]</a>
              <a href="subject.html#31574">[ subject ]</a>
              <a href="author.html#31574">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Recently, I needed to write a client for a server which can listen on one
of these:

1) TCP
2) UDP
3) Unix stream sockets
4) Unix datagram sockets

And pain it was, as a matter of fact. The only thing that was easy was the
streaming protocols part. In the datagram land, it was all different:

1) I had to cope with a fact that transport.connect() only really works
with UDP, and employ a workaround which allowed me to use the same protocol
class for both UDP and Unix datagrams
2) setting up client for UDP and datagram is a wildly different procedure:
for Unix datagram sockets, I use reactor.connectUNIXDatagram(), for UDP I
need to use reactor.listenUDP(0, ...) which is fairly confusing to say the
least
3) endpoints, for some reason, with connection parameters as strings, and
unified connection routine do not exist for datagram protocols at all
4) it seems either impossible or really hard to create a transport-agnostic
protocol (with the bulk of logic defined on an upper layer, and
framing/messaging defined at the transport level protocol classes), which
could be connected to any endpoint it supports, using clientFromString() or
serverToString().

The number of protocols that use TCP or UDP interchangeably is quite high.
Some applications where Twisted would be an appropriate choice, could even
work with non-TCP/UDP transports, like QUIC, DCCP, STCP, etc.

(I haven't even looked at the issue of lower layers or other address
families yet, there be dragons.)

My question is: does anyone share my pain? Is there some kind of ongoing
effort to design an API or anything else? What can I do to help?

-- 
Yaroslav Fedevych
IT Philosopher
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20170815/a108cb59/attachment.html&gt;
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="064034.html">[Twisted-Python] COMMERCIAL:Re: 17.5.0 _newtls.pu:207	loseConnection signatureproblem
</A></li>
	<LI>Next message (by thread): <A HREF="064038.html">[Twisted-Python] Is there a nice way to write transport-agnostic protocols and servers/clients?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31574">[ date ]</a>
              <a href="thread.html#31574">[ thread ]</a>
              <a href="subject.html#31574">[ subject ]</a>
              <a href="author.html#31574">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
