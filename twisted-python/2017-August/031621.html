<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Wanting to use Twisted,	but a dependency uses asyncio
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Wanting%20to%20use%20Twisted%2C%0A%09but%20a%20dependency%20uses%20asyncio&In-Reply-To=%3CCAMGywB4efK3GTThoAWQQx7h6i9zm_94QPwvbur5WuZwzmEtdbg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="031620.html">
   <LINK REL="Next"  HREF="031622.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Wanting to use Twisted,	but a dependency uses asyncio</H1>
    <B>Justin Myles Holmes</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Wanting%20to%20use%20Twisted%2C%0A%09but%20a%20dependency%20uses%20asyncio&In-Reply-To=%3CCAMGywB4efK3GTThoAWQQx7h6i9zm_94QPwvbur5WuZwzmEtdbg%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Wanting to use Twisted,	but a dependency uses asyncio">twotonespirit at gmail.com
       </A><BR>
    <I>Sun Aug 27 13:48:20 MDT 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="031620.html">[Twisted-Python] Wanting to use Twisted,	but a dependency uses asyncio
</A></li>
        <LI>Next message (by thread): <A HREF="031622.html">[Twisted-Python] Wanting to use Twisted, but a dependency uses asyncio
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31621">[ date ]</a>
              <a href="thread.html#31621">[ thread ]</a>
              <a href="subject.html#31621">[ subject ]</a>
              <a href="author.html#31621">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Why are you all so awesome?  What is your nefarious intention?  Are you
trying to make other open source projects look bad or what?

Thanks so much Craig.

On Sun, Aug 27, 2017 at 12:35 PM, Craig Rodrigues &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">rodrigc at crodrigues.org</A>&gt;
wrote:

&gt;<i> You can use this class to interoperate with the Python asyncio reactor and
</I>&gt;<i> Twisted:
</I>&gt;<i>
</I>&gt;<i>  <A HREF="https://twistedmatrix.com/documents/current/api/twisted.">https://twistedmatrix.com/documents/current/api/twisted.</A>
</I>&gt;<i> internet.asyncioreactor.html
</I>&gt;<i>
</I>&gt;<i> So you can do something like:
</I>&gt;<i>
</I>&gt;<i> import asyncio
</I>&gt;<i> from twisted.internet import asyncioreactor, reactor
</I>&gt;<i> loop = asyncio.get_event_loop()
</I>&gt;<i>
</I>&gt;<i> asyncioreactor.install(eventloop=loop)
</I>&gt;<i> reactor.run()
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Here is a fancy example which uses Python asyncio, uvloop, and twisted.web
</I>&gt;<i> combined:
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://gist.github.com/ldjebran/4febf298232a6fd86871df25d4dc00dd">https://gist.github.com/ldjebran/4febf298232a6fd86871df25d4dc00dd</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Craig
</I>&gt;<i>
</I>&gt;<i> On Sun, Aug 27, 2017 at 11:36 AM, Justin Myles Holmes &lt;
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twotonespirit at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Sure, syntactically it seems pretty close to gravy.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> But I'm wondering about flow control: if a project like kademlia is using
</I>&gt;&gt;<i> the ayncio event loop, is it still practical to use twisted?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Sun, Aug 27, 2017 at 11:35 AM, Craig Rodrigues &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">rodrigc at crodrigues.org</A>
</I>&gt;&gt;<i> &gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Twisted 17.5.0 has new code to interoperate between Python's asyncio and
</I>&gt;&gt;&gt;<i> &quot;async def&quot;:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> <A HREF="https://twistedmatrix.com/documents/current/core/howto/defer">https://twistedmatrix.com/documents/current/core/howto/defer</A>
</I>&gt;&gt;&gt;<i> -intro.html#coroutines-with-async-await
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> One example of where this is used is in Klein, a web microframework
</I>&gt;&gt;&gt;<i> built on top of Twisted:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> <A HREF="https://klein.readthedocs.io/en/latest/examples/await.html">https://klein.readthedocs.io/en/latest/examples/await.html</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Also, over 93% of Twisted's tests pass on Python 3:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> <A HREF="https://www.slideshare.net/CraigRodrigues1/the-onward-journe">https://www.slideshare.net/CraigRodrigues1/the-onward-journe</A>
</I>&gt;&gt;&gt;<i> y-porting-twisted-to-python-3
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> So I think that it is quite possible to look at using Twisted in a
</I>&gt;&gt;&gt;<i> project which is using Python asyncio.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> --
</I>&gt;&gt;&gt;<i> Craig
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> On Sun, Aug 27, 2017 at 11:06 AM, Justin Myles Holmes &lt;
</I>&gt;&gt;&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twotonespirit at gmail.com</A>&gt; wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Hey friends.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> I'm in a position that is probably increasingly common.  I'm working on
</I>&gt;&gt;&gt;&gt;<i> a project that has a dependency that uses asyncio (kademlia).
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> However, I much prefer to use Twisted.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> What's are some best practices for this at the moment?
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> Justin Myles Holmes
</I>&gt;&gt;<i> justinholmes.com
</I>&gt;&gt;<i> thisisthebus.com
</I>&gt;&gt;<i> github.com/jMyles/
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>

-- 
Justin Myles Holmes
justinholmes.com
thisisthebus.com
github.com/jMyles/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20170827/24a9e93c/attachment.html&gt;
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="031620.html">[Twisted-Python] Wanting to use Twisted,	but a dependency uses asyncio
</A></li>
	<LI>Next message (by thread): <A HREF="031622.html">[Twisted-Python] Wanting to use Twisted, but a dependency uses asyncio
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31621">[ date ]</a>
              <a href="thread.html#31621">[ thread ]</a>
              <a href="subject.html#31621">[ subject ]</a>
              <a href="author.html#31621">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
