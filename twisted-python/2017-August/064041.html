<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Is there a nice way to write transport-agnostic protocols and servers/clients?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Is%20there%20a%20nice%20way%20to%20write%0A%20transport-agnostic%20protocols%20and%20servers/clients%3F&In-Reply-To=%3CCAEeXt4NmZ9nh%2BNQM%2B%2BrMhj_0H9Eb_YGE33wnRYD0TTD61A%2BJOg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="064049.html">
   <LINK REL="Next"  HREF="031575.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Is there a nice way to write transport-agnostic protocols and servers/clients?</H1>
    <B>Jean-Paul Calderone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Is%20there%20a%20nice%20way%20to%20write%0A%20transport-agnostic%20protocols%20and%20servers/clients%3F&In-Reply-To=%3CCAEeXt4NmZ9nh%2BNQM%2B%2BrMhj_0H9Eb_YGE33wnRYD0TTD61A%2BJOg%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Is there a nice way to write transport-agnostic protocols and servers/clients?">exarkun at twistedmatrix.com
       </A><BR>
    <I>Wed Aug 16 06:13:43 MDT 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="064049.html">[Twisted-Python] COMMERCIAL:Re: Is there a nice way to	writetransport-agnostic protocols and servers/clients?
</A></li>
        <LI>Next message (by thread): <A HREF="031575.html">[Twisted-Python] Chunked decoding missing from HTTPClient?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64041">[ date ]</a>
              <a href="thread.html#64041">[ thread ]</a>
              <a href="subject.html#64041">[ subject ]</a>
              <a href="author.html#64041">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Aug 16, 2017 at 7:53 AM, Jaros≈Çaw Fedewicz &lt;
<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">jaroslaw.fedewicz at gmail.com</A>&gt; wrote:

&gt;<i> This makes a perfect sense. (I ended up implementing it in this sorta way,
</I>&gt;<i> but the other way around: it was a primarily-datagram protocol that could
</I>&gt;<i> use TCP as a transport, provided there is appropriate framing.)
</I>&gt;<i>
</I>&gt;<i> However, while there is really a need for a shim to make use of
</I>&gt;<i> polytransport protocols (DNS, syslog, SIP, NFS are a few), it looks like
</I>&gt;<i> every Twisted user should bring their own. This bothers me, but just a
</I>&gt;<i> little bit.
</I>&gt;<i>
</I>
I don't think anyone working on Twisted has yet looked closely at these
various protocols to try to understand if there is a unifying abstraction
that would make a stream/datagram adapter possible.  There are differences
between the protocols that you mention that need to be accounted for and so
far everyone who has worked on implementations for Twisted has implemented
a custom solution for a particular protocol.  If you want to work on
figuring out what the abstraction might be, that seems useful.  I'd also
recommend you take a look at tubes &lt;<A HREF="https://github.com/twisted/tubes">https://github.com/twisted/tubes</A>&gt; as a
potentially useful direction for solving this problem.


&gt;<i>
</I>&gt;<i> Also, your reply does not address the little discrepancies that exist in
</I>&gt;<i> Twisted between two kinds of datagram protocols (namely, Unix datagram
</I>&gt;<i> sockets and UDP): seems like UDP APIs progressed while Unix datagram socket
</I>&gt;<i> support was &quot;left behind&quot;. I don't know if this is deliberate or not.
</I>&gt;<i>
</I>
There's not as much interest in UNIX datagrams as there is in UDP.  There's
no particular reason why the UNIX datagram support shouldn't be brought up
to be on par with the UDP support.


&gt;<i>
</I>&gt;<i> One thing that is also notably missing from the puzzle is that there is no
</I>&gt;<i> support for datagram endpoints. With stream sockets, I can now use strings
</I>&gt;<i> and clientFromString()/serverFromString() and be blissfully ignorant if
</I>&gt;<i> it's TCP or a Unix socket. I cannot do the same with datagram sockets, I
</I>&gt;<i> need to be actively aware if what I'm dealing with is a UDP socket or a
</I>&gt;<i> Unix datagram socket.
</I>&gt;<i>
</I>&gt;<i> I'd gladly implement something to fill the gap, but I fear my contribution
</I>&gt;<i> would be rejected because, say, it doesn't conform to the general direction
</I>&gt;<i> Twisted is heading, whatever that may be. Or because datagram protocols are
</I>&gt;<i> somehow inferior as a class. Or because Unix datagram sockets in particular
</I>&gt;<i> should die and burn in hell.
</I>&gt;<i>
</I>&gt;<i>
</I>Likewise, there's not as much interest in datagram transports as stream
transports.  There's no particular reason not to introduce datagram
endpoints  - someone just needs to do the work.

Jean-Paul
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20170816/a344d5ef/attachment-0002.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="064049.html">[Twisted-Python] COMMERCIAL:Re: Is there a nice way to	writetransport-agnostic protocols and servers/clients?
</A></li>
	<LI>Next message (by thread): <A HREF="031575.html">[Twisted-Python] Chunked decoding missing from HTTPClient?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64041">[ date ]</a>
              <a href="thread.html#64041">[ thread ]</a>
              <a href="subject.html#64041">[ subject ]</a>
              <a href="author.html#64041">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
