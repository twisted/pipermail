<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Regression in Gtk2 support testing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Regression%20in%20Gtk2%20support%20testing&In-Reply-To=%3C4F41BAA9.5010709%40itamarst.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="057722.html">
   <LINK REL="Next"  HREF="057731.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Regression in Gtk2 support testing</H1>
    <B>Itamar Turner-Trauring</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Regression%20in%20Gtk2%20support%20testing&In-Reply-To=%3C4F41BAA9.5010709%40itamarst.org%3E"
       TITLE="[Twisted-Python] Regression in Gtk2 support testing">itamar at itamarst.org
       </A><BR>
    <I>Sun Feb 19 20:14:49 MST 2012</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="057722.html">[Twisted-Python] Regression in Gtk2 support testing
</A></li>
        <LI>Next message (by thread): <A HREF="057731.html">[Twisted-Python] Regression in Gtk2 support testing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57725">[ date ]</a>
              <a href="thread.html#57725">[ thread ]</a>
              <a href="subject.html#57725">[ subject ]</a>
              <a href="author.html#57725">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 02/18/2012 10:59 AM, <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at twistedmatrix.com</A> wrote:
&gt;<i> Hello all,
</I>&gt;<i>
</I>&gt;<i> Since #4558 was merged, introducing &quot;gi reactor&quot; based on the new Python
</I>&gt;<i> bindings for gobject, all testing of the Gtk2 reactor has been disabled,
</I>&gt;<i> on all platforms.
</I>&gt;<i>
</I>&gt;<i> This is a two-part problem.
</I>&gt;<i>
</I>&gt;<i> The first part is the more damaging part, but fortunately also the more
</I>&gt;<i> easily fixed part.  #4558 made it impossible to import
</I>&gt;<i> `twisted.internet.gtk2reactor` if `sys.modules` contains a &quot;gi&quot; key.
</I>&gt;<i> This seems to overlook the fact that even a *failed* import of the `gi`
</I>&gt;<i> module adds such a key to that dictionary.  Since the test suite tries
</I>&gt;<i> to test `gireactor`, there will always be such a key, so `gtk2reactor`
</I>&gt;<i> can never be imported by the test suite.
</I>However, if you run with &quot;trial -r gtk2&quot; you *do* get the gtk2 tests to 
run...
&gt;<i> The result is that gtk2reactor is no longer tested by buildbot on any
</I>&gt;<i> platform.
</I>... and as a result the buildbot *would* be testing gtk2 except that, 
unfortunately, the fedora32-py2.5-reactors buildslave is down. Which I 
will follow up on if I can figure out who's running it.
&gt;<i> The second part will show up once the first problem is fixed.  Once the
</I>&gt;<i> check correctly ignores `sys.modules[&quot;gi&quot;] == None`, it will still be
</I>&gt;<i> impossible to test both gireactor and gtk2reactor in our current
</I>&gt;<i> buildbot configuration.  One or the other will win, and the loser will
</I>&gt;<i> be quietly skipped (apparently too quietly for most people to notice).
</I>&gt;<i> Some new strategy is required so that we can test both of these reactors
</I>&gt;<i> on all our supported platforms.
</I>
The reactors buildslave is a reasonable strategy: have multiple runs 
with different reactors as the main trial reactor. Especially since, 
even in the absence of this problem, we'd want to continue to have full 
runs under the different reactors because the reactor mixin tests don't 
cover everything yet.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="057722.html">[Twisted-Python] Regression in Gtk2 support testing
</A></li>
	<LI>Next message (by thread): <A HREF="057731.html">[Twisted-Python] Regression in Gtk2 support testing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57725">[ date ]</a>
              <a href="thread.html#57725">[ thread ]</a>
              <a href="subject.html#57725">[ subject ]</a>
              <a href="author.html#57725">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
