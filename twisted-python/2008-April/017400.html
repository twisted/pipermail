<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] More trial problems with 8.0.1
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20More%20trial%20problems%20with%208.0.1&In-Reply-To=20080410204924.6859.1140123273.divmod.quotient.27685%40ohm">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017399.html">
   <LINK REL="Next"  HREF="017401.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] More trial problems with 8.0.1</H1>
    <B>Brian Granger</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20More%20trial%20problems%20with%208.0.1&In-Reply-To=20080410204924.6859.1140123273.divmod.quotient.27685%40ohm"
       TITLE="[Twisted-Python] More trial problems with 8.0.1">ellisonbg.net at gmail.com
       </A><BR>
    <I>Thu Apr 10 17:23:58 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="017399.html">[Twisted-Python] More trial problems with 8.0.1
</A></li>
        <LI>Next message: <A HREF="017401.html">[Twisted-Python] More trial problems with 8.0.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17400">[ date ]</a>
              <a href="thread.html#17400">[ thread ]</a>
              <a href="subject.html#17400">[ subject ]</a>
              <a href="author.html#17400">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Apr 10, 2008 at 2:49 PM, Jean-Paul Calderone &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at divmod.com</A>&gt; wrote:
&gt;<i> On Thu, 10 Apr 2008 14:44:45 -0600, Brian Granger &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">ellisonbg.net at gmail.com</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; Hi,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Earlier today I posted about a problem with trial.  I reinstalled
</I>&gt;<i> &gt; 8.0.1 and the origianl problem has gone away.  Now I get the following
</I>&gt;<i> &gt; error.  It appears that trial is trying to write something to the
</I>&gt;<i> &gt; plugins directory.  But that doesn't (and shouldn't) have the correct
</I>&gt;<i> &gt; write permissions.  I can run trial with as sudo, but not as a regular
</I>&gt;<i> &gt; user.  Isn't it bad practice to rely on being able to write to
</I>&gt;<i> &gt; site-packages at runtime.  Shouldn't such things do into a .twisted
</I>&gt;<i> &gt; directory or something like that?
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i>  See the plugin cache section of the plugin howto documentation:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/projects/core/documentation/howto/plugin.html#auto3">http://twistedmatrix.com/projects/core/documentation/howto/plugin.html#auto3</A>
</I>&gt;<i>
</I>&gt;<i>  Specifically, the paragraph about site-wide installations.
</I>&gt;<i>
</I>&gt;<i>  Jean-Paul
</I>
OK, there is documentation, but I still don't think it is a good idea
to rely on write permissions in this way.  Examples:

1) User downloads the Mac OS X installer for twisted from the twisted
web site.  They install it and run trial and get this nasty exception
about write permissions.  This installer installs into the system-wide
sitepackages and user will basically _always_ get this problem.

2)  User installed twisted by doing &quot;sudo easy_install Twisted&quot;  They
too get the exception anytime they run trial.

3) User installs using the tarball and installs using the standard
&quot;sudo python setup.py install.&quot;  They get it too, unless they add an
optional argument to have twisted installed in their home directory
some place.

The bottom line is that these installation routes are not exceptional,
they are the most common ones.  This approach almost ensures that
almost all of our users will observe this exception when they run our
(ipython1's) test suite.  The same will be true of any twisted using
project that relies on trial or (likely) the plugin architecture.

This behavior may be documented, but I still think it is a bad idea.

Am I misunderstanding something?

Thanks,

Brian



&gt;<i>  _______________________________________________
</I>&gt;<i>  Twisted-Python mailing list
</I>&gt;<i>  <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i>  <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017399.html">[Twisted-Python] More trial problems with 8.0.1
</A></li>
	<LI>Next message: <A HREF="017401.html">[Twisted-Python] More trial problems with 8.0.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17400">[ date ]</a>
              <a href="thread.html#17400">[ thread ]</a>
              <a href="subject.html#17400">[ subject ]</a>
              <a href="author.html#17400">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
