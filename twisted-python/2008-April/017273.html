<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: win 32 reactor
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20win%2032%20reactor&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017272.html">
   <LINK REL="Next"  HREF="017274.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: win 32 reactor</H1>
    <B>Toby Dickenson</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20win%2032%20reactor&In-Reply-To="
       TITLE="[Twisted-Python] Re: win 32 reactor">tdickenson at geminidataloggers.com
       </A><BR>
    <I>Tue Apr  1 03:08:31 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="017272.html">[Twisted-Python] Correct way to handle errors of connectTCP
</A></li>
        <LI>Next message: <A HREF="017274.html">[Twisted-Python] no more zope.interface in the current windows	release of twisted?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17273">[ date ]</a>
              <a href="thread.html#17273">[ thread ]</a>
              <a href="subject.html#17273">[ subject ]</a>
              <a href="author.html#17273">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jean-Paul Calderone wrote:
&gt;<i> Gabriel Rossetti wrote:
</I>&gt;&gt;<i>Is there a way to use
</I>&gt;&gt;<i>the supplied win32 reactors (there are three I think) or do I have to
</I>&gt;&gt;<i>write one myself? Could someone please point me in the right direction?
</I>&gt;<i> 
</I>&gt;<i> The three reactors you're probably referring to are selectreactor,
</I>&gt;<i> win32er, and IOCP reactor.
</I>
The problem on Windows is that there can only be one event loop running at
one time, but every library wants supply its own. This seem to be true for
the code Gabriel posted, and is certainly true of the reactors JP
mentioned, plus anything as ordinary as COM, the win32 MessageBox function,
or resizing a window!

This leads to a problem where your application will receive no twisted
events while your window is being resized, or a message box is visible.

IMO the best way to integrate twisted on win32 involves one of the threaded
reactors. This runs the select loop (or WFMO loop) in a separate thread,
then uses PostMessage to wake up your main thread for it to handle the
network events inside a message handler. For your application code this all
still looks like a single threaded model.

I hope this helps,



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017272.html">[Twisted-Python] Correct way to handle errors of connectTCP
</A></li>
	<LI>Next message: <A HREF="017274.html">[Twisted-Python] no more zope.interface in the current windows	release of twisted?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17273">[ date ]</a>
              <a href="thread.html#17273">[ thread ]</a>
              <a href="subject.html#17273">[ subject ]</a>
              <a href="author.html#17273">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
