<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Fwd: Example code for problem with twisted+pyglet
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Fwd%3A%20Example%20code%20for%20problem%20with%20twisted%2Bpyglet&In-Reply-To=%3C96c9d6a80804020926i33dde9c7w6b5e94979ba3f408%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="049800.html">
   <LINK REL="Next"  HREF="049805.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Fwd: Example code for problem with twisted+pyglet</H1>
    <B>Nathan</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Fwd%3A%20Example%20code%20for%20problem%20with%20twisted%2Bpyglet&In-Reply-To=%3C96c9d6a80804020926i33dde9c7w6b5e94979ba3f408%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Fwd: Example code for problem with twisted+pyglet">nathan.stocks at gmail.com
       </A><BR>
    <I>Wed Apr  2 10:26:54 MDT 2008</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="049800.html">[Twisted-Python] Example code for problem with twisted+pyglet
</A></li>
        <LI>Next message (by thread): <A HREF="049805.html">[Twisted-Python] Lost connection on PbServerFactory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49808">[ date ]</a>
              <a href="thread.html#49808">[ thread ]</a>
              <a href="subject.html#49808">[ subject ]</a>
              <a href="author.html#49808">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Oh, and despite the date on the original message, this is NOT an April
Fool's day joke.  Just thought I should clarify that!

I should also mention that a separate (personal) project of mine that
uses twisted/AMP+pyglet but NOT SSL does not display any performance
degradation.  Weird.

~ Nathan


---------- Forwarded message ----------
From: Nathan &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">nathan.stocks at gmail.com</A>&gt;
Date: Tue, Apr 1, 2008 at 5:19 PM
Subject: Example code for problem with twisted+pyglet
To: Twisted general discussion &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>&gt;,
<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">pyglet-users at googlegroups.com</A>


(I'm cross-posting this to the twisted and pyglet mailing lists, as
 I've been actively discussing this with people on both lists)
 ----------------------------------

 Problem:  When I add AMP with SSL with SSL-client certificates to
 Pyglet 1.1 (svn trunk, actually) on OS X 10.5.2, pyglet goes from
 drawing at a smooth 60fps (which is the limit I set) to an extremely
 choppy low fps.  The problem started when I upgraded from Pyglet from
 1.0 to 1.1.

 Hardware:

 MacBook Pro, Intel Core 2 Duo, 2.2Ghz, 2GB RAM, GeForce 8600M GT w/128MB VRAM

 Software:

 OS X 10.5.2 with Graphics Update
 Apple-installed python 2.5.
 Twisted 8.0.1 (installed package from
 <A HREF="http://tmrc.mit.edu/mirror/twisted/Twisted/8.0/Twisted-8.0.1_py2.5_osx10.5.pkg">http://tmrc.mit.edu/mirror/twisted/Twisted/8.0/Twisted-8.0.1_py2.5_osx10.5.pkg</A>
 -- export PYTHONPATH=/Library/Python/2.5/site-packages )
 pyglet trunk (revision 1990, <A HREF="http://pyglet.googlecode.com/svn/trunk">http://pyglet.googlecode.com/svn/trunk</A> -
 installed with 'sudo python setup.py install' )

 To duplicate:

 1) Download <A HREF="http://stocksfam.com/example.tar.bz2">http://stocksfam.com/example.tar.bz2</A> and untar it with
 &quot;tar jxvf example.tar.bz2&quot; which creates an example directory.
 2) Open two terminals and change to the example directory.
 3) Run &quot;./server.py&quot; in one terminal.  This sets up an AMP+SSL server.
 4) Run &quot;./client.py&quot; in the other terminal.  The Pyglet+AMP+SSL client
 will launch, and a Pyglet 1200x800 window will pop up with a gray log
 window.
 5) Click and drag the gray log window around.  Notice how extremely
 choppy it is.  I don't know how to debug it!  Under Pyglet 1.0, there
 was no choppiness -- it stayed a smooth 60.0fps.

 What can be done to debug this?  If I knew where to start, I'd try to
 find the problem myself, but I'm not very familiar with the internals
 of twisted or pyglet, and I'm also not very familiar with debugging
 python code beyond using print statements and common sense...

 ~ Nathan


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="049800.html">[Twisted-Python] Example code for problem with twisted+pyglet
</A></li>
	<LI>Next message (by thread): <A HREF="049805.html">[Twisted-Python] Lost connection on PbServerFactory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49808">[ date ]</a>
              <a href="thread.html#49808">[ thread ]</a>
              <a href="subject.html#49808">[ subject ]</a>
              <a href="author.html#49808">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
