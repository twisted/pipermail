<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Twisted+setuptools fun ;-)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Twisted%2Bsetuptools%20fun%20%3B-%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017411.html">
   <LINK REL="Next"  HREF="017418.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Twisted+setuptools fun ;-)</H1>
    <B>Brian Granger</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Twisted%2Bsetuptools%20fun%20%3B-%29&In-Reply-To="
       TITLE="[Twisted-Python] Twisted+setuptools fun ;-)">ellisonbg.net at gmail.com
       </A><BR>
    <I>Fri Apr 11 17:51:19 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="017411.html">[Twisted-Python] NNTP example with authentication
</A></li>
        <LI>Next message: <A HREF="017418.html">[Twisted-Python] Twisted+setuptools fun ;-)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17415">[ date ]</a>
              <a href="thread.html#17415">[ thread ]</a>
              <a href="subject.html#17415">[ subject ]</a>
              <a href="author.html#17415">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Now that twisted is easy_installable, I am adding code to our
(ipython1's) setup.py script to declare Twisted as a dependency:

# Declare dependencies only if setuptools is being used
if 'setuptools' in sys.modules:
    setup_args[&quot;install_requires&quot;] = [
        &quot;IPython&quot;,
        &quot;Twisted&gt;=8.0.1&quot;,
    ]

This is simple enough.  But, it doesn't quite work:

[in ipython1 source directory]
&gt;<i> python setup.py install
</I>...
Processing dependencies for ipython1==0.3alpha1
Searching for Twisted&gt;=8.0.1
Reading <A HREF="http://pypi.python.org/simple/Twisted/">http://pypi.python.org/simple/Twisted/</A>
Reading <A HREF="http://twistedmatrix.com/">http://twistedmatrix.com/</A>
Reading <A HREF="http://www.twistedmatrix.com">http://www.twistedmatrix.com</A>
Reading <A HREF="http://twistedmatrix.com/products/download">http://twistedmatrix.com/products/download</A>
Reading <A HREF="http://twistedmatrix.com/projects/core/">http://twistedmatrix.com/projects/core/</A>
Best match: Twisted 8.0.1
Downloading <A HREF="http://tmrc.mit.edu/mirror/twisted/Twisted/8.0/Twisted-8.0.1.tar.bz2">http://tmrc.mit.edu/mirror/twisted/Twisted/8.0/Twisted-8.0.1.tar.bz2</A>
Processing Twisted-8.0.1.tar.bz2
Running Twisted-8.0.1/setup.py -q bdist_egg --dist-dir
/tmp/easy_install-_TNbx3/Twisted-8.0.1/egg-dist-tmp-JztrBh
error: Setup script exited with twisted.python.dist module not found.
Make sure you have installed the Twisted core package before
attempting to install any other Twisted projects.

This message comes from the setup.py scripts in the individual
projects.  They all start with:

try:
    from twisted.python import dist
except ImportError:
    raise SystemExit(&quot;twisted.python.dist module not found.  Make sure you &quot;
                     &quot;have installed the Twisted core package before &quot;
                     &quot;attempting to install any other Twisted projects.&quot;)

The odd thing is that if I simply easy_install Twisted, all works fine:

&gt;<i> easy_install Twisted
</I>... everything works as expected.

I know that other projects are started to declare their Twisted deps
this way.  Are other people running into this?

Thanks

Brian


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017411.html">[Twisted-Python] NNTP example with authentication
</A></li>
	<LI>Next message: <A HREF="017418.html">[Twisted-Python] Twisted+setuptools fun ;-)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17415">[ date ]</a>
              <a href="thread.html#17415">[ thread ]</a>
              <a href="subject.html#17415">[ subject ]</a>
              <a href="author.html#17415">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
