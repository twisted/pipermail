<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Reconnection to Serialport after connectionLost
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Reconnection%20to%20Serialport%20after%20connectionLost&In-Reply-To=CAE_Hg6arOfa3EeOgAY_EkgwmqOg8An9zXUbTY6%2BHY_6AXhtNBg%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024354.html">
   <LINK REL="Next"  HREF="024361.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Reconnection to Serialport after connectionLost</H1>
    <B>Rene Klootwijk</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Reconnection%20to%20Serialport%20after%20connectionLost&In-Reply-To=CAE_Hg6arOfa3EeOgAY_EkgwmqOg8An9zXUbTY6%2BHY_6AXhtNBg%40mail.gmail.com"
       TITLE="[Twisted-Python] Reconnection to Serialport after connectionLost">rene at klootwijk.org
       </A><BR>
    <I>Mon Aug  1 12:21:05 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="024354.html">[Twisted-Python] Reconnection to Serialport after connectionLost
</A></li>
        <LI>Next message: <A HREF="024361.html">[Twisted-Python] Reconnection to Serialport after connectionLost
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24360">[ date ]</a>
              <a href="thread.html#24360">[ thread ]</a>
              <a href="subject.html#24360">[ subject ]</a>
              <a href="author.html#24360">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have copied a code snippit to pastebin,  &lt;<A HREF="http://pastebin.com/us4vL0bk">http://pastebin.com/us4vL0bk</A>&gt;
<A HREF="http://pastebin.com/us4vL0bk">http://pastebin.com/us4vL0bk</A>

 

This is what happens:

When I break the connection, the connectionLost event is triggered and the
connectionLost method of the protocol class is called. After a 5 second
delay the serialport is reopened successfully because I reconnected the
device. The connectionMade event is triggered and the connectionMade method
of the protocol class is called. However, data arriving on the serial port
no longer triggers the dataReceived event.

 

--

Rene

 

From: <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python-bounces at twistedmatrix.com</A>
[mailto:<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python-bounces at twistedmatrix.com</A>] On Behalf Of Laurens Van
Houtven
Sent: maandag 1 augustus 2011 1:37
To: Twisted general discussion
Subject: Re: [Twisted-Python] Reconnection to Serialport after
connectionLost

 

Have you tried ReconnectingClientFactory?

<A HREF="http://twistedmatrix.com/documents/current/api/twisted.internet.protocol.Rec">http://twistedmatrix.com/documents/current/api/twisted.internet.protocol.Rec</A>
onnectingClientFactory.html

(Also, could you pastebin some code? What you're describing ought to work.)

-- 
cheers

lvh

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20110801/52fb0014/attachment.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20110801/52fb0014/attachment.htm</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024354.html">[Twisted-Python] Reconnection to Serialport after connectionLost
</A></li>
	<LI>Next message: <A HREF="024361.html">[Twisted-Python] Reconnection to Serialport after connectionLost
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24360">[ date ]</a>
              <a href="thread.html#24360">[ thread ]</a>
              <a href="subject.html#24360">[ subject ]</a>
              <a href="author.html#24360">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
