<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Status of current proxy support (of various	kinds)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Status%20of%20current%20proxy%20support%20%28of%20various%0A%09kinds%29&In-Reply-To=CAKys953FSGgVJ1OOs1CnU_b0wBccUotYKSRhqStKjzfcybVsJg%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024369.html">
   <LINK REL="Next"  HREF="024375.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Status of current proxy support (of various	kinds)</H1>
    <B>Peter Le Bek</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Status%20of%20current%20proxy%20support%20%28of%20various%0A%09kinds%29&In-Reply-To=CAKys953FSGgVJ1OOs1CnU_b0wBccUotYKSRhqStKjzfcybVsJg%40mail.gmail.com"
       TITLE="[Twisted-Python] Status of current proxy support (of various	kinds)">peter at hyperplex.net
       </A><BR>
    <I>Mon Aug  8 22:10:50 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="024369.html">[Twisted-Python] Status of current proxy support (of various kinds)
</A></li>
        <LI>Next message: <A HREF="024375.html">[Twisted-Python] Status of current proxy support (of various	kinds)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24374">[ date ]</a>
              <a href="thread.html#24374">[ thread ]</a>
              <a href="subject.html#24374">[ subject ]</a>
              <a href="author.html#24374">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Myself and another are working on adding SOCKS client support to Twisted for 
use in Tor related projects. I'm also convinced there's an abstraction that would 
make it easier to implement proxy clients (or any transparent data/endpoint 
modifying protocol) in Twisted. I agree that it's difficult to generalise, but there's a 
class of protocol that does one or more of the following, transparently, and little 
else:

- append data, before switching to application protocol (SSL handshake, 
  SOCKS connect/bind)
- prepend data, after losing connection on application protocol (SSL shutdown)
- modify application data (SSL &quot;recordification&quot;, encryption)
- modify the endpoint (any proxy)

Endpoints can do all these things - SSL4ClientEndpoint, for example, does the first 
three - but does it make sense to use Endpoints for this purpose? 

Endpoints aren't stackable, so no good if I want to run a SOCKS client over SSL. 
Also, with a proxied connection you have two Endpoints, one to the proxy server 
and one 'virtual Endpoint' to wherever. The Endpoints API doesn't accommodate 
this.

Would it make sense to have Endpoint wrappers for this purpose? A sort of 
middleware (hate that word) to intercept transport events (including transport 
formation, i.e. Endpoint.connect()).

I'm looking forward to being proven wrong on this as it will make my SOCKS work 
easier, or else if this turns out to be interesting then I have more ideas on how it 
should be implemented.

Cheers,
Peter.


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024369.html">[Twisted-Python] Status of current proxy support (of various kinds)
</A></li>
	<LI>Next message: <A HREF="024375.html">[Twisted-Python] Status of current proxy support (of various	kinds)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24374">[ date ]</a>
              <a href="thread.html#24374">[ thread ]</a>
              <a href="subject.html#24374">[ subject ]</a>
              <a href="author.html#24374">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
