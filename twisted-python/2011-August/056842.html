<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Reconnection to Serialport after connectionLost
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Reconnection%20to%20Serialport%20after%20connectionLost&In-Reply-To=%3C010e01cc5089%241a709830%244f51c890%24%40org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="056841.html">
   <LINK REL="Next"  HREF="056843.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Reconnection to Serialport after connectionLost</H1>
    <B>Rene Klootwijk</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Reconnection%20to%20Serialport%20after%20connectionLost&In-Reply-To=%3C010e01cc5089%241a709830%244f51c890%24%40org%3E"
       TITLE="[Twisted-Python] Reconnection to Serialport after connectionLost">rene at klootwijk.org
       </A><BR>
    <I>Mon Aug  1 14:25:07 MDT 2011</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="056841.html">[Twisted-Python] Reconnection to Serialport after connectionLost
</A></li>
        <LI>Next message (by thread): <A HREF="056843.html">[Twisted-Python] scaling with lots of clients
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56842">[ date ]</a>
              <a href="thread.html#56842">[ thread ]</a>
              <a href="subject.html#56842">[ subject ]</a>
              <a href="author.html#56842">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I figured it out! I forget to set the speed of the serial port. Dumb ,
dumber,  dumbest.

 

From: <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python-bounces at twistedmatrix.com</A>
[mailto:<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python-bounces at twistedmatrix.com</A>] On Behalf Of Rene
Klootwijk
Sent: maandag 1 augustus 2011 18:21
To: 'Twisted general discussion'
Subject: Re: [Twisted-Python] Reconnection to Serialport after
connectionLost

 

I have copied a code snippit to pastebin,  &lt;<A HREF="http://pastebin.com/us4vL0bk">http://pastebin.com/us4vL0bk</A>&gt;
<A HREF="http://pastebin.com/us4vL0bk">http://pastebin.com/us4vL0bk</A>

 

This is what happens:

When I break the connection, the connectionLost event is triggered and the
connectionLost method of the protocol class is called. After a 5 second
delay the serialport is reopened successfully because I reconnected the
device. The connectionMade event is triggered and the connectionMade method
of the protocol class is called. However, data arriving on the serial port
no longer triggers the dataReceived event.

 

--

Rene

 

From: <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python-bounces at twistedmatrix.com</A>
[mailto:<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python-bounces at twistedmatrix.com</A>] On Behalf Of Laurens Van
Houtven
Sent: maandag 1 augustus 2011 1:37
To: Twisted general discussion
Subject: Re: [Twisted-Python] Reconnection to Serialport after
connectionLost

 

Have you tried ReconnectingClientFactory?

<A HREF="http://twistedmatrix.com/documents/current/api/twisted.internet.protocol.Rec">http://twistedmatrix.com/documents/current/api/twisted.internet.protocol.Rec</A>
onnectingClientFactory.html

(Also, could you pastebin some code? What you're describing ought to work.)

-- 
cheers

lvh

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20110801/ae368496/attachment.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="056841.html">[Twisted-Python] Reconnection to Serialport after connectionLost
</A></li>
	<LI>Next message (by thread): <A HREF="056843.html">[Twisted-Python] scaling with lots of clients
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56842">[ date ]</a>
              <a href="thread.html#56842">[ thread ]</a>
              <a href="subject.html#56842">[ subject ]</a>
              <a href="author.html#56842">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
