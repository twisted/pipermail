<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Flow control
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Flow%20control&In-Reply-To=%3CCA6A1475.47C1%25tobias.oberstein%40tavendo.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="056865.html">
   <LINK REL="Next"  HREF="056866.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Flow control</H1>
    <B>Tobias Oberstein</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Flow%20control&In-Reply-To=%3CCA6A1475.47C1%25tobias.oberstein%40tavendo.de%3E"
       TITLE="[Twisted-Python] Flow control">tobias.oberstein at tavendo.de
       </A><BR>
    <I>Thu Aug 11 15:21:25 MDT 2011</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="056865.html">[Twisted-Python] Flow control
</A></li>
        <LI>Next message (by thread): <A HREF="056866.html">[Twisted-Python] Flow control
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56868">[ date ]</a>
              <a href="thread.html#56868">[ thread ]</a>
              <a href="subject.html#56868">[ subject ]</a>
              <a href="author.html#56868">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>ahh, I felt I missed sth;) thx .. I'll look into that


On 11.08.11 23:16, &quot;Christopher Armstrong&quot; &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">radix at twistedmatrix.com</A>&gt; wrote:

On Thu, Aug 11, 2011 at 5:13 PM, Tobias Oberstein &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">tobias.oberstein at tavendo.de</A>&gt; wrote:
For a test driver for a TCP-based protocol (written in Twisted) I want to send data to a
receiver as fast as the receiver can consume data, but not faster.

Apparently, a naive loop which just does transport.write() does not work. When I do
reactor.select(0) between the writes, it somehow works, but memory consumption
of sender is growing fast, since I guess data is buffered within Twisted, right?

I then got over implementing my own application level flow control, where the
receiver gives feedback of how much it has consumed, and the sender throttles
itself to that.

However, isn't there a simpler way (without application level flow control)?

In the end, the sender TCP stack must have knowledge of it's window size ..
is there a way to get at that info?

What is the recommended way?


You want to write a producer:

<A HREF="http://twistedmatrix.com/documents/current/core/howto/producers.html">http://twistedmatrix.com/documents/current/core/howto/producers.html</A>




-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20110811/57196cab/attachment.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="056865.html">[Twisted-Python] Flow control
</A></li>
	<LI>Next message (by thread): <A HREF="056866.html">[Twisted-Python] Flow control
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56868">[ date ]</a>
              <a href="thread.html#56868">[ thread ]</a>
              <a href="subject.html#56868">[ subject ]</a>
              <a href="author.html#56868">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
