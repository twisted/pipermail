<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] A problem with very long blocking thread in Twisted
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20A%20problem%20with%20very%20long%20blocking%20thread%20in%20Twisted&In-Reply-To=%3CCA%2B4S-oo6wm6rJEmU-WXanRoHa40Fc2Up1hMtMRnWKUbB7RUG7A%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="056857.html">
   <LINK REL="Next"  HREF="056859.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] A problem with very long blocking thread in Twisted</H1>
    <B>Heungsub Lee</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20A%20problem%20with%20very%20long%20blocking%20thread%20in%20Twisted&In-Reply-To=%3CCA%2B4S-oo6wm6rJEmU-WXanRoHa40Fc2Up1hMtMRnWKUbB7RUG7A%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] A problem with very long blocking thread in Twisted">h at subl.ee
       </A><BR>
    <I>Wed Aug 10 07:49:07 MDT 2011</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="056857.html">[Twisted-Python] Twisted bzr mirror (Was: Twisted Project Jobs Volunteer)
</A></li>
        <LI>Next message (by thread): <A HREF="056859.html">[Twisted-Python] A problem with very long blocking thread in	Twisted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56858">[ date ]</a>
              <a href="thread.html#56858">[ thread ]</a>
              <a href="subject.html#56858">[ subject ]</a>
              <a href="author.html#56858">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, fellow programmers.

I have a problem with very long blocking thread(may not be finished) in
Twisted.

from socket import *
&gt;<i> from twisted.internet import reactor
</I>&gt;<i> def consuming():
</I>&gt;<i>     while reactor.running:
</I>&gt;<i>         amqp_consumer.wait() # waiting for very long time or forever
</I>&gt;<i> reactor.callInThread(consuming)
</I>

The process follows the below timeline:

&gt;<i>--: Started
</I>---: Process
--X: Terminated
 ^ : Keyboard Input

 Now

main loop |&gt;--------------------X
   thread | &gt;--------------------------------------------... long time later
...---X
                             ^
                          [Ctrl]+C

 Ideal

main loop |&gt;--------------------X
   thread | &gt;-------------------X
                             ^
                         [Ctrl]+C

To solve this problem, I'd like to set threads as daemon. So that all
related threads are terminated when main loop is interrupted. Any idea on
this problem will be appreciated.

–––––––––––––––––––––––––––
*
Heungsub Lee
 sublee
Mobile: +82-10-3215-2380
Site: <A HREF="http://subl.ee/">http://subl.ee/</A>
GitHub: <A HREF="http://github.com/sublee">http://github.com/sublee</A>
*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20110810/f3731d29/attachment.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="056857.html">[Twisted-Python] Twisted bzr mirror (Was: Twisted Project Jobs Volunteer)
</A></li>
	<LI>Next message (by thread): <A HREF="056859.html">[Twisted-Python] A problem with very long blocking thread in	Twisted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56858">[ date ]</a>
              <a href="thread.html#56858">[ thread ]</a>
              <a href="subject.html#56858">[ subject ]</a>
              <a href="author.html#56858">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
