<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] major changes, release engineering,	and learning 	cost
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20major%20changes%2C%20release%20engineering%2C%0A%09and%20learning%20%09cost&In-Reply-To=%3CAANLkTikDFPoQdxPRUI5drFlZF-TINicv5LqrLIxtnML4%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="054755.html">
   <LINK REL="Next"  HREF="054739.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] major changes, release engineering,	and learning 	cost</H1>
    <B>Konrads Smelkovs</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20major%20changes%2C%20release%20engineering%2C%0A%09and%20learning%20%09cost&In-Reply-To=%3CAANLkTikDFPoQdxPRUI5drFlZF-TINicv5LqrLIxtnML4%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] major changes, release engineering,	and learning 	cost">konrads at smelkovs.com
       </A><BR>
    <I>Wed May 26 04:20:26 MDT 2010</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="054755.html">[Twisted-Python] major changes, release engineering,	and learning cost
</A></li>
        <LI>Next message (by thread): <A HREF="054739.html">[Twisted-Python] PB and unstable network
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54758">[ date ]</a>
              <a href="thread.html#54758">[ thread ]</a>
              <a href="subject.html#54758">[ subject ]</a>
              <a href="author.html#54758">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>It would already be a big step forward if the naming convention could
be addressed. Unfortunately the web vs. web2 thing really puts code
archeologists in a confusion if the incremental numbered module policy
is applied, because it appears that web2 &gt; web but it is actually not.
code archeology could be less of an issue if some of the following
would be found good:
1) for existing developers, release notes would keep them up to date.
Also, perhaps a migration guide on how to move from old to new would
ensure people are using latest and greatest.
2) write a module guide for new developers, saying don't use X because
it is old. Use Y
3) once new module is there, raise decpreciation for old module. As
the old could be still valid, make a warning suppression mechanism.



2010/5/23, Glyph Lefkowitz &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A>&gt;:
&gt;<i> The nice thing about Twisted's compatibility policy is that developers, and
</I>&gt;<i> even users, very rarely have problems when installing a new version of
</I>&gt;<i> Twisted.  While this is a nice benefit, the current strategy of developing
</I>&gt;<i> features in a compatible way does have a couple of costs, and I'd like to
</I>&gt;<i> see if we can address them without giving up the benefit.  I have a
</I>&gt;<i> suggestion for a process tweak which would hopefully mitigate some of the
</I>&gt;<i> difficulties which arise due to the compatibility policy.
</I>&gt;<i>
</I>&gt;<i> When we add a new feature that supersedes an older one, or fix a bug in
</I>&gt;<i> Twisted that involves changing behavior, the developer fixing it has to come
</I>&gt;<i> up with a new name.  If we have several behavior-changing bugfixes in the
</I>&gt;<i> same subsystem, that means that developers using Twisted may have to learn
</I>&gt;<i> about 3 different symbol names.  Since we tend to avoid just suffixing names
</I>&gt;<i> with numbers (for good reason, I think), they won't have to learn Bicycle,
</I>&gt;<i> Bicycle2, Bicycle3, they'll have to learn Bicycle, then Footcycle, and
</I>&gt;<i> finally Velocipede, and somehow infer that Velocipede is the newest/best
</I>&gt;<i> name that they should be using, by reading the (hopefully clear, concise)
</I>&gt;<i> warnings that come out of their unit tests.
</I>&gt;<i>
</I>&gt;<i> This came up again recently on a ticket about URLPath,
</I>&gt;<i> &lt;<A HREF="http://twistedmatrix.com/trac/ticket/2625#comment:16">http://twistedmatrix.com/trac/ticket/2625#comment:16</A>&gt;, where a contributor
</I>&gt;<i> suggested that it would be better to make a whole new module because it's
</I>&gt;<i> easier for external developers to learn about that then learn about an
</I>&gt;<i> individual method change.  This of course raises the question: if we're
</I>&gt;<i> going to have a whole new URL class, shouldn't it fix the (numerous) *other*
</I>&gt;<i> bugs that we know about in URLPath?
</I>&gt;<i>
</I>&gt;<i> Up until now the objection to doing things this way is that it results in
</I>&gt;<i> gigantic branches which are intractable to review.  That's a good objection,
</I>&gt;<i> but it leaves us with a false dichotomy; reliable software and painless
</I>&gt;<i> upgrades with a random scattershot of new features that are hard to
</I>&gt;<i> understand, or coherent iterations of technology which can't be effectively
</I>&gt;<i> reviewed, and therefore can't be effectively quality controlled.
</I>&gt;<i>
</I>&gt;<i> I propose that we get the best of both worlds by changing the way we do
</I>&gt;<i> reviews slightly.  Right now every code review needs to be done on an entire
</I>&gt;<i> feature going to trunk, and _all_ of the code going to trunk needs to be
</I>&gt;<i> reviewed at once.  I suggest that instead, we create &quot;integration branches&quot;
</I>&gt;<i> for sensible constellations of features, and have a two-stage review
</I>&gt;<i> process.
</I>&gt;<i>
</I>&gt;<i> For example, let's say I want to work on making URLPath good.  There are
</I>&gt;<i> several tickets addressing it:
</I>&gt;<i>
</I>&gt;<i> &lt;<A HREF="http://twistedmatrix.com/trac/ticket/2093">http://twistedmatrix.com/trac/ticket/2093</A>&gt;
</I>&gt;<i> &lt;<A HREF="http://twistedmatrix.com/trac/ticket/2094">http://twistedmatrix.com/trac/ticket/2094</A>&gt;
</I>&gt;<i> &lt;<A HREF="http://twistedmatrix.com/trac/ticket/2625">http://twistedmatrix.com/trac/ticket/2625</A>&gt;
</I>&gt;<i>
</I>&gt;<i> For the sake of argument, let's all pretend these are all deeply
</I>&gt;<i> interrelated and involve changes to behavior of existing methods.  I think
</I>&gt;<i> that is sort of true of most of these, but it would be far too verbose to
</I>&gt;<i> talk about *how*, and get bogged down in that discussion.
</I>&gt;<i>
</I>&gt;<i> First, I'd make an integration ticket, let's call it #ABCD, describing how
</I>&gt;<i> these features are related and a brief outline of the new API I propose
</I>&gt;<i> which resolves them.
</I>&gt;<i>
</I>&gt;<i> Then I'd create an integration branch from trunk, for that ticket.  From the
</I>&gt;<i> #ABCD branch, I'd create a branch for #2093, and put it up for review.  The
</I>&gt;<i> reviewer would review #2093 as usual, citing any test coverage issues,
</I>&gt;<i> documentation issues, etc.  After the usual review process, when I get an
</I>&gt;<i> &quot;OK to merge&quot;, I would merge #2093 *to the #ABCD branch*, not trunk.
</I>&gt;<i>
</I>&gt;<i> I would repeat this process for #2094 and #2625, merging each to the #ABCD
</I>&gt;<i> branch as they passed review.
</I>&gt;<i>
</I>&gt;<i> Finally, I'd put #ABCD itself up for review.  At this point the process
</I>&gt;<i> would differ a bit.  Reviewers would be able to assume, at this point, that
</I>&gt;<i> the potentially large body of code in #ABCD had already been reviewed, that
</I>&gt;<i> the test cases were good, the documentation was reasonably clear, and the
</I>&gt;<i> logic made sense.  This final review would be a quick sanity check, to make
</I>&gt;<i> sure the tests still pass and that there are no conflicts.
</I>&gt;<i>
</I>&gt;<i> I would like to strongly emphasize that this point in the process would be
</I>&gt;<i> an inappropriate time for reviewers to start arguing with each other over
</I>&gt;<i> what is required for the branch to land, disputing the original
</I>&gt;<i> specification, etc; this is just an opportunity to spot potential
</I>&gt;<i> regressions before it lands.  Each ticket review for a component of the
</I>&gt;<i> larger feature should be an opportunity to draw attention to the direction
</I>&gt;<i> of the larger feature development and prompt discussion.  This *might* be an
</I>&gt;<i> appropriate point to note that some other behavior-changing feature had been
</I>&gt;<i> left out, though.
</I>&gt;<i>
</I>&gt;<i> In the case that there *were* conflicts, this would be an opportunity to
</I>&gt;<i> review the conflict resolution itself.
</I>&gt;<i>
</I>&gt;<i> (We saw a nascent version of this approach on some stuff related to
</I>&gt;<i> &lt;<A HREF="http://twistedmatrix.com/trac/ticket/886">http://twistedmatrix.com/trac/ticket/886</A>&gt; and it was hugely painful because
</I>&gt;<i> nobody was really sure what the process was supposed to be.  So let's not do
</I>&gt;<i> it like that again.)
</I>&gt;<i>
</I>&gt;<i> So: thoughts?  Does this make sense as a policy change for facilitating the
</I>&gt;<i> development of major new features or consolidating behavior-changing fixes
</I>&gt;<i> into easier-to-understand units?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>
-- 
Nos큰t카ts no manas mobil훮s ier카ces

--
Konrads Smelkovs
Applied IT sorcery.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="054755.html">[Twisted-Python] major changes, release engineering,	and learning cost
</A></li>
	<LI>Next message (by thread): <A HREF="054739.html">[Twisted-Python] PB and unstable network
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54758">[ date ]</a>
              <a href="thread.html#54758">[ thread ]</a>
              <a href="subject.html#54758">[ subject ]</a>
              <a href="author.html#54758">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
