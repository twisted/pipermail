<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] deferreds and unpacking binary data
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20deferreds%20and%20unpacking%20binary%20data&In-Reply-To=%3CAANLkTimgFiraSdCQd_FtNUKjmrbdOpZjJIjNMnfznUZG%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="054703.html">
   <LINK REL="Next"  HREF="054705.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] deferreds and unpacking binary data</H1>
    <B>Xtroce</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20deferreds%20and%20unpacking%20binary%20data&In-Reply-To=%3CAANLkTimgFiraSdCQd_FtNUKjmrbdOpZjJIjNMnfznUZG%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] deferreds and unpacking binary data">xtroce at gmail.com
       </A><BR>
    <I>Mon May 10 11:01:44 MDT 2010</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="054703.html">[Twisted-Python] inlineCallbacks vs explicit callbacks:	performance concerns?
</A></li>
        <LI>Next message (by thread): <A HREF="054705.html">[Twisted-Python] deferreds and unpacking binary data
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54704">[ date ]</a>
              <a href="thread.html#54704">[ thread ]</a>
              <a href="subject.html#54704">[ subject ]</a>
              <a href="author.html#54704">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Question: A Protocol should unpack some binary data. this is done in
seperate calls to struct.unpack . Inbetween i do some checks for
length, some strings returned are concatenated using join and logs are
written. This all happens in the factory of the Protocol. To keep the
code unblocking would it be wiser to spawn new Threads from the
Protocol around the whole function, like:
d = threads.deferToThread(self.factory.readPackage, data)
 because it all has to happen after one another anyway.
Or should i split it up in deferreds which if i get it correctly would
mean to create callback functions for each of the unpack()'s, join()'s
and str()'s
thanks


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="054703.html">[Twisted-Python] inlineCallbacks vs explicit callbacks:	performance concerns?
</A></li>
	<LI>Next message (by thread): <A HREF="054705.html">[Twisted-Python] deferreds and unpacking binary data
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54704">[ date ]</a>
              <a href="thread.html#54704">[ thread ]</a>
              <a href="subject.html#54704">[ subject ]</a>
              <a href="author.html#54704">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
