<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Reactor Spinning?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Reactor%20Spinning%3F&In-Reply-To=4BE025C2.5010205%40thoughtcrime.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022161.html">
   <LINK REL="Next"  HREF="022162.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Reactor Spinning?</H1>
    <B>exarkun at twistedmatrix.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Reactor%20Spinning%3F&In-Reply-To=4BE025C2.5010205%40thoughtcrime.org"
       TITLE="[Twisted-Python] Reactor Spinning?">exarkun at twistedmatrix.com
       </A><BR>
    <I>Tue May  4 17:42:40 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="022161.html">[Twisted-Python] Reactor Spinning?
</A></li>
        <LI>Next message: <A HREF="022162.html">[Twisted-Python] Reactor Spinning?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22151">[ date ]</a>
              <a href="thread.html#22151">[ thread ]</a>
              <a href="subject.html#22151">[ subject ]</a>
              <a href="author.html#22151">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 01:48 pm, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">moxie at thoughtcrime.org</A> wrote:
&gt;<i>
</I>&gt;<i>Hey Twisted folks,
</I>&gt;<i>
</I>&gt;<i>I'm using the twisted.web framework for a high performance HTTP proxy
</I>&gt;<i>server that very closely resembles the HTTP proxy server example that
</I>&gt;<i>comes with the twisted package.
</I>&gt;<i>
</I>&gt;<i>Under heavy load, I occasionally run into a problem where the reactor
</I>&gt;<i>appears to start spinning on an &quot;empty&quot; write.  An strace of the 
</I>&gt;<i>process
</I>&gt;<i>reveals these system calls:
</I>&gt;<i>
</I>&gt;<i>epoll_wait(3, {{EPOLLOUT, {u32=81, u64=13194703840475086929}}}, 269, 8) 
</I>&gt;<i>= 1
</I>&gt;<i>write(81, &quot;&quot;, 0)                        = 0
</I>
It might be interesting to learn what's in the reactor that's associated 
with this file descriptor and what the state of its send buffer is. 
Some strategically placed log messages might help with that, or a 
manhole in the process that you can connect to when you notice the 
problem has started in order to poke around.

Jean-Paul

</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022161.html">[Twisted-Python] Reactor Spinning?
</A></li>
	<LI>Next message: <A HREF="022162.html">[Twisted-Python] Reactor Spinning?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22151">[ date ]</a>
              <a href="thread.html#22151">[ thread ]</a>
              <a href="subject.html#22151">[ subject ]</a>
              <a href="author.html#22151">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
