<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Performance issue in reactor.callLater
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Performance%20issue%20in%20reactor.callLater&In-Reply-To=1094479111.28078.0.camel%40sheriffpony">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008542.html">
   <LINK REL="Next"  HREF="008543.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Performance issue in reactor.callLater</H1>
    <B>Bob Ippolito</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Performance%20issue%20in%20reactor.callLater&In-Reply-To=1094479111.28078.0.camel%40sheriffpony"
       TITLE="[Twisted-Python] Performance issue in reactor.callLater">bob at redivi.com
       </A><BR>
    <I>Mon Sep  6 13:19:17 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="008542.html">[Twisted-Python] Performance issue in reactor.callLater
</A></li>
        <LI>Next message: <A HREF="008543.html">[Twisted-Python] Performance issue in reactor.callLater
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8541">[ date ]</a>
              <a href="thread.html#8541">[ thread ]</a>
              <a href="subject.html#8541">[ subject ]</a>
              <a href="author.html#8541">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Sep 6, 2004, at 9:58 AM, Itamar Shtull-Trauring wrote:

&gt;<i> On Mon, 2004-09-06 at 09:43, Stefan Behnel wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Are there any objections to replacing the current implementation?
</I>&gt;<i>
</I>&gt;<i> Not if yours is faster :) I would like to see some benchmarks comparing
</I>&gt;<i> speed of adding and cancelling for cases with many scheduled calls, but
</I>&gt;<i> also for cases with few calls, so we can see if your patches slow down
</I>&gt;<i> other cases.
</I>
There's also the fact that this:

def infiniteLoop():
	reactor.callLater(0.0, infiniteLoop)

will just destroy Twisted because the current loop iteration will never 
finish.

In my non-Twisted implementation of the same concept, during each 
iteration I keep a list of new timers, which gets merged into the heap 
at the end of each iteration (so that they will be in the heap for the 
next round).

I'm not sure I understand the logic behind _cleanUpCallLater in the 
patch?  It doesn't seem right, especially for delayed, but I didn't 
really read very carefully.

-bob


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008542.html">[Twisted-Python] Performance issue in reactor.callLater
</A></li>
	<LI>Next message: <A HREF="008543.html">[Twisted-Python] Performance issue in reactor.callLater
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8541">[ date ]</a>
              <a href="thread.html#8541">[ thread ]</a>
              <a href="subject.html#8541">[ subject ]</a>
              <a href="author.html#8541">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
