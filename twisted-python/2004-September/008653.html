<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Fwd: [Twisted-commits] r11721 - revert r11685
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Fwd%3A%20%5BTwisted-commits%5D%20r11721%20-%20revert%20r11685&In-Reply-To=C4DA5F5A-0A9A-11D9-92A7-000A95A50FB2%40fuhm.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008651.html">
   <LINK REL="Next"  HREF="008655.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Fwd: [Twisted-commits] r11721 - revert r11685</H1>
    <B>exarkun at divmod.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Fwd%3A%20%5BTwisted-commits%5D%20r11721%20-%20revert%20r11685&In-Reply-To=C4DA5F5A-0A9A-11D9-92A7-000A95A50FB2%40fuhm.net"
       TITLE="[Twisted-Python] Fwd: [Twisted-commits] r11721 - revert r11685">exarkun at divmod.com
       </A><BR>
    <I>Sun Sep 19 22:35:48 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="008651.html">[Twisted-Python] Fwd: [Twisted-commits] r11721 - revert r11685
</A></li>
        <LI>Next message: <A HREF="008655.html">[Twisted-Python] Fwd: [Twisted-commits] r11721 - revert r11685
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8653">[ date ]</a>
              <a href="thread.html#8653">[ thread ]</a>
              <a href="subject.html#8653">[ subject ]</a>
              <a href="author.html#8653">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, 19 Sep 2004 20:19:42 -0400, James Y Knight &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">foom at fuhm.net</A>&gt; wrote:
&gt;<i>On Sep 19, 2004, at 12:30 PM, &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at divmod.com</A>&gt; wrote:
</I>&gt;<i> &gt; twisted/web2 has an unacceptable dependency on nevow that will need to 
</I>&gt;<i> &gt; be
</I>&gt;<i> &gt; discussed or removed before this subpackage can be added.
</I>&gt;<i> 
</I>&gt;<i> First off -- I consider this a rude thing to do, considering I am far 
</I>&gt;<i> from being unreachable. What was the emergency that prompted this 
</I>&gt;<i> removal at midnight on a saturday night? None? Yeah, that's what I 
</I>&gt;<i> thought.
</I>
  I'm sorry you took it this way.  I assure you I had nothing in mind but the best interest of Twisted at the time.  I appreciate all the work you've done on the web rewrite.

  As to the &quot;emergency&quot; which prompted the removal: I was trying to commit a patch to twisted.mail; various problems led to this taking several hours.  Several of these problems had nothing to do with web2, but the failing web2 tests were a contributing factor.

  I did not come up with the idea to revert the web2 commit on the spot.  Commits which introduce broken tests have always been fair game for reversion.  Since the web2 tests were _new_, perhaps a different policy might apply.  I'd certainly be willing to entertain arguments to that effect to decide what should be done in the future.  I do not think reverting the commit was unreasonable here, though.

&gt;<i> [snip]
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     There is no release of Nevow.
</I>&gt;<i> 
</I>&gt;<i> There is. Although it's old. This is a very good reason for not 
</I>&gt;<i> releasing twisted.web2. Fortunately, since we have decoupled releases 
</I>&gt;<i> now, it doesn't affect anything else.
</I>
  Perhaps I should have added &quot;that which make this code work.&quot;

  Decoupled releases are good, yes.  That solves one problem with checking broken tests (the tests may pass with nevow installed, I still haven't tried, that doesn't mean they aren't broken though).  There are others.

&gt;<i> 
</I>&gt;<i> &gt;     None of the buildslaves have even an SVN trunk checkout installed, 
</I>&gt;<i> &gt; nor have any of them been asked to install one.
</I>&gt;<i> 
</I>&gt;<i> True.
</I>
  So before we re-add twisted.web2, let's see what we can do about fixing this situation.

&gt;<i> 
</I>&gt;<i> &gt;     Developers weren't told about this new dependency, so they may not 
</I>&gt;<i> &gt; have it installed.
</I>&gt;<i> 
</I>&gt;<i> twisted-web ml was. I don't expect developers that don't care about 
</I>&gt;<i> twisted web to install Nevow.
</I>
  If the tests were skipped when nevow was not installed, this would be reasonable.  Since they're not, developers who don't care about twisted web are forced to care about it.

&gt;<i> 
</I>&gt;<i> &gt; This leads to strangely failing tests, making it difficult to tell if 
</I>&gt;<i> &gt; outstanding changes that a developer wants to commit are broken.
</I>&gt;<i> 
</I>&gt;<i> I assume you mean &quot;Could not import twisted.web2.test.test_web: 
</I>&gt;<i> Traceback: exceptions.ImportError, No module named nevow.&quot;. If so,  
</I>&gt;<i> &quot;strangely failing tests&quot; is quite a hyperbole.
</I>&gt;<i> 
</I>&gt;<i> &gt;   The technical reasons:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     Nevow imports Twisted.  Therefore, Twisted should not import Nevow.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     Twisted is the networking framework and the web server framework.  
</I>&gt;<i> &gt; It is lower level than the application server and the templating 
</I>&gt;<i> &gt; system.  The latter should depend on the former, if a dependency 
</I>&gt;<i> &gt; exists, not the reverse.  _If_ it is desired for Twisted to gain 
</I>&gt;<i> &gt; functionality from a Nevow installed, Nevow must be careful to only 
</I>&gt;<i> &gt; import certain things from Twisted.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;  I would much prefer if Nevow gained functionality from Twisted and 
</I>&gt;<i> &gt; not the reverse, but if twisted.web/nevow developers desire things to 
</I>&gt;<i> &gt; work as they do currently in twisted.web2, at least the above issues 
</I>&gt;<i> &gt; need to be addressed.  This thread should serve to resolve one of them 
</I>&gt;<i> &gt; (hopefully Twisted developers are now aware of the potential 
</I>&gt;<i> &gt; dependency ;).
</I>&gt;<i> 
</I>&gt;<i> Most of Twisted web2 does not/will not depend on Nevow. Generation of 
</I>&gt;<i> some server-generated pages does/will. Those tests should just be 
</I>&gt;<i> skipped if Nevow isn't installed. That they aren't is an issue, sure.
</I>
  Okay, let's get that fixed as well, then I will gladly re-add web2 for you.  If you like, I will also merge the minor fixes that were made to trunk into the web2 branch, so that those are not lost.

&gt;<i> 
</I>&gt;<i> If you want to have any input on these technical matters I suggest 
</I>&gt;<i> participating on the twisted-web mailing list instead of just randomly 
</I>&gt;<i> removing code.
</I>
  I am happy with my current level of avoidance of twisted web, discounting this most recent event.  I hope that in the future web2 can be handled in such a way that it is not disruptive to those of us who are not interested in it.

  Jp


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008651.html">[Twisted-Python] Fwd: [Twisted-commits] r11721 - revert r11685
</A></li>
	<LI>Next message: <A HREF="008655.html">[Twisted-Python] Fwd: [Twisted-commits] r11721 - revert r11685
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8653">[ date ]</a>
              <a href="thread.html#8653">[ thread ]</a>
              <a href="subject.html#8653">[ subject ]</a>
              <a href="author.html#8653">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
