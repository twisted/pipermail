<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Performance issue in reactor.callLater
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Performance%20issue%20in%20reactor.callLater&In-Reply-To=%3CE4EAAE3D-00FE-11D9-9C5C-000A95686CD8%40redivi.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="041070.html">
   <LINK REL="Next"  HREF="041091.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Performance issue in reactor.callLater</H1>
    <B>Bob Ippolito</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Performance%20issue%20in%20reactor.callLater&In-Reply-To=%3CE4EAAE3D-00FE-11D9-9C5C-000A95686CD8%40redivi.com%3E"
       TITLE="[Twisted-Python] Performance issue in reactor.callLater">bob at redivi.com
       </A><BR>
    <I>Tue Sep  7 12:51:14 MDT 2004</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="041070.html">[Twisted-Python] Performance issue in reactor.callLater
</A></li>
        <LI>Next message (by thread): <A HREF="041091.html">[Twisted-Python] Performance issue in reactor.callLater
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41075">[ date ]</a>
              <a href="thread.html#41075">[ thread ]</a>
              <a href="subject.html#41075">[ subject ]</a>
              <a href="author.html#41075">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Sep 7, 2004, at 2:28 PM, Itamar Shtull-Trauring wrote:

&gt;<i> On Tue, 2004-09-07 at 14:13, Glyph Lefkowitz wrote:
</I>&gt;<i>
</I>&gt;&gt;&gt;<i>    heapq.py is under the PSF license.  PSF is roughly similar to MIT.
</I>&gt;&gt;&gt;<i> Is this going to be okay for inclusion in Twisted?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It's part of Python, so I don't see why that would be necessary.
</I>&gt;<i>
</I>&gt;<i> This is patched / somehow different version.
</I>&gt;<i>
</I>&gt;&gt;<i> However, I have profiled various heapq-based schemes for callLater in
</I>&gt;&gt;<i> the past, and they always end up losing pretty big in the average 
</I>&gt;&gt;<i> case,
</I>&gt;&gt;<i> and winning only in perverse cases such as hundreds of callLater(0)s 
</I>&gt;&gt;<i> per
</I>&gt;&gt;<i> tick.  I saw a little discussion of the performance impact, but I am
</I>&gt;&gt;<i> still not entirely convinced that it's a good idea.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Obviously we wouldn't commit without further performance testing.
</I>
What is the &quot;average&quot; case anyway?  For what application?  Where are 
the performance tests coming from?

There is at least one scenario where it makes perfect sense to do a lot 
of callLater(0.0, ...), when you're doing computation but trying not to 
block.

Though, of course, you would do something like callLater(0.00001, ...) 
in the current Twisted, because callLater(0.0, ...) pretty much blocks.

-bob


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="041070.html">[Twisted-Python] Performance issue in reactor.callLater
</A></li>
	<LI>Next message (by thread): <A HREF="041091.html">[Twisted-Python] Performance issue in reactor.callLater
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41075">[ date ]</a>
              <a href="thread.html#41075">[ thread ]</a>
              <a href="subject.html#41075">[ subject ]</a>
              <a href="author.html#41075">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
