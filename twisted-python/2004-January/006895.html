<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: IRC Client examples...  PLEASE HELP
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20IRC%20Client%20examples...%20%20PLEASE%20HELP&In-Reply-To=45EA9A45-3C2B-11D8-ADCB-0030656C6B9E%40webcrunchers.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006894.html">
   <LINK REL="Next"  HREF="006896.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: IRC Client examples...  PLEASE HELP</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20IRC%20Client%20examples...%20%20PLEASE%20HELP&In-Reply-To=45EA9A45-3C2B-11D8-ADCB-0030656C6B9E%40webcrunchers.com"
       TITLE="[Twisted-Python] Re: IRC Client examples...  PLEASE HELP">glyph at twistedmatrix.com
       </A><BR>
    <I>Thu Jan  1 10:47:37 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="006894.html">[Twisted-Python] Re: IRC Client examples...  PLEASE HELP
</A></li>
        <LI>Next message: <A HREF="006896.html">[Twisted-Python] Re: Where is best place to put my custom code?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6895">[ date ]</a>
              <a href="thread.html#6895">[ thread ]</a>
              <a href="subject.html#6895">[ subject ]</a>
              <a href="author.html#6895">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Jan 1, 2004, at 2:22 AM, JD wrote:

&gt;<i> One of my main problems is where to put my code.   Do I put it in the 
</I>&gt;<i> factory class,
</I>&gt;<i> or do I put it in the Client class?   One always points to the other.  
</I>&gt;<i>  I suppose it don't really matter,
</I>&gt;<i> but I'm sure the author(s) of twisted have their OWN ideas of where to 
</I>&gt;<i> put their specific code,
</I>&gt;<i> but they sure don't seem to have been very sucessful in conveying this 
</I>&gt;<i> info to others.
</I>
It depends.

The general pattern for Twisted code is to separate protocol logic from 
application logic.  Your protocol subclass should translate from 
protocol-level events (IRCClient.signedOn, in this case) to 
application-level events (like a hypothetical 
'jd.ChatterRobot.nowOnIRCAs(nick)' method).  As for division between 
&quot;protocol&quot; and &quot;factory&quot; - try to make it so that your factory class 
can support multiple connected clients at once.  It should be small.  
Any logic associated with a particular connection should go in the 
protocol class, and any logic associated with all connections 
simultaneously must at least be referenced from the factory class.  
Generally it's a bad idea to put that logic actually into the protocol 
class because that establishes a hard dependency between network code 
and application logic which makes your application logic harder to 
write test cases for.

This pattern breaks down by necessity when dealing with very 
network-heavy code, or abstractions over things that have to logically 
understand IP addresses and the like.   However, try to follow the 
general rule as much as possible even in this kind of code.

The reason that nobody has suggested a particular answer to your 
problem is that the best approach involves keeping your code in an 
organization that best fits your problem domain, and is not dictated by 
Twisted.  As long as the network events make it from the reactor to 
your python objects, there are few constraints as to how to organize 
those objects, and most of those have to do with starting up and 
shutting down cleanly in the context of bin/twistd.

&gt;<i> I know it's mostly due to my lack of knowledge,  but the only part 
</I>&gt;<i> that's really well documented
</I>&gt;<i> is the Twisted Web section.
</I>
I know our docs aren't the best, but I think that these cover the 
relevant organization issues:

	<A HREF="http://www.twistedmatrix.com/documents/howto/servers">http://www.twistedmatrix.com/documents/howto/servers</A>
	<A HREF="http://www.twistedmatrix.com/documents/howto/clients">http://www.twistedmatrix.com/documents/howto/clients</A>

and they have nothing to do with Twisted Web.

If you disagree, and there is really a particular documentation 
problem, open a doc bug in the tracker 
(<A HREF="http://www.twistedmatrix.com/bugs">http://www.twistedmatrix.com/bugs</A>) and assign it to &quot;hypatia&quot;.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: PGP.sig
Type: application/pgp-signature
Size: 186 bytes
Desc: This is a digitally signed message part
Url : <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20040101/b65ac0eb/attachment.pgp">http://twistedmatrix.com/pipermail/twisted-python/attachments/20040101/b65ac0eb/attachment.pgp</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006894.html">[Twisted-Python] Re: IRC Client examples...  PLEASE HELP
</A></li>
	<LI>Next message: <A HREF="006896.html">[Twisted-Python] Re: Where is best place to put my custom code?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6895">[ date ]</a>
              <a href="thread.html#6895">[ thread ]</a>
              <a href="subject.html#6895">[ subject ]</a>
              <a href="author.html#6895">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
