<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] deferred proposed update
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20deferred%20proposed%20update&In-Reply-To=%3C4017FDF0.3070707%40free.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="039519.html">
   <LINK REL="Next"  HREF="039527.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] deferred proposed update</H1>
    <B>Fabrice Coudert</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20deferred%20proposed%20update&In-Reply-To=%3C4017FDF0.3070707%40free.fr%3E"
       TITLE="[Twisted-Python] deferred proposed update">fab.coudert at free.fr
       </A><BR>
    <I>Wed Jan 28 11:22:40 MST 2004</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="039519.html">[Twisted-Python] deferred proposed update
</A></li>
        <LI>Next message (by thread): <A HREF="039527.html">[Twisted-Python] deferred proposed update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39526">[ date ]</a>
              <a href="thread.html#39526">[ thread ]</a>
              <a href="subject.html#39526">[ subject ]</a>
              <a href="author.html#39526">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Tommi Virtanen a Ã©crit :

&gt;<i> Fabrice Coudert wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> I 'd like to add a pre-processing and post-processing callback in a 
</I>&gt;&gt;<i> deferred callback list. I did somthing like this :
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; my_defer = getADeferredForSomething()
</I>&gt;<i> &gt; new_defer = defer.Deferred()
</I>&gt;<i> &gt; new_defer.addCallback(preprocessing)
</I>&gt;<i> &gt; new_defer.chainDeferred(my_defer)
</I>&gt;<i> &gt; new_defer.addCallback(postprocessing)
</I>&gt;<i> &gt; my_defer = new_defer
</I>&gt;<i>
</I>&gt;<i> You are using Deferreds incorrectly. For example, nothing here
</I>&gt;<i> makes new_defer ever trigger.
</I>
It is a sample code to show inconcistency of chainDeferred, not a real 
case. Add my_defer.callback(True) after the sample code if you'd like 
and trace it. You should see that postprocessing() is called with None 
argument, but not with the result of previous callback as it should be 
with a normal behaviour of deferred callbacks (read the tutorial)

&gt;<i>
</I>&gt;<i> You haven't stated clearly what you want to do, but I don't see
</I>&gt;<i> why you aren't just doing this:
</I>&gt;<i>
</I>&gt;<i> d = getADeferredForSomething()
</I>&gt;<i> d.addCallback(preprocessing)
</I>&gt;<i> d.addCallback(theRealMcCoy)
</I>&gt;<i> d.addCallback(postprocessing)
</I>&gt;<i>
</I>Same as before, it is a *sample code*.
In real case theRealMcCoy (and some more methodes) is added before I 
need to add a post/preprocessing to that defer.

So, I restate the probleme with chainDeferred : 
chainDeferred(d) is equivalent to addCallbacks(d.callback, d.errback), 
but this two methods are not really sort of callback methods for 
deferred coz they didn't return a result.

effcy.







</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="039519.html">[Twisted-Python] deferred proposed update
</A></li>
	<LI>Next message (by thread): <A HREF="039527.html">[Twisted-Python] deferred proposed update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39526">[ date ]</a>
              <a href="thread.html#39526">[ thread ]</a>
              <a href="subject.html#39526">[ subject ]</a>
              <a href="author.html#39526">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
