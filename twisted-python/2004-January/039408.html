<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] automating startup of twistd application.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20automating%20startup%20of%20twistd%20application.&In-Reply-To=%3C20040102185248.GA30148%40intarweb.us%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="039407.html">
   <LINK REL="Next"  HREF="039409.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] automating startup of twistd application.</H1>
    <B>Jp Calderone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20automating%20startup%20of%20twistd%20application.&In-Reply-To=%3C20040102185248.GA30148%40intarweb.us%3E"
       TITLE="[Twisted-Python] automating startup of twistd application.">exarkun at intarweb.us
       </A><BR>
    <I>Fri Jan  2 11:52:48 MST 2004</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="039407.html">[Twisted-Python] automating startup of twistd application.
</A></li>
        <LI>Next message (by thread): <A HREF="039409.html">[Twisted-Python] automating startup of twistd application.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39408">[ date ]</a>
              <a href="thread.html#39408">[ thread ]</a>
              <a href="subject.html#39408">[ subject ]</a>
              <a href="author.html#39408">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Jan 02, 2004 at 12:55:12PM +0100, Syver Enstad wrote:
&gt;<i> 
</I>&gt;<i> I have a twistd daemon that runs a custom application (.tap). When
</I>&gt;<i> starting up the daemon I have to enter the root password and a
</I>&gt;<i> passphrase for SSL interactively from the console (the app runs a
</I>&gt;<i> twisted web server for HTTP and HTTPS).
</I>&gt;<i> 
</I>&gt;<i> Because I want to do some automatic maintenace tasks I need to be able
</I>&gt;<i> to start and stop the daemon from a script. Unfortunately I have
</I>&gt;<i> little knowledge of Linux and the twistd daemon/application and need
</I>&gt;<i> some input on how to attack this problem.
</I>&gt;<i> 
</I>
  Requiring the passphrase to decrypt the SSL certificate is a measure of
security.  It makes it more difficult for attackers to trick your users into
thinking the attacker is you, by rendering the certificate useless in the
absense of the passphrase.

  If the passphrase is sitting in a plaintext file somewhere, waiting to be
used by the script that restarts your daemon, this security is negated -
attackers need now only read the script in addition to copying the
certificate.

  If the passphrase is stored encrypted, then this could be avoided, but
then you would have to type in a passphrase to decrypt that.  Of course, you
could store that passphrase in a file....  Hopefully you see where this is
leading.

  Choose security or convenience here (there is a third alternative - come
up with a new system that is both secure and convenient).  If you want
security, you can't automate this process; if you want convenience, you may
as well store the certificate plaintext, because you're buying little by
encrypting it and leaving a passphrase lying around for anyone to use.

  Lateral thinking may produce an acceptable solution - for example, wrap
the twistd restarter in a native setuid root executable, store the
certificate plaintext and readable only as root.  (Still if the filesystem
is stolen, the certificate has been compromised.  But an encrypted
filesystem alleviates this problem.)

  Hope this helps,

  Jp
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 189 bytes
Desc: Digital signature
URL: &lt;/pipermail/twisted-python/attachments/20040102/c7c4d2cf/attachment.sig&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="039407.html">[Twisted-Python] automating startup of twistd application.
</A></li>
	<LI>Next message (by thread): <A HREF="039409.html">[Twisted-Python] automating startup of twistd application.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39408">[ date ]</a>
              <a href="thread.html#39408">[ thread ]</a>
              <a href="subject.html#39408">[ subject ]</a>
              <a href="author.html#39408">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
