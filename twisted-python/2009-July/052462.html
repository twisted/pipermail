<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re adbapi and multiple queries in single	transaction.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Re%20adbapi%20and%20multiple%20queries%20in%20single%0A%09transaction.&In-Reply-To=%3CE3137F97B0A0804194F369F4E7C3B71927B9A78536%40EXCHANGE.persistent.co.in%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="052458.html">
   <LINK REL="Next"  HREF="052463.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re adbapi and multiple queries in single	transaction.</H1>
    <B>Vishal Shetye</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Re%20adbapi%20and%20multiple%20queries%20in%20single%0A%09transaction.&In-Reply-To=%3CE3137F97B0A0804194F369F4E7C3B71927B9A78536%40EXCHANGE.persistent.co.in%3E"
       TITLE="[Twisted-Python] Re adbapi and multiple queries in single	transaction.">vishal_shetye at persistent.co.in
       </A><BR>
    <I>Tue Jul 14 08:29:07 MDT 2009</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="052458.html">[Twisted-Python] Twisted and unladen swallow
</A></li>
        <LI>Next message (by thread): <A HREF="052463.html">[Twisted-Python] Cancel/stop Deferred() at any time
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52462">[ date ]</a>
              <a href="thread.html#52462">[ thread ]</a>
              <a href="subject.html#52462">[ subject ]</a>
              <a href="author.html#52462">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I went through several posts and blogs regarding long lived transactions in twisted.

Some of them are

-        A bug with current status won't fix. <A HREF="http://twistedmatrix.com/trac/ticket/303">http://twistedmatrix.com/trac/ticket/303</A>

-        Laxdb from sandbox. <A HREF="http://archives.free.net.ph/message/20050831.235536.440061b8.en.html#twisted-python">http://archives.free.net.ph/message/20050831.235536.440061b8.en.html#twisted-python</A>

-        A blog entry by glyph. <A HREF="http://glyph.twistedmatrix.com/2008/12/databases-and-twisted-when-threads-are.html">http://glyph.twistedmatrix.com/2008/12/databases-and-twisted-when-threads-are.html</A>


I have a scenario as given below. All the steps to be done sequentially and in a single transaction.
1. do some db queries.
2. interact with some module that uses twisted framework.
3. do some db queries.

As I can see adbapi's runInteraction runs the interaction in a new thread.
I read that most of the twisted code is not thread safe so it is recommended not to use anything except for the reactor.callFromThread in the threads other than reactor's main thread.
Does this mean that only approach remains is something similar to laxdb?

The bug mentioned above says patch provided has a DOS problem and solution is to use separate threadpools. Does the same problem exist with laxdb?

Regards,
vishal

DISCLAIMER
==========
This e-mail may contain privileged and confidential information which is the property of Persistent Systems Ltd. It is intended only for the use of the individual or entity to which it is addressed. If you are not the intended recipient, you are not authorized to read, retain, copy, print, distribute or use this message. If you have received this communication in error, please notify the sender and delete all copies of this message. Persistent Systems Ltd. does not accept any liability for virus infected mails.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20090714/4a0616c4/attachment-0001.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="052458.html">[Twisted-Python] Twisted and unladen swallow
</A></li>
	<LI>Next message (by thread): <A HREF="052463.html">[Twisted-Python] Cancel/stop Deferred() at any time
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52462">[ date ]</a>
              <a href="thread.html#52462">[ thread ]</a>
              <a href="subject.html#52462">[ subject ]</a>
              <a href="author.html#52462">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
