<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Problem with twisted.names.client.lookupPointer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Problem%20with%20twisted.names.client.lookupPointer&In-Reply-To=4A62B05D.2070504%40digital-crocus.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019991.html">
   <LINK REL="Next"  HREF="019997.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Problem with twisted.names.client.lookupPointer</H1>
    <B>Jean-Paul Calderone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Problem%20with%20twisted.names.client.lookupPointer&In-Reply-To=4A62B05D.2070504%40digital-crocus.com"
       TITLE="[Twisted-Python] Problem with twisted.names.client.lookupPointer">exarkun at divmod.com
       </A><BR>
    <I>Sun Jul 19 07:51:56 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="019991.html">[Twisted-Python] Problem with twisted.names.client.lookupPointer
</A></li>
        <LI>Next message: <A HREF="019997.html">[Twisted-Python] Simple Epoll Reactor question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19993">[ date ]</a>
              <a href="thread.html#19993">[ thread ]</a>
              <a href="subject.html#19993">[ subject ]</a>
              <a href="author.html#19993">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, 19 Jul 2009 06:34:21 +0100, Kieran Simkin &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">kieran at digital-crocus.com</A>&gt; wrote:
&gt;<i>Hi there,
</I>&gt;<i>I'm trying to do some reverse DNS lookups with twisted and I don't seem to 
</I>&gt;<i>be able to get even the most simple of test cases to work. I've tried it on 
</I>&gt;<i>a couple of different installations with the same results, perhaps someone 
</I>&gt;<i>can help me?
</I>
lookupPointer is a pretty low-level interface.  It's just going to give you
back the records that the DNS server it talks to gives back.  This also means
that its behavior can very based on which DNS servers it ends up using.  You
are probably interested in a higher level API that does the additional
sorting-out that's required to get the value you're actually asking for.
Unfortunately, this API isn't provided by Twisted Names (yet! :).

That said, you might be encountering a problem not related to this.

&gt;<i>My test case is this:
</I>&gt;<i>----------------------------------------------------------------------------------
</I>&gt;<i>from twisted.names import client
</I>&gt;<i>from twisted.internet import reactor
</I>&gt;<i>def callback(a):
</I>&gt;<i>    print repr(a)
</I>&gt;<i>
</I>&gt;<i>client.lookupPointer('128.244.209.91.in-addr.arpa').addCallback(callback)
</I>&gt;<i>reactor.run()
</I>&gt;<i>----------------------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i>The output I'm getting from this program is as follows:
</I>&gt;<i>([&lt;RR name=128.244.209.91.in-addr.arpa type=PTR class=IN ttl=9777s 
</I>&gt;<i>auth=False&gt;], [&lt;RR name=244.209.91.in-addr.arpa type=NS class=IN ttl=8348s 
</I>&gt;<i>auth=False&gt;, &lt;RR name=244.209.91.in-addr.arpa type=NS class=IN ttl=8348s 
</I>&gt;<i>auth=False&gt;], [&lt;RR name=ns1.solsticehosting.net type=A class=IN ttl=8348s 
</I>&gt;<i>auth=False&gt;, &lt;RR name=ns2.solsticehosting.net type=A class=IN ttl=8348s 
</I>&gt;<i>auth=False&gt;])
</I>&gt;<i>
</I>&gt;<i>Nowhere in this output is the actual PTR record - the first entry looks like 
</I>&gt;<i>it should be the PTR record, but the name is '128.244.209.91.in-addr.arpa' - 
</I>&gt;<i>I'm expecting it to be node2.digital-crocus.com. Can anyone clarify whether 
</I>&gt;<i>I'm doing something wrong or if this is in fact a bug?
</I>
What you get back from the lookup methods are &quot;RR&quot; objects.  These are the
generic wrapping layer around any record-specific data.  If you look at the
first entry's &quot;payload&quot; attribute, I think you'll find a Record_PTR instance
which has the information you're after.

Jean-Paul

</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019991.html">[Twisted-Python] Problem with twisted.names.client.lookupPointer
</A></li>
	<LI>Next message: <A HREF="019997.html">[Twisted-Python] Simple Epoll Reactor question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19993">[ date ]</a>
              <a href="thread.html#19993">[ thread ]</a>
              <a href="subject.html#19993">[ subject ]</a>
              <a href="author.html#19993">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
