<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Cancel/stop Deferred() at any time
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Cancel/stop%20Deferred%28%29%20at%20any%20time&In-Reply-To=20090714111010.67973qnlxsgjlxgk%40216.129.205.5">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019955.html">
   <LINK REL="Next"  HREF="019957.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Cancel/stop Deferred() at any time</H1>
    <B>Jean-Paul Calderone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Cancel/stop%20Deferred%28%29%20at%20any%20time&In-Reply-To=20090714111010.67973qnlxsgjlxgk%40216.129.205.5"
       TITLE="[Twisted-Python] Cancel/stop Deferred() at any time">exarkun at divmod.com
       </A><BR>
    <I>Tue Jul 14 11:21:40 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="019955.html">[Twisted-Python] Cancel/stop Deferred() at any time
</A></li>
        <LI>Next message: <A HREF="019957.html">[Twisted-Python] Cancel/stop Deferred() at any time
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19956">[ date ]</a>
              <a href="thread.html#19956">[ thread ]</a>
              <a href="subject.html#19956">[ subject ]</a>
              <a href="author.html#19956">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, 14 Jul 2009 11:10:10 -0400, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">vitaly at synapticvision.com</A> wrote:
&gt;<i>Hello,
</I>&gt;<i>
</I>&gt;<i>is there any way to cancel the Deferred callback in those examples?
</I>&gt;<i>
</I>&gt;<i>1.
</I>&gt;<i>d = defer.Deferred()
</I>&gt;<i>d.addCallback(methodA).addErrback(methodErr)
</I>&gt;<i>d.callback(None)
</I>&gt;<i>
</I>&gt;<i>2.
</I>&gt;<i>d = methodB().addErrback(methodErr)
</I>&gt;<i>wfd = defer.waitForDeferred(d)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>Appreciate any help.
</I>&gt;<i>
</I>
Deferred doesn't have any cancellation features.  You can generally achieve
some sort of cancellation by supporting this in the application code creating
and consuming the Deferreds involved.

The details of how to do this depend on what exactly you want to happen when
you &quot;cancel&quot; the operation.

You can find one example of this in the implementation of Twisted's internal
thread-based name resolver:

<A HREF="http://twistedmatrix.com/trac/browser/trunk/twisted/internet/base.py#L193">http://twistedmatrix.com/trac/browser/trunk/twisted/internet/base.py#L193</A>

You can find other examples in the implementation of any other Deferred-
returning API which also supports timeouts, eg the web client:

<A HREF="http://twistedmatrix.com/trac/browser/trunk/twisted/web/client.py#L198">http://twistedmatrix.com/trac/browser/trunk/twisted/web/client.py#L198</A>

Hope this helps,

Jean-Paul

</PRE>


























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019955.html">[Twisted-Python] Cancel/stop Deferred() at any time
</A></li>
	<LI>Next message: <A HREF="019957.html">[Twisted-Python] Cancel/stop Deferred() at any time
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19956">[ date ]</a>
              <a href="thread.html#19956">[ thread ]</a>
              <a href="subject.html#19956">[ subject ]</a>
              <a href="author.html#19956">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
