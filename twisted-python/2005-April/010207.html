<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Sending unicode strings
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Sending%20unicode%20strings&In-Reply-To=4269E888.1080400%40twistedmatrix.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010201.html">
   <LINK REL="Next"  HREF="010208.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Sending unicode strings</H1>
    <B>Ken Kinder</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Sending%20unicode%20strings&In-Reply-To=4269E888.1080400%40twistedmatrix.com"
       TITLE="[Twisted-Python] Sending unicode strings">ken at kenkinder.com
       </A><BR>
    <I>Mon Apr 25 12:01:32 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="010201.html">[Twisted-Python] Sending unicode strings
</A></li>
        <LI>Next message: <A HREF="010208.html">[Twisted-Python] Sending unicode strings
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10207">[ date ]</a>
              <a href="thread.html#10207">[ thread ]</a>
              <a href="subject.html#10207">[ subject ]</a>
              <a href="author.html#10207">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Tommi Virtanen wrote:

&gt;<i>Personally, I think ass-u-ming Unicode is encoded as UTF-8 would have
</I>&gt;<i>been sane, but I can understand that not everyone agrees; e.g. Java
</I>&gt;<i>wants UCS-16 if I remember correctly. And not serializing to UTF-8
</I>&gt;<i>by default catches errors that would otherwise cause mysterious things
</I>&gt;<i>to happen.
</I>&gt;<i>  
</I>&gt;<i>
</I>Most of the time, you should know the encoding. Instead of forcing the 
protocol to do the work, why not just have a way of setting the expected 
encoding for write() and similar methods? If the encoding is not set 
(ie, None), then raise the exception. Otherwise, use the specified 
encoding. This would have the added readability advantage in that 
unicode encoding -- uhh code -- wouldn't have to be sprinkled throughout 
the protocol classes -- only in places where the encoding is actually 
set -- in HTTP's headers for example.

-Ken



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010201.html">[Twisted-Python] Sending unicode strings
</A></li>
	<LI>Next message: <A HREF="010208.html">[Twisted-Python] Sending unicode strings
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10207">[ date ]</a>
              <a href="thread.html#10207">[ thread ]</a>
              <a href="subject.html#10207">[ subject ]</a>
              <a href="author.html#10207">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
