<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] flushing the transport
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20flushing%20the%20transport&In-Reply-To=%3C20050426235015.15422.1253386490.divmod.quotient.2331%40ohm%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="042732.html">
   <LINK REL="Next"  HREF="042734.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] flushing the transport</H1>
    <B>Jp Calderone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20flushing%20the%20transport&In-Reply-To=%3C20050426235015.15422.1253386490.divmod.quotient.2331%40ohm%3E"
       TITLE="[Twisted-Python] flushing the transport">exarkun at divmod.com
       </A><BR>
    <I>Tue Apr 26 17:50:15 MDT 2005</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="042732.html">[Twisted-Python] flushing the transport
</A></li>
        <LI>Next message (by thread): <A HREF="042734.html">[Twisted-Python] Dynamic listening to UDP ports?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42733">[ date ]</a>
              <a href="thread.html#42733">[ thread ]</a>
              <a href="subject.html#42733">[ subject ]</a>
              <a href="author.html#42733">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, 26 Apr 2005 16:30:36 -0700, sir shz &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">sir.shz at gmail.com</A>&gt; wrote:
&gt;<i>Hi, I'm just starting to write a simple client, whose protocol inherits from
</I>&gt;<i>basic.LineReceiver:
</I>&gt;<i>
</I>&gt;<i>class MyClientProtocol(basic.LineReceiver):
</I>&gt;<i>     def connectionMade(self):
</I>&gt;<i>          stdout.write(&quot;\nconnectionMade\n&quot;)
</I>&gt;<i>          self.transport.write(&quot;test\r\n&quot;)
</I>&gt;<i>          # time.sleep(10)
</I>&gt;<i>
</I>&gt;<i>now if I un-comment the &quot;time.sleep(10)&quot;, the server doesn't receive the
</I>&gt;<i>&quot;test\r\n&quot; message until
</I>&gt;<i>10 seconds later, basically after the connectionMade() returns. Is there
</I>&gt;<i>anyway to &quot;flush&quot; the buffer so
</I>&gt;<i>the transport will send the &quot;test\r\n&quot; right away?
</I>&gt;<i>
</I>&gt;<i>Thanks.
</I>&gt;<i>
</I>&gt;<i>Z.
</I>&gt;<i>
</I>
  Flushing a buffer is a potentially long-running operation.  What if the buffer was full?  What if the network is congested?  What if the peer has gone away and will never, ever ACK another packet ever again?

  You should rely on protocol-level messages if you need to synchronize things.  You should rely on protocol-level acknowledgements if you need to be certain of delivery.

  All you can rely on transport.write() to do is eventually send the bytes, if it is possible to do so.

  Jp


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="042732.html">[Twisted-Python] flushing the transport
</A></li>
	<LI>Next message (by thread): <A HREF="042734.html">[Twisted-Python] Dynamic listening to UDP ports?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42733">[ date ]</a>
              <a href="thread.html#42733">[ thread ]</a>
              <a href="subject.html#42733">[ subject ]</a>
              <a href="author.html#42733">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
