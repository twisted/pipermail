<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Non-blocking webserver - what am I doing	wrong?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Non-blocking%20webserver%20-%20what%20am%20I%20doing%09wrong%3F&In-Reply-To=426FA214.1080802%40omniti.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010236.html">
   <LINK REL="Next"  HREF="010240.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Non-blocking webserver - what am I doing	wrong?</H1>
    <B>Jp Calderone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Non-blocking%20webserver%20-%20what%20am%20I%20doing%09wrong%3F&In-Reply-To=426FA214.1080802%40omniti.com"
       TITLE="[Twisted-Python] Non-blocking webserver - what am I doing	wrong?">exarkun at divmod.com
       </A><BR>
    <I>Wed Apr 27 10:54:16 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="010236.html">[Twisted-Python] Non-blocking webserver - what am I doing	wrong?
</A></li>
        <LI>Next message: <A HREF="010240.html">[Twisted-Python] Non-blocking webserver - what am I doing	wrong?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10238">[ date ]</a>
              <a href="thread.html#10238">[ thread ]</a>
              <a href="subject.html#10238">[ subject ]</a>
              <a href="author.html#10238">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 27 Apr 2005 10:30:44 -0400, Dave Gray &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">dgray at omniti.com</A>&gt; wrote:
&gt;&gt;<i> &gt;         d = defer.Deferred()
</I>&gt;&gt;<i> &gt;         d.addCallback(requestDebug)
</I>&gt;&gt;<i> &gt;         d.callback(request)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Note that this code is more or less equivalent to
</I>&gt;&gt;<i>            requestDebug(request)
</I>&gt;<i>
</I>&gt;<i>Except that my version returns before the requestDebug call is done. Even 
</I>&gt;<i>though I'm a Deferred n00b, I don't think I misunderstood _that_. By all 
</I>&gt;<i>means, correct me if I'm wrong...
</I>&gt;<i>
</I>
  Indeed, you have misunderstood:

    <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at boson</A>:~$ python
    Python 2.4.1 (#2, Mar 30 2005, 21:51:10) 
    [GCC 3.3.5 (Debian 1:3.3.5-8ubuntu2)] on linux2
    Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
    &gt;&gt;&gt; from twisted.internet import defer
    &gt;&gt;&gt; def requestDebug(request):
    ...     print 'Request debug called with', repr(request)
    ...     print 'Request debug returning'
    ... 
    &gt;&gt;&gt; requestDebug('foo')
    Request debug called with 'foo'
    Request debug returning
    &gt;&gt;&gt; d = defer.Deferred()
    &gt;&gt;&gt; d.addCallback(requestDebug)
    &lt;Deferred at -0x481fef74&gt;
    &gt;&gt;&gt; d.callback('foo')
    Request debug called with 'foo'
    Request debug returning
    &gt;&gt;&gt; 

  Deferreds don't re-arrange processing, or make functions asynchronous, or anything like that.  They only hook a result up with one or more functions for handling the result.  The result is often only available after the callback functions have been defined and added to the Deferred, but if it is available beforehand, nothing significant really changes.

  Put another way: if a Deferred has a callback, when it is given a result, the callback is invoked immediately; if a Deferred has a result, when it is given a callback, the callback is invoked immediately.

  Jp


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010236.html">[Twisted-Python] Non-blocking webserver - what am I doing	wrong?
</A></li>
	<LI>Next message: <A HREF="010240.html">[Twisted-Python] Non-blocking webserver - what am I doing	wrong?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10238">[ date ]</a>
              <a href="thread.html#10238">[ thread ]</a>
              <a href="subject.html#10238">[ subject ]</a>
              <a href="author.html#10238">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
