<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] wxpython issues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20wxpython%20issues&In-Reply-To=%3C2d3efbb3f3f16c3f25975fe3c900234a%40redivi.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="042640.html">
   <LINK REL="Next"  HREF="042642.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] wxpython issues</H1>
    <B>Bob Ippolito</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20wxpython%20issues&In-Reply-To=%3C2d3efbb3f3f16c3f25975fe3c900234a%40redivi.com%3E"
       TITLE="[Twisted-Python] wxpython issues">bob at redivi.com
       </A><BR>
    <I>Fri Apr 15 14:42:00 MDT 2005</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="042640.html">[Twisted-Python] wxpython issues
</A></li>
        <LI>Next message (by thread): <A HREF="042642.html">[Twisted-Python] wxpython issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42641">[ date ]</a>
              <a href="thread.html#42641">[ thread ]</a>
              <a href="subject.html#42641">[ subject ]</a>
              <a href="author.html#42641">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Apr 15, 2005, at 4:29 PM, Uwe C. Schroeder wrote:

&gt;<i> On Friday 15 April 2005 12:53, Glyph Lefkowitz wrote:
</I>&gt;&gt;<i> Shawn Church wrote:
</I>&gt;&gt;&gt;<i> I have looked at implementations of Soap,  CORBA,  and Pyro,  none of
</I>&gt;&gt;&gt;<i> which have really statisfied me.  I thought that by using the PB
</I>&gt;&gt;&gt;<i> interface of twisted,  along with a SSL connection,  I could achieve 
</I>&gt;&gt;&gt;<i> all
</I>&gt;&gt;&gt;<i> of my objectives fairly simply -- once I worked out the details I was
</I>&gt;&gt;&gt;<i> able connect,  login, and transfer data with very little code.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> All of this, and more, is possible with Twisted.
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I fully realize that if I want to write a GUI application that 
</I>&gt;&gt;&gt;<i> depends
</I>&gt;&gt;&gt;<i> upon arbitrary responses from the server (i.e. a chat client to use 
</I>&gt;&gt;&gt;<i> your
</I>&gt;&gt;&gt;<i> example) then my approach will not work.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> That was an example of where the brokenness would be instantly visible
</I>&gt;&gt;<i> to any user of your program.  Internally Twisted makes many 
</I>&gt;&gt;<i> assumptions
</I>&gt;&gt;<i> about the reactor generally being running which may cause you lots of
</I>&gt;&gt;<i> little surprises if you use the technique you've proposed.
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> What I want to do is have my clients request
</I>&gt;&gt;&gt;<i> data from the server and wait till the data is ready (seems prettty
</I>&gt;&gt;&gt;<i> simple
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> :-))
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> the Twisted way is to invert it so that rather than saying &quot;Wait 
</I>&gt;&gt;<i> until Y
</I>&gt;&gt;<i> is done, then do X&quot;, you say &quot;Do X when Y is done.&quot;  Among other 
</I>&gt;&gt;<i> things,
</I>&gt;&gt;<i> this approach lets you do more than one thing at a time.  For example,
</I>&gt;&gt;<i> you might want to put a &quot;cancel&quot; button in your UI if your application
</I>&gt;&gt;<i> has to run over the internet.  Responding to the cancel button at the
</I>&gt;&gt;<i> same time as waiting for a request's response is a second thing, so 
</I>&gt;&gt;<i> you
</I>&gt;&gt;<i> need to be worried about concurrency even in simple applications.
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Twisted seems to do what I want (assuming I can interface with wx),
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> but if you can point to another package please let me know.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I would point you at gtk, Tkinter, or win32api, not an alternative to
</I>&gt;&gt;<i> Twisted :).  wx is the problem here: its mainloop is badly broken, on
</I>&gt;&gt;<i> all platforms.  Twisted works fine.  The easiest fix, if wx is a 
</I>&gt;&gt;<i> genuine
</I>&gt;&gt;<i> requirement, is to run the wx main loop in a Twisted thread, using
</I>&gt;&gt;<i> callInThread, so that the Twisted event loop (i.e. the one that isn't
</I>&gt;&gt;<i> horribly broken) is &quot;in charge&quot;.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I believe that future releases of wx are fixing this issue, as well,
</I>&gt;&gt;<i> since you're far from the first person to have complained about it.  I
</I>&gt;&gt;<i> hope that this happens soon, since despite its many flaws wx is very
</I>&gt;&gt;<i> popular in the Python community.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> P.S.: If I seem negative towards WX, it is only because my _only_ use 
</I>&gt;&gt;<i> of
</I>&gt;&gt;<i> it is answering this same question over and over again.  I'm sure it 
</I>&gt;&gt;<i> has
</I>&gt;&gt;<i> some positive points too, but I never discover them, because for my 
</I>&gt;&gt;<i> own
</I>&gt;&gt;<i> development projects &quot;non-broken mainloop&quot; is criterion #1 for the GUI
</I>&gt;&gt;<i> framework ;-)
</I>&gt;<i>
</I>&gt;<i> There are certainly people better suited to respond to this, I'll try 
</I>&gt;<i> anyways.
</I>&gt;<i> The main problem with wx's mainloop is that wx uses the eventloops of 
</I>&gt;<i> the
</I>&gt;<i> platform dependant gui's. If you run wx on Linux with GTK2 it uses the 
</I>&gt;<i> GTK2
</I>&gt;<i> eventloop. On win it uses the windows loop etc. etc.  I'm not sure 
</I>&gt;<i> this can
</I>&gt;<i> be fixed - but as said, there are people who have more in-depth 
</I>&gt;<i> knowledge
</I>&gt;<i> about the issue. Wx is so popular because it works on all platforms in 
</I>&gt;<i> a
</I>&gt;<i> (mostly) consistent way. The only alternative I could think of is TK 
</I>&gt;<i> or JAVA
</I>&gt;<i> SWING (and both look really ugly). If you have to write a gui 
</I>&gt;<i> application
</I>&gt;<i> that has to run on multiple platforms and needs to look a bit more 
</I>&gt;<i> modern,
</I>&gt;<i> you have very few choices.
</I>&gt;<i> Another idea here. Why not write a &quot;wxreactor&quot; that handles the 
</I>&gt;<i> threading
</I>&gt;<i> already and provides a &quot;twisted consistent&quot; API to the gui thread? 
</I>&gt;<i> That way
</I>&gt;<i> one could encapsulate any broken mainloop out there.
</I>&gt;<i> Just a thought.
</I>
It would make perfect sense to provide an abstract reactor 
implementation that did the select/poll/etc. in a separate thread which 
sends an event to the mainloop to wake up the reactor... it could be 
used to interoperate with just about anything, pygame, wxPython, pygtk, 
Cocoa, etc. and would require very little work to &quot;port&quot;.

-bob



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="042640.html">[Twisted-Python] wxpython issues
</A></li>
	<LI>Next message (by thread): <A HREF="042642.html">[Twisted-Python] wxpython issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42641">[ date ]</a>
              <a href="thread.html#42641">[ thread ]</a>
              <a href="subject.html#42641">[ subject ]</a>
              <a href="author.html#42641">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
