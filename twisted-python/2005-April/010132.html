<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] wxpython issues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20wxpython%20issues&In-Reply-To=42601BAC.7090306%40divmod.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010131.html">
   <LINK REL="Next"  HREF="010133.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] wxpython issues</H1>
    <B>Uwe C. Schroeder</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20wxpython%20issues&In-Reply-To=42601BAC.7090306%40divmod.com"
       TITLE="[Twisted-Python] wxpython issues">uwe at oss4u.com
       </A><BR>
    <I>Fri Apr 15 16:29:10 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="010131.html">[Twisted-Python] wxpython issues
</A></li>
        <LI>Next message: <A HREF="010133.html">[Twisted-Python] wxpython issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10132">[ date ]</a>
              <a href="thread.html#10132">[ thread ]</a>
              <a href="subject.html#10132">[ subject ]</a>
              <a href="author.html#10132">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Friday 15 April 2005 12:53, Glyph Lefkowitz wrote:
&gt;<i> Shawn Church wrote:
</I>&gt;<i> &gt; I have looked at implementations of Soap,  CORBA,  and Pyro,  none of
</I>&gt;<i> &gt; which have really statisfied me.  I thought that by using the PB
</I>&gt;<i> &gt; interface of twisted,  along with a SSL connection,  I could achieve all
</I>&gt;<i> &gt; of my objectives fairly simply -- once I worked out the details I was
</I>&gt;<i> &gt; able connect,  login, and transfer data with very little code.
</I>&gt;<i>
</I>&gt;<i> All of this, and more, is possible with Twisted.
</I>&gt;<i>
</I>&gt;<i> &gt; I fully realize that if I want to write a GUI application that depends
</I>&gt;<i> &gt; upon arbitrary responses from the server (i.e. a chat client to use your
</I>&gt;<i> &gt; example) then my approach will not work.
</I>&gt;<i>
</I>&gt;<i> That was an example of where the brokenness would be instantly visible
</I>&gt;<i> to any user of your program.  Internally Twisted makes many assumptions
</I>&gt;<i> about the reactor generally being running which may cause you lots of
</I>&gt;<i> little surprises if you use the technique you've proposed.
</I>&gt;<i>
</I>&gt;<i> &gt; What I want to do is have my clients request
</I>&gt;<i> &gt; data from the server and wait till the data is ready (seems prettty
</I>&gt;<i> &gt; simple
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; :-))
</I>&gt;<i>
</I>&gt;<i> the Twisted way is to invert it so that rather than saying &quot;Wait until Y
</I>&gt;<i> is done, then do X&quot;, you say &quot;Do X when Y is done.&quot;  Among other things,
</I>&gt;<i> this approach lets you do more than one thing at a time.  For example,
</I>&gt;<i> you might want to put a &quot;cancel&quot; button in your UI if your application
</I>&gt;<i> has to run over the internet.  Responding to the cancel button at the
</I>&gt;<i> same time as waiting for a request's response is a second thing, so you
</I>&gt;<i> need to be worried about concurrency even in simple applications.
</I>&gt;<i>
</I>&gt;<i>  &gt; Twisted seems to do what I want (assuming I can interface with wx),
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; but if you can point to another package please let me know.
</I>&gt;<i>
</I>&gt;<i> I would point you at gtk, Tkinter, or win32api, not an alternative to
</I>&gt;<i> Twisted :).  wx is the problem here: its mainloop is badly broken, on
</I>&gt;<i> all platforms.  Twisted works fine.  The easiest fix, if wx is a genuine
</I>&gt;<i> requirement, is to run the wx main loop in a Twisted thread, using
</I>&gt;<i> callInThread, so that the Twisted event loop (i.e. the one that isn't
</I>&gt;<i> horribly broken) is &quot;in charge&quot;.
</I>&gt;<i>
</I>&gt;<i> I believe that future releases of wx are fixing this issue, as well,
</I>&gt;<i> since you're far from the first person to have complained about it.  I
</I>&gt;<i> hope that this happens soon, since despite its many flaws wx is very
</I>&gt;<i> popular in the Python community.
</I>&gt;<i>
</I>&gt;<i> P.S.: If I seem negative towards WX, it is only because my _only_ use of
</I>&gt;<i> it is answering this same question over and over again.  I'm sure it has
</I>&gt;<i> some positive points too, but I never discover them, because for my own
</I>&gt;<i> development projects &quot;non-broken mainloop&quot; is criterion #1 for the GUI
</I>&gt;<i> framework ;-)
</I>
There are certainly people better suited to respond to this, I'll try anyways. 
The main problem with wx's mainloop is that wx uses the eventloops of the 
platform dependant gui's. If you run wx on Linux with GTK2 it uses the GTK2 
eventloop. On win it uses the windows loop etc. etc.  I'm not sure this can 
be fixed - but as said, there are people who have more in-depth knowledge 
about the issue. Wx is so popular because it works on all platforms in a 
(mostly) consistent way. The only alternative I could think of is TK or JAVA 
SWING (and both look really ugly). If you have to write a gui application 
that has to run on multiple platforms and needs to look a bit more modern, 
you have very few choices. 
Another idea here. Why not write a &quot;wxreactor&quot; that handles the threading 
already and provides a &quot;twisted consistent&quot; API to the gui thread? That way 
one could encapsulate any broken mainloop out there.
Just a thought.


	UC

--
Open Source Solutions 4U, LLC	2570 Fleetwood Drive
Phone:  +1 650 872 2425		San Bruno, CA 94066
Cell:   +1 650 302 2405		United States
Fax:    +1 650 872 2417


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010131.html">[Twisted-Python] wxpython issues
</A></li>
	<LI>Next message: <A HREF="010133.html">[Twisted-Python] wxpython issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10132">[ date ]</a>
              <a href="thread.html#10132">[ thread ]</a>
              <a href="subject.html#10132">[ subject ]</a>
              <a href="author.html#10132">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
