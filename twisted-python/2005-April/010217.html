<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Dynamic listening to UDP ports?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Dynamic%20listening%20to%20UDP%20ports%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010216.html">
   <LINK REL="Next"  HREF="010219.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Dynamic listening to UDP ports?</H1>
    <B>Torbj&#246;rn Einarsson</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Dynamic%20listening%20to%20UDP%20ports%3F&In-Reply-To="
       TITLE="[Twisted-Python] Dynamic listening to UDP ports?">torbjorn at einarssons.se
       </A><BR>
    <I>Tue Apr 26 12:27:05 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="010216.html">[Twisted-Python] creating source tarball from svn tree
</A></li>
        <LI>Next message: <A HREF="010219.html">[Twisted-Python] Dynamic listening to UDP ports?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10217">[ date ]</a>
              <a href="thread.html#10217">[ thread ]</a>
              <a href="subject.html#10217">[ subject ]</a>
              <a href="author.html#10217">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

 

I&#146;m trying to make a server that listens to one TCP socket for commands and
then starts listening to more or less UDP sockets for data depending on the
commands. The UDP data shall then be forwarded to one or more outgoing UDP
ports.

 

For example, here are some commands with explanations:

 

addChannel 10000                             should make the server
listening to UDP port 10000

addChannel 10002                             should make the server
listening to UDP port 10002

addConnection 10000 10.0.0.2:5000    start forwarding the packet from UDP
port 10000 to port 5000 on another machine

addConnection 10000 10.0.0.3:5002    start forwarding the packet from UDP
port 10000 to port 5002 on yet another machine

delConnection  10000 10.0.0.2:5000    stop forwarding packets to the first
guy

delConnection  10000 10.0.0.3:5002    stop forwarding packets to the second
guy

delChannel      10000                         stop listening to port 10000

 

I&#146;ve been making some rather advanced servers in twisted, but with fixed
ports. How can I deal with this type of dynamic port bindings?

 

For adding a port to listen to: reactor.listenUDP(10000,prot) is working,
but how do I stop listening to a port an unbind it? I&#146;ve found something
called unlistenUDP but it seems to be deprecated?

 

Alternatively, I could start up a service , like

u = internet.services.UDPServer(10000,UdpProtocol())

but how do I stop this particular service without stopping all others?

 

Any suggestions are welcome.

 

Regards,

Torbj&#246;rn Einarsson1

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20050426/20b98c97/attachment.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20050426/20b98c97/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010216.html">[Twisted-Python] creating source tarball from svn tree
</A></li>
	<LI>Next message: <A HREF="010219.html">[Twisted-Python] Dynamic listening to UDP ports?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10217">[ date ]</a>
              <a href="thread.html#10217">[ thread ]</a>
              <a href="subject.html#10217">[ subject ]</a>
              <a href="author.html#10217">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
