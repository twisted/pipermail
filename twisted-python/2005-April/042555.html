<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] UDP File Copy
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20UDP%20File%20Copy&In-Reply-To=%3C332b7c5f05040512317e05717c%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="042554.html">
   <LINK REL="Next"  HREF="042567.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] UDP File Copy</H1>
    <B>Tom Carmichael</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20UDP%20File%20Copy&In-Reply-To=%3C332b7c5f05040512317e05717c%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] UDP File Copy">tomc74 at gmail.com
       </A><BR>
    <I>Tue Apr  5 13:31:23 MDT 2005</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="042554.html">[Twisted-Python] UDP File Copy
</A></li>
        <LI>Next message (by thread): <A HREF="042567.html">[Twisted-Python] UDP File Copy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42555">[ date ]</a>
              <a href="thread.html#42555">[ thread ]</a>
              <a href="subject.html#42555">[ subject ]</a>
              <a href="author.html#42555">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>UDP has it's place, but typically vanilla file transfer isn't it. 

UDP traffic typically is harder to NAT rather than easier.  Since it
is a stateless protocol, what is meant by a 'reply'?  How do you keep
a forward and reverse translation table for the communications?  The
answers to these questions are to wrap these 'stateful' UDP sessions
inside a psuedo-connection.  In otherwords, simulate TCP behavior.

The reality of today's internet is that NAT is prevalent, especially
in home use.  There simply isn't enough IP space in IPv4 to accomodate
everybody, so we are left with dealing with the mess that RFC 1918
addressing, NAT and all the other work arounds have given us.  STUN
came out of trying to get VoIP working in a NATed environment.  Since
the latency demands of any VoIP application is fairly extreme and a
single lost packet isn't detrimental to the data, UDP makes sense for
that application.  To get it to function in a NAT world however
requires some intellegence in software to determine that NAT exists,
how it functions and what to do about it.  Enter STUN.

While you might be able to squeeze some extra speed out of UDP for P2P
apps, it isn't without complexity costs somewhere.  You basically have
the options of ignoring packet loss (VoIP/Skype) or implementing your
own packet reliability mechanism (TFTP) within
the application.  Something like BitTorrent could use UDP, since it is
sending bits of data
from many sources to many sources.  (It doesn't use UDP, it uses TCP.)
 UDP makes a lot of sense for one-to-many or many-to-many
relationships for networking traffic.  That's what multicast is all
about, which uses UDP.  Unfortunately, it's not internet routable so
isn't a good general solution to P2P traffic.

Tom

On Apr 5, 2005 11:26 AM, Antoine Pitrou &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">solipsis at pitrou.net</A>&gt; wrote:
&gt;<i> 
</I>&gt;<i> &gt; Intra-net where you are broadcasting updates or patches to a cluster
</I>&gt;<i> &gt; of machines it makes since, but for peer-to-peer it just doesn't reap
</I>&gt;<i> &gt; any benefits on the internet proper.
</I>&gt;<i> 
</I>&gt;<i> You are wrong, UDP is more and more adopted by end-user P2P software
</I>&gt;<i> because of its ability to transparently go through - in and out - many
</I>&gt;<i> types of NAT devices (which are themselves more and more popular among
</I>&gt;<i> home users). Incoming TCP traffic, on the other hand, often needs to be
</I>&gt;<i> specifically enabled on the NAT box.
</I>&gt;<i> 
</I>&gt;<i> For juicy details, you can read the RFC for the STUN protocol (Simple
</I>&gt;<i> Traversal of User Datagram Protocol - UDP - Through Network Address
</I>&gt;<i> Translators - NATs):
</I>&gt;<i> <A HREF="http://www.faqs.org/rfcs/rfc3489.html">http://www.faqs.org/rfcs/rfc3489.html</A>
</I>&gt;<i> 
</I>&gt;<i> Regards
</I>&gt;<i> 
</I>&gt;<i> Antoine.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="042554.html">[Twisted-Python] UDP File Copy
</A></li>
	<LI>Next message (by thread): <A HREF="042567.html">[Twisted-Python] UDP File Copy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42555">[ date ]</a>
              <a href="thread.html#42555">[ thread ]</a>
              <a href="subject.html#42555">[ subject ]</a>
              <a href="author.html#42555">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
