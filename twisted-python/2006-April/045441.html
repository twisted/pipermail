<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] deferred TCP writes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20deferred%20TCP%20writes&In-Reply-To=%3Cfa8579a40604181044v4b964015scccf1d93580819fc%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="045439.html">
   <LINK REL="Next"  HREF="045442.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] deferred TCP writes</H1>
    <B>Brian Granger</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20deferred%20TCP%20writes&In-Reply-To=%3Cfa8579a40604181044v4b964015scccf1d93580819fc%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] deferred TCP writes">bgranger at scu.edu
       </A><BR>
    <I>Tue Apr 18 11:44:22 MDT 2006</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="045439.html">[Twisted-Python] deferred TCP writes
</A></li>
        <LI>Next message (by thread): <A HREF="045442.html">[Twisted-Python] deferred TCP writes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45441">[ date ]</a>
              <a href="thread.html#45441">[ thread ]</a>
              <a href="subject.html#45441">[ subject ]</a>
              <a href="author.html#45441">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have run into this issue as well when trying to order different
writes and make code run _after_ a write was completed.  I ended up
calling my code using deferToThread and putting in time.sleep calls to
make sure things got ordered correctly.  Ugly hack though.

The ITransport interface docs seem to imply that returning a deferred
from a write is not supported:

I make no representations about whether calls to me will happen
immediately or require returning to a control loop, or whether they
will happen in the same or another thread. Consider methods of this
class (aside from getPeer) to be 'thrown over the wall', to happen at
some indeterminate time.

I echo the question: why doesn't write return a deferred?  Surely
there are times you want to trigger events on the completion of a
write.

Brian

Brian Granger
Santa Clara University
<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">ellisonbg at gmail.com</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="045439.html">[Twisted-Python] deferred TCP writes
</A></li>
	<LI>Next message (by thread): <A HREF="045442.html">[Twisted-Python] deferred TCP writes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45441">[ date ]</a>
              <a href="thread.html#45441">[ thread ]</a>
              <a href="subject.html#45441">[ subject ]</a>
              <a href="author.html#45441">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
