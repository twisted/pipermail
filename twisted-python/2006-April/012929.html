<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Do Twisted support LMTP servers?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Do%20Twisted%20support%20LMTP%20servers%3F&In-Reply-To=4436FBFA.2080500%40argo.es">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012849.html">
   <LINK REL="Next"  HREF="012932.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Do Twisted support LMTP servers?</H1>
    <B>Simon Hedberg</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Do%20Twisted%20support%20LMTP%20servers%3F&In-Reply-To=4436FBFA.2080500%40argo.es"
       TITLE="[Twisted-Python] Do Twisted support LMTP servers?">simon at hedberg.net
       </A><BR>
    <I>Tue Apr 18 09:22:26 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="012849.html">[Twisted-Python] Do Twisted support LMTP servers?
</A></li>
        <LI>Next message: <A HREF="012932.html">[Twisted-Python] Do Twisted support LMTP servers?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12929">[ date ]</a>
              <a href="thread.html#12929">[ thread ]</a>
              <a href="subject.html#12929">[ subject ]</a>
              <a href="author.html#12929">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jesus Cea wrote:
&gt;<i> -----BEGIN PGP SIGNED MESSAGE-----
</I>&gt;<i> Hash: SHA1
</I>&gt;<i> 
</I>&gt;<i> Twisted is very extensive in protocol support, managing smtp, pop3
</I>&gt;<i> and imap4, for example. I was wondering if there is any LMTP server
</I>&gt;<i> project out there. It should be fairly simple, since LMTP is very
</I>&gt;<i> very similar to usual SMTP. I need to use LMTP for a local project,
</I>&gt;<i> and I was wondering if tiwsted could be used to fill this gap.    
</I>&gt;<i> 
</I>&gt;<i> - --
</I>&gt;<i> Jesus Cea Avion                         _/_/      _/_/_/        _/_/_/
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">jcea at argo.es</A> <A HREF="http://www.argo.es/~jcea/">http://www.argo.es/~jcea/</A> _/_/    _/_/  _/_/    _/_/ 
</I>&gt;<i> _/_/ 
</I>&gt;<i> jabber / xmpp:<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">jcea at jabber.org</A>         _/_/    _/_/          _/_/_/_/_/
</I>&gt;<i>                                _/_/  _/_/    _/_/          _/_/  _/_/
</I>&gt;<i> &quot;Things are not so easy&quot;      _/_/  _/_/    _/_/  _/_/    _/_/  _/_/
</I>&gt;<i> &quot;My name is Dump, Core Dump&quot;   _/_/_/        _/_/_/      _/_/  _/_/
</I>&gt;<i> &quot;El amor es poner tu felicidad en la felicidad de otro&quot; - Leibniz
</I>
Hi,
I have been looking at ways to have postfix talking to my twisted app
and today tried LMTP successfully for the first time. What I've done so
far is just subclass the ESMTP protocol and add do_LHLO which seems to
do the trick for some basic usage at least. Looking at
<A HREF="http://www.ietf.org/rfc/rfc2033.txt">http://www.ietf.org/rfc/rfc2033.txt</A> it seems like it shouldn't be to
hard to make a proper LMTP implementation. Perhaps someone more familiar
with twisted.mail could have a look.


class LMTP(smtp.ESMTP):
    def do_LHLO(self, rest):
        peer = self.transport.getPeer()
        try:
            host = peer.host
        except AttributeError:
            host = str(peer)
        self._helo = (rest, host)
        self._from = None
        self._to = []
        self.sendCode(250, '%s Hello %s, nice to meet you\n%s' %
(self.host, host,self.listExtensions()))

    def do_HELO(self,rest):
        return self.do_UNKNOWN(self,rest)
    def do_EHLO(self,rest):
        return self.do_UNKNOWN(self,rest)



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012849.html">[Twisted-Python] Do Twisted support LMTP servers?
</A></li>
	<LI>Next message: <A HREF="012932.html">[Twisted-Python] Do Twisted support LMTP servers?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12929">[ date ]</a>
              <a href="thread.html#12929">[ thread ]</a>
              <a href="subject.html#12929">[ subject ]</a>
              <a href="author.html#12929">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
