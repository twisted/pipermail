<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] UDP vs TCP for bittorrent-style file transfer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20UDP%20vs%20TCP%20for%20bittorrent-style%20file%20transfer&In-Reply-To=d6bdc39c0809211806s748e825dx750635310d5b0584%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018400.html">
   <LINK REL="Next"  HREF="018410.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] UDP vs TCP for bittorrent-style file transfer</H1>
    <B>James Y Knight</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20UDP%20vs%20TCP%20for%20bittorrent-style%20file%20transfer&In-Reply-To=d6bdc39c0809211806s748e825dx750635310d5b0584%40mail.gmail.com"
       TITLE="[Twisted-Python] UDP vs TCP for bittorrent-style file transfer">foom at fuhm.net
       </A><BR>
    <I>Mon Sep 22 10:07:04 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="018400.html">[Twisted-Python] UDP vs TCP for bittorrent-style file transfer
</A></li>
        <LI>Next message: <A HREF="018410.html">[Twisted-Python] UDP vs TCP for bittorrent-style file transfer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18406">[ date ]</a>
              <a href="thread.html#18406">[ thread ]</a>
              <a href="subject.html#18406">[ subject ]</a>
              <a href="author.html#18406">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Sep 21, 2008, at 9:06 PM, Z. S. O. wrote:
&gt;<i> It's not easier to get UDP through NATs.  It's just as hard or harder.
</I>&gt;<i>
</I>&gt;<i> It must be a widely held error, then, because it's what I hear every  
</I>&gt;<i> time the subject arises. My understanding was that since UDP doesn't  
</I>&gt;<i> have the concept of &quot;streams,&quot; most NATs will allow all UDP packets  
</I>&gt;<i> through to a given port one it is first hole-punched.
</I>
Yes, that's usually true, especially for home NATs. Some NATs do  
actually track UDP conversations between endpoints just like TCP  
streams, though. Traversing a NAT with UDP is /usually/ easier, when  
you have multiple endpoints you wish to hear from. But don't forget  
about the other kinds of NATs too, which you'll also have to implement  
support for. That's what makes it hard: implementing things multiple  
times for all the different network topologies.

&gt;<i> Nat traversal aside, I'm also concerned about performance, and since  
</I>&gt;<i> TCP doesn't make in-order delivery optional, I'm still tempted to  
</I>&gt;<i> stick with UDP...
</I>
Not entirely true. In order delivery is preserved to your application,  
but out-of-order delivery between the host endpoints is supported.  
Read up on the TCP &quot;selective ACK&quot; feature [1], which basically all  
OSes made since 1998 or so support. So a missed packet or two doesn't  
actually require all later data to always be retransmitted.

James

[1] <A HREF="http://www.ietf.org/rfc/rfc2018.txt">http://www.ietf.org/rfc/rfc2018.txt</A>



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018400.html">[Twisted-Python] UDP vs TCP for bittorrent-style file transfer
</A></li>
	<LI>Next message: <A HREF="018410.html">[Twisted-Python] UDP vs TCP for bittorrent-style file transfer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18406">[ date ]</a>
              <a href="thread.html#18406">[ thread ]</a>
              <a href="subject.html#18406">[ subject ]</a>
              <a href="author.html#18406">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
