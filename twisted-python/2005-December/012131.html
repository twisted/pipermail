<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] twisted performance
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20twisted%20performance&In-Reply-To=E1EjwA3-00085E-00%40pyramid.twistedmatrix.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012129.html">
   <LINK REL="Next"  HREF="012144.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] twisted performance</H1>
    <B>Itamar Shtull-Trauring</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20twisted%20performance&In-Reply-To=E1EjwA3-00085E-00%40pyramid.twistedmatrix.com"
       TITLE="[Twisted-Python] twisted performance">itamar at itamarst.org
       </A><BR>
    <I>Wed Dec  7 12:15:43 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="012129.html">[Twisted-Python] twisted performance
</A></li>
        <LI>Next message: <A HREF="012144.html">[Twisted-Python] twisted performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12131">[ date ]</a>
              <a href="thread.html#12131">[ thread ]</a>
              <a href="subject.html#12131">[ subject ]</a>
              <a href="author.html#12131">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 2005-12-07 at 02:04 -0800, Alec Matusis wrote:
&gt;<i> I am running Twisted 1.3 server with a fairly large number of clients.
</I>&gt;<i> The hardware is two 64 bit 3.0 GHz Xeons with HT, 4GB RAM, and it's on
</I>&gt;<i> 2.6.11 kernel.
</I>&gt;<i> I am using poll reactor.
</I>&gt;<i> Currently, when the number of clients approaches 5000, the &quot;top&quot; shows
</I>&gt;<i> 99% CPU load for twistd process, the event loop slows down and weird
</I>&gt;<i> racing conditions show up. 
</I>
Could you try this experiment with Twisted 2.1, ideally with the latest
version of Python? There were a number of algorithmic improvements since
1.3 (the one that comes to mind in this case is the scheduler.)

One way to discover if the OS-level poll() is the problem is to use
oprofile; you should be able to use it to see how much time is spent in
there. Before that however, you'd want to use the Python profiler to
figure out if there's any obvious hotspots.




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012129.html">[Twisted-Python] twisted performance
</A></li>
	<LI>Next message: <A HREF="012144.html">[Twisted-Python] twisted performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12131">[ date ]</a>
              <a href="thread.html#12131">[ thread ]</a>
              <a href="subject.html#12131">[ subject ]</a>
              <a href="author.html#12131">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
