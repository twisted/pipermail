<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: r15451 - Fix test failures under windows by	changing the eventual-send operation to
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20r15451%20-%20Fix%20test%20failures%20under%20windows%20by%0A%09changing%20the%20eventual-send%20operation%20to&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012263.html">
   <LINK REL="Next"  HREF="012269.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: r15451 - Fix test failures under windows by	changing the eventual-send operation to</H1>
    <B>Paul G</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20r15451%20-%20Fix%20test%20failures%20under%20windows%20by%0A%09changing%20the%20eventual-send%20operation%20to&In-Reply-To="
       TITLE="[Twisted-Python] Re: r15451 - Fix test failures under windows by	changing the eventual-send operation to">paul-lists at perforge.com
       </A><BR>
    <I>Sat Dec 31 15:38:48 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="012263.html">[Twisted-Python] Re: r15451 - Fix test failures under windows by changing the eventual-send operation to
</A></li>
        <LI>Next message: <A HREF="012269.html">[Twisted-Python] Re: r15451 - Fix test failures under windows by	changing the eventual-send operation to
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12267">[ date ]</a>
              <a href="thread.html#12267">[ thread ]</a>
              <a href="subject.html#12267">[ subject ]</a>
              <a href="author.html#12267">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
----- Original Message ----- 
From: &quot;Brian Warner&quot; &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">warner at lothar.com</A>&gt;
To: &quot;Twisted general discussion&quot; &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>&gt;
Sent: Saturday, December 31, 2005 1:57 PM
Subject: [Twisted-Python] Re: r15451 - Fix test failures under windows by 
changing the eventual-send operation to


&gt;<i> To that end, using a separate queue for timers that are ready to go &quot;now&quot;
</I>&gt;<i> (i.e. ones that will be fired before calling select() or the like) might 
</I>&gt;<i> be
</I>&gt;<i> useful, basically making N=0 a special case. This would avoid the overhead 
</I>&gt;<i> of
</I>&gt;<i> inserting the DelayedCall into an arbitrary place and maintaining the
</I>&gt;<i> ordering guarantees of #2 and #3, and would avoid an extra select() spin
</I>&gt;<i> between the time an N=0 timer was inserted and the time it was fired.
</I>
specialcasing this is ugly, imo, not that i get any votes ;) you need to 
decide:

1. what cost you want insert, traversal and possibly async sorting/ordering 
passes to carry
2. what guarantees you want to provide, in the general case

eg, it would be reasonable to say 'we want to be O(1) on traversal' (at 
least O(1) in terms of getting a list of events that fire now) and we want 
to guarantee ordering  in this case, you can decide to take the full 
ordering/sorting hit on inserts. if you think a little harder, this can be 
made fairly efficient with a sparse circular list of event buckets, with 
each bucket being a fifo queue of events to be fired at that time. whether 
it's worth bothering with the additional complexity is up for discussion.

i'm sleep deprived, so apologies in advance if this made no sense at all.

-p 



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012263.html">[Twisted-Python] Re: r15451 - Fix test failures under windows by changing the eventual-send operation to
</A></li>
	<LI>Next message: <A HREF="012269.html">[Twisted-Python] Re: r15451 - Fix test failures under windows by	changing the eventual-send operation to
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12267">[ date ]</a>
              <a href="thread.html#12267">[ thread ]</a>
              <a href="subject.html#12267">[ subject ]</a>
              <a href="author.html#12267">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
