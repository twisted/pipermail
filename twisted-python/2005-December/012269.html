<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: r15451 - Fix test failures under windows by	changing the eventual-send operation to
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20r15451%20-%20Fix%20test%20failures%20under%20windows%20by%0A%09changing%20the%20eventual-send%20operation%20to&In-Reply-To=20051231.105721.17570930.warner%40lothar.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012267.html">
   <LINK REL="Next"  HREF="012264.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: r15451 - Fix test failures under windows by	changing the eventual-send operation to</H1>
    <B>glyph at divmod.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20r15451%20-%20Fix%20test%20failures%20under%20windows%20by%0A%09changing%20the%20eventual-send%20operation%20to&In-Reply-To=20051231.105721.17570930.warner%40lothar.com"
       TITLE="[Twisted-Python] Re: r15451 - Fix test failures under windows by	changing the eventual-send operation to">glyph at divmod.com
       </A><BR>
    <I>Sat Dec 31 16:19:52 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="012267.html">[Twisted-Python] Re: r15451 - Fix test failures under windows by	changing the eventual-send operation to
</A></li>
        <LI>Next message: <A HREF="012264.html">[Twisted-Python] Re: Twisted-Python Digest, Vol 21, Issue 39
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12269">[ date ]</a>
              <a href="thread.html#12269">[ thread ]</a>
              <a href="subject.html#12269">[ subject ]</a>
              <a href="author.html#12269">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

On Sat, 31 Dec 2005 10:57:21 -0800 (PST), Brian Warner &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">warner at lothar.com</A>&gt; wrote:
&gt;&gt;&gt;<i> Yes it does: order of method call.
</I>
Hmm.  Does it?  The interface documentation is pretty light on guarantees, and that's on purpose: what happens if the user does callLater(0), then sets the system clock back, then does callLater(0) again?

&gt;<i>Ah. That's useful to know: I would prefer to use a non-threading-related call
</I>&gt;<i>to achieve this eventual-send functionality. I'll add a TODO test to check
</I>&gt;<i>that this promise is being met.
</I>
I think that your eventual-send queue should probably be its own event-queuing API.  If you have:

  callLater(0, foo); callLater(0, bar)

and you expect ordering between them, something like this is better:

  callLater(0, lambda : foo(); bar())
or perhaps
  myRunQueue.put(foo); myRunQueue.put(bar); callLater(0, myRunQueue.activate)

You get the idea.

That's not to say that stabilizing ordering in the win32 reactor is necessarily bad; but I think we should be careful with specifying overly strict behaviors with respect to the exact ordering that the reactor applies to different invocations of events, whether they're time or network or whatever.  There should be some wiggle-room so that faster/fairer approaches can be tried.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012267.html">[Twisted-Python] Re: r15451 - Fix test failures under windows by	changing the eventual-send operation to
</A></li>
	<LI>Next message: <A HREF="012264.html">[Twisted-Python] Re: Twisted-Python Digest, Vol 21, Issue 39
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12269">[ date ]</a>
              <a href="thread.html#12269">[ thread ]</a>
              <a href="subject.html#12269">[ subject ]</a>
              <a href="author.html#12269">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
