<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Twisted 16.7.0rc1 Release Candidate	Announcement
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted%2016.7.0rc1%20Release%20Candidate%0A%09Announcement&In-Reply-To=%3C21B58730-1090-443C-A3CF-01E66C79D989%40atleastfornow.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031000.html">
   <LINK REL="Next"  HREF="031009.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Twisted 16.7.0rc1 Release Candidate	Announcement</H1>
    <B>Amber &quot;Hawkie&quot; Brown</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted%2016.7.0rc1%20Release%20Candidate%0A%09Announcement&In-Reply-To=%3C21B58730-1090-443C-A3CF-01E66C79D989%40atleastfornow.net%3E"
       TITLE="[Twisted-Python] Twisted 16.7.0rc1 Release Candidate	Announcement">hawkowl at atleastfornow.net
       </A><BR>
    <I>Wed Dec 28 16:37:28 MST 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="031000.html">[Twisted-Python] Twisted 16.7.0rc1 Release Candidate	Announcement
</A></li>
        <LI>Next message: <A HREF="031009.html">[Twisted-Python] Twisted 16.7.0rc1 Release Candidate	Announcement
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31001">[ date ]</a>
              <a href="thread.html#31001">[ thread ]</a>
              <a href="subject.html#31001">[ subject ]</a>
              <a href="author.html#31001">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi John,

.whl is just an optimised binary format, and can be installed by pip from a local file. If you want to get all the dependencies of Twisted in a future-proof way, without network on production, just do this on a machine with the same arch/OS:

hawkowl /p/t/tx&gt; pip download twisted[tls]==16.7.0rc1
[LOADING BARS ELINED]
Successfully downloaded twisted zope.interface constantly incremental Automat pyopenssl service-identity idna setuptools six characteristic cryptography pyasn1 pyasn1-modules attrs ipaddress enum34 cffi pycparser

hawkowl /p/t/tx&gt; ls
Automat-0.3.0-py2.py3-none-any.whl                      ipaddress-1.0.17-py2-none-any.whl
Twisted-16.7.0rc1.tar.bz2                               pyOpenSSL-16.2.0-py2.py3-none-any.whl
attrs-16.3.0-py2.py3-none-any.whl                       pyasn1-0.1.9-py2.py3-none-any.whl
cffi-1.9.1-cp27-cp27m-macosx_10_10_intel.whl            pyasn1_modules-0.0.8-py2.py3-none-any.whl
characteristic-14.3.0-py2.py3-none-any.whl              pycparser-2.17.tar.gz
constantly-15.1.0-py2.py3-none-any.whl                  service_identity-16.0.0-py2.py3-none-any.whl
cryptography-1.7.1-cp27-cp27m-macosx_10_10_intel.whl    setuptools-32.3.0-py2.py3-none-any.whl
enum34-1.1.6-py2-none-any.whl                           six-1.10.0-py2.py3-none-any.whl
idna-2.2-py2.py3-none-any.whl                           zope.interface-4.3.3-cp27-cp27m-macosx_10_11_x86_64.whl
incremental-16.10.1-py2.py3-none-any.whl

Put these files on the target machine. Then on the target machine, with no internet connection:

hawkowl /p/t/tx&gt; virtualenv venv
Using real prefix '/System/Library/Frameworks/Python.framework/Versions/2.7'
New python executable in /private/tmp/tx/venv/bin/python
Installing setuptools, pip, wheel...done.

# Because incremental is setup_requires on twisted, install it explicitly or setuptools will go try and fetch it
hawkowl /p/t/tx [1]&gt; venv/bin/pip install --no-index --find-links ./ incremental
Collecting incremental
Installing collected packages: incremental
Successfully installed incremental-16.10.1

hawkowl /p/t/tx&gt; venv/bin/pip install --no-index --find-links ./ twisted[tls]
Collecting twisted[tls]
Collecting Automat&gt;=0.3.0 (from twisted[tls])
Collecting zope.interface&gt;=3.6.0 (from twisted[tls])
Collecting constantly&gt;=15.1 (from twisted[tls])
Requirement already satisfied: incremental&gt;=16.10.1 in ./venv/lib/python2.7/site-packages (from twisted[tls])
Collecting service-identity; extra == &quot;tls&quot; (from twisted[tls])
Collecting idna&gt;=0.6; extra == &quot;tls&quot; (from twisted[tls])
Collecting pyopenssl&gt;=16.0.0; extra == &quot;tls&quot; (from twisted[tls])
Requirement already satisfied: six in ./venv/lib/python2.7/site-packages (from Automat&gt;=0.3.0-&gt;twisted[tls])
Requirement already satisfied: characteristic in ./venv/lib/python2.7/site-packages (from Automat&gt;=0.3.0-&gt;twisted[tls])
Requirement already satisfied: setuptools in ./venv/lib/python2.7/site-packages (from zope.interface&gt;=3.6.0-&gt;twisted[tls])
Collecting pyasn1 (from service-identity; extra == &quot;tls&quot;-&gt;twisted[tls])
Collecting pyasn1-modules (from service-identity; extra == &quot;tls&quot;-&gt;twisted[tls])
Requirement already satisfied: attrs in ./venv/lib/python2.7/site-packages (from service-identity; extra == &quot;tls&quot;-&gt;twisted[tls])
Collecting cryptography&gt;=1.3.4 (from pyopenssl&gt;=16.0.0; extra == &quot;tls&quot;-&gt;twisted[tls])
Collecting ipaddress (from cryptography&gt;=1.3.4-&gt;pyopenssl&gt;=16.0.0; extra == &quot;tls&quot;-&gt;twisted[tls])
Collecting enum34 (from cryptography&gt;=1.3.4-&gt;pyopenssl&gt;=16.0.0; extra == &quot;tls&quot;-&gt;twisted[tls])
Collecting cffi&gt;=1.4.1 (from cryptography&gt;=1.3.4-&gt;pyopenssl&gt;=16.0.0; extra == &quot;tls&quot;-&gt;twisted[tls])
Collecting pycparser (from cffi&gt;=1.4.1-&gt;cryptography&gt;=1.3.4-&gt;pyopenssl&gt;=16.0.0; extra == &quot;tls&quot;-&gt;twisted[tls])
Installing collected packages: Automat, zope.interface, constantly, pyasn1, pyasn1-modules, idna, ipaddress, enum34, pycparser, cffi, cryptography, pyopenssl, service-identity, twisted
Successfully installed Automat-0.3.0 cffi-1.9.1 constantly-15.1.0 cryptography-1.7.1 enum34-1.1.6 idna-2.2 ipaddress-1.0.17 pyasn1-0.1.9 pyasn1-modules-0.0.8 pycparser-2.17 pyopenssl-16.2.0 service-identity-16.0.0 twisted-16.7.0rc1 zope.interface-4.3.3

This will install Twisted and its dependencies the official pip way, without needing to hardcode which libraries you fetch, and will do the right thing as Twisted eventually adds more dependencies (like when we split out FilePath and Deferred).

- Amber

&gt;<i> On 29 Dec. 2016, at 10:20, John Santos &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">john at egh.com</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> Seems to require a new Python module, Automat.  (Not mentioned in the NEWS file, INSTALL, etc.)  I found Automat 0.3.0 (with Glyph's fingerprints on it) at PyPI, but it only exists in .whl format.  Downloaded it, but I'm not sure what to do next.  I was able to get it working by downloading and installing get-pip.py and Automat (contrary to the python.org documentation, I didn't have pip installed on my system even though it is Python 2.7.13 downloaded from python.org.)
</I>&gt;<i>    sudo python get-pip.py
</I>&gt;<i>    sudo pip install Automat
</I>&gt;<i> 
</I>&gt;<i> This is worrisome to me because I think this requires Internet access to pypi.python.org, which I have on my development and testing systems, but not on my production systems.  Everything else I've ever needed, I could download and install source files.
</I>&gt;<i> 
</I>&gt;<i> Having done this, my app seems to run fine (only quick sanity testing so far.)
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ----install---
</I>&gt;<i> Searching for Automat&gt;=0.3.0
</I>&gt;<i> Reading <A HREF="https://pypi.python.org/simple/Automat/">https://pypi.python.org/simple/Automat/</A> &lt;<A HREF="https://pypi.python.org/simple/Automat/">https://pypi.python.org/simple/Automat/</A>&gt;
</I>&gt;<i> Download error on <A HREF="https://pypi.python.org/simple/Automat/">https://pypi.python.org/simple/Automat/</A> &lt;<A HREF="https://pypi.python.org/simple/Automat/">https://pypi.python.org/simple/Automat/</A>&gt;: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:590) -- Some packages may not be found!
</I>&gt;<i> Couldn't find index page for 'Automat' (maybe misspelled?)
</I>&gt;<i> Scanning index of all packages (this may take a while)
</I>&gt;<i> Reading <A HREF="https://pypi.python.org/simple/">https://pypi.python.org/simple/</A> &lt;<A HREF="https://pypi.python.org/simple/">https://pypi.python.org/simple/</A>&gt;
</I>&gt;<i> Download error on <A HREF="https://pypi.python.org/simple/">https://pypi.python.org/simple/</A> &lt;<A HREF="https://pypi.python.org/simple/">https://pypi.python.org/simple/</A>&gt;: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:590) -- Some packages may not be found!
</I>&gt;<i> No local packages or working download links found for Automat&gt;=0.3.0
</I>&gt;<i> error: Could not find suitable distribution for Requirement.parse('Automat&gt;=0.3.0')
</I>&gt;<i> ------
</I>&gt;<i> 
</I>&gt;<i> ---try to use without Automat---
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">medusa at Medusa</A>:~/run&gt; python medusa_server.py Rain
</I>&gt;<i> Traceback (most recent call last):
</I>&gt;<i>   File &quot;medusa_server.py&quot;, line 72, in &lt;module&gt;
</I>&gt;<i>     from twisted.application import service, internet
</I>&gt;<i>   File &quot;/usr/lib/python2.7/site-packages/Twisted-16.7.0rc1-py2.7-linux-x86_64.egg/twisted/application/internet.py&quot;, line 54, in &lt;module&gt;
</I>&gt;<i>     from automat import MethodicalMachine
</I>&gt;<i> ImportError: No module named automat
</I>&gt;<i> ------
</I>&gt;<i> 
</I>&gt;<i> On 12/22/2016 11:33 PM, Amber &quot;Hawkie&quot; Brown wrote:
</I>&gt;&gt;<i> Hello everyone, and happy holidays!
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Although it didn't quite fall on the solstice, one could call this Twisted release a little ray of sunshine, with some nice new improvements. 16.7.0rc1 brings the following stocking stuffers:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> - twisted.web.client.Agent now supports IPv6! It's also now the primary web client in Twisted, with twisted.web.client.getPage being deprecated in favour of it and Treq.
</I>&gt;&gt;<i> - twisted.internet.ssl.CertificateOptions has had its `method` argument deprecated, in favour of the new raiseMinimumTo, lowerMaximumSecurityTo, and insecurelyLowerMinimumTo arguments, which take TLSVersion arguments. This allows you to better give a range of versions of TLS you wish to negotiate, rather than forcing yourself to any one version.
</I>&gt;&gt;<i> - twisted.internet.ssl.CertificateOptions will use OpenSSL's MODE_RELEASE_BUFFERS, which will let it free unused memory that was held by idle TLS connections.
</I>&gt;&gt;<i> - You can now call the new twist runner with `python -m twisted`.
</I>&gt;&gt;<i> - Conch has the beginnings of ECDH key exchange, and supports `hmac-sha2-384` in twisted.conch.ssh.
</I>&gt;&gt;<i> - Better Unicode support in twisted.internet.reactor.spawnProcess, especially on Windows on Python 3.6.
</I>&gt;&gt;<i> - More Python 3 porting in Conch, and more under-the-hood changes to facilitate a Twisted-wide jump to new-style classes only on Python 2 in 2018/2019. This release has also been tested on Python 3.6 on Linux.
</I>&gt;&gt;<i> - Lots of deprecated code removals, to make a sleeker, less confusing Twisted.
</I>&gt;&gt;<i> - 20+ closed tickets.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> You can get the tarball and the NEWS file at <A HREF="https://twistedmatrix.com/Releases/rc/16.7.0rc1/">https://twistedmatrix.com/Releases/rc/16.7.0rc1/</A> &lt;<A HREF="https://twistedmatrix.com/Releases/rc/16.7.0rc1/">https://twistedmatrix.com/Releases/rc/16.7.0rc1/</A>&gt; , or you can try it out from PyPI:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i>     python -m pip install Twisted==16.7.0rc1
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Please test it, and let me know how your applications fare, good or bad! If nothing comes up, 16.7 looks like it'll land just before the new year.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> With festive hoots,
</I>&gt;&gt;<i>     Amber Brown
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Twisted-Python mailing list
</I>&gt;&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A> &lt;mailto:<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>&gt;
</I>&gt;&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A> &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>&gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> John Santos
</I>&gt;<i> Evans Griffiths &amp; Hart, Inc.
</I>&gt;<i> 781-861-0670 ext 539
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20161229/350d4896/attachment-0001.html">http://twistedmatrix.com/pipermail/twisted-python/attachments/20161229/350d4896/attachment-0001.html</A>&gt;
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031000.html">[Twisted-Python] Twisted 16.7.0rc1 Release Candidate	Announcement
</A></li>
	<LI>Next message: <A HREF="031009.html">[Twisted-Python] Twisted 16.7.0rc1 Release Candidate	Announcement
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31001">[ date ]</a>
              <a href="thread.html#31001">[ thread ]</a>
              <a href="subject.html#31001">[ subject ]</a>
              <a href="author.html#31001">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
