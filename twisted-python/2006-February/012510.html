<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: Making DeferredList look like Deferred
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20Making%20DeferredList%20look%20like%20Deferred&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012509.html">
   <LINK REL="Next"  HREF="012511.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: Making DeferredList look like Deferred</H1>
    <B>Lenny G Arbage</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20Making%20DeferredList%20look%20like%20Deferred&In-Reply-To="
       TITLE="[Twisted-Python] Re: Making DeferredList look like Deferred">alengarbage at yahoo.com
       </A><BR>
    <I>Mon Feb  6 13:05:01 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="012509.html">[Twisted-Python] mx.DateTime jellyable?
</A></li>
        <LI>Next message: <A HREF="012511.html">[Twisted-Python] Re: Making DeferredList look like Deferred
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12510">[ date ]</a>
              <a href="thread.html#12510">[ thread ]</a>
              <a href="subject.html#12510">[ subject ]</a>
              <a href="author.html#12510">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thomas HERVE therve at free.fr wrote:
&gt;<i> The behaviour you want is provided by the
</I>&gt;<i> option 'consumeErrors' of DeferredList
</I>&gt;<i> (you can see why here :
</I>&gt;<i>
</I><A HREF="http://twistedmatrix.com/projects/core/documentation/howto/defer.html#auto8">http://twistedmatrix.com/projects/core/documentation/howto/defer.html#auto8</A>).


  Aha, that's the piece I was missing!  Thank you for
pointing it out.

  Now, though, this leads me to one more question:
what if I want to wait until all the Deferreds have
fired (either err or callback), and only then call the
callback if all callbacks were fired, otherwise call
the errback?
  To accomplish this, I'm currently just 'wrapping'
the DeferredList in a regular Deferred.  It's callback
is always called on completion, so when it fires I
look at all the results given to the callback, and if
any have failed, raise an exception.  Otherwise I
return a result.
  This feels a little bit clunky, but I don't have a
good suggestion for improving it --
'fireOnErrbackAfterAllCompleted=True'?

Thanks,
Lenny

__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
<A HREF="http://mail.yahoo.com">http://mail.yahoo.com</A> 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012509.html">[Twisted-Python] mx.DateTime jellyable?
</A></li>
	<LI>Next message: <A HREF="012511.html">[Twisted-Python] Re: Making DeferredList look like Deferred
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12510">[ date ]</a>
              <a href="thread.html#12510">[ thread ]</a>
              <a href="subject.html#12510">[ subject ]</a>
              <a href="author.html#12510">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
