<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Conch: multiple commands
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Conch%3A%20multiple%20commands&In-Reply-To=%3C43EB3777.4010400%40BrendanSimon.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="045041.html">
   <LINK REL="Next"  HREF="045035.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Conch: multiple commands</H1>
    <B>Brendan Simon</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Conch%3A%20multiple%20commands&In-Reply-To=%3C43EB3777.4010400%40BrendanSimon.com%3E"
       TITLE="[Twisted-Python] Conch: multiple commands">Brendan at BrendanSimon.com
       </A><BR>
    <I>Thu Feb  9 05:37:11 MST 2006</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="045041.html">[Twisted-Python] Deferred.callback() v. Deferred.called
</A></li>
        <LI>Next message (by thread): <A HREF="045035.html">[Twisted-Python] Conch: multiple commands
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45034">[ date ]</a>
              <a href="thread.html#45034">[ thread ]</a>
              <a href="subject.html#45034">[ subject ]</a>
              <a href="author.html#45034">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm trying to use and understand the latest Twisted and Conch (I'm a 
newbie).  I can get teh sample apps going fine but they all seem to send 
one command and then exit.  I'm trying to workout how to send multiple 
commands to the server from the same client application.

The sshsimpleclient.py does send multiple commands (false, true, cat) 
with separate channels.
Is that the preferred way to send multiple commands?
Doesn't that require some setup overhead every time I want to issue a 
command to the server?

Is it possible to open _one_ channel, and send commands in a 
synchronously?  ie. wait for commands to return output and then issue 
other commands if necesary??
Maybe this goes against the grain of the Twisted Asynchronous Framework ???

If I assume that I have to open a new channel for each command, and I 
have a 100 different commands, I could have 100 classes for each command 
(seems a bit extreme) or have one class that gets the command passed to 
it.  The problem I see with the latter is that I don't know how to wait 
until the first command has got a reply and is finished.  It seems that 
the channelOpen method returns straight away.  How can I control the 
program execution to wait for the response, error or timeout?  Example:
    def servicesStarted(self):
        self.openChannel(CommandChannel.openChannel('ls /tmp/dir1')
        # how do I wait for list of dir1 to finish?
        self.openChannel(CommandChannel.openChannel('ls /tmp/dir2')
        # how do I wait for list of dir2 to finish?
        self.openChannel(CommandChannel.openChannel('ls /tmp/dir3')
        # how do I wait for list of dir3 to finish?

Thanks,
Brendan.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="045041.html">[Twisted-Python] Deferred.callback() v. Deferred.called
</A></li>
	<LI>Next message (by thread): <A HREF="045035.html">[Twisted-Python] Conch: multiple commands
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45034">[ date ]</a>
              <a href="thread.html#45034">[ thread ]</a>
              <a href="subject.html#45034">[ subject ]</a>
              <a href="author.html#45034">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
