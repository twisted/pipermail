<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Running callbacks in a non-main thread
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Running%20callbacks%20in%20a%20non-main%20thread&In-Reply-To=200602031806.52900.rudy%40goldenhelix.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012495.html">
   <LINK REL="Next"  HREF="012492.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Running callbacks in a non-main thread</H1>
    <B>Jean-Paul Calderone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Running%20callbacks%20in%20a%20non-main%20thread&In-Reply-To=200602031806.52900.rudy%40goldenhelix.com"
       TITLE="[Twisted-Python] Running callbacks in a non-main thread">exarkun at divmod.com
       </A><BR>
    <I>Fri Feb  3 21:05:29 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="012495.html">[Twisted-Python] Running callbacks in a non-main thread
</A></li>
        <LI>Next message: <A HREF="012492.html">[Twisted-Python] Running callbacks in a non-main thread
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12496">[ date ]</a>
              <a href="thread.html#12496">[ thread ]</a>
              <a href="subject.html#12496">[ subject ]</a>
              <a href="author.html#12496">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, 3 Feb 2006 18:06:52 -0700, Gabe Rudy &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">rudy at goldenhelix.com</A>&gt; wrote:
&gt;<i>On Friday 03 February 2006 5:13 pm, Bob Ippolito wrote:
</I>&gt;&gt;<i> Technically a Deferred will process its callbacks in the same thread
</I>&gt;&gt;<i> that callback or errback was invoked in.  If you feel the need to do
</I>&gt;&gt;<i> that, your design is probably fubar though.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>Ok, thanks for setting me strait. I see that my problem was really I was
</I>&gt;<i>blocking the main thread, and hence the reactor from doing _anything_. I got
</I>&gt;<i>a workable hack now that processes reactor events in a loop until the worker
</I>&gt;<i>thread finishes, then returns from the function with the results (making the
</I>&gt;<i>function appear synchronous to the caller).
</I>
Hack is exactly the right word to describe this.  The only way to implement this is by going behind Twisted's back, using unsupported APIs, and risking having the whole thing fall apart in the next point release (that's assuming you get it to work reliably at all, which is a long shot at best).

I recommend working very hard to eliminate this style of usage from your code, and not introducing any further instances of it.

Jean-Paul


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012495.html">[Twisted-Python] Running callbacks in a non-main thread
</A></li>
	<LI>Next message: <A HREF="012492.html">[Twisted-Python] Running callbacks in a non-main thread
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12496">[ date ]</a>
              <a href="thread.html#12496">[ thread ]</a>
              <a href="subject.html#12496">[ subject ]</a>
              <a href="author.html#12496">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
