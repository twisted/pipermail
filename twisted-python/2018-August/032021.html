<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Can transport.write() to hostname instead of IP address?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Can%20transport.write%28%29%20to%20hostname%20instead%20of%20IP%0A%20address%3F&In-Reply-To=%3CCANzH6ev5AA_btD1w9_sysq4nTmP3jBkxNquPcznv1pebVyBadQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="032017.html">
   <LINK REL="Next"  HREF="064483.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Can transport.write() to hostname instead of IP address?</H1>
    <B>Sean DiZazzo</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Can%20transport.write%28%29%20to%20hostname%20instead%20of%20IP%0A%20address%3F&In-Reply-To=%3CCANzH6ev5AA_btD1w9_sysq4nTmP3jBkxNquPcznv1pebVyBadQ%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Can transport.write() to hostname instead of IP address?">sean.dizazzo at gmail.com
       </A><BR>
    <I>Thu Aug 16 18:25:25 MDT 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="032017.html">[Twisted-Python] Tahoe 1.13.0
</A></li>
        <LI>Next message (by thread): <A HREF="064483.html">[Twisted-Python] Can transport.write() to hostname instead of IP address?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32021">[ date ]</a>
              <a href="thread.html#32021">[ thread ]</a>
              <a href="subject.html#32021">[ subject ]</a>
              <a href="author.html#32021">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all!

After I start a reactor connecting to a specific hostname and port, I do my
thing and then call transport.write() to send the data to the peer.

&gt;<i>From what I can tell, though, the hostname is resolved, and the data is
</I>written back to the ip address itself, instead of the hostname I started
the reactor with.

This is a problem in my case because we are using nginx's ssl_preread
server_name directive to route several different streams all coming in on
the same ip address.

So the write() method needs to explicitly use the hostname to route the
packet properly.

So... Is there any way to have transport.write() use the hostname given
instead of it's resolved IP address? Or am I missing something?


Crossposted on StackOverflow:
<A HREF="https://stackoverflow.com/questions/51886720/is-there-a-way-to-force-twisted-internet-interfaces-itransport-to-write-to-a-g">https://stackoverflow.com/questions/51886720/is-there-a-way-to-force-twisted-internet-interfaces-itransport-to-write-to-a-g</A>

Thank you for any insight you may have!

~Sean
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20180816/ebec54c1/attachment.html&gt;
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="032017.html">[Twisted-Python] Tahoe 1.13.0
</A></li>
	<LI>Next message (by thread): <A HREF="064483.html">[Twisted-Python] Can transport.write() to hostname instead of IP address?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32021">[ date ]</a>
              <a href="thread.html#32021">[ thread ]</a>
              <a href="subject.html#32021">[ subject ]</a>
              <a href="author.html#32021">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
