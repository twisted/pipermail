<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Keeping logger from snatching stdout?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Keeping%20logger%20from%20snatching%20stdout%3F&In-Reply-To=%3CCA%2B1iZEcfQOcSuZAYzjafbCEDh-dsONUTjOx8v4e8PR%3DHPt%2BtsQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Keeping logger from snatching stdout?</H1>
    <B>Jeff Grimmett</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Keeping%20logger%20from%20snatching%20stdout%3F&In-Reply-To=%3CCA%2B1iZEcfQOcSuZAYzjafbCEDh-dsONUTjOx8v4e8PR%3DHPt%2BtsQ%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Keeping logger from snatching stdout?">grimmtooth at gmail.com
       </A><BR>
    <I>Wed Aug 29 16:48:19 MDT 2018</I>
    <P><UL>
        
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64504">[ date ]</a>
              <a href="thread.html#64504">[ thread ]</a>
              <a href="subject.html#64504">[ subject ]</a>
              <a href="author.html#64504">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm working on a Flask project using the flask_twisted package from PyPI
and have encountered a mystery.  I don't *have* to solve it to move on, but
darn it, I can't let it go :)

<A HREF="https://pypi.org/project/Flask-Twisted/">https://pypi.org/project/Flask-Twisted/</A>
<A HREF="https://github.com/cravler/flask-twisted/">https://github.com/cravler/flask-twisted/</A>

So here's the breakdown: when use the standard logging module to output to
a logfile + stdout, everything is fine.  I do see some logging output from
Twisted as well (the web server part) but for the most part life is groovy.

I'm going to be integrating in a wxPython windows app to this (previously
it's been a shell app) and step 1 was to make my own stdout handler that
eventually would pipe all that stuff to a window in the wx app.  The first
step of THAT (step 1.a) was to replace all the logging stuff with print()
placeholders.

At that point, things got confusing, as now ALL of my print()s are being
handled by Twisted's logging handler.

I brought flask-twisted in local to my code so I could monkey around with
it. First thing I noticed was that it was using twisted.python.log. I
messed around with that - commented it out, and now I get no stdout output
at all.  Set the parameter setStdout to False, same thing.

The adapter code uses twisted.internet.reactor,  threads,
twisted.web.server.Site, twisted.web.wsgi.WSGIResource, and
twisted.web.resource.Resource, any one which might be responsible. I spent
yesterday evening digging around but haven't found anything yet.

Any guidance / ideas?

Regards,

Jeff
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20180829/ee0f7b76/attachment-0002.html&gt;
</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64504">[ date ]</a>
              <a href="thread.html#64504">[ thread ]</a>
              <a href="subject.html#64504">[ subject ]</a>
              <a href="author.html#64504">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
