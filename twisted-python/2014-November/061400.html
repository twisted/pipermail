<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] How do I debug this network problem?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20How%20do%20I%20debug%20this%20network%20problem%3F&In-Reply-To=%3C0878011B-449F-4C6D-8FD5-B90F86C21D5F%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="028938.html">
   <LINK REL="Next"  HREF="061401.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] How do I debug this network problem?</H1>
    <B>Glyph</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20How%20do%20I%20debug%20this%20network%20problem%3F&In-Reply-To=%3C0878011B-449F-4C6D-8FD5-B90F86C21D5F%40twistedmatrix.com%3E"
       TITLE="[Twisted-Python] How do I debug this network problem?">glyph at twistedmatrix.com
       </A><BR>
    <I>Thu Nov 13 06:17:19 MST 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="028938.html">[Twisted-Python] How do I debug this network problem?
</A></li>
        <LI>Next message (by thread): <A HREF="061401.html">[Twisted-Python] How do I debug this network problem?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61400">[ date ]</a>
              <a href="thread.html#61400">[ thread ]</a>
              <a href="subject.html#61400">[ subject ]</a>
              <a href="author.html#61400">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> On Nov 13, 2014, at 1:15 PM, Peter Westlake &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">peter.westlake at pobox.com</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> I've had a look at the code, and got rather lost amongst the interfaces
</I>&gt;<i> and inheritance and protocols and transports. If someone can help me
</I>&gt;<i> narrow down the relevant bits of code, I can put in some Python tracing.
</I>&gt;<i> 
</I>
I could describe all the interfaces and inheritance and protocols and transports, but since you don't want to puzzle out all that code, presumably such a description would be overly complex :).

A good place to start would be to figure out if the data is getting to Twisted at all, which means instrumenting your Protocol.

If you've done the default thing, and just done class Something(AMP):, this means you should override dataReceived, like so:

from __future__ import print_function
from twisted.protocols.amp import AMP
class MyAMP(AMP, object):
    def dataReceived(self, data):
        print(&quot;Got some data&quot;, repr(data))
        return super(MyAMP, self).dataReceived(data)

If you're not seeing anything, that will give you an idea of whether your kernel is not actually delivering that data to Twisted.

There are, of course, a plethora of other things that could be going wrong - maybe your Twisted program is stuck in some blocking function elsewhere and the reactor loop isn't running at all, maybe you're using some policy wrapper which is buffering incorrectly... but that's a good sanity check to start with.

-glyph
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20141113/64afb8c9/attachment-0002.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="028938.html">[Twisted-Python] How do I debug this network problem?
</A></li>
	<LI>Next message (by thread): <A HREF="061401.html">[Twisted-Python] How do I debug this network problem?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61400">[ date ]</a>
              <a href="thread.html#61400">[ thread ]</a>
              <a href="subject.html#61400">[ subject ]</a>
              <a href="author.html#61400">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
