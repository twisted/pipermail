<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] twisted ssl server and client
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20twisted%20ssl%20server%20and%20client&In-Reply-To=%3CCAKmUHja1d3_v119Hx%2Bj0i%3Dzt50FcA8%2BNCjnPYqimmFthq%2BR4jw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="061386.html">
   <LINK REL="Next"  HREF="061389.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] twisted ssl server and client</H1>
    <B>John Aherne</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20twisted%20ssl%20server%20and%20client&In-Reply-To=%3CCAKmUHja1d3_v119Hx%2Bj0i%3Dzt50FcA8%2BNCjnPYqimmFthq%2BR4jw%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] twisted ssl server and client">johnaherne at rocs.co.uk
       </A><BR>
    <I>Fri Nov  7 06:14:10 MST 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="061386.html">[Twisted-Python] twisted ssl server and client
</A></li>
        <LI>Next message (by thread): <A HREF="061389.html">[Twisted-Python] twisted ssl server and client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61387">[ date ]</a>
              <a href="thread.html#61387">[ thread ]</a>
              <a href="subject.html#61387">[ subject ]</a>
              <a href="author.html#61387">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks for the reply.

In the end I took the examples in the docs and changed them to fit.

So I have ended up with something that seems to work.

But I wouldn't mind if someone can tell me if what I have done is miles
wrong or spot on or could do with improvement or you have missed the point
completely.

Thanks for any pointers


Below is the code with simple changes made

#!/usr/bin/env python
# Copyright (c) Twisted Matrix Laboratories.
# See LICENSE for details.

echoserv_ssl.py

import sys

from twisted.internet import reactor, ssl, protocol, task, defer
from twisted.python import log

import echoserv

log.startLogging(sys.stdout)
#certificate = ssl.PrivateCertificate.loadPEM(certData)
certificate2 =
ssl.DefaultOpenSSLContextFactory('d:\\openssl\\ibook\\ibookservernp.key',

 'd:\\openssl\\ibook\\7044921f82b7.crt')
print 'CERT2', certificate2

my_context2 = certificate2.getContext()
my_context2.load_verify_locations('d:\\openssl\\ibook\\gd_bundle-g2-g1.crt')

factory = protocol.Factory.forProtocol(echoserv.Echo)
print 'CERT OPTIONS', dir(certificate2)
reactor.listenSSL(8000, factory, certificate2)



echoserv.py

#!/usr/bin/env python

# Copyright (c) Twisted Matrix Laboratories.
# See LICENSE for details.

from twisted.internet.protocol import Protocol, Factory
from twisted.internet import reactor

### Protocol Implementation

# This is just about the simplest possible protocol
class Echo(Protocol):
    def dataReceived(self, data):
        &quot;&quot;&quot;
        As soon as any data is received, write it back.
        &quot;&quot;&quot;
        print 'MESSAGE', data
        self.transport.write(data)  #'HELLO THERE?\r\n')


def main():
    f = Factory()
    f.protocol = Echo
    reactor.listenTCP(8000, f)
    reactor.run()

if __name__ == '__main__':
    main()


-- 
*John Aherne*




*www.rocs.co.uk &lt;<A HREF="http://www.rocs.co.uk">http://www.rocs.co.uk</A>&gt;*
020 7223 7567
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20141107/a1202f31/attachment-0002.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="061386.html">[Twisted-Python] twisted ssl server and client
</A></li>
	<LI>Next message (by thread): <A HREF="061389.html">[Twisted-Python] twisted ssl server and client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61387">[ date ]</a>
              <a href="thread.html#61387">[ thread ]</a>
              <a href="subject.html#61387">[ subject ]</a>
              <a href="author.html#61387">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
