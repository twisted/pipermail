<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] How do I debug this network problem?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20How%20do%20I%20debug%20this%20network%20problem%3F&In-Reply-To=%3C1416249168.3883954.192036725.3E3648BD%40webmail.messagingengine.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="061433.html">
   <LINK REL="Next"  HREF="061435.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] How do I debug this network problem?</H1>
    <B>Peter Westlake</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20How%20do%20I%20debug%20this%20network%20problem%3F&In-Reply-To=%3C1416249168.3883954.192036725.3E3648BD%40webmail.messagingengine.com%3E"
       TITLE="[Twisted-Python] How do I debug this network problem?">peter.westlake at pobox.com
       </A><BR>
    <I>Mon Nov 17 11:32:48 MST 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="061433.html">[Twisted-Python] How do I debug this network problem?
</A></li>
        <LI>Next message (by thread): <A HREF="061435.html">[Twisted-Python] How do I debug this network problem?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61434">[ date ]</a>
              <a href="thread.html#61434">[ thread ]</a>
              <a href="subject.html#61434">[ subject ]</a>
              <a href="author.html#61434">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 17 Nov 2014, at 15:38, <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at twistedmatrix.com</A> wrote:
...
&gt;<i> This is entirely normal.  It's how timed calls are implemented in almost 
</I>&gt;<i> all of the reactors and it's how they've been implemented for at least 
</I>&gt;<i> 13 years. :)
</I>&gt;<i> 
</I>&gt;<i> It's possible there's a bug here but this sequence of poll() calls with 
</I>&gt;<i> these timeout values doesn't surprise me at all.
</I>
Yes, I ran it again (using the select reactor this time) and the
failures
happened even without the timing out.

The one thing that is consistent is the loss of data after EAGAIN.
recvfrom returns EAGAIN and the next AMP reply is lost.

It's a known bug in Python! <A HREF="http://bugs.python.org/issue1038591,">http://bugs.python.org/issue1038591,</A>
&quot;Python 2.3+ socket._fileobject handles EAGAIN with data loss&quot;.
This bug has been there for TEN YEARS without being fixed. It's
still right there in the source of 2.7.8. The ticket has a comment
from 2011 saying it should work in Python 3.x (and the code does
look as though it should), and a suggestion from 2013 that it
should be closed.

So, how's that port to Python 3 going?

Peter.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="061433.html">[Twisted-Python] How do I debug this network problem?
</A></li>
	<LI>Next message (by thread): <A HREF="061435.html">[Twisted-Python] How do I debug this network problem?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61434">[ date ]</a>
              <a href="thread.html#61434">[ thread ]</a>
              <a href="subject.html#61434">[ subject ]</a>
              <a href="author.html#61434">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
