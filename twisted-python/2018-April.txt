From trac at twistedmatrix.com  Sun Apr  1 00:05:24 2018
From: trac at twistedmatrix.com (trac at twistedmatrix.com)
Date: Sun, 01 Apr 2018 06:05:24 -0000
Subject: [Twisted-Python] Weekly Bug Summary
Message-ID: 1522562724.12.1066005949816718458@twistedmatrix.com

An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180401/f6e7ce1f/attachment.html>

From hawkowl at atleastfornow.net  Sun Apr  1 07:30:54 2018
From: hawkowl at atleastfornow.net (Amber Brown)
Date: Sun, 1 Apr 2018 23:30:54 +1000
Subject: [Twisted-Python] Twisted 18.4.0 Prerelease 1 Announcement
Message-ID: <61a0b528-386b-7322-9a4c-cedf8ebd3559@atleastfornow.net>

Hi everyone!
Time for another Twisted release. My, it has been a while! In this 
delightfully devilish release there is:
- The dropping of Python 3.3 support.
- Python 3 fixes (notably to trial -j, asyncioreactor, conch, and mail)
- Python 3 TCP speed improvements (less copying when sending data)
- Better TLS curve selection support for both old and new OpenSSLs
- IPv6 fixes for WSGIResource
- 60+ closed tickets with many fixed bugs!
Please see the NEWS.rst file and download the tarball at 
https://twistedmatrix.com/Releases/rc/18.4.0rc/ , or run `pip install 
twisted==18.4.0rc1`.
Unless issues are found, the release will be in a week or so.
- Amber
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180401/ba5dd39e/attachment.html>

From hawkowl at atleastfornow.net  Sun Apr  1 07:46:52 2018
From: hawkowl at atleastfornow.net (Amber Brown)
Date: Sun, 1 Apr 2018 23:46:52 +1000
Subject: [Twisted-Python] Twisted 18.4.0 Prerelease 1 Announcement
In-Reply-To: <61a0b528-386b-7322-9a4c-cedf8ebd3559@atleastfornow.net>
References: <61a0b528-386b-7322-9a4c-cedf8ebd3559@atleastfornow.net>
Message-ID: <99dc814b-46a9-a71e-e618-d2dde902e5ad@atleastfornow.net>

Whoops, that URL should be 
"https://twistedmatrix.com/Releases/rc/18.4.0rc1/"...

- Amber


On 04/01/2018 11:30 PM, Amber Brown wrote:
> Hi everyone!
> Time for another Twisted release. My, it has been a while! In this 
> delightfully devilish release there is:
> - The dropping of Python 3.3 support.
> - Python 3 fixes (notably to trial -j, asyncioreactor, conch, and mail)
> - Python 3 TCP speed improvements (less copying when sending data)
> - Better TLS curve selection support for both old and new OpenSSLs
> - IPv6 fixes for WSGIResource
> - 60+ closed tickets with many fixed bugs!
> Please see the NEWS.rst file and download the tarball at 
> https://twistedmatrix.com/Releases/rc/18.4.0rc/ , or run `pip install 
> twisted==18.4.0rc1`.
> Unless issues are found, the release will be in a week or so.
> - Amber 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180401/28750fb0/attachment.html>

From hawkowl at atleastfornow.net  Mon Apr  2 02:23:29 2018
From: hawkowl at atleastfornow.net (Amber Brown)
Date: Mon, 2 Apr 2018 18:23:29 +1000
Subject: [Twisted-Python] The Future of Twisted.News
Message-ID: <273db33b-9911-55d4-ee4e-4f3543e0845a@atleastfornow.net>

Hi all,

I thought it would be a good time to raise the topic of twisted.news and 
its future in Twisted.

Currently, t.news has below-Twisted standards of code coverage, 
implementation (with one huuuuge ad-hoc state machine), comments, tests, 
etc. It's also not had any changes to the bulk of its code for 14 years, 
apart from what appears to be code removal 6 years ago and a handful of 
"twisted-wide" mechanical syntax changes. It's also unlikely to ever be 
ported to Python 3 unless someone were to improve the former issues 
(since the port would require 100%-as-possible code coverage).

I propose deprecating twisted.news on the condition that it doesn't have 
a maintainer, and un-deprecating it if a user of the code steps up to 
maintain it and brings it into line (vs one of the current development 
team taking on work keeping an ancient protocol on life support). If 
nobody steps up, then we remove it at the end of the deprecation period 
and encourage any remaining users to either pin to old Twisteds or 
simply vendor the code in their own codebase.

The ticket I have created for this is at 
https://twistedmatrix.com/trac/ticket/9405 .

- Amber


From adi at roiban.ro  Mon Apr  2 05:13:36 2018
From: adi at roiban.ro (Adi Roiban)
Date: Mon, 2 Apr 2018 12:13:36 +0100
Subject: [Twisted-Python] Problem with osx10.10-py2.7 builder
In-Reply-To: <1522191250.3622996.1318320048.778C9DEB@webmail.messagingengine.com>
References: <CAG=rPVeZHjmw2RuFuzbf3jR9j=WPNsmkrGM+U9kzr7c68qTbjQ@mail.gmail.com>
 <CAFycZ9cnVeQcc3JxqNMjR9ki_S3PedS763LsbkcsYg0NO4L-zg@mail.gmail.com>
 <B5B15382-9E5F-4DA0-B058-DDFB6F470570@twistedmatrix.com>
 <CAEeXt4NZL=XJ6yZRX2OtwYRHGBAft1Jn5O1t2q=Jw7f5+yHn4g@mail.gmail.com>
 <B00F7EB6-7D9E-4FF6-9488-479F19FB99C4@twistedmatrix.com>
 <1522191250.3622996.1318320048.778C9DEB@webmail.messagingengine.com>
Message-ID: <CAFycZ9eKk20taxAqq0H0-7Z9VQrhaa-A5wzi1UYMb76vLf5qsw@mail.gmail.com>

On 27 March 2018 at 23:54, Glyph <glyph at twistedmatrix.com> wrote:

>
>
>
> On Mon, Mar 26, 2018, at 10:39 PM, Glyph wrote:
>
>
>
> On Mar 26, 2018, at 3:32 AM, Jean-Paul Calderone <
> exarkun at twistedmatrix.com> wrote:
>
> On Mon, Mar 26, 2018 at 2:58 AM, Glyph <glyph at twistedmatrix.com> wrote:
>
> Alternately...
>
> The reason we're doing this at all is that Travis's macOS situation was
> pretty dismal when we last tried it.  But then, the graphs on
> https://www.traviscistatus.com at the time matched that experience:
> routinely there were build queues in the hundreds.  Right now the "Backlog
> macOS Builds for Open Source Projects" shows a completely flat line, zero
> for the last 24 hours.
>
> It might be worth trying out Travis again.
>
>
> FWIW, I moved another project's macOS CI from Travis to CircleCI about a
> month ago because the Travis macOS job queue was so long.  Counting queue
> time, CircleCI finishes those jobs around 6x faster than TravisCI.
>
> Maybe things have improved on Travis but they're still pretty bad.
>
>
> That's a bummer, but thanks for providing the data point.
>
> -g
>
>
>
> I guess I just needed to look during the PST workday...
>
>
FYI buildbot/osx10.10-py2.7 is broken again


---------

Circle-CI is pretty fast, but we are also burning the time pretty fast.
We have used 90% of the time allocated between 19 March of 19 April.

Regards,
-- 
Adi Roiban
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180402/4a5cf6d4/attachment-0001.html>

From rodrigc at crodrigues.org  Mon Apr  2 18:19:37 2018
From: rodrigc at crodrigues.org (Craig Rodrigues)
Date: Mon, 2 Apr 2018 17:19:37 -0700
Subject: [Twisted-Python] Problem with osx10.10-py2.7 builder
In-Reply-To: <CAFycZ9cnVeQcc3JxqNMjR9ki_S3PedS763LsbkcsYg0NO4L-zg@mail.gmail.com>
References: <CAG=rPVeZHjmw2RuFuzbf3jR9j=WPNsmkrGM+U9kzr7c68qTbjQ@mail.gmail.com>
 <CAFycZ9cnVeQcc3JxqNMjR9ki_S3PedS763LsbkcsYg0NO4L-zg@mail.gmail.com>
Message-ID: <CAG=rPVdBr3iehTrTP4j-uSyu5WEUZEVNstaXpUKbTV4-jLqOqQ@mail.gmail.com>

On Sun, Mar 25, 2018 at 5:01 AM, Adi Roiban <adi at roiban.ro> wrote:

> Hi,
>
>
> On 25 March 2018 at 05:14, Craig Rodrigues <rodrigc at crodrigues.org> wrote:
> > Hi,
> >
> > Can someone check this builder:
> >
> > https://buildbot.twistedmatrix.com/builders/osx10.10-py2.7
> >
> > It is failing randomly in weird ways during builds.  For example,
> > in some cases it fails to install tox.  In other cases, the tests
> terminate
> > in
> > some random spot.
>
> I will try and take a look at it.
>
> If someone knows more about the slave running this build, please add
> the info on wiki at:
>
> https://twistedmatrix.com/trac/wiki/ContinuousIntegration/Buildslaves
>


Where is this MacOS builder?  Is it in Rackspace, some cloud provider, or
other?

--
Craig
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180402/801c2707/attachment.html>

From twisted-python at 2xlp.com  Wed Apr  4 09:47:36 2018
From: twisted-python at 2xlp.com (jonathan vanasco)
Date: Wed, 4 Apr 2018 11:47:36 -0400
Subject: [Twisted-Python] Problem with osx10.10-py2.7 builder
In-Reply-To: <CAFycZ9eKk20taxAqq0H0-7Z9VQrhaa-A5wzi1UYMb76vLf5qsw@mail.gmail.com>
References: <CAG=rPVeZHjmw2RuFuzbf3jR9j=WPNsmkrGM+U9kzr7c68qTbjQ@mail.gmail.com>
 <CAFycZ9cnVeQcc3JxqNMjR9ki_S3PedS763LsbkcsYg0NO4L-zg@mail.gmail.com>
 <B5B15382-9E5F-4DA0-B058-DDFB6F470570@twistedmatrix.com>
 <CAEeXt4NZL=XJ6yZRX2OtwYRHGBAft1Jn5O1t2q=Jw7f5+yHn4g@mail.gmail.com>
 <B00F7EB6-7D9E-4FF6-9488-479F19FB99C4@twistedmatrix.com>
 <1522191250.3622996.1318320048.778C9DEB@webmail.messagingengine.com>
 <CAFycZ9eKk20taxAqq0H0-7Z9VQrhaa-A5wzi1UYMb76vLf5qsw@mail.gmail.com>
Message-ID: <E4674EB1-1563-4E74-9780-E38A8D9ACA35@2xlp.com>


> On Apr 2, 2018, at 7:13 AM, Adi Roiban <adi at roiban.ro> wrote:
> 
> FYI buildbot/osx10.10-py2.7 is broken again


FWIW, `pip` on OSX (perhaps others?) swallows the 403 error about TLS brownouts on pypi for the 1.0/1.1 ending next week. No error is raised, and you just get an empty match for installable versions of anything. (it needs to be run as `-vvvv` to see/know there is an actual error).  If that is the issue, the 9.0.3 version of pip is compatible with the new TLS and upgrading to it will fix things.

This broke my CI system a few weeks ago, and has done the same for everyone i know with a CI running on macs.

From mrw at enotuniq.org  Wed Apr  4 18:28:26 2018
From: mrw at enotuniq.org (Mark Williams)
Date: Wed, 04 Apr 2018 17:28:26 -0700
Subject: [Twisted-Python] Problem with osx10.10-py2.7 builder
In-Reply-To: <CAFycZ9eKk20taxAqq0H0-7Z9VQrhaa-A5wzi1UYMb76vLf5qsw@mail.gmail.com>
References: <CAG=rPVeZHjmw2RuFuzbf3jR9j=WPNsmkrGM+U9kzr7c68qTbjQ@mail.gmail.com>
 <CAFycZ9cnVeQcc3JxqNMjR9ki_S3PedS763LsbkcsYg0NO4L-zg@mail.gmail.com>
 <B5B15382-9E5F-4DA0-B058-DDFB6F470570@twistedmatrix.com>
 <CAEeXt4NZL=XJ6yZRX2OtwYRHGBAft1Jn5O1t2q=Jw7f5+yHn4g@mail.gmail.com>
 <B00F7EB6-7D9E-4FF6-9488-479F19FB99C4@twistedmatrix.com>
 <1522191250.3622996.1318320048.778C9DEB@webmail.messagingengine.com>
 <CAFycZ9eKk20taxAqq0H0-7Z9VQrhaa-A5wzi1UYMb76vLf5qsw@mail.gmail.com>
Message-ID: <1522888106.1633690.1326922408.48B4DD53@webmail.messagingengine.com>

On Mon, Apr 2, 2018, at 4:13 AM, Adi Roiban wrote:
> 
> FYI buildbot/osx10.10-py2.7 is broken again
> 

The Build master's configuration was updated outside of twisted-infra/braid.  I've checked it in and brought the repo more in line with reality:

https://github.com/twisted-infra/braid/commit/55402aaa0a8da3b8d6ee737764287866171084f4

I also have PR that should fix the intermittent failures:

https://github.com/twisted-infra/braid/pull/250

If you're interested, please review that PR.

> ---------
> 
> Circle-CI is pretty fast, but we are also burning the time pretty fast.
> We have used 90% of the time allocated between 19 March of 19 April.
> 
> Regards,
> -- 
> Adi Roiban
> _________________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python

--
  Mark Williams
  mrw at enotuniq.org


From mrw at enotuniq.org  Thu Apr  5 20:39:10 2018
From: mrw at enotuniq.org (Mark Williams)
Date: Thu, 05 Apr 2018 19:39:10 -0700
Subject: [Twisted-Python] Problem with osx10.10-py2.7 builder
In-Reply-To: <1522888106.1633690.1326922408.48B4DD53@webmail.messagingengine.com>
References: <CAG=rPVeZHjmw2RuFuzbf3jR9j=WPNsmkrGM+U9kzr7c68qTbjQ@mail.gmail.com>
 <CAFycZ9cnVeQcc3JxqNMjR9ki_S3PedS763LsbkcsYg0NO4L-zg@mail.gmail.com>
 <B5B15382-9E5F-4DA0-B058-DDFB6F470570@twistedmatrix.com>
 <CAEeXt4NZL=XJ6yZRX2OtwYRHGBAft1Jn5O1t2q=Jw7f5+yHn4g@mail.gmail.com>
 <B00F7EB6-7D9E-4FF6-9488-479F19FB99C4@twistedmatrix.com>
 <1522191250.3622996.1318320048.778C9DEB@webmail.messagingengine.com>
 <CAFycZ9eKk20taxAqq0H0-7Z9VQrhaa-A5wzi1UYMb76vLf5qsw@mail.gmail.com>
 <1522888106.1633690.1326922408.48B4DD53@webmail.messagingengine.com>
Message-ID: <1522982350.3275891.1328363544.16E28C86@webmail.messagingengine.com>

Adi Roiban graciously reviewed the PR and I deployed the new master.cfg to buildbot.twistedmatrix.com.  It looks like the macOS builder is now working (more) reliably.

Please note that the required macOS build is now known as "buildbot/osx10.11-py2.7-coverage", where before it was "buildbot/osx10.10-py2.7-coverage".  This name change reflects the updated operating system.

On Wed, Apr 4, 2018, at 5:28 PM, Mark Williams wrote:
> On Mon, Apr 2, 2018, at 4:13 AM, Adi Roiban wrote:
> > 
> > FYI buildbot/osx10.10-py2.7 is broken again
> > 
> 
> The Build master's configuration was updated outside of twisted-infra/
> braid.  I've checked it in and brought the repo more in line with 
> reality:
> 
> https://github.com/twisted-infra/braid/commit/55402aaa0a8da3b8d6ee737764287866171084f4
> 
> I also have PR that should fix the intermittent failures:
> 
> https://github.com/twisted-infra/braid/pull/250
> 
> If you're interested, please review that PR.
> 
> > ---------
> > 
> > Circle-CI is pretty fast, but we are also burning the time pretty fast.
> > We have used 90% of the time allocated between 19 March of 19 April.
> > 
> > Regards,
> > -- 
> > Adi Roiban
> > _________________________________________________
> > Twisted-Python mailing list
> > Twisted-Python at twistedmatrix.com
> > https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
> 
> --
>   Mark Williams
>   mrw at enotuniq.org
> 
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python


-- 
  Mark Williams
  mrw at enotuniq.org


From trac at twistedmatrix.com  Sun Apr  8 00:05:21 2018
From: trac at twistedmatrix.com (trac at twistedmatrix.com)
Date: Sun, 08 Apr 2018 06:05:21 -0000
Subject: [Twisted-Python] Weekly Bug Summary
Message-ID: 1523167521.6.3597893979556895818@twistedmatrix.com

An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180408/d0ee29a5/attachment.html>

From mrw at enotuniq.org  Thu Apr 12 02:47:10 2018
From: mrw at enotuniq.org (Mark Williams)
Date: Thu, 12 Apr 2018 01:47:10 -0700
Subject: [Twisted-Python] Mandatory HTTPS on twistedmatrix.com
Message-ID: <1523522830.1374628.1335362032.2331EE44@webmail.messagingengine.com>

Hi all,

twistedmatrix.com and its subdomains now redirect all HTTP requests to HTTPS.

If the transition goes smoothly, I'll turn on HSTS (https://en.wikipedia.org/wiki/HTTP_Strict_Transport_Security) next week.

Please let me know if you notice any irregularities.

-- 
  Mark Williams
  mrw at enotuniq.org


From thomas.westfeld at currenta.de  Thu Apr 12 10:12:56 2018
From: thomas.westfeld at currenta.de (Thomas Westfeld)
Date: Thu, 12 Apr 2018 16:12:56 +0000
Subject: [Twisted-Python] Running a twisted application as windows service
Message-ID: <dd2bc1389ef7437e99c651306571ce42@BYEX35.de.bayer.cnb>

Hello all,

I have written a nice twisted-based TCP-server as a twistd plugin or an 
application as a .tac file and I would like to run it as a windows service.

It works when started from cmd.exe but I would like to run it as a native 
service.

I have seen that the pywin32 package has a win32serviceutil module which could 
be used for this. Unfortunately I do not know how to get it up and running.

I have seen several posts here on this list about this topic but it is still 
unclear how to use it. For my understanding one has to mimic the life-cycle 
management of the process which twist(d) does in the windows service.

Once it has been figured out I would love to clean it all up and add it to 
twisted's documentation.


Thanks for your help,
Thomas
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 6085 bytes
Desc: not available
URL: </pipermail/twisted-python/attachments/20180412/a65479b5/attachment.bin>

From johnaherne at rocs.co.uk  Thu Apr 12 10:24:27 2018
From: johnaherne at rocs.co.uk (John Aherne)
Date: Thu, 12 Apr 2018 17:24:27 +0100
Subject: [Twisted-Python] Running a twisted application as windows
	service
In-Reply-To: <dd2bc1389ef7437e99c651306571ce42@BYEX35.de.bayer.cnb>
References: <dd2bc1389ef7437e99c651306571ce42@BYEX35.de.bayer.cnb>
Message-ID: <CAKmUHjavoxw6q5gfkO06Qg-JevHSwkTBCH39fkU-uRt-_pZAfw@mail.gmail.com>

I think you will find this blog post will tell you all you need to know.

There are 3 separate blogs covering twisted as a windows service

http://www.christianlong.com/blog/archives.html

Regards

John Aherne


On Thu, Apr 12, 2018 at 5:12 PM, Thomas Westfeld <
thomas.westfeld at currenta.de> wrote:

> Hello all,
>
> I have written a nice twisted-based TCP-server as a twistd plugin or an
> application as a .tac file and I would like to run it as a windows service.
>
> It works when started from cmd.exe but I would like to run it as a native
> service.
>
> I have seen that the pywin32 package has a win32serviceutil module which
> could
> be used for this. Unfortunately I do not know how to get it up and running.
>
> I have seen several posts here on this list about this topic but it is
> still
> unclear how to use it. For my understanding one has to mimic the life-cycle
> management of the process which twist(d) does in the windows service.
>
> Once it has been figured out I would love to clean it all up and add it to
> twisted's documentation.
>
>
> Thanks for your help,
> Thomas
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
>


-- 
*John Aherne*




*www.rocs.co.uk <http://www.rocs.co.uk>*
020 7223 7567
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180412/dbe71f95/attachment.html>

From rgacote at appropriatesolutions.com  Thu Apr 12 11:50:34 2018
From: rgacote at appropriatesolutions.com (Ray Cote)
Date: Thu, 12 Apr 2018 13:50:34 -0400
Subject: [Twisted-Python] Running a twisted application as windows
	service
In-Reply-To: <dd2bc1389ef7437e99c651306571ce42@BYEX35.de.bayer.cnb>
References: <dd2bc1389ef7437e99c651306571ce42@BYEX35.de.bayer.cnb>
Message-ID: <CAG5tnzo12LaPDEW1pbskYMy89ucPsPJGSpVfCwVqxstpDb+9jQ@mail.gmail.com>

On Thu, Apr 12, 2018 at 12:12 PM, Thomas Westfeld <
thomas.westfeld at currenta.de> wrote:

> Hello all,
>
> I have written a nice twisted-based TCP-server as a twistd plugin or an
> application as a .tac file and I would like to run it as a windows service.
>

Hi Thomas:
Recommend you take a look at this service manager utility for Windows:
    https://nssm.cc/
We've moved away from implementing Twisted as a service and instead run it
under NSSM.
NSSM provides additional capabilities such as automatic restarts on
failure, redirected stdout/stderr, and easily setting dependency groups,
etc.
Our Twisted binaries are installed at a number of fairly large companies
and so far none of them have had any concern about running the NSSM service
manager.
Its made our life much simpler.
(Lousy product name, though...)

--Ray


-- 
Raymond Cote, President
voice: +1.603.924.6079 email: rgacote at AppropriateSolutions.com skype:
ray.cote
Schedule a meeting: https://calendly.com/ray_cote/60min/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180412/e8d1fe36/attachment-0001.html>

From werner at thieprojects.ch  Thu Apr 12 15:02:06 2018
From: werner at thieprojects.ch (Werner Thie)
Date: Thu, 12 Apr 2018 11:02:06 -1000
Subject: [Twisted-Python] Running a twisted application as windows
	service
In-Reply-To: <CAG5tnzo12LaPDEW1pbskYMy89ucPsPJGSpVfCwVqxstpDb+9jQ@mail.gmail.com>
References: <dd2bc1389ef7437e99c651306571ce42@BYEX35.de.bayer.cnb>
 <CAG5tnzo12LaPDEW1pbskYMy89ucPsPJGSpVfCwVqxstpDb+9jQ@mail.gmail.com>
Message-ID: <789c37e3-bb0b-fe71-cc90-3cac548bf85a@thieprojects.ch>

+1 never seen NSSM crash

Werner


On 04/12/2018 07:50 AM, Ray Cote wrote:
> On Thu, Apr 12, 2018 at 12:12 PM, Thomas Westfeld 
> <thomas.westfeld at currenta.de <mailto:thomas.westfeld at currenta.de>> wrote:
>
>     Hello all,
>
>     I have written a nice twisted-based TCP-server as a twistd plugin
>     or an
>     application as a .tac file and I would like to run it as a windows
>     service.
>
>
> Hi Thomas:
> Recommend you take a look at this service manager utility for Windows:
> https://nssm.cc/
> We've moved away from implementing Twisted as a service and instead 
> run it under NSSM.
> NSSM provides additional capabilities such as automatic restarts on 
> failure, redirected stdout/stderr, and easily setting dependency 
> groups, etc.
> Our Twisted binaries are installed at a number of fairly large 
> companies and so far none of them have had any concern about running 
> the NSSM service manager.
> Its made our life much simpler.
> (Lousy product name, though...)
>
> --Ray
>
>
> -- 
> Raymond Cote, President
> voice: +1.603.924.6079 email: rgacote at AppropriateSolutions.com skype: 
> ray.cote
> Schedule a meeting: https://calendly.com/ray_cote/60min/
>
>
>
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python

-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180412/d5ff4815/attachment.html>

From rodrigc at crodrigues.org  Thu Apr 12 22:22:23 2018
From: rodrigc at crodrigues.org (Craig Rodrigues)
Date: Thu, 12 Apr 2018 21:22:23 -0700
Subject: [Twisted-Python] pypy3 builds passing?
Message-ID: <CAG=rPVfrtrrHVEGMKOqZZ7DrsqH9mm3LDw9C1sT+Cor_X8eKDg@mail.gmail.com>

Hi,

I just took a look at this:

https://buildbot.twistedmatrix.com/builders/ubuntu16.04-pypy3/builds/27

running with:

Python 3.5.3 (3f6eaa010fce, Jan 11 2018, 04:44:35)
[PyPy 5.10.1 with GCC 6.2.0 20160901]


Ran 12268 tests in 455.535s

PASSED (skips=2240, successes=10028)


Is that a fluke, or have we made good progress with pypy?

--
Craig
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180412/25dfe307/attachment.html>

From glyph at twistedmatrix.com  Thu Apr 12 22:23:48 2018
From: glyph at twistedmatrix.com (Glyph)
Date: Thu, 12 Apr 2018 21:23:48 -0700
Subject: [Twisted-Python] pypy3 builds passing?
In-Reply-To: <CAG=rPVfrtrrHVEGMKOqZZ7DrsqH9mm3LDw9C1sT+Cor_X8eKDg@mail.gmail.com>
References: <CAG=rPVfrtrrHVEGMKOqZZ7DrsqH9mm3LDw9C1sT+Cor_X8eKDg@mail.gmail.com>
Message-ID: <06FD2D8E-0E1C-4345-8FE6-6121E640DC7E@twistedmatrix.com>

On Apr 12, 2018, at 9:22 PM, Craig Rodrigues <rodrigc at crodrigues.org> wrote:
> 
> Hi,
> 
> I just took a look at this:
> 
> https://buildbot.twistedmatrix.com/builders/ubuntu16.04-pypy3/builds/27 <https://buildbot.twistedmatrix.com/builders/ubuntu16.04-pypy3/builds/27>
> 
> running with:
> 
> Python 3.5.3 (3f6eaa010fce, Jan 11 2018, 04:44:35)
> [PyPy 5.10.1 with GCC 6.2.0 20160901]
> 
> 
> Ran 12268 tests in 455.535s
> 
> PASSED (skips=2240, successes=10028)
> 
> 
> Is that a fluke, or have we made good progress with pypy?

Woah!

Failing tests might be a fluke, but I have a hard time imagining how passing tests could be :)

This is great news!

-glyph

-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180412/dd6307ff/attachment.html>

From hawkowl at atleastfornow.net  Thu Apr 12 22:59:31 2018
From: hawkowl at atleastfornow.net (Amber Brown)
Date: Fri, 13 Apr 2018 04:59:31 +0000
Subject: [Twisted-Python] pypy3 builds passing?
In-Reply-To: <06FD2D8E-0E1C-4345-8FE6-6121E640DC7E@twistedmatrix.com>
References: <CAG=rPVfrtrrHVEGMKOqZZ7DrsqH9mm3LDw9C1sT+Cor_X8eKDg@mail.gmail.com>
 <06FD2D8E-0E1C-4345-8FE6-6121E640DC7E@twistedmatrix.com>
Message-ID: <CAMxb2isNd_48GHuApeHXG3xgY1X2fNu=LfA4aCT__8AsnKC5fw@mail.gmail.com>

My work is paying off... :)

On Fri, 13 Apr 2018, 14:24 Glyph, <glyph at twistedmatrix.com> wrote:

> On Apr 12, 2018, at 9:22 PM, Craig Rodrigues <rodrigc at crodrigues.org>
> wrote:
>
>
> Hi,
>
> I just took a look at this:
>
> https://buildbot.twistedmatrix.com/builders/ubuntu16.04-pypy3/builds/27
>
> running with:
>
> Python 3.5.3 (3f6eaa010fce, Jan 11 2018, 04:44:35)
> [PyPy 5.10.1 with GCC 6.2.0 20160901]
>
>
> Ran 12268 tests in 455.535s
>
> PASSED (skips=2240, successes=10028)
>
>
> Is that a fluke, or have we made good progress with pypy?
>
>
> Woah!
>
> Failing tests might be a fluke, but I have a hard time imagining how
> passing tests could be :)
>
> This is great news!
>
> -glyph
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180413/5ccac948/attachment.html>

From glyph at twistedmatrix.com  Thu Apr 12 23:07:37 2018
From: glyph at twistedmatrix.com (Glyph)
Date: Thu, 12 Apr 2018 22:07:37 -0700
Subject: [Twisted-Python] pypy3 builds passing?
In-Reply-To: <CAMxb2isNd_48GHuApeHXG3xgY1X2fNu=LfA4aCT__8AsnKC5fw@mail.gmail.com>
References: <CAG=rPVfrtrrHVEGMKOqZZ7DrsqH9mm3LDw9C1sT+Cor_X8eKDg@mail.gmail.com>
 <06FD2D8E-0E1C-4345-8FE6-6121E640DC7E@twistedmatrix.com>
 <CAMxb2isNd_48GHuApeHXG3xgY1X2fNu=LfA4aCT__8AsnKC5fw@mail.gmail.com>
Message-ID: <FD0BB0E2-39DB-4CCD-BBF0-72A5AC7CD364@twistedmatrix.com>



> On Apr 12, 2018, at 9:59 PM, Amber Brown <hawkowl at atleastfornow.net> wrote:
> 
> My work is paying off... :)

So I think we can call pypy3 a supported platform now?

Does it report build status to Github yet?

-g


From rodrigc at crodrigues.org  Thu Apr 12 23:31:45 2018
From: rodrigc at crodrigues.org (Craig Rodrigues)
Date: Thu, 12 Apr 2018 22:31:45 -0700
Subject: [Twisted-Python] pypy3 builds passing?
In-Reply-To: <CAMxb2isNd_48GHuApeHXG3xgY1X2fNu=LfA4aCT__8AsnKC5fw@mail.gmail.com>
References: <CAG=rPVfrtrrHVEGMKOqZZ7DrsqH9mm3LDw9C1sT+Cor_X8eKDg@mail.gmail.com>
 <06FD2D8E-0E1C-4345-8FE6-6121E640DC7E@twistedmatrix.com>
 <CAMxb2isNd_48GHuApeHXG3xgY1X2fNu=LfA4aCT__8AsnKC5fw@mail.gmail.com>
Message-ID: <CAG=rPVdAK-Zcp-D0YhNUiASLMzbR250f=z9uKtpFw895Svk0-g@mail.gmail.com>

On Thursday, April 12, 2018, Amber Brown <hawkowl at atleastfornow.net> wrote:

> My work is paying off... :)
>


Thank you!!

--
Craig
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180412/39f13006/attachment-0001.html>

From hawkowl at atleastfornow.net  Thu Apr 12 23:35:50 2018
From: hawkowl at atleastfornow.net (Amber Brown)
Date: Fri, 13 Apr 2018 05:35:50 +0000
Subject: [Twisted-Python] pypy3 builds passing?
In-Reply-To: <FD0BB0E2-39DB-4CCD-BBF0-72A5AC7CD364@twistedmatrix.com>
References: <CAG=rPVfrtrrHVEGMKOqZZ7DrsqH9mm3LDw9C1sT+Cor_X8eKDg@mail.gmail.com>
 <06FD2D8E-0E1C-4345-8FE6-6121E640DC7E@twistedmatrix.com>
 <CAMxb2isNd_48GHuApeHXG3xgY1X2fNu=LfA4aCT__8AsnKC5fw@mail.gmail.com>
 <FD0BB0E2-39DB-4CCD-BBF0-72A5AC7CD364@twistedmatrix.com>
Message-ID: <CAMxb2isgpQaVA20=-quXqOYKuYxvmtO1qu1pdyZ_2s8TDMm7tw@mail.gmail.com>

It does on master, i think, but unsupported doesn't run on PRs.

I'm happy to move it to supported if we're happy with it! I think since it
runs all the main reactors plus asyncio, we can be relatively trusting of
it being green now...

On Fri, 13 Apr 2018, 15:08 Glyph, <glyph at twistedmatrix.com> wrote:

>
>
> > On Apr 12, 2018, at 9:59 PM, Amber Brown <hawkowl at atleastfornow.net>
> wrote:
> >
> > My work is paying off... :)
>
> So I think we can call pypy3 a supported platform now?
>
> Does it report build status to Github yet?
>
> -g
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180413/525a77db/attachment.html>

From rodrigc at crodrigues.org  Thu Apr 12 23:53:06 2018
From: rodrigc at crodrigues.org (Craig Rodrigues)
Date: Thu, 12 Apr 2018 22:53:06 -0700
Subject: [Twisted-Python] pypy3 builds passing?
In-Reply-To: <CAMxb2isgpQaVA20=-quXqOYKuYxvmtO1qu1pdyZ_2s8TDMm7tw@mail.gmail.com>
References: <CAG=rPVfrtrrHVEGMKOqZZ7DrsqH9mm3LDw9C1sT+Cor_X8eKDg@mail.gmail.com>
 <06FD2D8E-0E1C-4345-8FE6-6121E640DC7E@twistedmatrix.com>
 <CAMxb2isNd_48GHuApeHXG3xgY1X2fNu=LfA4aCT__8AsnKC5fw@mail.gmail.com>
 <FD0BB0E2-39DB-4CCD-BBF0-72A5AC7CD364@twistedmatrix.com>
 <CAMxb2isgpQaVA20=-quXqOYKuYxvmtO1qu1pdyZ_2s8TDMm7tw@mail.gmail.com>
Message-ID: <CAG=rPVcCqwG=cwdcu4X+RpLmtZfYN0X62yAyd8hug6MW=4XUfw@mail.gmail.com>

On Thu, Apr 12, 2018 at 10:35 PM, Amber Brown <hawkowl at atleastfornow.net>
wrote:

> It does on master, i think, but unsupported doesn't run on PRs.
>
> I'm happy to move it to supported if we're happy with it! I think since it
> runs all the main reactors plus asyncio, we can be relatively trusting of
> it being green now...
>
>
That build runs select, poll, epoll, and asyncio reactors.  So since there
are about 12,000 tests, running 4 times, that is about 48,000 tests
for this builder.  That took 39 minutes.
That's a bit long, but maybe that's OK.
I don't know if it is worth figuring out any ways to optimize this run by
maybe using "trial -j", or splitting
the run of each reactor into a new builder.

--
Craig
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180412/880f5b59/attachment.html>

From hs at ox.cx  Thu Apr 12 23:58:31 2018
From: hs at ox.cx (Hynek Schlawack)
Date: Fri, 13 Apr 2018 07:58:31 +0200
Subject: [Twisted-Python] pypy3 builds passing?
In-Reply-To: <CAG=rPVcCqwG=cwdcu4X+RpLmtZfYN0X62yAyd8hug6MW=4XUfw@mail.gmail.com>
References: <CAG=rPVfrtrrHVEGMKOqZZ7DrsqH9mm3LDw9C1sT+Cor_X8eKDg@mail.gmail.com>
 <06FD2D8E-0E1C-4345-8FE6-6121E640DC7E@twistedmatrix.com>
 <CAMxb2isNd_48GHuApeHXG3xgY1X2fNu=LfA4aCT__8AsnKC5fw@mail.gmail.com>
 <FD0BB0E2-39DB-4CCD-BBF0-72A5AC7CD364@twistedmatrix.com>
 <CAMxb2isgpQaVA20=-quXqOYKuYxvmtO1qu1pdyZ_2s8TDMm7tw@mail.gmail.com>
 <CAG=rPVcCqwG=cwdcu4X+RpLmtZfYN0X62yAyd8hug6MW=4XUfw@mail.gmail.com>
Message-ID: <81AE6CEE-B4F2-4C9A-A674-E11374CF2B14@ox.cx>

> It does on master, i think, but unsupported doesn't run on PRs.
> 
> I'm happy to move it to supported if we're happy with it! I think since it runs all the main reactors plus asyncio, we can be relatively trusting of it being green now...
> 
> 
> That build runs select, poll, epoll, and asyncio reactors.  So since there are about 12,000 tests, running 4 times, that is about 48,000 tests
> for this builder.  That took 39 minutes.

Does it run under Coverage? attrs’ test suite took almost 20 minutes when running under PyPy3 and coverage so we switched it off for everything except py27 and py36.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180413/48a2838b/attachment.html>

From mrw at enotuniq.org  Fri Apr 13 00:00:10 2018
From: mrw at enotuniq.org (Mark Williams)
Date: Thu, 12 Apr 2018 23:00:10 -0700
Subject: [Twisted-Python] pypy3 builds passing?
In-Reply-To: <CAG=rPVcCqwG=cwdcu4X+RpLmtZfYN0X62yAyd8hug6MW=4XUfw@mail.gmail.com>
References: <CAG=rPVfrtrrHVEGMKOqZZ7DrsqH9mm3LDw9C1sT+Cor_X8eKDg@mail.gmail.com>
 <06FD2D8E-0E1C-4345-8FE6-6121E640DC7E@twistedmatrix.com>
 <CAMxb2isNd_48GHuApeHXG3xgY1X2fNu=LfA4aCT__8AsnKC5fw@mail.gmail.com>
 <FD0BB0E2-39DB-4CCD-BBF0-72A5AC7CD364@twistedmatrix.com>
 <CAMxb2isgpQaVA20=-quXqOYKuYxvmtO1qu1pdyZ_2s8TDMm7tw@mail.gmail.com>
 <CAG=rPVcCqwG=cwdcu4X+RpLmtZfYN0X62yAyd8hug6MW=4XUfw@mail.gmail.com>
Message-ID: <1523599210.814958.1336526616.1C936400@webmail.messagingengine.com>

On Thu, Apr 12, 2018, at 10:53 PM, Craig Rodrigues wrote:
> 
> 
> On Thu, Apr 12, 2018 at 10:35 PM, Amber Brown <hawkowl at atleastfornow.net> wrote:
>> It does on master, i think, but unsupported doesn't run on PRs.
>> 
>> I'm happy to move it to supported if we're happy with it! I think since it runs all the main reactors plus asyncio, we can be relatively trusting of it being green now...
>> 
> 
> That build runs select, poll, epoll, and asyncio reactors.  So since there are about 12,000 tests, running 4 times, that is about 48,000 tests
> for this builder.  That took 39 minutes.
> That's a bit long, but maybe that's OK.

Thanks for checking the build time! I agree that 40 minutes is long, and I'd rather not add it onto our already lengthy CI cycle.

> I don't know if it is worth figuring out any ways to optimize this run by maybe using "trial -j", or splitting 
> the run of each reactor into a new builder.

trial -j fails on some of our tests, and I wouldn't be surprised if it's less reliable under PyPy.  We should fix that, but until we do, I think adding additional builders for each PyPy3 reactor is a good idea.

> --
> Craig
> _________________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python

--
  Mark Williams
  mrw at enotuniq.org


From hawkowl at atleastfornow.net  Fri Apr 13 00:00:56 2018
From: hawkowl at atleastfornow.net (Amber Brown)
Date: Fri, 13 Apr 2018 06:00:56 +0000
Subject: [Twisted-Python] pypy3 builds passing?
In-Reply-To: <81AE6CEE-B4F2-4C9A-A674-E11374CF2B14@ox.cx>
References: <CAG=rPVfrtrrHVEGMKOqZZ7DrsqH9mm3LDw9C1sT+Cor_X8eKDg@mail.gmail.com>
 <06FD2D8E-0E1C-4345-8FE6-6121E640DC7E@twistedmatrix.com>
 <CAMxb2isNd_48GHuApeHXG3xgY1X2fNu=LfA4aCT__8AsnKC5fw@mail.gmail.com>
 <FD0BB0E2-39DB-4CCD-BBF0-72A5AC7CD364@twistedmatrix.com>
 <CAMxb2isgpQaVA20=-quXqOYKuYxvmtO1qu1pdyZ_2s8TDMm7tw@mail.gmail.com>
 <CAG=rPVcCqwG=cwdcu4X+RpLmtZfYN0X62yAyd8hug6MW=4XUfw@mail.gmail.com>
 <81AE6CEE-B4F2-4C9A-A674-E11374CF2B14@ox.cx>
Message-ID: <CAMxb2ivVQ66B+fy7uR_QM6f75t4qytAPsG2=UtUdRtdU6SBioA@mail.gmail.com>

No, it does not. May be worth it for just select, tho, considering we have
pypy specific checks.

On Fri, 13 Apr 2018, 15:58 Hynek Schlawack, <hs at ox.cx> wrote:

> It does on master, i think, but unsupported doesn't run on PRs.
>>
>> I'm happy to move it to supported if we're happy with it! I think since
>> it runs all the main reactors plus asyncio, we can be relatively trusting
>> of it being green now...
>>
>>
> That build runs select, poll, epoll, and asyncio reactors.  So since there
> are about 12,000 tests, running 4 times, that is about 48,000 tests
> for this builder.  That took 39 minutes.
>
>
> Does it run under Coverage? attrs’ test suite took almost 20 minutes when
> running under PyPy3 and coverage so we switched it off for everything
> except py27 and py36.
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180413/7a881867/attachment-0001.html>

From hawkowl at atleastfornow.net  Fri Apr 13 00:01:46 2018
From: hawkowl at atleastfornow.net (Amber Brown)
Date: Fri, 13 Apr 2018 06:01:46 +0000
Subject: [Twisted-Python] pypy3 builds passing?
In-Reply-To: <1523599210.814958.1336526616.1C936400@webmail.messagingengine.com>
References: <CAG=rPVfrtrrHVEGMKOqZZ7DrsqH9mm3LDw9C1sT+Cor_X8eKDg@mail.gmail.com>
 <06FD2D8E-0E1C-4345-8FE6-6121E640DC7E@twistedmatrix.com>
 <CAMxb2isNd_48GHuApeHXG3xgY1X2fNu=LfA4aCT__8AsnKC5fw@mail.gmail.com>
 <FD0BB0E2-39DB-4CCD-BBF0-72A5AC7CD364@twistedmatrix.com>
 <CAMxb2isgpQaVA20=-quXqOYKuYxvmtO1qu1pdyZ_2s8TDMm7tw@mail.gmail.com>
 <CAG=rPVcCqwG=cwdcu4X+RpLmtZfYN0X62yAyd8hug6MW=4XUfw@mail.gmail.com>
 <1523599210.814958.1336526616.1C936400@webmail.messagingengine.com>
Message-ID: <CAMxb2iuECCfJzdeKEh9d2SrDgLxR2b=0kv5SO3nFxR6Y1DFQGw@mail.gmail.com>

I'll also note that very soon, pypy2.7 should also be supported.

On Fri, 13 Apr 2018, 16:00 Mark Williams, <mrw at enotuniq.org> wrote:

> On Thu, Apr 12, 2018, at 10:53 PM, Craig Rodrigues wrote:
> >
> >
> > On Thu, Apr 12, 2018 at 10:35 PM, Amber Brown <hawkowl at atleastfornow.net>
> wrote:
> >> It does on master, i think, but unsupported doesn't run on PRs.
> >>
> >> I'm happy to move it to supported if we're happy with it! I think since
> it runs all the main reactors plus asyncio, we can be relatively trusting
> of it being green now...
> >>
> >
> > That build runs select, poll, epoll, and asyncio reactors.  So since
> there are about 12,000 tests, running 4 times, that is about 48,000 tests
> > for this builder.  That took 39 minutes.
> > That's a bit long, but maybe that's OK.
>
> Thanks for checking the build time! I agree that 40 minutes is long, and
> I'd rather not add it onto our already lengthy CI cycle.
>
> > I don't know if it is worth figuring out any ways to optimize this run
> by maybe using "trial -j", or splitting
> > the run of each reactor into a new builder.
>
> trial -j fails on some of our tests, and I wouldn't be surprised if it's
> less reliable under PyPy.  We should fix that, but until we do, I think
> adding additional builders for each PyPy3 reactor is a good idea.
>
> > --
> > Craig
> > _________________________________________________
> > Twisted-Python mailing list
> > Twisted-Python at twistedmatrix.com
> > https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
> --
>   Mark Williams
>   mrw at enotuniq.org
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180413/e5c86441/attachment.html>

From trac at twistedmatrix.com  Sun Apr 15 00:05:24 2018
From: trac at twistedmatrix.com (trac at twistedmatrix.com)
Date: Sun, 15 Apr 2018 06:05:24 -0000
Subject: [Twisted-Python] Weekly Bug Summary
Message-ID: 1523772324.55.1442415675348592496@twistedmatrix.com

An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180415/42cfb29a/attachment.html>

From thomas.westfeld at currenta.de  Mon Apr 16 04:21:24 2018
From: thomas.westfeld at currenta.de (Thomas Westfeld)
Date: Mon, 16 Apr 2018 10:21:24 +0000
Subject: [Twisted-Python] Running a twisted application as
	windows	service
In-Reply-To: <789c37e3-bb0b-fe71-cc90-3cac548bf85a@thieprojects.ch>
References: <dd2bc1389ef7437e99c651306571ce42@BYEX35.de.bayer.cnb>
 <CAG5tnzo12LaPDEW1pbskYMy89ucPsPJGSpVfCwVqxstpDb+9jQ@mail.gmail.com>
 <789c37e3-bb0b-fe71-cc90-3cac548bf85a@thieprojects.ch>
Message-ID: <63a3dda1ed104e448203751f542d94fc@BYEX35.de.bayer.cnb>

+1 never seen NSSM crash
Werner

On 04/12/2018 07:50 AM, Ray Cote wrote:
On Thu, Apr 12, 2018 at 12:12 PM, Thomas Westfeld <thomas.westfeld at currenta.de> wrote:
Hello all,

I have written a nice twisted-based TCP-server as a twistd plugin or an
application as a .tac file and I would like to run it as a windows service.

Hi Thomas:
Recommend you take a look at this service manager utility for Windows:
    https://nssm.cc/
We've moved away from implementing Twisted as a service and instead run it under NSSM. 
NSSM provides additional capabilities such as automatic restarts on failure, redirected stdout/stderr, and easily setting dependency groups, etc.
Our Twisted binaries are installed at a number of fairly large companies and so far none of them have had any concern about running the NSSM service manager. 
Its made our life much simpler. 
(Lousy product name, though...)

--Ray 

Thank you very much for the feedback. It seems not very pythonic to install a helper to generate a service. At the end of the day if it is robust then I will go for it. I would prefer a solution which would be installable via pip nicely. Just run pip install, then it will have a separate module which will then install the windows service and that's it.

Thinking about making twisted easier to use in a windows environment this could be worth to include in the standard installation of twisted.

From trac at twistedmatrix.com  Sun Apr 22 00:05:35 2018
From: trac at twistedmatrix.com (trac at twistedmatrix.com)
Date: Sun, 22 Apr 2018 06:05:35 -0000
Subject: [Twisted-Python] Weekly Bug Summary
Message-ID: 1524377134.97.4148258557593891402@twistedmatrix.com

An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180422/a3208113/attachment.html>

From MaasBox at arcor.de  Mon Apr 23 03:26:41 2018
From: MaasBox at arcor.de (Maas)
Date: Mon, 23 Apr 2018 11:26:41 +0200
Subject: [Twisted-Python] class twisted/conch/ssh/session/SSHSession()
Message-ID: <1430cc1a-8e9e-057a-b63c-54f8ebe2145a@arcor.de>

Hi Twisted User,

I had an error by trying the examples sshsimpleclient.py and 
sshsimpleserver.py. It was triggered with the client side command 
'self.write(b'hello conch\n')'.

I found the responsible line for the error. In the method 
SSHSession.dataReceived() the line 112 has to be altered

from: self.client.transport.write(data)

to: self.client.write(data)


May it will help U.


Best,

MaasArbeit



From glyph at twistedmatrix.com  Wed Apr 25 00:53:15 2018
From: glyph at twistedmatrix.com (Glyph)
Date: Tue, 24 Apr 2018 23:53:15 -0700
Subject: [Twisted-Python] class twisted/conch/ssh/session/SSHSession()
In-Reply-To: <1430cc1a-8e9e-057a-b63c-54f8ebe2145a@arcor.de>
References: <1430cc1a-8e9e-057a-b63c-54f8ebe2145a@arcor.de>
Message-ID: <FD61CC99-92C2-4F42-8E97-999052B6A24F@twistedmatrix.com>



> On Apr 23, 2018, at 2:26 AM, Maas <MaasBox at arcor.de> wrote:
> 
> Hi Twisted User,
> 
> I had an error by trying the examples sshsimpleclient.py and sshsimpleserver.py. It was triggered with the client side command 'self.write(b'hello conch\n')'.
> 
> I found the responsible line for the error. In the method SSHSession.dataReceived() the line 112 has to be altered
> 
> from: self.client.transport.write(data)
> 
> to: self.client.write(data)
> 
> 
> May it will help U.
> 
> 
> Best,
> 
> MaasArbeit

Thanks for your bug report!

Does someone have a moment to write this up and put it into Trac? :-)

-glyph


From trac at twistedmatrix.com  Sun Apr 29 00:05:29 2018
From: trac at twistedmatrix.com (trac at twistedmatrix.com)
Date: Sun, 29 Apr 2018 06:05:29 -0000
Subject: [Twisted-Python] Weekly Bug Summary
Message-ID: 1524981929.68.5055688029554060062@twistedmatrix.com

An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180429/725ffaf4/attachment.html>

From hawkowl at atleastfornow.net  Sun Apr 29 05:17:19 2018
From: hawkowl at atleastfornow.net (Amber Brown)
Date: Sun, 29 Apr 2018 21:17:19 +1000
Subject: [Twisted-Python] Twisted 18.4.0 Release Announcement
Message-ID: <67493b4a-006b-d80c-4576-12aae5f66e17@atleastfornow.net>

On behalf of Twisted Matrix Laboratories, I'm honoured to announce the 
release of Twisted 18.4.0!

The highlights of the release are:

- The dropping of Python 3.3 support.
- Python 3 fixes (notably to trial -j, asyncioreactor, conch, and mail)
- Python 3 TCP speed improvements (less copying when sending data)
- Better TLS curve selection support for both old and new OpenSSLs
- IPv6 fixes for WSGIResource
- 60+ closed tickets with many fixed bugs!

For more information, check the NEWS file (link provided below).

You can find the downloads at <https://pypi.python.org/pypi/Twisted> (or 
alternatively <http://twistedmatrix.com/trac/wiki/Downloads>). The NEWS 
file is also available at 
<https://github.com/twisted/twisted/blob/twisted-18.4.0/NEWS.rst>.

Many thanks to everyone who had a part in this release - the supporters 
of the Twisted Software Foundation, the developers who contributed code 
as well as documentation, and all the people building great things with 
Twisted!

Twisted Regards,
Amber Brown (HawkOwl)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180429/b6b81728/attachment.html>

From adi at roiban.ro  Sun Apr 29 05:28:25 2018
From: adi at roiban.ro (Adi Roiban)
Date: Sun, 29 Apr 2018 12:28:25 +0100
Subject: [Twisted-Python] CircleCI for macOS builds
Message-ID: <CAFycZ9fzRDhcirduCyCLctmPJonSOx9zRDbDKJZf9-eG6Nuj8w@mail.gmail.com>

Hi,

The guys from Circle-CI have graciously extended our macOS build time
from 500 to 1000 minutes.

This gives us about 16 hours for macOS builds.

For the documentation and static checkers, we have used 21h 33m 31s
between Mar 19 - Apr 19 ...and the combine builds runs for about 5
minutes.

A single macOS build also runs between 5 and 6 minutes.

In the previous configuration, we were running the macOS tests only
when the documentation / static checkers and pyflake3 linter were
green.

With that into consideration, we might be able to fit within the 1000
minutes limit.

If 1000 minutes is not enough, I was thinking to configure Circle-CI
to run macOS builds on Circle-CI only for PR from external branches.

For branches inside the Twisted main repo we have the macOS Buildbot
builder, which is triggered automatically.

In this way, external contributors should get some feedback for macOS.

Cheers,
-- 
Adi Roiban


From glyph at twistedmatrix.com  Mon Apr 30 00:22:25 2018
From: glyph at twistedmatrix.com (Glyph)
Date: Sun, 29 Apr 2018 23:22:25 -0700
Subject: [Twisted-Python] Twisted 18.4.0 Release Announcement
In-Reply-To: <67493b4a-006b-d80c-4576-12aae5f66e17@atleastfornow.net>
References: <67493b4a-006b-d80c-4576-12aae5f66e17@atleastfornow.net>
Message-ID: <A2D65AC8-D8D7-4380-9E3F-83606265F3A0@twistedmatrix.com>

On Apr 29, 2018, at 4:17 AM, Amber Brown <hawkowl at atleastfornow.net> wrote:
> On behalf of Twisted Matrix Laboratories, I'm honoured to announce the release of Twisted 18.4.0!
> 

Thanks for another great release, everybody! This looks like a great set of stuff. Personally I am very much looking forward to finally be able to use `trial -j` on a python 3 codebase ;).

-g
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180429/4cb6ec16/attachment.html>

From trac at twistedmatrix.com  Sun Apr  1 00:05:24 2018
From: trac at twistedmatrix.com (trac at twistedmatrix.com)
Date: Sun, 01 Apr 2018 06:05:24 -0000
Subject: [Twisted-Python] Weekly Bug Summary
Message-ID: 1522562724.12.1066005949816718458@twistedmatrix.com

An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180401/f6e7ce1f/attachment-0002.html>

From hawkowl at atleastfornow.net  Sun Apr  1 07:30:54 2018
From: hawkowl at atleastfornow.net (Amber Brown)
Date: Sun, 1 Apr 2018 23:30:54 +1000
Subject: [Twisted-Python] Twisted 18.4.0 Prerelease 1 Announcement
Message-ID: <61a0b528-386b-7322-9a4c-cedf8ebd3559@atleastfornow.net>

Hi everyone!
Time for another Twisted release. My, it has been a while! In this 
delightfully devilish release there is:
- The dropping of Python 3.3 support.
- Python 3 fixes (notably to trial -j, asyncioreactor, conch, and mail)
- Python 3 TCP speed improvements (less copying when sending data)
- Better TLS curve selection support for both old and new OpenSSLs
- IPv6 fixes for WSGIResource
- 60+ closed tickets with many fixed bugs!
Please see the NEWS.rst file and download the tarball at 
https://twistedmatrix.com/Releases/rc/18.4.0rc/ , or run `pip install 
twisted==18.4.0rc1`.
Unless issues are found, the release will be in a week or so.
- Amber
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180401/ba5dd39e/attachment-0002.html>

From hawkowl at atleastfornow.net  Sun Apr  1 07:46:52 2018
From: hawkowl at atleastfornow.net (Amber Brown)
Date: Sun, 1 Apr 2018 23:46:52 +1000
Subject: [Twisted-Python] Twisted 18.4.0 Prerelease 1 Announcement
In-Reply-To: <61a0b528-386b-7322-9a4c-cedf8ebd3559@atleastfornow.net>
References: <61a0b528-386b-7322-9a4c-cedf8ebd3559@atleastfornow.net>
Message-ID: <99dc814b-46a9-a71e-e618-d2dde902e5ad@atleastfornow.net>

Whoops, that URL should be 
"https://twistedmatrix.com/Releases/rc/18.4.0rc1/"...

- Amber


On 04/01/2018 11:30 PM, Amber Brown wrote:
> Hi everyone!
> Time for another Twisted release. My, it has been a while! In this 
> delightfully devilish release there is:
> - The dropping of Python 3.3 support.
> - Python 3 fixes (notably to trial -j, asyncioreactor, conch, and mail)
> - Python 3 TCP speed improvements (less copying when sending data)
> - Better TLS curve selection support for both old and new OpenSSLs
> - IPv6 fixes for WSGIResource
> - 60+ closed tickets with many fixed bugs!
> Please see the NEWS.rst file and download the tarball at 
> https://twistedmatrix.com/Releases/rc/18.4.0rc/ , or run `pip install 
> twisted==18.4.0rc1`.
> Unless issues are found, the release will be in a week or so.
> - Amber 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180401/28750fb0/attachment-0002.html>

From hawkowl at atleastfornow.net  Mon Apr  2 02:23:29 2018
From: hawkowl at atleastfornow.net (Amber Brown)
Date: Mon, 2 Apr 2018 18:23:29 +1000
Subject: [Twisted-Python] The Future of Twisted.News
Message-ID: <273db33b-9911-55d4-ee4e-4f3543e0845a@atleastfornow.net>

Hi all,

I thought it would be a good time to raise the topic of twisted.news and 
its future in Twisted.

Currently, t.news has below-Twisted standards of code coverage, 
implementation (with one huuuuge ad-hoc state machine), comments, tests, 
etc. It's also not had any changes to the bulk of its code for 14 years, 
apart from what appears to be code removal 6 years ago and a handful of 
"twisted-wide" mechanical syntax changes. It's also unlikely to ever be 
ported to Python 3 unless someone were to improve the former issues 
(since the port would require 100%-as-possible code coverage).

I propose deprecating twisted.news on the condition that it doesn't have 
a maintainer, and un-deprecating it if a user of the code steps up to 
maintain it and brings it into line (vs one of the current development 
team taking on work keeping an ancient protocol on life support). If 
nobody steps up, then we remove it at the end of the deprecation period 
and encourage any remaining users to either pin to old Twisteds or 
simply vendor the code in their own codebase.

The ticket I have created for this is at 
https://twistedmatrix.com/trac/ticket/9405 .

- Amber



From adi at roiban.ro  Mon Apr  2 05:13:36 2018
From: adi at roiban.ro (Adi Roiban)
Date: Mon, 2 Apr 2018 12:13:36 +0100
Subject: [Twisted-Python] Problem with osx10.10-py2.7 builder
In-Reply-To: <1522191250.3622996.1318320048.778C9DEB@webmail.messagingengine.com>
References: <CAG=rPVeZHjmw2RuFuzbf3jR9j=WPNsmkrGM+U9kzr7c68qTbjQ@mail.gmail.com>
 <CAFycZ9cnVeQcc3JxqNMjR9ki_S3PedS763LsbkcsYg0NO4L-zg@mail.gmail.com>
 <B5B15382-9E5F-4DA0-B058-DDFB6F470570@twistedmatrix.com>
 <CAEeXt4NZL=XJ6yZRX2OtwYRHGBAft1Jn5O1t2q=Jw7f5+yHn4g@mail.gmail.com>
 <B00F7EB6-7D9E-4FF6-9488-479F19FB99C4@twistedmatrix.com>
 <1522191250.3622996.1318320048.778C9DEB@webmail.messagingengine.com>
Message-ID: <CAFycZ9eKk20taxAqq0H0-7Z9VQrhaa-A5wzi1UYMb76vLf5qsw@mail.gmail.com>

On 27 March 2018 at 23:54, Glyph <glyph at twistedmatrix.com> wrote:

>
>
>
> On Mon, Mar 26, 2018, at 10:39 PM, Glyph wrote:
>
>
>
> On Mar 26, 2018, at 3:32 AM, Jean-Paul Calderone <
> exarkun at twistedmatrix.com> wrote:
>
> On Mon, Mar 26, 2018 at 2:58 AM, Glyph <glyph at twistedmatrix.com> wrote:
>
> Alternately...
>
> The reason we're doing this at all is that Travis's macOS situation was
> pretty dismal when we last tried it.  But then, the graphs on
> https://www.traviscistatus.com at the time matched that experience:
> routinely there were build queues in the hundreds.  Right now the "Backlog
> macOS Builds for Open Source Projects" shows a completely flat line, zero
> for the last 24 hours.
>
> It might be worth trying out Travis again.
>
>
> FWIW, I moved another project's macOS CI from Travis to CircleCI about a
> month ago because the Travis macOS job queue was so long.  Counting queue
> time, CircleCI finishes those jobs around 6x faster than TravisCI.
>
> Maybe things have improved on Travis but they're still pretty bad.
>
>
> That's a bummer, but thanks for providing the data point.
>
> -g
>
>
>
> I guess I just needed to look during the PST workday...
>
>
FYI buildbot/osx10.10-py2.7 is broken again


---------

Circle-CI is pretty fast, but we are also burning the time pretty fast.
We have used 90% of the time allocated between 19 March of 19 April.

Regards,
-- 
Adi Roiban
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180402/4a5cf6d4/attachment-0002.html>

From rodrigc at crodrigues.org  Mon Apr  2 18:19:37 2018
From: rodrigc at crodrigues.org (Craig Rodrigues)
Date: Mon, 2 Apr 2018 17:19:37 -0700
Subject: [Twisted-Python] Problem with osx10.10-py2.7 builder
In-Reply-To: <CAFycZ9cnVeQcc3JxqNMjR9ki_S3PedS763LsbkcsYg0NO4L-zg@mail.gmail.com>
References: <CAG=rPVeZHjmw2RuFuzbf3jR9j=WPNsmkrGM+U9kzr7c68qTbjQ@mail.gmail.com>
 <CAFycZ9cnVeQcc3JxqNMjR9ki_S3PedS763LsbkcsYg0NO4L-zg@mail.gmail.com>
Message-ID: <CAG=rPVdBr3iehTrTP4j-uSyu5WEUZEVNstaXpUKbTV4-jLqOqQ@mail.gmail.com>

On Sun, Mar 25, 2018 at 5:01 AM, Adi Roiban <adi at roiban.ro> wrote:

> Hi,
>
>
> On 25 March 2018 at 05:14, Craig Rodrigues <rodrigc at crodrigues.org> wrote:
> > Hi,
> >
> > Can someone check this builder:
> >
> > https://buildbot.twistedmatrix.com/builders/osx10.10-py2.7
> >
> > It is failing randomly in weird ways during builds.  For example,
> > in some cases it fails to install tox.  In other cases, the tests
> terminate
> > in
> > some random spot.
>
> I will try and take a look at it.
>
> If someone knows more about the slave running this build, please add
> the info on wiki at:
>
> https://twistedmatrix.com/trac/wiki/ContinuousIntegration/Buildslaves
>


Where is this MacOS builder?  Is it in Rackspace, some cloud provider, or
other?

--
Craig
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180402/801c2707/attachment-0002.html>

From twisted-python at 2xlp.com  Wed Apr  4 09:47:36 2018
From: twisted-python at 2xlp.com (jonathan vanasco)
Date: Wed, 4 Apr 2018 11:47:36 -0400
Subject: [Twisted-Python] Problem with osx10.10-py2.7 builder
In-Reply-To: <CAFycZ9eKk20taxAqq0H0-7Z9VQrhaa-A5wzi1UYMb76vLf5qsw@mail.gmail.com>
References: <CAG=rPVeZHjmw2RuFuzbf3jR9j=WPNsmkrGM+U9kzr7c68qTbjQ@mail.gmail.com>
 <CAFycZ9cnVeQcc3JxqNMjR9ki_S3PedS763LsbkcsYg0NO4L-zg@mail.gmail.com>
 <B5B15382-9E5F-4DA0-B058-DDFB6F470570@twistedmatrix.com>
 <CAEeXt4NZL=XJ6yZRX2OtwYRHGBAft1Jn5O1t2q=Jw7f5+yHn4g@mail.gmail.com>
 <B00F7EB6-7D9E-4FF6-9488-479F19FB99C4@twistedmatrix.com>
 <1522191250.3622996.1318320048.778C9DEB@webmail.messagingengine.com>
 <CAFycZ9eKk20taxAqq0H0-7Z9VQrhaa-A5wzi1UYMb76vLf5qsw@mail.gmail.com>
Message-ID: <E4674EB1-1563-4E74-9780-E38A8D9ACA35@2xlp.com>


> On Apr 2, 2018, at 7:13 AM, Adi Roiban <adi at roiban.ro> wrote:
> 
> FYI buildbot/osx10.10-py2.7 is broken again


FWIW, `pip` on OSX (perhaps others?) swallows the 403 error about TLS brownouts on pypi for the 1.0/1.1 ending next week. No error is raised, and you just get an empty match for installable versions of anything. (it needs to be run as `-vvvv` to see/know there is an actual error).  If that is the issue, the 9.0.3 version of pip is compatible with the new TLS and upgrading to it will fix things.

This broke my CI system a few weeks ago, and has done the same for everyone i know with a CI running on macs.


From mrw at enotuniq.org  Wed Apr  4 18:28:26 2018
From: mrw at enotuniq.org (Mark Williams)
Date: Wed, 04 Apr 2018 17:28:26 -0700
Subject: [Twisted-Python] Problem with osx10.10-py2.7 builder
In-Reply-To: <CAFycZ9eKk20taxAqq0H0-7Z9VQrhaa-A5wzi1UYMb76vLf5qsw@mail.gmail.com>
References: <CAG=rPVeZHjmw2RuFuzbf3jR9j=WPNsmkrGM+U9kzr7c68qTbjQ@mail.gmail.com>
 <CAFycZ9cnVeQcc3JxqNMjR9ki_S3PedS763LsbkcsYg0NO4L-zg@mail.gmail.com>
 <B5B15382-9E5F-4DA0-B058-DDFB6F470570@twistedmatrix.com>
 <CAEeXt4NZL=XJ6yZRX2OtwYRHGBAft1Jn5O1t2q=Jw7f5+yHn4g@mail.gmail.com>
 <B00F7EB6-7D9E-4FF6-9488-479F19FB99C4@twistedmatrix.com>
 <1522191250.3622996.1318320048.778C9DEB@webmail.messagingengine.com>
 <CAFycZ9eKk20taxAqq0H0-7Z9VQrhaa-A5wzi1UYMb76vLf5qsw@mail.gmail.com>
Message-ID: <1522888106.1633690.1326922408.48B4DD53@webmail.messagingengine.com>

On Mon, Apr 2, 2018, at 4:13 AM, Adi Roiban wrote:
> 
> FYI buildbot/osx10.10-py2.7 is broken again
> 

The Build master's configuration was updated outside of twisted-infra/braid.  I've checked it in and brought the repo more in line with reality:

https://github.com/twisted-infra/braid/commit/55402aaa0a8da3b8d6ee737764287866171084f4

I also have PR that should fix the intermittent failures:

https://github.com/twisted-infra/braid/pull/250

If you're interested, please review that PR.

> ---------
> 
> Circle-CI is pretty fast, but we are also burning the time pretty fast.
> We have used 90% of the time allocated between 19 March of 19 April.
> 
> Regards,
> -- 
> Adi Roiban
> _________________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python

--
  Mark Williams
  mrw at enotuniq.org



From mrw at enotuniq.org  Thu Apr  5 20:39:10 2018
From: mrw at enotuniq.org (Mark Williams)
Date: Thu, 05 Apr 2018 19:39:10 -0700
Subject: [Twisted-Python] Problem with osx10.10-py2.7 builder
In-Reply-To: <1522888106.1633690.1326922408.48B4DD53@webmail.messagingengine.com>
References: <CAG=rPVeZHjmw2RuFuzbf3jR9j=WPNsmkrGM+U9kzr7c68qTbjQ@mail.gmail.com>
 <CAFycZ9cnVeQcc3JxqNMjR9ki_S3PedS763LsbkcsYg0NO4L-zg@mail.gmail.com>
 <B5B15382-9E5F-4DA0-B058-DDFB6F470570@twistedmatrix.com>
 <CAEeXt4NZL=XJ6yZRX2OtwYRHGBAft1Jn5O1t2q=Jw7f5+yHn4g@mail.gmail.com>
 <B00F7EB6-7D9E-4FF6-9488-479F19FB99C4@twistedmatrix.com>
 <1522191250.3622996.1318320048.778C9DEB@webmail.messagingengine.com>
 <CAFycZ9eKk20taxAqq0H0-7Z9VQrhaa-A5wzi1UYMb76vLf5qsw@mail.gmail.com>
 <1522888106.1633690.1326922408.48B4DD53@webmail.messagingengine.com>
Message-ID: <1522982350.3275891.1328363544.16E28C86@webmail.messagingengine.com>

Adi Roiban graciously reviewed the PR and I deployed the new master.cfg to buildbot.twistedmatrix.com.  It looks like the macOS builder is now working (more) reliably.

Please note that the required macOS build is now known as "buildbot/osx10.11-py2.7-coverage", where before it was "buildbot/osx10.10-py2.7-coverage".  This name change reflects the updated operating system.

On Wed, Apr 4, 2018, at 5:28 PM, Mark Williams wrote:
> On Mon, Apr 2, 2018, at 4:13 AM, Adi Roiban wrote:
> > 
> > FYI buildbot/osx10.10-py2.7 is broken again
> > 
> 
> The Build master's configuration was updated outside of twisted-infra/
> braid.  I've checked it in and brought the repo more in line with 
> reality:
> 
> https://github.com/twisted-infra/braid/commit/55402aaa0a8da3b8d6ee737764287866171084f4
> 
> I also have PR that should fix the intermittent failures:
> 
> https://github.com/twisted-infra/braid/pull/250
> 
> If you're interested, please review that PR.
> 
> > ---------
> > 
> > Circle-CI is pretty fast, but we are also burning the time pretty fast.
> > We have used 90% of the time allocated between 19 March of 19 April.
> > 
> > Regards,
> > -- 
> > Adi Roiban
> > _________________________________________________
> > Twisted-Python mailing list
> > Twisted-Python at twistedmatrix.com
> > https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
> 
> --
>   Mark Williams
>   mrw at enotuniq.org
> 
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python


-- 
  Mark Williams
  mrw at enotuniq.org



From trac at twistedmatrix.com  Sun Apr  8 00:05:21 2018
From: trac at twistedmatrix.com (trac at twistedmatrix.com)
Date: Sun, 08 Apr 2018 06:05:21 -0000
Subject: [Twisted-Python] Weekly Bug Summary
Message-ID: 1523167521.6.3597893979556895818@twistedmatrix.com

An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180408/d0ee29a5/attachment-0002.html>

From mrw at enotuniq.org  Thu Apr 12 02:47:10 2018
From: mrw at enotuniq.org (Mark Williams)
Date: Thu, 12 Apr 2018 01:47:10 -0700
Subject: [Twisted-Python] Mandatory HTTPS on twistedmatrix.com
Message-ID: <1523522830.1374628.1335362032.2331EE44@webmail.messagingengine.com>

Hi all,

twistedmatrix.com and its subdomains now redirect all HTTP requests to HTTPS.

If the transition goes smoothly, I'll turn on HSTS (https://en.wikipedia.org/wiki/HTTP_Strict_Transport_Security) next week.

Please let me know if you notice any irregularities.

-- 
  Mark Williams
  mrw at enotuniq.org



From thomas.westfeld at currenta.de  Thu Apr 12 10:12:56 2018
From: thomas.westfeld at currenta.de (Thomas Westfeld)
Date: Thu, 12 Apr 2018 16:12:56 +0000
Subject: [Twisted-Python] Running a twisted application as windows service
Message-ID: <dd2bc1389ef7437e99c651306571ce42@BYEX35.de.bayer.cnb>

Hello all,

I have written a nice twisted-based TCP-server as a twistd plugin or an 
application as a .tac file and I would like to run it as a windows service.

It works when started from cmd.exe but I would like to run it as a native 
service.

I have seen that the pywin32 package has a win32serviceutil module which could 
be used for this. Unfortunately I do not know how to get it up and running.

I have seen several posts here on this list about this topic but it is still 
unclear how to use it. For my understanding one has to mimic the life-cycle 
management of the process which twist(d) does in the windows service.

Once it has been figured out I would love to clean it all up and add it to 
twisted's documentation.


Thanks for your help,
Thomas
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 6085 bytes
Desc: not available
URL: </pipermail/twisted-python/attachments/20180412/a65479b5/attachment-0002.bin>

From johnaherne at rocs.co.uk  Thu Apr 12 10:24:27 2018
From: johnaherne at rocs.co.uk (John Aherne)
Date: Thu, 12 Apr 2018 17:24:27 +0100
Subject: [Twisted-Python] Running a twisted application as windows
	service
In-Reply-To: <dd2bc1389ef7437e99c651306571ce42@BYEX35.de.bayer.cnb>
References: <dd2bc1389ef7437e99c651306571ce42@BYEX35.de.bayer.cnb>
Message-ID: <CAKmUHjavoxw6q5gfkO06Qg-JevHSwkTBCH39fkU-uRt-_pZAfw@mail.gmail.com>

I think you will find this blog post will tell you all you need to know.

There are 3 separate blogs covering twisted as a windows service

http://www.christianlong.com/blog/archives.html

Regards

John Aherne


On Thu, Apr 12, 2018 at 5:12 PM, Thomas Westfeld <
thomas.westfeld at currenta.de> wrote:

> Hello all,
>
> I have written a nice twisted-based TCP-server as a twistd plugin or an
> application as a .tac file and I would like to run it as a windows service.
>
> It works when started from cmd.exe but I would like to run it as a native
> service.
>
> I have seen that the pywin32 package has a win32serviceutil module which
> could
> be used for this. Unfortunately I do not know how to get it up and running.
>
> I have seen several posts here on this list about this topic but it is
> still
> unclear how to use it. For my understanding one has to mimic the life-cycle
> management of the process which twist(d) does in the windows service.
>
> Once it has been figured out I would love to clean it all up and add it to
> twisted's documentation.
>
>
> Thanks for your help,
> Thomas
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
>


-- 
*John Aherne*




*www.rocs.co.uk <http://www.rocs.co.uk>*
020 7223 7567
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180412/dbe71f95/attachment-0002.html>

From rgacote at appropriatesolutions.com  Thu Apr 12 11:50:34 2018
From: rgacote at appropriatesolutions.com (Ray Cote)
Date: Thu, 12 Apr 2018 13:50:34 -0400
Subject: [Twisted-Python] Running a twisted application as windows
	service
In-Reply-To: <dd2bc1389ef7437e99c651306571ce42@BYEX35.de.bayer.cnb>
References: <dd2bc1389ef7437e99c651306571ce42@BYEX35.de.bayer.cnb>
Message-ID: <CAG5tnzo12LaPDEW1pbskYMy89ucPsPJGSpVfCwVqxstpDb+9jQ@mail.gmail.com>

On Thu, Apr 12, 2018 at 12:12 PM, Thomas Westfeld <
thomas.westfeld at currenta.de> wrote:

> Hello all,
>
> I have written a nice twisted-based TCP-server as a twistd plugin or an
> application as a .tac file and I would like to run it as a windows service.
>

Hi Thomas:
Recommend you take a look at this service manager utility for Windows:
    https://nssm.cc/
We've moved away from implementing Twisted as a service and instead run it
under NSSM.
NSSM provides additional capabilities such as automatic restarts on
failure, redirected stdout/stderr, and easily setting dependency groups,
etc.
Our Twisted binaries are installed at a number of fairly large companies
and so far none of them have had any concern about running the NSSM service
manager.
Its made our life much simpler.
(Lousy product name, though...)

--Ray


-- 
Raymond Cote, President
voice: +1.603.924.6079 email: rgacote at AppropriateSolutions.com skype:
ray.cote
Schedule a meeting: https://calendly.com/ray_cote/60min/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180412/e8d1fe36/attachment-0002.html>

From werner at thieprojects.ch  Thu Apr 12 15:02:06 2018
From: werner at thieprojects.ch (Werner Thie)
Date: Thu, 12 Apr 2018 11:02:06 -1000
Subject: [Twisted-Python] Running a twisted application as windows
	service
In-Reply-To: <CAG5tnzo12LaPDEW1pbskYMy89ucPsPJGSpVfCwVqxstpDb+9jQ@mail.gmail.com>
References: <dd2bc1389ef7437e99c651306571ce42@BYEX35.de.bayer.cnb>
 <CAG5tnzo12LaPDEW1pbskYMy89ucPsPJGSpVfCwVqxstpDb+9jQ@mail.gmail.com>
Message-ID: <789c37e3-bb0b-fe71-cc90-3cac548bf85a@thieprojects.ch>

+1 never seen NSSM crash

Werner


On 04/12/2018 07:50 AM, Ray Cote wrote:
> On Thu, Apr 12, 2018 at 12:12 PM, Thomas Westfeld 
> <thomas.westfeld at currenta.de <mailto:thomas.westfeld at currenta.de>> wrote:
>
>     Hello all,
>
>     I have written a nice twisted-based TCP-server as a twistd plugin
>     or an
>     application as a .tac file and I would like to run it as a windows
>     service.
>
>
> Hi Thomas:
> Recommend you take a look at this service manager utility for Windows:
> https://nssm.cc/
> We've moved away from implementing Twisted as a service and instead 
> run it under NSSM.
> NSSM provides additional capabilities such as automatic restarts on 
> failure, redirected stdout/stderr, and easily setting dependency 
> groups, etc.
> Our Twisted binaries are installed at a number of fairly large 
> companies and so far none of them have had any concern about running 
> the NSSM service manager.
> Its made our life much simpler.
> (Lousy product name, though...)
>
> --Ray
>
>
> -- 
> Raymond Cote, President
> voice: +1.603.924.6079 email: rgacote at AppropriateSolutions.com skype: 
> ray.cote
> Schedule a meeting: https://calendly.com/ray_cote/60min/
>
>
>
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python

-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180412/d5ff4815/attachment-0002.html>

From rodrigc at crodrigues.org  Thu Apr 12 22:22:23 2018
From: rodrigc at crodrigues.org (Craig Rodrigues)
Date: Thu, 12 Apr 2018 21:22:23 -0700
Subject: [Twisted-Python] pypy3 builds passing?
Message-ID: <CAG=rPVfrtrrHVEGMKOqZZ7DrsqH9mm3LDw9C1sT+Cor_X8eKDg@mail.gmail.com>

Hi,

I just took a look at this:

https://buildbot.twistedmatrix.com/builders/ubuntu16.04-pypy3/builds/27

running with:

Python 3.5.3 (3f6eaa010fce, Jan 11 2018, 04:44:35)
[PyPy 5.10.1 with GCC 6.2.0 20160901]


Ran 12268 tests in 455.535s

PASSED (skips=2240, successes=10028)


Is that a fluke, or have we made good progress with pypy?

--
Craig
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180412/25dfe307/attachment-0002.html>

From glyph at twistedmatrix.com  Thu Apr 12 22:23:48 2018
From: glyph at twistedmatrix.com (Glyph)
Date: Thu, 12 Apr 2018 21:23:48 -0700
Subject: [Twisted-Python] pypy3 builds passing?
In-Reply-To: <CAG=rPVfrtrrHVEGMKOqZZ7DrsqH9mm3LDw9C1sT+Cor_X8eKDg@mail.gmail.com>
References: <CAG=rPVfrtrrHVEGMKOqZZ7DrsqH9mm3LDw9C1sT+Cor_X8eKDg@mail.gmail.com>
Message-ID: <06FD2D8E-0E1C-4345-8FE6-6121E640DC7E@twistedmatrix.com>

On Apr 12, 2018, at 9:22 PM, Craig Rodrigues <rodrigc at crodrigues.org> wrote:
> 
> Hi,
> 
> I just took a look at this:
> 
> https://buildbot.twistedmatrix.com/builders/ubuntu16.04-pypy3/builds/27 <https://buildbot.twistedmatrix.com/builders/ubuntu16.04-pypy3/builds/27>
> 
> running with:
> 
> Python 3.5.3 (3f6eaa010fce, Jan 11 2018, 04:44:35)
> [PyPy 5.10.1 with GCC 6.2.0 20160901]
> 
> 
> Ran 12268 tests in 455.535s
> 
> PASSED (skips=2240, successes=10028)
> 
> 
> Is that a fluke, or have we made good progress with pypy?

Woah!

Failing tests might be a fluke, but I have a hard time imagining how passing tests could be :)

This is great news!

-glyph

-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180412/dd6307ff/attachment-0002.html>

From hawkowl at atleastfornow.net  Thu Apr 12 22:59:31 2018
From: hawkowl at atleastfornow.net (Amber Brown)
Date: Fri, 13 Apr 2018 04:59:31 +0000
Subject: [Twisted-Python] pypy3 builds passing?
In-Reply-To: <06FD2D8E-0E1C-4345-8FE6-6121E640DC7E@twistedmatrix.com>
References: <CAG=rPVfrtrrHVEGMKOqZZ7DrsqH9mm3LDw9C1sT+Cor_X8eKDg@mail.gmail.com>
 <06FD2D8E-0E1C-4345-8FE6-6121E640DC7E@twistedmatrix.com>
Message-ID: <CAMxb2isNd_48GHuApeHXG3xgY1X2fNu=LfA4aCT__8AsnKC5fw@mail.gmail.com>

My work is paying off... :)

On Fri, 13 Apr 2018, 14:24 Glyph, <glyph at twistedmatrix.com> wrote:

> On Apr 12, 2018, at 9:22 PM, Craig Rodrigues <rodrigc at crodrigues.org>
> wrote:
>
>
> Hi,
>
> I just took a look at this:
>
> https://buildbot.twistedmatrix.com/builders/ubuntu16.04-pypy3/builds/27
>
> running with:
>
> Python 3.5.3 (3f6eaa010fce, Jan 11 2018, 04:44:35)
> [PyPy 5.10.1 with GCC 6.2.0 20160901]
>
>
> Ran 12268 tests in 455.535s
>
> PASSED (skips=2240, successes=10028)
>
>
> Is that a fluke, or have we made good progress with pypy?
>
>
> Woah!
>
> Failing tests might be a fluke, but I have a hard time imagining how
> passing tests could be :)
>
> This is great news!
>
> -glyph
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180413/5ccac948/attachment-0002.html>

From glyph at twistedmatrix.com  Thu Apr 12 23:07:37 2018
From: glyph at twistedmatrix.com (Glyph)
Date: Thu, 12 Apr 2018 22:07:37 -0700
Subject: [Twisted-Python] pypy3 builds passing?
In-Reply-To: <CAMxb2isNd_48GHuApeHXG3xgY1X2fNu=LfA4aCT__8AsnKC5fw@mail.gmail.com>
References: <CAG=rPVfrtrrHVEGMKOqZZ7DrsqH9mm3LDw9C1sT+Cor_X8eKDg@mail.gmail.com>
 <06FD2D8E-0E1C-4345-8FE6-6121E640DC7E@twistedmatrix.com>
 <CAMxb2isNd_48GHuApeHXG3xgY1X2fNu=LfA4aCT__8AsnKC5fw@mail.gmail.com>
Message-ID: <FD0BB0E2-39DB-4CCD-BBF0-72A5AC7CD364@twistedmatrix.com>



> On Apr 12, 2018, at 9:59 PM, Amber Brown <hawkowl at atleastfornow.net> wrote:
> 
> My work is paying off... :)

So I think we can call pypy3 a supported platform now?

Does it report build status to Github yet?

-g



From rodrigc at crodrigues.org  Thu Apr 12 23:31:45 2018
From: rodrigc at crodrigues.org (Craig Rodrigues)
Date: Thu, 12 Apr 2018 22:31:45 -0700
Subject: [Twisted-Python] pypy3 builds passing?
In-Reply-To: <CAMxb2isNd_48GHuApeHXG3xgY1X2fNu=LfA4aCT__8AsnKC5fw@mail.gmail.com>
References: <CAG=rPVfrtrrHVEGMKOqZZ7DrsqH9mm3LDw9C1sT+Cor_X8eKDg@mail.gmail.com>
 <06FD2D8E-0E1C-4345-8FE6-6121E640DC7E@twistedmatrix.com>
 <CAMxb2isNd_48GHuApeHXG3xgY1X2fNu=LfA4aCT__8AsnKC5fw@mail.gmail.com>
Message-ID: <CAG=rPVdAK-Zcp-D0YhNUiASLMzbR250f=z9uKtpFw895Svk0-g@mail.gmail.com>

On Thursday, April 12, 2018, Amber Brown <hawkowl at atleastfornow.net> wrote:

> My work is paying off... :)
>


Thank you!!

--
Craig
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180412/39f13006/attachment-0002.html>

From hawkowl at atleastfornow.net  Thu Apr 12 23:35:50 2018
From: hawkowl at atleastfornow.net (Amber Brown)
Date: Fri, 13 Apr 2018 05:35:50 +0000
Subject: [Twisted-Python] pypy3 builds passing?
In-Reply-To: <FD0BB0E2-39DB-4CCD-BBF0-72A5AC7CD364@twistedmatrix.com>
References: <CAG=rPVfrtrrHVEGMKOqZZ7DrsqH9mm3LDw9C1sT+Cor_X8eKDg@mail.gmail.com>
 <06FD2D8E-0E1C-4345-8FE6-6121E640DC7E@twistedmatrix.com>
 <CAMxb2isNd_48GHuApeHXG3xgY1X2fNu=LfA4aCT__8AsnKC5fw@mail.gmail.com>
 <FD0BB0E2-39DB-4CCD-BBF0-72A5AC7CD364@twistedmatrix.com>
Message-ID: <CAMxb2isgpQaVA20=-quXqOYKuYxvmtO1qu1pdyZ_2s8TDMm7tw@mail.gmail.com>

It does on master, i think, but unsupported doesn't run on PRs.

I'm happy to move it to supported if we're happy with it! I think since it
runs all the main reactors plus asyncio, we can be relatively trusting of
it being green now...

On Fri, 13 Apr 2018, 15:08 Glyph, <glyph at twistedmatrix.com> wrote:

>
>
> > On Apr 12, 2018, at 9:59 PM, Amber Brown <hawkowl at atleastfornow.net>
> wrote:
> >
> > My work is paying off... :)
>
> So I think we can call pypy3 a supported platform now?
>
> Does it report build status to Github yet?
>
> -g
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180413/525a77db/attachment-0002.html>

From rodrigc at crodrigues.org  Thu Apr 12 23:53:06 2018
From: rodrigc at crodrigues.org (Craig Rodrigues)
Date: Thu, 12 Apr 2018 22:53:06 -0700
Subject: [Twisted-Python] pypy3 builds passing?
In-Reply-To: <CAMxb2isgpQaVA20=-quXqOYKuYxvmtO1qu1pdyZ_2s8TDMm7tw@mail.gmail.com>
References: <CAG=rPVfrtrrHVEGMKOqZZ7DrsqH9mm3LDw9C1sT+Cor_X8eKDg@mail.gmail.com>
 <06FD2D8E-0E1C-4345-8FE6-6121E640DC7E@twistedmatrix.com>
 <CAMxb2isNd_48GHuApeHXG3xgY1X2fNu=LfA4aCT__8AsnKC5fw@mail.gmail.com>
 <FD0BB0E2-39DB-4CCD-BBF0-72A5AC7CD364@twistedmatrix.com>
 <CAMxb2isgpQaVA20=-quXqOYKuYxvmtO1qu1pdyZ_2s8TDMm7tw@mail.gmail.com>
Message-ID: <CAG=rPVcCqwG=cwdcu4X+RpLmtZfYN0X62yAyd8hug6MW=4XUfw@mail.gmail.com>

On Thu, Apr 12, 2018 at 10:35 PM, Amber Brown <hawkowl at atleastfornow.net>
wrote:

> It does on master, i think, but unsupported doesn't run on PRs.
>
> I'm happy to move it to supported if we're happy with it! I think since it
> runs all the main reactors plus asyncio, we can be relatively trusting of
> it being green now...
>
>
That build runs select, poll, epoll, and asyncio reactors.  So since there
are about 12,000 tests, running 4 times, that is about 48,000 tests
for this builder.  That took 39 minutes.
That's a bit long, but maybe that's OK.
I don't know if it is worth figuring out any ways to optimize this run by
maybe using "trial -j", or splitting
the run of each reactor into a new builder.

--
Craig
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180412/880f5b59/attachment-0002.html>

From hs at ox.cx  Thu Apr 12 23:58:31 2018
From: hs at ox.cx (Hynek Schlawack)
Date: Fri, 13 Apr 2018 07:58:31 +0200
Subject: [Twisted-Python] pypy3 builds passing?
In-Reply-To: <CAG=rPVcCqwG=cwdcu4X+RpLmtZfYN0X62yAyd8hug6MW=4XUfw@mail.gmail.com>
References: <CAG=rPVfrtrrHVEGMKOqZZ7DrsqH9mm3LDw9C1sT+Cor_X8eKDg@mail.gmail.com>
 <06FD2D8E-0E1C-4345-8FE6-6121E640DC7E@twistedmatrix.com>
 <CAMxb2isNd_48GHuApeHXG3xgY1X2fNu=LfA4aCT__8AsnKC5fw@mail.gmail.com>
 <FD0BB0E2-39DB-4CCD-BBF0-72A5AC7CD364@twistedmatrix.com>
 <CAMxb2isgpQaVA20=-quXqOYKuYxvmtO1qu1pdyZ_2s8TDMm7tw@mail.gmail.com>
 <CAG=rPVcCqwG=cwdcu4X+RpLmtZfYN0X62yAyd8hug6MW=4XUfw@mail.gmail.com>
Message-ID: <81AE6CEE-B4F2-4C9A-A674-E11374CF2B14@ox.cx>

> It does on master, i think, but unsupported doesn't run on PRs.
> 
> I'm happy to move it to supported if we're happy with it! I think since it runs all the main reactors plus asyncio, we can be relatively trusting of it being green now...
> 
> 
> That build runs select, poll, epoll, and asyncio reactors.  So since there are about 12,000 tests, running 4 times, that is about 48,000 tests
> for this builder.  That took 39 minutes.

Does it run under Coverage? attrs’ test suite took almost 20 minutes when running under PyPy3 and coverage so we switched it off for everything except py27 and py36.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180413/48a2838b/attachment-0002.html>

From mrw at enotuniq.org  Fri Apr 13 00:00:10 2018
From: mrw at enotuniq.org (Mark Williams)
Date: Thu, 12 Apr 2018 23:00:10 -0700
Subject: [Twisted-Python] pypy3 builds passing?
In-Reply-To: <CAG=rPVcCqwG=cwdcu4X+RpLmtZfYN0X62yAyd8hug6MW=4XUfw@mail.gmail.com>
References: <CAG=rPVfrtrrHVEGMKOqZZ7DrsqH9mm3LDw9C1sT+Cor_X8eKDg@mail.gmail.com>
 <06FD2D8E-0E1C-4345-8FE6-6121E640DC7E@twistedmatrix.com>
 <CAMxb2isNd_48GHuApeHXG3xgY1X2fNu=LfA4aCT__8AsnKC5fw@mail.gmail.com>
 <FD0BB0E2-39DB-4CCD-BBF0-72A5AC7CD364@twistedmatrix.com>
 <CAMxb2isgpQaVA20=-quXqOYKuYxvmtO1qu1pdyZ_2s8TDMm7tw@mail.gmail.com>
 <CAG=rPVcCqwG=cwdcu4X+RpLmtZfYN0X62yAyd8hug6MW=4XUfw@mail.gmail.com>
Message-ID: <1523599210.814958.1336526616.1C936400@webmail.messagingengine.com>

On Thu, Apr 12, 2018, at 10:53 PM, Craig Rodrigues wrote:
> 
> 
> On Thu, Apr 12, 2018 at 10:35 PM, Amber Brown <hawkowl at atleastfornow.net> wrote:
>> It does on master, i think, but unsupported doesn't run on PRs.
>> 
>> I'm happy to move it to supported if we're happy with it! I think since it runs all the main reactors plus asyncio, we can be relatively trusting of it being green now...
>> 
> 
> That build runs select, poll, epoll, and asyncio reactors.  So since there are about 12,000 tests, running 4 times, that is about 48,000 tests
> for this builder.  That took 39 minutes.
> That's a bit long, but maybe that's OK.

Thanks for checking the build time! I agree that 40 minutes is long, and I'd rather not add it onto our already lengthy CI cycle.

> I don't know if it is worth figuring out any ways to optimize this run by maybe using "trial -j", or splitting 
> the run of each reactor into a new builder.

trial -j fails on some of our tests, and I wouldn't be surprised if it's less reliable under PyPy.  We should fix that, but until we do, I think adding additional builders for each PyPy3 reactor is a good idea.

> --
> Craig
> _________________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python

--
  Mark Williams
  mrw at enotuniq.org



From hawkowl at atleastfornow.net  Fri Apr 13 00:00:56 2018
From: hawkowl at atleastfornow.net (Amber Brown)
Date: Fri, 13 Apr 2018 06:00:56 +0000
Subject: [Twisted-Python] pypy3 builds passing?
In-Reply-To: <81AE6CEE-B4F2-4C9A-A674-E11374CF2B14@ox.cx>
References: <CAG=rPVfrtrrHVEGMKOqZZ7DrsqH9mm3LDw9C1sT+Cor_X8eKDg@mail.gmail.com>
 <06FD2D8E-0E1C-4345-8FE6-6121E640DC7E@twistedmatrix.com>
 <CAMxb2isNd_48GHuApeHXG3xgY1X2fNu=LfA4aCT__8AsnKC5fw@mail.gmail.com>
 <FD0BB0E2-39DB-4CCD-BBF0-72A5AC7CD364@twistedmatrix.com>
 <CAMxb2isgpQaVA20=-quXqOYKuYxvmtO1qu1pdyZ_2s8TDMm7tw@mail.gmail.com>
 <CAG=rPVcCqwG=cwdcu4X+RpLmtZfYN0X62yAyd8hug6MW=4XUfw@mail.gmail.com>
 <81AE6CEE-B4F2-4C9A-A674-E11374CF2B14@ox.cx>
Message-ID: <CAMxb2ivVQ66B+fy7uR_QM6f75t4qytAPsG2=UtUdRtdU6SBioA@mail.gmail.com>

No, it does not. May be worth it for just select, tho, considering we have
pypy specific checks.

On Fri, 13 Apr 2018, 15:58 Hynek Schlawack, <hs at ox.cx> wrote:

> It does on master, i think, but unsupported doesn't run on PRs.
>>
>> I'm happy to move it to supported if we're happy with it! I think since
>> it runs all the main reactors plus asyncio, we can be relatively trusting
>> of it being green now...
>>
>>
> That build runs select, poll, epoll, and asyncio reactors.  So since there
> are about 12,000 tests, running 4 times, that is about 48,000 tests
> for this builder.  That took 39 minutes.
>
>
> Does it run under Coverage? attrs’ test suite took almost 20 minutes when
> running under PyPy3 and coverage so we switched it off for everything
> except py27 and py36.
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180413/7a881867/attachment-0002.html>

From hawkowl at atleastfornow.net  Fri Apr 13 00:01:46 2018
From: hawkowl at atleastfornow.net (Amber Brown)
Date: Fri, 13 Apr 2018 06:01:46 +0000
Subject: [Twisted-Python] pypy3 builds passing?
In-Reply-To: <1523599210.814958.1336526616.1C936400@webmail.messagingengine.com>
References: <CAG=rPVfrtrrHVEGMKOqZZ7DrsqH9mm3LDw9C1sT+Cor_X8eKDg@mail.gmail.com>
 <06FD2D8E-0E1C-4345-8FE6-6121E640DC7E@twistedmatrix.com>
 <CAMxb2isNd_48GHuApeHXG3xgY1X2fNu=LfA4aCT__8AsnKC5fw@mail.gmail.com>
 <FD0BB0E2-39DB-4CCD-BBF0-72A5AC7CD364@twistedmatrix.com>
 <CAMxb2isgpQaVA20=-quXqOYKuYxvmtO1qu1pdyZ_2s8TDMm7tw@mail.gmail.com>
 <CAG=rPVcCqwG=cwdcu4X+RpLmtZfYN0X62yAyd8hug6MW=4XUfw@mail.gmail.com>
 <1523599210.814958.1336526616.1C936400@webmail.messagingengine.com>
Message-ID: <CAMxb2iuECCfJzdeKEh9d2SrDgLxR2b=0kv5SO3nFxR6Y1DFQGw@mail.gmail.com>

I'll also note that very soon, pypy2.7 should also be supported.

On Fri, 13 Apr 2018, 16:00 Mark Williams, <mrw at enotuniq.org> wrote:

> On Thu, Apr 12, 2018, at 10:53 PM, Craig Rodrigues wrote:
> >
> >
> > On Thu, Apr 12, 2018 at 10:35 PM, Amber Brown <hawkowl at atleastfornow.net>
> wrote:
> >> It does on master, i think, but unsupported doesn't run on PRs.
> >>
> >> I'm happy to move it to supported if we're happy with it! I think since
> it runs all the main reactors plus asyncio, we can be relatively trusting
> of it being green now...
> >>
> >
> > That build runs select, poll, epoll, and asyncio reactors.  So since
> there are about 12,000 tests, running 4 times, that is about 48,000 tests
> > for this builder.  That took 39 minutes.
> > That's a bit long, but maybe that's OK.
>
> Thanks for checking the build time! I agree that 40 minutes is long, and
> I'd rather not add it onto our already lengthy CI cycle.
>
> > I don't know if it is worth figuring out any ways to optimize this run
> by maybe using "trial -j", or splitting
> > the run of each reactor into a new builder.
>
> trial -j fails on some of our tests, and I wouldn't be surprised if it's
> less reliable under PyPy.  We should fix that, but until we do, I think
> adding additional builders for each PyPy3 reactor is a good idea.
>
> > --
> > Craig
> > _________________________________________________
> > Twisted-Python mailing list
> > Twisted-Python at twistedmatrix.com
> > https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
> --
>   Mark Williams
>   mrw at enotuniq.org
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180413/e5c86441/attachment-0002.html>

From trac at twistedmatrix.com  Sun Apr 15 00:05:24 2018
From: trac at twistedmatrix.com (trac at twistedmatrix.com)
Date: Sun, 15 Apr 2018 06:05:24 -0000
Subject: [Twisted-Python] Weekly Bug Summary
Message-ID: 1523772324.55.1442415675348592496@twistedmatrix.com

An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180415/42cfb29a/attachment-0002.html>

From thomas.westfeld at currenta.de  Mon Apr 16 04:21:24 2018
From: thomas.westfeld at currenta.de (Thomas Westfeld)
Date: Mon, 16 Apr 2018 10:21:24 +0000
Subject: [Twisted-Python] Running a twisted application as
	windows	service
In-Reply-To: <789c37e3-bb0b-fe71-cc90-3cac548bf85a@thieprojects.ch>
References: <dd2bc1389ef7437e99c651306571ce42@BYEX35.de.bayer.cnb>
 <CAG5tnzo12LaPDEW1pbskYMy89ucPsPJGSpVfCwVqxstpDb+9jQ@mail.gmail.com>
 <789c37e3-bb0b-fe71-cc90-3cac548bf85a@thieprojects.ch>
Message-ID: <63a3dda1ed104e448203751f542d94fc@BYEX35.de.bayer.cnb>

+1 never seen NSSM crash
Werner

On 04/12/2018 07:50 AM, Ray Cote wrote:
On Thu, Apr 12, 2018 at 12:12 PM, Thomas Westfeld <thomas.westfeld at currenta.de> wrote:
Hello all,

I have written a nice twisted-based TCP-server as a twistd plugin or an
application as a .tac file and I would like to run it as a windows service.

Hi Thomas:
Recommend you take a look at this service manager utility for Windows:
    https://nssm.cc/
We've moved away from implementing Twisted as a service and instead run it under NSSM. 
NSSM provides additional capabilities such as automatic restarts on failure, redirected stdout/stderr, and easily setting dependency groups, etc.
Our Twisted binaries are installed at a number of fairly large companies and so far none of them have had any concern about running the NSSM service manager. 
Its made our life much simpler. 
(Lousy product name, though...)

--Ray 

Thank you very much for the feedback. It seems not very pythonic to install a helper to generate a service. At the end of the day if it is robust then I will go for it. I would prefer a solution which would be installable via pip nicely. Just run pip install, then it will have a separate module which will then install the windows service and that's it.

Thinking about making twisted easier to use in a windows environment this could be worth to include in the standard installation of twisted.

From trac at twistedmatrix.com  Sun Apr 22 00:05:35 2018
From: trac at twistedmatrix.com (trac at twistedmatrix.com)
Date: Sun, 22 Apr 2018 06:05:35 -0000
Subject: [Twisted-Python] Weekly Bug Summary
Message-ID: 1524377134.97.4148258557593891402@twistedmatrix.com

An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180422/a3208113/attachment-0002.html>

From MaasBox at arcor.de  Mon Apr 23 03:26:41 2018
From: MaasBox at arcor.de (Maas)
Date: Mon, 23 Apr 2018 11:26:41 +0200
Subject: [Twisted-Python] class twisted/conch/ssh/session/SSHSession()
Message-ID: <1430cc1a-8e9e-057a-b63c-54f8ebe2145a@arcor.de>

Hi Twisted User,

I had an error by trying the examples sshsimpleclient.py and 
sshsimpleserver.py. It was triggered with the client side command 
'self.write(b'hello conch\n')'.

I found the responsible line for the error. In the method 
SSHSession.dataReceived() the line 112 has to be altered

from: self.client.transport.write(data)

to: self.client.write(data)


May it will help U.


Best,

MaasArbeit




From glyph at twistedmatrix.com  Wed Apr 25 00:53:15 2018
From: glyph at twistedmatrix.com (Glyph)
Date: Tue, 24 Apr 2018 23:53:15 -0700
Subject: [Twisted-Python] class twisted/conch/ssh/session/SSHSession()
In-Reply-To: <1430cc1a-8e9e-057a-b63c-54f8ebe2145a@arcor.de>
References: <1430cc1a-8e9e-057a-b63c-54f8ebe2145a@arcor.de>
Message-ID: <FD61CC99-92C2-4F42-8E97-999052B6A24F@twistedmatrix.com>



> On Apr 23, 2018, at 2:26 AM, Maas <MaasBox at arcor.de> wrote:
> 
> Hi Twisted User,
> 
> I had an error by trying the examples sshsimpleclient.py and sshsimpleserver.py. It was triggered with the client side command 'self.write(b'hello conch\n')'.
> 
> I found the responsible line for the error. In the method SSHSession.dataReceived() the line 112 has to be altered
> 
> from: self.client.transport.write(data)
> 
> to: self.client.write(data)
> 
> 
> May it will help U.
> 
> 
> Best,
> 
> MaasArbeit

Thanks for your bug report!

Does someone have a moment to write this up and put it into Trac? :-)

-glyph



From trac at twistedmatrix.com  Sun Apr 29 00:05:29 2018
From: trac at twistedmatrix.com (trac at twistedmatrix.com)
Date: Sun, 29 Apr 2018 06:05:29 -0000
Subject: [Twisted-Python] Weekly Bug Summary
Message-ID: 1524981929.68.5055688029554060062@twistedmatrix.com

An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180429/725ffaf4/attachment-0002.html>

From hawkowl at atleastfornow.net  Sun Apr 29 05:17:19 2018
From: hawkowl at atleastfornow.net (Amber Brown)
Date: Sun, 29 Apr 2018 21:17:19 +1000
Subject: [Twisted-Python] Twisted 18.4.0 Release Announcement
Message-ID: <67493b4a-006b-d80c-4576-12aae5f66e17@atleastfornow.net>

On behalf of Twisted Matrix Laboratories, I'm honoured to announce the 
release of Twisted 18.4.0!

The highlights of the release are:

- The dropping of Python 3.3 support.
- Python 3 fixes (notably to trial -j, asyncioreactor, conch, and mail)
- Python 3 TCP speed improvements (less copying when sending data)
- Better TLS curve selection support for both old and new OpenSSLs
- IPv6 fixes for WSGIResource
- 60+ closed tickets with many fixed bugs!

For more information, check the NEWS file (link provided below).

You can find the downloads at <https://pypi.python.org/pypi/Twisted> (or 
alternatively <http://twistedmatrix.com/trac/wiki/Downloads>). The NEWS 
file is also available at 
<https://github.com/twisted/twisted/blob/twisted-18.4.0/NEWS.rst>.

Many thanks to everyone who had a part in this release - the supporters 
of the Twisted Software Foundation, the developers who contributed code 
as well as documentation, and all the people building great things with 
Twisted!

Twisted Regards,
Amber Brown (HawkOwl)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180429/b6b81728/attachment-0002.html>

From adi at roiban.ro  Sun Apr 29 05:28:25 2018
From: adi at roiban.ro (Adi Roiban)
Date: Sun, 29 Apr 2018 12:28:25 +0100
Subject: [Twisted-Python] CircleCI for macOS builds
Message-ID: <CAFycZ9fzRDhcirduCyCLctmPJonSOx9zRDbDKJZf9-eG6Nuj8w@mail.gmail.com>

Hi,

The guys from Circle-CI have graciously extended our macOS build time
from 500 to 1000 minutes.

This gives us about 16 hours for macOS builds.

For the documentation and static checkers, we have used 21h 33m 31s
between Mar 19 - Apr 19 ...and the combine builds runs for about 5
minutes.

A single macOS build also runs between 5 and 6 minutes.

In the previous configuration, we were running the macOS tests only
when the documentation / static checkers and pyflake3 linter were
green.

With that into consideration, we might be able to fit within the 1000
minutes limit.

If 1000 minutes is not enough, I was thinking to configure Circle-CI
to run macOS builds on Circle-CI only for PR from external branches.

For branches inside the Twisted main repo we have the macOS Buildbot
builder, which is triggered automatically.

In this way, external contributors should get some feedback for macOS.

Cheers,
-- 
Adi Roiban



From glyph at twistedmatrix.com  Mon Apr 30 00:22:25 2018
From: glyph at twistedmatrix.com (Glyph)
Date: Sun, 29 Apr 2018 23:22:25 -0700
Subject: [Twisted-Python] Twisted 18.4.0 Release Announcement
In-Reply-To: <67493b4a-006b-d80c-4576-12aae5f66e17@atleastfornow.net>
References: <67493b4a-006b-d80c-4576-12aae5f66e17@atleastfornow.net>
Message-ID: <A2D65AC8-D8D7-4380-9E3F-83606265F3A0@twistedmatrix.com>

On Apr 29, 2018, at 4:17 AM, Amber Brown <hawkowl at atleastfornow.net> wrote:
> On behalf of Twisted Matrix Laboratories, I'm honoured to announce the release of Twisted 18.4.0!
> 

Thanks for another great release, everybody! This looks like a great set of stuff. Personally I am very much looking forward to finally be able to use `trial -j` on a python 3 codebase ;).

-g
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20180429/4cb6ec16/attachment-0002.html>

