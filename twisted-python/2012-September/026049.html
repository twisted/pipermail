<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] implementing NAMES in IRC
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20implementing%20NAMES%20in%20IRC&In-Reply-To=CAAy2ZMZfHkcrqLuopmNSyQs_pY1oUV_EOm4dMNvuACWw3Q%2BqpA%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026048.html">
   <LINK REL="Next"  HREF="026050.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] implementing NAMES in IRC</H1>
    <B>Glyph</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20implementing%20NAMES%20in%20IRC&In-Reply-To=CAAy2ZMZfHkcrqLuopmNSyQs_pY1oUV_EOm4dMNvuACWw3Q%2BqpA%40mail.gmail.com"
       TITLE="[Twisted-Python] implementing NAMES in IRC">glyph at twistedmatrix.com
       </A><BR>
    <I>Tue Sep 11 00:05:05 EDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="026048.html">[Twisted-Python] implementing NAMES in IRC
</A></li>
        <LI>Next message: <A HREF="026050.html">[Twisted-Python] implementing NAMES in IRC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26049">[ date ]</a>
              <a href="thread.html#26049">[ thread ]</a>
              <a href="subject.html#26049">[ subject ]</a>
              <a href="author.html#26049">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Sep 10, 2012, at 6:24 PM, Art Scheel &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">ascheel at gmail.com</A>&gt; wrote:

&gt;<i> Now, is stackoverflow overriding that method or was it perhaps written prior to the implementation of the irc.py portion I linked to?
</I>
The StackOverflow answer is implementing a new method, on IRCClient.  The implementation in irc.py that you're linking to is from the IRC server protocol implementation.  They're not really related, except insofar as they are talking about the same protocol command - but they are opposite sides of the connection for that command.

For what it's worth, the StackOverflow answer really ought to be linking to a Twisted ticket for a method like .names() on IRCClient within Twisted itself.  This is important functionality, and we're missing it; the right thing to do is always to file a bug, not to implement it without tests in a forum post.

Such a bug may already exist - if you wouldn't mind, would you search for it, and if you can't find it, file a new one?

&gt;<i> My code is here.  I am attempting to parse the names list at line 110
</I>&gt;<i> <A HREF="http://bpaste.net/show/Fll7at9Z3b8nD6GDNN14/">http://bpaste.net/show/Fll7at9Z3b8nD6GDNN14/</A>
</I>&gt;<i> 
</I>&gt;<i> I don't know if I should be using twisted/words/protocols/irc.py or twisted/words/im/ircsupport.py.
</I>
twisted.words.im.* implements a multi-protocol chat abstraction.  I don't think that your bot necessarily needs to be IRC specific, I think it would be a good idea for you to try to use twisted.words.im; you will probably discover a sad lack of documentation, but you can feel free to ask questions and file doc bugs.  Or perhaps even contribute doc patches, once you've figured out what's going on!

At the very least, twisted.words.im.ircsupport already implements irc_RPL_NAMREPLY to convert this message into a series of memberJoined/memberLeft API calls, so you don't have to do something like that yourself.  See here: &lt;<A HREF="http://twistedmatrix.com/trac/browser/trunk/twisted/words/im/ircsupport.py#L160">http://twistedmatrix.com/trac/browser/trunk/twisted/words/im/ircsupport.py#L160</A>&gt;.

&gt;<i> Can someone point me in the right direction as to what I need to do to grab the list of names at that particular spot using Twisted's in methods?  If it cannot be done with the Twisted's methods, am I to understand that's what the StackOverflow post was doing?
</I>
Yes, that's exactly what the SO post was doing.  It is using Twisted's methods though, so clearly it can be done with them, it's just a small matter of work :).

&gt;<i> Yes, I know the code is ugly.  I can clean it up after I understand what I'm doing more fully.
</I>
Ugliness is forgivable, but in the future, you should try to post much more minimal programs.  It's a lot easier to help if one can read the whole thing.  See &lt;<A HREF="http://sscce.org">http://sscce.org</A>&gt; for details.

-glyph

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20120910/2e4badda/attachment.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20120910/2e4badda/attachment.htm</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026048.html">[Twisted-Python] implementing NAMES in IRC
</A></li>
	<LI>Next message: <A HREF="026050.html">[Twisted-Python] implementing NAMES in IRC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26049">[ date ]</a>
              <a href="thread.html#26049">[ thread ]</a>
              <a href="subject.html#26049">[ subject ]</a>
              <a href="author.html#26049">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
