<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] implementing NAMES in IRC
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20implementing%20NAMES%20in%20IRC&In-Reply-To=%3CCAMcKhMRkpfXHW1rs54PkkuCrxmQR1T5GXD%2Bj4pSvUFyNPuQQYg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="058524.html">
   <LINK REL="Next"  HREF="058526.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] implementing NAMES in IRC</H1>
    <B>Tristan Seligmann</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20implementing%20NAMES%20in%20IRC&In-Reply-To=%3CCAMcKhMRkpfXHW1rs54PkkuCrxmQR1T5GXD%2Bj4pSvUFyNPuQQYg%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] implementing NAMES in IRC">mithrandi at mithrandi.net
       </A><BR>
    <I>Tue Sep 11 10:12:22 MDT 2012</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="058524.html">[Twisted-Python] implementing NAMES in IRC
</A></li>
        <LI>Next message (by thread): <A HREF="058526.html">[Twisted-Python] implementing NAMES in IRC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#58525">[ date ]</a>
              <a href="thread.html#58525">[ thread ]</a>
              <a href="subject.html#58525">[ subject ]</a>
              <a href="author.html#58525">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Sep 11, 2012 at 3:43 PM,  &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at twistedmatrix.com</A>&gt; wrote:
&gt;<i> This is the excuse that is always given for not implementing a new
</I>&gt;<i> feature on `IRCClient`.  However, here's another equivalent way of
</I>&gt;<i> stating the objection:
</I>&gt;<i>
</I>&gt;<i>   IRC is a terrible protocol and it is very difficult to implement a
</I>&gt;<i>   method like `names` reliably, due to the various vague and obscure
</I>&gt;<i>   corner cases presented.  Therefore, instead of Twisted tackling this
</I>&gt;<i>   problem and providing a single (perhaps imperfect) implementation,
</I>&gt;<i>   every single IRC application developer should instead rediscover this
</I>&gt;<i>   sad reality for themselves and then implement their own uniquely buggy
</I>&gt;<i>   version of this functionality.
</I>
Actually, my recommendation would be to avoid trying to implement
functionality of this nature in any application at all. The only way
to reliably use the NAMES command is the way
twisted.words.im.ircsupport and real IRC clients do: handle
RPL_NAMREPLY / RPL_ENDOFNAMES without regard to any NAMES command you
may or may not have issued, and then issue a NAMES command at certain
points without any regard for a response that may or may not be sent
to you by the IRC server. Having said that, I guess IRCClient could
handle the parsing of RPL_NAMREPLY / RPL_ENDOFNAMES messages into a
single list of names, which could then be delivered as a single event.

My main concern with most of the more complex implementation
strategies is that they impose a non-zero cost on users of IRCClient,
as well as encouraging the implementation of unreliable features; at
the very least, I think &quot;anti-IRC&quot; code like this should be an extra
layer on top of the basic IRC protocol implementation.
-- 
mithrandi, i Ainil en-Balandor, a faer Ambar


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="058524.html">[Twisted-Python] implementing NAMES in IRC
</A></li>
	<LI>Next message (by thread): <A HREF="058526.html">[Twisted-Python] implementing NAMES in IRC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#58525">[ date ]</a>
              <a href="thread.html#58525">[ thread ]</a>
              <a href="subject.html#58525">[ subject ]</a>
              <a href="author.html#58525">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
