<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Twisted + Redis-py + Connection Pooling
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Twisted%20%2B%20Redis-py%20%2B%20Connection%20Pooling&In-Reply-To=CALK05%2BUwEuawTuDKtR5AdP%3DhgC_i_t3-MUWA7d2nZS_i%3D3rM3A%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026093.html">
   <LINK REL="Next"  HREF="026098.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Twisted + Redis-py + Connection Pooling</H1>
    <B>Itamar Turner-Trauring</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Twisted%20%2B%20Redis-py%20%2B%20Connection%20Pooling&In-Reply-To=CALK05%2BUwEuawTuDKtR5AdP%3DhgC_i_t3-MUWA7d2nZS_i%3D3rM3A%40mail.gmail.com"
       TITLE="[Twisted-Python] Twisted + Redis-py + Connection Pooling">itamar at futurefoundries.com
       </A><BR>
    <I>Fri Sep 28 21:28:09 EDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="026093.html">[Twisted-Python] Twisted + Redis-py + Connection Pooling
</A></li>
        <LI>Next message: <A HREF="026098.html">[Twisted-Python] Twisted + Redis-py + Connection Pooling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26094">[ date ]</a>
              <a href="thread.html#26094">[ thread ]</a>
              <a href="subject.html#26094">[ subject ]</a>
              <a href="author.html#26094">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>One problem in the code: it kinda seems you want to receive lines, but
you're overriding dataReceived instead of lineReceived in
RedisWorkProtocol. At the very minimum you shouldn't assume dataReceived is
called with the exact bytes that were written on the other side.

More importantly, I assume redis-py is blocking. Calling a blocking API
from Twisted will block the reactor, preventing any other code from running
until it the API call returns. As such it means you can't have two queries
to redis running at the same time, unless you use something like
deferToThread, or a redis client that supports Twisted directly.

-- 
Itamar Turner-Trauring, Future Foundries LLC
<A HREF="http://futurefoundries.com/">http://futurefoundries.com/</A> &#8212; Twisted consulting, training and support.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20120928/01fe17bb/attachment.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20120928/01fe17bb/attachment.htm</A> 
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026093.html">[Twisted-Python] Twisted + Redis-py + Connection Pooling
</A></li>
	<LI>Next message: <A HREF="026098.html">[Twisted-Python] Twisted + Redis-py + Connection Pooling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26094">[ date ]</a>
              <a href="thread.html#26094">[ thread ]</a>
              <a href="subject.html#26094">[ subject ]</a>
              <a href="author.html#26094">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
