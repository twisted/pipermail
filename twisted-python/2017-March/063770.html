<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] HTTP Agent persistent connections not closed for some HTTPS sites
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20HTTP%20Agent%20persistent%20connections%20not%20closed%0A%20for%20some%20HTTPS%20sites&In-Reply-To=%3C75B7556E-F0DB-4B9D-9B05-7224BA010690%40lukasa.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="063769.html">
   <LINK REL="Next"  HREF="063771.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] HTTP Agent persistent connections not closed for some HTTPS sites</H1>
    <B>Cory Benfield</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20HTTP%20Agent%20persistent%20connections%20not%20closed%0A%20for%20some%20HTTPS%20sites&In-Reply-To=%3C75B7556E-F0DB-4B9D-9B05-7224BA010690%40lukasa.co.uk%3E"
       TITLE="[Twisted-Python] HTTP Agent persistent connections not closed for some HTTPS sites">cory at lukasa.co.uk
       </A><BR>
    <I>Fri Mar 10 01:26:40 MST 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="063769.html">[Twisted-Python] HTTP Agent persistent connections not closed for some HTTPS sites
</A></li>
        <LI>Next message (by thread): <A HREF="063771.html">[Twisted-Python] HTTP Agent persistent connections not closed for some HTTPS sites
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63770">[ date ]</a>
              <a href="thread.html#63770">[ thread ]</a>
              <a href="subject.html#63770">[ subject ]</a>
              <a href="author.html#63770">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> On 9 Mar 2017, at 22:01, Jean-Paul Calderone &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at twistedmatrix.com</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> Run the server with TLSMemoryBIOProtocol and use the transport's pauseProducing method before you attempt the shutdown?
</I>&gt;<i> 
</I>&gt;<i> Jean-Paul
</I>
Yup, that will work. Similarly, having two TLSMemoryBIOProtocols communicating together and pausing one before calling loseConnection on the other should also work. Essentially, any situation you can conjure where the closing connection will manage not to see either a TLS CloseNotify or a TCP FIN or RST will do the job.

Cory

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20170310/5e66904d/attachment-0002.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="063769.html">[Twisted-Python] HTTP Agent persistent connections not closed for some HTTPS sites
</A></li>
	<LI>Next message (by thread): <A HREF="063771.html">[Twisted-Python] HTTP Agent persistent connections not closed for some HTTPS sites
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63770">[ date ]</a>
              <a href="thread.html#63770">[ thread ]</a>
              <a href="subject.html#63770">[ subject ]</a>
              <a href="author.html#63770">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
