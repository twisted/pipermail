<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] twisted server config: command line,	environment or Axiom?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20twisted%20server%20config%3A%20command%20line%2C%0A%09environment%20or%20Axiom%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025978.html">
   <LINK REL="Next"  HREF="025974.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] twisted server config: command line,	environment or Axiom?</H1>
    <B>Laurens Van Houtven</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20twisted%20server%20config%3A%20command%20line%2C%0A%09environment%20or%20Axiom%3F&In-Reply-To="
       TITLE="[Twisted-Python] twisted server config: command line,	environment or Axiom?">_ at lvh.cc
       </A><BR>
    <I>Wed Aug  8 09:58:27 EDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="025978.html">[Twisted-Python] IUnicodeUsernamePassword?
</A></li>
        <LI>Next message: <A HREF="025974.html">[Twisted-Python] twisted server config: command line, environment or Axiom?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25973">[ date ]</a>
              <a href="thread.html#25973">[ thread ]</a>
              <a href="subject.html#25973">[ subject ]</a>
              <a href="author.html#25973">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I have a bunch of configuration for my service. Things like endpoints, location of the root axiom store&#8230; Right now I grab these from the environment. That means that my twistd IServiceMaker plugin's options is pretty much by definition empty.

I'm wondering if more mature twistd users have already learned the hard way what the best way to manage this is. I see three possible solutions:

1. environment variables as I use them now: portable, simple.
2. command line options: still pretty portable and simple. additional benefit: easy discoverability of options
3. axiom store: has the benefit that there's a single source of truth for everything, i.e. I copy a store and I can recreate the service based on that store exactly, using just the store

Like I said, I currently use (1), it looks like (1) and (2) are more or less equivalent, I'm not sure if (3) is a good idea. I'm not really unhappy with (1), it's just that finally writing my ServiceMaker class made me contemplate the options.

(3) has the downside that it conflates user data with configuration data. I'm not sure that's a good thing or not. It sounds very similar to axiomatic, which I've heard of, seen, but never played with.

I already use environment variables to decide whether or not to run certain tests (&quot;live&quot; functional high level tests, with real disk and network IO, that take way longer than the unit tests to run). I'm going to keep it that way, because there's no obvious way of passing configuration to the tests other than the environment.

cheers
lvh




</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025978.html">[Twisted-Python] IUnicodeUsernamePassword?
</A></li>
	<LI>Next message: <A HREF="025974.html">[Twisted-Python] twisted server config: command line, environment or Axiom?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25973">[ date ]</a>
              <a href="thread.html#25973">[ thread ]</a>
              <a href="subject.html#25973">[ subject ]</a>
              <a href="author.html#25973">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
