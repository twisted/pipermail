<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Using StandardIO and pipes.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Using%20StandardIO%20and%20pipes.&In-Reply-To=CAKef57MzAGdZz-QQCgV0U%2BMzgqJXs3JLtvm%2Br0owt0naFbPgwA%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025979.html">
   <LINK REL="Next"  HREF="025981.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Using StandardIO and pipes.</H1>
    <B>Andrew Bennetts</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Using%20StandardIO%20and%20pipes.&In-Reply-To=CAKef57MzAGdZz-QQCgV0U%2BMzgqJXs3JLtvm%2Br0owt0naFbPgwA%40mail.gmail.com"
       TITLE="[Twisted-Python] Using StandardIO and pipes.">andrew at bemusement.org
       </A><BR>
    <I>Thu Aug  9 22:39:08 EDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="025979.html">[Twisted-Python] Using StandardIO and pipes.
</A></li>
        <LI>Next message: <A HREF="025981.html">[Twisted-Python] Using StandardIO and pipes.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25980">[ date ]</a>
              <a href="thread.html#25980">[ thread ]</a>
              <a href="subject.html#25980">[ subject ]</a>
              <a href="author.html#25980">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Maxim Lacrima wrote:
[&#8230;]
&gt;<i> So my conclusions are:
</I>&gt;<i> 1. When I write to stdin of my script from keyboard then
</I>&gt;<i> `self.transport.write()` works as expected.
</I>&gt;<i> 2. When I use pipes or redirection to my script `self.transport.write()`
</I>&gt;<i> doesn't produce any output.
</I>&gt;<i> 3. If I replace self.transport.write() with print statements it works.
</I>
Buffering, perhaps?

As a quick test, try adjusting your callback to loseConnection on the transport
after to the write, that should flush the buffers.  If buffering turns out to
be your problem, and you really do expect your pipes to be at most
line-buffered, you'll need to arrange for the buffering on the stdin and stdout
file descriptors to be changed.  I don't think Twisted has that builtin, so you
may need to do that before creating the StandardIO object using the regular
Python APIs.

-Andrew.



</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025979.html">[Twisted-Python] Using StandardIO and pipes.
</A></li>
	<LI>Next message: <A HREF="025981.html">[Twisted-Python] Using StandardIO and pipes.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25980">[ date ]</a>
              <a href="thread.html#25980">[ thread ]</a>
              <a href="subject.html#25980">[ subject ]</a>
              <a href="author.html#25980">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
