<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] How to deal with deferreds across several layers of namespaces?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20How%20to%20deal%20with%20deferreds%20across%20several%0A%20layers%20of%20namespaces%3F&In-Reply-To=%3CCAOp9P3rf68LtVb%2B5Hi2MDsNQkyTWY5Q5M8N2f08fpRjGBdu5Hw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="058465.html">
   <LINK REL="Next"  HREF="058467.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] How to deal with deferreds across several layers of namespaces?</H1>
    <B>Itamar Turner-Trauring</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20How%20to%20deal%20with%20deferreds%20across%20several%0A%20layers%20of%20namespaces%3F&In-Reply-To=%3CCAOp9P3rf68LtVb%2B5Hi2MDsNQkyTWY5Q5M8N2f08fpRjGBdu5Hw%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] How to deal with deferreds across several layers of namespaces?">itamar at futurefoundries.com
       </A><BR>
    <I>Fri Aug 17 18:12:25 MDT 2012</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="058465.html">[Twisted-Python] How to deal with deferreds across several layers	of namespaces?
</A></li>
        <LI>Next message (by thread): <A HREF="058467.html">[Twisted-Python] Running and supervising twistd daemons
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#58466">[ date ]</a>
              <a href="thread.html#58466">[ thread ]</a>
              <a href="subject.html#58466">[ subject ]</a>
              <a href="author.html#58466">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Aug 16, 2012 at 3:42 PM, Idlecore &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">xor at idlecore.com</A>&gt; wrote:

&gt;<i> I have a protocol that calls code that spans several namespaces. At
</I>&gt;<i> any of these namespaces there might be a deferred waiting to be
</I>&gt;<i> called. The protocol can be disconnected at any time and I currently
</I>&gt;<i> don't have a clean way to cancel all the potential deferreds from
</I>&gt;<i> within the protocol.
</I>&gt;<i>
</I>
What do you mean by &quot;namespaces&quot;? If the Protocol called some code that
returned a Deferred, the Protocol will then have a reference to it. If a
callback function on that Deferred returns a Deferred, cancelling the
original one will also cancel the chained Deferred if necessary (though
you'll need to have a cancellation function for each, of course).


&gt;<i> Will the protocol stick around long enough after disconnection for the
</I>&gt;<i> deferreds to eventually be called?
</I>&gt;<i>
</I>
The Protocol will have its connectionLost() method called when it
disconnects; this is where you'd typically cancel any pending operations.
If some other object has a reference to it, it will not be garbage
collected until that reference is gone, as with any Python object. The
pending operations will, however, continue (possibly wasting resources)
unless you cancel them in response to the connectionLost() call.

Can you give a tiny code example, perhaps, demonstrating the kind of
Deferred management problem you're having?

-- 
Itamar Turner-Trauring, Future Foundries LLC
<A HREF="http://futurefoundries.com/">http://futurefoundries.com/</A> â€” Twisted consulting, training and support.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20120817/14a9360b/attachment-0001.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="058465.html">[Twisted-Python] How to deal with deferreds across several layers	of namespaces?
</A></li>
	<LI>Next message (by thread): <A HREF="058467.html">[Twisted-Python] Running and supervising twistd daemons
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#58466">[ date ]</a>
              <a href="thread.html#58466">[ thread ]</a>
              <a href="subject.html#58466">[ subject ]</a>
              <a href="author.html#58466">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
