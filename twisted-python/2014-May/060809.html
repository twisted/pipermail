<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] TCP and ICMP
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20TCP%20and%20ICMP&In-Reply-To=%3CCAFN1edqbJFMQeRTKz%3DASQLJyA0Y165i0sTcYEDKXm%3DrDcHam%3DA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="060816.html">
   <LINK REL="Next"  HREF="028351.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] TCP and ICMP</H1>
    <B>David Stainton</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20TCP%20and%20ICMP&In-Reply-To=%3CCAFN1edqbJFMQeRTKz%3DASQLJyA0Y165i0sTcYEDKXm%3DrDcHam%3DA%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] TCP and ICMP">dstainton415 at gmail.com
       </A><BR>
    <I>Sun May 11 04:15:19 MDT 2014</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="060816.html">[Twisted-Python] TCP and ICMP
</A></li>
        <LI>Next message (by thread): <A HREF="028351.html">[Twisted-Python] Twisted 14.0.0 Release Announcement
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60809">[ date ]</a>
              <a href="thread.html#60809">[ thread ]</a>
              <a href="subject.html#60809">[ subject ]</a>
              <a href="author.html#60809">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Jay Shah,

I started (but never finished) to implement a tcp traceroute (with
interesting features) for OONI (Open Observatory of Network
Interference... a Tor Project project) probe. You might use parts of
the ooniprobe api to capture your packets... It's written using
Twisted and I'm fairly certain they've already implemented TCP
traceroute... but you still may want to implement your own... because
it's a fun thing to write, you'd learn a lot... and your traceroute
might have interesting features. I think the ooni interface uses raw
sockets to capture packets.

Through my research I became aware of two other linux kernel
interfaces of interest to capturing packets:
- NFLOG
- NFQUEUE

You'd have to write twisted interfaces for these linux kernel
interfaces... but you can also find some mediocre quality code
examples of this on blog posts. I had a bit of trouble with dropped
packets reusing a twisted interface I found for NFQUEUE; this might've
been a problem with the queued packets not getting consumed quick
enough before the queue limit was reached... not sure.

Cheers,

David

On Sat, May 10, 2014 at 2:29 PM, Jay Shah &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">jayshah30392 at gmail.com</A>&gt; wrote:
&gt;<i> Hiee All,
</I>&gt;<i>
</I>&gt;<i> I have very simple question. I have already implemented custom reactor for
</I>&gt;<i> handling ICMP requests (reference: txnettools) . My problem is: i am
</I>&gt;<i> implementing tcp traceroute. I have handled all icmp time exceed messages.
</I>&gt;<i> But, i want to handle tcp syn-ack reply which i am getting from remote
</I>&gt;<i> server.
</I>&gt;<i> How can i do that ?
</I>&gt;<i> Can i start listening to TCP syn req or replies on the same reactor on which
</I>&gt;<i> i am listening to icmp replies ?
</I>&gt;<i> or
</I>&gt;<i> should i install new custom reactor for listening to tcp replies ?
</I>&gt;<i> I want to parse SYN ACK request ONLY. Neither I want to make a new
</I>&gt;<i> connection with remote server nor handling them! I just need syn ack replies
</I>&gt;<i> to be parsed so that i can figure out whether i have reached my destination
</I>&gt;<i> or not.
</I>&gt;<i> thank you.
</I>&gt;<i>
</I>&gt;<i> Jay Shah
</I>&gt;<i> (Technische Universität München,
</I>&gt;<i> München, Deutschland
</I>&gt;<i> Tel. +49 176 7266 7259 )
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="060816.html">[Twisted-Python] TCP and ICMP
</A></li>
	<LI>Next message (by thread): <A HREF="028351.html">[Twisted-Python] Twisted 14.0.0 Release Announcement
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60809">[ date ]</a>
              <a href="thread.html#60809">[ thread ]</a>
              <a href="subject.html#60809">[ subject ]</a>
              <a href="author.html#60809">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
