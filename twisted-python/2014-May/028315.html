<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] overly specific ImportError assert for python	3?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20overly%20specific%20ImportError%20assert%20for%20python%0A%093%3F&In-Reply-To=%3C20140505114336.6354.1234946521.divmod.xquotient.173%40top%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028311.html">
   <LINK REL="Next"  HREF="028318.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] overly specific ImportError assert for python	3?</H1>
    <B>exarkun at twistedmatrix.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20overly%20specific%20ImportError%20assert%20for%20python%0A%093%3F&In-Reply-To=%3C20140505114336.6354.1234946521.divmod.xquotient.173%40top%3E"
       TITLE="[Twisted-Python] overly specific ImportError assert for python	3?">exarkun at twistedmatrix.com
       </A><BR>
    <I>Mon May  5 05:43:36 MDT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="028311.html">[Twisted-Python] overly specific ImportError assert for python 3?
</A></li>
        <LI>Next message: <A HREF="028318.html">[Twisted-Python] overly specific ImportError assert for python	3?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28315">[ date ]</a>
              <a href="thread.html#28315">[ thread ]</a>
              <a href="subject.html#28315">[ subject ]</a>
              <a href="author.html#28315">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 02:17 am, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A> wrote:
&gt;<i>cyli was working on &lt;<A HREF="https://twistedmatrix.com/trac/ticket/7144">https://twistedmatrix.com/trac/ticket/7144</A>&gt; and 
</I>&gt;<i>encountered this peculiar failure on her branch (and not on trunk): 
</I>&gt;<i>&lt;<A HREF="https://buildbot.twistedmatrix.com/builders/python-3.3-tests/builds/2212/steps/shell/logs/stdio">https://buildbot.twistedmatrix.com/builders/python-3.3-tests/builds/2212/steps/shell/logs/stdio</A>&gt;.
</I>&gt;<i>
</I>&gt;<i>The interesting bit of the failure is that in one case, the 
</I>&gt;<i>ImportError's message is &quot;import of 'service_identity' halted; None in 
</I>&gt;<i>sys.modules&quot; and on trunk it's apparently 'No module named 
</I>&gt;<i>service_identity'.
</I>&gt;<i>
</I>&gt;<i>The branch in question changes conch, which isn't even tested on python 
</I>&gt;<i>3.
</I>&gt;<i>
</I>&gt;<i>So... anyone have an idea what's going on?
</I>
Here's the &quot;versions&quot; report from a build on that builder which recently 
succeeded:

<A HREF="http://buildbot.twistedmatrix.com/builders/python-3.3-tests/builds/2210/steps">http://buildbot.twistedmatrix.com/builders/python-3.3-tests/builds/2210/steps</A> 
/report-module-versions/logs/versions

And here's the &quot;versions&quot; report from a build of that branch on that 
builder:

<A HREF="http://buildbot.twistedmatrix.com/builders/python-3.3-tests/builds/2212/steps">http://buildbot.twistedmatrix.com/builders/python-3.3-tests/builds/2212/steps</A> 
/report-module-versions/logs/versions

Notice that the state of a somewhat relevant dependency is different 
between the two builds.  Backing up, look at which build slave did each 
of those builds:

<A HREF="http://buildbot.twistedmatrix.com/builders/python-3.3-tests/builds/2210">http://buildbot.twistedmatrix.com/builders/python-3.3-tests/builds/2210</A>
<A HREF="http://buildbot.twistedmatrix.com/builders/python-3.3-tests/builds/2212">http://buildbot.twistedmatrix.com/builders/python-3.3-tests/builds/2212</A>

So I suppose the test only passes by accident on trunk because it 
happened to be run on one slave with one configuration rather than the 
other slave with the other configuration...

Considering we seem to have no mechanism whatsoever for ensuring the 
configuration of two different slaves for a particular builder is the 
same, I wonder if we should reconsider using multiple slaves for 
individual builders.

Jean-Paul

</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028311.html">[Twisted-Python] overly specific ImportError assert for python 3?
</A></li>
	<LI>Next message: <A HREF="028318.html">[Twisted-Python] overly specific ImportError assert for python	3?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28315">[ date ]</a>
              <a href="thread.html#28315">[ thread ]</a>
              <a href="subject.html#28315">[ subject ]</a>
              <a href="author.html#28315">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
