<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] overly specific ImportError assert for python	3?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20overly%20specific%20ImportError%20assert%20for%20python%0A%093%3F&In-Reply-To=%3C2E13B7A5-E61E-4C1A-B0F2-996E4F21D082%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028315.html">
   <LINK REL="Next"  HREF="028322.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] overly specific ImportError assert for python	3?</H1>
    <B>Glyph</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20overly%20specific%20ImportError%20assert%20for%20python%0A%093%3F&In-Reply-To=%3C2E13B7A5-E61E-4C1A-B0F2-996E4F21D082%40twistedmatrix.com%3E"
       TITLE="[Twisted-Python] overly specific ImportError assert for python	3?">glyph at twistedmatrix.com
       </A><BR>
    <I>Mon May  5 12:46:28 MDT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="028315.html">[Twisted-Python] overly specific ImportError assert for python	3?
</A></li>
        <LI>Next message: <A HREF="028322.html">[Twisted-Python] overly specific ImportError assert for python	3?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28318">[ date ]</a>
              <a href="thread.html#28318">[ thread ]</a>
              <a href="subject.html#28318">[ subject ]</a>
              <a href="author.html#28318">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On May 5, 2014, at 4:43 AM, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at twistedmatrix.com</A> wrote:

&gt;<i> On 02:17 am, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A> wrote:
</I>&gt;&gt;<i> cyli was working on &lt;<A HREF="https://twistedmatrix.com/trac/ticket/7144">https://twistedmatrix.com/trac/ticket/7144</A>&gt; and encountered this peculiar failure on her branch (and not on trunk): &lt;<A HREF="https://buildbot.twistedmatrix.com/builders/python-3.3-tests/builds/2212/steps/shell/logs/stdio">https://buildbot.twistedmatrix.com/builders/python-3.3-tests/builds/2212/steps/shell/logs/stdio</A>&gt;.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> The interesting bit of the failure is that in one case, the ImportError's message is &quot;import of 'service_identity' halted; None in sys.modules&quot; and on trunk it's apparently 'No module named service_identity'.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> The branch in question changes conch, which isn't even tested on python 3.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> So... anyone have an idea what's going on?
</I>&gt;<i> 
</I>&gt;<i> Here's the &quot;versions&quot; report from a build on that builder which recently succeeded:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://buildbot.twistedmatrix.com/builders/python-3.3-tests/builds/2210/steps">http://buildbot.twistedmatrix.com/builders/python-3.3-tests/builds/2210/steps</A> /report-module-versions/logs/versions
</I>&gt;<i> 
</I>&gt;<i> And here's the &quot;versions&quot; report from a build of that branch on that builder:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://buildbot.twistedmatrix.com/builders/python-3.3-tests/builds/2212/steps">http://buildbot.twistedmatrix.com/builders/python-3.3-tests/builds/2212/steps</A> /report-module-versions/logs/versions
</I>&gt;<i> 
</I>&gt;<i> Notice that the state of a somewhat relevant dependency is different between the two builds.  Backing up, look at which build slave did each of those builds:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://buildbot.twistedmatrix.com/builders/python-3.3-tests/builds/2210">http://buildbot.twistedmatrix.com/builders/python-3.3-tests/builds/2210</A>
</I>&gt;<i> <A HREF="http://buildbot.twistedmatrix.com/builders/python-3.3-tests/builds/2212">http://buildbot.twistedmatrix.com/builders/python-3.3-tests/builds/2212</A>
</I>&gt;<i> 
</I>&gt;<i> So I suppose the test only passes by accident on trunk because it happened to be run on one slave with one configuration rather than the other slave with the other configuration...
</I>&gt;<i> 
</I>&gt;<i> Considering we seem to have no mechanism whatsoever for ensuring the configuration of two different slaves for a particular builder is the same, I wonder if we should reconsider using multiple slaves for individual builders.
</I>
Actually, one of the areas I was hoping that we could focus on for 14.1 would be to upgrade our packaging infrastructure and have our builders acquire dependencies automatically via 'pip install' or similar.

See for example &lt;<A HREF="https://twistedmatrix.com/trac/ticket/3696">https://twistedmatrix.com/trac/ticket/3696</A>&gt;.

It's interesting to me that I've had issues with the divergent dependencies on this exact builder twice, and both times re-building trunk multiple times has happened to always hit the &quot;good&quot; builder, making it look like the branch is somehow at fault.  What's up with that?  Just luck of the draw

-glyph


</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028315.html">[Twisted-Python] overly specific ImportError assert for python	3?
</A></li>
	<LI>Next message: <A HREF="028322.html">[Twisted-Python] overly specific ImportError assert for python	3?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28318">[ date ]</a>
              <a href="thread.html#28318">[ thread ]</a>
              <a href="subject.html#28318">[ subject ]</a>
              <a href="author.html#28318">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
