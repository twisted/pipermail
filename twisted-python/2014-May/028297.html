<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] tor hidden service endpoint parser returns a	deferred
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20tor%20hidden%20service%20endpoint%20parser%20returns%20a%0A%09deferred&In-Reply-To=%3CCAFN1edov%3Dy%3D37jhDJ4daGv_hxV_fJQ8guF1Tbd_mZ9Spb6xrZw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028295.html">
   <LINK REL="Next"  HREF="028298.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] tor hidden service endpoint parser returns a	deferred</H1>
    <B>David Stainton</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20tor%20hidden%20service%20endpoint%20parser%20returns%20a%0A%09deferred&In-Reply-To=%3CCAFN1edov%3Dy%3D37jhDJ4daGv_hxV_fJQ8guF1Tbd_mZ9Spb6xrZw%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] tor hidden service endpoint parser returns a	deferred">dstainton415 at gmail.com
       </A><BR>
    <I>Fri May  2 08:53:39 MDT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="028295.html">[Twisted-Python] tor hidden service endpoint parser returns a	deferred
</A></li>
        <LI>Next message: <A HREF="028298.html">[Twisted-Python] tor hidden service endpoint parser returns a deferred
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28297">[ date ]</a>
              <a href="thread.html#28297">[ thread ]</a>
              <a href="subject.html#28297">[ subject ]</a>
              <a href="author.html#28297">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I get what you are saying... but let's back up a second;
foolscap (in my branch
<A HREF="https://github.com/david415/foolscap/tree/endpoint_descriptors_server2">https://github.com/david415/foolscap/tree/endpoint_descriptors_server2</A>)
uses clientFromString and serverFromString to translate twisted
endpoint descriptors into endpoint objects... AND foolscap
doesn't know any details about how the endpoint wire protocols work...
and we'd like to keep it that way. That's really the point of this
exercise.

The calling party using foolscap... in this case Tahoe-LAFS also
doesn't know anything about any wire protocols.
It simply receives twisted endpoint descriptors from the user and
passes them to foolscap.

On Fri, May 2, 2014 at 2:20 PM, Tristan Seligmann
&lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">mithrandi at mithrandi.net</A>&gt; wrote:
&gt;<i> On 2 May 2014 15:59, David Stainton &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">dstainton415 at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> This will work fine for the txsocksx tor client endpoint parser I
</I>&gt;&gt;<i> wrote... However the txtorcon Tor Hidden Service endpoint setup
</I>&gt;&gt;<i> requires a deferred to fire once the tor process is started... This
</I>&gt;&gt;<i> means that the endpoint parser needs to return a deferred. But this
</I>&gt;&gt;<i> breaks the interface!... meaning that foolscap or any other api using
</I>&gt;&gt;<i> this onion endpoint parser will have to special case the situation
</I>&gt;&gt;<i> where serverFromString returns a deferred.
</I>&gt;<i>
</I>&gt;<i> I think you're approaching this from the wrong angle; instead of
</I>&gt;<i> starting the tor process during parsing of the endpoint, I think it
</I>&gt;<i> would make more sense to start the tor process when the endpoint is
</I>&gt;<i> started.
</I>&gt;<i> --
</I>&gt;<i> mithrandi, i Ainil en-Balandor, a faer Ambar
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028295.html">[Twisted-Python] tor hidden service endpoint parser returns a	deferred
</A></li>
	<LI>Next message: <A HREF="028298.html">[Twisted-Python] tor hidden service endpoint parser returns a deferred
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28297">[ date ]</a>
              <a href="thread.html#28297">[ thread ]</a>
              <a href="subject.html#28297">[ subject ]</a>
              <a href="author.html#28297">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
