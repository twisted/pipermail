<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] python's &quot;import&quot; is giving me a headache.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20python%27s%20%22import%22%20is%20giving%20me%20a%20headache.&In-Reply-To=%3C1007584253.484.0.camel%40Fookidla.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="033144.html">
   <LINK REL="Next"  HREF="033148.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] python's &quot;import&quot; is giving me a headache.</H1>
    <B>Chris Armstrong</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20python%27s%20%22import%22%20is%20giving%20me%20a%20headache.&In-Reply-To=%3C1007584253.484.0.camel%40Fookidla.org%3E"
       TITLE="[Twisted-Python] python's &quot;import&quot; is giving me a headache.">carmstro at twistedmatrix.com
       </A><BR>
    <I>Wed Dec  5 13:30:51 MST 2001</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="033144.html">[Twisted-Python] python's &quot;import&quot; is giving me a headache.
</A></li>
        <LI>Next message (by thread): <A HREF="033148.html">[Twisted-Python] python's &quot;import&quot; is giving me a headache.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33146">[ date ]</a>
              <a href="thread.html#33146">[ thread ]</a>
              <a href="subject.html#33146">[ subject ]</a>
              <a href="author.html#33146">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 2001-12-05 at 09:52, Blake Winton wrote:
&gt;<i> &gt; &gt;import twisted.words.service
</I>&gt;<i> &gt; &gt;from twisted import words
</I>&gt;<i> &gt; &gt;words.Service(...)
</I>&gt;<i> &gt; A bit more thought - this is a bad idea.
</I>&gt;<i> &gt; twisted.internet.addDelayed, but also twisted.internet.StupidProxy - 
</I>&gt;<i> &gt; what's one got to do with the other? And how are they related to 
</I>&gt;<i> &gt; twisted.internet.schedule? why do I have to start reading through all 
</I>&gt;<i> &gt; these modules to figure out where they came from?)
</I>&gt;<i> 
</I>&gt;<i> What about &quot;import twisted.words.service as WordsService&quot;?
</I>&gt;<i> 
</I>&gt;<i> Then packages can name the modules whatever they want to avoid conflicts.
</I>
Well, this is a Python 2.0 (1.6?) and above feature, only. The
equivalent in older versions of Python is
|<i> from twisted.words import service
</I>|<i> WordsService = service
</I>|<i> del service
</I>It's still 3 lines long, just like the other few proposals that have
been going around.

Itamar definitely has a point with changing naming conventions of the
module names to something like StudlyCaps. It would probably fix at
least 95% of the cases where naming conflicts happen.

Now, say that we do something like change naming conventions -- is there
_any hope_ that old .tap files will be able to upgrade to the new names
of modules? Moshe has hinted that hooks for modulenames and whatnot is
possible with pickle, but I'm doubtful. What I'm thinking so far is that
the new module names will have to do the backwards-compatibility trick
of 
|<i> import twisted.my_package.MyModule
</I>|<i> import twisted.my_package
</I>|<i> twisted.my_package.module_name = twisted.my_package.MyModule
</I>
But I'm not so sure this would work out. Obviously, code that does 'from
my_package import my_module' will not work. But, as long as we're
interested in pickle-compatibility and not code-compatibility, I don't
_think_ this is a problem. Or maybe it is..?

Another possible solution is to put an __init__.py in the package that
imports all the new ModuleNames and assigns them to module_names. This
is rather yucky, of course, because you can't selectively import modules
(well, you can, but you can't prevent all modules in a package from
being imported).

Whew. a lot to think about here. I still think it's worth whatever it
takes, though, because Twisted ain't gettin' any smaller.

-- 
&lt;radix&gt; I was drinking tea before this job
--
                              Chris Armstrong
                      &lt;&lt;&lt; <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">radix at twistedmatrix.com</A> &gt;&gt;&gt;
              <A HREF="http://twistedmatrix.com/users/carmstro.twistd/">http://twistedmatrix.com/users/carmstro.twistd/</A>




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="033144.html">[Twisted-Python] python's &quot;import&quot; is giving me a headache.
</A></li>
	<LI>Next message (by thread): <A HREF="033148.html">[Twisted-Python] python's &quot;import&quot; is giving me a headache.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33146">[ date ]</a>
              <a href="thread.html#33146">[ thread ]</a>
              <a href="subject.html#33146">[ subject ]</a>
              <a href="author.html#33146">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
