<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: Error Request did not return a string
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20Error%20Request%20did%20not%20return%20a%20string&In-Reply-To=7dfc47fe0808040809qd29ac88s74af3c0a2b01b27c%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018178.html">
   <LINK REL="Next"  HREF="018187.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: Error Request did not return a string</H1>
    <B>Maarten ter Huurne</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20Error%20Request%20did%20not%20return%20a%20string&In-Reply-To=7dfc47fe0808040809qd29ac88s74af3c0a2b01b27c%40mail.gmail.com"
       TITLE="[Twisted-Python] Re: Error Request did not return a string">maarten at treewalker.org
       </A><BR>
    <I>Mon Aug  4 16:50:24 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="018178.html">[Twisted-Python] Re: Error Request did not return a string
</A></li>
        <LI>Next message: <A HREF="018187.html">[Twisted-Python] Re: Error Request did not return a string
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18181">[ date ]</a>
              <a href="thread.html#18181">[ thread ]</a>
              <a href="subject.html#18181">[ subject ]</a>
              <a href="author.html#18181">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Monday 04 August 2008, DJ wrote:

&gt;<i> For some strange reason I this text is being added to the end of the html
</I>&gt;<i> pages rendered by twisted.
</I>&gt;<i> Request did not return a string
</I>&gt;<i>
</I>&gt;<i> Request:
</I>&gt;<i>
</I>&gt;<i> &lt;GET /config/deleteSection HTTP/1.1&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Resource:
</I>&gt;<i>
</I>&gt;<i> &lt;configPages.deleteSection instance at 0x00EC4EE0&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Value:
</I>&gt;<i>
</I>&gt;<i> None
</I>&gt;<i>
</I>&gt;<i> I am using the resource.Resource and render. My html is passed has a
</I>&gt;<i> string using request.write.
</I>&gt;<i> As far has I can tell, there should not be a problem. Does anyone know
</I>&gt;<i> why and what I need to do to fix this.
</I>
Python functions implicitly return None if there is no return statement.

Twisted.web wants the render method to either return a string, or the 
special object NOT_DONE_YET, which indicates that the reply will be written 
with request.write(). The name was probably chosen for cases where the 
content is written using deferreds, but it should be used even if you call 
request.write() from the render method.

So try putting &quot;return server.NOT_DONE_YET&quot; at the end of your render 
method.

Bye,
		Maarten
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 194 bytes
Desc: This is a digitally signed message part.
Url : <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20080804/e48a0bb0/attachment.pgp">http://twistedmatrix.com/pipermail/twisted-python/attachments/20080804/e48a0bb0/attachment.pgp</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018178.html">[Twisted-Python] Re: Error Request did not return a string
</A></li>
	<LI>Next message: <A HREF="018187.html">[Twisted-Python] Re: Error Request did not return a string
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18181">[ date ]</a>
              <a href="thread.html#18181">[ thread ]</a>
              <a href="subject.html#18181">[ subject ]</a>
              <a href="author.html#18181">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
