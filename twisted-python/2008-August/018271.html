<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: twisted.web session expiry
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20twisted.web%20session%20expiry&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018268.html">
   <LINK REL="Next"  HREF="018269.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: twisted.web session expiry</H1>
    <B>David Bolen</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20twisted.web%20session%20expiry&In-Reply-To="
       TITLE="[Twisted-Python] Re: twisted.web session expiry">db3l.net at gmail.com
       </A><BR>
    <I>Fri Aug 22 16:08:50 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="018268.html">[Twisted-Python] twisted.web session expiry
</A></li>
        <LI>Next message: <A HREF="018269.html">[Twisted-Python] twisted.words.msn broken ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18271">[ date ]</a>
              <a href="thread.html#18271">[ thread ]</a>
              <a href="subject.html#18271">[ subject ]</a>
              <a href="author.html#18271">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Daniel Browne &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">grimsqueaker13 at gmail.com</A>&gt; writes:

&gt;<i> How can I do something (eg. redirect) once a users session has
</I>&gt;<i> expired? At the point when the session expires your request is
</I>&gt;<i> finished and your session is expired. I have added the notification
</I>&gt;<i> callback but I can't really do anything inside it without a session to
</I>&gt;<i> store information in or a request to redirect with, so I just print a
</I>&gt;<i> message to the console.
</I>
If you're trying to cause something to happen on the user's browser
when their session expires, as others have pointed out default HTTP is
stateless, so without something (like a bit of Javascript) running in
the user's browser staying in contact with your server behind the
scenes you won't be able to trigger any behavior on their end.

A user is likely to be already familiar with how most sites that have
active sessions won't tell them that their session is expired until
they initiate a subsequent request to the server (refresh a page, try
to click on a link, etc...).  Barring unique requirements for your
application, simply behaving that way - check the session for possible
expiration upon any subsequent request from that user and issue the
redirect then if expired - should be a fairly common behavior.


If you want to have something on the server end occur when the session
expires (say to update some internal state, or adjust or clear the
session information), then you can just establish a standard Twisted
callLater callback (which could itself be stored in the session and
reset when requests did come in), or if you may have lots of sessions,
have a separate server side object with a single periodic timer take
care of expiring sessions.  Or any other server side event that occurs
could be used to initiate session expiration processing.

-- David



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018268.html">[Twisted-Python] twisted.web session expiry
</A></li>
	<LI>Next message: <A HREF="018269.html">[Twisted-Python] twisted.words.msn broken ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18271">[ date ]</a>
              <a href="thread.html#18271">[ thread ]</a>
              <a href="subject.html#18271">[ subject ]</a>
              <a href="author.html#18271">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
