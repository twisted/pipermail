<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Monitoring configuration of twisted calls.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Monitoring%20configuration%20of%20twisted%20calls.&In-Reply-To=%3C575469.72443.qm%40web33703.mail.mud.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="050800.html">
   <LINK REL="Next"  HREF="050803.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Monitoring configuration of twisted calls.</H1>
    <B>Steve Lewis</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Monitoring%20configuration%20of%20twisted%20calls.&In-Reply-To=%3C575469.72443.qm%40web33703.mail.mud.yahoo.com%3E"
       TITLE="[Twisted-Python] Monitoring configuration of twisted calls.">spiritualmechanic at yahoo.com
       </A><BR>
    <I>Thu Aug 28 07:25:40 MDT 2008</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="050800.html">[Twisted-Python] Could not accept new connection
</A></li>
        <LI>Next message (by thread): <A HREF="050803.html">[Twisted-Python] Monitoring configuration of twisted calls.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50802">[ date ]</a>
              <a href="thread.html#50802">[ thread ]</a>
              <a href="subject.html#50802">[ subject ]</a>
              <a href="author.html#50802">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm fairly new to twisted, although we are using it in production. What I'd like to do, is have a simple redlight/greenlight method (over XML-RPC) to tell me which methods have been called successfully at least once. The goal of this is not so much performance or uptime, but to just tell me that we are configured correctly.

We're using twisted as a sort of service bus, so we have a decent amount of configuration that needs to be set up.

What I've considered so far:

1. Modifying each xmlrpc method individually and setting a boolean to True in a dictionary:

       if results:
            self._monitor['xmlrpc.method.name'] = True

This is okay, but I'd like something that is more generic so I don't have to write this code in every single XMLRPC method.

2. Extending/subclassing XMLRPC: 

    def _getFunction(self, functionPath):
        '''
        Overrides XMLRPC._getFunction to use our simple mapper.
        '''
        
        ## attempt default behavior for local methods
        try:
            func = XMLRPC._getFunction(self, functionPath)
            return func
        except NoSuchFunction:
            pass

This would work in my head, but in actuality, the call doesn't actually happen here, it just returns the function.

3. Extending/subclassing QueryProtocol:

    def handleStatus(self, version, status, message):
        if status != '200':
            self.factory.badStatus(status, message)

I could override QueryProtocol and in the handleStatus method set a field in a dictionary.

There are probably many ways to do this wrong, and I'm a Java guy just getting used to the twisted way of doing things. I apologize if my attempts are painful and/or hilarious.

Thanks,
Steve L.



      


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="050800.html">[Twisted-Python] Could not accept new connection
</A></li>
	<LI>Next message (by thread): <A HREF="050803.html">[Twisted-Python] Monitoring configuration of twisted calls.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50802">[ date ]</a>
              <a href="thread.html#50802">[ thread ]</a>
              <a href="subject.html#50802">[ subject ]</a>
              <a href="author.html#50802">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
