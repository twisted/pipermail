<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] the sequence of executing defers' callbacks
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20the%20sequence%20of%20executing%20defers%27%20callbacks&In-Reply-To=%3C20080523022636.GD30749%40steerpike.home.puzzling.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="050271.html">
   <LINK REL="Next"  HREF="050273.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] the sequence of executing defers' callbacks</H1>
    <B>Andrew Bennetts</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20the%20sequence%20of%20executing%20defers%27%20callbacks&In-Reply-To=%3C20080523022636.GD30749%40steerpike.home.puzzling.org%3E"
       TITLE="[Twisted-Python] the sequence of executing defers' callbacks">andrew-twisted at puzzling.org
       </A><BR>
    <I>Thu May 22 20:26:36 MDT 2008</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="050271.html">[Twisted-Python] the sequence of executing defers' callbacks
</A></li>
        <LI>Next message (by thread): <A HREF="050273.html">[Twisted-Python] the sequence of executing defers' callbacks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50272">[ date ]</a>
              <a href="thread.html#50272">[ thread ]</a>
              <a href="subject.html#50272">[ subject ]</a>
              <a href="author.html#50272">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Xian Chen wrote:
&gt;<i> Hi All,
</I>&gt;<i> 
</I>&gt;<i> This is a fundamental question about Twisted.
</I>&gt;<i> 
</I>&gt;<i> In the normal case, all the callbacks belonging to one defer object will be
</I>&gt;<i> triggered following the chain sequence. ( Let's assume no errback will be
</I>&gt;<i> fired.)
</I>&gt;<i> 
</I>&gt;<i> such as callback1---&gt;callbac2---&gt;callbackN.
</I>&gt;<i> 
</I>&gt;<i> However, if I want to trigger callback1 when MSG1 is ready, callback2 when MSG2
</I>&gt;<i> is ready, and so on, how can I do that?
</I>&gt;<i> 
</I>&gt;<i> Of course, the MSGs are coming at random sequence.
</I>
It sounds like you don't want a callback chain at all.  Do you really want
all callbacks from 3 to N run when MSG3 arrives?  That sounds strange.

I'm guessing you want a simple dispatch function as the callback on the
Deferred.  i.e., something roughly like this:

    def dispatchMessage(msg):
        handler = messageHandlersDict[msg.id]
        return handler.run(msg)

    d.addCallback(dispatchMessage)

How messageHandlersDict is populated depends on exactly what you're doing...

It's not clear from your email whether “MSG1”, “MSG2” etc refer to different
message types, or messages tagged with a session/request identifier, or
something else.  So if my advice doesn't make sense to you, maybe reply with a
bit more detail about what you're doing, and what you want to happen?

-Andrew.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="050271.html">[Twisted-Python] the sequence of executing defers' callbacks
</A></li>
	<LI>Next message (by thread): <A HREF="050273.html">[Twisted-Python] the sequence of executing defers' callbacks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50272">[ date ]</a>
              <a href="thread.html#50272">[ thread ]</a>
              <a href="subject.html#50272">[ subject ]</a>
              <a href="author.html#50272">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
