<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] I'm stuck
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20I%27m%20stuck&In-Reply-To=%3C20080506141732.6859.2091394576.divmod.quotient.59543%40ohm%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="050155.html">
   <LINK REL="Next"  HREF="050158.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] I'm stuck</H1>
    <B>Jean-Paul Calderone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20I%27m%20stuck&In-Reply-To=%3C20080506141732.6859.2091394576.divmod.quotient.59543%40ohm%3E"
       TITLE="[Twisted-Python] I'm stuck">exarkun at divmod.com
       </A><BR>
    <I>Tue May  6 08:17:32 MDT 2008</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="050155.html">[Twisted-Python] I'm stuck
</A></li>
        <LI>Next message (by thread): <A HREF="050158.html">[Twisted-Python] I'm stuck
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50156">[ date ]</a>
              <a href="thread.html#50156">[ thread ]</a>
              <a href="subject.html#50156">[ subject ]</a>
              <a href="author.html#50156">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, 06 May 2008 09:56:22 -0400, Curt &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">curtferguson at cfl.rr.com</A>&gt; wrote:
&gt;<i>Ok, first, I'm a true newbie, I've been playing with twisted, and python
</I>&gt;<i>for that matter, for about 3 days.  I've been trying to get this script
</I>&gt;<i>to work, and I *know* I've got to be doing something simple wrong.  All
</I>&gt;<i>it is, is a slap-together of various examples available in the twisted
</I>&gt;<i>documentation to see if I can learn how this works.  Here's the script
</I>&gt;<i>
</I>&gt;<i>All it is supposed to do at this point is accept a normal telnet
</I>&gt;<i>connection on one port and authenticate it, and an ssh on another, and
</I>&gt;<i>authenticate, I'm attempting to write an interpreter to connect both
</I>&gt;<i>inputs to, but right now I'm stuck getting the connections to hold.
</I>&gt;<i>
</I>&gt;<i>Any assistance would be most welcome.
</I>&gt;<i>
</I>&gt;<i> [snip]
</I>&gt;<i>
</I>&gt;<i>class parseInput(recvline.HistoricRecvLine):
</I>&gt;<i>
</I>&gt;<i>    def connectionMade(self):
</I>&gt;<i>        print(&quot;Got Connection to parseInput&quot;)
</I>&gt;<i>        recvline.HistoricRecvLine.connectionMade(self)
</I>&gt;<i>        print(&quot;Came back from the undercall&quot;)
</I>&gt;<i>        self.interpreter=commandInterpreter
</I>&gt;<i>
</I>&gt;<i>    def handle_QUIT(self):
</I>&gt;<i>        self.terminal.loseConnection()
</I>&gt;<i>
</I>&gt;<i>    def lineReceived(self, line):
</I>&gt;<i>        print(&quot;Input, &quot; + line)
</I>&gt;<i>        self.terminal.write(&quot;I got, &quot; + line)
</I>&gt;<i>
</I>&gt;<i> [snip]
</I>&gt;<i>
</I>&gt;<i>    if options['telnetPort']:
</I>&gt;<i>        telnetRealm = _BaseTelnetRealm(telnet.TelnetBootstrapProtocol,
</I>&gt;<i>                                   insults.ServerProtocol,
</I>&gt;<i>                                   parseInput,
</I>&gt;<i>                                   namespace)
</I>&gt;<i>
</I>&gt;<i> [snip]
</I>
The first problem I notice is that where you're creating the realm,
you're indicating that `parseInput´ should be instantiated with one
positional argument, `namespace´.  However, `parseInput´ takes zero
arguments (beyond self) to its initializer.  This means a TypeError
will be raised when `insults.ServerProtocol´ tries to instantiate
`parseInput´.

You might find the --debug option to `twistd´ helpful in the short
term.  It will drop you into pdb when an unhandled exception happens
so that you can see where the problem occurs, what it is, and look
at the state of the process.

Longer term, unit tests are a great way to isolate failures and get
immediate feedback on whether or not a piece of code or a change to
some code works or not.

Good luck,

Jean-Paul


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="050155.html">[Twisted-Python] I'm stuck
</A></li>
	<LI>Next message (by thread): <A HREF="050158.html">[Twisted-Python] I'm stuck
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50156">[ date ]</a>
              <a href="thread.html#50156">[ thread ]</a>
              <a href="subject.html#50156">[ subject ]</a>
              <a href="author.html#50156">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
