<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] win32 process problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20win32%20process%20problem&In-Reply-To=%3CCHEJLPEDBFMBIJDIFHFLAEMPCIAA.Drew.Whitehouse%40anu.edu.au%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="033445.html">
   <LINK REL="Next"  HREF="033447.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] win32 process problem</H1>
    <B>Drew Whitehouse</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20win32%20process%20problem&In-Reply-To=%3CCHEJLPEDBFMBIJDIFHFLAEMPCIAA.Drew.Whitehouse%40anu.edu.au%3E"
       TITLE="[Twisted-Python] win32 process problem">Drew.Whitehouse at anu.edu.au
       </A><BR>
    <I>Tue Mar 19 21:14:09 MST 2002</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="033445.html">[Twisted-Python] New scripts
</A></li>
        <LI>Next message (by thread): <A HREF="033447.html">[Twisted-Python] win32 process problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33446">[ date ]</a>
              <a href="thread.html#33446">[ thread ]</a>
              <a href="subject.html#33446">[ subject ]</a>
              <a href="author.html#33446">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Itamar,

I'm just getting into twisted, after our IRC chat the other day. Looks
like it does everything I need (plus a lot more !). I'm having some
trouble with Process and win32, i.e. I'm already using bleeding edge
CVS versions ... I'm trying to run a http server which services XMLRPC
calls. The XMLRPC calls then have to launch a process that the server
needs to keep track of, getting notified when the process exits.
Anyhow it seems the new win32 process stuff is giving trouble. It only
allows one XMLRPC call before the server hangs. I'm testing with the
following code.

I realize that this code is brand new, but thought I'd send it along
in case you hadn't seen the problem already.

-Drew

-----------server.py------------------

import sys,os
if sys.platform == 'win32':
    from twisted.internet import win32
    print 'Installing WIN32 version of process handling etc ...'
    win32.install()

from twisted.web import xmlrpc
from twisted.python import defer
import xmlrpclib

class Echoer(xmlrpc.XMLRPC):
    def _getFunction(self, functionPath):
        &quot;&quot;&quot;Convert the functionPath to a method beginning with
'xmlrpc_'.

        For example, 'echo' returns the method 'xmlrpc_echo'.
        &quot;&quot;&quot;
        f = getattr(self, &quot;xmlrpc_%s&quot; % functionPath, None)
        if f:
            return f
        else:
            raise xmlrpc.NoSuchFunction
    def xmlrpc_hello(self):
        &quot;&quot;&quot;Return 'hello, world'.&quot;&quot;&quot;
        return 'hello, world!'

def main():
    from twisted.internet.app import Application
    from twisted.web import server
    app = Application(&quot;xmlrpc&quot;)
    r = Echoer()
    app.listenTCP(7080, server.Site(r))
    app.run(0)

if __name__ == '__main__':
    main()

and

-------client.py------------------------
import xmlrpclib
proxy = xmlrpclib.Server(&quot;<A HREF="http://localhost:7080/">http://localhost:7080/</A>&quot;)
r = proxy.hello()
print r



-Drew

;; <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Drew.Whitehouse at anu.edu.au</A>      Sci-Viz/VR Programmer
;; <A HREF="http://anusf.anu.edu.au/~drw900">http://anusf.anu.edu.au/~drw900</A>          ANUSF VIZLAB
;; Australian National University Supercomputer Facility



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="033445.html">[Twisted-Python] New scripts
</A></li>
	<LI>Next message (by thread): <A HREF="033447.html">[Twisted-Python] win32 process problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33446">[ date ]</a>
              <a href="thread.html#33446">[ thread ]</a>
              <a href="subject.html#33446">[ subject ]</a>
              <a href="author.html#33446">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
