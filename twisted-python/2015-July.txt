From northlomax at gmail.com  Wed Jul  1 03:33:58 2015
From: northlomax at gmail.com (=?UTF-8?B?SsO4cm4gTG9tYXg=?=)
Date: Wed, 01 Jul 2015 11:33:58 +0200
Subject: [Twisted-Python] Porting twisted.spread.banana to py3
Message-ID: <5593B406.9060001@gmail.com>

I'm a gsoc student working on the buildbot project, porting it to py3. 
Part of this is looking at porting the dependencies buildbot has in 
twisted and try to port them.

twisted.spread is the most used twisted dependency, so I have started 
working on this. I started working on banana.py and I have encountered a 
question. In dataRecieved (banana.py:174). A chunk is added to the 
buffer. On python3, how should the distinction be made between string 
and bytes. Buffer seems to be a string, the chunk seems to be bytes, and 
sometimes opposite.

Any help would be appreciated

regards,
J?rn Lomax


From wolfgang.kde at rohdewald.de  Wed Jul  1 04:29:54 2015
From: wolfgang.kde at rohdewald.de (Wolfgang Rohdewald)
Date: Wed, 01 Jul 2015 12:29:54 +0200
Subject: [Twisted-Python] Porting twisted.spread.banana to py3
In-Reply-To: <5593B406.9060001@gmail.com>
References: <5593B406.9060001@gmail.com>
Message-ID: <5421542.54FYlSD4l6@i5>

Am Mittwoch, 1. Juli 2015, 11:33:58 schrieb J?rn Lomax:
> I'm a gsoc student working on the buildbot project, porting it to py3. 
> Part of this is looking at porting the dependencies buildbot has in 
> twisted and try to port them.
> 
> twisted.spread is the most used twisted dependency, so I have started 
> working on this.

I would much appreciate seeing spread ported.

Last year I actually already did (all tests passed) but then I did not find
the time to make separate tickets to be reviewed.

Actually porting spread is easier than getting the source into something
acceptable by the core developers.

But I published what I got, see my mail on this list from Nov 3 2014:

>> there now is https://github.com/wrohdewald/twisted.git
>>
>> branch spread-py3-7598

If I would continue with this now, I would probably first rebase that branch
onto master (not sure if the twisted project still uses svn or if the 
migration to git has already been done).

You could also look for tickets opened by myself (wolfgang61), most 
of them should be about porting spread.

> I started working on banana.py and I have encountered a 
> question. In dataRecieved (banana.py:174). A chunk is added to the 
> buffer. On python3, how should the distinction be made between string 
> and bytes. Buffer seems to be a string, the chunk seems to be bytes, and 
> sometimes opposite.

I believe that chunk is a banana-encoded string, so there should be no
need to treat it as bytes.


-- 
Wolfgang


From itamar at itamarst.org  Wed Jul  1 10:40:32 2015
From: itamar at itamarst.org (Itamar Turner-Trauring)
Date: Wed, 01 Jul 2015 12:40:32 -0400
Subject: [Twisted-Python] Porting twisted.spread.banana to py3
In-Reply-To: <5593B406.9060001@gmail.com>
References: <5593B406.9060001@gmail.com>
Message-ID: <3d3a7968e433c52f5205373a8ce2ce28@itamarst.org>

 

On 2015-07-01 05:33, J?rn Lomax wrote: 

> I'm a gsoc student working on the buildbot project, porting it to py3. Part of this is looking at porting the dependencies buildbot has in twisted and try to port them.
> 
> twisted.spread is the most used twisted dependency, so I have started working on this. I started working on banana.py and I have encountered a question. In dataRecieved (banana.py:174). A chunk is added to the buffer. On python3, how should the distinction be made between string and bytes. Buffer seems to be a string, the chunk seems to be bytes, and sometimes opposite.

Banana calls bytes "string". So if you're using banana there is only
bytes support. Python 3 vs 2 doesn't matter, it's always going to be
bytes. 
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20150701/819b9fbe/attachment.html>

From northlomax at gmail.com  Wed Jul  1 10:46:01 2015
From: northlomax at gmail.com (=?UTF-8?B?SsO4cm4gTG9tYXg=?=)
Date: Wed, 01 Jul 2015 18:46:01 +0200
Subject: [Twisted-Python] Porting twisted.spread.banana to py3
In-Reply-To: <3d3a7968e433c52f5205373a8ce2ce28@itamarst.org>
References: <5593B406.9060001@gmail.com>
 <3d3a7968e433c52f5205373a8ce2ce28@itamarst.org>
Message-ID: <55941949.3040708@gmail.com>

Thank you very much. That is the exact answer I wanted :)

I'm guessing maybe the tests need updating, because they seem to send 
use unicode data, which of course didn't make any difference in py2, but 
now it does.

On 01.07.2015 18:40, Itamar Turner-Trauring wrote:
>
> On 2015-07-01 05:33, J?rn Lomax wrote:
>
>> I'm a gsoc student working on the buildbot project, porting it to 
>> py3. Part of this is looking at porting the dependencies buildbot has 
>> in twisted and try to port them.
>>
>> twisted.spread is the most used twisted dependency, so I have started 
>> working on this. I started working on banana.py and I have 
>> encountered a question. In dataRecieved (banana.py:174). A chunk is 
>> added to the buffer. On python3, how should the distinction be made 
>> between string and bytes. Buffer seems to be a string, the chunk 
>> seems to be bytes, and sometimes opposite.
> Banana calls bytes "string". So if you're using banana there is only 
> bytes support. Python 3 vs 2 doesn't matter, it's always going to be 
> bytes.
>
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20150701/8d7a3157/attachment.html>

From jerryguitarist at gmail.com  Wed Jul  1 12:13:07 2015
From: jerryguitarist at gmail.com (Eeshan Garg)
Date: Wed, 1 Jul 2015 23:43:07 +0530
Subject: [Twisted-Python] Need feedback regarding ticket 7934
Message-ID: <CA+2gYiquYq5-EQog=8ck6Nf2vQGyXCxv8HCWBHs=gY-g8jJrig@mail.gmail.com>

Hi everyone!

I would really appreciate it if someone could please take a look at <
https://twistedmatrix.com/trac/ticket/7934> and give me some feedback as to
how to move further with this. After the work on this ticket is finished, I
would like to move on to working on porting to the new logging system. :-)

Thanks!
Eeshan Garg
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20150701/aa89af62/attachment.html>

From glyph at twistedmatrix.com  Wed Jul  1 15:33:15 2015
From: glyph at twistedmatrix.com (Glyph)
Date: Wed, 1 Jul 2015 14:33:15 -0700
Subject: [Twisted-Python] Porting twisted.spread.banana to py3
In-Reply-To: <55941949.3040708@gmail.com>
References: <5593B406.9060001@gmail.com>
 <3d3a7968e433c52f5205373a8ce2ce28@itamarst.org> <55941949.3040708@gmail.com>
Message-ID: <71BF7C30-E3E1-46A7-A55F-4BC6F09A42AB@twistedmatrix.com>


> On Jul 1, 2015, at 9:46 AM, J?rn Lomax <northlomax at gmail.com> wrote:
> 
> Thank you very much. That is the exact answer I wanted :)
> 
> I'm guessing maybe the tests need updating, because they seem to send use unicode data, which of course didn't make any difference in py2, but now it does.

We may actually need to change the wire protocol to allow some applications to continue to work on py3, to allow for a 'text' type that corresponds to Python unicode.  This should probably be done after the initial port though.

-glyph

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20150701/e9a4fd6a/attachment.html>

From itamar at itamarst.org  Thu Jul  2 07:13:02 2015
From: itamar at itamarst.org (Itamar Turner-Trauring)
Date: Thu, 02 Jul 2015 09:13:02 -0400
Subject: [Twisted-Python] Porting twisted.spread.banana to py3
In-Reply-To: <71BF7C30-E3E1-46A7-A55F-4BC6F09A42AB@twistedmatrix.com>
References: <5593B406.9060001@gmail.com>
 <3d3a7968e433c52f5205373a8ce2ce28@itamarst.org> <55941949.3040708@gmail.com>
 <71BF7C30-E3E1-46A7-A55F-4BC6F09A42AB@twistedmatrix.com>
Message-ID: <f113b8c454a359a93456801a6110e21e@itamarst.org>

 

On 2015-07-01 17:33, Glyph wrote: 

> We may actually need to change the wire protocol to allow some applications to continue to work on py3, to allow for a 'text' type that corresponds to Python unicode. This should probably be done after the initial port though.

Really? That seems like Jelly's job, not Banana's. 
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20150702/608b3407/attachment.html>

From glyph at twistedmatrix.com  Thu Jul  2 12:12:11 2015
From: glyph at twistedmatrix.com (Glyph)
Date: Thu, 2 Jul 2015 11:12:11 -0700
Subject: [Twisted-Python] Porting twisted.spread.banana to py3
In-Reply-To: <f113b8c454a359a93456801a6110e21e@itamarst.org>
References: <5593B406.9060001@gmail.com>
 <3d3a7968e433c52f5205373a8ce2ce28@itamarst.org> <55941949.3040708@gmail.com>
 <71BF7C30-E3E1-46A7-A55F-4BC6F09A42AB@twistedmatrix.com>
 <f113b8c454a359a93456801a6110e21e@itamarst.org>
Message-ID: <79C5EFDB-427B-4740-891B-C0ECFD489EC5@twistedmatrix.com>


> On Jul 2, 2015, at 6:13 AM, Itamar Turner-Trauring <itamar at itamarst.org> wrote:
> 
>  
> On 2015-07-01 17:33, Glyph wrote:
> 
>> 
>> We may actually need to change the wire protocol to allow some applications to continue to work on py3, to allow for a 'text' type that corresponds to Python unicode.  This should probably be done after the initial port though.
> Really? That seems like Jelly's job, not Banana's.
> 
Yes, you're right.

-glyph

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20150702/6c74b021/attachment.html>

From glyph at twistedmatrix.com  Thu Jul  2 13:21:23 2015
From: glyph at twistedmatrix.com (Glyph Lefkowitz)
Date: Thu, 2 Jul 2015 12:21:23 -0700
Subject: [Twisted-Python] Porting twisted.spread.banana to py3
In-Reply-To: <79C5EFDB-427B-4740-891B-C0ECFD489EC5@twistedmatrix.com>
References: <5593B406.9060001@gmail.com>
 <3d3a7968e433c52f5205373a8ce2ce28@itamarst.org> <55941949.3040708@gmail.com>
 <71BF7C30-E3E1-46A7-A55F-4BC6F09A42AB@twistedmatrix.com>
 <f113b8c454a359a93456801a6110e21e@itamarst.org>
 <79C5EFDB-427B-4740-891B-C0ECFD489EC5@twistedmatrix.com>
Message-ID: <727F97ED-7F8C-4361-B7EF-2439EEDC7885@twistedmatrix.com>


> On Jul 2, 2015, at 11:12 AM, Glyph <glyph at twistedmatrix.com> wrote:
> 
> 
>> On Jul 2, 2015, at 6:13 AM, Itamar Turner-Trauring <itamar at itamarst.org <mailto:itamar at itamarst.org>> wrote:
>> 
>>  
>> On 2015-07-01 17:33, Glyph wrote:
>> 
>>> 
>>> We may actually need to change the wire protocol to allow some applications to continue to work on py3, to allow for a 'text' type that corresponds to Python unicode.  This should probably be done after the initial port though.
>> Really? That seems like Jelly's job, not Banana's.
>> 
> Yes, you're right.

Furthermore (I thought I remembered this!) Jelly already has support for unicode, so nothing will need to change :).

-glyph

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20150702/4f9166d8/attachment.html>

From jasonjwwilliams at gmail.com  Thu Jul  2 13:39:00 2015
From: jasonjwwilliams at gmail.com (Jason J. W. Williams)
Date: Thu, 2 Jul 2015 12:39:00 -0700
Subject: [Twisted-Python] Silverberg CQL Driver
In-Reply-To: <CA+hid6G_yb=3iAMa4zY638w34X1tWKbk4Ym2P0nSQi1LYBAUdg@mail.gmail.com>
References: <CAHZAEpcC_O6D3iEGhK1G462msSgG9m7CXVqmcSeqxEvsNyUfSg@mail.gmail.com>
 <CA+hid6FbkebfpuOXzcUQ+zZWwtUR=nVJr+Z80OFzmi80Ho5QVQ@mail.gmail.com>
 <CAHZAEpdQYEUz6fRoOVK6Qj_W=yzH7hAn27BdU77+PgES6c8ZfQ@mail.gmail.com>
 <CA+hid6G_yb=3iAMa4zY638w34X1tWKbk4Ym2P0nSQi1LYBAUdg@mail.gmail.com>
Message-ID: <CAHZAEpcGB_KX3X7DWoN=vp1q+8RaN=BBVMBxBdRMwf+OXikf-A@mail.gmail.com>

Sorry for rewaking this thread. Finally getting around to playing with
silverberg, but having a lot of trouble getting it to talk to
Cassandra 2.1.6 (throws "unknown opcode 44" or "unknown opcode 81"
depending on whether I'm trying to use authentication or not).

Was curious if y'all ran without authentication and if you thought
this might be a 2.1.x compatibility issue?

Thank you in advance for any advice.

-J

On Thu, Jan 1, 2015 at 7:51 AM, James Broadhead
<jamesbroadhead at gmail.com> wrote:
> On 29 December 2014 at 19:11, Jason J. W. Williams
> <jasonjwwilliams at gmail.com> wrote:
>>
>> Hi James,
>>
>> Have you guys tried Silverberg? Wondering if its less flakly.
>>
>> -J
>
>
> We haven't -- when I said that, I meant "on some occasions, after 3 years of
> continuous use". It's a sporadic failure mode, and hasn't happened enough
> times for us to investigate deeply. That said, we're in our own DC, so the
> environment is pretty stable. If you're in AWS or similar, you might want to
> run some testing around failure cases (let us know what you find!)
> All that said, we've been very happy with it.
>
> The likelihood is that we'll be working on migrating to Manhattan[1] rather
> than trying out a new Cassandra library.
> Not quite sure which way we'll go, but one option may be to write a
> telephus-like wrapper around the thrift bindings.
>
>
> [1]
> https://blog.twitter.com/2014/manhattan-our-real-time-multi-tenant-distributed-database-for-twitter-scale
>
>
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>


From manish.tomar at gmail.com  Thu Jul  2 16:34:35 2015
From: manish.tomar at gmail.com (Manish Tomar)
Date: Thu, 2 Jul 2015 15:34:35 -0700
Subject: [Twisted-Python] Silverberg CQL Driver
In-Reply-To: <CAHZAEpcGB_KX3X7DWoN=vp1q+8RaN=BBVMBxBdRMwf+OXikf-A@mail.gmail.com>
References: <CAHZAEpcC_O6D3iEGhK1G462msSgG9m7CXVqmcSeqxEvsNyUfSg@mail.gmail.com>
 <CA+hid6FbkebfpuOXzcUQ+zZWwtUR=nVJr+Z80OFzmi80Ho5QVQ@mail.gmail.com>
 <CAHZAEpdQYEUz6fRoOVK6Qj_W=yzH7hAn27BdU77+PgES6c8ZfQ@mail.gmail.com>
 <CA+hid6G_yb=3iAMa4zY638w34X1tWKbk4Ym2P0nSQi1LYBAUdg@mail.gmail.com>
 <CAHZAEpcGB_KX3X7DWoN=vp1q+8RaN=BBVMBxBdRMwf+OXikf-A@mail.gmail.com>
Message-ID: <CABH8oEPmQvHka8JyiKgmD9+D+soJ2L76=Lq3PPR+++HcWCGtVw@mail.gmail.com>

Hi Jason,

On Thu, Jul 2, 2015 at 12:39 PM, Jason J. W. Williams
<jasonjwwilliams at gmail.com> wrote:
> Sorry for rewaking this thread. Finally getting around to playing with
> silverberg, but having a lot of trouble getting it to talk to
> Cassandra 2.1.6 (throws "unknown opcode 44" or "unknown opcode 81"
> depending on whether I'm trying to use authentication or not).
>
> Was curious if y'all ran without authentication and if you thought
> this might be a 2.1.x compatibility issue?
We [1] have been using silverber with cassandra 1.2.9 for quite
sometime now and have not tried with 2+. We currently don't use auth
but I vaguely remember testing it against 1.2.9 and it worked. It
might be a cassandra 2+ compatibility issue.

Regards,
Manish

[1] https://github.com/rackerlabs/otter


From northlomax at gmail.com  Fri Jul  3 15:00:45 2015
From: northlomax at gmail.com (=?UTF-8?B?SsO4cm4gTG9tYXg=?=)
Date: Fri, 03 Jul 2015 23:00:45 +0200
Subject: [Twisted-Python] Porting twisted.spread.banana to py3
In-Reply-To: <727F97ED-7F8C-4361-B7EF-2439EEDC7885@twistedmatrix.com>
References: <5593B406.9060001@gmail.com>
 <3d3a7968e433c52f5205373a8ce2ce28@itamarst.org> <55941949.3040708@gmail.com>
 <71BF7C30-E3E1-46A7-A55F-4BC6F09A42AB@twistedmatrix.com>
 <f113b8c454a359a93456801a6110e21e@itamarst.org>
 <79C5EFDB-427B-4740-891B-C0ECFD489EC5@twistedmatrix.com>
 <727F97ED-7F8C-4361-B7EF-2439EEDC7885@twistedmatrix.com>
Message-ID: <5596F7FD.4000904@gmail.com>

I have found another issue I'm wondering a little how to handle. There 
are places in the bana_test file that sys.maxint is used. This no longer 
exists in python3, so how should it be handled. Should we make an 
artificial maxint to use for python3. I might want to note that it is 
not used for comparison, but to create an integer over a given size:

foo = [1, 2, [3, 4], [30.5, 40.2], 5,
                [b"six", b"seven", [b"eight", 9]], [10],
                # TODO: currently the C implementation's a bit buggy...
                sys.maxint * long(3), sys.maxint * long(2), sys.maxint * 
long(-2)]

regards,
J?rn lomax

On 02.07.2015 21:21, Glyph Lefkowitz wrote:
>
>> On Jul 2, 2015, at 11:12 AM, Glyph <glyph at twistedmatrix.com 
>> <mailto:glyph at twistedmatrix.com>> wrote:
>>
>>
>>> On Jul 2, 2015, at 6:13 AM, Itamar Turner-Trauring 
>>> <itamar at itamarst.org <mailto:itamar at itamarst.org>> wrote:
>>>
>>>
>>> On 2015-07-01 17:33, Glyph wrote:
>>>
>>>>
>>>> We may actually need to change the wire protocol to allow some 
>>>> applications to continue to work on py3, to allow for a 'text' type 
>>>> that corresponds to Python unicode.  This should probably be done 
>>>> after the initial port though.
>>>
>>> Really? That seems like Jelly's job, not Banana's.
>>>
>> Yes, you're right.
>
> Furthermore (I thought I remembered this!) Jelly already has support 
> for unicode, so nothing will need to change :).
>
> -glyph
>
>
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20150703/f260c246/attachment.html>

From glyph at twistedmatrix.com  Fri Jul  3 18:25:51 2015
From: glyph at twistedmatrix.com (Glyph)
Date: Fri, 3 Jul 2015 17:25:51 -0700
Subject: [Twisted-Python] Porting twisted.spread.banana to py3
In-Reply-To: <5596F7FD.4000904@gmail.com>
References: <5593B406.9060001@gmail.com>
 <3d3a7968e433c52f5205373a8ce2ce28@itamarst.org> <55941949.3040708@gmail.com>
 <71BF7C30-E3E1-46A7-A55F-4BC6F09A42AB@twistedmatrix.com>
 <f113b8c454a359a93456801a6110e21e@itamarst.org>
 <79C5EFDB-427B-4740-891B-C0ECFD489EC5@twistedmatrix.com>
 <727F97ED-7F8C-4361-B7EF-2439EEDC7885@twistedmatrix.com>
 <5596F7FD.4000904@gmail.com>
Message-ID: <BD2A6CF7-1782-4270-93A9-92B17727B02A@twistedmatrix.com>


> On Jul 3, 2015, at 2:00 PM, J?rn Lomax <northlomax at gmail.com> wrote:
> 
> I have found another issue I'm wondering a little how to handle. There are places in the bana_test file that sys.maxint is used. This no longer exists in python3, so how should it be handled. Should we make an artificial maxint to use for python3. I might want to note that it is not used for comparison, but to create an integer over a given size:
> 
> foo = [1, 2, [3, 4], [30.5, 40.2], 5,
>                [b"six", b"seven", [b"eight", 9]], [10],
>                # TODO: currently the C implementation's a bit buggy...
>                sys.maxint * long(3), sys.maxint * long(2), sys.maxint * long(-2)]
> 
> regards,
> J?rn lomax

These tests are just making sure that it's capable of serializing things that don't fit into a machine integer; sys.maxsize should be an acceptable substitute.

-glyph

From wolfgang.kde at rohdewald.de  Fri Jul  3 22:48:49 2015
From: wolfgang.kde at rohdewald.de (Wolfgang Rohdewald)
Date: Sat, 04 Jul 2015 06:48:49 +0200
Subject: [Twisted-Python] Porting twisted.spread.banana to py3
In-Reply-To: <5596F7FD.4000904@gmail.com>
References: <5593B406.9060001@gmail.com>
 <727F97ED-7F8C-4361-B7EF-2439EEDC7885@twistedmatrix.com>
 <5596F7FD.4000904@gmail.com>
Message-ID: <11871278.rmMRdCGn4f@i5>

Am Freitag, 3. Juli 2015, 23:00:45 schrieb J?rn Lomax:
> I have found another issue I'm wondering a little how to handle. There 
> are places in the bana_test file that sys.maxint is used. This no longer 
> exists in python3, so how should it be handled. Should we make an 
> artificial maxint to use for python3. I might want to note that it is 
> not used for comparison, but to create an integer over a given size:

i5:~/tmp/twisted/twisted/test (spread-py3-7598) git show a0d35fa
commit a0d35fa912b055bd65fb76b597de1d64675711d8
Author: Wolfgang Rohdewald <wolfgang at rohdewald.de>
Date:   Sun Nov 2 18:50:54 2014 +0100

    twisted.test.test_banana: PY3 has no sys.maxint

diff --git a/twisted/test/test_banana.py b/twisted/test/test_banana.py
index e0504d0..c43bdc8 100644
--- a/twisted/test/test_banana.py
+++ b/twisted/test/test_banana.py
@@ -455,10 +455,11 @@ class BananaTestCase(BananaTestBase):
         Test feeding the data byte per byte to the receiver. Normally
         data is not split.
         """
+        maxint = sys.maxsize if _PY3 else sys.maxint
         foo = [1, 2, [3, 4], [30.5, 40.2], 5,
                [b"six", b"seven", [b"eight", 9]], [10],
                # TODO: currently the C implementation's a bit buggy...
-               sys.maxint * 3l, sys.maxint * 2l, sys.maxint * long(-2)]
+               maxint * long(3), maxint * long(2), maxint * long(-2)]
         self.enc.sendEncoded(foo)
         self.feed(self.io.getvalue())
         assert self.result == foo, "%s!=%s" % (repr(self.result), repr(foo))

-- 
Wolfgang


From trac at twistedmatrix.com  Sun Jul  5 00:05:18 2015
From: trac at twistedmatrix.com (trac at twistedmatrix.com)
Date: Sun, 05 Jul 2015 06:05:18 -0000
Subject: [Twisted-Python] Weekly Bug Summary
Message-ID: 1436076318.93.1926388747194372241@twistedmatrix.com

An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20150705/92addfa0/attachment.html>

From hawkowl at atleastfornow.net  Tue Jul  7 20:33:25 2015
From: hawkowl at atleastfornow.net (Amber "Hawkie" Brown)
Date: Wed, 8 Jul 2015 10:33:25 +0800
Subject: [Twisted-Python] INCOMPATIBLE CHANGE: Removing hotshot from
	twistd's profiler support
Message-ID: <5251E66C-83F3-440C-91DC-E04A8FA895F5@atleastfornow.net>

Hotshot is completely broke, and it doesn't exist in Python 3. It is currently the default for twistd and since it doesn't work, we should just sidestep the deprecation cycle and remove it, changing the default to something useful.

The ticket with the changes are available on https://twistedmatrix.com/trac/ticket/5137 . The branch attached to it removes HotshotProfiler and amends the default to be cProfile, which is the most useful for users.

In accordance with the policy (https://twistedmatrix.com/trac/wiki/CompatibilityPolicy#ProcedureforExceptionstothisPolicy), this will remain unmerged for at least a week, and requires three signoffs by committers.

Amber "Hawkie" Brown
GPG: https://keybase.io/hawkowl

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 455 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20150708/77ca66cd/attachment.pgp>

From hawkowl at atleastfornow.net  Tue Jul  7 20:41:34 2015
From: hawkowl at atleastfornow.net (Amber "Hawkie" Brown)
Date: Wed, 8 Jul 2015 10:41:34 +0800
Subject: [Twisted-Python] Proposed compat policy change in regards to
	unmaintained upstream dependencies
Message-ID: <B7B9D65A-BD50-423E-9362-B8F6D5E24505@atleastfornow.net>

Hi,

Since it's been coming up recently, I'm proposing a change to the compat policy, where removing the use of unmaintained/unsupported upstream dependencies is an automatic exception.

This was brought up by Glyph in https://twistedmatrix.com/trac/ticket/5137#comment:11 -- hotshot is broken, unsupported, and unmaintained, and removing something that doesn't work in the first place should be able to be done automatically. This was also the case with PyPAM -- it didn't even seemingly exist, so the Twisted support code couldn't work at all.

So, this email is to get general comment on the scope and possibility of such a change. I believe it would be a worthwhile addition to the policy.

Amber "Hawkie" Brown
GPG: https://keybase.io/hawkowl

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 455 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20150708/094b4d6b/attachment.pgp>

From glyph at twistedmatrix.com  Tue Jul  7 21:33:55 2015
From: glyph at twistedmatrix.com (Glyph)
Date: Tue, 7 Jul 2015 20:33:55 -0700
Subject: [Twisted-Python] INCOMPATIBLE CHANGE: Removing hotshot from
	twistd's profiler support
In-Reply-To: <5251E66C-83F3-440C-91DC-E04A8FA895F5@atleastfornow.net>
References: <5251E66C-83F3-440C-91DC-E04A8FA895F5@atleastfornow.net>
Message-ID: <C1B8E804-D5AD-48AE-B65F-E6D4FED2DA8B@twistedmatrix.com>


> On Jul 7, 2015, at 7:33 PM, Amber Hawkie Brown <hawkowl at atleastfornow.net> wrote:
> 
> Hotshot is completely broke, and it doesn't exist in Python 3. It is currently the default for twistd and since it doesn't work, we should just sidestep the deprecation cycle and remove it, changing the default to something useful.
> 
> The ticket with the changes are available on https://twistedmatrix.com/trac/ticket/5137 . The branch attached to it removes HotshotProfiler and amends the default to be cProfile, which is the most useful for users.
> 
> In accordance with the policy (https://twistedmatrix.com/trac/wiki/CompatibilityPolicy#ProcedureforExceptionstothisPolicy), this will remain unmerged for at least a week, and requires three signoffs by committers.

You've got my sign-off.  I can't imagine the hypothetical scenario where the current behavior would be useful; according to Zooko's comment on that ticket it's already broken if you're using a supported version of Python.

-glyph
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20150707/ef636bee/attachment.html>

From glyph at twistedmatrix.com  Tue Jul  7 21:50:34 2015
From: glyph at twistedmatrix.com (Glyph)
Date: Tue, 7 Jul 2015 20:50:34 -0700
Subject: [Twisted-Python] Proposed compat policy change in regards to
	unmaintained upstream dependencies
In-Reply-To: <B7B9D65A-BD50-423E-9362-B8F6D5E24505@atleastfornow.net>
References: <B7B9D65A-BD50-423E-9362-B8F6D5E24505@atleastfornow.net>
Message-ID: <FC302FEC-194E-4CDD-984E-14E53ACD5344@twistedmatrix.com>


> On Jul 7, 2015, at 7:41 PM, Amber Hawkie Brown <hawkowl at atleastfornow.net> wrote:
> 
> Hi,
> 
> Since it's been coming up recently, I'm proposing a change to the compat policy, where removing the use of unmaintained/unsupported upstream dependencies is an automatic exception.
> 
> This was brought up by Glyph in https://twistedmatrix.com/trac/ticket/5137#comment:11 -- hotshot is broken, unsupported, and unmaintained, and removing something that doesn't work in the first place should be able to be done automatically. This was also the case with PyPAM -- it didn't even seemingly exist, so the Twisted support code couldn't work at all.
> 
> So, this email is to get general comment on the scope and possibility of such a change. I believe it would be a worthwhile addition to the policy.


I think so!  I guess I think so because it was my idea though.

I think we might want to keep the notification part - mainly so that people will realize that they could maintain the upstream dependency if they want to re-introduce this functionality - but the multiple sign-offs and grace period shouldn't be necessary for stuff that just doesn't work.

-glyph

From keturn at keturn.net  Tue Jul  7 22:22:22 2015
From: keturn at keturn.net (Kevin Turner)
Date: Tue, 07 Jul 2015 21:22:22 -0700
Subject: [Twisted-Python] INCOMPATIBLE CHANGE: Removing hotshot from
 twistd's profiler support
In-Reply-To: <5251E66C-83F3-440C-91DC-E04A8FA895F5@atleastfornow.net>
References: <5251E66C-83F3-440C-91DC-E04A8FA895F5@atleastfornow.net>
Message-ID: <1436329342.4104293.317980217.03452071@webmail.messagingengine.com>

+1 to removing hotshot.

It's hard enough to figure out how to profile python applications
without having broken defaults in the mix.


From adi at roiban.ro  Wed Jul  8 01:03:50 2015
From: adi at roiban.ro (Adi Roiban)
Date: Wed, 8 Jul 2015 10:03:50 +0300
Subject: [Twisted-Python] Proposed compat policy change in regards to
 unmaintained upstream dependencies
In-Reply-To: <FC302FEC-194E-4CDD-984E-14E53ACD5344@twistedmatrix.com>
References: <B7B9D65A-BD50-423E-9362-B8F6D5E24505@atleastfornow.net>
 <FC302FEC-194E-4CDD-984E-14E53ACD5344@twistedmatrix.com>
Message-ID: <CAFycZ9djycvy=4Bjzo4ApUYPmKX-pTHsx==szcyUbcBAxptL+w@mail.gmail.com>

I think that it make sense. +1 on this exception.

Thanks!
-- 
Adi Roiban


From trac at twistedmatrix.com  Sun Jul 12 00:05:16 2015
From: trac at twistedmatrix.com (trac at twistedmatrix.com)
Date: Sun, 12 Jul 2015 06:05:16 -0000
Subject: [Twisted-Python] Weekly Bug Summary
Message-ID: 1436681116.24.7515939621061209514@twistedmatrix.com

An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20150712/4a37d7f6/attachment.html>

From hawkowl at atleastfornow.net  Sat Jul 18 10:48:56 2015
From: hawkowl at atleastfornow.net (Amber "Hawkie" Brown)
Date: Sun, 19 Jul 2015 00:48:56 +0800
Subject: [Twisted-Python] New Buildbots -- Ubuntu 15.04 & Fedora 22
Message-ID: <2D400B25-D26A-48E3-A09A-A25F9D05D42F@atleastfornow.net>

Hi everyone,

I've just set up two new pairs of bots -- Ubuntu 15.04 and Fedora 22. They will provide the following coverage:

- Ubuntu 15.04 -- Python 2.7, PyPy 2.5.0, Python 3.4
- Fedora 22 -- Python 2.7, PyPy 2.4.0, Python 3.4

The Ubuntu 15.04 (Py2.7) builder is passing and has moved to supported, while the Fedora 22 (Py2.7) builder has failing tests (see them at https://buildbot.twistedmatrix.com/builders/fedora22-py2.7/builds/0 ). PyPy on both platforms fails, and are unsupported builders. Python 3.4 builds for each will be set up soon.

These new builders also have their dependencies installed by virtualenv, so the versions of the dependencies are now more controllable and should be kept up to date as new versions of them are released.

Twisted Regards,

Amber "Hawkie" Brown
GPG: https://keybase.io/hawkowl

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 455 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20150719/0bb66dbb/attachment.pgp>

From adi at roiban.ro  Sat Jul 18 12:06:51 2015
From: adi at roiban.ro (Adi Roiban)
Date: Sat, 18 Jul 2015 21:06:51 +0300
Subject: [Twisted-Python] New Buildbots -- Ubuntu 15.04 & Fedora 22
In-Reply-To: <2D400B25-D26A-48E3-A09A-A25F9D05D42F@atleastfornow.net>
References: <2D400B25-D26A-48E3-A09A-A25F9D05D42F@atleastfornow.net>
Message-ID: <CAFycZ9fBU_y_1phYRqtsywPH6v4Ub5X9dk2D0OdzMFHBux1BKQ@mail.gmail.com>

Many thanks for working on this!

If it not a huge effort, can you please update the wiki page
https://twistedmatrix.com/trac/wiki/ContinuousIntegration/Buildslaves
with the new rax-* slaves?

Thanks!

On 18 July 2015 at 19:48, Amber "Hawkie" Brown
<hawkowl at atleastfornow.net> wrote:
> Hi everyone,
>
> I've just set up two new pairs of bots -- Ubuntu 15.04 and Fedora 22. They will provide the following coverage:
>
> - Ubuntu 15.04 -- Python 2.7, PyPy 2.5.0, Python 3.4
> - Fedora 22 -- Python 2.7, PyPy 2.4.0, Python 3.4
>
> The Ubuntu 15.04 (Py2.7) builder is passing and has moved to supported, while the Fedora 22 (Py2.7) builder has failing tests (see them at https://buildbot.twistedmatrix.com/builders/fedora22-py2.7/builds/0 ). PyPy on both platforms fails, and are unsupported builders. Python 3.4 builds for each will be set up soon.
>
> These new builders also have their dependencies installed by virtualenv, so the versions of the dependencies are now more controllable and should be kept up to date as new versions of them are released.
>
> Twisted Regards,
>
> Amber "Hawkie" Brown
> GPG: https://keybase.io/hawkowl
>
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>



-- 
Adi Roiban


From trac at twistedmatrix.com  Sun Jul 19 00:05:16 2015
From: trac at twistedmatrix.com (trac at twistedmatrix.com)
Date: Sun, 19 Jul 2015 06:05:16 -0000
Subject: [Twisted-Python] Weekly Bug Summary
Message-ID: 1437285916.9.4942579099976401143@twistedmatrix.com

An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20150719/f55fdd93/attachment.html>

From keturn at keturn.net  Sun Jul 19 23:28:29 2015
From: keturn at keturn.net (Kevin Turner)
Date: Sun, 19 Jul 2015 22:28:29 -0700
Subject: [Twisted-Python] Proposal -- Code of Conduct
In-Reply-To: <CAOA_4jB-Ut-B4DsWuTs-HHexk_J-_B-Jiu4fN46i8SaCaRv0qQ@mail.gmail.com>
References: <CAOA_4jBv3vv=pYcte7gQ6E8YjKzfBe+1HsPazYak4G=wJtxSgw@mail.gmail.com>
 <35B97E96-E041-4D40-BE37-F6F5C18C4503@twistedmatrix.com>
 <16FF9D27-2329-45EB-B270-96479A5B6395@ox.cx>
 <CA6CAF88-3CF6-4A9F-B38E-746694E9C89E@atleastfornow.net>
 <CAPkN8x+jnEuM-NU8C0fPqO0bQ+tp=s8H4MNvH8LRrrzVhCfrtw@mail.gmail.com>
 <CAOA_4jCf-bmtfNK1CLyo_-AgWYrmUt48hKc-Kg+CXDBw0oR5WQ@mail.gmail.com>
 <1435177502.2290262.306874953.7CCB7A44@webmail.messagingengine.com>
 <CAOA_4jB-Ut-B4DsWuTs-HHexk_J-_B-Jiu4fN46i8SaCaRv0qQ@mail.gmail.com>
Message-ID: <1437370109.2951691.327871321.7C3B3246@webmail.messagingengine.com>

I was chatting with some people at the Community Leadership Summit today
about the Recurse Center's social rules[1], which reminded me of this
thread. What's the status of this proposal?


Links:

  1. https://www.recurse.com/manual#sec-environment
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20150719/cd13d9c8/attachment.html>

From hawkowl at atleastfornow.net  Tue Jul 21 20:33:06 2015
From: hawkowl at atleastfornow.net (Amber "Hawkie" Brown)
Date: Wed, 22 Jul 2015 10:33:06 +0800
Subject: [Twisted-Python] Benchmarks 2.0
Message-ID: <FE5B151D-04B7-47D1-ADA6-6236C93F920B@atleastfornow.net>

Hi everyone,

I'm going to be renovating http://speed.twistedmatrix.com/ soon. Because of the svn -> git migration, the historical data will be archived, so, if you're interested, I'd check it out now.

The new Twisted Speedcenter will have Python 2.7, Python 3.4, and PyPy 2.5, all of the standard versions of Python on Ubuntu 15.04. The benchmarks that it will be running can be found at https://github.com/twisted-infra/twisted-benchmarks .

Twisted Regards,

Amber "Hawkie" Brown
GPG: https://keybase.io/hawkowl

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 455 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20150722/701c7c0d/attachment.pgp>

From kevin.horn at gmail.com  Wed Jul 22 09:09:30 2015
From: kevin.horn at gmail.com (Kevin Horn)
Date: Wed, 22 Jul 2015 10:09:30 -0500
Subject: [Twisted-Python] Benchmarks 2.0
In-Reply-To: <FE5B151D-04B7-47D1-ADA6-6236C93F920B@atleastfornow.net>
References: <FE5B151D-04B7-47D1-ADA6-6236C93F920B@atleastfornow.net>
Message-ID: <CA+U=zK1nBrG9gqfaFw5XXS=qAkTjZBSyyrLkDiPO0SrxmK1t6w@mail.gmail.com>

<happydance />

On Tue, Jul 21, 2015 at 9:33 PM, Amber "Hawkie" Brown <
hawkowl at atleastfornow.net> wrote:

> Hi everyone,
>
> I'm going to be renovating http://speed.twistedmatrix.com/ soon. Because
> of the svn -> git migration, the historical data will be archived, so, if
> you're interested, I'd check it out now.
>
> The new Twisted Speedcenter will have Python 2.7, Python 3.4, and PyPy
> 2.5, all of the standard versions of Python on Ubuntu 15.04. The benchmarks
> that it will be running can be found at
> https://github.com/twisted-infra/twisted-benchmarks .
>
> Twisted Regards,
>
> Amber "Hawkie" Brown
> GPG: https://keybase.io/hawkowl
>
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
>


-- 
--
Kevin Horn
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20150722/534a0417/attachment.html>

From hawkowl at atleastfornow.net  Thu Jul 23 02:09:28 2015
From: hawkowl at atleastfornow.net (Amber "Hawkie" Brown)
Date: Thu, 23 Jul 2015 16:09:28 +0800
Subject: [Twisted-Python] Twisted 15.3.0 Prerelease 1 Announcement
Message-ID: <F0F9092D-BB84-42BC-82E6-58B975827990@atleastfornow.net>

Hi everyone!

Another Twisted release cycle dawns, and I bring you the first prerelease of Twisted 15.3.

This release is characterised by cleanups and porting, with at least ten modules ported to Python 3, and the removal of Lore, Twisted's use of Hotshot, and various other smaller deprecated classes and functions. Twisted has also shed its usage of "subprojects" -- there is now only one Twisted (long may it reign).

The tarball and the newsfile summarising all the changes can be downloaded from <http://twistedmatrix.com/Releases/pre/15.3.0pre1/>.

Enjoy, and test! If no issues are found, 15.3 will be released sometime next week.

Twisted Regards,

Amber "Hawkie" Brown
GPG: https://keybase.io/hawkowl

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 455 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20150723/2f83c2dc/attachment.pgp>

From adi at roiban.ro  Thu Jul 23 03:47:31 2015
From: adi at roiban.ro (Adi Roiban)
Date: Thu, 23 Jul 2015 12:47:31 +0300
Subject: [Twisted-Python] Benchmarks 2.0
In-Reply-To: <FE5B151D-04B7-47D1-ADA6-6236C93F920B@atleastfornow.net>
References: <FE5B151D-04B7-47D1-ADA6-6236C93F920B@atleastfornow.net>
Message-ID: <CAFycZ9e9nAyZe2ZL0KSbs42AdF6cJ5-SOmZFO2CNd1vW6sbc4w@mail.gmail.com>

On 22 July 2015 at 05:33, Amber "Hawkie" Brown
<hawkowl at atleastfornow.net> wrote:
> Hi everyone,
>
> I'm going to be renovating http://speed.twistedmatrix.com/ soon. Because of the svn -> git migration, the historical data will be archived, so, if you're interested, I'd check it out now.
>
> The new Twisted Speedcenter will have Python 2.7, Python 3.4, and PyPy 2.5, all of the standard versions of Python on Ubuntu 15.04. The benchmarks that it will be running can be found at https://github.com/twisted-infra/twisted-benchmarks .

Thanks for working on this!

Why are the benchmarks part of twisted-infra and not of twisted ?


-- 
Adi Roiban


From hawkowl at atleastfornow.net  Thu Jul 23 04:27:47 2015
From: hawkowl at atleastfornow.net (Amber "Hawkie" Brown)
Date: Thu, 23 Jul 2015 18:27:47 +0800
Subject: [Twisted-Python] Benchmarks 2.0
In-Reply-To: <CAFycZ9e9nAyZe2ZL0KSbs42AdF6cJ5-SOmZFO2CNd1vW6sbc4w@mail.gmail.com>
References: <FE5B151D-04B7-47D1-ADA6-6236C93F920B@atleastfornow.net>
 <CAFycZ9e9nAyZe2ZL0KSbs42AdF6cJ5-SOmZFO2CNd1vW6sbc4w@mail.gmail.com>
Message-ID: <951AA050-D9B1-4593-BE34-513B0993ED8C@atleastfornow.net>


> On 23 Jul 2015, at 17:47, Adi Roiban <adi at roiban.ro> wrote:
> 
> On 22 July 2015 at 05:33, Amber "Hawkie" Brown
> <hawkowl at atleastfornow.net> wrote:
>> Hi everyone,
>> 
>> I'm going to be renovating http://speed.twistedmatrix.com/ soon. Because of the svn -> git migration, the historical data will be archived, so, if you're interested, I'd check it out now.
>> 
>> The new Twisted Speedcenter will have Python 2.7, Python 3.4, and PyPy 2.5, all of the standard versions of Python on Ubuntu 15.04. The benchmarks that it will be running can be found at https://github.com/twisted-infra/twisted-benchmarks .
> 
> Thanks for working on this!
> 
> Why are the benchmarks part of twisted-infra and not of twisted ?
> 

No particular reason. I just put them there as they're connected to our infra, but really, they are a form of validation test and should be moved into Twisted when everything is rolling and they can be used better for that.

> 
> --
> Adi Roiban
> 
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 455 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20150723/911e5d99/attachment.pgp>

From rgacote at appropriatesolutions.com  Fri Jul 24 11:29:37 2015
From: rgacote at appropriatesolutions.com (Ray Cote)
Date: Fri, 24 Jul 2015 13:29:37 -0400
Subject: [Twisted-Python] [Twisted-web] Twisted 15.3.0 Prerelease 1
	Announcement
In-Reply-To: <F0F9092D-BB84-42BC-82E6-58B975827990@atleastfornow.net>
References: <F0F9092D-BB84-42BC-82E6-58B975827990@atleastfornow.net>
Message-ID: <CAG5tnzoF0bqr9_R_m2oa5+uOjBysjxAkSF1fgEgDuhjJyaW0UA@mail.gmail.com>

The number of 'ported to Python 3' items in this release is exciting.
Looks like I can start moving my first small legacy Twisted project over to
3.4 next month.
Looking forward to see how it goes.
--Ray


On Thu, Jul 23, 2015 at 4:09 AM, Amber "Hawkie" Brown <
hawkowl at atleastfornow.net> wrote:

> Hi everyone!
>
> Another Twisted release cycle dawns, and I bring you the first prerelease
> of Twisted 15.3.
>
> This release is characterised by cleanups and porting, with at least ten
> modules ported to Python 3, and the removal of Lore, Twisted's use of
> Hotshot, and various other smaller deprecated classes and functions.
> Twisted has also shed its usage of "subprojects" -- there is now only one
> Twisted (long may it reign).
>
> The tarball and the newsfile summarising all the changes can be downloaded
> from <http://twistedmatrix.com/Releases/pre/15.3.0pre1/>.
>
> Enjoy, and test! If no issues are found, 15.3 will be released sometime
> next week.
>
> Twisted Regards,
>
> Amber "Hawkie" Brown
> GPG: https://keybase.io/hawkowl
>
>
> _______________________________________________
> Twisted-web mailing list
> Twisted-web at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web
>
>


-- 
Raymond Cote, President
voice: +1.603.924.6079 email: rgacote at AppropriateSolutions.com skype:
ray.cote
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20150724/ad8e2988/attachment.html>

From trac at twistedmatrix.com  Sun Jul 26 00:05:21 2015
From: trac at twistedmatrix.com (trac at twistedmatrix.com)
Date: Sun, 26 Jul 2015 06:05:21 -0000
Subject: [Twisted-Python] Weekly Bug Summary
Message-ID: 1437890721.36.5047483692716023902@twistedmatrix.com

An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20150726/cdc27581/attachment.html>

From hawkowl at atleastfornow.net  Mon Jul 27 02:01:54 2015
From: hawkowl at atleastfornow.net (Amber "Hawkie" Brown)
Date: Mon, 27 Jul 2015 16:01:54 +0800
Subject: [Twisted-Python] Considerations for Twisted prereleases on PyPI
Message-ID: <2AAC7A3B-AA55-4CEB-BEF5-732CCB8D373C@atleastfornow.net>

Hi everyone,

PyPI + pip has supported uploading prereleases for a long while, and this would be a much better way for you, the Twisted user, to get the prereleases, rather than messing about with tarballs.

Pip 1.4+ (which according to https://caremad.io/2015/04/a-year-of-pypi-downloads/ constitutes 80%+ of pips) supports prereleases on PyPI.

So, the question is, do people think we should start putting them on PyPI? Is it worth some users on ancient pips inadvertantly getting (admittedly quite stable) prereleases? Would you use it, and would you be more likely to test Twisted prereleases if they were distributed like this (in addition to the tarball)?

Thanks,

Amber "Hawkie" Brown
GPG: https://keybase.io/hawkowl

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 455 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20150727/b4ef2238/attachment.pgp>

From hs at ox.cx  Mon Jul 27 02:31:44 2015
From: hs at ox.cx (Hynek Schlawack)
Date: Mon, 27 Jul 2015 10:31:44 +0200
Subject: [Twisted-Python] Considerations for Twisted prereleases on PyPI
In-Reply-To: <2AAC7A3B-AA55-4CEB-BEF5-732CCB8D373C@atleastfornow.net>
References: <2AAC7A3B-AA55-4CEB-BEF5-732CCB8D373C@atleastfornow.net>
Message-ID: <29B43726-243C-4D39-A7BD-3815C7FF28A5@ox.cx>

> So, the question is, do people think we should start putting them on PyPI? Is it worth some users on ancient pips inadvertantly getting (admittedly quite stable) prereleases? Would you use it, and would you be more likely to test Twisted prereleases if they were distributed like this (in addition to the tarball)?

Yes, I would and yes we should.  Current (more than 1 year old) Ubuntu LTS comes with pip 1.5.4, CentOS 7 comes with virtualenv 1.10.1 which seems (https://pypi.python.org/pypi/virtualenv/1.10.1) to come with pip 1.4.1.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 801 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20150727/2a10413d/attachment.pgp>

From dynamicgl at gmail.com  Mon Jul 27 05:17:12 2015
From: dynamicgl at gmail.com (Gelin Yan)
Date: Mon, 27 Jul 2015 19:17:12 +0800
Subject: [Twisted-Python] An error occurred with twisted 15.2.1 & python
	3.4.3 on windows
Message-ID: <CABkOF6Q03Tt=EUEu7TPUj-jTLr6AXvO3s5-agzNWTPucVrYC_Q@mail.gmail.com>

Hi All

   When I tried to run a simple twisted program and noticed there was an
error as following:

File "C:\Python34\lib\site-packages\twisted\python\lockfile.py", line 52,
in <module>
    _open = file
NameError: name 'file' is not defined


   simply replace file as open like

_open = open

   can run the program.

  Is it a bug?

Regards

gelin yan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20150727/48302d93/attachment.html>

From mithrandi at mithrandi.net  Tue Jul 28 01:46:26 2015
From: mithrandi at mithrandi.net (Tristan Seligmann)
Date: Tue, 28 Jul 2015 07:46:26 +0000
Subject: [Twisted-Python] An error occurred with twisted 15.2.1 & python
 3.4.3 on windows
In-Reply-To: <CABkOF6Q03Tt=EUEu7TPUj-jTLr6AXvO3s5-agzNWTPucVrYC_Q@mail.gmail.com>
References: <CABkOF6Q03Tt=EUEu7TPUj-jTLr6AXvO3s5-agzNWTPucVrYC_Q@mail.gmail.com>
Message-ID: <CAMcKhMQQ6PByjkvavK-Ps-iPARxrR1C85v_R4s7hrAz8Rw1QTg@mail.gmail.com>

On Mon, 27 Jul 2015 at 13:18 Gelin Yan <dynamicgl at gmail.com> wrote:

>   Is it a bug?
>

Yes; see https://twistedmatrix.com/trac/ticket/7626 for more details.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20150728/4934063e/attachment.html>

From dynamicgl at gmail.com  Tue Jul 28 04:29:47 2015
From: dynamicgl at gmail.com (Gelin Yan)
Date: Tue, 28 Jul 2015 18:29:47 +0800
Subject: [Twisted-Python] An error occurred with twisted 15.2.1 & python
 3.4.3 on windows
In-Reply-To: <CAMcKhMQQ6PByjkvavK-Ps-iPARxrR1C85v_R4s7hrAz8Rw1QTg@mail.gmail.com>
References: <CABkOF6Q03Tt=EUEu7TPUj-jTLr6AXvO3s5-agzNWTPucVrYC_Q@mail.gmail.com>
 <CAMcKhMQQ6PByjkvavK-Ps-iPARxrR1C85v_R4s7hrAz8Rw1QTg@mail.gmail.com>
Message-ID: <CABkOF6SS7-sNeOofTvk+2kjNsODzfMekomE2+dnkPw=apv9fYw@mail.gmail.com>

On Tue, Jul 28, 2015 at 3:46 PM, Tristan Seligmann <mithrandi at mithrandi.net>
wrote:

> On Mon, 27 Jul 2015 at 13:18 Gelin Yan <dynamicgl at gmail.com> wrote:
>
>>   Is it a bug?
>>
>
> Yes; see https://twistedmatrix.com/trac/ticket/7626 for more details.
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
>
  It looks like this bug has existed for almost one year. Do we have
windows building slave for python 3?

Regards

gelin yan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20150728/356b7487/attachment.html>

From a at runtel.ru  Tue Jul 28 11:09:42 2015
From: a at runtel.ru (Alexey Panyovin)
Date: Tue, 28 Jul 2015 20:09:42 +0300
Subject: [Twisted-Python] conch defer for dataReceived
Message-ID: <55B7B756.3050701@runtel.ru>

Hello all.
Help me please.
Tell me how to wrap in Defer dataReceived.
For example, I need to execute a command and send receive data in 
callback. The only yet I found - to use the session number sent commands 
and replies received

Can one example.
Thanks in advance!

--
Alexey



From glyph at twistedmatrix.com  Tue Jul 28 18:38:45 2015
From: glyph at twistedmatrix.com (Glyph Lefkowitz)
Date: Tue, 28 Jul 2015 17:38:45 -0700
Subject: [Twisted-Python] An error occurred with twisted 15.2.1 & python
	3.4.3 on windows
In-Reply-To: <CABkOF6SS7-sNeOofTvk+2kjNsODzfMekomE2+dnkPw=apv9fYw@mail.gmail.com>
References: <CABkOF6Q03Tt=EUEu7TPUj-jTLr6AXvO3s5-agzNWTPucVrYC_Q@mail.gmail.com>
 <CAMcKhMQQ6PByjkvavK-Ps-iPARxrR1C85v_R4s7hrAz8Rw1QTg@mail.gmail.com>
 <CABkOF6SS7-sNeOofTvk+2kjNsODzfMekomE2+dnkPw=apv9fYw@mail.gmail.com>
Message-ID: <FC33FA30-B3B0-4CB2-9F73-17E043E81EF8@twistedmatrix.com>


> On Jul 28, 2015, at 3:29 AM, Gelin Yan <dynamicgl at gmail.com> wrote:
> 
> 
> 
> On Tue, Jul 28, 2015 at 3:46 PM, Tristan Seligmann <mithrandi at mithrandi.net <mailto:mithrandi at mithrandi.net>> wrote:
> On Mon, 27 Jul 2015 at 13:18 Gelin Yan <dynamicgl at gmail.com <mailto:dynamicgl at gmail.com>> wrote:
>   Is it a bug?
> 
> Yes; see https://twistedmatrix.com/trac/ticket/7626 <https://twistedmatrix.com/trac/ticket/7626> for more details.
> 
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com <mailto:Twisted-Python at twistedmatrix.com>
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python <http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python>
> 
> 
>   It looks like this bug has existed for almost one year. Do we have windows building slave for python 3?

No.  For this reason, technically Twisted only supports Python 3 on Linux.  Does anyone feel like volunteering to set up a 3 builder?  I wonder if HawkOwl has already done this...

-glyph

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20150728/1bc68321/attachment.html>

From glyph at twistedmatrix.com  Tue Jul 28 18:40:18 2015
From: glyph at twistedmatrix.com (Glyph Lefkowitz)
Date: Tue, 28 Jul 2015 17:40:18 -0700
Subject: [Twisted-Python] conch defer for dataReceived
In-Reply-To: <55B7B756.3050701@runtel.ru>
References: <55B7B756.3050701@runtel.ru>
Message-ID: <12D1621D-57AC-465C-9CD5-79BA2B5A2332@twistedmatrix.com>


> On Jul 28, 2015, at 10:09 AM, Alexey Panyovin <a at runtel.ru> wrote:
> 
> Hello all.
> Help me please.
> Tell me how to wrap in Defer dataReceived.
> For example, I need to execute a command and send receive data in callback. The only yet I found - to use the session number sent commands and replies received


If you want to have commands and responses, you need a higher-level callback than simply dataReceived.  This is what, for example, AMP <https://twistedmatrix.com/documents/current/api/twisted.protocols.amp.html <https://twistedmatrix.com/documents/current/api/twisted.protocols.amp.html>> is for.

-glyph

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20150728/33441461/attachment.html>

From hawkowl at atleastfornow.net  Tue Jul 28 21:05:00 2015
From: hawkowl at atleastfornow.net (Amber "Hawkie" Brown)
Date: Wed, 29 Jul 2015 13:05:00 +1000
Subject: [Twisted-Python] An error occurred with twisted 15.2.1 & python
	3.4.3 on windows
In-Reply-To: <FC33FA30-B3B0-4CB2-9F73-17E043E81EF8@twistedmatrix.com>
References: <CABkOF6Q03Tt=EUEu7TPUj-jTLr6AXvO3s5-agzNWTPucVrYC_Q@mail.gmail.com>
 <CAMcKhMQQ6PByjkvavK-Ps-iPARxrR1C85v_R4s7hrAz8Rw1QTg@mail.gmail.com>
 <CABkOF6SS7-sNeOofTvk+2kjNsODzfMekomE2+dnkPw=apv9fYw@mail.gmail.com>
 <FC33FA30-B3B0-4CB2-9F73-17E043E81EF8@twistedmatrix.com>
Message-ID: <A3418781-BEC7-4B88-906E-23A1043781E1@atleastfornow.net>


> On 29 Jul 2015, at 10:38, Glyph Lefkowitz <glyph at twistedmatrix.com> wrote:
> 
>> 
>> On Jul 28, 2015, at 3:29 AM, Gelin Yan <dynamicgl at gmail.com> wrote:
>> 
>> 
>> 
>> On Tue, Jul 28, 2015 at 3:46 PM, Tristan Seligmann <mithrandi at mithrandi.net> wrote:
>> On Mon, 27 Jul 2015 at 13:18 Gelin Yan <dynamicgl at gmail.com> wrote:
>>   Is it a bug?
>> 
>> Yes; see https://twistedmatrix.com/trac/ticket/7626 for more details.
>> 
>> _______________________________________________
>> Twisted-Python mailing list
>> Twisted-Python at twistedmatrix.com
>> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>> 
>> 
>>   It looks like this bug has existed for almost one year. Do we have windows building slave for python 3?
> 
> No.  For this reason, technically Twisted only supports Python 3 on Linux.  Does anyone feel like volunteering to set up a 3 builder?  I wonder if HawkOwl has already done this...

I haven't -- I don't think I have access or know how to get onto the Windows builders. Happy to set up a Py3 tests+coverage builder (after PyCon AU, that is). (Also, I might set up a Py2.7 coverage builder now we have https://codecov.io/github/twisted/twisted to combine it...)

- Amber

> 
> -glyph
> 
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 455 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20150729/282ce359/attachment.pgp>

From a at runtel.ru  Tue Jul 28 23:02:04 2015
From: a at runtel.ru (Alexey Panyovin)
Date: Wed, 29 Jul 2015 08:02:04 +0300
Subject: [Twisted-Python] conch defer for dataReceived
In-Reply-To: <12D1621D-57AC-465C-9CD5-79BA2B5A2332@twistedmatrix.com>
References: <55B7B756.3050701@runtel.ru>
 <12D1621D-57AC-465C-9CD5-79BA2B5A2332@twistedmatrix.com>
Message-ID: <55B85E4C.3040207@runtel.ru>


I'm use self made queue for my task.
I'll try to amp.

Thanks glyph!

? ?????????,
-- 
??????? ???????
???????????? ????????

??? ??????

e-mail: a at runtel.ru
Tel: +7 (495) 134-30-60 (1011)
Tel: +7 (906) 680-04-04

29.07.15 3:40, Glyph Lefkowitz ?????:
>
>> On Jul 28, 2015, at 10:09 AM, Alexey Panyovin <a at runtel.ru 
>> <mailto:a at runtel.ru>> wrote:
>>
>> Hello all.
>> Help me please.
>> Tell me how to wrap in Defer dataReceived.
>> For example, I need to execute a command and send receive data in 
>> callback. The only yet I found - to use the session number sent 
>> commands and replies received
>
> If you want to have commands and responses, you need a higher-level 
> callback than simply dataReceived.  This is what, for example, AMP 
> <https://twistedmatrix.com/documents/current/api/twisted.protocols.amp.html> 
> is for.
>
> -glyph
>
>
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20150729/bcca0d40/attachment.html>

From glyph at twistedmatrix.com  Wed Jul 29 02:56:29 2015
From: glyph at twistedmatrix.com (Glyph)
Date: Wed, 29 Jul 2015 01:56:29 -0700
Subject: [Twisted-Python] conch defer for dataReceived
In-Reply-To: <55B85E4C.3040207@runtel.ru>
References: <55B7B756.3050701@runtel.ru>
 <12D1621D-57AC-465C-9CD5-79BA2B5A2332@twistedmatrix.com>
 <55B85E4C.3040207@runtel.ru>
Message-ID: <E52FADC1-B9A1-484D-9015-6CFD20FB1043@twistedmatrix.com>


> On Jul 28, 2015, at 10:02 PM, Alexey Panyovin <a at runtel.ru> wrote:
> 
> I'm use self made queue for my task.
> I'll try to amp.
> 
> Thanks glyph!

Good luck Alexey!  Thanks for using Twisted!

Please feel free to ask any more questions you have about using AMP.

-glyph

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20150729/03414abf/attachment-0001.html>

From a at runtel.ru  Wed Jul 29 03:09:23 2015
From: a at runtel.ru (Alexey Panyovin)
Date: Wed, 29 Jul 2015 12:09:23 +0300
Subject: [Twisted-Python] conch defer for dataReceived
In-Reply-To: <E52FADC1-B9A1-484D-9015-6CFD20FB1043@twistedmatrix.com>
References: <55B7B756.3050701@runtel.ru>
 <12D1621D-57AC-465C-9CD5-79BA2B5A2332@twistedmatrix.com>
 <55B85E4C.3040207@runtel.ru>
 <E52FADC1-B9A1-484D-9015-6CFD20FB1043@twistedmatrix.com>
Message-ID: <55B89843.5000402@runtel.ru>

Thans You!

I found same solution, but to another problem like this.

Channel class:

class SFTPChannel(channel.SSHChannel):
     name ='session' _sftp = defer.Deferred()
     # defer = def channelOpen(self, _):d =self.conn.sendRequest(self, 'subsystem', common.NS('sftp'), wantReply=True)
         self.conn.sftp_channel_defer = d.addCallbacks(self._cbSFTP)@defer.inlineCallbacks def _cbSFTP(self, result):self.client = FileTransferClient()
         self.client.makeConnection(self)
         self.dataReceived =self.client.dataReceived
         self._sftp.callback(self.client)

def get_file(self, *args): print args

Use in exteral module m = connection.sftp_channel._sftp.addCallback(connection.sftp_channel.get_file, *['./222/test.txt', '/root/freeswitch_37_17.tar'])
m.addCallback(self._cbFileRCopy)
m.addErrback(self._ebFileRCopy)

I think, if set some defer in SSHChannel in

def channelOpen(self, data): self.conn.sendRequest(self, 'exec', 
common.NS(self.command), wantReply=True).addCallback(self._gotResponse) 
self._chennel_defer = Defered()

and in

def dataReceived(self, data): self._chennel_defer  = some_def()

But in this case one channel = one command = one respons 29.07.15 11:56, 
Glyph ?????:
>> On Jul 28, 2015, at 10:02 PM, Alexey Panyovin <a at runtel.ru 
>> <mailto:a at runtel.ru>> wrote:
>> I'm use self made queue for my task. I'll try to amp. Thanks glyph! 
> Good luck Alexey!  Thanks for using Twisted!
> Please feel free to ask any more questions you have about using AMP.
> -glyph
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20150729/3fc5b46a/attachment.html>

From rgacote at appropriatesolutions.com  Wed Jul 29 08:38:21 2015
From: rgacote at appropriatesolutions.com (Ray Cote)
Date: Wed, 29 Jul 2015 10:38:21 -0400
Subject: [Twisted-Python] An error occurred with twisted 15.2.1 & python
 3.4.3 on windows
In-Reply-To: <FC33FA30-B3B0-4CB2-9F73-17E043E81EF8@twistedmatrix.com>
References: <CABkOF6Q03Tt=EUEu7TPUj-jTLr6AXvO3s5-agzNWTPucVrYC_Q@mail.gmail.com>
 <CAMcKhMQQ6PByjkvavK-Ps-iPARxrR1C85v_R4s7hrAz8Rw1QTg@mail.gmail.com>
 <CABkOF6SS7-sNeOofTvk+2kjNsODzfMekomE2+dnkPw=apv9fYw@mail.gmail.com>
 <FC33FA30-B3B0-4CB2-9F73-17E043E81EF8@twistedmatrix.com>
Message-ID: <CAG5tnzqVyO=+OsHZqPuAWeXJQUsbhiKuc=8KE5AH1SgWg733JA@mail.gmail.com>

On Tue, Jul 28, 2015 at 8:38 PM, Glyph Lefkowitz <glyph at twistedmatrix.com>
wrote:

> No.  For this reason, technically Twisted only supports Python 3 on
> Linux.  Does anyone feel like volunteering to set up a 3 builder?  I wonder
> if HawkOwl has already done this...
>

I know I don't have the personal bandwidth to deploy and manage a
Python3/Windows Buildbot, but I (my company) can kick-in for an A0 Azure
instance to run a Buildbot:
    <http://azure.microsoft.com/en-us/pricing/details/virtual-machines/>
.

--Ray


-- 
Raymond Cote, President
voice: +1.603.924.6079 email: rgacote at AppropriateSolutions.com skype:
ray.cote
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20150729/e9a3c468/attachment.html>

From jcraig at gsacrd.ab.ca  Wed Jul 29 08:39:13 2015
From: jcraig at gsacrd.ab.ca (Judy Craig)
Date: Wed, 29 Jul 2015 08:39:13 -0600
Subject: [Twisted-Python] An error occurred with twisted 15.2.1 & python
	3.4.3 on
Message-ID: <fc.000f81d802d84c243b9aca00d75c4a5f.2d84c25@gsacrd.ab.ca>

This is an automatic reply. I am away from the office for the summer, returning on Tuesday, August 25, 2015.  I will be happy to get back to you then.  

Enjoy your summer!

Judy Craig
Student Services

This email and any files transmitted with it may be confidential and are intended solely for the use of the individual or entity to whom they are addressed. If you have received this email in error please notify the system manager. If you are not
the named addressee you should not disseminate, distribute or copy this email.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://twistedmatrix.com/pipermail/twisted-python/attachments/20150729/1405cf2b/attachment.html>

From northlomax at gmail.com  Wed Jul  1 03:33:58 2015
From: northlomax at gmail.com (=?UTF-8?B?SsO4cm4gTG9tYXg=?=)
Date: Wed, 01 Jul 2015 11:33:58 +0200
Subject: [Twisted-Python] Porting twisted.spread.banana to py3
Message-ID: <5593B406.9060001@gmail.com>

I'm a gsoc student working on the buildbot project, porting it to py3. 
Part of this is looking at porting the dependencies buildbot has in 
twisted and try to port them.

twisted.spread is the most used twisted dependency, so I have started 
working on this. I started working on banana.py and I have encountered a 
question. In dataRecieved (banana.py:174). A chunk is added to the 
buffer. On python3, how should the distinction be made between string 
and bytes. Buffer seems to be a string, the chunk seems to be bytes, and 
sometimes opposite.

Any help would be appreciated

regards,
Jørn Lomax



From wolfgang.kde at rohdewald.de  Wed Jul  1 04:29:54 2015
From: wolfgang.kde at rohdewald.de (Wolfgang Rohdewald)
Date: Wed, 01 Jul 2015 12:29:54 +0200
Subject: [Twisted-Python] Porting twisted.spread.banana to py3
In-Reply-To: <5593B406.9060001@gmail.com>
References: <5593B406.9060001@gmail.com>
Message-ID: <5421542.54FYlSD4l6@i5>

Am Mittwoch, 1. Juli 2015, 11:33:58 schrieb Jørn Lomax:
> I'm a gsoc student working on the buildbot project, porting it to py3. 
> Part of this is looking at porting the dependencies buildbot has in 
> twisted and try to port them.
> 
> twisted.spread is the most used twisted dependency, so I have started 
> working on this.

I would much appreciate seeing spread ported.

Last year I actually already did (all tests passed) but then I did not find
the time to make separate tickets to be reviewed.

Actually porting spread is easier than getting the source into something
acceptable by the core developers.

But I published what I got, see my mail on this list from Nov 3 2014:

>> there now is https://github.com/wrohdewald/twisted.git
>>
>> branch spread-py3-7598

If I would continue with this now, I would probably first rebase that branch
onto master (not sure if the twisted project still uses svn or if the 
migration to git has already been done).

You could also look for tickets opened by myself (wolfgang61), most 
of them should be about porting spread.

> I started working on banana.py and I have encountered a 
> question. In dataRecieved (banana.py:174). A chunk is added to the 
> buffer. On python3, how should the distinction be made between string 
> and bytes. Buffer seems to be a string, the chunk seems to be bytes, and 
> sometimes opposite.

I believe that chunk is a banana-encoded string, so there should be no
need to treat it as bytes.


-- 
Wolfgang



From itamar at itamarst.org  Wed Jul  1 10:40:32 2015
From: itamar at itamarst.org (Itamar Turner-Trauring)
Date: Wed, 01 Jul 2015 12:40:32 -0400
Subject: [Twisted-Python] Porting twisted.spread.banana to py3
In-Reply-To: <5593B406.9060001@gmail.com>
References: <5593B406.9060001@gmail.com>
Message-ID: <3d3a7968e433c52f5205373a8ce2ce28@itamarst.org>

 

On 2015-07-01 05:33, Jørn Lomax wrote: 

> I'm a gsoc student working on the buildbot project, porting it to py3. Part of this is looking at porting the dependencies buildbot has in twisted and try to port them.
> 
> twisted.spread is the most used twisted dependency, so I have started working on this. I started working on banana.py and I have encountered a question. In dataRecieved (banana.py:174). A chunk is added to the buffer. On python3, how should the distinction be made between string and bytes. Buffer seems to be a string, the chunk seems to be bytes, and sometimes opposite.

Banana calls bytes "string". So if you're using banana there is only
bytes support. Python 3 vs 2 doesn't matter, it's always going to be
bytes. 
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20150701/819b9fbe/attachment-0002.html>

From northlomax at gmail.com  Wed Jul  1 10:46:01 2015
From: northlomax at gmail.com (=?UTF-8?B?SsO4cm4gTG9tYXg=?=)
Date: Wed, 01 Jul 2015 18:46:01 +0200
Subject: [Twisted-Python] Porting twisted.spread.banana to py3
In-Reply-To: <3d3a7968e433c52f5205373a8ce2ce28@itamarst.org>
References: <5593B406.9060001@gmail.com>
 <3d3a7968e433c52f5205373a8ce2ce28@itamarst.org>
Message-ID: <55941949.3040708@gmail.com>

Thank you very much. That is the exact answer I wanted :)

I'm guessing maybe the tests need updating, because they seem to send 
use unicode data, which of course didn't make any difference in py2, but 
now it does.

On 01.07.2015 18:40, Itamar Turner-Trauring wrote:
>
> On 2015-07-01 05:33, Jørn Lomax wrote:
>
>> I'm a gsoc student working on the buildbot project, porting it to 
>> py3. Part of this is looking at porting the dependencies buildbot has 
>> in twisted and try to port them.
>>
>> twisted.spread is the most used twisted dependency, so I have started 
>> working on this. I started working on banana.py and I have 
>> encountered a question. In dataRecieved (banana.py:174). A chunk is 
>> added to the buffer. On python3, how should the distinction be made 
>> between string and bytes. Buffer seems to be a string, the chunk 
>> seems to be bytes, and sometimes opposite.
> Banana calls bytes "string". So if you're using banana there is only 
> bytes support. Python 3 vs 2 doesn't matter, it's always going to be 
> bytes.
>
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python

-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20150701/8d7a3157/attachment-0002.html>

From jerryguitarist at gmail.com  Wed Jul  1 12:13:07 2015
From: jerryguitarist at gmail.com (Eeshan Garg)
Date: Wed, 1 Jul 2015 23:43:07 +0530
Subject: [Twisted-Python] Need feedback regarding ticket 7934
Message-ID: <CA+2gYiquYq5-EQog=8ck6Nf2vQGyXCxv8HCWBHs=gY-g8jJrig@mail.gmail.com>

Hi everyone!

I would really appreciate it if someone could please take a look at <
https://twistedmatrix.com/trac/ticket/7934> and give me some feedback as to
how to move further with this. After the work on this ticket is finished, I
would like to move on to working on porting to the new logging system. :-)

Thanks!
Eeshan Garg
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20150701/aa89af62/attachment-0002.html>

From glyph at twistedmatrix.com  Wed Jul  1 15:33:15 2015
From: glyph at twistedmatrix.com (Glyph)
Date: Wed, 1 Jul 2015 14:33:15 -0700
Subject: [Twisted-Python] Porting twisted.spread.banana to py3
In-Reply-To: <55941949.3040708@gmail.com>
References: <5593B406.9060001@gmail.com>
 <3d3a7968e433c52f5205373a8ce2ce28@itamarst.org> <55941949.3040708@gmail.com>
Message-ID: <71BF7C30-E3E1-46A7-A55F-4BC6F09A42AB@twistedmatrix.com>


> On Jul 1, 2015, at 9:46 AM, Jørn Lomax <northlomax at gmail.com> wrote:
> 
> Thank you very much. That is the exact answer I wanted :)
> 
> I'm guessing maybe the tests need updating, because they seem to send use unicode data, which of course didn't make any difference in py2, but now it does.

We may actually need to change the wire protocol to allow some applications to continue to work on py3, to allow for a 'text' type that corresponds to Python unicode.  This should probably be done after the initial port though.

-glyph

-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20150701/e9a4fd6a/attachment-0002.html>

From itamar at itamarst.org  Thu Jul  2 07:13:02 2015
From: itamar at itamarst.org (Itamar Turner-Trauring)
Date: Thu, 02 Jul 2015 09:13:02 -0400
Subject: [Twisted-Python] Porting twisted.spread.banana to py3
In-Reply-To: <71BF7C30-E3E1-46A7-A55F-4BC6F09A42AB@twistedmatrix.com>
References: <5593B406.9060001@gmail.com>
 <3d3a7968e433c52f5205373a8ce2ce28@itamarst.org> <55941949.3040708@gmail.com>
 <71BF7C30-E3E1-46A7-A55F-4BC6F09A42AB@twistedmatrix.com>
Message-ID: <f113b8c454a359a93456801a6110e21e@itamarst.org>

 

On 2015-07-01 17:33, Glyph wrote: 

> We may actually need to change the wire protocol to allow some applications to continue to work on py3, to allow for a 'text' type that corresponds to Python unicode. This should probably be done after the initial port though.

Really? That seems like Jelly's job, not Banana's. 
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20150702/608b3407/attachment-0002.html>

From glyph at twistedmatrix.com  Thu Jul  2 12:12:11 2015
From: glyph at twistedmatrix.com (Glyph)
Date: Thu, 2 Jul 2015 11:12:11 -0700
Subject: [Twisted-Python] Porting twisted.spread.banana to py3
In-Reply-To: <f113b8c454a359a93456801a6110e21e@itamarst.org>
References: <5593B406.9060001@gmail.com>
 <3d3a7968e433c52f5205373a8ce2ce28@itamarst.org> <55941949.3040708@gmail.com>
 <71BF7C30-E3E1-46A7-A55F-4BC6F09A42AB@twistedmatrix.com>
 <f113b8c454a359a93456801a6110e21e@itamarst.org>
Message-ID: <79C5EFDB-427B-4740-891B-C0ECFD489EC5@twistedmatrix.com>


> On Jul 2, 2015, at 6:13 AM, Itamar Turner-Trauring <itamar at itamarst.org> wrote:
> 
>  
> On 2015-07-01 17:33, Glyph wrote:
> 
>> 
>> We may actually need to change the wire protocol to allow some applications to continue to work on py3, to allow for a 'text' type that corresponds to Python unicode.  This should probably be done after the initial port though.
> Really? That seems like Jelly's job, not Banana's.
> 
Yes, you're right.

-glyph

-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20150702/6c74b021/attachment-0002.html>

From glyph at twistedmatrix.com  Thu Jul  2 13:21:23 2015
From: glyph at twistedmatrix.com (Glyph Lefkowitz)
Date: Thu, 2 Jul 2015 12:21:23 -0700
Subject: [Twisted-Python] Porting twisted.spread.banana to py3
In-Reply-To: <79C5EFDB-427B-4740-891B-C0ECFD489EC5@twistedmatrix.com>
References: <5593B406.9060001@gmail.com>
 <3d3a7968e433c52f5205373a8ce2ce28@itamarst.org> <55941949.3040708@gmail.com>
 <71BF7C30-E3E1-46A7-A55F-4BC6F09A42AB@twistedmatrix.com>
 <f113b8c454a359a93456801a6110e21e@itamarst.org>
 <79C5EFDB-427B-4740-891B-C0ECFD489EC5@twistedmatrix.com>
Message-ID: <727F97ED-7F8C-4361-B7EF-2439EEDC7885@twistedmatrix.com>


> On Jul 2, 2015, at 11:12 AM, Glyph <glyph at twistedmatrix.com> wrote:
> 
> 
>> On Jul 2, 2015, at 6:13 AM, Itamar Turner-Trauring <itamar at itamarst.org <mailto:itamar at itamarst.org>> wrote:
>> 
>>  
>> On 2015-07-01 17:33, Glyph wrote:
>> 
>>> 
>>> We may actually need to change the wire protocol to allow some applications to continue to work on py3, to allow for a 'text' type that corresponds to Python unicode.  This should probably be done after the initial port though.
>> Really? That seems like Jelly's job, not Banana's.
>> 
> Yes, you're right.

Furthermore (I thought I remembered this!) Jelly already has support for unicode, so nothing will need to change :).

-glyph

-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20150702/4f9166d8/attachment-0002.html>

From jasonjwwilliams at gmail.com  Thu Jul  2 13:39:00 2015
From: jasonjwwilliams at gmail.com (Jason J. W. Williams)
Date: Thu, 2 Jul 2015 12:39:00 -0700
Subject: [Twisted-Python] Silverberg CQL Driver
In-Reply-To: <CA+hid6G_yb=3iAMa4zY638w34X1tWKbk4Ym2P0nSQi1LYBAUdg@mail.gmail.com>
References: <CAHZAEpcC_O6D3iEGhK1G462msSgG9m7CXVqmcSeqxEvsNyUfSg@mail.gmail.com>
 <CA+hid6FbkebfpuOXzcUQ+zZWwtUR=nVJr+Z80OFzmi80Ho5QVQ@mail.gmail.com>
 <CAHZAEpdQYEUz6fRoOVK6Qj_W=yzH7hAn27BdU77+PgES6c8ZfQ@mail.gmail.com>
 <CA+hid6G_yb=3iAMa4zY638w34X1tWKbk4Ym2P0nSQi1LYBAUdg@mail.gmail.com>
Message-ID: <CAHZAEpcGB_KX3X7DWoN=vp1q+8RaN=BBVMBxBdRMwf+OXikf-A@mail.gmail.com>

Sorry for rewaking this thread. Finally getting around to playing with
silverberg, but having a lot of trouble getting it to talk to
Cassandra 2.1.6 (throws "unknown opcode 44" or "unknown opcode 81"
depending on whether I'm trying to use authentication or not).

Was curious if y'all ran without authentication and if you thought
this might be a 2.1.x compatibility issue?

Thank you in advance for any advice.

-J

On Thu, Jan 1, 2015 at 7:51 AM, James Broadhead
<jamesbroadhead at gmail.com> wrote:
> On 29 December 2014 at 19:11, Jason J. W. Williams
> <jasonjwwilliams at gmail.com> wrote:
>>
>> Hi James,
>>
>> Have you guys tried Silverberg? Wondering if its less flakly.
>>
>> -J
>
>
> We haven't -- when I said that, I meant "on some occasions, after 3 years of
> continuous use". It's a sporadic failure mode, and hasn't happened enough
> times for us to investigate deeply. That said, we're in our own DC, so the
> environment is pretty stable. If you're in AWS or similar, you might want to
> run some testing around failure cases (let us know what you find!)
> All that said, we've been very happy with it.
>
> The likelihood is that we'll be working on migrating to Manhattan[1] rather
> than trying out a new Cassandra library.
> Not quite sure which way we'll go, but one option may be to write a
> telephus-like wrapper around the thrift bindings.
>
>
> [1]
> https://blog.twitter.com/2014/manhattan-our-real-time-multi-tenant-distributed-database-for-twitter-scale
>
>
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>



From manish.tomar at gmail.com  Thu Jul  2 16:34:35 2015
From: manish.tomar at gmail.com (Manish Tomar)
Date: Thu, 2 Jul 2015 15:34:35 -0700
Subject: [Twisted-Python] Silverberg CQL Driver
In-Reply-To: <CAHZAEpcGB_KX3X7DWoN=vp1q+8RaN=BBVMBxBdRMwf+OXikf-A@mail.gmail.com>
References: <CAHZAEpcC_O6D3iEGhK1G462msSgG9m7CXVqmcSeqxEvsNyUfSg@mail.gmail.com>
 <CA+hid6FbkebfpuOXzcUQ+zZWwtUR=nVJr+Z80OFzmi80Ho5QVQ@mail.gmail.com>
 <CAHZAEpdQYEUz6fRoOVK6Qj_W=yzH7hAn27BdU77+PgES6c8ZfQ@mail.gmail.com>
 <CA+hid6G_yb=3iAMa4zY638w34X1tWKbk4Ym2P0nSQi1LYBAUdg@mail.gmail.com>
 <CAHZAEpcGB_KX3X7DWoN=vp1q+8RaN=BBVMBxBdRMwf+OXikf-A@mail.gmail.com>
Message-ID: <CABH8oEPmQvHka8JyiKgmD9+D+soJ2L76=Lq3PPR+++HcWCGtVw@mail.gmail.com>

Hi Jason,

On Thu, Jul 2, 2015 at 12:39 PM, Jason J. W. Williams
<jasonjwwilliams at gmail.com> wrote:
> Sorry for rewaking this thread. Finally getting around to playing with
> silverberg, but having a lot of trouble getting it to talk to
> Cassandra 2.1.6 (throws "unknown opcode 44" or "unknown opcode 81"
> depending on whether I'm trying to use authentication or not).
>
> Was curious if y'all ran without authentication and if you thought
> this might be a 2.1.x compatibility issue?
We [1] have been using silverber with cassandra 1.2.9 for quite
sometime now and have not tried with 2+. We currently don't use auth
but I vaguely remember testing it against 1.2.9 and it worked. It
might be a cassandra 2+ compatibility issue.

Regards,
Manish

[1] https://github.com/rackerlabs/otter



From northlomax at gmail.com  Fri Jul  3 15:00:45 2015
From: northlomax at gmail.com (=?UTF-8?B?SsO4cm4gTG9tYXg=?=)
Date: Fri, 03 Jul 2015 23:00:45 +0200
Subject: [Twisted-Python] Porting twisted.spread.banana to py3
In-Reply-To: <727F97ED-7F8C-4361-B7EF-2439EEDC7885@twistedmatrix.com>
References: <5593B406.9060001@gmail.com>
 <3d3a7968e433c52f5205373a8ce2ce28@itamarst.org> <55941949.3040708@gmail.com>
 <71BF7C30-E3E1-46A7-A55F-4BC6F09A42AB@twistedmatrix.com>
 <f113b8c454a359a93456801a6110e21e@itamarst.org>
 <79C5EFDB-427B-4740-891B-C0ECFD489EC5@twistedmatrix.com>
 <727F97ED-7F8C-4361-B7EF-2439EEDC7885@twistedmatrix.com>
Message-ID: <5596F7FD.4000904@gmail.com>

I have found another issue I'm wondering a little how to handle. There 
are places in the bana_test file that sys.maxint is used. This no longer 
exists in python3, so how should it be handled. Should we make an 
artificial maxint to use for python3. I might want to note that it is 
not used for comparison, but to create an integer over a given size:

foo = [1, 2, [3, 4], [30.5, 40.2], 5,
                [b"six", b"seven", [b"eight", 9]], [10],
                # TODO: currently the C implementation's a bit buggy...
                sys.maxint * long(3), sys.maxint * long(2), sys.maxint * 
long(-2)]

regards,
Jørn lomax

On 02.07.2015 21:21, Glyph Lefkowitz wrote:
>
>> On Jul 2, 2015, at 11:12 AM, Glyph <glyph at twistedmatrix.com 
>> <mailto:glyph at twistedmatrix.com>> wrote:
>>
>>
>>> On Jul 2, 2015, at 6:13 AM, Itamar Turner-Trauring 
>>> <itamar at itamarst.org <mailto:itamar at itamarst.org>> wrote:
>>>
>>>
>>> On 2015-07-01 17:33, Glyph wrote:
>>>
>>>>
>>>> We may actually need to change the wire protocol to allow some 
>>>> applications to continue to work on py3, to allow for a 'text' type 
>>>> that corresponds to Python unicode.  This should probably be done 
>>>> after the initial port though.
>>>
>>> Really? That seems like Jelly's job, not Banana's.
>>>
>> Yes, you're right.
>
> Furthermore (I thought I remembered this!) Jelly already has support 
> for unicode, so nothing will need to change :).
>
> -glyph
>
>
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python

-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20150703/f260c246/attachment-0002.html>

From glyph at twistedmatrix.com  Fri Jul  3 18:25:51 2015
From: glyph at twistedmatrix.com (Glyph)
Date: Fri, 3 Jul 2015 17:25:51 -0700
Subject: [Twisted-Python] Porting twisted.spread.banana to py3
In-Reply-To: <5596F7FD.4000904@gmail.com>
References: <5593B406.9060001@gmail.com>
 <3d3a7968e433c52f5205373a8ce2ce28@itamarst.org> <55941949.3040708@gmail.com>
 <71BF7C30-E3E1-46A7-A55F-4BC6F09A42AB@twistedmatrix.com>
 <f113b8c454a359a93456801a6110e21e@itamarst.org>
 <79C5EFDB-427B-4740-891B-C0ECFD489EC5@twistedmatrix.com>
 <727F97ED-7F8C-4361-B7EF-2439EEDC7885@twistedmatrix.com>
 <5596F7FD.4000904@gmail.com>
Message-ID: <BD2A6CF7-1782-4270-93A9-92B17727B02A@twistedmatrix.com>


> On Jul 3, 2015, at 2:00 PM, Jørn Lomax <northlomax at gmail.com> wrote:
> 
> I have found another issue I'm wondering a little how to handle. There are places in the bana_test file that sys.maxint is used. This no longer exists in python3, so how should it be handled. Should we make an artificial maxint to use for python3. I might want to note that it is not used for comparison, but to create an integer over a given size:
> 
> foo = [1, 2, [3, 4], [30.5, 40.2], 5,
>                [b"six", b"seven", [b"eight", 9]], [10],
>                # TODO: currently the C implementation's a bit buggy...
>                sys.maxint * long(3), sys.maxint * long(2), sys.maxint * long(-2)]
> 
> regards,
> Jørn lomax

These tests are just making sure that it's capable of serializing things that don't fit into a machine integer; sys.maxsize should be an acceptable substitute.

-glyph


From wolfgang.kde at rohdewald.de  Fri Jul  3 22:48:49 2015
From: wolfgang.kde at rohdewald.de (Wolfgang Rohdewald)
Date: Sat, 04 Jul 2015 06:48:49 +0200
Subject: [Twisted-Python] Porting twisted.spread.banana to py3
In-Reply-To: <5596F7FD.4000904@gmail.com>
References: <5593B406.9060001@gmail.com>
 <727F97ED-7F8C-4361-B7EF-2439EEDC7885@twistedmatrix.com>
 <5596F7FD.4000904@gmail.com>
Message-ID: <11871278.rmMRdCGn4f@i5>

Am Freitag, 3. Juli 2015, 23:00:45 schrieb Jørn Lomax:
> I have found another issue I'm wondering a little how to handle. There 
> are places in the bana_test file that sys.maxint is used. This no longer 
> exists in python3, so how should it be handled. Should we make an 
> artificial maxint to use for python3. I might want to note that it is 
> not used for comparison, but to create an integer over a given size:

i5:~/tmp/twisted/twisted/test (spread-py3-7598) git show a0d35fa
commit a0d35fa912b055bd65fb76b597de1d64675711d8
Author: Wolfgang Rohdewald <wolfgang at rohdewald.de>
Date:   Sun Nov 2 18:50:54 2014 +0100

    twisted.test.test_banana: PY3 has no sys.maxint

diff --git a/twisted/test/test_banana.py b/twisted/test/test_banana.py
index e0504d0..c43bdc8 100644
--- a/twisted/test/test_banana.py
+++ b/twisted/test/test_banana.py
@@ -455,10 +455,11 @@ class BananaTestCase(BananaTestBase):
         Test feeding the data byte per byte to the receiver. Normally
         data is not split.
         """
+        maxint = sys.maxsize if _PY3 else sys.maxint
         foo = [1, 2, [3, 4], [30.5, 40.2], 5,
                [b"six", b"seven", [b"eight", 9]], [10],
                # TODO: currently the C implementation's a bit buggy...
-               sys.maxint * 3l, sys.maxint * 2l, sys.maxint * long(-2)]
+               maxint * long(3), maxint * long(2), maxint * long(-2)]
         self.enc.sendEncoded(foo)
         self.feed(self.io.getvalue())
         assert self.result == foo, "%s!=%s" % (repr(self.result), repr(foo))

-- 
Wolfgang



From trac at twistedmatrix.com  Sun Jul  5 00:05:18 2015
From: trac at twistedmatrix.com (trac at twistedmatrix.com)
Date: Sun, 05 Jul 2015 06:05:18 -0000
Subject: [Twisted-Python] Weekly Bug Summary
Message-ID: 1436076318.93.1926388747194372241@twistedmatrix.com

An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20150705/92addfa0/attachment-0002.html>

From hawkowl at atleastfornow.net  Tue Jul  7 20:33:25 2015
From: hawkowl at atleastfornow.net (Amber "Hawkie" Brown)
Date: Wed, 8 Jul 2015 10:33:25 +0800
Subject: [Twisted-Python] INCOMPATIBLE CHANGE: Removing hotshot from
	twistd's profiler support
Message-ID: <5251E66C-83F3-440C-91DC-E04A8FA895F5@atleastfornow.net>

Hotshot is completely broke, and it doesn't exist in Python 3. It is currently the default for twistd and since it doesn't work, we should just sidestep the deprecation cycle and remove it, changing the default to something useful.

The ticket with the changes are available on https://twistedmatrix.com/trac/ticket/5137 . The branch attached to it removes HotshotProfiler and amends the default to be cProfile, which is the most useful for users.

In accordance with the policy (https://twistedmatrix.com/trac/wiki/CompatibilityPolicy#ProcedureforExceptionstothisPolicy), this will remain unmerged for at least a week, and requires three signoffs by committers.

Amber "Hawkie" Brown
GPG: https://keybase.io/hawkowl

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 455 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: </pipermail/twisted-python/attachments/20150708/77ca66cd/attachment.sig>

From hawkowl at atleastfornow.net  Tue Jul  7 20:41:34 2015
From: hawkowl at atleastfornow.net (Amber "Hawkie" Brown)
Date: Wed, 8 Jul 2015 10:41:34 +0800
Subject: [Twisted-Python] Proposed compat policy change in regards to
	unmaintained upstream dependencies
Message-ID: <B7B9D65A-BD50-423E-9362-B8F6D5E24505@atleastfornow.net>

Hi,

Since it's been coming up recently, I'm proposing a change to the compat policy, where removing the use of unmaintained/unsupported upstream dependencies is an automatic exception.

This was brought up by Glyph in https://twistedmatrix.com/trac/ticket/5137#comment:11 -- hotshot is broken, unsupported, and unmaintained, and removing something that doesn't work in the first place should be able to be done automatically. This was also the case with PyPAM -- it didn't even seemingly exist, so the Twisted support code couldn't work at all.

So, this email is to get general comment on the scope and possibility of such a change. I believe it would be a worthwhile addition to the policy.

Amber "Hawkie" Brown
GPG: https://keybase.io/hawkowl

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 455 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: </pipermail/twisted-python/attachments/20150708/094b4d6b/attachment.sig>

From glyph at twistedmatrix.com  Tue Jul  7 21:33:55 2015
From: glyph at twistedmatrix.com (Glyph)
Date: Tue, 7 Jul 2015 20:33:55 -0700
Subject: [Twisted-Python] INCOMPATIBLE CHANGE: Removing hotshot from
	twistd's profiler support
In-Reply-To: <5251E66C-83F3-440C-91DC-E04A8FA895F5@atleastfornow.net>
References: <5251E66C-83F3-440C-91DC-E04A8FA895F5@atleastfornow.net>
Message-ID: <C1B8E804-D5AD-48AE-B65F-E6D4FED2DA8B@twistedmatrix.com>


> On Jul 7, 2015, at 7:33 PM, Amber Hawkie Brown <hawkowl at atleastfornow.net> wrote:
> 
> Hotshot is completely broke, and it doesn't exist in Python 3. It is currently the default for twistd and since it doesn't work, we should just sidestep the deprecation cycle and remove it, changing the default to something useful.
> 
> The ticket with the changes are available on https://twistedmatrix.com/trac/ticket/5137 . The branch attached to it removes HotshotProfiler and amends the default to be cProfile, which is the most useful for users.
> 
> In accordance with the policy (https://twistedmatrix.com/trac/wiki/CompatibilityPolicy#ProcedureforExceptionstothisPolicy), this will remain unmerged for at least a week, and requires three signoffs by committers.

You've got my sign-off.  I can't imagine the hypothetical scenario where the current behavior would be useful; according to Zooko's comment on that ticket it's already broken if you're using a supported version of Python.

-glyph
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20150707/ef636bee/attachment-0002.html>

From glyph at twistedmatrix.com  Tue Jul  7 21:50:34 2015
From: glyph at twistedmatrix.com (Glyph)
Date: Tue, 7 Jul 2015 20:50:34 -0700
Subject: [Twisted-Python] Proposed compat policy change in regards to
	unmaintained upstream dependencies
In-Reply-To: <B7B9D65A-BD50-423E-9362-B8F6D5E24505@atleastfornow.net>
References: <B7B9D65A-BD50-423E-9362-B8F6D5E24505@atleastfornow.net>
Message-ID: <FC302FEC-194E-4CDD-984E-14E53ACD5344@twistedmatrix.com>


> On Jul 7, 2015, at 7:41 PM, Amber Hawkie Brown <hawkowl at atleastfornow.net> wrote:
> 
> Hi,
> 
> Since it's been coming up recently, I'm proposing a change to the compat policy, where removing the use of unmaintained/unsupported upstream dependencies is an automatic exception.
> 
> This was brought up by Glyph in https://twistedmatrix.com/trac/ticket/5137#comment:11 -- hotshot is broken, unsupported, and unmaintained, and removing something that doesn't work in the first place should be able to be done automatically. This was also the case with PyPAM -- it didn't even seemingly exist, so the Twisted support code couldn't work at all.
> 
> So, this email is to get general comment on the scope and possibility of such a change. I believe it would be a worthwhile addition to the policy.


I think so!  I guess I think so because it was my idea though.

I think we might want to keep the notification part - mainly so that people will realize that they could maintain the upstream dependency if they want to re-introduce this functionality - but the multiple sign-offs and grace period shouldn't be necessary for stuff that just doesn't work.

-glyph


From keturn at keturn.net  Tue Jul  7 22:22:22 2015
From: keturn at keturn.net (Kevin Turner)
Date: Tue, 07 Jul 2015 21:22:22 -0700
Subject: [Twisted-Python] INCOMPATIBLE CHANGE: Removing hotshot from
 twistd's profiler support
In-Reply-To: <5251E66C-83F3-440C-91DC-E04A8FA895F5@atleastfornow.net>
References: <5251E66C-83F3-440C-91DC-E04A8FA895F5@atleastfornow.net>
Message-ID: <1436329342.4104293.317980217.03452071@webmail.messagingengine.com>

+1 to removing hotshot.

It's hard enough to figure out how to profile python applications
without having broken defaults in the mix.



From adi at roiban.ro  Wed Jul  8 01:03:50 2015
From: adi at roiban.ro (Adi Roiban)
Date: Wed, 8 Jul 2015 10:03:50 +0300
Subject: [Twisted-Python] Proposed compat policy change in regards to
 unmaintained upstream dependencies
In-Reply-To: <FC302FEC-194E-4CDD-984E-14E53ACD5344@twistedmatrix.com>
References: <B7B9D65A-BD50-423E-9362-B8F6D5E24505@atleastfornow.net>
 <FC302FEC-194E-4CDD-984E-14E53ACD5344@twistedmatrix.com>
Message-ID: <CAFycZ9djycvy=4Bjzo4ApUYPmKX-pTHsx==szcyUbcBAxptL+w@mail.gmail.com>

I think that it make sense. +1 on this exception.

Thanks!
-- 
Adi Roiban



From trac at twistedmatrix.com  Sun Jul 12 00:05:16 2015
From: trac at twistedmatrix.com (trac at twistedmatrix.com)
Date: Sun, 12 Jul 2015 06:05:16 -0000
Subject: [Twisted-Python] Weekly Bug Summary
Message-ID: 1436681116.24.7515939621061209514@twistedmatrix.com

An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20150712/4a37d7f6/attachment-0002.html>

From hawkowl at atleastfornow.net  Sat Jul 18 10:48:56 2015
From: hawkowl at atleastfornow.net (Amber "Hawkie" Brown)
Date: Sun, 19 Jul 2015 00:48:56 +0800
Subject: [Twisted-Python] New Buildbots -- Ubuntu 15.04 & Fedora 22
Message-ID: <2D400B25-D26A-48E3-A09A-A25F9D05D42F@atleastfornow.net>

Hi everyone,

I've just set up two new pairs of bots -- Ubuntu 15.04 and Fedora 22. They will provide the following coverage:

- Ubuntu 15.04 -- Python 2.7, PyPy 2.5.0, Python 3.4
- Fedora 22 -- Python 2.7, PyPy 2.4.0, Python 3.4

The Ubuntu 15.04 (Py2.7) builder is passing and has moved to supported, while the Fedora 22 (Py2.7) builder has failing tests (see them at https://buildbot.twistedmatrix.com/builders/fedora22-py2.7/builds/0 ). PyPy on both platforms fails, and are unsupported builders. Python 3.4 builds for each will be set up soon.

These new builders also have their dependencies installed by virtualenv, so the versions of the dependencies are now more controllable and should be kept up to date as new versions of them are released.

Twisted Regards,

Amber "Hawkie" Brown
GPG: https://keybase.io/hawkowl

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 455 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: </pipermail/twisted-python/attachments/20150719/0bb66dbb/attachment.sig>

From adi at roiban.ro  Sat Jul 18 12:06:51 2015
From: adi at roiban.ro (Adi Roiban)
Date: Sat, 18 Jul 2015 21:06:51 +0300
Subject: [Twisted-Python] New Buildbots -- Ubuntu 15.04 & Fedora 22
In-Reply-To: <2D400B25-D26A-48E3-A09A-A25F9D05D42F@atleastfornow.net>
References: <2D400B25-D26A-48E3-A09A-A25F9D05D42F@atleastfornow.net>
Message-ID: <CAFycZ9fBU_y_1phYRqtsywPH6v4Ub5X9dk2D0OdzMFHBux1BKQ@mail.gmail.com>

Many thanks for working on this!

If it not a huge effort, can you please update the wiki page
https://twistedmatrix.com/trac/wiki/ContinuousIntegration/Buildslaves
with the new rax-* slaves?

Thanks!

On 18 July 2015 at 19:48, Amber "Hawkie" Brown
<hawkowl at atleastfornow.net> wrote:
> Hi everyone,
>
> I've just set up two new pairs of bots -- Ubuntu 15.04 and Fedora 22. They will provide the following coverage:
>
> - Ubuntu 15.04 -- Python 2.7, PyPy 2.5.0, Python 3.4
> - Fedora 22 -- Python 2.7, PyPy 2.4.0, Python 3.4
>
> The Ubuntu 15.04 (Py2.7) builder is passing and has moved to supported, while the Fedora 22 (Py2.7) builder has failing tests (see them at https://buildbot.twistedmatrix.com/builders/fedora22-py2.7/builds/0 ). PyPy on both platforms fails, and are unsupported builders. Python 3.4 builds for each will be set up soon.
>
> These new builders also have their dependencies installed by virtualenv, so the versions of the dependencies are now more controllable and should be kept up to date as new versions of them are released.
>
> Twisted Regards,
>
> Amber "Hawkie" Brown
> GPG: https://keybase.io/hawkowl
>
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>



-- 
Adi Roiban



From trac at twistedmatrix.com  Sun Jul 19 00:05:16 2015
From: trac at twistedmatrix.com (trac at twistedmatrix.com)
Date: Sun, 19 Jul 2015 06:05:16 -0000
Subject: [Twisted-Python] Weekly Bug Summary
Message-ID: 1437285916.9.4942579099976401143@twistedmatrix.com

An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20150719/f55fdd93/attachment-0002.html>

From keturn at keturn.net  Sun Jul 19 23:28:29 2015
From: keturn at keturn.net (Kevin Turner)
Date: Sun, 19 Jul 2015 22:28:29 -0700
Subject: [Twisted-Python] Proposal -- Code of Conduct
In-Reply-To: <CAOA_4jB-Ut-B4DsWuTs-HHexk_J-_B-Jiu4fN46i8SaCaRv0qQ@mail.gmail.com>
References: <CAOA_4jBv3vv=pYcte7gQ6E8YjKzfBe+1HsPazYak4G=wJtxSgw@mail.gmail.com>
 <35B97E96-E041-4D40-BE37-F6F5C18C4503@twistedmatrix.com>
 <16FF9D27-2329-45EB-B270-96479A5B6395@ox.cx>
 <CA6CAF88-3CF6-4A9F-B38E-746694E9C89E@atleastfornow.net>
 <CAPkN8x+jnEuM-NU8C0fPqO0bQ+tp=s8H4MNvH8LRrrzVhCfrtw@mail.gmail.com>
 <CAOA_4jCf-bmtfNK1CLyo_-AgWYrmUt48hKc-Kg+CXDBw0oR5WQ@mail.gmail.com>
 <1435177502.2290262.306874953.7CCB7A44@webmail.messagingengine.com>
 <CAOA_4jB-Ut-B4DsWuTs-HHexk_J-_B-Jiu4fN46i8SaCaRv0qQ@mail.gmail.com>
Message-ID: <1437370109.2951691.327871321.7C3B3246@webmail.messagingengine.com>

I was chatting with some people at the Community Leadership Summit today
about the Recurse Center's social rules[1], which reminded me of this
thread. What's the status of this proposal?


Links:

  1. https://www.recurse.com/manual#sec-environment
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20150719/cd13d9c8/attachment-0002.html>

From hawkowl at atleastfornow.net  Tue Jul 21 20:33:06 2015
From: hawkowl at atleastfornow.net (Amber "Hawkie" Brown)
Date: Wed, 22 Jul 2015 10:33:06 +0800
Subject: [Twisted-Python] Benchmarks 2.0
Message-ID: <FE5B151D-04B7-47D1-ADA6-6236C93F920B@atleastfornow.net>

Hi everyone,

I'm going to be renovating http://speed.twistedmatrix.com/ soon. Because of the svn -> git migration, the historical data will be archived, so, if you're interested, I'd check it out now.

The new Twisted Speedcenter will have Python 2.7, Python 3.4, and PyPy 2.5, all of the standard versions of Python on Ubuntu 15.04. The benchmarks that it will be running can be found at https://github.com/twisted-infra/twisted-benchmarks .

Twisted Regards,

Amber "Hawkie" Brown
GPG: https://keybase.io/hawkowl

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 455 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: </pipermail/twisted-python/attachments/20150722/701c7c0d/attachment.sig>

From kevin.horn at gmail.com  Wed Jul 22 09:09:30 2015
From: kevin.horn at gmail.com (Kevin Horn)
Date: Wed, 22 Jul 2015 10:09:30 -0500
Subject: [Twisted-Python] Benchmarks 2.0
In-Reply-To: <FE5B151D-04B7-47D1-ADA6-6236C93F920B@atleastfornow.net>
References: <FE5B151D-04B7-47D1-ADA6-6236C93F920B@atleastfornow.net>
Message-ID: <CA+U=zK1nBrG9gqfaFw5XXS=qAkTjZBSyyrLkDiPO0SrxmK1t6w@mail.gmail.com>

<happydance />

On Tue, Jul 21, 2015 at 9:33 PM, Amber "Hawkie" Brown <
hawkowl at atleastfornow.net> wrote:

> Hi everyone,
>
> I'm going to be renovating http://speed.twistedmatrix.com/ soon. Because
> of the svn -> git migration, the historical data will be archived, so, if
> you're interested, I'd check it out now.
>
> The new Twisted Speedcenter will have Python 2.7, Python 3.4, and PyPy
> 2.5, all of the standard versions of Python on Ubuntu 15.04. The benchmarks
> that it will be running can be found at
> https://github.com/twisted-infra/twisted-benchmarks .
>
> Twisted Regards,
>
> Amber "Hawkie" Brown
> GPG: https://keybase.io/hawkowl
>
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
>


-- 
--
Kevin Horn
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20150722/534a0417/attachment-0002.html>

From hawkowl at atleastfornow.net  Thu Jul 23 02:09:28 2015
From: hawkowl at atleastfornow.net (Amber "Hawkie" Brown)
Date: Thu, 23 Jul 2015 16:09:28 +0800
Subject: [Twisted-Python] Twisted 15.3.0 Prerelease 1 Announcement
Message-ID: <F0F9092D-BB84-42BC-82E6-58B975827990@atleastfornow.net>

Hi everyone!

Another Twisted release cycle dawns, and I bring you the first prerelease of Twisted 15.3.

This release is characterised by cleanups and porting, with at least ten modules ported to Python 3, and the removal of Lore, Twisted's use of Hotshot, and various other smaller deprecated classes and functions. Twisted has also shed its usage of "subprojects" -- there is now only one Twisted (long may it reign).

The tarball and the newsfile summarising all the changes can be downloaded from <http://twistedmatrix.com/Releases/pre/15.3.0pre1/>.

Enjoy, and test! If no issues are found, 15.3 will be released sometime next week.

Twisted Regards,

Amber "Hawkie" Brown
GPG: https://keybase.io/hawkowl

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 455 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: </pipermail/twisted-python/attachments/20150723/2f83c2dc/attachment.sig>

From adi at roiban.ro  Thu Jul 23 03:47:31 2015
From: adi at roiban.ro (Adi Roiban)
Date: Thu, 23 Jul 2015 12:47:31 +0300
Subject: [Twisted-Python] Benchmarks 2.0
In-Reply-To: <FE5B151D-04B7-47D1-ADA6-6236C93F920B@atleastfornow.net>
References: <FE5B151D-04B7-47D1-ADA6-6236C93F920B@atleastfornow.net>
Message-ID: <CAFycZ9e9nAyZe2ZL0KSbs42AdF6cJ5-SOmZFO2CNd1vW6sbc4w@mail.gmail.com>

On 22 July 2015 at 05:33, Amber "Hawkie" Brown
<hawkowl at atleastfornow.net> wrote:
> Hi everyone,
>
> I'm going to be renovating http://speed.twistedmatrix.com/ soon. Because of the svn -> git migration, the historical data will be archived, so, if you're interested, I'd check it out now.
>
> The new Twisted Speedcenter will have Python 2.7, Python 3.4, and PyPy 2.5, all of the standard versions of Python on Ubuntu 15.04. The benchmarks that it will be running can be found at https://github.com/twisted-infra/twisted-benchmarks .

Thanks for working on this!

Why are the benchmarks part of twisted-infra and not of twisted ?


-- 
Adi Roiban



From hawkowl at atleastfornow.net  Thu Jul 23 04:27:47 2015
From: hawkowl at atleastfornow.net (Amber "Hawkie" Brown)
Date: Thu, 23 Jul 2015 18:27:47 +0800
Subject: [Twisted-Python] Benchmarks 2.0
In-Reply-To: <CAFycZ9e9nAyZe2ZL0KSbs42AdF6cJ5-SOmZFO2CNd1vW6sbc4w@mail.gmail.com>
References: <FE5B151D-04B7-47D1-ADA6-6236C93F920B@atleastfornow.net>
 <CAFycZ9e9nAyZe2ZL0KSbs42AdF6cJ5-SOmZFO2CNd1vW6sbc4w@mail.gmail.com>
Message-ID: <951AA050-D9B1-4593-BE34-513B0993ED8C@atleastfornow.net>


> On 23 Jul 2015, at 17:47, Adi Roiban <adi at roiban.ro> wrote:
> 
> On 22 July 2015 at 05:33, Amber "Hawkie" Brown
> <hawkowl at atleastfornow.net> wrote:
>> Hi everyone,
>> 
>> I'm going to be renovating http://speed.twistedmatrix.com/ soon. Because of the svn -> git migration, the historical data will be archived, so, if you're interested, I'd check it out now.
>> 
>> The new Twisted Speedcenter will have Python 2.7, Python 3.4, and PyPy 2.5, all of the standard versions of Python on Ubuntu 15.04. The benchmarks that it will be running can be found at https://github.com/twisted-infra/twisted-benchmarks .
> 
> Thanks for working on this!
> 
> Why are the benchmarks part of twisted-infra and not of twisted ?
> 

No particular reason. I just put them there as they're connected to our infra, but really, they are a form of validation test and should be moved into Twisted when everything is rolling and they can be used better for that.

> 
> --
> Adi Roiban
> 
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 455 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: </pipermail/twisted-python/attachments/20150723/911e5d99/attachment.sig>

From rgacote at appropriatesolutions.com  Fri Jul 24 11:29:37 2015
From: rgacote at appropriatesolutions.com (Ray Cote)
Date: Fri, 24 Jul 2015 13:29:37 -0400
Subject: [Twisted-Python] [Twisted-web] Twisted 15.3.0 Prerelease 1
	Announcement
In-Reply-To: <F0F9092D-BB84-42BC-82E6-58B975827990@atleastfornow.net>
References: <F0F9092D-BB84-42BC-82E6-58B975827990@atleastfornow.net>
Message-ID: <CAG5tnzoF0bqr9_R_m2oa5+uOjBysjxAkSF1fgEgDuhjJyaW0UA@mail.gmail.com>

The number of 'ported to Python 3' items in this release is exciting.
Looks like I can start moving my first small legacy Twisted project over to
3.4 next month.
Looking forward to see how it goes.
--Ray


On Thu, Jul 23, 2015 at 4:09 AM, Amber "Hawkie" Brown <
hawkowl at atleastfornow.net> wrote:

> Hi everyone!
>
> Another Twisted release cycle dawns, and I bring you the first prerelease
> of Twisted 15.3.
>
> This release is characterised by cleanups and porting, with at least ten
> modules ported to Python 3, and the removal of Lore, Twisted's use of
> Hotshot, and various other smaller deprecated classes and functions.
> Twisted has also shed its usage of "subprojects" -- there is now only one
> Twisted (long may it reign).
>
> The tarball and the newsfile summarising all the changes can be downloaded
> from <http://twistedmatrix.com/Releases/pre/15.3.0pre1/>.
>
> Enjoy, and test! If no issues are found, 15.3 will be released sometime
> next week.
>
> Twisted Regards,
>
> Amber "Hawkie" Brown
> GPG: https://keybase.io/hawkowl
>
>
> _______________________________________________
> Twisted-web mailing list
> Twisted-web at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-web
>
>


-- 
Raymond Cote, President
voice: +1.603.924.6079 email: rgacote at AppropriateSolutions.com skype:
ray.cote
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20150724/ad8e2988/attachment-0002.html>

From trac at twistedmatrix.com  Sun Jul 26 00:05:21 2015
From: trac at twistedmatrix.com (trac at twistedmatrix.com)
Date: Sun, 26 Jul 2015 06:05:21 -0000
Subject: [Twisted-Python] Weekly Bug Summary
Message-ID: 1437890721.36.5047483692716023902@twistedmatrix.com

An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20150726/cdc27581/attachment-0002.html>

From hawkowl at atleastfornow.net  Mon Jul 27 02:01:54 2015
From: hawkowl at atleastfornow.net (Amber "Hawkie" Brown)
Date: Mon, 27 Jul 2015 16:01:54 +0800
Subject: [Twisted-Python] Considerations for Twisted prereleases on PyPI
Message-ID: <2AAC7A3B-AA55-4CEB-BEF5-732CCB8D373C@atleastfornow.net>

Hi everyone,

PyPI + pip has supported uploading prereleases for a long while, and this would be a much better way for you, the Twisted user, to get the prereleases, rather than messing about with tarballs.

Pip 1.4+ (which according to https://caremad.io/2015/04/a-year-of-pypi-downloads/ constitutes 80%+ of pips) supports prereleases on PyPI.

So, the question is, do people think we should start putting them on PyPI? Is it worth some users on ancient pips inadvertantly getting (admittedly quite stable) prereleases? Would you use it, and would you be more likely to test Twisted prereleases if they were distributed like this (in addition to the tarball)?

Thanks,

Amber "Hawkie" Brown
GPG: https://keybase.io/hawkowl

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 455 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: </pipermail/twisted-python/attachments/20150727/b4ef2238/attachment.sig>

From hs at ox.cx  Mon Jul 27 02:31:44 2015
From: hs at ox.cx (Hynek Schlawack)
Date: Mon, 27 Jul 2015 10:31:44 +0200
Subject: [Twisted-Python] Considerations for Twisted prereleases on PyPI
In-Reply-To: <2AAC7A3B-AA55-4CEB-BEF5-732CCB8D373C@atleastfornow.net>
References: <2AAC7A3B-AA55-4CEB-BEF5-732CCB8D373C@atleastfornow.net>
Message-ID: <29B43726-243C-4D39-A7BD-3815C7FF28A5@ox.cx>

> So, the question is, do people think we should start putting them on PyPI? Is it worth some users on ancient pips inadvertantly getting (admittedly quite stable) prereleases? Would you use it, and would you be more likely to test Twisted prereleases if they were distributed like this (in addition to the tarball)?

Yes, I would and yes we should.  Current (more than 1 year old) Ubuntu LTS comes with pip 1.5.4, CentOS 7 comes with virtualenv 1.10.1 which seems (https://pypi.python.org/pypi/virtualenv/1.10.1) to come with pip 1.4.1.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 801 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: </pipermail/twisted-python/attachments/20150727/2a10413d/attachment.sig>

From dynamicgl at gmail.com  Mon Jul 27 05:17:12 2015
From: dynamicgl at gmail.com (Gelin Yan)
Date: Mon, 27 Jul 2015 19:17:12 +0800
Subject: [Twisted-Python] An error occurred with twisted 15.2.1 & python
	3.4.3 on windows
Message-ID: <CABkOF6Q03Tt=EUEu7TPUj-jTLr6AXvO3s5-agzNWTPucVrYC_Q@mail.gmail.com>

Hi All

   When I tried to run a simple twisted program and noticed there was an
error as following:

File "C:\Python34\lib\site-packages\twisted\python\lockfile.py", line 52,
in <module>
    _open = file
NameError: name 'file' is not defined


   simply replace file as open like

_open = open

   can run the program.

  Is it a bug?

Regards

gelin yan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20150727/48302d93/attachment-0002.html>

From mithrandi at mithrandi.net  Tue Jul 28 01:46:26 2015
From: mithrandi at mithrandi.net (Tristan Seligmann)
Date: Tue, 28 Jul 2015 07:46:26 +0000
Subject: [Twisted-Python] An error occurred with twisted 15.2.1 & python
 3.4.3 on windows
In-Reply-To: <CABkOF6Q03Tt=EUEu7TPUj-jTLr6AXvO3s5-agzNWTPucVrYC_Q@mail.gmail.com>
References: <CABkOF6Q03Tt=EUEu7TPUj-jTLr6AXvO3s5-agzNWTPucVrYC_Q@mail.gmail.com>
Message-ID: <CAMcKhMQQ6PByjkvavK-Ps-iPARxrR1C85v_R4s7hrAz8Rw1QTg@mail.gmail.com>

On Mon, 27 Jul 2015 at 13:18 Gelin Yan <dynamicgl at gmail.com> wrote:

>   Is it a bug?
>

Yes; see https://twistedmatrix.com/trac/ticket/7626 for more details.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20150728/4934063e/attachment-0002.html>

From dynamicgl at gmail.com  Tue Jul 28 04:29:47 2015
From: dynamicgl at gmail.com (Gelin Yan)
Date: Tue, 28 Jul 2015 18:29:47 +0800
Subject: [Twisted-Python] An error occurred with twisted 15.2.1 & python
 3.4.3 on windows
In-Reply-To: <CAMcKhMQQ6PByjkvavK-Ps-iPARxrR1C85v_R4s7hrAz8Rw1QTg@mail.gmail.com>
References: <CABkOF6Q03Tt=EUEu7TPUj-jTLr6AXvO3s5-agzNWTPucVrYC_Q@mail.gmail.com>
 <CAMcKhMQQ6PByjkvavK-Ps-iPARxrR1C85v_R4s7hrAz8Rw1QTg@mail.gmail.com>
Message-ID: <CABkOF6SS7-sNeOofTvk+2kjNsODzfMekomE2+dnkPw=apv9fYw@mail.gmail.com>

On Tue, Jul 28, 2015 at 3:46 PM, Tristan Seligmann <mithrandi at mithrandi.net>
wrote:

> On Mon, 27 Jul 2015 at 13:18 Gelin Yan <dynamicgl at gmail.com> wrote:
>
>>   Is it a bug?
>>
>
> Yes; see https://twistedmatrix.com/trac/ticket/7626 for more details.
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>
>
  It looks like this bug has existed for almost one year. Do we have
windows building slave for python 3?

Regards

gelin yan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20150728/356b7487/attachment-0002.html>

From a at runtel.ru  Tue Jul 28 11:09:42 2015
From: a at runtel.ru (Alexey Panyovin)
Date: Tue, 28 Jul 2015 20:09:42 +0300
Subject: [Twisted-Python] conch defer for dataReceived
Message-ID: <55B7B756.3050701@runtel.ru>

Hello all.
Help me please.
Tell me how to wrap in Defer dataReceived.
For example, I need to execute a command and send receive data in 
callback. The only yet I found - to use the session number sent commands 
and replies received

Can one example.
Thanks in advance!

--
Alexey




From glyph at twistedmatrix.com  Tue Jul 28 18:38:45 2015
From: glyph at twistedmatrix.com (Glyph Lefkowitz)
Date: Tue, 28 Jul 2015 17:38:45 -0700
Subject: [Twisted-Python] An error occurred with twisted 15.2.1 & python
	3.4.3 on windows
In-Reply-To: <CABkOF6SS7-sNeOofTvk+2kjNsODzfMekomE2+dnkPw=apv9fYw@mail.gmail.com>
References: <CABkOF6Q03Tt=EUEu7TPUj-jTLr6AXvO3s5-agzNWTPucVrYC_Q@mail.gmail.com>
 <CAMcKhMQQ6PByjkvavK-Ps-iPARxrR1C85v_R4s7hrAz8Rw1QTg@mail.gmail.com>
 <CABkOF6SS7-sNeOofTvk+2kjNsODzfMekomE2+dnkPw=apv9fYw@mail.gmail.com>
Message-ID: <FC33FA30-B3B0-4CB2-9F73-17E043E81EF8@twistedmatrix.com>


> On Jul 28, 2015, at 3:29 AM, Gelin Yan <dynamicgl at gmail.com> wrote:
> 
> 
> 
> On Tue, Jul 28, 2015 at 3:46 PM, Tristan Seligmann <mithrandi at mithrandi.net <mailto:mithrandi at mithrandi.net>> wrote:
> On Mon, 27 Jul 2015 at 13:18 Gelin Yan <dynamicgl at gmail.com <mailto:dynamicgl at gmail.com>> wrote:
>   Is it a bug?
> 
> Yes; see https://twistedmatrix.com/trac/ticket/7626 <https://twistedmatrix.com/trac/ticket/7626> for more details.
> 
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com <mailto:Twisted-Python at twistedmatrix.com>
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python <http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python>
> 
> 
>   It looks like this bug has existed for almost one year. Do we have windows building slave for python 3?

No.  For this reason, technically Twisted only supports Python 3 on Linux.  Does anyone feel like volunteering to set up a 3 builder?  I wonder if HawkOwl has already done this...

-glyph

-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20150728/1bc68321/attachment-0002.html>

From glyph at twistedmatrix.com  Tue Jul 28 18:40:18 2015
From: glyph at twistedmatrix.com (Glyph Lefkowitz)
Date: Tue, 28 Jul 2015 17:40:18 -0700
Subject: [Twisted-Python] conch defer for dataReceived
In-Reply-To: <55B7B756.3050701@runtel.ru>
References: <55B7B756.3050701@runtel.ru>
Message-ID: <12D1621D-57AC-465C-9CD5-79BA2B5A2332@twistedmatrix.com>


> On Jul 28, 2015, at 10:09 AM, Alexey Panyovin <a at runtel.ru> wrote:
> 
> Hello all.
> Help me please.
> Tell me how to wrap in Defer dataReceived.
> For example, I need to execute a command and send receive data in callback. The only yet I found - to use the session number sent commands and replies received


If you want to have commands and responses, you need a higher-level callback than simply dataReceived.  This is what, for example, AMP <https://twistedmatrix.com/documents/current/api/twisted.protocols.amp.html <https://twistedmatrix.com/documents/current/api/twisted.protocols.amp.html>> is for.

-glyph

-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20150728/33441461/attachment-0002.html>

From hawkowl at atleastfornow.net  Tue Jul 28 21:05:00 2015
From: hawkowl at atleastfornow.net (Amber "Hawkie" Brown)
Date: Wed, 29 Jul 2015 13:05:00 +1000
Subject: [Twisted-Python] An error occurred with twisted 15.2.1 & python
	3.4.3 on windows
In-Reply-To: <FC33FA30-B3B0-4CB2-9F73-17E043E81EF8@twistedmatrix.com>
References: <CABkOF6Q03Tt=EUEu7TPUj-jTLr6AXvO3s5-agzNWTPucVrYC_Q@mail.gmail.com>
 <CAMcKhMQQ6PByjkvavK-Ps-iPARxrR1C85v_R4s7hrAz8Rw1QTg@mail.gmail.com>
 <CABkOF6SS7-sNeOofTvk+2kjNsODzfMekomE2+dnkPw=apv9fYw@mail.gmail.com>
 <FC33FA30-B3B0-4CB2-9F73-17E043E81EF8@twistedmatrix.com>
Message-ID: <A3418781-BEC7-4B88-906E-23A1043781E1@atleastfornow.net>


> On 29 Jul 2015, at 10:38, Glyph Lefkowitz <glyph at twistedmatrix.com> wrote:
> 
>> 
>> On Jul 28, 2015, at 3:29 AM, Gelin Yan <dynamicgl at gmail.com> wrote:
>> 
>> 
>> 
>> On Tue, Jul 28, 2015 at 3:46 PM, Tristan Seligmann <mithrandi at mithrandi.net> wrote:
>> On Mon, 27 Jul 2015 at 13:18 Gelin Yan <dynamicgl at gmail.com> wrote:
>>   Is it a bug?
>> 
>> Yes; see https://twistedmatrix.com/trac/ticket/7626 for more details.
>> 
>> _______________________________________________
>> Twisted-Python mailing list
>> Twisted-Python at twistedmatrix.com
>> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
>> 
>> 
>>   It looks like this bug has existed for almost one year. Do we have windows building slave for python 3?
> 
> No.  For this reason, technically Twisted only supports Python 3 on Linux.  Does anyone feel like volunteering to set up a 3 builder?  I wonder if HawkOwl has already done this...

I haven't -- I don't think I have access or know how to get onto the Windows builders. Happy to set up a Py3 tests+coverage builder (after PyCon AU, that is). (Also, I might set up a Py2.7 coverage builder now we have https://codecov.io/github/twisted/twisted to combine it...)

- Amber

> 
> -glyph
> 
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 455 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: </pipermail/twisted-python/attachments/20150729/282ce359/attachment.sig>

From a at runtel.ru  Tue Jul 28 23:02:04 2015
From: a at runtel.ru (Alexey Panyovin)
Date: Wed, 29 Jul 2015 08:02:04 +0300
Subject: [Twisted-Python] conch defer for dataReceived
In-Reply-To: <12D1621D-57AC-465C-9CD5-79BA2B5A2332@twistedmatrix.com>
References: <55B7B756.3050701@runtel.ru>
 <12D1621D-57AC-465C-9CD5-79BA2B5A2332@twistedmatrix.com>
Message-ID: <55B85E4C.3040207@runtel.ru>


I'm use self made queue for my task.
I'll try to amp.

Thanks glyph!

С уважением,
-- 
Паневин Алексей
Коммерческий директор

ООО Рантел

e-mail: a at runtel.ru
Tel: +7 (495) 134-30-60 (1011)
Tel: +7 (906) 680-04-04

29.07.15 3:40, Glyph Lefkowitz пишет:
>
>> On Jul 28, 2015, at 10:09 AM, Alexey Panyovin <a at runtel.ru 
>> <mailto:a at runtel.ru>> wrote:
>>
>> Hello all.
>> Help me please.
>> Tell me how to wrap in Defer dataReceived.
>> For example, I need to execute a command and send receive data in 
>> callback. The only yet I found - to use the session number sent 
>> commands and replies received
>
> If you want to have commands and responses, you need a higher-level 
> callback than simply dataReceived.  This is what, for example, AMP 
> <https://twistedmatrix.com/documents/current/api/twisted.protocols.amp.html> 
> is for.
>
> -glyph
>
>
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python

-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20150729/bcca0d40/attachment-0002.html>

From glyph at twistedmatrix.com  Wed Jul 29 02:56:29 2015
From: glyph at twistedmatrix.com (Glyph)
Date: Wed, 29 Jul 2015 01:56:29 -0700
Subject: [Twisted-Python] conch defer for dataReceived
In-Reply-To: <55B85E4C.3040207@runtel.ru>
References: <55B7B756.3050701@runtel.ru>
 <12D1621D-57AC-465C-9CD5-79BA2B5A2332@twistedmatrix.com>
 <55B85E4C.3040207@runtel.ru>
Message-ID: <E52FADC1-B9A1-484D-9015-6CFD20FB1043@twistedmatrix.com>


> On Jul 28, 2015, at 10:02 PM, Alexey Panyovin <a at runtel.ru> wrote:
> 
> I'm use self made queue for my task.
> I'll try to amp.
> 
> Thanks glyph!

Good luck Alexey!  Thanks for using Twisted!

Please feel free to ask any more questions you have about using AMP.

-glyph

-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20150729/03414abf/attachment-0002.html>

From a at runtel.ru  Wed Jul 29 03:09:23 2015
From: a at runtel.ru (Alexey Panyovin)
Date: Wed, 29 Jul 2015 12:09:23 +0300
Subject: [Twisted-Python] conch defer for dataReceived
In-Reply-To: <E52FADC1-B9A1-484D-9015-6CFD20FB1043@twistedmatrix.com>
References: <55B7B756.3050701@runtel.ru>
 <12D1621D-57AC-465C-9CD5-79BA2B5A2332@twistedmatrix.com>
 <55B85E4C.3040207@runtel.ru>
 <E52FADC1-B9A1-484D-9015-6CFD20FB1043@twistedmatrix.com>
Message-ID: <55B89843.5000402@runtel.ru>

Thans You!

I found same solution, but to another problem like this.

Channel class:

class SFTPChannel(channel.SSHChannel):
     name ='session' _sftp = defer.Deferred()
     # defer = def channelOpen(self, _):d =self.conn.sendRequest(self, 'subsystem', common.NS('sftp'), wantReply=True)
         self.conn.sftp_channel_defer = d.addCallbacks(self._cbSFTP)@defer.inlineCallbacks def _cbSFTP(self, result):self.client = FileTransferClient()
         self.client.makeConnection(self)
         self.dataReceived =self.client.dataReceived
         self._sftp.callback(self.client)

def get_file(self, *args): print args

Use in exteral module m = connection.sftp_channel._sftp.addCallback(connection.sftp_channel.get_file, *['./222/test.txt', '/root/freeswitch_37_17.tar'])
m.addCallback(self._cbFileRCopy)
m.addErrback(self._ebFileRCopy)

I think, if set some defer in SSHChannel in

def channelOpen(self, data): self.conn.sendRequest(self, 'exec', 
common.NS(self.command), wantReply=True).addCallback(self._gotResponse) 
self._chennel_defer = Defered()

and in

def dataReceived(self, data): self._chennel_defer  = some_def()

But in this case one channel = one command = one respons 29.07.15 11:56, 
Glyph пишет:
>> On Jul 28, 2015, at 10:02 PM, Alexey Panyovin <a at runtel.ru 
>> <mailto:a at runtel.ru>> wrote:
>> I'm use self made queue for my task. I'll try to amp. Thanks glyph! 
> Good luck Alexey!  Thanks for using Twisted!
> Please feel free to ask any more questions you have about using AMP.
> -glyph
>
> _______________________________________________
> Twisted-Python mailing list
> Twisted-Python at twistedmatrix.com
> http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20150729/3fc5b46a/attachment-0002.html>

From rgacote at appropriatesolutions.com  Wed Jul 29 08:38:21 2015
From: rgacote at appropriatesolutions.com (Ray Cote)
Date: Wed, 29 Jul 2015 10:38:21 -0400
Subject: [Twisted-Python] An error occurred with twisted 15.2.1 & python
 3.4.3 on windows
In-Reply-To: <FC33FA30-B3B0-4CB2-9F73-17E043E81EF8@twistedmatrix.com>
References: <CABkOF6Q03Tt=EUEu7TPUj-jTLr6AXvO3s5-agzNWTPucVrYC_Q@mail.gmail.com>
 <CAMcKhMQQ6PByjkvavK-Ps-iPARxrR1C85v_R4s7hrAz8Rw1QTg@mail.gmail.com>
 <CABkOF6SS7-sNeOofTvk+2kjNsODzfMekomE2+dnkPw=apv9fYw@mail.gmail.com>
 <FC33FA30-B3B0-4CB2-9F73-17E043E81EF8@twistedmatrix.com>
Message-ID: <CAG5tnzqVyO=+OsHZqPuAWeXJQUsbhiKuc=8KE5AH1SgWg733JA@mail.gmail.com>

On Tue, Jul 28, 2015 at 8:38 PM, Glyph Lefkowitz <glyph at twistedmatrix.com>
wrote:

> No.  For this reason, technically Twisted only supports Python 3 on
> Linux.  Does anyone feel like volunteering to set up a 3 builder?  I wonder
> if HawkOwl has already done this...
>

I know I don't have the personal bandwidth to deploy and manage a
Python3/Windows Buildbot, but I (my company) can kick-in for an A0 Azure
instance to run a Buildbot:
    <http://azure.microsoft.com/en-us/pricing/details/virtual-machines/>
.

--Ray


-- 
Raymond Cote, President
voice: +1.603.924.6079 email: rgacote at AppropriateSolutions.com skype:
ray.cote
-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20150729/e9a3c468/attachment-0002.html>

From jcraig at gsacrd.ab.ca  Wed Jul 29 08:39:13 2015
From: jcraig at gsacrd.ab.ca (Judy Craig)
Date: Wed, 29 Jul 2015 08:39:13 -0600
Subject: [Twisted-Python] An error occurred with twisted 15.2.1 & python
	3.4.3 on
Message-ID: <fc.000f81d802d84c243b9aca00d75c4a5f.2d84c25@gsacrd.ab.ca>

This is an automatic reply. I am away from the office for the summer, returning on Tuesday, August 25, 2015.  I will be happy to get back to you then.  

Enjoy your summer!

Judy Craig
Student Services

This email and any files transmitted with it may be confidential and are intended solely for the use of the individual or entity to whom they are addressed. If you have received this email in error please notify the system manager. If you are not
the named addressee you should not disseminate, distribute or copy this email.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: </pipermail/twisted-python/attachments/20150729/1405cf2b/attachment-0002.html>

