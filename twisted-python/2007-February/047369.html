<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Problems with long term connections?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Problems%20with%20long%20term%20connections%3F&In-Reply-To=%3C1171549557.17088.9.camel%40enterprise%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="047368.html">
   <LINK REL="Next"  HREF="047370.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Problems with long term connections?</H1>
    <B>Thomas Jacob</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Problems%20with%20long%20term%20connections%3F&In-Reply-To=%3C1171549557.17088.9.camel%40enterprise%3E"
       TITLE="[Twisted-Python] Problems with long term connections?">jacob at internet24.de
       </A><BR>
    <I>Thu Feb 15 07:25:56 MST 2007</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="047368.html">[Twisted-Python] Problems with long term connections?
</A></li>
        <LI>Next message (by thread): <A HREF="047370.html">[Twisted-Python] Problems with long term connections?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47369">[ date ]</a>
              <a href="thread.html#47369">[ thread ]</a>
              <a href="subject.html#47369">[ subject ]</a>
              <a href="author.html#47369">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I would implement some sort of keep-alive mechanism
for those connections, something that will periodically do
some sort of ping/pong sequence (possibly even
using TCP's keepalive feature if that is available, anyone
know if Twisted can request it on at least some platforms?).

(Cf. for instance this 
<A HREF="http://libkeepalive.sourceforge.net/docs/TCP-Keepalive-HOWTO">http://libkeepalive.sourceforge.net/docs/TCP-Keepalive-HOWTO</A>
)

This has at least two advantages, the first being
that will be able to know that the other side has gone
down, and that you will have to reopen your TCP
connection, the second being that there maybe various
state-full routers/firewalls in between your
communication endpoints that could possibly 
&quot;age out&quot; your connection if you do not send
any packets for some time.

The main disadvantage is that you generate data traffic even
if you do not actually do anything.

On Wed, 2007-02-14 at 17:46 +0000, John Pote wrote:
&gt;<i> Hi everyone,
</I>&gt;<i> I am putting together a number of servers that will all communicate with 
</I>&gt;<i> each other every 5 or 10 minutes via  TCP/IP connections. It occured to 
</I>&gt;<i> me that once a connection has been established I might as well leave it 
</I>&gt;<i> open permanently. Are there any problems/side effects of doing this? Is 
</I>&gt;<i> it better policy to close and re-open the connection every now and then?
</I>&gt;<i> 
</I>&gt;<i> Also am I correct in assuming that if a computer at one end of a 
</I>&gt;<i> TCP/IPconnection crashes or otherwise becomes unavailable the twisted 
</I>&gt;<i> program at the other end will only know this when it attempts to send a 
</I>&gt;<i> packet to the now crashed computer and, having no reply, gets a timeout.
</I>&gt;<i> 
</I>&gt;<i> Thanks for your help,
</I>&gt;<i> John
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 191 bytes
Desc: This is a digitally signed message part
URL: &lt;/pipermail/twisted-python/attachments/20070215/43c926bd/attachment.sig&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="047368.html">[Twisted-Python] Problems with long term connections?
</A></li>
	<LI>Next message (by thread): <A HREF="047370.html">[Twisted-Python] Problems with long term connections?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47369">[ date ]</a>
              <a href="thread.html#47369">[ thread ]</a>
              <a href="subject.html#47369">[ subject ]</a>
              <a href="author.html#47369">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
