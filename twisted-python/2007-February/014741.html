<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Reactor getting stuck in random places on Windows?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Reactor%20getting%20stuck%20in%20random%20places%20on%20Windows%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014760.html">
   <LINK REL="Next"  HREF="014744.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Reactor getting stuck in random places on Windows?</H1>
    <B>Steve Freitas</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Reactor%20getting%20stuck%20in%20random%20places%20on%20Windows%3F&In-Reply-To="
       TITLE="[Twisted-Python] Reactor getting stuck in random places on Windows?">sflist at ihonk.com
       </A><BR>
    <I>Sat Feb  3 00:13:36 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="014760.html">[Twisted-Python] Suppressing terminal window from	reactor.spawnProcess?
</A></li>
        <LI>Next message: <A HREF="014744.html">[Twisted-Python] Reactor getting stuck in random places on	Windows?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14741">[ date ]</a>
              <a href="thread.html#14741">[ thread ]</a>
              <a href="subject.html#14741">[ subject ]</a>
              <a href="author.html#14741">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm writing a Twisted client that uses PB. It seems to be getting stuck
intermittently -- failing to respond to the server's queries. Sometimes
it gets stuck immediately after login, sometimes after it's been running
fine for a while. I'm starting the Twisted client in a terminal window.
What unsticks it in these cases is always a single ^C. Now, sometimes
that spits up an unhandled exception from some place into the log
(stdout) and then it goes on its merry way -- other times it has no
error to report and moves on like nothing happened.

I'm frequently ctrl-C'ing this program as I try my new changes, and
sometimes it takes one to kill it, and sometimes it takes two. Hopefully
this is a clue.

I thought perhaps I had a deferred that was hanging, but in the entire
client, I'm calling addCallback() exactly once -- and it's followed by
an addErrback(), so I don't think the problem is there.

I first noticed this behavior when it was running as a Windows service,
and I thought it may have been related to the necessity of starting the
reactor with calling reactor.run(installSignalHandlers=0) (I didn't yet
see the tip about periodically passing child signals to the reactor),
but it still happens, albeit apparently less often, with a simple
reactor.run().

Any ideas would be appreciated.

Thanks,

Steve



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014760.html">[Twisted-Python] Suppressing terminal window from	reactor.spawnProcess?
</A></li>
	<LI>Next message: <A HREF="014744.html">[Twisted-Python] Reactor getting stuck in random places on	Windows?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14741">[ date ]</a>
              <a href="thread.html#14741">[ thread ]</a>
              <a href="subject.html#14741">[ subject ]</a>
              <a href="author.html#14741">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
