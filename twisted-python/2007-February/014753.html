<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] BananaError &quot;longer than 64 bytes worth of prefix&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20BananaError%20%22longer%20than%2064%20bytes%20worth%20of%20prefix%22&In-Reply-To=20070203181922.25807.2073123345.divmod.quotient.8664%40ohm">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014747.html">
   <LINK REL="Next"  HREF="014754.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] BananaError &quot;longer than 64 bytes worth of prefix&quot;</H1>
    <B>Vincent Cate</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20BananaError%20%22longer%20than%2064%20bytes%20worth%20of%20prefix%22&In-Reply-To=20070203181922.25807.2073123345.divmod.quotient.8664%40ohm"
       TITLE="[Twisted-Python] BananaError &quot;longer than 64 bytes worth of prefix&quot;">vince6 at offshore.ai
       </A><BR>
    <I>Sat Feb  3 23:09:10 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="014747.html">[Twisted-Python] thread synchronization
</A></li>
        <LI>Next message: <A HREF="014754.html">[Twisted-Python] Local Twisted programming contest
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14753">[ date ]</a>
              <a href="thread.html#14753">[ thread ]</a>
              <a href="subject.html#14753">[ subject ]</a>
              <a href="author.html#14753">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
If I Jelly/Banana a 384 bit RSA key, all is fine.  But if I do 1024 bit
key it complains with:

  File &quot;/usr/lib/python2.4/site-packages/twisted/spread/banana.py&quot;, line
138, in dataReceived
    raise BananaError(&quot;Security precaution: longer than 64 bytes worth
of prefix&quot;)
twisted.spread.banana.BananaError: Security precaution: longer than 64
bytes worth of prefix

Code to show problem is below.   It seems like banana does not believe
anyone would want numbers taking up more than 64 bytes, but for RSA keys
such numbers are common.  Should I be doing something different?  

   -- Vince


#!/usr/bin/python

from Crypto.PublicKey import RSA
from os import urandom
from twisted.spread import banana,jelly

# works for 384 bit RSA keys but not 1024
def JellyKeyTest(size):
    print &quot;KeyTest with size=&quot;,size
    RSAkey = RSA.generate(size, urandom)   
    mykeyserial=banana.encode(jelly.jelly(RSAkey))
    RSAkey=jelly.unjelly(banana.decode(mykeyserial))  

JellyKeyTest(384)
JellyKeyTest(1024)






</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014747.html">[Twisted-Python] thread synchronization
</A></li>
	<LI>Next message: <A HREF="014754.html">[Twisted-Python] Local Twisted programming contest
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14753">[ date ]</a>
              <a href="thread.html#14753">[ thread ]</a>
              <a href="subject.html#14753">[ subject ]</a>
              <a href="author.html#14753">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
