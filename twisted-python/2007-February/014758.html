<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Log falls over due to recursion
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Log%20falls%20over%20due%20to%20recursion&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014756.html">
   <LINK REL="Next"  HREF="014759.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Log falls over due to recursion</H1>
    <B>Steve Freitas</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Log%20falls%20over%20due%20to%20recursion&In-Reply-To="
       TITLE="[Twisted-Python] Log falls over due to recursion">sflist at ihonk.com
       </A><BR>
    <I>Mon Feb  5 06:18:05 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="014756.html">[Twisted-Python] Debian Python 2.4 Buildslave
</A></li>
        <LI>Next message: <A HREF="014759.html">[Twisted-Python] Suppressing terminal window from	reactor.spawnProcess?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14758">[ date ]</a>
              <a href="thread.html#14758">[ thread ]</a>
              <a href="subject.html#14758">[ subject ]</a>
              <a href="author.html#14758">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Submitted as evidence that I'm not as good at thinking through the
consequences of my actions as I'd like. Embarrassingly so. Enjoy.

I'd like to send log events to a log server via xmlrpc. So I created an
object with write() and flush() functions, and passed it to
t.p.log.FileLogObserver. In write(), I intended to use
t.w.xmlrpc.Proxy.callRemote() to send the log entry someplace. However,
this creates some log messages of its own as the xmlrpc._QueryFactory
starts up and shuts down. These trigger my observer, of course, which
tries to send 'em out over Proxy.callRemote() again, and pretty soon I'm
leaping out of my chair trying to dodge melted drive screws and paper
coin roll wrappers on various ballistic trajectories. (Well, they were
sitting on my computer. Never mind.)

I tried using FileLogObserver.stop() right before the xmlrpc call and
using start() after the call completes. It didn't work, but even if it
did, it would be a poor solution, since it would miss any log events
occurring during that time.

So I guess I need to somehow divert the log output of the consequences
of my particular call (Proxy.callRemote()) to another sink, all the
while leaving the rest of the logging functioning normally. Any
semi-reasonable way to do that?

Steve



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014756.html">[Twisted-Python] Debian Python 2.4 Buildslave
</A></li>
	<LI>Next message: <A HREF="014759.html">[Twisted-Python] Suppressing terminal window from	reactor.spawnProcess?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14758">[ date ]</a>
              <a href="thread.html#14758">[ thread ]</a>
              <a href="subject.html#14758">[ subject ]</a>
              <a href="author.html#14758">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
