<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: Using twisted.trial with nose unittest system
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Re%3A%20Using%20twisted.trial%20with%20nose%20unittest%20system&In-Reply-To=%3C20070207150612.25807.1140716030.divmod.quotient.13225%40ohm%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="047281.html">
   <LINK REL="Next"  HREF="047288.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: Using twisted.trial with nose unittest system</H1>
    <B>Jean-Paul Calderone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Re%3A%20Using%20twisted.trial%20with%20nose%20unittest%20system&In-Reply-To=%3C20070207150612.25807.1140716030.divmod.quotient.13225%40ohm%3E"
       TITLE="[Twisted-Python] Re: Using twisted.trial with nose unittest system">exarkun at divmod.com
       </A><BR>
    <I>Wed Feb  7 08:06:12 MST 2007</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="047281.html">[Twisted-Python] Re: Using twisted.trial with nose unittest system
</A></li>
        <LI>Next message (by thread): <A HREF="047288.html">[Twisted-Python] Re: Using twisted.trial with nose unittest system
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47286">[ date ]</a>
              <a href="thread.html#47286">[ thread ]</a>
              <a href="subject.html#47286">[ subject ]</a>
              <a href="author.html#47286">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 07 Feb 2007 12:46:14 +0100, Antoine Pitrou &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">antoine.pitrou at wengo.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i>Hi,
</I>&gt;<i>
</I>&gt;&gt;<i> I spent some more time investigating this today and found that someone
</I>&gt;&gt;<i> has written a plugin for nose that allows it to test twisted code.  I
</I>&gt;&gt;<i> don't think it looks as nice as trial, but it should work for the
</I>&gt;&gt;<i> basics.    You can see it here:
</I>&gt;&gt;<i> <A HREF="http://python-nose.googlecode.com/svn/trunk/nose/twistedtools.py">http://python-nose.googlecode.com/svn/trunk/nose/twistedtools.py</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If I run into some serious issues I will try my best to extend this
</I>&gt;&gt;<i> plugin to support additional capabilities from trial.
</I>&gt;<i>
</I>&gt;<i>Since I'm the author of this &quot;plugin&quot; (just a module actually) your
</I>&gt;<i>remarks are very welcome.
</I>&gt;<i>
</I>&gt;&gt;<i> &gt; def threaded_reactor():
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Yep.  Not pretty by any means. :(
</I>&gt;<i>
</I>&gt;<i>Oh, certainly not less pretty than the self-admitted hacks that trial
</I>&gt;<i>uses (e.g. to stop/restart the reactor).
</I>
I don't think anyone will claim trial doesn't have more than its fair
share of terrifying hacks. :)  I hope that trial isn't being used as
a standard of quality for other coding endeavours.

&gt;<i>
</I>&gt;<i>My &quot;not pretty&quot; solution has something like 50 lines of actual code and
</I>&gt;<i>only uses official Twisted features, which makes its complexity very
</I>&gt;<i>manageable. Compare that to Trial.
</I>
We could do that, but it seems a little silly.  There's a lot more to
trial than just reactor cooperation.  Anyway, I'm not so interested in
this point.

&gt;<i>
</I>&gt;<i>I'm open to any suggestion for not making use of a separate thread but,
</I>&gt;<i>until Twisted officially supports stopping and restarting the reactor, I
</I>&gt;<i>don't think it's possible (without using any of trial's self-admitted
</I>&gt;<i>hacks).
</I>
That would probably involve more knowledge of nose implementation details
than I have right now, or I'd try to offer some.  I'm sure if it were a
simple matter to get things working nicely, you would have done that. :)

&gt;<i>
</I>&gt;<i>However, I'm not interested in grandiloquent rants about &quot;Threads are
</I>&gt;<i>Evil&quot; (I've already read them :-)).
</I>
The one practical problem which this method of integration has is that
it will not allow unit tests to run child processes.  So, one wouldn't
be able to run Twisted's test suite with nose using this.  Of course,
if one has no interest in running tests which run child processes, then
this may not be a big deal.

&gt;<i>
</I>&gt;&gt;<i> You never mentioned why nose interested you.  What's the attraction?
</I>&gt;<i>
</I>&gt;<i>Let me give a few points as for nose vs. Trial :
</I>&gt;<i>- nose does not depend on Twisted. Unless all your Python projects make
</I>&gt;<i>use of Twisted, you certainly don't like having to use a different
</I>&gt;<i>testing tool depending on the project.
</I>&gt;<i>- nose has nice features, including the ability to write tests as
</I>&gt;<i>functions without having to write classes
</I>&gt;<i>- nose has a plugin system which already provides several extensions
</I>&gt;<i>- nose is documented
</I>&gt;<i>
</I>
Thanks for the feature list. :)  The reason I posted to the thread is
that I was interested in which specific features were proving useful
to a real user.  Can I take this as a list of features you find to be
of practical value, as a user of nose yourself?

Jean-Paul


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="047281.html">[Twisted-Python] Re: Using twisted.trial with nose unittest system
</A></li>
	<LI>Next message (by thread): <A HREF="047288.html">[Twisted-Python] Re: Using twisted.trial with nose unittest system
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47286">[ date ]</a>
              <a href="thread.html#47286">[ thread ]</a>
              <a href="subject.html#47286">[ subject ]</a>
              <a href="author.html#47286">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
