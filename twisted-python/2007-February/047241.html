<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Suppressing terminal window from	reactor.spawnProcess?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Suppressing%20terminal%20window%20from%0A%09reactor.spawnProcess%3F&In-Reply-To=%3Cop.tm4aiux8y3d107%40office2%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="047245.html">
   <LINK REL="Next"  HREF="047243.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Suppressing terminal window from	reactor.spawnProcess?</H1>
    <B>Eric Mangold</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Suppressing%20terminal%20window%20from%0A%09reactor.spawnProcess%3F&In-Reply-To=%3Cop.tm4aiux8y3d107%40office2%3E"
       TITLE="[Twisted-Python] Suppressing terminal window from	reactor.spawnProcess?">teratorn at twistedmatrix.com
       </A><BR>
    <I>Fri Feb  2 03:38:44 MST 2007</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="047245.html">[Twisted-Python] Suppressing terminal window	from	reactor.spawnProcess?
</A></li>
        <LI>Next message (by thread): <A HREF="047243.html">[Twisted-Python] Suppressing terminal window from	reactor.spawnProcess?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47241">[ date ]</a>
              <a href="thread.html#47241">[ thread ]</a>
              <a href="subject.html#47241">[ subject ]</a>
              <a href="author.html#47241">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, 02 Feb 2007 02:00:49 -0600, Steve Freitas &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">sflist at ihonk.com</A>&gt; wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I'm doing a Twisted app on Windows. As part of its work it uses
</I>&gt;<i> spawnProcess to temporarily spawn a process to communicate with. When I
</I>&gt;<i> run the app from the command line in the usual fashion, spawnProcess()
</I>&gt;<i> goes on and does its thing quietly and nicely. I then turned the Twisted
</I>&gt;<i> app into a Windows Service, and now when it spawns the process, it opens
</I>&gt;<i> a terminal window. Any idea how to suppress that? I tried the usePTY
</I>&gt;<i> argument but of course that ain't supported on Windows.
</I>&gt;<i>
</I>&gt;<i> Thanks!
</I>&gt;<i>
</I>&gt;<i> Steve
</I>
Unfortunately Twisted doesn't have any way to alter this behavior.

Processes on Windows will inherit the parent's console by default. So when  
you run from the command-line it doesn't need to create a new one.

But when run as a service I suspect that the parent process (Twisted) is  
created DETACHED, so it doesn't have a console. But when you spawn a new  
child it just uses the defaults which then gives you a console.

For what it's worth the win32 API flag of interest is DETACHED_PROCESS  
documented here: <A HREF="http://msdn2.microsoft.com/en-us/library/ms684863.aspx">http://msdn2.microsoft.com/en-us/library/ms684863.aspx</A>

spawnProcess is currently slated for a redesign as per  
<A HREF="http://twistedmatrix.com/trac/ticket/2415">http://twistedmatrix.com/trac/ticket/2415</A>

I will make sure this concern is address in some form or fashion, but in  
the mean time you will have to do some work yourself if you really need  
this feature. Let use know if you get stuck :)

-- 
Eric Mangold
Twisted/Win32 Co-Maintainer


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="047245.html">[Twisted-Python] Suppressing terminal window	from	reactor.spawnProcess?
</A></li>
	<LI>Next message (by thread): <A HREF="047243.html">[Twisted-Python] Suppressing terminal window from	reactor.spawnProcess?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47241">[ date ]</a>
              <a href="thread.html#47241">[ thread ]</a>
              <a href="subject.html#47241">[ subject ]</a>
              <a href="author.html#47241">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
