<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] using py.test with twisted
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20using%20py.test%20with%20twisted&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014871.html">
   <LINK REL="Next"  HREF="014873.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] using py.test with twisted</H1>
    <B>Ralf Schmitt</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20using%20py.test%20with%20twisted&In-Reply-To="
       TITLE="[Twisted-Python] using py.test with twisted">ralf at brainbot.com
       </A><BR>
    <I>Sun Feb 18 11:14:49 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="014871.html">[Twisted-Python] Weekly Bug Summary
</A></li>
        <LI>Next message: <A HREF="014873.html">[Twisted-Python] How to properly return a dict from adbapi
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14872">[ date ]</a>
              <a href="thread.html#14872">[ thread ]</a>
              <a href="subject.html#14872">[ subject ]</a>
              <a href="author.html#14872">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

there's been a discussion about using the nose unittest system together 
with twisted.trial.
I'm attaching a short script which enables the py.test system 
(<A HREF="http://codespeak.net/py/dist/test.html">http://codespeak.net/py/dist/test.html</A>)
to execute unittests which use twisted (it's not compatible with trial, 
instead you have to write your
unittests like you would in py.test.). It uses greenlets in order to 
integrate twisted's mainloop with py.test.
This method might also be applicable with nose (and might be a better 
hack than the threaded_reactor hack).

Tested with a recent twisted trunk and py-0.9.0.Note that the setup and 
teardown methods currently can't return deferreds.

- Ralf



-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: py.test.twisted
Url: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20070218/9109359d/attachment.txt">http://twistedmatrix.com/pipermail/twisted-python/attachments/20070218/9109359d/attachment.txt</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014871.html">[Twisted-Python] Weekly Bug Summary
</A></li>
	<LI>Next message: <A HREF="014873.html">[Twisted-Python] How to properly return a dict from adbapi
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14872">[ date ]</a>
              <a href="thread.html#14872">[ thread ]</a>
              <a href="subject.html#14872">[ subject ]</a>
              <a href="author.html#14872">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
