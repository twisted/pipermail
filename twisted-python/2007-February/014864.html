<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Problem in failure.Failure.__init__
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Problem%20in%20failure.Failure.__init__&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014859.html">
   <LINK REL="Next"  HREF="014865.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Problem in failure.Failure.__init__</H1>
    <B>Brian Granger</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Problem%20in%20failure.Failure.__init__&In-Reply-To="
       TITLE="[Twisted-Python] Problem in failure.Failure.__init__">ellisonbg.net at gmail.com
       </A><BR>
    <I>Thu Feb 15 17:15:02 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="014859.html">[Twisted-Python] Re: startLogging
</A></li>
        <LI>Next message: <A HREF="014865.html">[Twisted-Python] Problem in failure.Failure.__init__
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14864">[ date ]</a>
              <a href="thread.html#14864">[ thread ]</a>
              <a href="subject.html#14864">[ subject ]</a>
              <a href="author.html#14864">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I am using Twisted in a project and have been doing so for a long
time.  Today I ran into something that is really bizzare in
failure.Failure.

I have a simple callback function that I have registered on a deferred:

def myCallback(self, result, arg1, arg2):
    do some stuff....
   possibly:
        raise MyException()

The resulting exception that is raised gets sent down the pipeline and
eventually I end up serializing the Failure to send it over the wire.
The problem is that the resulting Failure is massive!  From looking at
it, the Failure has the entire locals dict.  But in my case, result,
arg1, arg2, self are all really big.  I don't want to throw all of
these things into the Failure, but Twisted seems intent on doing so.
This seems like a problem to blindly have Failure pull in the locals
w/o regard to how big the locals are.  Why is this done?  Can I
prevent it?  Is this a bug?

Thanks

Brian


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014859.html">[Twisted-Python] Re: startLogging
</A></li>
	<LI>Next message: <A HREF="014865.html">[Twisted-Python] Problem in failure.Failure.__init__
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14864">[ date ]</a>
              <a href="thread.html#14864">[ thread ]</a>
              <a href="subject.html#14864">[ subject ]</a>
              <a href="author.html#14864">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
