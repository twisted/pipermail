<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] XWT
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20XWT&In-Reply-To=%3C200205092103.22058.arashi1%40pd.jaring.my%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="001119.html">
   <LINK REL="Next"  HREF="033629.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] XWT</H1>
    <B>Mukhsein Johari</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20XWT&In-Reply-To=%3C200205092103.22058.arashi1%40pd.jaring.my%3E"
       TITLE="[Twisted-Python] XWT">arashi1 at pd.jaring.my
       </A><BR>
    <I>Thu May  9 07:03:21 MDT 2002</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="001119.html">[Twisted-Python] XWT
</A></li>
        <LI>Next message (by thread): <A HREF="033629.html">[Twisted-Python] Two-Way Web
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33628">[ date ]</a>
              <a href="thread.html#33628">[ thread ]</a>
              <a href="subject.html#33628">[ subject ]</a>
              <a href="author.html#33628">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> I discovered XWT yesterday, and *wow*. This is very similar to something
</I>&gt;<i> I've wanted to do, and it's very very cool.
</I>
I think a lot of folks have thought about &quot;adderssing&quot; the inability of 
web-browsers to &quot;accept&quot; incoming messages from a server. Simply that there 
isn't a particular port that a browser would listen to. This sucks as far as 
p2p networking is concerned.

Currently, there are 3 approaches I know of. 

One is the signed applet (as in XWT) method - this requires java (on small 
devices? I doubt it) and also applet signing to enable the applet to open and 
listen on a specific port.

Second is the Javascript LiveConnect  - to serverside javascript method as 
implemented by Netscape. I think this also involves some signing - check the 
javascript docs on the net (somewhere). Incidentally, javascript&lt;-&gt;java 
applet&lt;-&gt;server is also done via a signed java applet.

Third is the &quot;experimental&quot; http header mimetype: multipart/x-mixed-replace
This method is aka &quot;server push&quot;. Konqueror has an experimental add-on called 
&quot;kmultipart&quot; for this. Apparently, the old netscape had it. Not sure about 
mozilla.

This shell script illustrates the thing - cgi-way.
#!/bin/sh
echo &quot;HTTP/1.0 200&quot;
echo &quot;Content-type: multipart/x-mixed-replace;boundary=---ThisRandomString---&quot;
echo &quot;&quot;
echo &quot;---ThisRandomString---&quot;
while true
do
echo &quot;Content-type: text/html&quot;
echo &quot;&quot;
echo &quot;&lt;h2&gt;Processes on this machine updated every 5 seconds&lt;/h2&gt;&quot;
echo &quot;time: &quot;
date
echo &quot;&lt;p&gt;&quot;
echo &quot;&lt;plaintext&gt;&quot;
ps -el
echo &quot;---ThisRandomString---&quot;
sleep 5
done

This of  course needs browser support. In fact, all of the above needs browser 
support.

As you can see, it's all a lot of dirty hacks. What we really need is a 
standardised, _secure_ way of doing real p2p communication between client and 
server. Which really makes client and server very similar (oh ya, that's why 
it's called p2p...duh). This should then be implemented by _all_ browsers. I 
still find it strange that we don't have this yet...

&gt;<i>
</I>&gt;<i> Why is this a limitation? Consider a chat application. In the XML-RPC
</I>&gt;<i> model, you would need to continously poll the server for new messages - and
</I>&gt;<i> if you want low latency, you need to send even more requests per second.
</I>&gt;<i> This is very inefficent and puts a large load on the server.
</I>
That's why we need a better way. :-(

&gt;<i> What I was thinking of therefore was to use a protocol that is two-way,
</I>&gt;<i> allowing the server to send commands to the client asynchronously. These
</I>&gt;<i> would basically be GUI events just as you would from, say, Javascript. For
</I>&gt;<i> example, in a chat application, a new message would result in the server
</I>&gt;<i> sending a &quot;add new text to message display wdiget&quot; command being sent to
</I>&gt;<i> the client, without the client having to request it.
</I>&gt;<i>
</I>&gt;<i> In addition for event driven client-server applications, using such a
</I>&gt;<i> protocol would also allow building P2P apps that use XWT.
</I>
I don't think we want to use XWT. It'll only add yet another dependency to the 
&quot;dependency hell&quot;.

&gt;<i> My protocol of choice would be PB, which is a remote object protocol
</I>&gt;<i> developed for the Twisted server framework
</I>&gt;<i> (<A HREF="http://www.twistedmatrix.com/products/spread">http://www.twistedmatrix.com/products/spread</A>). It has implementation in
</I>&gt;<i> Python, and a Java implementation I wrote
</I>&gt;<i> (<A HREF="http://itamarst.org/software/TwistedJava-0.5.tar.gz">http://itamarst.org/software/TwistedJava-0.5.tar.gz</A>). PB is very
</I>&gt;<i> efficient, asynchronous, and two-way (for example, encoding an array
</I>&gt;<i> containing a short string and two integers will take 150 bytes in XML-RPC,
</I>&gt;<i> and 20 in PB). It was designed for chat systems, massive multiplayer games
</I>&gt;<i> and other systems where latency must be kept at a minimum.
</I>
I think PB would be great..but what about security concerns?

Right now, you could write a signed java applet (in jython!? :-)) to do this 
very thing - a PB &quot;communicator&quot; on the browser end. I could be wrong but I 
don't think you really need XVT at all.

But then...we have the same crap thing of needing java. Have you seen how huge 
the latest JRE is? It's larger than a mozilla download! I think a better 
approach is to write a mozilla plugin. At least then you would have all the 
important platforms covered. This plugin would be smaller, I think.

Of course...we could create our own _strict_ XML based browser in python and 
wxpython or tkinter (erm...yeah)  - deal with only strict xhtml so we can use 
a generic xml parser. Of course then you need to think about layout and so 
on...

Anyway, my 2 cents.
-- 
Regards,
Mukhsein Johari


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="001119.html">[Twisted-Python] XWT
</A></li>
	<LI>Next message (by thread): <A HREF="033629.html">[Twisted-Python] Two-Way Web
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33628">[ date ]</a>
              <a href="thread.html#33628">[ thread ]</a>
              <a href="subject.html#33628">[ subject ]</a>
              <a href="author.html#33628">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
