<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Arms Crisis
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Arms%20Crisis&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001114.html">
   <LINK REL="Next"  HREF="001119.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Arms Crisis</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Arms%20Crisis&In-Reply-To="
       TITLE="[Twisted-Python] Arms Crisis">glyph at twistedmatrix.com
       </A><BR>
    <I>Tue May  7 02:31:18 EDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="001114.html">[Twisted-Python] zaibach
</A></li>
        <LI>Next message: <A HREF="001119.html">[Twisted-Python] XWT
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1117">[ date ]</a>
              <a href="thread.html#1117">[ thread ]</a>
              <a href="subject.html#1117">[ subject ]</a>
              <a href="author.html#1117">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Anyone who has programmed in depth with Twisted probably know about
arm()ing deferreds by now.  Nobody has complained as loudly as I thought
they would, so I'm not sure if this is really that big of a problem, but
I'm questioning my original design decisions regarding .arm().

Originally, I wanted it to be easily determineable whether your callback
would be called before your stack had been escaped; so the system you
returned your Deferred to would .arm() it afterwards.  However, this
creates lots of weird, confusing corners for callbacks to get lost in,
and I have yet to see a situation where it actually matters whether your
current stack frame is escaped before the callback happens.

I would like to propose that we create an experimental mode where .arm()
be made to do nothing (for backwards compatibility), and that
.callback() call whatever callbacks are available immediately; and
.addCallbacks() (and friends) will immediately call any pending
callbacks.  If after an extended period of testing it is discovered that
there are no bugs created with this approach, we should remove .arm()
entirely.

I'd like some feedback on this, though.  Does anyone else think that
callbacks sometimes happening and sometimes not when .addCallbacks() is
called makes a difference?  Anyone feel strongly that .arm() is
confusing and unnecessary?

-- 
 |    &lt;`'&gt;    |  Glyph Lefkowitz: Travelling Sorcerer  |
 |   &lt; _/ &gt;   |  Lead Developer,  the Twisted project  |
 |  &lt; ___/ &gt;  |      <A HREF="http://www.twistedmatrix.com">http://www.twistedmatrix.com</A>      |


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001114.html">[Twisted-Python] zaibach
</A></li>
	<LI>Next message: <A HREF="001119.html">[Twisted-Python] XWT
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1117">[ date ]</a>
              <a href="thread.html#1117">[ thread ]</a>
              <a href="subject.html#1117">[ subject ]</a>
              <a href="author.html#1117">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
