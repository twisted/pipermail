<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Twisted 10.1.0 release status update
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted%2010.1.0%20release%20status%20update&In-Reply-To=%3C1278276524.2221.5.camel%40brainwave%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="054978.html">
   <LINK REL="Next"  HREF="054971.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Twisted 10.1.0 release status update</H1>
    <B>Thomas Hervé</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted%2010.1.0%20release%20status%20update&In-Reply-To=%3C1278276524.2221.5.camel%40brainwave%3E"
       TITLE="[Twisted-Python] Twisted 10.1.0 release status update">therve at free.fr
       </A><BR>
    <I>Sun Jul  4 14:48:44 MDT 2010</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="054978.html">[Twisted-Python] Twisted 10.1.0 release status update
</A></li>
        <LI>Next message (by thread): <A HREF="054971.html">[Twisted-Python] Advice seeked on SMPP implementation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54982">[ date ]</a>
              <a href="thread.html#54982">[ thread ]</a>
              <a href="subject.html#54982">[ subject ]</a>
              <a href="author.html#54982">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Le dimanche 04 juillet 2010 à 10:05 +0100, Jonathan Lange a écrit :
&gt;<i> On Sat, Jul 3, 2010 at 9:43 PM, Thomas Hervé &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">therve at free.fr</A>&gt; wrote:
</I>&gt;<i> ...
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The build step is in the master on cube. I think I've fixed it, sorry
</I>&gt;<i> &gt; for the trouble.
</I>&gt;<i> 
</I>&gt;<i> Thanks. It looks like they're working now.
</I>&gt;<i> 
</I>&gt;<i> What was the problem? If something like this happened again, is there
</I>&gt;<i> anything we can do other than ask for help and then wait?
</I>
The problem was in the msi builder class in the buildbot master. The
specific files holding those objects
is /srv/bb-master/BuildBot/master/twisted_factories.py

This is the interesting part:


class TwistedBdistMsiFactory(TwistedBaseFactory):
    treeStableTimer = 5*60

    uploadBase = 'public_html/builds/'
    def __init__(self, source, uncleanWarnings, platform, pyVersion):
        python = self.python(pyVersion)
        TwistedBaseFactory.__init__(self, python, source,
           uncleanWarnings)
        self.addStep(
            LearnVersion, python=python, package='twisted', 
            workdir='Twisted')


The problem was that the step used to specify &quot;source&quot; as workdir,
instead of &quot;Twisted&quot;. The &quot;source&quot; directory probably doesn't even
exist, so it didn't get the version from the correct place. It got the
wrong value because this step was wrongly copied from
PyOpenSSLBuildFactoryBase class.

Once fixed, a &quot;make restart-master&quot; in /srv/bb-master/BuildBot/ takes
the changed file into account.

Hope this helps,

-- 
Thomas






</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="054978.html">[Twisted-Python] Twisted 10.1.0 release status update
</A></li>
	<LI>Next message (by thread): <A HREF="054971.html">[Twisted-Python] Advice seeked on SMPP implementation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54982">[ date ]</a>
              <a href="thread.html#54982">[ thread ]</a>
              <a href="subject.html#54982">[ subject ]</a>
              <a href="author.html#54982">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
