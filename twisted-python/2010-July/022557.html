<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Knowing whether spawnProcess did anything useful
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Knowing%20whether%20spawnProcess%20did%20anything%20useful&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022614.html">
   <LINK REL="Next"  HREF="022560.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Knowing whether spawnProcess did anything useful</H1>
    <B>Dominic van Berkel</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Knowing%20whether%20spawnProcess%20did%20anything%20useful&In-Reply-To="
       TITLE="[Twisted-Python] Knowing whether spawnProcess did anything useful">dominic at baudvine.net
       </A><BR>
    <I>Tue Jul 13 17:18:10 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="022614.html">[Twisted-Python] What is the minimum effort solution to	make	inetd-managed twisted-based application?
</A></li>
        <LI>Next message: <A HREF="022560.html">[Twisted-Python] Knowing whether spawnProcess did anything	useful
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22557">[ date ]</a>
              <a href="thread.html#22557">[ thread ]</a>
              <a href="subject.html#22557">[ subject ]</a>
              <a href="author.html#22557">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hiya,

I'm looking for a way to know whether spawnProcess() did anything
useful.  That is, whether anything has actually been executed. In my
specific case the executables are all persistent (pluggable modules,
they stick around for a while) so based on the following snippet I
thought I could check whether the resulting ProcessTransport has a pid:

&quot;From before IProcessProtocol.makeConnection is called to before
IProcessProtocol.processEnded is called, pid is an int giving the
platform process ID of this process. pid is None at all other times.&quot;[1]

However, a quick tour on the REPL shows otherwise (than I expected, not
necessarily otherwise than what the docs say):

&gt;&gt;&gt;<i> from twisted.internet import reactor
</I>&gt;&gt;&gt;<i> from twisted.internet import protocol
</I>&gt;&gt;&gt;<i> p = protocol.ProcessProtocol()
</I>&gt;&gt;&gt;<i> f = reactor.spawnProcess(p, &quot;fail&quot;, [&quot;fail&quot;])
</I>&gt;&gt;&gt;<i> f
</I>&lt;Process pid=21053 status=-1&gt;
&gt;&gt;&gt;<i> f.pid
</I>21053

I thought status might be of some relevance, but it didn't really change
when I gave it a shot with actual executables.

Something tells me I'm being massively stupid here, but I'm genuinely
stuck.  Can't really believe that there's no way to do this, though.

Thanks.

[1]
<A HREF="http://twistedmatrix.com/documents/current/api/twisted.internet.interfaces.IProcessTransport.html#pid">http://twistedmatrix.com/documents/current/api/twisted.internet.interfaces.IProcessTransport.html#pid</A>

-- 
Dominic van Berkel
&quot;You don't have conversations with microprocessors. You tell them what
to do, then helplessly watch the disaster when they take you literally.&quot;
- David Brin, Startide Rising

</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022614.html">[Twisted-Python] What is the minimum effort solution to	make	inetd-managed twisted-based application?
</A></li>
	<LI>Next message: <A HREF="022560.html">[Twisted-Python] Knowing whether spawnProcess did anything	useful
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22557">[ date ]</a>
              <a href="thread.html#22557">[ thread ]</a>
              <a href="subject.html#22557">[ subject ]</a>
              <a href="author.html#22557">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
