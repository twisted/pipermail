<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Lore to Sphinx Conversion Progress Report 6
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Lore%20to%20Sphinx%20Conversion%20Progress%20Report%206&In-Reply-To=2DB04741-C874-4EA5-85AE-A3E9DE49E8DA%40twistedmatrix.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022536.html">
   <LINK REL="Next"  HREF="022537.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Lore to Sphinx Conversion Progress Report 6</H1>
    <B>Kevin Horn</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Lore%20to%20Sphinx%20Conversion%20Progress%20Report%206&In-Reply-To=2DB04741-C874-4EA5-85AE-A3E9DE49E8DA%40twistedmatrix.com"
       TITLE="[Twisted-Python] Lore to Sphinx Conversion Progress Report 6">kevin.horn at gmail.com
       </A><BR>
    <I>Sat Jul 10 23:49:54 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="022536.html">[Twisted-Python] Lore to Sphinx Conversion Progress Report 6
</A></li>
        <LI>Next message: <A HREF="022537.html">[Twisted-Python] Lore to Sphinx Conversion Progress Report 6
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22540">[ date ]</a>
              <a href="thread.html#22540">[ thread ]</a>
              <a href="subject.html#22540">[ subject ]</a>
              <a href="author.html#22540">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, Jul 10, 2010 at 9:21 PM, Glyph Lefkowitz &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A>&gt;wrote:

&gt;<i>
</I>&gt;<i> On Jul 10, 2010, at 4:17 PM, Kevin Horn wrote:
</I>&gt;<i>
</I>&gt;<i> On Sat, Jul 10, 2010 at 2:40 AM, Tim Allen &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">screwtape at froup.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> On Sat, Jul 10, 2010 at 02:58:40AM -0000, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at twistedmatrix.comwrote</A>:
</I>&gt;&gt;<i> &gt; At last I've got a buildbot set up generating the sphinx docs.  The
</I>&gt;&gt;<i> &gt; build results can be seen here:
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;   <A HREF="http://buildbot.twistedmatrix.com/builds/sphinx-html-15615/">http://buildbot.twistedmatrix.com/builds/sphinx-html-15615/</A>
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; (or with a different revision number for different revisions; the
</I>&gt;&gt;<i> &gt; containing directory is browseable).
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; It would be great if everyone could go look around and report any
</I>&gt;&gt;<i> &gt; problems you see.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     - In the Documentation Table Of Contents page, &quot;Historical
</I>&gt;&gt;<i>      Documents&quot; is listed between &quot;Twisted Core&quot; and &quot;Twisted Lore&quot;
</I>&gt;&gt;<i>      (presumably because of alphabetical order) but this seems
</I>&gt;&gt;<i>      a strange place for it. Could it be moved to the bottom, or an
</I>&gt;&gt;<i>      appendix, or something?
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> They're in alphabetical order.  The TOC page is generated dynamically by
</I>&gt;<i> looking at the file structure of the docs and that's the order file-globbing
</I>&gt;<i> lists them in.  We can fix this manually post-conversion.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> It's worth noting that even in this peculiar order, the existence of this
</I>&gt;<i> document is an upgrade.  It did not previously exist.  Or, rather, it did,
</I>&gt;<i> but I think the analogous page in the current system is this: &lt;
</I>&gt;<i> <A HREF="http://twistedmatrix.com/documents/10.1.0/">http://twistedmatrix.com/documents/10.1.0/</A>&gt;, which is certainly not as
</I>&gt;<i> nice.
</I>&gt;<i>
</I>&gt;<i> (If you were expecting to see something like &lt;
</I>&gt;<i> <A HREF="http://twistedmatrix.com/documents/10.1.0/core/howto/index.html">http://twistedmatrix.com/documents/10.1.0/core/howto/index.html</A>&gt;, that's
</I>&gt;<i> here: &lt;
</I>&gt;<i> <A HREF="http://buildbot.twistedmatrix.com/builds/sphinx-html-15615/projects/core/howto/index.html">http://buildbot.twistedmatrix.com/builds/sphinx-html-15615/projects/core/howto/index.html</A>
</I>&gt;<i> &gt;.)
</I>&gt;<i>
</I>
As I said, the order can be changed manually.


&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i>    - The bottom of every page has a &quot;Download in other formats: Plain
</I>&gt;&gt;<i>      Text&quot; link that doesn't work; presumably scooped up from the Trac
</I>&gt;&gt;<i>      templates. It should be removed (the Sphinx &quot;Show Source&quot; link is
</I>&gt;&gt;<i>      in the right-hand sidebar anyway).
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Yeah, this is a flaw in the trac theme.  Looks like I forgot to remove it.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> This seems like a simple fix - if you could do it quickly so we can see if
</I>&gt;<i> fixes get propagated to the buildbot, that would be great (so we can get the
</I>&gt;<i> build logistics out of the way for future, more complex issues).
</I>&gt;<i>
</I>&gt;<i>
</I>Hmmm...it won't be propagated to the buildbot automatically, since it's in
the theme files in the lore2sphinx repo.  From what exarkun said it sounds
like it would require another manual checkout of that repo.

I'll change it pretty soon, though.


&gt;<i>
</I>&gt;<i>    - When the breadcrumb navigation at the top of the page gets too
</I>&gt;&gt;<i>      long[1], it wraps to a second line, which looks kind of odd
</I>&gt;&gt;<i>      because the nice gradient background image loops. Changing the CSS
</I>&gt;&gt;<i>      background colour to be the same as the bottom of the gradient
</I>&gt;&gt;<i>      image would probably help.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The breadcrumb names are also kinda weird, and very wordy.
</I>&gt;<i>
</I>&gt;<i> &lt;
</I>&gt;<i> <A HREF="http://buildbot.twistedmatrix.com/builds/sphinx-html-15615/projects/conch/howto/conch_client.html">http://buildbot.twistedmatrix.com/builds/sphinx-html-15615/projects/conch/howto/conch_client.html</A>&gt;
</I>&gt;<i> says &quot;Twisted &gt;&gt; Twisted Documentation Table of Contents &gt;&gt; Twisted Conch
</I>&gt;<i> Documentation &gt;&gt; Twisted Documentation&quot;.  This is altogether too many
</I>&gt;<i> &quot;Twisted&quot;s ;-).
</I>&gt;<i>
</I>&gt;<i> It should really be more like
</I>&gt;<i>
</I>&gt;<i> 'Twisted &gt;&gt; Documentation &gt;&gt; Conch &gt;&gt; &quot;Writing a client with
</I>&gt;<i> Twisted.Conch&quot;'
</I>&gt;<i>
</I>&gt;<i> Again: this is a new feature, so I'm not too concerned if we defer fixing
</I>&gt;<i> this; go ahead if it's easy, but if it's hard, it's still better than the
</I>&gt;<i> status quo, which is to say, not having any navigation at all.
</I>&gt;<i>
</I>&gt;<i>
</I>The breadcrumbs use document titles.  Of course, in my opinion the word
Twisted is used far too often in the document titles, which I think will be
less necessary as we move the docs toward a cohesive whole, rather than a
bunch of separate articles (which I see as a long-term,
out-of-scope-for-this-discussion goal).


&gt;<i>    - Chromium's error console reports:
</I>&gt;&gt;<i>        - A 404 error for &quot;/trac/chrome/common/js/jquery.js&quot;
</I>&gt;&gt;<i>        - A 404 error for &quot;/trac/chrome/common/js/trac.js&quot;
</I>&gt;&gt;<i>        - A 404 error for &quot;/trac/chrome/common/js/search.js&quot;
</I>&gt;&gt;<i>        - A 404 error for &quot;/builds/sphinx-html-15615/_static/dots.gif&quot;
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Ah! This explains why the search quit working.  Not sure why these files
</I>&gt;<i> are missing,  Probably something to do with the custom theme.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> They're missing because this code is hosted on *buildbot*.
</I>&gt;<i> twistedmatrix.com, not twistedmatrix.com.  It's probably most expedient to
</I>&gt;<i> just make those links include the netloc for now.
</I>&gt;<i>
</I>&gt;<i>
</I>&lt;facepalm&gt;

of course.


&gt;<i>    - The Twisted.Conch tutorial[1] has a number of things surrounded
</I>&gt;&gt;<i>      with double-backticks like &quot;``Deferred``&quot; or
</I>&gt;&gt;<i>      &quot;``ClientTransport``&quot;. I'm not sure if that's deliberate or if
</I>&gt;&gt;<i>      it's markup gone horribly wrong.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> This is probably due to missing spaces before/after the markup in the rst
</I>&gt;<i> source.  One of those things that will need to be fixed manually.  I spent a
</I>&gt;<i> lot of time trying to fix this in lore2sphinx and when you fix it in one
</I>&gt;<i> place, it breaks somewhere else.  Right now the automated conversion is
</I>&gt;<i> about as good as it is likely to get with a sane amount of effort.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Pardon my ignorance, but why not just *always* add the spaces when
</I>&gt;<i> generating this type of markup?  It doesn't seem like it should be that
</I>&gt;<i> hard; docutils claims to be able to treat ReST as structured, right?  Isn't
</I>&gt;<i> there an API to construct some objects that will do the quoting for you?
</I>&gt;<i>
</I>
It sounds reasonable doesn't it?  But it's harder than that, because extra
spaces in the wrong place can throw off indentation, which is a whole other
mess.  I would much rather go back through and add/remove a bunch of
isolated spaces than try to reconstruct indentation in some of these complex
document structures.


&gt;<i>
</I>&gt;<i>    - The Conch code examples (as linked from the code examples page[2])
</I>&gt;&gt;<i>      are sent with a Python mime-type (which Firefox tries to download)
</I>&gt;&gt;<i>      while the .tac files are sent as text/html; this may be an
</I>&gt;&gt;<i>      artifact of the docs being hosted on the buildbot machine rather
</I>&gt;&gt;<i>      than Sphinx, but I think it would be nice if by default they were
</I>&gt;&gt;<i>      displayed in the browser, syntax-highlighted, with an option to
</I>&gt;&gt;<i>      download the original files (much like Trac does).
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> This is a web server configuration thing.  The files are actually .py and
</I>&gt;<i> .tac files (and probably need to remain so, if we ever want to get automated
</I>&gt;<i> example code tests going).
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Maybe we can do some web server magic to get them nicely displayed in the
</I>&gt;<i> browser, but I see that as a secondary issue for the moment.  Anyone should
</I>&gt;<i> feel free to give a shout if they disagree, though.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I agree completely.
</I>&gt;<i>
</I>&gt;<i> We should fix it so the .tac files are text/x-python as well, so your
</I>&gt;<i> browser can DTRT with them; when I click on an example, I often want to
</I>&gt;<i> download it.
</I>&gt;<i>
</I>&gt;<i> Perhaps the lore markup should be adjusted to format them inline as well,
</I>&gt;<i> though?
</I>&gt;<i>
</I>&gt;<i>    - The Twisted Split FAQ[3] has a heading &quot;Why are arr the packages
</I>&gt;&gt;<i>      still named twisted.*subproject*?&quot;, but it's not obvious whether
</I>&gt;&gt;<i>      the author was trying to use italics (in which case it's
</I>&gt;&gt;<i>      a lore2sphinx bug) or globbing (in which case it's not).
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Pretty sure it was supposed to be italics.  Spacing again.  There are ways
</I>&gt;<i> to make this display properly, but it'll need to be done manually.
</I>&gt;<i>
</I>&gt;<i> Also, this is pretty outdated stuff...we might consider just removing some
</I>&gt;<i> of this.  Or perhaps moving some of it into a more obvious place.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Let's try to have those discussions in separate threads so they can be
</I>&gt;<i> resolved individually.  I don't have an opinion at the moment and would not
</I>&gt;<i> like to develop one in the middle of a monster thread about the whole
</I>&gt;<i> conversion :).
</I>&gt;<i>
</I>
Good idea.


&gt;<i>
</I>&gt;<i>
</I>&gt;<i>    - The Twisted Coding Standard[6] mentions &quot;If you modify, or write
</I>&gt;&gt;<i>      a new, HOWTO, please read the Lore documentation to learn how to
</I>&gt;&gt;<i>      format the docs&quot;; if there's not already a follow-up ticket for
</I>&gt;&gt;<i>      the lore-sphinx conversion titled &quot;Remove references to Lore from
</I>&gt;&gt;<i>      Twisted's non-Lore-related documentation&quot;, there should be, and
</I>&gt;&gt;<i>      this should be in it.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> There isn't, but there will be.  See the transition plan here:
</I>&gt;<i> <A HREF="http://twistedsphinx.funsize.net/transition_plan.html">http://twistedsphinx.funsize.net/transition_plan.html</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> FWIW, you should really start linking to the ticket &lt;
</I>&gt;<i> <A HREF="http://twistedmatrix.com/trac/ticket/4500">http://twistedmatrix.com/trac/ticket/4500</A>&gt;, rather than the &quot;transition
</I>&gt;<i> plan&quot; page, so that folks can comment, link to other tickets, bookmark it
</I>&gt;<i> for review when it comes up, etc.
</I>&gt;<i>
</I>
Hmmm...maybe.  Though the transition plan (which I guess I should update
some) covers more than the ticket, IMO.

I _did_ ask for feedback on it back when, but nobody spoke up...and silence
implies consent :)

At any rate, if there need to be changes made to my sketch of a transition
plan, let's get that figured out ASAP.


&gt;<i>
</I>&gt;<i> [...] All bad spacing issues. [...] Almost all of the remaining problems
</I>&gt;<i> will need to be fixed manually.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> It really seems like there's a lot of these.  I'm grateful to Tim for such
</I>&gt;<i> a thorough job finding them, but I'm sure he missed some - maybe it would be
</I>&gt;<i> worthwhile to get someone else to help make the tool be correct more often?
</I>&gt;<i>
</I>
If someone else can do it great.  What's there at the moment is about as
good as I can make it (unless someone can pay me truly ridiculous amounts of
money...I always have that proviso :) ).


&gt;<i>
</I>&gt;<i> Thanks for the fantastic (and nicely detailed) feedback, Tim!
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> +1.
</I>&gt;<i>
</I>&gt;<i> (I had some thoughts about manual pages but those deserved their own
</I>&gt;<i> message, so I'll send them separately.)
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20100710/24c7ce44/attachment-0001.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20100710/24c7ce44/attachment-0001.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022536.html">[Twisted-Python] Lore to Sphinx Conversion Progress Report 6
</A></li>
	<LI>Next message: <A HREF="022537.html">[Twisted-Python] Lore to Sphinx Conversion Progress Report 6
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22540">[ date ]</a>
              <a href="thread.html#22540">[ thread ]</a>
              <a href="subject.html#22540">[ subject ]</a>
              <a href="author.html#22540">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
