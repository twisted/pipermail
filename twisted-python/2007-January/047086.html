<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] twisted and gprs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20twisted%20and%20gprs&In-Reply-To=%3C45A2C601.8070106%40johnaherne.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="047085.html">
   <LINK REL="Next"  HREF="047087.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] twisted and gprs</H1>
    <B>John Aherne</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20twisted%20and%20gprs&In-Reply-To=%3C45A2C601.8070106%40johnaherne.co.uk%3E"
       TITLE="[Twisted-Python] twisted and gprs">johna at johnaherne.co.uk
       </A><BR>
    <I>Mon Jan  8 15:30:25 MST 2007</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="047085.html">[Twisted-Python] twisted and gprs
</A></li>
        <LI>Next message (by thread): <A HREF="047087.html">[Twisted-Python] twisted and gprs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47086">[ date ]</a>
              <a href="thread.html#47086">[ thread ]</a>
              <a href="subject.html#47086">[ subject ]</a>
              <a href="author.html#47086">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Andreas Kostyrka wrote:
&gt;<i> * John Aherne &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">johna at johnaherne.co.uk</A>&gt; [070108 22:28]:
</I>&gt;<i>   
</I>&gt;&gt;<i> I'm obviously missing some obvious point I think.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I need to be sure that the connection keeps on using the same source/destination ports for the duration, so the firewall lets the conversation carry on.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Provided I don't close the socket at either end will the PDA and server carry on using the same set of source/destination ports.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The test I did I purposely took note of the port used by the PDA as the network people told me to make sure I kept them the same. I then forced the server to send using that port as 
</I>&gt;&gt;<i> the destination. Over the time frame of about 40  minutes I did not need to issue any keepalives. I would rather not issue keepalives since this will cost money on a gprs network based 
</I>&gt;&gt;<i> on data usage.
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> The huge problem here is, that there are no (repeat no) assertations
</I>&gt;<i> how long firewalls keep their association. Worse, you cannot be even
</I>&gt;<i> be sure that the IP addresses of your client are unique. Technically,
</I>&gt;<i> they have to unique up to the NAT gateway.
</I>&gt;<i>
</I>&gt;<i> So basically, going the TCP way, with heart beats (that might need
</I>&gt;<i> automatic/manual tuning, depending upon the network) is a safe
</I>&gt;<i> conservative solution.
</I>&gt;<i>
</I>&gt;<i> Furthermore, GPRS is usually billed at 10/100KB increments. So doing a
</I>&gt;<i> one byte keepalive message every minute, in both directions, would
</I>&gt;<i> mean 5000 minutes or 50000 minutes before the keep alives cause real
</I>&gt;<i> costs. While making the GPRS timeout implies a new connection, and
</I>&gt;<i> lost money, because the payment increments start from zero.
</I>&gt;<i>
</I>&gt;<i> So sending a small keepalive packet is a sensible thing to do.
</I>&gt;<i>
</I>&gt;<i> Andreas
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>&gt;<i>   
</I>Andreas

Thanks for the info.

You are right. The IP addresses are not unique. It is the combination of 
IP/PortNo that is unique if I understand the network people correctly. 
They share about 10 IPs with everyone.

I'll run some more tests on how long the firewall is designed to keep 
its associations. And as well I'll check with the network operators.

I'll also check re the costings for keepalives.

Thanks

John Aherne



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="047085.html">[Twisted-Python] twisted and gprs
</A></li>
	<LI>Next message (by thread): <A HREF="047087.html">[Twisted-Python] twisted and gprs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47086">[ date ]</a>
              <a href="thread.html#47086">[ thread ]</a>
              <a href="subject.html#47086">[ subject ]</a>
              <a href="author.html#47086">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
