<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Twisted server is 5 times SLOWER on Solaris than	Linux?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted%20server%20is%205%20times%20SLOWER%20on%20Solaris%20than%0A%09Linux%3F&In-Reply-To=%3Cfa3d0c740701191751g6d2a8606n721289648119d41e%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="047202.html">
   <LINK REL="Next"  HREF="047178.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Twisted server is 5 times SLOWER on Solaris than	Linux?</H1>
    <B>Jarrod Roberson</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted%20server%20is%205%20times%20SLOWER%20on%20Solaris%20than%0A%09Linux%3F&In-Reply-To=%3Cfa3d0c740701191751g6d2a8606n721289648119d41e%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Twisted server is 5 times SLOWER on Solaris than	Linux?">jarrod at vertigrated.com
       </A><BR>
    <I>Fri Jan 19 18:51:33 MST 2007</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="047202.html">[Twisted-Python] Twisted server is 5 times SLOWER on Solaris	thanLinux?
</A></li>
        <LI>Next message (by thread): <A HREF="047178.html">[Twisted-Python] Twisted sprint at SuperHappyDevHouse15?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47194">[ date ]</a>
              <a href="thread.html#47194">[ thread ]</a>
              <a href="subject.html#47194">[ subject ]</a>
              <a href="author.html#47194">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 1/18/07, <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at divmod.com</A> &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at divmod.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> On 01:59 am, <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">jarrod at vertigrated.com</A> wrote:
</I>&gt;<i>
</I>&gt;<i> &gt;We have LOTS and LOTS of test harness code and profiling code to pinpoint
</I>&gt;<i> &gt;where bottlenecks are. We are going to have process a couple of terabytes
</I>&gt;<i> a
</I>&gt;<i> &gt;day thru this system. Latency thru the system is a high priority because
</I>&gt;<i> of
</I>&gt;<i> &gt;what kind of system it is.
</I>&gt;<i>
</I>&gt;<i> If you do manage to keep Twisted in the loop on this project, please share
</I>&gt;<i> what strategy you used.  It is unfortunately rare that Twisted is itself a
</I>&gt;<i> really performance-critical component of any system (especially a highly
</I>&gt;<i> parallel system), so information about optimization is hard to find.
</I>&gt;<i>
</I>&gt;<i>
</I>
Here is an update. I have learned more about the Niagra chip in the
T1000/T2000 servers.
The T2000 we are using has a 8 core 1 Ghz processor, each core gets 4
threads, so Solaris sees a 32 processor machine.
We noticed from watching top that each thread is only getting 3.1% of CPU
time. Doing the math, that means our Twisted thread is running on a 250 mhz
processor :-(
The Niagra chip is basically like having 32 250mhz processors with a really
effiecient scheduler. With that information in hand, we can now begin to
understand how we need to approach deployment of our Twisted server in this
environment.

To get the kind of client counts ( 2000 clients ) we would have to run 20
instances of our Twisted server, with 100 clients each.
We have tried this and it appears it will work, we need more time to test.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20070119/f031e79c/attachment.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="047202.html">[Twisted-Python] Twisted server is 5 times SLOWER on Solaris	thanLinux?
</A></li>
	<LI>Next message (by thread): <A HREF="047178.html">[Twisted-Python] Twisted sprint at SuperHappyDevHouse15?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47194">[ date ]</a>
              <a href="thread.html#47194">[ thread ]</a>
              <a href="subject.html#47194">[ subject ]</a>
              <a href="author.html#47194">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
