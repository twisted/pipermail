<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] twisted and gprs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20twisted%20and%20gprs&In-Reply-To=%3C45A3503C.6020201%40johnaherne.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="047087.html">
   <LINK REL="Next"  HREF="047089.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] twisted and gprs</H1>
    <B>John Aherne</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20twisted%20and%20gprs&In-Reply-To=%3C45A3503C.6020201%40johnaherne.co.uk%3E"
       TITLE="[Twisted-Python] twisted and gprs">johna at johnaherne.co.uk
       </A><BR>
    <I>Tue Jan  9 01:20:12 MST 2007</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="047087.html">[Twisted-Python] twisted and gprs
</A></li>
        <LI>Next message (by thread): <A HREF="047089.html">[Twisted-Python] twisted and gprs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47088">[ date ]</a>
              <a href="thread.html#47088">[ thread ]</a>
              <a href="subject.html#47088">[ subject ]</a>
              <a href="author.html#47088">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;&gt;<i> Andreas
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks for the info.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> You are right. The IP addresses are not unique. It is the combination of IP/PortNo that is unique if I understand the network people correctly. They share about 10 IPs with everyone.
</I>&gt;&gt;<i>     
</I>&gt;<i> Not even that. At best ports are random. Ports are 16 bit integers
</I>&gt;<i> (and some ranges are reserved). So if you include somehow the client
</I>&gt;<i> IP, you've got a problem.
</I>&gt;<i>
</I>&gt;<i> OTOH, client IPs as they arrive on the server (gateway IP so to say)
</I>&gt;<i> plus ports should be unique.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>   
</I>&gt;&gt;<i> I'll run some more tests on how long the firewall is designed to keep its associations. And as well I'll check with the network operators.
</I>&gt;&gt;<i>     
</I>&gt;<i> The problem here is, that you need to consider:
</I>&gt;<i> *) your app will get deployed on some other network.
</I>&gt;<i> *) the network people change their config (e.g. because the gateway
</I>&gt;<i> has problems to remember all it's associations).
</I>&gt;<i> *) if you have not an insider connection to the real responsible, most
</I>&gt;<i> network operators won't be able to give you that information.
</I>&gt;<i>   
</I>&gt;&gt;<i> I'll also check re the costings for keepalives.
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> Just take a look at the rates for GPRS. In Europe, they are billed
</I>&gt;<i> usually at increments of 100KB. So making a connection timeout and
</I>&gt;<i> reestablishing the GPRS session costs you on average 50KB that you
</I>&gt;<i> could use for application level keep alives.
</I>&gt;<i>
</I>&gt;<i> Andreas
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>&gt;<i>   
</I>Andreas

Thanks.

You are probably right about the cost of keepalives. I'll be setting up 
some sort of test for it.

And switching networks will no doubt prove a problem. But I have a 
feeling they all work on the same basis, so I may be ok if I get the 
basic protocol right.

One issue with the PDAs is as follows:--

One connection to the server is to set up a link the server can use to 
push data to the PDA. The PDA will wait on this connection for data to 
be sent through.

So it is the server that needs to know if this connection is down. The 
server will need to send the keepalives. If the connection is gone, the 
server will mark the unit as gone-away and wait for it to reconnect.

That will present a problem to send keepalives to 100 units and check 
responses. This will take a fair amount of time especially if some of 
them have dropped out. So I might need to have a lower rate of keepalive.

The PDA as client will send its data and status info to another server 
as simple http posts. If it can't find the server it will just timeout 
and the user will need to resend or reconnect.

So I was looking at using twisted for the part where the server was 
pushing data to the PDA based on events occurring elsewhere. I was 
hoping that twisted would give me a basic comms framework that did the 
nuts and bolts and I could plug my application into.

Is that a good possibility.

Thanks

John Aherne




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="047087.html">[Twisted-Python] twisted and gprs
</A></li>
	<LI>Next message (by thread): <A HREF="047089.html">[Twisted-Python] twisted and gprs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47088">[ date ]</a>
              <a href="thread.html#47088">[ thread ]</a>
              <a href="subject.html#47088">[ subject ]</a>
              <a href="author.html#47088">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
