<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Twisted server is 5 times SLOWER on Solaris than	Linux?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted%20server%20is%205%20times%20SLOWER%20on%20Solaris%20than%0A%09Linux%3F&In-Reply-To=%3Cfa3d0c740701171418o77eb07e3nfdb25644d6680607%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="047164.html">
   <LINK REL="Next"  HREF="047166.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Twisted server is 5 times SLOWER on Solaris than	Linux?</H1>
    <B>Jarrod Roberson</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted%20server%20is%205%20times%20SLOWER%20on%20Solaris%20than%0A%09Linux%3F&In-Reply-To=%3Cfa3d0c740701171418o77eb07e3nfdb25644d6680607%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Twisted server is 5 times SLOWER on Solaris than	Linux?">jarrod at vertigrated.com
       </A><BR>
    <I>Wed Jan 17 15:18:13 MST 2007</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="047164.html">[Twisted-Python] Implementing parseargs or getopt using twisted	trial
</A></li>
        <LI>Next message (by thread): <A HREF="047166.html">[Twisted-Python] Twisted server is 5 times SLOWER on Solaris than	Linux?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47165">[ date ]</a>
              <a href="thread.html#47165">[ thread ]</a>
              <a href="subject.html#47165">[ subject ]</a>
              <a href="author.html#47165">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I we have a basic twisted server that we have doing nothing but dropping
received bits on the floor, and sending back a static response.

We have tested it on a Solaris 10 on a Sun T1000 ( 8 cores ) and on Solaris
8 on a Sun V210.
We did initial load testing on a Dell 2850 ( 2 Hyperthreaded P4's ) using
Red Hat WS 3 (Taroon Update 4) / (  Linux 2.4.21-27.ELsmp )

The Solaris boxes are all showing latency 5 times what we are seeing on the
Dell 2850 with 1/5 as many clients to boot.

On the Dell 2850 ( linux thinks it is a quad processor box ) our Twisted
server is more Network I/O bound than CPU bound until we get to around 800 -
900 clients, latency is manageable all the way up to about 1400 clients, at
which time they start getting progressively worse.

All the Sparc boxes start out CPU bound at about 200 clients and latencies
are way worse than Linux with 1400 clients.

The only Solaris 10 x86 box we have to test on is so old it is almost
impossible to compare to even the Dell 2850. :-(

We are using Python 2.4.4 and Twisted 2.4.0 using the poll reactor in all
cases.

Anyone have any idea why we are seeing such poor performance on Solaris?
Is it the Sparc hardware?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20070117/39d32688/attachment.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="047164.html">[Twisted-Python] Implementing parseargs or getopt using twisted	trial
</A></li>
	<LI>Next message (by thread): <A HREF="047166.html">[Twisted-Python] Twisted server is 5 times SLOWER on Solaris than	Linux?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#47165">[ date ]</a>
              <a href="thread.html#47165">[ thread ]</a>
              <a href="subject.html#47165">[ subject ]</a>
              <a href="author.html#47165">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
