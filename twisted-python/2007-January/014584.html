<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Advice on Writing a Custom Twisted Reactor
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Advice%20on%20Writing%20a%20Custom%20Twisted%20Reactor&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014583.html">
   <LINK REL="Next"  HREF="014585.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Advice on Writing a Custom Twisted Reactor</H1>
    <B>Andrew Francis</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Advice%20on%20Writing%20a%20Custom%20Twisted%20Reactor&In-Reply-To="
       TITLE="[Twisted-Python] Advice on Writing a Custom Twisted Reactor">andrewfr_ice at yahoo.com
       </A><BR>
    <I>Wed Jan 10 17:44:16 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="014583.html">[Twisted-Python] twisted and gprs
</A></li>
        <LI>Next message: <A HREF="014585.html">[Twisted-Python] Advice on Writing a Custom Twisted Reactor
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14584">[ date ]</a>
              <a href="thread.html#14584">[ thread ]</a>
              <a href="subject.html#14584">[ subject ]</a>
              <a href="author.html#14584">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Colleagues:

I am a first time poster...

For the past few months I have been experimenting with
using Stackless Python with Twisted. I still consider
myself very much a Twisted newbie. Currently my
problems involve deferreds.

&gt;<i>From doing online searches, I have run across
</I>customized reactors for Twisted. Consequently I am
looking at the custom reactors that come with Twisted.
Like Stackless, many GUIs have a hard time working
with Twisted which blocks. Based on the
ThreadedSelectReactor, most of the reactors are for
GUIs. The general idea is that custom reactor's event
loop calls Twisted in its own thread. This approach
seems like it would work for Stackless and provide a
decent general solution. However there are a few
places where I am not quite clear.

Most of my Stackless programmes have the following
form (think of this as a MainLoop):

~

set up stuff

while (stackless.getruncount() &gt; 1):
   stackless.schedule()

~

Since it seems my custom reactor has to call Twisted
as often as possible. I would wrap
stackless.schedule() (since this is often called):

stacklessReactor.schedule():
    __hook__() # some method that would call Twisted
    stackless.schedule()

Where I start to get a bit confused is:

1) In the Custom reactor.run() method, do I call 
self.__hook__() in the interleave() method? Is there
anything more I have to do in the run() method? Can I
avoid signal handler issues by passing False to
Twisted's reactor.run() ?

2) From my Stackless code, do I have to use
self.callFromThread() to call Twisted methods that
involve deferreds?

Again, any advice would be welcomed.

Cheers,
Andrew

__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
<A HREF="http://mail.yahoo.com">http://mail.yahoo.com</A> 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014583.html">[Twisted-Python] twisted and gprs
</A></li>
	<LI>Next message: <A HREF="014585.html">[Twisted-Python] Advice on Writing a Custom Twisted Reactor
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14584">[ date ]</a>
              <a href="thread.html#14584">[ thread ]</a>
              <a href="subject.html#14584">[ subject ]</a>
              <a href="author.html#14584">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
