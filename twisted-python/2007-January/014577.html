<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] twisted and gprs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20twisted%20and%20gprs&In-Reply-To=45A2B390.6080508%40johnaherne.co.uk">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014576.html">
   <LINK REL="Next"  HREF="014578.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] twisted and gprs</H1>
    <B>Andreas Kostyrka</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20twisted%20and%20gprs&In-Reply-To=45A2B390.6080508%40johnaherne.co.uk"
       TITLE="[Twisted-Python] twisted and gprs">andreas at kostyrka.org
       </A><BR>
    <I>Mon Jan  8 17:01:04 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="014576.html">[Twisted-Python] twisted and gprs
</A></li>
        <LI>Next message: <A HREF="014578.html">[Twisted-Python] twisted and gprs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14577">[ date ]</a>
              <a href="thread.html#14577">[ thread ]</a>
              <a href="subject.html#14577">[ subject ]</a>
              <a href="author.html#14577">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>* John Aherne &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">johna at johnaherne.co.uk</A>&gt; [070108 22:28]:
&gt;<i> I'm obviously missing some obvious point I think.
</I>&gt;<i> 
</I>&gt;<i> I need to be sure that the connection keeps on using the same source/destination ports for the duration, so the firewall lets the conversation carry on.
</I>&gt;<i> 
</I>&gt;<i> Provided I don't close the socket at either end will the PDA and server carry on using the same set of source/destination ports.
</I>&gt;<i> 
</I>&gt;<i> The test I did I purposely took note of the port used by the PDA as the network people told me to make sure I kept them the same. I then forced the server to send using that port as 
</I>&gt;<i> the destination. Over the time frame of about 40  minutes I did not need to issue any keepalives. I would rather not issue keepalives since this will cost money on a gprs network based 
</I>&gt;<i> on data usage.
</I>
The huge problem here is, that there are no (repeat no) assertations
how long firewalls keep their association. Worse, you cannot be even
be sure that the IP addresses of your client are unique. Technically,
they have to unique up to the NAT gateway.

So basically, going the TCP way, with heart beats (that might need
automatic/manual tuning, depending upon the network) is a safe
conservative solution.

Furthermore, GPRS is usually billed at 10/100KB increments. So doing a
one byte keepalive message every minute, in both directions, would
mean 5000 minutes or 50000 minutes before the keep alives cause real
costs. While making the GPRS timeout implies a new connection, and
lost money, because the payment increments start from zero.

So sending a small keepalive packet is a sensible thing to do.

Andreas


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014576.html">[Twisted-Python] twisted and gprs
</A></li>
	<LI>Next message: <A HREF="014578.html">[Twisted-Python] twisted and gprs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14577">[ date ]</a>
              <a href="thread.html#14577">[ thread ]</a>
              <a href="subject.html#14577">[ subject ]</a>
              <a href="author.html#14577">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
