<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: simple dns server with twisted.names
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Re%3A%20simple%20dns%20server%20with%20twisted.names&In-Reply-To=%3C43CA6E26.3070509%40sitasoftware.lu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="044854.html">
   <LINK REL="Next"  HREF="044855.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: simple dns server with twisted.names</H1>
    <B>Yves Glodt</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Re%3A%20simple%20dns%20server%20with%20twisted.names&In-Reply-To=%3C43CA6E26.3070509%40sitasoftware.lu%3E"
       TITLE="[Twisted-Python] Re: simple dns server with twisted.names">y.glodt at sitasoftware.lu
       </A><BR>
    <I>Sun Jan 15 08:45:42 MST 2006</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="044854.html">[Twisted-Python] simple dns server with twisted.names
</A></li>
        <LI>Next message (by thread): <A HREF="044855.html">[Twisted-Python] Documentation virtual sprint, TODAY,	Sat 14th January
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44857">[ date ]</a>
              <a href="thread.html#44857">[ thread ]</a>
              <a href="subject.html#44857">[ subject ]</a>
              <a href="author.html#44857">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, 13 Jan 2006 13:49:17 +0100, Yves Glodt &lt;y.glodt at
sitasoftware.lu&gt; wrote:
&gt;<i> On Fri, 13 Jan 2006 13:49:17 +0100, Yves Glodt &lt;y.glodt at
</I>&gt;<i> sitasoftware.lu&gt; wrote:
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I have read about twisted.names and I guess it can help me in what
</I>&gt;&gt;<i> I have to achieve..
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I have a database which contains a list of ip-addresses and
</I>&gt;&gt;<i> corresponding hostnames.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Now, how could I do to, e.g., write a daemon which would, on dns
</I>&gt;&gt;<i> queries, query the database to resolve the name?
</I>&gt;&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Twisted Names isn't exactly done, as far as pleasant pluggable
</I>&gt;<i> backend support goes.  Take a look at twisted/names/authority.py and
</I>&gt;<i> twisted/names/common.py.  The hook you are probably interested in is
</I>&gt;<i> the _lookup method
</I>
Ok.

I have to admit I am completely new to twisted...

I am also not sure whether I explained myself good in what I want to do...

Basically, I need a replacement for /etc/hosts.

I have a daemon running on my box, and was thinking about adding a 
thread to it which could serve as a simple local dns server.

Right now, my /etc/hosts gets updated by a cronjob every now and then. 
The cronjob fetches IP-addresses and hostnames from a firebird DB and 
writes them to the hosts file.

What I was thinking to do with my daemon is, having in memory a 
list/hashtable of hosts with their IPs. If an IP changes I get a 
firebird event and I can updated it in my list.

Now twisted.names would only have to listen to dns requests (I have e.g. 
wget and openvpn which want to resolve names from my hosts right now 
periodically), lookup the IPs of the requested names in my in-memory 
list of hosts/ips, and answer as a normal dns server.

isn't twisted/names/server what I need for that?

thanks and best regards,
Yves

p.s.
Is there any more documentation available apart of this:
<A HREF="http://twistedmatrix.com/projects/names/">http://twistedmatrix.com/projects/names/</A>
<A HREF="http://twistedmatrix.com/projects/names/documentation/howto/names.html">http://twistedmatrix.com/projects/names/documentation/howto/names.html</A>


&gt;<i> Jean-Paul
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="044854.html">[Twisted-Python] simple dns server with twisted.names
</A></li>
	<LI>Next message (by thread): <A HREF="044855.html">[Twisted-Python] Documentation virtual sprint, TODAY,	Sat 14th January
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44857">[ date ]</a>
              <a href="thread.html#44857">[ thread ]</a>
              <a href="subject.html#44857">[ subject ]</a>
              <a href="author.html#44857">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
