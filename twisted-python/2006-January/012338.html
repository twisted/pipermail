<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Repeatedly calling Deferred.callback()
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Repeatedly%20calling%20Deferred.callback%28%29&In-Reply-To=BE4ACCEB-EFF5-4AC9-9F30-B6DFF4858CE9%40scu.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012337.html">
   <LINK REL="Next"  HREF="012339.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Repeatedly calling Deferred.callback()</H1>
    <B>Andrew Bennetts</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Repeatedly%20calling%20Deferred.callback%28%29&In-Reply-To=BE4ACCEB-EFF5-4AC9-9F30-B6DFF4858CE9%40scu.edu"
       TITLE="[Twisted-Python] Repeatedly calling Deferred.callback()">andrew-twisted at puzzling.org
       </A><BR>
    <I>Thu Jan 12 00:25:41 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="012337.html">[Twisted-Python] Repeatedly calling Deferred.callback()
</A></li>
        <LI>Next message: <A HREF="012339.html">[Twisted-Python] Repeatedly calling Deferred.callback()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12338">[ date ]</a>
              <a href="thread.html#12338">[ thread ]</a>
              <a href="subject.html#12338">[ subject ]</a>
              <a href="author.html#12338">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Jan 11, 2006 at 08:52:02PM -0800, Brian Granger wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> Are Deferred objects designed to have their callback method called  
</I>&gt;<i> multiple times it there are a multiple (discrete) results that arrive  
</I>&gt;<i> asynchronously?  If not, what is the proper construct in Twisted for  
</I>&gt;<i> returning multiple asynchronous results from a single method?
</I>
Deferred objects are one-shot by design, so they are not by themselves suitable
for multiple asynchronous results.

If you have a fixed number of asynchronous operations that want to return
results, you could just return a Deferred per expected result.  Callers that
wish to aggregate those can use a DeferredList.

If you have something that's more like an event source -- you don't know how
many results to expect in advance, you are probably better off with callable
that is invoked each time, and dispatches the result to whatever code is
appropriate at the time.  Quite possibly a state machine written as a class with
different methods that will be invoked for the different kinds of events/results
you expect is appropriate.

If you have something that's conceptually one operation, but the results trickle
in in parts, then perhaps a hybrid approach is suitable.  e.g. consider
downloading a large web-page: somewhere a dataReceived handler is getting
invoked many times, and this can be used to e.g. update a progress bar in a UI
somewhere, but once the entire page has been downloaded then a complete result
can be passed to a Deferred for code that only cares about the final result.

There are probably lots of other variations as well, depending on exactly what
you need.

I hope this helps,

-Andrew.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012337.html">[Twisted-Python] Repeatedly calling Deferred.callback()
</A></li>
	<LI>Next message: <A HREF="012339.html">[Twisted-Python] Repeatedly calling Deferred.callback()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12338">[ date ]</a>
              <a href="thread.html#12338">[ thread ]</a>
              <a href="subject.html#12338">[ subject ]</a>
              <a href="author.html#12338">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
