<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: [Twisted-web] Re: Actual Useful Post
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Re%3A%20%5BTwisted-web%5D%20Re%3A%20Actual%20Useful%20Post&In-Reply-To=%3C2m4q3slcxj.fsf%40starship.python.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="044948.html">
   <LINK REL="Next"  HREF="044952.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: [Twisted-web] Re: Actual Useful Post</H1>
    <B>Michael Hudson</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Re%3A%20%5BTwisted-web%5D%20Re%3A%20Actual%20Useful%20Post&In-Reply-To=%3C2m4q3slcxj.fsf%40starship.python.net%3E"
       TITLE="[Twisted-Python] Re: [Twisted-web] Re: Actual Useful Post">mwh at python.net
       </A><BR>
    <I>Wed Jan 25 05:17:12 MST 2006</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="044948.html">[Twisted-Python] Re: [Twisted-web] Re: Actual Useful Post
</A></li>
        <LI>Next message (by thread): <A HREF="044952.html">[Twisted-Python] Re: [Twisted-web] Re: Actual Useful Post
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44951">[ date ]</a>
              <a href="thread.html#44951">[ thread ]</a>
              <a href="subject.html#44951">[ subject ]</a>
              <a href="author.html#44951">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Christopher Armstrong &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">radeex at gmail.com</A>&gt; writes:

&gt;<i> On 1/25/06, Michael Hudson &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">mwh at python.net</A>&gt; wrote:
</I>&gt;&gt;<i> Jean-Paul Calderone &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at divmod.com</A>&gt; writes:
</I>&gt;&gt;<i> &gt; On Mon, 23 Jan 2006 17:14:32 +0000, Michael Hudson &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">mwh at python.net</A>&gt; wrote:
</I>&gt;&gt;<i> &gt;&gt;&gt;&gt; One issue is classes that are defined in one file but generally used
</I>&gt;&gt;<i> &gt;&gt;&gt;&gt; from another, for example twisted.spread.jelly.Serializable is often
</I>&gt;&gt;<i> &gt;&gt;&gt;&gt; (always?) imported as twisted.spread.pb.Serializable.  Where should it
</I>&gt;&gt;<i> &gt;&gt;&gt;&gt; be documented it?
</I>&gt;&gt;<i> &gt;&gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;&gt; See <A HREF="http://twistedmatrix.com/bugs/issue1143.">http://twistedmatrix.com/bugs/issue1143.</A>  It has the possibly useful
</I>&gt;&gt;<i> &gt;&gt;&gt; suggestion of using __all__ to determine where an aliased thing should be
</I>&gt;&gt;<i> &gt;&gt;&gt; documented.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; +1 for using a mechanism associated with an existing Python idiom
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The pb classes are not in an __all__ currently.  I also think that
</I>&gt;&gt;<i> __all__ is an abomination, but I'll try to suppress that :)
</I>&gt;<i>
</I>&gt;<i> I agree about __all__ being an abomination.  I also don't see how we
</I>&gt;<i> can use __all__ to determine where they're documented without doing
</I>&gt;<i> something weird or hard. For example,
</I>&gt;<i>
</I>&gt;<i> from foo import bar
</I>&gt;<i> __all__ == 'bar'
</I>&gt;<i>
</I>&gt;<i> with static analysis of Python code it is impossible to know what
</I>&gt;<i> source 'bar' is from.
</I>
Not really, no: this is part of the reason my code defines a &quot;System&quot;
and shoves all the data into it.  So long as 'foo' is one of the
modules that gets fed to the extractor, you can resolve this kind of
thing (I've done it before).

&gt;<i> Ok, we can at least have a best try at finding the source by
</I>&gt;<i> trawling PYTHONPATH or something. Don't forget, we should *also*
</I>&gt;<i> either prevent the object from being documented at its
</I>&gt;<i> definition-source, or perhaps put a reference from there to the
</I>&gt;<i> &quot;official&quot; name in the docs.
</I>
Yes, absolutely.

&gt;<i> Hence, I think it's better to have something more explicit to mark
</I>&gt;<i> &quot;official FQPNs&quot;, like aliases =
</I>&gt;<i> {'twisted.spread.flavors.Referenceable':
</I>&gt;<i> 'twisted.spread.pb.Referenceable'}.
</I>
&gt;&gt;<i> &gt;&gt;Hmm, that could work.  Although having the &quot;official&quot; name for a class
</I>&gt;&gt;<i> &gt;&gt;different from its __name__ is fairly horrible :)
</I>&gt;<i>
</I>&gt;<i> Is that a suggestion to hack the __name__ attribute, or to not do this
</I>&gt;<i> kind of interface-different-from-implementation stuff?
</I>
Well, it just strikes me that

from twisted.mail.pop3client import POP3Client as AdvancedPOP3Client

is a little weird.  It will show up in reprs and so on as
&quot;POP3Client&quot;, which seems likely to confuse the poor user if it's
&quot;really&quot; AdvancedPOP3Client.

&gt;&gt;<i> &gt;&gt;&gt; Another option is some sort of explicit hint to the doc extractor, e.g. a define
</I>&gt;&gt;<i> &gt;&gt;&gt; no-op call like &quot;alias('Serializable')&quot; in the relevant module that the doc
</I>&gt;&gt;<i> &gt;&gt;&gt; extractor could notice.  Or keep an explicit list of overrides in a file...
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;These also could work, as could magic comments (though that would be
</I>&gt;&gt;<i> &gt;&gt;marginally harder).
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; -1 for magic markup embedded in source files
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> There's going to need to be some magic/special casing at some level,
</I>&gt;&gt;<i> to deal with twisted.python.components.Interface.
</I>&gt;<i>
</I>&gt;<i> I prefer something like __doc_alias__ = ... to alias(). It's faster! ;-)
</I>&gt;<i> I also wouldn't mind just putting this in some file *outside* of the
</I>&gt;<i> Python code, but I think I prefer slightly to have it next to where
</I>&gt;<i> it's relevant (and easier to maintain).
</I>
Anything is possible :)

Cheers,
mwh

-- 
  The gripping hand is really that there are morons everywhere, it's
  just that the Americon morons are funnier than average.
                              -- Pim van Riezen, alt.sysadmin.recovery



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="044948.html">[Twisted-Python] Re: [Twisted-web] Re: Actual Useful Post
</A></li>
	<LI>Next message (by thread): <A HREF="044952.html">[Twisted-Python] Re: [Twisted-web] Re: Actual Useful Post
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44951">[ date ]</a>
              <a href="thread.html#44951">[ thread ]</a>
              <a href="subject.html#44951">[ subject ]</a>
              <a href="author.html#44951">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
