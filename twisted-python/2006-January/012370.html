<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] SQL Abstraction Layer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20SQL%20Abstraction%20Layer&In-Reply-To=174e01c61bd7%24b0fb36d0%246402a8c0%40dcore">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012367.html">
   <LINK REL="Next"  HREF="012371.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] SQL Abstraction Layer</H1>
    <B>Valentino Volonghi aka Dialtone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20SQL%20Abstraction%20Layer&In-Reply-To=174e01c61bd7%24b0fb36d0%246402a8c0%40dcore"
       TITLE="[Twisted-Python] SQL Abstraction Layer">dialtone at divmod.com
       </A><BR>
    <I>Wed Jan 18 05:28:35 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="012367.html">[Twisted-Python] SQL Abstraction Layer
</A></li>
        <LI>Next message: <A HREF="012371.html">making sqlalchemy work with twisted (was Re: [Twisted-Python] SQL	Abstraction Layer_
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12370">[ date ]</a>
              <a href="thread.html#12370">[ thread ]</a>
              <a href="subject.html#12370">[ subject ]</a>
              <a href="author.html#12370">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Jan 17, 2006 at 09:34:11PM -0500, Paul G wrote:
&gt;<i> correct me if i'm wrong, but hacking/monkeypatching the sqlalchemy 
</I>&gt;<i> accessors which implement this lazy load when attributes are accessed to 
</I>&gt;<i> run their queries with deferToThread() would remove this problem, would it 
</I>&gt;<i> not? more generally speaking, if you're not going to do explicit 
</I>&gt;<i> deferToThread()s in your code (and avoid all attribute access), but rather, 
</I>&gt;<i> say, insert them into the appropriate point in sqlalchemy (sqlengine seems 
</I>&gt;<i> ro tbe the right place, or just a wrapper around the dbapi module), would 
</I>&gt;<i> this not handle the issue as well? am i asking the wrong person/on the 
</I>&gt;<i> wrong list? ;]
</I>
I don't think it's the right approach to patch sqlalchemy to run attribute
access in a thread. You would still get a deferred from an attribute access
and this is pretty hugly to handle.

Just using the eager mode would be perfect, the reason why I don't believe
that much in lazy queries is that you will end up using all the information,
otherwise it's better to query without using the ORM.

Currently SQLAlchemy is so good because it doesn't try to be clever but rather
only exposes the primitives and tries hard to be thread safe so that people
will be free to use it in the best way they want.

-- 
Valentino Volonghi aka Dialtone
Now Running MacOSX 10.4
Blog: <A HREF="http://vvolonghi.blogspot.com">http://vvolonghi.blogspot.com</A>
<A HREF="http://weever.berlios.de">http://weever.berlios.de</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 186 bytes
Desc: not available
Url : <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20060118/cbba7346/attachment.pgp">http://twistedmatrix.com/pipermail/twisted-python/attachments/20060118/cbba7346/attachment.pgp</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012367.html">[Twisted-Python] SQL Abstraction Layer
</A></li>
	<LI>Next message: <A HREF="012371.html">making sqlalchemy work with twisted (was Re: [Twisted-Python] SQL	Abstraction Layer_
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12370">[ date ]</a>
              <a href="thread.html#12370">[ thread ]</a>
              <a href="subject.html#12370">[ subject ]</a>
              <a href="author.html#12370">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
