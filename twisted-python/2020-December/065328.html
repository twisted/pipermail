<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Unjellying and circular references?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Unjellying%20and%20circular%20references%3F&In-Reply-To=%3CCAEeXt4PYmWDUzUOabviMw-OowbLHMMrfkgA4xV-ekdLp4AZCQQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="065327.html">
   <LINK REL="Next"  HREF="065339.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Unjellying and circular references?</H1>
    <B>Jean-Paul Calderone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Unjellying%20and%20circular%20references%3F&In-Reply-To=%3CCAEeXt4PYmWDUzUOabviMw-OowbLHMMrfkgA4xV-ekdLp4AZCQQ%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Unjellying and circular references?">exarkun at twistedmatrix.com
       </A><BR>
    <I>Fri Dec 11 07:04:49 MST 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="065327.html">[Twisted-Python] Unjellying and circular references?
</A></li>
        <LI>Next message (by thread): <A HREF="065339.html">[Twisted-Python] Unjellying and circular references?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65328">[ date ]</a>
              <a href="thread.html#65328">[ thread ]</a>
              <a href="subject.html#65328">[ subject ]</a>
              <a href="author.html#65328">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Dec 11, 2020 at 8:19 AM Jasper Phillips &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">jasperisjaded at gmail.com</A>&gt;
wrote:

&gt;<i> I'm using perspective broker to transfer objects in a networked game,
</I>&gt;<i> which I'm having trouble unjellying -- the remote versions wind up with
</I>&gt;<i> dangling twisted.persisted.crefutil._Dereference instances, so don't match
</I>&gt;<i> the original objects.
</I>&gt;<i>
</I>
Hi!

I'd strongly suggest you switch to a different protocol.  HTTP is quite
capable.  It has some annoying corners but you can avoid them if you
control the client and the server.  If you really want a Twisted-originated
protocol, AMP is a much better choice than PB.  It offers a little bit more
functionality than HTTP without going to the extreme complexity of PB (I am
not going to try to explain those complexities here, I'm just offering my
personal conclusion based on 20 years of experience developing and/or using
Twisted).

This is not to say that PB is the wrong choice for all applications ... but
probably almost all.


&gt;<i> I'm seeing this for objects that have circular references to each other.
</I>&gt;<i> I've refactored things to mostly avoid circular references and sidestep
</I>&gt;<i> this, but have one remaining case where I find circular references mean
</I>&gt;<i> clearer code that I'm reluctant to refactor.
</I>&gt;<i>
</I>&gt;<i> Is there some trick I'm missing to avoid _Dereferences?
</I>&gt;<i>
</I>
No, it's supposed to Just Workâ„¢ so you've found a bug in some part of the
implementation.  If you can produce a minimal reproducing example then it
may be worth a bug report.  But after that, I'd suggest investigating HTTP
or AMP as a replacement for PB.

Jean-Paul
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20201211/5f253b6d/attachment.htm&gt;
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="065327.html">[Twisted-Python] Unjellying and circular references?
</A></li>
	<LI>Next message (by thread): <A HREF="065339.html">[Twisted-Python] Unjellying and circular references?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65328">[ date ]</a>
              <a href="thread.html#65328">[ thread ]</a>
              <a href="subject.html#65328">[ subject ]</a>
              <a href="author.html#65328">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
