<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python]  [RFC] Drop support for Python 3.5 sometime after May 2021?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20%0A%20%3D%3Futf-8%3Fq%3F%3D5BRFC%3D5D_Drop_support_for_Python_3%3F%3D%0A%20%3D%3Futf-8%3Fq%3F%3D2E5_sometime_after_May_2021%3D3F%3F%3D&In-Reply-To=%3C887b3218-b523-483f-8a2d-754266cf35b0%40www.fastmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="065113.html">
   <LINK REL="Next"  HREF="065112.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python]  [RFC] Drop support for Python 3.5 sometime after May 2021?</H1>
    <B>Tom Most</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20%0A%20%3D%3Futf-8%3Fq%3F%3D5BRFC%3D5D_Drop_support_for_Python_3%3F%3D%0A%20%3D%3Futf-8%3Fq%3F%3D2E5_sometime_after_May_2021%3D3F%3F%3D&In-Reply-To=%3C887b3218-b523-483f-8a2d-754266cf35b0%40www.fastmail.com%3E"
       TITLE="[Twisted-Python]  [RFC] Drop support for Python 3.5 sometime after May 2021?">twm at freecog.net
       </A><BR>
    <I>Thu May 28 16:13:42 MDT 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="065113.html">[Twisted-Python] [RFC] Drop support for Python 3.5 sometime after May 2021?
</A></li>
        <LI>Next message (by thread): <A HREF="065112.html">[Twisted-Python] [RFC] Drop support for Python 3.5 sometime after May 2021?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65116">[ date ]</a>
              <a href="thread.html#65116">[ thread ]</a>
              <a href="subject.html#65116">[ subject ]</a>
              <a href="author.html#65116">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, May 22, 2020, at 10:54 PM, Glyph wrote:
&gt;<i> So, pidfd's cool, we should totally use it. Also we should use posix_spawn and maybe some other stuff too. But I wonder if there's any heuristic we could use to speed up our current strategy, like ordering the to-reap list by putting things with no open FDs at the front of it? And optimistically assuming that once we've found something to reap, maybe we can stop? And maybe it should run in a cooperator, rather than just blocking the reactor indefinitely?
</I>
Those all sound like reasonable optimizations with little downside to me.

&gt;<i> Honestly it had not occurred to me that people were managing 20k+ python interpreters at a time with spawnProcess (although, yikes, amazing, you've gotta talk more about this application, and what kind of hardware you're on!)
</I>
Nonono, that was a synthetic stress test. It did spawn Python processes, but they immediately called `exec sleep` to conserve memory.

The result of the test was that the service would run out of memory _well_ before inefficiencies in Twisted's reaping scheme became a problem.
 
---Tom

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="065113.html">[Twisted-Python] [RFC] Drop support for Python 3.5 sometime after May 2021?
</A></li>
	<LI>Next message (by thread): <A HREF="065112.html">[Twisted-Python] [RFC] Drop support for Python 3.5 sometime after May 2021?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65116">[ date ]</a>
              <a href="thread.html#65116">[ thread ]</a>
              <a href="subject.html#65116">[ subject ]</a>
              <a href="author.html#65116">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
