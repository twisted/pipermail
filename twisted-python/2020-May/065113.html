<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] [RFC] Drop support for Python 3.5 sometime after May 2021?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20%5BRFC%5D%20Drop%20support%20for%20Python%203.5%20sometime%0A%20after%20May%202021%3F&In-Reply-To=%3CEC462A98-D7AD-4B9D-BF1E-7C839C1426B0%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="065100.html">
   <LINK REL="Next"  HREF="065116.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] [RFC] Drop support for Python 3.5 sometime after May 2021?</H1>
    <B>Glyph</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20%5BRFC%5D%20Drop%20support%20for%20Python%203.5%20sometime%0A%20after%20May%202021%3F&In-Reply-To=%3CEC462A98-D7AD-4B9D-BF1E-7C839C1426B0%40twistedmatrix.com%3E"
       TITLE="[Twisted-Python] [RFC] Drop support for Python 3.5 sometime after May 2021?">glyph at twistedmatrix.com
       </A><BR>
    <I>Fri May 22 23:54:42 MDT 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="065100.html">[Twisted-Python]  [RFC] Drop support for Python 3.5 sometime after May 2021?
</A></li>
        <LI>Next message (by thread): <A HREF="065116.html">[Twisted-Python]  [RFC] Drop support for Python 3.5 sometime after May 2021?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65113">[ date ]</a>
              <a href="thread.html#65113">[ thread ]</a>
              <a href="subject.html#65113">[ subject ]</a>
              <a href="author.html#65113">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

&gt;<i> On May 19, 2020, at 11:14 AM, Tom Most &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twm at freecog.net</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> On Tue, May 19, 2020, at 5:41 AM, Jean-Paul Calderone wrote:
</I>&gt;&gt;<i> On Tue, May 19, 2020 at 8:33 AM Barry Scott &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">barry.scott at forcepoint.com</A> &lt;mailto:<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">barry.scott at forcepoint.com</A>&gt;&gt; wrote:
</I>&gt;&gt;<i> Why not waitpid for all children (pid=0 or pid=-1) in a single call? 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Because then you might reap a child process someone launched with a different API - eg the Python subprocess module.
</I>&gt;<i> 
</I>&gt;<i> Exactly. I am currently using this as a workaround, but it's not a general solution. You need to be careful because subprocess use hides in many places. For example, beware uuid.uuid1().
</I>
So, pidfd's cool, we should totally use it.  Also we should use posix_spawn and maybe some other stuff too.  But I wonder if there's any heuristic we could use to speed up our current strategy, like ordering the to-reap list by putting things with no open FDs at the front of it?  And optimistically assuming that once we've found something to reap, maybe we can stop?  And maybe it should run in a cooperator, rather than just blocking the reactor indefinitely?  Honestly it had not occurred to me that people were managing 20k+ python interpreters at a time with spawnProcess (although, yikes, amazing, you've gotta talk more about this application, and what kind of hardware you're on!)

Anyway there's lot of exciting room for performance improvements here, it would be nice to have some benchmarks for this kind of high-load process-monitor application.

-g
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20200522/1b75ce75/attachment.htm&gt;
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="065100.html">[Twisted-Python]  [RFC] Drop support for Python 3.5 sometime after May 2021?
</A></li>
	<LI>Next message (by thread): <A HREF="065116.html">[Twisted-Python]  [RFC] Drop support for Python 3.5 sometime after May 2021?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65113">[ date ]</a>
              <a href="thread.html#65113">[ thread ]</a>
              <a href="subject.html#65113">[ subject ]</a>
              <a href="author.html#65113">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
