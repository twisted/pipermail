<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Twisted 19.2.0rc1 Release Candidate Announcement
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted%2019.2.0rc1%20Release%20Candidate%0A%20Announcement&In-Reply-To=%3C2a25245d-78a9-4323-9ef0-0dc8610f6b61%40www.fastmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="032197.html">
   <LINK REL="Next"  HREF="032199.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Twisted 19.2.0rc1 Release Candidate Announcement</H1>
    <B>Tom Most</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted%2019.2.0rc1%20Release%20Candidate%0A%20Announcement&In-Reply-To=%3C2a25245d-78a9-4323-9ef0-0dc8610f6b61%40www.fastmail.com%3E"
       TITLE="[Twisted-Python] Twisted 19.2.0rc1 Release Candidate Announcement">twm at freecog.net
       </A><BR>
    <I>Wed Mar  6 00:24:47 MST 2019</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="032197.html">[Twisted-Python] Twisted 19.2.0rc1 Release Candidate Announcement
</A></li>
        <LI>Next message (by thread): <A HREF="032199.html">[Twisted-Python] Are t.w.s.Requests's prepath/postpath part of the IRequest interface?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32198">[ date ]</a>
              <a href="thread.html#32198">[ thread ]</a>
              <a href="subject.html#32198">[ subject ]</a>
              <a href="author.html#32198">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Another note:

&gt;<i> twisted.web.client.Request and twisted.web.client.HTTPClient were both vulnerable to header injection attacks. They now replace linear whitespace ('r', 'n', and 'rn') with a single space. (#9421)
</I>
Headers now assumes the value is a list of string (or bytes). It used to accept a list of arbitrary values. When using the twisted.web resource model (the IRequest.setHeader API) the value would be coerced.

This change actually broke some of my tests, though not any production code. I was passing a list where a scalar string was required (this, precisely: <A HREF="https://github.com/twisted/treq/pull/237">https://github.com/twisted/treq/pull/237</A>). The result was a response with a header like:

    Foo: ['value']

That's not a useful feature in this case so I am happy to have caught the bug but it does seem like there may be real-world code this breaks. For example, request.setHeader('Retry-After', 10) would produce a valid header.

(Also the release note seems to be missing some backslashes in the bit I quoted.)

---Tom

</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="032197.html">[Twisted-Python] Twisted 19.2.0rc1 Release Candidate Announcement
</A></li>
	<LI>Next message (by thread): <A HREF="032199.html">[Twisted-Python] Are t.w.s.Requests's prepath/postpath part of the IRequest interface?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32198">[ date ]</a>
              <a href="thread.html#32198">[ thread ]</a>
              <a href="subject.html#32198">[ subject ]</a>
              <a href="author.html#32198">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
