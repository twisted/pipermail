<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] [ANN] txkube 0.1.0
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20%5BANN%5D%20txkube%200.1.0&In-Reply-To=%3CCAEeXt4O5XzP1Lp7yy4PU9c58mPzXJwmPkNBHKXcReQ3KTbYrJg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="063812.html">
   <LINK REL="Next"  HREF="063814.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] [ANN] txkube 0.1.0</H1>
    <B>Jean-Paul Calderone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20%5BANN%5D%20txkube%200.1.0&In-Reply-To=%3CCAEeXt4O5XzP1Lp7yy4PU9c58mPzXJwmPkNBHKXcReQ3KTbYrJg%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] [ANN] txkube 0.1.0">exarkun at twistedmatrix.com
       </A><BR>
    <I>Tue Apr 11 05:14:27 MDT 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="063812.html">[Twisted-Python] [ANN] txkube 0.1.0
</A></li>
        <LI>Next message (by thread): <A HREF="063814.html">[Twisted-Python] [ANN] txkube 0.1.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63813">[ date ]</a>
              <a href="thread.html#63813">[ thread ]</a>
              <a href="subject.html#63813">[ subject ]</a>
              <a href="author.html#63813">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Apr 11, 2017 at 1:15 AM, Glyph Lefkowitz &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A>&gt;
wrote:

&gt;<i>
</I>&gt;<i> On Apr 10, 2017, at 11:11 AM, Jean-Paul Calderone &lt;
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at twistedmatrix.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> Hello all,
</I>&gt;<i>
</I>&gt;<i> I'm pleased to announce the first release of txkube, a Twisted-based
</I>&gt;<i> library for interacting with Kubernetes using the HTTP API.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> âœ¨Â³âœ¨ðŸŽ‰
</I>&gt;<i>
</I>&gt;<i> This release supports several of the most commonly used basic Kubernetes
</I>&gt;<i> objects, including Services, ConfigMaps, Deployments, ReplicaSets, and
</I>&gt;<i> Pods.  While Kubernetes has many, many more object kinds, this collection
</I>&gt;<i> of kinds already supports a very useful set of interactions.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thanks for the announcement!
</I>&gt;<i>
</I>&gt;<i> I do have one question about txkube, since this comes up periodically in
</I>&gt;<i> every higher-level networking layer, and it's a place where I think Twisted
</I>&gt;<i> has some advantages over other HTTP clients: is there a way to specify
</I>&gt;<i> custom trust roots, or construct a custom Agent to pass in to txkube?
</I>&gt;<i>
</I>&gt;<i>
</I>There's another constructor for IKubernetesService
&lt;<A HREF="https://github.com/LeastAuthority/txkube/blob/b2e81400e40989696f82cabfd575d5283f7180e8/src/txkube/_interface.py">https://github.com/LeastAuthority/txkube/blob/b2e81400e40989696f82cabfd575d5283f7180e8/src/txkube/_interface.py</A>&gt;,
network_kubernetes
&lt;<A HREF="https://github.com/LeastAuthority/txkube/blob/b2e81400e40989696f82cabfd575d5283f7180e8/src/txkube/_network.py#L41-L56">https://github.com/LeastAuthority/txkube/blob/b2e81400e40989696f82cabfd575d5283f7180e8/src/txkube/_network.py#L41-L56</A>&gt;.
It takes an IAgent.  So one can do:

    network_kubernetes(base_url=url, agent=Agent(contextFactory=...))

Does that approach fit with any emerging conventions for exposing this kind
of functionality?  I'd be happy to adapt it if there's a better pattern.

Also note that it's common for Kubernetes to be deployed with a self-signed
or other non-cartel certificate.  So even the API in the example,
network_kubernetes_from_context, doesn't trust the usual web-oriented
collection of CAs.  It only respects the certificate found in the local
Kubernetes configuration.  This means that there's another way to control
this - edit ~/.kube/config and put the desired CA certificate there.


&gt;<i> Here is an example of txkube usage, taken from the README:
</I>&gt;<i>
</I>&gt;<i>    from __future__ import print_function
</I>&gt;<i>    from twisted.internet.task import react
</I>&gt;<i>
</I>&gt;<i>    from txkube import v1, network_kubernetes_from_context
</I>&gt;<i>
</I>&gt;<i>    @react
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> btw, don't think I didn't notice this
</I>&gt;<i> &lt;<A HREF="https://github.com/twisted/twisted/pull/646#discussion_r96104930">https://github.com/twisted/twisted/pull/646#discussion_r96104930</A>&gt;...
</I>&gt;<i>
</I>
ðŸ˜‚

Jean-Paul


&gt;<i>
</I>&gt;<i>
</I>&gt;<i>    def main(reactor):
</I>&gt;<i>        k8s = network_kubernetes_from_context(reactor, u&quot;minikube&quot;)
</I>&gt;<i>        client = k8s.client()
</I>&gt;<i>        d = client.list(v1.Namespace)
</I>&gt;<i>        d.addCallback(print)
</I>&gt;<i>        return d
</I>&gt;<i>
</I>&gt;<i> You can download txkube from PyPI &lt;<A HREF="https://pypi.python.org/pypi">https://pypi.python.org/pypi</A>&gt;.
</I>&gt;<i> You can contribute to its development on GitHub
</I>&gt;<i> &lt;<A HREF="https://github.com/LeastAuthority/txkube">https://github.com/LeastAuthority/txkube</A>&gt;.
</I>&gt;<i>
</I>&gt;<i> Thanks to Least Authority Enterprises &lt;<A HREF="https://leastauthority.com/">https://leastauthority.com/</A>&gt; for
</I>&gt;<i> sponsoring this development.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thanks, LAE!
</I>&gt;<i>
</I>&gt;<i> -glyph
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20170411/05ff22f5/attachment-0002.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="063812.html">[Twisted-Python] [ANN] txkube 0.1.0
</A></li>
	<LI>Next message (by thread): <A HREF="063814.html">[Twisted-Python] [ANN] txkube 0.1.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63813">[ date ]</a>
              <a href="thread.html#63813">[ thread ]</a>
              <a href="subject.html#63813">[ subject ]</a>
              <a href="author.html#63813">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
