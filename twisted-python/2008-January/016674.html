<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Making inlineCallback return a generator	rather than a Deferred
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Making%20inlineCallback%20return%20a%20generator%0A%09rather%20than%20a%20Deferred&In-Reply-To=506614.25121.qm%40web34212.mail.mud.yahoo.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016673.html">
   <LINK REL="Next"  HREF="016675.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Making inlineCallback return a generator	rather than a Deferred</H1>
    <B>Tristan Seligmann</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Making%20inlineCallback%20return%20a%20generator%0A%09rather%20than%20a%20Deferred&In-Reply-To=506614.25121.qm%40web34212.mail.mud.yahoo.com"
       TITLE="[Twisted-Python] Making inlineCallback return a generator	rather than a Deferred">mithrandi at mithrandi.za.net
       </A><BR>
    <I>Sat Jan 26 16:28:34 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="016673.html">[Twisted-Python] Making inlineCallback return a generator rather	than a Deferred
</A></li>
        <LI>Next message: <A HREF="016675.html">[Twisted-Python] Weekly Bug Summary
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16674">[ date ]</a>
              <a href="thread.html#16674">[ thread ]</a>
              <a href="subject.html#16674">[ subject ]</a>
              <a href="author.html#16674">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>* Andrew Francis &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">andrewfr_ice at yahoo.com</A>&gt; [2008-01-26 12:21:45 -0800]:

&gt;<i> Again, perhaps I am missing something obvious. Or
</I>&gt;<i> perhaps this scenario was not anticipated and syntax
</I>&gt;<i> is getting in the way. However I think the following
</I>&gt;<i> would be useful in these situations
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> def echo(self, x)
</I>&gt;<i>     @defer.returnAGenerator
</I>&gt;<i>     def __echo__(x):
</I>&gt;<i>         result = yield client.getPage(&quot;...&quot;)
</I>&gt;<i>         yield result
</I>&gt;<i> 
</I>&gt;<i>     &quot;&quot;&quot;
</I>&gt;<i>     the method waits until there is a result
</I>&gt;<i>     &quot;&quot;&quot;
</I>&gt;<i>     return __echo__(x).next()
</I>&gt;<i> 
</I>&gt;<i> and the wrapper (i.e., PyAMF, xmlrpc, etc) is happy.
</I>
This is essentially impossible to implement; you need some way to
suspend the code that is invoking the generator, and there isn't any
general way to this in Python. There is nothing magical about the
.next() method on a generator, it is just a normal synchronous function
call.
-- 
mithrandi, i Ainil en-Balandor, a faer Ambar
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: Digital signature
Url : <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20080126/89ff60a0/attachment.pgp">http://twistedmatrix.com/pipermail/twisted-python/attachments/20080126/89ff60a0/attachment.pgp</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016673.html">[Twisted-Python] Making inlineCallback return a generator rather	than a Deferred
</A></li>
	<LI>Next message: <A HREF="016675.html">[Twisted-Python] Weekly Bug Summary
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16674">[ date ]</a>
              <a href="thread.html#16674">[ thread ]</a>
              <a href="subject.html#16674">[ subject ]</a>
              <a href="author.html#16674">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
