<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Detect idle in a LineReceiver
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Detect%20idle%20in%20a%20LineReceiver&In-Reply-To=fcd2fb690801170155h4f672864if7468fb8284d44ee%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016591.html">
   <LINK REL="Next"  HREF="016595.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Detect idle in a LineReceiver</H1>
    <B>Amaury Forgeot d'Arc</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Detect%20idle%20in%20a%20LineReceiver&In-Reply-To=fcd2fb690801170155h4f672864if7468fb8284d44ee%40mail.gmail.com"
       TITLE="[Twisted-Python] Detect idle in a LineReceiver">amauryfa at gmail.com
       </A><BR>
    <I>Thu Jan 17 06:07:52 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="016591.html">[Twisted-Python] Detect idle in a LineReceiver
</A></li>
        <LI>Next message: <A HREF="016595.html">[Twisted-Python] Detect idle in a LineReceiver
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16592">[ date ]</a>
              <a href="thread.html#16592">[ thread ]</a>
              <a href="subject.html#16592">[ subject ]</a>
              <a href="author.html#16592">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

Matteo Beniamino wrote:
&gt;<i> I'm trying to parse messages coming from some serial ports and TCP/IP
</I>&gt;<i> connections using a protocol derived from a basic.LineReceiver .
</I>&gt;<i> Everything works fine. Now I'd like to detect when a client is not
</I>&gt;<i> sending data for a certain amount of time and add a callback to handle
</I>&gt;<i> this situation, but I don't know how to achieve this. Does anyone know
</I>&gt;<i> if  there is something I can do at Factory or Protocol level? There is
</I>&gt;<i> no problem in changing the LineReceiver approach with something
</I>&gt;<i> different.
</I>
You may use the protocol.policies.TimeoutMixin class.
See the code of protocols/ftp.py to see a usage of it.

Your protocol must implement the timeoutConnection() method,
which is called if your code does not call resetTimeout() often enough.
Then, just call it at the beginning of lineReceived!

-- 
Amaury Forgeot d'Arc


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016591.html">[Twisted-Python] Detect idle in a LineReceiver
</A></li>
	<LI>Next message: <A HREF="016595.html">[Twisted-Python] Detect idle in a LineReceiver
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16592">[ date ]</a>
              <a href="thread.html#16592">[ thread ]</a>
              <a href="subject.html#16592">[ subject ]</a>
              <a href="author.html#16592">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
