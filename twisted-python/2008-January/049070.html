<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] epollreactor for pyicq-0.6-t
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20epollreactor%20for%20pyicq-0.6-t&In-Reply-To=%3COF68949FC2.84AD12A8-ON482573CD.000FB8F4-482573CD.000FD921%40ctl.creative.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="049059.html">
   <LINK REL="Next"  HREF="049062.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] epollreactor for pyicq-0.6-t</H1>
    <B>Steven ZHOU</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20epollreactor%20for%20pyicq-0.6-t&In-Reply-To=%3COF68949FC2.84AD12A8-ON482573CD.000FB8F4-482573CD.000FD921%40ctl.creative.com%3E"
       TITLE="[Twisted-Python] epollreactor for pyicq-0.6-t">steven_zhou at ctl.creative.com
       </A><BR>
    <I>Thu Jan 10 19:53:06 MST 2008</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="049059.html">[Twisted-Python] epollreactor for pyicq-0.6-t
</A></li>
        <LI>Next message (by thread): <A HREF="049062.html">[Twisted-Python] Re: epollreactor for pyicq-0.6-t
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49070">[ date ]</a>
              <a href="thread.html#49070">[ thread ]</a>
              <a href="subject.html#49070">[ subject ]</a>
              <a href="author.html#49070">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Jean-Paul,

Thanks for the help. It's indeed the python 2.4.3 bug. I changed it to
2.4.4 or 2.5. It works.

The adhoc way I did to epollreactor seems to work. Maybe I am lucky.

regards,
Steven

Notice
The information in this message is confidential and may be legally
privileged.  It is intended solely for the addressee.  Access to this
message by anyone else is unauthorized.  If you are not the intended
recipient,  any disclosure,  copying or distribution of the message,  or
any action taken by you in reliance on it,  is prohibited and may be
unlawful.  If you have received this message in error,  please delete it
and contact the sender immediately.  Thank you.




                                                                           
             Jean-Paul                                                     
             Calderone                                                     
             &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at divmod.c</A>                                          To 
             om&gt;                       Twisted general discussion          
             Sent by:                  &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>&gt;  
             twisted-python-bo                                          cc 
             <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">unces at twistedmatr</A>                                             
             ix.com                                                Subject 
                                       Re: [Twisted-Python] epollreactor   
                                       for pyicq-0.6-t                     
             01/08/2008 11:03                                              
             PM                                                            
                                                                           
                                                                           
             Please respond to                                             
              Twisted general                                              
                discussion                                                 
             &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at t</A>                                             
             wistedmatrix.com&gt;                                             
                                                                           
                                                                           




On Tue, 8 Jan 2008 22:50:54 +0800, Steven ZHOU
&lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">steven_zhou at ctl.creative.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i>Hi,
</I>&gt;<i>
</I>&gt;<i>I hope some one could offer me some help on this. I am quite new to both
</I>&gt;<i>python and twisted.
</I>&gt;<i>
</I>&gt;<i>The thing I do may sounds a bit wierd. I am using a pyicq-0.6-t. As
</I>&gt;<i>pyicq-0.6-t only works with twisted-2.2 or earlier, so I chose to install
</I>&gt;<i>twisted-2.2. However, I wished to use epollreactor as the default
</I>&gt;<i>selectreactor only supports 1024 file descriptors. So I copied the
</I>relevant
&gt;<i>files of epollreactor which is installed on twisted-2.5 to the
</I>&gt;<i>site-packages/twisted-2.2 directory. I copied 5 files in the total,
</I>&gt;<i>epollreactor.py, epoll..pyx to the twisted/internet directory, _epoll.py
</I>&gt;<i>_epoll.pyc and _epoll.so to twisted/python directory. I can't remember the
</I>&gt;<i>exact file names. I copied it with a hope that it works. I am not sure
</I>&gt;<i>whether I am doing thing stupid here. correct me if I am.
</I>
I don't know if this works.  I've never tried it.  The epoll reactor
implementation shares code from other parts of Twisted.  It may be
the case that that code changed between Twisted 2.2 and Twisted 2.5
in a way which will prevent epollreactor from working.  It may also
be the case that it hasn't.

&gt;<i>
</I>&gt;<i>The thing is, after I changed the reactor.py to import epollreactor,
</I>&gt;<i>pyicq-0.6-t seems to be using epollreactor but it still can only supports
</I>&gt;<i>1024 open sockets. I thought the problem is only in selectreactor? I
</I>&gt;<i>figured this out by doing a netstat -a -n on linux and found that
</I>&gt;<i>pyicq-0.6-t only opened about 1017 maximum concurrent sockets. I presume
</I>&gt;<i>that would mean only around 1000 connections can be made.
</I>&gt;<i>
</I>&gt;<i>Although strange, but I do have a reason to use pyicq-0.6-t which is an
</I>&gt;<i>outdated version.
</I>
Are you using Python 2.4.3?  This sounds like it may be related to the
issue described here:

  <A HREF="http://jcalderone.livejournal.com/2006/05/26/">http://jcalderone.livejournal.com/2006/05/26/</A>

Jean-Paul

_______________________________________________
Twisted-Python mailing list
<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>

ForwardSourceID:NT0001A016



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="049059.html">[Twisted-Python] epollreactor for pyicq-0.6-t
</A></li>
	<LI>Next message (by thread): <A HREF="049062.html">[Twisted-Python] Re: epollreactor for pyicq-0.6-t
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49070">[ date ]</a>
              <a href="thread.html#49070">[ thread ]</a>
              <a href="subject.html#49070">[ subject ]</a>
              <a href="author.html#49070">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
