<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Performance and select.select
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Performance%20and%20select.select&In-Reply-To=1199416731.7666.42.camel%40localhost.localdomain">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016529.html">
   <LINK REL="Next"  HREF="016530.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Performance and select.select</H1>
    <B>Nitro</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Performance%20and%20select.select&In-Reply-To=1199416731.7666.42.camel%40localhost.localdomain"
       TITLE="[Twisted-Python] Performance and select.select">nitro at dr-code.org
       </A><BR>
    <I>Thu Jan 10 21:32:06 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="016529.html">[Twisted-Python] Performance and select.select
</A></li>
        <LI>Next message: <A HREF="016530.html">[Twisted-Python] Performance and select.select
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16560">[ date ]</a>
              <a href="thread.html#16560">[ thread ]</a>
              <a href="subject.html#16560">[ subject ]</a>
              <a href="author.html#16560">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Am 04.01.2008, 04:18 Uhr, schrieb Itamar Shtull-Trauring  
&lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">itamar at itamarst.org</A>&gt;:

&gt;<i>
</I>&gt;&gt;<i> a) the select calls are really taking up that much time (more than 50%!)
</I>&gt;<i>
</I>&gt;<i> They're certainly going to take up lots and lots of *clock* time, not
</I>&gt;<i> necessarily CPU time: select() is the way Twisted (in default reactors)
</I>&gt;<i> waits for events to happen. So if your program does nothing at all (e.g.
</I>&gt;<i> just reactor.run(), select() will actually be close to 100% of clock
</I>&gt;<i> time, even though CPU usage will be minuscule.
</I>
I guess this is what cProfile is actually outputting. Clock time and not  
cpu time. If the app is under more load, the percentage of the time spent  
in select() calls decreases to a minimum. So select() isn't bad then.

&gt;<i> If you have many TCP connections (or really, file descriptors), hundreds
</I>&gt;<i> or thousands, select() will also start taking up CPU time. Using poll
</I>&gt;<i> reactor, or in next version of Twisted (2.5 had some bugs) epoll reactor
</I>&gt;<i> on Linux will use less CPU for this scenario.
</I>
I have very few connections, so this was not the problem. Only cProfile  
being a bit strange.

-Matthias


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016529.html">[Twisted-Python] Performance and select.select
</A></li>
	<LI>Next message: <A HREF="016530.html">[Twisted-Python] Performance and select.select
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16560">[ date ]</a>
              <a href="thread.html#16560">[ thread ]</a>
              <a href="subject.html#16560">[ subject ]</a>
              <a href="author.html#16560">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
