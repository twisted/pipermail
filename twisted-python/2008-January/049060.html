<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] epollreactor for pyicq-0.6-t
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20epollreactor%20for%20pyicq-0.6-t&In-Reply-To=%3COF29A18416.60FD1EF5-ON482573CA.0053C62D-482573CA.0055350A%40ctl.creative.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="049058.html">
   <LINK REL="Next"  HREF="049059.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] epollreactor for pyicq-0.6-t</H1>
    <B>Steven ZHOU</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20epollreactor%20for%20pyicq-0.6-t&In-Reply-To=%3COF29A18416.60FD1EF5-ON482573CA.0053C62D-482573CA.0055350A%40ctl.creative.com%3E"
       TITLE="[Twisted-Python] epollreactor for pyicq-0.6-t">steven_zhou at ctl.creative.com
       </A><BR>
    <I>Tue Jan  8 08:30:41 MST 2008</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="049058.html">[Twisted-Python] epollreactor for pyicq-0.6-t
</A></li>
        <LI>Next message (by thread): <A HREF="049059.html">[Twisted-Python] epollreactor for pyicq-0.6-t
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49060">[ date ]</a>
              <a href="thread.html#49060">[ thread ]</a>
              <a href="subject.html#49060">[ subject ]</a>
              <a href="author.html#49060">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Glyph,

Thanks for the prompt help. I didn't expect it to work initially in fact. I
did set ulimit -n if that's the only thing to set. Yes, I am having python
2.4, not sure whether it's 2.4.3, I am now at home and will check that when
I am back to office.

The reason I used an outdated version of pyicq-0.6-t is to find out the
scalability of pyicqt, pymsnt etc. Unfortunately, I only managed to find a
clone of ICQ server (IServerd) which supports older version of icq oscar
protocols. So I can stress test with iserverd. Where can I find scalability
report of twisted based applications (e.g. pymsnt)? That would be even of
greater help.

regards,
Steven
Notice
The information in this message is confidential and may be legally
privileged.  It is intended solely for the addressee.  Access to this
message by anyone else is unauthorized.  If you are not the intended
recipient,  any disclosure,  copying or distribution of the message,  or
any action taken by you in reliance on it,  is prohibited and may be
unlawful.  If you have received this message in error,  please delete it
and contact the sender immediately.  Thank you.




                                                                           
             <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at divmod.com</A>                                              
             Sent by:                                                      
             twisted-python-bo                                          To 
             <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">unces at twistedmatr</A>         Twisted general discussion          
             ix.com                    &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>&gt;  
                                                                        cc 
                                                                           
             01/08/2008 10:59                                      Subject 
             PM                        Re: [Twisted-Python] epollreactor   
                                       for pyicq-0.6-t                     
                                                                           
             Please respond to                                             
              Twisted general                                              
                discussion                                                 
             &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at t</A>                                             
             wistedmatrix.com&gt;                                             
                                                                           
                                                                           




On 02:50 pm, <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">steven_zhou at ctl.creative.com</A> wrote:
&gt;<i>The thing I do may sounds a bit wierd. I am using a pyicq-0.6-t. As
</I>&gt;<i>pyicq-0.6-t only works with twisted-2.2 or earlier, so I chose to
</I>&gt;<i>install
</I>&gt;<i>twisted-2.2. However, I wished to use epollreactor as the default
</I>&gt;<i>selectreactor only supports 1024 file descriptors. So I copied the
</I>&gt;<i>relevant
</I>&gt;<i>files of epollreactor which is installed on twisted-2.5 to the
</I>&gt;<i>site-packages/twisted-2.2 directory. I copied 5 files in the total,
</I>&gt;<i>epollreactor.py, epoll..pyx to the twisted/internet directory,
</I>&gt;<i>_epoll.py
</I>&gt;<i>_epoll.pyc and _epoll.so to twisted/python directory. I can't remember
</I>&gt;<i>the
</I>&gt;<i>exact file names. I copied it with a hope that it works. I am not sure
</I>&gt;<i>whether I am doing thing stupid here. correct me if I am.
</I>
&quot;stupid&quot; might be a harsh word, but what you're doing shouldn't be
expected to work.  I'm surprised that it has worked as well as you
suggest that it has.
&gt;<i>The thing is, after I changed the reactor.py to import epollreactor,
</I>&gt;<i>pyicq-0.6-t seems to be using epollreactor but it still can only
</I>&gt;<i>supports
</I>&gt;<i>1024 open sockets. I thought the problem is only in selectreactor?
</I>
You might want to check your ulimits.  However, twisted 2.2 might have
been calling select() in any number of places.  And Python 2.4.3 had a
bug in it which would have caused a problem regardless.  And there might
be a bug in the interaction of random bits of code from twisted 2.5 and
2.2.  Whatever the problem is, you're on your own trying to sort it out
until you can upgrade to a supported version :)
&gt;<i>The information in this message is confidential and may be legally
</I>&gt;<i>privileged.  It is intended solely for the addressee.  Access to this
</I>&gt;<i>message by anyone else is unauthorized.
</I>
Please do not attach notices like this to messages on this mailing list,
given that the &quot;addressee&quot; in this case is the entire internet :).

_______________________________________________
Twisted-Python mailing list
<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>

ForwardSourceID:NT0001A012



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="049058.html">[Twisted-Python] epollreactor for pyicq-0.6-t
</A></li>
	<LI>Next message (by thread): <A HREF="049059.html">[Twisted-Python] epollreactor for pyicq-0.6-t
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49060">[ date ]</a>
              <a href="thread.html#49060">[ thread ]</a>
              <a href="subject.html#49060">[ subject ]</a>
              <a href="author.html#49060">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
