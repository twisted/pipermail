<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Newbie question about error handling.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Newbie%20question%20about%20error%20handling.&In-Reply-To=%3Cdd0fcc680801181323n73589d33kab02ec1ed9272083%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="049106.html">
   <LINK REL="Next"  HREF="049112.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Newbie question about error handling.</H1>
    <B>Brad Smith</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Newbie%20question%20about%20error%20handling.&In-Reply-To=%3Cdd0fcc680801181323n73589d33kab02ec1ed9272083%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Newbie question about error handling.">bnsmith at gmail.com
       </A><BR>
    <I>Fri Jan 18 14:23:24 MST 2008</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="049106.html">[Twisted-Python] callLater
</A></li>
        <LI>Next message (by thread): <A HREF="049112.html">[Twisted-Python] Newbie question about error handling.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49111">[ date ]</a>
              <a href="thread.html#49111">[ thread ]</a>
              <a href="subject.html#49111">[ subject ]</a>
              <a href="author.html#49111">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm working on a client/server twisted app based on LineReceiver, and
I'd like to implement better error-handling. The code for the server
looks something like this:

class MyServer(LineReceiver):
    def lineReceived(self, line):
        pass # stuff happens

    def rawDataReceived(self, data):
        pass # other stuff happens

    # maybe some other methods too

factory = Factory()
factory.protocol = MyServer

reactor.listenTCP(8000, factory)
reactor.run()

Suppose that an exception is thrown in lineReceived or
rawDataReceived, maybe just something as simple as a naming error
caused by a misspelled variable name. Is there any way to implement a
default exception handler that would allow me to send something back
to the client before the protocol dies? It would be nice to send the
exception traceback to the client to help figure out what went wrong.
I suppose I could wrap all of the methods in the class in a try/catch
block, but that would be a lot of wrapping to do. I'd prefer to be
able to do something like adding a 'defaultExceptionHandler' method to
the LineReceiver derived class that would be called by the reactor.

Is something like this possible? I'm still pretty new to Twisted, so I
don't know all the idioms yet.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="049106.html">[Twisted-Python] callLater
</A></li>
	<LI>Next message (by thread): <A HREF="049112.html">[Twisted-Python] Newbie question about error handling.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49111">[ date ]</a>
              <a href="thread.html#49111">[ thread ]</a>
              <a href="subject.html#49111">[ subject ]</a>
              <a href="author.html#49111">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
