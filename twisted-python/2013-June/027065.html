<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] logging
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20logging&In-Reply-To=%3CCAPkRfURAGEmtQKu9AFKCXLX95iVU2ejjynDFPQkGzahtUvQDPA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027064.html">
   <LINK REL="Next"  HREF="027068.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] logging</H1>
    <B>Christopher Armstrong</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20logging&In-Reply-To=%3CCAPkRfURAGEmtQKu9AFKCXLX95iVU2ejjynDFPQkGzahtUvQDPA%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] logging">radix at twistedmatrix.com
       </A><BR>
    <I>Fri Jun 14 16:43:01 MDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027064.html">[Twisted-Python] logging
</A></li>
        <LI>Next message: <A HREF="027068.html">[Twisted-Python] logging
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27065">[ date ]</a>
              <a href="thread.html#27065">[ thread ]</a>
              <a href="subject.html#27065">[ subject ]</a>
              <a href="author.html#27065">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Jun 14, 2013 at 4:47 PM,  &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at twistedmatrix.com</A>&gt; wrote:
&gt;<i> On 07:45 pm, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">radix at twistedmatrix.com</A> wrote:
</I>&gt;&gt;<i> I think both of these should be avoided because they require the user
</I>&gt;&gt;<i> to specify string interpolation themselves. I'd prefer to avoid that
</I>&gt;&gt;<i> entirely, by default.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> log.msg(&quot;Foo happened**&quot;, bar=bar, baz=baz, boz=boz)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This is better because:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 1. it keeps the data structured
</I>&gt;&gt;<i> 2. it is a lot less typing
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ** I would prefer this part to be &quot;foo&quot;, but I'll keep these
</I>&gt;&gt;<i> discussions separate :)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I think that I agree with this, except I wonder if you could supply some
</I>&gt;<i> more realistic examples here.  Let's say I have a somewhat complex 50kloc
</I>&gt;<i> application with a log event emitted around once every 10 lines.
</I>&gt;<i>
</I>&gt;<i> After I use up &quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;, and &quot;quux&quot; I start having to refer to
</I>&gt;<i> the hacker dictionary.  This doesn't get me very close to the 5000 event
</I>&gt;<i> identifiers I'll need.  How does someone come up with this in the real
</I>&gt;<i> world?
</I>&gt;<i>
</I>&gt;<i> Jean-Paul
</I>

This really should have been a response to my earlier message where I
talk about the &quot;event&quot; more directly, instead my post about how to do
string formatting, but anyway.

That was a very amusing post, but I guess you were trying to make a
point :) The event name shouldn't be meaningless; you or your ops team
or your users are going to want to type it into their filtering
software, and it's nice if they can keep the event name in their head.
I find it most valuable when it's a short identifier that I think up
with my brain and type into my program. If I'm logging in a call to
received_frag(), for example, I'd probably call the event name &quot;frag&quot;.
If I'm logging a message about an error that occurred during a
regularly scheduled database compaction, I would call it
&quot;scheduled-db-compact-failed&quot;.

If you're concerned about universal uniqueness, there are two ways I
can think of doing it, both of which should basically have a similar
API as far as where concerns are in your code:

- make the event name hierarchical with a root being identifier by your project

&quot;SpaceCombat.server.db.scheduled-compaction-failed&quot;

(you shouldn't need to type out this full event name every time you
type a log.msg() statement; that's not a hard problem to solve)

- put a hierarchical designator into the &quot;system&quot; field

log(&quot;scheduled-compaction-failed&quot;, system=&quot;SpaceCombat.server.db&quot;)

I think I like the idea of using &quot;system&quot; for this, since that
basically seems like the original intent.


--
Christopher Armstrong
<A HREF="http://radix.twistedmatrix.com/">http://radix.twistedmatrix.com/</A>
<A HREF="http://planet-if.com/">http://planet-if.com/</A>

</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027064.html">[Twisted-Python] logging
</A></li>
	<LI>Next message: <A HREF="027068.html">[Twisted-Python] logging
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27065">[ date ]</a>
              <a href="thread.html#27065">[ thread ]</a>
              <a href="subject.html#27065">[ subject ]</a>
              <a href="author.html#27065">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
