<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] github, again
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20github%2C%20again&In-Reply-To=%3CCACqnu4WVaSNTYDRfv%2Bdg5ZxLDy034iP%2BnSJjOYZBRwFB_ZM95Q%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="059482.html">
   <LINK REL="Next"  HREF="059485.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] github, again</H1>
    <B>Terry Jones</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20github%2C%20again&In-Reply-To=%3CCACqnu4WVaSNTYDRfv%2Bdg5ZxLDy034iP%2BnSJjOYZBRwFB_ZM95Q%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] github, again">terry at jon.es
       </A><BR>
    <I>Tue Jun  4 12:10:19 MDT 2013</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="059482.html">[Twisted-Python] github, again
</A></li>
        <LI>Next message (by thread): <A HREF="059485.html">[Twisted-Python] github, again
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59483">[ date ]</a>
              <a href="thread.html#59483">[ thread ]</a>
              <a href="subject.html#59483">[ subject ]</a>
              <a href="author.html#59483">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The general workflow that's being described is:

 - You open an issue for all bugs, enhancements, etc.
 - When someone starts working on one of these, they create a branch (we
use descriptive branch names and put -NNNN at the end, with the issue
number).
 - When the branch reaches the point where the author feels it could be
merged or wants to open it up for easy discussion, they send a pull request.

The pull request is a signal to the people working on the base code (that
the pull request is against/for, let's just call it &quot;master&quot;) that the
author of the branch has it in mind to merge their branch into master. That
may be a way off, it may never happen, or it could be done almost
immediately. Github doesn't have any formal mechanism for having a branch
approved, or even a mechanism for saying &quot;I'm interested in this pull
request and I intend to review / comment on it before it's merged, so
please don't merge it until I've +1'd&quot;.  That's a weakness and a strength.
We adopted the convention (as @jkakar mentioned) of having interested
parties just edit the pull request description, to put in a string like
&quot;terrycojones: **pending**&quot; to indicate that you're planning to comment.

The pull requests are discussions about the code, and the code changes
while the pul request is outstanding. That's normal. Other people, who have
the right permission, might want to push changes into the branch that's
being worked on. E.g., there could be a jkakar/fix-race-condition-4772
branch. I switch onto that branch (git remote update --prune jkakar;  git
co jkakar/fix-race-condition-4772) and run the tests, take a look, etc.  I
decided to help out by making a few changes, so I make my own branch:  git
co -b fix-race-condition-4772.  That creates
terrycojones/fix-race-condition-4772 which I can work on, commit to, and
push back to github.  I could then send a pull request to merge that branch
into jkakar/fix-race-condition-4772 or if I have the right perms, just push
it directly into that branch.

The diff in the pull request always reflects the latest changes, as you'd
expect. So over time as there is discussion &amp; code change around the pull
request, the diff will change. As I mentioned, parts that are fixed will
have the conversation disappear (this sounds alarming, perhaps, but it
works).

At some point everyone who's interested will have contributed to the
discussion, to the code, and signed off.  Then you merge it, using the web
UI.  Sometimes a pull request doesn't reach the point where there's
agreement that it should be merged. When that happens, we usually close the
pull request so it's not cluttering up the pull requests page. The branch
doesn't go away, of course, and can be re-proposed for merging via a later
pull request.

I hope that helps.  I think most of this is open-ended and teams can choose
the conventions that suit them. The above is just what we've done, but it
does seem to match up pretty closely with some of the links people have
been posting.

One point of difference that I don't know the best answer to: We tend to
each have our own fork of  a repo, and to send pull requests into the repo
&quot;owned&quot; by the organization. Others (including Github themselves) just have
one repo and anyone can make a branch in that repo and propose it for
merging into the master of the same repo.  I think I prefer the former,
though it has a little more overhead and it requires people to do a git
remote add <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">git at github.com</A>:name/project.git for the other people whose
changes you want to track and pull in etc (via git remote update --prune).

Terry




On Tue, Jun 4, 2013 at 5:42 PM, Tobias Oberstein &lt;
<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">tobias.oberstein at tavendo.de</A>&gt; wrote:

&gt;<i> in general: +1 for this
</I>&gt;<i>
</I>&gt;<i> &gt; Finally, my own minor concern: Github has no notion of a &quot;code review&quot;
</I>&gt;<i> as a unit of work.  A pull request is just &quot;open&quot; until it is &quot;closed&quot;.
</I>&gt;<i> &gt; &lt;snip&gt;
</I>&gt;<i>
</I>&gt;<i> I _think_ the following is true (if so, I find that strange) - pls correct
</I>&gt;<i> me if I'm wrong:
</I>&gt;<i>
</I>&gt;<i> A pull request is not tied to a specific rev, but only to a source
</I>&gt;<i> repo/branch.
</I>&gt;<i> While the pull isn't merged (and hence closed), more commits on the source
</I>&gt;<i> repo/branch can be added.
</I>&gt;<i>
</I>&gt;<i> So a pull request is kind of moving target ..
</I>&gt;<i>
</I>&gt;<i> GitHub seems to view that as a feature, not bug:
</I>&gt;<i> &quot;&quot;&quot;
</I>&gt;<i> Pull requests can be sent from any branch or commit but it's recommended
</I>&gt;<i> that a topic branch be used so that follow-up commits can be pushed to
</I>&gt;<i> update the pull request if necessary.
</I>&gt;<i> &quot;&quot;&quot;
</I>&gt;<i> <A HREF="https://help.github.com/articles/using-pull-requests">https://help.github.com/articles/using-pull-requests</A>
</I>&gt;<i>
</I>&gt;<i> &quot;&quot;&quot;
</I>&gt;<i> It's important to use a new branch for pull requests for several reasons:
</I>&gt;<i>
</I>&gt;<i> It allows you to submit multiple pull requests without confusion. The
</I>&gt;<i> classical Github gotcha is to continue committing to a pull request branch
</I>&gt;<i> after making the initial request. When these commits are pushed to the
</I>&gt;<i> remote, they will become part of the original pull request which often ends
</I>&gt;<i> up conflating unrelated functionality.
</I>&gt;<i> &quot;&quot;&quot;
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://codeinthehole.com/writing/pull-requests-and-other-good-practices-for-teams-using-github/">http://codeinthehole.com/writing/pull-requests-and-other-good-practices-for-teams-using-github/</A>
</I>&gt;<i>
</I>&gt;<i> However: <A HREF="https://github.com/blog/712-pull-requests-2-0">https://github.com/blog/712-pull-requests-2-0</A>
</I>&gt;<i> I'm not sure how to interpret that ..
</I>&gt;<i>
</I>&gt;<i> /Tobias
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20130604/f744e4ad/attachment-0002.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="059482.html">[Twisted-Python] github, again
</A></li>
	<LI>Next message (by thread): <A HREF="059485.html">[Twisted-Python] github, again
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59483">[ date ]</a>
              <a href="thread.html#59483">[ thread ]</a>
              <a href="subject.html#59483">[ subject ]</a>
              <a href="author.html#59483">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
