<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] logging
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20logging&In-Reply-To=%3C7E55CCC3-0847-4D8F-AE06-21FB1D48B4C8%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027080.html">
   <LINK REL="Next"  HREF="027083.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] logging</H1>
    <B>Glyph</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20logging&In-Reply-To=%3C7E55CCC3-0847-4D8F-AE06-21FB1D48B4C8%40twistedmatrix.com%3E"
       TITLE="[Twisted-Python] logging">glyph at twistedmatrix.com
       </A><BR>
    <I>Sat Jun 15 05:13:33 MDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027080.html">[Twisted-Python] logging
</A></li>
        <LI>Next message: <A HREF="027083.html">[Twisted-Python] logging
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27081">[ date ]</a>
              <a href="thread.html#27081">[ thread ]</a>
              <a href="subject.html#27081">[ subject ]</a>
              <a href="author.html#27081">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Jun 15, 2013, at 3:55 AM, Phil Mayers &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">p.mayers at imperial.ac.uk</A>&gt; wrote:

&gt;<i> On 06/15/2013 06:48 AM, Christopher Armstrong wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> There's... a lot here. I'm overwhelmed by how complex this system
</I>&gt;&gt;<i> would be, and I think that end users would be as well. I don't really
</I>&gt;&gt;<i> want to put UUIDs into my source code, whether I type them or paste
</I>&gt;&gt;<i> them, and I don't want to have to invoke command line tools to figure
</I>&gt;&gt;<i> out what those UUIDs in order to be a good developer.
</I>&gt;<i> 
</I>&gt;<i> +1. I like the general idea of better logging via keyword args and an &quot;id&quot;, but I strongly dislike the idea of using UUIDs as log message identifiers.
</I>&gt;<i> 
</I>&gt;<i> In fact, I'll go so far as to say I defintely wouldn't use such a system, and for Twisted to migrate to it would actually reduce the utility of the in-built logging, because I'd have to build and maintain something to translate Twisted log messages I cared about into whatever system I built to do my own logging :o(
</I>
I am really, really puzzled by this reaction.  I am wondering if you read my message carefully, or if I didn't express myself well.

If I were to implement the system that I have proposed, you could completely ignore it.  You could never deal with a UUID ever, and process logs based on whatever other attributes you like.  There's nothing to translate.  Unless when you say &quot;translate&quot; you mean translating the UUID of a currently ad-hoc message (one which doesn't specify or document its own unique attributes) which is something that would just be impossible without this feature.

The only overhead that you'd ever incur would be a single call per log event - probably per-process-lifetime, since the result could be cached - to uuid.uuid5, which is not exactly the most expensive function.  It would be called internally though; you wouldn't have to call it yourself or be aware that it was being called.

If you had the use-case that I believe many people do - which is to evolve a stable identifier for a previously ad-hoc log message - then you could do that.  Otherwise this wouldn't affect you.

What I've proposed with UUIDs is to identify *specific semantic events* that you might want to do monitoring/alerting on, which may move between systems.

Does this explanation make you feel less worried about the inclusion of such a feature?

&gt;&gt;<i> I think there's basically no practical benefit over the hierarchical
</I>&gt;&gt;<i> &quot;system&quot; + event-identifier system, where:
</I>&gt;<i> 
</I>&gt;<i> +1. Hierarchial IDs also permit prefix-based wildcarding:
</I>&gt;<i> 
</I>&gt;<i> log.observe(&quot;twisted.factory.*&quot;)
</I>&gt;<i> log.exclude(&quot;twisted.factory.http.*&quot;)
</I>&gt;<i> log.observe(&quot;myapp.thing&quot;)
</I>&gt;<i> log.observe(&quot;txSomeProject.event.*&quot;)
</I>
This is already implemented in &lt;<A HREF="http://trac.calendarserver.org/browser/CalendarServer/trunk/twext/python/log.py">http://trac.calendarserver.org/browser/CalendarServer/trunk/twext/python/log.py</A>&gt;; see for example setLogLevelForNamespace() &lt;<A HREF="http://trac.calendarserver.org/browser/CalendarServer/trunk/twext/python/log.py#L175">http://trac.calendarserver.org/browser/CalendarServer/trunk/twext/python/log.py#L175</A>&gt;.

Namespaces are just python module names by default, but nothing requires that; the only requirement is that they're strings separated with dots.  You can instantiate a Logger object with whatever 'namespace' argument you want.

So: again, you can get what you want exactly and ignore the other stuff.

&gt;&gt;<i> 1. it's trivial to specify a hierarchical, easy-to-read &quot;system&quot; key
</I>&gt;&gt;<i> that has a small-ish scope
</I>&gt;&gt;<i> 2. you think of a unique event name in that small-ish scope and type it out.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I'm beginning to think #1 is the most important of all, but I think
</I>&gt;&gt;<i> I'll continue to use event-names to describe all my log statements.
</I>&gt;<i> 
</I>&gt;<i> I pretty much agree with all of this.
</I>
I am still not seeing the utility of one of these identifiers beyond class/method name, but you can always just pass the namespace explicitly.

-glyph
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20130615/34e490d3/attachment.html">http://twistedmatrix.com/pipermail/twisted-python/attachments/20130615/34e490d3/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027080.html">[Twisted-Python] logging
</A></li>
	<LI>Next message: <A HREF="027083.html">[Twisted-Python] logging
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27081">[ date ]</a>
              <a href="thread.html#27081">[ thread ]</a>
              <a href="subject.html#27081">[ subject ]</a>
              <a href="author.html#27081">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
