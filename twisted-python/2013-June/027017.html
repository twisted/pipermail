<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] github, again
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20github%2C%20again&In-Reply-To=%3CCACqnu4V8YPaCe8pvOeVa3AgzrqXbqJ2gUP9U18_p1Q3DUpQc8g%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027015.html">
   <LINK REL="Next"  HREF="027019.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] github, again</H1>
    <B>Terry Jones</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20github%2C%20again&In-Reply-To=%3CCACqnu4V8YPaCe8pvOeVa3AgzrqXbqJ2gUP9U18_p1Q3DUpQc8g%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] github, again">terry at jon.es
       </A><BR>
    <I>Mon Jun  3 19:55:20 MDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027015.html">[Twisted-Python] github, again
</A></li>
        <LI>Next message: <A HREF="027019.html">[Twisted-Python] github, again
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27017">[ date ]</a>
              <a href="thread.html#27017">[ thread ]</a>
              <a href="subject.html#27017">[ subject ]</a>
              <a href="author.html#27017">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I sent most of the below off-list to Glyph earlier, as my comments were a
bit half-assed and I'm not really (or not at all) a Twisted contributor.
Glyph suggested I mail them to the list anyway, and to try adding some more
concrete reasons for being +1 on the suggested change.

---  [ Original mail ]

I'm +1 bigtime on moving towards git/github. I really dislike git, but it
gets the job done, and github is awesome. Github changed the way we work,
it removed a ton of friction and overhead in reviewing (you're right, the
click to comment on a diff is really convenient). I don't have too many
complaints about the ticket system, but sure it could be better. The really
impressive thing about Github is how incredibly quickly they move. It gets
better and better and better all the time.  We migrated away from svn +
trac to bzr + launchpad and finally to git + github. The latter blows the
former away massively, IMO.  I'm not trying to give formal quantitative
feedback, just my subjective opinion.  I've also felt for ages that there's
too much overhead in trying to contribute to Twisted. I'm a lazy/selfish
kind of member of the Twisted community, and when I'm faced with the
thought of having to set up all that old-fashioned (from my POV) machinery
like svn and combinator and what-not to think about really contributing or
running tests or whatever, some part of me just thinks &quot;no, no, no, I'm not
going back to that world&quot;.  (see above re lazy, if that wasn't clear).

OK, sorry for a bit of a rambling subjective mail. I'm sure you've heard
all this before. The funny thing about these changes is that before you
make them you always think things are pretty much fine. After you make them
you wonder how you ever lived with the old system.  That may not be the
case here for you or for you &amp; the Twisted community, but it certainly was
for me with the move to github.

---

Glyph&gt; Maybe you could be a bit more specific as to the steps that Github
eliminates, and _concrete_ ways in which it is more efficient.

I'd say there are probably dozens of ways in which Gthub improved things
for us. Many of them are minor, of course, but they all add up and the
usability difference between Github and Trac or Launchpad is extreme.

Ease of use and the anticipated amount of effort something is going to take
are very important aspects of tools, in my opinion. If you know some action
- like starting a review or branching or merging or commenting etc. - is
going to take a certain amount of effort, that correlates (unless you're
being paid or doing this out of some extreme reason, like being a core dev
on a project) with how likely you are to do it. (E.g., making branches - it
was possible in sccs, in rcs, in cvs, in svn, but.... oh, the pain! When
making branches *and merging them* became so extraordinarily simple and
pain free, it changed the way people worked.)  As I said above, I'm a
lazy/selfish Twisted onlooker. Many has been the time when I'd have been
happy to chip in on something (e.g., last week someone was asking for some
reviewing help) but the thought of getting the required machinery in place,
and using it, even if it's just svn (ugh, ugh, ugh) stops me.  That's a
feeling I've had about Twisted many times over the last years. It's the
feeling I have when someone asks me to go back to helping them on some old
perl code - you just don't wanna go there :-) It's ugly and not fun.  Sorry
if these are wimpy reasons, but to me usability friction (real or
perceived) is very important.

A very nice thing about Github is that you can have conversations about the
diff right on the page, inline, where the diff is shown. You don't need to
download the branch, to use the command-line (and i LOVE the command line
BTW), or to do anything like that. Github is smart enough to hide the
discussion once a subsequent commit comes in that addresses the line being
discussed (sure, that could go wrong but in practice it doesn't seem to).
 One click to merge branches is great - in fact we made a rule that merging
is always done via Github. Adding of milestones and labels to issues is
smooth, as is viewing various simple subsets of issues. The project
activity graphs in Github are very interesting. GFM (Github flavored
markdown) is really easy to use and the results are attractive. Gists are
great. It's nice being able to have a wiki that's also just a repo. I very
much like the &quot;pull requests are a place where discussion takes place&quot;
approach - as opposed to holding that pull requests are just where branches
go when they're &quot;finished&quot; and ready to be merged. BTW, it's very
interesting to read about how the folks at Github use Github themselves [1,
2]. The workflow we developed is very similar, only slightly more complex.
If people want more examples, I can try to go more systematically through
my usage of Github &amp; say more.

As mentioned above, Github moves (improves) incredibly quickly. They put
pretty much every other project I know to shame (including all of mine) in
terms of how fast they get stuff done and improve the product and how
attractively it's done. In comparison, Trac and Launchpad felt static,
butt-ugly, and like they virtually never improved. Github gets better
underneath you all the time.  E.g., you happen to be sitting on a page
looking at a pull request, and it updates dynamically without you needing
to reload. The pull request is merged maybe, or the author pushes into the
branch again, or conflicts with master get resolved by someone and the page
updates. Little things, but they work damned well and make using the site a
pleasure.

I can't resist adding: a friend in IRC just said re this thread: &quot;2003
called and asked for their shitty tools back.&quot;

Terry

[1] <A HREF="http://scottchacon.com/2011/08/31/github-flow.html">http://scottchacon.com/2011/08/31/github-flow.html</A>
[2] <A HREF="https://github.com/blog/1124-how-we-use-pull-requests-to-build-github">https://github.com/blog/1124-how-we-use-pull-requests-to-build-github</A>


On Mon, Jun 3, 2013 at 9:59 PM, Glyph &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A>&gt; wrote:

&gt;<i> Hi Twisted developers,
</I>&gt;<i>
</I>&gt;<i> This weekend I had a discussion with many Twisted developers, both local
</I>&gt;<i> to and visiting San Francisco.  The topic came up of how to get more
</I>&gt;<i> long-term contributors to participate more regularly in the project -
</I>&gt;<i> particularly, doing code reviews, but also, developing and contributing to
</I>&gt;<i> complex fixes and features that new contributors might not be able to
</I>&gt;<i> tackle.
</I>&gt;<i>
</I>&gt;<i> One suggestion that almost everybody made immediately was: we should use
</I>&gt;<i> Github for code reviews.
</I>&gt;<i>
</I>&gt;<i> In the past, I've heard this suggestion given mainly as a way to *contribute
</I>&gt;<i> more code*, which does not appeal to me, since we are already swamped
</I>&gt;<i> reviewing all the code that is currently being contributed.
</I>&gt;<i>
</I>&gt;<i> This time, however, it's been pitched as a way to get people to *do more
</I>&gt;<i> reviews*, which I'm keenly interested in.  Why would people do more
</I>&gt;<i> reviews on Github?  In a nutshell, it's a lot less work.  Here are some
</I>&gt;<i> reasons why:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>    - Instead of having to run 'force-builds' on the command line, or load
</I>&gt;<i>    a buildbot status page, Github has a way for a build system to report build
</I>&gt;<i>    success automatically, so you can see immediately within a pull request if
</I>&gt;<i>    the changes that it proposes are &quot;good to merge&quot;.  You can see this at work
</I>&gt;<i>    with Travis here: &lt;<A HREF="https://github.com/twisted/klein/pull/11">https://github.com/twisted/klein/pull/11</A>&gt;.
</I>&gt;<i>     Originally I thought that this was a Travis-CI feature, but have since
</I>&gt;<i>    learned that this is apparently easy - trivial even - to hook up to
</I>&gt;<i>    Buildbot, since it's a simple HTTP API to invoke when a build completes,
</I>&gt;<i>    and there is even some existing buildbot infrastructure (deployed by
</I>&gt;<i>    Django, among others) to automate it.
</I>&gt;<i>    - Instead of having to describe each patch location so that you can
</I>&gt;<i>    comment on it in a single message, if you want to put a comment on a
</I>&gt;<i>    particular part of a diff in a Github pull request, you can just click on
</I>&gt;<i>    it and start typing.
</I>&gt;<i>    - In addition to the diff, it's reasonably easy to see the code in
</I>&gt;<i>    context on the web, which is faster than getting it into one's local
</I>&gt;<i>    development environment.
</I>&gt;<i>    - If a review is successful, instead of having to have a local
</I>&gt;<i>    development environment, a committer can just hit the &quot;approve&quot; button and
</I>&gt;<i>    it's landed immediately.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>    - Instead of having to read through all history ever to see what's
</I>&gt;<i>    still relevant, a pull request will hide comments that address outdated
</I>&gt;<i>    diffs, allowing the change author to easily see what remains.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> These advantages are not comprehensive, but they're the more significant
</I>&gt;<i> ones I remember from this discussion.
</I>&gt;<i>
</I>&gt;<i> A prerequisite for using Github for code reviews would be using Git rather
</I>&gt;<i> than Subversion.  Luckily there's not much work to do in this area, thanks
</I>&gt;<i> to Tom's excellent work on the Git import and automatic Github mirror.  As
</I>&gt;<i> a bonus, by using Git instead of Subversion, we can start properly
</I>&gt;<i> recording merge metadata.
</I>&gt;<i>
</I>&gt;<i> In this discussion, Alex Gaynor pointed out that Django has a hybrid
</I>&gt;<i> workflow where they still use Trac for bug tracking, and Github for code
</I>&gt;<i> review.  We would therefore *not* need to come up with a way to migrate
</I>&gt;<i> all of our tickets to Github issues (which seems, oddly, to be fairly
</I>&gt;<i> unpopular even among those who like github a lot).
</I>&gt;<i>
</I>&gt;<i> What would need to happen in order for this to take place?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>    1. We'd need some consensus (hence this message).
</I>&gt;<i>    2. We'd need to update the release process &lt;
</I>&gt;<i>    <A HREF="http://twistedmatrix.com/trac/wiki/ReleaseProcess">http://twistedmatrix.com/trac/wiki/ReleaseProcess</A>&gt; and our development
</I>&gt;<i>    documentation &lt;
</I>&gt;<i>    <A HREF="http://twistedmatrix.com/trac/wiki/BasicGuideToContributingCode">http://twistedmatrix.com/trac/wiki/BasicGuideToContributingCode</A>&gt; to
</I>&gt;<i>    refer to the relevant Git commands rather than Subversion commands.
</I>&gt;<i>    3. We'd need a redirect from &lt;<A HREF="http://twistedmatrix.com/trac/browser/">http://twistedmatrix.com/trac/browser/</A>&gt;
</I>&gt;<i>    and &lt;<A HREF="http://twistedmatrix.com/trac/changeset/">http://twistedmatrix.com/trac/changeset/</A>&gt; that would point at &lt;
</I>&gt;<i>    <A HREF="https://github.com/twisted/twisted">https://github.com/twisted/twisted</A>&gt; and &lt;
</I>&gt;<i>    <A HREF="https://github.com/twisted/twisted/commits/">https://github.com/twisted/twisted/commits/</A>&gt; respectively.
</I>&gt;<i>    4. We'd need a Github web hook that could poke Buildbot to kick off
</I>&gt;<i>    commits.
</I>&gt;<i>    5. We'd need Buildbot integration to update Github pull requests with
</I>&gt;<i>    build results when builds complete.
</I>&gt;<i>    6. We'd need someone to install git rather than bzr on all the
</I>&gt;<i>    buildbots, and update the configuration of the builders to get the code
</I>&gt;<i>    from a git rather than Subversion URL.
</I>&gt;<i>    7. Someone will need to convert every open ticket in review to a pull
</I>&gt;<i>    request.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I do anticipate some objections.
</I>&gt;<i>
</I>&gt;<i> One objection is that each of the above tasks is going to take some work.
</I>&gt;<i>
</I>&gt;<i> I am fairly confident that some of the people who have educated me here
</I>&gt;<i> will step forward to volunteer to do it.  Please reply to this message if
</I>&gt;<i> you'd like to volunteer, saying what you'd like to volunteer to do.  If
</I>&gt;<i> not, then I guess that objection stands :-).
</I>&gt;<i>
</I>&gt;<i> Another is that this might not be worth that investment of effort.  This
</I>&gt;<i> is why it was nice to have Alex contributing to the discussion: Django did
</I>&gt;<i> basically this very change (right down to the &quot;Trac for tickets / Github
</I>&gt;<i> for pull requests&quot; distinction), at a much higher scale than we have, and
</I>&gt;<i> as he described it the change was *well* worth it.
</I>&gt;<i>
</I>&gt;<i> Another objection is that Github is proprietary software, and an
</I>&gt;<i> externally-maintained service that we'd be depending upon.
</I>&gt;<i>
</I>&gt;<i> One solution to the &quot;proprietary software&quot; thing is the availability of
</I>&gt;<i> the MIT-licensed &lt;<A HREF="http://gitlab.org">http://gitlab.org</A>&gt;.  It's a largely feature-complete
</I>&gt;<i> clone of Github; if, for some reason, we need to migrate away from Github
</I>&gt;<i> in a hurry, it will be relatively painless to set up Gitlab instead, and
</I>&gt;<i> the fact that Git is a DVCS means every contributor will serve as a backup.
</I>&gt;<i>  The main reason I would not suggest just deploying it is that it creates
</I>&gt;<i> another sticky infrastructure-management problem, and while Braid is great,
</I>&gt;<i> I'd prefer to avoid creating *more* work in that area.  Github also has
</I>&gt;<i> APIs for literally all of their features, so we can create a backup script.
</I>&gt;<i>
</I>&gt;<i> (Also worth noting: Gitlab is an open-source competitor to Github, but
</I>&gt;<i> they still trust Github enough to &lt;<A HREF="https://github.com/gitlabhq/">https://github.com/gitlabhq/</A>&gt; host
</I>&gt;<i> their own development there.)
</I>&gt;<i>
</I>&gt;<i> Finally, my own minor concern: Github has no notion of a &quot;code review&quot; as
</I>&gt;<i> a unit of work.  A pull request is just &quot;open&quot; until it is &quot;closed&quot;.
</I>&gt;<i>  Closing pull requests to request changes would be jarring to the cultural
</I>&gt;<i> norms associated with Github's UI.  All the github users I've spoken with,
</I>&gt;<i> even those who follow processes which are effectively identical to
</I>&gt;<i> Twisted's, have assured me that this is not really an issue.  A code review
</I>&gt;<i> is &quot;accepted&quot; when you merge it; it's &quot;rejected&quot; if the pull request is
</I>&gt;<i> still open but has some comments on it.  This will make porting over &lt;
</I>&gt;<i> <A HREF="http://twistedmatrix.com/highscores/">http://twistedmatrix.com/highscores/</A>&gt; a bit challenging, but I think it
</I>&gt;<i> would be worth letting that break for the time being.
</I>&gt;<i>
</I>&gt;<i> -glyph
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20130604/0e8587d6/attachment-0001.html">http://twistedmatrix.com/pipermail/twisted-python/attachments/20130604/0e8587d6/attachment-0001.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027015.html">[Twisted-Python] github, again
</A></li>
	<LI>Next message: <A HREF="027019.html">[Twisted-Python] github, again
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27017">[ date ]</a>
              <a href="thread.html#27017">[ thread ]</a>
              <a href="subject.html#27017">[ subject ]</a>
              <a href="author.html#27017">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
