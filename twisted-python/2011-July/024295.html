<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Twisted bzr mirror (Was: Twisted Project Jobs Volunteer)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Twisted%20bzr%20mirror%20%28Was%3A%20Twisted%20Project%20Jobs%0A%20Volunteer%29&In-Reply-To=1309981912.17239.33.camel%40pp">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024288.html">
   <LINK REL="Next"  HREF="024297.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Twisted bzr mirror (Was: Twisted Project Jobs Volunteer)</H1>
    <B>Adi Roiban</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Twisted%20bzr%20mirror%20%28Was%3A%20Twisted%20Project%20Jobs%0A%20Volunteer%29&In-Reply-To=1309981912.17239.33.camel%40pp"
       TITLE="[Twisted-Python] Twisted bzr mirror (Was: Twisted Project Jobs Volunteer)">adi at roiban.ro
       </A><BR>
    <I>Thu Jul  7 12:25:56 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="024288.html">[Twisted-Python] Twisted bzr mirror (Was: Twisted Project Jobs	Volunteer)
</A></li>
        <LI>Next message: <A HREF="024297.html">[Twisted-Python] Twisted bzr mirror (Was: Twisted Project	Jobs	Volunteer)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24295">[ date ]</a>
              <a href="thread.html#24295">[ thread ]</a>
              <a href="subject.html#24295">[ subject ]</a>
              <a href="author.html#24295">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,


LP BZR Mirror status
--------------------

Martin Pool enabled trunk import directly from SVN repo and the branch
is available here:
<A HREF="https://code.launchpad.net/~vcs-imports/twisted/trunk">https://code.launchpad.net/~vcs-imports/twisted/trunk</A>

The mirror is refreshed about every 5 to 6 hours.
Only trunk is available.


Own BZR Mirror
--------------

I have hacked a quick and dirty script for pulling / creating / deleting
all Twisted svn branches.

The code is here: <A HREF="http://pastebin.ubuntu.com/639582/">http://pastebin.ubuntu.com/639582/</A>

Synchronizing all branches takes about 41 minutes on an Intel Xeon 2.8G
CPU. It does not uses to much memory since each branch is pulled using a
different bzr pull process.

Pulling a single branch takes about 15 seconds, so maybe we the SVN repo
can have some commit hooks to execute 'bzr pull' in the right branch.

-----

Please let me know what do you think should be the next action for
resolving the bzr mirror issues?

-----
Cheers,
Adi

On Wed, 2011-07-06 at 22:51 +0300, Adi Roiban wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> To move things forwards, I would like to discuss the next actions for
</I>&gt;<i> BZR mirror. After the BZR mirror is done, I will look at git.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Launchpad BZR mirror
</I>&gt;<i> ----------------
</I>&gt;<i> 
</I>&gt;<i> AFAIK Launchpad can only import a single svn branch, so importing all
</I>&gt;<i> twisted in-development branches in Launchpad is not possible.
</I>&gt;<i> 
</I>&gt;<i> Right now, Twisted trunk is mirrored into Launchpad using the bzr mirror
</I>&gt;<i> and the last change is : 15922. By exarkun on 2011-06-14.
</I>&gt;<i> 
</I>&gt;<i> Maybe Launchpad can be configured to mirror the SVN trunk branch,
</I>&gt;<i> instead of the BZR branch.
</I>&gt;<i> In this way Launchpad mirror will not depend on Twisted BZR mirror
</I>&gt;<i> errors.
</I>&gt;<i> 
</I>&gt;<i> Jonathan Lange, do you think this is a good idea?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Twisted self hosted BZR mirror
</I>&gt;<i> ------------------------------
</I>&gt;<i> 
</I>&gt;<i> In the following days I will look at the current state of BZR mirror
</I>&gt;<i> available here <A HREF="http://svn.twistedmatrix.com/bzr/Twisted/">http://svn.twistedmatrix.com/bzr/Twisted/</A> , document the
</I>&gt;<i> tools used for maintaining the mirror and try to reproduce a mirror on
</I>&gt;<i> my server.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Cheers,
</I>&gt;<i> Adi
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Tue, 2011-07-05 at 19:22 +0000, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at twistedmatrix.com</A> wrote: 
</I>&gt;<i> &gt; On 05:56 pm, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">_ at lvh.cc</A> wrote:
</I>&gt;<i> &gt; &gt;Hey,
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;Cool, thanks for offering to chip in!
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;I think buildbot management is more important, since I can manage 
</I>&gt;<i> &gt; &gt;github +
</I>&gt;<i> &gt; &gt;wolfwood git mirrors pretty much on my own, and the launchpad mirror 
</I>&gt;<i> &gt; &gt;looks
</I>&gt;<i> &gt; &gt;permanently up to snuff.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; *Keeping* the Launchpad bzr mirror up to date is still a job we're 
</I>&gt;<i> &gt; trying to assign (that's why it's on the jobs page).
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Beyond that, it would be nice if more than just trunk were on Launchpad. 
</I>&gt;<i> &gt; As it is now, if you want to use Launchpad, you can't work on any 
</I>&gt;<i> &gt; branches people have made in svn.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Jean-Paul
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Twisted-Python mailing list
</I>&gt;<i> &gt; <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> &gt; <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>


</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024288.html">[Twisted-Python] Twisted bzr mirror (Was: Twisted Project Jobs	Volunteer)
</A></li>
	<LI>Next message: <A HREF="024297.html">[Twisted-Python] Twisted bzr mirror (Was: Twisted Project	Jobs	Volunteer)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24295">[ date ]</a>
              <a href="thread.html#24295">[ thread ]</a>
              <a href="subject.html#24295">[ subject ]</a>
              <a href="author.html#24295">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
