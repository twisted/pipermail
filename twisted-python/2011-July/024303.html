<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Twisted bzr mirror (Was: Twisted Project	Jobs	Volunteer)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Twisted%20bzr%20mirror%20%28Was%3A%20Twisted%20Project%0A%09Jobs%09Volunteer%29&In-Reply-To=1310208394.1987.214.camel%40pp">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024299.html">
   <LINK REL="Next"  HREF="024306.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Twisted bzr mirror (Was: Twisted Project	Jobs	Volunteer)</H1>
    <B>exarkun at twistedmatrix.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Twisted%20bzr%20mirror%20%28Was%3A%20Twisted%20Project%0A%09Jobs%09Volunteer%29&In-Reply-To=1310208394.1987.214.camel%40pp"
       TITLE="[Twisted-Python] Twisted bzr mirror (Was: Twisted Project	Jobs	Volunteer)">exarkun at twistedmatrix.com
       </A><BR>
    <I>Mon Jul 11 07:30:07 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="024299.html">[Twisted-Python] Twisted bzr mirror (Was: Twisted Project Jobs Volunteer)
</A></li>
        <LI>Next message: <A HREF="024306.html">[Twisted-Python] Twisted bzr mirror (Was: Twisted Project Jobs Volunteer)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24303">[ date ]</a>
              <a href="thread.html#24303">[ thread ]</a>
              <a href="subject.html#24303">[ subject ]</a>
              <a href="author.html#24303">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 9 Jul, 10:46 am, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">adi at roiban.ro</A> wrote:
&gt;<i>On Fri, 2011-07-08 at 16:20 +0000, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at twistedmatrix.com</A> wrote:
</I>&gt;&gt;<i>On 7 Jul, 04:25 pm, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">adi at roiban.ro</A> wrote:
</I>&gt;<i>[snip]
</I>&gt;&gt;<i> &gt;Pulling a single branch takes about 15 seconds, so maybe we the SVN
</I>&gt;&gt;<i> &gt;repo
</I>&gt;&gt;<i> &gt;can have some commit hooks to execute 'bzr pull' in the right branch.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>I think getting the right hook set up to update just the right branch 
</I>&gt;&gt;<i>is
</I>&gt;&gt;<i>what we want to focus on.  Presently svn and bzr are hosted on the 
</I>&gt;&gt;<i>same
</I>&gt;&gt;<i>machine, which perhaps we can continue since this should bring the
</I>&gt;&gt;<i>overhead of mirroring down.  There is even a little code in 
</I>&gt;&gt;<i>lp:twisted-
</I>&gt;&gt;<i>trac-integration for determining which branch a changeset is on (at
</I>&gt;&gt;<i>least for the branch creation changeset) which might help.
</I>&gt;<i>
</I>&gt;&gt;<i> &gt;Please let me know what do you think should be the next action for
</I>&gt;&gt;<i> &gt;resolving the bzr mirror issues?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Do you think you can put together something to run from an svn post-
</I>&gt;&gt;<i>commit hook to update just the single corresponding bzr branch?
</I>&gt;<i>
</I>&gt;<i>Yes. I will write the svn hooks for creating, updating and deleting the
</I>&gt;<i>mirrored branches.
</I>&gt;&gt;<i>Meanwhile I can try your synchronization code to see if it has better
</I>&gt;&gt;<i>results than the current bzr svn-import based approach.
</I>&gt;<i>
</I>&gt;<i>You can also try to run a 5 minutes cron job for pulling just the 
</I>&gt;<i>trunk,
</I>&gt;<i>and another job for pulling each branch.
</I>
I ran this (all-branches version) a few times over the weekend.  The 
first time, when there was lots of catching up to do, took about 3.5 
hours.  After that, it was about 30 minutes per run.  This does seem 
fast enough to do nightly, so I'll set that up until we have the push- 
based version.

Thanks,
Jean-Paul

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024299.html">[Twisted-Python] Twisted bzr mirror (Was: Twisted Project Jobs Volunteer)
</A></li>
	<LI>Next message: <A HREF="024306.html">[Twisted-Python] Twisted bzr mirror (Was: Twisted Project Jobs Volunteer)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24303">[ date ]</a>
              <a href="thread.html#24303">[ thread ]</a>
              <a href="subject.html#24303">[ subject ]</a>
              <a href="author.html#24303">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
