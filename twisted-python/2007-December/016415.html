<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] wx and twisted
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20wx%20and%20twisted&In-Reply-To=672BACC4-A1AF-4006-9067-34C30A581D75%40bubblehouse.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016412.html">
   <LINK REL="Next"  HREF="016414.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] wx and twisted</H1>
    <B>Chris Mellon</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20wx%20and%20twisted&In-Reply-To=672BACC4-A1AF-4006-9067-34C30A581D75%40bubblehouse.org"
       TITLE="[Twisted-Python] wx and twisted">arkanes at gmail.com
       </A><BR>
    <I>Mon Dec  3 14:55:50 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="016412.html">[Twisted-Python] wx and twisted
</A></li>
        <LI>Next message: <A HREF="016414.html">[Twisted-Python] wx and twisted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16415">[ date ]</a>
              <a href="thread.html#16415">[ thread ]</a>
              <a href="subject.html#16415">[ subject ]</a>
              <a href="author.html#16415">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Dec 3, 2007 10:41 AM, Phil Christensen &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">phil at bubblehouse.org</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> On Dec 3, 2007, at 8:47 AM, Jean-Paul Calderone wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; On Mon, 03 Dec 2007 14:33:44 +0100, Michele Petrazzo - Unipex srl &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">michele.petrazzo at unipex.it</A>
</I>&gt;<i> &gt; &gt; wrote:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> [snip traceback]
</I>&gt;<i> &gt;&gt; exceptions.ValueError: file descriptor cannot be a negative integer
</I>&gt;<i> &gt;&gt; (-1)
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; and on shutdown:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> [snip traceback]
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; How debug it?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Start looking at what has changed in wx since the previous working
</I>&gt;<i> &gt; version,
</I>&gt;<i> &gt; or start looking at which calls are resulting in invalid file
</I>&gt;<i> &gt; descriptors.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Or you could try to get the Twisted unit tests to run with
</I>&gt;<i> &gt; wxreactor, and
</I>&gt;<i> &gt; then work on making them pass.
</I>&gt;<i>
</I>&gt;<i> I'm pretty sure that this is truly impossible with the current
</I>&gt;<i> wxreactor, and possibly any reactor that is based on TSR. I found this
</I>&gt;<i> out while trying to implement a corefoundation reactor using wxreactor
</I>&gt;<i> as a reference.
</I>&gt;<i>
</I>&gt;<i> My actual experience with wxWidgets is limited, but as far as I can
</I>&gt;<i> tell, the same issue exists. Tests won't run because wxreactor.stop()
</I>&gt;<i> will never stop the toolkit's main loop by itself, and anything that
</I>&gt;<i> makes the loop end will also terminate the process.
</I>&gt;<i>
</I>
This isn't accurate, with regards to wxreactor - wxreactor shuts down
the wx main loop using a system event, and the wx main loop is
restartable so there's no intrinsic problem with doing this. The way
wxreactor tries to interact with the wxApp is pretty kludgy and might
result in problems, though.

I'm not sure why trial has so many problems with wxreactor - stuff
which works fine outside of trials environment fails hard within it.
It seems to have something to do with TSR, though - its _interleave
loop is raising StopIteration.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016412.html">[Twisted-Python] wx and twisted
</A></li>
	<LI>Next message: <A HREF="016414.html">[Twisted-Python] wx and twisted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16415">[ date ]</a>
              <a href="thread.html#16415">[ thread ]</a>
              <a href="subject.html#16415">[ subject ]</a>
              <a href="author.html#16415">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
