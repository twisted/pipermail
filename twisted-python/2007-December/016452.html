<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: Conch/insults -- using HistoricRecvLine
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20Conch/insults%20--%20using%20HistoricRecvLine&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016427.html">
   <LINK REL="Next"  HREF="016425.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: Conch/insults -- using HistoricRecvLine</H1>
    <B>Bjoern Schliessmann</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20Conch/insults%20--%20using%20HistoricRecvLine&In-Reply-To="
       TITLE="[Twisted-Python] Re: Conch/insults -- using HistoricRecvLine">chronoss at gmx.de
       </A><BR>
    <I>Thu Dec 13 16:50:54 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="016427.html">[Twisted-Python] Conch/insults -- using HistoricRecvLine
</A></li>
        <LI>Next message: <A HREF="016425.html">[Twisted-Python] Please help: having problems with the simplest	Twisted Server/Client Demo Example from the Tutorial
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16452">[ date ]</a>
              <a href="thread.html#16452">[ thread ]</a>
              <a href="subject.html#16452">[ subject ]</a>
              <a href="author.html#16452">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>At first, thank you for the detailed explanation :)

Jean-Paul Calderone wrote:

&gt;<i> I haven't had a chance to work with this part of Twisted much
</I>&gt;<i> recently, but after my most recent attempt, I think I decided that
</I>&gt;<i> the approach taken by HistoricRecvLine doesn't lead to easily
</I>&gt;<i> extensible or reusable code.  I had been investigating an API
</I>&gt;<i> based on an explicit buffer object which allowed different
</I>&gt;<i> components to be isolated from each other.  You can take a look at
</I>&gt;<i> the incomplete results of this (again, no documentation, sorry)
</I>&gt;<i> here: 
</I>
Mh, I'm not too familiar with the insults API. I'll have to look
into it deeper first.

&gt;<i> If you want to stick with HistoricRecvLine
</I>
I don't really want. As you mentioned, it has a full telnet
implementation a few layers down, which I don't need at all. 

I have a custom text protocol which is for quite some time &quot;abused&quot;
for manual input, so I'm trying to add some minimal convenience on
the server side.

&gt;<i> then the only suggestion that comes to mind to make is for you to
</I>&gt;<i> keep your original LineReceiver sub-class separate from your
</I>&gt;<i> HistoricRecvLine subclass.  Give a reference to the former to the
</I>&gt;<i> latter: have the HistoricvRecvLine subclass's lineReceived method
</I>&gt;<i> call lineReceived on the LineReceiver subclass (which may not need
</I>&gt;<i> to be a LineReceiver subclass anymore); give the LineReceiver
</I>&gt;<i> subclass a transport which knows how to interact with the terminal
</I>&gt;<i> in a way which is not disruptive to HistoricRecvLine's use of it.
</I>
Since I haven't achieved setting up a working HistoricRecvLine yet,
and I wouldn't like to have such deep telnet functionality, I'm
going to look into other options. The most simple would be using
rlwrap (3rd party program) for all clients which is work. 

What I'd like most is just to have the server interpret a few
keystrokes specially, for a history function (saving the last
commands given in this session) and _perhaps_ a basic autocompleter
for a set of (~10) commands. 

I'm afraid I have no specific questions for now (but I appreciate
your offer). I think I'll look into the implementation of
LineReceiver and try to figure out where I can tap dataReceived to
catch (and filter out) a few special keystrokes.

Regards,


Bj&#246;rn 

-- 
BOFH excuse #295:

The Token fell out of the ring. Call us when you find it.




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016427.html">[Twisted-Python] Conch/insults -- using HistoricRecvLine
</A></li>
	<LI>Next message: <A HREF="016425.html">[Twisted-Python] Please help: having problems with the simplest	Twisted Server/Client Demo Example from the Tutorial
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16452">[ date ]</a>
              <a href="thread.html#16452">[ thread ]</a>
              <a href="subject.html#16452">[ subject ]</a>
              <a href="author.html#16452">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
