<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] disturbing trial exceptions 
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20disturbing%20trial%20exceptions%20&In-Reply-To=%3C4762705A.5020103%40bluegap.ch%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="048955.html">
   <LINK REL="Next"  HREF="048962.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] disturbing trial exceptions </H1>
    <B>Markus Schiltknecht</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20disturbing%20trial%20exceptions%20&In-Reply-To=%3C4762705A.5020103%40bluegap.ch%3E"
       TITLE="[Twisted-Python] disturbing trial exceptions ">markus at bluegap.ch
       </A><BR>
    <I>Fri Dec 14 05:00:26 MST 2007</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="048955.html">[Twisted-Python] PyAMF 0.1.0 alpha
</A></li>
        <LI>Next message (by thread): <A HREF="048962.html">[Twisted-Python] disturbing trial exceptions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48961">[ date ]</a>
              <a href="thread.html#48961">[ thread ]</a>
              <a href="subject.html#48961">[ subject ]</a>
              <a href="author.html#48961">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

since my last svn update of twisted, some strange errors started popping 
up when testing my package with trial. I've tracked down the exact 
revision with which the errors started to appear:

&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> r21907 | therve | 2007-11-20 20:32:56 +0100 (Tue, 20 Nov 2007) | 9 lines
</I>&gt;<i> 
</I>&gt;<i> Merge test-plugins-not-shared-942
</I>&gt;<i> 
</I>&gt;<i> Author: therve
</I>&gt;<i> Reviewers: exarkun, jml, glyph
</I>&gt;<i> Fixes #942
</I>&gt;<i> 
</I>&gt;<i> Fix twisted.test.test_plugin so that it doesn't use twisted.plugins anymore,
</I>&gt;<i> but create temporary plugins beneath _trial_temp instead.
</I>&gt;<i> 
</I>&gt;<i> ------------------------------------------------------------------------
</I>
The first exception is:
   exceptions.AttributeError: 'module' object has no attribute 'running'

As the errors are from seemingly dynamically generated code (at least I 
could only find .pyc files, no source), I didn't try to investigate further.

After the errors, all tests are correctly run through, so it's just 
plain disturbing.

Here's the full error output:

&gt;<i> Traceback (most recent call last):
</I>&gt;<i>   File &quot;/home/markus/projects/twisted/twisted/python/usage.py&quot;, line 241, in parseOptions
</I>&gt;<i>     self.postOptions()
</I>&gt;<i>   File &quot;/home/markus/projects/twisted/twisted/scripts/trial.py&quot;, line 292, in postOptions
</I>&gt;<i>     self['reporter'] = self._loadReporterByName(self['reporter'])
</I>&gt;<i>   File &quot;/home/markus/projects/twisted/twisted/scripts/trial.py&quot;, line 278, in _loadReporterByName
</I>&gt;<i>     for p in plugin.getPlugins(itrial.IReporter):
</I>&gt;<i>   File &quot;/home/markus/projects/twisted/twisted/plugin.py&quot;, line 200, in getPlugins
</I>&gt;<i>     allDropins = getCache(package)
</I>&gt;<i> --- &lt;exception caught here&gt; ---
</I>&gt;<i>   File &quot;/home/markus/projects/twisted/twisted/plugin.py&quot;, line 165, in getCache
</I>&gt;<i>     provider = pluginModule.load()
</I>&gt;<i>   File &quot;/home/markus/projects/twisted/twisted/python/modules.py&quot;, line 380, in load
</I>&gt;<i>     return self.pathEntry.pythonPath.moduleLoader(self.name)
</I>&gt;<i>   File &quot;/home/markus/projects/twisted/twisted/python/modules.py&quot;, line 618, in moduleLoader
</I>&gt;<i>     return self._moduleLoader(modname)
</I>&gt;<i>   File &quot;/home/markus/projects/twisted/twisted/python/reflect.py&quot;, line 361, in namedAny
</I>&gt;<i>     topLevelPackage = __import__(trialname)
</I>&gt;<i>   File &quot;/home/markus/projects/twisted/twisted/plugins/notestplugin.py&quot;, line 18, in ?
</I>&gt;<i>     
</I>&gt;<i> exceptions.AttributeError: 'module' object has no attribute 'running'
</I>&gt;<i> Traceback (most recent call last):
</I>&gt;<i>   File &quot;/home/markus/projects/twisted/twisted/python/usage.py&quot;, line 241, in parseOptions
</I>&gt;<i>     self.postOptions()
</I>&gt;<i>   File &quot;/home/markus/projects/twisted/twisted/scripts/trial.py&quot;, line 292, in postOptions
</I>&gt;<i>     self['reporter'] = self._loadReporterByName(self['reporter'])
</I>&gt;<i>   File &quot;/home/markus/projects/twisted/twisted/scripts/trial.py&quot;, line 278, in _loadReporterByName
</I>&gt;<i>     for p in plugin.getPlugins(itrial.IReporter):
</I>&gt;<i>   File &quot;/home/markus/projects/twisted/twisted/plugin.py&quot;, line 200, in getPlugins
</I>&gt;<i>     allDropins = getCache(package)
</I>&gt;<i> --- &lt;exception caught here&gt; ---
</I>&gt;<i>   File &quot;/home/markus/projects/twisted/twisted/plugin.py&quot;, line 165, in getCache
</I>&gt;<i>     provider = pluginModule.load()
</I>&gt;<i>   File &quot;/home/markus/projects/twisted/twisted/python/modules.py&quot;, line 380, in load
</I>&gt;<i>     return self.pathEntry.pythonPath.moduleLoader(self.name)
</I>&gt;<i>   File &quot;/home/markus/projects/twisted/twisted/python/modules.py&quot;, line 618, in moduleLoader
</I>&gt;<i>     return self._moduleLoader(modname)
</I>&gt;<i>   File &quot;/home/markus/projects/twisted/twisted/python/reflect.py&quot;, line 361, in namedAny
</I>&gt;<i>     topLevelPackage = __import__(trialname)
</I>&gt;<i>   File &quot;/home/markus/projects/twisted/twisted/plugins/testplugin.py&quot;, line 12, in ?
</I>&gt;<i>     
</I>&gt;<i> exceptions.ImportError: cannot import name ITestPlugin
</I>


Help appreciated.

Regards

Markus



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="048955.html">[Twisted-Python] PyAMF 0.1.0 alpha
</A></li>
	<LI>Next message (by thread): <A HREF="048962.html">[Twisted-Python] disturbing trial exceptions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48961">[ date ]</a>
              <a href="thread.html#48961">[ thread ]</a>
              <a href="subject.html#48961">[ subject ]</a>
              <a href="author.html#48961">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
