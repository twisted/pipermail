<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Server/Client bi-directional data-transfer -	need a solution
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Server/Client%20bi-directional%20data-transfer%20-%0A%09need%20a%20solution&In-Reply-To=%3C200712121120.27558.maarten%40treewalker.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="048946.html">
   <LINK REL="Next"  HREF="048988.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Server/Client bi-directional data-transfer -	need a solution</H1>
    <B>Maarten ter Huurne</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Server/Client%20bi-directional%20data-transfer%20-%0A%09need%20a%20solution&In-Reply-To=%3C200712121120.27558.maarten%40treewalker.org%3E"
       TITLE="[Twisted-Python] Server/Client bi-directional data-transfer -	need a solution">maarten at treewalker.org
       </A><BR>
    <I>Wed Dec 12 03:20:20 MST 2007</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="048946.html">[Twisted-Python] Server/Client bi-directional data-transfer - need	a solution
</A></li>
        <LI>Next message (by thread): <A HREF="048988.html">[Twisted-Python] Server/Client bi-directional data-transfer -	need a solution
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48948">[ date ]</a>
              <a href="thread.html#48948">[ thread ]</a>
              <a href="subject.html#48948">[ subject ]</a>
              <a href="author.html#48948">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wednesday 12 December 2007, Sajit Rao wrote:

&gt;<i> *The Goal:*
</I>&gt;<i>
</I>&gt;<i>    - I'm trying to write a simple server/client app where the client can
</I>&gt;<i>    send the server either a small string like &quot;hello&quot; OR a small file
</I>&gt;<i> (txt, pdf, ppt,.. let's say &lt; 5MB ).
</I>&gt;<i>    - The server needs to figure out if the data it received is a simple
</I>&gt;<i>    string or a file and symmetrically may decide to send back to the
</I>&gt;<i> client a simple string or a small file.
</I>&gt;<i>    - As a bonus, It's highly desirable that the transfer be secure - but
</I>&gt;<i>    it's ok for the first version if it isn't
</I>
Would an HTTP POST suffice? You could easily test it using a web browser or 
a program like wget and adding a secure channel is done by switching from 
HTTP to HTTPS later.

If your application works like an instant messenger, consider using Twisted 
Words, for example with the XMPP (Jabber) protocol.

Does the client/server connection have to be able to pass a firewall or 
proxy? In that case HTTP or something that can be run over HTTP would be a 
big advantage.

&gt;<i> *Questions:*
</I>&gt;<i>
</I>&gt;<i> What's the cleanest way to accomplish this? I've been looking at the
</I>&gt;<i> single Howto/Example that exists for *twisted.conch* but still can't
</I>&gt;<i> understand several things. In particular
</I>&gt;<i>
</I>&gt;<i>    1. Should I create two separate channels between server and client -
</I>&gt;<i>    one for simple strings and one for files so that the client or server
</I>&gt;<i> knows the type of data on that channel?
</I>
That depends on what protocol you want to use over the channel(s). If the 
protocol can send series of text strings and binaries over the same channel 
then you need only one. But if having separate channels helps in 
simplifying the protocol, then that might be better.

One design decision to make is whether to keep the channel(s) open the whole 
time or open them when there is new data and then close them when the 
transfer is done. Or maybe keep the text string channel open all the time 
and open a file transfer channel on demand.

What kind of performance characteristics do you need? Does latency on the 
text strings matter? Are you going to transfer 10 files a day or 10000?

&gt;<i>    2. Should the files be mime-encoded at one end and mime-decoded at the
</I>&gt;<i>    other so that file-type is automatically handled?
</I>
MIME encoding gives you a way to send the file name and type and it can be 
used over a text stream. However, the encoding of the data itself is not 
really needed if your channel is 8-bit clear and everything except e-mail 
is 8-bit clear nowadays (I think). For small files the overhead is neglible 
though.

&gt;<i>    3. I've read that there is a python package called paramiko that
</I>&gt;<i>    implements ssh2 transfer - how does this compare with twisted.conch?
</I>
I don't know. One thing you could look at is which main loop you want to 
use. If you want to use Twisted's reactor, conch would better integrate 
with that of course. But if you want to use a GUI toolkit not supported by 
Twisted, it would take some effort to merge the main loops, so then running 
paramiko in a thread might be easier.

Another thing to look at is the license: paramiko is LGPL, which places more 
restrictions on its use than Twisted's MIT license. Depending on your 
situation that may or may not be important.

Bye,
		Maarten
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part.
URL: &lt;/pipermail/twisted-python/attachments/20071212/2b28e8df/attachment.sig&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="048946.html">[Twisted-Python] Server/Client bi-directional data-transfer - need	a solution
</A></li>
	<LI>Next message (by thread): <A HREF="048988.html">[Twisted-Python] Server/Client bi-directional data-transfer -	need a solution
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#48948">[ date ]</a>
              <a href="thread.html#48948">[ thread ]</a>
              <a href="subject.html#48948">[ subject ]</a>
              <a href="author.html#48948">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
