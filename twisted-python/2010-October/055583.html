<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Immediate removal of cfreactor
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Immediate%20removal%20of%20cfreactor&In-Reply-To=%3C20101031005146.2040.1960149515.divmod.xquotient.414%40localhost.localdomain%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="055582.html">
   <LINK REL="Next"  HREF="055585.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Immediate removal of cfreactor</H1>
    <B>exarkun at twistedmatrix.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Immediate%20removal%20of%20cfreactor&In-Reply-To=%3C20101031005146.2040.1960149515.divmod.xquotient.414%40localhost.localdomain%3E"
       TITLE="[Twisted-Python] Immediate removal of cfreactor">exarkun at twistedmatrix.com
       </A><BR>
    <I>Sat Oct 30 18:51:46 MDT 2010</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="055582.html">[Twisted-Python] kqreactor implemented with select.kqueue for	Python26 up
</A></li>
        <LI>Next message (by thread): <A HREF="055585.html">[Twisted-Python] Immediate removal of cfreactor
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55583">[ date ]</a>
              <a href="thread.html#55583">[ thread ]</a>
              <a href="subject.html#55583">[ subject ]</a>
              <a href="author.html#55583">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello all,

As reported in &lt;<A HREF="http://twistedmatrix.com/trac/ticket/4652">http://twistedmatrix.com/trac/ticket/4652</A>&gt;, some 
problems have arisen with cfreactor.

First, recent versions of Pyrex reject the Pyrex source for the support 
modules.  This makes future development on cfreactor difficult (although 
Glyph's branch does resolve this problem - or at least appears to).

Second, the C source files do not build with clang.  This seems likely 
to become more important on future versions of OS X (the only platform 
where this code matters).  Even OS X 10.6 makes clang easily available 
(according to an Ars Technica article, &quot;Clang is the recommended 
compiler, and the focus of all of Apple's future efforts.&quot; 
&lt;<A HREF="http://arstechnica.com/apple/reviews/2009/08/mac-os-x-10-6.ars/9">http://arstechnica.com/apple/reviews/2009/08/mac-os-x-10-6.ars/9</A>&gt;)

Finally, when the cfreactor build fails, distutils prematurely exits, 
preventing the rest of the build from completing.  This point makes this 
a serious problem for Twisted as a whole, rather than an obscure 
platform quirk that can be ignored without wide-ranging consequences.

Apple has announced OS X 10.7 for summer 2011.  Presumably at some point 
prior to this they will freeze on a version of Twisted to package.  The 
best outcome for Twisted can probably be attained by ensuring this is a 
version of Twisted which does not have the build issues reported in 
#4652.

Rather than leaving this to chance, I propose that we remove cfreactor 
and all supporting code ourselves, immediately (ie, in 10.2 - hi therve, 
go faster next time ;).

I think the relatively small userbase of cfreactor (I don't know of any 
projects using it, nor does Google codesearch) and the fact that the 
version of cfreactor in trunk segfaults partway through running the test 
suite, combined with the potentially time-sensitive nature of this fix, 
merits an exception to the normal backwards policy.

Rather than removing it, we could fix it, but the fact that no one seems 
to be using it makes me think that no one with the expertise and 
interest will step up to so.

If we're going to do this, it would be good to do it in the next few 
days (say, by Tuesday) so as not to unduly further delay the 10.2 
release process.

Thoughts?

Jean-Paul


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="055582.html">[Twisted-Python] kqreactor implemented with select.kqueue for	Python26 up
</A></li>
	<LI>Next message (by thread): <A HREF="055585.html">[Twisted-Python] Immediate removal of cfreactor
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55583">[ date ]</a>
              <a href="thread.html#55583">[ thread ]</a>
              <a href="subject.html#55583">[ subject ]</a>
              <a href="author.html#55583">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
