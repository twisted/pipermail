<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] How to combine two eventloops into one?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20How%20to%20combine%20two%20eventloops%20into%20one%3F&In-Reply-To=%3C47AE7EB0-74BA-41EF-9B85-481A03D2E51F%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="031929.html">
   <LINK REL="Next"  HREF="031931.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] How to combine two eventloops into one?</H1>
    <B>Glyph</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20How%20to%20combine%20two%20eventloops%20into%20one%3F&In-Reply-To=%3C47AE7EB0-74BA-41EF-9B85-481A03D2E51F%40twistedmatrix.com%3E"
       TITLE="[Twisted-Python] How to combine two eventloops into one?">glyph at twistedmatrix.com
       </A><BR>
    <I>Tue May 22 23:50:09 MDT 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="031929.html">[Twisted-Python] How to combine two eventloops into one?
</A></li>
        <LI>Next message (by thread): <A HREF="031931.html">[Twisted-Python] (no subject)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31930">[ date ]</a>
              <a href="thread.html#31930">[ thread ]</a>
              <a href="subject.html#31930">[ subject ]</a>
              <a href="author.html#31930">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

&gt;<i> On May 21, 2018, at 2:22 AM, Shiyao MA &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">i at introo.me</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> We are developing a network-facing GUI software.
</I>&gt;<i> 
</I>&gt;<i> One team member builds the GUI software, which is based on PyQT and
</I>&gt;<i> the eventloop is qt5reactor.
</I>&gt;<i> 
</I>&gt;<i> Another team member writes the network functions, which is based on
</I>&gt;<i> the <A HREF="https://github.com/bmuller/kademlia">https://github.com/bmuller/kademlia</A> repo.  Again, our code is
</I>&gt;<i> built upon twisted, but to account for the kademila package, we switch
</I>&gt;<i> the underlying event loop to asyncio.
</I>&gt;<i> 
</I>&gt;<i> Now the problem comes as to how to integrate the GUI (qt5reactor) with
</I>&gt;<i> the network(aysncio) eventloop?
</I>&gt;<i> 
</I>&gt;<i> Possible to build a meta eventloop that combines qt5reactor and asyncio?
</I>&gt;<i> Otherwise, any better approach?
</I>
It's definitely possible.

Right now, the integration we've implemented puts asyncio &quot;on the bottom&quot; and twisted &quot;on top&quot;; in the sense that twisted.internet.asyncioreactor implements the Twisted reactor API in terms of the native asyncio event loop.

It would also be possible to implement the asyncio event loop interface, as specified in <A HREF="https://www.python.org/dev/peps/pep-3156/#event-loop-interface-specification">https://www.python.org/dev/peps/pep-3156/#event-loop-interface-specification</A> &lt;<A HREF="https://www.python.org/dev/peps/pep-3156/#event-loop-interface-specification">https://www.python.org/dev/peps/pep-3156/#event-loop-interface-specification</A>&gt;, in terms of the Twisted reactor interfaces.  Many of the methods are quite similar.  If we had such a wrapper in Twisted already, you could wrap your qt5reactor instance in a ReactorLoop() and install that into asyncio using an event loop policy.

I hope someone will contribute this ;-).

-g
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20180522/665bc144/attachment.html&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="031929.html">[Twisted-Python] How to combine two eventloops into one?
</A></li>
	<LI>Next message (by thread): <A HREF="031931.html">[Twisted-Python] (no subject)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31930">[ date ]</a>
              <a href="thread.html#31930">[ thread ]</a>
              <a href="subject.html#31930">[ subject ]</a>
              <a href="author.html#31930">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
