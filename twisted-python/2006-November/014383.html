<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Questions about the very nice AMP protocol
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Questions%20about%20the%20very%20nice%20AMP%20protocol&In-Reply-To=20061117133226.20948.478532105.divmod.quotient.30978%40ohm">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014371.html">
   <LINK REL="Next"  HREF="014379.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Questions about the very nice AMP protocol</H1>
    <B>Stephen Thorne</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Questions%20about%20the%20very%20nice%20AMP%20protocol&In-Reply-To=20061117133226.20948.478532105.divmod.quotient.30978%40ohm"
       TITLE="[Twisted-Python] Questions about the very nice AMP protocol">stephen at thorne.id.au
       </A><BR>
    <I>Mon Nov 20 07:58:54 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="014371.html">[Twisted-Python] Questions about the very nice AMP protocol
</A></li>
        <LI>Next message: <A HREF="014379.html">[Twisted-Python] Weekly Bug Summary
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14383">[ date ]</a>
              <a href="thread.html#14383">[ thread ]</a>
              <a href="subject.html#14383">[ subject ]</a>
              <a href="author.html#14383">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, 17 Nov 2006 08:32:26 -0500, Jean-Paul Calderone &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at divmod.com</A>&gt; wrote:
&gt;<i>On Thu, 16 Nov 2006 23:23:43 -0700, Brian Granger &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">ellisonbg.net at gmail.com</A>&gt; 
</I>&gt;&gt;<i>1.  Use a multi-connection approach like FTP does.  Use AMP for
</I>&gt;&gt;<i>control and the other connection
</I>&gt;&gt;<i>for the binary data.  It would be easy to use producers/consumers in
</I>&gt;&gt;<i>this channel to handle the large data problems above.  I don't like
</I>&gt;&gt;<i>this because I often need to ssh tunnel the protocol through firewalls
</I>&gt;&gt;<i>- two connections is unpleasant.
</I>
HTTP is a protocol quite suited to this. I believe we already have someone
using AMP in a grid computing environment where instead of large amounts of 
data, a http:// url pointing to the large amount of data is provided.

I think the best way to do this is to describe a series of urls (in the
case where you have multiple mirrors), a checksum and perhaps an identifier.

The client then knows it can fire up a twisted.web.client.downloadPage() and
have the data when the Deferred fires.

If you need to serve the data dynamically, then you can use twisted.web /
twisted.web2 quite easily, or you can just put the files in a directory
tree available to your favourite HTTP server.

&gt;&gt;<i>2.  Use AMP's inner protocol to run two protocols simultaneously.  My
</I>&gt;&gt;<i>understanding is that AMP doesn't support switching back and forth
</I>&gt;&gt;<i>between AMP and its inner protocol.  Would it be crazy to try this
</I>&gt;&gt;<i>approach?
</I>
Not a wonderful idea. I've seen this approach implemented, and it results
in much of the freedom that amp provides being limited.

&gt;&gt;<i>3.  Try to modify AMP itself to handle the large objects itself by
</I>&gt;&gt;<i>registering Producers with the underlying transport.
</I>&gt;<i>
</I>&gt;<i>This is the planned direction for AMP, if that makes any difference to
</I>&gt;<i>your plans.
</I>
I would love to see this implemented in a sane fashion. I've talked to 
Glyph about it, and it seems like the structure of amp will quite easily 
accomodate it. We've even discussed things like caching amp proxies.

No code yet as far as I've seen.

Stephen.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014371.html">[Twisted-Python] Questions about the very nice AMP protocol
</A></li>
	<LI>Next message: <A HREF="014379.html">[Twisted-Python] Weekly Bug Summary
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14383">[ date ]</a>
              <a href="thread.html#14383">[ thread ]</a>
              <a href="subject.html#14383">[ subject ]</a>
              <a href="author.html#14383">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
