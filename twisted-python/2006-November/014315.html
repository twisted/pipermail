<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Understanding Deferreds/callback further
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Understanding%20Deferreds/callback%20further&In-Reply-To=455197D7.2090508%40imperial.ac.uk">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014313.html">
   <LINK REL="Next"  HREF="014317.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Understanding Deferreds/callback further</H1>
    <B>Yi Qiang</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Understanding%20Deferreds/callback%20further&In-Reply-To=455197D7.2090508%40imperial.ac.uk"
       TITLE="[Twisted-Python] Understanding Deferreds/callback further">yqiang at gmail.com
       </A><BR>
    <I>Wed Nov  8 16:59:42 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="014313.html">[Twisted-Python] Understanding Deferreds/callback further
</A></li>
        <LI>Next message: <A HREF="014317.html">[Twisted-Python] Understanding Deferreds/callback further
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14315">[ date ]</a>
              <a href="thread.html#14315">[ thread ]</a>
              <a href="subject.html#14315">[ subject ]</a>
              <a href="author.html#14315">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11/8/06, Phil Mayers &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">p.mayers at imperial.ac.uk</A>&gt; wrote:

&gt;<i> To be honest, the problem still seems a little abstract to me, and I'm
</I>&gt;<i> having a hard time figuring out exactly what you're trying to achieve.
</I>&gt;<i> Surely the clients have to submit *some* form of completion status to
</I>&gt;<i> the PB server?
</I>

Ok.  The thing I am trying to design/code is a job distribution system, for
a distributed computation model.  There is a server which interacts with the
job database (which is just a bsddb).  The server accepts connections from
clients and distributes jobs to them.  The server also accepts connections
from a 2nd type of client, which submits jobs to the server.

The &quot;Monitor&quot; portion of the clients seem superfluous - what does it
&gt;<i> achieve that having the worker submit the completion does not?
</I>


For the clients whose sole purpose it is to get and process jobs, I
initially envisioned it containing 2 classes.  One class is the Monitor
class and one is the Worker class.  The Monitor's responsibility would be
coordinating the Workers since there can be multiple workers running on the
same client.  The monitor would coordinate tasks such as watching for
activity from the workers (i.e. update the output from workers as it comes
in) and also the monitor needs to be able to prematurely end a workers task
if the job is marked as unnecessary.
The workers of course have to submit their results back to the server, but
in the system I envisioned the monitor takes care of that by continuously
polling the status of the workers.

You're right in that this system complicates things since now I have to
handle communication between the client and the server, and on the client
side I need to implement communication protocols between the monitor and the
worker.  However, it does seem to buy me some flexibility.  Also, this will
keep the Worker class quite simple since all it actually does it execute an
external program to do it's job.

Without a more concrete description I'm afraid I don't have much more
&gt;<i> useful to add.
</I>

I hope this clears it up some more and am looking forward to your feedback.
I think the most difficult problem I am facing right now is to decide on a
good design.  This is kind of vague in text and I hope to be able to show
you some code soon, when I figure out how to publish a mercurial repository
:<i>)
</I>
Thanks,
Yi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20061108/4a053aff/attachment.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20061108/4a053aff/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014313.html">[Twisted-Python] Understanding Deferreds/callback further
</A></li>
	<LI>Next message: <A HREF="014317.html">[Twisted-Python] Understanding Deferreds/callback further
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14315">[ date ]</a>
              <a href="thread.html#14315">[ thread ]</a>
              <a href="subject.html#14315">[ subject ]</a>
              <a href="author.html#14315">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
