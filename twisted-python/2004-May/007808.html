<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: How do I run a twisted server directly
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20How%20do%20I%20run%20a%20twisted%20server%20directly&In-Reply-To=u4qqen82d.fsf%40fitlinxx.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007807.html">
   <LINK REL="Next"  HREF="007819.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: How do I run a twisted server directly</H1>
    <B>Alexander May</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20How%20do%20I%20run%20a%20twisted%20server%20directly&In-Reply-To=u4qqen82d.fsf%40fitlinxx.com"
       TITLE="[Twisted-Python] Re: How do I run a twisted server directly">alex-news at comcast.net
       </A><BR>
    <I>Mon May 17 18:07:47 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="007807.html">[Twisted-Python] Re: How do I run a twisted server directly
</A></li>
        <LI>Next message: <A HREF="007819.html">[Twisted-Python] Custom app using twisted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7808">[ date ]</a>
              <a href="thread.html#7808">[ thread ]</a>
              <a href="subject.html#7808">[ subject ]</a>
              <a href="author.html#7808">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> This got fixed as part of SourceForge bug 501622.  The fix showed up in
</I>Python 2.3. (See also
<A HREF="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=501622&amp;group_id=547">http://sourceforge.net/tracker/index.php?func=detail&amp;aid=501622&amp;group_id=547</A>
0&amp;atid=105470).

Thanks for the info.  I'm running Python 2.3.3.  It does still appear to be
an issue with python and not twisted.

C:\Documents and Settings\Alexander May\My
Documents\maygold-dev\central-server&gt;python
Python 2.3.3 (#51, Dec 18 2003, 20:22:39) [MSC v.1200 32 bit (Intel)] on
win32
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt;<i> c=compile ('print &quot;hello world&quot;\n', 'filename', 'exec')
</I>&gt;&gt;&gt;<i> exec c
</I>hello world
&gt;&gt;&gt;<i> c=compile ('print &quot;hello world&quot;\n ', 'filename', 'exec')
</I>Traceback (most recent call last):
  File &quot;&lt;stdin&gt;&quot;, line 1, in ?
  File &quot;filename&quot;, line 2

SyntaxError: invalid syntax
&gt;&gt;&gt;<i> ^Z
</I>
Alex


-----Original Message-----
From: <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python-bounces at twistedmatrix.com</A>
[mailto:<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python-bounces at twistedmatrix.com</A>] On Behalf Of David Bolen
Sent: Monday, May 17, 2004 3:54 PM
To: <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>
Subject: [Twisted-Python] Re: How do I run a twisted server directly

&quot;Alexander May&quot; &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">alex-news at comcast.net</A>&gt; writes:

&gt;<i> Where the last line consists of a single space, then I get an error 
</I>&gt;<i> when I run twistd -y scratch.py (call stack at end).  When I remove 
</I>&gt;<i> the space so the last line is just a carriage return, it works fine.  I
</I>found it strange.
&gt;<i> Perhaps it is a python thing I has just never stumbled on before.  Not 
</I>&gt;<i> a big deal now that I know, but it drove me batty for a bit.
</I>
It sounds like an existing Python issue having to do with the internal
compile function (which is also used by exec) not handling the case of a
file not terminating in a newline.  Programs that bring in modules as text
and then compile them can run into this (it used to happen to me with the
Installer package).  So it's not really something related to twisted other
than how it accesses the module specified with -y.  I guess since as of
Python 2.2, compile/exec is documented as needing the newline you might
argue twistd should be taking care of that.  And yes, the fact that it shows
up as a bland SyntaxError is not obvious.

This got fixed as part of SourceForge bug 501622.  The fix showed up in
Python 2.3. (See also
<A HREF="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=501622&amp;group_id=547">http://sourceforge.net/tracker/index.php?func=detail&amp;aid=501622&amp;group_id=547</A>
0&amp;atid=105470).

-- David


_______________________________________________
Twisted-Python mailing list
<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007807.html">[Twisted-Python] Re: How do I run a twisted server directly
</A></li>
	<LI>Next message: <A HREF="007819.html">[Twisted-Python] Custom app using twisted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7808">[ date ]</a>
              <a href="thread.html#7808">[ thread ]</a>
              <a href="subject.html#7808">[ subject ]</a>
              <a href="author.html#7808">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
