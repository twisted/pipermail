<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: How do I run a twisted server directly
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20How%20do%20I%20run%20a%20twisted%20server%20directly&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007773.html">
   <LINK REL="Next"  HREF="007808.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: How do I run a twisted server directly</H1>
    <B>David Bolen</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20How%20do%20I%20run%20a%20twisted%20server%20directly&In-Reply-To="
       TITLE="[Twisted-Python] Re: How do I run a twisted server directly">db3l at fitlinxx.com
       </A><BR>
    <I>Mon May 17 15:54:18 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="007773.html">[Twisted-Python] How do I run a twisted server directly
</A></li>
        <LI>Next message: <A HREF="007808.html">[Twisted-Python] Re: How do I run a twisted server directly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7807">[ date ]</a>
              <a href="thread.html#7807">[ thread ]</a>
              <a href="subject.html#7807">[ subject ]</a>
              <a href="author.html#7807">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&quot;Alexander May&quot; &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">alex-news at comcast.net</A>&gt; writes:

&gt;<i> Where the last line consists of a single space, then I get an error when I
</I>&gt;<i> run twistd -y scratch.py (call stack at end).  When I remove the space so
</I>&gt;<i> the last line is just a carriage return, it works fine.  I found it strange.
</I>&gt;<i> Perhaps it is a python thing I has just never stumbled on before.  Not a big
</I>&gt;<i> deal now that I know, but it drove me batty for a bit.
</I>
It sounds like an existing Python issue having to do with the internal
compile function (which is also used by exec) not handling the case of
a file not terminating in a newline.  Programs that bring in modules
as text and then compile them can run into this (it used to happen to
me with the Installer package).  So it's not really something related
to twisted other than how it accesses the module specified with -y.  I
guess since as of Python 2.2, compile/exec is documented as needing
the newline you might argue twistd should be taking care of that.  And
yes, the fact that it shows up as a bland SyntaxError is not obvious.

This got fixed as part of SourceForge bug 501622.  The fix showed up
in Python 2.3. (See also <A HREF="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=501622&amp;group_id=5470&amp;atid=105470">http://sourceforge.net/tracker/index.php?func=detail&amp;aid=501622&amp;group_id=5470&amp;atid=105470</A>).

-- David



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007773.html">[Twisted-Python] How do I run a twisted server directly
</A></li>
	<LI>Next message: <A HREF="007808.html">[Twisted-Python] Re: How do I run a twisted server directly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7807">[ date ]</a>
              <a href="thread.html#7807">[ thread ]</a>
              <a href="subject.html#7807">[ subject ]</a>
              <a href="author.html#7807">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
