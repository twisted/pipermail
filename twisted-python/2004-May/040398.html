<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] example stdin handling client that supports	readline?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20example%20stdin%20handling%20client%20that%20supports%0A%09readline%3F&In-Reply-To=%3Copr8gtfbh3fpwr4c%40mail.ellerton.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="040396.html">
   <LINK REL="Next"  HREF="040400.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] example stdin handling client that supports	readline?</H1>
    <B>Ellers</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20example%20stdin%20handling%20client%20that%20supports%0A%09readline%3F&In-Reply-To=%3Copr8gtfbh3fpwr4c%40mail.ellerton.net%3E"
       TITLE="[Twisted-Python] example stdin handling client that supports	readline?">andrew at ellerton.net
       </A><BR>
    <I>Sun May 23 12:24:37 MDT 2004</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="040396.html">[Twisted-Python] Need cacheable help
</A></li>
        <LI>Next message (by thread): <A HREF="040400.html">[Twisted-Python] example stdin handling client that supports	readline?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40398">[ date ]</a>
              <a href="thread.html#40398">[ thread ]</a>
              <a href="subject.html#40398">[ subject ]</a>
              <a href="author.html#40398">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear All,
I'd like to write a command-line shell-like interface to an in-house database service we have.

The DB service provides a socket-based API with messages like

	0001-SQL-select * from customer|

(where | is a 0x00 char)

The server responds with messages likt

	0001-SQL-name|age|otherfields||Fred|23|etc

I've got the basics going OK.
And in a separate script I've got a basic shell-like program going, complete with readline support.

It looks a bit like:

	mysh$ select * from customer
	[would send select statement now]
	mysh$

etc

Question: how do I integrate stdin or command-driven input into the client code?

That is, because the server reactor object has control of the process, I don't see how I get read input from stdin?

I notice that there is a class

	twisted.internet.stdio.StandardIO

that provides a file descriptor wrapper around stdin etc.

This looks good, but I'm not sure how to connect this with the cool readline functionality, which seems to block and take care of all handling of stdin?

Is there an example of this sort of script out there?
I'm *sure* this sort of thing has been done 100 times before!

Thanks for any tips :)
Ellers


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="040396.html">[Twisted-Python] Need cacheable help
</A></li>
	<LI>Next message (by thread): <A HREF="040400.html">[Twisted-Python] example stdin handling client that supports	readline?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40398">[ date ]</a>
              <a href="thread.html#40398">[ thread ]</a>
              <a href="subject.html#40398">[ subject ]</a>
              <a href="author.html#40398">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
