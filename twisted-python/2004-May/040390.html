<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] service takedown (one newbie to other newbies,	methinks)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20service%20takedown%20%28one%20newbie%20to%20other%20newbies%2C%0A%09methinks%29&In-Reply-To=%3C20040522020754.8347.qmail%40web8302.mail.in.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="040389.html">
   <LINK REL="Next"  HREF="040392.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] service takedown (one newbie to other newbies,	methinks)</H1>
    <B>Bill la Forge</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20service%20takedown%20%28one%20newbie%20to%20other%20newbies%2C%0A%09methinks%29&In-Reply-To=%3C20040522020754.8347.qmail%40web8302.mail.in.yahoo.com%3E"
       TITLE="[Twisted-Python] service takedown (one newbie to other newbies,	methinks)">laforge49 at yahoo.co.in
       </A><BR>
    <I>Fri May 21 20:07:54 MDT 2004</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="040389.html">[Twisted-Python] service takedown (one newbie to other	newbies, methinks)
</A></li>
        <LI>Next message (by thread): <A HREF="040392.html">[Twisted-Python] service takedown (one newbie to other newbies,	methinks)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40390">[ date ]</a>
              <a href="thread.html#40390">[ thread ]</a>
              <a href="subject.html#40390">[ subject ]</a>
              <a href="author.html#40390">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Glyph,
 
You hit the nail square on on both points.
 
1. Things happen. In reviewing bsddb, I find that its gennerally 
recommended to run recover as part of the startup process.
This makes clean shutdowns a bit less critical. But still, I'm
thinking it should be attempted.
 
2. Sometimes services need to be shut down without taking down
Twisted. This is especially important if Twisted is also going to
provide an administration interface, as some administration activities
may be easier when the base service is off-line.
 
3. Support of non-critical service failure? A service may sometimes be
critical and othertimes not. Sounds like a configuration issue that
would be nice to standardize at some point. But perhaps the best
solution would be to leave it up to something else, perhaps a service
monitor service, which can decide when its not worth keeping Twisted
running, or perhaps putting it into a &quot;I'm dead except for administration
services&quot; mode.
 
One conclusion here is that perhaps a service should never say die
(er, stop). Its always better to separate a smart service from the smarts
needed to manage that service--a service should rarely be coupled to the
management logic.
 
Bill

Glyph Lefkowitz &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at divmod.com</A>&gt; wrote:
On Fri, 2004-05-21 at 20:47, Bill la Forge wrote:

&gt;<i> If I write a generic service, even a MultiService, for use in multiple
</I>&gt;<i> applications (as is my intent), then there is still a possibility that
</I>&gt;<i> some other service, specific to a particular application, or an
</I>&gt;<i> unrelated 
</I>&gt;<i> generic service, may fail to initialize. So the need to capture the 
</I>&gt;<i> shutdown event remins.
</I>
Bill,

I appreciate your questions on these shutdown issues, since I think we
do still have a few semantic issues to nail down regarding startup and
shutdown. However, I do think it's worth mentioning that you should
never depend too heavily on shutdown code if you are interested in
reliability: servers do crash, and machines do lose power, so a &quot;clean&quot;
shutdown should always be a convenience and not a necessity.

(A more serious issue that we need to address is making sure that you
can _attempt_ to bring up a new service inside an already running
reactor, fail to bring it up, and not interrupt existing,
already-running services or alter their state in some way; or, that you
can bring it up and bring it down with the same results.)


_______________________________________________
Twisted-Python mailing list
<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>

Bill la Forge
<A HREF="http://www.geocities.com/laforge49/">http://www.geocities.com/laforge49/</A>
Yahoo! India Matrimony: Find your partner online.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20040522/0ab5507d/attachment.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="040389.html">[Twisted-Python] service takedown (one newbie to other	newbies, methinks)
</A></li>
	<LI>Next message (by thread): <A HREF="040392.html">[Twisted-Python] service takedown (one newbie to other newbies,	methinks)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40390">[ date ]</a>
              <a href="thread.html#40390">[ thread ]</a>
              <a href="subject.html#40390">[ subject ]</a>
              <a href="author.html#40390">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
