<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] How do I run a twisted server directly
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20How%20do%20I%20run%20a%20twisted%20server%20directly&In-Reply-To=40A575A4.7050802%40pgdn.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007763.html">
   <LINK REL="Next"  HREF="007765.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] How do I run a twisted server directly</H1>
    <B>Alexander May</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20How%20do%20I%20run%20a%20twisted%20server%20directly&In-Reply-To=40A575A4.7050802%40pgdn.org"
       TITLE="[Twisted-Python] How do I run a twisted server directly">alex-news at comcast.net
       </A><BR>
    <I>Fri May 14 22:02:45 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="007763.html">[Twisted-Python] How do I run a twisted server directly
</A></li>
        <LI>Next message: <A HREF="007765.html">[Twisted-Python] How do I run a twisted server directly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7764">[ date ]</a>
              <a href="thread.html#7764">[ thread ]</a>
              <a href="subject.html#7764">[ subject ]</a>
              <a href="author.html#7764">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've use pythonwin for a while and I'm giving Komodo try right now.  I'll
try Python.NET soon too.

I cribbed from twistw and did this:

if '__main__' == __name__:
    from twisted.application import app
    import sys
    
    class ServerOptions(app.ServerOptions):
        optFlags = [['nodaemon','y',  &quot;(for backwards compatability).&quot;]]
    
    app.startApplication(application, 0)
    app.runReactorWithLogging(ServerOptions(), sys.stdout, sys.stderr)


Which seems to work.  I can start my application from the debugger and hit
breakpoints, etc.  

Presumably I've committed all sort of horrors writing this code.  Please
feel free to enlighten me to the error of my ways.  Also, I'm curious what
is the function of the following line of code (marked with a *) is which I
saw in twistw:

def runApp(config):
    passphrase = app.getPassphrase(config['encrypted'])
    app.installReactor(config['reactor'])
    application = app.getApplication(config, passphrase)
    oldstdout = sys.stdout
    oldstderr = sys.stderr
    startLogging(config['logfile'])
    app.initialLog()
    os.chdir(config['rundir'])
    service.IService(application).privilegedStartService()
    app.startApplication(application, not config['no_save'])
*   app.startApplication(internet.TimerService(0.1, lambda:None), 0)
    app.runReactorWithLogging(config, oldstdout, oldstderr)
    app.reportProfile(config['report-profile'],
                      service.IProcess(application).processName)
    log.msg(&quot;Server Shut Down.&quot;)


*    do nothing frequently?







 

 

-----Original Message-----
From: <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python-bounces at twistedmatrix.com</A>
[mailto:<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python-bounces at twistedmatrix.com</A>] On Behalf Of Robert Church
Sent: Friday, May 14, 2004 9:43 PM
To: Twisted discussion stuff
Subject: Re: [Twisted-Python] How do I run a twisted server directly

Alexander May wrote:
&gt;<i> Oops, thanks.  Any hope debugging in my IDE instead of pdb?
</I>
What's your IDE?


_______________________________________________
Twisted-Python mailing list
<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007763.html">[Twisted-Python] How do I run a twisted server directly
</A></li>
	<LI>Next message: <A HREF="007765.html">[Twisted-Python] How do I run a twisted server directly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7764">[ date ]</a>
              <a href="thread.html#7764">[ thread ]</a>
              <a href="subject.html#7764">[ subject ]</a>
              <a href="author.html#7764">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
