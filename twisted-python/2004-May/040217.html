<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] t.p.http handling of multipart/form-data
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20t.p.http%20handling%20of%20multipart/form-data&In-Reply-To=%3C409AB4B9.3050605%40comcast.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="040216.html">
   <LINK REL="Next"  HREF="040218.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] t.p.http handling of multipart/form-data</H1>
    <B>Stephen C. Waterbury</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20t.p.http%20handling%20of%20multipart/form-data&In-Reply-To=%3C409AB4B9.3050605%40comcast.net%3E"
       TITLE="[Twisted-Python] t.p.http handling of multipart/form-data">golux at comcast.net
       </A><BR>
    <I>Thu May  6 15:57:13 MDT 2004</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="040216.html">[Twisted-Python] newjelly -- mature or forgotten?
</A></li>
        <LI>Next message (by thread): <A HREF="040218.html">[Twisted-Python] t.p.http handling of multipart/form-data
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40217">[ date ]</a>
              <a href="thread.html#40217">[ thread ]</a>
              <a href="subject.html#40217">[ subject ]</a>
              <a href="author.html#40217">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey http rewriting team ...
(or more specifically foom, I think :)

I'm (for my sins, no doubt) using the multipart/form-data
implementation in t.p.http to transfer files, and it works
okay but could be improved.  I'm sure this is not at the
top of your priority list for the rewrite (or even *on* it,
probably :), but I'd just like to go on record as in favor
of a possible enhancement.  Let me know if I should put
this into the issue tracker as a feature request.

(1)  Access to enclosure headers

The way request arg processing works currently, it doesn't
parse the headers from the MIME enclosure, which includes some
useful stuff:  Content-Type, Content-Transfer-Encoding, and
Content-Disposition (which has the &quot;filename&quot; attribute that
browsers use for the local filename -- nice to have for some
use cases).  This is a documented deficiency of
cgi.parse_multipart -- it's recommended to use cgi.FieldStorage
to parse the nested parts (also for more &quot;flexibility&quot; in
handling of large data, according to the cgi module docs).
I discussed this earlier with Itamar, and IIRC he didn't want
to use FieldStorage because it blocked (right Itamar? :).

(2)  [not a big deal] Multiple enclosures.

This is just a &quot;would be nice&quot;.  It's easy enough to do several
transfers, but a single one would be more efficient, especially
in the case of a lot of small files ... arguably there are lots
of ways to get around it (zip, etc.), which is why it's not
a high priority.

Cheers,
Steve



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="040216.html">[Twisted-Python] newjelly -- mature or forgotten?
</A></li>
	<LI>Next message (by thread): <A HREF="040218.html">[Twisted-Python] t.p.http handling of multipart/form-data
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40217">[ date ]</a>
              <a href="thread.html#40217">[ thread ]</a>
              <a href="subject.html#40217">[ subject ]</a>
              <a href="author.html#40217">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
