<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] (Un)Twisted Clients and Servers (newbie)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20%28Un%29Twisted%20Clients%20and%20Servers%20%28newbie%29&In-Reply-To=40B4CB7E.5040709%40twistedmatrix.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007930.html">
   <LINK REL="Next"  HREF="007931.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] (Un)Twisted Clients and Servers (newbie)</H1>
    <B>Bill la Forge</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20%28Un%29Twisted%20Clients%20and%20Servers%20%28newbie%29&In-Reply-To=40B4CB7E.5040709%40twistedmatrix.com"
       TITLE="[Twisted-Python] (Un)Twisted Clients and Servers (newbie)">laforge49 at yahoo.co.in
       </A><BR>
    <I>Thu May 27 01:38:05 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="007930.html">[Twisted-Python] (Un)Twisted Clients and Servers (newbie)
</A></li>
        <LI>Next message: <A HREF="007931.html">[Twisted-Python] How to organize a web application?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7936">[ date ]</a>
              <a href="thread.html#7936">[ thread ]</a>
              <a href="subject.html#7936">[ subject ]</a>
              <a href="author.html#7936">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Bob Ippolito wrote:
&gt;<i> As far as switching between &quot;async&quot; and 'blocking&quot;,
</I>&gt;<i> why don't you just yield BlockingMode and yield 
</I>&gt;<i> AsyncMode?
</I>
Well, I'm doing something like that now. Here's my
updated client protocol. Now at least you don't need
to remember what to yield (a potential source of 
errors). Plus you save a few lines. Thanks for the 
suggestion.

class SCP(CSProtocol):
    &quot;&quot;&quot;
    Simple Client Protocol
    &quot;&quot;&quot;
    def cs(self):
        lf=LineFilter()
        lf.delimiter=chr(26)
        pushFilter(self,0,lf)
        inp=self.device[0]
        out=self.device[1]
        while True:
            yield inp.startRead()
            try:
                data=inp.endRead()
            except:
                break
            if data=='exit':
                break
            yield self.blockingIOMode()
            sys.stdout.write(data)
            txt=sys.stdin.readline()
            yield self.asyncIOMode()
            if not len(txt):
                break
            yield out.startWrite(txt)
            try:
                out.endWrite()
            except:
                break
        closeDevices(self)
        reactor.stop()


=====
Bill la Forge
<A HREF="http://www.geocities.com/laforge49/">http://www.geocities.com/laforge49/</A>

________________________________________________________________________
Yahoo! India Matrimony: Find your partner online. <A HREF="http://yahoo.shaadi.com/india-matrimony/">http://yahoo.shaadi.com/india-matrimony/</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007930.html">[Twisted-Python] (Un)Twisted Clients and Servers (newbie)
</A></li>
	<LI>Next message: <A HREF="007931.html">[Twisted-Python] How to organize a web application?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7936">[ date ]</a>
              <a href="thread.html#7936">[ thread ]</a>
              <a href="subject.html#7936">[ subject ]</a>
              <a href="author.html#7936">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
