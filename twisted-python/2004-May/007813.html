<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] thread migration and bsddb
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20thread%20migration%20and%20bsddb&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007816.html">
   <LINK REL="Next"  HREF="007817.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] thread migration and bsddb</H1>
    <B>Bill la Forge</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20thread%20migration%20and%20bsddb&In-Reply-To="
       TITLE="[Twisted-Python] thread migration and bsddb">laforge49 at yahoo.co.in
       </A><BR>
    <I>Tue May 18 03:35:28 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="007816.html">[Twisted-Python] A problem with runUntilCurrent
</A></li>
        <LI>Next message: <A HREF="007817.html">[Twisted-Python] thread migration and bsddb
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7813">[ date ]</a>
              <a href="thread.html#7813">[ thread ]</a>
              <a href="subject.html#7813">[ subject ]</a>
              <a href="author.html#7813">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The 040518 release of CompStrm supports the movement of computational streams to a server thread and back to the main thread.
See <A HREF="http://compstrm.sourceforge.net/thread.html">http://compstrm.sourceforge.net/thread.html</A>
 
Thread migration makes it very easy to do blocking I/O without comprimising the main thread.
 
Unfortunatly, this is still not good enough when working with bsddb, as cursors are NOT thread free. To reuse a cursor, you must be on the SAME thread it was created on. ;-(
 
A moderatly reasonable solution seems to be to have a thread dedicated to bsddb. Now the business logic can migrate to that thread, do a bunch of blocking I/O, and then migrate back to the main thread. It would then have the option of returning to the bsddb thread and resume processing with cursors it previously created.
 
Mmm. Looks like its time for me to &quot;put to practice&quot; more of what I've read about Twisted. I'm thinking that managing the bsddb thread might be a Twisted Service--lots better than having each business object instance create its own thread.
 


Bill la Forge
<A HREF="http://www.geocities.com/laforge49/">http://www.geocities.com/laforge49/</A>
Yahoo! India Matrimony: Find your partner online.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20040518/e5326956/attachment.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20040518/e5326956/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007816.html">[Twisted-Python] A problem with runUntilCurrent
</A></li>
	<LI>Next message: <A HREF="007817.html">[Twisted-Python] thread migration and bsddb
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7813">[ date ]</a>
              <a href="thread.html#7813">[ thread ]</a>
              <a href="subject.html#7813">[ subject ]</a>
              <a href="author.html#7813">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
