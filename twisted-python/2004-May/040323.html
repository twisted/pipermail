<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] A problem with runUntilCurrent
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20A%20problem%20with%20runUntilCurrent&In-Reply-To=%3C20040518093826.78365.qmail%40web8311.mail.in.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="040320.html">
   <LINK REL="Next"  HREF="040324.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] A problem with runUntilCurrent</H1>
    <B>Bill la Forge</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20A%20problem%20with%20runUntilCurrent&In-Reply-To=%3C20040518093826.78365.qmail%40web8311.mail.in.yahoo.com%3E"
       TITLE="[Twisted-Python] A problem with runUntilCurrent">laforge49 at yahoo.co.in
       </A><BR>
    <I>Tue May 18 03:38:26 MDT 2004</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="040320.html">[Twisted-Python] A problem with runUntilCurrent
</A></li>
        <LI>Next message (by thread): <A HREF="040324.html">[Twisted-Python] A problem with runUntilCurrent
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40323">[ date ]</a>
              <a href="thread.html#40323">[ thread ]</a>
              <a href="subject.html#40323">[ subject ]</a>
              <a href="author.html#40323">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm not much good at patch files--lacking the tools.
 
But take a look at the attached hack (crafted manually). 
It works for me, with luck it should pass your regression tests.
(Its got the required 2 loops I was talking about.)
 
I'll note in passing that I'm only getting a measure of 7K with this code.
But that's probably as good as we can get without my patches.
Good enough, I suspect.
 
Bill

Glyph Lefkowitz &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at divmod.com</A>&gt; wrote: 
Bill la Forge wrote:
&gt;<i> Thanks to you and the rest of the Twisted development team who
</I>&gt;<i> took the time to dig into my code and then make the changes to
</I>&gt;<i> Twisted!
</I>
You're welcome :).

The reason that we did so is because your run-time patch requires 
talking to the reactor over private interfaces. Normally this sort of 
thing can be overlooked in Python, but there are actually multiple 
implementations of the reactor, some of which may not work with those 
changes. So a more efficient implementation of callLater(0,...) will 
allow your code to be compatible with Twisted and not just happen to 
work on the default reactor :).

_______________________________________________
Twisted-Python mailing list
<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>

Yahoo! India Matrimony: Find your partner online.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20040518/989f66ab/attachment.html&gt;
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: notes.txt
URL: &lt;/pipermail/twisted-python/attachments/20040518/989f66ab/attachment-0002.txt&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="040320.html">[Twisted-Python] A problem with runUntilCurrent
</A></li>
	<LI>Next message (by thread): <A HREF="040324.html">[Twisted-Python] A problem with runUntilCurrent
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40323">[ date ]</a>
              <a href="thread.html#40323">[ thread ]</a>
              <a href="subject.html#40323">[ subject ]</a>
              <a href="author.html#40323">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
