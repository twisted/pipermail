<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] integrating CompStrm//adding background	processing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20integrating%20CompStrm//adding%20background%0A%09processing&In-Reply-To=%3C40A7D811.5000602%40divmod.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="040291.html">
   <LINK REL="Next"  HREF="040298.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] integrating CompStrm//adding background	processing</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20integrating%20CompStrm//adding%20background%0A%09processing&In-Reply-To=%3C40A7D811.5000602%40divmod.com%3E"
       TITLE="[Twisted-Python] integrating CompStrm//adding background	processing">glyph at divmod.com
       </A><BR>
    <I>Sun May 16 15:07:29 MDT 2004</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="040291.html">[Twisted-Python] integrating CompStrm//adding background processing
</A></li>
        <LI>Next message (by thread): <A HREF="040298.html">[Twisted-Python] integrating CompStrm//adding background	processing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40292">[ date ]</a>
              <a href="thread.html#40292">[ thread ]</a>
              <a href="subject.html#40292">[ subject ]</a>
              <a href="author.html#40292">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Bill,

Bill la Forge wrote:
&gt;<i> I've been working on integrating Compstrm
</I>&gt;<i> ( <A HREF="http://compstrm.sourceforge.net">http://compstrm.sourceforge.net</A> ) and, while integration was pretty
</I>&gt;<i> easy, it got harder when I wanted to speed things up.
</I>
I appreciate reports of performance issues, and I'm sure the reactor 
could be sped up a bit - but this report seemed a bit vague, and as far 
as a few helpful folks on #twisted could tell, wrong.

&gt;<i> Just using reactor.callLater, I could only get a speed of 90, in 
</I>&gt;<i> contrast to
</I>&gt;<i> the asyncore integration which was doing better than 12,000.
</I>
90 whats per what on what?  How exactly did you measure this?

We assumed you meant &quot;90 trivial calls per second&quot; and &quot;on relatively 
recent hardware&quot;. The only test we did that made this radical kind of 
difference was inserting a 'print' statement into the &quot;trivial&quot; 
callback.  The numbers for callLaters-per-second on various hardware we 
had lying around, mostly around ~2GhZ athlons, were in the 15000-25000 
range.

&gt;<i> By replacing runUntilCurrent and timeout, I managed to bump my speed up 
</I>&gt;<i> to better than 8,000, which seems reasonable, as Twisted is a bit
</I>&gt;<i> more &quot;heavy weight&quot; than asyncore. ;-)
</I>
Also I'm not sure why your code would have sped up the reactor.  Would 
you mind sending your code in the form of two complete Python programs 
that will demonstrate the difference in speed between your newer 
callLater code and the existing reactor?


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="040291.html">[Twisted-Python] integrating CompStrm//adding background processing
</A></li>
	<LI>Next message (by thread): <A HREF="040298.html">[Twisted-Python] integrating CompStrm//adding background	processing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40292">[ date ]</a>
              <a href="thread.html#40292">[ thread ]</a>
              <a href="subject.html#40292">[ subject ]</a>
              <a href="author.html#40292">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
