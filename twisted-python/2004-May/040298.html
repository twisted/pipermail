<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] integrating CompStrm//adding background	processing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20integrating%20CompStrm//adding%20background%0A%09processing&In-Reply-To=%3C20040517024339.42551.qmail%40web8310.mail.in.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="040292.html">
   <LINK REL="Next"  HREF="040300.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] integrating CompStrm//adding background	processing</H1>
    <B>Bill la Forge</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20integrating%20CompStrm//adding%20background%0A%09processing&In-Reply-To=%3C20040517024339.42551.qmail%40web8310.mail.in.yahoo.com%3E"
       TITLE="[Twisted-Python] integrating CompStrm//adding background	processing">laforge49 at yahoo.co.in
       </A><BR>
    <I>Sun May 16 20:43:39 MDT 2004</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="040292.html">[Twisted-Python] integrating CompStrm//adding background	processing
</A></li>
        <LI>Next message (by thread): <A HREF="040300.html">[Twisted-Python] integrating CompStrm//adding background	processing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40298">[ date ]</a>
              <a href="thread.html#40298">[ thread ]</a>
              <a href="subject.html#40298">[ subject ]</a>
              <a href="author.html#40298">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sorry for the confusion.
 
In the CompStrm project, I'm developing an alternative asyn programming 
style, in an attempt to make such code easier to read/maintain. Like 
flow, it is based on the yield statement. Unlike flow, it requires a 
mechanism for executing code in the background of the main thread.
 
So I'm not speeding up Twisted in any way. Rather, I'm adding a feature, 
all be it one that could be easily abused, by allowing for the inclusion of
an additional function call in the reactor main loop.
 
My initial approach, of using callLater for successive invocations, was 
flawed because of the limited granularity of time available on a PC. This 
means that I was only able to capture control for a very small number of
main loop cycles. But by inserting an additional method call, I am now 
able to perform a little background processing with every cycle.
 
As for the timing, I'm counting the number of items I can pass on an
async pipe between two virtual processes running in the background of
the main thread. Details for running over asyncore are available here:
<A HREF="http://compstrm.sourceforge.net/timing.html">http://compstrm.sourceforge.net/timing.html</A>
 
Bill

Glyph Lefkowitz &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at divmod.com</A>&gt; wrote:
Hi Bill,

I appreciate reports of performance issues, and I'm sure the reactor 
could be sped up a bit - but this report seemed a bit vague, and as far 
as a few helpful folks on #twisted could tell, wrong.

&gt;<i> Just using reactor.callLater, I could only get a speed of 90, in 
</I>&gt;<i> contrast to
</I>&gt;<i> the asyncore integration which was doing better than 12,000.
</I>
90 whats per what on what? How exactly did you measure this?

We assumed you meant &quot;90 trivial calls per second&quot; and &quot;on relatively 
recent hardware&quot;. The only test we did that made this radical kind of 
difference was inserting a 'print' statement into the &quot;trivial&quot; 
callback. The numbers for callLaters-per-second on various hardware we 
had lying around, mostly around ~2GhZ athlons, were in the 15000-25000 
range.


Yahoo! India Matrimony: Find your partner online.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20040517/35c64529/attachment.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="040292.html">[Twisted-Python] integrating CompStrm//adding background	processing
</A></li>
	<LI>Next message (by thread): <A HREF="040300.html">[Twisted-Python] integrating CompStrm//adding background	processing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40298">[ date ]</a>
              <a href="thread.html#40298">[ thread ]</a>
              <a href="subject.html#40298">[ subject ]</a>
              <a href="author.html#40298">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
