<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] How to Solve a Problem Like Santa with	Stackless and Twisted
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20How%20to%20Solve%20a%20Problem%20Like%20Santa%0A%20with%09Stackless%20and%20Twisted&In-Reply-To=%3C4EE8C13F.4020405%40densedata.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="057500.html">
   <LINK REL="Next"  HREF="057502.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] How to Solve a Problem Like Santa with	Stackless and Twisted</H1>
    <B>Johann Borck</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20How%20to%20Solve%20a%20Problem%20Like%20Santa%0A%20with%09Stackless%20and%20Twisted&In-Reply-To=%3C4EE8C13F.4020405%40densedata.com%3E"
       TITLE="[Twisted-Python] How to Solve a Problem Like Santa with	Stackless and Twisted">johann.borck at densedata.com
       </A><BR>
    <I>Wed Dec 14 08:31:11 MST 2011</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="057500.html">[Twisted-Python] How to Solve a Problem Like Santa with	Stackless and Twisted
</A></li>
        <LI>Next message (by thread): <A HREF="057502.html">[Twisted-Python] How to Solve a Problem Like Santa with	Stackless and Twisted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57501">[ date ]</a>
              <a href="thread.html#57501">[ thread ]</a>
              <a href="subject.html#57501">[ subject ]</a>
              <a href="author.html#57501">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 12/14/2011 05:45 AM, Glyph wrote:
&gt;<i> On Dec 13, 2011, at 2:04 PM, Andrew Francis wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Now at time T, there are eight reindeer and two elves ready. At T+1, an additional  reindeer and 
</I>&gt;&gt;<i> elf are ready (their timestamps are the same, timer resolution notwithstanding). However the 
</I>&gt;&gt;<i> Twisted reactor will serialise the events and trigger the callback. For argument, let us pretend 
</I>&gt;&gt;<i> the elvesArrive callback is activated and that wakes Santa. Santa consults with the elves. The 
</I>&gt;&gt;<i> problem is that all nine reindeer were ready and the priority rule is broken. I am not sure, from 
</I>&gt;&gt;<i> inside the callback, one could check to see if nine reindeer were indeed ready.
</I>&gt;<i>
</I>&gt;<i> This strikes me as a problem with the way that quantum physics works more than the way that 
</I>&gt;<i> Twisted's reactor works :).  Broadly speaking, no two events can happen at the /exact/ same time; 
</I>&gt;<i> even if they did, relativity says you wouldn't be able to /tell/ if they happened at the exact 
</I>&gt;<i> same time unless they also happened to be exactly the same distance away from you.  (But then 
</I>&gt;<i> &quot;you&quot; would have to be exactly one atom big, which is a pretty demanding size to build a sensor.)
</I>&gt;<i> [...]
</I>&gt;<i> Ultimately however, the order of the work /will/ be arbitrary; if it's not influenced by the 
</I>&gt;<i> vagaries of Twisted's scheduler, it will be influenced by something in the kernel scheduler that 
</I>&gt;<i> you don't understand or can't control, or in the IP stack, or in a switch on your network, or in 
</I>&gt;<i> your hosting provider's firewall configuration, or something on a client machine that you truly 
</I>&gt;<i> have no influence over at all.  Having something give priority to an event that occurs at &quot;the 
</I>&gt;<i> same&quot; time given all of these potential sources of interference is basically pointless.
</I>&gt;<i>
</I>Isn't that  what logical clocks, using e.g. Lamport timestamps are for? What can be done is letting 
the events happen, wait for another logical tick, possibly triggered by a timeout to prevent 
starvation, looking at the events that have been collected and identified, but not processed yet, 
treating a certain maximum N of logical ticks as &quot;simultaneous&quot; and then decide on how to prioritize 
processing, based on arbitrary rules you choose.

regards,
Johann
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20111214/167d6bed/attachment.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="057500.html">[Twisted-Python] How to Solve a Problem Like Santa with	Stackless and Twisted
</A></li>
	<LI>Next message (by thread): <A HREF="057502.html">[Twisted-Python] How to Solve a Problem Like Santa with	Stackless and Twisted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57501">[ date ]</a>
              <a href="thread.html#57501">[ thread ]</a>
              <a href="subject.html#57501">[ subject ]</a>
              <a href="author.html#57501">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
