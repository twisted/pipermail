<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] MemoryError in twisted.internet.abstract.FileDescriptor
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20MemoryError%20in%0A%20twisted.internet.abstract.FileDescriptor&In-Reply-To=%3C20111214234952.GC14392%40flay.puzzling.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="057503.html">
   <LINK REL="Next"  HREF="057506.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] MemoryError in twisted.internet.abstract.FileDescriptor</H1>
    <B>Andrew Bennetts</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20MemoryError%20in%0A%20twisted.internet.abstract.FileDescriptor&In-Reply-To=%3C20111214234952.GC14392%40flay.puzzling.org%3E"
       TITLE="[Twisted-Python] MemoryError in twisted.internet.abstract.FileDescriptor">andrew at bemusement.org
       </A><BR>
    <I>Wed Dec 14 16:49:52 MST 2011</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="057503.html">[Twisted-Python] MemoryError in	twisted.internet.abstract.FileDescriptor
</A></li>
        <LI>Next message (by thread): <A HREF="057506.html">[Twisted-Python] MemoryError in	twisted.internet.abstract.FileDescriptor
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57504">[ date ]</a>
              <a href="thread.html#57504">[ thread ]</a>
              <a href="subject.html#57504">[ subject ]</a>
              <a href="author.html#57504">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Augusto Mecking Caringi wrote:
&gt;<i> &gt;&gt;&gt; om[3082188716].c
</I>[…]
&gt;<i> str(2917687304
</I>&gt;<i> 53120905B 1par 'ype: Test\nDate: 2011-12-14
</I>&gt;<i> 16:45:30.995217\nEvent-Subtype: FooBar\nContent-Type:
</I>&gt;<i> application/json\n\n{\n ')
</I>
So it appears you have 53 megabyte string that's referenced from your TLS
connection, presumably in a buffer of data waiting to be sent?  At the moment
this memory analysis was captured, do you know how much of this data the client
has received?

Also, how was this data passed to the transport — in one big 53MB write call, or
via many smaller calls, or via a pull producer, or…?

This looks like an HTTP-like protocol, so possibly there's a library between
your code and the transport that means you don't know the direct answer to that
question.  But whatever details you can give about how you are passing the data
you generate to the connection will help locate the problem, I think.

-Andrew.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="057503.html">[Twisted-Python] MemoryError in	twisted.internet.abstract.FileDescriptor
</A></li>
	<LI>Next message (by thread): <A HREF="057506.html">[Twisted-Python] MemoryError in	twisted.internet.abstract.FileDescriptor
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57504">[ date ]</a>
              <a href="thread.html#57504">[ thread ]</a>
              <a href="subject.html#57504">[ subject ]</a>
              <a href="author.html#57504">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
