<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Telnet negotiation with Twisted
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Telnet%20negotiation%20with%20Twisted&In-Reply-To=%3CCAE18iQVqugQb9o0WY2Xv8GwYbLA7WiwoyWgSzvPdsxMCbxN38g%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="057455.html">
   <LINK REL="Next"  HREF="057460.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Telnet negotiation with Twisted</H1>
    <B>Lee Orsino</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Telnet%20negotiation%20with%20Twisted&In-Reply-To=%3CCAE18iQVqugQb9o0WY2Xv8GwYbLA7WiwoyWgSzvPdsxMCbxN38g%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Telnet negotiation with Twisted">lmorsino at gmail.com
       </A><BR>
    <I>Thu Dec  1 17:12:51 MST 2011</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="057455.html">[Twisted-Python] Good evening
</A></li>
        <LI>Next message (by thread): <A HREF="057460.html">[Twisted-Python] Telnet negotiation with Twisted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57459">[ date ]</a>
              <a href="thread.html#57459">[ thread ]</a>
              <a href="subject.html#57459">[ subject ]</a>
              <a href="author.html#57459">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

I'm writing a twisted Telnet server and I want a client to be able to
connect to it through some other interface, such as PuTTY.  I can make the
connection fine. But one of my requirements is to be able to tell the
client to switch back and forth between buffered and unbuffered input modes
depending on the state of the server. (Sometimes, the client should enter
text, then hit enter to send. Other times, the client should send data
character-by-character).

I'm new at this, and maybe I'm missing something, but in my TelnetTransport
object, I do something like this to disable buffering of client data:

self.transport.write(IAC + WILL + LINEMODE)
self.transport.write(IAC + SB + LINEMODE + MODE + chr(0) + IAC + SE)

Not working though. PuTTY still requires me to hit &lt;enter&gt; after I type.
I've tried various combinations of the above. I'm sure I'm doing something
wrong but its just really hard to find an example of this on the net. I'd
appreciate some advice as to how to proceed, or a simple example if you
have time...

I'm using the twisted Telnet classes found here:
<A HREF="http://twistedmatrix.com/trac/browser/tags/releases/twisted-8.2.0/twisted/conch/telnet.py">http://twistedmatrix.com/trac/browser/tags/releases/twisted-8.2.0/twisted/conch/telnet.py</A>

Thanks!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20111201/0dfffd0d/attachment.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="057455.html">[Twisted-Python] Good evening
</A></li>
	<LI>Next message (by thread): <A HREF="057460.html">[Twisted-Python] Telnet negotiation with Twisted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57459">[ date ]</a>
              <a href="thread.html#57459">[ thread ]</a>
              <a href="subject.html#57459">[ subject ]</a>
              <a href="author.html#57459">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
