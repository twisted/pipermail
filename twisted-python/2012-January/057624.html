<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] IRCClient method naming advice
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20IRCClient%20method%20naming%20advice&In-Reply-To=%3CCAM187SFZ_9dT%2BNyj-xeYiEgV53iSYQR%3D-dws9gYA19WEj9Szug%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="057623.html">
   <LINK REL="Next"  HREF="057625.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] IRCClient method naming advice</H1>
    <B>Jonathan Jacobs</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20IRCClient%20method%20naming%20advice&In-Reply-To=%3CCAM187SFZ_9dT%2BNyj-xeYiEgV53iSYQR%3D-dws9gYA19WEj9Szug%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] IRCClient method naming advice">jonathan+twisted at jsphere.com
       </A><BR>
    <I>Sat Jan 28 02:20:23 MST 2012</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="057623.html">[Twisted-Python] IRCClient method naming advice
</A></li>
        <LI>Next message (by thread): <A HREF="057625.html">[Twisted-Python] IRCClient method naming advice
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57624">[ date ]</a>
              <a href="thread.html#57624">[ thread ]</a>
              <a href="subject.html#57624">[ subject ]</a>
              <a href="author.html#57624">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, Jan 28, 2012 at 07:51, Matthew Pounsett &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">matt at conundrum.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> I've found that the IRCClient protocol doesn't deal well with having its connection interrupted.  If the TCP session goes away due to timeout or some other interruption, it doesn't appear to notice.  As a result, I'm looking at adding appropriate methods to allow a client to initiate its own pings to the server so that it can detect when the connection is lost.  I'll submit all this back via Trac when I can get in there.
</I>&gt;<i>
</I>&gt;<i> This will need IRCClient.irc_PONG(), which looks fairly straightforward to write, and the obvious method for the outgoing ping would be IRCClient.ping(), but that seems to have been taken up for DCC PING instead.
</I>&gt;<i>
</I>&gt;<i> Presumably it would upset people if backward compatibility was broken and that was changed to IRCClient.dccPing() to match the rest of the outgoing DCC methods. Does anyone have any opinion on what other method name would make sense and still be close to maintaining consistency with the rest of the outgoing method names?
</I>

Hi Matthew,

&quot;Heartbeat&quot; functionality was implemented in IRCClient and released in
Twisted 11.1.0, see ticket #5047
&lt;<A HREF="http://twistedmatrix.com/trac/ticket/5047">http://twistedmatrix.com/trac/ticket/5047</A>&gt;, by default it sends a
PING every 120 seconds.

You don't actually need to acknowledge the PONG for the purpose of
keeping the client alive and active, writing any data to the transport
is enough to trigger connectionLost if the connection is genuinely
dead.

Hope this helps.

--
Jonathan


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="057623.html">[Twisted-Python] IRCClient method naming advice
</A></li>
	<LI>Next message (by thread): <A HREF="057625.html">[Twisted-Python] IRCClient method naming advice
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57624">[ date ]</a>
              <a href="thread.html#57624">[ thread ]</a>
              <a href="subject.html#57624">[ subject ]</a>
              <a href="author.html#57624">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
