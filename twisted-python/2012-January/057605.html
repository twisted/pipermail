<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] How to be sure a ssl connection was completed correctly
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20How%20to%20be%20sure%20a%20ssl%20connection%20was%20completed%0A%20correctly&In-Reply-To=%3C4F1D680A.2090407%40itamarst.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="057604.html">
   <LINK REL="Next"  HREF="057606.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] How to be sure a ssl connection was completed correctly</H1>
    <B>Itamar Turner-Trauring</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20How%20to%20be%20sure%20a%20ssl%20connection%20was%20completed%0A%20correctly&In-Reply-To=%3C4F1D680A.2090407%40itamarst.org%3E"
       TITLE="[Twisted-Python] How to be sure a ssl connection was completed correctly">itamar at itamarst.org
       </A><BR>
    <I>Mon Jan 23 07:00:42 MST 2012</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="057604.html">[Twisted-Python] How to be sure a ssl connection was completed	correctly
</A></li>
        <LI>Next message (by thread): <A HREF="057606.html">[Twisted-Python] Twisted 12.0.0pre1 is here!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57605">[ date ]</a>
              <a href="thread.html#57605">[ thread ]</a>
              <a href="subject.html#57605">[ subject ]</a>
              <a href="author.html#57605">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 01/23/2012 08:46 AM, Hanusz L. wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I'm using the pull method to send events to clients (with xmlrpc over ssl).
</I>&gt;<i> The events are in a queue and when a client calls my 'get_event' xmlrpc function; I get one event from the queue and send it to the client.
</I>&gt;<i>
</I>&gt;<i> The problem is that I want to be sure that the client receives all the events.
</I>&gt;<i>
</I>&gt;<i> Is it correct to assume that:
</I>&gt;<i> IF the method connectionLost of my protocol (the wrapped protocol of the ssl protocol) is called with a failure(error.ConnectionDone())
</I>&gt;<i> THEN the connection was completed successfully and the client received the event correctly ?
</I>No, that just means the SSL disconnect and then  the TCP disconnect 
handshakes were done cleanly. That may happen for reasons other than 
queue being cleared, e.g. the server decided to shutdown for some reason.

You need to have some other way of knowing if queue is empty, e.g. way 
to query queue size (and knowledge that no one else will add to queue 
after you queried it).


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="057604.html">[Twisted-Python] How to be sure a ssl connection was completed	correctly
</A></li>
	<LI>Next message (by thread): <A HREF="057606.html">[Twisted-Python] Twisted 12.0.0pre1 is here!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57605">[ date ]</a>
              <a href="thread.html#57605">[ thread ]</a>
              <a href="subject.html#57605">[ subject ]</a>
              <a href="author.html#57605">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
