<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Finding out the IP which it failed to connect
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Finding%20out%20the%20IP%20which%20it%20failed%20to%20connect&In-Reply-To=4F1A2AD8.9090304%40itamarst.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025124.html">
   <LINK REL="Next"  HREF="025112.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Finding out the IP which it failed to connect</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Finding%20out%20the%20IP%20which%20it%20failed%20to%20connect&In-Reply-To=4F1A2AD8.9090304%40itamarst.org"
       TITLE="[Twisted-Python] Finding out the IP which it failed to connect">glyph at twistedmatrix.com
       </A><BR>
    <I>Sun Jan 22 16:30:31 EST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="025124.html">[Twisted-Python] Finding out the IP which it failed to connect
</A></li>
        <LI>Next message: <A HREF="025112.html">[Twisted-Python] for reference - how to get ssl certificate from a	xmlrpc function
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25127">[ date ]</a>
              <a href="thread.html#25127">[ thread ]</a>
              <a href="subject.html#25127">[ subject ]</a>
              <a href="author.html#25127">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Jan 20, 2012, at 10:02 PM, Itamar Turner-Trauring wrote:

&gt;<i> On 01/20/2012 02:23 PM, Facundo Batista wrote:
</I>&gt;&gt;<i> On Fri, Jan 20, 2012 at 4:06 PM, Kevin Horn&lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">kevin.horn at gmail.com</A>&gt;  wrote:
</I>&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> twisted.internet.tcp.Connector has a getDestination() method, which should
</I>&gt;&gt;&gt;<i> return an address object.
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> Have you tried that? (I haven't, but it looks like the right thing)
</I>&gt;&gt;<i> It returns the name used, not the IP.
</I>&gt;&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> That seems... wrong. Perhaps enshrined by prior existence, but wrong 
</I>&gt;<i> nonetheless - it's an IPv4Address, it should have an IP. Could you file 
</I>&gt;<i> a ticket?
</I>
See also &lt;<A HREF="http://twistedmatrix.com/trac/ticket/3059">http://twistedmatrix.com/trac/ticket/3059</A>&gt;.

I thought this might be the same thing, but I guess it isn't.  At any rate the new ticket should reference this old one, since this is apparently an easy mistake to make.

Arguably this interface is kind of broken though: it's synchronous, but hostname resolution may not have completed yet.  Also hostname resolution may return a different address on subsequent reconnects, so there's no single destination that a hostname-based connector could be said to be connecting to.

All in all, just another reason to move to Endpoint-based client connections and ignore the Connector layer of the API in applications...

-glyph


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025124.html">[Twisted-Python] Finding out the IP which it failed to connect
</A></li>
	<LI>Next message: <A HREF="025112.html">[Twisted-Python] for reference - how to get ssl certificate from a	xmlrpc function
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25127">[ date ]</a>
              <a href="thread.html#25127">[ thread ]</a>
              <a href="subject.html#25127">[ subject ]</a>
              <a href="author.html#25127">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
