<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Twisted 16.3.0 Prerelease 2 Announcement
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted%2016.3.0%20Prerelease%202%20Announcement&In-Reply-To=%3CCAO38UCn21v3pv32K6msRrUDitpvcT0ZRSUU2GTYc%2BCuq6FdN%3DA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030530.html">
   <LINK REL="Next"  HREF="030546.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Twisted 16.3.0 Prerelease 2 Announcement</H1>
    <B>Pawe&#322; Miech</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted%2016.3.0%20Prerelease%202%20Announcement&In-Reply-To=%3CCAO38UCn21v3pv32K6msRrUDitpvcT0ZRSUU2GTYc%2BCuq6FdN%3DA%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Twisted 16.3.0 Prerelease 2 Announcement">pawelmhm at gmail.com
       </A><BR>
    <I>Sat Jul  9 11:30:37 MDT 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="030530.html">[Twisted-Python] Twisted 16.3.0 Prerelease 2 Announcement
</A></li>
        <LI>Next message: <A HREF="030546.html">[Twisted-Python] Twisted 16.3.0 Prerelease 2 Announcement
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30545">[ date ]</a>
              <a href="thread.html#30545">[ thread ]</a>
              <a href="subject.html#30545">[ subject ]</a>
              <a href="author.html#30545">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks for fixing this.

Did anyone actually manage to make HTTP2 in Twisted work with
Google-Chrome? I tried to do this today, and it seems this is surprisingly
difficult. It turns out that Chrome requires ALPN and it dropped support
for NPN. ALPN is only supported with OpenSSL 1.0.2 or above, which by
default is not available in most systems. This is discussed here
&lt;<A HREF="https://www.nginx.com/blog/supporting-http2-google-chrome-users/">https://www.nginx.com/blog/supporting-http2-google-chrome-users/</A>&gt;. I tried
setting up docker image with Ubuntu 16.04 that has required version of
OpenSSL, but it seems that Chrome still doesn't like it. It
returns ERR_SPDY_INADEQUATE_TRANSPORT_SECURITY error and fails to load
page. Looking up this error I found out this might be happening because
some TSL ciphers are blacklisted in HTTP2, there is nice answer about this
here
&lt;<A HREF="https://serverfault.com/questions/712808/chrome-reports-err-spdy-inadequate-transport-security-connecting-to-local-web-se/712838#712838">https://serverfault.com/questions/712808/chrome-reports-err-spdy-inadequate-transport-security-connecting-to-local-web-se/712838#712838</A>&gt;
it
links to this part of HTTP2 spec
<A HREF="https://http2.github.io/http2-spec/#rfc.section.9.2.2">https://http2.github.io/http2-spec/#rfc.section.9.2.2</A>

My question is: should user deal with this kind of stuff themselves? If
some ciphers are blacklisted in HTTP2 shouldn't this be handled somewhere
in Twisted? E.g. perhaps there should be some Http2SSLContextFactory? If
you'd like to reproduce this I did some sample repo here:
<A HREF="https://github.com/pawelmhm/sf-books-http2">https://github.com/pawelmhm/sf-books-http2</A> it contains dockerfile that
builds from Ubuntu 16.04 and runs simple Twisted HTTP 2 resource.

2016-07-04 13:48 GMT+02:00 Craig Rodrigues &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">rodrigc at crodrigues.org</A>&gt;:

&gt;<i> On Sun, Jul 3, 2016 at 3:15 AM, Pawe&#322; Miech &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">pawelmhm at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> HTTP2 support sounds really exciting.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &gt; Please let me know if you have any issues, as well as if you don't! If
</I>&gt;&gt;<i> everything works well, that's a good thing for me to know :)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I played around with this today and found out that the command you
</I>&gt;&gt;<i> recommend:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &gt;  pip install -U <A HREF="https://twistedmatrix.com/Releases">https://twistedmatrix.com/Releases</A>
</I>&gt;&gt;<i> /pre/16.3.0pre2/Twisted-16.3.0rc2.tar.bz2#egg=Twisted[http2,tls]
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> does NOT install dependencies when ran on Python 3, I had to manually
</I>&gt;&gt;<i> install h2 to HTTP2 support to work. It works ok on Python 2. My
</I>&gt;&gt;<i> installation logs on Python 3.4 look like this:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i> I think I've fixed that in trunk with this:
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://github.com/twisted/twisted/pull/287">https://github.com/twisted/twisted/pull/287</A>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Craig
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20160709/e07d0014/attachment.html">http://twistedmatrix.com/pipermail/twisted-python/attachments/20160709/e07d0014/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030530.html">[Twisted-Python] Twisted 16.3.0 Prerelease 2 Announcement
</A></li>
	<LI>Next message: <A HREF="030546.html">[Twisted-Python] Twisted 16.3.0 Prerelease 2 Announcement
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30545">[ date ]</a>
              <a href="thread.html#30545">[ thread ]</a>
              <a href="subject.html#30545">[ subject ]</a>
              <a href="author.html#30545">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
