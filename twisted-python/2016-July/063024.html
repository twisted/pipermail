<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Twisted 16.3.0 Prerelease 2 Announcement
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted%2016.3.0%20Prerelease%202%20Announcement&In-Reply-To=%3C927774DD-74F6-420E-BB6F-BFDCE60CDB16%40lukasa.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="063023.html">
   <LINK REL="Next"  HREF="063025.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Twisted 16.3.0 Prerelease 2 Announcement</H1>
    <B>Cory Benfield</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted%2016.3.0%20Prerelease%202%20Announcement&In-Reply-To=%3C927774DD-74F6-420E-BB6F-BFDCE60CDB16%40lukasa.co.uk%3E"
       TITLE="[Twisted-Python] Twisted 16.3.0 Prerelease 2 Announcement">cory at lukasa.co.uk
       </A><BR>
    <I>Tue Jul 12 13:24:37 MDT 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="063023.html">[Twisted-Python] Twisted 16.3.0 Prerelease 2 Announcement
</A></li>
        <LI>Next message (by thread): <A HREF="063025.html">[Twisted-Python] Twisted 16.3.0 Prerelease 2 Announcement
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63024">[ date ]</a>
              <a href="thread.html#63024">[ thread ]</a>
              <a href="subject.html#63024">[ subject ]</a>
              <a href="author.html#63024">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> On 12 Jul 2016, at 17:42, Paweł Miech &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">pawelmhm at gmail.com</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; Agreed. I’m planning to begin the deprecation process, though it will take a little while as we need to remove all uses of it from within the Twisted codebase itself, as well as from the documentation. That turns out to be a bigger task than expected!
</I>&gt;<i> 
</I>&gt;<i> +1
</I>&gt;<i> 
</I>&gt;<i> One final point that I glossed over earlier
</I>&gt;<i> 
</I>&gt;<i> &gt; To be clear, I was not responding to your specific needs but discussing Glyph’s wider point about alerting when bad configuration is present.
</I>&gt;<i> 
</I>&gt;<i> When using Twisted endpoints (e.g. serverFromString) the problem with bad openssl configuration is not bad. If OS does not support ALPN (OpenSSL versions below 1.0.2) so in vast majority of Linux systems currently in use Chrome connection simply falls back to HTTP 1.1 (I tested this on Ubuntu 14.04), This means there is no error and content is served, so it's some sort of graceful degradation. This behavior is identical to nginx. I'm not sure if Twisted can and should do something about this. Maybe it can print some warning or maybe it can just let users know in documentation that HTTP2 support via ALPN (which is required in Chrome) requires Openssl 1.0.2? Adding warnings to code might require some extra development but it does not look that difficult. If you think about this, you probably dont need to check ciphers available in system, you can probably only check OpenSSL version available and check if client attempts to use ALPN.
</I>
We can actually do better than that.

The way the Twisted APIs are constructed, it knows if it’s got NPN, ALPN, neither, or both. So Twisted is capable of warning in a situation where it has protocols to advertise/negotiate, but no mechanism with which to do it. Unfortunately, I’m not sure of a way of doing it that isn’t intrusive: users opt in to HTTP/2 only by having the HTTP/2 dependencies installed, which they may have for other reasons (they’re common code used by other tools). That means that you could have a situation where you have the HTTP/2 dependencies installed, install Twisted, and then get spammed with warnings because you have older OpenSSL’s.

I’m definitely open to it, but I’m not sure that the user experience is good. If anyone has suggestions of how to get a better UX, I’m open to it.

Cory

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20160712/46094d4e/attachment-0002.html&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 801 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: &lt;/pipermail/twisted-python/attachments/20160712/46094d4e/attachment.sig&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="063023.html">[Twisted-Python] Twisted 16.3.0 Prerelease 2 Announcement
</A></li>
	<LI>Next message (by thread): <A HREF="063025.html">[Twisted-Python] Twisted 16.3.0 Prerelease 2 Announcement
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63024">[ date ]</a>
              <a href="thread.html#63024">[ thread ]</a>
              <a href="subject.html#63024">[ subject ]</a>
              <a href="author.html#63024">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
