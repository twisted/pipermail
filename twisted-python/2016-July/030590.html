<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] IProtocolWithReactor,	or passing the reactor though to protocols
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20IProtocolWithReactor%2C%0A%09or%20passing%20the%20reactor%20though%20to%20protocols&In-Reply-To=%3CE7AEEA79-1265-4358-A5E6-03B264E2E3AA%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030580.html">
   <LINK REL="Next"  HREF="030592.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] IProtocolWithReactor,	or passing the reactor though to protocols</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20IProtocolWithReactor%2C%0A%09or%20passing%20the%20reactor%20though%20to%20protocols&In-Reply-To=%3CE7AEEA79-1265-4358-A5E6-03B264E2E3AA%40twistedmatrix.com%3E"
       TITLE="[Twisted-Python] IProtocolWithReactor,	or passing the reactor though to protocols">glyph at twistedmatrix.com
       </A><BR>
    <I>Mon Jul 18 01:15:49 MDT 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="030580.html">[Twisted-Python] IProtocolWithReactor,	or passing the reactor though to protocols
</A></li>
        <LI>Next message: <A HREF="030592.html">[Twisted-Python] IProtocolWithReactor,	or passing the reactor though to protocols
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30590">[ date ]</a>
              <a href="thread.html#30590">[ thread ]</a>
              <a href="subject.html#30590">[ subject ]</a>
              <a href="author.html#30590">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> On Jul 16, 2016, at 06:01, Amber Hawkie Brown &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">hawkowl at atleastfornow.net</A> &lt;mailto:<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">hawkowl at atleastfornow.net</A>&gt;&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> Yes, that ticket is almost what I want! That is a much better solution for Protocols.
</I>&gt;<i> 
</I>&gt;<i> However, Factories still need the reactor given, and it seems really silly and very hard to explain why you both would need to create a Factory with a reference to a reactor, and then call reactor.listenTCP/endpoint.connect/listen, also with a reactor. I feel like one of these should really be able to tell the other.
</I>
Which factories need this reference given?  Some need a clock, for e.g. timeouts, but then... that's OK, give them a clock.  The fact that a parameter must sometimes be passed to two different places doesn't mean we shouldn't make it a parameter...

Possibly the problem here is that 'doStart' and 'doStop' ought to receive the reactor passed to them as well.  And maybe something else, too, for that matter, like an address, or an endpoint - that interface has always been a bit annoyingly narrow.  But a concrete use-case would help here.

&gt;<i> This also doesn't fit the problem idnar raised on IRC -- that the reactor serving the connections may not be the one that the protocol wants to use, for whatever reason (gui reactor and a not gui reactor?)
</I>
This use-case doesn't make any sense, because if you want to have a GUI you need to use a GUI reactor for everything; the reference passed is the running reactor.

&gt;<i> -- I can't say if #3205 has the same problems, but I believe it does. I guess then that's up to the protocol, but I kind of would like if all protocols had one consistent place for &quot;this is the reactor I should schedule things on&quot; -- and transport.reactor does not seem to be it, because that's still got the problem that idnar has raised.
</I>
Where did idnar raise this problem?  I am still not clear on exactly what we're talking about.

-glyph
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20160718/0f731114/attachment.html">http://twistedmatrix.com/pipermail/twisted-python/attachments/20160718/0f731114/attachment.html</A>&gt;
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030580.html">[Twisted-Python] IProtocolWithReactor,	or passing the reactor though to protocols
</A></li>
	<LI>Next message: <A HREF="030592.html">[Twisted-Python] IProtocolWithReactor,	or passing the reactor though to protocols
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30590">[ date ]</a>
              <a href="thread.html#30590">[ thread ]</a>
              <a href="subject.html#30590">[ subject ]</a>
              <a href="author.html#30590">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
