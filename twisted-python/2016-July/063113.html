<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Pydoc parameter formatting and explaining	interfaces
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Pydoc%20parameter%20formatting%20and%20explaining%0A%09interfaces&In-Reply-To=%3CCACKEAnXLAagohWCvApby9XCgcGiRGe-Yd2u%2B%2BkqdNGAksdvN6g%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="063111.html">
   <LINK REL="Next"  HREF="030651.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Pydoc parameter formatting and explaining	interfaces</H1>
    <B>Clayton Daley</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Pydoc%20parameter%20formatting%20and%20explaining%0A%09interfaces&In-Reply-To=%3CCACKEAnXLAagohWCvApby9XCgcGiRGe-Yd2u%2B%2BkqdNGAksdvN6g%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Pydoc parameter formatting and explaining	interfaces">clayton.daley at gmail.com
       </A><BR>
    <I>Tue Jul 26 17:41:54 MDT 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="063111.html">[Twisted-Python] Pydoc parameter formatting and explaining	interfaces
</A></li>
        <LI>Next message (by thread): <A HREF="030651.html">[Twisted-Python] txtorcon 0.15.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63113">[ date ]</a>
              <a href="thread.html#63113">[ thread ]</a>
              <a href="subject.html#63113">[ subject ]</a>
              <a href="author.html#63113">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Speaking just from my own experience, I don't think it's a problem with the
docs per se.  Rather, I think there's often a disconnect between the
answers people are looking for and the nature of Twisted.  It's hard to
explain, but this is the best I can manage:

   - If you're used to using frameworks, interfaces reflect your motives
   when interacting with a library.  To use an audio-video (A/V) analogy, you
   have interfaces like IVolume, IPlayback (play, pause, stop, ff, rew), and
   IChannel. Documentation just &quot;makes sense&quot;.
   - Twisted is like a box of electronics parts.  The docs are enough to
   see why IDigital and IAnalog are used by DigitalToAnalogConverter, but
   that's a long way from understanding when you'd even need/care to consume
   something using an IAnalog.
   - There are several layers of architecture between a LineReader and a
   REST library.  If you don't realize these layers exist, it's not obvious
   that you'd need to find/create them in a Twisted app.
   - The (excellent) krondo tutorial is like a small kit that shows you how
   to build a model piece of electronics.  If you want to build a complete A/V
   device, where do you go next?

To make it more concrete for twisted, here's a example of that next step:

   - Start with the chat server example (
   <A HREF="https://twistedmatrix.com/documents/current/_downloads/chatserver.py">https://twistedmatrix.com/documents/current/_downloads/chatserver.py</A>)
   - To add rooms, you need to introduce a layer of commands (minimally
   JOIN and SEND).  This requires a complete rewrite of the Protocol and I'm
   not aware of any tutorial that helps you make this architectural leap.
   - Maybe Twisted has a class for this so one might search the docs, spend
   lots of time, get really confused, and (tentatively) conclude it's not
   there.  Figuring out that something doesn't exist is especially hard.
   - The authentication example (
   <A HREF="https://twistedmatrix.com/documents/current/core/howto/cred.html">https://twistedmatrix.com/documents/current/core/howto/cred.html</A>)
   actually has a command layer, but key parts of it (i.e. the lineReceived
   call) are buried in the ellipses.  How do you intuit the missing code if
   you don't even realize that you need a commands layer?
   - Of course, to combine auth with chat, you also need to figure out how
   to rewrite the business logic as an IMailbox implementing avatars.  That's
   a LOT of moving pieces to get right at the same time.

When I decided to try out Zend Framework (PHP), their full-stack skeleton
application (
<A HREF="https://docs.zendframework.com/tutorials/getting-started/skeleton-application/">https://docs.zendframework.com/tutorials/getting-started/skeleton-application/</A>)
showed you how everything fit together. Maybe twisted would benefit from
something similar... especially if it emphasized the various architectural
layers by putting the protocol, command handler, and actual business logic
into separate classes.

Clayton Daley

On Tue, Jul 26, 2016 at 12:58 PM, Glyph Lefkowitz &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A>&gt;
wrote:

&gt;<i>
</I>&gt;<i> On Jul 26, 2016, at 9:37 AM, Daniel Sank &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">sank.daniel at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> This is a branch from the thread with subject &quot;Request for help with
</I>&gt;<i> Twisted bindings in M2Crypt&quot;.
</I>&gt;<i>
</I>&gt;<i> Regarding my inability to read documentation:
</I>&gt;<i>
</I>&gt;<i> &gt; This does at least point to a real problem with pydoctor in the way it
</I>&gt;<i> presents types.
</I>&gt;<i> &gt; It should probably put them in their own colored box, not use the string
</I>&gt;<i> 'type' or
</I>&gt;<i> &gt; parentheses to offset them, and put the type closer to (rather than
</I>&gt;<i> farther from) the
</I>&gt;<i> &gt; parameter name.  Would you mind filing a bug on pydoctor?  Or commenting
</I>&gt;<i> on
</I>&gt;<i> &gt; one if it already exists? :)
</I>&gt;<i>
</I>&gt;<i> Done: <A HREF="https://github.com/twisted/pydoctor/issues/121">https://github.com/twisted/pydoctor/issues/121</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thanks!  I especially appreciate the screen shot :).
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; Some years ago when I tried to understand Twisted's use of interfaces
</I>&gt;<i> via Twisted's
</I>&gt;<i> &gt;&gt; own documentation (which included something about hair dryers and
</I>&gt;<i> voltage standards)
</I>&gt;<i> &gt;&gt; I was puzzled by the fact that the examples didn't really show me how
</I>&gt;<i> to solve a useful
</I>&gt;<i> &gt;&gt; problem (or I was too stupid to understand that the examples did in
</I>&gt;<i> fact do that) despite
</I>&gt;<i> &gt;&gt; the fact that I knew what an interface was in general terms. It was a
</I>&gt;<i> case of
</I>&gt;<i> &gt;&gt; understanding the intent but none of the examples.
</I>&gt;<i>
</I>&gt;<i> &gt; OK... it's a fair cop.
</I>&gt;<i>
</I>&gt;<i> I'm unfamiliar with that term.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> For *me* it's a monty python reference, but I suspect for most speakers
</I>&gt;<i> of British English, it's just an idiom :).  It roughly means &quot;mea culpa&quot;,
</I>&gt;<i> although, more specifically, I believe it means &quot;you've caught me doing
</I>&gt;<i> something bad&quot;.
</I>&gt;<i>
</I>&gt;<i> &gt; Among other things, it's mainly trying to explain adaptation, which sort
</I>&gt;<i> of puts the cart before
</I>&gt;<i> &gt; the horse
</I>&gt;<i>
</I>&gt;<i> Yes! That is definitely a big part of the problem. When I think
</I>&gt;<i> &quot;interface&quot; I think &quot;methods and their signatures an object promises to
</I>&gt;<i> provided&quot;. Adaptation is a detail, so to speak. It's also somewhat
</I>&gt;<i> confusing that the discussion begins with shapes as it goes over the basic
</I>&gt;<i> idea of interfaces, and then switches to hair dryers when it comes time for
</I>&gt;<i> an example. It would be easier to read if the examples were more consistent.
</I>&gt;<i>
</I>&gt;<i> &gt; and automatic adaptation is increasingly considered spooky
</I>&gt;<i> action-at-a-distance within
</I>&gt;<i> &gt; Twisted code.
</I>&gt;<i>
</I>&gt;<i> All the more reason to not use adaptation as the in-your-face example.
</I>&gt;<i>
</I>&gt;<i> &gt; You're the perfect person to submit patches against this doc, by the
</I>&gt;<i> way, since you have a
</I>&gt;<i> &gt; firm grasp of the whole &quot;abstract interface&quot; thing but also found it
</I>&gt;<i> confusing.
</I>&gt;<i>
</I>&gt;<i> Perhaps. On the other hand I think it might be better to replace Twisted's
</I>&gt;<i> own documentation with a link to zope's, or at least put the link at the
</I>&gt;<i> top and say &quot;read this before reading our examples about adaptation.&quot; We'll
</I>&gt;<i> see if such a patch receives any love.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Please direct my attention to it when one exists :).
</I>&gt;<i>
</I>&gt;<i> -glyph
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20160726/a9e58af9/attachment-0002.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="063111.html">[Twisted-Python] Pydoc parameter formatting and explaining	interfaces
</A></li>
	<LI>Next message (by thread): <A HREF="030651.html">[Twisted-Python] txtorcon 0.15.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63113">[ date ]</a>
              <a href="thread.html#63113">[ thread ]</a>
              <a href="subject.html#63113">[ subject ]</a>
              <a href="author.html#63113">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
