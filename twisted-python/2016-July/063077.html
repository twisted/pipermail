<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Windows buildbots and Appveyor
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Windows%20buildbots%20and%20Appveyor&In-Reply-To=%3CCAEgpGv50iWu17DS8P489xdHHMt25ZRFQ_HFHssfj84LdzKPBwg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="063076.html">
   <LINK REL="Next"  HREF="030617.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Windows buildbots and Appveyor</H1>
    <B>Oliver Palmer</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Windows%20buildbots%20and%20Appveyor&In-Reply-To=%3CCAEgpGv50iWu17DS8P489xdHHMt25ZRFQ_HFHssfj84LdzKPBwg%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Windows buildbots and Appveyor">oliverpalmer at opalmer.com
       </A><BR>
    <I>Wed Jul 20 20:16:50 MDT 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="063076.html">[Twisted-Python] Windows buildbots and Appveyor
</A></li>
        <LI>Next message (by thread): <A HREF="030617.html">[Twisted-Python] pywincffi status update and next steps
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63077">[ date ]</a>
              <a href="thread.html#63077">[ thread ]</a>
              <a href="subject.html#63077">[ subject ]</a>
              <a href="author.html#63077">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I should this weekend but it looks like you're on the right track so far.
Looking at tox's config it shouldn't have issues picking up the environment
being added in appveyor.yaml because passenv = * currently.  If this works
out then we can hopefully avoid the need for a plugin and just rely
directly on the wrapper script.  At least in my experience the wrapper
script was all I needed to get builds working across Python versions.

By the way, this can be really useful to help debug problems at runtime
while the build is running:

<A HREF="https://www.appveyor.com/docs/how-to/rdp-to-build-worker">https://www.appveyor.com/docs/how-to/rdp-to-build-worker</A>

Hit me with @opalmer on GitHub if you've got a PR open between now and the
weekend or want some input, I'll be happy to help either there or on this
list.




On Wed, Jul 20, 2016 at 9:58 PM, Craig Rodrigues &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">rodrigc at crodrigues.org</A>&gt;
wrote:

&gt;<i> On Wed, Jul 20, 2016 at 6:25 PM, Oliver Palmer &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">oliverpalmer at opalmer.com</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> If you or someone else ends up working on this I can attest that his
</I>&gt;&gt;<i> setup works well and will build C-extensions.  I've been using his script
</I>&gt;&gt;<i> extensively on pywincffi for Python 2.6+ and Python 3.3+ so far without
</I>&gt;&gt;<i> issues.  For reference, here's my yaml file:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     <A HREF="https://github.com/opalmer/pywincffi/blob/master/appveyor.yml">https://github.com/opalmer/pywincffi/blob/master/appveyor.yml</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Since Twisted is using tox I assume that either tox should setup the
</I>&gt;&gt;<i> environment or %PYTHON_VERSION% and %PYTHON_ARCH% need to be set by the
</I>&gt;&gt;<i> build matrix and tox would be called with the wrapper:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     cmd /E:ON /V:ON /C run_with_cmd.cmd tox &lt;arguments&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i> Using tox is the desired way to go.
</I>&gt;<i> I made an initial cut at this here:
</I>&gt;<i> <A HREF="https://github.com/rodrigc/twisted/blob/appveyor2/appveyor.yml">https://github.com/rodrigc/twisted/blob/appveyor2/appveyor.yml</A>
</I>&gt;<i>
</I>&gt;<i> Do you have any cycles to help me improve this and get something working?
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Craig
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20160720/9fa70331/attachment-0002.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="063076.html">[Twisted-Python] Windows buildbots and Appveyor
</A></li>
	<LI>Next message (by thread): <A HREF="030617.html">[Twisted-Python] pywincffi status update and next steps
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63077">[ date ]</a>
              <a href="thread.html#63077">[ thread ]</a>
              <a href="subject.html#63077">[ subject ]</a>
              <a href="author.html#63077">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
