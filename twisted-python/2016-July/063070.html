<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Twisted tests on public CI
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted%20tests%20on%20public%20CI&In-Reply-To=%3CCAFycZ9eaJxH8AWjcQAKee4V_VcJsE59cag70XKD21SBVSot3ig%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="063073.html">
   <LINK REL="Next"  HREF="063072.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Twisted tests on public CI</H1>
    <B>Adi Roiban</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted%20tests%20on%20public%20CI&In-Reply-To=%3CCAFycZ9eaJxH8AWjcQAKee4V_VcJsE59cag70XKD21SBVSot3ig%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Twisted tests on public CI">adi at roiban.ro
       </A><BR>
    <I>Wed Jul 20 16:18:10 MDT 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="063073.html">[Twisted-Python] Twisted tests on public CI
</A></li>
        <LI>Next message (by thread): <A HREF="063072.html">[Twisted-Python] Twisted tests on public CI
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63070">[ date ]</a>
              <a href="thread.html#63070">[ thread ]</a>
              <a href="subject.html#63070">[ subject ]</a>
              <a href="author.html#63070">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 20 July 2016 at 22:36, Glyph Lefkowitz &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A>&gt; wrote:

&gt;<i>
</I>&gt;<i> On Jul 20, 2016, at 11:59 AM, Adi Roiban &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">adi at roiban.ro</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> We now have Ubuntu / Windows Server and OS X running Twisted tests for
</I>&gt;<i> each PR, using Travis-CI and Appveyor
</I>&gt;<i>
</I>&gt;<i> Non-`Twisted GitHub Team` members can now run a pretty extensive test
</I>&gt;<i> suite for commits associated with a PR.
</I>&gt;<i>
</I>&gt;<i> The coverage report is 90.52% (+/- 0.01%) just by running tests on the
</I>&gt;<i> public CI.
</I>&gt;<i> As far as I can tell this is better than what we get with Buildbot
</I>&gt;<i> builders (since we no longer have BSD slaves and Win7 coverage reporter is
</I>&gt;<i> broken and Win2012 slave was removed)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> It seems like the only thing that Buildbot is now covering which this
</I>&gt;<i> setup is not is alternate kernels, which have not diverged in behavior from
</I>&gt;<i> Twisted's perspective for 7 or 8 years.  I am starting to wonder if we
</I>&gt;<i> could get rid of the entire current buildbot environment with all its
</I>&gt;<i> complicated trust issues and just start over with the parts that we
</I>&gt;<i> actually want: on-demand, latent FreeBSD and Windows builders, for
</I>&gt;<i> example.  This is a tricky problem, but if it's the *only* thing we're
</I>&gt;<i> trying to get buildbot to do it's a lot simpler to start there.
</I>&gt;<i>
</I>&gt;<i> Someone please correct me if I'm wrong though ;).
</I>&gt;<i>
</I>&gt;<i>
</I>+1 to Amber's remark ... different distro have different OpenSSL

I don't know which OpenSSL versions are supported by latest Twisted.

For the kernel, I don't think that there are big differences.... so maybe
we can have docker based latent slaves to run all these distros and destroy
them after each run.

The docker slaves should keep the Rackspace invoice under control.

-------------

api-documentation is still executed on Buildbot ... but there is a ticket
in the review queue to move it to Travis-CI
<A HREF="https://twistedmatrix.com/trac/ticket/8518">https://twistedmatrix.com/trac/ticket/8518</A>

Some tests on Appveyor are still failing. Help here is much appreciated.
&gt;<i>
</I>&gt;<i> We also got some tests failing on OS X but Amber has already started
</I>&gt;<i> working to fix them <A HREF="https://twistedmatrix.com/trac/ticket/8639">https://twistedmatrix.com/trac/ticket/8639</A>
</I>&gt;<i>
</I>&gt;<i> OS X tests results will not block for now a merge, but you will have to
</I>&gt;<i> wait for the OS X results. In this way we can see how much longer does a
</I>&gt;<i> test run takes, now that we also have OS X.
</I>&gt;<i>
</I>&gt;<i> Appveyor was pretty fast in the last days... after the move to Rackspace.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I'm a little confused - does Appveyor run on Rackspace now, or do we run
</I>&gt;<i> some component of Appveyor on Twisted's Rackspace account?
</I>&gt;<i>
</I>&gt;<i>
</I>I have received a message from AppVeyor saying that they have moved the
open source projects to Rackspace ... and after that the time a build was
waiting in the queue is much shorter

<A HREF="https://www.appveyor.com/blog/2016/07/16/migration-to-rackspace">https://www.appveyor.com/blog/2016/07/16/migration-to-rackspace</A>


&gt;<i> Travis-CI was a bit slow on the free queue... not sure how fast is the
</I>&gt;<i> payed queue :)
</I>&gt;<i>
</I>&gt;<i> Please report any issues here or on Twisted Infrastructure tracker
</I>&gt;<i> <A HREF="https://github.com/twisted-infra/braid/issues">https://github.com/twisted-infra/braid/issues</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thanks *again* for the sustained effort on improving the CI situation,
</I>&gt;<i> Adi.  It seems like we're not quite there yet, but things are really
</I>&gt;<i> starting to come together.
</I>&gt;<i>
</I>&gt;<i>
</I>I would consider the Travis-CI / AppVeyor integrations still experimental.

I am happy that we are moving to a command line driven CI design as it
should make it easier to move between CI systems.

This can also help if we want to get latent buildslave as by that time we
 get the latent slaves we should be familiar with running tests in a
disposable VM/container.

-- 
Adi Roiban
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20160720/2cbf76d5/attachment-0002.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="063073.html">[Twisted-Python] Twisted tests on public CI
</A></li>
	<LI>Next message (by thread): <A HREF="063072.html">[Twisted-Python] Twisted tests on public CI
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63070">[ date ]</a>
              <a href="thread.html#63070">[ thread ]</a>
              <a href="subject.html#63070">[ subject ]</a>
              <a href="author.html#63070">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
