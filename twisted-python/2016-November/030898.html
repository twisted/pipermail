<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Twisted 16.6.0rc1 Release Candidate	Announcement
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted%2016.6.0rc1%20Release%20Candidate%0A%09Announcement&In-Reply-To=%3C2AF6C9E2-6F8D-4E32-859B-309192241F84%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030897.html">
   <LINK REL="Next"  HREF="030869.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Twisted 16.6.0rc1 Release Candidate	Announcement</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Twisted%2016.6.0rc1%20Release%20Candidate%0A%09Announcement&In-Reply-To=%3C2AF6C9E2-6F8D-4E32-859B-309192241F84%40twistedmatrix.com%3E"
       TITLE="[Twisted-Python] Twisted 16.6.0rc1 Release Candidate	Announcement">glyph at twistedmatrix.com
       </A><BR>
    <I>Tue Nov 22 22:04:09 MST 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="030897.html">[Twisted-Python] Twisted 16.6.0rc1 Release Candidate	Announcement
</A></li>
        <LI>Next message: <A HREF="030869.html">[Twisted-Python] More tests running on Python 3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30898">[ date ]</a>
              <a href="thread.html#30898">[ thread ]</a>
              <a href="subject.html#30898">[ subject ]</a>
              <a href="author.html#30898">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> On Nov 22, 2016, at 21:36, Mark Williams &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">markrwilliams at gmail.com</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Tuesday, November 22, 2016, Glyph Lefkowitz &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A> &lt;mailto:<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A>&gt;&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> Okay.  So.
</I>&gt;<i> 
</I>&gt;<i> The rule for reverts like this is: if you do something today, which is correct usage of the API and produces an observably correct result, will that be broken in the future if we fix it?  If so, then we need to revert because the interface as released is unsupportable.
</I>&gt;<i> 
</I>&gt;<i> As it stands, we have a matrix of 4 behaviors:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> bytes
</I>&gt;<i> text(ascii)
</I>&gt;<i> text(nonascii)
</I>&gt;<i> py2
</I>&gt;<i> works
</I>&gt;<i> works
</I>&gt;<i> UnicodeDecodeError
</I>&gt;<i> py3
</I>&gt;<i> garbage
</I>&gt;<i> works
</I>&gt;<i> works
</I>&gt;<i> 
</I>&gt;<i> This... is actually... fine, surprisingly.
</I>&gt;<i>  
</I>&gt;<i> Given that matrix, how would this work on Python 2 and 3:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="https://github.com/buildbot/buildbot/blob/40d5dd3d101704aa8db582e306b3c6cf7921c23c/master/buildbot/reporters/irc.py#L67-L68">https://github.com/buildbot/buildbot/blob/40d5dd3d101704aa8db582e306b3c6cf7921c23c/master/buildbot/reporters/irc.py#L67-L68</A> &lt;<A HREF="https://github.com/buildbot/buildbot/blob/40d5dd3d101704aa8db582e306b3c6cf7921c23c/master/buildbot/reporters/irc.py#L67-L68">https://github.com/buildbot/buildbot/blob/40d5dd3d101704aa8db582e306b3c6cf7921c23c/master/buildbot/reporters/irc.py#L67-L68</A>&gt;
</I>It wouldn't work on Python 3 yet.  But that's fine: the point is that it wouldn't work!  Buildbot can just block porting on that bug.

&gt;<i> And how would that code not have to change if a future release accommodates Unicode on Python 2 or bytes on Python 3?
</I>
Because it will get broken / undefined behavior on the current implementation.  We can always fix broken behavior!  What we can't do is fix broken behavior that also breaks other correct behavior or workarounds.  But in this case, there's a broken behavior (which we have on trunk) and a correct behavior (which we can implement in the future) and no way to coerce the broken behavior to do something valid via public API.

-glyph
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20161123/5918ff81/attachment-0001.html">http://twistedmatrix.com/pipermail/twisted-python/attachments/20161123/5918ff81/attachment-0001.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030897.html">[Twisted-Python] Twisted 16.6.0rc1 Release Candidate	Announcement
</A></li>
	<LI>Next message: <A HREF="030869.html">[Twisted-Python] More tests running on Python 3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30898">[ date ]</a>
              <a href="thread.html#30898">[ thread ]</a>
              <a href="subject.html#30898">[ subject ]</a>
              <a href="author.html#30898">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
