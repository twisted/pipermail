<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] &quot;blocking&quot; on a response to a client
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20%22blocking%22%20on%20a%20response%20to%20a%20client&In-Reply-To=%3C4674adf2-7ca2-83f5-2cb4-aaf2d60e2d45%40withers.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="064567.html">
   <LINK REL="Next"  HREF="064570.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] &quot;blocking&quot; on a response to a client</H1>
    <B>Chris Withers</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20%22blocking%22%20on%20a%20response%20to%20a%20client&In-Reply-To=%3C4674adf2-7ca2-83f5-2cb4-aaf2d60e2d45%40withers.org%3E"
       TITLE="[Twisted-Python] &quot;blocking&quot; on a response to a client">chris at withers.org
       </A><BR>
    <I>Tue Nov  6 09:51:58 MST 2018</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="064567.html">[Twisted-Python] &quot;blocking&quot; on a response to a client
</A></li>
        <LI>Next message (by thread): <A HREF="064570.html">[Twisted-Python] &quot;blocking&quot; on a response to a client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64569">[ date ]</a>
              <a href="thread.html#64569">[ thread ]</a>
              <a href="subject.html#64569">[ subject ]</a>
              <a href="author.html#64569">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 06/11/2018 13:47, Jean-Paul Calderone wrote:
&gt;<i>     Thanks, but the special bit I was asking about is having my
</I>&gt;<i>     application's logical flow pause until the websocket is successfully up
</I>&gt;<i>     and a successful response has been received, all without blocking the
</I>&gt;<i>     reactor.
</I>&gt;<i> 
</I>&gt;<i>     How do I do that?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Put the rest of your code in a callback on a Deferred that fires when 
</I>&gt;<i> the event you're interested in happens.  When using inlineCallbacks, 
</I>&gt;<i> that's like:
</I>&gt;<i> 
</I>&gt;<i>      yield the_event_youre_interested_in
</I>&gt;<i>      # ... more code
</I>&gt;<i> 
</I>&gt;<i> At least, this is the extremely-localized solution to the problem.  
</I>&gt;<i> There are many possible ways to structure such a thing.  It's easy to 
</I>&gt;<i> describe this one because you said you're using inlineCallbacks and 
</I>&gt;<i> didn't say anything else about how your code is organized.
</I>
Right, but I'm still too stupid to join the dots :-(

More concretely, I want to spin up an autobahn websocket client, have it 
connect, send a login message, confirm that worked, send a 'create' 
message, confirm that worked, and *then* let the rest of my code progress...

I'm surprised there don't appear to be any example of this floating 
around, and disappointed at the lack of examples of good tests for these 
things.

Chris


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="064567.html">[Twisted-Python] &quot;blocking&quot; on a response to a client
</A></li>
	<LI>Next message (by thread): <A HREF="064570.html">[Twisted-Python] &quot;blocking&quot; on a response to a client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64569">[ date ]</a>
              <a href="thread.html#64569">[ thread ]</a>
              <a href="subject.html#64569">[ subject ]</a>
              <a href="author.html#64569">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
