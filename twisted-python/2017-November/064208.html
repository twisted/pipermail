<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Accepting/merging patches for	unsupported	platforms without CI
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Accepting/merging%20patches%20for%0A%09unsupported%09platforms%20without%20CI&In-Reply-To=%3C070DE8A7-FCD0-4009-BCE2-406EE8BD1C62%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="031746.html">
   <LINK REL="Next"  HREF="064210.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Accepting/merging patches for	unsupported	platforms without CI</H1>
    <B>Glyph</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Accepting/merging%20patches%20for%0A%09unsupported%09platforms%20without%20CI&In-Reply-To=%3C070DE8A7-FCD0-4009-BCE2-406EE8BD1C62%40twistedmatrix.com%3E"
       TITLE="[Twisted-Python] Accepting/merging patches for	unsupported	platforms without CI">glyph at twistedmatrix.com
       </A><BR>
    <I>Sun Nov 26 15:30:49 MST 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="031746.html">[Twisted-Python] Accepting/merging patches for unsupported	platforms without CI
</A></li>
        <LI>Next message (by thread): <A HREF="064210.html">[Twisted-Python] Accepting/merging patches for unsupported platforms without CI
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64208">[ date ]</a>
              <a href="thread.html#64208">[ thread ]</a>
              <a href="subject.html#64208">[ subject ]</a>
              <a href="author.html#64208">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> On Nov 26, 2017, at 10:23 AM, Adi Roiban &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">adi at roiban.ro</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> What is the procedure for accepting patches for platforms for which we
</I>&gt;<i> don't have a continuous testing system ?
</I>&gt;<i> 
</I>&gt;<i> This is a follow up of the review from
</I>&gt;<i> <A HREF="https://twistedmatrix.com/trac/ticket/9323">https://twistedmatrix.com/trac/ticket/9323</A>
</I>&gt;<i> 
</I>&gt;<i> There is a patch for Cygwin but AFAIK there is no current builder for
</I>&gt;<i> running Twisted with Python on Cygwin.
</I>&gt;<i> 
</I>&gt;<i> My first reaction was that before accepting such patches we should set
</I>&gt;<i> up a continuous testing system.
</I>&gt;<i> 
</I>&gt;<i> With such a system in place we can run the tests to see that the
</I>&gt;<i> reported bug is present in trunk and that it is fixed in a branch.
</I>&gt;<i> 
</I>&gt;<i> If that can't be done, we need at least someone to manually run the
</I>&gt;<i> tests to check the patch.
</I>&gt;<i> 
</I>&gt;<i> Twisted is supported on so many systems and I don't think that is OK
</I>&gt;<i> to ask reviewers to have each supported system at hand, ready to fire
</I>&gt;<i> a manual test.
</I>&gt;<i> 
</I>&gt;<i> Any comments?
</I>&gt;<i> 
</I>
To support a platform—i.e. to promise we will not break it in the future—we  have to have a builder capable of running Twisted on that platform.

To accept a patch though, the important thing is to have test coverage. If the change in question is a platform-specific feature that there’s no way to test in a different environment, we would indeed need to block on the availability of a builder.

Quite often—as I believe is the case for the patch you’re referring to here—patches are adjusting behaviors which would be difficult to cleanly integration-test on the platform in question anyway, and the appropriate thing to do is to make some mock match the observed behavior of the platform in question.  In this case it would be nice if the reviewer could verify this, but if the patch submitter’s description of observed behavior is clear, and their test mock implements it correctly, I would say that we can give them the benefit of the doubt and accept such patches even if the reviewer doesn’t have such a platform available.  Assuming all the changed lines are covered adequately for our supported platforms’ behavior as well, of course, and we aren’t risking breaking them.

How do you feel about this answer?

-g

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="031746.html">[Twisted-Python] Accepting/merging patches for unsupported	platforms without CI
</A></li>
	<LI>Next message (by thread): <A HREF="064210.html">[Twisted-Python] Accepting/merging patches for unsupported platforms without CI
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#64208">[ date ]</a>
              <a href="thread.html#64208">[ thread ]</a>
              <a href="subject.html#64208">[ subject ]</a>
              <a href="author.html#64208">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
