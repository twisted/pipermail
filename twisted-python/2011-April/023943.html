<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Anyone ever used successfully sqlanydb together	with Twisted and adbapi?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Anyone%20ever%20used%20successfully%20sqlanydb%20together%0A%09with%20Twisted%20and%20adbapi%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023940.html">
   <LINK REL="Next"  HREF="023944.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Anyone ever used successfully sqlanydb together	with Twisted and adbapi?</H1>
    <B>Hynek Schlawack</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Anyone%20ever%20used%20successfully%20sqlanydb%20together%0A%09with%20Twisted%20and%20adbapi%3F&In-Reply-To="
       TITLE="[Twisted-Python] Anyone ever used successfully sqlanydb together	with Twisted and adbapi?">hs at ox.cx
       </A><BR>
    <I>Wed Apr 27 14:48:13 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="023940.html">[Twisted-Python] Did anyone use twisted on windows (IOCP)?
</A></li>
        <LI>Next message: <A HREF="023944.html">[Twisted-Python] [ANN] txZMQ released
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23943">[ date ]</a>
              <a href="thread.html#23943">[ thread ]</a>
              <a href="subject.html#23943">[ subject ]</a>
              <a href="author.html#23943">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I've essentially written a whois daemon that serves via TCP as well as
via web, fetching its data from a sqlanywhere 12 server, using the
official sqlanydb driver.

Everything works fine except for occasional SIGABRTs (or inside of
gdb: SIGSEGVs inside of the sqlanywhere binary driver) in the first
query. If that one works, it keeps running.
 However it's impossible to run tests as at some point it always
crashes while doing queries because I recreate the pool for every
test.

Essentially I get a domain record from the database and fetch some
related data afterward. I tried to implement it using DeferredList and
using runInteraction and it always aborts before doing the second
query. I've already posted some code and gdb backtraces to
stackoverflow: <A HREF="http://stackoverflow.com/questions/5790435/python-twisted-sqlanydb-abort">http://stackoverflow.com/questions/5790435/python-twisted-sqlanydb-abort</A>
maybe there's some helpful data I missed here. To stress it: The
lookup of the domain record usually works. It's the following defers
that crash my application.

My essential question is: Has someone already used Twisted and
SQLAnywhere together successfully? Is it me or is it sqlanywhere or
even Twisted? What are my options?

TIA,
-h

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023940.html">[Twisted-Python] Did anyone use twisted on windows (IOCP)?
</A></li>
	<LI>Next message: <A HREF="023944.html">[Twisted-Python] [ANN] txZMQ released
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23943">[ date ]</a>
              <a href="thread.html#23943">[ thread ]</a>
              <a href="subject.html#23943">[ subject ]</a>
              <a href="author.html#23943">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
