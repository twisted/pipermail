<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] [Twisted-web] Creating a hybrid server in	Twisted
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20%5BTwisted-web%5D%20Creating%20a%20hybrid%20server%20in%0A%09Twisted&In-Reply-To=m2bp0lbmnt.fsf%40valheru.db3l.homeip.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023827.html">
   <LINK REL="Next"  HREF="023830.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] [Twisted-web] Creating a hybrid server in	Twisted</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20%5BTwisted-web%5D%20Creating%20a%20hybrid%20server%20in%0A%09Twisted&In-Reply-To=m2bp0lbmnt.fsf%40valheru.db3l.homeip.net"
       TITLE="[Twisted-Python] [Twisted-web] Creating a hybrid server in	Twisted">glyph at twistedmatrix.com
       </A><BR>
    <I>Tue Apr  5 21:54:18 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="023827.html">[Twisted-Python] Twisted 11.0 and Foolscap incompatibility
</A></li>
        <LI>Next message: <A HREF="023830.html">[Twisted-Python] Persisted protocol?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23828">[ date ]</a>
              <a href="thread.html#23828">[ thread ]</a>
              <a href="subject.html#23828">[ subject ]</a>
              <a href="author.html#23828">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Apr 4, 2011, at 7:51 PM, David Bolen wrote:

&gt;<i> Jashank Jeremy &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">jashank.jeremy at optusnet.com.au</A>&gt; writes:
</I>&gt;<i> 
</I>&gt;&gt;<i> So I'm pretty much stuck in a rut.  I don't want to totally reinvent the
</I>&gt;&gt;<i> wheel just to be able to protocol-switch; I'd prefer to make use of
</I>&gt;&gt;<i> existing code from Twisted.  How do I hijack Twisted.Web to add protocol
</I>&gt;&gt;<i> switching?
</I>&gt;<i> 
</I>
&gt;<i> To insert your own protocol code, you want to set the &quot;protocol&quot;
</I>&gt;<i> attribute of your Site (or HTTPFactory if using that directly)
</I>&gt;<i> instance to your own &quot;hybrid&quot; protocol class.
</I>
It would be slightly better to override buildProtocol, because that way you can call the superclass's implementation more idiomatically.  But, the idea is the same.

Note that we'd really like to have protocol switch functionality built into Twisted proper so that you don't have to jump through all these hoops.  Please feel free to contribute patches to fix this ticket: &lt;<A HREF="http://twistedmatrix.com/trac/ticket/3204">http://twistedmatrix.com/trac/ticket/3204</A>&gt;.


</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023827.html">[Twisted-Python] Twisted 11.0 and Foolscap incompatibility
</A></li>
	<LI>Next message: <A HREF="023830.html">[Twisted-Python] Persisted protocol?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23828">[ date ]</a>
              <a href="thread.html#23828">[ thread ]</a>
              <a href="subject.html#23828">[ subject ]</a>
              <a href="author.html#23828">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
