<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] problems with transport.write
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20problems%20with%20transport.write&In-Reply-To=%3C20110429015745.GG3700%40aihal.home.puzzling.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="056435.html">
   <LINK REL="Next"  HREF="056439.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] problems with transport.write</H1>
    <B>Andrew Bennetts</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20problems%20with%20transport.write&In-Reply-To=%3C20110429015745.GG3700%40aihal.home.puzzling.org%3E"
       TITLE="[Twisted-Python] problems with transport.write">andrew at bemusement.org
       </A><BR>
    <I>Thu Apr 28 19:57:46 MDT 2011</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="056435.html">[Twisted-Python] problems with transport.write
</A></li>
        <LI>Next message (by thread): <A HREF="056439.html">[Twisted-Python] problems with transport.write
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56436">[ date ]</a>
              <a href="thread.html#56436">[ thread ]</a>
              <a href="subject.html#56436">[ subject ]</a>
              <a href="author.html#56436">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>gary clark wrote:
&gt;<i> Much appreciated on the quick response.
</I>&gt;<i> 
</I>&gt;<i> It fails by writing a large string at the server side and not receiving any
</I>&gt;<i> data at the client. The client uses open-ssl and is blocking to receive data.
</I>&gt;<i> I dont know if its possible to determine if the write was successful or not on
</I>&gt;<i> the server side i.e knowing how many bytes were written etc. I dont see any
</I>&gt;<i> exceptions. The connection is still maintained and like I said its
</I>&gt;<i> intermittent. So when a transport.write occurs is there an api I can use to
</I>&gt;<i> see if it was successful?
</I>&gt;<i> 
</I>&gt;<i> I'm trying to isolate if its a server problem or a client issue at the moment.
</I>
Most platforms' socket APIs don't provide a convenient (or necessarily any) way
to see how much data has been ACKed by the peer (which I assume is what you mean
by “if the write was successful”).  So Twisted doesn't have any API for
reporting that to you either.

The usual way to observe how much data was sent is to run tcpdump (or wireshark
or simliar).  Similarly to observe how much data is received run tcpdump on the
receiver.  If there's a discrepancy then something between those two points is
losing your data.

Intermittent failures involving large writes may be a PMTU issue on your
network.  Try reducing the MTU value on your router(s) perhaps.

-Andrew.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="056435.html">[Twisted-Python] problems with transport.write
</A></li>
	<LI>Next message (by thread): <A HREF="056439.html">[Twisted-Python] problems with transport.write
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#56436">[ date ]</a>
              <a href="thread.html#56436">[ thread ]</a>
              <a href="subject.html#56436">[ subject ]</a>
              <a href="author.html#56436">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
