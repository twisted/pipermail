<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Twisted Plugins - Implementation Discussion
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Twisted%20Plugins%20-%20Implementation%20Discussion&In-Reply-To=F7230F88-2DFD-4B41-B2D5-9CE9D88819FA%40twistedmatrix.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023861.html">
   <LINK REL="Next"  HREF="023871.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Twisted Plugins - Implementation Discussion</H1>
    <B>Itamar Turner-Trauring</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Twisted%20Plugins%20-%20Implementation%20Discussion&In-Reply-To=F7230F88-2DFD-4B41-B2D5-9CE9D88819FA%40twistedmatrix.com"
       TITLE="[Twisted-Python] Twisted Plugins - Implementation Discussion">itamar at itamarst.org
       </A><BR>
    <I>Thu Apr  7 08:14:05 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="023861.html">[Twisted-Python] Twisted Plugins - Implementation Discussion
</A></li>
        <LI>Next message: <A HREF="023871.html">[Twisted-Python] Twisted Plugins - Implementation Discussion
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23869">[ date ]</a>
              <a href="thread.html#23869">[ thread ]</a>
              <a href="subject.html#23869">[ subject ]</a>
              <a href="author.html#23869">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 2011-04-07 at 02:08 -0400, Glyph Lefkowitz wrote:

&gt;<i> My idea for exposing it is that if you then do 'getPlugins(IPlugin2)',
</I>&gt;<i> you will get back an iterable of IPlugin2 providers, but not
</I>&gt;<i> necessarily instances of your classes: they could be cached plugins,
</I>&gt;<i> with cached results for metadata() and willProvide() - the latter
</I>&gt;<i> based on the list currently saved as the 'provided' attribute.  So a
</I>&gt;<i> loop like this to load a twistd plugin by name:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>         def twistdPluginByTapname(name):
</I>&gt;<i>             for p2 in getPlugins(IPlugin2):
</I>&gt;<i>                 if p2.willProvide(IServiceMaker) and
</I>&gt;<i>         p2.metadata()['tapname'] == name:
</I>&gt;<i>                     return p2.load()
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ... would not actually load any plugins, but work entirely from the
</I>&gt;<i> cached metadata.
</I>
That's where the whole idea falls down for me. Evidence suggests (and
you note this earlier) that caching doesn't work anywhere in the real
world. My current Ubuntu install complains about a read-only cache every
time I run lore (and I'm pretty sure there's nothing added to my
PYTHONPATH other than installed system packages). Any design which
assumes caching works appears to be useless in the real world.

So, the design has to *not* rely on caching working.



</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023861.html">[Twisted-Python] Twisted Plugins - Implementation Discussion
</A></li>
	<LI>Next message: <A HREF="023871.html">[Twisted-Python] Twisted Plugins - Implementation Discussion
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23869">[ date ]</a>
              <a href="thread.html#23869">[ thread ]</a>
              <a href="subject.html#23869">[ subject ]</a>
              <a href="author.html#23869">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
