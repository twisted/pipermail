<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Setting source address of outgoing datagrams
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Setting%20source%20address%20of%20outgoing%20datagrams&In-Reply-To=%3CCAFUtXGyHho40F-stVQ7GsTD8a2Km-xLVbZ09SNjXrHE_3EwQ0w%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027562.html">
   <LINK REL="Next"  HREF="027564.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Setting source address of outgoing datagrams</H1>
    <B>Maciej Wasilak</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Setting%20source%20address%20of%20outgoing%20datagrams&In-Reply-To=%3CCAFUtXGyHho40F-stVQ7GsTD8a2Km-xLVbZ09SNjXrHE_3EwQ0w%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Setting source address of outgoing datagrams">wasilak at gmail.com
       </A><BR>
    <I>Wed Oct 16 01:36:58 MDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027562.html">[Twisted-Python] Setting source address of outgoing datagrams
</A></li>
        <LI>Next message: <A HREF="027564.html">[Twisted-Python] Setting source address of outgoing datagrams
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27563">[ date ]</a>
              <a href="thread.html#27563">[ thread ]</a>
              <a href="subject.html#27563">[ subject ]</a>
              <a href="author.html#27563">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Itamar,

If you pass a specific IP to the interface keyword argument instead of
&gt;<i> &quot;::&quot;, the UDP port will bind to that specific IP and will only send
</I>&gt;<i> datagrams on that IP. You can use netifaces package (e.g. find it on PyPI)
</I>&gt;<i> to list all local IPs. So you could do the equivalent of &quot;::&quot; by binding
</I>&gt;<i> multiple times, once for each IPv6 address.
</I>&gt;<i>
</I>
Thanks for the hint - I've ran a few tests with netifaces. Few observations:
1. Returned interface identifiers for Windows are not human-readable - it's
hard to determine which interface is wireless, and which one is loopback
from just the interface identifier. Results for Linux are better -
identifiers are human readable (eth0, wlan0, lo, etc.) - it might be
possible to implement some simple logic to automatically choose the right
interface.
2. As far as I noticed it is not possible to use one DatagramProtocol
instance to listen on multiple addresses, so I think to achieve &quot;::&quot;
equivalent I have to use separate DatagramProtocol instance for each
address. However I think in many cases it's enough to deploy server on a
single address, provided it's a reachable and well-known one.
3. I've checked some docs and see no easy way to deploy a server which
automatically listens on all interfaces and responds with a source address
that was used in request . It seems that it has nothing to do with Twisted.
It is rather caused by the underlying Python socket implementation.

All in all the problem with using wrong source address can be easilly
solved with a bit of user attention, however it's hard to find the solution
that &quot;just works&quot;.

Best Regards
Maciek
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20131016/359e7c7c/attachment.html">http://twistedmatrix.com/pipermail/twisted-python/attachments/20131016/359e7c7c/attachment.html</A>&gt;
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027562.html">[Twisted-Python] Setting source address of outgoing datagrams
</A></li>
	<LI>Next message: <A HREF="027564.html">[Twisted-Python] Setting source address of outgoing datagrams
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27563">[ date ]</a>
              <a href="thread.html#27563">[ thread ]</a>
              <a href="subject.html#27563">[ subject ]</a>
              <a href="author.html#27563">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
