<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Garbage in logfiles?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Garbage%20in%20logfiles%3F&In-Reply-To=%3C1CE2C7EB-37F1-4169-BA30-D8A16A2C76AB%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="027561.html">
   <LINK REL="Next"  HREF="060028.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Garbage in logfiles?</H1>
    <B>Conor Sayres</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Garbage%20in%20logfiles%3F&In-Reply-To=%3C1CE2C7EB-37F1-4169-BA30-D8A16A2C76AB%40gmail.com%3E"
       TITLE="[Twisted-Python] Garbage in logfiles?">sayresc at gmail.com
       </A><BR>
    <I>Wed Oct 16 11:33:29 MDT 2013</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="027561.html">[Twisted-Python] AutobahnTestsuite 0.5.6
</A></li>
        <LI>Next message (by thread): <A HREF="060028.html">[Twisted-Python] Garbage in logfiles?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27566">[ date ]</a>
              <a href="thread.html#27566">[ thread ]</a>
              <a href="subject.html#27566">[ subject ]</a>
              <a href="author.html#27566">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi All,

I'm working for an astro observatory and we are upgrading our telescope control software.  We are swapping to twisted under the hood, and I have run into an issue regarding logging.

I have set up twisted logging to record all communication between our devices.  When we simulate our system with a high frequency log rollover rate (~5 seconds), many of the logs contain only garbage.  Here is an example of a few lines in a given bad log file:

3230 3133 2d31 302d 3136 2031 303a 3131
3a34 352d 3037 3030 205b 2d5d 2044 6576
436d 6428 5354 4154 5553 290a 3230 3133
2d31 302d 3136 2031 303a 3131 3a34 352d
3037 3030 205b 2d5d 2044 6576 436d 6428
5354 4154 5553 290a 3230 3133 2d31 302d

Here is an example of a few lines from a good log file:

2013-10-16 10:11:39-0700 [_SocketProtocol,client] Galil Reply(XQ#STATUS)
2013-10-16 10:11:39-0700 [-] Galil Reply(: 1,  1,  1,  1,  1 axis homed)
2013-10-16 10:11:39-0700 [-] To All Users(1 1 i axisHomed=1, 1, 1, 1, 1)
2013-10-16 10:11:39-0700 [-] Galil Reply(000000000, 000000000, 000000000, 000000000, 000000000 commanded position)
2013-10-16 10:11:39-0700 [-] To All Users(1 1 i cmdMount=0, 0, 0, 0, 0)
2013-10-16 10:11:39-0700 [_SocketProtocol,client] MirrorCtrl Reply(1 1 i axisHomed=1, 1, 1, 1, 1)
2013-10-16 10:11:39-0700 [_SocketProtocol,client] Galil Reply(XQ#STATUS)

I haven't been able to reproduce the problem in a simpler framework than our simulation.  I am triggering the rollover by directly calling LogFile.rollover on a timer.  The problem also exists if I define a small file size limit for automatic rollover and let twisted do it automatically.

Sound familiar to anyone out there?

Cheers,
Conor


</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="027561.html">[Twisted-Python] AutobahnTestsuite 0.5.6
</A></li>
	<LI>Next message (by thread): <A HREF="060028.html">[Twisted-Python] Garbage in logfiles?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27566">[ date ]</a>
              <a href="thread.html#27566">[ thread ]</a>
              <a href="subject.html#27566">[ subject ]</a>
              <a href="author.html#27566">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
