<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] FTP without the protocol
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20FTP%20without%20the%20protocol&In-Reply-To=%3Cm2d2msj50m.fsf%40valheru.db3l.homeip.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027646.html">
   <LINK REL="Next"  HREF="027621.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] FTP without the protocol</H1>
    <B>David Bolen</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20FTP%20without%20the%20protocol&In-Reply-To=%3Cm2d2msj50m.fsf%40valheru.db3l.homeip.net%3E"
       TITLE="[Twisted-Python] FTP without the protocol">db3l.net at gmail.com
       </A><BR>
    <I>Fri Oct 25 17:38:01 MDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027646.html">[Twisted-Python] FTP without the protocol
</A></li>
        <LI>Next message: <A HREF="027621.html">[Twisted-Python] Buildslave outage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27649">[ date ]</a>
              <a href="thread.html#27649">[ thread ]</a>
              <a href="subject.html#27649">[ subject ]</a>
              <a href="author.html#27649">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Lloyd Carothers &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">lloyd at passcal.nmt.edu</A>&gt; writes:

&gt;<i> This looks pretty close to what I need and definitely a good starting
</I>&gt;<i> point for me. I can make use of session specific information too,
</I>&gt;<i> which will be nice.
</I>&gt;<i> As you've been using it for a while, have you had any issues. Is it
</I>&gt;<i> robust/stable?
</I>
Absolutely robust/stable.  Haven't touched the code since 2007 (well,
aside from one tweak to deal with an application level race condition
under long RTT connections unrelated to the file transfer itself).
Looks like there have been around 60000 media file transfers totaling
about 650GB of data so far.

&gt;<i> Would you be willing to share this as well?
</I>
It's part of a larger system that I can't really share in total, but I
could probably snip an extract of the PB part related to file I/O.
It's not really anything special - just a typical PB published object
with some remote methods.  You'd have to be willing to deal with it in
an &quot;as-is&quot; state though.  If interested, drop me a note directly.

&gt;<i> Gotcha.
</I>&gt;<i> Maybe this is new since you wrote the above, but is FileSender the
</I>&gt;<i> producer to use here?
</I>
That's the one I use on the client side, yes.  On the receiver the raw
data receipt is just part of the server side protocol definition.

&gt;<i> Perhaps its not fully developed but should there not also be a
</I>&gt;<i> compliment FileReceiver  to consume the file and write it out?
</I>
Maybe.  I don't think such a helper exists in the version of Twisted I
was using, but it may also have been simpler enough that I didn't look too
hard (plus I wanted a running crc calculation).

I think it's also a little trickier on the receiving side than
sending.  On the sending side it's easier to delegate transmission of
the data, while on the receiving side the data (and connection status)
occurs as part of your protocol handler.  So at the least something
like FileReceiver would probably need to be a mix-in (taking over
dataReceived in some way) rather than an independent function.

The receiving side is also fairly trivial - in my case, it's not much
more than the few lines in dataReceived.

&gt;<i> Generally FTP works ok but some organizations firewalls do strange
</I>&gt;<i> things with that traffic, and even the good connections seem to have
</I>&gt;<i> sporadic drops which often aren't handled well, at least with proftp.
</I>
Yeah, it's an ugly network world out there :-)

Note that with an FTP replacement, you'll still be responsible for
handling disconnects and/or resuming uploads.  In my current system
all uploads go to a dedicated upload folder by job, which is moved to
its final location during the job commit, or completely discarded if
something goes wrong.  But I have the luxury of having tight control
of the client (who is an audio post-production house publishing jobs
for clients to review), so failures between the client and the server
in my case are actually reasonably rare.

-- David


</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027646.html">[Twisted-Python] FTP without the protocol
</A></li>
	<LI>Next message: <A HREF="027621.html">[Twisted-Python] Buildslave outage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27649">[ date ]</a>
              <a href="thread.html#27649">[ thread ]</a>
              <a href="subject.html#27649">[ subject ]</a>
              <a href="author.html#27649">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
