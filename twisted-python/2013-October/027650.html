<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Bytes vs unicode in twisted.python.logfile's	python3 porting
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Bytes%20vs%20unicode%20in%20twisted.python.logfile%27s%0A%09python3%20porting&In-Reply-To=%3CCAE_Hg6aEV2Nfz8Uf0SQpM8X5DTmDYiJHFD8qOk85cLbdQg9S7w%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="060119.html">
   <LINK REL="Next"  HREF="060112.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Bytes vs unicode in twisted.python.logfile's	python3 porting</H1>
    <B>Laurens Van Houtven</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Bytes%20vs%20unicode%20in%20twisted.python.logfile%27s%0A%09python3%20porting&In-Reply-To=%3CCAE_Hg6aEV2Nfz8Uf0SQpM8X5DTmDYiJHFD8qOk85cLbdQg9S7w%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Bytes vs unicode in twisted.python.logfile's	python3 porting">_ at lvh.io
       </A><BR>
    <I>Sat Oct 26 15:49:00 MDT 2013</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="060119.html">[Twisted-Python] Twisted 13.2.0pre1 Testing Feedback
</A></li>
        <LI>Next message (by thread): <A HREF="060112.html">[Twisted-Python] Bytes vs unicode in twisted.python.logfile's python3 porting
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27650">[ date ]</a>
              <a href="thread.html#27650">[ thread ]</a>
              <a href="subject.html#27650">[ subject ]</a>
              <a href="author.html#27650">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi everyone,


I'm working on #6749 for porting t.p.logfile to python3. I'm dealing with
some test failures, which you can see from the buildbot here:

<A HREF="http://buildbot.twistedmatrix.com/builders/python-3.3-tests/builds/1602/steps/shell/logs/stdio">http://buildbot.twistedmatrix.com/builders/python-3.3-tests/builds/1602/steps/shell/logs/stdio</A>

I have pasted the relevant bit into a gist here:

<A HREF="https://gist.github.com/lvh/7174766">https://gist.github.com/lvh/7174766</A>

I think what's happening is that LogFile.write should take native strings
(since that's what log.msg takes). However, I'm opening all files in binary
mode, since that's on the reviewer checklist (point 8) for the Python 3
porting plan.

Should I not open the files in binary mode?

cheers
lvh
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20131026/94e8531f/attachment.html">http://twistedmatrix.com/pipermail/twisted-python/attachments/20131026/94e8531f/attachment.html</A>&gt;
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="060119.html">[Twisted-Python] Twisted 13.2.0pre1 Testing Feedback
</A></li>
	<LI>Next message (by thread): <A HREF="060112.html">[Twisted-Python] Bytes vs unicode in twisted.python.logfile's python3 porting
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27650">[ date ]</a>
              <a href="thread.html#27650">[ thread ]</a>
              <a href="subject.html#27650">[ subject ]</a>
              <a href="author.html#27650">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
