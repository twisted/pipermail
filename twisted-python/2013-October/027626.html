<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] FTP without the protocol
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20FTP%20without%20the%20protocol&In-Reply-To=%3Cm2hac7ihga.fsf%40valheru.db3l.homeip.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027620.html">
   <LINK REL="Next"  HREF="027646.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] FTP without the protocol</H1>
    <B>David Bolen</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20FTP%20without%20the%20protocol&In-Reply-To=%3Cm2hac7ihga.fsf%40valheru.db3l.homeip.net%3E"
       TITLE="[Twisted-Python] FTP without the protocol">db3l.net at gmail.com
       </A><BR>
    <I>Wed Oct 23 19:30:13 MDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027620.html">[Twisted-Python] FTP without the protocol
</A></li>
        <LI>Next message: <A HREF="027646.html">[Twisted-Python] FTP without the protocol
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27626">[ date ]</a>
              <a href="thread.html#27626">[ thread ]</a>
              <a href="subject.html#27626">[ subject ]</a>
              <a href="author.html#27626">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Lloyd Carothers &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">lloyd at passcal.nmt.edu</A>&gt; writes:

&gt;<i>  For such a use case I'm surprised not to find an example. I think I
</I>&gt;<i> just need a push in the right direction. Is producers/consumers the
</I>&gt;<i> right approach?
</I>
It's a bit dated at this point, but maybe this might spark some ideas:
   <A HREF="http://twistedmatrix.com/pipermail/twisted-python/2007-July/015738.html">http://twistedmatrix.com/pipermail/twisted-python/2007-July/015738.html</A>

It's producer/consumer, which yes, is very efficient for streaming
transfers.  The code the post was based on is actually still in active
use, but against an older twisted 2.5.0 installation, so I'm not sure
how much tweaking it may need to adjust to the latest Twisted version.

In practice this is paired with a separate set of code that implements a
PB-based control channel over which the files to upload are negotiated.
The binary transfer itself just has a small header in front of the data
containing some authentication and size information, so it's derived
from LineReceiver and switches to raw mode for the transfer.  While I
tend to prefer a separate control channel (though it certainly doesn't
need to be PB based), you could also in-line the control information (so
it becomes more like an HTTP transfer) if you wished.

BTW, passive FTP should be quite firewall friendly, unless you're
talking about really locked down locations where the only thing allowed
out is HTTP or something.  But if you're not using passive mode yet,
that might also be a quicker fix to your existing code base.

-- David


</PRE>




























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027620.html">[Twisted-Python] FTP without the protocol
</A></li>
	<LI>Next message: <A HREF="027646.html">[Twisted-Python] FTP without the protocol
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27626">[ date ]</a>
              <a href="thread.html#27626">[ thread ]</a>
              <a href="subject.html#27626">[ subject ]</a>
              <a href="author.html#27626">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
