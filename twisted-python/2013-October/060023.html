<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Setting source address of outgoing datagrams
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Setting%20source%20address%20of%20outgoing%20datagrams&In-Reply-To=%3C525C2D35.2060407%40itamarst.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="027559.html">
   <LINK REL="Next"  HREF="060024.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Setting source address of outgoing datagrams</H1>
    <B>Itamar Turner-Trauring</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Setting%20source%20address%20of%20outgoing%20datagrams&In-Reply-To=%3C525C2D35.2060407%40itamarst.org%3E"
       TITLE="[Twisted-Python] Setting source address of outgoing datagrams">itamar at itamarst.org
       </A><BR>
    <I>Mon Oct 14 11:43:17 MDT 2013</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="027559.html">[Twisted-Python] Setting source address of outgoing datagrams
</A></li>
        <LI>Next message (by thread): <A HREF="060024.html">[Twisted-Python] Setting source address of outgoing datagrams
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60023">[ date ]</a>
              <a href="thread.html#60023">[ thread ]</a>
              <a href="subject.html#60023">[ subject ]</a>
              <a href="author.html#60023">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10/12/2013 10:27 AM, Maciej Wasilak wrote:
&gt;<i>
</I>&gt;<i> I deploy my protocol like that:
</I>&gt;<i>
</I>&gt;<i> reactor.listenUDP(5683, myapp.MyProtocol(), interface=&quot;::&quot;)
</I>&gt;<i> reactor.run()
</I>&gt;<i>
</I>&gt;<i> The problem is:
</I>&gt;<i> 1. My server receives a request from remote client (with destination 
</I>&gt;<i> address being valid global IPv6 address)
</I>&gt;<i> 2. The server sends a response, but uses different source address 
</I>&gt;<i> (which is also valid and assigned to local wlan0 interface).
</I>&gt;<i> 3. Remote host drops the response (destination address of the request 
</I>&gt;<i> and source address of the response do not match).
</I>&gt;<i>
</I>&gt;<i> It is common for IPv6 interfaces to have multiple global IPv6 
</I>&gt;<i> addresses - because of privacy reasons (both on Windows and Linux).
</I>&gt;<i>
</I>&gt;<i> My question is - can I read manually the destination address from the 
</I>&gt;<i> incoming request datagram, and set it as a source address manually in 
</I>&gt;<i> the outgoing response datagram?
</I>
If you pass a specific IP to the interface keyword argument instead of 
&quot;::&quot;, the UDP port will bind to that specific IP and will only send 
datagrams on that IP. You can use netifaces package (e.g. find it on 
PyPI) to list all local IPs. So you could do the equivalent of &quot;::&quot; by 
binding multiple times, once for each IPv6 address.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="027559.html">[Twisted-Python] Setting source address of outgoing datagrams
</A></li>
	<LI>Next message (by thread): <A HREF="060024.html">[Twisted-Python] Setting source address of outgoing datagrams
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60023">[ date ]</a>
              <a href="thread.html#60023">[ thread ]</a>
              <a href="subject.html#60023">[ subject ]</a>
              <a href="author.html#60023">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
