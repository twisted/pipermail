<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] FTP without the protocol
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20FTP%20without%20the%20protocol&In-Reply-To=%3C526991D9.1080306%40passcal.nmt.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="060087.html">
   <LINK REL="Next"  HREF="060110.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] FTP without the protocol</H1>
    <B>Lloyd Carothers</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20FTP%20without%20the%20protocol&In-Reply-To=%3C526991D9.1080306%40passcal.nmt.edu%3E"
       TITLE="[Twisted-Python] FTP without the protocol">lloyd at passcal.nmt.edu
       </A><BR>
    <I>Thu Oct 24 15:32:09 MDT 2013</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="060087.html">[Twisted-Python] FTP without the protocol
</A></li>
        <LI>Next message (by thread): <A HREF="060110.html">[Twisted-Python] FTP without the protocol
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60107">[ date ]</a>
              <a href="thread.html#60107">[ thread ]</a>
              <a href="subject.html#60107">[ subject ]</a>
              <a href="author.html#60107">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10/23/13 7:30 PM, David Bolen wrote:
&gt;<i> Lloyd Carothers &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">lloyd at passcal.nmt.edu</A>&gt; writes:
</I>&gt;<i>
</I>&gt;&gt;<i>   For such a use case I'm surprised not to find an example. I think I
</I>&gt;&gt;<i> just need a push in the right direction. Is producers/consumers the
</I>&gt;&gt;<i> right approach?
</I>&gt;<i> It's a bit dated at this point, but maybe this might spark some ideas:
</I>&gt;<i>     <A HREF="http://twistedmatrix.com/pipermail/twisted-python/2007-July/015738.html">http://twistedmatrix.com/pipermail/twisted-python/2007-July/015738.html</A>
</I>&gt;<i>
</I>&gt;<i> It's producer/consumer, which yes, is very efficient for streaming
</I>&gt;<i> transfers.  The code the post was based on is actually still in active
</I>&gt;<i> use, but against an older twisted 2.5.0 installation, so I'm not sure
</I>&gt;<i> how much tweaking it may need to adjust to the latest Twisted version.
</I>This looks pretty close to what I need and definitely a good starting 
point for me. I can make use of session specific information too, which 
will be nice.
As you've been using it for a while, have you had any issues. Is it 
robust/stable?
&gt;<i> In practice this is paired with a separate set of code that implements a
</I>&gt;<i> PB-based control channel over which the files to upload are negotiated.
</I>Would you be willing to share this as well?
&gt;<i> The binary transfer itself just has a small header in front of the data
</I>&gt;<i> containing some authentication and size information, so it's derived
</I>&gt;<i> from LineReceiver and switches to raw mode for the transfer.  While I
</I>&gt;<i> tend to prefer a separate control channel (though it certainly doesn't
</I>&gt;<i> need to be PB based), you could also in-line the control information (so
</I>&gt;<i> it becomes more like an HTTP transfer) if you wished.
</I>Gotcha.
Maybe this is new since you wrote the above, but is FileSender the 
producer to use here?
Perhaps its not fully developed but should there not also be a 
compliment FileReceiver  to consume the file and write it out?
&gt;<i> BTW, passive FTP should be quite firewall friendly, unless you're
</I>&gt;<i> talking about really locked down locations where the only thing allowed
</I>&gt;<i> out is HTTP or something.  But if you're not using passive mode yet,
</I>&gt;<i> that might also be a quicker fix to your existing code base.
</I>Indeed, I use passive mode exclusively as clients often come from NATed 
nets.
Generally FTP works ok but some organizations firewalls do strange 
things with that traffic, and even the good connections seem to have 
sporadic drops which often aren't handled well, at least with proftp.


&gt;<i>
</I>&gt;<i> -- David
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="060087.html">[Twisted-Python] FTP without the protocol
</A></li>
	<LI>Next message (by thread): <A HREF="060110.html">[Twisted-Python] FTP without the protocol
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60107">[ date ]</a>
              <a href="thread.html#60107">[ thread ]</a>
              <a href="subject.html#60107">[ subject ]</a>
              <a href="author.html#60107">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
