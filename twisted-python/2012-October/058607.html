<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] getpeername from verify callback
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20getpeername%20from%20verify%20callback&In-Reply-To=%3CA91EEAF7-2AB0-42BE-9251-6254874D7517%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="058606.html">
   <LINK REL="Next"  HREF="058612.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] getpeername from verify callback</H1>
    <B>Glyph</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20getpeername%20from%20verify%20callback&In-Reply-To=%3CA91EEAF7-2AB0-42BE-9251-6254874D7517%40twistedmatrix.com%3E"
       TITLE="[Twisted-Python] getpeername from verify callback">glyph at twistedmatrix.com
       </A><BR>
    <I>Fri Oct 19 00:50:13 MDT 2012</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="058606.html">[Twisted-Python] getpeername from verify callback
</A></li>
        <LI>Next message (by thread): <A HREF="058612.html">[Twisted-Python] a possible solution for ticket 5562
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#58607">[ date ]</a>
              <a href="thread.html#58607">[ thread ]</a>
              <a href="subject.html#58607">[ subject ]</a>
              <a href="author.html#58607">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Oct 18, 2012, at 11:36 PM, Adi Roiban &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">adi at roiban.ro</A>&gt; wrote:

&gt;<i> On 19 October 2012 07:41, Nathan Mower &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">nathanm at securitymetrics.com</A>&gt; wrote:
</I>&gt;&gt;<i> The following sample code worked until Twisted began to prefer memory BIOs over socket BIOs.  Now it produces this error...
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> exceptions.AttributeError: 'NoneType' object has no attribute 'getpeername'
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> ...on line 9 where getpeername() is called by the verify() callback.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Is there any way to obtain the peer name, given the OpenSSL.SSL.Connection object passed into verify()?  Anything that surfaces the underlying socket?  (Perhaps something similar to what is done in connectionMade(), which does work.)  Or alternatively, is there a way to tell the reactor to employ socket BIOs?
</I>&gt;<i> 
</I>&gt;<i> Hi
</I>&gt;<i> 
</I>&gt;<i> I think that we are talking about this bug:
</I>&gt;<i> <A HREF="http://twistedmatrix.com/trac/ticket/5684">http://twistedmatrix.com/trac/ticket/5684</A>
</I>
Thanks for the pointer; I've just closed it with a similar answer.

-glyph

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="058606.html">[Twisted-Python] getpeername from verify callback
</A></li>
	<LI>Next message (by thread): <A HREF="058612.html">[Twisted-Python] a possible solution for ticket 5562
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#58607">[ date ]</a>
              <a href="thread.html#58607">[ thread ]</a>
              <a href="subject.html#58607">[ subject ]</a>
              <a href="author.html#58607">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
