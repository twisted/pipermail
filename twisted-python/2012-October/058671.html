<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Running twistd and tac files as Windows service
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Running%20twistd%20and%20tac%20files%20as%20Windows%20service&In-Reply-To=%3CCAKmUHjYf2psy2Mch-%3DZkExjxgfnabuHFbvgW8WfRebrWpb_F0Q%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="058665.html">
   <LINK REL="Next"  HREF="058674.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Running twistd and tac files as Windows service</H1>
    <B>John Aherne</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Running%20twistd%20and%20tac%20files%20as%20Windows%20service&In-Reply-To=%3CCAKmUHjYf2psy2Mch-%3DZkExjxgfnabuHFbvgW8WfRebrWpb_F0Q%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Running twistd and tac files as Windows service">johnaherne at rocs.co.uk
       </A><BR>
    <I>Wed Oct 24 01:43:15 MDT 2012</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="058665.html">[Twisted-Python] Running twistd and tac files as Windows service
</A></li>
        <LI>Next message (by thread): <A HREF="058674.html">[Twisted-Python] Running twistd and tac files as Windows service
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#58671">[ date ]</a>
              <a href="thread.html#58671">[ thread ]</a>
              <a href="subject.html#58671">[ subject ]</a>
              <a href="author.html#58671">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> To start off with, I'll point out that this isn't a supported mode of
</I>&gt;<i> running Twisted (which I'm sure you noticed already :).
</I>&gt;<i>
</I>&gt;<i> This feature has been requested several times and worked on by a couple
</I>&gt;<i> people, but not quite to the point of completion.
</I>&gt;<i>
</I>&gt;<i> Here's a related ticket:
</I>&gt;<i>
</I>&gt;<i>     <A HREF="http://twistedmatrix.com/trac/ticket/4073">http://twistedmatrix.com/trac/ticket/4073</A>
</I>&gt;<i>
</I>&gt;<i> There's also some more code in the sandbox:
</I>&gt;<i>
</I>&gt;<i>     <A HREF="http://twistedmatrix.com/trac/browser/sandbox/moonfallen">http://twistedmatrix.com/trac/browser/sandbox/moonfallen</A>
</I>&gt;<i>
</I>&gt;<i> BuildBot also has some code, though I'm not exactly sure where it is.
</I>&gt;<i> It would be really great for someone to actually complete and generalize
</I>&gt;<i> one or more of these initial attempts so that Windows service
</I>&gt;<i> integration could be a real, working feature. :)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Yes, you'll need to do that.  It probably won't even break child process
</I>&gt;<i> support (although other aspects of Windows services probably will).
</I>&gt;<i> Notice it's failing on installing a SIGINT handler - ie, a Control-C
</I>&gt;<i> handler.  Since you want the thing to run as a service, you probably
</I>&gt;<i> aren't very interested in having Control-C do anything.
</I>&gt;<i>
</I>&gt;<i> Jean-Paul
</I>&gt;<i>
</I>&gt;<i> Thanks for the pointers.
</I>
Some of the code seems pretty ancient and for setting up the service I
think the win32com stuff from Mark Hammond seems to have all covered.

I have started to look around twisted to see where I can stop the signal
handlers being installed.. I have landed in postApplication where
startReactor is called, but I have yet to work out how I can set
installSignalHandlers=False.

Am I right in assuming this is where I should be looking.

I don't have much idea about signalhandlers but I assume the one I am
interested in here is to stop ControlC. The others might need to stay on.
I'm not too sure about that without knowing more about windows services and
how they react to these signals.

Thanks for the pointers

John Aherne

&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>


-- 
*John Aherne*
*
*
*
*
*
*
*www.rocs.co.uk
*
020 7223 7567
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20121024/e77608ee/attachment.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="058665.html">[Twisted-Python] Running twistd and tac files as Windows service
</A></li>
	<LI>Next message (by thread): <A HREF="058674.html">[Twisted-Python] Running twistd and tac files as Windows service
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#58671">[ date ]</a>
              <a href="thread.html#58671">[ thread ]</a>
              <a href="subject.html#58671">[ subject ]</a>
              <a href="author.html#58671">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
