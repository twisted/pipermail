<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> No subject
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20No%20subject&In-Reply-To=%3Cmailman.6.1361063370.10584.twisted-python%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="026458.html">
   <LINK REL="Next"  HREF="026574.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>No subject</H1>
    <B></B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20No%20subject&In-Reply-To=%3Cmailman.6.1361063370.10584.twisted-python%40twistedmatrix.com%3E"
       TITLE="No subject">
       </A><BR>
    <I>Mon Oct 15 06:52:25 MDT 2012</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="026458.html">No subject
</A></li>
        <LI>Next message (by thread): <A HREF="026574.html">No subject
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26553">[ date ]</a>
              <a href="thread.html#26553">[ thread ]</a>
              <a href="subject.html#26553">[ subject ]</a>
              <a href="author.html#26553">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Sat, Feb 16, 2013 at 11:53 PM, Glyph &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A>&gt; wrote:

&gt;<i>
</I>&gt;<i> On Feb 16, 2013, at 1:09 PM, Adam Heller &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">sk82712 at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> Guys,
</I>&gt;<i> I'll try to be as exact as I can be with my question, but it may end up
</I>&gt;<i> being pretty broad. (I'm also relatively new to python, please go easy on
</I>&gt;<i> my code although suggestions are of course welcome.)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The main suggestion is &quot;you can't parse TCP like this&quot; :).  You'll have
</I>&gt;<i> this problem: &lt;
</I>&gt;<i> <A HREF="http://twistedmatrix.com/trac/wiki/FrequentlyAskedQuestions#Whyisprotocol.dataReceivedcalledwithonlypartofthedataIcalledtransport.writewith">http://twistedmatrix.com/trac/wiki/FrequentlyAskedQuestions#Whyisprotocol.dataReceivedcalledwithonlypartofthedataIcalledtransport.writewith</A>
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> The issue I'm running into:
</I>&gt;<i> When a user connects to the TCP server, they are displayed a welcome menu
</I>&gt;<i> of things they can do. I'm simply catching the 'data' in an if statement to
</I>&gt;<i> determine which menu item was picked.  The problem is that some of the menu
</I>&gt;<i> items require further input.  I've had to use a series of bools to
</I>&gt;<i> determine if a certain menu option was previously picked that will then
</I>&gt;<i> directly send the data into the function / class.  Is there an easier way
</I>&gt;<i> to go about this? My current method seems a bit backwards and over
</I>&gt;<i> complicated.  I'm thinking I missed something in the documentation.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Anyway, here's the code: <A HREF="https://infotomb.com/q4293">https://infotomb.com/q4293</A> // Pass: twisted
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> You should really attach the code itself to the email, so that future
</I>&gt;<i> readers of the archive have some idea what you're talking about.  Pastebins
</I>&gt;<i> in general are not great, since the code will expire before your archived
</I>&gt;<i> message does, and pastebins with passwords (!?) are even worse.
</I>&gt;<i>
</I>&gt;<i> (it was part of a challenge, so to speak, don't take too much out of
</I>&gt;<i> context)
</I>&gt;<i>
</I>&gt;<i> You can see I had trouble with next() and dh().  I'm now trying to move
</I>&gt;<i> this TCP 'framework' over to another project (the above was already
</I>&gt;<i> submitted), and I'm still running into the same issues.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> You should try separating out your concerns a bit.  The protocol should
</I>&gt;<i> just parse the bytes into something meaningful, then call methods on some
</I>&gt;<i> other, higher-level object that isn't just manipulating strings.
</I>&gt;<i>
</I>&gt;<i> The &quot;other, higher-level object&quot; in your case might be a state machine of
</I>&gt;<i> some kind, or you might just have an object representing the mode that
</I>&gt;<i> you're currently in and switch that out for different modes.
</I>&gt;<i>
</I>&gt;<i> This isn't an issue with Twisted though; Twisted just calls some methods
</I>&gt;<i> on your objects in order to tell you what happened; what happens next is up
</I>&gt;<i> to you.  So it's a general program architecture issue.
</I>&gt;<i>
</I>&gt;<i> This is very general advice, obviously, because I'm not sure what you are
</I>&gt;<i> specifically asking, nor what your program is really intended to do.  What
</I>&gt;<i> kind of client is talking to this system?  Did you invent the protocol
</I>&gt;<i> yourself, or did it come from somewhere else?  What is 'dh()' even trying
</I>&gt;<i> to accomplish?  Etc, etc.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -glyph
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>&gt;<i>
</I>
--20cf30334add3b384604d5e14260
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

&lt;div dir=3D&quot;ltr&quot;&gt;Glyph,&lt;div style&gt;&lt;br&gt;&lt;/div&gt;&lt;div style&gt;I will definately lo=
ok into that. =A0As far as the server spec, it&amp;#39;s over TOR (This part of=
 the &amp;#39;competition&amp;#39; has since closed, but feel free to catch up: &lt;a =
href=3D&quot;<A HREF="http://uncovering-cicada.wikia.com/wiki/Uncovering_Cicada_Wiki&quot;">http://uncovering-cicada.wikia.com/wiki/Uncovering_Cicada_Wiki&quot;</A>&gt;htt=
<A HREF="p://uncovering-cicada.wikia.com/wiki/Uncovering_Cicada_Wiki&lt;/a">p://uncovering-cicada.wikia.com/wiki/Uncovering_Cicada_Wiki&lt;/a</A>&gt; and &lt;a href=
=3D&quot;<A HREF="http://mentalfloss.com/article/31932/chasing-cicada-exploring-darkest-c=">http://mentalfloss.com/article/31932/chasing-cicada-exploring-darkest-c=</A>
orridors-internet&quot;&gt;<A HREF="http://mentalfloss.com/article/31932/chasing-cicada-expl=">http://mentalfloss.com/article/31932/chasing-cicada-expl=</A>
oring-darkest-corridors-internet&lt;/a&gt; (from last year&amp;#39;s 3301). =A0I&amp;#39;=
m simply trying to do the python thing and move classes around instead of t=
rying to reinvent the wheel [dh() is a rudimentary Diffie Helman key exchan=
ge] : &amp;quot;&lt;/div&gt;
&lt;div style&gt;&lt;span style=3D&quot;color:rgb(0,0,0);font-family:Consolas,&amp;#39;Lucida=
 Console&amp;#39;,&amp;#39;DejaVu Sans Mono&amp;#39;,Monaco,monospace;font-size:12px;wh=
ite-space:pre-wrap&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style&gt;&lt;span style=3D&quot;color:rgb(0,=
0,0);font-family:Consolas,&amp;#39;Lucida Console&amp;#39;,&amp;#39;DejaVu Sans Mono&amp;#3=
9;,Monaco,monospace;font-size:12px;white-space:pre-wrap&quot;&gt;In the programming=
 language of your choice build a TCP server&lt;/span&gt;&lt;/div&gt;
&lt;span style=3D&quot;color:rgb(0,0,0);font-family:Consolas,&amp;#39;Lucida Console&amp;#3=
9;,&amp;#39;DejaVu Sans Mono&amp;#39;,Monaco,monospace;font-size:12px;white-space:p=
re-wrap&quot;&gt;that implements the protocol below.  The server code must be=20
written by you and you alone, although you are free to use any=20
modules or libraries publicly available for the selected=20
programming language.

Once you have done this, make it accessible as a Tor hidden=20
service.  Then provide us with the onion address and port
via a GPG-encrypted email to this address.

You have until 0:00 UTC on 3 Feb, 2013.  Any emails received
after that time will be ignored.

Good luck.

3301

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D


1. INTRODUCTION

   The TCP server MUST listen on an arbitrary port, and send and=20
   receive plain text with lines separated by &amp;lt;CRLF&amp;gt; (representing
   a carriage return followed by a line feed).  The TCP server MUST
   disregard the case of input.

   In the examples below, lines sent by the server will be preceded
   with &amp;quot;S:&amp;quot; and lines sent by the client will be preceded by &amp;qu=
ot;C:&amp;quot;

   Each message sent by the server MUST conform to the format:

       [CODE] [RESPONSE NAME] [RESPONSE (optional)]&amp;lt;CRLF&amp;gt;

   Where [CODE] and [RESPONSE NAME] is one of:

       CODE   RESPONSE NAME
        00     Welcome=20
        01     Ok=20
        02     Error
        03     Data
        99     Goodbye


2. PROCEDURES

   a. Remote Connection

   Upon receiving a remote connection, the server MUST greet the=20
   client with a 00 WELCOME message.  The RESPONSE of a welcome
   message MAY contain arbitrary text.  The arbitrary text MUST
   at the very least contain the name of the programming language
   used to implement the server.

   Upon receiving a 00 WELCOME message, the client may begin=20
   initiating procedures.

   Example:

       S: 00 WELCOME [ARBITRARY RESPONSE TEXT]&amp;lt;CRLF&amp;gt;


   b. RAND [n]
  =20
   Upon receiving a &amp;quot;RAND&amp;quot; request by the client, the server will
   first send a 01 OK response, and will then provide the client=20
   with [n] cryptographically random numbers within the range of=20
   0-255.  Each number MUST be followed by &amp;lt;CRLF&amp;gt;.  After the last=20
   number has been sent, the server MUST send a dot (.) on a line=20
   by itself.

   Example:

       C: RAND 3&amp;lt;CRLF&amp;gt;
       S: 01 OK&amp;lt;CRLF&amp;gt;
       S: [first random number]&amp;lt;CRLF&amp;gt;
       S: [second random number]&amp;lt;CRLF&amp;gt;
       S: [third random number]&amp;lt;CRLF&amp;gt;
       S: .&amp;lt;CRLF&amp;gt;


   c. QUINE

   Upon receiving a &amp;quot;QUINE&amp;quot; request by the client, the server wil=
l
   first send a 01 OK response, and will then provide the client
   with a quine in the programming language used to implement the
   server.  This quine does not have to be original.  After the last=20
   line of code has been sent, the server MUST send a dot (.) on a=20
   line by itself.

   Example:

       C: QUINE&amp;lt;CRLF&amp;gt;
       S: 01 OK&amp;lt;CRLF&amp;gt;
       S: [quine code]&amp;lt;CRLF&amp;gt;
       S: .&amp;lt;CRLF&amp;gt;
  =20

   d. BASE29 [n]

   Upon receiving a &amp;quot;BASE29&amp;quot; request by the client, the server wi=
ll
   send a 01 OK response followed by the number [n] converted into=20
   its base 29 representation.

   Example:

       C: BASE29 3301&amp;lt;CRLF&amp;gt;
       S: 01 OK 3QO&amp;lt;CRLF&amp;gt;


   e. CODE

   Upon receiving a &amp;quot;CODE&amp;quot; request by the client, the server will
   send a 01 OK response followed by its own source code.  After the
   last line of code has been sent, the server MUST send a dot(.) on
   a line by itself.  =20

   Example:

       C: CODE&amp;lt;CRLF&amp;gt;
       S: 01 OK&amp;lt;CRLF&amp;gt;
       S: [Server Source Code]&amp;lt;CRLF&amp;gt;
       s: .&amp;lt;CRLF&amp;gt;


   f. KOAN

   Upon receiving a &amp;quot;KOAN&amp;quot; request by the client, the server will
   send a 01 OK response followed by a koan.  After the last line of
   the koan, the server MUST send a dot (.) on a line by itself.

   Example:

       C: KOAN&amp;lt;CRLF&amp;gt;
       S: 01 OK&amp;lt;CRLF&amp;gt;
       S: A master who lived as a hermit on a mountain was asked by a&amp;lt;CR=
LF&amp;gt;
       S: monk, &amp;quot;What is the Way?&amp;lt;CRLF&amp;gt;
       S: &amp;quot;What a fine mountain this is,&amp;quot; the master said in repl=
y&amp;lt;CRLF&amp;gt;
       S: &amp;quot;I am not asking you about the mountain, but about the Way.&amp;=
lt;CRLF&amp;gt;
       S: &amp;quot;So long as you cannot go beyond the mountain, my son, you&amp;l=
t;CRLF&amp;gt;
       S: cannot reach the Way,&amp;quot; replied the master&amp;lt;CRLF&amp;gt;
       S: .


   g. DH [p]

   Upon receiving a &amp;quot;DH&amp;quot; request by the client, the server will p=
roceed
   to perform a Diffie-Hellman key exchange using [p] as the prime modulus.
   The server will then select a base [b] to use in the protocol, as well a=
s
   its secret integer.  The server will then compute its exponent result [e=
]=20
   as specified within the Diffie-Hellman key exchange protocol. =20

   The server MUST then respond with a 01 OK response followed by the=20
   selected base [b] and computed exponent [e] separated by white space.

   The client MUST respond with its exponent result [e2], and the client an=
d=20
   server will follow the rest of the Diffie-Hellman key exchange protocol.

   The server MUST then compute the resulting secret key, and provide it
   using 03 DATA [k].

   Example:

       C: DH 23&amp;lt;CRLF&amp;gt;
       S: 01 OK 5 8&amp;lt;CRLF&amp;gt;
       C: 19&amp;lt;CRLF&amp;gt;
       S: 03 DATA 2&amp;lt;CRLF&amp;gt;


   j. NEXT

   Upon receiving a &amp;quot;NEXT&amp;quot; request by the client, the server will=
 respond
   with 01 OK and then listen for text data to be provided by the client. =
=20
   The client will send a dot (.) on a line by itself after the last line=
=20
   of text.  The server MUST record this.  This data will be the next set=
=20
   of instructions.  Once the data is received the server will respond=20
   with 01 OK.=20

   Example:

       C: NEXT&amp;lt;CRLF&amp;gt;
       S: 01 OK&amp;lt;CRLF&amp;gt;
       C: -----BEGIN PGP SIGNED MESSAGE-----&amp;lt;CRLF&amp;gt;
       C: [MESSAGE CONTENTS]&amp;lt;CRLF&amp;gt;
       C: -----END PGP SIGNATURE-----&amp;lt;CRLF&amp;gt;
       C: .&amp;lt;CRLF&amp;gt;
       S: 01 OK&amp;lt;CRLF&amp;gt;


   i. GOODBYE

   Upon receiving a &amp;quot;DH&amp;quot; request by the client, the server MUST r=
espond with
   99 GOODBYE and then gracefully close the connection.

   Example:

       C: GOODBYE&amp;lt;CRLF&amp;gt;
       S: 99 GOODBYE&amp;lt;CRLF&amp;gt;


=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D&amp;quot;&lt;/span&gt;&lt;div&gt;&lt;sp=
an style=3D&quot;color:rgb(0,0,0);font-family:Consolas,&amp;#39;Lucida Console&amp;#39;,=
&amp;#39;DejaVu Sans Mono&amp;#39;,Monaco,monospace;font-size:12px;white-space:pre-=
wrap&quot;&gt;&lt;br&gt;
&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=3D&quot;color:rgb(0,0,0);font-family:Consolas,&amp;#39=
;Lucida Console&amp;#39;,&amp;#39;DejaVu Sans Mono&amp;#39;,Monaco,monospace;font-size:=
12px;white-space:pre-wrap&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style&gt;&lt;span style=3D&quot;color=
:<i>rgb(0,0,0);font-family:Consolas,&amp;#39;Lucida Console&amp;#39;,&amp;#39;DejaVu Sans =
</I>Mono&amp;#39;,Monaco,monospace;font-size:12px;white-space:pre-wrap&quot;&gt;From a sign=
ed GPG message.&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;&lt;div class=3D&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;On Sat,=
 Feb 16, 2013 at 11:53 PM, Glyph &lt;span dir=3D&quot;ltr&quot;&gt;&amp;lt;&lt;a href=3D&quot;mailto:gl=
<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">yph at twistedmatrix.com</A>&quot; target=3D&quot;_blank&quot;&gt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A>&lt;/a&gt;&amp;gt;&lt;/s=
pan&gt; wrote:&lt;br&gt;
&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;margin:0 0 0 .8ex;border-left:1p=
x #ccc solid;padding-left:1ex&quot;&gt;&lt;div style=3D&quot;word-wrap:break-word&quot;&gt;&lt;br&gt;&lt;div=
&gt;<i>&lt;div class=3D&quot;im&quot;&gt;&lt;div&gt;On Feb 16, 2013, at 1:09 PM, Adam Heller &amp;lt;&lt;a hre=
</I>f=3D&quot;mailto:<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">sk82712 at gmail.com</A>&quot; target=3D&quot;_blank&quot;&gt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">sk82712 at gmail.com</A>&lt;/a&gt;&amp;gt; =
wrote:&lt;/div&gt;
&lt;br&gt;&lt;blockquote type=3D&quot;cite&quot;&gt;&lt;div dir=3D&quot;ltr&quot;&gt;Guys,&lt;div&gt;I&amp;#39;ll try to be=
 as exact as I can be with my question, but it may end up being pretty broa=
d. (I&amp;#39;m also relatively new to python, please go easy on my code althou=
gh suggestions are of course welcome.)&lt;/div&gt;
&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;The main suggestion is &amp;quot;y=
ou can&amp;#39;t parse TCP like this&amp;quot; :). =A0You&amp;#39;ll have this problem:=
 &amp;lt;&lt;a href=3D&quot;<A HREF="http://twistedmatrix.com/trac/wiki/FrequentlyAskedQuestions=">http://twistedmatrix.com/trac/wiki/FrequentlyAskedQuestions=</A>
#Whyisprotocol.dataReceivedcalledwithonlypartofthedataIcalledtransport.writ=
ewith&quot; target=3D&quot;_blank&quot;&gt;<A HREF="http://twistedmatrix.com/trac/wiki/FrequentlyAsked=">http://twistedmatrix.com/trac/wiki/FrequentlyAsked=</A>
Questions#Whyisprotocol.dataReceivedcalledwithonlypartofthedataIcalledtrans=
port.writewith&lt;/a&gt;&amp;gt;&lt;/div&gt;
&lt;div class=3D&quot;im&quot;&gt;&lt;br&gt;&lt;blockquote type=3D&quot;cite&quot;&gt;&lt;div dir=3D&quot;ltr&quot;&gt;&lt;div&gt;The i=
ssue I&amp;#39;m running into:&lt;/div&gt;&lt;div&gt;When a user connects to the TCP server=
, they are displayed a welcome menu of things they can do. I&amp;#39;m simply c=
atching the &amp;#39;data&amp;#39; in an if statement to determine which menu item =
was picked. =A0The problem is that some of the menu items require further i=
nput. =A0I&amp;#39;ve had to use a series of bools to determine if a certain me=
nu option was previously picked that will then directly send the data into =
the function / class. =A0Is there an easier way to go about this? My curren=
t method seems a bit backwards and over complicated. =A0I&amp;#39;m thinking I =
missed something in the documentation.&lt;/div&gt;
&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote type=3D&quot;cite&quot;&gt;&lt;div dir=3D&quot;ltr=
&quot;&gt;&lt;div&gt;Anyway, here&amp;#39;s the code:=A0&lt;a href=3D&quot;<A HREF="https://infotomb.com/q4293=">https://infotomb.com/q4293=</A>
&quot; target=3D&quot;_blank&quot;&gt;<A HREF="https://infotomb.com/q4293&lt;/a">https://infotomb.com/q4293&lt;/a</A>&gt;=A0// Pass: twisted&lt;/div&gt;=
&lt;/div&gt;&lt;/blockquote&gt;
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;You should really attach the code itself to the e=
mail, so that future readers of the archive have some idea what you&amp;#39;re =
talking about. =A0Pastebins in general are not great, since the code will e=
xpire before your archived message does, and pastebins with passwords (!?) =
are even worse.&lt;/div&gt;
&lt;div class=3D&quot;im&quot;&gt;&lt;br&gt;&lt;blockquote type=3D&quot;cite&quot;&gt;&lt;div dir=3D&quot;ltr&quot;&gt;&lt;div&gt;(it w=
as part of a challenge, so to speak, don&amp;#39;t take too much out of context=
)&lt;/div&gt;
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;You can see I had trouble with next() and dh(). =A0I&amp;#3=
9;m now trying to move this TCP &amp;#39;framework&amp;#39; over to another project=
 (the above was already submitted), and I&amp;#39;m still running into the same=
 issues.&lt;/div&gt;
&lt;/div&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;You should try separating out your =
concerns a bit. =A0The protocol should just parse the bytes into something =
meaningful, then call methods on some other, higher-level object that isn&amp;#=
39;t just manipulating strings.&lt;/div&gt;
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The &amp;quot;other, higher-level object&amp;quot; in your case=
 might be a state machine of some kind, or you might just have an object re=
presenting the mode that you&amp;#39;re currently in and switch that out for di=
fferent modes.&lt;/div&gt;
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;This isn&amp;#39;t an issue with Twisted though; Twisted ju=
st calls some methods on your objects in order to tell you what happened; w=
hat happens next is up to you. =A0So it&amp;#39;s a general program architectur=
e issue.&lt;/div&gt;
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;This is very general advice, obviously, because I&amp;#39;m=
 not sure what you are specifically asking, nor what your program is really=
 intended to do. =A0What kind of client is talking to this system? =A0Did y=
ou invent the protocol yourself, or did it come from somewhere else? =A0Wha=
t is &amp;#39;dh()&amp;#39; even trying to accomplish? =A0Etc, etc.&lt;/div&gt;
&lt;span class=3D&quot;HOEnZb&quot;&gt;&lt;font color=3D&quot;#888888&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/di=
v&gt;&lt;div&gt;-glyph&lt;/div&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;br&gt;________________________________=
_______________&lt;br&gt;
Twisted-Python mailing list&lt;br&gt;
&lt;a href=3D&quot;mailto:<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>&quot;&gt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedm</A>=
atrix.com&lt;/a&gt;&lt;br&gt;
&lt;a href=3D&quot;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python=">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python=</A>
&quot; target=3D&quot;_blank&quot;&gt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twist=">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twist=</A>
ed-python&lt;/a&gt;&lt;br&gt;
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;

--20cf30334add3b384604d5e14260--

</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="026458.html">No subject
</A></li>
	<LI>Next message (by thread): <A HREF="026574.html">No subject
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26553">[ date ]</a>
              <a href="thread.html#26553">[ thread ]</a>
              <a href="subject.html#26553">[ subject ]</a>
              <a href="author.html#26553">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
