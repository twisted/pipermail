<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] git repo maintenance
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20git%20repo%20maintenance&In-Reply-To=CA%2BU%3DzK3pUjbGoq1uuXo0xT9dGuLygQ_HKF2J1-oAApw7o%3DO7yQ%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026186.html">
   <LINK REL="Next"  HREF="026170.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] git repo maintenance</H1>
    <B>Glyph</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20git%20repo%20maintenance&In-Reply-To=CA%2BU%3DzK3pUjbGoq1uuXo0xT9dGuLygQ_HKF2J1-oAApw7o%3DO7yQ%40mail.gmail.com"
       TITLE="[Twisted-Python] git repo maintenance">glyph at twistedmatrix.com
       </A><BR>
    <I>Mon Oct 22 20:45:09 EDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="026186.html">[Twisted-Python] git repo maintenance
</A></li>
        <LI>Next message: <A HREF="026170.html">[Twisted-Python] git repo maintenance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26187">[ date ]</a>
              <a href="thread.html#26187">[ thread ]</a>
              <a href="subject.html#26187">[ subject ]</a>
              <a href="author.html#26187">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Oct 22, 2012, at 4:54 PM, Kevin Horn &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">kevin.horn at gmail.com</A>&gt; wrote:

&gt;<i> On Mon, Oct 22, 2012 at 2:22 PM, Glyph &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> On Oct 22, 2012, at 10:53 AM, Kevin Horn &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">kevin.horn at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> On Sun, Oct 21, 2012 at 11:05 PM, Glyph &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A>&gt; wrote:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> For what it's worth, I haven't authored a branch for Twisted with SVN in the last 3 years.  I use Bazaar almost exclusively and I get all the fun tools one generally associates with a DVCS, including offline history and a nice graphical revision viewer.  (One reason I am concerned about migrating to Git is that this will stop working; in my opinions, Git's offline GUI tools are far worse than Bazaar's - almost as much worse as Launchpad's source browser is than Github.)
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I really wish I could figure out how to do this.  The one page on the wiki helps a bit, but is insufficient for those not already familiar with bzr (like me).  I've tried setting this up a couple of times, and I always end up just giving up on it.
</I>&gt;<i> 
</I>&gt;<i> Let me keep it super short and sweet for you:
</I>&gt;<i> 
</I>&gt;<i> C:\PROJEC~1&gt; bzr branch <A HREF="http://svn.twistedmatrix.com/bzr/Twisted/trunk">http://svn.twistedmatrix.com/bzr/Twisted/trunk</A> Twisted
</I>&gt;<i> C:\PROJEC~1&gt; cd Twisted
</I>&gt;<i> 
</I>&gt;<i> as many times as desired,
</I>&gt;<i> 
</I>&gt;<i> C:\PROJEC~1\TWISTED&gt; hack hack hack
</I>&gt;<i> C:\PROJEC~1\TWISTED&gt; C:\python27\python.exe bin\trial twisted
</I>&gt;<i> C:\PROJEC~1\TWISTED&gt; bzr commit
</I>&gt;<i> 
</I>&gt;<i> Review time!
</I>&gt;<i> 
</I>&gt;<i> C:\PROJEC~1\TWISTED&gt; bzr send -o - &gt; my.patch
</I>&gt;<i> 
</I>&gt;<i> Stick my.patch on a ticket and you're good to go.  No need for combinator, or virtualenv, or subversion (not even bzr-svn, we did that part for you), or even a C compiler, assuming the feature you're working on doesn't need one.
</I>&gt;<i> 
</I>&gt;<i> If any of this isn't covered in the wiki page then please update it.  And please feel free to ask more questions - if specific version control or workflow issues are preventing anyone from working on Twisted then it is definitely on-topic for this list and I will be happy to provide answers and update development documentation.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> See that should totally be on a wiki page someplace.
</I>&gt;<i> 
</I>&gt;<i> I'd be happy to put it up there, but I don't have edit permissions on that page (or any of them?) apparently...
</I>
You're a trac admin now.  Enjoy; don't mess anything up too bad.

&gt;<i>  
</I>&gt;&gt;<i> (and no I don't recall exactly why, except for the one time when installing bzr on windows hosed my machine and made it unbootable...not Twisted's fault of course).
</I>&gt;<i> 
</I>&gt;<i> Can we just agree that you had a virus and that this had nothing to do with anything in this thread?  Even if that's not true I think it might be long-term more mentally healthy for you to believe :-)
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Actually I know exactly why this happened, and it's because Windows has a hard limit on the number of &quot;icon overlays&quot; you can add to Explorer.  I installed TortoiseBzr along with bzr, and went over that limit.  This by itself is not such a big deal, but it turns out that the failure behavior of this particular issue is NOT BOOTING ANY MORE. (stupid Windows)
</I>&gt;<i> 
</I>&gt;<i> (FYI, I've since installed bzr again, and have had no similar problems.)
</I>&gt;<i> 
</I>&gt;<i> (also FYI, I haven't had a virus/spyware on a windows machine that I owned in more than 10 years...&lt;knock on wood&gt;...the trick is renaming the iexplore.exe executable...)
</I>&gt;<i> 
</I>&gt;<i> But aside from that, the couple of times I've tried messing around with bzr I end up going in circles in their documentation, can't decide what I should be doing, decide I don't have time to mess with it and just go back to SVN (which is painful).  Of course by that time I've usually gotten distracted and I never finish whatever it was I was working on...
</I>&gt;<i> 
</I>&gt;<i> Mostly these days I just bang my head against translating the Lore docs into Sphinx (yes, I'm _still_ working on that).
</I>
Glad to hear this is still moving along, however glacially.

&gt;&gt;<i> Unless someone applied my patch, Combinator won't work on Windows.  Also, since the great Divmod site meltdown, there's not good instructions on how to use it (aside from the wayback machine, which is what I've been using).
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I'd never heard of svnmerge.py until you mentioned it.  Are there any instructions on how to use it with Twisted?  I'm not finding any, and I'm reluctant to experiment since Twisted has a very specific way on interacting with the SVN repo.
</I>&gt;<i> 
</I>&gt;<i> I guess I should test this out myself at least once, but my understanding is that you just do svnmerge.py --bidirectional -S the-branch-you-want-to-merge in trunk.  You can test this out for yourself though, since svnmerge.py is loudly advertised as &quot;commit-free&quot;: you always have to do the commit yourself.
</I>&gt;<i> 
</I>&gt;<i> More info here: &lt;<A HREF="http://www.orcaware.com/svn/wiki/Svnmerge.py">http://www.orcaware.com/svn/wiki/Svnmerge.py</A>&gt;.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Hmmm...interesting.
</I>&gt;<i>  
</I>&gt;<i> If we can ever upgrade to a version of SVN on the server that supports merge-tracking, the need for either of these tools will go away since a plain 'svn merge ../branches/branchname' will do the right thing.  Any volunteer sysadmins want to take the opportunity to crawl out of the woodwork?  (Please?)
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I had no idea that Twisted was still using such an old version.  I was under the impression that the hackery that Combinator used was incompatible with the new merge tracking and that's why it wasn't being used (because it would screw up those still using Combinator...this assumes there are any).  If that's not true, perhaps I can take a look, though I likely wouldn't be able to devote any serious time to it until at least Mid-November.
</I>
Nope, Combinator will keep working just fine if we upgrade.  Something to do with the subversion database itself, I think.... I don't know the details.  I really don't want to get sucked into maintaining that part of the infrastructure; anyone who would agrees with me and would like to keep me focused on the parts of Twisted which actually need my particular skills and knowledge (documentation for Deferreds, especially cancellation; Tubes, reactor improvements) would be advised to volunteer :).

&gt;<i> But again: if you have trouble with this part, please just drop an email to the list and I will do it for you.  Do not let this minor step be an impediment to contributing to Twisted.
</I>&gt;<i> 
</I>&gt;<i> My _major_ impediments are 2 and 6 years old... :)  The above is at most a _minor_ impediment.  But even minor impediments can drive away new developers, which I assume is not what we want.
</I>
Actually, we have tons of patches in the queue to review.  The main thing right now is not attracting new developers, but convincing developers who are already active in the project to do code review.  If every developer with a commit bit did one code review every week, I believe we'd be in great shape right now in terms of both the number of features being added, bugs being fixed, and the experience of the average new contributor.

Of course, that would itself attract more contributors until we reached the equilibrium of tickets hanging out for months with no reviews again ;-).  But we'd be getting hundreds more tickets into a state where they can make progress.

I think we can all agree, though, that the most frustrating part of this whole process is the waiting.  If code reviews were all instantaneous, it would be a lot less grating to have to deal with our respective pet peeves in the version control or ticket tracking infrastructure.

So please, if you're qualified to do code reviews for Twisted, hop on #twisted-dev and try to do just one a week.  It would make a _huge_ difference.

&gt;&gt;<i> Presumably you could use Mercurial with the hggit plugin against a git repo, but you can't use it directly against the SVN repo, as it has a bad commit in it that hgsubversion totally chokes on: <A HREF="https://bitbucket.org/durin42/hgsubversion/issue/350">https://bitbucket.org/durin42/hgsubversion/issue/350</A> 
</I>&gt;<i> 
</I>&gt;<i> Sadness.  Hopefully this renewed attention will get the mercurial folks to fix this bug sooner?  Thanks for filing it.
</I>&gt;<i> 
</I>&gt;<i> De nada...it was entirely self-interest-driven though. :)
</I>
Let's hope it pays off.

&gt;&gt;<i> 
</I>&gt;&gt;<i> Trac has never really bothered me that much. Yes, occasionally it will do something stupid, and it's...not fast, but I guess I'm just used to the pain.  I'm looking forward to Frack, though.
</I>&gt;<i> 
</I>&gt;<i> Great, glad to hear it.
</I>&gt;<i> 
</I>&gt;<i> By the way, if you've been shying away because it's slow, you should know that we did recently fix a major performance problem with the website.  Bots were running amok on some very CPU and memory intensive requests, and robots.txt was not deployed correctly so it wasn't reducing any of the traffic as it should have.  At the most recent sprint nobody complained about being unable to work because of the website falling over, which indicates that some of our more dire problems are now under control.
</I>&gt;<i> 
</I>&gt;<i> -glyph
</I>&gt;<i> 
</I>&gt;<i> I haven't noticed any real problems with it since the grand trac revamp a couple years ago, when Twisted's Trac instance became mostly stable.  Granted I'm not in there every day like some are...
</I>
Well, personally, I can tell you it's way better than it was a few months ago ;-).

-g
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20121022/8b16923b/attachment.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20121022/8b16923b/attachment.htm</A> 
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026186.html">[Twisted-Python] git repo maintenance
</A></li>
	<LI>Next message: <A HREF="026170.html">[Twisted-Python] git repo maintenance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26187">[ date ]</a>
              <a href="thread.html#26187">[ thread ]</a>
              <a href="subject.html#26187">[ subject ]</a>
              <a href="author.html#26187">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
