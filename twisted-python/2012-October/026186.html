<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] git repo maintenance
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20git%20repo%20maintenance&In-Reply-To=176D327E-FA4F-4774-BA32-D56A83EDA73A%40twistedmatrix.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026179.html">
   <LINK REL="Next"  HREF="026187.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] git repo maintenance</H1>
    <B>Kevin Horn</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20git%20repo%20maintenance&In-Reply-To=176D327E-FA4F-4774-BA32-D56A83EDA73A%40twistedmatrix.com"
       TITLE="[Twisted-Python] git repo maintenance">kevin.horn at gmail.com
       </A><BR>
    <I>Mon Oct 22 19:54:46 EDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="026179.html">[Twisted-Python] git repo maintenance
</A></li>
        <LI>Next message: <A HREF="026187.html">[Twisted-Python] git repo maintenance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26186">[ date ]</a>
              <a href="thread.html#26186">[ thread ]</a>
              <a href="subject.html#26186">[ subject ]</a>
              <a href="author.html#26186">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Oct 22, 2012 at 2:22 PM, Glyph &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A>&gt; wrote:

&gt;<i>
</I>&gt;<i> On Oct 22, 2012, at 10:53 AM, Kevin Horn &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">kevin.horn at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Sun, Oct 21, 2012 at 11:05 PM, Glyph &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> For what it's worth, I haven't authored a branch for Twisted with SVN in
</I>&gt;&gt;<i> the last 3 years.  I use Bazaar almost exclusively and I get all the fun
</I>&gt;&gt;<i> tools one generally associates with a DVCS, including offline history and a
</I>&gt;&gt;<i> nice graphical revision viewer.  (One reason I am concerned about migrating
</I>&gt;&gt;<i> to Git is that this will stop working; in my opinions, Git's offline GUI
</I>&gt;&gt;<i> tools are far worse than Bazaar's - almost as much worse as Launchpad's
</I>&gt;&gt;<i> source browser is than Github.)
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I really wish I could figure out how to do this.  The one page on the wiki
</I>&gt;<i> helps a bit, but is insufficient for those not already familiar with bzr
</I>&gt;<i> (like me).  I've tried setting this up a couple of times, and I always end
</I>&gt;<i> up just giving up on it.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Let me keep it super short and sweet for you:
</I>&gt;<i>
</I>&gt;<i> C:\PROJEC~1&gt; bzr branch <A HREF="http://svn.twistedmatrix.com/bzr/Twisted/trunkTwisted">http://svn.twistedmatrix.com/bzr/Twisted/trunkTwisted</A>
</I>&gt;<i> C:\PROJEC~1&gt; cd Twisted
</I>&gt;<i>
</I>&gt;<i> as many times as desired,
</I>&gt;<i>
</I>&gt;<i> C:\PROJEC~1\TWISTED&gt; hack hack hack
</I>&gt;<i>
</I>&gt;<i> C:\PROJEC~1\TWISTED&gt; C:\python27\python.exe bin\trial twisted
</I>&gt;<i>
</I>&gt;<i> C:\PROJEC~1\TWISTED&gt; bzr commit
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Review time!
</I>&gt;<i>
</I>&gt;<i> C:\PROJEC~1\TWISTED&gt; bzr send -o - &gt; my.patch
</I>&gt;<i>
</I>&gt;<i> Stick my.patch on a ticket and you're good to go.  No need for combinator,
</I>&gt;<i> or virtualenv, or subversion (not even bzr-svn, we did that part for you),
</I>&gt;<i> or even a C compiler, assuming the feature you're working on doesn't need
</I>&gt;<i> one.
</I>&gt;<i>
</I>&gt;<i> If any of this isn't covered in the wiki page then please update it.  And
</I>&gt;<i> please feel free to ask more questions - if specific version control or
</I>&gt;<i> workflow issues are preventing anyone from working on Twisted then it is
</I>&gt;<i> definitely on-topic for this list and I will be happy to provide answers
</I>&gt;<i> and update development documentation.
</I>&gt;<i>
</I>&gt;<i>
</I>See that should totally be on a wiki page someplace.

I'd be happy to put it up there, but I don't have edit permissions on that
page (or any of them?) apparently...


&gt;<i> (and no I don't recall exactly why, except for the one time when
</I>&gt;<i> installing bzr on windows hosed my machine and made it unbootable...not
</I>&gt;<i> Twisted's fault of course).
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Can we just agree that you had a virus and that this had nothing to do
</I>&gt;<i> with anything in this thread?  Even if that's not true I think it might be
</I>&gt;<i> long-term more mentally healthy for you to believe :-)
</I>&gt;<i>
</I>&gt;<i>
</I>Actually I know exactly why this happened, and it's because Windows has a
hard limit on the number of &quot;icon overlays&quot; you can add to Explorer.  I
installed TortoiseBzr along with bzr, and went over that limit.  This by
itself is not such a big deal, but it turns out that the failure behavior
of this particular issue is NOT BOOTING ANY MORE. (stupid Windows)

(FYI, I've since installed bzr again, and have had no similar problems.)

(also FYI, I haven't had a virus/spyware on a windows machine that I owned
in more than 10 years...&lt;knock on wood&gt;...the trick is renaming the
iexplore.exe executable...)

But aside from that, the couple of times I've tried messing around with bzr
I end up going in circles in their documentation, can't decide what I
should be doing, decide I don't have time to mess with it and just go back
to SVN (which is painful).  Of course by that time I've usually gotten
distracted and I never finish whatever it was I was working on...

Mostly these days I just bang my head against translating the Lore docs
into Sphinx (yes, I'm _still_ working on that).

Unless someone applied my patch, Combinator won't work on Windows.  Also,
&gt;<i> since the great Divmod site meltdown, there's not good instructions on how
</I>&gt;<i> to use it (aside from the wayback machine, which is what I've been using).
</I>&gt;<i>
</I>&gt;<i> I'd never heard of svnmerge.py until you mentioned it.  Are there any
</I>&gt;<i> instructions on how to use it with Twisted?  I'm not finding any, and I'm
</I>&gt;<i> reluctant to experiment since Twisted has a very specific way on
</I>&gt;<i> interacting with the SVN repo.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I guess I should test this out myself at least once, but my understanding
</I>&gt;<i> is that you just do svnmerge.py --bidirectional -S
</I>&gt;<i> the-branch-you-want-to-merge in trunk.  You can test this out for yourself
</I>&gt;<i> though, since svnmerge.py is loudly advertised as &quot;commit-free&quot;: you always
</I>&gt;<i> have to do the commit yourself.
</I>&gt;<i>
</I>&gt;<i> More info here: &lt;<A HREF="http://www.orcaware.com/svn/wiki/Svnmerge.py">http://www.orcaware.com/svn/wiki/Svnmerge.py</A>&gt;.
</I>&gt;<i>
</I>&gt;<i>
</I>Hmmm...interesting.


&gt;<i> If we can ever upgrade to a version of SVN on the server that supports
</I>&gt;<i> merge-tracking, the need for either of these tools will go away since a
</I>&gt;<i> plain 'svn merge ../branches/branchname' will do the right thing.  Any
</I>&gt;<i> volunteer sysadmins want to take the opportunity to crawl out of the
</I>&gt;<i> woodwork?  (Please?)
</I>&gt;<i>
</I>&gt;<i>
</I>I had no idea that Twisted was still using such an old version.  I was
under the impression that the hackery that Combinator used was incompatible
with the new merge tracking and that's why it wasn't being used (because it
would screw up those still using Combinator...this assumes there are any).
 If that's not true, perhaps I can take a look, though I likely wouldn't be
able to devote any serious time to it until at least Mid-November.


&gt;<i> But again: if you have trouble with this part, please just drop an email
</I>&gt;<i> to the list and I will do it for you.  Do not let this minor step be an
</I>&gt;<i> impediment to contributing to Twisted.
</I>&gt;<i>
</I>
My _major_ impediments are 2 and 6 years old... :)  The above is at most a
_minor_ impediment.  But even minor impediments can drive away new
developers, which I assume is not what we want.

Presumably you could use Mercurial with the hggit plugin against a git
&gt;&gt;<i> repo, but you can't use it directly against the SVN repo, as it has a bad
</I>&gt;&gt;<i> commit in it that hgsubversion totally chokes on:
</I>&gt;&gt;<i> <A HREF="https://bitbucket.org/durin42/hgsubversion/issue/350">https://bitbucket.org/durin42/hgsubversion/issue/350</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Sadness.  Hopefully this renewed attention will get the mercurial folks to
</I>&gt;<i> fix this bug sooner?  Thanks for filing it.
</I>&gt;<i>
</I>
De nada...it was entirely self-interest-driven though. :)

&gt;<i>
</I>&gt;<i> Trac has never really bothered me that much. Yes, occasionally it will do
</I>&gt;<i> something stupid, and it's...not fast, but I guess I'm just used to the
</I>&gt;<i> pain.  I'm looking forward to Frack, though.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Great, glad to hear it.
</I>&gt;<i>
</I>&gt;<i> By the way, if you've been shying away because it's slow, you should know
</I>&gt;<i> that we did recently fix a major performance problem with the website.
</I>&gt;<i>  Bots were running amok on some very CPU and memory intensive requests, and
</I>&gt;<i> robots.txt was not deployed correctly so it wasn't reducing any of the
</I>&gt;<i> traffic as it should have.  At the most recent sprint nobody complained
</I>&gt;<i> about being unable to work because of the website falling over, which
</I>&gt;<i> indicates that some of our more dire problems are now under control.
</I>&gt;<i>
</I>&gt;<i> -glyph
</I>&gt;<i>
</I>
I haven't noticed any real problems with it since the grand trac revamp a
couple years ago, when Twisted's Trac instance became mostly stable.
 Granted I'm not in there every day like some are...

--
Kevin Horn
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20121022/ea949c84/attachment-0001.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20121022/ea949c84/attachment-0001.htm</A> 
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026179.html">[Twisted-Python] git repo maintenance
</A></li>
	<LI>Next message: <A HREF="026187.html">[Twisted-Python] git repo maintenance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26186">[ date ]</a>
              <a href="thread.html#26186">[ thread ]</a>
              <a href="subject.html#26186">[ subject ]</a>
              <a href="author.html#26186">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
