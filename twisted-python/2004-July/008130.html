<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Notes on switching twisted to new zope.interface	code
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Notes%20on%20switching%20twisted%20to%20new%20zope.interface%0A%09code&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008129.html">
   <LINK REL="Next"  HREF="008131.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Notes on switching twisted to new zope.interface	code</H1>
    <B>Itamar Shtull-Trauring</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Notes%20on%20switching%20twisted%20to%20new%20zope.interface%0A%09code&In-Reply-To="
       TITLE="[Twisted-Python] Notes on switching twisted to new zope.interface	code">itamar at itamarst.org
       </A><BR>
    <I>Sun Jul 18 22:39:24 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="008129.html">[Twisted-Python] PB - Dual Use Objects?
</A></li>
        <LI>Next message: <A HREF="008131.html">[Twisted-Python] Re: Notes on switching twisted to new	zope.interface code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8130">[ date ]</a>
              <a href="thread.html#8130">[ thread ]</a>
              <a href="subject.html#8130">[ subject ]</a>
              <a href="author.html#8130">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>1. Switch classes from:

  class C:
      __implements__ = IFoo,

to:

  class C:
      zope.interface.implements(IFoo)

and if you have third party subclasses that may depend on C having
__implements__, also add:

  twisted.python.components.backwardsCompatImplements(C)


2. Using zope.interface APIs directly is better, e.g. IFoo.providedBy(o)
rather than components.implements(o, IFoo). But! If the object is third
party, it may be using __implements__, and if the class never got
processed by t.p.c it will not be hooked up to zope.interface at all.
So, you may want to do:

   t.p.componets.fixClassImplements(o.__class__)

this will make sure that __implements__ declarations get converted to
new style implements declarations.

3. Basically all of t.p.c is deprecated except for registerAdapter and
the other APIs that talk to registry. Componentized is not, in theory,
but hopefully will be replaced soon.

-- 
Itamar Shtull-Trauring    <A HREF="http://itamarst.org">http://itamarst.org</A>




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008129.html">[Twisted-Python] PB - Dual Use Objects?
</A></li>
	<LI>Next message: <A HREF="008131.html">[Twisted-Python] Re: Notes on switching twisted to new	zope.interface code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8130">[ date ]</a>
              <a href="thread.html#8130">[ thread ]</a>
              <a href="subject.html#8130">[ subject ]</a>
              <a href="author.html#8130">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
