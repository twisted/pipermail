<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Max number of simultaneous TCP connection 
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Max%20number%20of%20simultaneous%20TCP%20connection%20&In-Reply-To=20040705064959.15547.qmail%40hk.sina.com.hk">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008080.html">
   <LINK REL="Next"  HREF="008082.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Max number of simultaneous TCP connection </H1>
    <B>James Y Knight</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Max%20number%20of%20simultaneous%20TCP%20connection%20&In-Reply-To=20040705064959.15547.qmail%40hk.sina.com.hk"
       TITLE="[Twisted-Python] Max number of simultaneous TCP connection ">foom at fuhm.net
       </A><BR>
    <I>Tue Jul  6 12:49:51 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="008080.html">[Twisted-Python] Max number of simultaneous TCP connection
</A></li>
        <LI>Next message: <A HREF="008082.html">[Twisted-Python] Spread or SOAP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8086">[ date ]</a>
              <a href="thread.html#8086">[ thread ]</a>
              <a href="subject.html#8086">[ subject ]</a>
              <a href="author.html#8086">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Jul 5, 2004, at 2:49 AM, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">klcheung0829 at sinaman.com</A> wrote:
&gt;<i> Is there a maximum number of simultaneous connection for the 
</I>&gt;<i> TCPServer?  I already set the ulimit -n 10000.  But it fails to accept 
</I>&gt;<i> connection once it reaches about 1024.  Any way to increase it ?
</I>
This is a limit on the select() system call, which twisted uses in its 
default reactor. The maximum is changable via a #define (for C code), 
but you'd have to recompile python to do that. Fortunately, twisted 
includes a poll-based reactor, which doesn't have this limit. Use 
&quot;twistd --reactor=poll&quot;.

BTW, the python poll API is such that epoll support could be added with 
no python-level API change. The python poll() object already uses add 
and remove methods with no way to read back the current list, so 
changing it to maintain the state in the kernel instead of in userspace 
should be pretty easy.

James



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008080.html">[Twisted-Python] Max number of simultaneous TCP connection
</A></li>
	<LI>Next message: <A HREF="008082.html">[Twisted-Python] Spread or SOAP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8086">[ date ]</a>
              <a href="thread.html#8086">[ thread ]</a>
              <a href="subject.html#8086">[ subject ]</a>
              <a href="author.html#8086">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
