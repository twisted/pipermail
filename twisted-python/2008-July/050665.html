<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Writing new transports / a tunnel Protocol
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Writing%20new%20transports%20/%20a%20tunnel%20Protocol&In-Reply-To=%3C3a05072b0807270228o3cde79aage7bff5f5e41f3994%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="050673.html">
   <LINK REL="Next"  HREF="050666.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Writing new transports / a tunnel Protocol</H1>
    <B>Michael Carter</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Writing%20new%20transports%20/%20a%20tunnel%20Protocol&In-Reply-To=%3C3a05072b0807270228o3cde79aage7bff5f5e41f3994%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Writing new transports / a tunnel Protocol">cartermichael at gmail.com
       </A><BR>
    <I>Sun Jul 27 03:28:37 MDT 2008</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="050673.html">[Twisted-Python] C or Objective-C AMP?
</A></li>
        <LI>Next message (by thread): <A HREF="050666.html">[Twisted-Python] Writing new transports / a tunnel Protocol
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50665">[ date ]</a>
              <a href="thread.html#50665">[ thread ]</a>
              <a href="subject.html#50665">[ subject ]</a>
              <a href="author.html#50665">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I'm hoping to use existing protocol implementations in twisted, but over a
custom tunneling protocol that I'll call CTP for the remainder of this
thread. CTP is basically TCP with a couple of strange characteristics.
Besides a custom handshake, two actual tcp connections are used for the data
transport, each of which is considered uni-directional; one connection is
used for &quot;upstream&quot; and one for &quot;downstream&quot;.

I know how to create a twisted factory / protocol implementation for CTP
such that you could write a CTP based protocol by inheriting from
CTPProtocol and overriding the &quot;dataRead&quot; function. But this means I have to
do more work to get each existing twisted protocol working with my CTP
implementation.

So my question is, what is the best way to take an implementation of this
protocol and integrate it tightly with twisted's internals? It seems like I
would need a new reactor implementation with a listenCTP function, for one.
Of course, I wouldn't want to just inherit from the SelectReactor, because I
want to be able to use Epoll (or others) as well.

Please excuse my ignorance of twisted's architecture. I already have a
prototype of this (see orbited 0.5.x) but I want my next release to
integrate tightly with twisted's infrastructure instead of re-inventing an
API on top.

-Michael Carter
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20080727/a6b2cc71/attachment.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="050673.html">[Twisted-Python] C or Objective-C AMP?
</A></li>
	<LI>Next message (by thread): <A HREF="050666.html">[Twisted-Python] Writing new transports / a tunnel Protocol
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50665">[ date ]</a>
              <a href="thread.html#50665">[ thread ]</a>
              <a href="subject.html#50665">[ subject ]</a>
              <a href="author.html#50665">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
