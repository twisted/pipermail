<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] twisted and functional programming idioms
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20twisted%20and%20functional%20programming%20idioms&In-Reply-To=%3COF4CC5FE74.368A46BA-ON87257482.0004E186-87257482.0007F094%40mck.us.ray.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="050584.html">
   <LINK REL="Next"  HREF="050589.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] twisted and functional programming idioms</H1>
    <B>Rodney D Price</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20twisted%20and%20functional%20programming%20idioms&In-Reply-To=%3COF4CC5FE74.368A46BA-ON87257482.0004E186-87257482.0007F094%40mck.us.ray.com%3E"
       TITLE="[Twisted-Python] twisted and functional programming idioms">rodprice at raytheon.com
       </A><BR>
    <I>Wed Jul  9 19:26:44 MDT 2008</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="050584.html">[Twisted-Python] deferToThread in unittest (trial)?
</A></li>
        <LI>Next message (by thread): <A HREF="050589.html">[Twisted-Python] twisted and functional programming idioms
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50587">[ date ]</a>
              <a href="thread.html#50587">[ thread ]</a>
              <a href="subject.html#50587">[ subject ]</a>
              <a href="author.html#50587">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm just getting started with Twisted, and trying to find
my way around.  I've done quite a bit of functional 
programming (Haskell), where recursion is a very
common idiom.  I keep finding myself heading in that
direction as I try to understand how to use Twisted.
For example, if I wanted to write a loop in Haskell
that woke up once a second and did something, I
might write

main = heartbeat
heartbeat = do
  sleep 1000
  doSomething
  heartbeat

This code first sleeps for one second, then does
something, then calls itself.  (The Haskell compiler
knows how to keep the stack from overflowing here,
in case anyone is wondering.)

So if I wanted to do something similar in Twisted,
my first inclination is to use callLater,

def heartbeat(reactor):
    doSomething()
    reactor.callLater(1, heartbeat, reactor)
reactor.run()

But then my head starts hurting, because I keep 
thinking that I have to set up all the callbacks
before I start the reactor.  This code sets callbacks 
at runtime.  Will that be a problem?

-Rod

P.S.  I know there's probably a function somewhere
in Twisted to do this already, but I'm not asking how
to do this particular thing.  I'm really asking if thinking
in terms of recursion is a useful Twisted idiom.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20080709/f97116ff/attachment.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="050584.html">[Twisted-Python] deferToThread in unittest (trial)?
</A></li>
	<LI>Next message (by thread): <A HREF="050589.html">[Twisted-Python] twisted and functional programming idioms
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50587">[ date ]</a>
              <a href="thread.html#50587">[ thread ]</a>
              <a href="subject.html#50587">[ subject ]</a>
              <a href="author.html#50587">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
