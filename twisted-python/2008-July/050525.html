<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Tie two event loops
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Tie%20two%20event%20loops&In-Reply-To=%3C3c3d11cf0807020746k3615323esfa4f049c97216ffb%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="050534.html">
   <LINK REL="Next"  HREF="050529.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Tie two event loops</H1>
    <B>Paul Wilson</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Tie%20two%20event%20loops&In-Reply-To=%3C3c3d11cf0807020746k3615323esfa4f049c97216ffb%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Tie two event loops">paulalexwilson at gmail.com
       </A><BR>
    <I>Wed Jul  2 08:46:05 MDT 2008</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="050534.html">[Twisted-Python] stopping daemon started via twistd
</A></li>
        <LI>Next message (by thread): <A HREF="050529.html">[Twisted-Python] Tie two event loops
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50525">[ date ]</a>
              <a href="thread.html#50525">[ thread ]</a>
              <a href="subject.html#50525">[ subject ]</a>
              <a href="author.html#50525">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

I'm new to twisted but am having trouble getting my head around how to
structure my application with this new approach.

I'm creating a server that accepts client connections and then drives
the client according to a simple, line-oriented protocol. The server
sends the request (1 line), and receives a single lined result. I'd
like the server to offer an API to generate the correct request lines
to the client, and return the results (either blocking or
asynchronously). So in effect, I have two event loops, one from the
Network and one from whatever's sending the API requests (command
line?).

Can anyone offer any guidance on how to tie these two parts together?
My instinct is to have the two event loops in separate threads and
communicate through Queue.Queue, but that doesn't seem to follow the
spirit of twisted. And I guess I'd have to somehow tell the reactor to
poll the Queue object for requests, and then dispatch it to the
relevant method to send out to the client. I've looked at
threadedselectreactor but can't seem to find any decent documentation
to even decide if it's write for what I want.

Any advice would be much appreciated.

Thanks,
Paul


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="050534.html">[Twisted-Python] stopping daemon started via twistd
</A></li>
	<LI>Next message (by thread): <A HREF="050529.html">[Twisted-Python] Tie two event loops
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#50525">[ date ]</a>
              <a href="thread.html#50525">[ thread ]</a>
              <a href="subject.html#50525">[ subject ]</a>
              <a href="author.html#50525">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
