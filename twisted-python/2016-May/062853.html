<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Persuading Python's Logging to use	twisted.logger
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Persuading%20Python%27s%20Logging%20to%20use%0A%09twisted.logger&In-Reply-To=%3CCADzPF4vyNg6M28cC1kWsNofRUJmJynC564_c%2BA3QUSA_LHNidA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="062799.html">
   <LINK REL="Next"  HREF="062855.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Persuading Python's Logging to use	twisted.logger</H1>
    <B>Daniel Sutcliffe</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Persuading%20Python%27s%20Logging%20to%20use%0A%09twisted.logger&In-Reply-To=%3CCADzPF4vyNg6M28cC1kWsNofRUJmJynC564_c%2BA3QUSA_LHNidA%40mail.gmail.com%3E"
       TITLE="[Twisted-Python] Persuading Python's Logging to use	twisted.logger">dansut at gmail.com
       </A><BR>
    <I>Tue May 24 17:10:56 MDT 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="062799.html">[Twisted-Python] Persuading Python's Logging to use	twisted.logger
</A></li>
        <LI>Next message (by thread): <A HREF="062855.html">[Twisted-Python] Persuading Python's Logging to use	twisted.logger
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#62853">[ date ]</a>
              <a href="thread.html#62853">[ thread ]</a>
              <a href="subject.html#62853">[ subject ]</a>
              <a href="author.html#62853">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On May 10, 2016, at 4:23 PM, Daniel Sutcliffe &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">dansut at gmail.com</A>&gt; wrote:
&gt;&gt;<i> Thanks for all the hints and suggestions guys, this was far simpler
</I>&gt;&gt;<i> than I thought it would be and the results are exactly what I imagined
</I>&gt;&gt;<i> without too much effort.
</I>
On Sat, May 21, 2016 at 9:44 PM, Glyph &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A>&gt; wrote:
&gt;<i> Fantastic!
</I>
[...]
&gt;&gt;<i> Glyph: The code below is I'm sure far from perfect, and it doesn't
</I>&gt;&gt;<i> take your advice and convert the msg into a twisted format string, it
</I>&gt;&gt;<i> takes the simpler approach of letting the Logging record pre-format
</I>&gt;&gt;<i> using the getMessage() method. I'm sure there are loads of edge cases
</I>&gt;&gt;<i> it could cope with better with maybe it is a start of something that
</I>&gt;&gt;<i> could be included in Twisted.
</I>&gt;<i>
</I>&gt;<i> The main reason I wanted to do the format-string translation is that it would allow the key/value pairs to be stored according to the same idiom that Twisted uses, and therefore be serialized to jsonFileLogObserver and consequently things like LogStash / ElasticSearch.
</I>
I kept the format-string args within a dictionary under the args kwarg
to emit() for exactly the reasons you gave above but felt that
translating a %-encoded string into the new-style that twisted.logger
uses was likely to make the example much more complicated, and was
frankly beyond my limited needs. There's probably a simple way to do
this in Python that I am not aware of yet though...

[...]
&gt;&gt;<i> But hopefully this all makes sense and this can be a start of
</I>&gt;&gt;<i> something much more generically useful.
</I>&gt;<i>
</I>&gt;<i> Yep!  This is definitely something handy.  Would you mind filing an issue for it?
</I>
I've created issue #8358 <A HREF="https://twistedmatrix.com/trac/ticket/8358">https://twistedmatrix.com/trac/ticket/8358</A>
Which is hopefully what you were after - spent a bunch of time reading
your impressive process and standards docs so I'm already sure that
anything that finds itself in Twisted from this will probably be quite
significantly different to this initial suggestion but I don't mind a
bit of learning if someone is willing to give me a bit of mentoring me
to get this into shape so it can be done as a PR.

Cheers
/dan
-- 
Daniel Sutcliffe &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">dansut at gmail.com</A>&gt;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="062799.html">[Twisted-Python] Persuading Python's Logging to use	twisted.logger
</A></li>
	<LI>Next message (by thread): <A HREF="062855.html">[Twisted-Python] Persuading Python's Logging to use	twisted.logger
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#62853">[ date ]</a>
              <a href="thread.html#62853">[ thread ]</a>
              <a href="subject.html#62853">[ subject ]</a>
              <a href="author.html#62853">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
