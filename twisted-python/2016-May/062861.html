<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Need clarification on reviews for Python 3	fixes for Twisted
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Need%20clarification%20on%20reviews%20for%20Python%203%0A%09fixes%20for%20Twisted&In-Reply-To=%3CB5608293-AF76-4438-8E16-84C1979E5D69%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="062860.html">
   <LINK REL="Next"  HREF="062862.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Need clarification on reviews for Python 3	fixes for Twisted</H1>
    <B>Glyph</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Need%20clarification%20on%20reviews%20for%20Python%203%0A%09fixes%20for%20Twisted&In-Reply-To=%3CB5608293-AF76-4438-8E16-84C1979E5D69%40twistedmatrix.com%3E"
       TITLE="[Twisted-Python] Need clarification on reviews for Python 3	fixes for Twisted">glyph at twistedmatrix.com
       </A><BR>
    <I>Sat May 28 01:48:31 MDT 2016</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="062860.html">[Twisted-Python] Need clarification on reviews for Python 3	fixes for Twisted
</A></li>
        <LI>Next message (by thread): <A HREF="062862.html">[Twisted-Python] Need clarification on reviews for Python 3 fixes for Twisted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#62861">[ date ]</a>
              <a href="thread.html#62861">[ thread ]</a>
              <a href="subject.html#62861">[ subject ]</a>
              <a href="author.html#62861">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> On May 27, 2016, at 13:46, Glyph &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> On May 27, 2016, at 06:31, Adi Roiban &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">adi at roiban.ro</A> &lt;mailto:<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">adi at roiban.ro</A>&gt;&gt; wrote:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> On 27 May 2016 at 13:13, Itamar Turner-Trauring &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">itamar at itamarst.org</A> &lt;mailto:<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">itamar at itamarst.org</A>&gt;&gt; wrote:
</I>&gt;&gt;<i> 2. They're doing one particular incompatibility at a time, rather than &quot;here's an assortment of random changes to a module that may or may not port that module fully, who knows.&quot;
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Some code parts don't have python 2.7 coverage . 
</I>&gt;&gt;<i> Is is still acceptable to touch that code ? :)
</I>&gt;<i> 
</I>&gt;<i> No.  Test coverage is how we know that the behavior is the same on both versions of Python and we're not just hoping that it is.
</I>
I was on a plane when I wrote this, and it may have been a bit overly terse.  Let me expand a little bit.

The lines of code in a diff must be covered.  However, if one is porting, let's say, a 2000-line module with no test coverage to be importable under python 3, and 8 lines of code in that module need to change, *only those 8 lines must be covered*.  Obviously, the tests should be as reasonable as possible and should not do anything too evil and gross to get those lines covered, but the author of the change hitting those lines is not responsible for a ground-up comprehensive test suite design for the entire module.  They just need to write the bare minimum test coverage to ensure their changes are covered at all.  If you're making syntax changes, you also don't need to worry about getting those tests to actually pass on python3; it would be great to make smaller, individual changes which do the syntax first, then later actually start adding tests to the py3 suite.

So please don't take this requirement for test coverage to mean that you have to embark on a major project to land these syntax fixes.  It would be great to have syntax fixes like this, and a bare minimum of very simple test coverage, just enough to exercise the lines in question, is perfectly adequate for such a small mechanical change.

-glyph

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20160528/fab68390/attachment-0002.html&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="062860.html">[Twisted-Python] Need clarification on reviews for Python 3	fixes for Twisted
</A></li>
	<LI>Next message (by thread): <A HREF="062862.html">[Twisted-Python] Need clarification on reviews for Python 3 fixes for Twisted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#62861">[ date ]</a>
              <a href="thread.html#62861">[ thread ]</a>
              <a href="subject.html#62861">[ subject ]</a>
              <a href="author.html#62861">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
