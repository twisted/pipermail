<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Linking between twisted.web resources.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Linking%20between%20twisted.web%20resources.&In-Reply-To=%3C20010304131232.A3020%40Fookidla.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   
   <LINK REL="Next"  HREF="032514.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Linking between twisted.web resources.</H1>
    <B>Chris Armstrong</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Linking%20between%20twisted.web%20resources.&In-Reply-To=%3C20010304131232.A3020%40Fookidla.org%3E"
       TITLE="[Twisted-Python] Linking between twisted.web resources.">carmstro at dynup.net
       </A><BR>
    <I>Sun Mar  4 11:12:33 MST 2001</I>
    <P><UL>
        
        <LI>Next message (by thread): <A HREF="032514.html">[Twisted-Python] some demo scripts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32513">[ date ]</a>
              <a href="thread.html#32513">[ thread ]</a>
              <a href="subject.html#32513">[ subject ]</a>
              <a href="author.html#32513">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've come to the conclusion that linking in twisted.web is way too complicated.
Here's an idea: how about keeping track of certain resource's paths so
resources under it can link back to it? 

I just typed the following code as I wrote the email, so there are probably
minor bugs, but you should get the idea.

class MySite(Interface):
	def __init__(self):
		Interface.__init__(self)
		self.putChild(&quot;FooBar&quot;, FooBar())
		registerPath() #imaginary function
		
	def render(self, request):
		return self.webpage(request, 'MySite', 
		'''
		Hi there! welcome to my neato site!&lt;br&gt;
		&lt;a href=&quot;FooBar&quot;&gt;Go here!&lt;/a&gt;
		'''
		)

class FooBar(Interface):
	def __init__(self):
		Interface.__init__(self)
	def render(self, request)
		return self.webpage(request, 'FooBar',
		'''
		Hi! This is FooBar. Would you like to go back to my
		&lt;a href=&quot;%s&quot;&gt;Main Site?&lt;/a&gt;
		''' % LinkMe('MySite')
		)

So, we have registerPath() and LinkMe(). I'm sure it won't be
as simple as this, but I do think it should be possible. The main problem
we have is handling multiple instances of MySite. During instantiation of
MySite, when registerPath() is called, some external data source will be 
updated with MySite, the path that it's instantiated to, and some sort of
ID. Then, somehow, when we want to link to this, we use the LinkMe function.
The paramaters will probably need to be the ID and the name of the resource.
With this LinkMe design, Resources of completely unrelated sections of
the site (ie, resources not under MySite) will be able to link to it
without even knowing the path.

I know there are many many holes in this idea (for instance, how will resources
that want to LinkMe get the ID of the resources to be linked to?), but I 
really think something like this is needed. Any thoughts?

-- 
Chris Armstrong   <A HREF="http://twistedmatrix.com/~carmstro">http://twistedmatrix.com/~carmstro</A>     <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">carmstro at dynup.net</A>
There is a 90% chance that this message was written when the author's been
awake longer than he should have. Please disregard any senseless drivel.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message (by thread): <A HREF="032514.html">[Twisted-Python] some demo scripts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32513">[ date ]</a>
              <a href="thread.html#32513">[ thread ]</a>
              <a href="subject.html#32513">[ subject ]</a>
              <a href="author.html#32513">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
