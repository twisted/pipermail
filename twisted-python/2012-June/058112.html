<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Catching error in	protocol.ReconnectingClientFactory
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Catching%20error%20in%0A%09protocol.ReconnectingClientFactory&In-Reply-To=%3C4FD9CD44.1030102%40webscio.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="058109.html">
   <LINK REL="Next"  HREF="058114.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Catching error in	protocol.ReconnectingClientFactory</H1>
    <B>Martin</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Catching%20error%20in%0A%09protocol.ReconnectingClientFactory&In-Reply-To=%3C4FD9CD44.1030102%40webscio.net%3E"
       TITLE="[Twisted-Python] Catching error in	protocol.ReconnectingClientFactory">martin at webscio.net
       </A><BR>
    <I>Thu Jun 14 05:38:44 MDT 2012</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="058109.html">[Twisted-Python] Catching error in	protocol.ReconnectingClientFactory
</A></li>
        <LI>Next message (by thread): <A HREF="058114.html">[Twisted-Python] Catching error in	protocol.ReconnectingClientFactory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#58112">[ date ]</a>
              <a href="thread.html#58112">[ thread ]</a>
              <a href="subject.html#58112">[ subject ]</a>
              <a href="author.html#58112">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, thanks for your reply.

Indeed, the ReconnectingClientFactory is being sent the Failure object to

def clientConnectionLost(self, connector, reason):
         log.msg('Lost connection. Reason: %s' % reason)
         protocol.ReconnectingClientFactory.clientConnectionLost(self, 
connector, reason)

where &quot;reason&quot; is the Failure object that is &quot;unhandled&quot;. is there 
anything I could do to it there to make it handled?

Also, the documentation in 
<A HREF="http://twistedmatrix.com/documents/current/core/howto/defer.html">http://twistedmatrix.com/documents/current/core/howto/defer.html</A> says 
that one can do d.addErrback(err.log) to deal with unhandled errors, but 
what is d?

In general, I'm not doing anything special.. I'm creating a 
ReconnectingClientFactory and connecting it to a server..
f = MyReconnectingClientFactory(..)
reactor.connectSSL(url, port, f, ssl.ClientContextFactory())
reactor.run()

Basically it. Any thoughts? Thanks a lot!
&gt;<i> On Jun 11, 2012, at 8:01 AM, Martin wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Hi there,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I've been looking around for a solution for several hours now, and maybe
</I>&gt;&gt;<i> I'm just missing something..
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I've a factory that implements protocol.ReconnectingClientFactory which
</I>&gt;&gt;<i> works just fine, however, whenever the program ends running, I get a
</I>&gt;&gt;<i> bunch of Unhandled error in Deferred messages in my log for each
</I>&gt;&gt;<i> disconnection that occurred during runtime, such as Failure:
</I>&gt;&gt;<i> twisted.internet.error.ConnectionLost: ...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Is there any way I could somehow &quot;handle&quot; these during runtime, so that
</I>&gt;&gt;<i> my log wouldn't be spammed with this at the end.. (or avoid it being
</I>&gt;&gt;<i> spammed somehow..)
</I>&gt;<i> These messages are coming from some code which is issuing Deferreds, not from ReconnectingClientFactory.  You need to add an errback to those Deferreds in your application code.  There's no way to write a catch-all, just like there's no way to write a catch-all that can stop exceptions from being raised in basic Python.
</I>&gt;<i>
</I>&gt;<i> I can't say more without a code example, preferably a&lt;<A HREF="http://sscce.org/">http://sscce.org/</A>&gt;.
</I>&gt;<i>
</I>&gt;<i> -glyph
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>&gt;<i>
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="058109.html">[Twisted-Python] Catching error in	protocol.ReconnectingClientFactory
</A></li>
	<LI>Next message (by thread): <A HREF="058114.html">[Twisted-Python] Catching error in	protocol.ReconnectingClientFactory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#58112">[ date ]</a>
              <a href="thread.html#58112">[ thread ]</a>
              <a href="subject.html#58112">[ subject ]</a>
              <a href="author.html#58112">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
