<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] AMP WebSockets bridging
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20AMP%20WebSockets%20bridging&In-Reply-To=CAE_Hg6YzhQKEAGEaigFMGKLqLSuA3uaEL11Vq_nmkL9R5U07zw%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025659.html">
   <LINK REL="Next"  HREF="025667.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] AMP WebSockets bridging</H1>
    <B>Glyph</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20AMP%20WebSockets%20bridging&In-Reply-To=CAE_Hg6YzhQKEAGEaigFMGKLqLSuA3uaEL11Vq_nmkL9R5U07zw%40mail.gmail.com"
       TITLE="[Twisted-Python] AMP WebSockets bridging">glyph at twistedmatrix.com
       </A><BR>
    <I>Sat Jun 16 17:51:58 EDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="025659.html">[Twisted-Python] AMP WebSockets bridging
</A></li>
        <LI>Next message: <A HREF="025667.html">[Twisted-Python] AMP WebSockets bridging
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25664">[ date ]</a>
              <a href="thread.html#25664">[ thread ]</a>
              <a href="subject.html#25664">[ subject ]</a>
              <a href="author.html#25664">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Jun 16, 2012, at 6:45 AM, Laurens Van Houtven wrote:

&gt;<i> Do you think that for old browsers (that is ie6 &amp; 7) it's acceptable to tell them to go install chrome frame? ( for Franck and hence twisteds future bug tracker). If the answer is yes, is that because it will take a while to switch, or would that also be true today?
</I>
I think it's acceptable for *Twisted*'s bug tracker to just tell them to install a different browser, because who cares? ;-)

See here: <A HREF="http://www.sitemeter.com/?a=stats&amp;s=sm7twistedmatrix&amp;r=13">http://www.sitemeter.com/?a=stats&amp;s=sm7twistedmatrix&amp;r=13</A>

Only 5% of our traffic comes from IE, only 1% comes from IE7 and we don't get any from IE6.

Obviously these metrics don't apply to a general solution, of course.

&gt;<i> I'm not sure I understand at which point that takes effect since apparently AMP.sendBox is too late?
</I>

I *think* the right place to hook in would be IResponderLocator.

If you write your own locateResponder, you can do your own serialization, except in your case a &quot;string&quot; (for the purposes of toString/fromString) is just a JSON data structure, and an &quot;object&quot; is the corresponding Python data structure which is almost always the same.  This is a slight abuse of the API, but it will allow for maximal re-use of all the dispatching logic.  You will probably need to touch a private attribute or two, most noticeably _commandDispatch; you need to stuff your own wrapper around commandClass (that proxies 'arguments' and 'response' attributes to wrap them in something that does the requisite adaptation to change the meaning of fromString/toString) in locateResponder, you don't want to override all the behavior.

Then you override sendBox to just do plain old JSON serialization and you're done.

Please feel free to file bugs on any private parts of the API that you need to touch in order to make an alternate serialization.  The inability to programmatically discover which methods are responders and what commands they are responders for using a public API strikes me as a glaring oversight.

-glyph

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20120616/7b5efbea/attachment.htm">http://twistedmatrix.com/pipermail/twisted-python/attachments/20120616/7b5efbea/attachment.htm</A> 
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025659.html">[Twisted-Python] AMP WebSockets bridging
</A></li>
	<LI>Next message: <A HREF="025667.html">[Twisted-Python] AMP WebSockets bridging
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25664">[ date ]</a>
              <a href="thread.html#25664">[ thread ]</a>
              <a href="subject.html#25664">[ subject ]</a>
              <a href="author.html#25664">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
