<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] buildProtocol never called
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20buildProtocol%20never%20called&In-Reply-To=%3C20090530231754.GA10964%40subspacefield.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="052234.html">
   <LINK REL="Next"  HREF="052236.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] buildProtocol never called</H1>
    <B>travis+ml-twisted at subspacefield.org</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20buildProtocol%20never%20called&In-Reply-To=%3C20090530231754.GA10964%40subspacefield.org%3E"
       TITLE="[Twisted-Python] buildProtocol never called">travis+ml-twisted at subspacefield.org
       </A><BR>
    <I>Sat May 30 17:17:54 MDT 2009</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="052234.html">[Twisted-Python] Twisted for Nokia S60 Platform
</A></li>
        <LI>Next message (by thread): <A HREF="052236.html">[Twisted-Python] buildProtocol never called
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52235">[ date ]</a>
              <a href="thread.html#52235">[ thread ]</a>
              <a href="subject.html#52235">[ subject ]</a>
              <a href="author.html#52235">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

First let me introduce a piece of software I have written using
Twisted: it's called dfd_keeper[1], and is a BSD/pf port of a generic
concept I invented called the dynamic firewall daemon[2].

[1] <A HREF="http://www.subspacefield.org/security/dfd_keeper/">http://www.subspacefield.org/security/dfd_keeper/</A>
[2] <A HREF="http://www.subspacefield.org/security/dfd/">http://www.subspacefield.org/security/dfd/</A>

If you like the concept, please promote the idea; I think it's neat
but there hasn't exactly been a groundswell of interest in it.

In essence, it allows you to netcat or telnet to the daemon process
and issue text-like commands that alter your firewall rules.  You can
think of it as a &quot;shell&quot; for the firewall, and it can do neat things
like create firewall rules that expire automatically after a period of
time and so on.

The problem I'm having is this; I upgraded my firewall from OpenBSD
4.2 or so to OpenBSD 4.5, and now I'm working with newer versions of
all the software including Twisted.

The program works fine normally, and can run in the background, but if I
invoke a daemonize() routine that turns it into a network daemon, it
refuses to serve incoming TCP connections.  Actually the TCP connection
is made, but the software never responds to it.

Specifically, my twisted.internet.protocol.Factory instance is created,
but buildProtocol is never called.

Before I dive deeply into debugging the software, I thought I'd ask if
anyone knew off the top of their head any reason why Twisted might not
act the same if it was daemonized (no controlling terminal, no
stdin/out/err, forked as a background process).

Thanks!
Travis H.
-- 
Obama Nation | My emails do not have attachments; it's a digital signature
that your mail program doesn't understand. | <A HREF="http://www.subspacefield.org/~travis/">http://www.subspacefield.org/~travis/</A> 
If you are a spammer, please email <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">john at subspacefield.org</A> to get blacklisted.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 833 bytes
Desc: not available
URL: &lt;/pipermail/twisted-python/attachments/20090530/119e7f8b/attachment.sig&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="052234.html">[Twisted-Python] Twisted for Nokia S60 Platform
</A></li>
	<LI>Next message (by thread): <A HREF="052236.html">[Twisted-Python] buildProtocol never called
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52235">[ date ]</a>
              <a href="thread.html#52235">[ thread ]</a>
              <a href="subject.html#52235">[ subject ]</a>
              <a href="author.html#52235">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
