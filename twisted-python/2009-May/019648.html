<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] XML-RPC for paralell clients
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20XML-RPC%20for%20paralell%20clients&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019647.html">
   <LINK REL="Next"  HREF="019649.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] XML-RPC for paralell clients</H1>
    <B>Pet</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20XML-RPC%20for%20paralell%20clients&In-Reply-To="
       TITLE="[Twisted-Python] XML-RPC for paralell clients">petshmidt at googlemail.com
       </A><BR>
    <I>Tue May 19 03:51:39 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="019647.html">[Twisted-Python] Epsilon installation?
</A></li>
        <LI>Next message: <A HREF="019649.html">[Twisted-Python] XML-RPC for paralell clients
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19648">[ date ]</a>
              <a href="thread.html#19648">[ thread ]</a>
              <a href="subject.html#19648">[ subject ]</a>
              <a href="author.html#19648">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

after playing with reactor, factory and protocol, I'm trying to
implement XML-RPC server, but it seems that it is not able to handle
several clients in parallel. If I call the slow function with first
client  and then with second client a fast function, second client
will receiver the results after slow function returned. There is no
factory for clients in server.Site() like in Protokoll? What is the
way to do that for XML-RPC?

Thanks for your help!
Pet

from twisted.web import xmlrpc, server
from twisted.application import internet

from time import sleep


PORT = 11111

class ExampleXMLRPCProtokoll(xmlrpc.XMLRPC):
    &quot;&quot;&quot;An example object to be published.&quot;&quot;&quot;
    def xmlrpc_echo(self, x):
        &quot;&quot;&quot;
        Return all passed args.
        &quot;&quot;&quot;
        return x

    def xmlrpc_add(self, a, b):
        &quot;&quot;&quot;
        Return sum of arguments.
        &quot;&quot;&quot;
        return a + b

    def xmlrpc_addslow(self, a, b):
        &quot;&quot;&quot;
        Return sum of arguments. takes time
        &quot;&quot;&quot;
        sleep(20)
        return a + b

    def xmlrpc_fault(self):
        &quot;&quot;&quot;
        Raise a Fault indicating that the procedure should not be used.
        &quot;&quot;&quot;
        raise xmlrpc.Fault(123, &quot;The fault procedure is faulty.&quot;)


class ExampleXMLRPCService(internet.TCPServer):

    def __init__(self):
        print &quot;Starting XML-RPC Service...&quot;
        r = ExampleXMLRPCProtokoll()
        internet.TCPServer.__init__(self,PORT,server.Site(r))



def main():
    from twisted.internet import reactor
    r = ExampleXMLRPCProtokoll()
    reactor.listenTCP(PORT, server.Site(r))
    reactor.run()



if __name__ == '__main__':
    main()


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019647.html">[Twisted-Python] Epsilon installation?
</A></li>
	<LI>Next message: <A HREF="019649.html">[Twisted-Python] XML-RPC for paralell clients
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19648">[ date ]</a>
              <a href="thread.html#19648">[ thread ]</a>
              <a href="subject.html#19648">[ subject ]</a>
              <a href="author.html#19648">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
