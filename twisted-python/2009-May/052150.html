<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] File persistence without blocking the main event loop?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20File%20persistence%20without%20blocking%20the%20main%0A%20event%20loop%3F&In-Reply-To=%3C1242649916.27977.14.camel%40pintsize%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="052149.html">
   <LINK REL="Next"  HREF="052151.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] File persistence without blocking the main event loop?</H1>
    <B>Itamar Shtull-Trauring</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20File%20persistence%20without%20blocking%20the%20main%0A%20event%20loop%3F&In-Reply-To=%3C1242649916.27977.14.camel%40pintsize%3E"
       TITLE="[Twisted-Python] File persistence without blocking the main event loop?">itamar at itamarst.org
       </A><BR>
    <I>Mon May 18 06:31:56 MDT 2009</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="052149.html">[Twisted-Python] File persistence without blocking the main event	loop?
</A></li>
        <LI>Next message (by thread): <A HREF="052151.html">[Twisted-Python] File persistence without blocking the main event loop?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52150">[ date ]</a>
              <a href="thread.html#52150">[ thread ]</a>
              <a href="subject.html#52150">[ subject ]</a>
              <a href="author.html#52150">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 2009-05-18 at 19:34 +0800, Arun Thampi wrote:
&gt;<i> Hi guys - I'm just beginning to learn about Twisted and was wondering
</I>&gt;<i> if there is a way to use the built-in Twisted persistence libraries
</I>&gt;<i> such as dirdbm etc. without blocking the main event loop? I read about
</I>&gt;<i> an approach which uses deferToThread (comment#3
</I>&gt;<i> here: <A HREF="http://code.activestate.com/recipes/413609/">http://code.activestate.com/recipes/413609/</A>) but if you are
</I>&gt;<i> persisting quite often, doesn't the creation of threads on every
</I>&gt;<i> persist-call make it very expensive?
</I>
deferToThread uses a threadpool, so it's not *very* slow. It does slow
things down a bit, so it's better to do chunks of work rather than doing
writes separately. That being said, writing to disk in main eventloop is
often fast enough in practice, depending on how strong your latency
guarantees need to be.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="052149.html">[Twisted-Python] File persistence without blocking the main event	loop?
</A></li>
	<LI>Next message (by thread): <A HREF="052151.html">[Twisted-Python] File persistence without blocking the main event loop?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#52150">[ date ]</a>
              <a href="thread.html#52150">[ thread ]</a>
              <a href="subject.html#52150">[ subject ]</a>
              <a href="author.html#52150">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
