<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Twisted protocol as Django data source
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Twisted%20protocol%20as%20Django%20data%20source&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019708.html">
   <LINK REL="Next"  HREF="019689.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Twisted protocol as Django data source</H1>
    <B>Dave Britton</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Twisted%20protocol%20as%20Django%20data%20source&In-Reply-To="
       TITLE="[Twisted-Python] Twisted protocol as Django data source">dave at davebritton.com
       </A><BR>
    <I>Wed May 27 16:48:17 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="019708.html">[Twisted-Python] Twisted protocol as Django data source
</A></li>
        <LI>Next message: <A HREF="019689.html">[Twisted-Python] Guidance on Proxy-type Application
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19685">[ date ]</a>
              <a href="thread.html#19685">[ thread ]</a>
              <a href="subject.html#19685">[ subject ]</a>
              <a href="author.html#19685">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I don't think the database option is a hack. Have twisted write the live
stream items into a ring-buffer SQL database table (eg. use records 1-100
over and over again), including a timestamp for each entry. Then your django
page can always retrieve the most current set of entries by SELECTing * from
the table in descending order by timestamp, which django is good at, staying
live with constant refreshing. There are no interprocess communication
pipes, broken sockets and timeouts etc. to screw up, no flaky javascript to
worry about, and the DBMS will handle the multiple simultaneous separate
data sources correctly. The central twisted application only has to keep
track of the buffer position. It's just not as much fun, though.
-Dave


----- Original Message -----
From: &quot;Dan&quot; &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">charnedn at muohio.edu</A>&gt;
To: &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>&gt;
Sent: Wednesday, May 27, 2009 1:39 PM
Subject: [Twisted-Python] Twisted protocol as Django data source


&gt;<i> Hi all,
</I>&gt;<i>
</I>&gt;<i> I have an application written in Twisted which multiplexes data from a
</I>&gt;<i> variety of pieces of specialized hardware, and I'd like to make the
</I>&gt;<i> live stream of this information viewable through a webpage.
</I>&gt;<i> Unfortunately, on our server, port 80 is already taken by an Apache +
</I>&gt;<i> mod_python + Django stack with which we host a number of webpages.
</I>&gt;<i>
</I>&gt;<i> Ideally, I'd like to be able to write a quick Django app in which just
</I>&gt;<i> import my Twisted protocol, connect to my network, and start streaming
</I>&gt;<i> data. However, much googling has lead me to believe that this is
</I>&gt;<i> unlikely to actually work. (Particularly,
</I><A HREF="http://twistedmatrix.com/pipermail/twisted-web/2007-March/003311.html">http://twistedmatrix.com/pipermail/twisted-web/2007-March/003311.html</A>
&gt;<i> , which says that Twisted is simply not mod_python-friendly.)
</I>&gt;<i>
</I>&gt;<i> The options I've thought of include using Twisted's builtin web server
</I>&gt;<i> a nonstandard port, mod_proxy, or writing a Django app which just
</I>&gt;<i> polls a database repeatedly and altering my Twisted app so it
</I>&gt;<i> repeatedly does an UPDATE. All of these solutions feel hacky to me, so
</I>&gt;<i> I'd like to ask you, the list, how you'd go about doing this.
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Dan
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Twisted-Python mailing list
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019708.html">[Twisted-Python] Twisted protocol as Django data source
</A></li>
	<LI>Next message: <A HREF="019689.html">[Twisted-Python] Guidance on Proxy-type Application
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19685">[ date ]</a>
              <a href="thread.html#19685">[ thread ]</a>
              <a href="subject.html#19685">[ subject ]</a>
              <a href="author.html#19685">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
