<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Newbie:XMLRPC Server as plugin?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Newbie%3AXMLRPC%20Server%20as%20plugin%3F&In-Reply-To=%3C25160AB2660F8B449892B0EB9C29C1650B5778%40ex-sea-is2.cobaltgroup.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="038235.html">
   <LINK REL="Next"  HREF="038237.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Newbie:XMLRPC Server as plugin?</H1>
    <B>Nesbitt, Steve</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Newbie%3AXMLRPC%20Server%20as%20plugin%3F&In-Reply-To=%3C25160AB2660F8B449892B0EB9C29C1650B5778%40ex-sea-is2.cobaltgroup.com%3E"
       TITLE="[Twisted-Python] Newbie:XMLRPC Server as plugin?">snesbitt at cobaltgroup.com
       </A><BR>
    <I>Thu Sep 18 11:27:12 MDT 2003</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="038235.html">[Twisted-Python] Newbie:XMLRPC Server as plugin?
</A></li>
        <LI>Next message (by thread): <A HREF="038237.html">[Twisted-Python] Newbie:XMLRPC Server as plugin?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38236">[ date ]</a>
              <a href="thread.html#38236">[ thread ]</a>
              <a href="subject.html#38236">[ subject ]</a>
              <a href="author.html#38236">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks Itamar.

I've been reviewing the howto and have that working.

My next step, however, was to turn that example into an actual plugin
following the QuoteD plugin example which has three parts:
- quoters.py =&gt; contains business logic
- quoteproto.py =&gt; contains the protocol definition
- quotetap.py =&gt; application interface/wrapper

My problem is coming up with the xmlrpc equivalent of quoteproto.py which
looks like this:


from twisted.internet.protocol import Factory, Protocol
from twisted.internet.app import Application

class QOTD(Protocol):

    def connectionMade(self):
        self.transport.write(self.factory.quoter.getQuote()+'\r\n')
        self.transport.loseConnection()

class QOTDFactory(Factory):

    protocol = QOTD

    def __init__(self, quoter):
        self.quoter = quoter




What I can't figure out what this should look like for an xmlrpc server. It
appears (to me at least) that a fundamental function of the factory method
is to set the protocol. But I don't know what this should be for xml-rpc and
since twisted appears to do the right thing already, I don't really want to
rewrite the connectionMade, etc. methods.

I suppose the core issue is that in order to create a plugin I need to call:
app.listenTCP(port, factory) and I don't know what factory object to pass or
how to get it.

Thanks,

-steve

Steve Nesbitt
Senior Configuration Manager
The Cobalt Group
<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">snesbitt at cobaltgroup.com</A>

-----Original Message-----
From: Itamar Shtull-Trauring [mailto:<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">itamar at itamarst.org</A>]
Sent: Thursday, September 18, 2003 10:10 AM
To: <A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">twisted-python at twistedmatrix.com</A>
Subject: Re: [Twisted-Python] Newbie:XMLRPC Server as plugin?


On Thu, 18 Sep 2003 09:47:40 -0700
&quot;Nesbitt, Steve&quot; &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">snesbitt at cobaltgroup.com</A>&gt; wrote:

&gt;<i> I would like to implement an XML-RPC server as a plugin (using the
</I>&gt;<i> QuoteD how-to as an example) and can't figure out how to do so. In
</I>&gt;<i> particular I don't understand how to create the protocol created as
</I>&gt;<i> part of the factory.
</I>
Protocols are created by the factory when the port you are listening
gets an incoming connection - the factory's buildProtocol is called and
the resulting protocol is connected to the transport for the new
connection.

In any case, Twisted already has a nice XML-RPC server framework,
documented at <A HREF="http://twistedmatrix.com/documents/howto/xmlrpc">http://twistedmatrix.com/documents/howto/xmlrpc</A> - it
should support anything you might want to do with a XML-RPC server.

-- 
Itamar Shtull-Trauring    <A HREF="http://itamarst.org/">http://itamarst.org/</A>
Available for Python &amp; Twisted consulting

_______________________________________________
Twisted-Python mailing list
<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>





This e-mail transmission contains information intended only for the use of
the recipient(s) named above. Further, it contains information that may be
privileged and confidential. If you are not the intended recipient, you are
hereby notified that any dissemination, distribution, or copying of this
message (including any attachments) is strictly prohibited. If you have
received this e-mail in error, please notify the sender by reply e-mail and
then delete this message from your mail system. Thank you for your
compliance.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="038235.html">[Twisted-Python] Newbie:XMLRPC Server as plugin?
</A></li>
	<LI>Next message (by thread): <A HREF="038237.html">[Twisted-Python] Newbie:XMLRPC Server as plugin?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38236">[ date ]</a>
              <a href="thread.html#38236">[ thread ]</a>
              <a href="subject.html#38236">[ subject ]</a>
              <a href="author.html#38236">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
