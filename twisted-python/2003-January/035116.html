<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] RE: How do I upload files using FTPClient?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20RE%3A%20How%20do%20I%20upload%20files%20using%20FTPClient%3F&In-Reply-To=%3C20030115000923.GA28656%40frobozz.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="035115.html">
   <LINK REL="Next"  HREF="035117.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] RE: How do I upload files using FTPClient?</H1>
    <B>Andrew Bennetts</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20RE%3A%20How%20do%20I%20upload%20files%20using%20FTPClient%3F&In-Reply-To=%3C20030115000923.GA28656%40frobozz.local%3E"
       TITLE="[Twisted-Python] RE: How do I upload files using FTPClient?">andrew-twisted at puzzling.org
       </A><BR>
    <I>Tue Jan 14 17:09:23 MST 2003</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="035115.html">[Twisted-Python] RE: How do I upload files using FTPClient?
</A></li>
        <LI>Next message (by thread): <A HREF="035117.html">[Twisted-Python] RE: How do I upload files using FTPClient?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35116">[ date ]</a>
              <a href="thread.html#35116">[ thread ]</a>
              <a href="subject.html#35116">[ subject ]</a>
              <a href="author.html#35116">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Jan 14, 2003 at 02:43:02PM -0800,  Daniel Burr wrote:
&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> WARNING!  Long-winded, and perhaps clueless post ahead!
</I>&gt;<i> 
</I>&gt;<i> As discussed earlier in this thread, here is a rough sketch of how I think
</I>&gt;<i> a high-level interface to twisted.protocols.ftp.FTPClient should look.
</I>&gt;<i> 
</I>&gt;<i> Currently, twisted.protocols.ftp contains mostly FTP-related classes; there
</I>&gt;<i> is only one module-level method, &quot;parsePWDResponse&quot;.  I am thinking that we
</I>&gt;<i> could just implement the high-level client interface as methods within the
</I>&gt;<i> current twisted.protocols.ftp module.
</I>&gt;<i> 
</I>&gt;<i> Ideally, I'd like to be able to use it like so:
</I>
[snip code]

&gt;<i> This code is pretty naive, to be sure, and not at all Twisted.  However, it
</I>&gt;<i> does hopefully illustrate the way I would like to interact with an FTP
</I>&gt;<i> client.  The &quot;deploy&quot; function could be refactored to use Deferreds pretty
</I>&gt;<i> easily; the &quot;makeDirectory&quot; function would be similarly simple.
</I>
Indeed.  I admit it is easier to think about these things synchronously,
though :)

&gt;<i> As for the interface to FTPClient, I've outlined my thoughts below.  Note
</I>&gt;<i> that my immediate itch only calls for &quot;cd&quot;, &quot;pwd&quot;, &quot;mkdir&quot;, and &quot;put&quot;, of
</I>&gt;<i> which only &quot;mkdir&quot; and &quot;put&quot; need to be implemented.  It'd be cool, down
</I>&gt;<i> the road, to implement &quot;mget&quot; and friends, so that my sample code above
</I>&gt;<i> could be reduced even further, by removing the need to loop through the
</I>&gt;<i> list of file paths and transfer files one at a time.
</I>&gt;<i> 
</I>&gt;<i> My overall, grand ambition is to tie all of this together into a handy
</I>&gt;<i> code deployment tool that can pull versioned code from multiple source
</I>&gt;<i> control solutions, and deploy it using a variety of protocols.
</I>
Ah!  It's always nice to know what people are actually trying to do :)

&gt;<i> ---------------------------------------------------------------------------
</I>&gt;<i> # a module level variable to which we will bind an instance of FTPClient
</I>&gt;<i> theClient = None
</I>
Why do you want a global variable for this?  What's wrong with instatiating
and tracking your own FTPClient instance, and having these functions be
methods of that instance (rather than globals, as they seem to be now)?

&gt;<i> def append(localFile, remoteFile=localFile)
</I>&gt;<i>     &quot;&quot;&quot;
</I>&gt;<i>     Append the contents of a file on the client to a file on the server
</I>&gt;<i> 
</I>&gt;<i>     localFile  - string containing the name of the file on the client
</I>&gt;<i>     remoteFile - string containing the name of the file on the server;
</I>&gt;<i>                  defaults to the same name as the file on the client
</I>&gt;<i>     &quot;&quot;&quot;
</I>
[..etc..]

And of course, these methods will have to return Deferreds.  Also, I don't
want FTPClient to be restricted to just plain files, as mentioned earlier,
but yeah :)

&gt;<i> Well, that's my brain dump for now.  Be as harsh as you like in criticizing;
</I>&gt;<i> I have a thick hide, and I'm trying to learn, so don't pull any punches.
</I>&gt;<i> If anyone thinks it should be entirely different, that's fantastic, and I
</I>&gt;<i> want to hear about it.
</I>
That's ok... I'll have a deeper ponder on FTP with this in mind, and have
another attack at the code tonight.

-Andrew.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="035115.html">[Twisted-Python] RE: How do I upload files using FTPClient?
</A></li>
	<LI>Next message (by thread): <A HREF="035117.html">[Twisted-Python] RE: How do I upload files using FTPClient?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35116">[ date ]</a>
              <a href="thread.html#35116">[ thread ]</a>
              <a href="subject.html#35116">[ subject ]</a>
              <a href="author.html#35116">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
