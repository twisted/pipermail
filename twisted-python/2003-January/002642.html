<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Deferred execution, timeouts, and unhandled exceptions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Deferred%20execution%2C%20timeouts%2C%20and%20unhandled%20exceptions&In-Reply-To=20030117224342.GB5224%40frobozz.local">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002641.html">
   <LINK REL="Next"  HREF="002644.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Deferred execution, timeouts, and unhandled exceptions</H1>
    <B>Bob Ippolito</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Deferred%20execution%2C%20timeouts%2C%20and%20unhandled%20exceptions&In-Reply-To=20030117224342.GB5224%40frobozz.local"
       TITLE="[Twisted-Python] Deferred execution, timeouts, and unhandled exceptions">bob at redivi.com
       </A><BR>
    <I>Fri Jan 17 19:04:01 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="002641.html">[Twisted-Python] Another nit on &quot;Generalization of Deferred Execution in Python&quot;
</A></li>
        <LI>Next message: <A HREF="002644.html">[Twisted-Python] Deferred execution, timeouts, and unhandled exceptions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2642">[ date ]</a>
              <a href="thread.html#2642">[ thread ]</a>
              <a href="subject.html#2642">[ subject ]</a>
              <a href="author.html#2642">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've noticed that there isn't really a good/standard way to do timeouts 
(without bad things happening) or cancel deferreds in Twisted [without 
subclassing everything you use, which isn't good in my book].

In the attached code sample (and log, so you don't need to run it to 
see its output), I demonstrate the problem, a quick-fix temporary 
solution (to prevent unhandleable exceptions from being raised), and a 
longer term proposed convention for refactoring existing classes to 
take advantage of this new functionality.

As radix mentioned, my proposed solution does make the meaning of 
errback somewhat ambiguous.  However if you add a new 
CancelledOperation exception to deferred, and addCanceller/cancel 
methods (addCanceller = addErrback, cancel = errback) then it'd be 
pretty transparent.

-bob


-------------- next part --------------
A non-text attachment was scrubbed...
Name: deferred.py
Type: application/octet-stream
Size: 3343 bytes
Desc: not available
Url : <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20030117/b1103e3a/attachment.obj">http://twistedmatrix.com/pipermail/twisted-python/attachments/20030117/b1103e3a/attachment.obj</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: deferred.log
Type: application/octet-stream
Size: 2426 bytes
Desc: not available
Url : <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20030117/b1103e3a/attachment-0001.obj">http://twistedmatrix.com/pipermail/twisted-python/attachments/20030117/b1103e3a/attachment-0001.obj</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002641.html">[Twisted-Python] Another nit on &quot;Generalization of Deferred Execution in Python&quot;
</A></li>
	<LI>Next message: <A HREF="002644.html">[Twisted-Python] Deferred execution, timeouts, and unhandled exceptions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2642">[ date ]</a>
              <a href="thread.html#2642">[ thread ]</a>
              <a href="subject.html#2642">[ subject ]</a>
              <a href="author.html#2642">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
