<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] SSH connection, redux!
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20SSH%20connection%2C%20redux%21&In-Reply-To=51B62EFFBC83D6118ADA00096BB030A107CADDE9%40usamcms7.mc.usa.xerox.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007226.html">
   <LINK REL="Next"  HREF="007227.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] SSH connection, redux!</H1>
    <B>Paul Swartz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20SSH%20connection%2C%20redux%21&In-Reply-To=51B62EFFBC83D6118ADA00096BB030A107CADDE9%40usamcms7.mc.usa.xerox.com"
       TITLE="[Twisted-Python] SSH connection, redux!">z3p at twistedmatrix.com
       </A><BR>
    <I>Mon Mar  1 12:05:55 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="007226.html">[Twisted-Python] SSH connection, redux!
</A></li>
        <LI>Next message: <A HREF="007227.html">[Twisted-Python] tracking spawned jobs in a twisted application (code review request)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7231">[ date ]</a>
              <a href="thread.html#7231">[ thread ]</a>
              <a href="subject.html#7231">[ subject ]</a>
              <a href="author.html#7231">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 2004-03-01 at 10:25, Schollnick, Benjamin wrote:
&gt;<i> Folks,
</I>&gt;<i> 
</I>&gt;<i> 	Thanks for the support, so far...  I downloaded the
</I>&gt;<i> precompiled version of the PyCrypto and everything is working fine...
</I>&gt;<i> 
</I>&gt;<i> 	Except for the fact, that I am attempting to figure out
</I>&gt;<i> how to make this work the way, that I *believe* it needs to work...
</I>&gt;<i> 
</I>&gt;<i> 	By the way, I was unable to get the &quot;Writing a client with 
</I>&gt;<i> Twisted.Conch&quot; FAQ to work....  I did find the sshSimpleClient.py
</I>&gt;<i> example, and that is working okay...
</I>&gt;<i> 
</I>&gt;<i> 	But I am having a problem, trying to figure out how to adapt the 
</I>&gt;<i> reactor model with my program...
</I>&gt;<i> 
</I>&gt;<i> 	The application has, for example, 6 &quot;ssh queries&quot; that it needs to
</I>&gt;<i> send, for example a &quot;/usr/sbin/prtconf -v&quot;, and then &quot;capture&quot; the output,
</I>&gt;<i> and return the output
</I>&gt;<i> for processing...
</I>&gt;<i>
</I>&gt;<i> 	Then it proceeds to the next query....etc...
</I>
That's almost exactly what sshsimpleclient.py does, only it does all
three executions at once.

&gt;<i> 	Is there a method that I can setup the communication, and say....
</I>&gt;<i> 
</I>&gt;<i> reactor.send (&quot;asdfasdf&quot;)
</I>&gt;<i> data = reactor.recv ()
</I>
You can't get data like this in Twisted, as the .recv() would block and
hang the reactor.  The dataReceived() method of the channel is called
when data is sent along that channel.

&gt;<i> 	More along the telnetlib design?  This way, I could branch the
</I>&gt;<i> telnet code
</I>&gt;<i> I use?
</I>
telnetlib is a blocking design, and doesn't work the way Twisted does. 
You might want to look into Paramiko, which (as I recall) maps fairly
closely to the telnetlib interface.

&gt;<i> 	Once, I start the reactor, I do not see where I can get data in and
</I>&gt;<i> out,
</I>&gt;<i> without using some form of a global variable...  (Or embedding the reactor
</I>&gt;<i> inside
</I>&gt;<i> another object)
</I>
You might want to have a look at the Writing Clients HOWTO, to get a
feel for how to write client code using the reactor.

-p
-- 
      Paul Swartz
(o_   z3p at twistedmatrix dot com
//\   <A HREF="http://www.twistedmatrix.com/users/z3p.twistd/">http://www.twistedmatrix.com/users/z3p.twistd/</A>
V_/_  AIM: Z3Penguin

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part
Url : <A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20040301/f67d50c1/attachment.pgp">http://twistedmatrix.com/pipermail/twisted-python/attachments/20040301/f67d50c1/attachment.pgp</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007226.html">[Twisted-Python] SSH connection, redux!
</A></li>
	<LI>Next message: <A HREF="007227.html">[Twisted-Python] tracking spawned jobs in a twisted application (code review request)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7231">[ date ]</a>
              <a href="thread.html#7231">[ thread ]</a>
              <a href="subject.html#7231">[ subject ]</a>
              <a href="author.html#7231">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
