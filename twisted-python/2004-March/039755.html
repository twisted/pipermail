<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] [Request] IMAP Server Sample code
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20%5BRequest%5D%20IMAP%20Server%20Sample%20code&In-Reply-To=%3C20040303235720.13113.1049884722.divmod.quotient.3%40erlang.divmod.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="039748.html">
   <LINK REL="Next"  HREF="007241.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] [Request] IMAP Server Sample code</H1>
    <B>exarkun at divmod.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20%5BRequest%5D%20IMAP%20Server%20Sample%20code&In-Reply-To=%3C20040303235720.13113.1049884722.divmod.quotient.3%40erlang.divmod.net%3E"
       TITLE="[Twisted-Python] [Request] IMAP Server Sample code">exarkun at divmod.com
       </A><BR>
    <I>Wed Mar  3 16:57:20 MST 2004</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="039748.html">[Twisted-Python] [Request] IMAP Server Sample code
</A></li>
        <LI>Next message (by thread): <A HREF="007241.html">[Twisted-Python] resource.render_METHOD
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39755">[ date ]</a>
              <a href="thread.html#39755">[ thread ]</a>
              <a href="subject.html#39755">[ subject ]</a>
              <a href="author.html#39755">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, 02 Mar 2004 11:49:29 +0000, David Burton &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">david at zeos.org</A>&gt; wrote:
&gt;<i>Hi guys, I'm new to the list, but I've had a look through the site and 
</I>&gt;<i> the mailing list archives, looking for some sample code which would help 
</I>&gt;<i> me in setting up the basics of an IMAP server - specifically to get mail 
</I>&gt;<i> from a POP account (which is easy enough), store it in a database 
</I>&gt;<i> (again, easy enough), and set up the interface to the database messages 
</I>&gt;<i> (and possible other non-email goodies) using IMAP (currently not a clue).
</I>&gt;<i> I've tried looking through the API and the source code, but I don't know 
</I>&gt;<i> what I should be returning from the likes of authenticateLogin to 
</I>&gt;<i> confirm (or refect logins), and what to return via listCapabilities (I'm 
</I>&gt;<i> currently . Any lists of which methods should generally work without 
</I>&gt;<i> overriding, which ones should be overridden, what needs to be returned, 
</I>&gt;<i> etc gratefully received.
</I>
  twisted.protocols.imap4.IMAP4Server is written so that, in most cases, it need not be subclassed.  The preferred way to implement a server is to implement the interfaces IMAP4Server depends on.  The two required interfaces are IAccount and IMailbox, both of which are defined in twisted.protocols.imap4.  There are several other optional interfaces as well.  Ideally, accounts and mailboxes are hooked up to an IMAP4Server protocol instance via twisted.cred.  Here is a brief example:

    from twisted.cred import portal
    from twisted.protocols import imap4

    class Account:
        __implements__ = (imap4.IAccount,)

        # Actually implement the interface here


    def logout():
        # Cleanup logic goes here

    class Realm:
        __implements__ = (portal.IRealm,)

        def requestAvatar(self, avatarID, mind, *interfaces):
            if imap4.IAccount not in interfaces:
                raise NotImplementedError
            return imap4.IAccount, Account(avatarID), logout

    p = portal.Portal(Realm())

    # Contrive to have your ServerFactory's buildProtocol
    # set the &quot;portal&quot; attribute of the IMAP4Server instance
    # it creates to the `p' defined above.

  For more information, refer to the cred and component howtos available on the Twisted website.

  Jp


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="039748.html">[Twisted-Python] [Request] IMAP Server Sample code
</A></li>
	<LI>Next message (by thread): <A HREF="007241.html">[Twisted-Python] resource.render_METHOD
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39755">[ date ]</a>
              <a href="thread.html#39755">[ thread ]</a>
              <a href="subject.html#39755">[ subject ]</a>
              <a href="author.html#39755">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
