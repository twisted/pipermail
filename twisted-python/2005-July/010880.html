<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Event queue in the Python std lib
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Event%20queue%20in%20the%20Python%20std%20lib&In-Reply-To=6e04113a050701185426225d0e%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010878.html">
   <LINK REL="Next"  HREF="010881.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Event queue in the Python std lib</H1>
    <B>Bob Ippolito</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Event%20queue%20in%20the%20Python%20std%20lib&In-Reply-To=6e04113a050701185426225d0e%40mail.gmail.com"
       TITLE="[Twisted-Python] Event queue in the Python std lib">bob at redivi.com
       </A><BR>
    <I>Fri Jul  1 23:23:45 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="010878.html">[Twisted-Python] Event queue in the Python std lib
</A></li>
        <LI>Next message: <A HREF="010881.html">[Twisted-Python] Event queue in the Python std lib
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10880">[ date ]</a>
              <a href="thread.html#10880">[ thread ]</a>
              <a href="subject.html#10880">[ subject ]</a>
              <a href="author.html#10880">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Jul 1, 2005, at 3:54 PM, David wrote:

&gt;<i> I am not yet a twisted programmer, so my contribution to this thread
</I>&gt;<i> has more to do with English interpretation than with twisted.
</I>&gt;<i>
</I>&gt;<i> A principle problem with event mainloops is that each toolkit wants to
</I>&gt;<i> provide one, and the program can only have one running at a time
</I>&gt;<i> (barring multithreading fanciness).  When I read the original post
</I>&gt;<i> referring to the discussion with GvR, I thought, cool, a resolution to
</I>&gt;<i> the different-mainloops-for-different-tool kits problem: a mainloop
</I>&gt;<i> that can integrate various tool kits.
</I>&gt;<i>
</I>&gt;<i> It seems that all other respondents have interpreted it as a call to
</I>&gt;<i> include twisted, or parts of it _as is_, in the stdlib.  I did not see
</I>&gt;<i> in the original post a call for twisted _networking_ inclusion at all.
</I>&gt;<i>
</I>&gt;<i> When I read about twisted on other lists (the pygame list comes to
</I>&gt;<i> mind), the examples almost always use the poll() reactor method,
</I>&gt;<i> because it allows you to use twisted from your own mainloop; you can
</I>&gt;<i> then integrate other tool kits into that home-spun mainloop by
</I>&gt;<i> whatever provisions they allow for doing so.
</I>&gt;<i>
</I>&gt;<i> We shouldn't have to be that creative.  There should be one std dist
</I>&gt;<i> mainloop that can accommodate, via callbacks perhaps, whatever
</I>&gt;<i> (multiple) services need a mainloop.   So a tkinter-twisted mainloop
</I>&gt;<i> and a gtk-twisted mainloop would not be needed as separate components.
</I>&gt;<i>
</I>&gt;<i> I am too naive to write such a library, nor even to write a PEP, so I
</I>&gt;<i> won't be running with this, but is there something impossible about my
</I>&gt;<i> interpretation?
</I>
That's a nice idea, but it can't possibly work.  If you want a  
general way to interoperate with different toolkits, you basically  
have to use multithreaded fanciness, because not many of them have  
timers or socket notifiers built in worth their salt.  Starting a  
single thread to sit around and wait for select() or equivalent is  
pretty sane, and makes the interface a lot more flexible and generic  
since you only need one facility in the toolkit -- namely a thread- 
safe way to call back into the main thread.

Fortunately, there is one in Twisted 2.1, threadedselectreactor,  
which DOES integrate with various runloops (pygame and wxPython  
included) without polling.  However, it's not the end of the road.   
threadedselectreactor should be refactored into a general interface  
(interleave) such that other backends (epoll, kqueue, windows junk,  
etc.) can be used rather than select.

-bob



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010878.html">[Twisted-Python] Event queue in the Python std lib
</A></li>
	<LI>Next message: <A HREF="010881.html">[Twisted-Python] Event queue in the Python std lib
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10880">[ date ]</a>
              <a href="thread.html#10880">[ thread ]</a>
              <a href="subject.html#10880">[ subject ]</a>
              <a href="author.html#10880">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
