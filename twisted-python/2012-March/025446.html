<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Conflict between Tkinter.mainloop() and	twisted.internet.reactor.run()
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Conflict%20between%20Tkinter.mainloop%28%29%20and%0A%09twisted.internet.reactor.run%28%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025444.html">
   <LINK REL="Next"  HREF="025447.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Conflict between Tkinter.mainloop() and	twisted.internet.reactor.run()</H1>
    <B>hz hanks</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Conflict%20between%20Tkinter.mainloop%28%29%20and%0A%09twisted.internet.reactor.run%28%29&In-Reply-To="
       TITLE="[Twisted-Python] Conflict between Tkinter.mainloop() and	twisted.internet.reactor.run()">hankshz at gmail.com
       </A><BR>
    <I>Fri Mar 30 18:36:19 EDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="025444.html">[Twisted-Python] Problem with additional connection
</A></li>
        <LI>Next message: <A HREF="025447.html">[Twisted-Python] Conflict between Tkinter.mainloop() and	twisted.internet.reactor.run()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25446">[ date ]</a>
              <a href="thread.html#25446">[ thread ]</a>
              <a href="subject.html#25446">[ subject ]</a>
              <a href="author.html#25446">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

I'm writing a program with Twisted and use Tkinter to realize the GUI
interface. However, it seems that I can not run both
Tkinter.mainloop() and twisted.internet.reactor.run() in the same
thread because they will block the other. I tried to program a button
in Tkinter and when the button is pressed, it will start a new thread
using module threading, and call a function with the contend of

        reactor.listenTCP(PORT, file_trans_service.getFileTransCtrlServFactory()
        reactor.run()

But it will raise an exception as follows:
--- &lt;exception caught here&gt; ---
  File &quot;F:\Python27\lib\site-packages\twisted\internet\base.py&quot;, line
426, in _continueFiring
    callable(*args, **kwargs)
  File &quot;F:\Python27\lib\site-packages\twisted\internet\base.py&quot;, line
1164, in _reallyStartRunning
    self._handleSignals()
  File &quot;F:\Python27\lib\site-packages\twisted\internet\posixbase.py&quot;,
line 292, in _handleSignals
    _SignalReactorMixin._handleSignals(self)
  File &quot;F:\Python27\lib\site-packages\twisted\internet\base.py&quot;, line
1129, in _handleSignals
    signal.signal(signal.SIGINT, self.sigInt)
exceptions.ValueError: signal only works in main thread

And I also tried to run twisted.internet.reactor.run() in the main
thread, and use module threading or reactor.callInThread() to run
Tkinter.mainloop(). The interface will be displayed, but not
responding.

Any one knows how to solve this problem? I just need a Template to
realize the Twisted with GUI. Very appreciated!

Best,
Hanks

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025444.html">[Twisted-Python] Problem with additional connection
</A></li>
	<LI>Next message: <A HREF="025447.html">[Twisted-Python] Conflict between Tkinter.mainloop() and	twisted.internet.reactor.run()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25446">[ date ]</a>
              <a href="thread.html#25446">[ thread ]</a>
              <a href="subject.html#25446">[ subject ]</a>
              <a href="author.html#25446">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
