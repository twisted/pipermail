<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] the good, the log, and the ugly
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20the%20good%2C%20the%20log%2C%20and%20the%20ugly&In-Reply-To=FC8628C6-ADD0-4FC4-964C-58AE21088A68%40twistedmatrix.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025429.html">
   <LINK REL="Next"  HREF="025450.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] the good, the log, and the ugly</H1>
    <B>Brian Warner</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20the%20good%2C%20the%20log%2C%20and%20the%20ugly&In-Reply-To=FC8628C6-ADD0-4FC4-964C-58AE21088A68%40twistedmatrix.com"
       TITLE="[Twisted-Python] the good, the log, and the ugly">warner at lothar.com
       </A><BR>
    <I>Fri Mar 30 15:23:28 EDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="025429.html">[Twisted-Python] the good, the log, and the ugly
</A></li>
        <LI>Next message: <A HREF="025450.html">[Twisted-Python] the good, the log, and the ugly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25445">[ date ]</a>
              <a href="thread.html#25445">[ thread ]</a>
              <a href="subject.html#25445">[ subject ]</a>
              <a href="author.html#25445">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 3/25/12 7:11 PM, Glyph wrote:

&gt;<i> I'm going to try to get started on record my desired behavior for
</I>&gt;<i> logging as tickets soon though, so Twisted can at least have some really
</I>&gt;<i> good logging tools /eventually/.  
</I>
While you're thinking about this space, I'll plug the logging tools I
built into Foolscap (and applications that use it, like Tahoe). I'm sure
many others have built things like it, but some of the features that
I've found particularly useful in Tahoe development are:

 * structured log messages, stored as dicts with non-serialized
   arguments
 * &quot;umids&quot;: unique message identifiers, to find the call site
 * size-limited per-(priority*section) circular event buffers
 * parent/child event relationships, for event trees
 * &quot;Incidents&quot;: when an UNUSUAL event is logged, a pickle of the event
   buffers is saved to disk, for later inspection, including events from
   post-trigger error-recovery code
 * &quot;logport&quot;: Foolscap interface for subscribing to event streams
 * &quot;flogtool tail&quot; to connect to remote app and watch the event stream
 * web- or text- based event renderers, with expand/hide-subtree buttons
 * &quot;incident gatherer&quot;: subscribes to Incident reports from multiple
   remote apps, classifies reports them according to cause

It's inspired by twisted.python.log, of course, and the log.msg()
interface should look pretty familiar. The Foolscap buy-in may be too
much for most apps, but it'd be interesting to find a subset that
doesn't require the networking parts. I tried to figure out how to make
it fit with Python's stdlib logging module, but eventually gave up (I
think the biggest issue was needing to return an event number from the
log.msg() call, for the parent/child stuff).

<A HREF="http://foolscap.lothar.com/docs/logging.html">http://foolscap.lothar.com/docs/logging.html</A> has details.

cheers,
 -Brian

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025429.html">[Twisted-Python] the good, the log, and the ugly
</A></li>
	<LI>Next message: <A HREF="025450.html">[Twisted-Python] the good, the log, and the ugly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25445">[ date ]</a>
              <a href="thread.html#25445">[ thread ]</a>
              <a href="subject.html#25445">[ subject ]</a>
              <a href="author.html#25445">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
