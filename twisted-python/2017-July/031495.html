<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Custom log &quot;files&quot; with twisted.logger
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Custom%20log%20%22files%22%20with%20twisted.logger&In-Reply-To=%3C7F2A1F31-E889-4724-B6AA-8E6731E542E4%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="064020.html">
   <LINK REL="Next"  HREF="031496.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Custom log &quot;files&quot; with twisted.logger</H1>
    <B>Glyph</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Custom%20log%20%22files%22%20with%20twisted.logger&In-Reply-To=%3C7F2A1F31-E889-4724-B6AA-8E6731E542E4%40twistedmatrix.com%3E"
       TITLE="[Twisted-Python] Custom log &quot;files&quot; with twisted.logger">glyph at twistedmatrix.com
       </A><BR>
    <I>Mon Jul  3 05:44:52 MDT 2017</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="064020.html">[Twisted-Python] Weekly Bug Summary
</A></li>
        <LI>Next message (by thread): <A HREF="031496.html">[Twisted-Python] 'ok to merge' label in github?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31495">[ date ]</a>
              <a href="thread.html#31495">[ thread ]</a>
              <a href="subject.html#31495">[ subject ]</a>
              <a href="author.html#31495">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> On Jun 14, 2017, at 5:53 AM, Jean-Paul Calderone &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">exarkun at twistedmatrix.com</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> I would like to be able to send events from the new logging system (twisted.logger) to a remote log collection system.  If I'm using twist then it seems options for configuring this part of logging are limited.  The choices appear to be logging to stdout, stdout, or a file on the filesystem.
</I>
This is definitely a desirable goal, something that I am also wrestling with.

&gt;<i> If I write my own command-line entrypoint then I can probably do whatever I want by writing a custom observer and hooking it up appropriately.  I'd rather not have to do that, though.
</I>&gt;<i> 
</I>&gt;<i> I could also go back to twistd and use --logger.  But since interest in twistd appears to be on the decline, in favor of twist, I'd rather avoid that as well.
</I>
The hope is that `twist` can fully supplant it, yes.

&gt;<i> It seems like the idea would be something like --logger for twist, perhaps replacing the --log-file option.  If there were a way to pass some arguments that would be pretty nice as well.
</I>
This looks like a pretty reasonable idea.

&gt;<i>     twist --logger myapp.something:x=y,a=b
</I>&gt;<i>   twist --logger twisted.logger.FileLogObserver.fromPath:path=/foo/bar
</I>&gt;<i> 
</I>&gt;<i> (Actual syntax not that important to me; consistency with endpoint syntax would have some advantages; something that deals with the necessities of quoting and nesting would be better, of course.   Also, I know everyone hates Twisted's plugins but they would make for a nicer UI than FQPNs here.)
</I>
I don't hate Twisted's plugins.

&gt;<i> The first thing I'm likely to do with this is bridge twisted.logger events to Eliot.  I think this will provide the most useful logs (at least some of the logs from Twisted will have a meaningful Eliot context, though certainly nowhere near all).  Also I already have a system for configuring Eliot log destinations (which supports passing along arguments, so I can already tell Eliot where my remote log collector is with a command-line argument).
</I>&gt;<i> 
</I>&gt;<i> What are the chances of getting support for this scenario into twist itself?
</I>
I take it that Eliot &quot;log destinations&quot; are sufficient for the purposes of remotely transmitting your logs to a collection system, so you're mainly asking about the extension point, and not any particular collector?

I'd say that chances are extremely good that this could be accepted.  I'd really like log configuration generally to be more robust.

Another thing that might be germane to this (or maybe it's just &quot;another thing that would be nice for twist to have on its command line somewhere&quot;) - <A HREF="https://twistedmatrix.com/documents/current/api/twisted.logger.LogLevelFilterPredicate.html">https://twistedmatrix.com/documents/current/api/twisted.logger.LogLevelFilterPredicate.html</A> &lt;<A HREF="https://twistedmatrix.com/documents/current/api/twisted.logger.LogLevelFilterPredicate.html">https://twistedmatrix.com/documents/current/api/twisted.logger.LogLevelFilterPredicate.html</A>&gt; and <A HREF="https://twistedmatrix.com/documents/current/api/twisted.logger.FilteringLogObserver.html">https://twistedmatrix.com/documents/current/api/twisted.logger.FilteringLogObserver.html</A> &lt;<A HREF="https://twistedmatrix.com/documents/current/api/twisted.logger.FilteringLogObserver.html">https://twistedmatrix.com/documents/current/api/twisted.logger.FilteringLogObserver.html</A>&gt; might be something that you would want to put in front of your remote log collectors.  Ideally not every single message in the world needs to be transmitted.

Also, possibly the hypothetical &quot;+&quot; plugin which has come up a few times (i.e. &quot;a command line syntax for running more than one plugin in the same process&quot;) would be an interesting idea here.  'twist + eliot --to=&lt;some eliot place&gt; + web --port le:certificates:tcp:443' might be a way to express this without any specific logging support from `twist`; the &quot;eliot&quot; plugin could just add a global log observer when it starts.

-glyph

P.S.: Sorry for the long delay on the response, I would like to refer everyone back to <A HREF="https://twistedmatrix.com/pipermail/twisted-python/2017-April/031396.html">https://twistedmatrix.com/pipermail/twisted-python/2017-April/031396.html</A> &lt;<A HREF="https://twistedmatrix.com/pipermail/twisted-python/2017-April/031396.html">https://twistedmatrix.com/pipermail/twisted-python/2017-April/031396.html</A>&gt; which is getting more relevant by the day.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20170703/c4971f11/attachment.html&gt;
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="064020.html">[Twisted-Python] Weekly Bug Summary
</A></li>
	<LI>Next message (by thread): <A HREF="031496.html">[Twisted-Python] 'ok to merge' label in github?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31495">[ date ]</a>
              <a href="thread.html#31495">[ thread ]</a>
              <a href="subject.html#31495">[ subject ]</a>
              <a href="author.html#31495">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
