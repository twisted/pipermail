<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] [RFC] Drop support for Python 3.5 sometime after May 2021?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20%5BRFC%5D%20Drop%20support%20for%20Python%203.5%20sometime%0A%20after%20May%202021%3F&In-Reply-To=%3CA508384B-43C5-4EB6-9A8C-6FD555EAB890%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="065121.html">
   <LINK REL="Next"  HREF="065130.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] [RFC] Drop support for Python 3.5 sometime after May 2021?</H1>
    <B>Glyph</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20%5BRFC%5D%20Drop%20support%20for%20Python%203.5%20sometime%0A%20after%20May%202021%3F&In-Reply-To=%3CA508384B-43C5-4EB6-9A8C-6FD555EAB890%40twistedmatrix.com%3E"
       TITLE="[Twisted-Python] [RFC] Drop support for Python 3.5 sometime after May 2021?">glyph at twistedmatrix.com
       </A><BR>
    <I>Mon Jun  8 01:04:29 MDT 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="065121.html">[Twisted-Python] [RFC] Drop support for Python 3.5 sometime after May 2021?
</A></li>
        <LI>Next message (by thread): <A HREF="065130.html">[Twisted-Python] [RFC] Drop support for Python 3.5 sometime after May 2021?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65129">[ date ]</a>
              <a href="thread.html#65129">[ thread ]</a>
              <a href="subject.html#65129">[ subject ]</a>
              <a href="author.html#65129">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

&gt;<i> On May 28, 2020, at 8:31 AM, Erik Johnston &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">erik at matrix.org</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On 23/05/2020 06:39, Glyph wrote:
</I>&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> On May 19, 2020, at 1:52 AM, Richard van der Hoff &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">richard at matrix.org</A> &lt;mailto:<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">richard at matrix.org</A>&gt;&gt; wrote:
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> On 16/05/2020 06:56, Glyph wrote:
</I>&gt;&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;&gt;&gt;<i> On May 15, 2020, at 8:40 PM, Craig Rodrigues &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">rodrigc at crodrigues.org</A> &lt;mailto:<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">rodrigc at crodrigues.org</A>&gt;&gt; wrote:
</I>&gt;&gt;&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;&gt;&gt;<i> Maybe it would be OK to do one more release of Twisted and announce that as the last release supporting Python 3.5, before
</I>&gt;&gt;&gt;&gt;&gt;<i> dropping support?  
</I>&gt;&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;&gt;<i> Yeah; whenever we drop a Python version we should always support at least one more release, so that people have some notice before they lose access to the next set of security updates.
</I>&gt;&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;&gt;<i> Any 3.5 users on this list who would want to postpone it longer than this?
</I>&gt;&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> Sadly we have an important customer whose servers run debian oldstable, which means we need to stay compatible with 3.5 until we can persuade them to upgrade, and it's taken a couple of years to get them off python 2.7...
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> I'm not sure that should necessarily affect your plans, but I doubt we're alone in this situation.
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I guess one thing I'm curious about is why your application would need to be installed along with the system Python on those OS versions?  It seems like a packaging strategy that ignored the fossilized versions that Debian packages with the system and just built its own Python would be more reliable and allow for upgrading at least most Python dependencies well beyond what the system would allow by policy.  Or, for that matter, why not just run in a Docker container?
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Matrix is a pretty big user, and so in some sense I care about this specific case, but I also find the general question interesting, because I have difficulty reasoning about how long to support older versions of things in the modern application packaging environment where containers, virtualenvs, and associated tooling make it possible to effectively ignore the base environment. When &amp; why do you have to pay attention to it?
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> -glyph
</I>&gt;<i> 
</I>&gt;<i> I believe in this case its a general desire to keep track of what packages are running and where they've come from. They basically trust that packages from official Debian repositories are probably safe from being tampered with, whereas random tarballs of code from the web are not safe (unless they're signed by someone they trust or whatever).
</I>&gt;<i> 
</I>I think this sounds like a misunderstanding of Debian's vetting process?  It's not like there's a ton of additional auditing that goes into packaging something.  There's definitely an authentication process for both Twisted and Python, although this attestation could be somewhat stronger and less centralized, PyPI does quite a bit of heavy lifting there.
&gt;<i> Now, I think it would be possible to get a newer version of Python on their infrastructure if we needed, but I'm sure there would be hoops that would need to be jumped through and justifications given, etc, which would undoubtedly take some time. So really it just means extra faff for them and us, especially since we're only a small part of their overall infrastructure.
</I>&gt;<i> 
</I>It's worth noting that Python 3.5 itself is out of security support (per <A HREF="https://www.python.org/dev/peps/pep-0478/">https://www.python.org/dev/peps/pep-0478/</A> &lt;<A HREF="https://www.python.org/dev/peps/pep-0478/">https://www.python.org/dev/peps/pep-0478/</A>&gt;) and it's not like Debian employs a team of Python security-support engineers to continue maintaining this dead branch.  If their infrastructure were to try to comply with various security standards such as PCI-DSS, you might bump into the need to upgrade to a newer version with available future patch releases anyway.
&gt;<i> Then there is the fact that they're not unique. While oldstable is, well, old, its still very much supported and so there's going to be a bunch of &quot;enterprise&quot; (for want of a better term) customers who will still be using it, and we'll need to go through the faff each and every time, which is quite tedious. Come the Autumn when oldstable stops being supported (or at least, goes into LTS mode),
</I>&gt;<i> 
</I>You say &quot;Autumn&quot;, but...  oldstable is supported for the purposes of migrating off of it... it's not really even supported by Debian proper.  To quote from <A HREF="https://wiki.debian.org/DebianOldStable">https://wiki.debian.org/DebianOldStable</A> &lt;<A HREF="https://wiki.debian.org/DebianOldStable">https://wiki.debian.org/DebianOldStable</A>&gt; :

&gt;&gt;&gt;<i> The security team tries to support a stable distribution for about one year after the next stable distribution has been released, except when another stable distribution is released within this year. It is not possible to support three distributions; supporting two simultaneously is already difficult enough.
</I>
According to <A HREF="https://wiki.debian.org/DebianBuster">https://wiki.debian.org/DebianBuster</A> &lt;<A HREF="https://wiki.debian.org/DebianBuster">https://wiki.debian.org/DebianBuster</A>&gt;, Buster was released on 2019-07-06, which means we've now got less than one month of even this small amount of support that is offered; i.e. the expectation from Debian's perspective is that they'd be done migrating off of oldstable by that point.  I guess <A HREF="https://wiki.debian.org/LTS">https://wiki.debian.org/LTS</A> &lt;<A HREF="https://wiki.debian.org/LTS">https://wiki.debian.org/LTS</A>&gt; is a separate project?
&gt;<i> it might become easier to justify that it really is reasonable for us to require a newer version of Python (and that they should really really upgrade their debian version, and its their own fault that they haven't and have to deal with faff that comes from that).
</I>&gt;<i> 
</I>&gt;<i> This would also be easier if debian had newer versions of python in backports, or someone ran a semi-official package repository which had them, but as far as I can tell no one does for debian.
</I>&gt;<i> 
</I>&gt;<i> (Of course you can argue that all the above is a bit silly from a security perspective, especially when you start considering virtualenvs and the like, but I have some sympathy for their outlook even if it is a pain at times).
</I>&gt;<i> 
</I>It's a bit of a pet peeve of mine for reasons which are mostly covered by this blog post -<A HREF="https://alexgaynor.net/2015/mar/30/red-hat-open-source-community/">https://alexgaynor.net/2015/mar/30/red-hat-open-source-community/</A> &lt;<A HREF="https://alexgaynor.net/2015/mar/30/red-hat-open-source-community/">https://alexgaynor.net/2015/mar/30/red-hat-open-source-community/</A>&gt;

But it bugs me not just because of the expectation of free labor (we can refuse to support 3.5 if that is a point of contention, as you say) but because &quot;security support&quot; is a bit of a misnomer, especially in Debian's case where there's no commercial relationship and hence not much in the way of libability.

Much to my chagrin I can't find the paper I remember reading about this right now, but, I believe these things are all true:

Many non-&quot;security&quot; bugs are in fact security bugs that nobody has noticed you can exploit.
Many &quot;low-severity&quot; or &quot;un-exploiable&quot; security bugs are in fact exploitable
&quot;supported&quot; distros rarely take care to backport many patches for their software, and when they do, they often make undetected errors (like debian's infamous ssh bug) which are analyzed by far fewer security analysts than the upstream source code.

So I feel like the folks making the decision to stick with these old &quot;supported&quot; distros are only getting half the story - sure, it won't break, but are they actually getting the security fixes that they think they are?  Debian's staff are stretched pretty thin as it is.
&gt;<i> In terms of twisted dropping support of 3.5, I guess the question is to what extent do you want applications to be hassle free to deploy on the more &quot;enterprise&quot; style environment?
</I>&gt;<i> 
</I>One other confusion I have about these environments is why they want very-old Python but don't also want very-old Twisted.
&gt;<i> Without having followed along with the thread my bias would be to keep support until stretch support is ended in the Autumn. Though if 3.5 support is holding things back a lot then I can completely understand dropping it sooner.
</I>&gt;<i> 
</I>This is somewhat moot, since I'd be pleasantly surprised if we managed to get another release out at all before September :).  But if this is your time frame then lagging your Twisted upgrade by one or two months doesn't seem like it would be worth us supporting this version for much longer.
&gt;<i> (FWIW in Matrix/Synapse we take the view that we retain compat with old-but-supported dependencies, such as postgres,       until/unless it starts being too costly in terms of maintenance and opportunity costs)
</I>
This is more or less the way I feel about Twisted, particularly around supporting old and weird kernels, because sometimes you really just can't control the environment you're being installed into and I don't want to make Twisted a blocker for that.  But supporting old Pythons, old service_identity modules, old OpenSSL's, etc, has been seeming more and more to me like a disservice to the community, because it facilitates the adoption of slow, insecure, dangerous deployment practices so we're not doing anyone any favors.

Anyway thank you very much for providing this perspective.  I'm curious about how folks deploying ossified software like this think about its security profile, but it's good to know that the practice is still going strong.

-glyph
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;/pipermail/twisted-python/attachments/20200608/180b252f/attachment-0001.htm&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="065121.html">[Twisted-Python] [RFC] Drop support for Python 3.5 sometime after May 2021?
</A></li>
	<LI>Next message (by thread): <A HREF="065130.html">[Twisted-Python] [RFC] Drop support for Python 3.5 sometime after May 2021?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65129">[ date ]</a>
              <a href="thread.html#65129">[ thread ]</a>
              <a href="subject.html#65129">[ subject ]</a>
              <a href="author.html#65129">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
