<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Supporting a two-part client protocol.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Supporting%20a%20two-part%20client%20protocol.&In-Reply-To=%3C2048928.Wt0HEHJxYC%40fpbarry%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="065009.html">
   <LINK REL="Next"  HREF="065011.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Supporting a two-part client protocol.</H1>
    <B>Barry Scott</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Supporting%20a%20two-part%20client%20protocol.&In-Reply-To=%3C2048928.Wt0HEHJxYC%40fpbarry%3E"
       TITLE="[Twisted-Python] Supporting a two-part client protocol.">barry.scott at forcepoint.com
       </A><BR>
    <I>Wed Feb  5 08:09:28 MST 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="065009.html">[Twisted-Python] Supporting a two-part client protocol.
</A></li>
        <LI>Next message (by thread): <A HREF="065011.html">[Twisted-Python] Supporting a two-part client protocol.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65010">[ date ]</a>
              <a href="thread.html#65010">[ thread ]</a>
              <a href="subject.html#65010">[ subject ]</a>
              <a href="author.html#65010">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wednesday, 5 February 2020 08:48:41 GMT Colin Dunklau wrote:
&gt;<i> I wasn't able to find an example in Twisted of an implicit state
</I>&gt;<i> machine. Maybe someone else has a concrete example somewhere?
</I>
There is an example of an explicit state machine in the twisted code
for http chunked transfer encoding.

Its in <A HREF="https://github.com/twisted/twisted/blob/trunk/src/twisted/web/">https://github.com/twisted/twisted/blob/trunk/src/twisted/web/</A>
http.py#L1779

If there is code that assumes that it can react directly off of the events 
from a framework like twisted. When events happen in an unexpected
sequence you can end with errors. For example you can get a connectionLost
event at any time.

If you have a state machine it is easy to know what the clean actions will be.
But if there is no explicit state the code may not have the information it
needs to handle the connectionLost in an appropriate ways.

The situation with states and events only gets more complex when there
are deferred's that run after a connectionLost event and assume a connect
is still live. If such a deferred can check an explicit state it is far easier
to make the code work appropriately.

Barry



</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="065009.html">[Twisted-Python] Supporting a two-part client protocol.
</A></li>
	<LI>Next message (by thread): <A HREF="065011.html">[Twisted-Python] Supporting a two-part client protocol.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65010">[ date ]</a>
              <a href="thread.html#65010">[ thread ]</a>
              <a href="subject.html#65010">[ subject ]</a>
              <a href="author.html#65010">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
