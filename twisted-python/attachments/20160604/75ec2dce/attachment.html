<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
In&nbsp;general,&nbsp;if&nbsp;you&#39;re&nbsp;writing&nbsp;performance-sensitive&nbsp;code,&nbsp;you&nbsp;should&lt;br&gt;<br>
not&nbsp;use&nbsp;deferToThread. &nbsp;Instead,&nbsp;you&nbsp;should&nbsp;use&nbsp;deferToThreadPool:&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://twistedmatrix.com/documents/current/api/twisted.internet.threads.html#deferToThreadPool&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://twistedmatrix.com/documents/current/api/twisted.internet.threads.html#deferToThreadPool&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
That&#39;s&nbsp;because&nbsp;the&nbsp;reactor&#39;s&nbsp;threadpool,&nbsp;which&nbsp;deferToThread&nbsp;uses,&lt;br&gt;<br>
also&nbsp;handles&nbsp;things&nbsp;like&nbsp;DNS&nbsp;lookups. &nbsp;That&nbsp;means&nbsp;other&nbsp;parts&nbsp;of&nbsp;your&lt;br&gt;<br>
Twisted&nbsp;program&nbsp;will&nbsp;compete&nbsp;with&nbsp;your&nbsp;performance-sensitive&nbsp;code. &nbsp;To&lt;br&gt;<br>
ensure&nbsp;that&nbsp;your&nbsp;performance-sensitive&nbsp;code&nbsp;gets&nbsp;the&nbsp;best&nbsp;chance&nbsp;to&lt;br&gt;<br>
run&nbsp;it&nbsp;should&nbsp;be&nbsp;given&nbsp;its&nbsp;own&nbsp;thread&nbsp;pool,&nbsp;which&nbsp;*only*&nbsp;runs&nbsp;that&lt;br&gt;<br>
code. &nbsp;I&#39;ll&nbsp;use&nbsp;such&nbsp;a&nbsp;thread&nbsp;pool&nbsp;in&nbsp;my&nbsp;version&nbsp;of&nbsp;your&nbsp;test&nbsp;program.&lt;br&gt;<br>
&lt;br&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://gist.github.com/markrwilliams/2e40ed0fa06a9e653609dd61fd80ca95#file-simple_threadpool-py&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;https://gist.github.com/markrwilliams/2e40ed0fa06a9e653609dd61fd80ca95#file-simple_threadpool-py&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Hi&nbsp;Mark&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; You&nbsp;mentioned&nbsp;deferToThreadPool.&nbsp;I&nbsp;am&nbsp;curious&nbsp;whether&nbsp;the&nbsp;standard&nbsp;threadpool&nbsp;in&nbsp;multipleprocessing.dummy&nbsp;works&nbsp;with&nbsp;twisted.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Regards&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;gelin&nbsp;yan&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
