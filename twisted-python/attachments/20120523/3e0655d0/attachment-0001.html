<tt>
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;14px;&nbsp;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;&quot;&gt;&lt;div&gt;Hi,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;have&nbsp;a&nbsp;class&nbsp;that&nbsp;needs&nbsp;to&nbsp;kick&nbsp;off&nbsp;a&nbsp;method&nbsp;the&nbsp;repeatedly&nbsp;gets&nbsp;call&nbsp;every&nbsp;so&nbsp;many&nbsp;seconds,&nbsp;lets&nbsp;say&nbsp;2&nbsp;seconds.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;chose&nbsp;to&nbsp;use&nbsp;task.deferLater&nbsp;to&nbsp;do&nbsp;this,&nbsp;but&nbsp;seems&nbsp;like&nbsp;LoopingCall&nbsp;gives&nbsp;similar&nbsp;results..&nbsp;&nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I've&nbsp;boiled&nbsp;it&nbsp;down&nbsp;to&nbsp;the&nbsp;following&nbsp;example&lt;/div&gt;&lt;div&gt;&gt;&gt;&gt;&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;from&nbsp;twisted.internet&nbsp;import&nbsp;reactor,&nbsp;task&lt;/div&gt;&lt;div&gt;from&nbsp;twisted.trial&nbsp;import&nbsp;unittest&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;class&nbsp;MyLoop(object):&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self):&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.updateParameters()&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;updateParameters(self):&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d&nbsp;=&nbsp;task.deferLater(reactor,&nbsp;2,&nbsp;self.dosomething)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;dosomething(self):&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;&quot;cool&quot;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;class&nbsp;LoopTestCase(unittest.TestCase):&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;setUp(self):&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.cL&nbsp;=&nbsp;MyLoop()&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;test_dummy(self):&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d&nbsp;=&nbsp;defer.Deferred()&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.addCallback(lambda&nbsp;x:&nbsp;x)&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.callback(None)&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;d&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&nbsp;#&nbsp;return&nbsp;a&nbsp;deferred&nbsp;just&nbsp;in&nbsp;case&nbsp;but&nbsp;happens&nbsp;either&nbsp;way&lt;/div&gt;&lt;div&gt;&gt;&gt;&gt;&gt;&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;MyLoop&nbsp;works&nbsp;when&nbsp;running&nbsp;normally&nbsp;with&nbsp;a&nbsp;reactor.run(),&nbsp;but&nbsp;when&nbsp;I&nbsp;try&nbsp;run&nbsp;this&nbsp;test,&nbsp;I&nbsp;get&nbsp;the&nbsp;following&nbsp;error:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;[ERROR]&lt;/div&gt;&lt;div&gt;Traceback&nbsp;(most&nbsp;recent&nbsp;call&nbsp;last):&lt;/div&gt;&lt;div&gt;Failure:&nbsp;twisted.trial.util.DirtyReactorAggregateError:&nbsp;Reactor&nbsp;was&nbsp;unclean.&lt;/div&gt;&lt;div&gt;DelayedCalls:&nbsp;(set&nbsp;twisted.internet.base.DelayedCall.debug&nbsp;=&nbsp;True&nbsp;to&nbsp;debug)&lt;/div&gt;&lt;div&gt;&lt;DelayedCall&nbsp;0x1018fbb90&nbsp;[1.99891901016s]&nbsp;called=0&nbsp;cancelled=0&nbsp;Deferred.callback(None)&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;So&nbsp;I&nbsp;don't&nbsp;fully&nbsp;understand&nbsp;what's&nbsp;going&nbsp;on&nbsp;to&nbsp;cause&nbsp;this.&nbsp;&nbsp;Any&nbsp;pointers&nbsp;would&nbsp;be&nbsp;appreciated&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-Nick&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;<br>

</tt>
