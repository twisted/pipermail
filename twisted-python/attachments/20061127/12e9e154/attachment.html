<tt>
&lt;html&gt;&lt;body&gt;&lt;br&nbsp;/&gt;On&nbsp;12:31&nbsp;am,&nbsp;jml@mumak.net&nbsp;wrote:&lt;br&nbsp;/&gt;&gt;Hello,&lt;br&nbsp;/&gt;&gt;&lt;br&nbsp;/&gt;&gt;The&nbsp;reliability&nbsp;of&nbsp;our&nbsp;trac&nbsp;instance&nbsp;is&nbsp;ludicrous.&nbsp;&#160;It&nbsp;is&nbsp;becoming&lt;br&nbsp;/&gt;&gt;extremely&nbsp;difficult&nbsp;to&nbsp;do&nbsp;any&nbsp;work&nbsp;on&nbsp;Twisted,&nbsp;particularly&nbsp;during&nbsp;the&lt;br&nbsp;/&gt;&gt;hours&nbsp;when&nbsp;America&nbsp;is&nbsp;asleep.&lt;br&nbsp;/&gt;&gt;&lt;br&nbsp;/&gt;&gt;I'm&nbsp;very&nbsp;grateful&nbsp;for&nbsp;Jp's&nbsp;tireless&nbsp;efforts&nbsp;in&nbsp;making&nbsp;trac&nbsp;work&nbsp;as&lt;br&nbsp;/&gt;&gt;much&nbsp;as&nbsp;it&nbsp;has.&nbsp;&#160;I&nbsp;have&nbsp;some&nbsp;idea&nbsp;of&nbsp;how&nbsp;busy&nbsp;he&nbsp;is,&nbsp;and&nbsp;can&nbsp;imagine&lt;br&nbsp;/&gt;&gt;how&nbsp;frustrating&nbsp;the&nbsp;task&nbsp;must&nbsp;be.&nbsp;&#160;However,&nbsp;we&nbsp;can't&nbsp;continue&nbsp;running&lt;br&nbsp;/&gt;&gt;our&nbsp;issue&nbsp;tracker&nbsp;like&nbsp;this.&lt;br&nbsp;/&gt;&gt;&lt;br&nbsp;/&gt;&gt;First&nbsp;question&nbsp;is,&nbsp;what&nbsp;is&nbsp;causing&nbsp;the&nbsp;outages?&nbsp;People&nbsp;on&nbsp;#twisted&lt;br&nbsp;/&gt;&gt;have&nbsp;commented&nbsp;that&nbsp;they&nbsp;haven't&nbsp;seen&nbsp;similar&nbsp;behaviour&nbsp;on&nbsp;their&nbsp;own&lt;br&nbsp;/&gt;&gt;tracs.&nbsp;The&nbsp;outages&nbsp;are&nbsp;so&nbsp;frequent&nbsp;that&nbsp;this&nbsp;is&nbsp;becoming&nbsp;an&nbsp;FAQ.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;There&nbsp;are&nbsp;several&nbsp;problems:&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;&#160;&nbsp;Segfaults&nbsp;in&nbsp;the&nbsp;svn&nbsp;bindings&nbsp;-&nbsp;in&nbsp;correspondence&nbsp;with&nbsp;the&nbsp;trac&nbsp;team,&nbsp;I&nbsp;have&nbsp;been&nbsp;told&nbsp;(almost&nbsp;in&nbsp;so&nbsp;many&nbsp;words)&nbsp;that&nbsp;bdb-backed&nbsp;svn&nbsp;repositories&nbsp;are&nbsp;unsupported&nbsp;and&nbsp;we&nbsp;should&nbsp;switch&nbsp;to&nbsp;fsfs.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;&#160;&nbsp;Segfaults&nbsp;in&nbsp;the&nbsp;SQLite&nbsp;bindings&nbsp;-&nbsp;likewise,&nbsp;in&nbsp;correspondence&nbsp;with&nbsp;the&nbsp;trac&nbsp;team,&nbsp;I&nbsp;have&nbsp;more&nbsp;or&nbsp;less&nbsp;been&nbsp;told&nbsp;that&nbsp;SQLite&nbsp;is&nbsp;not&nbsp;a&nbsp;supported&nbsp;database&nbsp;engine&nbsp;and&nbsp;that&nbsp;we&nbsp;should&nbsp;switch&nbsp;to&nbsp;PostgreSQL.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;&#160;&nbsp;Deadlocks&nbsp;in...&nbsp;who&nbsp;knows&nbsp;where.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;&gt;&lt;br&nbsp;/&gt;&gt;The&nbsp;second&nbsp;question&nbsp;is,&nbsp;how&nbsp;can&nbsp;I&nbsp;help&nbsp;trac&nbsp;to&nbsp;work&nbsp;better?&nbsp;Would&nbsp;it&lt;br&nbsp;/&gt;&gt;help&nbsp;to&nbsp;throw&nbsp;more&nbsp;hardware&nbsp;at&nbsp;the&nbsp;problem?&nbsp;Should&nbsp;we&nbsp;switch&nbsp;to&lt;br&nbsp;/&gt;&gt;another&nbsp;tracker?&nbsp;(blech)&nbsp;Are&nbsp;there&nbsp;open&nbsp;tickets&nbsp;on&nbsp;trac&nbsp;itself&nbsp;that&nbsp;I&lt;br&nbsp;/&gt;&gt;could&nbsp;submit&nbsp;patches&nbsp;for?&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;It&nbsp;might&nbsp;be&nbsp;possible&nbsp;to&nbsp;resolve&nbsp;the&nbsp;above&nbsp;mentioned&nbsp;problems.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;If&nbsp;we&nbsp;convert&nbsp;the&nbsp;repository&nbsp;to&nbsp;fsfs,&nbsp;we&nbsp;might&nbsp;find&nbsp;the&nbsp;segfaults&nbsp;from&nbsp;the&nbsp;svn&nbsp;bindings&nbsp;disappear&nbsp;(of&nbsp;course,&nbsp;we&nbsp;might&nbsp;not&nbsp;-&nbsp;I&nbsp;think&nbsp;we&nbsp;can&nbsp;all&nbsp;recognize&nbsp;the&nbsp;quality&nbsp;of&nbsp;this&nbsp;sort&nbsp;of&nbsp;bug&nbsp;stomping).&nbsp;&#160;In&nbsp;addition&nbsp;to&nbsp;the&nbsp;actual&nbsp;task&nbsp;of&nbsp;converting,&nbsp;involved&nbsp;in&nbsp;this&nbsp;would&nbsp;be&nbsp;some&nbsp;level&nbsp;of&nbsp;investigation&nbsp;into&nbsp;the&nbsp;level&nbsp;of&nbsp;stability&nbsp;of&nbsp;the&nbsp;fsfs&nbsp;backend&nbsp;available&nbsp;in&nbsp;the&nbsp;version&nbsp;of&nbsp;debian&nbsp;used&nbsp;on&nbsp;wolfwood,&nbsp;an&nbsp;effort&nbsp;to&nbsp;package&nbsp;or&nbsp;have&nbsp;packaged&nbsp;a&nbsp;newer&nbsp;version,&nbsp;or&nbsp;an&nbsp;upgrade&nbsp;of&nbsp;wolfwood&nbsp;(however,&nbsp;since&nbsp;even&nbsp;edgy&nbsp;lacks&nbsp;svn&nbsp;1.4,&nbsp;this&nbsp;probably&nbsp;isn't&nbsp;a&nbsp;useful&nbsp;endeavour).&nbsp;&#160;This&nbsp;may&nbsp;also&nbsp;involve&nbsp;recompiling&nbsp;several&nbsp;packages&nbsp;on&nbsp;pyramid&nbsp;to&nbsp;add&nbsp;fsfs&nbsp;support&nbsp;or&nbsp;remove&nbsp;bdb&nbsp;support.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;If&nbsp;we&nbsp;convert&nbsp;the&nbsp;trac&nbsp;database&nbsp;to&nbsp;use&nbsp;PostgreSQL,&nbsp;the&nbsp;SQLite&nbsp;segfaults&nbsp;will&nbsp;hopefully&nbsp;go&nbsp;away.&nbsp;;)&nbsp;&#160;This&nbsp;involves&nbsp;setting&nbsp;up&nbsp;a&nbsp;PostgreSQL&nbsp;server&nbsp;which&nbsp;we&nbsp;can&nbsp;use&nbsp;for&nbsp;trac&nbsp;(one&nbsp;is&nbsp;running&nbsp;on&nbsp;pyramid&nbsp;now,&nbsp;for&nbsp;the&nbsp;benefit&nbsp;of&nbsp;buildbot,&nbsp;beyond&nbsp;that,&nbsp;what&nbsp;state&nbsp;it&nbsp;is&nbsp;in&nbsp;is&nbsp;not&nbsp;clear&nbsp;to&nbsp;me).&nbsp;&#160;There&nbsp;is&nbsp;a&nbsp;tool&nbsp;available&nbsp;from&nbsp;edgewall&nbsp;which&nbsp;is&nbsp;supposed&nbsp;to&nbsp;be&nbsp;capable&nbsp;of&nbsp;moving&nbsp;data&nbsp;from&nbsp;a&nbsp;SQLite&nbsp;database&nbsp;to&nbsp;a&nbsp;PostgreSQL&nbsp;database.&nbsp;&#160;The&nbsp;various&nbsp;scripts&nbsp;and&nbsp;utilities&nbsp;which&nbsp;we&nbsp;have&nbsp;(eg,&nbsp;the&nbsp;weekly&nbsp;bug&nbsp;summary)&nbsp;may&nbsp;also&nbsp;need&nbsp;to&nbsp;be&nbsp;adjusted&nbsp;(I&nbsp;forget&nbsp;to&nbsp;what&nbsp;extent&nbsp;they&nbsp;are&nbsp;tied&nbsp;to&nbsp;SQLite).&nbsp;&#160;Then,&nbsp;as&nbsp;an&nbsp;ongoing&nbsp;task,&nbsp;someone&nbsp;will&nbsp;need&nbsp;to&nbsp;maintain&nbsp;the&nbsp;PostgreSQL&nbsp;server.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;As&nbsp;for&nbsp;the&nbsp;random&nbsp;deadlocks&nbsp;which&nbsp;occur...&nbsp;I&nbsp;see&nbsp;no&nbsp;realistic&nbsp;course&nbsp;of&nbsp;action&nbsp;which&nbsp;is&nbsp;likely&nbsp;to&nbsp;resolve&nbsp;these.&nbsp;&#160;Perhaps,&nbsp;if&nbsp;the&nbsp;above&nbsp;changes&nbsp;are&nbsp;enacted,&nbsp;we&nbsp;will&nbsp;be&nbsp;lucky&nbsp;they&nbsp;will&nbsp;just&nbsp;go&nbsp;away&nbsp;by&nbsp;themselves.&nbsp;&#160;That&nbsp;seems&nbsp;to&nbsp;be&nbsp;the&nbsp;attitude&nbsp;of&nbsp;the&nbsp;trac&nbsp;developers,&nbsp;anyway.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;&gt;&lt;br&nbsp;/&gt;&gt;Finally,&nbsp;assuming&nbsp;Twisted's&nbsp;trac&nbsp;isn't&nbsp;going&nbsp;to&nbsp;get&nbsp;much&nbsp;better&nbsp;any&lt;br&nbsp;/&gt;&gt;time&nbsp;soon,&nbsp;I&nbsp;would&nbsp;greatly&nbsp;appreciate&nbsp;being&nbsp;given&nbsp;the&nbsp;permissions&nbsp;and&lt;br&nbsp;/&gt;&gt;training&nbsp;to&nbsp;restore&nbsp;trac.&nbsp;I&nbsp;think&nbsp;it&nbsp;would&nbsp;also&nbsp;be&nbsp;a&nbsp;good&nbsp;idea&nbsp;to&lt;br&nbsp;/&gt;&gt;share&nbsp;the&nbsp;responsibility&nbsp;with&nbsp;someone&nbsp;in&nbsp;a&nbsp;European&nbsp;timezone.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;Before&nbsp;I&nbsp;left&nbsp;last&nbsp;week&nbsp;I&nbsp;set&nbsp;up&nbsp;a&nbsp;cron&nbsp;job&nbsp;to&nbsp;take&nbsp;care&nbsp;of&nbsp;this.&nbsp;&#160;When&nbsp;I&nbsp;returned&nbsp;it&nbsp;was&nbsp;still&nbsp;doing&nbsp;its&nbsp;job,&nbsp;so&nbsp;the&nbsp;level&nbsp;of&nbsp;availability&nbsp;seen&nbsp;over&nbsp;the&nbsp;past&nbsp;week&nbsp;or&nbsp;so&nbsp;may&nbsp;be&nbsp;the&nbsp;highest&nbsp;we&nbsp;can&nbsp;expect&nbsp;until&nbsp;we&nbsp;do&nbsp;something&nbsp;else&nbsp;fundamental&nbsp;to&nbsp;fix&nbsp;the&nbsp;issue.&nbsp;&#160;However,&nbsp;the&nbsp;SSH&nbsp;key&nbsp;you&nbsp;gave&nbsp;me&nbsp;long&nbsp;ago&nbsp;is&nbsp;still&nbsp;in&nbsp;place&nbsp;and&nbsp;you&nbsp;should&nbsp;still&nbsp;have&nbsp;access&nbsp;to&nbsp;restart&nbsp;the&nbsp;server&nbsp;(just&nbsp;connecting&nbsp;should&nbsp;do&nbsp;it).&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;Personally,&nbsp;I&nbsp;am&nbsp;in&nbsp;favor&nbsp;of&nbsp;switching&nbsp;away&nbsp;from&nbsp;trac,&nbsp;as&nbsp;I&nbsp;have&nbsp;been&nbsp;since&lt;br&nbsp;/&gt;shortly&nbsp;before&nbsp;we&nbsp;adopted&nbsp;it.&nbsp;;)&nbsp;&#160;The&nbsp;only&nbsp;open&nbsp;question&nbsp;is&nbsp;when&nbsp;the&nbsp;replacement&nbsp;will&nbsp;be&nbsp;ready.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;Jean-Paul&lt;br&nbsp;/&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
