<tt>
&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Aug&nbsp;5,&nbsp;2009&nbsp;at&nbsp;12:14&nbsp;AM,&nbsp;Johann&nbsp;Borck&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:johann.borck@densedata.com&quot;&gt;johann.borck@densedata.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
On&nbsp;Tue,&nbsp;Aug&nbsp;4,&nbsp;2009&nbsp;at&nbsp;10:08&nbsp;AM,&nbsp;John&nbsp;Aherne&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:johnaherne@rocs.co.uk&quot;&gt;johnaherne@rocs.co.uk&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;&amp;lt;mailto:&lt;a&nbsp;href=&quot;mailto:johnaherne@rocs.co.uk&quot;&gt;johnaherne@rocs.co.uk&lt;/a&gt;&amp;gt;&amp;gt;&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&nbsp;This&nbsp;is&nbsp;a&nbsp;really&nbsp;basic&nbsp;problem&nbsp;we&nbsp;are&nbsp;trying&nbsp;to&nbsp;decide&nbsp;about,&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;We&nbsp;have&nbsp;programs&nbsp;that&nbsp;run&nbsp;quite&nbsp;happily,&nbsp;so&nbsp;far.&nbsp;Its&nbsp;main&nbsp;task&nbsp;is&nbsp;to&lt;br&gt;<br>
&amp;gt;&nbsp;receive&nbsp;data&nbsp;from&nbsp;port&nbsp;A&nbsp;and&nbsp;send&nbsp;it&nbsp;out&nbsp;via&nbsp;port&nbsp;B.&nbsp;Then&nbsp;receive&nbsp;data&lt;br&gt;<br>
&amp;gt;&nbsp;via&nbsp;port&nbsp;B&nbsp;and&nbsp;send&nbsp;it&nbsp;out&nbsp;via&nbsp;port&nbsp;A.&nbsp;It&amp;#39;s&nbsp;pretty&nbsp;much&nbsp;like&nbsp;a&nbsp;chat&lt;br&gt;<br>
&amp;gt;&nbsp;setup.&nbsp;You&nbsp;just&nbsp;build&nbsp;up&nbsp;a&nbsp;list&nbsp;of&nbsp;connected&nbsp;clients&nbsp;and&nbsp;send&nbsp;data&nbsp;to&lt;br&gt;<br>
&amp;gt;&nbsp;them&nbsp;as&nbsp;required&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;One&nbsp;side&nbsp;A&nbsp;receives&nbsp;some&nbsp;input&nbsp;from&nbsp;a&nbsp;tcp&nbsp;port&nbsp;-&nbsp;about&nbsp;100-200&lt;br&gt;<br>
&amp;gt;&nbsp;characters,&nbsp;and&nbsp;forwards&nbsp;it&nbsp;to&nbsp;another&nbsp;port&nbsp;B.&nbsp;We&nbsp;do&nbsp;not&nbsp;need&nbsp;to&nbsp;wait&lt;br&gt;<br>
&amp;gt;&nbsp;for&nbsp;any&nbsp;response.&nbsp;If&nbsp;we&nbsp;get&nbsp;a&nbsp;response&nbsp;we&nbsp;pick&nbsp;that&nbsp;up&nbsp;through&nbsp;line&lt;br&gt;<br>
&amp;gt;&nbsp;receiver.&nbsp;We&nbsp;also&nbsp;run&nbsp;a&nbsp;calllater&nbsp;to&nbsp;check&nbsp;if&nbsp;we&nbsp;got&nbsp;a&nbsp;response&nbsp;on&lt;br&gt;<br>
&amp;gt;&nbsp;linereceiver&nbsp;within&nbsp;the&nbsp;timeframe&nbsp;specified.&nbsp;If&nbsp;not&nbsp;we&nbsp;drop&nbsp;the&lt;br&gt;<br>
&amp;gt;&nbsp;connection.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Traffic&nbsp;coming&nbsp;in&nbsp;from&nbsp;port&nbsp;B&nbsp;is&nbsp;analysed&nbsp;and&nbsp;some&nbsp;subset&nbsp;is&nbsp;sent&nbsp;back&lt;br&gt;<br>
&amp;gt;&nbsp;to&nbsp;port&nbsp;A.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Ignoring&nbsp;port&nbsp;A&nbsp;for&nbsp;the&nbsp;moment,&nbsp;just&nbsp;concentrating&nbsp;on&nbsp;port&nbsp;B,&nbsp;we&nbsp;have&lt;br&gt;<br>
&amp;gt;&nbsp;tried&nbsp;three&nbsp;options:--&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;1.&nbsp;We&nbsp;set&nbsp;up&nbsp;a&nbsp;defer&nbsp;to&nbsp;handle&nbsp;the&nbsp;sendline&nbsp;to&nbsp;port&nbsp;B&nbsp;so&nbsp;that&nbsp;the&lt;br&gt;<br>
&amp;gt;&nbsp;reactor&nbsp;would&nbsp;schedule&nbsp;it&nbsp;in&nbsp;its&nbsp;own&nbsp;good&nbsp;time.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;The&nbsp;reactor&nbsp;always&nbsp;schedules&nbsp;reads&nbsp;and&nbsp;writes&nbsp;&amp;quot;in&nbsp;its&nbsp;own&nbsp;good&nbsp;time&amp;quot;,&lt;br&gt;<br>
which&nbsp;means&nbsp;it&nbsp;writes&nbsp;whenever&nbsp;there&amp;#39;s&nbsp;data&nbsp;to&nbsp;write&nbsp;and&nbsp;the&nbsp;socket&nbsp;is&lt;br&gt;<br>
ready&nbsp;for&nbsp;writing.&nbsp;If&nbsp;you&nbsp;have&nbsp;data&nbsp;that&nbsp;can&amp;#39;t&nbsp;be&nbsp;written&nbsp;at&nbsp;once,&lt;br&gt;<br>
because&nbsp;it&amp;#39;s&nbsp;too&nbsp;much&nbsp;for&nbsp;the&nbsp;socket&nbsp;to&nbsp;handle&nbsp;in&nbsp;a&nbsp;non-blocking&lt;br&gt;<br>
fashion,&nbsp;the&nbsp;reactor&nbsp;(along&nbsp;with&nbsp;the&nbsp;transport)&nbsp;will&nbsp;take&nbsp;care&nbsp;of&nbsp;it,&lt;br&gt;<br>
and&nbsp;defer&nbsp;its&nbsp;delivery&nbsp;itself,&nbsp;no&nbsp;need&nbsp;for&nbsp;any&nbsp;deferreds&nbsp;you&amp;#39;d&nbsp;had&nbsp;to&lt;br&gt;<br>
care&nbsp;about&nbsp;here.&lt;br&gt;<br>
&lt;br&gt;<br>
Correct&nbsp;me&nbsp;if&nbsp;I&amp;#39;m&nbsp;wrong,&nbsp;but&nbsp;as&nbsp;I&nbsp;understand&nbsp;your&nbsp;description,&nbsp;option&nbsp;1.&lt;br&gt;<br>
and&nbsp;2.&nbsp;do&nbsp;not&nbsp;behave&nbsp;identically.&nbsp;This&nbsp;is&nbsp;how&nbsp;I&nbsp;interpret&nbsp;it:&lt;br&gt;<br>
option&nbsp;1:&lt;br&gt;<br>
&lt;br&gt;<br>
A&nbsp;sends&nbsp;msg1&nbsp;to&nbsp;[svc]&nbsp;:&nbsp;wrap&nbsp;msg1&nbsp;in&nbsp;deferred1&lt;br&gt;<br>
[&nbsp;-&nbsp;time&nbsp;-&nbsp;]&lt;br&gt;<br>
B&nbsp;sends&nbsp;data?&nbsp;to&nbsp;[svc]&nbsp;:&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1.&nbsp;callback&nbsp;deferred1:&nbsp;[svc]&lt;br&gt;<br>
sends&nbsp;msg1&nbsp;to&nbsp;B&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2.&nbsp;handle&nbsp;data?&lt;br&gt;<br>
B&nbsp;sends&nbsp;rsp1&nbsp;to&nbsp;[svc]:&nbsp;[svc]&nbsp;sends&nbsp;rsp1&nbsp;to&nbsp;A&lt;br&gt;<br>
&lt;br&gt;<br>
option&nbsp;2:&lt;br&gt;<br>
&lt;br&gt;<br>
A&nbsp;sends&nbsp;msg1&nbsp;to&nbsp;[svc]&nbsp;:&nbsp;[svc]&nbsp;sends&nbsp;msg1&nbsp;to&nbsp;B&lt;br&gt;<br>
B&nbsp;sends&nbsp;rsp1&nbsp;to&nbsp;[svc]&nbsp;:&nbsp; [svc]&nbsp;sends&nbsp;rsp1&nbsp;to&nbsp;A&lt;br&gt;<br>
&lt;br&gt;<br>
If&nbsp;this&nbsp;is&nbsp;the&nbsp;case,&nbsp;you&nbsp;rely&nbsp;on&nbsp;some&nbsp;data?&nbsp;being&nbsp;sent&nbsp;to&nbsp;[svc]&nbsp;before&lt;br&gt;<br>
msg1&nbsp;can&nbsp;be&nbsp;forwarded&nbsp;to&nbsp;B.&nbsp;That&nbsp;means&nbsp;that&nbsp;you&nbsp;have&nbsp;msg1&nbsp;in&nbsp;memory&lt;br&gt;<br>
until&nbsp;you&nbsp;receive&nbsp;data?&nbsp;from&nbsp;B.&nbsp;This&nbsp;doesn&amp;#39;t&nbsp;cause&nbsp;problems&nbsp;in&nbsp;your&lt;br&gt;<br>
case,&nbsp;since&nbsp;you&nbsp;handle&nbsp;small&nbsp;messages&nbsp;in&nbsp;big&nbsp;intervals.&nbsp;But&nbsp;if&nbsp;you&amp;#39;d&lt;br&gt;<br>
increase&nbsp;the&nbsp;load&nbsp;significantly,&nbsp;you&amp;#39;d&nbsp;also&nbsp;need&nbsp;significantly&nbsp;more&nbsp;RAM&lt;br&gt;<br>
for&nbsp;no&nbsp;good&nbsp;reason.&nbsp;A&nbsp;case&nbsp;where&nbsp;option&nbsp;1&nbsp;might&nbsp;make&nbsp;sense&nbsp;would&nbsp;be&nbsp;if&lt;br&gt;<br>
it&nbsp;depended&nbsp;on&nbsp;data?&nbsp;provided&nbsp;by&nbsp;B,&nbsp;to&nbsp;decide&nbsp;if&nbsp;or&nbsp;how&nbsp;to&nbsp;continue&lt;br&gt;<br>
processing&nbsp;msg1.&nbsp;Then&nbsp;you&nbsp;had&nbsp;a&nbsp;valid&nbsp;use-case&nbsp;for&nbsp;deferreds.&nbsp;Since&lt;br&gt;<br>
there&nbsp;are&nbsp;no&nbsp;such&nbsp;requirements,&nbsp;option&nbsp;2&nbsp;is&nbsp;definitely&nbsp;the&nbsp;right&nbsp;choice.&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;No&nbsp;threads&nbsp;involved&nbsp;using&nbsp;the&nbsp;standard&nbsp;twisted&nbsp;setup.&nbsp;When&nbsp;we&nbsp;get&nbsp;a&lt;br&gt;<br>
&amp;gt;&nbsp;response&nbsp;through&nbsp;receiveline&nbsp;we&nbsp;fire&nbsp;the&nbsp;callback&nbsp;defer.&nbsp;If&nbsp;we&nbsp;timeout&lt;br&gt;<br>
&amp;gt;&nbsp;via&nbsp;callLater&nbsp;we&nbsp;fire&nbsp;the&nbsp;errback&nbsp;to&nbsp;clear&nbsp;the&nbsp;defer.&nbsp;In&nbsp;this&nbsp;case&nbsp;the&lt;br&gt;<br>
&amp;gt;&nbsp;defer&nbsp;does&nbsp;not&nbsp;seem&nbsp;to&nbsp;be&nbsp;doing&nbsp;very&nbsp;much&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;2.&nbsp;Now&nbsp;a&nbsp;fresh&nbsp;pair&nbsp;of&nbsp;eyes&nbsp;is&nbsp;looking&nbsp;at&nbsp;the&nbsp;code&nbsp;and&nbsp;saying&nbsp;why&nbsp;are&lt;br&gt;<br>
&amp;gt;&nbsp;we&nbsp;using&nbsp;a&nbsp;deferred&nbsp;for&nbsp;sending&nbsp;data&nbsp;to&nbsp;port&nbsp;B.&nbsp;We&nbsp;could&nbsp;just&nbsp;issue&nbsp;a&lt;br&gt;<br>
&amp;gt;&nbsp;straight&nbsp;sendline&nbsp;as&nbsp;part&nbsp;of&nbsp;the&nbsp;main&nbsp;code&nbsp;and&nbsp;carry&nbsp;on.&nbsp;If&nbsp;we&nbsp;get&nbsp;a&lt;br&gt;<br>
&amp;gt;&nbsp;response&nbsp;via&nbsp;linereceiver,we&nbsp;process&nbsp;it&nbsp;normally,&nbsp;otherwise&nbsp;we&nbsp;set&nbsp;our&lt;br&gt;<br>
&amp;gt;&nbsp;callLater&nbsp;running&nbsp;and&nbsp;timeout&nbsp;and&nbsp;lose&nbsp;the&nbsp;connection.&nbsp;So&nbsp;no&nbsp;deferreds&lt;br&gt;<br>
&amp;gt;&nbsp;required&nbsp;at&nbsp;all.&nbsp;It&nbsp;does&nbsp;seem&nbsp;to&nbsp;work.What&nbsp;we&nbsp;are&nbsp;not&nbsp;sure&nbsp;about&nbsp;is&lt;br&gt;<br>
&amp;gt;&nbsp;what&nbsp;penalty&nbsp;is&nbsp;incurred&nbsp;in&nbsp;terms&nbsp;of&nbsp;reliability&nbsp;or&nbsp;throughput&nbsp;by&lt;br&gt;<br>
&amp;gt;&nbsp;using&nbsp;sendline&nbsp;without&nbsp;a&nbsp;deferred.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;There&amp;#39;s&nbsp;absolutely&nbsp;no&nbsp;penalty&nbsp;(unless&nbsp;you&nbsp;allow&nbsp;the&nbsp;notion&nbsp;of&nbsp;negative&lt;br&gt;<br>
penalties).&nbsp;Using&nbsp;sendline&nbsp;directly&nbsp;is&nbsp;faster&nbsp;than&nbsp;using&nbsp;a&nbsp;deferred&nbsp;in&lt;br&gt;<br>
between,&nbsp;even&nbsp;if&nbsp;you&nbsp;don&amp;#39;t&nbsp;count&nbsp;the&nbsp;memory&nbsp;overhead.&nbsp;I&nbsp;think&nbsp;there&amp;#39;s&nbsp;a&lt;br&gt;<br>
bit&nbsp;confusion&nbsp;about&nbsp;the&nbsp;role&nbsp;of&nbsp;deferreds&nbsp;in&nbsp;twisted&nbsp;here.&nbsp;Deferreds&lt;br&gt;<br>
don&amp;#39;t&nbsp;help&nbsp;you&nbsp;(or&nbsp;the&nbsp;reactor)&nbsp;with&nbsp;scheduling,&nbsp;they&nbsp;only&nbsp;provide&nbsp;you&lt;br&gt;<br>
with&nbsp;a&nbsp;means&nbsp;to&nbsp;continue&nbsp;some&nbsp;processing&nbsp;after&nbsp;a&nbsp;certain&nbsp;event&nbsp;occurred.&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&amp;gt;&nbsp;We&nbsp;are&nbsp;not&nbsp;too&nbsp;sure&nbsp;what&nbsp;the&nbsp;holdup&nbsp;will&nbsp;be&nbsp;and&nbsp;whether&nbsp;it&nbsp;could&nbsp;end&lt;br&gt;<br>
&amp;gt;&nbsp;up&nbsp;halting&nbsp;the&nbsp;show.&nbsp;Is&nbsp;it&nbsp;better&nbsp;to&nbsp;schedule&nbsp;these&nbsp;messages&nbsp;via&lt;br&gt;<br>
&amp;gt;&nbsp;deferreds&nbsp;or&nbsp;am&nbsp;I&nbsp;missing&nbsp;something&nbsp;obvious&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;3.&nbsp;So&nbsp;we&nbsp;then&nbsp;did&nbsp;an&nbsp;experiment&nbsp;and&nbsp;used&nbsp;defertothread&nbsp;to&nbsp;run&nbsp;the&lt;br&gt;<br>
&amp;gt;&nbsp;sendline&nbsp;in&nbsp;a&nbsp;separate&nbsp;thread&nbsp;with&nbsp;its&nbsp;own&nbsp;defer&nbsp;to&nbsp;maximise&nbsp;the&lt;br&gt;<br>
&amp;gt;&nbsp;asynchronous&nbsp;running&nbsp;of&nbsp;the&nbsp;code.&nbsp;So&nbsp;now&nbsp;we&nbsp;are&nbsp;running&nbsp;threads&nbsp;when&lt;br&gt;<br>
&amp;gt;&nbsp;one&nbsp;of&nbsp;the&nbsp;reasons&nbsp;for&nbsp;looking&nbsp;at&nbsp;twisted&nbsp;was&nbsp;that&nbsp;we&nbsp;could&nbsp;avoid&lt;br&gt;<br>
&amp;gt;&nbsp;threads&nbsp;as&nbsp;much&nbsp;as&nbsp;possible.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;Do&nbsp;you&nbsp;use&nbsp;sendline&nbsp;(the&nbsp;twisted&nbsp;api)&nbsp;from&nbsp;within&nbsp;the&nbsp;thread?&nbsp; If&nbsp;yes&lt;br&gt;<br>
and&nbsp;it&nbsp;works,&nbsp;it&nbsp;works&nbsp;accidentally,&nbsp;probably&nbsp;also&nbsp;due&nbsp;to&nbsp;the&nbsp;very&nbsp;small&lt;br&gt;<br>
load,&nbsp;and&nbsp;is&nbsp;definitely&nbsp;wrong&nbsp;(as&nbsp;well&nbsp;as&nbsp;unnecessary),&nbsp;twisted&nbsp;is&nbsp;not&lt;br&gt;<br>
threadsafe,&nbsp;with&nbsp;the&nbsp;exception&nbsp;of&nbsp;a&nbsp;few&nbsp;methods/functions&nbsp;like&lt;br&gt;<br>
callInThread/callFromThread/defertoThread&nbsp;etc.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
hope&nbsp;that&nbsp;helps,&lt;br&gt;<br>
&lt;font&nbsp;color=&quot;#888888&quot;&gt;Johann&lt;br&gt;<br>
&lt;/font&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Twisted-Python&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Twisted-Python@twistedmatrix.com&quot;&gt;Twisted-Python@twistedmatrix.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;Johann&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks&nbsp;for&nbsp;a&nbsp;very&nbsp;informative&nbsp;reply.&lt;br&gt;<br>
&lt;br&gt;<br>
Our&nbsp;problem&nbsp;was&nbsp;more&nbsp;basic&nbsp;than&nbsp;deferreds.&nbsp;It&nbsp;was&nbsp;to&nbsp;with&nbsp;the&nbsp;reactor&nbsp;and&nbsp;select&nbsp;command.&lt;br&gt;<br>
&lt;br&gt;Sendline&nbsp;is&nbsp;not&nbsp;blocking&nbsp;so&nbsp;as&nbsp;you&nbsp;say&nbsp;we&nbsp;can&nbsp;avoid&nbsp;the&nbsp;use&nbsp;of&nbsp;deferreds&nbsp;and&nbsp;continue&nbsp;to&nbsp;use&nbsp;sendline&nbsp;directly.&lt;br&gt;<br>
&lt;br&gt;Regarding&nbsp;messages&nbsp;being&nbsp;stored&nbsp;in&nbsp;memory,&nbsp;we&nbsp;only&nbsp;store&nbsp;the&nbsp;sequence&nbsp;number&nbsp;for&nbsp;each&nbsp;message&nbsp;so&nbsp;we&nbsp;can&nbsp;identify&nbsp;the&nbsp;message&nbsp;being&nbsp;responded&nbsp;to.&nbsp;We&nbsp;can&nbsp;then&nbsp;report&nbsp;back&nbsp;to&nbsp;A&nbsp;with&nbsp;the&nbsp;original&nbsp;message&nbsp;sequence&nbsp;number.&nbsp;So&nbsp;the&nbsp;memory&nbsp;footprint&nbsp;is&nbsp;quite&nbsp;small.&lt;br&gt;<br>
&lt;br&gt;Our&nbsp;option&nbsp;3&nbsp;using&nbsp;defertothread&nbsp;does&nbsp;use&nbsp;sendline&nbsp;from&nbsp;the&nbsp;thread.&nbsp;Your&nbsp;response&nbsp;implies&nbsp;that&nbsp;is&nbsp;OK&nbsp;since&nbsp;you&nbsp;say&nbsp;defertothread&nbsp;is&nbsp;threadsafe.&nbsp;Did&nbsp;you&nbsp;really&nbsp;mean&nbsp;that.&lt;br&gt;&lt;br&gt;Once&nbsp;again&nbsp;thanks&nbsp;for&nbsp;a&nbsp;very&nbsp;good&nbsp;response.&nbsp;That&nbsp;has&nbsp;cleared&nbsp;up&nbsp;a&nbsp;lot&nbsp;of&nbsp;confusion.&lt;br&gt;<br>
&lt;br&gt;I&nbsp;suppose&nbsp;it&nbsp;would&nbsp;help&nbsp;if&nbsp;there&nbsp;was&nbsp;a&nbsp;paragraph&nbsp;at&nbsp;the&nbsp;start&nbsp;of&nbsp;the&nbsp;twisted&nbsp;documentation&nbsp;detailing&nbsp;what&nbsp;you&nbsp;have&nbsp;just&nbsp;said.&nbsp;So&nbsp;when&nbsp;they&nbsp;start&nbsp;on&nbsp;deferreds&nbsp;you&nbsp;have&nbsp;some&nbsp;sort&nbsp;of&nbsp;context&nbsp;in&nbsp;which&nbsp;to&nbsp;interpret&nbsp;what&nbsp;is&nbsp;being&nbsp;said&lt;br&gt;<br>
&lt;br&gt;Regards&lt;br&gt;&lt;br&gt;John&nbsp;Aherne&lt;br&gt;&lt;br&gt;&lt;br&gt;<br>

</tt>
