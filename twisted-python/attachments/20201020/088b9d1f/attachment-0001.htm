<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;gmail_attr&quot;&gt;On&nbsp;Mon,&nbsp;19&nbsp;Oct&nbsp;2020&nbsp;at&nbsp;18:18,&nbsp;Glyph&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:glyph@twistedmatrix.com&quot;&nbsp;target=&quot;_blank&quot;&gt;glyph@twistedmatrix.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;&lt;div&gt;I&nbsp;just&nbsp;glanced&nbsp;at &lt;a&nbsp;href=&quot;https://github.com/twisted/twisted/pull/1417&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/twisted/twisted/pull/1417&lt;/a&gt; after&nbsp;it&nbsp;was&nbsp;merged&nbsp;and&nbsp;noticed&nbsp;a&nbsp;few&nbsp;problems:&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-&nbsp;It&nbsp;exposes&nbsp;a&nbsp;new&nbsp;top-level&nbsp;name&nbsp;rather&nbsp;than&nbsp;setting&nbsp;the&nbsp;protocol&nbsp;version&nbsp;as&nbsp;a&nbsp;parameter&lt;/div&gt;&lt;div&gt;-&nbsp;The&nbsp;NEWS&nbsp;files&nbsp;are&nbsp;malformed&nbsp;which&nbsp;is&nbsp;going&nbsp;to&nbsp;lead&nbsp;to&nbsp;some&nbsp;confusing&nbsp;duplication&nbsp;in&nbsp;the&nbsp;changelog&lt;/div&gt;&lt;div&gt;-&nbsp;AMPv2&nbsp;itself&nbsp;does&nbsp;not&nbsp;appear&nbsp;to&nbsp;be&nbsp;&quot;standardized&quot;&nbsp;-&nbsp;the&nbsp;page&nbsp;at &lt;a&nbsp;href=&quot;https://amp-protocol.net/conversations_v2.html&quot;&nbsp;target=&quot;_blank&quot;&gt;https://amp-protocol.net/conversations_v2.html&lt;/a&gt; appears&nbsp;to&nbsp;be&nbsp;a&nbsp;preliminary&nbsp;suggestion&nbsp;for&nbsp;how&nbsp;long&nbsp;values&nbsp;might&nbsp;be&nbsp;handled&nbsp;rather&nbsp;than&nbsp;something&nbsp;broadly&nbsp;implemented;&nbsp;for&nbsp;one&nbsp;thing,&nbsp;I&#39;d&nbsp;never&nbsp;heard&nbsp;of&nbsp;it&nbsp;before&nbsp;and&nbsp;for&nbsp;another&nbsp;the&nbsp;site&nbsp;itself&nbsp;doesn&#39;t&nbsp;link&nbsp;the&nbsp;document.&nbsp;This&nbsp;would&nbsp;be&nbsp;fine&nbsp;as&nbsp;a&nbsp;first&nbsp;draft,&nbsp;but&nbsp;I&nbsp;think&nbsp;it&nbsp;needs&nbsp;to&nbsp;be&nbsp;given&nbsp;some&nbsp;more&nbsp;revisions,&nbsp;given&nbsp;that&nbsp;(for&nbsp;example)&nbsp;there&nbsp;are&nbsp;a&nbsp;number&nbsp;of&nbsp;backwards-compatible&nbsp;ways&nbsp;to&nbsp;do&nbsp;this.&lt;/div&gt;&lt;div&gt;-&nbsp;The&nbsp;layering&nbsp;is&nbsp;wrong&nbsp;because&nbsp;it&nbsp;puts&nbsp;the&nbsp;protocol-parsing&nbsp;into&nbsp;a&nbsp;leaf&nbsp;class&nbsp;in&nbsp;the&nbsp;hierarchy,&nbsp;when&nbsp;the&nbsp;parsing&nbsp;logic&nbsp;was&nbsp;deliberately&nbsp;isolated&nbsp;to&nbsp;a&nbsp;lower&nbsp;level&nbsp;to&nbsp;facilitate&nbsp;different&nbsp;framing&nbsp;mechanisms.&lt;/div&gt;&lt;div&gt;-&nbsp;As&nbsp;JP&nbsp;pointed&nbsp;out,&nbsp;the&nbsp;tests&nbsp;have&nbsp;a&nbsp;potential&nbsp;bug&nbsp;where&nbsp;they&nbsp;can&nbsp;leak&nbsp;errors&nbsp;between&nbsp;cases.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;don&#39;t&nbsp;normally&nbsp;like&nbsp;to&nbsp;revert&nbsp;folks&#39;&nbsp;work&nbsp;once&nbsp;it&#39;s&nbsp;been&nbsp;reviewed&nbsp;and&nbsp;accepted,&nbsp;particularly&nbsp;when&nbsp;there&#39;s&nbsp;no&nbsp;process&nbsp;violation&nbsp;(broken&nbsp;CI,&nbsp;lack&nbsp;of&nbsp;code&nbsp;coverage&nbsp;etc),&nbsp;but&nbsp;I&#39;m&nbsp;particularly&nbsp;concerned&nbsp;about&nbsp;lending&nbsp;Twisted&#39;s&nbsp;imprimatur&nbsp;to&nbsp;this&nbsp;protocol&nbsp;extension&nbsp;as&nbsp;a&nbsp;whole&nbsp;new&nbsp;version&nbsp;without&nbsp;much&nbsp;more&nbsp;context&nbsp;on&nbsp;who&nbsp;is&nbsp;implementing&nbsp;it&nbsp;and&nbsp;what&nbsp;other&nbsp;options&nbsp;were&nbsp;considered,&nbsp;particularly&nbsp;when&nbsp;I&nbsp;personally&nbsp;(nominally&nbsp;the&nbsp;inventor&nbsp;of&nbsp;AMP)&nbsp;don&#39;t&nbsp;like&nbsp;the&nbsp;direction&nbsp;it&nbsp;has&nbsp;taken&nbsp;:).&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;What&nbsp;do&nbsp;other&nbsp;folks&nbsp;think? &nbsp;Anyone&nbsp;else&nbsp;have&nbsp;more&nbsp;of&nbsp;a&nbsp;finger&nbsp;on&nbsp;the&nbsp;pulse&nbsp;of&nbsp;where&nbsp;the&nbsp;&quot;v2&quot;&nbsp;conversation&nbsp;has&nbsp;been&nbsp;happening?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;Just&nbsp;my&nbsp;2&nbsp;cents&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;I&nbsp;think&nbsp;that&nbsp;whether&nbsp;this&nbsp;should&nbsp;be&nbsp;reverted&nbsp;or&nbsp;reworked&nbsp;should&nbsp;be&nbsp;between&nbsp;the&nbsp;person&nbsp;raising&nbsp;this&nbsp;issue&nbsp;(Glyph)&nbsp;and&nbsp;the&nbsp;author&nbsp;of&nbsp;the&nbsp;PR&nbsp;(Jonathan).&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;I&nbsp;see&nbsp;that&nbsp;Jonathan&nbsp;has&nbsp;responded&nbsp;to&nbsp;the&nbsp;feedback&nbsp;inside&nbsp;the&nbsp;merged&nbsp;PR.I&nbsp;hope&nbsp;it&nbsp;can&nbsp;be&nbsp;reworked.&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;Since&nbsp;AMP&nbsp;v2&nbsp;is&nbsp;not&nbsp;standardized&nbsp;maybe&nbsp;is&nbsp;ok&nbsp;to&nbsp;have&nbsp;it&nbsp;as&nbsp;a&nbsp;separate&nbsp;experimental&nbsp;top&nbsp;level&nbsp;name.&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;I&nbsp;have&nbsp;never&nbsp;used&nbsp;AMP&nbsp;...I&nbsp;tried&nbsp;to&nbsp;use&nbsp;it&nbsp;via&nbsp;ampoule&nbsp;but&nbsp;ended&nbsp;up&nbsp;using&nbsp;the&nbsp;stdlib&nbsp;process&nbsp;pool&nbsp;as&nbsp;I&nbsp;was&nbsp;not&nbsp;able&nbsp;see&nbsp;any&nbsp;performance&nbsp;difference.&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Since&nbsp;`amp`&nbsp;is&nbsp;used&nbsp;by&nbsp;`trial&nbsp;-j` &nbsp;we&nbsp;need&nbsp;to&nbsp;keep&nbsp;it&nbsp;inside&nbsp;twisted.&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;But&nbsp;since&nbsp;AMP&nbsp;v2&nbsp;is&nbsp;experimental,&nbsp;I&nbsp;think&nbsp;that&nbsp;is&nbsp;best&nbsp;to&nbsp;have&nbsp;it&nbsp;as&nbsp;a&nbsp;separate&nbsp;txamp2&nbsp;project.&lt;/div&gt;&lt;div&gt;In&nbsp;this&nbsp;way,&nbsp;the&nbsp;twisted&nbsp;AMP&nbsp;v2&nbsp;project&nbsp;can&nbsp;follow&nbsp;its&nbsp;own&nbsp;rules.&lt;/div&gt;&lt;div&gt;Once&nbsp;AMP&nbsp;v2&nbsp;is&nbsp;&quot;mature&quot;&nbsp;it&nbsp;can&nbsp;be&nbsp;moved&nbsp;to&nbsp;core&nbsp;twisted&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;So&nbsp;my&nbsp;take&nbsp;is&nbsp;to&nbsp;revert&nbsp;it&nbsp;and&nbsp;move&nbsp;it&nbsp;to&nbsp;twisted/txamp2.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;----&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;BTW&nbsp;this&nbsp;is&nbsp;also&nbsp;my&nbsp;suggestion&nbsp;for&nbsp;the&nbsp;PR&nbsp;trying&nbsp;to&nbsp;introduce&nbsp;support&nbsp;for&nbsp;SMB....&nbsp;have&nbsp;twisted&nbsp;SMB&nbsp;implementation&nbsp;in&nbsp;a&nbsp;separate&nbsp;project.&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;--&nbsp;&lt;br&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Adi&nbsp;Roiban&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
