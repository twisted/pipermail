<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;gmail_attr&quot;&gt;On&nbsp;Sat,&nbsp;Feb&nbsp;20,&nbsp;2021&nbsp;at&nbsp;4:32&nbsp;PM&nbsp;Richard&nbsp;van&nbsp;der&nbsp;Hoff&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:richard@matrix.org&quot;&gt;richard@matrix.org&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;<br>
&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;<br>
&nbsp;&nbsp;&lt;div&gt;&lt;p&gt;&lt;tt&gt;(env3)rav@faith:~$&nbsp;python3&lt;/tt&gt;&lt;tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tt&gt;&lt;tt&gt;Python&nbsp;3.5.2&nbsp;(default,&nbsp;Oct &nbsp;7&nbsp;2020,&nbsp;17:19:02)&nbsp;&lt;/tt&gt;&lt;tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tt&gt;&lt;tt&gt;[GCC&nbsp;5.4.0&nbsp;20160609]&nbsp;on&nbsp;linux&lt;/tt&gt;&lt;tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tt&gt;&lt;tt&gt;Type&nbsp;&quot;help&quot;,&nbsp;&quot;copyright&quot;,&nbsp;&quot;credits&quot;&nbsp;or&nbsp;&quot;license&quot;&nbsp;for&nbsp;more<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;information.&lt;/tt&gt;&lt;tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tt&gt;&lt;tt&gt;&gt;&gt;&gt;&nbsp;from&nbsp;twisted.python&nbsp;import&nbsp;log&lt;/tt&gt;&lt;tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tt&gt;&lt;tt&gt;Traceback&nbsp;(most&nbsp;recent&nbsp;call&nbsp;last):&lt;/tt&gt;&lt;tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tt&gt;&lt;tt&gt; &nbsp;File&nbsp;&quot;&lt;stdin&gt;&quot;,&nbsp;line&nbsp;1,&nbsp;in&nbsp;&lt;module&gt;&lt;/tt&gt;&lt;tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tt&gt;&lt;tt&gt; &nbsp;File<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;/home/synapse/env3/lib/python3.5/site-packages/twisted/python/log.py&quot;,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;line&nbsp;20,&nbsp;in&nbsp;&lt;module&gt;&lt;/tt&gt;&lt;tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tt&gt;&lt;tt&gt;   &nbsp;from&nbsp;twisted.python&nbsp;import&nbsp;reflect&lt;/tt&gt;&lt;tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tt&gt;&lt;tt&gt; &nbsp;File<br>
&quot;/home/synapse/env3/lib/python3.5/site-packages/twisted/python/reflect.py&quot;,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;line&nbsp;377,&nbsp;in&nbsp;&lt;module&gt;&lt;/tt&gt;&lt;tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tt&gt;&lt;tt&gt;   &nbsp;def&nbsp;_safeFormat(formatter:&nbsp;Union[types.FunctionType,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Type[str]],&nbsp;o:&nbsp;object)&nbsp;-&gt;&nbsp;str:&lt;/tt&gt;&lt;tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tt&gt;&lt;tt&gt; &nbsp;File&nbsp;&quot;/usr/lib/python3.5/typing.py&quot;,&nbsp;line&nbsp;552,&nbsp;in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__getitem__&lt;/tt&gt;&lt;tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tt&gt;&lt;tt&gt;   &nbsp;dict(self.__dict__),&nbsp;parameters,&nbsp;_root=True)&lt;/tt&gt;&lt;tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tt&gt;&lt;tt&gt; &nbsp;File&nbsp;&quot;/usr/lib/python3.5/typing.py&quot;,&nbsp;line&nbsp;512,&nbsp;in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__new__&lt;/tt&gt;&lt;tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tt&gt;&lt;tt&gt;   &nbsp;for&nbsp;t2&nbsp;in&nbsp;all_params&nbsp;-&nbsp;{t1}&nbsp;if&nbsp;not&nbsp;isinstance(t2,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TypeVar)):&lt;/tt&gt;&lt;tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tt&gt;&lt;tt&gt; &nbsp;File&nbsp;&quot;/usr/lib/python3.5/typing.py&quot;,&nbsp;line&nbsp;512,&nbsp;in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;genexpr&gt;&lt;/tt&gt;&lt;tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tt&gt;&lt;tt&gt;   &nbsp;for&nbsp;t2&nbsp;in&nbsp;all_params&nbsp;-&nbsp;{t1}&nbsp;if&nbsp;not&nbsp;isinstance(t2,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TypeVar)):&lt;/tt&gt;&lt;tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tt&gt;&lt;tt&gt; &nbsp;File&nbsp;&quot;/usr/lib/python3.5/typing.py&quot;,&nbsp;line&nbsp;1077,&nbsp;in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__subclasscheck__&lt;/tt&gt;&lt;tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tt&gt;&lt;tt&gt;   &nbsp;if&nbsp;super().__subclasscheck__(cls):&lt;/tt&gt;&lt;tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tt&gt;&lt;tt&gt; &nbsp;File&nbsp;&quot;/usr/lib/python3.5/abc.py&quot;,&nbsp;line&nbsp;225,&nbsp;in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__subclasscheck__&lt;/tt&gt;&lt;tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tt&gt;&lt;tt&gt;   &nbsp;for&nbsp;scls&nbsp;in&nbsp;cls.__subclasses__():&lt;/tt&gt;&lt;tt&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tt&gt;&lt;tt&gt;TypeError:&nbsp;descriptor&nbsp;&#39;__subclasses__&#39;&nbsp;of&nbsp;&#39;type&#39;&nbsp;object<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;needs&nbsp;an&nbsp;argument&lt;/tt&gt;&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Awww,&nbsp;this&nbsp;is&nbsp;unfortunate.&lt;br&gt;It&nbsp;looks&nbsp;like&nbsp;our&nbsp;CI&nbsp;on&nbsp;GitHub&nbsp;Actions&nbsp;is&nbsp;testing&nbsp;&lt;b&gt;Python&nbsp;3.5.10&lt;/b&gt;.&lt;/div&gt;&lt;div&gt;&lt;br&gt;Over&nbsp;the&nbsp;past&nbsp;year,&nbsp;we&nbsp;have&nbsp;added&nbsp;a&nbsp;lot&nbsp;of&nbsp;type&nbsp;annotations&nbsp;to&nbsp;the&nbsp;codebase,&nbsp;and&nbsp;it&nbsp;has&lt;/div&gt;&lt;div&gt;been&nbsp;a&nbsp;struggle&nbsp;to&nbsp;still&nbsp;keep&nbsp;things&nbsp;working&nbsp;with&nbsp;Python&nbsp;3.5,&nbsp;but&nbsp;looks&nbsp;like&nbsp;between&nbsp;Python&nbsp;3.5.2&nbsp;and&nbsp;3.5.10&lt;/div&gt;&lt;div&gt;there&nbsp;were&nbsp;changes&nbsp;to&nbsp;Python&nbsp;in&nbsp;this&nbsp;area.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;gmail_attr&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;gmail_attr&quot;&gt;On&nbsp;Sat,&nbsp;Feb&nbsp;20,&nbsp;2021&nbsp;at&nbsp;4:50&nbsp;PM&nbsp;Richard&nbsp;van&nbsp;der&nbsp;Hoff&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:richard@matrix.org&quot;&gt;richard@matrix.org&lt;/a&gt;&gt;&nbsp;wrote:&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;&lt;div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;It&nbsp;also&nbsp;breaks&nbsp;compat&nbsp;with&nbsp;treq&nbsp;20.4&nbsp;and&nbsp;earlier.&nbsp;This&nbsp;may&nbsp;or&nbsp;may<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not&nbsp;be&nbsp;a&nbsp;thing&nbsp;you&nbsp;care&nbsp;about:&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;&lt;tt&gt; &nbsp;File&nbsp;&quot;/home/rav/work/synapse/synapse/http/client.py&quot;,&nbsp;line<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;33,&nbsp;in&nbsp;&lt;module&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   &nbsp;import&nbsp;treq&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;File<br>
&quot;/home/rav/work/synapse/env3/lib/python3.8/site-packages/treq/__init__.py&quot;,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;line&nbsp;5,&nbsp;in&nbsp;&lt;module&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   &nbsp;from&nbsp;treq.api&nbsp;import&nbsp;head,&nbsp;get,&nbsp;post,&nbsp;put,&nbsp;patch,&nbsp;delete,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;request&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;File<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;/home/rav/work/synapse/env3/lib/python3.8/site-packages/treq/api.py&quot;,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;line&nbsp;5,&nbsp;in&nbsp;&lt;module&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   &nbsp;from&nbsp;treq.client&nbsp;import&nbsp;HTTPClient&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;File<br>
&quot;/home/rav/work/synapse/env3/lib/python3.8/site-packages/treq/client.py&quot;,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;line&nbsp;11,&nbsp;in&nbsp;&lt;module&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   &nbsp;from&nbsp;twisted.python.compat&nbsp;import&nbsp;_PY3,&nbsp;unicode&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ImportError:&nbsp;cannot&nbsp;import&nbsp;name&nbsp;&#39;_PY3&#39;&nbsp;from<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;twisted.python.compat&#39;&nbsp;(unknown&nbsp;location)&lt;br&gt;&lt;/tt&gt;&lt;/p&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;This&nbsp;has&nbsp;been&nbsp;fixed&nbsp;in&nbsp;newer&nbsp;versions&nbsp;of&nbsp;treq. &nbsp; Since&nbsp;_PY3&nbsp;is&nbsp;prefixed&nbsp;by&nbsp;an&nbsp;underscore,&lt;/div&gt;&lt;div&gt;theoretically&nbsp;it&nbsp;should&nbsp;not&nbsp;be&nbsp;used&nbsp;outside&nbsp;of&nbsp;Twisted......that&nbsp;means&nbsp;other&nbsp;subprojects&nbsp;of&nbsp;twisted&nbsp;which&lt;/div&gt;&lt;div&gt;are&nbsp;not&nbsp;twisted/twisted!&lt;/div&gt;&lt;div&gt;&lt;br&gt;Well&nbsp;it&nbsp;looks&nbsp;like&nbsp;we&nbsp;are&nbsp;not&nbsp;100%&nbsp;hiccup&nbsp;free&nbsp;when&nbsp;people&nbsp;upgrade,&nbsp;but&nbsp;unfortunately,&nbsp;the&nbsp;show&lt;/div&gt;&lt;div&gt;must&nbsp;go&nbsp;on,&nbsp;and&nbsp;I&nbsp;guess&nbsp;people&nbsp;will&nbsp;have&nbsp;to&nbsp;pin&nbsp;to&nbsp;earlier&nbsp;versions&nbsp;of&nbsp;Python,&nbsp;or&nbsp;upgrade&nbsp;their&lt;/div&gt;&lt;div&gt;code&nbsp;if&nbsp;they&nbsp;run&nbsp;into&nbsp;things&nbsp;like&nbsp;this.&lt;br&gt;&lt;br&gt;Thank&nbsp;you&nbsp;very&nbsp;much&nbsp;for&nbsp;testing,&nbsp;and&nbsp;providing&nbsp;feedback!!&lt;/div&gt;&lt;div&gt;--&lt;/div&gt;&lt;div&gt;Craig &lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
