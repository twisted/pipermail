<tt>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&lt;TITLE&gt;Re:&nbsp;[Twisted-Python]&nbsp;Flow&nbsp;control&lt;/TITLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
&lt;FONT&nbsp;FACE=&quot;Calibri,&nbsp;Verdana,&nbsp;Helvetica,&nbsp;Arial&quot;&gt;&lt;SPAN&nbsp;STYLE='font-size:11pt'&gt;ahh,&nbsp;I&nbsp;felt&nbsp;I&nbsp;missed&nbsp;sth;)&nbsp;thx&nbsp;..&nbsp;I'll&nbsp;look&nbsp;into&nbsp;that&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;BR&gt;<br>
On&nbsp;11.08.11&nbsp;23:16,&nbsp;&quot;Christopher&nbsp;Armstrong&quot;&nbsp;&lt;&lt;a&nbsp;href=&quot;radix@twistedmatrix.com&quot;&gt;radix@twistedmatrix.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;/SPAN&gt;&lt;/FONT&gt;&lt;BLOCKQUOTE&gt;&lt;FONT&nbsp;FACE=&quot;Calibri,&nbsp;Verdana,&nbsp;Helvetica,&nbsp;Arial&quot;&gt;&lt;SPAN&nbsp;STYLE='font-size:11pt'&gt;On&nbsp;Thu,&nbsp;Aug&nbsp;11,&nbsp;2011&nbsp;at&nbsp;5:13&nbsp;PM,&nbsp;Tobias&nbsp;Oberstein&nbsp;&lt;&lt;a&nbsp;href=&quot;tobias.oberstein@tavendo.de&quot;&gt;tobias.oberstein@tavendo.de&lt;/a&gt;&gt;&nbsp;wrote:&lt;BR&gt;<br>
&lt;/SPAN&gt;&lt;/FONT&gt;&lt;BLOCKQUOTE&gt;&lt;FONT&nbsp;FACE=&quot;Calibri,&nbsp;Verdana,&nbsp;Helvetica,&nbsp;Arial&quot;&gt;&lt;SPAN&nbsp;STYLE='font-size:11pt'&gt;For&nbsp;a&nbsp;test&nbsp;driver&nbsp;for&nbsp;a&nbsp;TCP-based&nbsp;protocol&nbsp;(written&nbsp;in&nbsp;Twisted)&nbsp;I&nbsp;want&nbsp;to&nbsp;send&nbsp;data&nbsp;to&nbsp;a&lt;BR&gt;<br>
receiver&nbsp;as&nbsp;fast&nbsp;as&nbsp;the&nbsp;receiver&nbsp;can&nbsp;consume&nbsp;data,&nbsp;but&nbsp;not&nbsp;faster.&lt;BR&gt;<br>
&lt;BR&gt;<br>
Apparently,&nbsp;a&nbsp;naive&nbsp;loop&nbsp;which&nbsp;just&nbsp;does&nbsp;transport.write()&nbsp;does&nbsp;not&nbsp;work.&nbsp;When&nbsp;I&nbsp;do&lt;BR&gt;<br>
reactor.select(0)&nbsp;between&nbsp;the&nbsp;writes,&nbsp;it&nbsp;somehow&nbsp;works,&nbsp;but&nbsp;memory&nbsp;consumption&lt;BR&gt;<br>
of&nbsp;sender&nbsp;is&nbsp;growing&nbsp;fast,&nbsp;since&nbsp;I&nbsp;guess&nbsp;data&nbsp;is&nbsp;buffered&nbsp;within&nbsp;Twisted,&nbsp;right?&lt;BR&gt;<br>
&lt;BR&gt;<br>
I&nbsp;then&nbsp;got&nbsp;over&nbsp;implementing&nbsp;my&nbsp;own&nbsp;application&nbsp;level&nbsp;flow&nbsp;control,&nbsp;where&nbsp;the&lt;BR&gt;<br>
receiver&nbsp;gives&nbsp;feedback&nbsp;of&nbsp;how&nbsp;much&nbsp;it&nbsp;has&nbsp;consumed,&nbsp;and&nbsp;the&nbsp;sender&nbsp;throttles&lt;BR&gt;<br>
itself&nbsp;to&nbsp;that.&lt;BR&gt;<br>
&lt;BR&gt;<br>
However,&nbsp;isn't&nbsp;there&nbsp;a&nbsp;simpler&nbsp;way&nbsp;(without&nbsp;application&nbsp;level&nbsp;flow&nbsp;control)?&lt;BR&gt;<br>
&lt;BR&gt;<br>
In&nbsp;the&nbsp;end,&nbsp;the&nbsp;sender&nbsp;TCP&nbsp;stack&nbsp;must&nbsp;have&nbsp;knowledge&nbsp;of&nbsp;it's&nbsp;window&nbsp;size&nbsp;..&lt;BR&gt;<br>
is&nbsp;there&nbsp;a&nbsp;way&nbsp;to&nbsp;get&nbsp;at&nbsp;that&nbsp;info?&lt;BR&gt;<br>
&lt;BR&gt;<br>
What&nbsp;is&nbsp;the&nbsp;recommended&nbsp;way?&lt;BR&gt;<br>
&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/BLOCKQUOTE&gt;&lt;FONT&nbsp;FACE=&quot;Calibri,&nbsp;Verdana,&nbsp;Helvetica,&nbsp;Arial&quot;&gt;&lt;SPAN&nbsp;STYLE='font-size:11pt'&gt;&lt;BR&gt;<br>
&lt;BR&gt;<br>
You&nbsp;want&nbsp;to&nbsp;write&nbsp;a&nbsp;producer:&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;a&nbsp;href=&quot;http://twistedmatrix.com/documents/current/core/howto/producers.html&quot;&gt;http://twistedmatrix.com/documents/current/core/howto/producers.html&lt;/a&gt;&lt;BR&gt;<br>
 &lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/BLOCKQUOTE&gt;<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;<br>
<br>

</tt>
