<tt>
Hi&nbsp;everyone,&lt;br&gt;&lt;br&gt;I&nbsp;am&nbsp;running&nbsp;a&nbsp;server&nbsp;in&nbsp;application&nbsp;context&nbsp;via:&lt;br&gt;&lt;br&gt;#&nbsp;code:&nbsp;server.tac&lt;br&gt;factory&nbsp;=&nbsp;Factory()&lt;br&gt;factory.protocol&nbsp;=&nbsp;MyProtocol&lt;br&gt;application&nbsp;=&nbsp;service.Application(&quot;MyServer&quot;)&lt;br&gt;service&nbsp;=&nbsp;internet.TCPServer(5555,&nbsp;factory)&lt;br&gt;<br>
service.setServiceParent(application)&lt;br&gt;#&nbsp;end&nbsp;code&lt;br&gt;&lt;br&gt;ran&nbsp;with&lt;br&gt;&lt;br&gt;$&nbsp;twistd&nbsp;-ny&nbsp;server.tac&lt;br&gt;&lt;br&gt;Here&nbsp;is&nbsp;some&nbsp;of&nbsp;my&nbsp;Protocol&nbsp;code:&lt;br&gt;&lt;br&gt;#&nbsp;code:&nbsp;myprotocol.py&lt;br&gt;def&nbsp;checkIdle(transport):&lt;br&gt;   &nbsp;while&nbsp;1:&lt;br&gt;       &nbsp;now&nbsp;=&nbsp;time.time()&lt;br&gt;<br>
       &nbsp;if&nbsp;now&nbsp;-&nbsp;transport.activityFlag&nbsp;&gt;&nbsp;30.0:&lt;br&gt;           &nbsp;transport.loseConnection()&lt;br&gt;           &nbsp;time.sleep(1)&lt;br&gt;           &nbsp;break&lt;br&gt;           &nbsp;return&lt;br&gt;       &nbsp;time.sleep(8)&lt;br&gt;   &nbsp;return&lt;br&gt;&lt;br&gt;class&nbsp;MyProtocol(Protocol):&lt;br&gt;<br>
   &nbsp;def&nbsp;connectionMade(self):&lt;br&gt;       &nbsp;self.transport.activityFlag&nbsp;=&nbsp;time.time()&lt;br&gt;       &nbsp;thread.start_new_thread(checkIdle,&nbsp;(self.transport,))&lt;br&gt;&lt;br&gt;   &nbsp;#&nbsp;...&nbsp;the&nbsp;rest&nbsp;of&nbsp;the&nbsp;methods...&nbsp;not&nbsp;important&nbsp;for&nbsp;this&nbsp;question&lt;br&gt;<br>
#&nbsp;end&nbsp;code&lt;br&gt;&lt;br&gt;Now&nbsp;here&#39;s&nbsp;my&nbsp;problem:&nbsp;I&nbsp;want&nbsp;to&nbsp;kill&nbsp;connections&nbsp;from&nbsp;the&nbsp;server&nbsp;that&nbsp;have&nbsp;been&nbsp;idle&nbsp;for,&nbsp;say,&nbsp;30&nbsp;seconds.&nbsp;An&nbsp;idle&nbsp;connection&nbsp;is&nbsp;one&nbsp;in&nbsp;which&nbsp;is&nbsp;a&nbsp;_valid_&nbsp;connection&nbsp;(i.e.,&nbsp;it&nbsp;hasn&#39;t&nbsp;disconnected&nbsp;from&nbsp;the&nbsp;server)&nbsp;but&nbsp;hasn&#39;t&nbsp;sent&nbsp;any&nbsp;data&nbsp;for&nbsp;30&nbsp;seconds.&nbsp;The&nbsp;way&nbsp;I&nbsp;have&nbsp;initially&nbsp;set&nbsp;it&nbsp;up&nbsp;was&nbsp;in&nbsp;a&nbsp;thread.&nbsp;I&nbsp;simply&nbsp;check&nbsp;the&nbsp;last&nbsp;time&nbsp;it&nbsp;had&nbsp;activity&nbsp;from&nbsp;that&nbsp;particular&nbsp;transport.&nbsp;The&nbsp;really&nbsp;real&nbsp;problem&nbsp;I&nbsp;am&nbsp;having&nbsp;is&nbsp;when&nbsp;the&nbsp;connection&nbsp;is&nbsp;closed,&nbsp;the&nbsp;client&nbsp;doesn&#39;t&nbsp;know&nbsp;about&nbsp;it.&nbsp;It&nbsp;is&nbsp;simply&nbsp;closed&nbsp;on&nbsp;the&nbsp;server&nbsp;and&nbsp;the&nbsp;client&nbsp;is&nbsp;left&nbsp;hanging.&nbsp;If&nbsp;I&nbsp;test&nbsp;this&nbsp;in&nbsp;telnet&nbsp;with:&lt;br&gt;<br>
&lt;br&gt;$&nbsp;telnet&nbsp;localhost&nbsp;5555&lt;br&gt;&lt;br&gt;telnet&nbsp;never&nbsp;quits&nbsp;with&nbsp;a&nbsp;message:&nbsp;Connection&nbsp;closed&nbsp;by&nbsp;foreign&nbsp;host.&nbsp;(which&nbsp;is&nbsp;indeed&nbsp;exactly&nbsp;what&nbsp;I&nbsp;want)&lt;br&gt;The&nbsp;only&nbsp;way&nbsp;I&nbsp;get&nbsp;this&nbsp;response&nbsp;is&nbsp;if&nbsp;I&nbsp;try&nbsp;to&nbsp;send&nbsp;data&nbsp;to&nbsp;the&nbsp;server&nbsp;while&nbsp;the&nbsp;connection&nbsp;has&nbsp;been&nbsp;&quot;lost&quot;.&lt;br&gt;<br>
&lt;br&gt;Can&nbsp;anyone&nbsp;direct&nbsp;me&nbsp;on&nbsp;the&nbsp;proper&nbsp;way&nbsp;to&nbsp;kill&nbsp;a&nbsp;connection&nbsp;from&nbsp;the&nbsp;server&nbsp;end&nbsp;in&nbsp;a&nbsp;clean&nbsp;manner?&lt;br&gt;&lt;br&gt;(By&nbsp;the&nbsp;way,&nbsp;I&#39;m&nbsp;very&nbsp;new&nbsp;to&nbsp;twisted,&nbsp;not&nbsp;so&nbsp;new&nbsp;to&nbsp;Python).&lt;br&gt;&lt;br&gt;Thanks&nbsp;for&nbsp;any&nbsp;help!&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;br&gt;<br>
--&nbsp;&lt;br&gt;Jonathan&nbsp;Sawyer&lt;br&gt;Geographic&nbsp;Information&nbsp;Network&nbsp;of&nbsp;Alaska&nbsp;(GINA)&lt;br&gt;University&nbsp;of&nbsp;Alaska&nbsp;Fairbanks&lt;br&gt;(907)&nbsp;474-5689&lt;br&gt;<br>

</tt>
