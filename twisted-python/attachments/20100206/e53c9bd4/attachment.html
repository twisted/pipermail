<tt>
I&nbsp;need&nbsp;to&nbsp;write&nbsp;a&nbsp;gateway&nbsp;server&nbsp;that&nbsp;forwarding&nbsp;data&nbsp;between&nbsp;client&nbsp;and&nbsp;data&nbsp;server¡£I&nbsp;use&nbsp;a&nbsp;Protocol&nbsp;instance&nbsp;for&nbsp;incoming&nbsp;connection&nbsp;from&nbsp;client,&nbsp;and&nbsp;creating&nbsp;another&nbsp;Protocol&nbsp;instance&nbsp;to&nbsp;connect&nbsp;data&nbsp;server&nbsp;when&nbsp;received&nbsp;data&nbsp;from&nbsp;client:&lt;br&gt;<br>
&lt;br&gt;Exp.1&lt;br&gt;...&lt;br&gt;Class&nbsp;ToClientProtocol(Protocol):&lt;br&gt;&amp;quot;&amp;quot;&amp;quot;&nbsp;Protocol&nbsp;for&nbsp;incoming&nbsp;connection&nbsp;from&nbsp;client.&nbsp;&amp;quot;&amp;quot;&amp;quot;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;def&nbsp;connectionMade(self):&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;self.data_server&nbsp;=&nbsp;reactor.connectTCP(&amp;#39;localhost&amp;#39;,&nbsp;8888,&nbsp;DataServerFactory())&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;#&nbsp;make&nbsp;connection&nbsp;to&nbsp;data&nbsp;server&lt;br&gt;<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;self.data_server.transport.write(&amp;#39;hello!&amp;#39;)&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;#&nbsp;send&nbsp;a&nbsp;message&nbsp;to&nbsp;data&nbsp;server,&nbsp;but&nbsp;not&nbsp;work&lt;br&gt;...&lt;br&gt;&lt;br&gt;The&nbsp;connetion&nbsp;to&nbsp;data&nbsp;server&nbsp;can&nbsp;be&nbsp;made,&nbsp;BUT&nbsp;the&nbsp;data&nbsp;server&nbsp;received&nbsp;nothing.&nbsp;self.data_server.transport.write()&nbsp;not&nbsp;work.&lt;br&gt;<br>
&lt;br&gt;It&nbsp;will&nbsp;work&nbsp;if&nbsp;I&nbsp;write&nbsp;like&nbsp;that:&lt;br&gt;Exp.&nbsp;2&nbsp;&lt;br&gt;...&lt;br&gt;Class&nbsp;ToClientProtocol(Protocol):&lt;br&gt;<br>
&amp;quot;&amp;quot;&amp;quot;&nbsp;Protocol&nbsp;for&nbsp;incoming&nbsp;connection&nbsp;from&nbsp;client.&nbsp;&amp;quot;&amp;quot;&amp;quot;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;def&nbsp;connectionMade(self):&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;self.data_server&nbsp;=&nbsp;reactor.connectTCP(&amp;#39;localhost&amp;#39;,&nbsp;8888,&nbsp;DataServerFactory(self))&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;#&nbsp;make&nbsp;connection&nbsp;to&nbsp;data&nbsp;server&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;<br>
Class&nbsp;DataServer(Protocol):&lt;br&gt;&amp;quot;&amp;quot;&amp;quot;&nbsp;Protocol&nbsp;for&nbsp;connection&nbsp;to&nbsp;data&nbsp;server.&nbsp;&amp;quot;&amp;quot;&amp;quot;&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;client):&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;self.client&nbsp;=&nbsp;client&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;def&nbsp;connectionMade(self):&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;self.client.data_server.transport.wirte(&amp;#39;hello!&amp;#39;)&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;#&nbsp;send&nbsp;message&nbsp;to&nbsp;data&nbsp;server,&nbsp;it&amp;#39;s&nbsp;work&nbsp;now!&lt;br&gt;&lt;br&gt;Class&nbsp;DataServerFactory(self):&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;client):&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;self.client&nbsp;=&nbsp;client&lt;br&gt;<br>
&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;def&nbsp;buildProtocol(self,&nbsp;addr):&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;DataServer(self.client)&lt;br&gt;...&lt;br&gt;&lt;br&gt;I&nbsp;don&amp;#39;t&nbsp;think&nbsp;this&nbsp;is&nbsp;the&nbsp;best&nbsp;way.&nbsp;Why&nbsp;I&nbsp;can&amp;#39;t&nbsp;simply&nbsp;wirte&nbsp;like&nbsp;Exp.1?&lt;br&gt;&lt;br&gt;<br>

</tt>
