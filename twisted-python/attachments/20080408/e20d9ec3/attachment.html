<tt>
Hi,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&#39;m&nbsp;kind&nbsp;of&nbsp;a&nbsp;newbie&nbsp;in&nbsp;what&nbsp;comes&nbsp;to&nbsp;using&nbsp;Twisted&nbsp;and&nbsp;I&#39;m&nbsp;stuck&nbsp;with&nbsp;a&nbsp;problem&nbsp;that&nbsp;I&nbsp;cannot&nbsp;seem&nbsp;to&nbsp;solve.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;My&nbsp;problem&nbsp;is&nbsp;that&nbsp;I&#39;m&nbsp;experimenting&nbsp;with&nbsp;&quot;trial&quot;&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;test&nbsp;my&nbsp;code.&nbsp;(I&#39;ve&nbsp;heard&nbsp;that&nbsp;it&nbsp;is&nbsp;a&nbsp;wise&nbsp;thing&nbsp;to&nbsp;do&nbsp;;-)).&nbsp;What&nbsp;I&nbsp;have&nbsp;is&nbsp;a&nbsp;simple&nbsp;HTTP&nbsp;resource&nbsp;that&nbsp;allows&nbsp;POSTing&nbsp;data.&nbsp;I&nbsp;made&nbsp;this&nbsp;example&nbsp;to&nbsp;illustrate&nbsp;my&nbsp;problem...&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;import&nbsp;urllib&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;from&nbsp;twisted.internet&nbsp;import&nbsp;reactor&lt;/div&gt;&lt;div&gt;from&nbsp;twisted.web&nbsp;import&nbsp;resource,&nbsp;server,&nbsp;client,&nbsp;error&lt;/div&gt;&lt;div&gt;from&nbsp;twisted.trial&nbsp;import&nbsp;unittest&lt;/div&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;class&nbsp;TestResource(resource.Resource):&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;render_POST(self,&nbsp;request):&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;str(request.args)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;class&nbsp;SimpleResourceTest(unittest.TestCase):&lt;/div&gt;<br>
&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;_listen(self,&nbsp;site):&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;reactor.listenTCP(0,&nbsp;site,&nbsp;interface=&quot;&lt;a&nbsp;href=&quot;http://127.0.0.1&quot;&gt;127.0.0.1&lt;/a&gt;&quot;)&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;setUp(self):&lt;/div&gt;&lt;div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;=&nbsp;resource.Resource()&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r.putChild(&quot;test&quot;,&nbsp;TestResource())&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;site&nbsp;=&nbsp;server.Site(r,&nbsp;timeout=None)&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.port&nbsp;=&nbsp;self._listen(site)&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.portno&nbsp;=&nbsp;self.port.getHost().port&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;tearDown(self):&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.port:&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.port.stopListening()&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;getURL(self,&nbsp;path):&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&quot;http://127.0.0.1:%d/%s&quot;&nbsp;%&nbsp;(self.portno,&nbsp;path)&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;test_postdata(self):&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d&nbsp;=&nbsp;client.getPage(self.getURL(&quot;test&quot;),&nbsp;method=&quot;POST&quot;,&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;postdata=urllib.urlencode({&quot;test&quot;:&nbsp;&quot;data&quot;}))&lt;/div&gt;<br>
&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.addCallback(self.failIfEqual,&nbsp;&quot;{}&quot;)&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;d&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;used&nbsp;some&nbsp;of&nbsp;the&nbsp;unittests&nbsp;in&nbsp;Twisted&nbsp;Web&nbsp;as&nbsp;an&nbsp;example&nbsp;and&nbsp;at&nbsp;least&nbsp;I&nbsp;think&nbsp;I&#39;ve&nbsp;got&nbsp;this&nbsp;right.&nbsp;However,&nbsp;as&nbsp;you&nbsp;can&nbsp;see&nbsp;if&nbsp;you&nbsp;run&nbsp;this,&nbsp;the&nbsp;test&nbsp;fails.&nbsp;Which&nbsp;means&nbsp;that&nbsp;the&nbsp;request.args&nbsp;dictionary&nbsp;is&nbsp;empty.&nbsp;However,&nbsp;there&nbsp;should&nbsp;be&nbsp;something&nbsp;since&nbsp;I&#39;ve&nbsp;set&nbsp;the&nbsp;postdata&nbsp;parameter&nbsp;on&nbsp;the&nbsp;client.getPage()&nbsp;method.&nbsp;I&nbsp;would&nbsp;really&nbsp;appreciate&nbsp;all&nbsp;the&nbsp;help&nbsp;here&nbsp;since&nbsp;I&nbsp;cannot&nbsp;figure&nbsp;out&nbsp;where&nbsp;the&nbsp;postdata&nbsp;disappears.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Regards,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Teemu&lt;/div&gt;&lt;br&gt;--&nbsp;&lt;br&gt;Teemu&nbsp;Harju&lt;br&gt;&lt;br&gt;email/jabber:&nbsp;&lt;a&nbsp;href=&quot;mailto:teemu.harju@gmail.com&quot;&gt;teemu.harju@gmail.com&lt;/a&gt;&lt;br&gt;blog:&nbsp;&lt;a&nbsp;href=&quot;http://www.teemuharju.net&quot;&gt;http://www.teemuharju.net&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;~~&nbsp;&quot;A&nbsp;computer&nbsp;is&nbsp;like&nbsp;air&nbsp;conditioning:&nbsp;it&nbsp;becomes&nbsp;useless&nbsp;when&nbsp;you&nbsp;open&nbsp;windows.&quot;&nbsp;~~<br>
&lt;/div&gt;<br>

</tt>
