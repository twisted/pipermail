<tt>
&lt;html&gt;&lt;head&gt;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=us-ascii&quot;&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;line-break:&nbsp;after-white-space;&quot;&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;On&nbsp;Jun&nbsp;30,&nbsp;2020,&nbsp;at&nbsp;12:26&nbsp;PM,&nbsp;meejah&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:meejah@meejah.ca&quot;&nbsp;class=&quot;&quot;&gt;meejah@meejah.ca&lt;/a&gt;&gt;&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;span&nbsp;style=&quot;caret-color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;Menlo-Regular;&nbsp;font-size:&nbsp;12px;&nbsp;font-style:&nbsp;normal;&nbsp;font-variant-caps:&nbsp;normal;&nbsp;font-weight:&nbsp;normal;&nbsp;letter-spacing:&nbsp;normal;&nbsp;text-align:&nbsp;start;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&nbsp;text-decoration:&nbsp;none;&nbsp;float:&nbsp;none;&nbsp;display:&nbsp;inline&nbsp;!important;&quot;&nbsp;class=&quot;&quot;&gt;I&nbsp;recently&nbsp;wrote&nbsp;a&nbsp;relatively&nbsp;simple&nbsp;protocol&nbsp;to&nbsp;try&nbsp;this&nbsp;&quot;sans-io&quot;&nbsp;style&lt;/span&gt;&lt;br&nbsp;style=&quot;caret-color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;Menlo-Regular;&nbsp;font-size:&nbsp;12px;&nbsp;font-style:&nbsp;normal;&nbsp;font-variant-caps:&nbsp;normal;&nbsp;font-weight:&nbsp;normal;&nbsp;letter-spacing:&nbsp;normal;&nbsp;text-align:&nbsp;start;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&nbsp;text-decoration:&nbsp;none;&quot;&nbsp;class=&quot;&quot;&gt;&lt;span&nbsp;style=&quot;caret-color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;Menlo-Regular;&nbsp;font-size:&nbsp;12px;&nbsp;font-style:&nbsp;normal;&nbsp;font-variant-caps:&nbsp;normal;&nbsp;font-weight:&nbsp;normal;&nbsp;letter-spacing:&nbsp;normal;&nbsp;text-align:&nbsp;start;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&nbsp;text-decoration:&nbsp;none;&nbsp;float:&nbsp;none;&nbsp;display:&nbsp;inline&nbsp;!important;&quot;&nbsp;class=&quot;&quot;&gt;and&nbsp;was&nbsp;happy&nbsp;to&nbsp;start&nbsp;with&nbsp;the&nbsp;state-machine&nbsp;(using&nbsp;Automat).&nbsp;This&lt;/span&gt;&lt;br&nbsp;style=&quot;caret-color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;Menlo-Regular;&nbsp;font-size:&nbsp;12px;&nbsp;font-style:&nbsp;normal;&nbsp;font-variant-caps:&nbsp;normal;&nbsp;font-weight:&nbsp;normal;&nbsp;letter-spacing:&nbsp;normal;&nbsp;text-align:&nbsp;start;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&nbsp;text-decoration:&nbsp;none;&quot;&nbsp;class=&quot;&quot;&gt;&lt;span&nbsp;style=&quot;caret-color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;Menlo-Regular;&nbsp;font-size:&nbsp;12px;&nbsp;font-style:&nbsp;normal;&nbsp;font-variant-caps:&nbsp;normal;&nbsp;font-weight:&nbsp;normal;&nbsp;letter-spacing:&nbsp;normal;&nbsp;text-align:&nbsp;start;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&nbsp;text-decoration:&nbsp;none;&nbsp;float:&nbsp;none;&nbsp;display:&nbsp;inline&nbsp;!important;&quot;&nbsp;class=&quot;&quot;&gt;forced&nbsp;some&nbsp;good&nbsp;decisions.&nbsp;Then&nbsp;I&nbsp;worked&nbsp;outwards&nbsp;to&nbsp;the&nbsp;&quot;more&nbsp;boring&quot;&lt;/span&gt;&lt;br&nbsp;style=&quot;caret-color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;Menlo-Regular;&nbsp;font-size:&nbsp;12px;&nbsp;font-style:&nbsp;normal;&nbsp;font-variant-caps:&nbsp;normal;&nbsp;font-weight:&nbsp;normal;&nbsp;letter-spacing:&nbsp;normal;&nbsp;text-align:&nbsp;start;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&nbsp;text-decoration:&nbsp;none;&quot;&nbsp;class=&quot;&quot;&gt;&lt;span&nbsp;style=&quot;caret-color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;Menlo-Regular;&nbsp;font-size:&nbsp;12px;&nbsp;font-style:&nbsp;normal;&nbsp;font-variant-caps:&nbsp;normal;&nbsp;font-weight:&nbsp;normal;&nbsp;letter-spacing:&nbsp;normal;&nbsp;text-align:&nbsp;start;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&nbsp;text-decoration:&nbsp;none;&nbsp;float:&nbsp;none;&nbsp;display:&nbsp;inline&nbsp;!important;&quot;&nbsp;class=&quot;&quot;&gt;bits&nbsp;(framing&nbsp;and&nbsp;serialization/parsing).&lt;/span&gt;&lt;br&nbsp;style=&quot;caret-color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;Menlo-Regular;&nbsp;font-size:&nbsp;12px;&nbsp;font-style:&nbsp;normal;&nbsp;font-variant-caps:&nbsp;normal;&nbsp;font-weight:&nbsp;normal;&nbsp;letter-spacing:&nbsp;normal;&nbsp;text-align:&nbsp;start;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&nbsp;text-decoration:&nbsp;none;&quot;&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;style=&quot;caret-color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;Menlo-Regular;&nbsp;font-size:&nbsp;12px;&nbsp;font-style:&nbsp;normal;&nbsp;font-variant-caps:&nbsp;normal;&nbsp;font-weight:&nbsp;normal;&nbsp;letter-spacing:&nbsp;normal;&nbsp;text-align:&nbsp;start;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&nbsp;text-decoration:&nbsp;none;&quot;&nbsp;class=&quot;&quot;&gt;&lt;span&nbsp;style=&quot;caret-color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;Menlo-Regular;&nbsp;font-size:&nbsp;12px;&nbsp;font-style:&nbsp;normal;&nbsp;font-variant-caps:&nbsp;normal;&nbsp;font-weight:&nbsp;normal;&nbsp;letter-spacing:&nbsp;normal;&nbsp;text-align:&nbsp;start;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&nbsp;text-decoration:&nbsp;none;&nbsp;float:&nbsp;none;&nbsp;display:&nbsp;inline&nbsp;!important;&quot;&nbsp;class=&quot;&quot;&gt;(Hmm,&nbsp;this&nbsp;should&nbsp;almost&nbsp;just&nbsp;be&nbsp;a&nbsp;blog-post&nbsp;maybe&nbsp;;)&lt;/span&gt;&lt;br&nbsp;style=&quot;caret-color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;Menlo-Regular;&nbsp;font-size:&nbsp;12px;&nbsp;font-style:&nbsp;normal;&nbsp;font-variant-caps:&nbsp;normal;&nbsp;font-weight:&nbsp;normal;&nbsp;letter-spacing:&nbsp;normal;&nbsp;text-align:&nbsp;start;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&nbsp;text-decoration:&nbsp;none;&quot;&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;One&nbsp;thing&nbsp;I&nbsp;should&nbsp;mention&nbsp;is&nbsp;that&nbsp;while&nbsp;there&nbsp;aren't&nbsp;necessarily&nbsp;great&nbsp;examples&nbsp;of&nbsp;stacking&nbsp;protocols&nbsp;like&nbsp;this&nbsp;at&nbsp;the&nbsp;parsing&nbsp;layer,&nbsp;some&nbsp;parts&nbsp;of&nbsp;Twisted&nbsp;do&nbsp;work&nbsp;by&nbsp;delegation&nbsp;and&nbsp;composition.&nbsp;&nbsp;For&nbsp;example,&nbsp;in&nbsp;twisted&nbsp;web,&nbsp;Resource&nbsp;objects&nbsp;are&nbsp;thoroughly&nbsp;disconnected&nbsp;from&nbsp;the&nbsp;protocol&nbsp;layer,&nbsp;rather&nbsp;than,&nbsp;say,&nbsp;the&nbsp;various&nbsp;'irc_'&nbsp;methods&nbsp;exposed&nbsp;in&nbsp;the&nbsp;IRC&nbsp;server.&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;So&nbsp;another&nbsp;way&nbsp;to&nbsp;look&nbsp;at&nbsp;this&nbsp;is&nbsp;to&nbsp;extend&nbsp;things&nbsp;like&nbsp;the&nbsp;Resource&nbsp;pattern&nbsp;down&nbsp;into&nbsp;the&nbsp;parser,&nbsp;rather&nbsp;than&nbsp;trying&nbsp;to&nbsp;think&nbsp;of&nbsp;a&nbsp;way&nbsp;to&nbsp;take&nbsp;apart&nbsp;the&nbsp;Protocol&nbsp;object&nbsp;in&nbsp;a&nbsp;wholly&nbsp;novel&nbsp;way.&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;-g&lt;/div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
