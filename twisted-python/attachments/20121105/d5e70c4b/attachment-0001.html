<tt>
Tomorrow&nbsp;I&#39;m&nbsp;giving&nbsp;a&nbsp;talk&nbsp;to&nbsp;provide&nbsp;an&nbsp;introduction&nbsp;to&nbsp;asynchronous&nbsp;programming.&nbsp; I&#39;ll&nbsp;be&nbsp;mentioning&nbsp;Twisted&nbsp;in&nbsp;passing,&nbsp;but&nbsp;the&nbsp;meat&nbsp;of&nbsp;the&nbsp;talk&nbsp;will&nbsp;be&nbsp;about&nbsp;writing&nbsp;a&nbsp;web&nbsp;crawler&nbsp;for&nbsp;finding&nbsp;broken&nbsp;links,&nbsp;first&nbsp;using&nbsp;single-threaded&nbsp;blocking&nbsp;code,&nbsp;then&nbsp;multi-threaded&nbsp;blocking&nbsp;code,&nbsp;before&nbsp;demonstrating&nbsp;a&nbsp;non-blocking&nbsp;solution&nbsp;using&nbsp;a&nbsp;select&nbsp;loop.&nbsp; I&nbsp;can&nbsp;make&nbsp;the&nbsp;code&nbsp;and&nbsp;slides&nbsp;available&nbsp;if&nbsp;there&#39;s&nbsp;interest.&lt;div&gt;<br>
<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;For&nbsp;this&nbsp;to&nbsp;be&nbsp;effective,&nbsp;I&nbsp;was&nbsp;planning&nbsp;on&nbsp;writing&nbsp;a&nbsp;very&nbsp;slow&nbsp;webserver&nbsp;to&nbsp;serve&nbsp;static&nbsp;content&nbsp;locally.&nbsp; I&#39;d&nbsp;expected&nbsp;I&#39;d&nbsp;be&nbsp;able&nbsp;to&nbsp;simply&nbsp;wrap&nbsp;an&nbsp;instance&nbsp;of&nbsp;twisted.web.static.Site&nbsp;in&nbsp;a&nbsp;ThrottlingFactory,&nbsp;and&nbsp;serve&nbsp;away:&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;40px;border:none;padding:0px&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;import&nbsp;sys&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;from&nbsp;twisted.internet&nbsp;import&nbsp;reactor&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;from&nbsp;twisted.internet.endpoints&nbsp;import&nbsp;TCP4ServerEndpoint&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;from&nbsp;twisted.protocols.policies&nbsp;import&nbsp;ThrottlingFactory&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;from&nbsp;twisted.web.server&nbsp;import&nbsp;Site&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;from&nbsp;twisted.web.static&nbsp;import&nbsp;File&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;from&nbsp;twisted.python&nbsp;import&nbsp;log&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;&lt;br&gt;<br>
<br>
&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;if&nbsp;__name__&nbsp;==&nbsp;&#39;__main__&#39;:&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt; &nbsp; &nbsp;log.startLogging(sys.stdout)&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;<br>
&lt;div&gt;<br>
&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt; &nbsp; &nbsp;resource&nbsp;=&nbsp;File(sys.argv[1])&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt; &nbsp; &nbsp;factory&nbsp;=&nbsp;Site(resource)&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt; &nbsp; &nbsp;endpoint&nbsp;=&nbsp;TCP4ServerEndpoint(reactor,&nbsp;4321)&lt;/font&gt;&lt;/div&gt;<br>
<br>
&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt; &nbsp; &nbsp;endpoint.listen(ThrottlingFactory(factory,&nbsp;maxConnectionCount=3,&nbsp;readLimit=20,&nbsp;writeLimit=20))&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt; &nbsp; &nbsp;reactor.run()&lt;/font&gt;&lt;/div&gt;<br>
<br>
&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;However,&nbsp;this&nbsp;fails&nbsp;with&nbsp;the&nbsp;following&nbsp;error&nbsp;because&nbsp;I&#39;ve&nbsp;not&nbsp;registered&nbsp;a&nbsp;producer&nbsp;with&nbsp;my&nbsp;ThrottlingProtocol:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;40px;border:none;padding:0px&quot;&gt;<br>
<br>
&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;2012-11-05&nbsp;21:01:34+0000&nbsp;[-]&nbsp;Throttling&nbsp;writes&nbsp;on&nbsp;&lt;twisted.protocols.policies.ThrottlingFactory&nbsp;instance&nbsp;at&nbsp;0x1016497e8&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;2012-11-05&nbsp;21:01:34+0000&nbsp;[-]&nbsp;Unhandled&nbsp;Error&lt;/font&gt;&lt;/div&gt;<br>
<br>
&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;Traceback&nbsp;(most&nbsp;recent&nbsp;call&nbsp;last):&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&nbsp; File&nbsp;&quot;slow_server.py&quot;,&nbsp;line&nbsp;16,&nbsp;in&nbsp;&lt;module&gt;&lt;/font&gt;&lt;/div&gt;<br>
<br>
&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&nbsp; &nbsp; reactor.run()&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&nbsp; File&nbsp;&quot;/usr/local/Cellar/python/2.7.3/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/twisted/internet/base.py&quot;,&nbsp;line&nbsp;1169,&nbsp;in&nbsp;run&lt;/font&gt;&lt;/div&gt;<br>
<br>
&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&nbsp; &nbsp; self.mainLoop()&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&nbsp; File&nbsp;&quot;/usr/local/Cellar/python/2.7.3/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/twisted/internet/base.py&quot;,&nbsp;line&nbsp;1178,&nbsp;in&nbsp;mainLoop&lt;/font&gt;&lt;/div&gt;<br>
<br>
&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&nbsp; &nbsp; self.runUntilCurrent()&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;---&nbsp;&lt;exception&nbsp;caught&nbsp;here&gt;&nbsp;---&lt;/font&gt;&lt;/div&gt;<br>
<br>
&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&nbsp; File&nbsp;&quot;/usr/local/Cellar/python/2.7.3/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/twisted/internet/base.py&quot;,&nbsp;line&nbsp;800,&nbsp;in&nbsp;runUntilCurrent&lt;/font&gt;&lt;/div&gt;<br>
<br>
&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&nbsp; &nbsp; call.func(*call.args,&nbsp;**&lt;a&nbsp;href=&quot;http://call.kw&quot;&nbsp;target=&quot;_blank&quot;&gt;call.kw&lt;/a&gt;)&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&nbsp; File&nbsp;&quot;/usr/local/Cellar/python/2.7.3/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/twisted/protocols/policies.py&quot;,&nbsp;line&nbsp;290,&nbsp;in&nbsp;checkWriteBandwidth&lt;/font&gt;&lt;/div&gt;<br>
<br>
&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&nbsp; &nbsp; self.throttleWrites()&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&nbsp; File&nbsp;&quot;/usr/local/Cellar/python/2.7.3/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/twisted/protocols/policies.py&quot;,&nbsp;line&nbsp;324,&nbsp;in&nbsp;throttleWrites&lt;/font&gt;&lt;/div&gt;<br>
<br>
&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&nbsp; &nbsp; p.throttleWrites()&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&nbsp; File&nbsp;&quot;/usr/local/Cellar/python/2.7.3/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/twisted/protocols/policies.py&quot;,&nbsp;line&nbsp;221,&nbsp;in&nbsp;throttleWrites&lt;/font&gt;&lt;/div&gt;<br>
<br>
&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&nbsp; &nbsp; self.producer.pauseProducing()&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;exceptions.AttributeError:&nbsp;&#39;NoneType&#39;&nbsp;object&nbsp;has&nbsp;no&nbsp;attribute&nbsp;&#39;pauseProducing&#39;&lt;/font&gt;&lt;/div&gt;<br>
<br>
&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&#39;m&nbsp;sure&nbsp;it&#39;s&nbsp;not&nbsp;impossible&nbsp;to&nbsp;figure&nbsp;out&nbsp;what&nbsp;I&nbsp;need&nbsp;to&nbsp;do&nbsp;here,&nbsp;but&nbsp;I&#39;d&nbsp;appreciate&nbsp;any&nbsp;pointers.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Many&nbsp;thanks&nbsp;in&nbsp;advance!&lt;/div&gt;<br>
<br>

</tt>
