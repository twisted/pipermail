<tt>
Hi&nbsp;Jean-Paul,&lt;br&gt;&lt;br&gt;Thanx&nbsp;for&nbsp;your&nbsp;nice&nbsp;reply.&nbsp;My&nbsp;problem&nbsp;seems&nbsp;to&nbsp;be&nbsp;that&nbsp;I&nbsp;dont&nbsp;get&nbsp;any&nbsp;calls&nbsp;to&nbsp;writemessage&nbsp;when&nbsp;the&nbsp;domain&nbsp;is&nbsp;a&nbsp;bogus&nbsp;one?&lt;br&gt;&lt;br&gt;/tax&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2009/10/22&nbsp;&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:exarkun@twistedmatrix.com&quot;&gt;exarkun@twistedmatrix.com&lt;/a&gt;&gt;&lt;/span&gt;&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;On&nbsp;20&nbsp;Oct,&nbsp;07:50&nbsp;pm,&nbsp;&lt;a&nbsp;href=&quot;mailto:jesper@taxboel.dk&quot;&gt;jesper@taxboel.dk&lt;/a&gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
&gt;Hi&nbsp;Guys,&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;Im&nbsp;playing&nbsp;with&nbsp;a&nbsp;dns-cache&nbsp;script,&nbsp;that&nbsp;overrides&nbsp;DNS&nbsp;requests&nbsp;for&lt;br&gt;<br>
&gt;certain&lt;br&gt;<br>
&gt;IP&nbsp;addresses.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;I&nbsp;would&nbsp;like&nbsp;to&nbsp;add&nbsp;functionality,&nbsp;so&nbsp;unresolved&nbsp;requests&nbsp;are&nbsp;sent&nbsp;to&nbsp;a&lt;br&gt;<br>
&gt;spicific&nbsp;IP.&nbsp;How&nbsp;do&nbsp;I&nbsp;go&nbsp;about&nbsp;doing&nbsp;that?&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;Is&nbsp;there&nbsp;a&nbsp;negative&nbsp;answer&nbsp;in&nbsp;the&nbsp;(udp)&nbsp;DNS&nbsp;protocol&nbsp;or&nbsp;am&nbsp;I&nbsp;forced&nbsp;to&lt;br&gt;<br>
&gt;use&nbsp;a&lt;br&gt;<br>
&gt;timeout.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;You&#39;ve&nbsp;overridden&nbsp;writeMessage&nbsp;to&nbsp;inspect&nbsp;messages&nbsp;for&nbsp;answers&nbsp;and&lt;br&gt;<br>
rewrite&nbsp;them&nbsp;if&nbsp;necessary.&nbsp; You&nbsp;can&nbsp;recognize&nbsp;error&nbsp;responses&nbsp;by&nbsp;looking&lt;br&gt;<br>
at&nbsp;the&nbsp;rCode&nbsp;attribute&nbsp;of&nbsp;the&nbsp;message&nbsp;object&nbsp;itself.&nbsp; This&nbsp;will&nbsp;take&nbsp;on&lt;br&gt;<br>
a&nbsp;value&nbsp;like&nbsp;dns.OK,&nbsp;dns.EFORMAT,&nbsp;dns.ESERVER,&nbsp;dns.ENAME,&nbsp;dns.ENOTIMP,&lt;br&gt;<br>
or&nbsp;dns.EREFUSED.&nbsp; You&nbsp;can&nbsp;handle&nbsp;these&nbsp;errors&nbsp;by&nbsp;making&nbsp;a&nbsp;request&nbsp;of&lt;br&gt;<br>
another&nbsp;domain,&nbsp;although&nbsp;since&nbsp;writeMessage&nbsp;is&nbsp;a&nbsp;very&nbsp;low-level&nbsp;API&nbsp;in&lt;br&gt;<br>
the&nbsp;process&nbsp;and&nbsp;not&nbsp;really&nbsp;intended&nbsp;to&nbsp;be&nbsp;overridden,&nbsp;I&#39;m&nbsp;not&nbsp;sure&nbsp;how&lt;br&gt;<br>
you&#39;ll&nbsp;insert&nbsp;the&nbsp;responses&nbsp;you&nbsp;get&nbsp;from&nbsp;these&nbsp;new&nbsp;requests&nbsp;into&nbsp;the&lt;br&gt;<br>
original&nbsp;request/response&nbsp;process.&lt;br&gt;<br>
&lt;br&gt;<br>
Jean-Paul&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Twisted-Python&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Twisted-Python@twistedmatrix.com&quot;&gt;Twisted-Python@twistedmatrix.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
