<tt>
&lt;html&gt;&lt;body&gt;On&nbsp;30&nbsp;Nov,&nbsp;08:00&nbsp;pm,&nbsp;ncesar@lunix.com.ar&nbsp;wrote:&lt;br&nbsp;/&gt;&amp;gt;my&nbsp;apologies&nbsp;for&nbsp;the&nbsp;delayed&nbsp;answer,&nbsp;i've&nbsp;been&nbsp;very&nbsp;busy&nbsp;latelly.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;No&nbsp;problem,&nbsp;aren't&nbsp;we&nbsp;all.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;&amp;gt;El&nbsp;Martes,&nbsp;28&nbsp;de&nbsp;Noviembre&nbsp;de&nbsp;2006&nbsp;06:07,&nbsp;glyph@divmod.com&nbsp;escribi√≥:&lt;br&nbsp;/&gt;&amp;gt;&amp;gt;&nbsp;Should&nbsp;the&nbsp;webserver&nbsp;stop&nbsp;simply&nbsp;because&nbsp;your&nbsp;protocol&nbsp;is&nbsp;not&nbsp;working?&lt;br&nbsp;/&gt;&amp;gt;&lt;br&nbsp;/&gt;&amp;gt;Well,&nbsp;yes&nbsp;I&nbsp;agree&nbsp;with&nbsp;you:&nbsp;not&nbsp;a&nbsp;webserver.&nbsp;So,&nbsp;I'll&nbsp;shortly&nbsp;describe&nbsp;my&lt;br&nbsp;/&gt;&amp;gt;application.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;My&nbsp;point&nbsp;is&nbsp;that&nbsp;you&nbsp;are&nbsp;artificially&nbsp;combining&nbsp;your&nbsp;application&nbsp;with&nbsp;your&nbsp;infrastructure.&nbsp;&amp;#160;The&nbsp;reactor&nbsp;is&nbsp;always&nbsp;potentially&nbsp;in&nbsp;use&nbsp;by&nbsp;multiple&nbsp;applications,&nbsp;so&nbsp;it&nbsp;is&nbsp;not&nbsp;the&nbsp;thing&nbsp;that&nbsp;should&nbsp;be&nbsp;stopped.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;&amp;gt;I&nbsp;have&nbsp;multiple&nbsp;LSTP&nbsp;(Linux&nbsp;Terminal&nbsp;Server&nbsp;Project)&nbsp;servers.&nbsp;All&nbsp;servers&nbsp;are&lt;br&nbsp;/&gt;&amp;gt;(almost)&nbsp;the&nbsp;same,&nbsp;and&nbsp;any&nbsp;of&nbsp;them&nbsp;can&nbsp;serve&nbsp;any&nbsp;client.&nbsp;There&nbsp;are&nbsp;arround&lt;br&nbsp;/&gt;&amp;gt;8-12&nbsp;servers&nbsp;and&nbsp;150+&nbsp;clients.&nbsp;I'm&nbsp;developing&nbsp;a&nbsp;twisted&nbsp;application&nbsp;that&lt;br&nbsp;/&gt;&amp;gt;balances&nbsp;clients&nbsp;requests&nbsp;(by&nbsp;filtering&nbsp;DHCP&nbsp;discover/requests&nbsp;packets.&nbsp;(I&lt;br&nbsp;/&gt;&amp;gt;attached&nbsp;an&nbsp;image,&nbsp;my&nbsp;application&nbsp;is&nbsp;called&nbsp;multiltsp).&nbsp;I'm&nbsp;using&nbsp;ip_queue&lt;br&nbsp;/&gt;&amp;gt;for&nbsp;this.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;OK.&nbsp;&amp;#160;So&nbsp;somewhere,&nbsp;there&nbsp;should&nbsp;be&nbsp;a&nbsp;MultiLTSPService&nbsp;which&nbsp;is&nbsp;the&nbsp;thing&nbsp;that&nbsp;gets&nbsp;stopped&nbsp;by&nbsp;these&nbsp;exceptions,&nbsp;I&nbsp;think.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;&amp;gt;There&nbsp;is&nbsp;a&nbsp;LDAP&nbsp;somewhere&nbsp;that&nbsp;has&nbsp;all&nbsp;client&nbsp;MACs&nbsp;that&nbsp;are&nbsp;in&nbsp;the&nbsp;group&nbsp;(eg.&lt;br&nbsp;/&gt;&amp;gt;the&nbsp;150&nbsp;clients)&nbsp;and&nbsp;from&nbsp;time&nbsp;to&nbsp;time,&nbsp;multiltsp&nbsp;re-reads&nbsp;this&nbsp;list.&nbsp;(I'm&lt;br&nbsp;/&gt;&amp;gt;simplifying&nbsp;much&nbsp;of&nbsp;these&nbsp;details).&nbsp;I'll&nbsp;call&nbsp;this&nbsp;list&nbsp;&quot;ALL-MACS&quot;...&lt;br&nbsp;/&gt;&amp;gt;...&nbsp;all&nbsp;multiltsp&nbsp;daemons&nbsp;MUST&nbsp;have&nbsp;the&nbsp;ALL-MACS&nbsp;list&nbsp;identical,&nbsp;in&nbsp;case&nbsp;there&lt;br&nbsp;/&gt;&amp;gt;is&nbsp;a&nbsp;out&nbsp;of&nbsp;sync[1]&nbsp;problem&nbsp;the&nbsp;(incorrect)&nbsp;server&nbsp;must&nbsp;quit&nbsp;and&nbsp;the&nbsp;others&lt;br&nbsp;/&gt;&amp;gt;must&nbsp;handle&nbsp;the&nbsp;clients.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;Shouldn't&nbsp;it&nbsp;just&nbsp;get&nbsp;informed&nbsp;that&nbsp;it&nbsp;is&nbsp;in&nbsp;an&nbsp;invalid&nbsp;state,&nbsp;and&nbsp;re-start&nbsp;itself,&nbsp;rather&nbsp;than&nbsp;shutting&nbsp;down&nbsp;entirely?&nbsp;&amp;#160;I&nbsp;understand&nbsp;that&nbsp;this&nbsp;is&nbsp;a&nbsp;&quot;panic&quot;&nbsp;state&nbsp;that&nbsp;should&nbsp;&quot;never&nbsp;happen&quot;,&nbsp;but&nbsp;you&nbsp;can&nbsp;flush&nbsp;that&nbsp;one&nbsp;bit&nbsp;of&nbsp;state&nbsp;without&nbsp;tanking&nbsp;the&nbsp;entire&nbsp;process.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;&amp;gt;There&nbsp;are&nbsp;serveral&nbsp;&amp;#160;services&nbsp;involved&nbsp;in&nbsp;this&nbsp;application&nbsp;(the&nbsp;multicast&nbsp;UDP&lt;br&nbsp;/&gt;&amp;gt;protocol,&nbsp;a&nbsp;shell,&nbsp;the&nbsp;ip_queue&nbsp;reader&nbsp;and&nbsp;others),&nbsp;&amp;#160;but&nbsp;a&nbsp;major&nbsp;problem&nbsp;as&lt;br&nbsp;/&gt;&amp;gt;stated&nbsp;above&nbsp;MUST&nbsp;get&nbsp;the&nbsp;application&nbsp;down&nbsp;with&nbsp;some&nbsp;special&nbsp;clean&nbsp;up.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;So&nbsp;there&nbsp;needs&nbsp;to&nbsp;be&nbsp;an&nbsp;object&nbsp;that&nbsp;represents&nbsp;the&nbsp;&quot;whole&nbsp;application&quot;,&nbsp;which&nbsp;has&nbsp;references&nbsp;to&nbsp;all&nbsp;these&nbsp;services.&nbsp;&amp;#160;The&nbsp;reactor&nbsp;should&nbsp;not&nbsp;be&nbsp;serving&nbsp;that&nbsp;purpose.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;&amp;gt;Glyph,&nbsp;I&nbsp;hope&nbsp;you&nbsp;understand&nbsp;my&nbsp;rustic&nbsp;English&nbsp;in&nbsp;the&nbsp;explanation&nbsp;above.&nbsp;Any&lt;br&nbsp;/&gt;&amp;gt;advice&nbsp;or&nbsp;suggestion&nbsp;please&nbsp;respond&nbsp;this&nbsp;email.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;It's&nbsp;not&nbsp;too&nbsp;bad&nbsp;:)&lt;/body&gt;&lt;/html&gt;
</tt>
