<tt>
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;On&nbsp;Oct&nbsp;7,&nbsp;2010,&nbsp;at&nbsp;2:53&nbsp;PM,&nbsp;&lt;a&nbsp;href=&quot;mailto:jason-sage@creativetrax.com&quot;&gt;jason-sage@creativetrax.com&lt;/a&gt;&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;(cc&nbsp;to&nbsp;both&nbsp;twisted&nbsp;and&nbsp;sage-devel&nbsp;lists)&lt;br&gt;&lt;br&gt;Hi&nbsp;all,&lt;br&gt;&lt;br&gt;In&nbsp;the&nbsp;Sage&nbsp;project&nbsp;(&lt;a&nbsp;href=&quot;http://sagemath.org&quot;&gt;http://sagemath.org&lt;/a&gt;),&nbsp;we&nbsp;apply&nbsp;a&nbsp;patch&nbsp;to&nbsp;the&nbsp;&lt;br&gt;Twisted&nbsp;version&nbsp;we&nbsp;distribute.&nbsp;&nbsp;I'd&nbsp;like&nbsp;to&nbsp;clean&nbsp;out&nbsp;our&nbsp;custom&nbsp;patches&nbsp;&lt;br&gt;and&nbsp;push&nbsp;them&nbsp;upstream,&nbsp;if&nbsp;possible.&nbsp;&nbsp;So&nbsp;I&nbsp;have&nbsp;a&nbsp;couple&nbsp;of&nbsp;questions&nbsp;&lt;br&gt;(I'm&nbsp;not&nbsp;terribly&nbsp;familiar&nbsp;with&nbsp;Twisted):&lt;br&gt;&lt;br&gt;1.&nbsp;Is&nbsp;the&nbsp;patch&nbsp;below&nbsp;generally&nbsp;useful?&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Not&nbsp;really.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;It's&nbsp;not&nbsp;really&nbsp;clear&nbsp;what&nbsp;the&nbsp;intent&nbsp;of&nbsp;the&nbsp;patch&nbsp;is.&nbsp;&nbsp;Your&nbsp;subject&nbsp;line&nbsp;implies&nbsp;that&nbsp;you&nbsp;don't&nbsp;quite&nbsp;understand&nbsp;the&nbsp;relationship&nbsp;between&nbsp;&quot;SSL&quot;&nbsp;and&nbsp;&quot;TLS&quot;.&nbsp;&nbsp;If&nbsp;you&nbsp;do,&nbsp;then&nbsp;you&nbsp;can&nbsp;disregard&nbsp;the&nbsp;following&nbsp;paragraph,&nbsp;but&nbsp;this&nbsp;may&nbsp;be&nbsp;useful&nbsp;to&nbsp;others&nbsp;following&nbsp;this&nbsp;thread&nbsp;even&nbsp;if&nbsp;you&nbsp;understand&nbsp;the&nbsp;distinction&nbsp;perfectly&nbsp;well&nbsp;already&nbsp;:).&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;SSL&nbsp;and&nbsp;TLS&nbsp;are&nbsp;different&nbsp;names&nbsp;for&nbsp;the&nbsp;same&nbsp;protocol,&nbsp;with&nbsp;subtly&nbsp;different&nbsp;implications.&nbsp;&nbsp;&quot;TLS&quot;&nbsp;formally&nbsp;names&nbsp;a&nbsp;later&nbsp;version.&nbsp;&nbsp;The&nbsp;fact&nbsp;that&nbsp;&quot;OpenSSL&quot;&nbsp;has&nbsp;&quot;SSL&quot;&nbsp;in&nbsp;its&nbsp;name&nbsp;and&nbsp;&quot;GnuTLS&quot;&nbsp;has&nbsp;&quot;TLS&quot;&nbsp;in&nbsp;the&nbsp;name&nbsp;is&nbsp;simply&nbsp;reflective&nbsp;of&nbsp;the&nbsp;fact&nbsp;that&nbsp;OpenSSL&nbsp;has&nbsp;been&nbsp;around&nbsp;for&nbsp;longer,&nbsp;and&nbsp;was&nbsp;created&nbsp;when&nbsp;&quot;SSL&quot;&nbsp;was&nbsp;still&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;protocol.&nbsp;&nbsp;See&nbsp;&lt;&lt;a&nbsp;href=&quot;http://www.ietf.org/rfc/rfc2246.txt&quot;&gt;http://www.ietf.org/rfc/rfc2246.txt&lt;/a&gt;&gt;,&nbsp;section&nbsp;3:&nbsp;&quot;This&nbsp;document&nbsp;and&nbsp;the&nbsp;TLS&nbsp;protocol&nbsp;itself&nbsp;are&nbsp;based&nbsp;on&nbsp;the&nbsp;SSL&nbsp;3.0&nbsp;Protocol&nbsp;Specification&nbsp;as&nbsp;published&nbsp;by&nbsp;Netscape.&quot;&nbsp;&nbsp;&quot;TLS&quot;&nbsp;is&nbsp;sometimes&nbsp;informally&nbsp;used&nbsp;to&nbsp;mean&nbsp;&quot;start&nbsp;TLS&nbsp;after&nbsp;some&nbsp;plaintext&nbsp;communication&quot;&nbsp;as&nbsp;opposed&nbsp;to&nbsp;&quot;initiate&nbsp;TLS&nbsp;at&nbsp;the&nbsp;start&nbsp;of&nbsp;the&nbsp;connection&quot;,&nbsp;since&nbsp;&quot;STARTTLS&quot;&nbsp;is&nbsp;usually&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;protocol&nbsp;command&nbsp;to&nbsp;initiate&nbsp;encryption&nbsp;over&nbsp;a&nbsp;previously-plaintext&nbsp;connection.&nbsp;&nbsp;This&nbsp;is&nbsp;why&nbsp;Twisted&nbsp;has&nbsp;'connectSSL'&nbsp;and&nbsp;'listenSSL',&nbsp;but&nbsp;'startTLS'&nbsp;method&nbsp;on&nbsp;a&nbsp;transport.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;all&nbsp;Sage&nbsp;wants&nbsp;is&nbsp;to&nbsp;use&nbsp;the&nbsp;later&nbsp;version&nbsp;of&nbsp;the&nbsp;protocol,&nbsp;the&nbsp;technique&nbsp;that&nbsp;Itamar&nbsp;suggested&nbsp;is&nbsp;the&nbsp;right&nbsp;way&nbsp;to&nbsp;go;&nbsp;just&nbsp;specify&nbsp;the&nbsp;'method'&nbsp;argument&nbsp;in&nbsp;your&nbsp;strports&nbsp;description,&nbsp;and&nbsp;Twisted&nbsp;(via&nbsp;OpenSSL)&nbsp;will&nbsp;already&nbsp;do&nbsp;what&nbsp;you&nbsp;want.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Whereas&nbsp;if&nbsp;you&nbsp;actually&nbsp;want&nbsp;&lt;i&gt;GnuTLS&lt;/i&gt;&nbsp;the&nbsp;library,&nbsp;rather&nbsp;than&nbsp;TLS&nbsp;the&nbsp;protocol...&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;2.&nbsp;Is&nbsp;there&nbsp;a&nbsp;better&nbsp;way&nbsp;to&nbsp;do&nbsp;this&nbsp;than&nbsp;to&nbsp;patch&nbsp;the&nbsp;file?&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;Yes.&nbsp;&nbsp;As&nbsp;suggested&nbsp;on&nbsp;&lt;&lt;a&nbsp;href=&quot;http://twistedmatrix.com/trac/ticket/4473&quot;&gt;http://twistedmatrix.com/trac/ticket/4473&lt;/a&gt;&gt;,&nbsp;there&nbsp;should&nbsp;be&nbsp;an&nbsp;extension&nbsp;mechanism&nbsp;for&nbsp;registering&nbsp;new&nbsp;endpoint&nbsp;types&nbsp;with&nbsp;a&nbsp;string&nbsp;name,&nbsp;just&nbsp;as&nbsp;there&nbsp;is&nbsp;a&nbsp;mechanism&nbsp;for&nbsp;registering&nbsp;new&nbsp;reactors&nbsp;and&nbsp;new&nbsp;credential&nbsp;factories.&nbsp;&nbsp;#4473&nbsp;itself&nbsp;has&nbsp;been&nbsp;repurposed&nbsp;to&nbsp;be&nbsp;the&nbsp;endpoint&nbsp;API&nbsp;rather&nbsp;than&nbsp;the&nbsp;plugin&nbsp;mechanism,&nbsp;so&nbsp;I&nbsp;need&nbsp;to&nbsp;file&nbsp;a&nbsp;new&nbsp;ticket&nbsp;once&nbsp;#4473&nbsp;is&nbsp;done&nbsp;for&nbsp;the&nbsp;separate&nbsp;extensibility&nbsp;bit.&nbsp;&nbsp;You&nbsp;could&nbsp;contribute&nbsp;a&nbsp;fix&nbsp;to&nbsp;that&nbsp;new&nbsp;ticket,&nbsp;or&nbsp;a&nbsp;review&nbsp;for&nbsp;it,&nbsp;if&nbsp;you&nbsp;were&nbsp;so&nbsp;inclined&nbsp;:).&lt;br&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;3.&nbsp;What&nbsp;do&nbsp;we&nbsp;need&nbsp;to&nbsp;do&nbsp;to&nbsp;incorporate&nbsp;it&nbsp;upstream&nbsp;in&nbsp;Twisted?&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#000000&quot;&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#144FAE&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Follow&nbsp;the&nbsp;instructions&nbsp;on&nbsp;&lt;&lt;a&nbsp;href=&quot;http://twistedmatrix.com/trac/wiki/TwistedDevelopment&quot;&gt;http://twistedmatrix.com/trac/wiki/TwistedDevelopment&lt;/a&gt;&gt;.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;can&nbsp;tell&nbsp;you&nbsp;right&nbsp;now&nbsp;that&nbsp;we're&nbsp;unlikely&nbsp;to&nbsp;support&nbsp;GnuTLS&nbsp;directly&nbsp;within&nbsp;Twisted&nbsp;(it's&nbsp;been&nbsp;discussed&nbsp;in&nbsp;the&nbsp;past&nbsp;and&nbsp;we&nbsp;didn't&nbsp;see&nbsp;a&nbsp;good&nbsp;reason&nbsp;to&nbsp;do&nbsp;it),&nbsp;but&nbsp;then,&nbsp;even&nbsp;if&nbsp;we&nbsp;were,&nbsp;the&nbsp;extension&nbsp;mechanism&nbsp;would&nbsp;be&nbsp;a&nbsp;probable&nbsp;prerequisite&nbsp;so&nbsp;that&nbsp;we&nbsp;could&nbsp;have&nbsp;a&nbsp;cleaner&nbsp;internal&nbsp;factoring&nbsp;of&nbsp;strports&nbsp;parsing&nbsp;mechanisms.&nbsp;&nbsp;The&nbsp;current&nbsp;mechanism&nbsp;(even&nbsp;in&nbsp;#4473)&nbsp;is&nbsp;not&nbsp;really&nbsp;scalable.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
