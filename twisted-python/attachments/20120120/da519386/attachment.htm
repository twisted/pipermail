<tt>
Hi&nbsp;Tom,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;How&nbsp;do&nbsp;you&nbsp;pass&nbsp;data&nbsp;between&nbsp;the&nbsp;parent&nbsp;and&nbsp;its&nbsp;children&nbsp;with&nbsp;multiprocessing?&nbsp;It&nbsp;worked&nbsp;fine&nbsp;with&nbsp;Twisted&nbsp;in&nbsp;debug&nbsp;but&nbsp;never&nbsp;in&nbsp;prod&nbsp;:(&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Best&lt;/div&gt;&lt;div&gt;Nicolas&lt;br&nbsp;clear=&quot;all&quot;&gt;<br>
&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Jan&nbsp;18,&nbsp;2012&nbsp;at&nbsp;6:39&nbsp;PM,&nbsp;Tom&nbsp;Sheffler&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:tom.sheffler@gmail.com&quot;&gt;tom.sheffler@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
We&nbsp;are&nbsp;using&nbsp;Py2.6&amp;#39;s&nbsp;multiprocessing&nbsp;with&nbsp;Twisted&nbsp;and&nbsp;things&nbsp;are&nbsp;working&nbsp;nicely.&nbsp; I&nbsp;thought&nbsp;I&amp;#39;d&nbsp;pass&nbsp;on&nbsp;something&nbsp;that&nbsp;seems&nbsp;to&nbsp;work&nbsp;pretty&nbsp;well.&nbsp; Comments&nbsp;welcome.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;am&nbsp;using&nbsp;multiprocessing&nbsp;to&nbsp;spawn&nbsp;long-running&nbsp;worker&nbsp;processes&nbsp;as&nbsp;children&nbsp;of&nbsp;Twisted.&nbsp; When&nbsp;Twisted&nbsp;is&nbsp;killed,&nbsp;I&nbsp;want&nbsp;the&nbsp;children&nbsp;to&nbsp;be&nbsp;unceremoniously&nbsp;killed&nbsp;as&nbsp;well.&nbsp; I&nbsp;looked&nbsp;into&nbsp;signal&nbsp;handlers,&nbsp;but&nbsp;creating&nbsp;a&nbsp;service&nbsp;that&nbsp;kills&nbsp;the&nbsp;child&nbsp;processes&nbsp;ended&nbsp;up&nbsp;being&nbsp;simpler&nbsp;and&nbsp;is&nbsp;working&nbsp;well&nbsp;with&nbsp;twistd&nbsp;daemonization.&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;&amp;#39;courier&nbsp;new&amp;#39;,&nbsp;monospace&quot;&gt;class&nbsp;MultiprocessingStopService(Service):&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;&amp;#39;courier&nbsp;new&amp;#39;,&nbsp;monospace&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;&amp;#39;courier&nbsp;new&amp;#39;,&nbsp;monospace&quot;&gt; &nbsp; &nbsp;def&nbsp;stopService(self):&lt;/font&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;font&nbsp;face=&quot;&amp;#39;courier&nbsp;new&amp;#39;,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;import&nbsp;multiprocessing&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;&amp;#39;courier&nbsp;new&amp;#39;,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;for&nbsp;p&nbsp;in&nbsp;multiprocessing.active_children():&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;&amp;#39;courier&nbsp;new&amp;#39;,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;p.terminate()&lt;/font&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;font&nbsp;face=&quot;&amp;#39;courier&nbsp;new&amp;#39;,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;Service.stopService(self)&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;and&nbsp;in&nbsp;my&nbsp;main&nbsp;service&nbsp;maker:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;&lt;font&nbsp;face=&quot;&amp;#39;courier&nbsp;new&amp;#39;,&nbsp;monospace&quot;&gt;s&nbsp;=&nbsp;MultiService()&lt;/font&gt;&lt;/div&gt;<br>
<br>
&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;&amp;#39;courier&nbsp;new&amp;#39;,&nbsp;monospace&quot;&gt; &nbsp; &nbsp;stopper&nbsp; =&nbsp;MultiprocessingStopService()&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;&amp;#39;courier&nbsp;new&amp;#39;,&nbsp;monospace&quot;&gt; &nbsp; &nbsp;stopper.setServiceParent(s)&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;Perhaps&nbsp;this&nbsp;will&nbsp;be&nbsp;helpful&nbsp;to&nbsp;someone.&lt;/div&gt;&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-T&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;br&gt;_______________________________________________&lt;br&gt;<br>
Twisted-Python&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Twisted-Python@twistedmatrix.com&quot;&gt;Twisted-Python@twistedmatrix.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
