<tt>
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;&lt;div&gt;Hi&nbsp;Andrew,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;for&nbsp;your&nbsp;work&nbsp;on&nbsp;this.&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;On&nbsp;Oct&nbsp;7,&nbsp;2011,&nbsp;at&nbsp;1:45&nbsp;AM,&nbsp;Andrew&nbsp;Mahone&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;I've&nbsp;been&nbsp;working&nbsp;on&nbsp;&lt;a&nbsp;href=&quot;http://twistedmatrix.com/trac/ticket/4159&quot;&gt;http://twistedmatrix.com/trac/ticket/4159&lt;/a&gt;&nbsp;and&lt;br&gt;there&nbsp;has&nbsp;been&nbsp;a&nbsp;bit&nbsp;of&nbsp;discussion&nbsp;on&nbsp;IRC&nbsp;regarding&nbsp;appropriate&lt;br&gt;interfaces&nbsp;for&nbsp;various&nbsp;things.&nbsp;I&nbsp;think&nbsp;in&nbsp;the&nbsp;long&nbsp;run,&nbsp;the&nbsp;only&lt;br&gt;python&nbsp;state&nbsp;that&nbsp;setupChild&nbsp;should&nbsp;be&nbsp;allowed&nbsp;to&nbsp;modify&nbsp;should&nbsp;be&lt;br&gt;args,&nbsp;environment,&nbsp;and&nbsp;the&nbsp;win32&nbsp;StartupInfo&nbsp;object.&nbsp;This&nbsp;leaves&nbsp;my&lt;br&gt;own&nbsp;personal&nbsp;use&nbsp;case&nbsp;for&nbsp;it&nbsp;impossible,&nbsp;but&nbsp;I'm&nbsp;working&nbsp;out&nbsp;how&nbsp;to&lt;br&gt;handle&nbsp;that&nbsp;-&nbsp;special&nbsp;childFDs&nbsp;objects.&nbsp;My&nbsp;proposal&nbsp;so&nbsp;far&nbsp;is&nbsp;that&lt;br&gt;there&nbsp;be&nbsp;a&nbsp;ProcessFileDescriptor&nbsp;object&nbsp;that&nbsp;inherits&nbsp;from&lt;br&gt;FileDescriptor.&nbsp;It&nbsp;would&nbsp;add&nbsp;a&nbsp;setup&nbsp;method,&nbsp;which&nbsp;Process&nbsp;would&nbsp;call&lt;br&gt;in&nbsp;the&nbsp;parent,&nbsp;and&nbsp;separate&nbsp;finishChild&nbsp;and&nbsp;finishParent&nbsp;methods&nbsp;that&lt;br&gt;would&nbsp;handle&nbsp;things&nbsp;like&nbsp;closing&nbsp;the&nbsp;other&nbsp;end&nbsp;of&nbsp;any&nbsp;pipe-like&lt;br&gt;objects,&nbsp;and&nbsp;would&nbsp;return&nbsp;a&nbsp;file&nbsp;descriptor&nbsp;-&nbsp;the&nbsp;child&nbsp;would&nbsp;place&lt;br&gt;this&nbsp;fd&nbsp;in&nbsp;childFDs,&nbsp;the&nbsp;parent&nbsp;would&nbsp;use&nbsp;it&nbsp;for&nbsp;communications&nbsp;with&lt;br&gt;the&nbsp;child,&nbsp;in&nbsp;the&nbsp;case&nbsp;of&nbsp;objects&nbsp;that&nbsp;wrap&nbsp;pipes&nbsp;or&nbsp;PTYs.&nbsp;I&nbsp;would&lt;br&gt;also&nbsp;extend&nbsp;the&nbsp;win32&nbsp;implementation&nbsp;to&nbsp;include&nbsp;some&nbsp;limited&nbsp;support&lt;br&gt;for&nbsp;childFDs&nbsp;-&nbsp;they&nbsp;could&nbsp;be&nbsp;used&nbsp;to&nbsp;allow&nbsp;the&nbsp;child&nbsp;to&nbsp;inherit&lt;br&gt;specific&nbsp;file&nbsp;handles&nbsp;as&nbsp;its&nbsp;stdin,&nbsp;stdout,&nbsp;and&nbsp;stderr,&nbsp;instead&nbsp;of&lt;br&gt;using&nbsp;these&nbsp;exclusively&nbsp;for&nbsp;communications&nbsp;with&nbsp;the&nbsp;parent,&nbsp;so&nbsp;that&lt;br&gt;redirection&nbsp;to&nbsp;a&nbsp;pipe,&nbsp;to&nbsp;a&nbsp;file,&nbsp;and&nbsp;the&nbsp;building&nbsp;of&nbsp;pipelines&nbsp;could&lt;br&gt;be&nbsp;accomplished&nbsp;on&nbsp;win32&nbsp;(I&nbsp;have&nbsp;a&nbsp;project&nbsp;that&nbsp;uses&nbsp;twisted&nbsp;for&nbsp;this&lt;br&gt;purpose,&nbsp;and&nbsp;I&nbsp;don't&nbsp;use&nbsp;windows,&nbsp;but&nbsp;I&nbsp;would&nbsp;like&nbsp;support&nbsp;to&nbsp;at&nbsp;least&lt;br&gt;be&nbsp;possible).&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I've&nbsp;been&nbsp;sitting&nbsp;on&nbsp;this&nbsp;message&nbsp;for&nbsp;a&nbsp;couple&nbsp;of&nbsp;days&nbsp;trying&nbsp;to&nbsp;come&nbsp;up&nbsp;with&nbsp;a&nbsp;good&nbsp;reply.&nbsp;&amp;nbsp;Unfortunately&nbsp;this&nbsp;whole&nbsp;description&nbsp;is&nbsp;phrased&nbsp;in&nbsp;terms&nbsp;of&nbsp;conflicting&nbsp;desires&nbsp;for&nbsp;the&nbsp;implementation,&nbsp;rather&nbsp;than&nbsp;a&nbsp;design&nbsp;strategy&nbsp;or&nbsp;a&nbsp;set&nbsp;of&nbsp;goals&nbsp;or&nbsp;requirements&nbsp;for&nbsp;the&nbsp;API,&nbsp;so&nbsp;my&nbsp;attempted&nbsp;replies&nbsp;have&nbsp;ended&nbsp;up&nbsp;playing&nbsp;whack-a-mole&nbsp;with&nbsp;the&nbsp;concerns&nbsp;one&nbsp;at&nbsp;a&nbsp;time,&nbsp;rather&nbsp;than&nbsp;making&nbsp;an&nbsp;informed&nbsp;critique&nbsp;of&nbsp;the&nbsp;whole&nbsp;proposal.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Could&nbsp;you&nbsp;try&nbsp;to&nbsp;re-phrase&nbsp;your&nbsp;design&nbsp;here&nbsp;in&nbsp;terms&nbsp;of&nbsp;why&nbsp;we&nbsp;want&nbsp;each&nbsp;of&nbsp;these&nbsp;things,&nbsp;some&nbsp;use-cases,&nbsp;and&nbsp;then&nbsp;maybe&nbsp;spell&nbsp;out&nbsp;the&nbsp;methods&nbsp;and&nbsp;stuff&nbsp;in&nbsp;terms&nbsp;of&nbsp;Python&nbsp;interfaces&nbsp;or&nbsp;classes&nbsp;(or&nbsp;perhaps&nbsp;links&nbsp;to&nbsp;your&nbsp;patch&nbsp;if&nbsp;it&nbsp;already&nbsp;implements&nbsp;what&nbsp;you've&nbsp;described&nbsp;here)?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Sorry&nbsp;that&nbsp;this&nbsp;probably&nbsp;isn't&nbsp;terribly&nbsp;useful&nbsp;feedback.&nbsp;&amp;nbsp;I&nbsp;really&nbsp;appreciate&nbsp;the&nbsp;time&nbsp;you've&nbsp;put&nbsp;in&nbsp;thus&nbsp;far,&nbsp;and&nbsp;I&nbsp;&lt;i&gt;think&lt;/i&gt;&nbsp;I&nbsp;like&nbsp;where&nbsp;you're&nbsp;going&nbsp;with&nbsp;this,&nbsp;I&nbsp;just&nbsp;haven't&nbsp;had&nbsp;time&nbsp;to&nbsp;turn&nbsp;everything&nbsp;inside-out&nbsp;so&nbsp;that&nbsp;I&nbsp;can&nbsp;see&nbsp;it&nbsp;clearly&nbsp;:).&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;I'm&nbsp;seeking&nbsp;comments&nbsp;on&nbsp;whether&nbsp;an&nbsp;extended&nbsp;childFDs&nbsp;interface&nbsp;is&nbsp;the&lt;br&gt;best&nbsp;way&nbsp;to&nbsp;manipulate&nbsp;the&nbsp;inherited&nbsp;files&nbsp;of&nbsp;the&nbsp;child&nbsp;process,&nbsp;and&lt;br&gt;whether,&nbsp;if&nbsp;so,&nbsp;fdmap&nbsp;ought&nbsp;to&nbsp;be&nbsp;visible&nbsp;in&nbsp;setupChild&nbsp;at&nbsp;all&nbsp;-&nbsp;in&nbsp;my&lt;br&gt;opinion,&nbsp;setupChild&nbsp;should&nbsp;be&nbsp;strictly&nbsp;for&nbsp;things&nbsp;like&nbsp;setting&nbsp;the&lt;br&gt;child&nbsp;PID&nbsp;in&nbsp;an&nbsp;environment&nbsp;variable&nbsp;or&nbsp;as&nbsp;a&nbsp;command&nbsp;line&nbsp;argument,&lt;br&gt;manipulating&nbsp;scheduler&nbsp;and&nbsp;other&nbsp;parameters&nbsp;external&nbsp;to&nbsp;twisted&lt;br&gt;itself,&nbsp;and&nbsp;other&nbsp;things&nbsp;of&nbsp;that&nbsp;nature,&nbsp;and&nbsp;the&nbsp;existing&nbsp;childFDs&lt;br&gt;mechanism&nbsp;should&nbsp;handle&nbsp;any&nbsp;manipulation&nbsp;of&nbsp;file&nbsp;redirection&nbsp;or&lt;br&gt;inheritance.&nbsp;If&nbsp;there&nbsp;are&nbsp;suggestions&nbsp;on&nbsp;what&nbsp;an&nbsp;extended&nbsp;childFD&lt;br&gt;object&nbsp;ought&nbsp;to&nbsp;look&nbsp;like,&nbsp;these&nbsp;are&nbsp;welcome&nbsp;as&nbsp;well&nbsp;-&nbsp;I&nbsp;think&nbsp;the&lt;br&gt;specified&nbsp;methods&nbsp;should&nbsp;handle&nbsp;trivial&nbsp;cases&nbsp;even&nbsp;on&nbsp;platforms&lt;br&gt;without&nbsp;fork,&nbsp;and&nbsp;should&nbsp;handle&nbsp;nearly&nbsp;anything&nbsp;that&nbsp;really&nbsp;is&nbsp;a&nbsp;file&lt;br&gt;descriptor&nbsp;on&nbsp;POSIX&nbsp;platforms,&nbsp;but&nbsp;maybe&nbsp;there&nbsp;is&nbsp;something&nbsp;I&nbsp;have&lt;br&gt;missed.&lt;/div&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
