<tt>
Oh&nbsp;I&nbsp;like&nbsp;the&nbsp;look&nbsp;of&nbsp;the&nbsp;inlineCallbacks.&nbsp;Is&nbsp;there&nbsp;a&nbsp;way&nbsp;that&nbsp;I&nbsp;can&nbsp;still&nbsp;use&nbsp;inspect.getargspec&nbsp;to&nbsp;retrieve&nbsp;the&nbsp;arg&nbsp;names&nbsp;of&nbsp;my&nbsp;original&nbsp;method,&nbsp;as&nbsp;opposed&nbsp;to&nbsp;the&nbsp;generator&nbsp;returned&nbsp;by&nbsp;inlineCallbacks.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
I&nbsp;noticed&nbsp;it&nbsp;copies&nbsp;the&nbsp;__doc__&nbsp;over,&nbsp;but&nbsp;is&nbsp;there&nbsp;an&nbsp;attribute&nbsp;where&nbsp;I&nbsp;can&nbsp;still&nbsp;inspect&nbsp;my&nbsp;original&nbsp;method?&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;Nov&nbsp;17,&nbsp;2009&nbsp;at&nbsp;11:08&nbsp;AM,&nbsp;Reza&nbsp;Lotun&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:rlotun@gmail.com&quot;&gt;rlotun@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;Hi&nbsp;Landreville,&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&gt;&nbsp;If&nbsp;I&nbsp;want&nbsp;to&nbsp;do&nbsp;a&nbsp;number&nbsp;of&nbsp;actions&nbsp;in&nbsp;a&nbsp;row&nbsp;that&nbsp;each&nbsp;return&nbsp;a&nbsp;deferred&nbsp;but&lt;br&gt;<br>
&gt;&nbsp;depend&nbsp;on&nbsp;eachother,&nbsp;do&nbsp;I&nbsp;need&nbsp;to&nbsp;nest&nbsp;those&nbsp;callbacks?&lt;br&gt;<br>
&gt;&nbsp;Ie&nbsp;if&nbsp;i&nbsp;want&nbsp;to:&lt;br&gt;<br>
&gt;&nbsp;1.&nbsp;Call&nbsp;database&nbsp;function&nbsp;using&nbsp;adbabi&lt;br&gt;<br>
&gt;&nbsp;2.&nbsp;Call&nbsp;xmlrpc&nbsp;method&nbsp;using&nbsp;result&nbsp;from&nbsp;1&lt;br&gt;<br>
&gt;&nbsp;3.&nbsp;Call&nbsp;database&nbsp;using&nbsp;result&nbsp;from&nbsp;2&lt;br&gt;<br>
&gt;&nbsp;Would&nbsp;I&nbsp;just&nbsp;put&nbsp;2&nbsp;inside&nbsp;the&nbsp;callback&nbsp;for&nbsp;1&nbsp;and&nbsp;then&nbsp;put&nbsp;3&nbsp;inside&nbsp;the&lt;br&gt;<br>
&gt;&nbsp;callback&nbsp;for&nbsp;2?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;By&nbsp;multiple&nbsp;deferreds&nbsp;that&nbsp;depend&nbsp;on&nbsp;each&nbsp;other,&nbsp;you&nbsp;probably&nbsp;mean&nbsp;a&lt;br&gt;<br>
linear&nbsp;firing&nbsp;of&nbsp;actions&nbsp;based&nbsp;on&nbsp;callbacks&nbsp;of&nbsp;previous&nbsp;actions.&nbsp;The&lt;br&gt;<br>
only&nbsp;way&nbsp;to&nbsp;do&nbsp;that&nbsp;is&nbsp;to&nbsp;trigger&nbsp;actions&nbsp;in&nbsp;callbacks&nbsp;of&nbsp;the&lt;br&gt;<br>
deferreds&nbsp;in&nbsp;question,&nbsp;as&nbsp;you&nbsp;allude&nbsp;to.&lt;br&gt;<br>
&lt;br&gt;<br>
Yeah,&nbsp;so&nbsp;roughly&nbsp;something&nbsp;like&nbsp;this&nbsp;would&nbsp;work:&lt;br&gt;<br>
&lt;br&gt;<br>
def&nbsp;db_call(arg):&lt;br&gt;<br>
&nbsp; &nbsp;dfr&nbsp;=&nbsp;make_db_call_in_thread(arg)&lt;br&gt;<br>
&nbsp; &nbsp;return&nbsp;dfr&lt;br&gt;<br>
&lt;br&gt;<br>
def&nbsp;xmlrpc_call(arg):&lt;br&gt;<br>
&nbsp; &nbsp;dfr&nbsp;=&nbsp;make_call(arg)&lt;br&gt;<br>
&nbsp; &nbsp;return&nbsp;dfr&lt;br&gt;<br>
&lt;br&gt;<br>
dfr&nbsp;=&nbsp;db_call(some_initial_arg)&lt;br&gt;<br>
dfr.addCallback(xmlrpc)&lt;br&gt;<br>
dfr.addCallback(db_call)&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&gt;&nbsp;How&nbsp;would&nbsp;I&nbsp;do&nbsp;that&nbsp;in&nbsp;one&nbsp;function?&nbsp;All&nbsp;the&nbsp;examples&nbsp;I&nbsp;have&nbsp;seen&nbsp;have&nbsp;a&lt;br&gt;<br>
&gt;&nbsp;function&nbsp;calling&nbsp;one&nbsp;method&nbsp;returning&nbsp;a&nbsp;deferred&nbsp;and&nbsp;then&nbsp;placing&nbsp;the&nbsp;logic&lt;br&gt;<br>
&gt;&nbsp;(doing&nbsp;something&nbsp;with&nbsp;the&nbsp;result)&nbsp;in&nbsp;the&nbsp;callback,&nbsp;but&nbsp;do&nbsp;not&nbsp;deal&nbsp;with&lt;br&gt;<br>
&gt;&nbsp;multiple&nbsp;deferreds&nbsp;that&nbsp;depend&nbsp;on each&nbsp;other.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;To&nbsp;do&nbsp;it&nbsp;in&nbsp;one&nbsp;function,&nbsp;you&nbsp;could&nbsp;use&nbsp;something&nbsp;like:&lt;br&gt;<br>
&lt;br&gt;<br>
def&nbsp;complex_call():&lt;br&gt;<br>
&nbsp; &nbsp; def&nbsp;db_call(arg):&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp;dfr&nbsp;=&nbsp;make_db_call_in_thread(arg)&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp;return&nbsp;dfr&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp; &nbsp; def&nbsp;xmlrpc_call(arg):&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp;dfr&nbsp;=&nbsp;make_call(arg)&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp;return&nbsp;dfr&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp; &nbsp; dfr&nbsp;=&nbsp;db_call(some_initial_arg)&lt;br&gt;<br>
&nbsp; &nbsp; dfr.addCallback(xmlrpc_call)&lt;br&gt;<br>
&nbsp; &nbsp; dfr.addCallback(db_call)&lt;br&gt;<br>
&nbsp; &nbsp; dfr.addErrback(my_errback_handler)&lt;br&gt;<br>
&nbsp; &nbsp; return&nbsp;dfr&lt;br&gt;<br>
&lt;br&gt;<br>
Or&nbsp;you&nbsp;can&nbsp;make&nbsp;each&nbsp;handler&nbsp;a&nbsp;method&nbsp;on&nbsp;a&nbsp;class.&nbsp;Another&nbsp;way&nbsp;to&nbsp;do&nbsp;it&lt;br&gt;<br>
is&nbsp;to&nbsp;use&nbsp;inlineCallbacks:&lt;br&gt;<br>
&lt;br&gt;<br>
from&nbsp;twisted.internet&nbsp;import&nbsp;defer&lt;br&gt;<br>
@defer.inlineCallbacks&lt;br&gt;<br>
def&nbsp;example():&lt;br&gt;<br>
&nbsp; &nbsp; res&nbsp;=&nbsp;yield&nbsp;db_call(some_initial_arg)&lt;br&gt;<br>
&nbsp; &nbsp; rpc_res&nbsp;=&nbsp;yield&nbsp;xmlrpc_call(res)&lt;br&gt;<br>
&nbsp; &nbsp; db_res&nbsp;=&nbsp;yield&nbsp;db_call(rpc_res)&lt;br&gt;<br>
&lt;br&gt;<br>
In&nbsp;the&nbsp;above&nbsp;example,&nbsp;it&#39;s&nbsp;all&nbsp;still&nbsp;asynchronous&nbsp;(if&nbsp;not&nbsp;parallel),&lt;br&gt;<br>
but&nbsp;it&nbsp;looks&nbsp;like&nbsp;it&#39;s&nbsp;synchronous,&nbsp;using&nbsp;the&nbsp;magic&nbsp;of&nbsp;decorators&nbsp;and&lt;br&gt;<br>
Python&nbsp;2.5+&#39;s&nbsp;ability&nbsp;to&nbsp;retrieve&nbsp;results&nbsp;from&nbsp;yield&nbsp;statements.&lt;br&gt;<br>
&lt;br&gt;<br>
Hope&nbsp;that&nbsp;makes&nbsp;sense.&lt;br&gt;<br>
&lt;br&gt;<br>
Cheers,&lt;br&gt;<br>
Reza&lt;br&gt;<br>
&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
--&lt;br&gt;<br>
Reza&nbsp;Lotun&lt;br&gt;<br>
mobile:&nbsp;+44&nbsp;(0)7521&nbsp;310&nbsp;763&lt;br&gt;<br>
email:&nbsp; &lt;a&nbsp;href=&quot;mailto:rlotun@gmail.com&quot;&gt;rlotun@gmail.com&lt;/a&gt;&lt;br&gt;<br>
work:&nbsp; &nbsp;&lt;a&nbsp;href=&quot;mailto:reza@tweetdeck.com&quot;&gt;reza@tweetdeck.com&lt;/a&gt;&lt;br&gt;<br>
twitter:&nbsp;@rlotun&lt;br&gt;<br>
&lt;/font&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Twisted-Python&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Twisted-Python@twistedmatrix.com&quot;&gt;Twisted-Python@twistedmatrix.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
