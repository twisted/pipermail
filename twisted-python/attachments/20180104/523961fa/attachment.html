<tt>
&lt;html&gt;&lt;head&gt;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=us-ascii&quot;&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;line-break:&nbsp;after-white-space;&quot;&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;On&nbsp;Jan&nbsp;4,&nbsp;2018,&nbsp;at&nbsp;11:07&nbsp;AM,&nbsp;Svein&nbsp;Seldal&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:sveinse@seldal.com&quot;&nbsp;class=&quot;&quot;&gt;sveinse@seldal.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;Hi&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;I'm&nbsp;currently&nbsp;working&nbsp;on&nbsp;understanding&nbsp;the&nbsp;twister.logger&nbsp;scheme&nbsp;with&nbsp;the&nbsp;purpose&nbsp;of&nbsp;getting&nbsp;proper&nbsp;logging&nbsp;in&nbsp;my&nbsp;end-user&nbsp;application.&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;a&nbsp;href=&quot;https://gist.github.com/sveinse/041c69b6bbdde83cf5b00fecae3dcd50&quot;&nbsp;class=&quot;&quot;&gt;https://gist.github.com/sveinse/041c69b6bbdde83cf5b00fecae3dcd50&lt;/a&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;It&nbsp;took&nbsp;me&nbsp;a&nbsp;while&nbsp;to&nbsp;get&nbsp;my&nbsp;head&nbsp;around&nbsp;the&nbsp;difference&nbsp;in&nbsp;using&lt;br&nbsp;class=&quot;&quot;&gt;twisted.logger.globalLogBeginner.beginLoggingTo()&nbsp;vs&nbsp;using&nbsp;twisted.logger.globalLogPublisher.addObserver().&nbsp;Neither&nbsp;of&nbsp;the&nbsp;methods&nbsp;behave&nbsp;precisely&nbsp;as&nbsp;I'd&nbsp;like&nbsp;them&nbsp;to.&nbsp;See&nbsp;&lt;a&nbsp;href=&quot;https://gist.github.com/sveinse/041c69b6bbdde83cf5b00fecae3dcd50#file-log-py-L99&quot;&nbsp;class=&quot;&quot;&gt;https://gist.github.com/sveinse/041c69b6bbdde83cf5b00fecae3dcd50#file-log-py-L99&lt;/a&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;comment&nbsp;here:&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;any&nbsp;errors&nbsp;in&nbsp;the&nbsp;observers&nbsp;will&nbsp;be&nbsp;silently&nbsp;ignored&nbsp;because&nbsp;the&nbsp;observers&nbsp;are&nbsp;no&nbsp;longer&nbsp;run&nbsp;through&nbsp;the&nbsp;LogPublisher()&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;is&nbsp;incorrect.&nbsp;&nbsp;If&nbsp;you're&nbsp;seeing&nbsp;errors&nbsp;being&nbsp;ignored,&nbsp;it's&nbsp;a&nbsp;bug.&nbsp;&nbsp;However,&nbsp;the&nbsp;specific&nbsp;claim&nbsp;that&nbsp;&quot;the&nbsp;observers&nbsp;are&nbsp;no&nbsp;longer&nbsp;run&nbsp;through&nbsp;the&nbsp;LogPublisher&quot;&nbsp;is&nbsp;definitely&nbsp;wrong.&nbsp;&nbsp;See&nbsp;the&nbsp;implementation&nbsp;here:&nbsp;&lt;a&nbsp;href=&quot;https://github.com/twisted/twisted/blob/8b5865cda742b7d727f97cdec4b9e83974d57c94/src/twisted/logger/_global.py#L142&quot;&nbsp;class=&quot;&quot;&gt;https://github.com/twisted/twisted/blob/8b5865cda742b7d727f97cdec4b9e83974d57c94/src/twisted/logger/_global.py#L142&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;Note&nbsp;in&nbsp;that&nbsp;implementation&nbsp;that&nbsp;the&nbsp;`self._publisher`&nbsp;being&nbsp;replayed&nbsp;to&nbsp;is&nbsp;precisely&nbsp;the&nbsp;LogPublisher,&nbsp;with&nbsp;all&nbsp;the&nbsp;new&nbsp;observers&nbsp;added&nbsp;to&nbsp;it.&nbsp;&nbsp;Errors&nbsp;should&nbsp;be&nbsp;handled&nbsp;as&nbsp;normal.&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;Perhaps&nbsp;this&nbsp;is&nbsp;not&nbsp;happening&nbsp;in&nbsp;the&nbsp;correct&nbsp;order&nbsp;with&nbsp;the&nbsp;LoggingFile&nbsp;replacements&nbsp;for&nbsp;stdin/stdout/stderr,&nbsp;and&nbsp;should&nbsp;be&nbsp;taking&nbsp;place&nbsp;later?&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;1)&lt;br&nbsp;class=&quot;&quot;&gt;What&nbsp;are&nbsp;the&nbsp;intended&nbsp;difference&nbsp;between&nbsp;these&nbsp;two&nbsp;ways&nbsp;of&nbsp;installing&nbsp;a&nbsp;logobserver?&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;beginLoggingTo&nbsp;is&nbsp;meant&nbsp;to&nbsp;be&nbsp;the&nbsp;thing&nbsp;that&nbsp;you&nbsp;do&nbsp;at&nbsp;program&nbsp;start-up&nbsp;to&nbsp;take&nbsp;over&nbsp;from&nbsp;the&nbsp;boot-time&nbsp;buffering&nbsp;log&nbsp;observer.&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;addObserver&nbsp;is&nbsp;meant&nbsp;to&nbsp;be&nbsp;the&nbsp;thing&nbsp;that&nbsp;you&nbsp;do&nbsp;at&nbsp;any&nbsp;time&nbsp;during&nbsp;a&nbsp;program's&nbsp;run&nbsp;to&nbsp;add&nbsp;an&nbsp;observer&nbsp;for&nbsp;whatever&nbsp;other&nbsp;reason.&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;While&nbsp;the&nbsp;exact&nbsp;difference&nbsp;depends&nbsp;upon&nbsp;your&nbsp;application,&nbsp;in&nbsp;general,&nbsp;if&nbsp;you're&nbsp;setting&nbsp;up&nbsp;the&nbsp;&quot;main&quot;&nbsp;log&nbsp;observer&nbsp;for&nbsp;your&nbsp;process,&nbsp;you&nbsp;should&nbsp;probably&nbsp;be&nbsp;doing&nbsp;it&nbsp;with&nbsp;beginLoggingTo.&lt;/div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;2)&lt;br&nbsp;class=&quot;&quot;&gt;I'd&nbsp;like&nbsp;to&nbsp;contribute&nbsp;a&nbsp;SyslogObserver&nbsp;for&nbsp;the&nbsp;new&nbsp;twister.logger&nbsp;scheme.&nbsp;See&nbsp;the&nbsp;_syslog.py&nbsp;file&nbsp;in&nbsp;the&nbsp;gist.&nbsp;It&nbsp;has&nbsp;been&nbsp;ported&nbsp;from&nbsp;the&nbsp;old&nbsp;logging&nbsp;scheme.&nbsp;Would&nbsp;this&nbsp;be&nbsp;useful&nbsp;to&nbsp;Twisted?&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;Absolutely!&lt;/div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;I&nbsp;was&nbsp;uncertain&nbsp;what&nbsp;to&nbsp;do&nbsp;with&nbsp;log_failures&nbsp;in&nbsp;the&nbsp;observer.&nbsp;I&nbsp;see&nbsp;that&nbsp;dumping&nbsp;of&nbsp;log_failures&nbsp;has&nbsp;been&nbsp;removed&nbsp;from&nbsp;t.l.FileLogObserver().&nbsp;What&nbsp;is&nbsp;the&nbsp;appropriate&nbsp;way&nbsp;to&nbsp;deal&nbsp;with&nbsp;log_failures?&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;Given&nbsp;that&nbsp;syslog&nbsp;is&nbsp;ultimately&nbsp;an&nbsp;unstructured&nbsp;/&nbsp;text-based&nbsp;format,&nbsp;you&nbsp;probably&nbsp;want&nbsp;to&nbsp;do&nbsp;something&nbsp;similar&nbsp;to&nbsp;what&nbsp;formatEventAsClassicLogText&nbsp;does&nbsp;here:&nbsp;&lt;a&nbsp;href=&quot;https://github.com/twisted/twisted/blob/8b5865cda742b7d727f97cdec4b9e83974d57c94/src/twisted/logger/_format.py#L192-L198&quot;&nbsp;class=&quot;&quot;&gt;https://github.com/twisted/twisted/blob/8b5865cda742b7d727f97cdec4b9e83974d57c94/src/twisted/logger/_format.py#L192-L198&lt;/a&gt;.&lt;/div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;In&nbsp;the&nbsp;proposal&nbsp;of&nbsp;SyslogObserver&nbsp;I&nbsp;addded&nbsp;a&nbsp;dumpTraceback&nbsp;option&nbsp;to&nbsp;the&nbsp;constructor&nbsp;to&nbsp;select&nbsp;if&nbsp;the&nbsp;tb&nbsp;should&nbsp;go&nbsp;to&nbsp;the&nbsp;syslog&nbsp;or&nbsp;not.&nbsp;(My&nbsp;application&nbsp;shall&nbsp;have&nbsp;tb&nbsp;to&nbsp;syslog.)&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;And,&nbsp;now&nbsp;that&nbsp;I&nbsp;look&nbsp;at&nbsp;your&nbsp;code,&nbsp;I&nbsp;can&nbsp;see&nbsp;that&nbsp;it's&nbsp;almost&nbsp;doing&nbsp;more&nbsp;or&nbsp;less&nbsp;exactly&nbsp;what&nbsp;I&nbsp;suggested&nbsp;with&nbsp;respect&nbsp;to&nbsp;log_failure,&nbsp;so,&nbsp;there&nbsp;you&nbsp;go,&nbsp;you're&nbsp;already&nbsp;doing&nbsp;it&nbsp;right&nbsp;:-).&nbsp;&nbsp;I'd&nbsp;probably&nbsp;default&nbsp;dumpTraceback&nbsp;to&nbsp;true&nbsp;-&nbsp;you&nbsp;probably&nbsp;&lt;i&nbsp;class=&quot;&quot;&gt;do&lt;/i&gt;&nbsp;want&nbsp;to&nbsp;see&nbsp;tracebacks,&nbsp;if&nbsp;they're&nbsp;happening,&nbsp;and&nbsp;syslog&nbsp;is&nbsp;your&nbsp;primary&nbsp;log&nbsp;observer.&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;for&nbsp;using&nbsp;Twisted&nbsp;and&nbsp;thanks&nbsp;even&nbsp;more&nbsp;for&nbsp;your&nbsp;interest&nbsp;in&nbsp;improving&nbsp;our&nbsp;log&nbsp;tooling!&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;-glyph&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
