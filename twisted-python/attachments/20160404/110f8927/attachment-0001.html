<tt>
&lt;html&gt;&lt;head&gt;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html&nbsp;charset=us-ascii&quot;&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&quot;&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;On&nbsp;Apr&nbsp;3,&nbsp;2016,&nbsp;at&nbsp;6:29&nbsp;AM,&nbsp;John&nbsp;Aherne&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:johnaherne@rocs.co.uk&quot;&nbsp;class=&quot;&quot;&gt;johnaherne@rocs.co.uk&lt;/a&gt;&gt;&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;&quot;&gt;I&nbsp;have&nbsp;picked&nbsp;up&nbsp;on&nbsp;this&nbsp;again.&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;There&nbsp;would&nbsp;appear&nbsp;to&nbsp;be&nbsp;a&nbsp;failing&nbsp;test&nbsp;in&nbsp;test_agent.py.&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;You&nbsp;said&nbsp;'test_agent'&nbsp;but&nbsp;the&nbsp;error&nbsp;below&nbsp;is&nbsp;coming&nbsp;from&nbsp;test_tap;&nbsp;which&nbsp;are&nbsp;you&nbsp;referring&nbsp;to?&lt;/div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;I&nbsp;have&nbsp;added&nbsp;a&nbsp;new&nbsp;test&nbsp;to&nbsp;check&nbsp;that&nbsp;certificateOptions.trustRoot&nbsp;is&nbsp;an&nbsp;instance&nbsp;of&nbsp;&nbsp;OpensSSLWindowsCertificateAuthorities&nbsp;if&nbsp;wincertstore&nbsp;is&nbsp;available&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;And&nbsp;I&nbsp;have&nbsp;modified&nbsp;the&nbsp;existing&nbsp;test&nbsp;&nbsp;test_setsTrustRootOnContextDefaultTrustRoot&nbsp;to&nbsp;be&nbsp;skipped&nbsp;if&nbsp;wincertstore&nbsp;is&nbsp;available.&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;I&nbsp;have&nbsp;run&nbsp;some&nbsp;simple&nbsp;tests&nbsp;using&nbsp;Agent&nbsp;against&nbsp;googlemaps&nbsp;to&nbsp;confirm&nbsp;the&nbsp;host&nbsp;verification&nbsp;works&nbsp;and&nbsp;fails&nbsp;and&nbsp;a&nbsp;similar&nbsp;test&nbsp;with&nbsp;treq.&nbsp;So&nbsp;looks&nbsp;good.&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;But&nbsp;before&nbsp;I&nbsp;send&nbsp;up&nbsp;the&nbsp;patch&nbsp;I&nbsp;need&nbsp;to&nbsp;be&nbsp;happy&nbsp;that&nbsp;trial&nbsp;twisted&nbsp;completes&nbsp;with&nbsp;out&nbsp;error.&nbsp;And&nbsp;I&nbsp;keep&nbsp;getting&nbsp;an&nbsp;error&nbsp;on&nbsp;one&nbsp;test&nbsp;but&nbsp;I&nbsp;can't&nbsp;work&nbsp;out&nbsp;what&nbsp;the&nbsp;problem&nbsp;is.&nbsp;Hopefully&nbsp;someone&nbsp;can&nbsp;fathom&nbsp;it&nbsp;from&nbsp;the&nbsp;traceback&nbsp;and&nbsp;point&nbsp;me&nbsp;in&nbsp;the&nbsp;right&nbsp;direction.&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;Thanks&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;[ERROR]&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;Traceback&nbsp;(most&nbsp;recent&nbsp;call&nbsp;last):&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;Failure:&nbsp;twisted.trial.util.DirtyReactorAggregateError:&nbsp;Reactor&nbsp;was&nbsp;unclean.&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;DelayedCalls:&nbsp;(set&nbsp;twisted.internet.base.DelayedCall.debug&nbsp;=&nbsp;True&nbsp;to&nbsp;debug)&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;DelayedCall&nbsp;0x42e4f30&nbsp;[60.0s]&nbsp;called=0&nbsp;cancelled=0&nbsp;ThreadedResolver._cleanup('&lt;a&nbsp;href=&quot;http://d.root-servers.net/&quot;&nbsp;class=&quot;&quot;&gt;d.root-servers.net&lt;/a&gt;',&nbsp;&lt;Deferred&nbsp;at&nbsp;0x42e4a80&gt;)&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;DelayedCall&nbsp;0x42e4328&nbsp;[60.0s]&nbsp;called=0&nbsp;cancelled=0&nbsp;ThreadedResolver._cleanup('&lt;a&nbsp;href=&quot;http://e.root-servers.net/&quot;&nbsp;class=&quot;&quot;&gt;e.root-servers.net&lt;/a&gt;',&nbsp;&lt;Deferred&nbsp;at&nbsp;0x42e4b48&gt;)&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;DelayedCall&nbsp;0x42e4d28&nbsp;[60.0s]&nbsp;called=0&nbsp;cancelled=0&nbsp;ThreadedResolver._cleanup('&lt;a&nbsp;href=&quot;http://f.root-servers.net/&quot;&nbsp;class=&quot;&quot;&gt;f.root-servers.net&lt;/a&gt;',&nbsp;&lt;Deferred&nbsp;at&nbsp;0x42e4fa8&gt;)&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;DelayedCall&nbsp;0x42e4ad0&nbsp;[60.0s]&nbsp;called=0&nbsp;cancelled=0&nbsp;ThreadedResolver._cleanup('&lt;a&nbsp;href=&quot;http://h.root-servers.net/&quot;&nbsp;class=&quot;&quot;&gt;h.root-servers.net&lt;/a&gt;',&nbsp;&lt;Deferred&nbsp;at&nbsp;0x42e4a58&gt;)&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;DelayedCall&nbsp;0x4299aa8&nbsp;[60.0s]&nbsp;called=0&nbsp;cancelled=0&nbsp;ThreadedResolver._cleanup('&lt;a&nbsp;href=&quot;http://l.root-servers.net/&quot;&nbsp;class=&quot;&quot;&gt;l.root-servers.net&lt;/a&gt;',&nbsp;&lt;Deferred&nbsp;at&nbsp;0x42ce3a0&gt;)&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;DelayedCall&nbsp;0x42e4cb0&nbsp;[60.0s]&nbsp;called=0&nbsp;cancelled=0&nbsp;ThreadedResolver._cleanup('&lt;a&nbsp;href=&quot;http://a.root-servers.net/&quot;&nbsp;class=&quot;&quot;&gt;a.root-servers.net&lt;/a&gt;',&nbsp;&lt;Deferred&nbsp;at&nbsp;0x42e40d0&gt;)&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;DelayedCall&nbsp;0x42e4d50&nbsp;[60.0s]&nbsp;called=0&nbsp;cancelled=0&nbsp;ThreadedResolver._cleanup('&lt;a&nbsp;href=&quot;http://b.root-servers.net/&quot;&nbsp;class=&quot;&quot;&gt;b.root-servers.net&lt;/a&gt;',&nbsp;&lt;Deferred&nbsp;at&nbsp;0x42e4ee0&gt;)&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;DelayedCall&nbsp;0x42e45d0&nbsp;[60.0s]&nbsp;called=0&nbsp;cancelled=0&nbsp;ThreadedResolver._cleanup('&lt;a&nbsp;href=&quot;http://c.root-servers.net/&quot;&nbsp;class=&quot;&quot;&gt;c.root-servers.net&lt;/a&gt;',&nbsp;&lt;Deferred&nbsp;at&nbsp;0x42e4af8&gt;)&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;DelayedCall&nbsp;0x42e4670&nbsp;[60.0s]&nbsp;called=0&nbsp;cancelled=0&nbsp;ThreadedResolver._cleanup('&lt;a&nbsp;href=&quot;http://g.root-servers.net/&quot;&nbsp;class=&quot;&quot;&gt;g.root-servers.net&lt;/a&gt;',&nbsp;&lt;Deferred&nbsp;at&nbsp;0x42e4468&gt;)&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;DelayedCall&nbsp;0x42e4968&nbsp;[60.0s]&nbsp;called=0&nbsp;cancelled=0&nbsp;ThreadedResolver._cleanup('&lt;a&nbsp;href=&quot;http://i.root-servers.net/&quot;&nbsp;class=&quot;&quot;&gt;i.root-servers.net&lt;/a&gt;',&nbsp;&lt;Deferred&nbsp;at&nbsp;0x42e4e68&gt;)&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;DelayedCall&nbsp;0x42e4558&nbsp;[60.0s]&nbsp;called=0&nbsp;cancelled=0&nbsp;ThreadedResolver._cleanup('&lt;a&nbsp;href=&quot;http://j.root-servers.net/&quot;&nbsp;class=&quot;&quot;&gt;j.root-servers.net&lt;/a&gt;',&nbsp;&lt;Deferred&nbsp;at&nbsp;0x42e4fd0&gt;)&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;DelayedCall&nbsp;0x42cee68&nbsp;[60.0s]&nbsp;called=0&nbsp;cancelled=0&nbsp;ThreadedResolver._cleanup('&lt;a&nbsp;href=&quot;http://k.root-servers.net/&quot;&nbsp;class=&quot;&quot;&gt;k.root-servers.net&lt;/a&gt;',&nbsp;&lt;Deferred&nbsp;at&nbsp;0x42e4b70&gt;)&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;DelayedCall&nbsp;0x4355f08&nbsp;[60.0s]&nbsp;called=0&nbsp;cancelled=0&nbsp;ThreadedResolver._cleanup('&lt;a&nbsp;href=&quot;http://m.root-servers.net/&quot;&nbsp;class=&quot;&quot;&gt;m.root-servers.net&lt;/a&gt;',&nbsp;&lt;Deferred&nbsp;at&nbsp;0x4355e68&gt;)&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;twisted.names.test.test_tap.OptionsTests.test_recursiveConfiguration&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;-------------------------------------------------------------------------------&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;Ran&nbsp;11184&nbsp;tests&nbsp;in&nbsp;84.952s&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;FAILED&nbsp;(skips=2946,&nbsp;errors=1,&nbsp;successes=8237)&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;am&nbsp;not&nbsp;sure&nbsp;what&nbsp;the&nbsp;issue&nbsp;is&nbsp;here,&nbsp;but&nbsp;does&nbsp;this&nbsp;test&nbsp;pass&nbsp;or&nbsp;fail&nbsp;for&nbsp;you&nbsp;on&nbsp;a&nbsp;clean&nbsp;trunk@HEAD&nbsp;without&nbsp;your&nbsp;changes?&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;It&nbsp;might&nbsp;be&nbsp;best&nbsp;to&nbsp;just&nbsp;submit&nbsp;your&nbsp;patch&nbsp;for&nbsp;review,&nbsp;even&nbsp;if&nbsp;it's&nbsp;failing,&nbsp;and&nbsp;the&nbsp;reviewer&nbsp;might&nbsp;be&nbsp;able&nbsp;to&nbsp;shed&nbsp;some&nbsp;light.&nbsp;&nbsp;They'll&nbsp;also&nbsp;be&nbsp;able&nbsp;to&nbsp;run&nbsp;the&nbsp;tests&nbsp;on&nbsp;our&nbsp;build&nbsp;farm,&nbsp;which&nbsp;might&nbsp;shed&nbsp;some&nbsp;light&nbsp;on&nbsp;whether&nbsp;the&nbsp;problem&nbsp;is&nbsp;related&nbsp;to&nbsp;your&nbsp;patch&nbsp;or&nbsp;just&nbsp;related&nbsp;to&nbsp;your&nbsp;system.&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;-glyph&lt;/div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
