<tt>
&lt;html&gt;&lt;head&gt;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html&nbsp;charset=us-ascii&quot;&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&quot;&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;On&nbsp;Jun&nbsp;21,&nbsp;2014,&nbsp;at&nbsp;7:12&nbsp;AM,&nbsp;David&nbsp;Stainton&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:dstainton415@gmail.com&quot;&gt;dstainton415@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;Greetings,&lt;br&gt;&lt;br&gt;I&nbsp;was&nbsp;inspired&nbsp;by&nbsp;the&nbsp;&quot;socat&quot;&nbsp;CLI&nbsp;utility&nbsp;to&nbsp;write&nbsp;something&nbsp;similar&nbsp;called&nbsp;twistedcat.&lt;br&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;https://github.com/david415/twistedcat&quot;&gt;https://github.com/david415/twistedcat&lt;/a&gt;&lt;br&gt;https://github.com/david415/twistedcat/blob/master/twistedcat/twistedcat.py&lt;br&gt;&lt;br&gt;Obviously&nbsp;it&nbsp;should&nbsp;have&nbsp;the&nbsp;&quot;cat&quot;&nbsp;word&nbsp;in&nbsp;the&nbsp;name...&nbsp;so&nbsp;what&nbsp;do&nbsp;you&nbsp;suggest?&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;How&nbsp;about&nbsp;&quot;nocat&quot;&nbsp;(network&nbsp;oriented&nbsp;cat),&nbsp;in&nbsp;honor&nbsp;of&nbsp;&lt;&lt;a&nbsp;href=&quot;http://quoteinvestigator.com/2012/02/24/telegraph-cat/&quot;&gt;http://quoteinvestigator.com/2012/02/24/telegraph-cat/&lt;/a&gt;&gt;?&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;What&nbsp;do&nbsp;people&nbsp;think&nbsp;of&nbsp;this?&lt;br&gt;Do&nbsp;you&nbsp;have&nbsp;ascii&nbsp;art&nbsp;drawings&nbsp;of&nbsp;cats&nbsp;can&nbsp;use&nbsp;or&nbsp;suggestions&nbsp;for&nbsp;me&nbsp;to&nbsp;improve&nbsp;the&nbsp;code&nbsp;quality?&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Are&nbsp;you&nbsp;saying&nbsp;that&nbsp;you&nbsp;have&nbsp;internet&nbsp;access,&nbsp;but&nbsp;cannot&nbsp;find&nbsp;pictures&nbsp;of&nbsp;cats?&nbsp;:-)&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;Right&nbsp;now&nbsp;I'm&nbsp;cleaning&nbsp;the&nbsp;code&nbsp;out&nbsp;of&nbsp;main()&nbsp;and&nbsp;creating&nbsp;an&nbsp;EndpointCombiner&nbsp;class&lt;br&gt;to&nbsp;encapsulate&nbsp;the&nbsp;endpoint&nbsp;pipe&nbsp;logic&nbsp;(c2c,&nbsp;s2s,&nbsp;c2s).&lt;br&gt;&lt;br&gt;The&nbsp;reason&nbsp;I&nbsp;am&nbsp;very&nbsp;interested&nbsp;in&nbsp;improving&nbsp;the&nbsp;code&nbsp;to&nbsp;assist&nbsp;in&nbsp;pipe-lining&nbsp;endpoints&nbsp;is&nbsp;because&nbsp;it&nbsp;can&nbsp;be&nbsp;used&nbsp;by&nbsp;more&nbsp;than&nbsp;just&nbsp;this&nbsp;commandline&nbsp;tool.&nbsp;Any&nbsp;Twisted&nbsp;app&nbsp;wishing&nbsp;to&nbsp;create&nbsp;custom&nbsp;protocols&nbsp;can&nbsp;do&nbsp;so&nbsp;by&nbsp;pipe-lining&nbsp;endpoints.&nbsp;I&nbsp;think&nbsp;the&nbsp;API&nbsp;for&nbsp;this&nbsp;could&nbsp;be&nbsp;very&nbsp;easy&nbsp;to&nbsp;use.&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;We&nbsp;do&nbsp;have&nbsp;some&nbsp;work&nbsp;going&nbsp;in&nbsp;to&nbsp;making&nbsp;a&nbsp;generic&nbsp;wrapper-endpoint&nbsp;facility&nbsp;so&nbsp;it's&nbsp;easier&nbsp;to&nbsp;add&nbsp;wrapping&nbsp;to&nbsp;endpoints.&nbsp;&nbsp;The&nbsp;branch&nbsp;for&nbsp;&lt;&lt;a&nbsp;href=&quot;https://twistedmatrix.com/trac/ticket/5642#comment:28&quot;&gt;https://twistedmatrix.com/trac/ticket/5642#comment:28&lt;/a&gt;&gt;&nbsp;has&nbsp;such&nbsp;features.&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;socat&nbsp;has&nbsp;an&nbsp;enormous&nbsp;feature&nbsp;set&nbsp;that&nbsp;I&nbsp;am&nbsp;not&nbsp;sufficiently&nbsp;motivated&nbsp;to&nbsp;duplicate&nbsp;here.&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Yes,&nbsp;I&nbsp;think&nbsp;it&nbsp;would&nbsp;be&nbsp;better&nbsp;to&nbsp;focus&nbsp;on&nbsp;the&nbsp;alternate/awesome&nbsp;features&nbsp;that&nbsp;Twisted&nbsp;already&nbsp;gives&nbsp;you,&nbsp;rather&nbsp;than&nbsp;aiming&nbsp;for&nbsp;parity.&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;a&nbsp;href=&quot;http://www.dest-unreach.org/socat/doc/socat.html#ADDRESS_TYPES&quot;&gt;http://www.dest-unreach.org/socat/doc/socat.html#ADDRESS_TYPES&lt;/a&gt;&lt;br&gt;&lt;br&gt;It&nbsp;was&nbsp;really&nbsp;interesting&nbsp;for&nbsp;me&nbsp;to&nbsp;read&nbsp;about&nbsp;these&nbsp;socat&nbsp;address&nbsp;types...&nbsp;there&nbsp;are&nbsp;many&nbsp;of&nbsp;them.&lt;br&gt;Twisted&nbsp;has&nbsp;some&nbsp;of&nbsp;the&nbsp;same&nbsp;types...&nbsp;and&nbsp;in&nbsp;some&nbsp;cases&nbsp;they&nbsp;are&nbsp;even&nbsp;spelled&nbsp;the&nbsp;same.&lt;br&gt;I&nbsp;am&nbsp;interested&nbsp;in&nbsp;implementing&nbsp;some&nbsp;of&nbsp;these&nbsp;socat&nbsp;address&nbsp;types&nbsp;in&nbsp;Twisted,&nbsp;including&nbsp;a&nbsp;TUN&nbsp;endpoint&nbsp;and&nbsp;endpoint&nbsp;parser&nbsp;plugin.&lt;br&gt;I've&nbsp;played&nbsp;around&nbsp;with&nbsp;the&nbsp;new&nbsp;twisted&nbsp;pair&nbsp;TUN&nbsp;stuff...&nbsp;but&nbsp;I&nbsp;was&nbsp;using&nbsp;producers&nbsp;and&nbsp;consumers&nbsp;to&nbsp;make&nbsp;a&nbsp;VPN...&lt;br&gt;and&nbsp;as&nbsp;it&nbsp;turns&nbsp;out&nbsp;this&nbsp;task&nbsp;should&nbsp;be&nbsp;greatly&nbsp;simplified&nbsp;by&nbsp;using&nbsp;pipelined&nbsp;Twisted&nbsp;endpoints.&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Well,&nbsp;this&nbsp;all&nbsp;sounds&nbsp;amazing&nbsp;to&nbsp;me.&nbsp;&nbsp;Please&nbsp;keep&nbsp;us&nbsp;posted!&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;I've&nbsp;also&nbsp;been&nbsp;toying&nbsp;with&nbsp;the&nbsp;idea&nbsp;of&nbsp;writing&nbsp;an&nbsp;obfsproxy&nbsp;Twisted&nbsp;endpoint&nbsp;which&nbsp;would&nbsp;work&nbsp;similar&nbsp;to&nbsp;the&nbsp;txtorcon&nbsp;endpoint&nbsp;in&nbsp;that&nbsp;it&nbsp;would&nbsp;launch&nbsp;an&nbsp;external&nbsp;command...&nbsp;and&nbsp;then&nbsp;perform&nbsp;a&nbsp;tcp&nbsp;connect.&nbsp;obfsproxy&nbsp;can&nbsp;be&nbsp;launched&nbsp;in&nbsp;external&nbsp;mode&nbsp;and&nbsp;has&nbsp;several&nbsp;obfuscation&nbsp;protocols&nbsp;to&nbsp;choose&nbsp;from...&nbsp;some&nbsp;of&nbsp;which&nbsp;are&nbsp;very&nbsp;sophisticated.&nbsp;If&nbsp;someone&nbsp;actually&nbsp;had&nbsp;a&nbsp;good&nbsp;use&nbsp;case&nbsp;for&nbsp;obfuscating&nbsp;pipelined&nbsp;endpoint&nbsp;protocols&nbsp;then&nbsp;I&nbsp;would&nbsp;love&nbsp;to&nbsp;hear&nbsp;about&nbsp;it&nbsp;(besides&nbsp;the&nbsp;obvious&nbsp;VPN&nbsp;use-case)!&lt;br&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;https://www.torproject.org/projects/obfsproxy&quot;&gt;https://www.torproject.org/projects/obfsproxy&lt;/a&gt;&lt;br&gt;&lt;br&gt;Twisted&nbsp;endpoint&nbsp;descriptor&nbsp;strings&nbsp;are&nbsp;just&nbsp;like&nbsp;socat&nbsp;address&nbsp;specifications...&nbsp;except&nbsp;that&nbsp;in&nbsp;socat&nbsp;the&nbsp;client&nbsp;and&nbsp;server&nbsp;endpoint&nbsp;types&nbsp;are&nbsp;in&nbsp;the&nbsp;same&nbsp;name&nbsp;space.&nbsp;Therefore&nbsp;twistedcat&nbsp;needs&nbsp;to&nbsp;know&nbsp;if&nbsp;the&nbsp;endpoint&nbsp;string&nbsp;is&nbsp;a&nbsp;server&nbsp;or&nbsp;client&nbsp;endpoint.&nbsp;It&nbsp;defaults&nbsp;to&nbsp;client&nbsp;unless&nbsp;-s&nbsp;or&nbsp;--server&nbsp;specifies&nbsp;it&nbsp;as&nbsp;a&nbsp;server&nbsp;endpoint&nbsp;string.&nbsp;Or&nbsp;do&nbsp;you&nbsp;dare&nbsp;suggest&nbsp;that&nbsp;it&nbsp;would&nbsp;be&nbsp;better&nbsp;to&nbsp;try&nbsp;clientFromString&nbsp;and&nbsp;then&nbsp;if&nbsp;that&nbsp;fails&nbsp;try&nbsp;serverFromString?&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Personally&nbsp;I&nbsp;think&nbsp;having&nbsp;a&nbsp;-s&nbsp;option&nbsp;(or&nbsp;-l&nbsp;to&nbsp;follow&nbsp;the&nbsp;tradition&nbsp;set&nbsp;forth&nbsp;by&nbsp;nc?)&nbsp;to&nbsp;be&nbsp;explicit&nbsp;is&nbsp;better.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Have&nbsp;you&nbsp;considered&nbsp;making&nbsp;wrappers&nbsp;in&nbsp;both&nbsp;directions&nbsp;though:&nbsp;a&nbsp;string-parsing&nbsp;plugin&nbsp;that&nbsp;turns&nbsp;a&nbsp;server&nbsp;endpoint&nbsp;into&nbsp;a&nbsp;client&nbsp;endpoint&nbsp;by&nbsp;making&nbsp;.listen()&nbsp;call&nbsp;connect,&nbsp;and&nbsp;one&nbsp;that&nbsp;turns&nbsp;a&nbsp;client&nbsp;endpoint&nbsp;into&nbsp;a&nbsp;server&nbsp;endpoint&nbsp;by&nbsp;having&nbsp;.connect()&nbsp;listen&nbsp;and&nbsp;wait&nbsp;for&nbsp;the&nbsp;first&nbsp;inbound&nbsp;connection?&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;We've&nbsp;already&nbsp;created&nbsp;a&nbsp;Tor&nbsp;client&nbsp;endpoint/parser&nbsp;plugin&nbsp;(&lt;a&nbsp;href=&quot;https://github.com/david415/txsocksx&quot;&gt;https://github.com/david415/txsocksx&lt;/a&gt;)&lt;br&gt;and&nbsp;a&nbsp;Tor&nbsp;Hidden&nbsp;Service&nbsp;endpoint/parser&nbsp;plugin&nbsp;(&lt;a&nbsp;href=&quot;https://github.com/meejah/txtorcon&quot;&gt;https://github.com/meejah/txtorcon&lt;/a&gt;)...&lt;br&gt;Obviously&nbsp;twistedcat&nbsp;doesn't&nbsp;know&nbsp;anything&nbsp;about&nbsp;Tor...&nbsp;because&nbsp;it's&nbsp;completely&nbsp;endpoint&nbsp;agnostic.&lt;br&gt;&lt;br&gt;Here's&nbsp;my&nbsp;silly&nbsp;twistedcat&nbsp;Tor&nbsp;experimentations:&lt;br&gt;&lt;br&gt;$&nbsp;./twistedcat.py&nbsp;-s&nbsp;stdio:&nbsp;-s&nbsp;onion:80:hiddenServiceDir=/home/human/hs&lt;br&gt;&lt;br&gt;After&nbsp;running&nbsp;this&nbsp;one&nbsp;liner...&nbsp;I&nbsp;checked&nbsp;the&nbsp;contents&nbsp;of&nbsp;/home/human/hs/&lt;br&gt;and&nbsp;found&nbsp;my&nbsp;new&nbsp;onion&nbsp;address&nbsp;in&nbsp;the&nbsp;&quot;hostname&quot;&nbsp;file.&lt;br&gt;I&nbsp;used&nbsp;my&nbsp;Tor&nbsp;browser&nbsp;to&nbsp;send&nbsp;a&nbsp;request...&nbsp;and&nbsp;here&nbsp;we&nbsp;see&nbsp;twistedcat&nbsp;printed&nbsp;it&nbsp;to&nbsp;stdout&nbsp;via&nbsp;the&nbsp;stdio&nbsp;endpoint:&lt;br&gt;&lt;br&gt;GET&nbsp;/&nbsp;HTTP/1.1&lt;br&gt;Host:&nbsp;ibce3yvjdb3mzcrq.onion&lt;br&gt;User-Agent:&nbsp;Mozilla/5.0&nbsp;(Windows&nbsp;NT&nbsp;6.1;&nbsp;rv:24.0)&nbsp;Gecko/20100101&nbsp;Firefox/24.0&lt;br&gt;Accept:&nbsp;text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8&lt;br&gt;Accept-Language:&nbsp;en-us,en;q=0.5&lt;br&gt;Accept-Encoding:&nbsp;gzip,&nbsp;deflate&lt;br&gt;Connection:&nbsp;keep-alive&lt;br&gt;&lt;br&gt;&lt;br&gt;And&nbsp;then&nbsp;there&nbsp;is&nbsp;this:&lt;br&gt;&lt;br&gt;$&nbsp;./twistedcat.py&nbsp;tor:timaq4ygg2iegci7.onion:80&nbsp;-s&nbsp;onion:80:hiddenServiceDir=/home/human/hs&lt;br&gt;&lt;br&gt;Which&nbsp;of&nbsp;course&nbsp;proxies&nbsp;requests&nbsp;from&nbsp;my&nbsp;new&nbsp;onion&nbsp;to&nbsp;timaq4ygg2iegci7.onion...&nbsp;the&nbsp;onion&nbsp;address&nbsp;of&nbsp;the&nbsp;txtordoc&nbsp;documentation&nbsp;website.&lt;br&gt;But&nbsp;this&nbsp;is&nbsp;crazy...&nbsp;um&nbsp;how&nbsp;many&nbsp;hops&nbsp;is&nbsp;that&nbsp;exactly?&nbsp;14?&nbsp;15?&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Sounds&nbsp;like&nbsp;fun&nbsp;to&nbsp;me&nbsp;:-).&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-glyph&lt;/div&gt;&lt;br&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
