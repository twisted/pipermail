<tt>
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;On&nbsp;Nov&nbsp;1,&nbsp;2011,&nbsp;at&nbsp;10:38&nbsp;AM,&nbsp;&lt;a&nbsp;href=&quot;mailto:exarkun@twistedmatrix.com&quot;&gt;exarkun@twistedmatrix.com&lt;/a&gt;&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;Hello,&lt;br&gt;&lt;br&gt;I'd&nbsp;like&nbsp;for&nbsp;us&nbsp;to&nbsp;decide&nbsp;that&nbsp;we&nbsp;will&nbsp;introduce&nbsp;no&nbsp;new&nbsp;unit&nbsp;tests&nbsp;into&nbsp;&lt;br&gt;Twisted's&nbsp;test&nbsp;suite&nbsp;which&nbsp;use&nbsp;the&nbsp;global&nbsp;reactor.&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;+1.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Let's&nbsp;add&nbsp;this&nbsp;to&nbsp;the&nbsp;coding&nbsp;standard.&nbsp;&nbsp;It&nbsp;doesn't&nbsp;look&nbsp;to&nbsp;me&nbsp;like&nbsp;anyone's&nbsp;objecting.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;think&nbsp;it&nbsp;might&nbsp;be&nbsp;worth&nbsp;considering&nbsp;a&nbsp;grandfather&nbsp;clause.&nbsp;&nbsp;If&nbsp;we&nbsp;have&nbsp;an&nbsp;outstanding&nbsp;patch&nbsp;or&nbsp;branch&nbsp;which&nbsp;is&nbsp;otherwise&nbsp;close&nbsp;to&nbsp;being&nbsp;merged,&nbsp;whose&nbsp;only&nbsp;problem&nbsp;is&nbsp;real-reactor&nbsp;tests,&nbsp;I&nbsp;think&nbsp;it&nbsp;might&nbsp;not&nbsp;be&nbsp;worth&nbsp;it&nbsp;to&nbsp;block&nbsp;its&nbsp;landing&nbsp;at&nbsp;this&nbsp;point.&nbsp;&nbsp;Instead,&nbsp;we&nbsp;could&nbsp;file&nbsp;a&nbsp;new&nbsp;ticket&nbsp;to&nbsp;fix&nbsp;its&nbsp;tests&nbsp;separately.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;don't&nbsp;know&nbsp;of&nbsp;any&nbsp;such&nbsp;outstanding&nbsp;tickets&nbsp;though,&nbsp;so&nbsp;hopefully&nbsp;this&nbsp;is&nbsp;a&nbsp;baseless&nbsp;concern.&nbsp;&nbsp;And&nbsp;I'm&nbsp;happy&nbsp;to&nbsp;be&nbsp;overruled&nbsp;on&nbsp;this&nbsp;point,&nbsp;as&nbsp;well,&nbsp;if&nbsp;you&nbsp;feel&nbsp;strongly&nbsp;about&nbsp;it&nbsp;:).&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;These&nbsp;tests&nbsp;require&nbsp;extra&nbsp;complexity&nbsp;in&nbsp;trial&nbsp;-&nbsp;to&nbsp;support&nbsp;the&nbsp;Deferred,&nbsp;&lt;br&gt;to&nbsp;check&nbsp;for&nbsp;left&nbsp;over&nbsp;event&nbsp;sources&nbsp;(incompletely&nbsp;implemented),&nbsp;and&nbsp;to&nbsp;&lt;br&gt;clean&nbsp;up&nbsp;left&nbsp;over&nbsp;event&nbsp;sources&nbsp;(incompletely&nbsp;implemented).&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;It&nbsp;might&nbsp;be&nbsp;useful&nbsp;to&nbsp;have&nbsp;a&nbsp;switch&nbsp;in&nbsp;trial&nbsp;that&nbsp;reports&nbsp;tests&nbsp;which&nbsp;return&nbsp;a&nbsp;Deferred,&nbsp;to&nbsp;make&nbsp;it&nbsp;easy&nbsp;to&nbsp;spot&nbsp;violators&nbsp;of&nbsp;this&nbsp;policy&nbsp;within&nbsp;Twisted.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;hope&nbsp;you're&nbsp;not&nbsp;suggesting&nbsp;getting&nbsp;rid&nbsp;of&nbsp;the&nbsp;feature&nbsp;_entirely_&nbsp;from&nbsp;trial,&nbsp;though.&nbsp;&nbsp;The&nbsp;first&nbsp;step&nbsp;to&nbsp;doing&nbsp;so&nbsp;would&nbsp;be&nbsp;to&nbsp;provide&nbsp;a&nbsp;totally&nbsp;comprehensive,&nbsp;complete,&nbsp;documented,&nbsp;maintained&nbsp;test&nbsp;fake&nbsp;for&nbsp;every&nbsp;interface&nbsp;supplied&nbsp;by&nbsp;every&nbsp;reactor...&nbsp;and&nbsp;then&nbsp;some.&nbsp;&nbsp;I&nbsp;know&nbsp;that&nbsp;there&nbsp;are&nbsp;hundreds&nbsp;of&nbsp;tests&nbsp;for&nbsp;applications&nbsp;which&nbsp;_use_&nbsp;Twisted&nbsp;that&nbsp;I've&nbsp;written&nbsp;which&nbsp;would&nbsp;be&nbsp;mind-bendingly&nbsp;difficult&nbsp;to&nbsp;rewrite&nbsp;using&nbsp;even&nbsp;a&nbsp;fake&nbsp;reactor.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;For&nbsp;one&nbsp;simple&nbsp;example,&nbsp;on&nbsp;more&nbsp;than&nbsp;one&nbsp;occasion&nbsp;I've&nbsp;had&nbsp;a&nbsp;high-level&nbsp;abstraction&nbsp;wrapping&nbsp;a&nbsp;proprietary&nbsp;C&nbsp;program&nbsp;with&nbsp;spawnProcess&nbsp;and&nbsp;I&nbsp;wanted&nbsp;to&nbsp;test&nbsp;high-level&nbsp;logic&nbsp;that&nbsp;dealt&nbsp;with&nbsp;its&nbsp;results&nbsp;in&nbsp;specific&nbsp;cases;&nbsp;I&nbsp;could&nbsp;of&nbsp;course&nbsp;try&nbsp;to&nbsp;test&nbsp;everything&nbsp;using&nbsp;fakes,&nbsp;but&nbsp;it&nbsp;was&nbsp;actually&nbsp;harder&nbsp;to&nbsp;write&nbsp;the&nbsp;fakes&nbsp;than&nbsp;to&nbsp;set&nbsp;up&nbsp;the&nbsp;state&nbsp;for&nbsp;the&nbsp;real&nbsp;system,&nbsp;and&nbsp;the&nbsp;tests&nbsp;were&nbsp;significantly&nbsp;higher-value&nbsp;as&nbsp;regression&nbsp;tests&nbsp;with&nbsp;the&nbsp;real&nbsp;components&nbsp;integrated.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;(In&nbsp;some&nbsp;cases&nbsp;it's&nbsp;a&nbsp;proprietary&nbsp;C&nbsp;extension&nbsp;module&nbsp;which&nbsp;needs&nbsp;to&nbsp;be&nbsp;run&nbsp;via&nbsp;deferToThread.)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;That&nbsp;said,&nbsp;there&nbsp;are&nbsp;some&nbsp;caveats:&nbsp;none&nbsp;of&nbsp;these&nbsp;considerations&nbsp;should&nbsp;&lt;i&gt;ever&lt;/i&gt;&nbsp;apply&nbsp;to&nbsp;Twisted&nbsp;itself;&nbsp;if&nbsp;they&nbsp;do&nbsp;seem&nbsp;to&nbsp;apply,&nbsp;then&nbsp;it's&nbsp;probably&nbsp;time&nbsp;to&nbsp;split&nbsp;that&nbsp;code&nbsp;out&nbsp;into&nbsp;a&nbsp;separate&nbsp;project.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Conversely,&nbsp;third-party&nbsp;projects&nbsp;should&nbsp;be&nbsp;able&nbsp;to&nbsp;implicitly&nbsp;rely&nbsp;on&nbsp;the&nbsp;reactor&nbsp;working&nbsp;as&nbsp;expected,&nbsp;and&nbsp;therefore&nbsp;don't&nbsp;have&nbsp;any&nbsp;concerns&nbsp;about&nbsp;testing&nbsp;the&nbsp;reactor&nbsp;itself.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;we&nbsp;could&nbsp;publicly&nbsp;expose&nbsp;the&nbsp;ReactorBuilder&nbsp;testing&nbsp;facility,&nbsp;and&nbsp;make&nbsp;it&nbsp;build&nbsp;only&nbsp;a&nbsp;single&nbsp;reactor&nbsp;by&nbsp;default,&nbsp;then&nbsp;it&nbsp;might&nbsp;be&nbsp;possible&nbsp;to&nbsp;test&nbsp;code&nbsp;like&nbsp;I&nbsp;described&nbsp;by&nbsp;spinning&nbsp;up&nbsp;a&nbsp;new&nbsp;reactor&nbsp;for&nbsp;each&nbsp;thing...&nbsp;but&nbsp;in&nbsp;some&nbsp;cases,&nbsp;there's&nbsp;an&nbsp;expensive&nbsp;subprocess&nbsp;that&nbsp;I&nbsp;really&nbsp;want&nbsp;multiple&nbsp;tests&nbsp;to&nbsp;share.&nbsp;&nbsp;Would&nbsp;it&nbsp;be&nbsp;possible&nbsp;to&nbsp;move&nbsp;the&nbsp;associated&nbsp;file&nbsp;descriptors&nbsp;between&nbsp;reactors?&nbsp;&nbsp;(On&nbsp;a&nbsp;related&nbsp;note,&nbsp;I&nbsp;wonder,&nbsp;how&nbsp;am&nbsp;I&nbsp;ever&nbsp;going&nbsp;to&nbsp;get&nbsp;those&nbsp;tests&nbsp;to&nbsp;work&nbsp;in&nbsp;disttrial...)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;To&nbsp;summarize&nbsp;my&nbsp;own&nbsp;position&nbsp;about&nbsp;Trial,&nbsp;Deferreds,&nbsp;and&nbsp;real-reactor&nbsp;testing&nbsp;in&nbsp;general:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;ol&nbsp;class=&quot;MailOutline&quot;&gt;&lt;li&gt;Whenever&nbsp;it's&nbsp;a&nbsp;reasonable&nbsp;amount&nbsp;of&nbsp;effort,&nbsp;tests&nbsp;should&nbsp;always&nbsp;be&nbsp;written&nbsp;against&nbsp;in-memory&nbsp;data&nbsp;structures&nbsp;and&nbsp;avoid&nbsp;doing&nbsp;real&nbsp;I/O,&nbsp;including&nbsp;any&nbsp;real&nbsp;asynchrony,&nbsp;since&nbsp;tests&nbsp;like&nbsp;that&nbsp;are&nbsp;easier&nbsp;to&nbsp;maintain&nbsp;and&nbsp;debug.&lt;/li&gt;&lt;li&gt;Within&nbsp;Twisted&nbsp;itself,&nbsp;it&nbsp;should&nbsp;always&nbsp;be&nbsp;a&nbsp;reasonable&nbsp;amount&nbsp;of&nbsp;effort&nbsp;to&nbsp;write&nbsp;tests&nbsp;the&nbsp;&quot;right&quot;&nbsp;way.&nbsp;&nbsp;Any&nbsp;code&nbsp;which&nbsp;seems&nbsp;to&nbsp;require&nbsp;a&nbsp;real-asynchronous&nbsp;testing&nbsp;approach&nbsp;is&nbsp;either&nbsp;out&nbsp;of&nbsp;scope&nbsp;for&nbsp;Twisted&nbsp;or&nbsp;has&nbsp;other&nbsp;architectural&nbsp;problems&nbsp;which&nbsp;need&nbsp;to&nbsp;be&nbsp;addressed&nbsp;before&nbsp;landing&nbsp;it.&lt;/li&gt;&lt;li&gt;Some&nbsp;applications&nbsp;which&nbsp;use&nbsp;Twisted&nbsp;will&nbsp;need&nbsp;to&nbsp;interact&nbsp;with&nbsp;other&nbsp;systems&nbsp;as&nbsp;part&nbsp;of&nbsp;their&nbsp;unit&nbsp;tests,&nbsp;and&nbsp;they&nbsp;should&nbsp;be&nbsp;able&nbsp;to&nbsp;use&nbsp;the&nbsp;reactor&nbsp;to&nbsp;do&nbsp;that.&nbsp;&nbsp;We&nbsp;should&nbsp;provide&nbsp;as&nbsp;many&nbsp;facilities&nbsp;to&nbsp;help&nbsp;people&nbsp;avoid&nbsp;writing&nbsp;tests&nbsp;like&nbsp;this&nbsp;as&nbsp;possible,&nbsp;but&nbsp;there&nbsp;are&nbsp;circumstances&nbsp;where&nbsp;we&nbsp;couldn't&nbsp;possibly&nbsp;provide&nbsp;enough,&nbsp;so&nbsp;we&nbsp;should&nbsp;continue&nbsp;to&nbsp;support&nbsp;trial's&nbsp;use&nbsp;as&nbsp;an&nbsp;integration&nbsp;testing&nbsp;tool.&lt;/li&gt;&lt;li&gt;We&nbsp;don't&nbsp;currently&nbsp;provide&nbsp;enough&nbsp;facilities&nbsp;to&nbsp;make&nbsp;it&nbsp;easy&nbsp;to&nbsp;avoid&nbsp;the&nbsp;reactor&nbsp;in&nbsp;all&nbsp;the&nbsp;cases&nbsp;where&nbsp;you&nbsp;should&nbsp;avoid&nbsp;it,&nbsp;and&nbsp;we&nbsp;should&nbsp;really&nbsp;improve&nbsp;proto_helpers&nbsp;et.&nbsp;al.&nbsp;so&nbsp;that&nbsp;it's&nbsp;easier&nbsp;to&nbsp;find&nbsp;in-memory&nbsp;implementations&nbsp;of&nbsp;stuff.&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;The&nbsp;tests&nbsp;themselves&nbsp;are&nbsp;also&nbsp;complicated&nbsp;by&nbsp;the&nbsp;need&nbsp;to&nbsp;clean&nbsp;up&nbsp;those&nbsp;&lt;br&gt;event&nbsp;sources.&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Amen.&nbsp;&nbsp;Even&nbsp;today,&nbsp;the&nbsp;only&nbsp;document&nbsp;I'm&nbsp;aware&nbsp;of&nbsp;which&nbsp;actually&nbsp;covers&nbsp;this&nbsp;in&nbsp;its&nbsp;entirety&nbsp;is&nbsp;&lt;&lt;a&nbsp;href=&quot;http://blackjml.livejournal.com/23029.html&quot;&gt;http://blackjml.livejournal.com/23029.html&lt;/a&gt;&gt;.&nbsp;&nbsp;I&nbsp;think&nbsp;_maybe_&nbsp;the&nbsp;trial&nbsp;tutorial&nbsp;actually&nbsp;covers&nbsp;all&nbsp;the&nbsp;steps&nbsp;but&nbsp;I'll&nbsp;need&nbsp;to&nbsp;read&nbsp;it&nbsp;very&nbsp;carefully&nbsp;to&nbsp;see&nbsp;if&nbsp;I&nbsp;can&nbsp;spot&nbsp;anything&nbsp;that&nbsp;it&nbsp;doesn't&nbsp;address&nbsp;:).&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;The&nbsp;tests&nbsp;only&nbsp;exercise&nbsp;functionality&nbsp;against&nbsp;one&nbsp;reactor&nbsp;at&nbsp;a&nbsp;time&nbsp;&lt;br&gt;which&nbsp;leads&nbsp;to&nbsp;additional&nbsp;challenges&nbsp;for&nbsp;buildbot.&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;AMEN.&nbsp;&nbsp;If&nbsp;we&nbsp;made&nbsp;all&nbsp;tests&nbsp;ReactorBuilder&nbsp;tests,&nbsp;would&nbsp;we&nbsp;be&nbsp;able&nbsp;to&nbsp;kill&nbsp;all&nbsp;the&nbsp;alternate-reactor&nbsp;(i.e.&nbsp;-r&nbsp;whatever)&nbsp;buildbots?&nbsp;&nbsp;It&nbsp;seems&nbsp;like&nbsp;that&nbsp;would&nbsp;speed&nbsp;up&nbsp;build&nbsp;results&nbsp;quite&nbsp;a&nbsp;bit.&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;If&nbsp;a&nbsp;test&nbsp;is&nbsp;for&nbsp;reactor&nbsp;functionality&nbsp;with&nbsp;multiple&nbsp;implementations,&nbsp;&lt;br&gt;the&nbsp;ReactorBuilder-style&nbsp;tests&nbsp;are&nbsp;better.&nbsp;&nbsp;If&nbsp;a&nbsp;test&nbsp;is&nbsp;for&nbsp;&lt;br&gt;implementation&nbsp;details&nbsp;of&nbsp;a&nbsp;particular&nbsp;reactor,&nbsp;I&nbsp;think&nbsp;the&nbsp;necessary&nbsp;&lt;br&gt;parts&nbsp;of&nbsp;that&nbsp;reactor&nbsp;should&nbsp;just&nbsp;be&nbsp;invoked&nbsp;directly&nbsp;-&nbsp;on&nbsp;a&nbsp;new&nbsp;&lt;br&gt;instance.&nbsp;&nbsp;For&nbsp;anything&nbsp;that's&nbsp;not&nbsp;a&nbsp;test&nbsp;for&nbsp;reactor&nbsp;functionality,&nbsp;no&nbsp;&lt;br&gt;reactor&nbsp;should&nbsp;be&nbsp;involved&nbsp;at&nbsp;all&nbsp;(protocol&nbsp;implementations,&nbsp;etc).&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;As&nbsp;I&nbsp;said&nbsp;above,&nbsp;we&nbsp;have&nbsp;a&nbsp;few&nbsp;gaps&nbsp;in&nbsp;this&nbsp;area&nbsp;which&nbsp;we&nbsp;need&nbsp;to&nbsp;work&nbsp;on&nbsp;filling.&nbsp;&nbsp;For&nbsp;example,&nbsp;I&nbsp;recently&nbsp;wrote&nbsp;some&nbsp;tests&nbsp;where&nbsp;I&nbsp;wanted&nbsp;an&nbsp;IReactorCore&nbsp;provider&nbsp;but&nbsp;was&nbsp;dismayed&nbsp;to&nbsp;discover&nbsp;that&nbsp;Twisted&nbsp;doesn't&nbsp;provide&nbsp;an&nbsp;in-memory&nbsp;implementor&nbsp;of&nbsp;that&nbsp;interface&nbsp;anywhere,&nbsp;despite&nbsp;the&nbsp;fact&nbsp;that&nbsp;all&nbsp;I&nbsp;needed&nbsp;to&nbsp;call&nbsp;was&nbsp;addSystemEventTrigger/fireSystemEventTrigger,&nbsp;two&nbsp;APIs&nbsp;which&nbsp;just&nbsp;manipulate&nbsp;lists&nbsp;in&nbsp;memory&nbsp;even&nbsp;in&nbsp;their&nbsp;&quot;real&quot;&nbsp;implementations.&nbsp;&nbsp;I&nbsp;was&nbsp;bad&nbsp;open-source&nbsp;citizen&nbsp;and&nbsp;did&nbsp;not&nbsp;immediately&nbsp;file&nbsp;a&nbsp;bug!&nbsp;&nbsp;However,&nbsp;writing&nbsp;this&nbsp;email&nbsp;made&nbsp;me&nbsp;do&nbsp;so&nbsp;&lt;&lt;a&nbsp;href=&quot;http://twistedmatrix.com/trac/ticket/5353&quot;&gt;http://twistedmatrix.com/trac/ticket/5353&lt;/a&gt;&gt;.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;While&nbsp;the&nbsp;code&nbsp;that&nbsp;I&nbsp;was&nbsp;writing&nbsp;wasn't&nbsp;for&nbsp;Twisted&nbsp;itself,&nbsp;I&nbsp;do&nbsp;feel&nbsp;like&nbsp;this&nbsp;may&nbsp;be&nbsp;an&nbsp;area&nbsp;where&nbsp;the&nbsp;prevalence&nbsp;of&nbsp;bad&nbsp;examples&nbsp;comes&nbsp;from&nbsp;the&nbsp;fact&nbsp;that&nbsp;we&nbsp;don't&nbsp;give&nbsp;our&nbsp;users&nbsp;a&nbsp;lot&nbsp;of&nbsp;options&nbsp;for&nbsp;nice,&nbsp;isolated&nbsp;testing.&nbsp;&nbsp;It's&nbsp;definitely&nbsp;easier&nbsp;to&nbsp;just&nbsp;use&nbsp;the&nbsp;real&nbsp;reactor,&nbsp;despite&nbsp;its&nbsp;myriad&nbsp;issues,&nbsp;than&nbsp;to&nbsp;spend&nbsp;a&nbsp;week&nbsp;implementing&nbsp;comprehensive,&nbsp;testable&nbsp;versions&nbsp;of&nbsp;the&nbsp;~40-odd&nbsp;interfaces&nbsp;in&nbsp;twisted.internet.interfaces.&nbsp;&nbsp;But&nbsp;that&nbsp;means&nbsp;that&nbsp;all&nbsp;tx*&nbsp;projects&nbsp;tend&nbsp;to&nbsp;test&nbsp;things&nbsp;in&nbsp;the&nbsp;worse&nbsp;style,&nbsp;which&nbsp;means&nbsp;that&nbsp;most&nbsp;new&nbsp;patch&nbsp;contributors&nbsp;are&nbsp;likely&nbsp;to&nbsp;be&nbsp;cribbing&nbsp;from&nbsp;bad&nbsp;examples&nbsp;when&nbsp;writing&nbsp;a&nbsp;patch&nbsp;for&nbsp;Twisted.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;So&nbsp;I&nbsp;filed&nbsp;another&nbsp;ticket&nbsp;for&nbsp;another&nbsp;frequent&nbsp;sticking&nbsp;point&nbsp;for&nbsp;me:&nbsp;&lt;&lt;a&nbsp;href=&quot;http://twistedmatrix.com/trac/ticket/5354&quot;&gt;http://twistedmatrix.com/trac/ticket/5354&lt;/a&gt;&gt;.&nbsp;&nbsp;Hopefully&nbsp;if&nbsp;we&nbsp;can&nbsp;make&nbsp;more&nbsp;such&nbsp;things&nbsp;popular&nbsp;it&nbsp;will&nbsp;more&nbsp;widely&nbsp;disseminate&nbsp;the&nbsp;skills&nbsp;necessary&nbsp;to&nbsp;write&nbsp;tests&nbsp;in&nbsp;a&nbsp;more&nbsp;self-contained&nbsp;style.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;I've&nbsp;mentioned&nbsp;these&nbsp;ideas&nbsp;to&nbsp;various&nbsp;people&nbsp;at&nbsp;various&nbsp;times,&nbsp;but&nbsp;they&nbsp;&lt;br&gt;don't&nbsp;seem&nbsp;to&nbsp;be&nbsp;catching&nbsp;on,&nbsp;so&nbsp;I'd&nbsp;like&nbsp;to&nbsp;hear&nbsp;why&nbsp;and&nbsp;come&nbsp;to&nbsp;some&nbsp;&lt;br&gt;conclusion&nbsp;about&nbsp;how&nbsp;we're&nbsp;going&nbsp;to&nbsp;write&nbsp;tests&nbsp;in&nbsp;the&nbsp;future.&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;The&nbsp;new&nbsp;Trial&nbsp;tutorial&nbsp;provides&nbsp;a&nbsp;great&nbsp;resource&nbsp;that&nbsp;we&nbsp;were&nbsp;lacking&nbsp;for&nbsp;a&nbsp;long&nbsp;time,&nbsp;so&nbsp;we&nbsp;should&nbsp;make&nbsp;reference&nbsp;to&nbsp;its&nbsp;section&nbsp;on&nbsp;using&nbsp;StringTransport&nbsp;and&nbsp;Clock&nbsp;frequently&nbsp;and&nbsp;with&nbsp;enthusiasm.&nbsp;&nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;We&nbsp;a&nbsp;similar&nbsp;document&nbsp;for&nbsp;ReactorBuilder&nbsp;though.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;think&nbsp;we&nbsp;may&nbsp;want&nbsp;to&nbsp;also&nbsp;write&nbsp;up&nbsp;a&nbsp;companion&nbsp;wiki&nbsp;page&nbsp;that&nbsp;is&nbsp;more&nbsp;the&nbsp;rhetorical&nbsp;rather&nbsp;than&nbsp;pedagogic&nbsp;side&nbsp;of&nbsp;this&nbsp;problem,&nbsp;collecting&nbsp;our&nbsp;explanations&nbsp;of&nbsp;why&nbsp;you&nbsp;really&nbsp;&lt;i&gt;want&lt;/i&gt;&nbsp;to&nbsp;use&nbsp;in-memory&nbsp;stuff&nbsp;instead&nbsp;of&nbsp;&quot;real&quot;&nbsp;reactors.&nbsp;&nbsp;New&nbsp;contributors&nbsp;sometimes&nbsp;say&nbsp;that&nbsp;they&nbsp;don't&nbsp;feel&nbsp;like&nbsp;the&nbsp;code&nbsp;is&nbsp;&quot;really&quot;&nbsp;being&nbsp;tested&nbsp;unless&nbsp;they're&nbsp;testing&nbsp;against&nbsp;the&nbsp;real&nbsp;implementation&nbsp;of&nbsp;something,&nbsp;and&nbsp;it&nbsp;may&nbsp;not&nbsp;be&nbsp;immediately&nbsp;obvious&nbsp;that&nbsp;testing&nbsp;against&nbsp;a&nbsp;not-real&nbsp;implementation&nbsp;is&nbsp;desirable&nbsp;in&nbsp;many&nbsp;cases.&nbsp;&nbsp;Much&nbsp;of&nbsp;it&nbsp;can&nbsp;just&nbsp;be&nbsp;copy/pasted&nbsp;from&nbsp;this&nbsp;thread&nbsp;:).&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
