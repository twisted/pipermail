<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;calling&nbsp;reactor.callLater&nbsp;within&nbsp;qt4reactor&nbsp;in&nbsp;an&nbsp;attempt&nbsp;to&nbsp;async&nbsp;non&nbsp;webkit&nbsp;work&nbsp;but&nbsp;not&nbsp;seeing&nbsp;expected&nbsp;behavior. &nbsp;Webkit&nbsp;locks&nbsp;while&nbsp;the&nbsp;callLater&nbsp;function&nbsp;executes.&lt;br&gt;&lt;br&gt;&lt;/div&gt;Any&nbsp;insight&nbsp;appreciated. &nbsp;&lt;br&gt;<br>
&lt;br&gt;Should&nbsp;I&nbsp;move&nbsp;real&nbsp;work&nbsp;into&nbsp;separate&nbsp;reactor&nbsp;and&nbsp;&quot;broker&quot;&nbsp;calls&nbsp;into&nbsp;qt4reactor/webkit. &nbsp;I&nbsp;have&nbsp;xmlrpc&nbsp;and&nbsp;websocket &nbsp;hooks&nbsp;into&nbsp;browser...but&nbsp;looking&nbsp;for&nbsp;guidance&nbsp;as&nbsp;to&nbsp;most&nbsp;direct&nbsp;method&nbsp;of&nbsp;brokering&nbsp;calls&nbsp;between&nbsp;reactors.&lt;br&gt;<br>
&lt;br&gt;Any&nbsp;insight&nbsp;appreciated.&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Having&nbsp;a&nbsp;blast&nbsp;using&nbsp;QT&nbsp;browser&nbsp;as&nbsp;a&nbsp;back-end,&nbsp;see&nbsp;demo&nbsp;site&nbsp;&lt;a&nbsp;href=&quot;http://www.athleets.com&quot;&gt;www.athleets.com&lt;/a&gt;.&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;See&nbsp;below&nbsp;for&nbsp;amazon&nbsp;S3&nbsp;upload&nbsp;worker&nbsp;that&nbsp;I&nbsp;expected&nbsp;to&nbsp;async,&nbsp;but&nbsp;in&nbsp;qt4reactor&nbsp;does&nbsp;not&nbsp;appear&nbsp;to&nbsp;work&nbsp;as&nbsp;planned.&lt;br&gt;<br>
&lt;br&gt;from&nbsp;pyscewpt&nbsp;import&nbsp;fixed&lt;br&gt;from&nbsp;pyscewpt.s3&nbsp;import&nbsp;bucket_util&nbsp;&lt;br&gt;import&nbsp;boto&lt;br&gt;from&nbsp;boto.s3.bucket&nbsp;import&nbsp;Bucket&lt;br&gt;from&nbsp;boto.s3.key&nbsp;import&nbsp;Key&lt;br&gt;&lt;br&gt;from&nbsp;twisted.internet&nbsp;import&nbsp;defer,&nbsp;reactor&lt;br&gt;&lt;br&gt;bucket_queue&nbsp;=&nbsp;defer.DeferredQueue()&lt;br&gt;<br>
&lt;br&gt;def&nbsp;upload_worker(data):&lt;br&gt;   &nbsp;print&nbsp;&#39;macth&nbsp;upload_worker&#39;,&nbsp;data&lt;br&gt;   &nbsp;save_match(&nbsp;data[&#39;league&#39;],&nbsp;data[&#39;twitter&#39;],&nbsp;data[&#39;local_file&#39;],&nbsp;data[&#39;meta&#39;],&nbsp;data[&#39;profile&#39;])&lt;br&gt;<br>
   &nbsp;return&nbsp;len(bucket_queue.pending)&lt;br&gt;def&nbsp;match_queue(ign=None):&lt;br&gt;   &nbsp;print&nbsp;&#39;match_queue:&#39;,&nbsp;len(bucket_queue.pending),&nbsp;len(bucket_queue.waiting)&lt;br&gt;   &nbsp;if&nbsp;ign&nbsp;is&nbsp;None&nbsp;or&nbsp;ign&nbsp;&gt;=&nbsp;2:&lt;br&gt;       &nbsp;print&nbsp;&#39;requeue:&#39;,&nbsp;len(bucket_queue.pending)&nbsp;,&nbsp;len(bucket_queue.waiting)&lt;br&gt;<br>
       &nbsp;d&nbsp;=&nbsp;bucket_queue.get()&lt;br&gt;       &nbsp;d.addCallback(upload_worker)&lt;br&gt;       &nbsp;d.addBoth(match_queue)&lt;br&gt;       &nbsp;return&nbsp;d&lt;br&gt;   &nbsp;else:&lt;br&gt;       &nbsp;return&nbsp;None&lt;br&gt;def&nbsp;queue_save_match(queue_dic):&lt;br&gt;   &nbsp;bucket_queue.put(queue_dic)&lt;br&gt;<br>
   &nbsp;print&nbsp;&#39;queue_save_match&#39;,&nbsp;len(bucket_queue.pending),&nbsp;len(bucket_queue.waiting),&nbsp;queue_dic[&#39;twitter&#39;]   &nbsp;#&lt;br&gt;   &nbsp;if&nbsp;len(bucket_queue.pending)&nbsp;&gt;=&nbsp;5&nbsp;and&nbsp;len(bucket_queue.waiting)&nbsp;==&nbsp;0:&lt;br&gt;       &nbsp;print&nbsp;&#39;queue&nbsp;drop&nbsp;worker&#39;&lt;br&gt;<br>
       &nbsp;reactor.callLater(0,match_queue,None)       &nbsp;&lt;br&gt;                   &nbsp;&lt;br&gt;def&nbsp;save_match(league,&nbsp;twitter,&nbsp;systemfile,&nbsp;meta,&nbsp;profile):&lt;br&gt;   &nbsp;print&nbsp;&#39;save_match:&#39;,&nbsp;twitter,&nbsp;profile&lt;br&gt;   &nbsp;s3_filename&nbsp;=&nbsp;league&nbsp;+&nbsp;&#39;/&#39;&nbsp;+&nbsp;twitter&nbsp;+&nbsp;&#39;.png&#39;&lt;br&gt;<br>
   &nbsp;bucket_util.save_s3(&lt;br&gt;       &nbsp;boto.connect_s3().get_bucket(&#39;~bucket&#39;),&nbsp;&lt;br&gt;       &nbsp;s3_filename,&nbsp;&lt;br&gt;       &nbsp;None,&nbsp;&lt;br&gt;       &nbsp;systemfile,&nbsp;&lt;br&gt;       &nbsp;&#39;image/png&#39;,&nbsp;&lt;br&gt;       &nbsp;&#39;public-read&#39;,&lt;br&gt;<br>
       &nbsp;meta&nbsp;+&nbsp;[(&#39;yes&#39;,&nbsp;False),&nbsp;(&#39;no&#39;,&nbsp;False),&nbsp;(&#39;maybe&#39;,&nbsp;False),&nbsp;(&#39;profile&#39;,&nbsp;profile)]&nbsp;&lt;br&gt;   &nbsp;)&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
