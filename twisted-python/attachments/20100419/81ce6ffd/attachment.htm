<tt>
&lt;div&gt;Hello-&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;have&nbsp;a&nbsp;project&nbsp;that&nbsp;is&nbsp;based&nbsp;on&nbsp;Twisted&nbsp;used&nbsp;to&lt;/div&gt;&lt;div&gt;communicate&nbsp;with&nbsp;network&nbsp;devices&nbsp;and&nbsp;I&nbsp;am&nbsp;adding&nbsp;support&nbsp;for&nbsp;a&nbsp;new&lt;/div&gt;&lt;div&gt;vendor&nbsp;(Citrix&nbsp;NetScaler)&nbsp;whose&nbsp;API&nbsp;is&nbsp;SOAP.&nbsp; Unfortunately&nbsp;the&lt;/div&gt;<br>
&lt;div&gt;support&nbsp;for&nbsp;SOAP&nbsp;in&nbsp;Twisted&nbsp;still&nbsp;relies&nbsp;on&nbsp;SOAPpy,&nbsp;which&nbsp;is&nbsp;badly&nbsp;out&lt;/div&gt;&lt;div&gt;of&nbsp;date.&nbsp;In&nbsp;fact&nbsp;as&nbsp;of&nbsp;this&nbsp;email&nbsp;(I&nbsp;just&nbsp;checked),&nbsp;twisted.web.soap&lt;/div&gt;&lt;div&gt;itself&nbsp;hasn&amp;#39;t&nbsp;even&nbsp;been&nbsp;updated&nbsp;in&nbsp;21&nbsp;months!&lt;/div&gt;&lt;div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;would&nbsp;like&nbsp;to&nbsp;ask&nbsp;if&nbsp;anyone&nbsp;has&nbsp;any&nbsp;experience&nbsp;they&nbsp;would&nbsp;be&nbsp;willing&lt;/div&gt;&lt;div&gt;to&nbsp;share&nbsp;with&nbsp;utilizing&nbsp;Twisted&amp;#39;s&nbsp;superb&nbsp;asynchronous&nbsp;transport&lt;/div&gt;&lt;div&gt;functionality&nbsp;with&nbsp;SUDS.&nbsp; It&nbsp;seems&nbsp;like&nbsp;plugging&nbsp;in&nbsp;a&nbsp;custom&nbsp;Twisted&lt;/div&gt;<br>
&lt;div&gt;transport&nbsp;would&nbsp;be&nbsp;a&nbsp;natural&nbsp;fit&nbsp;in&nbsp;SUDS&amp;#39;&nbsp;Client.options.transport,&nbsp;I&amp;#39;m&nbsp;just&nbsp;having&lt;/div&gt;&lt;div&gt;a&nbsp;hard&nbsp;time&nbsp;wrapping&nbsp;my&nbsp;head&nbsp;around&nbsp;it.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;did&nbsp;come&nbsp;up&nbsp;with&nbsp;a&nbsp;way&nbsp;to&nbsp;call&nbsp;the&nbsp;SOAP&nbsp;method&nbsp;with&nbsp;SUDS&lt;/div&gt;<br>
&lt;div&gt;asynchronously&nbsp;by&nbsp;utilizing&nbsp;twisted.internet.threads.deferToThread(),&lt;/div&gt;&lt;div&gt;but&nbsp;this&nbsp;feels&nbsp;like&nbsp;a&nbsp;hack&nbsp;to&nbsp;me.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Here&nbsp;is&nbsp;an&nbsp;example&nbsp;of&nbsp;what&nbsp;I&amp;#39;ve&nbsp;done,&nbsp;just&nbsp;to&nbsp;give&nbsp;you&nbsp;an&nbsp;idea:&lt;/div&gt;&lt;div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;  &nbsp;#&nbsp;netscaler&nbsp;is&nbsp;a&nbsp;module&nbsp;I&nbsp;wrote&nbsp;using&nbsp;suds&nbsp;to&nbsp;interface&nbsp;with&nbsp;NetScaler&nbsp;SOAP&lt;/div&gt;&lt;div&gt;  &nbsp;#&nbsp;Source:&nbsp;&lt;a&nbsp;href=&quot;http://bitbucket.org/jathanism/netscaler-api/src&quot;&gt;http://bitbucket.org/jathanism/netscaler-api/src&lt;/a&gt;&lt;/div&gt;<br>
&lt;div&gt;  &nbsp;import&nbsp;netscaler&lt;/div&gt;&lt;div&gt;  &nbsp;import&nbsp;os,&nbsp;sys&lt;/div&gt;&lt;div&gt;  &nbsp;from&nbsp;twisted.internet&nbsp;import&nbsp;reactor,&nbsp;defer,&nbsp;threads&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;  &nbsp;#&nbsp;netscaler.API&nbsp;is&nbsp;the&nbsp;class&nbsp;that&nbsp;sets&nbsp;up&nbsp;the&nbsp;suds.client.Client&nbsp;object&lt;/div&gt;<br>
&lt;div&gt;  &nbsp;host&nbsp;=&nbsp;&amp;#39;netscaler.local&amp;#39;&lt;/div&gt;&lt;div&gt;  &nbsp;username&nbsp;=&nbsp;password&nbsp;=&nbsp;&amp;#39;nsroot&amp;#39;&lt;/div&gt;&lt;div&gt;  &nbsp;wsdl_url&nbsp;=&nbsp;&amp;#39;file://&amp;#39;&nbsp;+&nbsp;os.path.join(os.getcwd(),&nbsp;&amp;#39;NSUserAdmin.wsdl&amp;#39;)&lt;/div&gt;&lt;div&gt;  &nbsp;api&nbsp;=&nbsp;netscaler.API(host,&nbsp;username=username,&nbsp;password=password,&lt;/div&gt;<br>
&lt;div&gt;wsdl_url=wsdl_url)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;  &nbsp;results&nbsp;=&nbsp;[]&lt;/div&gt;&lt;div&gt;  &nbsp;errors&nbsp;=&nbsp;[]&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;  &nbsp;def&nbsp;handleResult(result):&lt;/div&gt;&lt;div&gt;  &nbsp; &nbsp; &nbsp;print&nbsp;&amp;#39;\tgot&nbsp;result:&nbsp;%s&amp;#39;&nbsp;%&nbsp;(result,)&lt;/div&gt;&lt;div&gt;  &nbsp; &nbsp; &nbsp;results.append(result)&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;  &nbsp;def&nbsp;handleError(err):&lt;/div&gt;&lt;div&gt;  &nbsp; &nbsp; &nbsp;sys.stderr.write(&amp;#39;\tgot&nbsp;failure:&nbsp;%s&amp;#39;&nbsp;%&nbsp;(err,))&lt;/div&gt;&lt;div&gt;  &nbsp; &nbsp; &nbsp;errors.append(err)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;  &nbsp;#&nbsp;this&nbsp;converts&nbsp;the&nbsp;api.login()&nbsp;call&nbsp;to&nbsp;a&nbsp;Twisted&nbsp;thread. &lt;/div&gt;<br>
&lt;div&gt;  &nbsp;#&nbsp;api.login()&nbsp;is&nbsp;equivalent&nbsp;to:&lt;/div&gt;&lt;div&gt;  &nbsp;#&nbsp;api.service.login(username=self.username,&nbsp;password=self.password)&lt;/div&gt;&lt;div&gt;  &nbsp;deferred&nbsp;=&nbsp;threads.deferToThread(api.login)&lt;/div&gt;&lt;div&gt;  &nbsp;deferred.addCallbacks(handleResult,&nbsp;handleError)&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;  &nbsp;reactor.run()&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;works&nbsp;as&nbsp;expected&nbsp;and&nbsp;defers&nbsp;return&nbsp;of&nbsp;the&nbsp;api.login()&nbsp;call&nbsp;until&lt;/div&gt;&lt;div&gt;it&nbsp;is&nbsp;complete,&nbsp;instead&nbsp;of&nbsp;blocking.&nbsp; But&nbsp;as&nbsp;I&nbsp;said,&nbsp;it&nbsp;doesn&amp;#39;t&nbsp;feel&lt;/div&gt;<br>
&lt;div&gt;right.&nbsp; &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;in&nbsp;advance&nbsp;for&nbsp;any&nbsp;help,&nbsp;guidance,&nbsp;feedback,&nbsp;criticism,&lt;/div&gt;&lt;div&gt;insults,&nbsp;or&nbsp;total&nbsp;solutions.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;jathan.&lt;/div&gt;<br>

</tt>
