<tt>
Hi,&lt;br&gt;&lt;br&gt; &nbsp;I&nbsp;have&nbsp;run&nbsp;into&nbsp;a&nbsp;weird&nbsp;performance&nbsp;issue&nbsp;while&nbsp;working&nbsp;with&nbsp;twisted&nbsp;and&nbsp;using&nbsp;celery&nbsp;to&nbsp;schedule&nbsp;tasks&nbsp;on&nbsp;it.&nbsp;Here&nbsp;is&nbsp;my&nbsp;setup:&lt;br&gt;&lt;br&gt;1.&nbsp;Celery&nbsp;schedules&nbsp;a&nbsp;task&nbsp;which&nbsp;makes&nbsp;a&nbsp;TCP&nbsp;connection&nbsp;to&nbsp;a&nbsp;server&nbsp;running&nbsp;FreeSwitch&lt;br&gt;<br>
2.&nbsp;Celery&nbsp;is&nbsp;running&nbsp;with&nbsp;concurrency&nbsp;=&nbsp;2.&lt;br&gt;3.&nbsp;I&nbsp;have&nbsp;changed&nbsp;my&nbsp;code&nbsp;so&nbsp;that&nbsp;I&nbsp;call&nbsp;reactor.callfromthread&nbsp;for&nbsp;all&nbsp;reactor&nbsp;based&nbsp;work.&lt;br&gt;4.&nbsp;A&nbsp;lot&nbsp;of&nbsp;times&nbsp;once&nbsp;I&nbsp;schedule&nbsp;the&nbsp;celery&nbsp;task,&nbsp;I&nbsp;get&nbsp;delays&nbsp;ranging&nbsp;from&nbsp;3&nbsp;-&nbsp;30&nbsp;seconds&nbsp;when&nbsp;I&nbsp;am&nbsp;running&nbsp;with&nbsp;Celery&nbsp;concurrency&nbsp;=2.&lt;br&gt;<br>
5.&nbsp;If&nbsp;I&nbsp;reduce&nbsp;the&nbsp;celery&nbsp;concurrency&nbsp;to&nbsp;1,&nbsp;then&nbsp;everything&nbsp;works&nbsp;great!&nbsp;&lt;br&gt;6.&nbsp;Upon&nbsp;debugging&nbsp;it&nbsp;a&nbsp;little&nbsp;bit&nbsp;more,&nbsp;it&nbsp;seems&nbsp;that&nbsp;the&nbsp;selectReactor&amp;#39;s&nbsp;doSelect&nbsp;is&nbsp;where&nbsp;the&nbsp;code&nbsp;is&nbsp;getting&nbsp;stuck&nbsp;on&nbsp;the&nbsp;select().&lt;br&gt;&lt;br&gt;<br>
I&nbsp;dont&nbsp;know&nbsp;how&nbsp;to&nbsp;get&nbsp;around&nbsp;the&nbsp;delay,&nbsp;and&nbsp;I&nbsp;dont&nbsp;know&nbsp;who&nbsp;is&nbsp;causing&nbsp;that&nbsp;delay&nbsp;exactly.&nbsp;If&nbsp;there&nbsp;is&nbsp;more&nbsp;info&nbsp;that&nbsp;is&nbsp;needed&nbsp;then&nbsp;please&nbsp;let&nbsp;me&nbsp;know.&nbsp;Everything&nbsp;works&nbsp;fine&nbsp;when&nbsp;the&nbsp;Celery&nbsp;worker&nbsp;process&nbsp;is&nbsp;1,&nbsp;but&nbsp;delay&nbsp;starts&nbsp;happening&nbsp;invariably&nbsp;when&nbsp;celery&amp;#39;s&nbsp;worker&nbsp;processes&nbsp;&amp;gt;=2.&lt;br&gt;<br>
&lt;br&gt;Any&nbsp;help&nbsp;would&nbsp;be&nbsp;great!&lt;br&gt;&lt;br&gt;Regards,&lt;br&gt;Dinesh&lt;br&gt;<br>

</tt>
