<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;span&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;Hi&nbsp;again&nbsp;Tom&lt;/span&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;&gt;&nbsp;So,&nbsp;it&nbsp;seems&nbsp;to&nbsp;me&nbsp;that&nbsp;you&nbsp;want&nbsp;to&nbsp;represent&nbsp;your&nbsp;jobs&nbsp;as&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;&gt;&nbsp;more&nbsp;than&nbsp;simply&nbsp;a&nbsp;deferred.&nbsp;At&nbsp;the&nbsp;very&nbsp;least,&nbsp;you&nbsp;need&nbsp;to&nbsp;record&nbsp;what&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;&gt;&nbsp;the&nbsp;jobs&nbsp;is,&nbsp;so&nbsp;that&nbsp;it&nbsp;can&nbsp;be&nbsp;restarted&nbsp;later,&nbsp;if&nbsp;necessary.&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;<br>
&lt;br&gt;Yes.&nbsp;The&nbsp;job&nbsp;class&nbsp;contained&nbsp;things&nbsp;like&nbsp;the&nbsp;function&nbsp;to&nbsp;call,&nbsp;its&nbsp;args,&nbsp;timing&nbsp;information&nbsp;etc.,&nbsp;as&nbsp;well&nbsp;a&nbsp;deferred&nbsp;that&nbsp;would&nbsp;fire&nbsp;with&nbsp;the&nbsp;result.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;span&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;&gt;&nbsp;Deferreds&nbsp;are&nbsp;a&nbsp;way&nbsp;of&nbsp;abstracting&nbsp;data&nbsp;and/or&nbsp;control&nbsp;flow&nbsp;in&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;&gt;&nbsp;asynchronous&nbsp;way.&nbsp;I&#39;m&nbsp;not&nbsp;sure&nbsp;that&nbsp;trying&nbsp;to&nbsp;think&nbsp;of&nbsp;a&nbsp;deferred&nbsp;as&nbsp;a&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;&gt;&nbsp;job&nbsp;is&nbsp;a&nbsp;useful&nbsp;thing&nbsp;to&nbsp;do&lt;/span&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;&lt;span&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;I&nbsp;wasn&#39;t&nbsp;doing&nbsp;that.&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;&lt;span&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;&lt;br&gt;<br>
&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;&lt;span&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;The&nbsp;problem&nbsp;that&nbsp;I&nbsp;was&nbsp;originally&nbsp;trying&nbsp;to&nbsp;address&nbsp;by&nbsp;getting&nbsp;&#39;cancel&#39;&nbsp;into&nbsp;deferreds&nbsp;is&nbsp;that&nbsp;the&nbsp;control&nbsp;flow&nbsp;you&nbsp;mention&nbsp;gets&nbsp;totally&nbsp;stuck&nbsp;if&nbsp;a&nbsp;deferred&nbsp;never&nbsp;fires&nbsp;for&nbsp;some&nbsp;reason&nbsp;(this&nbsp;was&nbsp;happening&nbsp;to&nbsp;me&nbsp;in&nbsp;talking&nbsp;to&nbsp;the&nbsp;Twitter&nbsp;API).&nbsp;E.g.,&nbsp;in&nbsp;this&nbsp;case,&nbsp;kicking&nbsp;off&nbsp;a&nbsp;new&nbsp;job&nbsp;relies&nbsp;on&nbsp;an&nbsp;earlier&nbsp;job&nbsp;finishing&nbsp;(which&nbsp;includes&nbsp;a&nbsp;deferred&nbsp;firing).&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt; An&nbsp;app&nbsp;writer&nbsp;might&nbsp;want&nbsp;to&nbsp;timeout&nbsp;a&nbsp;deferred&nbsp;for&nbsp;some&nbsp;reason.&nbsp;Or&nbsp;the&nbsp;app&nbsp;may&nbsp;need&nbsp;to&nbsp;shut&nbsp;down.&nbsp;If&nbsp;there&#39;s&nbsp;even&nbsp;one&nbsp;deferred&nbsp;that&nbsp;doesn&#39;t&nbsp;fire,&nbsp;the&nbsp;whole&nbsp;system&nbsp;essentially&nbsp;hangs. &lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;The&nbsp;idea&nbsp;was&nbsp;simply&nbsp;to&nbsp;increase&nbsp;the&nbsp;amount&nbsp;of&nbsp;control&nbsp;an&nbsp;app&nbsp;had&nbsp;over&nbsp;the&nbsp;flow&nbsp;of&nbsp;control.&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;style&gt;&lt;span&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;&lt;font&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;This&nbsp;goes&nbsp;against&nbsp;the&nbsp;thinking&nbsp;that&nbsp;only&nbsp;the&nbsp;code&nbsp;that&nbsp;creates&nbsp;a&nbsp;deferred&nbsp;can&nbsp;fire&nbsp;it.&nbsp;I&nbsp;don&#39;t&nbsp;see&nbsp;anything&nbsp;wrong&nbsp;with&nbsp;that&nbsp;-&nbsp;it&nbsp;just&nbsp;increases&nbsp;the&nbsp;options&nbsp;that&nbsp;the&nbsp;code&nbsp;which&nbsp;obtains&nbsp;the&nbsp;deferred&nbsp;has.&nbsp;As&nbsp;API&nbsp;writers,&nbsp;we&#39;re&nbsp;used&nbsp;to&nbsp;being&nbsp;in&nbsp;control:&nbsp;we&nbsp;don&#39;t&nbsp;think&nbsp;it&#39;s&nbsp;a&nbsp;good&nbsp;idea&nbsp;if&nbsp;we&nbsp;create&nbsp;and&nbsp;return&nbsp;a&nbsp;deferred&nbsp;in&nbsp;a&nbsp;method&nbsp;and&nbsp;the&nbsp;code&nbsp;we&nbsp;return&nbsp;the&nbsp;deferred&nbsp;to&nbsp;then&nbsp;fires&nbsp;it&nbsp;itself.&nbsp;But&nbsp;as&nbsp;app&nbsp;writers&nbsp;consuming&nbsp;deferreds&nbsp;from&nbsp;these&nbsp;APIs,&nbsp;we&nbsp;want&nbsp;more&nbsp;control&nbsp;(I&nbsp;do,&nbsp;anyway).&nbsp; It&#39;s&nbsp;possible&nbsp;to&nbsp;have&nbsp;both,&nbsp;which&nbsp;was&nbsp;what&nbsp;I&nbsp;was&nbsp;trying&nbsp;to&nbsp;provide&nbsp;for.&nbsp;The &lt;/font&gt;&lt;span&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;ControllableDeferred2013&nbsp;class&nbsp;I&nbsp;posted&nbsp;last&nbsp;night&nbsp;shows&nbsp;one&nbsp;way.&nbsp;Adding&nbsp;a&nbsp;value&nbsp;arg&nbsp;to&nbsp;cancel()&nbsp;would&nbsp;build&nbsp;some&nbsp;of&nbsp;that&nbsp;flexibility&nbsp;into&nbsp;Twisted&nbsp;itself.&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;style&gt;&lt;span&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;&lt;span&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;Hopefully&nbsp;that&nbsp;helps&nbsp;makes&nbsp;things&nbsp;clearer.&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;<br>
&lt;span&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;&lt;span&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;Terry&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Fri,&nbsp;Jun&nbsp;21,&nbsp;2013&nbsp;at&nbsp;7:18&nbsp;AM,&nbsp;Tom&nbsp;Prince&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:tom.prince@ualberta.net&quot;&nbsp;target=&quot;_blank&quot;&gt;tom.prince@ualberta.net&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;Terry&nbsp;Jones&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:terry@jon.es&quot;&gt;terry@jon.es&lt;/a&gt;&gt;&nbsp;writes:&lt;br&gt;<br>
&gt;&nbsp;But,&nbsp;I&nbsp;also&nbsp;built&nbsp;some&nbsp;queuing&nbsp;things&nbsp;where&nbsp;I&nbsp;would&nbsp;have&nbsp;liked&nbsp;extra&lt;br&gt;<br>
&gt;&nbsp;information.&nbsp;For&nbsp;example,&nbsp;an&nbsp;app&nbsp;is&nbsp;processing&nbsp;jobs&nbsp;on&nbsp;behalf&nbsp;of&nbsp;a&nbsp;user,&lt;br&gt;<br>
&lt;/div&gt;&gt;&nbsp;[...]&lt;br&gt;<br>
&lt;br&gt;<br>
Thinking&nbsp;about&nbsp;this&nbsp;for&nbsp;a&nbsp;little&nbsp;bit,&nbsp;it&nbsp;seems&nbsp;like&nbsp;there&nbsp;is&nbsp;quite&nbsp;a&nbsp;bit&lt;br&gt;<br>
more&nbsp;state&nbsp;to&nbsp;your&nbsp;jobs,&nbsp;that&nbsp;simply&nbsp;an&nbsp;eventual&nbsp;result&nbsp;(i.e.&nbsp;a&lt;br&gt;<br>
deferred).&nbsp;So,&nbsp;it&nbsp;seems&nbsp;to&nbsp;me&nbsp;that&nbsp;you&nbsp;want&nbsp;to&nbsp;represent&nbsp;your&nbsp;jobs&nbsp;as&lt;br&gt;<br>
more&nbsp;than&nbsp;simply&nbsp;a&nbsp;deferred.&nbsp;At&nbsp;the&nbsp;very&nbsp;least,&nbsp;you&nbsp;need&nbsp;to&nbsp;record&nbsp;what&lt;br&gt;<br>
the&nbsp;jobs&nbsp;is,&nbsp;so&nbsp;that&nbsp;it&nbsp;can&nbsp;be&nbsp;restarted&nbsp;later,&nbsp;if&nbsp;necessary.&lt;br&gt;<br>
&lt;br&gt;<br>
Deferreds&nbsp;are&nbsp;a&nbsp;way&nbsp;of&nbsp;abstracting&nbsp;data&nbsp;and/or&nbsp;control&nbsp;flow&nbsp;in&lt;br&gt;<br>
asynchronous&nbsp;way.&nbsp;I&#39;m&nbsp;not&nbsp;sure&nbsp;that&nbsp;trying&nbsp;to&nbsp;think&nbsp;of&nbsp;a&nbsp;deferred&nbsp;as&nbsp;a&lt;br&gt;<br>
job&nbsp;is&nbsp;a&nbsp;useful&nbsp;thing&nbsp;to&nbsp;do;&nbsp;most&nbsp;any&nbsp;example&nbsp;of&nbsp;a&nbsp;job&nbsp;that&nbsp;I&nbsp;can&nbsp;think&lt;br&gt;<br>
of&nbsp;likely&nbsp;involves&nbsp;multiple&nbsp;deferred&nbsp;objects&nbsp;(often&nbsp;chained&nbsp;by&nbsp;returning&lt;br&gt;<br>
them&nbsp;from&nbsp;callbcks).&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
 &nbsp;Tom&lt;br&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
