<tt>
Hi&nbsp;Guys,&lt;br&gt;&lt;br&gt;I&nbsp;stumpled&nbsp;upon&nbsp;a&nbsp;small&nbsp;dns&nbsp;filter&nbsp;program,&nbsp;that&nbsp;I&nbsp;am&nbsp;having&nbsp;trouble&nbsp;running,&nbsp;due&nbsp;to&nbsp;&amp;quot;twisted.internet.app&amp;quot;&nbsp;being&nbsp;deprecated.&nbsp;I&nbsp;get&nbsp;the&nbsp;following&nbsp;output&nbsp;&amp;quot;Failed&nbsp;to&nbsp;load&nbsp;application:&nbsp;cannot&nbsp;import&nbsp;name&nbsp;app&amp;quot;&lt;br&gt;<br>
&lt;br&gt;Im&nbsp;running&nbsp;&amp;quot;twistd&nbsp;(the&nbsp;Twisted&nbsp;daemon)&nbsp;2.5.0&amp;quot;&lt;br&gt;&lt;br&gt;Any&nbsp;advice&nbsp;on&nbsp;how&nbsp;to&nbsp;proceed?&lt;br&gt;&lt;br&gt;Kind&nbsp;regards&lt;br&gt;&lt;br&gt;Tax&lt;br&gt;&lt;br&gt;#!/usr/bin/python&lt;br&gt;#&lt;br&gt;#&nbsp;Run&nbsp;this&nbsp;as&nbsp;root&nbsp;with&nbsp;the&nbsp;command&lt;br&gt;#  &nbsp;twistd&nbsp;-y&nbsp;dnsfilter.py&lt;br&gt;<br>
&lt;br&gt;from&nbsp;twisted.internet&nbsp;import&nbsp;app,&nbsp;defer&lt;br&gt;from&nbsp;twisted.protocols&nbsp;import&nbsp;dns&lt;br&gt;from&nbsp;twisted.names&nbsp;import&nbsp;client,&nbsp;server&lt;br&gt;&lt;br&gt;roots&nbsp;=&nbsp;[&lt;br&gt;(&amp;#39;198.41.0.4&amp;#39;,53),&nbsp;(&amp;#39;128.9.0.107&amp;#39;,53),&nbsp;(&amp;#39;192.33.4.12&amp;#39;,53),&nbsp;(&amp;#39;128.8.10.90&amp;#39;,53),&lt;br&gt;<br>
(&amp;#39;192.203.230.10&amp;#39;,53),&nbsp;(&amp;#39;192.5.5.241&amp;#39;,53),&nbsp;(&amp;#39;192.112.36.4&amp;#39;,53),&lt;br&gt;(&amp;#39;128.63.2.53&amp;#39;,53),&nbsp;(&amp;#39;192.36.148.17&amp;#39;,53),&nbsp;(&amp;#39;192.58.128.30&amp;#39;,53),&lt;br&gt;(&amp;#39;193.0.14.129&amp;#39;,53),&nbsp;(&amp;#39;198.32.64.12&amp;#39;,53),&nbsp;(&amp;#39;202.12.27.33&amp;#39;,53),&nbsp;]&lt;br&gt;<br>
&lt;br&gt;#roots&nbsp;=&nbsp;[(&amp;#39;202.129.64.42&amp;#39;,53)]  &nbsp;#&nbsp;just&nbsp;use&nbsp;my&nbsp;ISP&amp;#39;s&nbsp;DNS&lt;br&gt;&lt;br&gt;VERISIGN=&amp;#39;@^n\x0b&amp;#39;&nbsp;#&nbsp;64.94.110.11&lt;br&gt;&lt;br&gt;class&nbsp;AntiVerisignResolver(client.Resolver):&lt;br&gt;   &nbsp;def&nbsp;filterAnswers(self,&nbsp;message):&lt;br&gt;       &nbsp;if&nbsp;message.trunc:&lt;br&gt;<br>
           &nbsp;return&nbsp;self.queryTCP(message.queries).addCallback(self.filterAnswers)&lt;br&gt;       &nbsp;else:&lt;br&gt;           &nbsp;for&nbsp;i&nbsp;in&nbsp;range(len(message.answers)):&lt;br&gt;               &nbsp;x&nbsp;=&nbsp;message.answers[i]&lt;br&gt;               &nbsp;if&nbsp;x.type==1&nbsp;and&nbsp;x.payload&nbsp;and&nbsp;x.payload.address==VERISIGN:&lt;br&gt;<br>
                   &nbsp;message.answers[i]&nbsp;=&nbsp;None&lt;br&gt;           &nbsp;return&nbsp;(filter(lambda&nbsp;x:x,message.answers),&lt;br&gt;                   &nbsp;message.authority,&lt;br&gt;                   &nbsp;message.additional)&lt;br&gt;&lt;br&gt;verbosity&nbsp;=&nbsp;0&lt;br&gt;resolver&nbsp;=&nbsp;AntiVerisignResolver(servers=roots)&lt;br&gt;<br>
f&nbsp;=&nbsp;server.DNSServerFactory(clients=[resolver],&nbsp;verbose=verbosity)&lt;br&gt;p&nbsp;=&nbsp;dns.DNSDatagramProtocol(f)&lt;br&gt;f.noisy&nbsp;=&nbsp;p.noisy&nbsp;=&nbsp;verbosity&lt;br&gt;&lt;br&gt;application&nbsp;=&nbsp;app.Application(&amp;#39;Non&nbsp;caching&nbsp;anti-verisign&nbsp;domain&nbsp;name&nbsp;resolver&amp;#39;)&lt;br&gt;<br>
application.listenUDP(53,&nbsp;p)&lt;br&gt;application.listenTCP(53,&nbsp;f)&lt;br&gt;&lt;br&gt;&lt;br&gt;src:&lt;br&gt;&lt;a&nbsp;href=&quot;http://osdir.com/ml/python.twisted/2003-09/msg00055.html&quot;&gt;http://osdir.com/ml/python.twisted/2003-09/msg00055.html&lt;/a&gt;&lt;br&gt;<br>

</tt>
