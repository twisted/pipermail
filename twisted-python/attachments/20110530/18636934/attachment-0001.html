<tt>
Hi,&lt;br&gt;&lt;br&gt;&lt;br&gt;I&nbsp;was&nbsp;wondering&nbsp;if&nbsp;anyone&nbsp;had&nbsp;any&nbsp;concrete&nbsp;thoughts&nbsp;about&nbsp;what&nbsp;should&nbsp;happen&nbsp;with&nbsp;IResource.getChild&nbsp;being&nbsp;able&nbsp;to&nbsp;return&nbsp;Deferreds,&nbsp;or,&nbsp;in&nbsp;general,&nbsp;the&nbsp;ability&nbsp;to&nbsp;asynchronously&nbsp;get&nbsp;children&nbsp;of&nbsp;a&nbsp;resource.&nbsp;The&nbsp;ticket&nbsp;for&nbsp;this&nbsp;is&nbsp;&lt;a&nbsp;href=&quot;http://tm.tl/3621&quot;&gt;#3621&lt;/a&gt;.&lt;br&gt;<br>
<br>
&lt;br&gt;My&nbsp;use&nbsp;case&nbsp;for&nbsp;this&nbsp;is&nbsp;&lt;a&nbsp;href=&quot;https://github.com/lvh/txyoga&quot;&gt;txYoga&lt;/a&gt;.&nbsp;Long&nbsp;story&nbsp;short,&nbsp;it&nbsp;lets&nbsp;you&nbsp;write&nbsp;REST-y&nbsp;webapps.&nbsp;So,&nbsp;you&nbsp;could&nbsp;have&nbsp;something&nbsp;like:&lt;br&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://www.twistedmatrix.com/labs/glyph&quot;&gt;http://www.twistedmatrix.com/labs/glyph&lt;/a&gt;&lt;br&gt;<br>
<br>
&lt;br&gt;In&nbsp;local&nbsp;jargon,&nbsp;labs&nbsp;is&nbsp;a&nbsp;collection,&nbsp;and&nbsp;glyph&nbsp;is&nbsp;an&nbsp;element&nbsp;in&nbsp;it.&nbsp;Right&nbsp;now,&nbsp;the&nbsp;only&nbsp;collection&nbsp;that&nbsp;actually&nbsp;exists&nbsp;is&nbsp;an&nbsp;in-memory&nbsp;one,&nbsp;and&nbsp;the&nbsp;next&nbsp;one&nbsp;I&#39;m&nbsp;going&nbsp;to&nbsp;write&nbsp;is&nbsp;a&nbsp;SQLite&nbsp;one,&nbsp;so&nbsp;blocking&nbsp;on&nbsp;child&nbsp;access&nbsp;seems&nbsp;relatively&nbsp;reasonable.&nbsp;In&nbsp;general,&nbsp;however,&nbsp;this&nbsp;should&nbsp;be&nbsp;implemented&nbsp;using&nbsp;Deferreds,&nbsp;since&nbsp;the&nbsp;information&nbsp;about&nbsp;glyph&nbsp;might&nbsp;be&nbsp;stored&nbsp;in&nbsp;a&nbsp;database&nbsp;far,&nbsp;far&nbsp;away.&lt;br&gt;<br>
<br>
&lt;br&gt;The&nbsp;logical&nbsp;way&nbsp;to&nbsp;do&nbsp;that&nbsp;for&nbsp;me&nbsp;seems&nbsp;to&nbsp;be&nbsp;that&nbsp;in&nbsp;getChild,&nbsp;you&#39;d&nbsp;&lt;br&gt;&lt;br&gt;I&nbsp;have&nbsp;found&nbsp;a&nbsp;&lt;a&nbsp;href=&quot;http://www.twistedmatrix.com/pipermail/twisted-python/2002-October/001847.html&quot;&gt;mailing&nbsp;list&nbsp;post&lt;/a&gt;&nbsp;(from&nbsp;2002)&nbsp;where&nbsp;Christopher&nbsp;Armstrong&nbsp;ostensibly&nbsp;solved&nbsp;the&nbsp;problem.&nbsp;I&nbsp;can&#39;t&nbsp;find&nbsp;any&nbsp;replies&nbsp;to&nbsp;that&nbsp;mailing&nbsp;list&nbsp;post.&lt;br&gt;<br>
<br>
&lt;br&gt;I&nbsp;remember&nbsp;Glyph&nbsp;saying&nbsp;something&nbsp;about&nbsp;how&nbsp;that&nbsp;could&nbsp;potentially&nbsp;change/break&nbsp;public&nbsp;API.&nbsp;I&nbsp;understand&nbsp;that&nbsp;reservation,&nbsp;but&nbsp;I&nbsp;don&#39;t&nbsp;see&nbsp;how&nbsp;it&#39;d&nbsp;be&nbsp;that&nbsp;bad.&nbsp;Existing&nbsp;code&nbsp;that&nbsp;always&nbsp;immediately&nbsp;returns&nbsp;a&nbsp;resource&nbsp;would&nbsp;still&nbsp;work&nbsp;--&nbsp;it&nbsp;would&nbsp;merely&nbsp;only&nbsp;use&nbsp;a&nbsp;part&nbsp;of&nbsp;the&nbsp;API&nbsp;it&#39;s&nbsp;allowed&nbsp;to&nbsp;use&nbsp;(in&nbsp;this&nbsp;case,&nbsp;it&#39;d&nbsp;ignore&nbsp;the&nbsp;fact&nbsp;that&nbsp;it&nbsp;is&nbsp;allowed&nbsp;to&nbsp;return&nbsp;a&nbsp;deferred).&nbsp;Since&nbsp;a&nbsp;Deferred&nbsp;isn&#39;t&nbsp;an&nbsp;IResource,&nbsp;it&nbsp;wouldn&#39;t&nbsp;be&nbsp;a&nbsp;legal&nbsp;value&nbsp;to&nbsp;return&nbsp;now,&nbsp;anyway.&lt;br&gt;<br>
<br>
&lt;br&gt;Obviously,&nbsp;code&nbsp;that&nbsp;previously&nbsp;relied&nbsp;on&nbsp;getChild&nbsp;always&nbsp;returning&nbsp;a&nbsp;child&nbsp;*right&nbsp;now*,&nbsp;when&nbsp;now&nbsp;that&nbsp;getChild&nbsp;will&nbsp;occasionally&nbsp;return&nbsp;a&nbsp;deferred,&nbsp;would&nbsp;break.&nbsp;I&#39;m&nbsp;not&nbsp;sure&nbsp;yet&nbsp;if&nbsp;that&#39;s&nbsp;a&nbsp;serious&nbsp;problem,&nbsp;or&nbsp;just&nbsp;a&nbsp;breach&nbsp;of&nbsp;the&nbsp;contract&nbsp;that&nbsp;code&nbsp;previously&nbsp;had.&nbsp;I&#39;m&nbsp;thinking&nbsp;it&#39;s&nbsp;the&nbsp;latter,&nbsp;but&nbsp;maybe&nbsp;my&nbsp;subconscious&nbsp;is&nbsp;cheating&nbsp;to&nbsp;get&nbsp;to&nbsp;the&nbsp;easier&nbsp;answer.&lt;br&gt;<br>
<br>
&lt;br&gt;I&nbsp;don&#39;t&nbsp;actually&nbsp;call&nbsp;getChild&nbsp;myself&nbsp;in&nbsp;my&nbsp;application&nbsp;code.&nbsp;I&nbsp;call&nbsp;it&nbsp;in&nbsp;tests,&nbsp;and&nbsp;Twisted&nbsp;calls&nbsp;it&nbsp;for&nbsp;me&nbsp;in&nbsp;production.&nbsp;Maybe&nbsp;I&#39;m&nbsp;missing&nbsp;major&nbsp;use&nbsp;cases&nbsp;for&nbsp;getChild&nbsp;there?&nbsp;I&nbsp;could&nbsp;definitely&nbsp;see&nbsp;how&nbsp;that&nbsp;works.&lt;br&gt;<br>
<br>
&lt;br&gt;Thoughts&nbsp;welcome&nbsp;:)&lt;br&gt;&lt;br&gt;&lt;br&gt;cheers&lt;div&gt;lvh&lt;/div&gt;&lt;br&gt;<br>

</tt>
