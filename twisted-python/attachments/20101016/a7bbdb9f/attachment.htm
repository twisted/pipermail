<tt>
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;On&nbsp;Oct&nbsp;16,&nbsp;2010,&nbsp;at&nbsp;10:02&nbsp;AM,&nbsp;Marcus.CM&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;border-collapse:&nbsp;separate;&nbsp;font-family:&nbsp;Menlo;&nbsp;font-style:&nbsp;normal;&nbsp;font-variant:&nbsp;normal;&nbsp;font-weight:&nbsp;normal;&nbsp;letter-spacing:&nbsp;normal;&nbsp;line-height:&nbsp;normal;&nbsp;orphans:&nbsp;2;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;widows:&nbsp;2;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-border-horizontal-spacing:&nbsp;0px;&nbsp;-webkit-border-vertical-spacing:&nbsp;0px;&nbsp;-webkit-text-decorations-in-effect:&nbsp;none;&nbsp;-webkit-text-size-adjust:&nbsp;auto;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&nbsp;font-size:&nbsp;medium;&nbsp;&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-family:&nbsp;monospace;&nbsp;&quot;&gt;How&nbsp;do&nbsp;i&nbsp;find&nbsp;out&nbsp;if&nbsp;a&nbsp;particular&nbsp;connection&nbsp;is&nbsp;already&nbsp;dead&nbsp;in&nbsp;the&lt;span&nbsp;class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;br&gt;given&nbsp;&quot;account&quot;&nbsp;class?&lt;/span&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;There's&nbsp;no&nbsp;way&nbsp;to&nbsp;know;&nbsp;it's&nbsp;a&nbsp;race&nbsp;condition.&nbsp;&amp;nbsp;If&nbsp;the&nbsp;connection&nbsp;dies&nbsp;before&nbsp;authentication,&nbsp;then&nbsp;requestAvatar&nbsp;won't&nbsp;be&nbsp;called.&nbsp;&amp;nbsp;If&nbsp;the&nbsp;connection&nbsp;dies&nbsp;shortly&nbsp;afterward,&nbsp;you'll&nbsp;get&nbsp;a&nbsp;connectionLost&nbsp;shortly&nbsp;after&nbsp;authentication,&nbsp;but&nbsp;there's&nbsp;no&nbsp;way&nbsp;to&nbsp;predict&nbsp;that&nbsp;that's&nbsp;about&nbsp;to&nbsp;happen.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;the&nbsp;connection&nbsp;dies&nbsp;at&nbsp;the&nbsp;exact&nbsp;moment&nbsp;that&nbsp;authentication&nbsp;occurs...&nbsp;well,&nbsp;the&nbsp;joke's&nbsp;on&nbsp;you,&nbsp;in&nbsp;a&nbsp;network&nbsp;of&nbsp;Von&nbsp;Neumann&nbsp;architecture&nbsp;computers,&nbsp;there's&nbsp;no&nbsp;such&nbsp;thing&nbsp;as&nbsp;the&nbsp;&quot;exact&nbsp;moment&quot;.&nbsp;&amp;nbsp;It&nbsp;actually&nbsp;died&nbsp;shortly&nbsp;afterwards,&nbsp;just&nbsp;so&nbsp;shortly&nbsp;that&nbsp;it&nbsp;seemed&nbsp;simultaneous&nbsp;to&nbsp;a&nbsp;casual&nbsp;human&nbsp;observer.&nbsp;&amp;nbsp;So&nbsp;as&nbsp;far&nbsp;as&nbsp;the&nbsp;code's&nbsp;concerned,&nbsp;it's&nbsp;the&nbsp;same&nbsp;as&nbsp;the&nbsp;&quot;shortly&nbsp;afterward&quot;&nbsp;case.&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
