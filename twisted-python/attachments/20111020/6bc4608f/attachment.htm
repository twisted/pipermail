<tt>
Hi&nbsp;Brad,&lt;div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;Oct&nbsp;20,&nbsp;2011&nbsp;at&nbsp;11:50&nbsp;AM,&nbsp;Brad&nbsp;Milne&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:brad.milne@devx.runthered.com&quot;&gt;brad.milne@devx.runthered.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
&lt;div&gt;...&lt;/div&gt;&lt;div&gt;So&nbsp;my&nbsp;questions:&lt;/div&gt;&lt;div&gt;1)&nbsp;I&amp;#39;m&nbsp;right,&nbsp;right?&nbsp;Twisted&nbsp;doesn&amp;#39;t&nbsp;have&nbsp;mechanisms&nbsp;or&nbsp;a&nbsp;library&nbsp;for&nbsp;hot&nbsp;swapping&nbsp;code&nbsp;modules&nbsp;or&nbsp;similar&nbsp;solutions&nbsp;for&nbsp;low&nbsp;impact&nbsp;upgrades&nbsp;and&nbsp;high&nbsp;availability?&nbsp;(I&nbsp;originally&nbsp;read&nbsp;about&nbsp;Twisted&nbsp;*plugins*&nbsp;hoping&nbsp;for&nbsp;this,&nbsp;but&nbsp;was&nbsp;disappointed&nbsp;to&nbsp;find&nbsp;how&nbsp;basic&nbsp;they&nbsp;actually&nbsp;were)&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;No,&nbsp;not&nbsp;a&nbsp;complete,&nbsp;first-class&nbsp;mechanism&nbsp;(at&nbsp;least&nbsp;as&nbsp;far&nbsp;as&nbsp;I&nbsp;know).&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;However,&nbsp;there&nbsp;are&nbsp;a&nbsp;few&nbsp;pieces&nbsp;in&nbsp;Twisted&nbsp;which&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;build&nbsp;such&nbsp;a&nbsp;solution.&nbsp;I&amp;#39;ve&nbsp;been&nbsp;meaning&nbsp;to&nbsp;piece&nbsp;them&nbsp;together&nbsp;for&nbsp;a&nbsp;while&nbsp;to&nbsp;do&nbsp;this,&nbsp;but&nbsp;time-constraints&nbsp;and&nbsp;what-not&nbsp;have&nbsp;prohibited&nbsp;that&nbsp;so&nbsp;far:&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;1. &lt;a&nbsp;href=&quot;http://twistedmatrix.com/documents/current/api/twisted.python.rebuild.html&quot;&gt;http://twistedmatrix.com/documents/current/api/twisted.python.rebuild.html&lt;/a&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;a&nbsp;module&nbsp;that&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;reload&nbsp;class&nbsp;definitions&nbsp;and&nbsp;instances,&nbsp;etc.&nbsp;You&nbsp;can&nbsp;conceive&nbsp;of&nbsp;a&nbsp;system&nbsp;whereby&nbsp;you&nbsp;load&nbsp;a&nbsp;class&nbsp;that&nbsp;defines&nbsp;a&nbsp;code&nbsp;loading&nbsp;module&nbsp;that&nbsp;can&nbsp;pick&nbsp;up&nbsp;modules&nbsp;in&nbsp;a&nbsp;directory&nbsp;and&nbsp;periodically&nbsp;refresh&nbsp;their&nbsp;definitions,&nbsp;for&nbsp;example.&nbsp;One&nbsp;way&nbsp;to&nbsp;do&nbsp;it&nbsp;with&nbsp;RabbitMQ&nbsp;is&nbsp;have&nbsp;a&nbsp;queue&nbsp;specifically&nbsp;for&nbsp;code-refreshes&nbsp;-&nbsp;when&nbsp;a&nbsp;code-reload&nbsp;service&nbsp;receives&nbsp;a&nbsp;message&nbsp;it&nbsp;does&nbsp;one&nbsp;or&nbsp;more&nbsp;twisted.python.rebuilds&nbsp;to&nbsp;reload&nbsp;the&nbsp;code&nbsp;definitions,&nbsp;or&nbsp;something.&nbsp;There&nbsp;is&nbsp;obviously&nbsp;still&nbsp;a&nbsp;lot&nbsp;you&nbsp;have&nbsp;to&nbsp;do&nbsp;yourself,&nbsp;but&nbsp;it&amp;#39;s&nbsp;something.&nbsp;(I&amp;#39;m&nbsp;aware&nbsp;that&nbsp;reloading&nbsp;modules&nbsp;in&nbsp;Python&nbsp;is&nbsp;generally&nbsp;difficult&nbsp;because&nbsp;of&nbsp;all&nbsp;the&nbsp;stray&nbsp;references&nbsp;that&nbsp;can&nbsp;still&nbsp;exist,&nbsp;but&nbsp;you&nbsp;can&nbsp;probably&nbsp;structure&nbsp;the&nbsp;code&nbsp;in&nbsp;such&nbsp;a&nbsp;way&nbsp;that&nbsp;a&nbsp;reload,&nbsp;or&nbsp;series&nbsp;of&nbsp;reloads&nbsp;will&nbsp;do&nbsp;the&nbsp;job).&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;2. &lt;a&nbsp;href=&quot;http://twistedmatrix.com/documents/current/api/twisted.runner.procmon.ProcessMonitor.html&quot;&gt;http://twistedmatrix.com/documents/current/api/twisted.runner.procmon.ProcessMonitor.html&lt;/a&gt;&lt;/div&gt;<br>
&lt;div&gt;A&nbsp;service&nbsp;to&nbsp;monitor&nbsp;processes.&nbsp;You&nbsp;can&nbsp;have&nbsp;other&nbsp;services&nbsp;running&nbsp;in&nbsp;container&nbsp;processes,&nbsp;and&nbsp;use&nbsp;this&nbsp;functionality&nbsp;to&nbsp;monitor&nbsp;and&nbsp;control&nbsp;them.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;3. &lt;a&nbsp;href=&quot;http://twistedmatrix.com/documents/current/api/twisted.internet.protocol.ProcessProtocol.html&quot;&gt;http://twistedmatrix.com/documents/current/api/twisted.internet.protocol.ProcessProtocol.html&lt;/a&gt;&lt;/div&gt;<br>
&lt;div&gt;You&nbsp;can&nbsp;define&nbsp;process&nbsp;protocols&nbsp;that&nbsp;implement&nbsp;specific&nbsp;job&nbsp;types.&nbsp;Usually&nbsp;this&nbsp;is&nbsp;used&nbsp;to&nbsp;spread&nbsp;process&nbsp;amongst&nbsp;cores,&nbsp;but&nbsp;you&nbsp;could&nbsp;also&nbsp;use&nbsp;it&nbsp;for&nbsp;sanboxing&nbsp;functionality&nbsp;I&nbsp;suppose.&nbsp;Another&nbsp;project&nbsp;that&nbsp;uses&nbsp;this&nbsp;for&nbsp;spreading&nbsp;working&nbsp;process&nbsp;amongst&nbsp;cores&nbsp;is&nbsp;Ampoule: &lt;a&nbsp;href=&quot;https://launchpad.net/ampoule&quot;&gt;https://launchpad.net/ampoule&lt;/a&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
<br>
&lt;div&gt;2)&nbsp;Is&nbsp;RabbitMQ&nbsp;with&nbsp;txAMQP-empowered&nbsp;Twisted&nbsp;instances&nbsp;on&nbsp;the&nbsp;ends&nbsp;of&nbsp;the&nbsp;queues&nbsp;a&nbsp;sensible,&nbsp;compatible,&nbsp;best-practice&nbsp;approach&nbsp;as&nbsp;agreed&nbsp;by&nbsp;the&nbsp;community?&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Sure.&nbsp;It&amp;#39;s&nbsp;one&nbsp;approach.&nbsp;You&nbsp;can&nbsp;also&nbsp;use&nbsp;Redis&nbsp;and&nbsp;txRedis&nbsp;-&nbsp;&lt;a&nbsp;href=&quot;https://github.com/rlotun/txRedis&quot;&gt;https://github.com/rlotun/txRedis&lt;/a&gt;.&nbsp;Redis&nbsp;has&nbsp;pub-sub&nbsp;functionality&nbsp;that&amp;#39;s&nbsp;much&nbsp;simpler&nbsp;than&nbsp;AMQP&nbsp;(but&nbsp;not&nbsp;as&nbsp;powerful&nbsp;-&nbsp;for&nbsp;example&nbsp;you&nbsp;can&amp;#39;t&nbsp;do&nbsp;something&nbsp;like&nbsp;ACK&nbsp;a&nbsp;task).&nbsp;But&nbsp;for&nbsp;basic&nbsp;pub-sub&nbsp;it&amp;#39;s&nbsp;awesome.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;We&nbsp;use&nbsp;both&nbsp;RabbitMQ&nbsp;and&nbsp;Redis,&nbsp;via&nbsp;txAMQP&nbsp;and&nbsp;txRedis.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Reza &lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;Reza&nbsp;Lotun&lt;br&gt;mobile:&nbsp;+44&nbsp;(0)7521&nbsp;310&nbsp;763&lt;br&gt;email: &nbsp;&lt;a&nbsp;href=&quot;mailto:rlotun@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rlotun@gmail.com&lt;/a&gt;&lt;br&gt;<br>
work:  &nbsp;&lt;a&nbsp;href=&quot;mailto:rlotun@twitter.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rlotun@twitter.com&lt;/a&gt;&lt;br&gt;@rlotun&lt;br&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>

</tt>
