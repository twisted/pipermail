<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;I&nbsp;have&nbsp;a&nbsp;question&nbsp;that&nbsp;could&nbsp;well&nbsp;belong&nbsp;to&nbsp;Twisted&nbsp;or&nbsp;could&nbsp;be&nbsp;directly&nbsp;related&nbsp;to&nbsp;Python.&lt;br&gt;&lt;br&gt;My&nbsp;problem,&nbsp;as&nbsp;the&nbsp;other&nbsp;is&nbsp;related&nbsp;to&nbsp;the&nbsp;disconnection&nbsp;process&nbsp;in&nbsp;Twisted.&nbsp;As&nbsp;I&nbsp;read&nbsp;on&nbsp;this&nbsp;,&nbsp;if&nbsp;I&nbsp;want&nbsp;to&nbsp;I&nbsp;have&nbsp;to&nbsp;perform&nbsp;the&nbsp;following&nbsp;steps:&lt;br&gt;&lt;br&gt;1-The&nbsp;server&nbsp;must&nbsp;stop&nbsp;listening.&lt;br&gt;2-The&nbsp;client&nbsp;connection&nbsp;must&nbsp;disconnect.&lt;br&gt;3-The&nbsp;server&nbsp;connection&nbsp;must&nbsp;disconnect.&lt;br&gt;&lt;br&gt;According&nbsp;to&nbsp;what&nbsp;I&nbsp;read&nbsp;on&nbsp;the&nbsp;previous&nbsp;page&nbsp;to&nbsp;make&nbsp;the&nbsp;first&nbsp;step&nbsp;would&nbsp;have&nbsp;to&nbsp;run&nbsp;the&nbsp;stopListening&nbsp;method.&lt;br&gt;&lt;br&gt;In&nbsp;the&nbsp;example&nbsp;mentioned&nbsp;in&nbsp;the&nbsp;web&nbsp;all&nbsp;actions&nbsp;are&nbsp;performed&nbsp;in&nbsp;the&nbsp;same&nbsp;script.&nbsp;Making&nbsp;it&nbsp;easy&nbsp;to&nbsp;access&nbsp;the&nbsp;different&nbsp;variables&nbsp;and&nbsp;methods.&lt;br&gt;&lt;br&gt;For&nbsp;me&nbsp;I&nbsp;have&nbsp;a&nbsp;server&nbsp;and&nbsp;a&nbsp;client&nbsp;are&nbsp;in&nbsp;different&nbsp;files&nbsp;and&nbsp;different&nbsp;locations.&lt;br&gt;&lt;br&gt;I&nbsp;have&nbsp;a&nbsp;function&nbsp;that&nbsp;creates&nbsp;a&nbsp;server,&nbsp;and&nbsp;assigns&nbsp;a&nbsp;protocol&nbsp;and&nbsp;want,&nbsp;from&nbsp;the&nbsp;client&nbsp;protocol&nbsp;in&nbsp;another&nbsp;file,&nbsp;make&nbsp;an&nbsp;AMP&nbsp;call&nbsp;to&nbsp;a&nbsp;method&nbsp;for&nbsp;stop&nbsp;the&nbsp;connector.&lt;br&gt;&lt;br&gt;The&nbsp;call&nbsp;AMP&nbsp;calls&nbsp;the&nbsp;SendMsg&nbsp;command.&lt;br&gt;&lt;br&gt;&lt;i&gt;class&nbsp;TESTServer(protocol.Protocol):&lt;br&gt;&lt;br&gt; &nbsp; &nbsp;factory&nbsp;=&nbsp;None&lt;br&gt; &nbsp; &nbsp;sUsername&nbsp;=&nbsp;&quot;&quot;&lt;br&gt; &nbsp; &nbsp;credProto&nbsp;=&nbsp;None&lt;br&gt; &nbsp; &nbsp;bGSuser&nbsp;=&nbsp;None&lt;br&gt; &nbsp; &nbsp;slot&nbsp;=&nbsp;None&lt;br&gt;&quot;&quot;&quot;&lt;br&gt;Here&nbsp;was&nbsp;uninteresting&nbsp;code.&lt;br&gt;&quot;&quot;&quot;&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#&nbsp; &nbsp;upwards=self.bGSuser,&nbsp;forwarded=True,&nbsp;tx_timestamp=iTimestamp,\&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#&nbsp; &nbsp; message=sMsg)&lt;br&gt;&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp;log.msg(&quot;self.connector&quot;)&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp;log.msg(self.connector)&lt;br&gt;&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp;return&nbsp;{&#39;bResult&#39;:&nbsp;True}&lt;br&gt; &nbsp; &nbsp;SendMsg.responder(vSendMsg)&lt;br&gt;&lt;br&gt; &nbsp; &nbsp;def&nbsp;_testfunction(self):&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp;logger&nbsp;=&nbsp;logging.getLogger(&#39;server&#39;)&lt;br&gt;&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp;log.startLogging(sys.stdout)&lt;br&gt;&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp;pf&nbsp;=&nbsp;CredAMPServerFactory()&lt;br&gt;&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp;sslContext&nbsp;=&nbsp;ssl.DefaultOpenSSLContextFactory(&#39;key/server.pem&#39;,\&lt;br&gt; &nbsp; &nbsp; &#39;key/public.pem&#39;,)&lt;br&gt;&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp;self.connector&nbsp;=&nbsp;reactor.listenSSL(1234,&nbsp;pf,&nbsp;contextFactory&nbsp;=&nbsp;sslContext,)&lt;br&gt;&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp;log.msg(&#39;Server&nbsp;running...&#39;)&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp;reactor.run()&lt;br&gt;&lt;br&gt;if&nbsp;__name__&nbsp;==&nbsp;&#39;__main__&#39;:&lt;br&gt; &nbsp; &nbsp;TESTServer()._testfunction()&lt;br&gt;&lt;/i&gt;&lt;br&gt;The&nbsp;class&nbsp;CredAMPServerFactory&nbsp;assign&nbsp;the&nbsp;corresponding&nbsp;protocol.&lt;br&gt;&lt;br&gt;&lt;i&gt;class&nbsp;CredAMPServerFactory(ServerFactory):&lt;br&gt;&lt;br&gt; &nbsp; &nbsp;&quot;&quot;&quot;&lt;br&gt; &nbsp; &nbsp;Server&nbsp;factory&nbsp;useful&nbsp;for&nbsp;creating&nbsp;L{CredReceiver}&nbsp;and&nbsp;L{SATNETServer}&nbsp;instances.&lt;br&gt;&lt;br&gt; &nbsp; &nbsp;This&nbsp;factory&nbsp;takes&nbsp;care&nbsp;of&nbsp;associating&nbsp;a&nbsp;L{Portal}&nbsp;with&nbsp;the&nbsp;L{CredReceiver}&lt;br&gt; &nbsp; &nbsp;instances&nbsp;it&nbsp;creates.&nbsp;If&nbsp;the&nbsp;login&nbsp;is&nbsp;succesfully&nbsp;achieved,&nbsp;a&nbsp;L{SATNETServer}&lt;br&gt; &nbsp; &nbsp;instance&nbsp;is&nbsp;also&nbsp;created.&lt;br&gt; &nbsp; &nbsp;&quot;&quot;&quot;&lt;br&gt; &nbsp; &nbsp;protocol&nbsp;=&nbsp;CredReceiver&lt;/i&gt;&lt;br&gt;&lt;br&gt;In&nbsp;the&nbsp;&quot;CredReceiver&quot;&nbsp;class&nbsp;I&nbsp;have&nbsp;a&nbsp;call&nbsp;that&nbsp;assigns&nbsp;the&nbsp;protocol&nbsp;to&nbsp;the&nbsp;TestServer&nbsp;class.&nbsp;I&nbsp;do&nbsp;this&nbsp;to&nbsp;make&nbsp;calls&nbsp;using&nbsp;the&nbsp;AMP&nbsp;method&nbsp;&quot;Responder&quot;.&lt;br&gt;&lt;br&gt;&lt;i&gt; &nbsp; &nbsp; &nbsp; &nbsp;self.protocol&nbsp;=&nbsp;SATNETServer&lt;/i&gt;&lt;br&gt;&lt;br&gt;My&nbsp;problem&nbsp;is&nbsp;that&nbsp;when&nbsp;I&nbsp;make&nbsp;the&nbsp;call&nbsp;the&nbsp;program&nbsp;responds&nbsp;with&nbsp;an&nbsp;error&nbsp;indicating&nbsp;that&nbsp;the&nbsp;connector&nbsp;doesn&#39;t&nbsp;belong&nbsp;to&nbsp;CredReceiver&nbsp;attribute&nbsp;object.&lt;br&gt;&lt;br&gt;&lt;i&gt; &nbsp;File&nbsp;&quot;/home/sgongar/Dev/protocol/server_amp.py&quot;,&nbsp;line&nbsp;248,&nbsp;in&nbsp;vSendMsg&lt;br&gt; &nbsp; &nbsp;log.msg(self.connector)&lt;br&gt;exceptions.AttributeError:&nbsp;&#39;CredReceiver&#39;&nbsp;object&nbsp;has&nbsp;no&nbsp;attribute&nbsp;&#39;connector&#39;&lt;/i&gt;&lt;br&gt;&lt;br&gt;How&nbsp;could&nbsp;I&nbsp;do&nbsp;this?&nbsp;Does&nbsp;anyone&nbsp;know&nbsp;of&nbsp;a&nbsp;similar&nbsp;example&nbsp;of&nbsp;that&nbsp;may&nbsp;take&nbsp;note?&lt;br&gt;&lt;br&gt;Thank&nbsp;you.&lt;/div&gt;<br>

</tt>
