<tt>
Hello!&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;am&nbsp;very&nbsp;new&nbsp;to&nbsp;Twisted&nbsp;and&nbsp;I&nbsp;have&nbsp;some&nbsp;problems&nbsp;using&nbsp;stdin.StandardIO.&nbsp;Here&nbsp;is&nbsp;the&nbsp;code:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;#&nbsp;item.py&nbsp;file&lt;/div&gt;&lt;div&gt;&lt;div&gt;from&nbsp;twisted.internet&nbsp;import&nbsp;reactor,&nbsp;stdio&lt;/div&gt;<br>
&lt;div&gt;from&nbsp;twisted.protocols&nbsp;import&nbsp;basic&lt;/div&gt;&lt;div&gt;from&nbsp;storage&nbsp;import&nbsp;Item&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;class&nbsp;EchoItemProtocol(basic.LineReceiver):&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;delimiter&nbsp;=&nbsp;&amp;#39;\n&amp;#39;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;def&nbsp;lineReceived(self,&nbsp;item_id):&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp;  #&nbsp;Item.get&nbsp;returns&nbsp;a&nbsp;deferred&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;d&nbsp;= Item.get(item_id)&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;def&nbsp;writeResponse(item):&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;self.transport.write(str(item)&nbsp;+&nbsp;&amp;#39;\n&amp;#39;)&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;d.addCallback(writeResponse)&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;def&nbsp;main():&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;stdio.StandardIO(EchoItemProtocol())&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;reactor.run()&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;if&nbsp;__name__&nbsp;==&nbsp;&amp;#39;__main__&amp;#39;:&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;main()&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;div&gt;So,&nbsp;when&nbsp;I&nbsp;run&nbsp;the&nbsp;file&nbsp;it&nbsp;works:&lt;/div&gt;&lt;div&gt;&lt;div&gt;$&nbsp;./item.py&lt;/div&gt;&lt;div&gt;test_item_id&lt;/div&gt;&lt;div&gt;&amp;lt;storage.Item&nbsp;object&nbsp;at&nbsp;0x2b15910&amp;gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;want&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;redirect&nbsp;output&nbsp;of&nbsp;some&nbsp;process&nbsp;into&nbsp;my&nbsp;script.&nbsp;But&nbsp;this&nbsp;doesn&amp;#39;t&nbsp;work:&lt;/div&gt;<br>
&lt;div&gt;$&nbsp;echo&nbsp;test_item_id |&nbsp;./item.py&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;It&nbsp;doesn&amp;#39;t&nbsp;produce&nbsp;any&nbsp;output.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;But&nbsp;if&nbsp;i&nbsp;replace&nbsp;`self.transport.write(str(item)&nbsp;+&nbsp;&amp;#39;\n&amp;#39;)`&nbsp;with&nbsp;just&nbsp;`print str(item)`&nbsp;it&nbsp;suddenly&nbsp;works:&lt;/div&gt;<br>
&lt;div&gt;&lt;div&gt;$&nbsp;echo&nbsp;test_item_id&nbsp;|&nbsp;./item.py&lt;/div&gt;&lt;div&gt;&amp;lt;storage.Item&nbsp;object&nbsp;at&nbsp;0x18ac650&amp;gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;So&nbsp;my&nbsp;conclusions&nbsp;are:&lt;/div&gt;&lt;div&gt;1.&nbsp;When&nbsp;I&nbsp;write&nbsp;to&nbsp;stdin&nbsp;of&nbsp;my&nbsp;script&nbsp;from&nbsp;keyboard&nbsp;then&nbsp;`self.transport.write()`&nbsp;works&nbsp;as&nbsp;expected.&lt;/div&gt;<br>
&lt;div&gt;2.&nbsp;When&nbsp;I&nbsp;use&nbsp;pipes&nbsp;or&nbsp;redirection&nbsp;to&nbsp;my&nbsp;script&nbsp;`self.transport.write()`&nbsp;doesn&amp;#39;t&nbsp;produce&nbsp;any&nbsp;output.&lt;/div&gt;&lt;div&gt;3.&nbsp;If&nbsp;I&nbsp;replace self.transport.write()&nbsp;with&nbsp;print&nbsp;statements&nbsp;it&nbsp;works.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Why&nbsp;is&nbsp;this&nbsp;strange&nbsp;behavior?&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;with&nbsp;regards,&lt;br&gt;Maxim&lt;br&gt;<br>
&lt;/div&gt;<br>

</tt>
