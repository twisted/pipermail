<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Hi&nbsp;All,&lt;/div&gt;<br>
&lt;div&gt;I&amp;#39;m&nbsp;trying&nbsp;to&nbsp;pick&nbsp;up&nbsp;Twisted&nbsp;and&nbsp;I&amp;#39;m&nbsp;having&nbsp;trouble&nbsp;with&nbsp;looping.&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;div&gt;I&nbsp;expected&nbsp;that&nbsp;a&nbsp;Deferred&nbsp;returned&nbsp;from&nbsp;a&nbsp;looping&nbsp;call&nbsp;would&nbsp;be&nbsp;available&nbsp;after&nbsp;each&nbsp;call.&amp;nbsp;&nbsp;But&nbsp;it&amp;#39;s&nbsp;only&nbsp;available&nbsp;after&nbsp;the&nbsp;loop&nbsp;is&nbsp;stopped.&amp;nbsp;&nbsp;Am&nbsp;I&nbsp;looking&nbsp;for&nbsp;a&nbsp;different&nbsp;class?&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;div&gt;Thanks,&lt;/div&gt;<br>
&lt;div&gt;Dave&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;div&gt;p.s.&amp;nbsp;&nbsp;Ultimately&nbsp;I&amp;#39;d&nbsp;like&nbsp;to&nbsp;watch&nbsp;a&nbsp;file&nbsp;and&nbsp;post&nbsp;any&nbsp;new&nbsp;lines&nbsp;up&nbsp;to&nbsp;an&nbsp;HTTP&nbsp;server.&amp;nbsp;&nbsp;If&nbsp;there&nbsp;is&nbsp;a&nbsp;direct&nbsp;way&nbsp;to&nbsp;get&nbsp;there,&nbsp;please&nbsp;let&nbsp;me&nbsp;know.&amp;nbsp;&nbsp;Thanks!&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,monospace&quot;&gt;from&nbsp;twisted.internet&nbsp;import&nbsp;task,&nbsp;defer&lt;br&gt;from&nbsp;twisted.internet&nbsp;import&nbsp;reactor&lt;br&gt;import&nbsp;sys&lt;/font&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,monospace&quot;&gt;import&nbsp;time&lt;/font&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,monospace&quot;&gt;&lt;/font&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,monospace&quot;&gt;def&nbsp;check_file_p(fp):&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;time.sleep(2)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;#print&nbsp;fp&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;sys.stdout.write(&amp;#39;starting&nbsp;check...\n&amp;#39;)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;fp.seek(fp.tell())&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;list&nbsp;=&nbsp;[]&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;for&nbsp;line&nbsp;in&nbsp;fp.readlines():&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;#sys.stdout.write(line)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;list.append(line)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;str_list&nbsp;=&nbsp;str(list)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;d&nbsp;=&nbsp;defer.Deferred()&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;#print&nbsp;str_list&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;d.callback(str_list)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;print&nbsp;d&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;d&lt;/font&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,monospace&quot;&gt;def&nbsp;print_list(string):&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;print&nbsp;&amp;#39;calling&nbsp;string&nbsp;list...&amp;#39;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;sys.stdout.write(&amp;#39;string:&nbsp;&amp;#39;&nbsp;+&nbsp;string)&lt;/font&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,monospace&quot;&gt;&lt;/font&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,monospace&quot;&gt;fn&nbsp;=&nbsp;r&amp;quot;C:\var\twisted.txt&amp;quot;&lt;br&gt;f&nbsp;=&nbsp;open(fn,&nbsp;&amp;#39;r&amp;#39;)&lt;/font&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,monospace&quot;&gt;#l&nbsp;=&nbsp;task.LoopingCall(runEverySecond)&lt;/font&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,monospace&quot;&gt;&amp;quot;&amp;quot;&amp;quot;&lt;br&gt;didn&amp;#39;t&nbsp;work&lt;br&gt;l&nbsp;=&nbsp;task.LoopingCall(check_file_p,&nbsp;f)&lt;br&gt;d&nbsp;=&nbsp;l.start(5.0,&nbsp;False)&nbsp;#&nbsp;call&nbsp;every&nbsp;x&nbsp;seconds&lt;br&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/font&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,monospace&quot;&gt;d&nbsp;=&nbsp;task.deferLater(reactor,&nbsp;3.5,&nbsp;check_file_p,&nbsp;f)&lt;/font&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,monospace&quot;&gt;print&nbsp;d&lt;br&gt;d.addCallback(print_list)&lt;br&gt;print&nbsp;d&lt;/font&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,monospace&quot;&gt;print&nbsp;&amp;#39;starting&nbsp;reactor&amp;#39;&lt;br&gt;#l.stop()&nbsp;#will&nbsp;stop&nbsp;the&nbsp;looping&nbsp;calls&lt;/font&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,monospace&quot;&gt;reactor.run()&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
