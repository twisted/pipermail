<tt>
&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;5/3/06,&nbsp;&lt;b&nbsp;class=&quot;gmail_sendername&quot;&gt;Olly&nbsp;Betts&lt;/b&gt;&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:olly@survex.com&quot;&gt;olly@survex.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;/span&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
On&nbsp;Tue,&nbsp;May&nbsp;02,&nbsp;2006&nbsp;at&nbsp;11:25:25PM&nbsp;-0400,&nbsp;jarrod&nbsp;roberson&nbsp;wrote:&lt;br&gt;&gt;&nbsp;xapian&nbsp;and&nbsp;xapian&nbsp;bindings&nbsp;0.9.2&nbsp;svn&nbsp;6532&lt;br&gt;&lt;br&gt;That's&nbsp;rather&nbsp;old&nbsp;-&nbsp;is&nbsp;this&nbsp;reproducible&nbsp;with&nbsp;0.9.5?&lt;br&gt;&lt;br&gt;&gt;&nbsp;It&nbsp;leaves&nbsp;the&nbsp;db_lock&nbsp;file&nbsp;everytime&nbsp;and&nbsp;I&nbsp;don't&nbsp;know&nbsp;what&nbsp;else&nbsp;it&nbsp;might&nbsp;not<br>
&lt;br&gt;&gt;&nbsp;be&nbsp;cleaning&nbsp;up&nbsp;correctly&nbsp;either.&lt;br&gt;&lt;br&gt;The&nbsp;db_lock&nbsp;file&nbsp;gets&nbsp;deleted&nbsp;when&nbsp;the&nbsp;C++&nbsp;WritableDatabase&nbsp;destructor&lt;br&gt;is&nbsp;called.&nbsp;&nbsp;So&nbsp;if&nbsp;it's&nbsp;not&nbsp;deleted,&nbsp;then&nbsp;the&nbsp;destructor&nbsp;isn't&nbsp;being&lt;br&gt;called.&lt;br&gt;&lt;br&gt;If&nbsp;you&nbsp;can&nbsp;reproduce&nbsp;with&nbsp;the&nbsp;latest&nbsp;release&nbsp;in&nbsp;a&nbsp;simple&nbsp;example<br>
&lt;br&gt;(ideally&nbsp;without&nbsp;twisted&nbsp;being&nbsp;involved),&nbsp;I&nbsp;can&nbsp;try&nbsp;to&nbsp;investigate.&lt;br&gt;&lt;br&gt;Cheers,&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;Olly&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;yes,&nbsp;just&nbsp;upgraded&nbsp;and&nbsp;it&nbsp;does&nbsp;the&nbsp;same&nbsp;thing&nbsp;with&nbsp;0.9.5&lt;br&gt;&lt;br&gt;the&nbsp;problem&nbsp;is&nbsp;I&nbsp;can't&nbsp;reproduce&nbsp;it&nbsp;outside&nbsp;of&nbsp;Twisted.<br>
&lt;br&gt;&lt;br&gt;all&nbsp;my&nbsp;command&nbsp;line&nbsp;tools&nbsp;that&nbsp;I&nbsp;have&nbsp;written&nbsp;(&nbsp;all&nbsp;in&nbsp;Python&nbsp;)&nbsp;that&nbsp;use&nbsp;the&nbsp;exact&nbsp;same&nbsp;code&nbsp;exit&nbsp;and&nbsp;close&nbsp;properly.&lt;br&gt;&lt;br&gt;&lt;br&gt;<br>

</tt>
