<tt>
Hello&nbsp;everybody,&lt;br&gt;I&amp;#39;m&nbsp;running&nbsp;Twisted&nbsp;2.5&nbsp;on&nbsp;32-bit&nbsp;Ubuntu&nbsp;Linux&nbsp;(tested&nbsp;with&nbsp;both&nbsp;Feisty&nbsp;and&nbsp;Gutsy)&nbsp;and&nbsp;python2.5.&nbsp;All&nbsp;packages&nbsp;are&nbsp;the&nbsp;distro&amp;#39;s&nbsp;own&nbsp;ones.&lt;br&gt;&lt;br&gt;I&amp;#39;m&nbsp;experiencing&nbsp;a&nbsp;small&nbsp;problem&nbsp;with&nbsp;the&nbsp;broker&amp;#39;s&nbsp;connectionReady&nbsp;method&nbsp;on&nbsp;the&nbsp;server&nbsp;side&nbsp;of&nbsp;the&nbsp;PB&nbsp;connection.&nbsp;It&amp;#39;s&nbsp;not&nbsp;huge&nbsp;and&nbsp;doesn&amp;#39;t&nbsp;cause&nbsp;problems&nbsp;in&nbsp;real-world&nbsp;applications,&nbsp;but&nbsp;it&amp;#39;s&nbsp;making&nbsp;more&nbsp;difficult&nbsp;for&nbsp;me&nbsp;to&nbsp;write&nbsp;a&nbsp;proper&nbsp;unit&nbsp;test.<br>
&lt;br&gt;&lt;br&gt;&amp;nbsp;According&nbsp;to&nbsp;the&nbsp;docs,&nbsp;connectionReady&nbsp;is&nbsp;called&nbsp;as&nbsp;soon&nbsp;as&nbsp;Banana&nbsp;negotiation&nbsp;is&nbsp;done.&nbsp;This&nbsp;is&nbsp;true&nbsp;on&nbsp;the&nbsp;client&nbsp;side;&nbsp;connectionReady&nbsp;gets&nbsp;called&nbsp;before&nbsp;the&nbsp;client&nbsp;can&nbsp;get&nbsp;the&nbsp;root&nbsp;object&nbsp;from&nbsp;the&nbsp;server.&lt;br&gt;&lt;br&gt;<br>
But&nbsp;this&nbsp;is&nbsp;not&nbsp;true&nbsp;on&nbsp;the&nbsp;server&nbsp;side;&nbsp;as&nbsp;you&nbsp;can&nbsp;see&nbsp;from&nbsp;the&nbsp;printout&nbsp;of&nbsp;the&nbsp;attached&nbsp;file,&nbsp;the&nbsp;client&nbsp;says&nbsp;it&nbsp;already&nbsp;has&nbsp;got&nbsp;the&nbsp;server&amp;#39;s&nbsp;root&nbsp;object&nbsp;but&nbsp;the&nbsp;connectionready&nbsp;hasn&amp;#39;t&nbsp;been&nbsp;called&nbsp;on&nbsp;the&nbsp;server&nbsp;yet.<br>
&lt;br&gt;&lt;br&gt;In&nbsp;order&nbsp;to&nbsp;be&nbsp;sure&nbsp;connectionReady&nbsp;has&nbsp;been&nbsp;called&nbsp;on&nbsp;the&nbsp;server&nbsp;side,&nbsp;I&nbsp;must&nbsp;trigger&nbsp;an&nbsp;additional&nbsp;callRemote.&lt;br&gt;&lt;br&gt;I&nbsp;suppose&nbsp;there&amp;#39;s&nbsp;some&nbsp;sort&nbsp;of&nbsp;caching&nbsp;or&nbsp;lazy&nbsp;behaviour&nbsp;implied&nbsp;here.&nbsp;Did&nbsp;I&nbsp;do&nbsp;something&nbsp;wrong?&nbsp;How&nbsp;can&nbsp;I&nbsp;force&nbsp;connectionReady&nbsp;to&nbsp;be&nbsp;called&nbsp;on&nbsp;the&nbsp;server&nbsp;side&nbsp;*before*&nbsp;the&nbsp;client&nbsp;can&nbsp;actually&nbsp;fetch&nbsp;the&nbsp;root&nbsp;object&amp;#39;s&nbsp;remotereference?<br>
&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;br&gt;Thanks.&lt;br&gt;&lt;br&gt;--&nbsp;&lt;br&gt;Alan&nbsp;Franzoni&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:alan.franzoni.xyz@gmail.com&quot;&gt;alan.franzoni.xyz@gmail.com&lt;/a&gt;&amp;gt;&lt;br&gt;-&lt;br&gt;Togli&nbsp;.xyz&nbsp;dalla&nbsp;mia&nbsp;email&nbsp;per&nbsp;contattarmi.&lt;br&gt;Remove&nbsp;.xyz&nbsp;from&nbsp;my&nbsp;address&nbsp;in&nbsp;order&nbsp;to&nbsp;contact&nbsp;me.<br>
&lt;br&gt;-&lt;br&gt;GPG&nbsp;Key&nbsp;Fingerprint&nbsp;(Key&nbsp;ID&nbsp;=&nbsp;FE068F3E):&lt;br&gt;5C77&nbsp;9DC3&nbsp;BD5B&nbsp;3A28&nbsp;E7BC&nbsp;921A&nbsp;0255&nbsp;42AA&nbsp;FE06&nbsp;8F3E<br>

</tt>
