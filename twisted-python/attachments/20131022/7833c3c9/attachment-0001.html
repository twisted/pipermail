<tt>
&lt;html&gt;&lt;head&gt;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html&nbsp;charset=utf-8&quot;&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;&lt;div&gt;&lt;div&gt;On&nbsp;21&nbsp;Οκτ&nbsp;2013,&nbsp;at&nbsp;10:32&nbsp;μ.μ.,&nbsp;Glyph&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:glyph@twistedmatrix.com&quot;&gt;glyph@twistedmatrix.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;br&gt;On&nbsp;Oct&nbsp;20,&nbsp;2013,&nbsp;at&nbsp;2:21&nbsp;AM,&nbsp;Orestis&nbsp;Markou&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:orestis@orestis.gr&quot;&gt;orestis@orestis.gr&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;Hello,&lt;br&gt;&lt;br&gt;Short&nbsp;form&nbsp;of&nbsp;the&nbsp;question:&lt;br&gt;&lt;br&gt;Are&nbsp;people&nbsp;using&nbsp;Twisted&nbsp;to&nbsp;host&nbsp;WSGI&nbsp;applications&nbsp;AND&nbsp;serve&nbsp;static&nbsp;files&nbsp;AND&nbsp;replace&nbsp;celery/redis/other?&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;I'm&nbsp;not&nbsp;personally&nbsp;using&nbsp;it&nbsp;as&nbsp;a&nbsp;WSGI&nbsp;host,&nbsp;but&nbsp;otherwise,&nbsp;yes,&nbsp;a&nbsp;full-stack&nbsp;application&nbsp;container&nbsp;speaking&nbsp;multiple&nbsp;protocols.&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Any&nbsp;pointers&nbsp;on&nbsp;how&nbsp;to&nbsp;best&nbsp;use&nbsp;this&nbsp;in&nbsp;combination&nbsp;with&nbsp;WSGI/Django?&nbsp;In&nbsp;the&nbsp;past&nbsp;I&nbsp;had&nbsp;a&nbsp;combination&nbsp;of&nbsp;twisted-web&nbsp;(for&nbsp;/static&nbsp;and&nbsp;/media)&nbsp;and&nbsp;wsgi&nbsp;host&nbsp;(for&nbsp;everything&nbsp;else),&nbsp;all&nbsp;running&nbsp;under&nbsp;the&nbsp;same&nbsp;Service.&nbsp;Essentially:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;Courier&quot;&gt;os.environ['DJANGO_SETTINGS_MODULE']&nbsp;=&nbsp;'myproject.settings'&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;Courier&quot;&gt;application&nbsp;=&nbsp;django.core.handlers.wsgi.WSGIHandler()&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;Courier&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;Courier&quot;&gt;wsgi_resource&nbsp;=&nbsp;WSGIResource(reactor,&nbsp;reactor.getThreadPool(),&nbsp;application)&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;Courier&quot;&gt;resource&nbsp;=&nbsp;Root(wsgi_resource)&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;Courier&quot;&gt;#&nbsp;this&nbsp;could&nbsp;probably&nbsp;be&nbsp;automatically&nbsp;inferred&nbsp;from&nbsp;settings.py&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;Courier&quot;&gt;&lt;div&gt;resource.putChild('static',&nbsp;File(...))&lt;/div&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;Courier&quot;&gt;resource.putChild('uploaded',&nbsp;File(...))&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;Courier&quot;&gt;#&nbsp;other&nbsp;stuff&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;Courier&quot;&gt;&lt;div&gt;site&nbsp;=&nbsp;server.Site(resource)&lt;/div&gt;&lt;div&gt;reactor.listenTCP(8000,&nbsp;site)&lt;/div&gt;&lt;div&gt;reactor.run()&lt;/div&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;Are&nbsp;there&nbsp;any&nbsp;inherent&nbsp;drawbacks&nbsp;in&nbsp;using&nbsp;Twisted&nbsp;for&nbsp;this&nbsp;use&nbsp;case?&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;Nope.&nbsp;&nbsp;Twisted&nbsp;is&nbsp;the&nbsp;best&nbsp;:-).&lt;br&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;Long&nbsp;form&nbsp;of&nbsp;the&nbsp;question:&lt;br&gt;&lt;br&gt;These&nbsp;days&nbsp;to&nbsp;get&nbsp;a&nbsp;reasonably&nbsp;feature-full&nbsp;python&nbsp;web&nbsp;stack&nbsp;deployed&nbsp;you&nbsp;need&nbsp;to&nbsp;have&nbsp;a&nbsp;lot&nbsp;of&nbsp;3rd-party&nbsp;libraries.&lt;br&gt;&lt;br&gt;The&nbsp;bare&nbsp;minimum&nbsp;looks&nbsp;probably&nbsp;like&nbsp;so:&lt;br&gt;&lt;br&gt;1.&nbsp;Your&nbsp;web-framework&nbsp;of&nbsp;choice,&nbsp;like&nbsp;Django&lt;br&gt;2.&nbsp;Some&nbsp;kind&nbsp;of&nbsp;WSGI&nbsp;container,&nbsp;like&nbsp;gunicorn&lt;br&gt;3.&nbsp;A&nbsp;static&nbsp;file&nbsp;server,&nbsp;like&nbsp;nginx&lt;br&gt;4.&nbsp;Some&nbsp;kind&nbsp;of&nbsp;database&nbsp;[off-topic&nbsp;for&nbsp;this&nbsp;message]&lt;br&gt;&lt;br&gt;Additionally,&nbsp;you&nbsp;might&nbsp;want:&lt;br&gt;&lt;br&gt;*&nbsp;Celery&lt;br&gt;*&nbsp;Redis&lt;br&gt;*&nbsp;Cron&lt;br&gt;*&nbsp;Something&nbsp;for&nbsp;web&nbsp;sockets&nbsp;or&nbsp;similar&nbsp;technology&lt;br&gt;*&nbsp;…&nbsp;and&nbsp;so&nbsp;on&lt;br&gt;&lt;br&gt;In&nbsp;my&nbsp;experience,&nbsp;Twisted&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;replace&nbsp;a&nbsp;lot&nbsp;of&nbsp;those&nbsp;use&nbsp;cases:&lt;br&gt;&lt;br&gt;*&nbsp;It&nbsp;has&nbsp;a&nbsp;WSGI&nbsp;container&lt;br&gt;*&nbsp;It&nbsp;has&nbsp;a&nbsp;static&nbsp;web&nbsp;server&lt;br&gt;*&nbsp;It&nbsp;can&nbsp;be&nbsp;used&nbsp;for&nbsp;other&nbsp;long-running&nbsp;tasks&nbsp;&lt;br&gt;&lt;br&gt;I'd&nbsp;like&nbsp;to&nbsp;know&nbsp;if&nbsp;there&nbsp;is&nbsp;some&nbsp;kind&nbsp;of&nbsp;inherent&nbsp;drawback&nbsp;of&nbsp;using&nbsp;Twisted&nbsp;to&nbsp;fill&nbsp;those&nbsp;areas.&nbsp;My&nbsp;use&nbsp;case&nbsp;deals&nbsp;with&nbsp;many&nbsp;small&nbsp;intranet-like&nbsp;deployments&nbsp;of&nbsp;web&nbsp;applications,&nbsp;and&nbsp;I'd&nbsp;like&nbsp;to&nbsp;streamline&nbsp;the&nbsp;stack&nbsp;as&nbsp;much&nbsp;as&nbsp;possible.&nbsp;I&nbsp;believe&nbsp;that&nbsp;with&nbsp;the&nbsp;newly-released&nbsp;Crochet&nbsp;someone&nbsp;could&nbsp;even&nbsp;write&nbsp;a&nbsp;Django&nbsp;extension&nbsp;to&nbsp;replace&nbsp;`runserver`&nbsp;with&nbsp;something&nbsp;more&nbsp;production-oriented.&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;If&nbsp;you&nbsp;hit&nbsp;any&nbsp;problems,&nbsp;they're&nbsp;bugs,&nbsp;report&nbsp;them&nbsp;and&nbsp;they'll&nbsp;get&nbsp;fixed.&lt;br&gt;&lt;br&gt;Please&nbsp;do&nbsp;this.&nbsp;&nbsp;I&nbsp;even&nbsp;gave&nbsp;a&nbsp;talk&nbsp;about&nbsp;this&nbsp;at&nbsp;DjangoCon&nbsp;a&nbsp;couple&nbsp;of&nbsp;years&nbsp;ago:&lt;br&gt;&lt;br&gt;&lt;&lt;a&nbsp;href=&quot;http://blip.tv/djangocon/keynote-glyph-lefkowitz-5573264&quot;&gt;http://blip.tv/djangocon/keynote-glyph-lefkowitz-5573264&lt;/a&gt;&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;That&nbsp;was&nbsp;interesting&nbsp;to&nbsp;watch&nbsp;-&nbsp;I&nbsp;wonder&nbsp;if&nbsp;you&nbsp;know&nbsp;whether&nbsp;things&nbsp;have&nbsp;been&nbsp;improved&nbsp;since&nbsp;then.&nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Here's&nbsp;a&nbsp;thought&nbsp;experiment&nbsp;-&nbsp;I'd&nbsp;like&nbsp;to&nbsp;keep&nbsp;URL&nbsp;routing&nbsp;100%&nbsp;in&nbsp;Django&nbsp;for&nbsp;anything&nbsp;that&nbsp;hits&nbsp;the&nbsp;DB.&nbsp;I&nbsp;have&nbsp;some&nbsp;code&nbsp;that&nbsp;needs&nbsp;to&nbsp;spawn&nbsp;an&nbsp;external&nbsp;process&nbsp;to&nbsp;generate&nbsp;an&nbsp;image&nbsp;on-demand&nbsp;(with&nbsp;a&nbsp;layer&nbsp;of&nbsp;caching&nbsp;on&nbsp;top).&nbsp;In&nbsp;the&nbsp;past&nbsp;I&nbsp;defined&nbsp;a&nbsp;Twisted.Web&nbsp;handler&nbsp;for&nbsp;that.&nbsp;Could&nbsp;I&nbsp;now&nbsp;expose&nbsp;an&nbsp;internal&nbsp;API&nbsp;that&nbsp;(through&nbsp;Crochet?)&nbsp;do&nbsp;the&nbsp;spawnProcess&nbsp;dance&nbsp;and&nbsp;come&nbsp;back&nbsp;with&nbsp;image&nbsp;data&nbsp;that&nbsp;Django&nbsp;could&nbsp;then&nbsp;handle&nbsp;internally&nbsp;(store&nbsp;in&nbsp;a&nbsp;file,&nbsp;whatever).&nbsp;How&nbsp;would&nbsp;the&nbsp;threaded&nbsp;WSGI&nbsp;container&nbsp;deal&nbsp;with&nbsp;the&nbsp;blocking&nbsp;request&nbsp;(not&nbsp;really&nbsp;blocking,&nbsp;but&nbsp;that&nbsp;request&nbsp;would&nbsp;stall&nbsp;until&nbsp;the&nbsp;Deferred&nbsp;would&nbsp;be&nbsp;fired).&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;-glyph&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;_______________________________________________&lt;br&gt;Twisted-Python&nbsp;mailing&nbsp;list&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:Twisted-Python@twistedmatrix.com&quot;&gt;Twisted-Python@twistedmatrix.com&lt;/a&gt;&lt;br&gt;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
