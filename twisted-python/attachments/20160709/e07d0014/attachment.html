<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Thanks&nbsp;for&nbsp;fixing&nbsp;this. &lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Did&nbsp;anyone&nbsp;actually&nbsp;manage&nbsp;to&nbsp;make&nbsp;HTTP2&nbsp;in&nbsp;Twisted&nbsp;work&nbsp;with&nbsp;Google-Chrome?&nbsp;I&nbsp;tried&nbsp;to&nbsp;do&nbsp;this&nbsp;today,&nbsp;and&nbsp;it&nbsp;seems&nbsp;this&nbsp;is&nbsp;surprisingly&nbsp;difficult.&nbsp;It&nbsp;turns&nbsp;out&nbsp;that&nbsp;Chrome&nbsp;requires&nbsp;ALPN&nbsp;and&nbsp;it&nbsp;dropped&nbsp;support&nbsp;for&nbsp;NPN.&nbsp;ALPN&nbsp;is&nbsp;only&nbsp;supported&nbsp;with&nbsp;OpenSSL&nbsp;1.0.2&nbsp;or&nbsp;above,&nbsp;which&nbsp;by&nbsp;default&nbsp;is&nbsp;not&nbsp;available&nbsp;in&nbsp;most&nbsp;systems.&nbsp;This&nbsp;is&nbsp;&lt;a&nbsp;href=&quot;https://www.nginx.com/blog/supporting-http2-google-chrome-users/&quot;&gt;discussed&nbsp;here&lt;/a&gt;.&nbsp;I&nbsp;tried&nbsp;setting&nbsp;up&nbsp;docker&nbsp;image&nbsp;with&nbsp;Ubuntu&nbsp;16.04&nbsp;that&nbsp;has&nbsp;required&nbsp;version&nbsp;of&nbsp;OpenSSL,&nbsp;but&nbsp;it&nbsp;seems&nbsp;that&nbsp;Chrome&nbsp;still&nbsp;doesn&#39;t&nbsp;like&nbsp;it.&nbsp;It&nbsp;returns ERR_SPDY_INADEQUATE_TRANSPORT_SECURITY&nbsp;error&nbsp;and&nbsp;fails&nbsp;to&nbsp;load&nbsp;page.&nbsp;Looking&nbsp;up&nbsp;this&nbsp;error&nbsp;I&nbsp;found&nbsp;out&nbsp;this&nbsp;might&nbsp;be&nbsp;happening&nbsp;because&nbsp;some&nbsp;TSL&nbsp;ciphers&nbsp;are&nbsp;blacklisted&nbsp;in&nbsp;HTTP2,&nbsp;there&nbsp;is&nbsp;nice&nbsp;answer&nbsp;&lt;a&nbsp;href=&quot;https://serverfault.com/questions/712808/chrome-reports-err-spdy-inadequate-transport-security-connecting-to-local-web-se/712838#712838&quot;&gt;about&nbsp;this&nbsp;here&lt;/a&gt; it&nbsp;links&nbsp;to&nbsp;this&nbsp;part&nbsp;of&nbsp;HTTP2&nbsp;spec &lt;a&nbsp;href=&quot;https://http2.github.io/http2-spec/#rfc.section.9.2.2&quot;&gt;https://http2.github.io/http2-spec/#rfc.section.9.2.2&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;My&nbsp;question&nbsp;is:&nbsp;should&nbsp;user&nbsp;deal&nbsp;with&nbsp;this&nbsp;kind&nbsp;of&nbsp;stuff&nbsp;themselves?&nbsp;If&nbsp;some&nbsp;ciphers&nbsp;are&nbsp;blacklisted&nbsp;in&nbsp;HTTP2&nbsp;shouldn&#39;t&nbsp;this&nbsp;be&nbsp;handled&nbsp;somewhere&nbsp;in&nbsp;Twisted?&nbsp;E.g.&nbsp;perhaps&nbsp;there&nbsp;should&nbsp;be&nbsp;some&nbsp;Http2SSLContextFactory?&nbsp;If&nbsp;you&#39;d&nbsp;like&nbsp;to&nbsp;reproduce&nbsp;this&nbsp;I&nbsp;did&nbsp;some&nbsp;sample&nbsp;repo&nbsp;here: &lt;a&nbsp;href=&quot;https://github.com/pawelmhm/sf-books-http2&quot;&gt;https://github.com/pawelmhm/sf-books-http2&lt;/a&gt;&nbsp;it&nbsp;contains&nbsp;dockerfile&nbsp;that&nbsp;builds&nbsp;from&nbsp;Ubuntu&nbsp;16.04&nbsp;and&nbsp;runs&nbsp;simple&nbsp;Twisted&nbsp;HTTP&nbsp;2&nbsp;resource. &lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2016-07-04&nbsp;13:48&nbsp;GMT+02:00&nbsp;Craig&nbsp;Rodrigues&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:rodrigc@crodrigues.org&quot;&nbsp;target=&quot;_blank&quot;&gt;rodrigc@crodrigues.org&lt;/a&gt;&gt;&lt;/span&gt;:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;span&nbsp;class=&quot;&quot;&gt;On&nbsp;Sun,&nbsp;Jul&nbsp;3,&nbsp;2016&nbsp;at&nbsp;3:15&nbsp;AM,&nbsp;Paweł&nbsp;Miech&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:pawelmhm@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;pawelmhm@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-style:solid;border-left-color:rgb(204,204,204);padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;HTTP2&nbsp;support&nbsp;sounds&nbsp;really&nbsp;exciting. &lt;/div&gt;&lt;span&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;&gt;&nbsp;Please&nbsp;let&nbsp;me&nbsp;know&nbsp;if&nbsp;you&nbsp;have&nbsp;any&nbsp;issues,&nbsp;as&nbsp;well&nbsp;as&nbsp;if&nbsp;you&nbsp;don&#39;t!&nbsp;If&nbsp;everything&nbsp;works&nbsp;well,&nbsp;that&#39;s&nbsp;a&nbsp;good&nbsp;thing&nbsp;for&nbsp;me&nbsp;to&nbsp;know&nbsp;:)&lt;/span&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;/span&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;I&nbsp;played&nbsp;around&nbsp;with&nbsp;this&nbsp;today&nbsp;and&nbsp;found&nbsp;out&nbsp;that&nbsp;the&nbsp;command&nbsp;you&nbsp;recommend:&lt;/span&gt;&lt;/div&gt;&lt;span&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;&gt; &lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt; pip&nbsp;install&nbsp;-U &lt;/span&gt;&lt;a&nbsp;href=&quot;https://twistedmatrix.com/Releases/pre/16.3.0pre2/Twisted-16.3.0rc2.tar.bz2#egg=Twisted[http2,tls]&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;style=&quot;font-size:12.8px&quot;&nbsp;target=&quot;_blank&quot;&gt;https://twistedmatrix.com/&lt;span&gt;Releases&lt;/span&gt;/pre/16.3.0pre2/Twisted-16.3.0rc2.tar.bz2#egg=Twisted[http2,tls]&lt;/a&gt;&lt;/div&gt;&lt;br&nbsp;style=&quot;font-size:12.8px&quot;&gt;&lt;/span&gt;&lt;div&gt;does&nbsp;NOT&nbsp;install&nbsp;dependencies&nbsp;when&nbsp;ran&nbsp;on&nbsp;Python&nbsp;3,&nbsp;I&nbsp;had&nbsp;to&nbsp;manually&nbsp;install&nbsp;h2&nbsp;to&nbsp;HTTP2&nbsp;support&nbsp;to&nbsp;work.&nbsp;It&nbsp;works&nbsp;ok&nbsp;on&nbsp;Python&nbsp;2.&nbsp;My&nbsp;installation&nbsp;logs&nbsp;on&nbsp;Python&nbsp;3.4&nbsp;look&nbsp;like&nbsp;this:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/span&gt;&lt;div&gt;I&nbsp;think&nbsp;I&#39;ve&nbsp;fixed&nbsp;that&nbsp;in&nbsp;trunk&nbsp;with&nbsp;this:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;https://github.com/twisted/twisted/pull/287&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/twisted/twisted/pull/287&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;--&lt;/div&gt;&lt;div&gt;Craig &lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;br&gt;_______________________________________________&lt;br&gt;<br>
Twisted-Python&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Twisted-Python@twistedmatrix.com&quot;&gt;Twisted-Python@twistedmatrix.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
