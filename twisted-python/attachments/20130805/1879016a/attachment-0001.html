<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;In&nbsp;a&nbsp;trial&nbsp;test&nbsp;case&nbsp;like&nbsp;this:&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;-----------------------------------------------------------------------------------------------------------------------&lt;/div&gt;&lt;div&gt;&lt;i&gt;def&nbsp;testFailureFromDeferredList(self):&lt;/i&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;i&gt; &nbsp; &nbsp;d&nbsp;=&nbsp;defer.fail(ValueError(&#39;bad&nbsp;value&#39;))&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; &nbsp; &nbsp;return&nbsp;self.assertFailure(defer.gatherResults([d]),&nbsp;ValueError)&lt;/i&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;-----------------------------------------------------------------------------------------------------------------------&lt;br&gt;<br>
<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;get&nbsp;the&nbsp;following&nbsp;FAIL&nbsp;and&nbsp;ERROR:&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-----------------------------------------------------------------------------------------------------------------------&lt;br&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;i&gt;[FAIL]&lt;br&gt;&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;Traceback&nbsp;(most&nbsp;recent&nbsp;call&nbsp;last):&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; &nbsp;File&nbsp;&quot;/home/gjorge/tmp/&lt;a&nbsp;href=&quot;http://buildbot.net/python_sandbox/local/lib/python2.7/site-packages/twisted/trial/_asynctest.py&quot;&gt;buildbot.net/python_sandbox/local/lib/python2.7/site-packages/twisted/trial/_asynctest.py&lt;/a&gt;&quot;,&nbsp;line&nbsp;74,&nbsp;in&nbsp;_eb&lt;/i&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;i&gt; &nbsp; &nbsp;raise&nbsp;self.failureException(output)&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;twisted.trial.unittest.FailTest: &lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;Expected:&nbsp;(&lt;type&nbsp;&#39;exceptions.ValueError&#39;&gt;,)&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;Got:&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;[Failure&nbsp;instance:&nbsp;Traceback&nbsp;(failure&nbsp;with&nbsp;no&nbsp;frames):&nbsp;&lt;class&nbsp;&#39;twisted.internet.defer.FirstError&#39;&gt;:&nbsp;FirstError[#0,&nbsp;[Failure&nbsp;instance:&nbsp;Traceback&nbsp;(failure&nbsp;with&nbsp;no&nbsp;frames):&nbsp;&lt;type&nbsp;&#39;exceptions.ValueError&#39;&gt;:&nbsp;bad&nbsp;value&lt;/i&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;i&gt;]]&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;]&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;&lt;br&gt;&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;===============================================================================&lt;br&gt;&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;[ERROR]&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;Traceback&nbsp;(most&nbsp;recent&nbsp;call&nbsp;last):&lt;/i&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;i&gt;Failure:&nbsp;exceptions.ValueError:&nbsp;bad&nbsp;value&lt;/i&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;-----------------------------------------------------------------------------------------------------------------------&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;I&nbsp;try&nbsp;to&nbsp;remedy&nbsp;this&nbsp;by&nbsp;asserting&nbsp;I&nbsp;get&nbsp;a&nbsp;defer.FirstError&nbsp;instead&nbsp;of&nbsp;a&nbsp;ValueError:&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;div&gt;-----------------------------------------------------------------------------------------------------------------------&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;def&nbsp;testFailureFromDeferredList(self):&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; &nbsp; &nbsp;d&nbsp;=&nbsp;defer.fail(ValueError(&#39;bad&nbsp;value&#39;))&lt;/i&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;i&gt; &nbsp; &nbsp;return&nbsp;self.assertFailure(defer.gatherResults([d]),&nbsp;defer.FirstError)&lt;/i&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;-----------------------------------------------------------------------------------------------------------------------&lt;br&gt;<br>
<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; I&nbsp;still&nbsp;get&nbsp;an&nbsp;Error:&lt;/div&gt;&lt;div&gt;&lt;div&gt;-----------------------------------------------------------------------------------------------------------------------&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;[ERROR]&lt;/i&gt;&lt;/div&gt;&lt;div&gt;<br>
<br>
&lt;i&gt;Traceback&nbsp;(most&nbsp;recent&nbsp;call&nbsp;last):&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;Failure:&nbsp;exceptions.ValueError:&nbsp;bad&nbsp;value&lt;/i&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;-----------------------------------------------------------------------------------------------------------------------&lt;br&gt;<br>
<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Is&nbsp;there&nbsp;another&nbsp;way&nbsp;to&nbsp;assert&nbsp;ValueError&nbsp;was&nbsp;raised?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks,&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Jorge&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;/div&gt;<br>

</tt>
