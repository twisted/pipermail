<tt>
Awesome,&nbsp;in&nbsp;my&nbsp;actual&nbsp;code&nbsp;I&nbsp;already&nbsp;implemented&nbsp;something&nbsp;to&nbsp;see&nbsp;if&nbsp;I&nbsp;was&nbsp;&quot;done&quot;&nbsp;with&nbsp;the&nbsp;socket&nbsp;conversation.&nbsp;I&nbsp;was&nbsp;just&nbsp;getting&nbsp;really&nbsp;worried&nbsp;about&nbsp;the&nbsp;&quot;non-clean&quot;&nbsp;messages.&nbsp;Your&nbsp;explanation&nbsp;makes&nbsp;perfect&nbsp;sense.&nbsp;Thanks&nbsp;for&nbsp;the&nbsp;help.&lt;div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;Dan&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Sun,&nbsp;Jan&nbsp;17,&nbsp;2010&nbsp;at&nbsp;11:55&nbsp;PM,&nbsp;Glyph&nbsp;Lefkowitz&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:glyph@twistedmatrix.com&quot;&gt;glyph@twistedmatrix.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
On&nbsp;Jan&nbsp;17,&nbsp;2010,&nbsp;at&nbsp;10:45&nbsp;PM,&nbsp;Daniel&nbsp;Griffin&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;Here&nbsp;are&nbsp;two&nbsp;tiny&nbsp;apps.&nbsp;They&nbsp;run&nbsp;perfectly&nbsp;on&nbsp;OSX&nbsp;and&nbsp;error&nbsp;like&nbsp;this&nbsp;on&nbsp;windows:&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Log&nbsp;conenction&nbsp; [Failure&nbsp;instance:&nbsp;Traceback&nbsp;(failure&nbsp;with&nbsp;no&nbsp;frames):&nbsp;&lt;class&nbsp;&#39;t&lt;br&gt;<br>
&gt;&nbsp;wisted.internet.error.ConnectionLost&#39;&nbsp;Connection&nbsp;to&nbsp;the&nbsp;other&nbsp;side&nbsp;was&nbsp;lost&nbsp;in&lt;br&gt;<br>
&gt;&nbsp; a&nbsp;non-clean&nbsp;fashion.&lt;br&gt;<br>
&gt;&nbsp;]&nbsp;Log&nbsp;conenction&nbsp; [Failure&nbsp;instance:&nbsp;Traceback&nbsp;(failure&nbsp;with&nbsp;no&nbsp;frames):&nbsp;&lt;class&lt;br&gt;<br>
&gt;&nbsp;&#39;twisted.internet.error.ConnectionLost&#39;&nbsp;Connection&nbsp;to&nbsp;the&nbsp;other&nbsp;side&nbsp;was&nbsp;lost&lt;br&gt;<br>
&gt;&nbsp;in&nbsp;a&nbsp;non-clean&nbsp;fashion.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;Ah.&nbsp; This&nbsp;is&nbsp;very&nbsp;simple,&nbsp;and&nbsp;luckily&nbsp;has&nbsp;nothing&nbsp;to&nbsp;do&nbsp;with&nbsp;threads.&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;simplest&nbsp;explanation&nbsp;is&nbsp;that&nbsp;these&nbsp;errors&nbsp;are&nbsp;showing&nbsp;up&nbsp;because&nbsp;you&nbsp;are&nbsp;printing&nbsp;them&nbsp;out&nbsp;:).&nbsp; If&nbsp;you&nbsp;stop&nbsp;printing&nbsp;them&nbsp;out,&nbsp;they&nbsp;won&#39;t&nbsp;show&nbsp;up.&lt;br&gt;<br>
&lt;br&gt;<br>
More&nbsp;specifically:&nbsp;You&nbsp;generally&nbsp;shouldn&#39;t&nbsp;worry&nbsp;about&nbsp;&quot;clean&quot;&nbsp;vs.&nbsp;&quot;non-clean&quot;&nbsp;connection&nbsp;shutdown.&nbsp; There&nbsp;are&nbsp;lots&nbsp;of&nbsp;things&nbsp;that&nbsp;can&nbsp;cause&nbsp;&quot;clean&quot;&nbsp;shutdowns&nbsp;to&nbsp;still&nbsp;lose&nbsp;data,&nbsp;and&nbsp;there&nbsp;are&nbsp;many&nbsp;cases&nbsp;where&nbsp;a&nbsp;&quot;non-clean&quot;&nbsp;shutdown&nbsp;is&nbsp;actually&nbsp;fine.&nbsp; Your&nbsp;application&nbsp;protocol&nbsp;should&nbsp;be&nbsp;framing&nbsp;messages&nbsp;such&nbsp;that&nbsp;you&nbsp;can&nbsp;tell&nbsp;which&nbsp;ones&nbsp;have&nbsp;been&nbsp;responded&nbsp;to.&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
That&nbsp;said,&nbsp;what&#39;s&nbsp;going&nbsp;on&nbsp;here&nbsp;is&nbsp;pretty&nbsp;simple.&nbsp; A&nbsp;&quot;clean&quot;&nbsp;shutdown&nbsp;is,&nbsp;broadly&nbsp;speaking,&nbsp;when&nbsp;both&nbsp;ends&nbsp;of&nbsp;the&nbsp;TCP&nbsp;connection&nbsp;agree&nbsp;on&nbsp;where&nbsp;the&nbsp;stream&nbsp;of&nbsp;bytes&nbsp;begins&nbsp;and&nbsp;ends.&nbsp; I&nbsp;send&nbsp;you&nbsp;some&nbsp;data,&nbsp;you&nbsp;read&nbsp;all&nbsp;of&nbsp;it,&nbsp;I&nbsp;shut&nbsp;down&nbsp;the&nbsp;connection,&nbsp;you&nbsp;shut&nbsp;down&nbsp;the&nbsp;connection.&nbsp; If&nbsp;I&nbsp;send&nbsp;you&nbsp;some&nbsp;data,&nbsp;and&nbsp;you&nbsp;*don&#39;t*&nbsp;read&nbsp;all&nbsp;of&nbsp;it,&nbsp;then&nbsp;I&nbsp;shut&nbsp;the&nbsp;connection&nbsp;down,&nbsp;the&nbsp;result&nbsp;will&nbsp;be&nbsp;a&nbsp;&quot;non-clean&quot;&nbsp;shutdown,&nbsp;because&nbsp;there&nbsp;is&nbsp;still&nbsp;data&nbsp;outstanding&nbsp;when&nbsp;the&nbsp;connection&nbsp;dies.&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
In&nbsp;this&nbsp;case,&nbsp;you&nbsp;are&nbsp;calling&nbsp;recv(5)&nbsp;in&nbsp;your&nbsp;server,&nbsp;but&nbsp;your&nbsp;client&nbsp;is&nbsp;writing&nbsp;&quot;RESPOND&quot;&nbsp;to&nbsp;its&nbsp;transport.&nbsp; As&nbsp;you&nbsp;can&nbsp;see,&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp; &nbsp;&gt;&gt;&gt;&nbsp;len(&quot;RESPOND&quot;)&lt;br&gt;<br>
&nbsp; &nbsp;7&lt;br&gt;<br>
&lt;br&gt;<br>
&quot;RESPOND&quot;&nbsp;is&nbsp;more&nbsp;than&nbsp;5&nbsp;bytes.&lt;br&gt;<br>
&lt;br&gt;<br>
If&nbsp;you&nbsp;were&nbsp;using&nbsp;Twisted&nbsp;for&nbsp;your&nbsp;server,&nbsp;this&nbsp;wouldn&#39;t&nbsp;happen&nbsp;because&nbsp;Twisted&nbsp;always&nbsp;reads&nbsp;all&nbsp;the&nbsp;bytes&nbsp;that&nbsp;are&nbsp;available&nbsp;and&nbsp;delivers&nbsp;them&nbsp;to&nbsp;dataReceived.&lt;br&gt;<br>
&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Twisted-Python&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Twisted-Python@twistedmatrix.com&quot;&gt;Twisted-Python@twistedmatrix.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
