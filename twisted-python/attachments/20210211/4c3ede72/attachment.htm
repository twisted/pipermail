<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;gmail_attr&quot;&gt;On&nbsp;Thu,&nbsp;11&nbsp;Feb&nbsp;2021&nbsp;at&nbsp;19:26,&nbsp;Wilfredo&nbsp;Sánchez&nbsp;Vega&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:wsanchez@wsanchez.net&quot;&gt;wsanchez@wsanchez.net&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;&lt;div&nbsp;style=&quot;overflow-wrap:&nbsp;break-word;&quot;&gt;On&nbsp;Feb&nbsp;10,&nbsp;2021,&nbsp;at&nbsp;3:44&nbsp;PM,&nbsp;Glyph&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:glyph@twistedmatrix.com&quot;&nbsp;target=&quot;_blank&quot;&gt;glyph@twistedmatrix.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;&lt;div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;br&gt;&lt;div&gt;&lt;div&nbsp;style=&quot;font-family:Helvetica;font-size:12px;font-style:normal;font-variant-caps:normal;font-weight:normal;letter-spacing:normal;text-align:start;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;text-decoration:none&quot;&gt;This&nbsp;isn&#39;t&nbsp;even&nbsp;a&nbsp;bug&nbsp;in&nbsp;Klein,&nbsp;it&#39;s&nbsp;an&nbsp;issue&nbsp;with&nbsp;a&nbsp;version&nbsp;pin&nbsp;in&nbsp;its&nbsp;tox.ini:&nbsp; &lt;a&nbsp;href=&quot;https://github.com/twisted/klein/blob/6e7b37158dea2fe73180809803a872ed98143c6d/tox.ini#L36&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/twisted/klein/blob/6e7b37158dea2fe73180809803a872ed98143c6d/tox.ini#L36&lt;/a&gt; &lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:Helvetica;font-size:12px;font-style:normal;font-variant-caps:normal;font-weight:normal;letter-spacing:normal;text-align:start;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;text-decoration:none&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:Helvetica;font-size:12px;font-style:normal;font-variant-caps:normal;font-weight:normal;letter-spacing:normal;text-align:start;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;text-decoration:none&quot;&gt;The&nbsp;constraints&nbsp;from&nbsp;requests&nbsp;(&lt;3,&gt;=2.5)&nbsp;and&nbsp;hyperlink&nbsp;(&gt;=2.5)&nbsp;are&nbsp;perfectly&nbsp;compatible;&nbsp;one&#39;s&nbsp;just&nbsp;a&nbsp;subset&nbsp;of&nbsp;the&nbsp;other.&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt; &nbsp;Sure,&nbsp;they&nbsp;are&nbsp;compatible,&nbsp;but&nbsp;Klein&nbsp;doesn’t&nbsp;use&nbsp;requests&nbsp;directly,&nbsp;and&nbsp;this&nbsp;only&nbsp;looks&nbsp;to&nbsp;be&nbsp;failing&nbsp;in&nbsp;trunk.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; &nbsp;My&nbsp;concern&nbsp;here&nbsp;is&nbsp;that&nbsp;Twisted&nbsp;may&nbsp;have&nbsp;added&nbsp;a&nbsp;dependency&nbsp;on&nbsp;requests,&nbsp;and&nbsp;that&nbsp;dependency&nbsp;means&nbsp;that&nbsp;if&nbsp;you&nbsp;want&nbsp;IDNA==3.1,&nbsp;as&nbsp;Klein’s&nbsp;tox.ini&nbsp;does,&nbsp;that&nbsp;you&nbsp;aren’t&nbsp;allowed&nbsp;to. &nbsp;That&nbsp;seems&nbsp;weak;&nbsp;I’d&nbsp;say&nbsp;a&nbsp;bug. &nbsp;No?&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;have&nbsp;created&nbsp;a&nbsp;new&nbsp;virtual&nbsp;env&nbsp;and&nbsp;executed&nbsp;`pip&nbsp;install&nbsp;.`&nbsp;on&nbsp;trunk.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;It&nbsp;installed&nbsp;the&nbsp;following&nbsp;packages:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;constantly,&nbsp;zope.interface,&nbsp;attrs,&nbsp;incremental,&nbsp;six,&nbsp;Automat,&nbsp;idna,&nbsp;hyperlink,&nbsp;Twisted&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;------------&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;`requests`&nbsp;was&nbsp;not&nbsp;installed.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;wasn&#39;t&nbsp;expecting&nbsp;to&nbsp;see&nbsp;`idna`&nbsp;as&nbsp;it&nbsp;is&nbsp;listed&nbsp;as&nbsp;TLS&nbsp;only&nbsp;deps....&nbsp;but&nbsp;it&nbsp;looks&nbsp;like&nbsp;hyperlink&nbsp;depends&nbsp;on&nbsp;idna.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Here&nbsp;is&nbsp;the&nbsp;dep&nbsp;tree&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;$&nbsp;pipdeptree&nbsp;-fl&lt;br&gt;Twisted&nbsp;@&nbsp;file:///home/adi/dev/twisted&lt;br&gt; &nbsp;attrs==20.3.0&lt;br&gt; &nbsp;Automat==20.2.0&lt;br&gt; &nbsp; &nbsp;attrs==20.3.0&lt;br&gt; &nbsp; &nbsp;six==1.15.0&lt;br&gt; &nbsp;constantly==15.1.0&lt;br&gt; &nbsp;hyperlink==21.0.0&lt;br&gt; &nbsp; &nbsp;idna==3.1&lt;br&gt; &nbsp;incremental==17.5.0&lt;br&gt; &nbsp;zope.interface==5.2.0&lt;br&gt; &nbsp; &nbsp;setuptools==44.0.0&lt;br&gt;wheel==0.36.2&lt;br&gt;&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;div&gt;------------&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;guess&nbsp;that&nbsp;we&nbsp;can&nbsp;remove&nbsp;idna&nbsp;from&nbsp;setup.cfg&nbsp;TLS&nbsp;section&nbsp;in&nbsp;Twisted&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;tls&nbsp;=&lt;br&gt; &nbsp; &nbsp;pyopenssl&nbsp;&gt;=&nbsp;16.0.0&lt;br&gt; &nbsp; &nbsp;#&nbsp;service_identity&nbsp;18.1.0&nbsp;added&nbsp;support&nbsp;for&nbsp;validating&nbsp;IP&nbsp;addresses&nbsp;in&lt;br&gt; &nbsp; &nbsp;#&nbsp;certificate&nbsp;subjectAltNames&lt;br&gt; &nbsp; &nbsp;service_identity&nbsp;&gt;=&nbsp;18.1.0&lt;br&gt; &nbsp; &nbsp;idna&nbsp;&gt;=&nbsp;2.4&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Cheers&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;gmail_signature&quot;&gt;Adi&nbsp;Roiban&lt;/div&gt;&lt;/div&gt;<br>

</tt>
