Index: btt.py
===================================================================
--- btt.py	(revision 13966)
+++ btt.py	(working copy)
@@ -1,14 +1,22 @@
-import array, dl, struct, signal, traceback, time, StringIO
+import array, struct, signal, traceback, time, StringIO
 
 from twisted.internet import task
 from twisted.python import log
 
-def itimer(seconds, libc=dl.open('libc.so.6')):
-    sec = int(seconds)
-    msec = int((seconds - sec) * 1e6)
-    timeval = array.array('I', [0, 0, sec, msec])
-    if libc.call('setitimer', 0, timeval.buffer_info()[0], 0) == -1:
-        raise RuntimeError("Who knows what")
+# First try the dl module
+try:
+    import dl
+    def itimer(seconds, libc=dl.open('libc.so.6')):
+        sec = int(seconds)
+        msec = int((seconds - sec) * 1e6)
+        timeval = array.array('I', [0, 0, sec, msec])
+        if libc.call('setitimer', 0, timeval.buffer_info()[0], 0) == -1:
+            raise RuntimeError("Who knows what")
+# Try py-itimer from http://www.cute.fi/~torppa/py-itimer/
+except ImportError:
+    import itimer as py_itimer
+    def itimer(seconds):
+        py_itimer.setitimer(0, seconds, 0)
 
 class BigTimesliceTimer(object):
     lc = None