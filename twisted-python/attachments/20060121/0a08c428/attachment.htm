<tt>
&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;1/21/06,&nbsp;&lt;b&nbsp;class=&quot;gmail_sendername&quot;&gt;Duncan&nbsp;McGreggor&lt;/b&gt;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:duncan.mcgreggor@gmail.com&quot;&gt;duncan.mcgreggor@gmail.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;/span&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
I&nbsp;have&nbsp;a&nbsp;question&nbsp;about&nbsp;an&nbsp;approach&nbsp;I&nbsp;used...&nbsp;I'm&nbsp;worried&nbsp;that&nbsp;I've&lt;br&gt;over-worked&nbsp;it&nbsp;and&nbsp;have&nbsp;over-looked&nbsp;a&nbsp;more&nbsp;elegant&nbsp;and&nbsp;standard&lt;br&gt;solution.&lt;br&gt;&lt;br&gt;I&nbsp;have&nbsp;the&nbsp;need&nbsp;to&nbsp;fire&nbsp;off&nbsp;network&nbsp;connections&nbsp;in&nbsp;groups.&nbsp;Deferreds<br>
&lt;br&gt;added&nbsp;to&nbsp;a&nbsp;DeferredList&nbsp;don't&nbsp;fit&nbsp;the&nbsp;bill&nbsp;(because&nbsp;there's&nbsp;no&nbsp;control&lt;br&gt;over&nbsp;all&nbsp;the&nbsp;deferreds&nbsp;in&nbsp;the&nbsp;list).&nbsp;As&nbsp;an&nbsp;example,&nbsp;if&nbsp;you&nbsp;wanted&nbsp;to&lt;br&gt;make&nbsp;a&nbsp;whole&nbsp;batch&nbsp;of&nbsp;concurrent&nbsp;connections,&nbsp;but&nbsp;didn't&nbsp;want&nbsp;to&nbsp;incur&lt;br&gt;<br>
the&nbsp;overhead&nbsp;of&nbsp;firing&nbsp;off&nbsp;more&nbsp;than&nbsp;20&nbsp;simultaneous&nbsp;connections,&nbsp;you'd&lt;br&gt;split&nbsp;your&nbsp;destination&nbsp;hosts&nbsp;up&nbsp;into&nbsp;groups&nbsp;of&nbsp;20.&nbsp;As&nbsp;a&nbsp;group&nbsp;was&lt;br&gt;completed,&nbsp;a&nbsp;callback&nbsp;could&nbsp;fire&nbsp;off&nbsp;the&nbsp;next&nbsp;group,&nbsp;etc.&lt;br&gt;&lt;br&gt;What's&nbsp;more,&nbsp;I&nbsp;didn't&nbsp;want&nbsp;to&nbsp;put&nbsp;this&nbsp;kind&nbsp;of&nbsp;control&nbsp;in&nbsp;a&nbsp;factory&nbsp;or<br>
&lt;br&gt;a&nbsp;protocol.&nbsp;In&nbsp;my&nbsp;mind,&nbsp;that&nbsp;didn't&nbsp;seem&nbsp;the&nbsp;proper&nbsp;place&nbsp;for&nbsp;it...&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;This&nbsp;is&nbsp;one&nbsp;approach.&nbsp;It&nbsp;has&nbsp;the&nbsp;characteristic&nbsp;that&nbsp;if&nbsp;one&nbsp;site&nbsp;in&nbsp;your&nbsp;group&nbsp;is&nbsp;considerably&nbsp;slower&nbsp;than&nbsp;the&nbsp;others,&nbsp;you&nbsp;will&nbsp;wait&nbsp;till&nbsp;all&nbsp;the&nbsp;sites&nbsp;in&nbsp;your&nbsp;group&nbsp;are&nbsp;finished&nbsp;before&nbsp;firing&nbsp;off&nbsp;the&nbsp;next&nbsp;group.&nbsp;This&nbsp;may&nbsp;or&nbsp;may&nbsp;not&nbsp;be&amp;nbsp;&nbsp;good&nbsp;thing&nbsp;for&nbsp;your&nbsp;particular&nbsp;app.<br>
&lt;br&gt;&lt;br&gt;An&nbsp;alternative&nbsp;is&nbsp;to&nbsp;create&nbsp;a&nbsp;&amp;quot;pool&amp;quot;&nbsp;of&nbsp;connections&nbsp;that&nbsp;will&nbsp;consume&nbsp;from&nbsp;a&nbsp;queue&nbsp;of&nbsp;potential&nbsp;connections.&nbsp;you&nbsp;feed&nbsp;your&nbsp;list&nbsp;into&nbsp;a&nbsp;DeferredQueue,&nbsp;and&nbsp;create&nbsp;as&nbsp;many&nbsp;concurrent&nbsp;connection&nbsp;handlers&nbsp;as&nbsp;you&nbsp;want,&nbsp;that&nbsp;will&nbsp;all&nbsp;consume&nbsp;from&nbsp;that&nbsp;same&nbsp;queue.&nbsp;this&nbsp;has&nbsp;the&nbsp;characteristic&nbsp;that&nbsp;as&nbsp;long&nbsp;as&nbsp;you&nbsp;keep&nbsp;the&nbsp;queue&nbsp;full&nbsp;you&nbsp;are&nbsp;constantly&nbsp;running&nbsp;20&nbsp;connections.&nbsp;This&nbsp;may&nbsp;or&nbsp;may&nbsp;nto&nbsp;be&nbsp;an&nbsp;advantage&nbsp;in&nbsp;the&nbsp;case&nbsp;of&nbsp;your&nbsp;application.&nbsp;<br>
&lt;br&gt;&lt;br&gt;Or&nbsp;if&nbsp;you&nbsp;want&nbsp;to&nbsp;use&nbsp;the&nbsp;built-in&nbsp;twisted&nbsp;magic,&nbsp;take&nbsp;a&nbsp;look&nbsp;at&nbsp;twisted.protocols.policies.ThrottlingFactory&nbsp;and&nbsp;other&nbsp;similar&nbsp;things&nbsp;int&nbsp;he&nbsp;same&nbsp;package&nbsp;see&nbsp;if&nbsp;one&nbsp;can&nbsp;be&nbsp;adapted&nbsp;to&nbsp;your&nbsp;use.&lt;br&gt;&lt;br&gt;Keep&nbsp;in&nbsp;mind&nbsp;that&nbsp;twisted&nbsp;is&nbsp;not&nbsp;*actually*&nbsp;concurrent,&nbsp;so&nbsp;you&nbsp;may&nbsp;not&nbsp;need&nbsp;to&nbsp;throttle&nbsp;your&nbsp;connections&nbsp;that&nbsp;much,&nbsp;you&nbsp;might&nbsp;be&nbsp;able&nbsp;to&nbsp;let&nbsp;the&nbsp;reactor&nbsp;handle&nbsp;the&nbsp;connection&nbsp;load&nbsp;itself.<br>
&lt;br&gt;&lt;br&gt;Actually,&nbsp;given&nbsp;that&nbsp;the&nbsp;reactor&nbsp;handles&nbsp;a&nbsp;thread&nbsp;pool&nbsp;size,&nbsp;is&nbsp;there&nbsp;an&nbsp;equivalent&nbsp;&amp;quot;connection&nbsp;pool&nbsp;size&amp;quot;&nbsp;that&nbsp;can&nbsp;be&nbsp;manipulated&nbsp;from&nbsp;inside&nbsp;the&nbsp;programme?&nbsp;Does&nbsp;such&nbsp;a&nbsp;concept&nbsp;have&nbsp;any&nbsp;use&nbsp;or&nbsp;meaning?&lt;br&gt;<br>
&lt;br&gt;Moof&nbsp;-&nbsp;not&nbsp;a&nbsp;reactor&nbsp;expert,&nbsp;as&nbsp;you&nbsp;can&nbsp;see.&lt;br&gt;&lt;br&gt;Moof&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
