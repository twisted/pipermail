<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;This&nbsp;is&nbsp;useful&nbsp;info&nbsp;for&nbsp;anyone&nbsp;else&nbsp;running&nbsp;into&nbsp;these&nbsp;issues.&nbsp;At&nbsp;least&nbsp;they&nbsp;might&nbsp;save&nbsp;a&nbsp;bit&nbsp;of&nbsp;time&nbsp;not&nbsp;having&nbsp;to&nbsp;run&nbsp;down&nbsp;what&nbsp;is&nbsp;happening.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;Seems&nbsp;that&nbsp;the&nbsp;mail,email,&nbsp;test_hook&nbsp;and&nbsp;StringIO&nbsp;errors&nbsp;all&nbsp;come&nbsp;from&nbsp;not&nbsp;ported&nbsp;modules&nbsp;as&nbsp;seen&nbsp;in&nbsp;twisted\src\python\_setup.py.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;_getEllipticCurve&nbsp;error &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
<br>
&lt;div&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:12.8px;font-style:normal;font-variant-ligatures:normal;font-variant-caps:normal;font-weight:400;letter-spacing:normal;text-align:start;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial&quot;&gt;&lt;&lt;&nbsp;builtins.AttributeError:&nbsp;type&nbsp;object&nbsp;&#39;OpenSSLCertificateOptions&#39;&nbsp;has&nbsp;no&nbsp;attribute&nbsp;&#39;_getEllipticCurve&#39;&lt;/div&gt;&lt;div&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:12.8px;font-style:normal;font-variant-ligatures:normal;font-variant-caps:normal;font-weight:400;letter-spacing:normal;text-align:start;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:12.8px;font-style:normal;font-variant-ligatures:normal;font-variant-caps:normal;font-weight:400;letter-spacing:normal;text-align:start;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial&quot;&gt;twisted.test.test_sslverify.Op&lt;wbr&gt;enSSLOptionsTests.test_ecDoesN&lt;wbr&gt;otBreakConstructor&nbsp;&gt;&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:12.8px;font-style:normal;font-variant-ligatures:normal;font-variant-caps:normal;font-weight:400;letter-spacing:normal;text-align:start;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:12.8px;font-style:normal;font-variant-ligatures:normal;font-variant-caps:normal;font-weight:400;letter-spacing:normal;text-align:start;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial&quot;&gt;is&nbsp;because&nbsp;getattr&nbsp;will&nbsp;raise&nbsp;an&nbsp;AttributeError,&nbsp;which&nbsp;is&nbsp;what&nbsp;it&nbsp;is&nbsp;doing&nbsp;here.&nbsp;But&nbsp;it&nbsp;does&nbsp;not&nbsp;do&nbsp;this&nbsp;for&nbsp;python2.7.&lt;/div&gt;&lt;div&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:12.8px;font-style:normal;font-variant-ligatures:normal;font-variant-caps:normal;font-weight:400;letter-spacing:normal;text-align:start;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:12.8px;font-style:normal;font-variant-ligatures:normal;font-variant-caps:normal;font-weight:400;letter-spacing:normal;text-align:start;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial&quot;&gt;The&nbsp;test&nbsp;is&nbsp;not&nbsp;to&nbsp;break&nbsp;if&nbsp;the&nbsp;ECCurve&nbsp;is&nbsp;missing.&nbsp;It&nbsp;is&nbsp;missing&nbsp;since&nbsp;it&nbsp;is&nbsp;not&nbsp;found.&nbsp;Still&nbsp;looking&nbsp;at&nbsp;this.&lt;/div&gt;&lt;div&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:12.8px;font-style:normal;font-variant-ligatures:normal;font-variant-caps:normal;font-weight:400;letter-spacing:normal;text-align:start;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:12.8px;font-style:normal;font-variant-ligatures:normal;font-variant-caps:normal;font-weight:400;letter-spacing:normal;text-align:start;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial&quot;&gt;With&nbsp;wincertstore&nbsp;being&nbsp;used,&nbsp;we&nbsp;get&nbsp;a&nbsp;failing&nbsp;test&nbsp;as&nbsp;follows:&lt;/div&gt;&lt;div&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:12.8px;font-style:normal;font-variant-ligatures:normal;font-variant-caps:normal;font-weight:400;letter-spacing:normal;text-align:start;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;text-align:start;text-indent:0px;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial&quot;&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;[FAIL]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;Traceback&nbsp;(most&nbsp;recent&nbsp;call&nbsp;last):&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt; &nbsp;File&nbsp;&quot;c:\twistedssl\twisted\src\twisted\web\test\test_agent.py&quot;,&nbsp;line&nbsp;1568,&nbsp;in&nbsp;test_setsTrustRootOnContextToDefaultTrustRoot&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt; &nbsp; &nbsp;certificateOptions.trustRoot,&nbsp;ssl.OpenSSLDefaultPaths)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt; &nbsp;File&nbsp;&quot;c:\twistedssl\twisted\src\twisted\trial\_synctest.py&quot;,&nbsp;line&nbsp;649,&nbsp;in&nbsp;assertIsInstance&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt; &nbsp; &nbsp;instance,&nbsp;classOrTuple,&nbsp;suffix))&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;twisted.trial.unittest.FailTest:&nbsp;&lt;twisted.internet._sslverify.OpenSSLWindowsCertificateAuthorities&nbsp;object&nbsp;at&nbsp;0x0CFDA810&gt;&nbsp;is&nbsp;not&nbsp;an&nbsp;instance&nbsp;of&nbsp;&lt;class&nbsp;&#39;twisted.internet._sslverify.OpenSSLDefaultPaths&#39;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;twisted.web.test.test_agent.WebClientContextFactoryTests.test_setsTrustRootOnContextToDefaultTrustRoot&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;So&nbsp;a&nbsp;new&nbsp;test&nbsp;is&nbsp;needed&nbsp;to&nbsp;fix&nbsp;this.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;Also,&nbsp;the&nbsp;current&nbsp;patch&nbsp;only&nbsp;loads&nbsp;the&nbsp;ROOT&nbsp;certificates.&nbsp;The&nbsp;standard&nbsp;library&nbsp;loads&nbsp;[&#39;CA&#39;,&nbsp;&#39;ROOT&#39;],&nbsp;so&nbsp;we&nbsp;should&nbsp;be&nbsp;doing&nbsp;the&nbsp;same&nbsp;I&nbsp;imagine.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;<br>
<br>
&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_signature&quot;&gt;&lt;b&gt;John&nbsp;Aherne&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;img&nbsp;src=&quot;http://www.rocs.co.uk/Images/rocs_logo_sig.gif&quot;&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;b&gt;&lt;a&nbsp;href=&quot;http://www.rocs.co.uk&quot;&nbsp;target=&quot;_blank&quot;&gt;www.rocs.co.uk&lt;/a&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;020&nbsp;7223&nbsp;7567&lt;/div&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;/div&gt;<br>

</tt>
