<tt>
As&nbsp;you&nbsp;said,&nbsp;what&nbsp;I&nbsp;really&nbsp;want&nbsp;is&nbsp;a&nbsp;dispatcher&nbsp;which&nbsp;can&nbsp;dispatch&nbsp;different&nbsp;msgs&nbsp;to&nbsp;corresponding&nbsp;callbacks.&lt;br&gt;&lt;br&gt;Of&nbsp;course,&nbsp;I&nbsp;can&nbsp;write&nbsp;a&nbsp;dispatchMessage(msg)&nbsp;function&nbsp;by&nbsp;using&nbsp;lots&nbsp;of&nbsp;&amp;quot;if&nbsp;...&nbsp;else&nbsp;&amp;quot;,&nbsp;but&nbsp;I&nbsp;want&nbsp;a&nbsp;more&nbsp;elegant&nbsp;way.&nbsp;I&nbsp;hope&nbsp;defers&nbsp;can&nbsp;help&nbsp;me.&lt;br&gt;<br>
&lt;br&gt;I&nbsp;got&nbsp;the&nbsp;same&nbsp;idea&nbsp;with&nbsp;Cameron,&nbsp;maybe&nbsp;it&nbsp;is&nbsp;not&nbsp;very&nbsp;efficient&nbsp;way&nbsp;to&nbsp;define&nbsp;one&nbsp;defer&nbsp;object&nbsp;for&nbsp;one&nbsp;msg.&lt;br&gt;&lt;br&gt;So,&nbsp;I&nbsp;come&nbsp;here&nbsp;to&nbsp;ask&nbsp;whether&nbsp;you&nbsp;guys&nbsp;has&nbsp;a&nbsp;better&nbsp;way&nbsp;or&nbsp;not.&lt;br&gt;&lt;br&gt;Thanks,&lt;br&gt;Xian&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;<br>
On&nbsp;Fri,&nbsp;May&nbsp;23,&nbsp;2008&nbsp;at&nbsp;10:26&nbsp;AM,&nbsp;Andrew&nbsp;Bennetts&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:andrew-twisted@puzzling.org&quot;&gt;andrew-twisted@puzzling.org&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;Wj3C7c&quot;&gt;Xian&nbsp;Chen&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&nbsp;Hi&nbsp;All,&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;This&nbsp;is&nbsp;a&nbsp;fundamental&nbsp;question&nbsp;about&nbsp;Twisted.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;In&nbsp;the&nbsp;normal&nbsp;case,&nbsp;all&nbsp;the&nbsp;callbacks&nbsp;belonging&nbsp;to&nbsp;one&nbsp;defer&nbsp;object&nbsp;will&nbsp;be&lt;br&gt;<br>
&amp;gt;&nbsp;triggered&nbsp;following&nbsp;the&nbsp;chain&nbsp;sequence.&nbsp;(&nbsp;Let&amp;#39;s&nbsp;assume&nbsp;no&nbsp;errback&nbsp;will&nbsp;be&lt;br&gt;<br>
&amp;gt;&nbsp;fired.)&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;such&nbsp;as&nbsp;callback1---&amp;gt;callbac2---&amp;gt;callbackN.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;However,&nbsp;if&nbsp;I&nbsp;want&nbsp;to&nbsp;trigger&nbsp;callback1&nbsp;when&nbsp;MSG1&nbsp;is&nbsp;ready,&nbsp;callback2&nbsp;when&nbsp;MSG2&lt;br&gt;<br>
&amp;gt;&nbsp;is&nbsp;ready,&nbsp;and&nbsp;so&nbsp;on,&nbsp;how&nbsp;can&nbsp;I&nbsp;do&nbsp;that?&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Of&nbsp;course,&nbsp;the&nbsp;MSGs&nbsp;are&nbsp;coming&nbsp;at&nbsp;random&nbsp;sequence.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;It&nbsp;sounds&nbsp;like&nbsp;you&nbsp;don&amp;#39;t&nbsp;want&nbsp;a&nbsp;callback&nbsp;chain&nbsp;at&nbsp;all.&nbsp;&amp;nbsp;Do&nbsp;you&nbsp;really&nbsp;want&lt;br&gt;<br>
all&nbsp;callbacks&nbsp;from&nbsp;3&nbsp;to&nbsp;N&nbsp;run&nbsp;when&nbsp;MSG3&nbsp;arrives?&nbsp;&amp;nbsp;That&nbsp;sounds&nbsp;strange.&lt;br&gt;<br>
&lt;br&gt;<br>
I&amp;#39;m&nbsp;guessing&nbsp;you&nbsp;want&nbsp;a&nbsp;simple&nbsp;dispatch&nbsp;function&nbsp;as&nbsp;the&nbsp;callback&nbsp;on&nbsp;the&lt;br&gt;<br>
Deferred.&nbsp;&amp;nbsp;i.e.,&nbsp;something&nbsp;roughly&nbsp;like&nbsp;this:&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;def&nbsp;dispatchMessage(msg):&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;handler&nbsp;=&nbsp;messageHandlersDict[&lt;a&nbsp;href=&quot;http://msg.id&quot;&nbsp;target=&quot;_blank&quot;&gt;msg.id&lt;/a&gt;]&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;return&nbsp;handler.run(msg)&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;d.addCallback(dispatchMessage)&lt;br&gt;<br>
&lt;br&gt;<br>
How&nbsp;messageHandlersDict&nbsp;is&nbsp;populated&nbsp;depends&nbsp;on&nbsp;exactly&nbsp;what&nbsp;you&amp;#39;re&nbsp;doing...&lt;br&gt;<br>
&lt;br&gt;<br>
It&amp;#39;s&nbsp;not&nbsp;clear&nbsp;from&nbsp;your&nbsp;email&nbsp;whether&nbsp;&quot;MSG1&quot;,&nbsp;&quot;MSG2&quot;&nbsp;etc&nbsp;refer&nbsp;to&nbsp;different&lt;br&gt;<br>
message&nbsp;types,&nbsp;or&nbsp;messages&nbsp;tagged&nbsp;with&nbsp;a&nbsp;session/request&nbsp;identifier,&nbsp;or&lt;br&gt;<br>
something&nbsp;else.&nbsp;&amp;nbsp;So&nbsp;if&nbsp;my&nbsp;advice&nbsp;doesn&amp;#39;t&nbsp;make&nbsp;sense&nbsp;to&nbsp;you,&nbsp;maybe&nbsp;reply&nbsp;with&nbsp;a&lt;br&gt;<br>
bit&nbsp;more&nbsp;detail&nbsp;about&nbsp;what&nbsp;you&amp;#39;re&nbsp;doing,&nbsp;and&nbsp;what&nbsp;you&nbsp;want&nbsp;to&nbsp;happen?&lt;br&gt;<br>
&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
-Andrew.&lt;br&gt;<br>
&lt;/font&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;Wj3C7c&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Twisted-Python&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Twisted-Python@twistedmatrix.com&quot;&gt;Twisted-Python@twistedmatrix.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
