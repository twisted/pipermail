<tt>
&lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.01&nbsp;Transitional//EN&quot;&gt;<br>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;bgcolor=&quot;#ffffff&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
&lt;div&nbsp;class=&quot;moz-text-flowed&quot;<br>
&nbsp;style=&quot;font-family:&nbsp;-moz-fixed;&nbsp;font-size:&nbsp;13px;&quot;&nbsp;lang=&quot;x-western&quot;&gt;Hi,<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;am&nbsp;working&nbsp;on&nbsp;an&nbsp;application&nbsp;where&nbsp;clients&nbsp;request&nbsp;files,&nbsp;and&nbsp;since<br>
each&nbsp;file&nbsp;is&nbsp;very&nbsp;large,&nbsp;the&nbsp;server&nbsp;ACKs&nbsp;the&nbsp;requests&nbsp;and&nbsp;then&nbsp;queues<br>
them&nbsp;to&nbsp;be&nbsp;served&nbsp;later,&nbsp;one&nbsp;at&nbsp;a&nbsp;time.<br>
&lt;br&gt;<br>
I&nbsp;am&nbsp;relatively&nbsp;new&nbsp;to&nbsp;Twisted&nbsp;and&nbsp;was&nbsp;wondering&nbsp;what&nbsp;would&nbsp;be&nbsp;the&nbsp;best<br>
way&nbsp;to&nbsp;approach&nbsp;this.<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Here&nbsp;is&nbsp;what&nbsp;I&nbsp;came&nbsp;up&nbsp;with&nbsp;so&nbsp;far:<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
1)&nbsp;Use&nbsp;Deferred&nbsp;callbacks,&nbsp;and&nbsp;string&nbsp;together&nbsp;callbacks&nbsp;to&nbsp;a&nbsp;&quot;file<br>
sender&quot;&nbsp;function&nbsp;-&nbsp;once&nbsp;a&nbsp;file&nbsp;is&nbsp;sent,&nbsp;the&nbsp;function&nbsp;is&nbsp;called&nbsp;back<br>
with&nbsp;a&nbsp;pointer&nbsp;to&nbsp;the&nbsp;next&nbsp;file&nbsp;in&nbsp;line.<br>
&lt;br&gt;<br>
If&nbsp;I&nbsp;do&nbsp;so&nbsp;-&nbsp;is&nbsp;there&nbsp;some&nbsp;automatic&nbsp;garbage&nbsp;collection&nbsp;of&nbsp;the<br>
callbacks&nbsp;that&nbsp;have&nbsp;already&nbsp;been&nbsp;handled?&nbsp;(there&nbsp;may&nbsp;eventually&nbsp;be<br>
hundreds&nbsp;of&nbsp;files&nbsp;to&nbsp;be&nbsp;sent)<br>
&lt;br&gt;<br>
In&nbsp;this&nbsp;approach,&nbsp;would&nbsp;there&nbsp;be&nbsp;a&nbsp;natural&nbsp;way&nbsp;to&nbsp;check&nbsp;if&nbsp;a&nbsp;new<br>
request&nbsp;is&nbsp;actually&nbsp;a&nbsp;repeat&nbsp;of&nbsp;a&nbsp;previous&nbsp;request&nbsp;already&nbsp;queued?<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
2)&nbsp;Use&nbsp;some&nbsp;type&nbsp;of&nbsp;queue&nbsp;-&nbsp;where&nbsp;each&nbsp;new&nbsp;file&nbsp;request&nbsp;is&nbsp;queued,&nbsp;and<br>
some&nbsp;single&nbsp;function&nbsp;handles&nbsp;them&nbsp;one&nbsp;at&nbsp;at&nbsp;time&nbsp;(I&nbsp;guess&nbsp;with<br>
asynchronous&nbsp;callbacks&nbsp;to&nbsp;itself&nbsp;every&nbsp;time&nbsp;the&nbsp;transport&nbsp;layer&nbsp;is&nbsp;free<br>
to&nbsp;send&nbsp;another&nbsp;file&nbsp;and&nbsp;the&nbsp;queue&nbsp;is&nbsp;not&nbsp;empty).<br>
&lt;br&gt;<br>
Is&nbsp;there&nbsp;some&nbsp;queue&nbsp;structure&nbsp;like&nbsp;this&nbsp;in&nbsp;Twisted?&nbsp;I&nbsp;saw&nbsp;something<br>
called&nbsp;a&nbsp;DefferedQueue&nbsp;but&nbsp;could&nbsp;not&nbsp;find&nbsp;many&nbsp;examples&nbsp;or<br>
documentation&nbsp;about&nbsp;it&nbsp;and&nbsp;about&nbsp;its&nbsp;usage.<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;mainly&nbsp;want&nbsp;to&nbsp;understand,&nbsp;from&nbsp;the&nbsp;&quot;Twisted&nbsp;mindset&quot;&amp;nbsp;&nbsp;which&nbsp;would&nbsp;be<br>
the&nbsp;the&nbsp;right&nbsp;way&nbsp;to&nbsp;go?<br>
&lt;br&gt;<br>
Also,&nbsp;say&nbsp;in&nbsp;the&nbsp;future&nbsp;I&nbsp;would&nbsp;want&nbsp;to&nbsp;implement&nbsp;priority&nbsp;queuing&nbsp;and<br>
handling&nbsp;of&nbsp;the&nbsp;requests&nbsp;rather&nbsp;than&nbsp;a&nbsp;FIFO&nbsp;-&nbsp;how&nbsp;would&nbsp;I&nbsp;do&nbsp;that&nbsp;in<br>
Twisted?<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Any&nbsp;thoughts&nbsp;and/or&nbsp;code&nbsp;examples&nbsp;would&nbsp;be&nbsp;greatly&nbsp;appreciated<br>
&lt;br&gt;<br>
Thanks!<br>
&lt;br&gt;<br>
Nadav<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
