<tt>
On&nbsp;Wed,&nbsp;Sep&nbsp;26,&nbsp;2012&nbsp;at&nbsp;7:46&nbsp;PM,&nbsp;Jonathan&nbsp;Vanasco&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:twisted-python@2xlp.com&quot;&nbsp;target=&quot;_blank&quot;&gt;twisted-python@2xlp.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
while&nbsp;migrating&nbsp;some&nbsp;functionality&nbsp;to&nbsp;a&nbsp;deferred&nbsp;callback&nbsp;chain&nbsp;and&nbsp;debugging&nbsp;my&nbsp;app,&nbsp;i&nbsp;noticed&nbsp;this&nbsp;oddity...&lt;br&gt;<br>
&lt;br&gt;<br>
if&nbsp;a&nbsp;function&nbsp;doesn&amp;#39;t&nbsp;have&nbsp;the&nbsp;proper&nbsp;args/kwargs&nbsp;definition,&nbsp;no&nbsp;error&nbsp;is&nbsp;raised&nbsp;and&nbsp;everything&nbsp;just&nbsp;hangs&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;...&lt;br&gt; &lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
then&nbsp;the&nbsp;reactor&nbsp;just&nbsp;seems&nbsp;to&nbsp;hang.&lt;br&gt;<br>
&lt;br&gt;<br>
if&nbsp;i&nbsp;kill&nbsp;the&nbsp;process,&nbsp;then&nbsp;the&nbsp;Unhandled&nbsp;Error&nbsp;and&nbsp;Traceback&nbsp;message&nbsp;prints.&lt;br&gt;<br>
If&nbsp;i&nbsp;wait&nbsp;until&nbsp;the&nbsp;next&nbsp;interval&nbsp;that&nbsp;the&nbsp;timerservice&nbsp;runs,&nbsp;then&nbsp;the&nbsp;Unhandled&nbsp;Error&nbsp;and&nbsp;Traceback&nbsp;message&nbsp;will&nbsp;print&nbsp;then&nbsp;(&nbsp;but&nbsp;that&nbsp;could&nbsp;be&nbsp;minutes/hours&nbsp;later&nbsp;).&lt;br&gt;<br>
&lt;br&gt;<br>
has&nbsp;anyone&nbsp;else&nbsp;noticed&nbsp;this&nbsp;before&nbsp;?&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;The&nbsp;reactor&nbsp;isn&amp;#39;t&nbsp;hanging,&nbsp;it&amp;#39;s&nbsp;running&nbsp;just&nbsp;fine.&nbsp;The&nbsp;problem&nbsp;is&nbsp;you&nbsp;expect&nbsp;the&nbsp;Deferred&amp;#39;s&nbsp;error&nbsp;to&nbsp;be&nbsp;logged&nbsp;immediately,&nbsp;which&nbsp;is&nbsp;not&nbsp;guaranteed;&nbsp;the&nbsp;error&nbsp;is&nbsp;only&nbsp;logged&nbsp;if&nbsp;the&nbsp;object&nbsp;is&nbsp;garbage&nbsp;collected,&nbsp;which&nbsp;may&nbsp;take&nbsp;a&nbsp;while,&nbsp;or&nbsp;never&nbsp;happen&nbsp;if&nbsp;you&amp;#39;ve&nbsp;kept&nbsp;extra&nbsp;references&nbsp;around.&nbsp;The&nbsp;latter&nbsp;can&nbsp;happen&nbsp;by&nbsp;accident.&lt;br&gt;<br>
 &lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
are&nbsp;there&nbsp;any&nbsp;good&nbsp;ways&nbsp;around&nbsp;this&nbsp;,&nbsp;other&nbsp;than&nbsp;setting&nbsp;the&nbsp;timer&nbsp;service&nbsp;to&nbsp;be&nbsp;within&nbsp;seconds&nbsp;during&nbsp;bugtesting&nbsp;?&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;ol&gt;&lt;li&gt;Add&nbsp;a&nbsp;logging&nbsp;errback&nbsp;to&nbsp;all&nbsp;Deferreds&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;callback&nbsp;chain:&nbsp;d.addErrback(log.err).&lt;/li&gt;<br>
&lt;li&gt;Less&nbsp;effective,&nbsp;but&nbsp;also&nbsp;helpful,&nbsp;is&nbsp;making&nbsp;sure&nbsp;you&nbsp;delete&nbsp;all&nbsp;unnecessary&nbsp;references&nbsp;to&nbsp;a&nbsp;Deferred&nbsp;once&nbsp;you&amp;#39;ve&nbsp;fired&nbsp;it,&nbsp;to&nbsp;make&nbsp;sure&nbsp;it&nbsp;gets&nbsp;garbage&nbsp;collected:&lt;br&gt;&lt;/li&gt;&lt;/ol&gt;&lt;div&nbsp;style=&quot;margin-left:40px&quot;&gt;  &nbsp;self.d.callback(None)&lt;br&gt;<br>
  &nbsp;del&nbsp;self.d&nbsp;#&nbsp;remove&nbsp;extra&nbsp;reference&nbsp;that&nbsp;prevents&nbsp;garbage&nbsp;collection&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://bit.ly/NS6ptj&quot;&gt;http://bit.ly/NS6ptj&lt;/a&gt;&nbsp;explains&nbsp;the&nbsp;issue.&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;Itamar&nbsp;Turner-Trauring,&nbsp;Future&nbsp;Foundries&nbsp;LLC&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://futurefoundries.com/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://futurefoundries.com/&lt;/a&gt;&nbsp;—&nbsp;Twisted&nbsp;consulting,&nbsp;training&nbsp;and&nbsp;support.&lt;br&gt;&lt;br&gt;<br>

</tt>
