<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;<br>
<br>
&gt;&nbsp; &nbsp;2.&nbsp;Arrange&nbsp;for&nbsp;the&nbsp;epoll&nbsp;object&nbsp;(or&nbsp;FD)&nbsp;to&nbsp;be&nbsp;closed&nbsp;after&nbsp;fork,&nbsp;but&lt;br&gt;<br>
&gt;&nbsp;before&nbsp;exec,&nbsp;so&nbsp;that&nbsp;the&nbsp;child&nbsp;process&nbsp;can&#39;t&nbsp;fiddle&nbsp;with&nbsp;it&lt;br&gt;<br>
&lt;br&gt;<br>
See&nbsp;also:&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://bugs.python.org/issue8713&quot;&nbsp;target=&quot;_blank&quot;&gt;http://bugs.python.org/issue8713&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
...which&nbsp;suggests&nbsp;Python&nbsp;3.4&nbsp;added&nbsp;fork+exec&nbsp;support&nbsp;to&nbsp;multiprocessing.&lt;br&gt;<br>
On&nbsp;Unix&nbsp;and&nbsp;older&nbsp;Python&nbsp;versions,&nbsp;you&#39;re&nbsp;stuck&nbsp;with&nbsp;plain&nbsp;fork&nbsp;and&nbsp;all&lt;br&gt;<br>
the&nbsp;attendant&nbsp;horribleness.&lt;br&gt;<br>
&lt;br&gt;<br>
This&nbsp;is&nbsp;a&nbsp;multiprocessing&nbsp;bug&nbsp;IMHO.&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Hi&nbsp;again,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&#39;ve&nbsp;found&nbsp;this&nbsp;discussion &lt;a&nbsp;href=&quot;https://lkml.org/lkml/2007/10/27/25&quot;&gt;https://lkml.org/lkml/2007/10/27/25&lt;/a&gt; the&nbsp;scenarios&nbsp;discussed&nbsp;are&nbsp;a&nbsp;bit&nbsp;different&nbsp;but&nbsp;it&nbsp;sounds&nbsp;to&nbsp;me&nbsp;related&nbsp;to&nbsp;the&nbsp;same&nbsp;problem.&nbsp;which&nbsp;makes&nbsp;me&nbsp;think&nbsp;this&nbsp;is&nbsp;not&nbsp;a&nbsp;python&nbsp;bug&nbsp;but&nbsp;may&nbsp;be&nbsp;an&nbsp;epoll&nbsp;design&nbsp;poblem&nbsp;with&nbsp;fork&nbsp;! &lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
