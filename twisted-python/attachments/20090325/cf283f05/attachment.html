<tt>
Something&nbsp;like&nbsp;this:&lt;br&gt;&lt;br&gt;from&nbsp;twisted.protocols&nbsp;import&nbsp;basic&lt;br&gt;from&nbsp;twisted.internet&nbsp;import&nbsp;protocol,&nbsp;reactor&lt;br&gt;from&nbsp;twisted.enterprise&nbsp;import&nbsp;adbapi&lt;br&gt;&lt;br&gt;class&nbsp;MyProtocol(basic.LineReceiver):&lt;br&gt;   &nbsp;def&nbsp;__init__(self):&lt;br&gt;<br>
       &nbsp;pass&lt;br&gt;&lt;br&gt;   &nbsp;def&nbsp;lineReceived(self,&nbsp;line):&lt;br&gt;       &nbsp;###&nbsp;dbcon&nbsp;can&nbsp;be&nbsp;accessed&nbsp;via&nbsp;self.factory&lt;br&gt;       &nbsp;print&nbsp;dir(self.factory.dbcon)&lt;br&gt;&lt;br&gt;class&nbsp;MyFactory(protocol.ServerFactory):&lt;br&gt;   &nbsp;protocol&nbsp;=&nbsp;MyProtocol&lt;br&gt;<br>
   &nbsp;def&nbsp;__init__(self):&lt;br&gt;       &nbsp;self.dbcon&nbsp;=&nbsp;adbapi.ConnectionPool(&quot;pyPgSQL.PgSQL&quot;,&nbsp;database=&quot;data&quot;,&nbsp;user=&#39;pet&#39;,&nbsp;host=&#39;local&#39;,&nbsp;password=&#39;some&#39;)&lt;br&gt;&lt;br&gt;if&nbsp;__name__&nbsp;==&nbsp;&quot;__main__&quot;:&lt;br&gt;<br>
   &nbsp;reactor.listenTCP(8080,&nbsp;MyFactory())&lt;br&gt;   &nbsp;reactor.run()&lt;br&gt;&lt;br&gt;I&nbsp;usually&nbsp;put&nbsp;persistent&nbsp;data&nbsp;on&nbsp;the&nbsp;factory&nbsp;so&nbsp;that&nbsp;protocol&nbsp;instances&nbsp;can&nbsp;access&nbsp;them&nbsp;such&nbsp;as&nbsp;{username:&lt;protocol&nbsp;instance&gt;}&nbsp;dictionary&nbsp;for&nbsp;chatroom&nbsp;server.&lt;br&gt;<br>
&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Mar&nbsp;25,&nbsp;2009&nbsp;at&nbsp;12:22&nbsp;AM,&nbsp;Pet&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:petshmidt@googlemail.com&quot;&gt;petshmidt@googlemail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;On&nbsp;Tue,&nbsp;Mar&nbsp;24,&nbsp;2009&nbsp;at&nbsp;5:04&nbsp;PM,&nbsp;Rob&nbsp;Hoadley&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:hoadley@gmail.com&quot;&gt;hoadley@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;You&#39;d&nbsp;want&nbsp;to&nbsp;use&nbsp;a&nbsp;connection&nbsp;pool&nbsp;to&nbsp;manage&nbsp;the&nbsp;db&nbsp;interaction.&lt;br&gt;<br>
&gt;&nbsp;Your&nbsp;server&nbsp;is&nbsp;pretty&nbsp;unusable&nbsp;after&nbsp;a&nbsp;db&nbsp;connection&nbsp;failure.&nbsp; I&#39;ve&lt;br&gt;<br>
&gt;&nbsp;used&nbsp;the&nbsp;connection&nbsp;pool&nbsp;before&nbsp;with&nbsp;a&nbsp;cp_min&nbsp;of&nbsp;1&nbsp;and&nbsp;a&nbsp;cp_max&nbsp;of&nbsp;2.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;Honestly&nbsp;speaking,&nbsp;I&nbsp;don&#39;t&nbsp;understand,&nbsp;what&nbsp;does&nbsp;it&nbsp;mean.&lt;br&gt;<br>
I&#39;m&nbsp;already&nbsp;using&nbsp;connection&nbsp;pool&nbsp;with&nbsp;default&nbsp;cp_min&nbsp;an&nbsp;max,&nbsp;don&#39;t&nbsp;I?&lt;br&gt;<br>
Could&nbsp;you&nbsp;explain&nbsp;me,&nbsp;as&nbsp;for&nbsp;a&nbsp;newbie,&nbsp;please&lt;br&gt;<br>
&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;http://twistedmatrix.com/documents/8.2.0/api/twisted.enterprise.adbapi.ConnectionPool.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twistedmatrix.com/documents/8.2.0/api/twisted.enterprise.adbapi.ConnectionPool.html&lt;/a&gt;&lt;br&gt;<br>
<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;On&nbsp;Tue,&nbsp;Mar&nbsp;24,&nbsp;2009&nbsp;at&nbsp;6:45&nbsp;AM,&nbsp;Alvin&nbsp;Delagon&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:adelagon@gmail.com&quot;&gt;adelagon@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&gt;&nbsp;Put&nbsp;self.dbcon&nbsp;in&nbsp;the&nbsp;MyFactory&nbsp;class.&nbsp;MyProtocol&nbsp;instances&nbsp;can&nbsp;access&nbsp;it&lt;br&gt;<br>
&gt;&gt;&nbsp;via&nbsp;self.factory.&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;On&nbsp;Tue,&nbsp;Mar&nbsp;24,&nbsp;2009&nbsp;at&nbsp;6:10&nbsp;PM,&nbsp;Pet&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:petshmidt@googlemail.com&quot;&gt;petshmidt@googlemail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;Hi,&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;I&#39;ve&nbsp;wrote&nbsp;an&nbsp;daemon&nbsp;which&nbsp;does&nbsp;some&nbsp;queries&nbsp;to&nbsp;db&nbsp;and&nbsp;sends&nbsp;response&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;back&nbsp;to&nbsp;client.&nbsp;Do&nbsp;I&nbsp;need&nbsp;to&nbsp;make&nbsp;for&nbsp;every&nbsp;request&nbsp;from&nbsp;client&nbsp;(new&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;instance&nbsp;of&nbsp; MyProtocol)&nbsp;a&nbsp;new&nbsp;connection&nbsp;to&nbsp;DB?&nbsp;Or&nbsp;can&nbsp;I&nbsp;somehow&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;prepare&nbsp;connection,&nbsp;so&nbsp;I&nbsp;could&nbsp;save&nbsp;some&nbsp;time?&nbsp;Maybe&nbsp;make&nbsp;connection&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;in&nbsp;Factory&nbsp;and&nbsp;pass&nbsp;it&nbsp;to&nbsp;Protocol?&nbsp;But&nbsp;what&nbsp;happens&nbsp;if&nbsp;too&nbsp;much&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;clients&nbsp;are&nbsp;connected&nbsp;to&nbsp;server?&nbsp;What&nbsp;is&nbsp;the&nbsp;way&nbsp;to&nbsp;control&nbsp;it?&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;Regards,&nbsp;Pet&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;class&nbsp;MyProtocol(basic.LineReceiver):&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp; &nbsp; def&nbsp;__init__(self):&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp; &nbsp; &nbsp; &nbsp; print&nbsp;&quot;new&nbsp;connection&quot;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp; &nbsp; &nbsp; &nbsp; self.dbcon&nbsp;=&nbsp;adbapi.ConnectionPool(&quot;pyPgSQL.PgSQL&quot;,&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;database=&quot;data&quot;,&nbsp;user=&#39;pet&#39;,&nbsp;host=&#39;local&#39;,&nbsp;password=&#39;some&#39;)&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;class&nbsp;MyFactory(protocol.ServerFactory):&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp; &nbsp; protocol&nbsp;=&nbsp;MyProtocol&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;class&nbsp;MyService(internet.TCPServer):&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp; &nbsp; def&nbsp;__init__(self):&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp; &nbsp; &nbsp; &nbsp; internet.TCPServer.__init__(self,PORT,MyFactory())&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;def&nbsp;main():&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp; &nbsp; reactor.listenTCP(PORT,&nbsp;MyFactory())&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp; &nbsp; reactor.run()&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;if&nbsp;__name__&nbsp;==&nbsp;&#39;__main__&#39;:&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp; &nbsp; main()&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;Twisted-Python&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:Twisted-Python@twistedmatrix.com&quot;&gt;Twisted-Python@twistedmatrix.com&lt;/a&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;&lt;a&nbsp;href=&quot;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&lt;/a&gt;&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;--&lt;br&gt;<br>
&gt;&gt;&nbsp;&lt;a&nbsp;href=&quot;http://www.alvinatorsplayground.blogspot.com/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.alvinatorsplayground.blogspot.com/&lt;/a&gt;&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&gt;&gt;&nbsp;Twisted-Python&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&gt;&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:Twisted-Python@twistedmatrix.com&quot;&gt;Twisted-Python@twistedmatrix.com&lt;/a&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;&lt;a&nbsp;href=&quot;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&lt;/a&gt;&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&gt;&nbsp;Twisted-Python&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:Twisted-Python@twistedmatrix.com&quot;&gt;Twisted-Python@twistedmatrix.com&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&lt;/a&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Twisted-Python&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Twisted-Python@twistedmatrix.com&quot;&gt;Twisted-Python@twistedmatrix.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;br&gt;--&nbsp;&lt;br&gt;&lt;a&nbsp;href=&quot;http://www.alvinatorsplayground.blogspot.com/&quot;&gt;http://www.alvinatorsplayground.blogspot.com/&lt;/a&gt;&lt;br&gt;<br>

</tt>
