<tt>
&lt;html&gt;&lt;head&gt;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html&nbsp;charset=us-ascii&quot;&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&quot;&gt;On&nbsp;Jun&nbsp;17,&nbsp;2013,&nbsp;at&nbsp;5:48&nbsp;PM,&nbsp;James&nbsp;Y&nbsp;Knight&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:foom@fuhm.net&quot;&gt;foom@fuhm.net&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&nbsp;style=&quot;letter-spacing:&nbsp;normal;&nbsp;orphans:&nbsp;auto;&nbsp;text-align:&nbsp;start;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;widows:&nbsp;auto;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&quot;&gt;I'm&nbsp;surprised&nbsp;that&nbsp;a&nbsp;thread&nbsp;with&nbsp;32&nbsp;messages&nbsp;about&nbsp;logging&nbsp;doesn't&nbsp;seem&nbsp;to&nbsp;have&nbsp;once&nbsp;mentioned&nbsp;windows&nbsp;events,&nbsp;osx&nbsp;structured&nbsp;syslog,&nbsp;or&nbsp;systemd&nbsp;journal&nbsp;as&nbsp;important&nbsp;design&nbsp;points.&lt;span&nbsp;class=&quot;Apple-converted-space&quot;&gt;&nbsp;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;As&nbsp;it&nbsp;happens&nbsp;I&nbsp;was&nbsp;discussing&nbsp;exactly&nbsp;that!&nbsp;&nbsp;In&nbsp;a&nbsp;sense,&nbsp;they're&nbsp;just&nbsp;observers,&nbsp;and&nbsp;it's&nbsp;just&nbsp;a&nbsp;matter&nbsp;of&nbsp;persisting&nbsp;whatever&nbsp;fields&nbsp;are&nbsp;present&nbsp;to&nbsp;the&nbsp;various&nbsp;backend&nbsp;systems.&lt;/div&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&nbsp;style=&quot;letter-spacing:&nbsp;normal;&nbsp;orphans:&nbsp;auto;&nbsp;text-align:&nbsp;start;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;widows:&nbsp;auto;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&quot;&gt;Maybe&nbsp;people&nbsp;are&nbsp;thinking&nbsp;about&nbsp;such&nbsp;things&nbsp;in&nbsp;the&nbsp;background&nbsp;but&nbsp;it&nbsp;looks&nbsp;a&nbsp;lot&nbsp;like&nbsp;this&nbsp;is&nbsp;being&nbsp;designed&nbsp;in&nbsp;a&nbsp;vacuum&nbsp;when&nbsp;there's&nbsp;plenty&nbsp;of&nbsp;air&nbsp;around.&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;So&nbsp;yes,&nbsp;I,&nbsp;at&nbsp;least,&nbsp;have&nbsp;been&nbsp;thinking&nbsp;about&nbsp;them,&nbsp;abstractly.&nbsp;&nbsp;But&nbsp;you&nbsp;raise&nbsp;a&nbsp;good&nbsp;point:&nbsp;we&nbsp;should&nbsp;be&nbsp;talking&nbsp;about&nbsp;them&nbsp;concretely&nbsp;and&nbsp;making&nbsp;sure&nbsp;that&nbsp;we&nbsp;&lt;i&gt;could&lt;/i&gt;&nbsp;at&nbsp;least&nbsp;take&nbsp;advantage&nbsp;of&nbsp;the&nbsp;facilities&nbsp;they&nbsp;offer&nbsp;before&nbsp;we&nbsp;finalize&nbsp;anything.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;However,&nbsp;then&nbsp;you&nbsp;fail&nbsp;to&nbsp;discuss&nbsp;them&nbsp;concretely&nbsp;:).&nbsp;&nbsp;Do&nbsp;you&nbsp;have&nbsp;any&nbsp;practical&nbsp;experiences&nbsp;with&nbsp;these&nbsp;systems&nbsp;that&nbsp;would&nbsp;indicate&nbsp;what&nbsp;features&nbsp;would&nbsp;be&nbsp;useful&nbsp;to&nbsp;abstract&nbsp;over&nbsp;or&nbsp;how&nbsp;they&nbsp;should&nbsp;be&nbsp;exposed?&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&nbsp;style=&quot;letter-spacing:&nbsp;normal;&nbsp;orphans:&nbsp;auto;&nbsp;text-align:&nbsp;start;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;widows:&nbsp;auto;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&quot;&gt;And,&nbsp;no&nbsp;sane&nbsp;sysadmin&nbsp;should&nbsp;ever&nbsp;want&nbsp;a&nbsp;twisted-specific&nbsp;log&nbsp;file&nbsp;format&nbsp;or&nbsp;to&nbsp;write&nbsp;custom&nbsp;python&nbsp;log&nbsp;filters.&nbsp;That's&nbsp;crazy.&nbsp;Gimme&nbsp;a&nbsp;verbosity&nbsp;knob&nbsp;and&nbsp;the&nbsp;ability&nbsp;to&nbsp;emit&nbsp;structured&nbsp;log&nbsp;events&nbsp;to&nbsp;existing&nbsp;systems,&nbsp;with&nbsp;a&nbsp;fallback&nbsp;plain&nbsp;text&nbsp;file&nbsp;format.&nbsp;Great.&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;There&nbsp;is&nbsp;a&nbsp;reason&nbsp;why&nbsp;we&nbsp;should&nbsp;support&nbsp;such&nbsp;a&nbsp;thing,&nbsp;by&nbsp;which&nbsp;I&nbsp;mean&nbsp;a&nbsp;&quot;Twisted&nbsp;specific&quot;&nbsp;format&nbsp;in&nbsp;the&nbsp;sense&nbsp;of&nbsp;something&nbsp;like&nbsp;line-delimited&nbsp;JSON&nbsp;(or&nbsp;whatever).&nbsp;&nbsp;We&nbsp;have&nbsp;an&nbsp;API&nbsp;for&nbsp;emitting&nbsp;log&nbsp;messages,&nbsp;and&nbsp;an&nbsp;API&nbsp;for&nbsp;observing&nbsp;log&nbsp;messages&nbsp;as&nbsp;they&nbsp;occur.&nbsp;&nbsp;If&nbsp;someone&nbsp;were&nbsp;to&nbsp;use&nbsp;the&nbsp;latter&nbsp;API&nbsp;to&nbsp;produce&nbsp;some&nbsp;software&nbsp;that&nbsp;does&nbsp;a&nbsp;useful&nbsp;thing,&nbsp;it&nbsp;would&nbsp;be&nbsp;very&nbsp;good&nbsp;to&nbsp;have&nbsp;a&nbsp;built-in,&nbsp;platform-independent&nbsp;format&nbsp;for&nbsp;logs&nbsp;that&nbsp;could&nbsp;easily&nbsp;be&nbsp;reconstituted&nbsp;into&nbsp;something&nbsp;that&nbsp;is&nbsp;a&nbsp;reasonable&nbsp;enough&nbsp;facsimile&nbsp;of&nbsp;the&nbsp;information&nbsp;available&nbsp;at&nbsp;runtime.&nbsp;&nbsp;That&nbsp;way&nbsp;log&nbsp;analysis&nbsp;using&nbsp;our&nbsp;log-analysis&nbsp;API&nbsp;would&nbsp;be&nbsp;possible&nbsp;offline&nbsp;without&nbsp;rewriting&nbsp;your&nbsp;online&nbsp;analysis&nbsp;tool&nbsp;to&nbsp;consume&nbsp;input&nbsp;from&nbsp;systemd,&nbsp;ASL,&nbsp;and&nbsp;windows&nbsp;event&nbsp;log&nbsp;instead&nbsp;of&nbsp;a&nbsp;Twisted&nbsp;observer.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;agree&nbsp;that&nbsp;our&nbsp;existing&nbsp;text&nbsp;format&nbsp;is&nbsp;basically&nbsp;pointless,&nbsp;but&nbsp;there&nbsp;are&nbsp;two&nbsp;reasons&nbsp;to&nbsp;keep&nbsp;it&nbsp;around.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;First,&nbsp;it&nbsp;seem&nbsp;to&nbsp;be&nbsp;something&nbsp;that&nbsp;some&nbsp;sysadmins&nbsp;expect;&nbsp;there's&nbsp;definitely&nbsp;an&nbsp;archetype&nbsp;of&nbsp;sysadmin&nbsp;who&nbsp;prefers&nbsp;everything&nbsp;to&nbsp;be&nbsp;in&nbsp;&quot;plain&nbsp;text&quot;&nbsp;so&nbsp;they&nbsp;can&nbsp;run&nbsp;their&nbsp;perl&nbsp;scripts&nbsp;over&nbsp;it;&nbsp;someone&nbsp;more&nbsp;comfortable&nbsp;with&nbsp;regexes&nbsp;than&nbsp;structured&nbsp;data.&nbsp;&nbsp;Maybe&nbsp;you&nbsp;wouldn't&nbsp;characterize&nbsp;these&nbsp;people&nbsp;as&nbsp;sane,&nbsp;but&nbsp;they're&nbsp;definitely&nbsp;extant,&nbsp;and&nbsp;some&nbsp;of&nbsp;them,&nbsp;at&nbsp;least,&nbsp;run&nbsp;Twisted&nbsp;services.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;second&nbsp;reason&nbsp;to&nbsp;keep&nbsp;the&nbsp;text&nbsp;format&nbsp;around&nbsp;is&nbsp;that&nbsp;even&nbsp;sysadmins&nbsp;who&nbsp;would&nbsp;_prefer_&nbsp;structured&nbsp;data&nbsp;in&nbsp;an&nbsp;existing&nbsp;log&nbsp;facility&nbsp;have&nbsp;probably&nbsp;written&nbsp;some&nbsp;gross&nbsp;hacks&nbsp;to&nbsp;deal&nbsp;with&nbsp;twistd.log&nbsp;by&nbsp;now&nbsp;because&nbsp;we&nbsp;haven't&nbsp;previously&nbsp;exposed&nbsp;it&nbsp;in&nbsp;any&nbsp;meaningful&nbsp;way,&nbsp;so&nbsp;we&nbsp;need&nbsp;to&nbsp;preserve&nbsp;the&nbsp;existing&nbsp;format&nbsp;for&nbsp;some&nbsp;amount&nbsp;of&nbsp;compatibility.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;My&nbsp;hope&nbsp;is&nbsp;that&nbsp;we&nbsp;can&nbsp;convince&nbsp;them&nbsp;to&nbsp;upgrade&nbsp;to&nbsp;some&nbsp;sort&nbsp;of&nbsp;structured&nbsp;system&nbsp;on&nbsp;its&nbsp;own&nbsp;merits,&nbsp;at&nbsp;the&nbsp;very&nbsp;least&nbsp;a&nbsp;log&nbsp;file&nbsp;that&nbsp;can&nbsp;be&nbsp;parsed&nbsp;reliably.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&nbsp;style=&quot;letter-spacing:&nbsp;normal;&nbsp;orphans:&nbsp;auto;&nbsp;text-align:&nbsp;start;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;widows:&nbsp;auto;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&quot;&gt;The&nbsp;prime&nbsp;goal,&nbsp;it&nbsp;seems&nbsp;to&nbsp;me,&nbsp;should&nbsp;be&nbsp;exposing&nbsp;features&nbsp;useful&nbsp;for&nbsp;facilities&nbsp;present&nbsp;in&nbsp;existing&nbsp;log&nbsp;systems.&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;That's&nbsp;certainly&nbsp;&lt;i&gt;a&lt;/i&gt;&nbsp;goal,&nbsp;but&nbsp;it's&nbsp;a&nbsp;little&nbsp;longer&nbsp;term&nbsp;than&nbsp;the&nbsp;&lt;i&gt;prime&lt;/i&gt;&nbsp;goal,&nbsp;which&nbsp;is&nbsp;to&nbsp;present&nbsp;a&nbsp;logging&nbsp;API&nbsp;that&nbsp;encourages&nbsp;any&nbsp;structure&nbsp;(and&nbsp;filtering&nbsp;based&nbsp;on&nbsp;that&nbsp;structure)&nbsp;to&nbsp;be&nbsp;expressed&nbsp;&lt;i&gt;at&nbsp;all.&nbsp;&nbsp;&lt;/i&gt;It&nbsp;would&nbsp;of&nbsp;course&nbsp;be&nbsp;much&nbsp;better&nbsp;if&nbsp;that&nbsp;structure&nbsp;were&nbsp;aligned&nbsp;with&nbsp;existing&nbsp;logging&nbsp;systems.&nbsp;&nbsp;If&nbsp;we&nbsp;had&nbsp;logging&nbsp;with&nbsp;structured&nbsp;messages&nbsp;already,&nbsp;there'd&nbsp;at&nbsp;least&nbsp;be&nbsp;a&nbsp;hope&nbsp;of&nbsp;writing&nbsp;a&nbsp;somewhat&nbsp;useful&nbsp;translator&nbsp;to&nbsp;these&nbsp;back-end&nbsp;systems.&nbsp;&nbsp;As&nbsp;it&nbsp;is,&nbsp;sadly,&nbsp;we're&nbsp;going&nbsp;to&nbsp;have&nbsp;to&nbsp;touch&nbsp;almost&nbsp;every&nbsp;log.msg()&nbsp;call&nbsp;within&nbsp;Twisted&nbsp;to&nbsp;get&nbsp;any&nbsp;useful&nbsp;information&nbsp;out.&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&nbsp;style=&quot;letter-spacing:&nbsp;normal;&nbsp;orphans:&nbsp;auto;&nbsp;text-align:&nbsp;start;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;widows:&nbsp;auto;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&quot;&gt;And&nbsp;having&nbsp;a&nbsp;logging&nbsp;system&nbsp;which&nbsp;doesn't&nbsp;even&nbsp;support&nbsp;a&nbsp;basic&nbsp;log&nbsp;level&nbsp;is&nbsp;just&nbsp;silly.&nbsp;Hopefully&nbsp;the&nbsp;new&nbsp;system&nbsp;can&nbsp;at&nbsp;least&nbsp;have&nbsp;that.&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;new&nbsp;system&nbsp;being&nbsp;proposed&nbsp;does&nbsp;have&nbsp;log&nbsp;levels.&nbsp;&nbsp;(And,&nbsp;for&nbsp;that&nbsp;matter,&nbsp;so&nbsp;does&nbsp;Twisted&nbsp;currently;&nbsp;we've&nbsp;had&nbsp;log&nbsp;levels&nbsp;for&nbsp;compatibility&nbsp;with&nbsp;stlib&nbsp;Python&nbsp;logging&nbsp;forever.)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;still&nbsp;don't&nbsp;think&nbsp;that&nbsp;log&nbsp;levels&nbsp;are&nbsp;a&nbsp;particularly&nbsp;useful&nbsp;bit&nbsp;of&nbsp;structured&nbsp;information,&nbsp;and&nbsp;this&nbsp;is&nbsp;one&nbsp;reason&nbsp;I&nbsp;want&nbsp;to&nbsp;have&nbsp;our&nbsp;own&nbsp;structured&nbsp;format,&nbsp;to&nbsp;make&nbsp;sure&nbsp;that&nbsp;the&nbsp;&lt;i&gt;other&lt;/i&gt;&nbsp;bits&nbsp;of&nbsp;&lt;i&gt;more&lt;/i&gt;&nbsp;useful&nbsp;information&nbsp;hang&nbsp;around&nbsp;for&nbsp;longer&nbsp;in&nbsp;a&nbsp;useful&nbsp;form.&nbsp;&nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I've&nbsp;been&nbsp;convinced&nbsp;that&nbsp;it's&nbsp;unhelpful&nbsp;to&nbsp;be&nbsp;contrarian&nbsp;and&nbsp;omit&nbsp;information&nbsp;which&nbsp;can&nbsp;be&nbsp;useful&nbsp;to&nbsp;a&nbsp;whole&nbsp;bunch&nbsp;of&nbsp;other&nbsp;systems&nbsp;and&nbsp;existing&nbsp;practices.&nbsp;&nbsp;(Also,&nbsp;the&nbsp;effort&nbsp;described&nbsp;therein&nbsp;is&nbsp;way&nbsp;too&nbsp;ambitious&nbsp;to&nbsp;do&nbsp;in&nbsp;any&nbsp;reasonable&nbsp;time&nbsp;frame&nbsp;unless&nbsp;someone&nbsp;wanted&nbsp;to&nbsp;make&nbsp;logging&nbsp;in&nbsp;Twisted&nbsp;their&nbsp;full-time&nbsp;job&nbsp;for&nbsp;at&nbsp;least&nbsp;a&nbsp;year.)&nbsp;&nbsp;Plus,&nbsp;I've&nbsp;seen&nbsp;some&nbsp;utility&nbsp;in&nbsp;Calendar&nbsp;Server&nbsp;from&nbsp;the&nbsp;use&nbsp;of&nbsp;the&nbsp;&lt;i&gt;intersection&lt;/i&gt;&nbsp;of&nbsp;&quot;level&quot;&nbsp;and&nbsp;&quot;namespace&quot;,&nbsp;although&nbsp;blanket&nbsp;application&nbsp;of&nbsp;log&nbsp;levels&nbsp;is&nbsp;still&nbsp;a&nbsp;crapshoot.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;(So,&nbsp;other&nbsp;than&nbsp;those&nbsp;caveats,&nbsp;everything&nbsp;I&nbsp;said&nbsp;about&nbsp;identifying&nbsp;the&nbsp;audience&nbsp;and&nbsp;intent&nbsp;of&nbsp;messages&nbsp;in&nbsp;&lt;&lt;a&nbsp;href=&quot;http://glyph.twistedmatrix.com/2009/06/who-wants-to-know.html&quot;&gt;http://glyph.twistedmatrix.com/2009/06/who-wants-to-know.html&lt;/a&gt;&gt;&nbsp;still&nbsp;applies.)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Do&nbsp;all&nbsp;the&nbsp;systems&nbsp;you&nbsp;mentioned&nbsp;have&nbsp;the&nbsp;same&nbsp;set&nbsp;of&nbsp;log&nbsp;levels,&nbsp;or&nbsp;will&nbsp;there&nbsp;be&nbsp;some&nbsp;need&nbsp;to&nbsp;harmonize&nbsp;them?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-glyph&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
