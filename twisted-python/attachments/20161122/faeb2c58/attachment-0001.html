<tt>
&lt;br&gt;&lt;br&gt;On&nbsp;Tuesday,&nbsp;November&nbsp;22,&nbsp;2016,&nbsp;Glyph&nbsp;Lefkowitz&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:glyph@twistedmatrix.com&quot;&gt;glyph@twistedmatrix.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;style=&quot;word-wrap:break-word&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Okay. &nbsp;So.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;rule&nbsp;for&nbsp;reverts&nbsp;like&nbsp;this&nbsp;is:&nbsp;if&nbsp;you&nbsp;do&nbsp;something&nbsp;today,&nbsp;which&nbsp;is&nbsp;correct&nbsp;usage&nbsp;of&nbsp;the&nbsp;API&nbsp;and&nbsp;produces&nbsp;an&nbsp;observably&nbsp;correct&nbsp;result,&nbsp;will&nbsp;that&nbsp;be&nbsp;broken&nbsp;in&nbsp;the&nbsp;future&nbsp;if&nbsp;we&nbsp;fix&nbsp;it? &nbsp;If&nbsp;so,&nbsp;then&nbsp;we&nbsp;need&nbsp;to&nbsp;revert&nbsp;because&nbsp;the&nbsp;interface&nbsp;as&nbsp;released&nbsp;is&nbsp;unsupportable.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;As&nbsp;it&nbsp;stands,&nbsp;we&nbsp;have&nbsp;a&nbsp;matrix&nbsp;of&nbsp;4&nbsp;behaviors:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;table&nbsp;cellspacing=&quot;0&quot;&nbsp;cellpadding=&quot;0&quot;&nbsp;style=&quot;border-collapse:collapse&quot;&gt;<br>
&lt;tbody&gt;<br>
&lt;tr&gt;<br>
&lt;td&nbsp;valign=&quot;top&quot;&nbsp;style=&quot;width:89.0px;height:18.0px;background-color:#bec0bf;border-style:solid;border-width:1.0px&nbsp;1.0px&nbsp;1.0px&nbsp;1.0px;border-color:#000000&nbsp;#000000&nbsp;#000000&nbsp;#000000;padding:4.0px&nbsp;4.0px&nbsp;4.0px&nbsp;4.0px&quot;&gt;&lt;div&nbsp;style=&quot;margin:0px;font-size:12px;line-height:normal;font-family:Helvetica;min-height:14px&quot;&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;/td&gt;<br>
&lt;td&nbsp;valign=&quot;top&quot;&nbsp;style=&quot;width:89.0px;height:18.0px;background-color:#bec0bf;border-style:solid;border-width:1.0px&nbsp;1.0px&nbsp;1.0px&nbsp;1.0px;border-color:#000000&nbsp;#000000&nbsp;#000000&nbsp;#000000;padding:4.0px&nbsp;4.0px&nbsp;4.0px&nbsp;4.0px&quot;&gt;&lt;div&nbsp;style=&quot;margin:0px&quot;&gt;&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;color=&quot;#000000&quot;&nbsp;style=&quot;font-size:15px;line-height:normal;font-family:Helvetica&quot;&gt;&lt;b&gt;bytes&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;<br>
&lt;/td&gt;<br>
&lt;td&nbsp;valign=&quot;top&quot;&nbsp;style=&quot;width:89.0px;height:18.0px;background-color:#bec0bf;border-style:solid;border-width:1.0px&nbsp;1.0px&nbsp;1.0px&nbsp;1.0px;border-color:#000000&nbsp;#000000&nbsp;#000000&nbsp;#000000;padding:4.0px&nbsp;4.0px&nbsp;4.0px&nbsp;4.0px&quot;&gt;&lt;div&nbsp;style=&quot;margin:0px&quot;&gt;&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;color=&quot;#000000&quot;&nbsp;style=&quot;font-size:15px;line-height:normal;font-family:Helvetica&quot;&gt;&lt;b&gt;text(ascii)&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;<br>
&lt;/td&gt;<br>
&lt;td&nbsp;valign=&quot;top&quot;&nbsp;style=&quot;width:158.0px;height:18.0px;background-color:#bec0bf;border-style:solid;border-width:1.0px&nbsp;1.0px&nbsp;1.0px&nbsp;1.0px;border-color:#000000&nbsp;#000000&nbsp;#000000&nbsp;#000000;padding:4.0px&nbsp;4.0px&nbsp;4.0px&nbsp;4.0px&quot;&gt;&lt;div&nbsp;style=&quot;margin:0px&quot;&gt;&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;color=&quot;#000000&quot;&nbsp;style=&quot;font-size:15px;line-height:normal;font-family:Helvetica&quot;&gt;&lt;b&gt;text(nonascii)&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;<br>
&lt;/td&gt;<br>
&lt;/tr&gt;<br>
&lt;tr&gt;<br>
&lt;td&nbsp;valign=&quot;top&quot;&nbsp;style=&quot;width:89.0px;height:17.0px;background-color:#dcdcdc;border-style:solid;border-width:1.0px&nbsp;1.0px&nbsp;1.0px&nbsp;1.0px;border-color:#000000&nbsp;#000000&nbsp;#000000&nbsp;#000000;padding:4.0px&nbsp;4.0px&nbsp;4.0px&nbsp;4.0px&quot;&gt;&lt;div&nbsp;style=&quot;margin:0px&quot;&gt;&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;color=&quot;#000000&quot;&nbsp;style=&quot;font-size:15px;line-height:normal;font-family:Helvetica&quot;&gt;&lt;b&gt;py2&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;<br>
&lt;/td&gt;<br>
&lt;td&nbsp;valign=&quot;top&quot;&nbsp;style=&quot;width:89.0px;height:17.0px;border-style:solid;border-width:1.0px&nbsp;1.0px&nbsp;1.0px&nbsp;1.0px;border-color:#000000&nbsp;#000000&nbsp;#000000&nbsp;#000000;padding:4.0px&nbsp;4.0px&nbsp;4.0px&nbsp;4.0px&quot;&gt;&lt;div&nbsp;style=&quot;margin:0px&quot;&gt;&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;color=&quot;#000000&quot;&nbsp;style=&quot;font-size:15px;line-height:normal;font-family:Helvetica&quot;&gt;works&lt;/font&gt;&lt;/div&gt;<br>
&lt;/td&gt;<br>
&lt;td&nbsp;valign=&quot;top&quot;&nbsp;style=&quot;width:89.0px;height:17.0px;border-style:solid;border-width:1.0px&nbsp;1.0px&nbsp;1.0px&nbsp;1.0px;border-color:#000000&nbsp;#000000&nbsp;#000000&nbsp;#000000;padding:4.0px&nbsp;4.0px&nbsp;4.0px&nbsp;4.0px&quot;&gt;&lt;div&nbsp;style=&quot;margin:0px&quot;&gt;&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;color=&quot;#000000&quot;&nbsp;style=&quot;font-size:15px;line-height:normal;font-family:Helvetica&quot;&gt;works&lt;/font&gt;&lt;/div&gt;<br>
&lt;/td&gt;<br>
&lt;td&nbsp;valign=&quot;top&quot;&nbsp;style=&quot;width:158.0px;height:17.0px;border-style:solid;border-width:1.0px&nbsp;1.0px&nbsp;1.0px&nbsp;1.0px;border-color:#000000&nbsp;#000000&nbsp;#000000&nbsp;#000000;padding:4.0px&nbsp;4.0px&nbsp;4.0px&nbsp;4.0px&quot;&gt;&lt;div&nbsp;style=&quot;margin:0px&quot;&gt;&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;color=&quot;#000000&quot;&nbsp;style=&quot;font-size:15px;line-height:normal;font-family:Helvetica&quot;&gt;UnicodeDecodeError&lt;/font&gt;&lt;/div&gt;<br>
&lt;/td&gt;<br>
&lt;/tr&gt;<br>
&lt;tr&gt;<br>
&lt;td&nbsp;valign=&quot;top&quot;&nbsp;style=&quot;width:89.0px;height:17.0px;background-color:#dcdcdc;border-style:solid;border-width:1.0px&nbsp;1.0px&nbsp;1.0px&nbsp;1.0px;border-color:#000000&nbsp;#000000&nbsp;#000000&nbsp;#000000;padding:4.0px&nbsp;4.0px&nbsp;4.0px&nbsp;4.0px&quot;&gt;&lt;div&nbsp;style=&quot;margin:0px&quot;&gt;&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;color=&quot;#000000&quot;&nbsp;style=&quot;font-size:15px;line-height:normal;font-family:Helvetica&quot;&gt;&lt;b&gt;py3&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;<br>
&lt;/td&gt;<br>
&lt;td&nbsp;valign=&quot;top&quot;&nbsp;style=&quot;width:89.0px;height:17.0px;border-style:solid;border-width:1.0px&nbsp;1.0px&nbsp;1.0px&nbsp;1.0px;border-color:#000000&nbsp;#000000&nbsp;#000000&nbsp;#000000;padding:4.0px&nbsp;4.0px&nbsp;4.0px&nbsp;4.0px&quot;&gt;&lt;div&nbsp;style=&quot;margin:0px&quot;&gt;&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;color=&quot;#000000&quot;&nbsp;style=&quot;font-size:15px;line-height:normal;font-family:Helvetica&quot;&gt;garbage&lt;/font&gt;&lt;/div&gt;<br>
&lt;/td&gt;<br>
&lt;td&nbsp;valign=&quot;top&quot;&nbsp;style=&quot;width:89.0px;height:17.0px;border-style:solid;border-width:1.0px&nbsp;1.0px&nbsp;1.0px&nbsp;1.0px;border-color:#000000&nbsp;#000000&nbsp;#000000&nbsp;#000000;padding:4.0px&nbsp;4.0px&nbsp;4.0px&nbsp;4.0px&quot;&gt;&lt;div&nbsp;style=&quot;margin:0px&quot;&gt;&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;color=&quot;#000000&quot;&nbsp;style=&quot;font-size:15px;line-height:normal;font-family:Helvetica&quot;&gt;works&lt;/font&gt;&lt;/div&gt;<br>
&lt;/td&gt;<br>
&lt;td&nbsp;valign=&quot;top&quot;&nbsp;style=&quot;width:158.0px;height:17.0px;border-style:solid;border-width:1.0px&nbsp;1.0px&nbsp;1.0px&nbsp;1.0px;border-color:#000000&nbsp;#000000&nbsp;#000000&nbsp;#000000;padding:4.0px&nbsp;4.0px&nbsp;4.0px&nbsp;4.0px&quot;&gt;&lt;div&nbsp;style=&quot;margin:0px&quot;&gt;&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;color=&quot;#000000&quot;&nbsp;style=&quot;font-size:15px;line-height:normal;font-family:Helvetica&quot;&gt;works&lt;/font&gt;&lt;/div&gt;<br>
&lt;/td&gt;<br>
&lt;/tr&gt;<br>
&lt;/tbody&gt;<br>
&lt;/table&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;This...&nbsp;is&nbsp;actually...&nbsp;fine,&nbsp;surprisingly.&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt; &lt;/div&gt;&lt;div&gt;Given&nbsp;that&nbsp;matrix,&nbsp;how&nbsp;would&nbsp;this&nbsp;work&nbsp;on&nbsp;Python&nbsp;2&nbsp;and&nbsp;3:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;https://github.com/buildbot/buildbot/blob/40d5dd3d101704aa8db582e306b3c6cf7921c23c/master/buildbot/reporters/irc.py#L67-L68&quot;&gt;https://github.com/buildbot/buildbot/blob/40d5dd3d101704aa8db582e306b3c6cf7921c23c/master/buildbot/reporters/irc.py#L67-L68&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;And&nbsp;how&nbsp;would&nbsp;that&nbsp;code&nbsp;not&nbsp;have&nbsp;to&nbsp;change&nbsp;if&nbsp;a&nbsp;future&nbsp;release&nbsp;accommodates&nbsp;Unicode&nbsp;on&nbsp;Python&nbsp;2&nbsp;or&nbsp;bytes&nbsp;on&nbsp;Python&nbsp;3?&lt;/div&gt;&lt;div&gt; &lt;/div&gt;<br>

</tt>
