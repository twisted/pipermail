<tt>
&lt;html&gt;&lt;head&gt;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html&nbsp;charset=us-ascii&quot;&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&quot;&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;On&nbsp;Nov&nbsp;22,&nbsp;2016,&nbsp;at&nbsp;20:27,&nbsp;Mark&nbsp;Williams&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:markrwilliams@gmail.com&quot;&nbsp;class=&quot;&quot;&gt;markrwilliams@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;On&nbsp;Tue,&nbsp;Nov&nbsp;22,&nbsp;2016&nbsp;at&nbsp;06:31:45PM&nbsp;-0500,&nbsp;Glyph&nbsp;Lefkowitz&nbsp;wrote:&lt;br&nbsp;class=&quot;&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;OK,&nbsp;this&nbsp;whole&nbsp;time&nbsp;I&nbsp;thought&nbsp;we&nbsp;were&nbsp;talking&nbsp;about&nbsp;a&nbsp;sensible&nbsp;application&nbsp;of&nbsp;text_type&nbsp;to&nbsp;the&nbsp;API,&nbsp;perhaps&nbsp;with&nbsp;some&nbsp;leniency&nbsp;for&nbsp;bytes-ish-ness&nbsp;on&nbsp;python&nbsp;2.&nbsp;&nbsp;I&nbsp;haven't&nbsp;reviewed&nbsp;the&nbsp;PR,&nbsp;I&nbsp;was&nbsp;just&nbsp;responding&nbsp;to&nbsp;the&nbsp;concerns&nbsp;as&nbsp;raised&nbsp;on&nbsp;the&nbsp;list.&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/blockquote&gt;&lt;br&nbsp;class=&quot;&quot;&gt;Sorry&nbsp;-&nbsp;I&nbsp;didn't&nbsp;mean&nbsp;to&nbsp;steer&nbsp;this&nbsp;towards&nbsp;API&nbsp;bike&nbsp;shedding.&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;If&nbsp;it's&nbsp;just&nbsp;randomly&nbsp;encoding&nbsp;on&nbsp;one&nbsp;version&nbsp;and&nbsp;not&nbsp;the&nbsp;other,&nbsp;and&nbsp;correct&nbsp;usage&nbsp;of&nbsp;the&nbsp;API&nbsp;depends&nbsp;on&nbsp;*users*&nbsp;doing&nbsp;'if&nbsp;PY2:'&nbsp;in&nbsp;their&nbsp;own&nbsp;code,&nbsp;then&nbsp;perhaps&nbsp;Mark's&nbsp;concern&nbsp;is&nbsp;indeed&nbsp;well-founded&nbsp;and&nbsp;we&nbsp;should&nbsp;roll&nbsp;it&nbsp;back&nbsp;before&nbsp;16.6.&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/blockquote&gt;&lt;br&nbsp;class=&quot;&quot;&gt;Tristan's&nbsp;exactly&nbsp;right.&nbsp;&nbsp;Furthermore,&nbsp;if&nbsp;we&nbsp;decide&nbsp;to&nbsp;make&nbsp;IRCClient&lt;br&nbsp;class=&quot;&quot;&gt;call&nbsp;its&nbsp;various&nbsp;command&nbsp;methods&nbsp;with&nbsp;unicode&nbsp;strings&nbsp;on&nbsp;Python&nbsp;2,&lt;br&nbsp;class=&quot;&quot;&gt;we'll&nbsp;be&nbsp;breaking&nbsp;backwards&nbsp;compatibility.&nbsp;&nbsp;This&nbsp;is&nbsp;what&nbsp;I&nbsp;meant&nbsp;when&lt;br&nbsp;class=&quot;&quot;&gt;I&nbsp;wrote:&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;On&nbsp;Nov&nbsp;20,&nbsp;2016,&nbsp;at&nbsp;19:35,&nbsp;Mark&nbsp;Williams&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:markrwilliams@gmail.com&quot;&nbsp;class=&quot;&quot;&gt;markrwilliams@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&nbsp;class=&quot;&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;Yes.&nbsp;&nbsp;Here's&nbsp;the&nbsp;lede:&nbsp;IRCClient&nbsp;should&nbsp;deal&nbsp;in&nbsp;bytes&nbsp;and&nbsp;we&nbsp;should&lt;br&nbsp;class=&quot;&quot;&gt;introduce&nbsp;a&nbsp;ProtocolWrapper-like&nbsp;thing&nbsp;that&nbsp;encodes&nbsp;and&nbsp;decodes&lt;br&nbsp;class=&quot;&quot;&gt;command&nbsp;prefixes&nbsp;and&nbsp;parameters.&nbsp;&nbsp;It&nbsp;should&nbsp;implement&nbsp;an&nbsp;interface,&lt;br&nbsp;class=&quot;&quot;&gt;and&nbsp;we&nbsp;can&nbsp;start&nbsp;with&nbsp;an&nbsp;implementation&nbsp;that&nbsp;only&nbsp;knows&nbsp;about&nbsp;UTF-8.&lt;br&nbsp;class=&quot;&quot;&gt;The&nbsp;obvious&nbsp;advantage&nbsp;of&nbsp;this&nbsp;is&nbsp;that&nbsp;you&nbsp;can&nbsp;more&nbsp;easily&nbsp;write&lt;br&nbsp;class=&quot;&quot;&gt;IRCClients&nbsp;that&nbsp;work&nbsp;on&nbsp;both&nbsp;Python&nbsp;2&nbsp;and&nbsp;3.&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/blockquote&gt;&lt;br&nbsp;class=&quot;&quot;&gt;But&nbsp;it&nbsp;totally&nbsp;wasn't&nbsp;clear&nbsp;-&nbsp;sorry!&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;Of&nbsp;course,&nbsp;I&nbsp;also&nbsp;want&nbsp;IRC&nbsp;client&nbsp;implementation&nbsp;that&nbsp;lets&nbsp;me&nbsp;get&nbsp;at&lt;br&nbsp;class=&quot;&quot;&gt;bytes,&nbsp;but&nbsp;that's&nbsp;a&nbsp;discussion&nbsp;I'll&nbsp;move&nbsp;to&nbsp;a&nbsp;new&nbsp;thread.&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;Given&nbsp;the&nbsp;inconsistency&nbsp;between&nbsp;Python&nbsp;2&nbsp;and&nbsp;Python&nbsp;3,&nbsp;do&nbsp;we&nbsp;proceed&lt;br&nbsp;class=&quot;&quot;&gt;with&nbsp;the&nbsp;revert?&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;Okay.&nbsp;&nbsp;So.&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;rule&nbsp;for&nbsp;reverts&nbsp;like&nbsp;this&nbsp;is:&nbsp;if&nbsp;you&nbsp;do&nbsp;something&nbsp;today,&nbsp;which&nbsp;is&nbsp;correct&nbsp;usage&nbsp;of&nbsp;the&nbsp;API&nbsp;and&nbsp;produces&nbsp;an&nbsp;observably&nbsp;correct&nbsp;result,&nbsp;will&nbsp;that&nbsp;be&nbsp;broken&nbsp;in&nbsp;the&nbsp;future&nbsp;if&nbsp;we&nbsp;fix&nbsp;it?&nbsp;&nbsp;If&nbsp;so,&nbsp;then&nbsp;we&nbsp;need&nbsp;to&nbsp;revert&nbsp;because&nbsp;the&nbsp;interface&nbsp;as&nbsp;released&nbsp;is&nbsp;unsupportable.&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;As&nbsp;it&nbsp;stands,&nbsp;we&nbsp;have&nbsp;a&nbsp;matrix&nbsp;of&nbsp;4&nbsp;behaviors:&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;&lt;table&nbsp;cellspacing=&quot;0&quot;&nbsp;cellpadding=&quot;0&quot;&nbsp;style=&quot;border-collapse:&nbsp;collapse&quot;&nbsp;class=&quot;&quot;&gt;<br>
&lt;tbody&nbsp;class=&quot;&quot;&gt;<br>
&lt;tr&nbsp;class=&quot;&quot;&gt;<br>
&lt;td&nbsp;valign=&quot;top&quot;&nbsp;style=&quot;width:&nbsp;89.0px;&nbsp;height:&nbsp;18.0px;&nbsp;background-color:&nbsp;#bec0bf;&nbsp;border-style:&nbsp;solid;&nbsp;border-width:&nbsp;1.0px&nbsp;1.0px&nbsp;1.0px&nbsp;1.0px;&nbsp;border-color:&nbsp;#000000&nbsp;#000000&nbsp;#000000&nbsp;#000000;&nbsp;padding:&nbsp;4.0px&nbsp;4.0px&nbsp;4.0px&nbsp;4.0px&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;style=&quot;margin:&nbsp;0px;&nbsp;font-size:&nbsp;12px;&nbsp;line-height:&nbsp;normal;&nbsp;font-family:&nbsp;Helvetica;&nbsp;min-height:&nbsp;14px;&quot;&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;<br>
&lt;/td&gt;<br>
&lt;td&nbsp;valign=&quot;top&quot;&nbsp;style=&quot;width:&nbsp;89.0px;&nbsp;height:&nbsp;18.0px;&nbsp;background-color:&nbsp;#bec0bf;&nbsp;border-style:&nbsp;solid;&nbsp;border-width:&nbsp;1.0px&nbsp;1.0px&nbsp;1.0px&nbsp;1.0px;&nbsp;border-color:&nbsp;#000000&nbsp;#000000&nbsp;#000000&nbsp;#000000;&nbsp;padding:&nbsp;4.0px&nbsp;4.0px&nbsp;4.0px&nbsp;4.0px&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;style=&quot;margin:&nbsp;0px;&quot;&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;color=&quot;#000000&quot;&nbsp;style=&quot;font-size:&nbsp;15px;&nbsp;line-height:&nbsp;normal;&nbsp;font-family:&nbsp;Helvetica;&nbsp;-webkit-font-kerning:&nbsp;none;&nbsp;font-variant-ligatures:&nbsp;common-ligatures;&nbsp;-webkit-text-stroke-color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&quot;&nbsp;class=&quot;&quot;&gt;&lt;b&nbsp;class=&quot;&quot;&gt;bytes&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;<br>
&lt;/td&gt;<br>
&lt;td&nbsp;valign=&quot;top&quot;&nbsp;style=&quot;width:&nbsp;89.0px;&nbsp;height:&nbsp;18.0px;&nbsp;background-color:&nbsp;#bec0bf;&nbsp;border-style:&nbsp;solid;&nbsp;border-width:&nbsp;1.0px&nbsp;1.0px&nbsp;1.0px&nbsp;1.0px;&nbsp;border-color:&nbsp;#000000&nbsp;#000000&nbsp;#000000&nbsp;#000000;&nbsp;padding:&nbsp;4.0px&nbsp;4.0px&nbsp;4.0px&nbsp;4.0px&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;style=&quot;margin:&nbsp;0px;&quot;&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;color=&quot;#000000&quot;&nbsp;style=&quot;font-size:&nbsp;15px;&nbsp;line-height:&nbsp;normal;&nbsp;font-family:&nbsp;Helvetica;&nbsp;-webkit-font-kerning:&nbsp;none;&nbsp;font-variant-ligatures:&nbsp;common-ligatures;&nbsp;-webkit-text-stroke-color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&quot;&nbsp;class=&quot;&quot;&gt;&lt;b&nbsp;class=&quot;&quot;&gt;text(ascii)&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;<br>
&lt;/td&gt;<br>
&lt;td&nbsp;valign=&quot;top&quot;&nbsp;style=&quot;width:&nbsp;158.0px;&nbsp;height:&nbsp;18.0px;&nbsp;background-color:&nbsp;#bec0bf;&nbsp;border-style:&nbsp;solid;&nbsp;border-width:&nbsp;1.0px&nbsp;1.0px&nbsp;1.0px&nbsp;1.0px;&nbsp;border-color:&nbsp;#000000&nbsp;#000000&nbsp;#000000&nbsp;#000000;&nbsp;padding:&nbsp;4.0px&nbsp;4.0px&nbsp;4.0px&nbsp;4.0px&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;style=&quot;margin:&nbsp;0px;&quot;&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;color=&quot;#000000&quot;&nbsp;style=&quot;font-size:&nbsp;15px;&nbsp;line-height:&nbsp;normal;&nbsp;font-family:&nbsp;Helvetica;&nbsp;-webkit-font-kerning:&nbsp;none;&nbsp;font-variant-ligatures:&nbsp;common-ligatures;&nbsp;-webkit-text-stroke-color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&quot;&nbsp;class=&quot;&quot;&gt;&lt;b&nbsp;class=&quot;&quot;&gt;text(nonascii)&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;<br>
&lt;/td&gt;<br>
&lt;/tr&gt;<br>
&lt;tr&nbsp;class=&quot;&quot;&gt;<br>
&lt;td&nbsp;valign=&quot;top&quot;&nbsp;style=&quot;width:&nbsp;89.0px;&nbsp;height:&nbsp;17.0px;&nbsp;background-color:&nbsp;#dcdcdc;&nbsp;border-style:&nbsp;solid;&nbsp;border-width:&nbsp;1.0px&nbsp;1.0px&nbsp;1.0px&nbsp;1.0px;&nbsp;border-color:&nbsp;#000000&nbsp;#000000&nbsp;#000000&nbsp;#000000;&nbsp;padding:&nbsp;4.0px&nbsp;4.0px&nbsp;4.0px&nbsp;4.0px&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;style=&quot;margin:&nbsp;0px;&quot;&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;color=&quot;#000000&quot;&nbsp;style=&quot;font-size:&nbsp;15px;&nbsp;line-height:&nbsp;normal;&nbsp;font-family:&nbsp;Helvetica;&nbsp;-webkit-font-kerning:&nbsp;none;&nbsp;font-variant-ligatures:&nbsp;common-ligatures;&nbsp;-webkit-text-stroke-color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&quot;&nbsp;class=&quot;&quot;&gt;&lt;b&nbsp;class=&quot;&quot;&gt;py2&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;<br>
&lt;/td&gt;<br>
&lt;td&nbsp;valign=&quot;top&quot;&nbsp;style=&quot;width:&nbsp;89.0px;&nbsp;height:&nbsp;17.0px;&nbsp;border-style:&nbsp;solid;&nbsp;border-width:&nbsp;1.0px&nbsp;1.0px&nbsp;1.0px&nbsp;1.0px;&nbsp;border-color:&nbsp;#000000&nbsp;#000000&nbsp;#000000&nbsp;#000000;&nbsp;padding:&nbsp;4.0px&nbsp;4.0px&nbsp;4.0px&nbsp;4.0px&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;style=&quot;margin:&nbsp;0px;&quot;&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;color=&quot;#000000&quot;&nbsp;style=&quot;font-size:&nbsp;15px;&nbsp;line-height:&nbsp;normal;&nbsp;font-family:&nbsp;Helvetica;&nbsp;-webkit-font-kerning:&nbsp;none;&nbsp;font-variant-ligatures:&nbsp;common-ligatures;&nbsp;-webkit-text-stroke-color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&quot;&nbsp;class=&quot;&quot;&gt;works&lt;/font&gt;&lt;/div&gt;<br>
&lt;/td&gt;<br>
&lt;td&nbsp;valign=&quot;top&quot;&nbsp;style=&quot;width:&nbsp;89.0px;&nbsp;height:&nbsp;17.0px;&nbsp;border-style:&nbsp;solid;&nbsp;border-width:&nbsp;1.0px&nbsp;1.0px&nbsp;1.0px&nbsp;1.0px;&nbsp;border-color:&nbsp;#000000&nbsp;#000000&nbsp;#000000&nbsp;#000000;&nbsp;padding:&nbsp;4.0px&nbsp;4.0px&nbsp;4.0px&nbsp;4.0px&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;style=&quot;margin:&nbsp;0px;&quot;&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;color=&quot;#000000&quot;&nbsp;style=&quot;font-size:&nbsp;15px;&nbsp;line-height:&nbsp;normal;&nbsp;font-family:&nbsp;Helvetica;&nbsp;-webkit-font-kerning:&nbsp;none;&nbsp;font-variant-ligatures:&nbsp;common-ligatures;&nbsp;-webkit-text-stroke-color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&quot;&nbsp;class=&quot;&quot;&gt;works&lt;/font&gt;&lt;/div&gt;<br>
&lt;/td&gt;<br>
&lt;td&nbsp;valign=&quot;top&quot;&nbsp;style=&quot;width:&nbsp;158.0px;&nbsp;height:&nbsp;17.0px;&nbsp;border-style:&nbsp;solid;&nbsp;border-width:&nbsp;1.0px&nbsp;1.0px&nbsp;1.0px&nbsp;1.0px;&nbsp;border-color:&nbsp;#000000&nbsp;#000000&nbsp;#000000&nbsp;#000000;&nbsp;padding:&nbsp;4.0px&nbsp;4.0px&nbsp;4.0px&nbsp;4.0px&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;style=&quot;margin:&nbsp;0px;&quot;&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;color=&quot;#000000&quot;&nbsp;style=&quot;font-size:&nbsp;15px;&nbsp;line-height:&nbsp;normal;&nbsp;font-family:&nbsp;Helvetica;&nbsp;-webkit-font-kerning:&nbsp;none;&nbsp;font-variant-ligatures:&nbsp;common-ligatures;&nbsp;-webkit-text-stroke-color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&quot;&nbsp;class=&quot;&quot;&gt;UnicodeDecodeError&lt;/font&gt;&lt;/div&gt;<br>
&lt;/td&gt;<br>
&lt;/tr&gt;<br>
&lt;tr&nbsp;class=&quot;&quot;&gt;<br>
&lt;td&nbsp;valign=&quot;top&quot;&nbsp;style=&quot;width:&nbsp;89.0px;&nbsp;height:&nbsp;17.0px;&nbsp;background-color:&nbsp;#dcdcdc;&nbsp;border-style:&nbsp;solid;&nbsp;border-width:&nbsp;1.0px&nbsp;1.0px&nbsp;1.0px&nbsp;1.0px;&nbsp;border-color:&nbsp;#000000&nbsp;#000000&nbsp;#000000&nbsp;#000000;&nbsp;padding:&nbsp;4.0px&nbsp;4.0px&nbsp;4.0px&nbsp;4.0px&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;style=&quot;margin:&nbsp;0px;&quot;&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;color=&quot;#000000&quot;&nbsp;style=&quot;font-size:&nbsp;15px;&nbsp;line-height:&nbsp;normal;&nbsp;font-family:&nbsp;Helvetica;&nbsp;-webkit-font-kerning:&nbsp;none;&nbsp;font-variant-ligatures:&nbsp;common-ligatures;&nbsp;-webkit-text-stroke-color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&quot;&nbsp;class=&quot;&quot;&gt;&lt;b&nbsp;class=&quot;&quot;&gt;py3&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;<br>
&lt;/td&gt;<br>
&lt;td&nbsp;valign=&quot;top&quot;&nbsp;style=&quot;width:&nbsp;89.0px;&nbsp;height:&nbsp;17.0px;&nbsp;border-style:&nbsp;solid;&nbsp;border-width:&nbsp;1.0px&nbsp;1.0px&nbsp;1.0px&nbsp;1.0px;&nbsp;border-color:&nbsp;#000000&nbsp;#000000&nbsp;#000000&nbsp;#000000;&nbsp;padding:&nbsp;4.0px&nbsp;4.0px&nbsp;4.0px&nbsp;4.0px&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;style=&quot;margin:&nbsp;0px;&quot;&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;color=&quot;#000000&quot;&nbsp;style=&quot;font-size:&nbsp;15px;&nbsp;line-height:&nbsp;normal;&nbsp;font-family:&nbsp;Helvetica;&nbsp;-webkit-font-kerning:&nbsp;none;&nbsp;font-variant-ligatures:&nbsp;common-ligatures;&nbsp;-webkit-text-stroke-color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&quot;&nbsp;class=&quot;&quot;&gt;garbage&lt;/font&gt;&lt;/div&gt;<br>
&lt;/td&gt;<br>
&lt;td&nbsp;valign=&quot;top&quot;&nbsp;style=&quot;width:&nbsp;89.0px;&nbsp;height:&nbsp;17.0px;&nbsp;border-style:&nbsp;solid;&nbsp;border-width:&nbsp;1.0px&nbsp;1.0px&nbsp;1.0px&nbsp;1.0px;&nbsp;border-color:&nbsp;#000000&nbsp;#000000&nbsp;#000000&nbsp;#000000;&nbsp;padding:&nbsp;4.0px&nbsp;4.0px&nbsp;4.0px&nbsp;4.0px&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;style=&quot;margin:&nbsp;0px;&quot;&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;color=&quot;#000000&quot;&nbsp;style=&quot;font-size:&nbsp;15px;&nbsp;line-height:&nbsp;normal;&nbsp;font-family:&nbsp;Helvetica;&nbsp;-webkit-font-kerning:&nbsp;none;&nbsp;font-variant-ligatures:&nbsp;common-ligatures;&nbsp;-webkit-text-stroke-color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&quot;&nbsp;class=&quot;&quot;&gt;works&lt;/font&gt;&lt;/div&gt;<br>
&lt;/td&gt;<br>
&lt;td&nbsp;valign=&quot;top&quot;&nbsp;style=&quot;width:&nbsp;158.0px;&nbsp;height:&nbsp;17.0px;&nbsp;border-style:&nbsp;solid;&nbsp;border-width:&nbsp;1.0px&nbsp;1.0px&nbsp;1.0px&nbsp;1.0px;&nbsp;border-color:&nbsp;#000000&nbsp;#000000&nbsp;#000000&nbsp;#000000;&nbsp;padding:&nbsp;4.0px&nbsp;4.0px&nbsp;4.0px&nbsp;4.0px&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;style=&quot;margin:&nbsp;0px;&quot;&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;color=&quot;#000000&quot;&nbsp;style=&quot;font-size:&nbsp;15px;&nbsp;line-height:&nbsp;normal;&nbsp;font-family:&nbsp;Helvetica;&nbsp;-webkit-font-kerning:&nbsp;none;&nbsp;font-variant-ligatures:&nbsp;common-ligatures;&nbsp;-webkit-text-stroke-color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&quot;&nbsp;class=&quot;&quot;&gt;works&lt;/font&gt;&lt;/div&gt;<br>
&lt;/td&gt;<br>
&lt;/tr&gt;<br>
&lt;/tbody&gt;<br>
&lt;/table&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;This...&nbsp;is&nbsp;actually...&nbsp;fine,&nbsp;surprisingly.&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;&lt;i&nbsp;class=&quot;&quot;&gt;right&lt;/i&gt;&nbsp;thing&nbsp;to&nbsp;do&nbsp;is&nbsp;to&nbsp;write&nbsp;code&nbsp;that&nbsp;passes&nbsp;text&nbsp;all&nbsp;the&nbsp;time.&nbsp;&nbsp;If&nbsp;you&nbsp;do&nbsp;that&nbsp;right&nbsp;now,&nbsp;it'll&nbsp;work&nbsp;on&nbsp;py3&nbsp;and&nbsp;raise&nbsp;an&nbsp;exception&nbsp;on&nbsp;py2,&nbsp;unless&nbsp;it&nbsp;&lt;i&nbsp;class=&quot;&quot;&gt;happens&lt;/i&gt;&nbsp;to&nbsp;be&nbsp;ASCII,&nbsp;in&nbsp;which&nbsp;case&nbsp;it'll&nbsp;work.&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;you&nbsp;write&nbsp;code&nbsp;that&nbsp;passes&nbsp;bytes&nbsp;on&nbsp;py3,&nbsp;it'll&nbsp;just&nbsp;be&nbsp;garbage.&nbsp;&nbsp;But,&nbsp;we&nbsp;want&nbsp;to&nbsp;deprecate&nbsp;that&nbsp;anyway,&nbsp;and&nbsp;you&nbsp;can't&nbsp;get&nbsp;correct,&nbsp;usable&nbsp;behavior&nbsp;out&nbsp;of&nbsp;it,&nbsp;no&nbsp;matter&nbsp;what&nbsp;workarounds&nbsp;you&nbsp;stuff&nbsp;in;&nbsp;so&nbsp;it's&nbsp;a&nbsp;bug,&nbsp;and&nbsp;can&nbsp;be&nbsp;fixed&nbsp;like&nbsp;any&nbsp;bug.&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;Similarly&nbsp;if&nbsp;you&nbsp;pass&nbsp;non-ascii&nbsp;text&nbsp;on&nbsp;py3,&nbsp;you'll&nbsp;get&nbsp;a&nbsp;UnicodeDecodeError.&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;is&nbsp;not&nbsp;a&nbsp;&lt;i&nbsp;class=&quot;&quot;&gt;good&nbsp;situation&lt;/i&gt;,&nbsp;but&nbsp;it's&nbsp;totally&nbsp;fixable&nbsp;without&nbsp;breaking&nbsp;the&nbsp;interface.&nbsp;&nbsp;We&nbsp;just&nbsp;fix&nbsp;the&nbsp;py2&nbsp;version&nbsp;to&nbsp;accept&nbsp;text_type&nbsp;as&nbsp;well,&nbsp;and&nbsp;if&nbsp;Mark&nbsp;sneaks&nbsp;in&nbsp;a&nbsp;patch&nbsp;that&nbsp;makes&nbsp;py3&nbsp;do&nbsp;the&nbsp;right&nbsp;thing&nbsp;with&nbsp;bytes,&nbsp;well,&nbsp;I&nbsp;don't&nbsp;know&nbsp;that&nbsp;I&nbsp;can&nbsp;stop&nbsp;him.&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;More&nbsp;importantly,&nbsp;it&nbsp;would&nbsp;probably&nbsp;be&nbsp;a&nbsp;&lt;i&nbsp;class=&quot;&quot;&gt;smaller&nbsp;change&lt;/i&gt;&nbsp;to&nbsp;fix&nbsp;the&nbsp;methods&nbsp;(we&nbsp;could&nbsp;even&nbsp;fix&nbsp;them&nbsp;one&nbsp;at&nbsp;a&nbsp;time;&nbsp;say,&nbsp;action,&nbsp;join,&nbsp;etc)&nbsp;than&nbsp;to&nbsp;un-port&nbsp;and&nbsp;re-port&nbsp;the&nbsp;whole&nbsp;thing.&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;So:&nbsp;yes,&nbsp;it's&nbsp;broken,&nbsp;and&nbsp;in&nbsp;a&nbsp;worse&nbsp;way&nbsp;than&nbsp;I&nbsp;thought.&nbsp;&nbsp;To&nbsp;get&nbsp;it&nbsp;to&nbsp;the&nbsp;point&nbsp;where&nbsp;we&nbsp;can&nbsp;actually&nbsp;implement&nbsp;logic&nbsp;consistently&nbsp;between&nbsp;two&nbsp;versions,&nbsp;we&nbsp;need&nbsp;to&nbsp;add&nbsp;a&nbsp;flag&nbsp;to&nbsp;IRCClient's&nbsp;constructor&nbsp;which&nbsp;is&nbsp;default-false&nbsp;on&nbsp;py2&nbsp;and&nbsp;default-true&nbsp;on&nbsp;py3&nbsp;which&nbsp;says&nbsp;&quot;give&nbsp;me&nbsp;text&quot;,&nbsp;so&nbsp;that&nbsp;callbacks&nbsp;like&nbsp;privmsg&nbsp;and&nbsp;joined&nbsp;can&nbsp;start&nbsp;receiving&nbsp;text_type&nbsp;on&nbsp;py2&nbsp;as&nbsp;well&nbsp;as&nbsp;py3;&nbsp;right&nbsp;now&nbsp;it&nbsp;has&nbsp;to&nbsp;receive&nbsp;str&nbsp;because&nbsp;they've&nbsp;previously&nbsp;received&nbsp;str.&nbsp;&nbsp;But&nbsp;that's&nbsp;a&nbsp;separate&nbsp;issue.&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;am&nbsp;open&nbsp;to&nbsp;the&nbsp;idea&nbsp;that&nbsp;I&nbsp;have&nbsp;evaluated&nbsp;this&nbsp;incorrectly&nbsp;though,&nbsp;since&nbsp;this&nbsp;has&nbsp;been&nbsp;possibly&nbsp;the&nbsp;most&nbsp;confusing&nbsp;change&nbsp;since&nbsp;&lt;a&nbsp;href=&quot;https://twistedmatrix.com/trac/ticket/411&quot;&nbsp;class=&quot;&quot;&gt;https://twistedmatrix.com/trac/ticket/411&lt;/a&gt;.&nbsp;&nbsp;But&nbsp;as&nbsp;of&nbsp;&lt;i&nbsp;class=&quot;&quot;&gt;right&nbsp;now&lt;/i&gt;&nbsp;I&nbsp;still&nbsp;think&nbsp;we&nbsp;shouldn't&nbsp;revert.&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;-glyph&lt;/div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
