<tt>
I&nbsp;hope&nbsp;this&nbsp;will&nbsp;be&nbsp;an&nbsp;easy&nbsp;question&nbsp;for&nbsp;some&nbsp;of&nbsp;you&nbsp;guys&nbsp;:)&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&amp;#39;m&nbsp;trying&nbsp;to&nbsp;set&nbsp;up&nbsp;a&nbsp;simple&nbsp;server&nbsp;which&nbsp;will&nbsp;accept&nbsp;requests&nbsp;over&nbsp;GET&nbsp;to&nbsp;create&nbsp;a&nbsp;thumbnail&nbsp;for&nbsp;an&nbsp;image,&nbsp;and&nbsp;server&nbsp;it&nbsp;back&nbsp;as&nbsp;the&nbsp;response.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;images&nbsp;are&nbsp;stored&nbsp;in&nbsp;two&nbsp;S3&nbsp;buckets,&nbsp;the&nbsp;originals&nbsp;are&nbsp;in&nbsp;one&nbsp;bucket&nbsp;(store),&nbsp;and&nbsp;the&nbsp;generated&nbsp;thumbnails&nbsp;are&nbsp;stored&nbsp;in&nbsp;another&nbsp;(thumb)&nbsp;as&nbsp;a&nbsp;cache&nbsp;so&nbsp;that&nbsp;the&nbsp;work&nbsp;doesn&amp;#39;t&nbsp;need&nbsp;to&nbsp;be&nbsp;repeated.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Currently&nbsp;I&amp;#39;m&nbsp;checking&nbsp;if&nbsp;the&nbsp;thumbnail&nbsp;already&nbsp;exists&nbsp;in&nbsp;the&nbsp;thumb&nbsp;bucket.&nbsp;I&amp;#39;m&nbsp;redirecting&nbsp;the&nbsp;request&nbsp;if&nbsp;it&nbsp;is&nbsp;or&nbsp;if&nbsp;not&nbsp;I&amp;#39;m&nbsp;downloading&nbsp;the&nbsp;image&nbsp;from&nbsp;store,&nbsp;generating&nbsp;the&nbsp;thumb&nbsp;using&nbsp;PIL,&nbsp;uploading&nbsp;the&nbsp;thumbnail&nbsp;to&nbsp;the&nbsp;thumb&nbsp;bucket&nbsp;and&nbsp;then&nbsp;redirecting&nbsp;the&nbsp;request.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&amp;#39;m&nbsp;very&nbsp;new&nbsp;to&nbsp;twisted&nbsp;and&nbsp;was&nbsp;wondering&nbsp;if&nbsp;anyone&nbsp;who&nbsp;is&nbsp;more&nbsp;experienced&nbsp;would&nbsp;be&nbsp;able&nbsp;to&nbsp;take&nbsp;a&nbsp;look&nbsp;at&nbsp;what&nbsp;I&nbsp;have&nbsp;so&nbsp;far&nbsp;and&nbsp;let&nbsp;me&nbsp;know&nbsp;if&nbsp;anything&nbsp;is&nbsp;wrong/not&nbsp;ideal/will&nbsp;cause&nbsp;problems&nbsp;etc.&nbsp;or&nbsp;just&nbsp;general&nbsp;style&nbsp;pointers?&nbsp;The&nbsp;more&nbsp;critical&nbsp;the&nbsp;better,&nbsp;as&nbsp;I&nbsp;said&nbsp;I&amp;#39;m&nbsp;very&nbsp;new&nbsp;to&nbsp;this.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&amp;#39;ve&nbsp;just&nbsp;chucked&nbsp;it&nbsp;up&nbsp;on&nbsp;github:&nbsp;&lt;a&nbsp;href=&quot;https://github.com/GP89/thumbs/blob/master/thumb.py&quot;&gt;https://github.com/GP89/thumbs/blob/master/thumb.py&lt;/a&gt; &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;There&amp;#39;s&nbsp;a&nbsp;definite&nbsp;memory&nbsp;leak&nbsp;right&nbsp;now&nbsp;which&nbsp;I&nbsp;believe&nbsp;is&nbsp;PIL,&nbsp;or&nbsp;possibly&nbsp;StringIO&nbsp;objects&nbsp;not&nbsp;being&nbsp;disposed,&nbsp;hence&nbsp;all&nbsp;the&nbsp;random&nbsp;del&nbsp;statements&nbsp;trying&nbsp;to&nbsp;cure&nbsp;it&nbsp;(unsuccessfully).&nbsp;Maybe&nbsp;there&amp;#39;s&nbsp;something&nbsp;I&amp;#39;m&nbsp;doing&nbsp;wrong&nbsp;in&nbsp;twisted&nbsp;that&nbsp;is&nbsp;causing&nbsp;things&nbsp;not&nbsp;to&nbsp;be&nbsp;cleaned&nbsp;up&nbsp;that&nbsp;I&amp;#39;m&nbsp;not&nbsp;aware&nbsp;of&nbsp;as&nbsp;well.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;did&nbsp;try&nbsp;to&nbsp;use&nbsp;deferToThread,&nbsp;rather&nbsp;than&nbsp;my&nbsp;thread&nbsp;pool&nbsp;but&nbsp;the&nbsp;server&nbsp;seemed&nbsp;to&nbsp;block&nbsp;up-&nbsp;I&nbsp;probably&nbsp;should&nbsp;have&nbsp;left&nbsp;it&nbsp;incase&nbsp;it&nbsp;was&nbsp;because&nbsp;I&nbsp;was&nbsp;doing&nbsp;something&nbsp;obviously&nbsp;wrong.&nbsp;I&nbsp;think&nbsp;I&amp;#39;ll&nbsp;make&nbsp;a&nbsp;branch&nbsp;quickly&nbsp;with&nbsp;my&nbsp;deferToThread&nbsp;version.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;very&nbsp;much&nbsp;for&nbsp;any&nbsp;time&nbsp;you&nbsp;can&nbsp;lend!&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Paul&lt;/div&gt;<br>

</tt>
