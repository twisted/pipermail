<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;On&nbsp;Thu,&nbsp;Jul&nbsp;25,&nbsp;2013&nbsp;at&nbsp;3:25&nbsp;PM,&nbsp;James&nbsp;Broadhead&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:jamesbroadhead@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;jamesbroadhead@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;I&nbsp;very&nbsp;quickly&nbsp;ran&nbsp;into&nbsp;a&nbsp;problem&nbsp;where&nbsp;I&nbsp;mistakenly&nbsp;returned&nbsp;a&nbsp;Mock()&nbsp;in&nbsp;the&nbsp;place&nbsp;of&nbsp;a&nbsp;deferred,&nbsp;causing&nbsp;the&nbsp;asserts&nbsp;in&nbsp;callbacks&nbsp;to&nbsp;not&nbsp;be&nbsp;called,&nbsp;and&nbsp;for&nbsp;the&nbsp;test&nbsp;to&nbsp;spuriously&nbsp;pass.&lt;br&gt;<br>
&lt;br&gt;A&nbsp;slightly&nbsp;more&nbsp;believable&nbsp;example:&lt;br&gt;==&nbsp;myclass.py&nbsp;==&lt;br&gt;def&nbsp;some_function(...):&lt;br&gt; &nbsp;d&nbsp;=&nbsp;self.authenticate()&lt;br&gt;<br>
<br>
<br>
 &nbsp;d.addCallback(foo)&nbsp;#&nbsp;foo&nbsp;never&nbsp;called&lt;br&gt; &nbsp;d.addErrback(bar)&nbsp;#&nbsp;bar&nbsp;never&nbsp;called&lt;br&gt; &nbsp;return&nbsp;d&lt;br&gt;&lt;br&gt;==&nbsp;test_myclass.py&nbsp;==&lt;br&gt;def&nbsp;setUp(self):&lt;br&gt; &nbsp;self.resource.authenticate&nbsp;=&nbsp;Mock(return_value=Mock())&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Why&nbsp;not&nbsp;use&nbsp;patch&nbsp;and&nbsp;replace&nbsp;it&nbsp;with&nbsp;lambda:&nbsp;defer.succeed(None)?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;jml &lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
