<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;*deep&nbsp;necromantic&nbsp;thread&nbsp;magic*&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;br&gt;On&nbsp;Thu,&nbsp;Oct&nbsp;3,&nbsp;2013&nbsp;at&nbsp;11:54&nbsp;AM,&nbsp;Glyph&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:glyph@twistedmatrix.com&quot;&nbsp;target=&quot;_blank&quot;&gt;glyph@twistedmatrix.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&gt;If&nbsp;I&nbsp;can&nbsp;change&nbsp;&quot;proto&quot;&nbsp;to&nbsp;mean&nbsp;&quot;actually&nbsp;the&nbsp;protocol&nbsp;not&nbsp;something&nbsp;else&quot;&nbsp;then&nbsp;that&nbsp;seems&nbsp;plenty&nbsp;easy&nbsp;to&nbsp;add,&nbsp;and&nbsp;it&nbsp;would&nbsp;definitely&nbsp;be&nbsp;cool&nbsp;if&nbsp;people&nbsp;don&#39;t&nbsp;have&nbsp;to&nbsp;mess&nbsp;with&nbsp;this&nbsp;nonsense&nbsp;themselves&nbsp;for&nbsp;something&nbsp;as&nbsp;ostensibly&nbsp;simple&nbsp;as&nbsp;having&nbsp;access&nbsp;to&nbsp;the&nbsp;protocol&nbsp;:-)&lt;/div&gt;<br>
<br>
&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Keep&nbsp;in&nbsp;mind&nbsp;that&nbsp;in&nbsp;the&nbsp;authentication&nbsp;case&nbsp;I&nbsp;mentioned,&nbsp;your&nbsp;post-auth&nbsp;object&nbsp;may&nbsp;well&nbsp;subclass&nbsp;AMP&nbsp;and&nbsp;therefore&nbsp;&quot;actually&quot;&nbsp;be&nbsp;a&nbsp;protocol;&nbsp;but&nbsp;it&nbsp;still&nbsp;won&#39;t&nbsp;have&nbsp;a&nbsp;transport.&nbsp; What&nbsp;do&nbsp;you&nbsp;propose&nbsp;happen&nbsp;in&nbsp;that&nbsp;case?&lt;/div&gt;<br>
<br>
&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;Isn&#39;t&nbsp;the&nbsp;post-auth&nbsp;object&nbsp;a&nbsp;box&nbsp;receiver?&nbsp;I&nbsp;mean,&nbsp;yes,&nbsp;it&nbsp;can&nbsp;be&nbsp;a&nbsp;box&nbsp;receiver&nbsp;by&nbsp;virtue&nbsp;of&nbsp;subclassing&nbsp;AMP&nbsp;and&nbsp;therefore&nbsp;*secretly*&nbsp;being&nbsp;a&nbsp;proto.&nbsp;I&#39;d&nbsp;be&nbsp;totally&nbsp;fine&nbsp;(for&nbsp;my&nbsp;use&nbsp;case)&nbsp;to&nbsp;just&nbsp;have&nbsp;the&nbsp;transport&nbsp;available&nbsp;somewhere&nbsp;:)&nbsp;(The&nbsp;transport&nbsp;that&nbsp;the&nbsp;AMP&nbsp;bytes&nbsp;are&nbsp;being&nbsp;sent&nbsp;over;&nbsp;so&nbsp;not,&nbsp;say,&nbsp;a&nbsp;TCP&nbsp;transport&nbsp;underlying&nbsp;a&nbsp;TLS&nbsp;connection&nbsp;or&nbsp;something.)&lt;br&gt;<br>
<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;For&nbsp;fixing&nbsp;this&nbsp;(I&#39;ll&nbsp;file&nbsp;tickets&nbsp;if&nbsp;you&nbsp;confirm):&nbsp;&lt;br&gt;&lt;br&gt;-&nbsp;ResponderLocator&#39;s&nbsp;behavior&nbsp;is&nbsp;pretty&nbsp;much&nbsp;just&nbsp;broken.&nbsp;It&#39;s&nbsp;using&nbsp;Command.makeResponse.&nbsp;That&nbsp;says&nbsp;it&nbsp;wants&nbsp;an&nbsp;AMP.&nbsp;It&#39;s&nbsp;clearly&nbsp;just&nbsp;getting&nbsp;a&nbsp;responder&nbsp;locator.&nbsp;However,&nbsp;it&nbsp;seems&nbsp;like&nbsp;the&nbsp;problem&nbsp;here&nbsp;is&nbsp;makeResponse&#39;s&nbsp;crappy&nbsp;interface.&nbsp;It&nbsp;shouldn&#39;t&nbsp;want&nbsp;an&nbsp;AMP.&nbsp;So,&nbsp;we&nbsp;should&nbsp;fix&nbsp;makeResponse&#39;s&nbsp;docstring,&nbsp;and&nbsp;all&nbsp;of&nbsp;the&nbsp;other&nbsp;cases&nbsp;where&nbsp;t.p.amp&nbsp;asks&nbsp;for&nbsp;an&nbsp;AMP&nbsp;and&nbsp;shouldn&#39;t.&lt;br&gt;<br>
<br>
&lt;/div&gt;&lt;div&gt;-&nbsp;The&nbsp;proto&nbsp;argument&nbsp;name&nbsp;is&nbsp;stupid.&nbsp;Can&nbsp;we&nbsp;fix&nbsp;it?&lt;br&gt;&lt;/div&gt;&lt;div&gt;-&nbsp;There&nbsp;should&nbsp;be&nbsp;a&nbsp;new&nbsp;method&nbsp;on&nbsp;IArgumentType,&nbsp;parallel&nbsp;to&nbsp;fromBox&nbsp;(but&nbsp;not&nbsp;toBox?),&nbsp;that&nbsp;gets&nbsp;a&nbsp;reference&nbsp;to&nbsp;the&nbsp;transport&nbsp;passed&nbsp;to&nbsp;it.&nbsp;If&nbsp;so:&nbsp;where&nbsp;does&nbsp;it&nbsp;get&nbsp;that?&lt;br&gt;<br>
<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;Does&nbsp;that&nbsp;sound&nbsp;about&nbsp;right?&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;cheers&lt;br&gt;lvh&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
