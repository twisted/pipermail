<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;Transitional//EN&quot;&gt;<br>
&lt;HTML&gt;&lt;HEAD&gt;<br>
&lt;META&nbsp;content=&quot;text/html;&nbsp;charset=gb2312&quot;&nbsp;http-equiv=Content-Type&gt;<br>
&lt;STYLE&gt;<br>
BLOCKQUOTE&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MARGIN-BOTTOM:&nbsp;0px;&nbsp;MARGIN-LEFT:&nbsp;2em;&nbsp;MARGIN-TOP:&nbsp;0px<br>
}<br>
OL&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MARGIN-BOTTOM:&nbsp;0px;&nbsp;MARGIN-TOP:&nbsp;0px<br>
}<br>
UL&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MARGIN-BOTTOM:&nbsp;0px;&nbsp;MARGIN-TOP:&nbsp;0px<br>
}<br>
P&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MARGIN-BOTTOM:&nbsp;0px;&nbsp;MARGIN-TOP:&nbsp;0px<br>
}<br>
BODY&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FONT-SIZE:&nbsp;10.5pt;&nbsp;FONT-FAMILY:&nbsp;Î¢ÈíÑÅºÚ;&nbsp;COLOR:&nbsp;#000000;&nbsp;LINE-HEIGHT:&nbsp;1.5<br>
}<br>
&lt;/STYLE&gt;<br>
<br>
&lt;META&nbsp;name=GENERATOR&nbsp;content=&quot;MSHTML&nbsp;10.00.9200.16736&quot;&gt;&lt;/HEAD&gt;<br>
&lt;BODY&nbsp;style=&quot;MARGIN:&nbsp;10px&quot;&gt;<br>
&lt;DIV&gt;Hi,&nbsp;all!&lt;/DIV&gt;<br>
&lt;DIV&nbsp;style=&quot;TEXT-INDENT:&nbsp;2em&quot;&gt;I'm&nbsp;trying&nbsp;to&nbsp;read&nbsp;a&nbsp;file&nbsp;on&nbsp;the&nbsp;server&nbsp;with&nbsp;pb,&nbsp;<br>
and&nbsp;got&nbsp;an&nbsp;error.&nbsp;Following&nbsp;is&nbsp;my&nbsp;code,&nbsp;what's&nbsp;the&nbsp;problem?&lt;/DIV&gt;<br>
&lt;DIV&nbsp;style=&quot;TEXT-INDENT:&nbsp;2em&quot;&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;***********************pb1server.py&lt;/DIV&gt;<br>
&lt;DIV&gt;#!/usr/bin/env&nbsp;python&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;#&nbsp;Copyright&nbsp;(c)&nbsp;Twisted&nbsp;Matrix&nbsp;Laboratories.&lt;/DIV&gt;<br>
&lt;DIV&gt;#&nbsp;See&nbsp;LICENSE&nbsp;for&nbsp;details.&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;from&nbsp;twisted.spread&nbsp;import&nbsp;pb&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;class&nbsp;Two(pb.Referenceable):&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;remote_three(self,&nbsp;arg):&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Two.three&nbsp;was&nbsp;given&quot;,&nbsp;<br>
arg&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
f=open('/home/gddw/Desktop/test','wr')&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;content&nbsp;=&nbsp;f.readline()&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;content&lt;/DIV&gt;<br>
&lt;DIV&gt;class&nbsp;One(pb.Root):&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;remote_getTwo(self):&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;two&nbsp;=&nbsp;Two()&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;&quot;returning&nbsp;a&nbsp;Two&nbsp;called&quot;,&nbsp;<br>
two&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;two&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;from&nbsp;twisted.internet&nbsp;import&nbsp;reactor&lt;/DIV&gt;<br>
&lt;DIV&gt;reactor.listenTCP(8800,&nbsp;pb.PBServerFactory(One()))&lt;/DIV&gt;<br>
&lt;DIV&gt;reactor.run()&lt;/DIV&gt;<br>
&lt;DIV&gt;*************************pb1client.py&lt;/DIV&gt;<br>
&lt;DIV&gt;<br>
&lt;DIV&gt;#!/usr/bin/env&nbsp;python&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;#&nbsp;Copyright&nbsp;(c)&nbsp;Twisted&nbsp;Matrix&nbsp;Laboratories.&lt;/DIV&gt;<br>
&lt;DIV&gt;#&nbsp;See&nbsp;LICENSE&nbsp;for&nbsp;details.&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;from&nbsp;twisted.spread&nbsp;import&nbsp;pb&lt;/DIV&gt;<br>
&lt;DIV&gt;from&nbsp;twisted.internet&nbsp;import&nbsp;reactor&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;def&nbsp;main():&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;factory&nbsp;=&nbsp;pb.PBClientFactory()&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;reactor.connectTCP(&quot;localhost&quot;,&nbsp;8800,&nbsp;factory)&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;def1&nbsp;=&nbsp;factory.getRootObject()&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;def1.addCallbacks(got_obj1,&nbsp;err_obj1)&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;reactor.run()&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;def&nbsp;err_obj1(reason):&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;&quot;error&nbsp;getting&nbsp;first&nbsp;object&quot;,&nbsp;reason&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;reactor.stop()&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;def&nbsp;got_obj1(obj1):&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;&quot;got&nbsp;first&nbsp;object:&quot;,&nbsp;obj1&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;&quot;asking&nbsp;it&nbsp;to&nbsp;getTwo&quot;&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;def2&nbsp;=&nbsp;obj1.callRemote(&quot;getTwo&quot;)&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;def2.addCallbacks(got_obj2)&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;def&nbsp;got_obj2(obj2):&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;&quot;got&nbsp;second&nbsp;object:&quot;,&nbsp;obj2&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;&quot;telling&nbsp;it&nbsp;to&nbsp;do&nbsp;three(12)&quot;&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;obj2.callRemote(&quot;three&quot;,&nbsp;12)&lt;/DIV&gt;<br>
&lt;DIV&gt;main()&lt;/DIV&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/BODY&gt;&lt;/HTML&gt;<br>

</tt>
