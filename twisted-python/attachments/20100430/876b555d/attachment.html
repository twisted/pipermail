<tt>
A&nbsp;simple&nbsp;solution&nbsp;could&nbsp;be&nbsp;to&nbsp;implement&nbsp;a&nbsp;ping&nbsp;method&nbsp;with&nbsp;client&nbsp;and&nbsp;have&nbsp;server&nbsp;ping&nbsp;client&nbsp;once&nbsp;every&nbsp;N&nbsp;seconds.&nbsp;At&nbsp;the&nbsp;same&nbsp;time,&nbsp;fire&nbsp;a&nbsp;delayed&nbsp;call&nbsp;for&nbsp;N+5&nbsp;seconds.&nbsp;if&nbsp;delayed&nbsp;call&nbsp;is&nbsp;executed&nbsp;first,&nbsp;drop&nbsp;connection.&lt;br&nbsp;clear=&quot;all&quot;&gt;<br>
<br>
--&lt;br&gt;Konrads&nbsp;Smelkovs&lt;br&gt;Applied&nbsp;IT&nbsp;sorcery.&lt;br&gt;<br>
&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2010/4/30&nbsp;Gabriel&nbsp;González&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:gabriel@cttc.upc.edu&quot;&gt;gabriel@cttc.upc.edu&lt;/a&gt;&gt;&lt;/span&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
<br>
Hi&nbsp;there,&lt;br&gt;<br>
I&nbsp;wrote&nbsp;a&nbsp;small&nbsp;server&nbsp;application&nbsp;with&nbsp;PB&nbsp;but&nbsp;now&nbsp;I&nbsp;have&nbsp;some&nbsp;problem&lt;br&gt;<br>
with&nbsp;client&nbsp;disconnection.&nbsp;When&nbsp;I&nbsp;have&nbsp;a&nbsp;idle&nbsp;connection,&nbsp;the&nbsp;logout&lt;br&gt;<br>
method&nbsp;at&nbsp;server&nbsp;never&nbsp;is&nbsp;called&nbsp;(this&nbsp;method&nbsp;let&nbsp;me&nbsp;have&nbsp;a&nbsp;list&nbsp;of&lt;br&gt;<br>
current&nbsp;logged&nbsp;users)&nbsp;and&nbsp;then&nbsp;client&nbsp;appears&nbsp;always&nbsp;connected&nbsp;to&lt;br&gt;<br>
server.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;can&nbsp;see&nbsp;the&nbsp;same&nbsp;issue&nbsp;with&nbsp;the&nbsp;chatserver&nbsp;example&nbsp;from&nbsp;perspective&lt;br&gt;<br>
broker&nbsp;doc&nbsp;with&nbsp;detached&nbsp;method.&lt;br&gt;<br>
&lt;br&gt;<br>
class&nbsp;ChatRealm:&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp;implements(portal.IRealm)&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp;def&nbsp;requestAvatar(self,&nbsp;avatarID,&nbsp;mind,&nbsp;*interfaces):&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;assert&nbsp;pb.IPerspective&nbsp;in&nbsp;interfaces&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;avatar&nbsp;=&nbsp;User(avatarID)&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;avatar.server&nbsp;=&nbsp;self.server&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;avatar.attached(mind)&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return&nbsp;pb.IPerspective,&nbsp;avatar,&nbsp;lambda&lt;br&gt;<br>
a=avatar:a.detached(mind)&lt;br&gt;<br>
&lt;br&gt;<br>
How&nbsp;can&nbsp;I&nbsp;detect&nbsp;that&nbsp;idle&nbsp;connection&nbsp;clients&nbsp;to&nbsp;call&nbsp;detached&nbsp;method?&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks!&lt;br&gt;<br>
&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
--&lt;br&gt;<br>
Aquest&nbsp;missatge&nbsp;ha&nbsp;estat&nbsp;analitzat&nbsp;per&nbsp;MailScanner&lt;br&gt;<br>
a&nbsp;la&nbsp;cerca&nbsp;de&nbsp;virus&nbsp;i&nbsp;d&#39;altres&nbsp;continguts&nbsp;perillosos,&lt;br&gt;<br>
i&nbsp;es&nbsp;considera&nbsp;que&nbsp;està&nbsp;net.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/font&gt;&lt;br&gt;_______________________________________________&lt;br&gt;<br>
Twisted-Python&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Twisted-Python@twistedmatrix.com&quot;&gt;Twisted-Python@twistedmatrix.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
