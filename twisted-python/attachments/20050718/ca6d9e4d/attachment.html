<tt>
&lt;div&gt;I&nbsp;am&nbsp;wondering&nbsp;if&nbsp;someone&nbsp;would&nbsp;be&nbsp;willing&nbsp;to&nbsp;assist&nbsp;me&nbsp;in&nbsp;debugging&nbsp;a&nbsp;problem&nbsp;I'm&nbsp;experiencing&nbsp;with&nbsp;my&nbsp;current&nbsp;attempt&nbsp;at&nbsp;an&nbsp;implementation&nbsp;of&nbsp;spawnProcess&nbsp;for&nbsp;the&nbsp;IOCP&nbsp;proactor.&lt;/div&gt;<br>
&lt;div&gt;&nbsp;&lt;/div&gt;<br>
&lt;div&gt;A&nbsp;patch&nbsp;with&nbsp;my&nbsp;implementation&nbsp;can&nbsp;be&nbsp;found&nbsp;at&nbsp;&lt;a&nbsp;href=&quot;http://twistedmatrix.com/bugs/issue1008&quot;&gt;http://twistedmatrix.com/bugs/issue1008&lt;/a&gt;&nbsp;along&nbsp;with&nbsp;comments&nbsp;and&nbsp;a&nbsp;log&nbsp;file&nbsp;describing&nbsp;my&nbsp;problem.&lt;/div&gt;<br>
&lt;div&gt;&nbsp;&lt;/div&gt;<br>
&lt;div&gt;The&nbsp;problem&nbsp;occurs&nbsp;sporadically&nbsp;when&nbsp;running&nbsp;twisted.test.test_process.ProcessTestCase.testProcesstwisted.test.test_process.&nbsp;&nbsp;First&nbsp;I&nbsp;create&nbsp;3&nbsp;pipes&nbsp;that&nbsp;will&nbsp;be&nbsp;used&nbsp;to&nbsp;write&nbsp;to&nbsp;the&nbsp;child&nbsp;process's&nbsp;stdin&nbsp;and&nbsp;read&nbsp;its&nbsp;stdout&nbsp;and&nbsp;stderr.&nbsp;&nbsp;Then&nbsp;I&nbsp;initiate&nbsp;a&nbsp;read&nbsp;on&nbsp;all&nbsp;3&nbsp;pipes.&nbsp;&nbsp;The&nbsp;reads&nbsp;makes&nbsp;sense&nbsp;for&nbsp;stdout&nbsp;and&nbsp;stderr.&nbsp;&nbsp;The&nbsp;stdin&nbsp;pipe&nbsp;is&nbsp;created&nbsp;in&nbsp;duplex&nbsp;mode&nbsp;and&nbsp;the&nbsp;read&nbsp;attempt&nbsp;on&nbsp;it&nbsp;from&nbsp;the&nbsp;parent&nbsp;is&nbsp;only&nbsp;there&nbsp;so&nbsp;we&nbsp;can&nbsp;detect&nbsp;when&nbsp;the&nbsp;child&nbsp;closes&nbsp;its&nbsp;end&nbsp;of&nbsp;the&nbsp;pipe&nbsp;so&nbsp;the&nbsp;parent&nbsp;can&nbsp;close&nbsp;its&nbsp;end&nbsp;as&nbsp;well.<br>
&lt;/div&gt;<br>
&lt;div&gt;&nbsp;&lt;/div&gt;<br>
&lt;div&gt;The&nbsp;problem&nbsp;is&nbsp;that&nbsp;occasionally&nbsp;(often,&nbsp;but&nbsp;not&nbsp;consistently)&nbsp;the&nbsp;read&nbsp;operations&nbsp;on&nbsp;stdin&nbsp;(and&nbsp;sometimes&nbsp;stderr)&nbsp;seem&nbsp;to&nbsp;not&nbsp;run&nbsp;at&nbsp;all&nbsp;and&nbsp;FileMon&nbsp;reports&nbsp;their&nbsp;status&nbsp;as&nbsp;CANCELLED&nbsp;when&nbsp;I&nbsp;get&nbsp;to&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;program.&nbsp;&nbsp;If&nbsp;I&nbsp;run&nbsp;trial&nbsp;run&nbsp;through&nbsp;pdb&nbsp;and&nbsp;step&nbsp;through&nbsp;it,&nbsp;the&nbsp;result&nbsp;of&nbsp;CANCELLED&nbsp;for&nbsp;these&nbsp;1&nbsp;or&nbsp;2&nbsp;(if&nbsp;stderr&nbsp;fails&nbsp;as&nbsp;well)&nbsp;reads&nbsp;doesn't&nbsp;appear&nbsp;until&nbsp;the&nbsp;very&nbsp;end&nbsp;of&nbsp;the&nbsp;program.&nbsp;&nbsp;The&nbsp;callbacks&nbsp;(<br>
ReadInOp.ovDone&nbsp;and&nbsp;ReadErrOp.ovDone&nbsp;don't&nbsp;get&nbsp;called&nbsp;for&nbsp;either&nbsp;of&nbsp;these&nbsp;when&nbsp;the&nbsp;failure&nbsp;occurs,&nbsp;so&nbsp;FileMon's&nbsp;results&nbsp;seem&nbsp;to&nbsp;accurately&nbsp;reflect&nbsp;what&nbsp;is&nbsp;happening.&nbsp;&nbsp;However,&nbsp;from&nbsp;my&nbsp;print&nbsp;statements&nbsp;it&nbsp;is&nbsp;clear&nbsp;that&nbsp;the&nbsp;reads&nbsp;are&nbsp;initiated&nbsp;(<br>
ReadInOp.initiateOp&nbsp;and&nbsp;ReadErrOp.initiateOp).&lt;/div&gt;<br>
&lt;div&gt;&nbsp;&lt;/div&gt;<br>
&lt;div&gt;The&nbsp;closest&nbsp;thing&nbsp;I&nbsp;can&nbsp;find&nbsp;to&nbsp;a&nbsp;description&nbsp;of&nbsp;what&nbsp;CANCELLED&nbsp;might&nbsp;mean&nbsp;is&nbsp;at&nbsp;&lt;a&nbsp;href=&quot;http://www.cs.princeton.edu/~appel/smlnj/basis/posix-error.html&quot;&gt;http://www.cs.princeton.edu/~appel/smlnj/basis/posix-error.html<br>
&lt;/a&gt;&nbsp;which&nbsp;says&nbsp;it&nbsp;indicates&nbsp;that&nbsp;the&nbsp;associated&nbsp;asynchronous&nbsp;operation&nbsp;was&nbsp;cancelled&nbsp;before&nbsp;completion.&nbsp;&nbsp;This&nbsp;sounds&nbsp;correct,&nbsp;but&nbsp;doesn't&nbsp;help&nbsp;illuminate&nbsp;*why*&nbsp;this&nbsp;is&nbsp;happening.&lt;/div&gt;<br>
&lt;div&gt;&nbsp;&lt;/div&gt;<br>
&lt;div&gt;Does&nbsp;anyone&nbsp;have&nbsp;any&nbsp;suggestions&nbsp;as&nbsp;to&nbsp;why&nbsp;this&nbsp;is&nbsp;happening?&lt;/div&gt;<br>
&lt;div&gt;&nbsp;&lt;/div&gt;<br>
&lt;div&gt;Thanks&nbsp;in&nbsp;advance.&lt;/div&gt;<br>
&lt;div&gt;Justin&lt;/div&gt;<br>

</tt>
