<tt>
&lt;div&nbsp;style=&quot;line-height:1.7;color:#000000;font-size:14px;font-family:Arial&quot;&gt;&lt;div&gt;I'm&nbsp;trying&nbsp;to&nbsp;use&nbsp;Twisted's&nbsp;&lt;span&nbsp;style=&quot;font-family:&nbsp;'trebuchet&nbsp;ms',&nbsp;verdana,&nbsp;arial,&nbsp;'Bitstream&nbsp;Vera&nbsp;Sans',&nbsp;helvetica,&nbsp;sans-serif;&nbsp;font-size:&nbsp;13px;&nbsp;line-height:&nbsp;normal;&quot;&gt;HTTP&nbsp;basic&nbsp;authentication&nbsp;to&nbsp;control&nbsp;access&nbsp;to&nbsp;some&nbsp;protected&nbsp;resources.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;'trebuchet&nbsp;ms',&nbsp;verdana,&nbsp;arial,&nbsp;'Bitstream&nbsp;Vera&nbsp;Sans',&nbsp;helvetica,&nbsp;sans-serif;&nbsp;font-size:&nbsp;13px;&nbsp;line-height:&nbsp;normal;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;'trebuchet&nbsp;ms',&nbsp;verdana,&nbsp;arial,&nbsp;'Bitstream&nbsp;Vera&nbsp;Sans',&nbsp;helvetica,&nbsp;sans-serif;&nbsp;font-size:&nbsp;13px;&nbsp;line-height:&nbsp;normal;&quot;&gt;According&nbsp;to&nbsp;some&nbsp;articles,&nbsp;it&nbsp;is&nbsp;necessary&nbsp;to&nbsp;use&nbsp;three&nbsp;important&nbsp;concepts:&nbsp;Realm,&nbsp;Portal&nbsp;and&nbsp;avatar.&nbsp;Now&nbsp;I'm&nbsp;wondering&nbsp;if&nbsp;the&nbsp;Realm&nbsp;and&nbsp;avatar&nbsp;is&nbsp;one&nbsp;to&nbsp;one&nbsp;correspondence.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;'trebuchet&nbsp;ms',&nbsp;verdana,&nbsp;arial,&nbsp;'Bitstream&nbsp;Vera&nbsp;Sans',&nbsp;helvetica,&nbsp;sans-serif;&nbsp;font-size:&nbsp;13px;&nbsp;line-height:&nbsp;normal;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;trebuchet&nbsp;ms,&nbsp;verdana,&nbsp;arial,&nbsp;Bitstream&nbsp;Vera&nbsp;Sans,&nbsp;helvetica,&nbsp;sans-serif&quot;&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;13px;&nbsp;line-height:&nbsp;normal;&quot;&gt;Let's&nbsp;look&nbsp;at&nbsp;an&nbsp;example(http://www.red-bean.com/doc/python-twisted-web/examples/webguard.py&lt;/span&gt;&lt;/font&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;13px;&nbsp;line-height:&nbsp;normal;&nbsp;font-family:&nbsp;'trebuchet&nbsp;ms',&nbsp;verdana,&nbsp;arial,&nbsp;'Bitstream&nbsp;Vera&nbsp;Sans',&nbsp;helvetica,&nbsp;sans-serif;&quot;&gt;):&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;trebuchet&nbsp;ms,&nbsp;verdana,&nbsp;arial,&nbsp;Bitstream&nbsp;Vera&nbsp;Sans,&nbsp;helvetica,&nbsp;sans-serif&quot;&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;13px;&nbsp;line-height:&nbsp;normal;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;pre&nbsp;style=&quot;line-height:&nbsp;normal;&quot;&gt;import&nbsp;sys<br>
<br>
from&nbsp;zope.interface&nbsp;import&nbsp;implements<br>
<br>
from&nbsp;twisted.python&nbsp;import&nbsp;log<br>
from&nbsp;twisted.internet&nbsp;import&nbsp;reactor<br>
from&nbsp;twisted.web&nbsp;import&nbsp;server,&nbsp;resource,&nbsp;guard<br>
from&nbsp;twisted.cred.portal&nbsp;import&nbsp;IRealm,&nbsp;Portal<br>
from&nbsp;twisted.cred.checkers&nbsp;import&nbsp;InMemoryUsernamePasswordDatabaseDontUse<br>
<br>
<br>
class&nbsp;GuardedResource(resource.Resource):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;resource&nbsp;which&nbsp;is&nbsp;protected&nbsp;by&nbsp;guard&nbsp;and&nbsp;requires&nbsp;authentication&nbsp;in&nbsp;order<br>
&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;access.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;getChild(self,&nbsp;path,&nbsp;request):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self<br>
<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;render(self,&nbsp;request):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&quot;Authorized!&quot;<br>
<br>
<br>
<br>
class&nbsp;SimpleRealm(object):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;realm&nbsp;which&nbsp;gives&nbsp;out&nbsp;L{GuardedResource}&nbsp;instances&nbsp;for&nbsp;authenticated<br>
&nbsp;&nbsp;&nbsp;&nbsp;users.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;implements(IRealm)<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;requestAvatar(self,&nbsp;avatarId,&nbsp;mind,&nbsp;*interfaces):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;resource.IResource&nbsp;in&nbsp;interfaces:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;resource.IResource,&nbsp;GuardedResource(),&nbsp;lambda:&nbsp;None<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;raise&nbsp;NotImplementedError()<br>
<br>
<br>
<br>
def&nbsp;main():<br>
&nbsp;&nbsp;&nbsp;&nbsp;log.startLogging(sys.stdout)<br>
&nbsp;&nbsp;&nbsp;&nbsp;checkers&nbsp;=&nbsp;[InMemoryUsernamePasswordDatabaseDontUse(joe='blow')]<br>
&nbsp;&nbsp;&nbsp;&nbsp;wrapper&nbsp;=&nbsp;guard.HTTPAuthSessionWrapper(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Portal(SimpleRealm(),&nbsp;checkers),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[guard.DigestCredentialFactory('md5',&nbsp;'example.com')])<br>
&nbsp;&nbsp;&nbsp;&nbsp;reactor.listenTCP(8889,&nbsp;server.Site(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resource&nbsp;=&nbsp;wrapper))<br>
&nbsp;&nbsp;&nbsp;&nbsp;reactor.run()<br>
<br>
if&nbsp;__name__&nbsp;==&nbsp;'__main__':<br>
&nbsp;&nbsp;&nbsp;&nbsp;main()&lt;/pre&gt;&lt;pre&nbsp;style=&quot;line-height:&nbsp;normal;&quot;&gt;&lt;br&gt;&lt;/pre&gt;&lt;pre&nbsp;style=&quot;line-height:&nbsp;normal;&quot;&gt;Of&nbsp;course&nbsp;I&nbsp;know&nbsp;the&nbsp;SimpleRealm&nbsp;is&nbsp;used&nbsp;to&nbsp;return&nbsp;the&nbsp;corresponding&nbsp;resource,&nbsp;e.g.&nbsp;GuardedResource&nbsp;in&nbsp;above&nbsp;example.&nbsp;However,&nbsp;I&nbsp;don't&nbsp;know&nbsp;what&nbsp;to&nbsp;do&nbsp;when&nbsp;there&nbsp;lots&nbsp;of&nbsp;resources&nbsp;to&nbsp;be&nbsp;guarded.&nbsp;For&nbsp;example,&nbsp;I&nbsp;have&nbsp;GuardedResource1,&nbsp;GuardedResource2&nbsp;and&nbsp;GuardedResource3,&nbsp;maybe&nbsp;they&nbsp;need&nbsp;the&nbsp;same&nbsp;or&nbsp;different&nbsp;number&nbsp;of&nbsp;parameters&nbsp;when&nbsp;they&nbsp;are&nbsp;initialized;&nbsp;If&nbsp;so,&nbsp;is&nbsp;it&nbsp;necessary&nbsp;to&nbsp;implement&nbsp;SimpleRealm1,&nbsp;SimpleRealm2&nbsp;and&nbsp;SimpleRealm3,&nbsp;respectively?&nbsp;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;&lt;span&nbsp;title=&quot;neteasefooter&quot;&gt;&lt;p&gt;&nbsp;&lt;/p&gt;&lt;/span&gt;
</tt>
