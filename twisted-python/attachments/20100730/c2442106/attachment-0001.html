<tt>
&lt;div&gt;Hi,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;have written a&nbsp;small&nbsp;utility&nbsp;function&nbsp;to&nbsp;replace&nbsp;&quot;twisted.web.client.getPage&quot;,&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;read&nbsp;the&nbsp;response&nbsp;header.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;have&nbsp;to&nbsp;say&nbsp;that&nbsp;the&nbsp;ever&nbsp;improving&nbsp;documentation&nbsp;made&nbsp;it&nbsp;quite&nbsp;easy&nbsp;for&nbsp;me&nbsp;to&nbsp;do&nbsp;it&nbsp;using&nbsp;the&nbsp;new&nbsp;twisted.web.client.Agent,&nbsp;so&nbsp;well&nbsp;done&nbsp;to&nbsp;all!&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Since&nbsp;my&nbsp;wrapper&nbsp;works&nbsp;quite well,&nbsp;I&nbsp;decided&nbsp;to&nbsp;add&nbsp;gzip&nbsp;response&nbsp;support,&nbsp;as&nbsp;it&#39;s&nbsp;another&nbsp;feature&nbsp;lacking&nbsp;from&nbsp;the&nbsp;original&nbsp;getPage.&nbsp;Again,&nbsp;it&nbsp;was&nbsp;quite&nbsp;simple&nbsp;and&nbsp;it&nbsp;looks&nbsp;it&nbsp;works&nbsp;quite&nbsp;well,&nbsp;in&nbsp;proof&nbsp;of&nbsp;concept&nbsp;scenario.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Then&nbsp;it&nbsp;came&nbsp;my&nbsp;dilemma.&nbsp;What&nbsp;I&#39;m&nbsp;doing&nbsp;now&nbsp;is&nbsp;a synchronous decompression&nbsp;as&nbsp;shown&nbsp;below:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;compressedstream&nbsp;=&nbsp;StringIO.StringIO(inzip)&nbsp; &lt;/div&gt;&lt;div&gt;gzipper&nbsp;=&nbsp;gzip.GzipFile(fileobj=compressedstream)&lt;/div&gt;<br>
&lt;div&gt;_data&nbsp;=&nbsp;gzipper.read()&lt;/div&gt;&lt;div&gt;return&nbsp;_data&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;works&nbsp;quite&nbsp;well,&nbsp;but&nbsp;I&nbsp;wanted&nbsp;to&nbsp;add&nbsp;support&nbsp;for arbitrary&nbsp;large&nbsp;compressed&nbsp;responses,&nbsp;and&nbsp;I&nbsp;wanted&nbsp;to&nbsp;ask&nbsp;your&nbsp;opinion&nbsp;on&nbsp;the&nbsp;best&nbsp;approach&nbsp;for&nbsp;this:&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-a&nbsp;separate&nbsp;thread?&nbsp;it&nbsp;has&nbsp;it&#39;s limit,&nbsp;as it&#39;s&nbsp;not&nbsp;scaling&nbsp;well&nbsp;at&nbsp;all,&nbsp;but,&nbsp;in&nbsp;the possible scenario&nbsp;of&nbsp;a&nbsp;getPage&nbsp;usege&nbsp;shouldn&#39;t&nbsp;be&nbsp;a&nbsp;big&nbsp;issue&nbsp;(i.e.&nbsp;not&nbsp;many&nbsp;concurrent&nbsp;calls)&lt;/div&gt;&lt;div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;-a&nbsp;Producer/consumer?&nbsp;That&nbsp;sounded&nbsp;like&nbsp;the&nbsp;modern twisted way&nbsp;of&nbsp;doing&nbsp;it,&nbsp;but&nbsp;I&nbsp;didn&#39;t&nbsp;manage&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;implement&nbsp;it&nbsp;properly,&nbsp;as&nbsp;I&nbsp;could&nbsp;create&nbsp;a&nbsp;proper&nbsp;&quot;consumer&quot;&nbsp;class&nbsp;by&nbsp;looking&nbsp;to&nbsp;the&nbsp;example&nbsp;in&nbsp;the&nbsp;documentation...&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-twisted.python.zipstream.DeflatedZipFileEntry?&lt;/div&gt;&lt;div&gt;I&nbsp;found&nbsp;this&nbsp;and&nbsp;seemed&nbsp;a&nbsp;potential&nbsp;way&nbsp;of&nbsp;doing&nbsp;it,&nbsp;with&nbsp;may&nbsp;be&nbsp;the&nbsp;use&nbsp;of inline&nbsp;generators?&lt;/div&gt;&lt;div&gt;But&nbsp;then,&nbsp;I&nbsp;thought,&nbsp;is&nbsp;it&nbsp;a&nbsp;too&nbsp; complex&nbsp;approach&nbsp;for&nbsp;a&nbsp;simple&nbsp; problem? &lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;guess&nbsp;that&nbsp;decompressing&nbsp;data&nbsp;in&nbsp;twisted&nbsp;should&nbsp;be&nbsp;a&nbsp;fairly&nbsp;common&nbsp;task,&nbsp;but&nbsp;I&nbsp;have&nbsp;not&nbsp;found&nbsp;a&nbsp;sample&nbsp;that&nbsp;looked&nbsp;like&nbsp;the&nbsp;&quot;best&quot;&nbsp;way&nbsp;for&nbsp;doing&nbsp;it,&nbsp;so...&nbsp;here&nbsp;is&nbsp;this&nbsp;email&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;Thanks&nbsp;for&nbsp;you&nbsp;help,&nbsp;and&nbsp;I&#39;ll&nbsp;be&nbsp;happy&nbsp;to&nbsp;post&nbsp;the&nbsp;final&nbsp;code&nbsp;for&nbsp;future&nbsp;reference&nbsp;if&nbsp;anyone&nbsp;is&nbsp;interested&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Michele&lt;/div&gt;<br>

</tt>
