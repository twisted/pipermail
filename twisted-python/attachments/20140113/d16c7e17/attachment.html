<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;all,&lt;div&gt;&lt;br&gt;&lt;div&gt;I&nbsp;am&nbsp;doing&nbsp;load&nbsp;testing&nbsp;on&nbsp;my&nbsp;twisted&nbsp;SSL&nbsp;server.&nbsp;I&nbsp;spawn&nbsp;threads(~2000)&nbsp;from&nbsp;the&nbsp;application&nbsp;and&nbsp;each&nbsp;thread&nbsp;will&nbsp;act&nbsp;as&nbsp;a&nbsp;SSL&nbsp;client&nbsp;and&nbsp;connect&nbsp;to&nbsp;the&nbsp;server.&lt;/div&gt;&lt;div&gt;Client&nbsp;code&nbsp;is&nbsp;straight&nbsp;forward.&nbsp;It&nbsp;creates&nbsp;a&nbsp;socket,&nbsp;does&nbsp;SSL&nbsp;wrap&nbsp;and&nbsp;connects&nbsp;to&nbsp;the&nbsp;server.&nbsp;Once&nbsp;all&nbsp;threads&nbsp;connect&nbsp;to&nbsp;the&nbsp;server,&nbsp;every&nbsp;thread&nbsp;closes&nbsp;its&nbsp;socket.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;During&nbsp;my&nbsp;initial&nbsp;tests,&nbsp;I&nbsp;found&nbsp;that&nbsp;after&nbsp;245&nbsp;successful&nbsp;connections,&nbsp;all&nbsp;remaining&nbsp;threads&nbsp;started&nbsp;to&nbsp;fail&nbsp;with&nbsp;this&nbsp;error&nbsp;on&nbsp;the&nbsp;client&nbsp;side. &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;SSLError:&nbsp;[Errno&nbsp;8]&nbsp;_ssl.c:503:&nbsp;EOF&nbsp;occurred&nbsp;in&nbsp;violation&nbsp;of&nbsp;protocol&lt;/i&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;div&gt;&lt;i&gt;&lt;br&gt;&lt;/i&gt;&lt;/div&gt;&lt;div&gt;Then&nbsp;I&nbsp;figured&nbsp;out&nbsp;that&nbsp;its&nbsp;an&nbsp;issue&nbsp;with&nbsp;number&nbsp;of&nbsp;open&nbsp;files&nbsp;which&nbsp;was&nbsp;by&nbsp;default&nbsp;-&nbsp;256.&nbsp;I&nbsp;changed&nbsp;the&nbsp;limit&nbsp;for&nbsp;server&nbsp;and&nbsp;client&nbsp;to&nbsp;10000.&nbsp;It&nbsp;successfully&nbsp;completed&nbsp;the&nbsp;500&nbsp;connections&nbsp;test.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Now&nbsp;it&nbsp;fails&nbsp;after&nbsp;1010&nbsp;successful&nbsp;connections.&nbsp;I&nbsp;checked&nbsp;the&nbsp;number&nbsp;of&nbsp;open&nbsp;files&nbsp;of&nbsp;the&nbsp;server&nbsp;process&nbsp;it&nbsp;remains&nbsp;at&nbsp;1010&nbsp;and&nbsp;there&nbsp;are&nbsp;no&nbsp;stale&nbsp;open&nbsp;files.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Client&nbsp;shows&nbsp;the&nbsp;same&nbsp;error&lt;/div&gt;<br>
&lt;div&gt;&lt;div&gt;&lt;i&gt;SSLError:&nbsp;[Errno&nbsp;8]&nbsp;_ssl.c:503:&nbsp;EOF&nbsp;occurred&nbsp;in&nbsp;violation&nbsp;of&nbsp;protocol&lt;/i&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;&lt;br&gt;&lt;/i&gt;&lt;/div&gt;&lt;div&gt;Twisted&nbsp;logs&nbsp;on&nbsp;the&nbsp;server&nbsp;shows&nbsp;that&nbsp;it&nbsp;connects&nbsp;first&nbsp;and&nbsp;then&nbsp;disconnects&nbsp;with&nbsp;this&nbsp;error.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;i&gt;&lt;&lt;a&nbsp;href=&quot;http://127.0.0.1:5549&quot;&gt;127.0.0.1:5549&lt;/a&gt;&gt;&nbsp; connected&lt;/i&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;i&gt;&lt;&lt;a&nbsp;href=&quot;http://127.0.0.1:55249&quot;&gt;127.0.0.1:55249&lt;/a&gt;&gt;&nbsp; lost&nbsp;connection:&nbsp;[(&#39;SSL&nbsp;routines&#39;,&nbsp;&#39;SSL23_READ&#39;,&nbsp;&#39;ssl&nbsp;handshake&nbsp;failure&#39;)]&lt;/i&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;How&nbsp;can&nbsp;I&nbsp;fix&nbsp;this&nbsp;?&nbsp;How&nbsp;should&nbsp;I&nbsp;approach&nbsp;to&nbsp;debug&nbsp;?&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&lt;/div&gt;&lt;div&gt;-Sumanth&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
