<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;3.2//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;charset=US-ASCII&quot;&gt;<br>
&lt;META&nbsp;NAME=&quot;Generator&quot;&nbsp;CONTENT=&quot;MS&nbsp;Exchange&nbsp;Server&nbsp;version&nbsp;5.5.2657.73&quot;&gt;<br>
&lt;TITLE&gt;Twisted,&nbsp;Threading,&nbsp;Extension&nbsp;Modules&nbsp;and&nbsp;the&nbsp;GIL&lt;/TITLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Hi&nbsp;everyone,&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;I&nbsp;have&nbsp;a&nbsp;threading&nbsp;question&nbsp;regarding&nbsp;Twisted&nbsp;and&nbsp;the&nbsp;explanation&nbsp;is&nbsp;a&nbsp;bit&nbsp;long-winded&nbsp;but&nbsp;please&nbsp;bear&nbsp;with&nbsp;me.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;The&nbsp;scenario:&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;I&nbsp;have&nbsp;created&nbsp;an&nbsp;automated&nbsp;build&nbsp;system&nbsp;in&nbsp;Python&nbsp;for&nbsp;PowerBuilder&nbsp;(awful&nbsp;language)&nbsp;that&nbsp;allows&nbsp;a&nbsp;scheduler&nbsp;to&nbsp;assign&nbsp;build&nbsp;jobs&nbsp;to&nbsp;dispatcher&nbsp;programs&nbsp;across&nbsp;a&nbsp;network.&amp;nbsp;&nbsp;These&nbsp;dispatchers&nbsp;have&nbsp;a&nbsp;GUI&nbsp;component&nbsp;coded&nbsp;in&nbsp;wxPython.&amp;nbsp;&nbsp;The&nbsp;initial&nbsp;implementation&nbsp;involved&nbsp;also&nbsp;creating&nbsp;a&nbsp;separate&nbsp;builder&nbsp;program&nbsp;that&nbsp;was&nbsp;spawned&nbsp;by&nbsp;the&nbsp;dispatchers&nbsp;when&nbsp;a&nbsp;build&nbsp;job&nbsp;was&nbsp;received.&amp;nbsp;&nbsp;The&nbsp;builder&nbsp;code&nbsp;called&nbsp;an&nbsp;extension&nbsp;module&nbsp;to&nbsp;interface&nbsp;with&nbsp;the&nbsp;low-level&nbsp;PowerBuilder&nbsp;compiler&nbsp;library.&amp;nbsp;&nbsp;This&nbsp;was&nbsp;done&nbsp;due&nbsp;to&nbsp;the&nbsp;fact&nbsp;the&nbsp;calls&nbsp;to&nbsp;rebuild&nbsp;the&nbsp;application&nbsp;and&nbsp;deploy&nbsp;it&nbsp;are&nbsp;exceptionally&nbsp;CPU-intensive&nbsp;and&nbsp;don't&nbsp;return&nbsp;for&nbsp;many&nbsp;minutes&nbsp;(approx.&nbsp;30&nbsp;or&nbsp;so&nbsp;for&nbsp;a&nbsp;large&nbsp;application)&nbsp;and&nbsp;all&nbsp;attempts&nbsp;to&nbsp;include&nbsp;this&nbsp;in&nbsp;the&nbsp;dispatcher&nbsp;resulted&nbsp;in&nbsp;the&nbsp;user&nbsp;interface&nbsp;freezing.&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Recently&nbsp;I&nbsp;came&nbsp;across&nbsp;twisted&nbsp;documentation&nbsp;with&nbsp;regards&nbsp;to&nbsp;programming&nbsp;using&nbsp;twisted&nbsp;threads.&amp;nbsp;&nbsp;As&nbsp;an&nbsp;experiment&nbsp;on&nbsp;this&nbsp;concept&nbsp;I&nbsp;amalgamated&nbsp;the&nbsp;dispatcher&nbsp;and&nbsp;&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;builder&nbsp;programs&nbsp;and&nbsp;called&nbsp;the&nbsp;builder&nbsp;code&nbsp;using&nbsp;the&nbsp;following:&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;d&nbsp;=&nbsp;threads.deferToThread(self.builder.newbuild(buildJob))&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;d.addCallback(self.builderFinished)&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;It&nbsp;should&nbsp;be&nbsp;noted&nbsp;that&nbsp;the&nbsp;extension&nbsp;module&nbsp;(a&nbsp;pyrex&nbsp;extension&nbsp;I&nbsp;have&nbsp;created&nbsp;myself)&nbsp;implements&nbsp;the&nbsp;releasing&nbsp;and&nbsp;re-acquiring&nbsp;of&nbsp;the&nbsp;Global&nbsp;Interpreter&nbsp;Lock&nbsp;for&nbsp;all&nbsp;blocking&nbsp;calls.&amp;nbsp;&nbsp;From&nbsp;my&nbsp;understanding&nbsp;this&nbsp;should&nbsp;work&nbsp;but&nbsp;the&nbsp;user&nbsp;interface&nbsp;freezes.&amp;nbsp;&nbsp;Can&nbsp;someone&nbsp;please&nbsp;point&nbsp;me&nbsp;in&nbsp;the&nbsp;direction&nbsp;of&nbsp;a&nbsp;solution?&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Thanks,&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Grant&nbsp;McDonald&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;/BODY&gt;<br>
&lt;!--[object_id=#infocomp.com#]--&gt;&lt;P&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#808080&nbsp;size=1&gt;Important&nbsp;notice:&nbsp;This&nbsp;message&nbsp;is&nbsp;intended&nbsp;for&nbsp;the&nbsp;individual(s)&nbsp;and&nbsp;entity(s)&nbsp;addressed.&nbsp;The&nbsp;information&nbsp;contained&nbsp;in&nbsp;this&nbsp;transmission&nbsp;and&nbsp;any&nbsp;attached,&nbsp;may&nbsp;be&nbsp;confidential&nbsp;and&nbsp;may&nbsp;also&nbsp;be&nbsp;the&nbsp;subject&nbsp;of&nbsp;legal&nbsp;privilege,&nbsp;public&nbsp;interest&nbsp;immunity&nbsp;or&nbsp;legal&nbsp;professional&nbsp;privilege.&nbsp;Any&nbsp;review,&nbsp;retransmission,&nbsp;dissemination&nbsp;or&nbsp;other&nbsp;use&nbsp;of,&nbsp;taking&nbsp;of&nbsp;any&nbsp;action&nbsp;in&nbsp;reliance&nbsp;upon&nbsp;this&nbsp;information&nbsp;by&nbsp;person&nbsp;or&nbsp;entities&nbsp;other&nbsp;than&nbsp;the&nbsp;recipient&nbsp;is&nbsp;prohibited&nbsp;and&nbsp;requires&nbsp;authorization&nbsp;from&nbsp;the&nbsp;sender.&nbsp;If&nbsp;you&nbsp;are&nbsp;not&nbsp;the&nbsp;addressee&nbsp;indicated&nbsp;in&nbsp;this&nbsp;message&nbsp;(or&nbsp;responsible&nbsp;for&nbsp;delivery&nbsp;of&nbsp;the&nbsp;message&nbsp;to&nbsp;such&nbsp;person)&nbsp;you&nbsp;may&nbsp;not&nbsp;copy&nbsp;or&nbsp;deliver&nbsp;this&nbsp;message&nbsp;to&nbsp;anyone.&nbsp;In&nbsp;such&nbsp;cases&nbsp;you&nbsp;should&nbsp;destroy&nbsp;this&nbsp;message&nbsp;and&nbsp;kindly&nbsp;notify&nbsp;the&nbsp;sender&nbsp;by&nbsp;reply&nbsp;email.&nbsp;&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;face=Arial&nbsp;color=#808080&nbsp;size=1&gt;WARNING:&nbsp;Although&nbsp;Infocomp&nbsp;has&nbsp;taken&nbsp;reasonable&nbsp;precautions&nbsp;so&nbsp;that&nbsp;no&nbsp;viruses&amp;nbsp;are&nbsp;present&nbsp;in&nbsp;this&nbsp;e-mail,&nbsp;the&nbsp;company&nbsp;cannot&nbsp;accept&nbsp;responsibility&nbsp;for&nbsp;any&nbsp;loss&nbsp;or&nbsp;damage&nbsp;arising&nbsp;from&nbsp;the&nbsp;use&nbsp;of&nbsp;e-mail&nbsp;attachments.&lt;/FONT&gt;&lt;/P&gt;&lt;/HTML&gt;
</tt>
