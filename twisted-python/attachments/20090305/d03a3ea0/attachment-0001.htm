<tt>
&lt;table&nbsp;cellspacing=&quot;0&quot;&nbsp;cellpadding=&quot;0&quot;&nbsp;border=&quot;0&quot;&nbsp;&gt;&lt;tr&gt;&lt;td&nbsp;valign=&quot;top&quot;&nbsp;style=&quot;font:&nbsp;inherit;&quot;&gt;Hi,&lt;br&gt;&lt;br&gt;I&nbsp;tried&nbsp;to&nbsp;use&nbsp;this&nbsp;suggestion&nbsp;but&nbsp;I&nbsp;could&nbsp;not&nbsp;make&nbsp;it&nbsp;work.&lt;br&gt;&lt;br&gt;here&nbsp;is&nbsp;the&nbsp;test&nbsp;I&nbsp;am&nbsp;using&lt;br&gt;&lt;br&gt;in&nbsp;my&nbsp;application&nbsp;class&lt;br&gt;def&nbsp;callSend(self,&nbsp;msg):&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;plugin.send(msg)&lt;br&gt;&lt;br&gt;Now&nbsp;in&nbsp;plugin&nbsp;class&lt;br&gt;def&nbsp;send(self,&nbsp;msg):&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;print&nbsp;'before&nbsp;call'&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;threads.blockingCallFromThread(reactor,&nbsp;remotesend,&nbsp;msg)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;print&nbsp;'after&nbsp;call'&lt;br&gt;&lt;br&gt;def&nbsp;handleError(self,&nbsp;error):&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;error.raiseException()&lt;br&gt;&lt;br&gt;def&nbsp;remotesend(self,&nbsp;msg):&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;deferred&nbsp;=&nbsp;defer.Deferred()&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;reactor.connectTCP('localhost',9999,myfactory)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;deffered.addErrback(self.handleError)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;deffered&lt;br&gt;&lt;br&gt;now&nbsp;myfactory&nbsp;class&nbsp;..<br>
&nbsp;clientConnectionFailed&nbsp;&lt;br&gt;def&nbsp;clientConnectionFailed(self,&nbsp;connector,&nbsp;reason):&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;reason.raiseException()&lt;br&gt;&lt;br&gt;&lt;br&gt;now&nbsp;the&nbsp;problem&nbsp;is,&nbsp;code&nbsp;has&nbsp;become&nbsp;synchronous&nbsp;as&nbsp;code&nbsp;is&nbsp;waiting&nbsp;after&nbsp;threads.blockingCallFromThread,&nbsp;how&nbsp;to&nbsp;fire&nbsp;the&nbsp;defer&nbsp;returned&nbsp;from&nbsp;'remotesend'.&nbsp;Do&nbsp;i&nbsp;need&nbsp;to&nbsp;fire&nbsp;it&nbsp;or&nbsp;twisted&nbsp;will&nbsp;take&nbsp;care&nbsp;of&nbsp;it.&lt;br&gt;&lt;br&gt;I&nbsp;think&nbsp;I&nbsp;can't&nbsp;refer&nbsp;this&nbsp;deferred&nbsp;object&nbsp;since&nbsp;it&nbsp;is&nbsp;being&nbsp;passed&nbsp;to&nbsp;threads.blockingCallFromThread&nbsp;function&nbsp;on&nbsp;which&nbsp;I&nbsp;have&nbsp;no&nbsp;control.&lt;br&gt;&lt;br&gt;any&nbsp;suggestions&lt;br&gt;&lt;br&gt;&lt;br&gt;---&nbsp;On&nbsp;&lt;b&gt;Wed,&nbsp;3/4/09,&nbsp;twisted-python-request@twistedmatrix.com&nbsp;&lt;i&gt;&amp;lt;twisted-python-request@twistedmatrix.com&amp;gt;&lt;/i&gt;&lt;/b&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;style=&quot;border-left:&nbsp;2px&nbsp;solid&nbsp;rgb(16,&nbsp;16,&nbsp;255);&nbsp;margin-left:&nbsp;5px;&nbsp;padding-left:&nbsp;5px;&quot;&gt;From:&nbsp;twisted-python-request@twistedmatrix.com&nbsp;&amp;lt;twisted-python-request@twistedmatrix.com&amp;gt;&lt;br&gt;Subject:&nbsp;Twisted-Python&nbsp;Digest,&nbsp;Vol&nbsp;60,&nbsp;Issue&nbsp;6&lt;br&gt;To:&nbsp;twisted-python@twistedmatrix.com&lt;br&gt;Date:<br>
&nbsp;Wednesday,&nbsp;March&nbsp;4,&nbsp;2009,&nbsp;11:00&nbsp;AM&lt;br&gt;&lt;br&gt;&lt;pre&gt;Send&nbsp;Twisted-Python&nbsp;mailing&nbsp;list&nbsp;submissions&nbsp;to&lt;br&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsptwisted-python@twistedmatrix.com&lt;br&gt;&lt;br&gt;To&nbsp;subscribe&nbsp;or&nbsp;unsubscribe&nbsp;via&nbsp;the&nbsp;World&nbsp;Wide&nbsp;Web,&nbsp;visit&lt;br&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsphttp://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&lt;br&gt;or,&nbsp;via&nbsp;email,&nbsp;send&nbsp;a&nbsp;message&nbsp;with&nbsp;subject&nbsp;or&nbsp;body&nbsp;'help'&nbsp;to&lt;br&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsptwisted-python-request@twistedmatrix.com&lt;br&gt;&lt;br&gt;You&nbsp;can&nbsp;reach&nbsp;the&nbsp;person&nbsp;managing&nbsp;the&nbsp;list&nbsp;at&lt;br&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsptwisted-python-owner@twistedmatrix.com&lt;br&gt;&lt;br&gt;When&nbsp;replying,&nbsp;please&nbsp;edit&nbsp;your&nbsp;Subject&nbsp;line&nbsp;so&nbsp;it&nbsp;is&nbsp;more&nbsp;specific&lt;br&gt;than&nbsp;&quot;Re:&nbsp;Contents&nbsp;of&nbsp;Twisted-Python&nbsp;digest...&quot;&lt;br&gt;&lt;br&gt;&lt;br&gt;Today's&nbsp;Topics:&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;1.&nbsp;Re:&nbsp;how&nbsp;to&nbsp;pass&nbsp;on&nbsp;the&nbsp;connection&nbsp;failed&nbsp;or&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspconnection&nbsp;lost&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error&nbsp;(Jean-Paul&nbsp;Calderone)&lt;br&gt;&lt;br&gt;&lt;br&gt;----------------------------------------------------------------------&lt;br&gt;&lt;br&gt;Message:&nbsp;1&lt;br&gt;Date:&nbsp;Wed,&nbsp;4&nbsp;Mar&nbsp;2009&nbsp;09:59:42&nbsp;-0500&lt;br&gt;From:&nbsp;Jean-Paul&nbsp;Calderone&nbsp;&amp;lt;exarkun@divmod.com&amp;gt;&lt;br&gt;Subject:&nbsp;Re:&nbsp;[Twisted-Python]&nbsp;how<br>
&nbsp;to&nbsp;pass&nbsp;on&nbsp;the&nbsp;connection&nbsp;failed&nbsp;or&lt;br&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspconnection&nbsp;lost&nbsp;error&lt;br&gt;To:&nbsp;twisted-python@twistedmatrix.com&lt;br&gt;Message-ID:&lt;br&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&amp;lt;20090304145942.12853.42253504.divmod.quotient.17917@henry.divmod.com&amp;gt;&lt;br&gt;Content-Type:&nbsp;text/plain;&nbsp;format=flowed&lt;br&gt;&lt;br&gt;On&nbsp;Wed,&nbsp;4&nbsp;Mar&nbsp;2009&nbsp;06:39:59&nbsp;-0800&nbsp;(PST),&nbsp;khawar&nbsp;hasham&lt;br&gt;&amp;lt;hasham_james_007@yahoo.com&amp;gt;&nbsp;wrote:&lt;br&gt;&amp;gt;Hi&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;let&nbsp;me&nbsp;first&nbsp;explain&nbsp;the&nbsp;application&nbsp;that&nbsp;I&nbsp;am&nbsp;developing.&nbsp;I&nbsp;have&nbsp;an&lt;br&gt;application&nbsp;that&nbsp;will&nbsp;use&nbsp;the&nbsp;twisted&nbsp;part&nbsp;as&nbsp;a&nbsp;plugin.&nbsp;this&nbsp;twisted&nbsp;part&nbsp;will&lt;br&gt;act&nbsp;as&nbsp;server&nbsp;and&nbsp;as&nbsp;client&nbsp;both.&lt;br&gt;&amp;gt;my&nbsp;application&nbsp;call&nbsp;the&nbsp;plugin&nbsp;method&nbsp;to&nbsp;send&nbsp;data&nbsp;to&nbsp;server&nbsp;module&nbsp;using&lt;br&gt;connectTCP.&nbsp;now&nbsp;the&nbsp;problem&nbsp;is&nbsp;I&nbsp;can&nbsp;not&nbsp;pass&nbsp;on&nbsp;the&nbsp;connection&nbsp;failed&nbsp;exception&lt;br&gt;to&nbsp;my&nbsp;calling&nbsp;application.&lt;br&gt;&lt;br&gt;Since&nbsp;you're&nbsp;running&nbsp;the&nbsp;reactor&nbsp;in&nbsp;one&nbsp;thread&nbsp;and&nbsp;the&nbsp;rest&nbsp;of&nbsp;your&lt;br&gt;application&nbsp;in&nbsp;another&nbsp;thread,&nbsp;your&nbsp;question&nbsp;is&nbsp;basically&nbsp;one&nbsp;of&nbsp;message&lt;br&gt;passing.&nbsp;&nbsp;You've&nbsp;already&nbsp;found&nbsp;reactor.callFromThread<br>
&nbsp;which&nbsp;is&nbsp;good;&nbsp;I&lt;br&gt;think&nbsp;you&nbsp;just&nbsp;want&nbsp;the&nbsp;slightly&nbsp;more&nbsp;featureful&nbsp;version,&nbsp;available&nbsp;in&lt;br&gt;twisted.internet.threads,&nbsp;blockingCallFromThread.&nbsp;&nbsp;This&nbsp;is&nbsp;implemented&lt;br&gt;in&nbsp;terms&nbsp;of&nbsp;callFromThread,&nbsp;but&nbsp;additionally&nbsp;allows&nbsp;the&nbsp;caller&nbsp;to&nbsp;get&lt;br&gt;the&nbsp;result&nbsp;of&nbsp;the&nbsp;function&nbsp;being&nbsp;called&nbsp;-&nbsp;including&nbsp;waiting&nbsp;on&nbsp;a&nbsp;Deferred&lt;br&gt;if&nbsp;the&nbsp;function&nbsp;being&nbsp;called&nbsp;returns&nbsp;one.&nbsp;&nbsp;If&nbsp;you&nbsp;switch&nbsp;to&nbsp;this,&nbsp;then&lt;br&gt;you&nbsp;only&nbsp;need&nbsp;to&nbsp;make&nbsp;Plugin.clientsend&nbsp;return&nbsp;a&nbsp;Deferred&nbsp;which&nbsp;eventually&lt;br&gt;fires&nbsp;with&nbsp;a&nbsp;result&nbsp;or&nbsp;a&nbsp;Failure.&lt;br&gt;&lt;br&gt;Jean-Paul&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;------------------------------&lt;br&gt;&lt;br&gt;_______________________________________________&lt;br&gt;Twisted-Python&nbsp;mailing&nbsp;list&lt;br&gt;Twisted-Python@twistedmatrix.com&lt;br&gt;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&lt;br&gt;&lt;br&gt;&lt;br&gt;End&nbsp;of&nbsp;Twisted-Python&nbsp;Digest,&nbsp;Vol&nbsp;60,&nbsp;Issue&nbsp;6&lt;br&gt;*********************************************&lt;br&gt;&lt;/pre&gt;&lt;/blockquote&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;br&gt;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</tt>
