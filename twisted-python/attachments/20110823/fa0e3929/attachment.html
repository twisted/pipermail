<tt>
&lt;div&gt;Not&nbsp;sure&nbsp;what&nbsp;you&nbsp;mean,&nbsp;but&nbsp;here&nbsp;is&nbsp;a&nbsp;basic&nbsp;example:&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;from&nbsp;zope.interface&nbsp;import&nbsp;implements&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;from&nbsp;twisted.application&nbsp;import&nbsp;service,&nbsp;internet&lt;/div&gt;&lt;div&gt;from&nbsp;twisted.conch.ssh.keys&nbsp;import&nbsp;Key&lt;/div&gt;<br>
&lt;div&gt;from&nbsp;twisted.conch.ssh.factory&nbsp;import&nbsp;SSHFactory&lt;/div&gt;&lt;div&gt;from&nbsp;twisted.conch.unix&nbsp;import&nbsp;UnixSSHRealm&lt;/div&gt;&lt;div&gt;from&nbsp;twisted.cred.checkers&nbsp;import&nbsp;ICredentialsChecker&lt;/div&gt;&lt;div&gt;from&nbsp;twisted.cred.credentials&nbsp;import&nbsp;IUsernamePassword&lt;/div&gt;<br>
&lt;div&gt;from&nbsp;twisted.cred.portal&nbsp;import&nbsp;Portal&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;def&nbsp;get_key(path):&lt;/div&gt;&lt;div&gt;  &nbsp; return&nbsp;Key.fromString(data=open(path).read())&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;class&nbsp;DummyChecker(object):&lt;/div&gt;<br>
&lt;div&gt;  &nbsp; credentialInterfaces&nbsp;=&nbsp;(IUsernamePassword,)&lt;/div&gt;&lt;div&gt;  &nbsp; implements(ICredentialsChecker)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;  &nbsp; def&nbsp;requestAvatarId(self,&nbsp;credentials):&lt;/div&gt;&lt;div&gt;  &nbsp; &nbsp; &nbsp; return&nbsp;credentials.username&lt;/div&gt;&lt;div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;def&nbsp;makeService():&lt;/div&gt;&lt;div&gt;  &nbsp; public_key&nbsp;=&nbsp;get_key(&#39;id_rsa.pub&#39;)&lt;/div&gt;&lt;div&gt;  &nbsp; private_key&nbsp;=&nbsp;get_key(&#39;id_rsa&#39;)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;  &nbsp; factory&nbsp;=&nbsp;SSHFactory()&lt;/div&gt;&lt;div&gt;<br>
  &nbsp; factory.privateKeys&nbsp;=&nbsp;{&#39;ssh-rsa&#39;:&nbsp;private_key}&lt;/div&gt;&lt;div&gt;  &nbsp; factory.publicKeys&nbsp;=&nbsp;{&#39;ssh-rsa&#39;:&nbsp;public_key}&lt;/div&gt;&lt;div&gt;  &nbsp; factory.portal&nbsp;=&nbsp;Portal(UnixSSHRealm())&lt;/div&gt;&lt;div&gt;  &nbsp; factory.portal.registerChecker(DummyChecker())&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;  &nbsp; return&nbsp;internet.TCPServer(2200,&nbsp;factory)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;application&nbsp;=&nbsp;service.Application(&quot;sftp&nbsp;server&quot;)&lt;/div&gt;&lt;div&gt;sftp_server&nbsp;=&nbsp;makeService()&lt;/div&gt;&lt;div&gt;sftp_server.setServiceParent(application)&lt;/div&gt;<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Put&nbsp;this&nbsp;content&nbsp;into&nbsp;a&nbsp;file&nbsp;like&nbsp;sftp.tac&lt;/div&gt;&lt;div&gt;The&nbsp;keys&nbsp;can&nbsp;be&nbsp;generated&nbsp;by&nbsp;ckeygen&nbsp;utility&nbsp;which&nbsp;is&nbsp;part&nbsp;of&nbsp;Twisted&nbsp;(e.g. ckeygen&nbsp;-b&nbsp;2048&nbsp;-t&nbsp;rsa&nbsp;-f&nbsp;id_rsa)&lt;/div&gt;&lt;div&gt;and&nbsp;run&nbsp;with&nbsp;twistd&nbsp;-ny&nbsp;sftp.tac&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;you&nbsp;want&nbsp;more&nbsp;background&nbsp;on&nbsp;Twisted&nbsp;conch&nbsp;i&nbsp;suggest&nbsp;the&nbsp;&quot;Twisted&nbsp;Conch&nbsp;in&nbsp;60&nbsp;Seconds&quot;&nbsp;series&nbsp;by&lt;/div&gt;&lt;div&gt;Jean-Paul&nbsp;Calderone&nbsp;on&nbsp;his&nbsp;blog &lt;a&nbsp;href=&quot;http://as.ynchrono.us/&quot;&gt;http://as.ynchrono.us/&lt;/a&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Michal&nbsp;Mach&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Mon,&nbsp;Aug&nbsp;22,&nbsp;2011&nbsp;at&nbsp;10:31&nbsp;PM,&nbsp;Osborn&nbsp;Chan&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:ychan@quova.com&quot;&gt;ychan@quova.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;Yes.&nbsp;It&nbsp;is&nbsp;SFTP,&nbsp;and&nbsp;I&nbsp;found&nbsp;that&nbsp;filetransfer.FileTransferServer&nbsp;is&nbsp;a&lt;br&gt;<br>
subsystem&nbsp;under&nbsp;UnixConchUser.&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; self.subsystemLookup.update({&quot;sftp&quot;:&lt;br&gt;<br>
filetransfer.FileTransferServer})&lt;br&gt;<br>
&lt;br&gt;<br>
However,&nbsp;I&nbsp;was&nbsp;able&nbsp;to&nbsp;start&nbsp;a&nbsp;ssh&nbsp;shell&nbsp;by&nbsp;using&nbsp;SSHFactory&nbsp;and&lt;br&gt;<br>
UnixSSHReam,&nbsp;but&nbsp;I&nbsp;was&nbsp;not&nbsp;able&nbsp;to&nbsp;start&nbsp;SFTP&nbsp;as&nbsp;sub&nbsp;system.&lt;br&gt;<br>
&lt;br&gt;<br>
Do&nbsp;I&nbsp;need&nbsp;to&nbsp;do&nbsp;anything&nbsp;explicitly&nbsp;to&nbsp;start&nbsp;sftp&nbsp;subsystem?&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks,&lt;br&gt;<br>
&lt;br&gt;<br>
-Osborn&lt;br&gt;<br>
newbie&nbsp;in&nbsp;Python&nbsp;and&nbsp;Twisted.&lt;br&gt;<br>
&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;8/22/11&nbsp;12:50&nbsp;PM,&nbsp;&quot;Jasper&nbsp;St.&nbsp;Pierre&quot;&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:jstpierre@mecheye.net&quot;&gt;jstpierre@mecheye.net&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;What&nbsp;about&nbsp;twisted.conch.ssh.filetransfer?&nbsp;Is&nbsp;that&nbsp;not&nbsp;SFTP?&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;On&nbsp;Mon,&nbsp;Aug&nbsp;22,&nbsp;2011&nbsp;at&nbsp;3:36&nbsp;PM,&nbsp;Drew&nbsp;Smathers&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:drew.smathers@gmail.com&quot;&gt;drew.smathers@gmail.com&lt;/a&gt;&gt;&lt;br&gt;<br>
&gt;wrote:&lt;br&gt;<br>
&gt;&gt;&nbsp;On&nbsp;Fri,&nbsp;Aug&nbsp;19,&nbsp;2011&nbsp;at&nbsp;2:43&nbsp;PM,&nbsp;Osborn&nbsp;Chan&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:ychan@quova.com&quot;&gt;ychan@quova.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;Hi,&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;I&nbsp;am&nbsp;a&nbsp;newbie&nbsp;in&nbsp;twisted&nbsp;and&nbsp;python.&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;create&nbsp;a&nbsp;python&nbsp;SFTP&nbsp;server&nbsp;with&nbsp;twisted,&nbsp;but&nbsp;I&nbsp;cannot&lt;br&gt;<br>
&gt;&gt;&gt;find&nbsp;any&nbsp;sample.&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;Can&nbsp;someone&nbsp;give&nbsp;me&nbsp;some&nbsp;advise?&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;I&nbsp;don&#39;t&nbsp;believe&nbsp;there&nbsp;are&nbsp;any&nbsp;examples&nbsp;of&nbsp;building&nbsp;an&nbsp;SFTP&nbsp;server&lt;br&gt;<br>
&gt;&gt;&nbsp;aimed&nbsp;at&nbsp;newcomers&nbsp;to&nbsp;twisted&nbsp;and&nbsp;python&nbsp;but&nbsp;there&nbsp;are&nbsp;existing&lt;br&gt;<br>
&gt;&gt;&nbsp;implementations&nbsp;in&nbsp;the&nbsp;wild--which&nbsp;might&nbsp;honestly&nbsp;be&nbsp;difficult&nbsp;to&lt;br&gt;<br>
&gt;&gt;&nbsp;digest&nbsp;if&nbsp;you&nbsp;don&#39;t&nbsp;know&nbsp;python&nbsp;well&nbsp;enough.&nbsp;I&nbsp;think&nbsp;zope&nbsp;at&nbsp;one&nbsp;time&lt;br&gt;<br>
&gt;&gt;&nbsp;has&nbsp;SFTP&nbsp;server&nbsp;based&nbsp;on&nbsp;twisted&nbsp;(which&nbsp;I&nbsp;can&#39;t&nbsp;seem&nbsp;to&nbsp;summon&nbsp;with&lt;br&gt;<br>
&gt;&gt;&nbsp;google)&nbsp;and&nbsp;there&#39;s&nbsp;also&nbsp;SFTP&nbsp;server&nbsp;implementation&nbsp;in&nbsp;tahoe-lafs&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;(&lt;a&nbsp;href=&quot;https://github.com/warner/tahoe-lafs/blob/master/src/allmydata/frontends&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/warner/tahoe-lafs/blob/master/src/allmydata/frontends&lt;/a&gt;&lt;br&gt;<br>
&gt;&gt;/sftpd.py).&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;-Drew&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&gt;&gt;&nbsp;Twisted-Python&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&gt;&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:Twisted-Python@twistedmatrix.com&quot;&gt;Twisted-Python@twistedmatrix.com&lt;/a&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;&lt;a&nbsp;href=&quot;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&lt;/a&gt;&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;--&lt;br&gt;<br>
&gt;&nbsp; Jasper&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;_______________________________________________&lt;br&gt;<br>
&gt;Twisted-Python&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&gt;&lt;a&nbsp;href=&quot;mailto:Twisted-Python@twistedmatrix.com&quot;&gt;Twisted-Python@twistedmatrix.com&lt;/a&gt;&lt;br&gt;<br>
&gt;&lt;a&nbsp;href=&quot;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Twisted-Python&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Twisted-Python@twistedmatrix.com&quot;&gt;Twisted-Python@twistedmatrix.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
