<tt>
&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Jan&nbsp;12,&nbsp;2011&nbsp;at&nbsp;11:32&nbsp;AM,&nbsp;Glyph&nbsp;Lefkowitz&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:glyph@twistedmatrix.com&quot;&gt;glyph@twistedmatrix.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;The&nbsp;reactor&nbsp;doesn&#39;t&nbsp;have&nbsp;a&nbsp;queue&nbsp;of&nbsp;tasks&nbsp;to&nbsp;be&nbsp;completed.&nbsp; It&nbsp;has&nbsp;sets&nbsp;of&nbsp;various&nbsp;event&nbsp;sources,&nbsp;which&nbsp;it&nbsp;executes&nbsp;in&nbsp;no&nbsp;particular&nbsp;order.&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&quot;queue&nbsp;of&nbsp;tasks&quot;&nbsp;was&nbsp;a&nbsp;guess&nbsp;on&nbsp;my&nbsp;part,&nbsp;but&nbsp;I&nbsp;looked&nbsp;through&nbsp;the&nbsp;BaseReactor&nbsp;code&nbsp;and&nbsp;found&nbsp;something&nbsp;like&nbsp;that.&nbsp; &#39;course,&nbsp;I&nbsp;could&nbsp;easily&nbsp;be&nbsp;reading&nbsp;the&nbsp;code&nbsp;wrong.&nbsp; How&nbsp;would&nbsp;you&nbsp;describe threadCallQueue?&nbsp; When&nbsp;I&nbsp;said&nbsp;&quot;tasks&quot;,&nbsp;I&nbsp;meant&nbsp;something&nbsp;akin&nbsp;to&nbsp;&quot;calls&quot;.&nbsp; That&nbsp;could&nbsp;be&nbsp;confusing---did&nbsp;you&nbsp;interpret&nbsp;&quot;tasks&quot;&nbsp;differently?&lt;/div&gt;<br>
&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;&lt;div&gt;Scheduling&nbsp;a&nbsp;timed&nbsp;event&nbsp;with&nbsp;callLater(0,...)&nbsp;might&nbsp;do&nbsp;what&nbsp;you&nbsp;want,&nbsp;though.&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;meta&nbsp;http-equiv=&quot;content-type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;Yes.&nbsp; Thanks!&nbsp; I&nbsp;see&nbsp;that&nbsp;the callFromThread&nbsp;documentation&nbsp;even&nbsp;recommends&nbsp;using&nbsp;callLater&nbsp;for&nbsp;this&nbsp;behavior.&nbsp;(doh!)&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;a&nbsp;href=&quot;http://twistedmatrix.com/documents/10.2.0/api/twisted.internet.interfaces.IReactorThreads.html#callFromThread&quot;&gt;http://twistedmatrix.com/documents/10.2.0/api/twisted.internet.interfaces.IReactorThreads.html#callFromThread&lt;/a&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&gt;&gt;&gt;&nbsp;from&nbsp;twisted.internet&nbsp;import&nbsp;reactor&lt;/div&gt;&lt;div&gt;&gt;&gt;&gt;&nbsp;def&nbsp;foo():&lt;/div&gt;&lt;div&gt;...&nbsp; &nbsp; &nbsp;print&nbsp;&quot;foo!&quot;&lt;/div&gt;&lt;div&gt;... &lt;/div&gt;&lt;div&gt;&gt;&gt;&gt;&nbsp;def&nbsp;bar():&lt;/div&gt;<br>
&lt;div&gt;...&nbsp; &nbsp; &nbsp;reactor.callLater(0,&nbsp;foo)&lt;/div&gt;&lt;div&gt;...&nbsp; &nbsp; &nbsp;print&nbsp;&quot;bar!&quot;&lt;/div&gt;&lt;div&gt;... &lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&gt;&gt;&gt;&nbsp;reactor.callWhenRunning(bar)&lt;/div&gt;&lt;div&gt;(&#39;startup&#39;,&nbsp;(&#39;after&#39;,&nbsp;&lt;function&nbsp;bar&nbsp;at&nbsp;0x2c84320&gt;,&nbsp;(),&nbsp;{}))&lt;/div&gt;<br>
&lt;div&gt;&gt;&gt;&gt;&nbsp;reactor.run()&lt;/div&gt;&lt;div&gt;bar!&lt;/div&gt;&lt;div&gt;foo!&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Interesting&nbsp;that&nbsp;you&nbsp;can&nbsp;substitute&nbsp;callFromThread&nbsp;for&nbsp;callLater(0,&nbsp;...)&nbsp;in&nbsp;the&nbsp;above&nbsp;code&nbsp;and&nbsp;get&nbsp;the&nbsp;same&nbsp;behavior...&lt;/div&gt;&lt;div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;Sorry&nbsp;to&nbsp;prolong&nbsp;the&nbsp;tangent,&nbsp;but&nbsp;I&#39;d&nbsp;like&nbsp;to&nbsp;better&nbsp;understand&nbsp;the&nbsp;differences&nbsp;between&nbsp;callWhenRunning,&nbsp;callFromThread&nbsp;and&nbsp;callLater.&nbsp; I&nbsp;think&nbsp;reactor.wakeUp()&nbsp;is&nbsp;the&nbsp;one&nbsp;missing&nbsp;piece&nbsp;for&nbsp;me.&nbsp; How&nbsp;exactly&nbsp;does&nbsp;it&nbsp;work?&nbsp; Reading&nbsp;the&nbsp;BaseReactor&nbsp;code...&nbsp;callFromThread&nbsp;adds&nbsp;the&nbsp;call&nbsp;to&nbsp;a&nbsp;queue,&nbsp;then&nbsp;calls&nbsp;wakeUp.&nbsp; IIUC,&nbsp;wakeUp&nbsp;simply&nbsp;runs&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;self.port.postEvent(0,&nbsp;KEY_WAKEUP,&nbsp;None)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Does&nbsp;this&nbsp;cause&nbsp;the&nbsp;reactor&nbsp;thread&nbsp;to&nbsp;jump&nbsp;to&nbsp;the&nbsp;front&nbsp;of&nbsp;the&nbsp;queue&nbsp;of&nbsp;threads&nbsp;to&nbsp;be&nbsp;run&nbsp;by&nbsp;python/linux?&nbsp; If&nbsp;there&nbsp;were&nbsp;no&nbsp;wakeUp&nbsp;in&nbsp;callFromThread,&nbsp;would&nbsp;the&nbsp;call&nbsp;simply&nbsp;be&nbsp;delayed&nbsp;until&nbsp;the&nbsp;thread&nbsp;round-robin&nbsp;got&nbsp;to&nbsp;the&nbsp;reactor&nbsp;thread?&nbsp; Or,&nbsp;without&nbsp;wakeUp,&nbsp;is&nbsp;it&nbsp;possible&nbsp;the&nbsp;callFromThread&nbsp;call&nbsp;would&nbsp;never&nbsp;be&nbsp;made?&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Cheers,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Jason&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;Jason&nbsp;Rennie&lt;br&gt;Research&nbsp;Scientist,&nbsp;ITA&nbsp;Software&lt;br&gt;617-714-2645&lt;br&gt;&lt;a&nbsp;href=&quot;http://www.itasoftware.com/&quot;&gt;http://www.itasoftware.com/&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>

</tt>
