<tt>
&lt;html&gt;&lt;head&gt;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html&nbsp;charset=us-ascii&quot;&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&quot;&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;On&nbsp;Sep&nbsp;3,&nbsp;2015,&nbsp;at&nbsp;7:55&nbsp;AM,&nbsp;Wang&nbsp;Yan&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:snailcoder@163.com&quot;&nbsp;class=&quot;&quot;&gt;snailcoder@163.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;style=&quot;line-height:&nbsp;1.7;&nbsp;font-size:&nbsp;14px;&nbsp;font-family:&nbsp;Arial;&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;Hi,&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;I've&nbsp;installed&nbsp;Twisted&nbsp;15.3.0&nbsp;on&nbsp;Ubuntu&nbsp;14.04LTS.&nbsp;Excellent&nbsp;work&nbsp;but&nbsp;there's&nbsp;one&nbsp;problem&nbsp;bothering&nbsp;me&nbsp;for&nbsp;a&nbsp;long&nbsp;time:&nbsp;twisted.mail.imap4.IMAP4Client.fetchMessage&nbsp;always&nbsp;throws&nbsp;exception&nbsp;and&nbsp;the&nbsp;exception&nbsp;occured&nbsp;at&nbsp;random,&nbsp;e.g.&nbsp;somtimes&nbsp;the&nbsp;exception&nbsp;occured&nbsp;when&nbsp;the&nbsp;program&nbsp;read&nbsp;the&nbsp;120th&nbsp;mail,&nbsp;sometimes&nbsp;it&nbsp;occured&nbsp;at&nbsp;the&nbsp;150th&nbsp;or&nbsp;200th&nbsp;mail.&nbsp;The&nbsp;traceback&nbsp;of&nbsp;the&nbsp;exception&nbsp;is&nbsp;as&nbsp;follows:&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;Unhandled&nbsp;Error&lt;br&nbsp;class=&quot;&quot;&gt;Traceback&nbsp;(most&nbsp;recent&nbsp;call&nbsp;last):&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;File&nbsp;&quot;/usr/local/lib/python2.7/dist-packages/Twisted-15.3.0-py2.7-linux-i686.egg/twisted/python/log.py&quot;,&nbsp;line&nbsp;101,&nbsp;in&nbsp;callWithLogger&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;callWithContext({&quot;system&quot;:&nbsp;lp},&nbsp;func,&nbsp;*args,&nbsp;**kw)&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;File&nbsp;&quot;/usr/local/lib/python2.7/dist-packages/Twisted-15.3.0-py2.7-linux-i686.egg/twisted/python/log.py&quot;,&nbsp;line&nbsp;84,&nbsp;in&nbsp;callWithContext&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;context.call({ILogContext:&nbsp;newCtx},&nbsp;func,&nbsp;*args,&nbsp;**kw)&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;File&nbsp;&quot;/usr/local/lib/python2.7/dist-packages/Twisted-15.3.0-py2.7-linux-i686.egg/twisted/python/context.py&quot;,&nbsp;line&nbsp;118,&nbsp;in&nbsp;callWithContext&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.currentContext().callWithContext(ctx,&nbsp;func,&nbsp;*args,&nbsp;**kw)&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;File&nbsp;&quot;/usr/local/lib/python2.7/dist-packages/Twisted-15.3.0-py2.7-linux-i686.egg/twisted/python/context.py&quot;,&nbsp;line&nbsp;81,&nbsp;in&nbsp;callWithContext&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;func(*args,**kw)&lt;br&nbsp;class=&quot;&quot;&gt;---&nbsp;&lt;exception&nbsp;caught&nbsp;here&gt;&nbsp;---&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;File&nbsp;&quot;/usr/local/lib/python2.7/dist-packages/Twisted-15.3.0-py2.7-linux-i686.egg/twisted/internet/posixbase.py&quot;,&nbsp;line&nbsp;597,&nbsp;in&nbsp;_doReadOrWrite&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;why&nbsp;=&nbsp;selectable.doRead()&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;File&nbsp;&quot;/usr/local/lib/python2.7/dist-packages/Twisted-15.3.0-py2.7-linux-i686.egg/twisted/internet/tcp.py&quot;,&nbsp;line&nbsp;209,&nbsp;in&nbsp;doRead&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self._dataReceived(data)&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;File&nbsp;&quot;/usr/local/lib/python2.7/dist-packages/Twisted-15.3.0-py2.7-linux-i686.egg/twisted/internet/tcp.py&quot;,&nbsp;line&nbsp;215,&nbsp;in&nbsp;_dataReceived&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;rval&nbsp;=&nbsp;self.protocol.dataReceived(data)&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;File&nbsp;&quot;/usr/local/lib/python2.7/dist-packages/Twisted-15.3.0-py2.7-linux-i686.egg/twisted/protocols/basic.py&quot;,&nbsp;line&nbsp;571,&nbsp;in&nbsp;dataReceived&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;why&nbsp;=&nbsp;self.lineReceived(line)&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;File&nbsp;&quot;/usr/local/lib/python2.7/dist-packages/Twisted-15.3.0-py2.7-linux-i686.egg/twisted/mail/imap4.py&quot;,&nbsp;line&nbsp;2356,&nbsp;in&nbsp;lineReceived&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;self._regularDispatch(line)&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;File&nbsp;&quot;/usr/local/lib/python2.7/dist-packages/Twisted-15.3.0-py2.7-linux-i686.egg/twisted/mail/imap4.py&quot;,&nbsp;line&nbsp;2383,&nbsp;in&nbsp;_regularDispatch&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;tag,&nbsp;rest&nbsp;=&nbsp;parts&lt;br&nbsp;class=&quot;&quot;&gt;exceptions.ValueError:&nbsp;need&nbsp;more&nbsp;than&nbsp;1&nbsp;value&nbsp;to&nbsp;unpack&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;My&nbsp;code&nbsp;is&nbsp;as&nbsp;simple&nbsp;as&nbsp;possible&nbsp;and&nbsp;the&nbsp;exception&nbsp;is&nbsp;thrown&nbsp;by&nbsp;the&nbsp;following&nbsp;codes:&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;dlist&nbsp;=&nbsp;[]&lt;br&nbsp;class=&quot;&quot;&gt;for&nbsp;msg&nbsp;in&nbsp;messages:&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;use&nbsp;message&nbsp;number,&nbsp;not&nbsp;UID&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;d&nbsp;=&nbsp;self.fetchMessage(msg,&nbsp;uid=False)&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;d.addCallback(cbGetAttachment)&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;dlist.append(d)&lt;br&nbsp;class=&quot;&quot;&gt;dl&nbsp;=&nbsp;defer.DeferredList(dlist)&lt;br&nbsp;class=&quot;&quot;&gt;return&nbsp;dl.addCallback(cbLogout)&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;Is&nbsp;there&nbsp;anybody&nbsp;know&nbsp;about&nbsp;this&nbsp;issue?&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;Hi&nbsp;Wang,&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;Sorry&nbsp;it&nbsp;took&nbsp;some&nbsp;time&nbsp;to&nbsp;get&nbsp;back&nbsp;to&nbsp;you.&nbsp;&nbsp;What&nbsp;kind&nbsp;of&nbsp;mail&nbsp;server&nbsp;are&nbsp;you&nbsp;talking&nbsp;to?&nbsp;&nbsp;This&nbsp;looks&nbsp;like&nbsp;a&nbsp;protocol&nbsp;error&nbsp;-&nbsp;perhaps&nbsp;a&nbsp;bug&nbsp;in&nbsp;the&nbsp;server&nbsp;you're&nbsp;talking&nbsp;to,&nbsp;perhaps&nbsp;a&nbsp;bug&nbsp;in&nbsp;Twisted's&nbsp;handling&nbsp;of&nbsp;a&nbsp;valid&nbsp;response&nbsp;-&nbsp;but&nbsp;it's&nbsp;hard&nbsp;to&nbsp;say&nbsp;more&nbsp;without&nbsp;looking&nbsp;at&nbsp;the&nbsp;traffic&nbsp;and&nbsp;the&nbsp;intended&nbsp;behavior.&nbsp;&nbsp;(I&nbsp;am&nbsp;no&nbsp;longer&nbsp;well-versed&nbsp;enough&nbsp;in&nbsp;the&nbsp;IMAP&nbsp;protocol&nbsp;to&nbsp;guess&nbsp;what&nbsp;is&nbsp;going&nbsp;on&nbsp;at&nbsp;a&nbsp;glance).&nbsp;&nbsp;Is&nbsp;there&nbsp;any&nbsp;chance&nbsp;you&nbsp;have&nbsp;ever&nbsp;managed&nbsp;to&nbsp;reproduce&nbsp;this&nbsp;on&nbsp;a&nbsp;small&nbsp;set&nbsp;of&nbsp;data?&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;-glyph&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
