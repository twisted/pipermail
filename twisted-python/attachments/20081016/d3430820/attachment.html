<tt>
&lt;html&gt;&lt;head&gt;&lt;style&nbsp;type=&quot;text/css&quot;&gt;&lt;!--&nbsp;DIV&nbsp;{margin:0px;}&nbsp;--&gt;&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;div&nbsp;style=&quot;font-family:times&nbsp;new&nbsp;roman,&nbsp;new&nbsp;york,&nbsp;times,&nbsp;serif;font-size:12pt&quot;&gt;&lt;div&gt;Hi,&lt;br&gt;&lt;br&gt;I&nbsp;have&nbsp;a&nbsp;server&nbsp;which&nbsp;can&nbsp;handle&nbsp;multiple&nbsp;connections.&nbsp;&nbsp;At&nbsp;any&nbsp;given&nbsp;time,&nbsp;I&nbsp;want&nbsp;to&nbsp;send&nbsp;out&nbsp;a&nbsp;ping&nbsp;to&nbsp;see&nbsp;who&nbsp;is&nbsp;still&nbsp;listening&nbsp;to&nbsp;this&nbsp;server.&lt;br&gt;&lt;br&gt;For&nbsp;this&nbsp;I&nbsp;scan&nbsp;through&nbsp;my&nbsp;list&nbsp;of&nbsp;ip's&nbsp;and&nbsp;send&nbsp;out&nbsp;a&nbsp;msg&nbsp;with&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;factory&nbsp;=&nbsp;ClientFactory()&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;factory.protocol&nbsp;=&nbsp;caller&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;factory.message&nbsp;=&nbsp;self.message&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;factory.alive&nbsp;=&nbsp;0&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reactor.connectTCP(self.ip,&nbsp;self.port,&nbsp;factory)&lt;br&gt;&lt;br&gt;and&nbsp;wait&nbsp;on&nbsp;the&nbsp;response.&nbsp;&nbsp;This&nbsp;is&nbsp;done&nbsp;from&nbsp;within&nbsp;an&nbsp;application&nbsp;daemon,&nbsp;so&nbsp;no&nbsp;reactor.run()&nbsp;is&nbsp;required.&nbsp;&nbsp;&lt;br&gt;&lt;br&gt;How&nbsp;can&nbsp;I&nbsp;send&nbsp;a&nbsp;message&nbsp;out&nbsp;and&nbsp;wait&nbsp;for&nbsp;the&nbsp;response&nbsp;before&nbsp;proceeding?&nbsp;&nbsp;I&nbsp;tried&nbsp;using&nbsp;deferreds&nbsp;a&nbsp;bunch&nbsp;of&nbsp;different&nbsp;ways&nbsp;but&nbsp;I<br>
&nbsp;can't&nbsp;seem&nbsp;to&nbsp;get&nbsp;it&nbsp;going.&nbsp;&nbsp;&lt;br&gt;Oh&nbsp;and&nbsp;I&nbsp;should&nbsp;clarify&nbsp;I&nbsp;want&nbsp;the&nbsp;response&nbsp;to&nbsp;be&nbsp;in&nbsp;the&nbsp;original&nbsp;stream,&nbsp;not&nbsp;in&nbsp;the&nbsp;thread&nbsp;created&nbsp;by&nbsp;connectTCP/dataReceived/etc...&lt;br&gt;&lt;br&gt;thanks,&lt;br&gt;&lt;br&gt;Nima&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
