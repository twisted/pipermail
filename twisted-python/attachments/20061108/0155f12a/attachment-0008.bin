#!/usr/bin/env python

from twisted.internet import reactor
from foolscap import Referenceable, UnauthenticatedTub

import DateCopy

class DateService ( Referenceable ):

    def remote_printDate ( self, date ):
        print "Received date: ", date
        print "Date is a: ", date.__class__.__name__
        return True

ds = DateService()
ut = UnauthenticatedTub()
ut.listenOn ( 'tcp:9000' )
ut.setLocation ( 'localhost:9000' )
url = ut.registerReference ( ds, 'date-service')

print "Date Service URL: ", url

ut.startService()
reactor.run()

