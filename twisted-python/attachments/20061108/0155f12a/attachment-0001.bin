import xmlrpclib
from foolscap import copyable

_xd_name = "_xmlrpclib_DateTime"

def copy_DateTime ( xd ):
    return ( _xd_name, { "value" : xd.value } )

copyable.registerCopier (
    xmlrpclib.DateTime,
    copy_DateTime
    )

def make_DateTime ( state ):
    print "State I received: ", state
    return xmlrpclib.DateTime ( state [ "value" ] )

copyable.registerRemoteCopyFactory (
    _xd_name,
    make_DateTime
    )

