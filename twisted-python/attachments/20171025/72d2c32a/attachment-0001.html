<tt>
&lt;html&nbsp;style=&quot;direction:&nbsp;ltr;&quot;&gt;<br>
&lt;head&gt;<br>
&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&gt;<br>
&lt;style&nbsp;type=&quot;text/css&quot;&gt;body&nbsp;p&nbsp;{&nbsp;margin-bottom:&nbsp;0cm;&nbsp;margin-top:&nbsp;0pt;&nbsp;}&nbsp;&lt;/style&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;bidimailui-charset-is-forced=&quot;true&quot;&nbsp;style=&quot;direction:&nbsp;ltr;&quot;&nbsp;text=&quot;#000000&quot;&nbsp;bgcolor=&quot;#FFFFFF&quot;&gt;<br>
Hi,&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;am&nbsp;using&nbsp;a&nbsp;self-signed&nbsp;CA&nbsp;to&nbsp;issue&nbsp;server&nbsp;and&nbsp;client(s)&nbsp;certificates.&nbsp;&lt;br&gt;<br>
&lt;br&gt;<br>
My&nbsp;server&nbsp;is&nbsp;using&nbsp;the&nbsp;standard&nbsp;Python&nbsp;ssl&nbsp;module.&nbsp;&lt;br&gt;<br>
One&nbsp;client,&nbsp;that&nbsp;is&nbsp;using&nbsp;twisted.internet.ssl,&nbsp;consistently&nbsp;fails&nbsp;to&nbsp;connect&nbsp;with:<br>
&lt;br&gt;<br>
On&nbsp;the&nbsp;Server:&nbsp;&nbsp;&nbsp;&nbsp;[SSL:&nbsp;TLSV1_ALERT_UNKNOWN_CA]&nbsp;tlsv1&nbsp;alert&nbsp;unknown&nbsp;ca&nbsp;(_ssl.c:661),<br>
&lt;br&gt;<br>
On&nbsp;the&nbsp;Client:&nbsp;&nbsp;&nbsp;&nbsp;[WARNING]&nbsp;[('SSL&nbsp;routines',&nbsp;'tls_process_server_certificate',&nbsp;'certificate&nbsp;verify&nbsp;failed')]&lt;br&gt;<br>
&lt;br&gt;<br>
This&nbsp;is&nbsp;my&nbsp;code:&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;tt&gt;path&nbsp;=&nbsp;getModule(__name__).filePath.sibling(u'data')&lt;/tt&gt;&lt;tt&gt;&lt;br&gt;<br>
&lt;/tt&gt;&lt;tt&gt;&lt;br&gt;<br>
&lt;/tt&gt;&lt;tt&gt;txt&nbsp;=&nbsp;path.child(u'ca.crt').getContent()&lt;/tt&gt;&lt;tt&gt;&lt;br&gt;<br>
&lt;/tt&gt;&lt;tt&gt;cacert&nbsp;=&nbsp;ssl.Certificate.loadPEM(txt)&lt;/tt&gt;&lt;tt&gt;&lt;br&gt;<br>
&lt;/tt&gt;&lt;tt&gt;root&nbsp;=&nbsp;ssl.trustRootFromCertificates([cacert])&lt;/tt&gt;&lt;tt&gt;&lt;br&gt;<br>
&lt;/tt&gt;&lt;tt&gt;&lt;br&gt;<br>
&lt;/tt&gt;&lt;tt&gt;txt&nbsp;=&nbsp;path.child(u'client.pem').getContent()&lt;/tt&gt;&lt;tt&gt;&lt;br&gt;<br>
&lt;/tt&gt;&lt;tt&gt;mycert&nbsp;=&nbsp;ssl.PrivateCertificate.loadPEM(txt)&lt;/tt&gt;&lt;tt&gt;&lt;br&gt;<br>
&lt;/tt&gt;&lt;tt&gt;&lt;br&gt;<br>
&lt;/tt&gt;&lt;tt&gt;ctx&nbsp;=&nbsp;ssl.optionsForClientTLS(hostName,&nbsp;trustRoot=root,&nbsp;clientCertificate=mycert)&lt;/tt&gt;&lt;tt&gt;&lt;br&gt;<br>
&lt;/tt&gt;&lt;tt&gt;&lt;br&gt;<br>
&lt;/tt&gt;&lt;tt&gt;reactor.connectSSL(hostName,&nbsp;portNumber,&nbsp;factory,&nbsp;ctx)&lt;/tt&gt;&lt;tt&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/tt&gt;I&nbsp;am&nbsp;using&nbsp;the&nbsp;latest&nbsp;git&nbsp;trunk&nbsp;code.&lt;br&gt;<br>
With&nbsp;a&nbsp;regular&nbsp;ssl&nbsp;client&nbsp;I&nbsp;don't&nbsp;have&nbsp;an&nbsp;issue.&lt;br&gt;<br>
&lt;br&gt;<br>
A&nbsp;known&nbsp;bug?&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks,&nbsp;Enoch.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
