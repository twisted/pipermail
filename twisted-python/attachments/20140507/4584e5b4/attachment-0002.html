<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hello&nbsp;everybody,&lt;br&gt;&lt;br&gt;I&nbsp;sometimes&nbsp;see&nbsp;the&nbsp;following&nbsp;error&nbsp;logged&nbsp;by&nbsp;a&nbsp;twisted&nbsp;application,&nbsp;it&nbsp;only&nbsp;happens&nbsp;sporadically&nbsp;and&nbsp;I&nbsp;cannot&nbsp;even&nbsp;reproduce&nbsp;when&nbsp;trying&nbsp;to&nbsp;re-execute&nbsp;the&nbsp;exact&nbsp;sequence&nbsp;of&nbsp;those&nbsp;failures.&nbsp;So&nbsp;giving&nbsp;an&nbsp;SSCCE&nbsp;is&nbsp;quite&nbsp;impossible&nbsp;for&nbsp;now&nbsp;(sorry).&nbsp;Given&nbsp;this&nbsp;trace&nbsp;it&#39;s&nbsp;also&nbsp;hard&nbsp;to&nbsp;find&nbsp;what&nbsp;was&nbsp;actually&nbsp;called/executed.&lt;br&nbsp;clear=&quot;all&quot;&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;Unhandled&nbsp;Error&lt;br&gt;Traceback&nbsp;(most&nbsp;recent&nbsp;call&nbsp;last):&lt;br&gt; &nbsp;File&nbsp;&quot;/path/to/twisted.zip/twisted/python/log.py&quot;,&nbsp;line&nbsp;88,&nbsp;in&nbsp;callWithLogger&lt;br&gt;   &nbsp;&lt;br&gt; &nbsp;File&nbsp;&quot;/path/to/twisted.zip/twisted/python/log.py&quot;,&nbsp;line&nbsp;73,&nbsp;in&nbsp;callWithContext&lt;br&gt;<br>
<br>
   &nbsp;&lt;br&gt; &nbsp;File&nbsp;&quot;/path/to/twisted.zip/twisted/python/context.py&quot;,&nbsp;line&nbsp;118,&nbsp;in&nbsp;callWithContext&lt;br&gt;   &nbsp;&lt;br&gt; &nbsp;File&nbsp;&quot;/path/to/twisted.zip/twisted/python/context.py&quot;,&nbsp;line&nbsp;81,&nbsp;in&nbsp;callWithContext&lt;br&gt;   &nbsp;&lt;br&gt;<br>
<br>
---&nbsp;&lt;exception&nbsp;caught&nbsp;here&gt;&nbsp;---&lt;br&gt; &nbsp;File&nbsp;&quot;/path/to/twisted.zip/twisted/internet/posixbase.py&quot;,&nbsp;line&nbsp;619,&nbsp;in&nbsp;_doReadOrWrite&lt;br&gt;   &nbsp;&lt;br&gt; &nbsp;File&nbsp;&quot;/path/to/twisted.zip/twisted/internet/base.py&quot;,&nbsp;line&nbsp;1117,&nbsp;in&nbsp;doWrite&lt;br&gt;<br>
<br>
   &nbsp;&lt;br&gt;exceptions.RuntimeError:&nbsp;doWrite&nbsp;called&nbsp;on&nbsp;a&nbsp;twisted.internet.unix.Port&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;&lt;font&nbsp;face=&quot;arial,helvetica,sans-serif&quot;&gt;I&nbsp;cannot&nbsp;reproduce&nbsp;the&nbsp;scenario&nbsp;where&nbsp;this&nbsp;goes&nbsp;wrong,&nbsp;in&nbsp;the&nbsp;application&nbsp;there&nbsp;is&nbsp;only&nbsp;a&nbsp;single&nbsp;unix&nbsp;socket&nbsp;which&nbsp;is&nbsp;handled&nbsp;as&nbsp;follows:&lt;/font&gt;&lt;br&gt;<br>
<br>
&lt;br&gt;class&nbsp;cmd_protocol(basic.Int32StringReceiver):&lt;br&gt;   &nbsp;def&nbsp;stringReceived(self,&nbsp;command):&lt;br&gt;       &nbsp;self.factory.callback(command,&nbsp;self.send_response)&lt;br&gt;&lt;br&gt;   &nbsp;def&nbsp;send_response(self,&nbsp;code,&nbsp;message):&lt;br&gt;       &nbsp;self.sendString(response_msg(result_code&nbsp;=&nbsp;code,&nbsp;message&nbsp;=&nbsp;message).SerializeToString())&nbsp;//response_msg&nbsp;is&nbsp;a&nbsp;google&nbsp;protobuf&nbsp;class&lt;br&gt;<br>
<br>
&lt;br&gt;class&nbsp;cmd_factory(protocol.ServerFactory):&lt;br&gt;   &nbsp;protocol&nbsp;=&nbsp;cmd_protocol&lt;br&gt;   &nbsp;def&nbsp;__init__(self,&nbsp;callback,&nbsp;*args,&nbsp;**kwargs):&lt;br&gt;       &nbsp;self.callback&nbsp;=&nbsp;callback&lt;br&gt;&lt;br&gt;class&nbsp;cmd_server(object):&lt;br&gt;   &nbsp;def&nbsp;__init__(self,&nbsp;socket_file,&nbsp;callback,&nbsp;delete_previous_socket&nbsp;=&nbsp;True):&lt;br&gt;<br>
<br>
       &nbsp;if&nbsp;delete_previous_socket:&lt;br&gt;           &nbsp;try:&lt;br&gt;               &nbsp;os.remove(socket_file)&lt;br&gt;           &nbsp;except&nbsp;OSError:&lt;br&gt;               &nbsp;pass&lt;br&gt;       &nbsp;reactor.listenUNIX(socket_file,&nbsp;cmd_factory(callback))&nbsp;#@UndefinedVariable&lt;br&gt;<br>
<br>
&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:arial,helvetica,sans-serif&quot;&gt;Does&nbsp;anybody&nbsp;have&nbsp;any&nbsp;idea&nbsp;what&nbsp;could&nbsp;trigger&nbsp;the&nbsp;doWrite&nbsp;internally&nbsp;or&nbsp;how&nbsp;I&nbsp;at&nbsp;least&nbsp;I&nbsp;can&nbsp;start&nbsp;debugging&nbsp;this?&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;&lt;span&nbsp;style=&quot;font-family:arial,helvetica,sans-serif&quot;&gt;Thank&nbsp;you,&lt;br&gt;<br>
<br>
&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;&lt;span&nbsp;style=&quot;font-family:arial,helvetica,sans-serif&quot;&gt;Killian&lt;/span&gt;&lt;br&gt;&lt;/span&gt;<br>
&lt;/div&gt;&lt;/div&gt;<br>

</tt>
