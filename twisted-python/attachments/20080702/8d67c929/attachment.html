<tt>
On&nbsp;Wed,&nbsp;Jul&nbsp;2,&nbsp;2008&nbsp;at&nbsp;9:46&nbsp;AM,&nbsp;Paul&nbsp;Wilson&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:paulalexwilson@gmail.com&quot;&gt;paulalexwilson@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
Hi&nbsp;all,&lt;br&gt;<br>
&lt;br&gt;<br>
I&#39;m&nbsp;new&nbsp;to&nbsp;twisted&nbsp;but&nbsp;am&nbsp;having&nbsp;trouble&nbsp;getting&nbsp;my&nbsp;head&nbsp;around&nbsp;how&nbsp;to&lt;br&gt;<br>
structure&nbsp;my&nbsp;application&nbsp;with&nbsp;this&nbsp;new&nbsp;approach.&lt;br&gt;<br>
&lt;br&gt;<br>
I&#39;m&nbsp;creating&nbsp;a&nbsp;server&nbsp;that&nbsp;accepts&nbsp;client&nbsp;connections&nbsp;and&nbsp;then&nbsp;drives&lt;br&gt;<br>
the&nbsp;client&nbsp;according&nbsp;to&nbsp;a&nbsp;simple,&nbsp;line-oriented&nbsp;protocol.&nbsp;The&nbsp;server&lt;br&gt;<br>
sends&nbsp;the&nbsp;request&nbsp;(1&nbsp;line),&nbsp;and&nbsp;receives&nbsp;a&nbsp;single&nbsp;lined&nbsp;result.&nbsp;I&#39;d&lt;br&gt;<br>
like&nbsp;the&nbsp;server&nbsp;to&nbsp;offer&nbsp;an&nbsp;API&nbsp;to&nbsp;generate&nbsp;the&nbsp;correct&nbsp;request&nbsp;lines&lt;br&gt;<br>
to&nbsp;the&nbsp;client,&nbsp;and&nbsp;return&nbsp;the&nbsp;results&nbsp;(either&nbsp;blocking&nbsp;or&lt;br&gt;<br>
asynchronously).&nbsp;So&nbsp;in&nbsp;effect,&nbsp;I&nbsp;have&nbsp;two&nbsp;event&nbsp;loops,&nbsp;one&nbsp;from&nbsp;the&lt;br&gt;<br>
Network&nbsp;and&nbsp;one&nbsp;from&nbsp;whatever&#39;s&nbsp;sending&nbsp;the&nbsp;API&nbsp;requests&nbsp;(command&lt;br&gt;<br>
line?).&lt;br&gt;<br>
&lt;br&gt;<br>
Can&nbsp;anyone&nbsp;offer&nbsp;any&nbsp;guidance&nbsp;on&nbsp;how&nbsp;to&nbsp;tie&nbsp;these&nbsp;two&nbsp;parts&nbsp;together?&lt;br&gt;<br>
My&nbsp;instinct&nbsp;is&nbsp;to&nbsp;have&nbsp;the&nbsp;two&nbsp;event&nbsp;loops&nbsp;in&nbsp;separate&nbsp;threads&nbsp;and&lt;br&gt;<br>
communicate&nbsp;through&nbsp;Queue.Queue,&nbsp;but&nbsp;that&nbsp;doesn&#39;t&nbsp;seem&nbsp;to&nbsp;follow&nbsp;the&lt;br&gt;<br>
spirit&nbsp;of&nbsp;twisted.&nbsp;And&nbsp;I&nbsp;guess&nbsp;I&#39;d&nbsp;have&nbsp;to&nbsp;somehow&nbsp;tell&nbsp;the&nbsp;reactor&nbsp;to&lt;br&gt;<br>
poll&nbsp;the&nbsp;Queue&nbsp;object&nbsp;for&nbsp;requests,&nbsp;and&nbsp;then&nbsp;dispatch&nbsp;it&nbsp;to&nbsp;the&lt;br&gt;<br>
relevant&nbsp;method&nbsp;to&nbsp;send&nbsp;out&nbsp;to&nbsp;the&nbsp;client.&nbsp;I&#39;ve&nbsp;looked&nbsp;at&lt;br&gt;<br>
threadedselectreactor&nbsp;but&nbsp;can&#39;t&nbsp;seem&nbsp;to&nbsp;find&nbsp;any&nbsp;decent&nbsp;documentation&lt;br&gt;<br>
to&nbsp;even&nbsp;decide&nbsp;if&nbsp;it&#39;s&nbsp;write&nbsp;for&nbsp;what&nbsp;I&nbsp;want.&lt;br&gt;<br>
&lt;br&gt;<br>
Any&nbsp;advice&nbsp;would&nbsp;be&nbsp;much&nbsp;appreciated.&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks,&lt;br&gt;<br>
Paul&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;If&nbsp;I&nbsp;understand&nbsp;your&nbsp;problem&nbsp;correctly&nbsp;(and&nbsp;I&#39;m&nbsp;not&nbsp;sure&nbsp;that&nbsp;I&nbsp;do,&nbsp;so&nbsp;keep&nbsp;that&nbsp;in&nbsp;mind),&nbsp;then&nbsp;what&nbsp;you&nbsp;probably&nbsp;want&nbsp;is&nbsp;something&nbsp;like&nbsp;a&nbsp;Twisted&nbsp;app&nbsp;using&nbsp;two&nbsp;Protocol&nbsp;objects&nbsp;(perhaps&nbsp;in&nbsp;two&nbsp;different&nbsp;&quot;services&quot;),&nbsp;one&nbsp;to&nbsp;talk&nbsp;to&nbsp;your&nbsp;clients,&nbsp;and&nbsp;one&nbsp;to&nbsp;talk&nbsp;to&nbsp;your&nbsp;API-generator-thingy&nbsp;(command&nbsp;line).&nbsp;&nbsp;Then&nbsp;you&nbsp;just&nbsp;need&nbsp;a&nbsp;way&nbsp;for&nbsp;these&nbsp;to&nbsp;communicate...someplace&nbsp;to&nbsp;store&nbsp;the&nbsp;state.&nbsp;&nbsp;A&nbsp;Queue.Queue&nbsp;is&nbsp;probably&nbsp;a&nbsp;good&nbsp;choice,&nbsp;but&nbsp;I&#39;m&nbsp;not&nbsp;entirely&nbsp;sure&nbsp;where&nbsp;you&nbsp;would&nbsp;put&nbsp;it.&nbsp;&nbsp;Try&nbsp;looking&nbsp;around&nbsp;for&nbsp;examples&nbsp;that&nbsp;have&nbsp;multiple&nbsp;services&nbsp;and&nbsp;see&nbsp;how&nbsp;they&nbsp;share&nbsp;state.&nbsp;&nbsp;I&nbsp;think&nbsp;the&nbsp;Twisted&nbsp;book&nbsp;might&nbsp;have&nbsp;something&nbsp;useful&nbsp;in&nbsp;this&nbsp;regard,&nbsp;though&nbsp;I&nbsp;don&#39;t&nbsp;have&nbsp;it&nbsp;with&nbsp;me&nbsp;ATM.&lt;br&gt;<br>
&lt;br&gt;Perhaps&nbsp;wiser&nbsp;heads&nbsp;than&nbsp;mine&nbsp;will&nbsp;have&nbsp;better&nbsp;ideas/comments.&lt;br&gt;&lt;br&gt;Kevin&nbsp;Horn&lt;br&gt;<br>

</tt>
