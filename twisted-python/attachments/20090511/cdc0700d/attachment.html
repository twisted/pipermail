<tt>
&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2009/5/11&nbsp;Jean-Paul&nbsp;Calderone&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:exarkun@divmod.com&quot;&gt;exarkun@divmod.com&lt;/a&gt;&gt;&lt;/span&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;On&nbsp;Mon,&nbsp;11&nbsp;May&nbsp;2009&nbsp;16:55:40&nbsp;+0200,&nbsp;Luigi&nbsp;Conte&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:luigiandcosolutions@gmail.com&quot;&gt;luigiandcosolutions@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;I&#39;m&nbsp;sure&nbsp;you&#39;re&nbsp;saying&nbsp;only&nbsp;good&nbsp;things&nbsp;but&nbsp;I&#39;m&nbsp;so&nbsp;inexpert&nbsp;in&nbsp;twisted&nbsp;that&lt;br&gt;<br>
&gt;I&nbsp;can&#39;t&nbsp;understand&nbsp;very&nbsp;well&nbsp;what&nbsp;to&nbsp;do.&lt;br&gt;<br>
&gt;I&#39;ll&nbsp;try&nbsp;to&nbsp;explain&nbsp;all&nbsp;that&nbsp;I&nbsp;want&nbsp;to&nbsp;do&nbsp;and&nbsp;how&nbsp;I&nbsp;did&nbsp;it&nbsp;wrongly:&lt;br&gt;<br>
&gt;first&nbsp;I&nbsp;have&nbsp;to&nbsp;call&nbsp;the&nbsp;connect&nbsp;method&nbsp;from&nbsp;the&nbsp;api&nbsp;and&nbsp;it&nbsp;returns&nbsp;a&lt;br&gt;<br>
&gt;deferred&nbsp;so&nbsp;I&nbsp;do:&lt;br&gt;<br>
&gt;in&nbsp;conn_to_ctrl&nbsp;i&nbsp;have:&lt;br&gt;<br>
&gt;d&nbsp;=&nbsp;api.connect(...)&lt;br&gt;<br>
&gt;return&nbsp;d&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;now&nbsp;I&nbsp;do&nbsp;some&nbsp;operations&nbsp;with&nbsp;config&nbsp;files&nbsp;to&nbsp;call&nbsp;many&nbsp;times&nbsp;the&nbsp;start&lt;br&gt;<br>
&gt;method&nbsp;from&nbsp;the&nbsp;api&nbsp;(I&nbsp;have&nbsp;to&nbsp;start&nbsp;many&nbsp;virtual&nbsp;machines)&nbsp;and&nbsp;the&lt;br&gt;<br>
&gt;api.start&nbsp;returns&nbsp;a&nbsp;deferred&nbsp;so&nbsp;what&nbsp;have&nbsp;I&nbsp;to&nbsp;do&nbsp;now?&lt;br&gt;<br>
&gt;I&nbsp;do&nbsp;so:&lt;br&gt;<br>
&gt;in&nbsp;examinecfg&nbsp;i&nbsp;have:&lt;br&gt;<br>
&gt;#&nbsp;tha&nbsp;same&nbsp;d&nbsp;that&nbsp;i&nbsp;used&nbsp;to&nbsp;add&nbsp;api.connect!&lt;br&gt;<br>
&gt;self.d.addCallback(api.start,&nbsp;(method_args))&lt;br&gt;<br>
&gt;return&nbsp;d&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;Then&nbsp;I&nbsp;have&nbsp;to&nbsp;call&nbsp;the&nbsp;disconnect&nbsp;method&nbsp;from&nbsp;the&nbsp;api.&nbsp;But&nbsp;i&nbsp;tried&nbsp;to&nbsp;print&lt;br&gt;<br>
&gt;out&nbsp;something&nbsp;to&nbsp;fallow&nbsp;the&nbsp;executing&nbsp;but&nbsp;I&nbsp;only&nbsp;see&nbsp;printing&nbsp;the&nbsp;first&lt;br&gt;<br>
&gt;method&nbsp;that&nbsp;call&nbsp;the&nbsp;connection.&nbsp;after&nbsp;that&nbsp;the&nbsp;process&nbsp;ends.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;In&nbsp;the&nbsp;main&nbsp;I&nbsp;have:&lt;br&gt;<br>
&gt;defer&nbsp;=&nbsp;conn_to_ctrl()&lt;br&gt;<br>
&gt;or&nbsp;have&nbsp;I&nbsp;to&nbsp;add&nbsp;to&nbsp;defer&nbsp;also&nbsp;the&nbsp;examinecfg?&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;thank&nbsp;you&nbsp;very&nbsp;much&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;I&#39;m&nbsp;not&nbsp;sure&nbsp;what&nbsp;you&#39;re&nbsp;doing&nbsp;wrong.&nbsp; It&#39;s&nbsp;hard&nbsp;to&nbsp;understand&nbsp;mixed&nbsp;up&lt;br&gt;<br>
snippets&nbsp;and&nbsp;fragments&nbsp;of&nbsp;code.&nbsp; Please:&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp; -&nbsp;don&#39;t&nbsp;top&nbsp;post&lt;br&gt;<br>
&nbsp; -&nbsp;share&nbsp;complete,&nbsp;runnable&nbsp;examples&nbsp;(preferably&nbsp;minimal,&nbsp;too)&lt;br&gt;<br>
&nbsp; -&nbsp;share&nbsp;the&nbsp;failure&nbsp;you&#39;re&nbsp;seeing&nbsp;-&nbsp;possibly&nbsp;including&nbsp;a&nbsp;traceback,&nbsp;or&nbsp;a&lt;br&gt;<br>
&nbsp; &nbsp; description&nbsp;of&nbsp;the&nbsp;behavior&nbsp;that&nbsp;the&nbsp;program&nbsp;exhibits&nbsp;when&nbsp;you&nbsp;run&nbsp;it,&lt;br&gt;<br>
&nbsp; &nbsp; and&nbsp;an&nbsp;explanation&nbsp;of&nbsp;how&nbsp;this&nbsp;differs&nbsp;from&nbsp;what&nbsp;you&nbsp;want&lt;br&gt;<br>
&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
Jean-Paul&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Twisted-Python&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Twisted-Python@twistedmatrix.com&quot;&gt;Twisted-Python@twistedmatrix.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;Ok&nbsp;I&#39;ll&nbsp;try&nbsp;to&nbsp;explain&nbsp;what&nbsp;the&nbsp;api&nbsp;provides&nbsp;to&nbsp;me&nbsp;and&nbsp;what&nbsp;I&nbsp;want&nbsp;to&nbsp;do&nbsp;with&nbsp;it:&lt;br&gt;<br>
mothods&nbsp;provided&nbsp;by&nbsp;api&nbsp;that&nbsp;I&nbsp;want&nbsp;to&nbsp;use:&lt;br&gt;1)&nbsp;connection&lt;br&gt;&lt;br&gt;   &nbsp;def&nbsp;connect(self,&nbsp;ctrl_host,&nbsp;ctrl_port,&nbsp;user,&nbsp;passwd):&lt;br&gt;       &nbsp;&quot;&quot;&quot;Connect&nbsp;to&nbsp;an&nbsp;Usher&nbsp;control&nbsp;server.&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp;@param&nbsp;ctrl_host:&nbsp;fqdn&nbsp;where&nbsp;Usher&nbsp;controller&nbsp;is&nbsp;running&lt;br&gt;<br>
       &nbsp;@type&nbsp;ctrl_host:&nbsp;string&lt;br&gt;       &nbsp;@param&nbsp;ctrl_port:&nbsp;port&nbsp;number&nbsp;Usher&nbsp;controller&nbsp;is&nbsp;listening&nbsp;on&lt;br&gt;       &nbsp;@type&nbsp;ctrl_port:&nbsp;int&lt;br&gt;       &nbsp;@param&nbsp;user:&nbsp;username&nbsp;of&nbsp;user&nbsp;connecting&nbsp;to&nbsp;Usher&nbsp;controller&lt;br&gt;       &nbsp;@type&nbsp;user:&nbsp;string&lt;br&gt;<br>
       &nbsp;@param&nbsp;passwd:&nbsp;password&nbsp;of&nbsp;user&nbsp;connecting&nbsp;to&nbsp;Usher&nbsp;controller&lt;br&gt;       &nbsp;@type&nbsp;passwd:&nbsp;string&lt;br&gt;       &nbsp;return:&nbsp;Deferred&nbsp;which&nbsp;returns&nbsp;and&nbsp;L{UsherResult}&lt;br&gt;       &nbsp;rtype:&nbsp;twisted.internet.defer.Deferred&lt;br&gt;       &nbsp;&quot;&quot;&quot;&lt;br&gt;<br>
       &nbsp;#&nbsp;serialize&nbsp;access&nbsp;to&nbsp;connect&lt;br&gt;       &nbsp;if&nbsp;not&nbsp;self.connect_lock.acquire(False):&lt;br&gt;           &nbsp;raise&nbsp;UsherEx,&nbsp;&quot;Connection&nbsp;Pending&quot;&lt;br&gt;       &nbsp;if&nbsp;self.factory:&lt;br&gt;           &nbsp;self.disconnect()&lt;br&gt;       &nbsp;#&nbsp;reset&nbsp;vms&lt;br&gt;<br>
       &nbsp;self.vms&nbsp;=&nbsp;{}&lt;br&gt;       &nbsp;#&nbsp;reset&nbsp;passwd&nbsp;to&nbsp;None&nbsp;until&nbsp;we&#39;re&nbsp;connected&lt;br&gt;       &nbsp;self.passwd&nbsp;=&nbsp;None&lt;br&gt;       &nbsp;self.factory&nbsp;=&nbsp;APIFactory()&lt;br&gt;       &nbsp;self.factory.api&nbsp;=&nbsp;self&lt;br&gt;       &nbsp;#&nbsp;connect&nbsp;to&nbsp;server&lt;br&gt;       &nbsp;reactor.connectSSL(ctrl_host,&nbsp;ctrl_port,&nbsp;self.factory,&lt;br&gt;<br>
           &nbsp;ssl.ClientContextFactory())&lt;br&gt;       &nbsp;d&nbsp;=&nbsp;self.factory.login(credentials.UsernamePassword(user,&nbsp;passwd),&lt;br&gt;           &nbsp;client=self)&lt;br&gt;       &nbsp;d.addErrback(self._handle_err,&nbsp;misc.whoami())&lt;br&gt;       &nbsp;d.addCallback(self._connected_to_ctrl,&nbsp;ctrl_host,&nbsp;ctrl_port,&nbsp;user,&lt;br&gt;<br>
           &nbsp;passwd)&lt;br&gt;       &nbsp;return&nbsp;d&lt;br&gt;&lt;br&gt;2)&nbsp;start&nbsp;single&nbsp;vm&lt;br&gt;&lt;br&gt;   &nbsp;def&nbsp;start(self,&nbsp;cluster=None,&nbsp;prefix=&#39;&#39;,&nbsp;vmlist=None,&nbsp;count=None,&nbsp;first=None,&nbsp;last=None,&nbsp;dregex=None, &nbsp;dlist=None,&nbsp;dryrun=False,&nbsp;eid=None,&nbsp;**kw):&lt;br&gt;<br>
       &nbsp;&quot;&quot;&quot;Start&nbsp;a&nbsp;VM&nbsp;or&nbsp;set&nbsp;of&nbsp;VMs&lt;br&gt;       &nbsp;@param&nbsp;cluster:&nbsp;Name&nbsp;of&nbsp;cluster&nbsp;to&nbsp;which&nbsp;VMs&nbsp;should&nbsp;belong&lt;br&gt;       &nbsp;@type&nbsp;cluster:&nbsp;string&lt;br&gt;       &nbsp;@param&nbsp;prefix:&nbsp;prefix&nbsp;to&nbsp;prepend&nbsp;to&nbsp;VM&nbsp;names&lt;br&gt;       &nbsp;@type&nbsp;prefix:&nbsp;string&lt;br&gt;<br>
       &nbsp;@param&nbsp;vmlist:&nbsp;list&nbsp;of&nbsp;strings&nbsp;of&nbsp;VMs&nbsp;to&nbsp;start&lt;br&gt;       &nbsp;@type&nbsp;vmlist:&nbsp;list&nbsp;of&nbsp;strings&lt;br&gt;       &nbsp;@param&nbsp;count:&nbsp;Number&nbsp;of&nbsp;consecutive&nbsp;VMs&nbsp;to&nbsp;start&lt;br&gt;       &nbsp;@type&nbsp;count:&nbsp;int&lt;br&gt;       &nbsp;@param&nbsp;first:&nbsp;Lowest&nbsp;number&nbsp;of&nbsp;VM&nbsp;to&nbsp;start&nbsp;&lt;br&gt;<br>
       &nbsp;@type&nbsp;first:&nbsp;int&lt;br&gt;       &nbsp;@param&nbsp;last:&nbsp;Highest&nbsp;number&nbsp;of&nbsp;VM&nbsp;to&nbsp;start&lt;br&gt;       &nbsp;@type&nbsp;last:&nbsp;int&lt;br&gt;       &nbsp;@param&nbsp;dregex:&nbsp;regular&nbsp;expression&nbsp;to&nbsp;match&nbsp;against&nbsp;destination&nbsp;LNM&nbsp;names&lt;br&gt;       &nbsp;@type&nbsp;dregex:&nbsp;list&nbsp;of&nbsp;strings&lt;br&gt;<br>
       &nbsp;@param&nbsp;dlist:&nbsp;list&nbsp;of&nbsp;strings&nbsp;to&nbsp;match&nbsp;against&nbsp;destination&nbsp;LNM&nbsp;names&lt;br&gt;       &nbsp;@type&nbsp;dlist:&nbsp;list&nbsp;of&nbsp;strings&lt;br&gt;       &nbsp;@param&nbsp;dryrun:&nbsp;Show&nbsp;what&nbsp;would&nbsp;have&nbsp;happened&nbsp;if&nbsp;the&nbsp;command&nbsp;had&nbsp;been&nbsp;run&nbsp;without&nbsp;the&nbsp;dryrun&nbsp;command&nbsp;(at&nbsp;the&nbsp;instant&nbsp;that&nbsp;the&nbsp;dryrun&nbsp;command&nbsp;was&nbsp;run&nbsp;of&nbsp;course)&lt;br&gt;<br>
       &nbsp;@type&nbsp;dryrun:&nbsp;bool&lt;br&gt;       &nbsp;@param&nbsp;eid:&nbsp;mechanism&nbsp;for&nbsp;admin&nbsp;user&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;specify&nbsp;an&nbsp;alternate&nbsp;username&nbsp;for&nbsp;forming&nbsp;suffix&nbsp;for&nbsp;regex&lt;br&gt;       &nbsp;@type&nbsp;eid:&nbsp;string&lt;br&gt;       &nbsp;@param&nbsp;kw:&nbsp;Extra&nbsp;arguments&nbsp;passed&nbsp;to&nbsp;controller&nbsp;for&nbsp;use&nbsp;by&nbsp;plugins&nbsp;or&nbsp;LNM. &nbsp;Any&nbsp;keywords&nbsp;starting&nbsp;with&nbsp;&#39;vm_&#39;&nbsp;are&nbsp;added&nbsp;to&nbsp;VM&#39;s&nbsp;uargs&nbsp;parameter. &nbsp;Note,&nbsp;the&nbsp;controller&nbsp;actually&nbsp;checks&nbsp;for&nbsp;two&nbsp;kw&nbsp;arguments:&nbsp;ram&nbsp;and&nbsp;ip_addrs. &nbsp;Though&nbsp;these&nbsp;are,&nbsp;strictly&nbsp;speaking,&nbsp;VM&nbsp;parameters,&nbsp;they&#39;re&nbsp;considered&nbsp;important&nbsp;enough&nbsp;that&nbsp;the&nbsp;controller&nbsp;checks&nbsp;for&nbsp;them.&lt;br&gt;<br>
       &nbsp;@type&nbsp;kw:&nbsp;dict&lt;br&gt;&lt;br&gt;       &nbsp;@return:&nbsp;Deferred&nbsp;which&nbsp;returns&nbsp;an&nbsp;L{UsherResult}&lt;br&gt;       &nbsp;@rtype:&nbsp;twisted.internet.defer.Deferred&lt;br&gt;       &nbsp;@raise&nbsp;UsherNotConnected:&nbsp;Raised&nbsp;when&nbsp;not&nbsp;connected&nbsp;to&nbsp;Usher&nbsp;Controller&lt;br&gt;<br>
       &nbsp;@raise&nbsp;UsherPBDeadRefEx:&nbsp;Raised&nbsp;when&nbsp;capability&nbsp;for&nbsp;Usher&nbsp;Controller&nbsp;goes&nbsp;stale. &nbsp;Must&nbsp;reconnect&nbsp;when&nbsp;this&nbsp;happens&lt;br&gt;       &nbsp;@raise&nbsp;UsherInvalidInputEx:&nbsp;Raised&nbsp;when&nbsp;an&nbsp;invalid&nbsp;input&nbsp;or&nbsp;combination&nbsp;of&nbsp;parameters&nbsp;is&nbsp;received. &lt;br&gt;<br>
      &nbsp;&quot;&quot;&quot;&lt;br&gt;&lt;br&gt;       &nbsp;#&nbsp;make&nbsp;sure&nbsp;we&#39;re&nbsp;connected&lt;br&gt;       &nbsp;if&nbsp;not&nbsp;self.aref:&lt;br&gt;           &nbsp;raise&nbsp;UsherNotConnectedEx&lt;br&gt;       &nbsp;#&nbsp;combine&nbsp;these&nbsp;to&nbsp;reduce&nbsp;params&lt;br&gt;       &nbsp;if&nbsp;((first&nbsp;and&nbsp;first&nbsp;&lt;&nbsp;0)&nbsp;or&nbsp;(last&nbsp;and&nbsp;last&nbsp;&lt;&nbsp;0)&nbsp;or&nbsp;(count&nbsp;and&nbsp;count&nbsp;&lt;&lt;br&gt;<br>
           &nbsp;0)):&lt;br&gt;           &nbsp;raise&nbsp;UsherInvalidInputEx(&quot;first,&nbsp;last,&nbsp;and&nbsp;count&nbsp;must&nbsp;be&nbsp;non-negative&quot;)&lt;br&gt;       &nbsp;vmrange&nbsp;=&nbsp;(first,last,count)&lt;br&gt;       &nbsp;#&nbsp;arg&nbsp;check&lt;br&gt;       &nbsp;self._arg_check(vmlist,&nbsp;vmrange)&lt;br&gt;<br>
       &nbsp;#&nbsp;get&nbsp;final&nbsp;destination&nbsp;list&lt;br&gt;       &nbsp;dlist&nbsp;=&nbsp;self._namecomplete(dlist,&nbsp;suffix=self.suffix)&lt;br&gt;       &nbsp;self._check_lnmlist(dlist)&lt;br&gt;       &nbsp;dregex&nbsp;=&nbsp;self._regex_append(dregex,&nbsp;dlist)&lt;br&gt;       &nbsp;dlist&nbsp;=&nbsp;self._regex_filter(dregex,&nbsp;self.lnms.keys())&nbsp;&lt;br&gt;<br>
       &nbsp;#&nbsp;complete&nbsp;names&nbsp;(if&nbsp;necessary)&nbsp;in&nbsp;the&nbsp;vmlist&lt;br&gt;       &nbsp;vmlist&nbsp;=&nbsp;self._namecomplete(vmlist,&nbsp;cluster,&nbsp;eid)&lt;br&gt;       &nbsp;#&nbsp;check&nbsp;that&nbsp;the&nbsp;vms&nbsp;specified&nbsp;don&#39;t&nbsp;already&nbsp;exist&nbsp;self._check_vmlist(vmlist,&nbsp;isin=True)&lt;br&gt;<br>
       &nbsp;vmlist&nbsp;=&nbsp;self._get_vm_names_to_start(vmlist,&nbsp;cluster,&nbsp;prefix,&nbsp;vmrange,&nbsp;eid)&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp;#&nbsp;controller&nbsp;handles&nbsp;eid&nbsp;from&nbsp;kw,&nbsp;so&nbsp;add&nbsp;it&lt;br&gt;       &nbsp;if&nbsp;eid:&lt;br&gt;           &nbsp;kw[&#39;eid&#39;]&nbsp;=&nbsp;eid&lt;br&gt;       &nbsp;if&nbsp;dryrun:&lt;br&gt;<br>
           &nbsp;d&nbsp;=&nbsp;UsherResult(&#39;dryrun&#39;,&nbsp;msg&nbsp;=&nbsp;&#39;started:&#39;&nbsp;+&nbsp;linesep&nbsp;+&lt;br&gt;                   &nbsp;linesep.join(vmlist))&lt;br&gt;           &nbsp;return&nbsp;d&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp;try:&lt;br&gt;           &nbsp;if&nbsp;vmlist:&lt;br&gt;               &nbsp;d&nbsp;=&nbsp;self.aref.callRemote(&quot;start&quot;,&nbsp;vmlist,&nbsp;dlist,&nbsp;**kw)&lt;br&gt;<br>
               &nbsp;d.addErrback(self._handle_err,&nbsp;misc.whoami())&lt;br&gt;           &nbsp;else:&lt;br&gt;               &nbsp;raise&nbsp;UsherInvalidInputEx(&nbsp;&quot;No&nbsp;VMs&nbsp;started. &nbsp;No&nbsp;unique&nbsp;VMs&nbsp;specified&nbsp;in&nbsp;command&quot;)&lt;br&gt;           &nbsp;return&nbsp;d&lt;br&gt;<br>
       &nbsp;except&nbsp;pb.DeadReferenceError,&nbsp;ex:&nbsp;raise&nbsp;UsherPBDeadRefEx&nbsp;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;in&nbsp;my&nbsp;script&nbsp;I&nbsp;have&nbsp;to&nbsp;use&nbsp;connect&nbsp;method&nbsp;and&nbsp;then&nbsp;I&nbsp;have&nbsp;to&nbsp;do&nbsp;some&nbsp;operations&nbsp;first&nbsp;of&nbsp;calling&nbsp;the&nbsp;start&nbsp;method&lt;br&gt;1)&nbsp;start&nbsp;connection&lt;br&gt;<br>
&lt;br&gt;   &nbsp;def&nbsp;startConnection(self):&lt;br&gt;       &nbsp;d&nbsp;=&nbsp;my_api.connect(self.ctrl_ip,&nbsp;self.ctrl_port,&nbsp;self.user,&nbsp;self.pwd)&lt;br&gt;       &nbsp;d.addCallback(self.postConnection)&lt;br&gt;       &nbsp;d.addErrback(twisted.python.log.err)&lt;br&gt;       &nbsp;print&nbsp;&quot;Connection&nbsp;added&quot;&lt;br&gt;<br>
       &nbsp;return&nbsp;d&lt;br&gt;2)&nbsp;operation&nbsp;before&nbsp;starting&nbsp;a&nbsp;virtual&nbsp;machine:&lt;br&gt;def&nbsp;newVMCfg(self,&nbsp;new_vms_cfg):&lt;br&gt;      &nbsp;#...&lt;br&gt;      &nbsp;#some&nbsp;operations&lt;br&gt;      &nbsp;#if&nbsp;condition&nbsp;valid&nbsp;I&nbsp;try&nbsp;to&nbsp;start&nbsp;the&nbsp;virtual&nbsp;machine&lt;br&gt;                       &nbsp;#&nbsp;is&nbsp;this&nbsp;the&nbsp;correct&nbsp;way&nbsp;to&nbsp;pass&nbsp;args&nbsp;to&nbsp;the&nbsp;start&nbsp;method?&nbsp;&lt;br&gt;<br>
                       &nbsp;d&nbsp;=&nbsp;self.d.addCallback(self.startVM,(new_vm,&nbsp;self.lnms[i])&lt;br&gt;                       &nbsp;print&nbsp;&quot;started&nbsp;vm&nbsp;%s&quot;%new_vm&lt;br&gt;       &nbsp;return&nbsp;d&lt;br&gt;&lt;br&gt;in&nbsp;the&nbsp;main&nbsp;process&nbsp;I&nbsp;call&nbsp;them&nbsp;as:&lt;br&gt;d&nbsp;=&nbsp;startConnection()&lt;br&gt;<br>
d.addCallback(newVMCfg,&nbsp;arg)&lt;br&gt;&lt;br&gt;Is&nbsp;it&nbsp;correct?&nbsp;Because&nbsp;the&nbsp;process&nbsp;stops&nbsp;at&nbsp;the&nbsp;first&nbsp;method&nbsp;called:&nbsp;I&nbsp;see&nbsp;only&nbsp;&quot;connection&nbsp;added&quot;.&lt;br&gt;Thank&nbsp;you&nbsp;for&nbsp;your&nbsp;help!!&lt;br&gt;<br>

</tt>
