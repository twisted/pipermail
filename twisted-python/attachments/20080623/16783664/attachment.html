<tt>
&lt;div&gt;&nbsp;&lt;/div&gt;&lt;div&gt;&nbsp;def&nbsp;main():&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;port=8008&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;reactor.listenTCP(port,policyServerFactory())&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;reactor.run()&lt;br&gt;&lt;br&gt;$&nbsp;telnet&nbsp;localhost&nbsp;8008&nbsp;&lt;br&gt;Trying&nbsp;127.0.0.1...&lt;br&gt;Connected&nbsp;to&nbsp;policy.126.com&nbsp;(127.0.0.1).&lt;br&gt;Escape&nbsp;character&nbsp;is&nbsp;'^]'.&lt;br&gt;&lt;br&gt;--------------&lt;br&gt;Client&nbsp;will&nbsp;not&nbsp;close&nbsp;the&nbsp;connect&nbsp;unit&nbsp;it&nbsp;disconnects&nbsp;itself.&nbsp;But&nbsp;the&nbsp;server&nbsp;can't&nbsp;control&nbsp;the&nbsp;connect.&nbsp;In&nbsp;some&nbsp;critical&nbsp;environment,&nbsp;the&nbsp;server&nbsp;has&nbsp;to&nbsp;maintain&nbsp;a&nbsp;lot&nbsp;of&nbsp;connect&nbsp;which&nbsp;maybe&nbsp;is&nbsp;idle.&lt;br&gt;&lt;br&gt;So&nbsp;I&nbsp;want&nbsp;to&nbsp;the&nbsp;server&nbsp;initiative&nbsp;disconnect&nbsp;the&nbsp;idle&nbsp;connection&nbsp;reache&nbsp;timeout.&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&lt;/div&gt;&lt;div&gt;&nbsp;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;br&gt;&lt;pre&gt;在2008-06-23&nbsp;19:33:35，&quot;Jean-Paul&nbsp;Calderone&quot;&nbsp;&lt;exarkun@divmod.com&gt;&nbsp;写道：<br>
&gt;On&nbsp;Mon,&nbsp;23&nbsp;Jun&nbsp;2008&nbsp;11:37:33&nbsp;+0800&nbsp;(CST),&nbsp;uupandemo&nbsp;&lt;uupandemo&nbsp;wrote:=&quot;&quot;&nbsp;a=&quot;&quot;&nbsp;client=&quot;&quot;&nbsp;to=&quot;&quot;&nbsp;the=&quot;&quot;&nbsp;server=&quot;&quot;&nbsp;socket=&quot;&quot;&nbsp;server=&quot;&quot;&nbsp;can=&quot;&quot;&nbsp;close=&quot;&quot;&nbsp;the=&quot;&quot;&nbsp;connection=&quot;&quot;&nbsp;while=&quot;&quot;&nbsp;the=&quot;&quot;&nbsp;idle=&quot;&quot;&nbsp;time=&quot;&quot;&nbsp;exceed=&quot;&quot;&nbsp;the=&quot;&quot;&nbsp;timeout.=&quot;&quot;&nbsp;to=&quot;&quot;&nbsp;solve=&quot;&quot;&nbsp;it=&quot;&quot;&nbsp;a=&quot;&quot;&nbsp;client=&quot;&quot;&nbsp;does=&quot;&quot;&nbsp;what=&quot;&quot;&nbsp;Why=&quot;&quot;&nbsp;can=&quot;&quot;&nbsp;the=&quot;&quot;&nbsp;server=&quot;&quot;&nbsp;close=&quot;&quot;&nbsp;the=&quot;&quot;&nbsp;connection=&quot;&quot;&nbsp;Can=&quot;&quot;&nbsp;clarify=&quot;&quot;&nbsp;the=&quot;&quot;&nbsp;question=&quot;&quot;&nbsp;a=&quot;&quot;&nbsp;bit=&quot;&quot;&nbsp;Perhaps=&quot;&quot;&nbsp;you=&quot;&quot;&nbsp;can=&quot;&quot;&nbsp;include=&quot;&quot;&nbsp;a=&quot;&quot;&nbsp;minimal=&quot;&quot;&nbsp;runnable=&quot;&quot;&nbsp;that=&quot;&quot;&nbsp;demonstrates=&quot;&quot;&nbsp;the=&quot;&quot;&nbsp;problem.=&quot;&quot;&nbsp;mailing=&quot;&quot;&nbsp;list=&quot;&quot;&nbsp;twistedmatrix.com=&quot;&quot;&nbsp;cgi-bin=&quot;&quot;&nbsp;mailman=&quot;&quot;&nbsp;listinfo=&quot;&quot;&nbsp;twisted-python=&quot;&quot;&gt;&lt;/uupandemo&gt;&lt;/pre&gt;&lt;br&gt;&lt;!--&nbsp;footer&nbsp;--&gt;&lt;br&gt;<br>
&lt;hr&gt;<br>
&lt;table&nbsp;width=&quot;100%%&quot;&nbsp;border=&quot;0&quot;&nbsp;cellspacing=&quot;0&quot;&nbsp;cellpadding=&quot;0&quot;&gt;<br>
&nbsp;&nbsp;&lt;tr&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&nbsp;width=&quot;50&quot;&nbsp;height=&quot;50&quot;&gt;&lt;img&nbsp;src=&quot;http://proimg.163.com/channel01/4251_10050_0409.jpg&quot;&nbsp;alt=&quot;LOGO&quot;&nbsp;width=&quot;100&quot;&nbsp;height=&quot;50&quot;&gt;&lt;/td&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&nbsp;style=&quot;padding:5px;&quot;&gt;&lt;a&nbsp;style=&quot;font-size:12px;line-height:15px;&nbsp;color:black;&nbsp;text-decoration:none;&quot;&nbsp;href=&quot;http://popme.163.com/link/004251_0410_829.html&quot;&gt;快来用音乐为奥运加油&lt;/a&gt;&lt;br&nbsp;/&gt;&lt;font&nbsp;style=&quot;font-size:12px;line-height:20px;&quot;&gt;&lt;/font&gt;&lt;a&nbsp;style=&quot;font-size:12px;line-height:15px;&nbsp;color:blue;&nbsp;text-decoration:underline;&quot;&nbsp;href=&quot;http://popme.163.com/link/004251_0410_829.html&quot;&gt;得奥运会、演唱会门票&lt;/a&gt;<br>
&nbsp;&nbsp;&lt;/tr&gt;<br>
&lt;/table&gt;<br>

</tt>
