<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;3.2//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;charset=us-ascii&quot;&gt;<br>
&lt;META&nbsp;NAME=&quot;Generator&quot;&nbsp;CONTENT=&quot;MS&nbsp;Exchange&nbsp;Server&nbsp;version&nbsp;6.5.7651.59&quot;&gt;<br>
&lt;TITLE&gt;thread&nbsp;pool&nbsp;question&lt;/TITLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
&lt;!--&nbsp;Converted&nbsp;from&nbsp;text/rtf&nbsp;format&nbsp;--&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;From&nbsp;&lt;/FONT&gt;&lt;A&nbsp;HREF=&quot;http://twistedmatrix.com/projects/core/documentation/howto/threading.html&quot;&gt;&lt;U&gt;&lt;FONT&nbsp;COLOR=&quot;#0000FF&quot;&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;http://twistedmatrix.com/projects/core/documentation/howto/threading.html&lt;/FONT&gt;&lt;/U&gt;&lt;/A&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;:&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;I&nbsp;copied&nbsp;the&nbsp;code&nbsp;below&nbsp;and&nbsp;ran&nbsp;it&nbsp;as:&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
&lt;UL&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;$&nbsp;cat&nbsp;twisted-threadpool.py&nbsp;&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;#!/usr/bin/env&nbsp;python&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;from&nbsp;twisted.internet&nbsp;import&nbsp;reactor&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;def&nbsp;aSillyBlockingMethod(x):&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;import&nbsp;time&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;time.sleep(2)&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;print&nbsp;x&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;#&nbsp;run&nbsp;method&nbsp;in&nbsp;thread&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;reactor.callInThread(aSillyBlockingMethod,&nbsp;&amp;quot;2&nbsp;seconds&nbsp;have&nbsp;passed&amp;quot;)&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;$&nbsp;./twisted-threadpool.py&nbsp;&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;2&nbsp;seconds&nbsp;have&nbsp;passed&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
&lt;/UL&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;But&nbsp;I&nbsp;note&nbsp;that&nbsp;the&nbsp;program&nbsp;never&nbsp;stops.&amp;nbsp;&nbsp;I&nbsp;infer&nbsp;that&nbsp;least&nbsp;one&nbsp;thread&nbsp;is&nbsp;getting&nbsp;set&nbsp;as&nbsp;a&nbsp;non-daemon&nbsp;thread,&nbsp;according&nbsp;to&nbsp;python's&nbsp;thread&nbsp;rules&nbsp;on&nbsp;program&nbsp;termination:&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;&amp;nbsp;&nbsp;`thread.setDaemon(daemonic)'&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Set&nbsp;the&nbsp;thread's&nbsp;daemon&nbsp;flag&nbsp;to&nbsp;the&nbsp;Boolean&nbsp;value&nbsp;DAEMONIC.&amp;nbsp;&nbsp;This&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;must&nbsp;be&nbsp;called&nbsp;before&nbsp;`start()'&nbsp;is&nbsp;called.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;The&nbsp;initial&nbsp;value&nbsp;is&nbsp;inherited&nbsp;from&nbsp;the&nbsp;creating&nbsp;thread.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;The&nbsp;entire&nbsp;Python&nbsp;program&nbsp;exits&nbsp;when&nbsp;no&nbsp;active&nbsp;non-daemon&nbsp;threads&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;are&nbsp;left.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;Is&nbsp;there&nbsp;a&nbsp;way&nbsp;to&nbsp;set&nbsp;this&nbsp;program&nbsp;up&nbsp;such&nbsp;that&nbsp;the&nbsp;program&nbsp;will&nbsp;exit&nbsp;when&nbsp;all&nbsp;of&nbsp;the&nbsp;threads&nbsp;registered&nbsp;via&nbsp;callInThread,&nbsp;and&nbsp;the&nbsp;main&nbsp;thread,&nbsp;have&nbsp;exited?&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;Thanks,&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;--&nbsp;&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;Benjamin&nbsp;Rutt&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
&lt;BR&gt;<br>
<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;
</tt>
