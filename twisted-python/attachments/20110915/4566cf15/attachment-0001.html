<tt>
&lt;div&gt;&lt;div&gt;Hello&nbsp;twisted&nbsp;experts,&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;div&gt;We&nbsp;are&nbsp;trying&nbsp;to&nbsp;add&nbsp;kerberos&nbsp;authentication&nbsp;to&nbsp;our&nbsp;existing&nbsp;twisted&nbsp;server.&nbsp; We&nbsp;haven&#39;t&nbsp;yet&nbsp;found&nbsp;a&nbsp;twisted&nbsp;specific&nbsp;library&nbsp;that&nbsp;can&nbsp;do&nbsp;this;&nbsp;any&nbsp;pointers?&lt;/div&gt;<br>
&lt;div&gt; &lt;/div&gt;&lt;div&gt;What&nbsp;we&nbsp;have&nbsp;found&nbsp;is&nbsp;python-krbV&nbsp;(&lt;a&nbsp;href=&quot;https://fedorahosted.org/python-krbV/&quot;&gt;https://fedorahosted.org/python-krbV/&lt;/a&gt;),&nbsp;but&nbsp;we&nbsp;end&nbsp;up&nbsp;using&nbsp;it&nbsp;along&nbsp;with&nbsp;code&nbsp;like&nbsp;this&nbsp;to&nbsp;take&nbsp;over&nbsp;the&nbsp;socket&nbsp;ourselves&nbsp;from&nbsp;twisted,&nbsp;when&nbsp;the&nbsp;client&nbsp;connects:&lt;/div&gt;<br>
&lt;div&gt; &lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;self.transport.stopReading()&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;self.transport.stopWriting()&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;self.transport.socket.setblocking(1)&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;div&gt;and&nbsp;then&nbsp;we&nbsp;use&nbsp;the&nbsp;self.transport.socket&nbsp;directly&nbsp;in&nbsp;blocking&nbsp;mode&nbsp;in&nbsp;another&nbsp;thread&nbsp;(so&nbsp;it&nbsp;won&#39;t&nbsp;block&nbsp;the&nbsp;reactor).&nbsp; In&nbsp;particular,&nbsp;we&nbsp;use&nbsp;code&nbsp;like&nbsp;this&nbsp;to&nbsp;start&nbsp;the&nbsp;authentication&nbsp;process:&lt;/div&gt;<br>
&lt;div&gt; &lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;ac&nbsp;=&nbsp;krbV.default_context().sendauth(self.transport.socket,&nbsp;...)&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;div&gt;…once&nbsp;the&nbsp;client&nbsp;has&nbsp;authenticated,&nbsp;we&nbsp;use:&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;self.transport.socket.setblocking(0)&lt;/div&gt;&lt;div&gt;<br>
 &nbsp; &nbsp;self.transport.startReading()&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;self.transport.startWriting()&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;div&gt;to&nbsp;let&nbsp;twisted&nbsp;take&nbsp;over&nbsp;the&nbsp;socket&nbsp;again&nbsp;for&nbsp;the&nbsp;rest&nbsp;of&nbsp;the&nbsp;conversation.&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;div&gt;So&nbsp;in&nbsp;the&nbsp;event&nbsp;there&nbsp;are&nbsp;no&nbsp;ready-to-go&nbsp;twisted&nbsp;libraries&nbsp;for&nbsp;kerberos,&nbsp;is&nbsp;the&nbsp;above&nbsp;approach&nbsp;totally&nbsp;insane?&lt;/div&gt;<br>
&lt;/div&gt;--&nbsp;&lt;br&gt;Benjamin&nbsp;Rutt&lt;br&gt;<br>

</tt>
