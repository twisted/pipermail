<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;Transitional//EN&quot;&gt;<br>
&lt;HTML&gt;&lt;HEAD&gt;<br>
&lt;META&nbsp;http-equiv=Content-Type&nbsp;content=&quot;text/html;&nbsp;charset=us-ascii&quot;&gt;<br>
&lt;META&nbsp;content=&quot;MSHTML&nbsp;6.00.6000.16981&quot;&nbsp;name=GENERATOR&gt;&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
&lt;DIV&nbsp;dir=ltr&nbsp;align=left&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=512361800-24022010&gt;Hi&nbsp;Folks&nbsp;..&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=512361800-24022010&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;class=512361800-24022010&gt;&lt;SPAN&nbsp;<br>
class=184094700-24022010&gt;I'm&nbsp;not&nbsp;entirely&nbsp;a&nbsp;newbie&nbsp;a&nbsp;python&nbsp;and&nbsp;twisted,&nbsp;but&nbsp;I&nbsp;<br>
have&nbsp;come&nbsp;to&nbsp;the&nbsp;point&nbsp;where&nbsp;I&nbsp;need&nbsp;a&nbsp;bit&nbsp;more&nbsp;expertise&amp;nbsp;on&nbsp;this&nbsp;topic,&nbsp;so&nbsp;<br>
I&nbsp;am&nbsp;hoping&nbsp;that&nbsp;I&nbsp;have&nbsp;come&nbsp;to&nbsp;the&nbsp;right&nbsp;place&nbsp;<br>
..&amp;nbsp;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;class=512361800-24022010&gt;&lt;SPAN&nbsp;<br>
class=184094700-24022010&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=512361800-24022010&gt;&lt;FONT&nbsp;face=Arial&gt;&lt;FONT&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=184094700-24022010&gt;&lt;FONT&nbsp;color=#0000ff&gt;&lt;FONT&nbsp;<br>
color=#000000&gt;What&amp;nbsp;&lt;/FONT&gt;&amp;nbsp;&lt;/FONT&gt;&lt;/SPAN&gt;I'm&nbsp;hoping&lt;SPAN&nbsp;<br>
class=184094700-24022010&gt;,&amp;nbsp;&lt;/SPAN&gt;that&amp;nbsp;&lt;SPAN&nbsp;<br>
class=184094700-24022010&gt;&lt;FONT&nbsp;color=#0000ff&gt;&amp;nbsp;&lt;FONT&nbsp;color=#000000&gt;you&nbsp;<br>
folks&lt;/FONT&gt;&amp;nbsp;&lt;/FONT&gt;&lt;/SPAN&gt;can&nbsp;help&nbsp;out&nbsp;with&nbsp;a&lt;SPAN&nbsp;<br>
class=184094700-24022010&gt;&lt;FONT&nbsp;color=#0000ff&gt;&amp;nbsp;&lt;/FONT&gt;&lt;FONT&nbsp;<br>
color=#000000&gt;minor&amp;nbsp;&lt;/FONT&gt;&lt;/SPAN&gt;prob&lt;SPAN&nbsp;<br>
class=184094700-24022010&gt;l&lt;/SPAN&gt;em&nbsp;that&nbsp;I&nbsp;am&nbsp;having&nbsp;with&amp;nbsp;&lt;SPAN&nbsp;<br>
class=184094700-24022010&gt;&lt;FONT&nbsp;color=#0000ff&gt;&lt;FONT&nbsp;<br>
color=#000000&gt;the&lt;/FONT&gt;&amp;nbsp;&lt;/FONT&gt;&lt;/SPAN&gt;twistd&nbsp;reactor&nbsp;<br>
class&amp;nbsp;and/or&amp;nbsp;&lt;SPAN&nbsp;class=184094700-24022010&gt;&lt;FONT&nbsp;color=#0000ff&gt;&lt;FONT&nbsp;<br>
color=#000000&gt;the&lt;/FONT&gt;&nbsp;&lt;/FONT&gt;&lt;/SPAN&gt;callLater&amp;nbsp;&lt;SPAN&nbsp;<br>
class=184094700-24022010&gt;function&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=512361800-24022010&gt;&lt;SPAN&nbsp;class=184094700-24022010&gt;&lt;FONT&nbsp;<br>
face=Arial&nbsp;size=2&gt;&amp;nbsp;&lt;/FONT&gt;&nbsp;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;class=512361800-24022010&gt;I&nbsp;have&nbsp;been&nbsp;using&nbsp;a&nbsp;<br>
reactor.callLater&nbsp;function&nbsp;to&nbsp;schedule&nbsp;an&nbsp;event&nbsp;that&nbsp;happens&nbsp;in&nbsp;the&nbsp;reactor&nbsp;to&nbsp;<br>
send&nbsp;out&nbsp;a&nbsp;heartbeat&nbsp;type&nbsp;message&nbsp;at&nbsp;regular&nbsp;intervals&nbsp;..&nbsp;This&nbsp;works&nbsp;great&nbsp;<br>
!&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=512361800-24022010&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=512361800-24022010&gt;&lt;FONT&nbsp;face=Arial&gt;&lt;FONT&nbsp;size=2&gt;However,&nbsp;it&nbsp;<br>
appears&nbsp;to&nbsp;me&nbsp;that&nbsp;the&nbsp;self.sendLine(msg)&amp;nbsp;&lt;SPAN&nbsp;<br>
class=184094700-24022010&gt;&lt;FONT&nbsp;color=#0000ff&gt;&amp;nbsp;&lt;FONT&nbsp;color=#000000&gt;and&nbsp;<br>
or&lt;/FONT&gt;&nbsp;&lt;/FONT&gt;the&nbsp;self.transport.write(msg)&nbsp;&lt;/SPAN&gt;writ&lt;SPAN&nbsp;<br>
class=184094700-24022010&gt;&lt;FONT&nbsp;color=#0000ff&gt;&lt;FONT&nbsp;<br>
color=#000000&gt;ing&lt;/FONT&gt;&amp;nbsp;&lt;/FONT&gt;&lt;/SPAN&gt;&nbsp;functio&lt;FONT&nbsp;color=#0000ff&gt;&lt;SPAN&nbsp;<br>
class=184094700-24022010&gt;&lt;FONT&nbsp;color=#000000&gt;ns&lt;/FONT&gt;&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN&nbsp;<br>
class=184094700-24022010&gt;&lt;FONT&nbsp;color=#000000&gt;are&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&nbsp;blocked&nbsp;<br>
function&lt;SPAN&nbsp;class=184094700-24022010&gt;s&amp;nbsp;&lt;/SPAN&gt;waiting&amp;nbsp;for&amp;nbsp;&lt;SPAN&nbsp;<br>
class=184094700-24022010&gt;a&lt;/SPAN&gt;&lt;SPAN&nbsp;<br>
class=184094700-24022010&gt;&amp;nbsp;&lt;/SPAN&gt;reactor&nbsp;event&lt;SPAN&nbsp;<br>
class=184094700-24022010&gt;&nbsp;to&nbsp;occur&amp;nbsp;at&nbsp;a&nbsp;future&nbsp;scheduled&nbsp;&lt;/SPAN&gt;time&nbsp;before&nbsp;<br>
acutally&nbsp;flushing&nbsp;out&nbsp;the&nbsp;internal&nbsp;write&nbsp;buffers&nbsp;..&amp;nbsp;&lt;SPAN&nbsp;<br>
class=184094700-24022010&gt;&lt;FONT&nbsp;<br>
color=#0000ff&gt;&amp;nbsp;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=512361800-24022010&gt;&lt;FONT&nbsp;face=Arial&gt;&lt;FONT&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=184094700-24022010&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;&lt;/SPAN&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=512361800-24022010&gt;&lt;FONT&nbsp;face=Arial&gt;&lt;FONT&nbsp;size=2&gt;I&nbsp;am&nbsp;currently&nbsp;<br>
using&nbsp;the&nbsp;twistd&nbsp;protocol&nbsp;factory&nbsp;to&nbsp;create&nbsp;a&nbsp;custom&nbsp;protocol&nbsp;to&nbsp;communicate&nbsp;<br>
between&nbsp;a&nbsp;server&nbsp;and&nbsp;client&lt;SPAN&nbsp;class=184094700-24022010&gt;&lt;FONT&nbsp;color=#0000ff&gt;,&nbsp;<br>
&amp;nbsp;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;SPAN&nbsp;class=184094700-24022010&gt;which&nbsp;up&nbsp;until&nbsp;now&nbsp;has&nbsp;not&nbsp;<br>
been&nbsp;a&nbsp;real&nbsp;concern,&nbsp;but&nbsp;I&nbsp;am&nbsp;trying&nbsp;to&nbsp;improve&nbsp;the&nbsp;preformance&nbsp;and&nbsp;turn&nbsp;around&nbsp;<br>
time&amp;nbsp;between&nbsp;the&nbsp;client&nbsp;and&nbsp;server&nbsp;and&nbsp;this&nbsp;blocking&nbsp;operation&nbsp;is&nbsp;a&nbsp;major&nbsp;<br>
source&nbsp;of&amp;nbsp;&amp;nbsp;unneeded&nbsp;delay&nbsp;..&nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=512361800-24022010&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;class=512361800-24022010&gt;My&nbsp;problem&nbsp;is&nbsp;that&nbsp;I&nbsp;<br>
have&amp;nbsp;scheduled&nbsp;heartbeat&nbsp;events&nbsp;that&nbsp;I&nbsp;want&nbsp;to&nbsp;send&nbsp;to&nbsp;the&nbsp;server&nbsp;..&nbsp;as&nbsp;<br>
well&nbsp;as&amp;nbsp;&lt;SPAN&nbsp;class=184094700-24022010&gt;&lt;FONT&nbsp;color=#0000ff&gt;&lt;FONT&nbsp;<br>
color=#000000&gt;&amp;nbsp;the&lt;/FONT&gt;&nbsp;&amp;nbsp;&lt;/FONT&gt;&lt;/SPAN&gt;non&nbsp;scheduled&nbsp;events&nbsp;that&nbsp;I&nbsp;<br>
want&nbsp;to&nbsp;g&lt;SPAN&nbsp;class=184094700-24022010&gt;o&amp;nbsp;&lt;/SPAN&gt;&nbsp;to&nbsp;the&nbsp;server&nbsp;imediately&nbsp;<br>
..&nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=512361800-24022010&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;class=512361800-24022010&gt;I&nbsp;have&nbsp;been&nbsp;scouring&nbsp;<br>
the&nbsp;various&nbsp;python/twistd&nbsp;&amp;nbsp;document&nbsp;sites,&amp;nbsp;&lt;SPAN&nbsp;<br>
class=184094700-24022010&gt;&lt;FONT&nbsp;color=#0000ff&gt;&lt;FONT&nbsp;color=#000000&gt;but&nbsp;to&nbsp;<br>
no&amp;nbsp;avial&lt;/FONT&gt;,&amp;nbsp;&lt;/FONT&gt;&lt;/SPAN&gt;&nbsp;on&nbsp;all&nbsp;of&nbsp;the&nbsp;site&lt;SPAN&nbsp;<br>
class=184094700-24022010&gt;s&amp;nbsp;&lt;/SPAN&gt;that&nbsp;I&nbsp;have&nbsp;seen,&nbsp;the&nbsp;method&nbsp;used&nbsp;ha&lt;SPAN&nbsp;<br>
class=184094700-24022010&gt;&lt;FONT&nbsp;color=#0000ff&gt;&lt;FONT&nbsp;<br>
color=#000000&gt;ve&lt;/FONT&gt;&amp;nbsp;&lt;/FONT&gt;&lt;/SPAN&gt;&nbsp;all&nbsp;done&nbsp;the&nbsp;same&nbsp;thing&lt;SPAN&nbsp;<br>
class=184094700-24022010&gt;&lt;FONT&nbsp;color=#0000ff&gt;&amp;nbsp;,&amp;nbsp;&lt;/FONT&gt;&lt;/SPAN&gt;&nbsp;by&nbsp;<br>
re-scheduling&nbsp;something&nbsp;into&nbsp;the&nbsp;future&nbsp;with&nbsp;a&nbsp;reactor.callLater&nbsp;()&nbsp;function,&nbsp;<br>
which&nbsp;causes&nbsp;a&nbsp;delayed&nbsp;write&nbsp;to&nbsp;occur&nbsp;..&nbsp;not&nbsp;a&nbsp;problem&nbsp;for&nbsp;something&nbsp;that&nbsp;is&nbsp;1&nbsp;<br>
or&nbsp;2&nbsp;secon&lt;SPAN&nbsp;class=184094700-24022010&gt;&lt;FONT&nbsp;color=#0000ff&gt;&lt;FONT&nbsp;<br>
color=#000000&gt;d&lt;/FONT&gt;&amp;nbsp;&lt;/FONT&gt;&lt;/SPAN&gt;s&nbsp;in&nbsp;the&nbsp;furture,&nbsp;but&nbsp;it&nbsp;is&nbsp;a&nbsp;serious&nbsp;<br>
problem&nbsp;when&nbsp;the&nbsp;next&nbsp;event&nbsp;is&nbsp;120&nbsp;seconds&nbsp;away&nbsp;..&nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=512361800-24022010&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=512361800-24022010&gt;&lt;FONT&nbsp;face=Arial&gt;&lt;FONT&nbsp;size=2&gt;I&nbsp;have&nbsp;tried&nbsp;<br>
using&nbsp;a&nbsp;self.transport.write(msg)&nbsp;function,&nbsp;but&nbsp;the&nbsp;actual&nbsp;communication&nbsp;still&nbsp;<br>
seems&nbsp;to&nbsp;be&nbsp;buffered&nbsp;and&nbsp;stuck&nbsp;waiting&nbsp;for&nbsp;the&nbsp;scheduled&nbsp;reactor&nbsp;event&nbsp;..&lt;SPAN&nbsp;<br>
class=184094700-24022010&gt;&lt;FONT&nbsp;<br>
color=#0000ff&gt;&amp;nbsp;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=512361800-24022010&gt;&lt;FONT&nbsp;face=Arial&gt;&lt;FONT&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=184094700-24022010&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=512361800-24022010&gt;&lt;FONT&nbsp;face=Arial&gt;&lt;FONT&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=184094700-24022010&gt;&lt;FONT&nbsp;color=#0000ff&gt;&lt;FONT&nbsp;color=#000000&gt;What&nbsp;I&nbsp;think&nbsp;I&nbsp;<br>
need&nbsp;is&nbsp;something&nbsp;similar&nbsp;to&lt;/FONT&gt;&amp;nbsp;&lt;/FONT&gt;&amp;nbsp;self.transport.flush()&nbsp;<br>
which&nbsp;would&nbsp;flush&nbsp;out&nbsp;the&nbsp;write&nbsp;buffers&nbsp;on&nbsp;demand,&nbsp;but&nbsp;does&nbsp;not&nbsp;seen&nbsp;to&nbsp;exist&nbsp;<br>
..&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=512361800-24022010&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;class=512361800-24022010&gt;I&nbsp;am&nbsp;hoping&nbsp;that&nbsp;<br>
someone&nbsp;has&nbsp;faced&nbsp;the&nbsp;same/similar&nbsp;stituation&nbsp;and&nbsp;give&nbsp;me&nbsp;some&nbsp;guidance&nbsp;and/or&nbsp;<br>
to&nbsp;point&nbsp;me&nbsp;in&nbsp;the&nbsp;correct&nbsp;direction&nbsp;..&amp;nbsp;&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;<br>
class=512361800-24022010&gt;&lt;/SPAN&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;SPAN&nbsp;class=512361800-24022010&gt;Thanks&nbsp;for&nbsp;any&nbsp;help&nbsp;<br>
you&nbsp;can&nbsp;offer&nbsp;..&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=512361800-24022010&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;Cheers&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;SPAN&nbsp;class=512361800-24022010&gt;&lt;FONT&nbsp;face=Arial&nbsp;<br>
size=2&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;align=left&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Dave&nbsp;Watson&lt;/FONT&gt;&lt;/DIV&gt;&lt;/BODY&gt;&lt;/HTML&gt;<br>

</tt>
