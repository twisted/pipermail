<tt>
Hi&nbsp;All,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;just&nbsp;wanted&nbsp;to&nbsp;fire&nbsp;a&nbsp;note&nbsp;about&nbsp;our&nbsp;experiences&nbsp;testing&nbsp;Twisted&nbsp;trunk&nbsp;(after&nbsp;_newtls.py&nbsp;landed)&nbsp;on&nbsp;some&nbsp;servers&nbsp;in&nbsp;our&nbsp;cluster,&nbsp;on&nbsp;PyOpenSSL&nbsp;0.12. &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In&nbsp;our&nbsp;application&nbsp;(a&nbsp;twisted.web&nbsp;REST&nbsp;api&nbsp;endpoint),&nbsp;we&nbsp;make&nbsp;a&nbsp;lot&nbsp;of&nbsp;https&nbsp;calls&nbsp;to&nbsp;a&nbsp;SimpleDB&nbsp;Amazon&nbsp;AWS&nbsp;endpoint&nbsp;(&lt;a&nbsp;href=&quot;http://sdb.amazonaws.com&quot;&gt;sdb.amazonaws.com&lt;/a&gt;).&nbsp;At&nbsp;some&nbsp;point&nbsp;after&nbsp;a&nbsp;deployed&nbsp;test&nbsp;on&nbsp;some&nbsp;of&nbsp;our&nbsp;machines,&nbsp;we&nbsp;started&nbsp;getting&nbsp;our&nbsp;internel&nbsp;DNS&nbsp;requests&nbsp;to&nbsp;the&nbsp;sdb&nbsp;endpoint&nbsp;throttled&nbsp;(resulting&nbsp;in&nbsp;failures&nbsp;in&nbsp;most&nbsp;of&nbsp;our&nbsp;requests).&nbsp;Since&nbsp;every&nbsp;call&nbsp;to&nbsp;SimpleDB&nbsp;was&nbsp;made&nbsp;to&nbsp;the&nbsp;sdb&nbsp;endpoint,&nbsp;each&nbsp;call&nbsp;would&nbsp;be&nbsp;resolved,&nbsp;bombarding&nbsp;amazon&#39;s&nbsp;dns&nbsp;servers&nbsp;with&nbsp;requests.&nbsp;After&nbsp;diving&nbsp;in,&nbsp;I&nbsp;learned&nbsp;all&nbsp;Twisted&nbsp;connect*&nbsp;calls&nbsp;go&nbsp;through&nbsp;socket.gethostbyname,&nbsp;which&nbsp;apparently&nbsp;does&nbsp;not&nbsp;do&nbsp;any&nbsp;DNS&nbsp;caching&nbsp;(much&nbsp;to&nbsp;my&nbsp;surprise)&nbsp;unless&nbsp;something&nbsp;like&nbsp;nscd&nbsp;or&nbsp;a&nbsp;local&nbsp;caching&nbsp;nameserver&nbsp;is&nbsp;running&nbsp;(we&nbsp;ended&nbsp;up&nbsp;using&nbsp;BIND).&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Now,&nbsp;since&nbsp;we&nbsp;never&nbsp;ran&nbsp;a&nbsp;local&nbsp;caching&nbsp;nameserver&nbsp;before&nbsp;I&nbsp;wondered&nbsp;what&nbsp;changed.&nbsp;Could&nbsp;it&nbsp;have&nbsp;been&nbsp;that&nbsp;using&nbsp;the&nbsp;_newtls&nbsp;code&nbsp;(with&nbsp;PyOpenSSL&nbsp;0.12)&nbsp;removed&nbsp;some&nbsp;element&nbsp;of&nbsp;DNS&nbsp;caching&nbsp;that&nbsp;OpenSSL&nbsp;was&nbsp;performing&nbsp;behind&nbsp;the&nbsp;scene?&nbsp;Is&nbsp;this&nbsp;possible?&nbsp;If&nbsp;so,&nbsp;then&nbsp;I&nbsp;just&nbsp;wanted&nbsp;to&nbsp;make&nbsp;sure&nbsp;everyone&nbsp;was&nbsp;aware&nbsp;that&nbsp;if&nbsp;you&nbsp;make&nbsp;a&nbsp;lot&nbsp;of&nbsp;DNS&nbsp;calls&nbsp;in&nbsp;a&nbsp;Twisted&nbsp;server&nbsp;running&nbsp;this&nbsp;code,&nbsp;you&nbsp;too&nbsp;could&nbsp;experience&nbsp;problems&nbsp;if&nbsp;you&#39;re&nbsp;not&nbsp;running&nbsp;a&nbsp;local&nbsp;caching&nbsp;nameserver.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks,&lt;/div&gt;&lt;div&gt;Reza&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;br&gt;--&nbsp;&lt;br&gt;Reza&nbsp;Lotun&lt;br&gt;mobile:&nbsp;+44&nbsp;(0)7521&nbsp;310&nbsp;763&lt;br&gt;email: &nbsp;&lt;a&nbsp;href=&quot;mailto:rlotun@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rlotun@gmail.com&lt;/a&gt;&lt;br&gt;work:  &nbsp;&lt;a&nbsp;href=&quot;mailto:rlotun@twitter.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rlotun@twitter.com&lt;/a&gt;&lt;br&gt;<br>
@rlotun&lt;br&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>

</tt>
