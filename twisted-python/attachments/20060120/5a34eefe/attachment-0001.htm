<tt>
On&nbsp;1/19/06,&nbsp;&lt;b&nbsp;class=&quot;gmail_sendername&quot;&gt;Matt&nbsp;Goodall&lt;/b&gt;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:matt@pollenation.net&quot;&gt;matt@pollenation.net&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;div&gt;&lt;span&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;/span&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
Hi,&lt;br&gt;&lt;br&gt;I&nbsp;have&nbsp;a&nbsp;couple&nbsp;of&nbsp;services.&nbsp;The&nbsp;second&nbsp;is&nbsp;dependent&nbsp;on&nbsp;the&nbsp;first&nbsp;being&lt;br&gt;fully&nbsp;initialised&nbsp;before&nbsp;the&nbsp;second&nbsp;gets&nbsp;set&nbsp;up.&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&amp;gt;&amp;lt;snip&amp;gt;&nbsp;&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
In&nbsp;other&nbsp;words,&nbsp;what&nbsp;is&nbsp;the&nbsp;recommended&nbsp;way&nbsp;of&nbsp;starting&nbsp;services&nbsp;in&nbsp;the&lt;br&gt;correct&nbsp;order,&nbsp;including&nbsp;waiting&nbsp;for&nbsp;them&nbsp;to&nbsp;get&nbsp;initialised&nbsp;fully,&lt;br&gt;these&nbsp;days?&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;I&nbsp;actually&nbsp;wrote&nbsp;something&nbsp;like&nbsp;this&nbsp;today,&nbsp;a&nbsp;subclass&nbsp;of&nbsp;MultiService,&nbsp;because&nbsp;my&nbsp;main&nbsp;service&nbsp;was&nbsp;dependant&nbsp;on&nbsp;there&nbsp;being&nbsp;no&nbsp;other&nbsp;services&nbsp;running&nbsp;on&nbsp;the&nbsp;same&nbsp;machine,&nbsp;and&nbsp;I&nbsp;had&nbsp;to&nbsp;implement&nbsp;a&nbsp;PB&nbsp;client/server&nbsp;to&nbsp;ask&nbsp;the&nbsp;other&nbsp;instance&nbsp;to&nbsp;shut&nbsp;down.&nbsp;This&nbsp;is&nbsp;mostly&nbsp;because&nbsp;Windows&nbsp;sucks,&nbsp;and&nbsp;doesn't&nbsp;allow&nbsp;me&nbsp;to&nbsp;just&nbsp;do&nbsp;a&nbsp;&amp;quot;kill&nbsp;&amp;lt;pid&amp;gt;&amp;quot;&nbsp;on&nbsp;the&nbsp;old&nbsp;one,&nbsp;but&nbsp;gave&nbsp;me&nbsp;an&nbsp;excuse&nbsp;to&nbsp;start&nbsp;the&nbsp;PB&nbsp;integration&nbsp;of&nbsp;my&nbsp;app.&nbsp;I&nbsp;just&nbsp;subclassed&nbsp;MultiService&nbsp;and&nbsp;reimplemented&nbsp;startService&nbsp;and&nbsp;stopService&nbsp;appropriately,&nbsp;not&nbsp;chaining&nbsp;my&nbsp;sub-service&nbsp;starts&nbsp;until&nbsp;I&nbsp;was&nbsp;certain&nbsp;I&nbsp;had&nbsp;managed&nbsp;to&nbsp;start&nbsp;my&nbsp;own&nbsp;service,&nbsp;and&nbsp;not&nbsp;stopping&nbsp;my&nbsp;service&nbsp;until&nbsp;my&nbsp;sub-services&nbsp;had&nbsp;stopped.<br>
&lt;br&gt;&lt;br&gt;It's&nbsp;a&nbsp;fairly&nbsp;simple&nbsp;idiom,&nbsp;so&nbsp;it's&nbsp;probably&nbsp;pretty&nbsp;easy&nbsp;to&nbsp;implement&nbsp;yourself,&nbsp;but&nbsp;I'm&nbsp;surprised&nbsp;a&nbsp;generic&nbsp;one&nbsp;hasn't&nbsp;been&nbsp;written&nbsp;yet.&nbsp;Similarly&nbsp;I've&nbsp;had&nbsp;to&nbsp;write&nbsp;a&nbsp;new&nbsp;LoopingService&nbsp;that&nbsp;runs&nbsp;a&nbsp;&amp;quot;setup&amp;quot;&nbsp;callable&nbsp;before&nbsp;looping&nbsp;the&nbsp;main&nbsp;service,&nbsp;and&nbsp;also&nbsp;has&nbsp;a&nbsp;&amp;quot;minimum&nbsp;wait&nbsp;between&nbsp;calls&amp;quot;&nbsp;timer&nbsp;going&nbsp;on&nbsp;it.&nbsp;None&nbsp;of&nbsp;these&nbsp;have&nbsp;been&nbsp;particulalrly&nbsp;difficult.<br>
&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
