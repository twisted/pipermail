<tt>
&lt;html&gt;&lt;head&gt;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html&nbsp;charset=us-ascii&quot;&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&quot;&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;On&nbsp;Apr&nbsp;2,&nbsp;2015,&nbsp;at&nbsp;4:03&nbsp;PM,&nbsp;Burak&nbsp;Arslan&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:burak.arslan@arskom.com.tr&quot;&nbsp;class=&quot;&quot;&gt;burak.arslan@arskom.com.tr&lt;/a&gt;&gt;&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;Hi,&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;I&nbsp;happen&nbsp;to&nbsp;have&nbsp;the&nbsp;new&nbsp;logging&nbsp;hotness(tm)&nbsp;running&nbsp;in&nbsp;production&nbsp;as&lt;br&nbsp;class=&quot;&quot;&gt;the&nbsp;backend&nbsp;to&nbsp;python's&nbsp;own&nbsp;logging&nbsp;module&nbsp;in&nbsp;one&nbsp;of&nbsp;the&nbsp;daemons&nbsp;that&lt;br&nbsp;class=&quot;&quot;&gt;I'm&nbsp;responsible&nbsp;for.&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;for&nbsp;trying&nbsp;out&nbsp;this&nbsp;code&nbsp;and&nbsp;helping&nbsp;us&nbsp;validate&nbsp;it!&lt;/div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;I&nbsp;also&nbsp;have&nbsp;dowser[1]&nbsp;integrated&nbsp;with&nbsp;this&nbsp;one&nbsp;so&nbsp;tryng&nbsp;to&nbsp;optimize&lt;br&nbsp;class=&quot;&quot;&gt;memory&nbsp;usage&nbsp;is&nbsp;almost&nbsp;fun&nbsp;:)&nbsp;So&nbsp;I&nbsp;noticed&nbsp;one&nbsp;day&lt;br&nbsp;class=&quot;&quot;&gt;LimitedHistoryObserver&nbsp;was&nbsp;responsible&nbsp;for&nbsp;holding&nbsp;on&nbsp;to&nbsp;~30k&nbsp;dict&lt;br&nbsp;class=&quot;&quot;&gt;instances.&nbsp;I&nbsp;fixed&nbsp;this&nbsp;with&nbsp;[2].&nbsp;Resident&nbsp;set&nbsp;size&nbsp;with&nbsp;48hrs&nbsp;uptime&nbsp;is&lt;br&nbsp;class=&quot;&quot;&gt;now&nbsp;down&nbsp;~300M&nbsp;&nbsp;&nbsp;thanks&nbsp;to&nbsp;that&nbsp;function&nbsp;(and&nbsp;is&nbsp;flat).&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;That's...&nbsp;a&nbsp;lot&nbsp;of&nbsp;dict&nbsp;instances&nbsp;:).&nbsp;&nbsp;I&nbsp;guess&nbsp;not&nbsp;a&nbsp;very&nbsp;&quot;limited&quot;&nbsp;history&nbsp;observer&nbsp;;-).&lt;/div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;That's&nbsp;a&nbsp;bit&nbsp;too&nbsp;much&nbsp;for&nbsp;my&nbsp;tastes&nbsp;so&nbsp;I&nbsp;thought&nbsp;maybe&nbsp;you&nbsp;can&lt;br&nbsp;class=&quot;&quot;&gt;reconsider&nbsp;that&nbsp;64&nbsp;*&nbsp;1024&nbsp;entry&nbsp;limit&nbsp;or&nbsp;choose&nbsp;to&nbsp;get&nbsp;rid&nbsp;of&nbsp;the&lt;br&nbsp;class=&quot;&quot;&gt;default&nbsp;observer&nbsp;automatically&nbsp;once&nbsp;the&nbsp;global&nbsp;observer&nbsp;has&nbsp;a&nbsp;proper&lt;br&nbsp;class=&quot;&quot;&gt;user-supplied&nbsp;sink.&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;Can&nbsp;you&nbsp;file&nbsp;this&nbsp;bug&nbsp;on&nbsp;the&nbsp;Twisted&nbsp;tracker&nbsp;so&nbsp;we&nbsp;don't&nbsp;lose&nbsp;it?&nbsp;&nbsp;I&nbsp;am&nbsp;pretty&nbsp;sure&nbsp;that&nbsp;300M&nbsp;of&nbsp;memory&nbsp;for&nbsp;buffered&nbsp;logs&nbsp;is&nbsp;not&nbsp;something&nbsp;anybody&nbsp;really&nbsp;wants.&lt;/div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;Best&nbsp;regards,&lt;br&nbsp;class=&quot;&quot;&gt;Burak&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;PS:&nbsp;Neurons&nbsp;will&nbsp;be&nbsp;a&nbsp;web&nbsp;framework&nbsp;that&nbsp;ties&nbsp;a&nbsp;lot&nbsp;of&nbsp;stuff&nbsp;like&lt;br&nbsp;class=&quot;&quot;&gt;sqlalchemy,&nbsp;spyne&nbsp;and&nbsp;twisted&nbsp;together.&nbsp;Currently&nbsp;it&nbsp;does&nbsp;only&nbsp;two&lt;br&nbsp;class=&quot;&quot;&gt;things&nbsp;quite&nbsp;well:&nbsp;Forking&nbsp;and&nbsp;rendering&nbsp;html&nbsp;forms&nbsp;:)&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;[1]&nbsp;&lt;a&nbsp;href=&quot;https://github.com/plq/neurons/tree/master/neurons/daemon/dowser&quot;&nbsp;class=&quot;&quot;&gt;https://github.com/plq/neurons/tree/master/neurons/daemon/dowser&lt;/a&gt;&lt;br&nbsp;class=&quot;&quot;&gt;[2]&lt;br&nbsp;class=&quot;&quot;&gt;&lt;a&nbsp;href=&quot;https://github.com/plq/neurons/blob/417836a729706f2d1449109ccbb7d4a510227050/neurons/daemon/config.py#L623&quot;&nbsp;class=&quot;&quot;&gt;https://github.com/plq/neurons/blob/417836a729706f2d1449109ccbb7d4a510227050/neurons/daemon/config.py#L623&lt;/a&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;Awesome,&nbsp;I&nbsp;can't&nbsp;wait&nbsp;to&nbsp;see&nbsp;the&nbsp;results.&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
