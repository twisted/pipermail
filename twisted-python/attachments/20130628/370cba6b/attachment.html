<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;Hi,&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;How&nbsp;are&nbsp;you&nbsp;supposed&nbsp;to&nbsp;write&nbsp;a&nbsp;setup.py&nbsp;that&nbsp;installs&nbsp;twistd&nbsp;plugins?&lt;br&gt;&lt;br&gt;&lt;/div&gt;I&nbsp;have&nbsp;this&nbsp;piece&nbsp;of&nbsp;tribal&nbsp;knowledge:&lt;br&gt;&lt;br&gt;----&lt;br&gt;from&nbsp;setuptools.command&nbsp;import&nbsp;egg_info&lt;br&gt;<br>
<br>
&lt;br&gt;def&nbsp;_top_level(name):&lt;br&gt;   &nbsp;return&nbsp;name.split(&#39;.&#39;,&nbsp;1)[0]&lt;br&gt;&lt;br&gt;def&nbsp;_hacked_write_toplevel_names(cmd,&nbsp;basename,&nbsp;filename):&lt;br&gt;   &nbsp;names&nbsp;=&nbsp;map(_top_level,&nbsp;cmd.distribution.iter_distribution_names())&lt;br&gt;   &nbsp;pkgs&nbsp;=&nbsp;dict.fromkeys(set(names)&nbsp;-&nbsp;set([&quot;twisted&quot;]))&lt;br&gt;<br>
<br>
   &nbsp;cmd.write_file(&quot;top-level&nbsp;names&quot;,&nbsp;filename,&nbsp;&#39;\n&#39;.join(pkgs)&nbsp;+&nbsp;&#39;\n&#39;)&lt;br&gt;&lt;br&gt;egg_info.write_toplevel_names&nbsp;=&nbsp;_hacked_write_toplevel_names&lt;br&gt;---&lt;br&gt;&lt;br&gt;&lt;/div&gt;But&nbsp;I&nbsp;don&#39;t&nbsp;actually&nbsp;know&nbsp;what&#39;s&nbsp;actually&nbsp;required,&nbsp;and&nbsp;I&nbsp;don&#39;t&nbsp;actually&nbsp;know&nbsp;where&nbsp;this&nbsp;is&nbsp;documented&nbsp;(if&nbsp;at&nbsp;all).&nbsp;Plus,&nbsp;it&nbsp;looks&nbsp;pretty&nbsp;unsanitary,&nbsp;and&nbsp;appears&nbsp;to&nbsp;introduce&nbsp;a&nbsp;dependency&nbsp;to&nbsp;setuptools.&lt;br&gt;<br>
<br>
&lt;br&gt;&lt;/div&gt;So,&nbsp;how&nbsp;am&nbsp;I&nbsp;supposed&nbsp;to&nbsp;do&nbsp;this?&lt;br&gt;&lt;br&gt;&lt;/div&gt;Thanks&nbsp;in&nbsp;advance&lt;br&gt;lvh&lt;br&gt;&lt;/div&gt;<br>

</tt>
