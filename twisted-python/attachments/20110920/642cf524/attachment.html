<tt>
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;On&nbsp;Sep&nbsp;20,&nbsp;2011,&nbsp;at&nbsp;8:51&nbsp;AM,&nbsp;Don&nbsp;Schoeman&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
<br>
&nbsp;&nbsp;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;http-equiv=&quot;content-type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=ISO-8859-1&quot;&gt;<br>
&nbsp;&nbsp;<br>
&nbsp;&nbsp;&lt;div&nbsp;bgcolor=&quot;#ffffff&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;font&nbsp;face=&quot;Arial&quot;&gt;Hi&nbsp;all,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Before&nbsp;I&nbsp;start&nbsp;digging&nbsp;in&nbsp;the&nbsp;Twisted&nbsp;code,&nbsp;I'd&nbsp;just&nbsp;like&nbsp;to&nbsp;bump<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this&nbsp;off&nbsp;you&nbsp;in&nbsp;case&nbsp;the&nbsp;solution&nbsp;is&nbsp;obvious...&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I&nbsp;have&nbsp;a&nbsp;lot&nbsp;of&nbsp;clients&nbsp;having&nbsp;permanent&nbsp;connections&nbsp;to&nbsp;my&nbsp;TCP<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;server.&nbsp;These&nbsp;clients&nbsp;are&nbsp;devices&nbsp;that&nbsp;will&nbsp;buffer&nbsp;data&nbsp;if&nbsp;it<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;can't&nbsp;connect&nbsp;to&nbsp;the&nbsp;server.&nbsp;I&nbsp;can&nbsp;see&nbsp;a&nbsp;possible&nbsp;problem&nbsp;in&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;future&nbsp;if/when&nbsp;for&nbsp;whatever&nbsp;reason&nbsp;there&nbsp;is&nbsp;downtime&nbsp;on&nbsp;my&nbsp;server<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or&nbsp;the&nbsp;network&nbsp;and&nbsp;all&nbsp;these&nbsp;devices&nbsp;start&nbsp;connecting&nbsp;and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transmitting&nbsp;their&nbsp;buffered&nbsp;data&nbsp;once&nbsp;the&nbsp;server&nbsp;is&nbsp;back&nbsp;up,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;potentially&nbsp;causing&nbsp;server&nbsp;flooding.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;What&nbsp;would&nbsp;be&nbsp;a&nbsp;good&nbsp;area&nbsp;to&nbsp;start&nbsp;looking&nbsp;into&nbsp;preventing<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;something&nbsp;like&nbsp;this&nbsp;from&nbsp;happening?&nbsp;My&nbsp;first&nbsp;thoughts&nbsp;are&nbsp;to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;simply&nbsp;limit&nbsp;an&nbsp;X&nbsp;number&nbsp;of&nbsp;new&nbsp;connections&nbsp;per&nbsp;minute&nbsp;(or&nbsp;per&nbsp;X<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seconds)&nbsp;and&nbsp;to&nbsp;simply&nbsp;immediately&nbsp;drop&nbsp;new&nbsp;connections&nbsp;if&nbsp;it<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exceeds&nbsp;that&nbsp;limit.&nbsp;(I'd&nbsp;probably&nbsp;implement&nbsp;this&nbsp;on&nbsp;Protocol<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;level).&nbsp;Over&nbsp;time&nbsp;the&nbsp;connections&nbsp;should&nbsp;theoretically&nbsp;normalise<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;as&nbsp;the&nbsp;buffered&nbsp;data&nbsp;on&nbsp;the&nbsp;devices&nbsp;are&nbsp;also&nbsp;limited.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Of&nbsp;course&nbsp;it&nbsp;would&nbsp;be&nbsp;better&nbsp;to&nbsp;not&nbsp;allow&nbsp;the&nbsp;connections&nbsp;from<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;being&nbsp;established&nbsp;in&nbsp;the&nbsp;first&nbsp;place&nbsp;if&nbsp;the&nbsp;limits&nbsp;are&nbsp;exceeded<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(will&nbsp;be&nbsp;great&nbsp;for&nbsp;DDOS&nbsp;protection),&nbsp;but&nbsp;I&nbsp;have&nbsp;a&nbsp;feeling&nbsp;that<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;might&nbsp;be&nbsp;difficult&nbsp;to&nbsp;achieve.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Any&nbsp;thoughts/tips&nbsp;or&nbsp;even&nbsp;links&nbsp;to&nbsp;examples?&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;My&nbsp;suggestion&nbsp;would&nbsp;be&nbsp;&quot;try&nbsp;it&nbsp;and&nbsp;see&nbsp;what&nbsp;happens&quot;.&nbsp;&nbsp;You&nbsp;may&nbsp;be&nbsp;surprised&nbsp;to&nbsp;find&nbsp;that&nbsp;your&nbsp;Twisted&nbsp;app&nbsp;deals&nbsp;with&nbsp;the&nbsp;load&nbsp;just&nbsp;fine.&nbsp;&nbsp;I've&nbsp;seen&nbsp;several&nbsp;applications&nbsp;for&nbsp;which&nbsp;this&nbsp;is&nbsp;the&nbsp;case.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;there&nbsp;really&nbsp;is&nbsp;an&nbsp;issue,&nbsp;a&nbsp;running&nbsp;system&nbsp;will&nbsp;give&nbsp;you&nbsp;a&nbsp;_lot_&nbsp;more&nbsp;information&nbsp;about&nbsp;what&nbsp;the&nbsp;issue&nbsp;might&nbsp;be&nbsp;than&nbsp;a&nbsp;guess&nbsp;in&nbsp;advance&nbsp;:).&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;You&nbsp;may&nbsp;rest&nbsp;assured,&nbsp;however,&nbsp;that&nbsp;Twisted&nbsp;has&nbsp;all&nbsp;the&nbsp;APIs&nbsp;you&nbsp;will&nbsp;need&nbsp;to&nbsp;use&nbsp;to&nbsp;shed&nbsp;load,&nbsp;if&nbsp;that&nbsp;is&nbsp;in&nbsp;fact&nbsp;necessary;&nbsp;you&nbsp;can&nbsp;call&nbsp;stopListening()&nbsp;on&nbsp;the&nbsp;Port&nbsp;object&nbsp;that&nbsp;is&nbsp;currently&nbsp;accepting&nbsp;your&nbsp;connections,&nbsp;you&nbsp;can&nbsp;call&nbsp;stopReading()&nbsp;which&nbsp;will&nbsp;take&nbsp;it&nbsp;out&nbsp;of&nbsp;the&nbsp;reactor&nbsp;(but&nbsp;allow&nbsp;the&nbsp;listen&nbsp;queue&nbsp;to&nbsp;continue&nbsp;backing&nbsp;up);&nbsp;you&nbsp;can&nbsp;call&nbsp;pauseProducing()&nbsp;on&nbsp;any&nbsp;connection&nbsp;that&nbsp;is&nbsp;feeding&nbsp;you&nbsp;too&nbsp;much&nbsp;data.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Does&nbsp;this&nbsp;answer&nbsp;your&nbsp;question?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
