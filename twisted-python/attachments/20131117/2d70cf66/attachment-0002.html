<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;David,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;You&nbsp;may&nbsp;also&nbsp;wish&nbsp;to&nbsp;take&nbsp;a&nbsp;look&nbsp;at&nbsp;Proxy65,&nbsp;which&nbsp;is&nbsp;a&nbsp;socks5&nbsp;proxy&nbsp;specifically&nbsp;for&nbsp;XMPP&nbsp;XEP-0065.&nbsp; I&nbsp;have&nbsp;no&nbsp;idea&nbsp;how&nbsp;complete&nbsp;or&nbsp;correct&nbsp;it&nbsp;is,&nbsp;and&nbsp;it&#39;s&nbsp;pretty&nbsp;old,&nbsp;but&nbsp;it&nbsp;might&nbsp;be&nbsp;helpful.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;https://code.google.com/p/proxy65/&quot;&gt;https://code.google.com/p/proxy65/&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Sat,&nbsp;Nov&nbsp;16,&nbsp;2013&nbsp;at&nbsp;2:28&nbsp;PM,&nbsp;David&nbsp;Stainton&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:dstainton415@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;dstainton415@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;Hi&nbsp;Jean-Paul,&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks&nbsp;for&nbsp;all&nbsp;the&nbsp;info,&nbsp;observations&nbsp;about&nbsp;the&nbsp;existing&nbsp;code&nbsp;and&nbsp;for&lt;br&gt;<br>
the&nbsp;coding&nbsp;advice!&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;think&nbsp;I&nbsp;should&nbsp;only&nbsp;implement&nbsp;the&nbsp;socks&nbsp;5&nbsp;server&nbsp;side&lt;br&gt;<br>
since&nbsp;txsocksx&nbsp;seems&nbsp;to&nbsp;have&nbsp;the&nbsp;client&nbsp;implementation&nbsp;covered.&lt;br&gt;<br>
Some&nbsp;of&nbsp;the&nbsp;Tor&nbsp;developers&nbsp;use&nbsp;it...&lt;br&gt;<br>
&lt;br&gt;<br>
I&#39;m&nbsp;not&nbsp;used&nbsp;to&nbsp;test&nbsp;driven&nbsp;development.&nbsp;I&#39;ll&nbsp;give&nbsp;it&nbsp;a&nbsp;try&nbsp;and&lt;br&gt;<br>
implement&nbsp;the&nbsp;SOCKSv5&nbsp;server&nbsp;functionality...&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Cheers!&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
David&lt;br&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;div&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
On&nbsp;Sat,&nbsp;Nov&nbsp;16,&nbsp;2013&nbsp;at&nbsp;11:44&nbsp;AM,&nbsp; &lt;&lt;a&nbsp;href=&quot;mailto:exarkun@twistedmatrix.com&quot;&gt;exarkun@twistedmatrix.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;On&nbsp;06:14&nbsp;pm,&nbsp;&lt;a&nbsp;href=&quot;mailto:dstainton415@gmail.com&quot;&gt;dstainton415@gmail.com&lt;/a&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;Hi,&nbsp;I&#39;d&nbsp;like&nbsp;to&nbsp;help&nbsp;out&nbsp;and&nbsp;write&nbsp;unit&nbsp;tests&nbsp;for&nbsp;the&nbsp;Socks&nbsp;v5&nbsp;code&nbsp;in&lt;br&gt;<br>
&gt;&gt;&nbsp;this&nbsp;ticket:&lt;br&gt;<br>
&gt;&gt;&nbsp;&lt;a&nbsp;href=&quot;https://twistedmatrix.com/trac/ticket/1330&quot;&nbsp;target=&quot;_blank&quot;&gt;https://twistedmatrix.com/trac/ticket/1330&lt;/a&gt;&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;Should&nbsp;I&nbsp;write&nbsp;something&nbsp;very&nbsp;similar&nbsp;to&nbsp;this??&nbsp;::&lt;br&gt;<br>
&gt;&gt;&nbsp;&lt;a&nbsp;href=&quot;http://twistedmatrix.com/trac/browser/trunk/twisted/test/test_socks.py&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twistedmatrix.com/trac/browser/trunk/twisted/test/test_socks.py&lt;/a&gt;&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;My&nbsp;goal&nbsp;is&nbsp;getting&nbsp;socksv5&nbsp;client&nbsp;and&nbsp;server&nbsp;code&nbsp;merged&nbsp;to&nbsp;mainline&lt;br&gt;<br>
&gt;&gt;&nbsp;Twisted&nbsp;with&nbsp;unit&nbsp;tests.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;twisted/test/test_socks.py&nbsp;is&nbsp;a&nbsp;bad&nbsp;example&nbsp;of&nbsp;a&nbsp;test&nbsp;suite.&nbsp; Here&nbsp;are&nbsp;the&lt;br&gt;<br>
&gt;&nbsp;things&nbsp;about&nbsp;it&nbsp;you&nbsp;should&nbsp;not&nbsp;emulate:&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp; *&nbsp;It&nbsp;has&nbsp;documentation&nbsp;that&nbsp;is&nbsp;far&nbsp;from&nbsp;complete.&nbsp; Documentation&nbsp;is&nbsp;just&nbsp;as&lt;br&gt;<br>
&gt;&nbsp;important&nbsp;in&nbsp;unit&nbsp;tests&nbsp;as&nbsp;elsewhere.&nbsp; In&nbsp;particular,&nbsp;documenting&nbsp;the&nbsp;intent&lt;br&gt;<br>
&gt;&nbsp;of&nbsp;every&nbsp;test&nbsp;method&nbsp;is&nbsp;critical&nbsp;otherwise&nbsp;the&nbsp;test&nbsp;suite&nbsp;is&nbsp;very&nbsp;difficult&lt;br&gt;<br>
&gt;&nbsp;to&nbsp;maintain.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp; *&nbsp;It&nbsp;exercises&nbsp;too&nbsp;much&nbsp;code&nbsp;in&nbsp;each&nbsp;test&nbsp;method.&nbsp; Well&nbsp;written&nbsp;test&lt;br&gt;<br>
&gt;&nbsp;methods&nbsp;do&nbsp;a&nbsp;single&nbsp;very&nbsp;simple&nbsp;thing.&nbsp; A&nbsp;good&nbsp;rule&nbsp;of&nbsp;thumb&nbsp;is&nbsp;that&nbsp;there&lt;br&gt;<br>
&gt;&nbsp;should&nbsp;only&nbsp;be&nbsp;one&nbsp;`TestCase.assert...`&nbsp;method&nbsp;call&nbsp;in&nbsp;each&nbsp;test&nbsp;method.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp; *&nbsp;It&nbsp;uses&nbsp;some&nbsp;`TestCase.assert...`&nbsp;methods&nbsp;which&nbsp;are&nbsp;deprecated&nbsp;or&nbsp;soon&nbsp;to&lt;br&gt;<br>
&gt;&nbsp;be&nbsp;deprecated.&nbsp; `assert_`&nbsp;is&nbsp;the&nbsp;main&nbsp;offender&nbsp;here.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp; *&nbsp;It&nbsp;doesn&#39;t&nbsp;completely&nbsp;cover&nbsp;the&nbsp;implementation&nbsp;(probably&nbsp;because&nbsp;the&lt;br&gt;<br>
&gt;&nbsp;implementation&nbsp;wasn&#39;t&nbsp;developed&nbsp;test-driven).&nbsp; You&nbsp;can&nbsp;achieve&nbsp;full&nbsp;test&lt;br&gt;<br>
&gt;&nbsp;coverage&nbsp;without&nbsp;doing&nbsp;test-driven&nbsp;development&nbsp;but&nbsp;it&nbsp;takes&nbsp;more&nbsp;discipline.&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;suggest&nbsp;doing&nbsp;a&nbsp;test-driven&nbsp;implementation&nbsp;of&nbsp;the&nbsp;SOCKSv5&nbsp;functionality&lt;br&gt;<br>
&gt;&nbsp;you&nbsp;want&nbsp;(the&nbsp;easy&nbsp;approach&nbsp;to&nbsp;this&nbsp;is&nbsp;to&nbsp;start&nbsp;writing&nbsp;tests,&nbsp;then&nbsp;copy&nbsp;the&lt;br&gt;<br>
&gt;&nbsp;*smallest*&nbsp;possible&nbsp;piece&nbsp;of&nbsp;the&nbsp;existing,&nbsp;untested&nbsp;implementation&nbsp;into&nbsp;your&lt;br&gt;<br>
&gt;&nbsp;new&nbsp;implementation&nbsp;to&nbsp;make&nbsp;those&nbsp;tests&nbsp;pass;&nbsp;repeat&nbsp;until&nbsp;you&nbsp;have&nbsp;all&nbsp;of&lt;br&gt;<br>
&gt;&nbsp;the&nbsp;desired&nbsp;functionality).&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp; *&nbsp;`StringTCPTransport`&nbsp;seems&nbsp;redundant.&nbsp; `StringTransport`&nbsp;offers&nbsp;all&nbsp;of&lt;br&gt;<br>
&gt;&nbsp;this&nbsp;functionality&nbsp;already.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp; *&nbsp;Many&nbsp;names&nbsp;used&nbsp;in&nbsp;the&nbsp;module&nbsp;don&#39;t&nbsp;follow&nbsp;the&nbsp;Twisted&nbsp;name&nbsp;convention&lt;br&gt;<br>
&gt;&nbsp;(most&nbsp;obviously,&nbsp;&quot;under_scores&quot;&nbsp;are&nbsp;used&nbsp;throughout&nbsp;rather&nbsp;than&lt;br&gt;<br>
&gt;&nbsp;&quot;camelCase&quot;).&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp; *&nbsp;Native&nbsp;strings&nbsp;are&nbsp;used&nbsp;to&nbsp;represent&nbsp;byte&nbsp;strings&nbsp;throughout.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp; *&nbsp;The&nbsp;protocol&nbsp;interface&nbsp;is&nbsp;uniformly&nbsp;misused&nbsp;(it&nbsp;should&nbsp;call&lt;br&gt;<br>
&gt;&nbsp;`makeConnection`&nbsp;not&nbsp;`connectionMade`)&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Hope&nbsp;this&nbsp;helps,&lt;br&gt;<br>
&gt;&nbsp;Jean-Paul&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&gt;&nbsp;Twisted-Python&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:Twisted-Python@twistedmatrix.com&quot;&gt;Twisted-Python@twistedmatrix.com&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Twisted-Python&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Twisted-Python@twistedmatrix.com&quot;&gt;Twisted-Python@twistedmatrix.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;--&lt;div&gt;Kevin&nbsp;Horn&lt;/div&gt;<br>
&lt;/div&gt;<br>

</tt>
