<tt>
Hi,&lt;br&gt;&lt;br&gt;As&nbsp;some&nbsp;of&nbsp;you&nbsp;may&nbsp;know&nbsp;I&nbsp;am&nbsp;working&nbsp;on&nbsp;a&nbsp;JSON-RPC&nbsp;&lt;-&gt;&nbsp;AMP&nbsp;bridge&nbsp;to&nbsp;consume&nbsp;AMP&nbsp;services&nbsp;from&nbsp;browsers.&nbsp;WIP:&nbsp;&lt;a&nbsp;href=&quot;http://lvh.github.com/amphibian/&quot;&gt;http://lvh.github.com/amphibian/&lt;/a&gt;&lt;br&gt;&lt;br&gt;I&#39;ve&nbsp;hit&nbsp;a&nbsp;failing&nbsp;integration&nbsp;test.&nbsp;I&nbsp;know&nbsp;what&nbsp;the&nbsp;issue&nbsp;is&nbsp;--&nbsp;I&nbsp;don&#39;t&nbsp;know&nbsp;how&nbsp;to&nbsp;resolve&nbsp;it.&lt;br&gt;<br>
<br>
&lt;br&gt;I&nbsp;attempted&nbsp;to&nbsp;write&nbsp;the&nbsp;proxy&nbsp;without&nbsp;any&nbsp;knowledge&nbsp;of&nbsp;the&nbsp;remote&nbsp;commands.&nbsp;It&nbsp;assumes&nbsp;that&nbsp;the&nbsp;JSON&nbsp;provided&nbsp;satisfies&nbsp;the&nbsp;remote&nbsp;signature.&nbsp;If&nbsp;it&nbsp;doesn&#39;t&nbsp;--&nbsp;that&#39;s&nbsp;okay,&nbsp;we&#39;ll&nbsp;get&nbsp;a&nbsp;failure&nbsp;back&nbsp;from&nbsp;the&nbsp;AMP&nbsp;server.&nbsp;So,&nbsp;I&nbsp;use&nbsp;callRemoteString&nbsp;and&nbsp;manually&nbsp;serialize&nbsp;by&nbsp;typechecking.&nbsp;Although&nbsp;that&nbsp;works&nbsp;for&nbsp;sending,&nbsp;the&nbsp;result&nbsp;I&nbsp;get&nbsp;back&nbsp;from&nbsp;callRemoteString&nbsp;is&nbsp;also&nbsp;in&nbsp;wire&nbsp;format.&nbsp;Because&nbsp;I&nbsp;don&#39;t&nbsp;know&nbsp;the&nbsp;signature,&nbsp;I&nbsp;have&nbsp;no&nbsp;idea&nbsp;if&nbsp;the&nbsp;sender&nbsp;meant&nbsp;4,&nbsp;&quot;4&quot;,&nbsp;u&quot;4&quot;...&lt;br&gt;<br>
<br>
&lt;br&gt;On&nbsp;IRC:&lt;br&gt;dreid&nbsp;pointed&nbsp;out&nbsp;that&nbsp;I&nbsp;really&nbsp;shouldn&#39;t&nbsp;need&nbsp;a&nbsp;language-specific&nbsp;implementation&nbsp;of&nbsp;a&nbsp;class&nbsp;for&nbsp;this&nbsp;to&nbsp;work&lt;br&gt;teratorn&nbsp;pointed&nbsp;out&nbsp;that&nbsp;there&nbsp;is&nbsp;a&nbsp;JSON&nbsp;schema&nbsp;ticket&nbsp;for&nbsp;AMP.&nbsp;Perhaps&nbsp;there&nbsp;should&nbsp;also&nbsp;be&nbsp;a&nbsp;&quot;DiscoverSchema&quot;&nbsp;command?&lt;br&nbsp;clear=&quot;all&quot;&gt;<br>
<br>
&lt;br&gt;Alternatively&nbsp;I&nbsp;could&nbsp;just&nbsp;cop&nbsp;out&nbsp;and&nbsp;require&nbsp;commands&nbsp;to&nbsp;be&nbsp;importable.&nbsp;Would&nbsp;make&nbsp;the&nbsp;code&nbsp;simpler&nbsp;but&nbsp;the&nbsp;entire&nbsp;design&nbsp;would&nbsp;become&nbsp;significantly&nbsp;more&nbsp;coupled.&lt;br&gt;&lt;br&gt;--&nbsp;&lt;br&gt;cheers&lt;div&gt;lvh&lt;/div&gt;&lt;br&gt;<br>

</tt>
