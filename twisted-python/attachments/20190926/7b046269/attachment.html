<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi,&lt;div&gt; &nbsp;What&#39;s&nbsp;a&nbsp;good&nbsp;way&nbsp;to&nbsp;use&nbsp;a&nbsp;simple&nbsp;dictionary&nbsp;as&nbsp;a&nbsp;cache&nbsp;in&nbsp;twisted&nbsp;framework? &lt;/div&gt;&lt;div&gt;Basically,&nbsp;I&nbsp;have&nbsp;this&nbsp;callback&nbsp;chain&nbsp;where&nbsp;I&nbsp;ultimately&nbsp;make&nbsp;a&nbsp;rest&nbsp;call&nbsp;(in&nbsp;non-blocking&nbsp;way&nbsp;using&nbsp;treq)&nbsp;to&nbsp;fetch&nbsp;some&nbsp;data.&nbsp;But&nbsp;before&nbsp;I&nbsp;make&nbsp;the&nbsp;call,&nbsp;I&nbsp;am&nbsp;using&nbsp;a&nbsp;dictionary&nbsp;to&nbsp;see&nbsp;if&nbsp;the&nbsp;value&nbsp;is&nbsp;available&nbsp;or&nbsp;not.&lt;/div&gt;&lt;div&gt;But,&nbsp;I&nbsp;have&nbsp;noticed&nbsp;that&nbsp;the&nbsp;event&nbsp;loop&nbsp;gets&nbsp;pretty&nbsp;busy(sometimes,&nbsp;things&nbsp;get&nbsp;stuck&nbsp;and&nbsp;twisted&nbsp;server&nbsp;stops)&nbsp;as&nbsp;soon&nbsp;as&nbsp;I&nbsp;add&nbsp;this&nbsp;logic..&nbsp;Which&nbsp;is&nbsp;pretty much&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;@defer.inlinecallbacks&lt;br&gt;&lt;/div&gt;&lt;div&gt;def&nbsp;fetch(key):&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp;if&nbsp;key&nbsp;in&nbsp;cache:&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return&nbsp;cache[key]&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp;#&nbsp;else&nbsp;call&nbsp;back&nbsp;to&nbsp;treq&nbsp;to&nbsp;fetch&nbsp;value&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; cache[key]&nbsp;=&nbsp;value&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; return&nbsp;value&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;dict&nbsp;can&nbsp;grow&nbsp;to&nbsp;around&nbsp;50k..&nbsp;What&#39;s&nbsp;a&nbsp;good&nbsp;way&nbsp;to&nbsp;solve&nbsp;this&nbsp;issue?&lt;/div&gt;&lt;/div&gt;<br>

</tt>
