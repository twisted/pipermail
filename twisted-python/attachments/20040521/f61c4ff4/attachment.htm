<tt>
&lt;DIV&gt;If&nbsp;a&nbsp;service&nbsp;starts&nbsp;successfully,&nbsp;once&nbsp;initialization&nbsp;completes&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;successfully,&nbsp;it's&nbsp;stopService&nbsp;will&nbsp;be&nbsp;called&nbsp;for&nbsp;proper&nbsp;cleanup.&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;However,&nbsp;if&nbsp;another&nbsp;service&nbsp;fails&nbsp;to&nbsp;successfully&nbsp;initialize,&nbsp;and&nbsp;it&lt;/DIV&gt;<br>
&lt;DIV&gt;is&nbsp;kind&nbsp;enough&nbsp;to&nbsp;call&nbsp;reactor.stop()&nbsp;rather&nbsp;than&nbsp;throw&nbsp;an&nbsp;exception,&lt;/DIV&gt;<br>
&lt;DIV&gt;then&nbsp;the&nbsp;first&nbsp;service&nbsp;can,&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;its&nbsp;initialization,&nbsp;call&lt;/DIV&gt;<br>
&lt;DIV&gt;reactor.addSystemEventTrigger('before','shutdown',self.failedStartup),&lt;/DIV&gt;<br>
&lt;DIV&gt;then&nbsp;failedStartup()&nbsp;will&nbsp;be&nbsp;called&nbsp;and&nbsp;there&nbsp;is&nbsp;STILL&nbsp;a&nbsp;chance&nbsp;to&lt;/DIV&gt;<br>
&lt;DIV&gt;cleanup.&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;Here's&nbsp;the&nbsp;code,&nbsp;the&nbsp;script,&nbsp;and&nbsp;the&nbsp;twistd&nbsp;output:&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;from&nbsp;twisted.application&nbsp;import&nbsp;service&lt;BR&gt;from&nbsp;twisted.internet&nbsp;import&nbsp;reactor&lt;/DIV&gt;<br>
&lt;DIV&gt;class&nbsp;SimpleService(service.Service):&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;def&nbsp;startService(self):&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;service.Service.startService(self)&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;reactor.addSystemEventTrigger('before','shutdown',self.failedStartup)&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;print&nbsp;'&amp;gt;&amp;gt;&amp;gt;start'&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;def&nbsp;stopService(self):&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;print&nbsp;'&amp;gt;&amp;gt;&amp;gt;stop'&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;service.Service.stopService(self)&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;def&nbsp;failedStartup(self):&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;print&nbsp;'Oh!!!!!!!!!!!!!!!!!!!!!'&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;BR&gt;class&nbsp;FailService(service.Service):&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;def&nbsp;startService(self):&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;reactor.stop()&lt;BR&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;from&nbsp;twisted.application&nbsp;import&nbsp;service&lt;BR&gt;from&nbsp;twisted.internet&nbsp;import&nbsp;reactor&lt;/DIV&gt;<br>
&lt;DIV&gt;import&nbsp;simpleService&lt;/DIV&gt;<br>
&lt;DIV&gt;application&nbsp;=&nbsp;service.Application('testServer')&lt;BR&gt;serviceCollection=service.IServiceCollection(application)&lt;BR&gt;ss=simpleService.SimpleService()&lt;BR&gt;ss.setServiceParent(serviceCollection)&lt;BR&gt;fs=simpleService.FailService()&lt;BR&gt;fs.setServiceParent(serviceCollection)&lt;BR&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;C:\other\Bill\compstrm\compstrm\twbsd&amp;gt;twistd&nbsp;-noy&nbsp;testService.py&lt;BR&gt;2004/05/21&nbsp;21:39&nbsp;India&nbsp;Standard&nbsp;Time&nbsp;[-]&nbsp;Log&nbsp;opened.&lt;BR&gt;2004/05/21&nbsp;21:39&nbsp;India&nbsp;Standard&nbsp;Time&nbsp;[-]&nbsp;twistd&nbsp;1.2.0&nbsp;(C:\Python23\python.exe&nbsp;2.&lt;BR&gt;3.3)&nbsp;starting&nbsp;up&lt;BR&gt;2004/05/21&nbsp;21:39&nbsp;India&nbsp;Standard&nbsp;Time&nbsp;[-]&nbsp;reactor&nbsp;class:&nbsp;twisted.internet.default&lt;BR&gt;.SelectReactor&lt;BR&gt;2004/05/21&nbsp;21:39&nbsp;India&nbsp;Standard&nbsp;Time&nbsp;[-]&nbsp;&amp;gt;&amp;gt;&amp;gt;start&lt;BR&gt;2004/05/21&nbsp;21:39&nbsp;India&nbsp;Standard&nbsp;Time&nbsp;[-]&nbsp;Oh!!!!!!!!!!!!!!!!!!!!!&lt;BR&gt;2004/05/21&nbsp;21:39&nbsp;India&nbsp;Standard&nbsp;Time&nbsp;[-]&nbsp;Main&nbsp;loop&nbsp;terminated.&lt;BR&gt;2004/05/21&nbsp;21:39&nbsp;India&nbsp;Standard&nbsp;Time&nbsp;[-]&nbsp;Server&nbsp;Shut&nbsp;Down.&lt;/DIV&gt;<br>
&lt;DIV&gt;C:\other\Bill\compstrm\compstrm\twbsd&amp;gt;&lt;/DIV&gt;&lt;BR&gt;&lt;BR&gt;Bill&nbsp;la&nbsp;Forge&lt;br&gt;http://www.geocities.com/laforge49/&lt;p&gt;&lt;font&nbsp;face=arial&nbsp;size=-1&gt;<br>
&lt;a&nbsp;href=&quot;http://in.rd.yahoo.com/specials/mailtg/*http://yahoo.shaadi.com/india-matrimony/&quot;&nbsp;target=&quot;_blank&quot;&gt;<br>
&lt;b&gt;Yahoo!&nbsp;India&nbsp;Matrimony&lt;/a&gt;:&lt;/b&gt;&nbsp;Find&nbsp;your&nbsp;partner&nbsp;<br>
&lt;a&nbsp;href=&quot;http://in.rd.yahoo.com/specials/mailtg2/*http://yahoo.shaadi.com/india-matrimony/community.php&quot;&nbsp;target=&quot;_blank&quot;&gt;online&lt;/a&gt;.&lt;/font&gt;
</tt>
