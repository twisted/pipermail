<tt>
&lt;!DOCTYPE&nbsp;html&gt;<br>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;title&gt;&lt;/title&gt;<br>
&lt;/head&gt;<br>
&lt;body&gt;&lt;div&gt;I'm&nbsp;making&nbsp;a&nbsp;manhole&nbsp;service&nbsp;in&nbsp;the&nbsp;usual&nbsp;way:&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;&nbsp;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;verdana,&nbsp;sans-serif,&nbsp;sans-serif;&quot;&nbsp;class=&quot;font&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;class&nbsp;PF(ServerProtocol):&lt;br&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;verdana,&nbsp;sans-serif,&nbsp;sans-serif;&quot;&nbsp;class=&quot;font&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;protocolFactory(*a,&nbsp;**kw):&lt;br&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;verdana,&nbsp;sans-serif,&nbsp;sans-serif;&quot;&nbsp;class=&quot;font&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;manhole.Manhole(namespace)&lt;br&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&nbsp;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;verdana,&nbsp;sans-serif,&nbsp;sans-serif;&quot;&nbsp;class=&quot;font&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;realm&nbsp;=&nbsp;manhole_ssh.TerminalRealm()&lt;br&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;verdana,&nbsp;sans-serif,&nbsp;sans-serif;&quot;&nbsp;class=&quot;font&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;realm.chainedProtocolFactory&nbsp;=&nbsp;PF&lt;br&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;verdana,&nbsp;sans-serif,&nbsp;sans-serif;&quot;&nbsp;class=&quot;font&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;mh_portal&nbsp;=&nbsp;portal.Portal(realm)&lt;br&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;verdana,&nbsp;sans-serif,&nbsp;sans-serif;&quot;&nbsp;class=&quot;font&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;mh_portal.registerChecker(checker)&lt;br&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&nbsp;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;verdana,&nbsp;sans-serif,&nbsp;sans-serif;&quot;&nbsp;class=&quot;font&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;manhole_service&nbsp;=&nbsp;TCPServer(0,&nbsp;manhole_ssh.ConchFactory(mh_portal))&lt;br&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;verdana,&nbsp;sans-serif,&nbsp;sans-serif;&quot;&nbsp;class=&quot;font&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;manhole_service.startService()&lt;br&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&nbsp;&lt;/div&gt;<br>
&lt;div&gt;and&nbsp;I'd&nbsp;like&nbsp;to&nbsp;print&nbsp;a&nbsp;message&nbsp;when&nbsp;the&nbsp;terminal&nbsp;is&nbsp;opened.&nbsp;This&nbsp;change&nbsp;does&nbsp;it:&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;&nbsp;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;&quot;Trebuchet&nbsp;MS&quot;,&nbsp;sans-serif,&nbsp;sans-serif;&quot;&nbsp;class=&quot;font&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;class&nbsp;PF(ServerProtocol):&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;&quot;Trebuchet&nbsp;MS&quot;,&nbsp;sans-serif,&nbsp;sans-serif;&quot;&nbsp;class=&quot;font&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;&quot;Trebuchet&nbsp;MS&quot;,&nbsp;sans-serif,&nbsp;sans-serif;&quot;&nbsp;class=&quot;font&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;protocolFactory(*a,&nbsp;**kw):&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;&quot;Trebuchet&nbsp;MS&quot;,&nbsp;sans-serif,&nbsp;sans-serif;&quot;&nbsp;class=&quot;font&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;&quot;Trebuchet&nbsp;MS&quot;,&nbsp;sans-serif,&nbsp;sans-serif;&quot;&nbsp;class=&quot;font&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class&nbsp;Manhole(manhole.Manhole):&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;&quot;Trebuchet&nbsp;MS&quot;,&nbsp;sans-serif,&nbsp;sans-serif;&quot;&nbsp;class=&quot;font&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;&quot;Trebuchet&nbsp;MS&quot;,&nbsp;sans-serif,&nbsp;sans-serif;&quot;&nbsp;class=&quot;font&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;connectionMade(self):&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;&quot;Trebuchet&nbsp;MS&quot;,&nbsp;sans-serif,&nbsp;sans-serif;&quot;&nbsp;class=&quot;font&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;&quot;Trebuchet&nbsp;MS&quot;,&nbsp;sans-serif,&nbsp;sans-serif;&quot;&nbsp;class=&quot;font&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super(Manhole,&nbsp;self).connectionMade()&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;&quot;Trebuchet&nbsp;MS&quot;,&nbsp;sans-serif,&nbsp;sans-serif;&quot;&nbsp;class=&quot;font&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;&quot;Trebuchet&nbsp;MS&quot;,&nbsp;sans-serif,&nbsp;sans-serif;&quot;&nbsp;class=&quot;font&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.terminal.write('Hello')&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;&quot;Trebuchet&nbsp;MS&quot;,&nbsp;sans-serif,&nbsp;sans-serif;&quot;&nbsp;class=&quot;font&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;&quot;Trebuchet&nbsp;MS&quot;,&nbsp;sans-serif,&nbsp;sans-serif;&quot;&nbsp;class=&quot;font&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;manhole.Manhole(namespace)&lt;/span&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;&nbsp;&lt;/div&gt;<br>
&lt;div&gt;and&nbsp;so&nbsp;does&nbsp;this&nbsp;version,&nbsp;which&nbsp;is&nbsp;better&nbsp;because&nbsp;t.c.i.i.ServerProtocol.connectionMade&nbsp;says&nbsp;it&nbsp;is&nbsp;the&nbsp;place&nbsp;to&nbsp;write&nbsp;messages:&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;&quot;Trebuchet&nbsp;MS&quot;,&nbsp;sans-serif,&nbsp;sans-serif;&quot;&nbsp;class=&quot;font&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;&quot;Trebuchet&nbsp;MS&quot;,&nbsp;sans-serif,&nbsp;sans-serif;&quot;&nbsp;class=&quot;font&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;class&nbsp;PF(ServerProtocol):&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;&quot;Trebuchet&nbsp;MS&quot;,&nbsp;sans-serif,&nbsp;sans-serif;&quot;&nbsp;class=&quot;font&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;&quot;Trebuchet&nbsp;MS&quot;,&nbsp;sans-serif,&nbsp;sans-serif;&quot;&nbsp;class=&quot;font&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;protocolFactory(*a,&nbsp;**kw):&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;&quot;Trebuchet&nbsp;MS&quot;,&nbsp;sans-serif,&nbsp;sans-serif;&quot;&nbsp;class=&quot;font&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;&quot;Trebuchet&nbsp;MS&quot;,&nbsp;sans-serif,&nbsp;sans-serif;&quot;&nbsp;class=&quot;font&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;manhole.Manhole(namespace)&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;&quot;Trebuchet&nbsp;MS&quot;,&nbsp;sans-serif,&nbsp;sans-serif;&quot;&nbsp;class=&quot;font&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;&quot;Trebuchet&nbsp;MS&quot;,&nbsp;sans-serif,&nbsp;sans-serif;&quot;&nbsp;class=&quot;font&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;&quot;Trebuchet&nbsp;MS&quot;,&nbsp;sans-serif,&nbsp;sans-serif;&quot;&nbsp;class=&quot;font&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;connectionMade(self):&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;&quot;Trebuchet&nbsp;MS&quot;,&nbsp;sans-serif,&nbsp;sans-serif;&quot;&nbsp;class=&quot;font&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;&quot;Trebuchet&nbsp;MS&quot;,&nbsp;sans-serif,&nbsp;sans-serif;&quot;&nbsp;class=&quot;font&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ServerProtocol.connectionMade(self)&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;&quot;Trebuchet&nbsp;MS&quot;,&nbsp;sans-serif,&nbsp;sans-serif;&quot;&nbsp;class=&quot;font&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;&quot;Trebuchet&nbsp;MS&quot;,&nbsp;sans-serif,&nbsp;sans-serif;&quot;&nbsp;class=&quot;font&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.write('Hello')&lt;/span&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;&nbsp;&lt;/div&gt;<br>
&lt;div&gt;But&nbsp;in&nbsp;both&nbsp;cases,&nbsp;after&nbsp;the&nbsp;message&nbsp;the&nbsp;screen&nbsp;is&nbsp;cleared&nbsp;by&nbsp;what&nbsp;looks&nbsp;like&nbsp;a&nbsp;form&nbsp;feed,&nbsp;and&nbsp;another&nbsp;prompt&nbsp;is&nbsp;printed.&nbsp;So&nbsp;far&nbsp;I&nbsp;can't&nbsp;find&nbsp;where&nbsp;in&nbsp;the&nbsp;code&nbsp;this&nbsp;happens.&nbsp;Is&nbsp;there&nbsp;a&nbsp;way&nbsp;to&nbsp;print&nbsp;a&nbsp;message&nbsp;and&nbsp;not&nbsp;have&nbsp;it&nbsp;scrolled&nbsp;off&nbsp;the&nbsp;screen?&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;&nbsp;&lt;/div&gt;<br>
&lt;div&gt;Thanks,&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;&nbsp;&lt;/div&gt;<br>
&lt;div&gt;Peter.&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;&nbsp;&lt;/div&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
