<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Hi&nbsp;Stefano,&lt;br&gt;&lt;br&gt;&lt;br&gt;It&#39;s&nbsp;probably&nbsp;a&nbsp;good&nbsp;idea&nbsp;to&nbsp;avoid&nbsp;thinking&nbsp;in&nbsp;threads&nbsp;until&nbsp;they&nbsp;come&nbsp;up&nbsp;as&nbsp;a&nbsp;potential&nbsp;solution.&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Some&nbsp;questions:&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;1)&nbsp;What&nbsp;are&nbsp;the&nbsp;latency&nbsp;requirements?&nbsp;Is&nbsp;it&nbsp;okay&nbsp;for&nbsp;everything&nbsp;else&nbsp;to&nbsp;halt&nbsp;while&nbsp;you&nbsp;do&nbsp;that&nbsp;computation?&nbsp;What&nbsp;are&nbsp;the&nbsp;latency&nbsp;requirements&nbsp;for&nbsp;the&nbsp;computation?&nbsp;Is&nbsp;the&nbsp;data&nbsp;useless&nbsp;if&nbsp;you&nbsp;don&#39;t&nbsp;get&nbsp;it&nbsp;in&nbsp;the&nbsp;next&nbsp;n&nbsp;seconds?&lt;br&gt;<br>
<br>
&lt;/div&gt;&lt;div&gt;2)&nbsp;What&nbsp;kind&nbsp;of&nbsp;machine&nbsp;is&nbsp;it&nbsp;running&nbsp;on?&nbsp;Are&nbsp;multiple&nbsp;cores&nbsp;available,&nbsp;and&nbsp;would&nbsp;it&nbsp;make&nbsp;sense&nbsp;to&nbsp;use&nbsp;them?&lt;br&gt;&lt;/div&gt;&lt;div&gt;3)&nbsp;Do&nbsp;you&nbsp;require&nbsp;a&nbsp;lot&nbsp;of&nbsp;shared&nbsp;state&nbsp;with&nbsp;the&nbsp;process&nbsp;talking&nbsp;to&nbsp;the&nbsp;modem&nbsp;in&nbsp;order&nbsp;to&nbsp;make&nbsp;the&nbsp;long&nbsp;computation?&lt;br&gt;<br>
<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;easiest&nbsp;thing&nbsp;to&nbsp;do&nbsp;is&nbsp;probably&nbsp;deferToThread,&nbsp;but&nbsp;you&nbsp;have&nbsp;to&nbsp;be&nbsp;careful&nbsp;not&nbsp;to&nbsp;touch&nbsp;any&nbsp;state&nbsp;you&#39;re&nbsp;not&nbsp;supposed&nbsp;to&nbsp;touch.&nbsp;The&nbsp;second&nbsp;easiest&nbsp;thing&nbsp;is&nbsp;probably&nbsp;Ampoule,&nbsp;a&nbsp;process&nbsp;pool,&nbsp;or&nbsp;maybe&nbsp;just&nbsp;regular&nbsp;AMP,&nbsp;if&nbsp;you&nbsp;only&nbsp;want&nbsp;a&nbsp;regular&nbsp;process.&nbsp;Those&nbsp;would&nbsp;have&nbsp;the&nbsp;benefit&nbsp;that&nbsp;the&nbsp;reading&nbsp;process&nbsp;is&nbsp;never&nbsp;doing&nbsp;anything&nbsp;hard,&nbsp;so&nbsp;latency&nbsp;should&nbsp;stay&nbsp;predictable.&lt;br&gt;<br>
<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;hth&lt;br&gt;lvh&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
