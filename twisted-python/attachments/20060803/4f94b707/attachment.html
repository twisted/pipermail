<tt>
Hi&nbsp;all,&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I'm&nbsp;learning&nbsp;Twisted&nbsp;by&nbsp;reading&nbsp;Abe&nbsp;Fettig's&nbsp;&quot;Twisted&nbsp;Networking&nbsp;Programming&nbsp;Essentials&quot;.&nbsp;I&nbsp;tried&nbsp;the&nbsp;example&nbsp;2-6&nbsp;(dataforward.py)&nbsp;but&nbsp;the&nbsp;program&nbsp;hung&nbsp;after&nbsp;printing&nbsp;'Connected&nbsp;to&nbsp;...'.&nbsp;I&nbsp;don't&nbsp;know&nbsp;&nbsp;Twisted&nbsp;enough&nbsp;to&nbsp;figure&nbsp;out&nbsp;where&nbsp;the&nbsp;problem&nbsp;is.&nbsp;Will&nbsp;anybody&nbsp;tell&nbsp;me&nbsp;why?&nbsp;I&nbsp;paste&nbsp;the&nbsp;code&nbsp;here:<br>
&lt;br&gt;&lt;br&gt;--------------------------------------------------------------&lt;br&gt;from&nbsp;twisted.internet&nbsp;import&nbsp;stdio,&nbsp;reactor,&nbsp;protocol&lt;br&gt;from&nbsp;twisted.protocols&nbsp;import&nbsp;basic&lt;br&gt;import&nbsp;re&lt;br&gt;&lt;br&gt;class&nbsp;DataForwardingProtocol(protocol.Protocol<br>
):&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self):&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.output&nbsp;=&nbsp;None&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.normalizeNewlines&nbsp;=&nbsp;False&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;dataReceived(self,&nbsp;data):&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.normalizeNewlines:&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data&nbsp;=&nbsp;re.sub(r&quot;(\r\n|\n)&quot;,&nbsp;&quot;\r\n&quot;,&nbsp;data)<br>
&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.output:&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.output.write(data)&lt;br&gt;&lt;br&gt;class&nbsp;StdioProxyProtocol(DataForwardingProtocol):&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;connectionMade(self):&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputForwarder&nbsp;=&nbsp;DataForwardingProtocol()&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
inputForwarder.output&nbsp;=&nbsp;self.transport&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputForwarder.normalizeNewlines&nbsp;=&nbsp;True&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stdioWrapper&nbsp;=&nbsp;stdio.StandardIO(inputForwarder)&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.output&nbsp;=&nbsp;stdioWrapper&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Connected&nbsp;to&nbsp;server.&nbsp;&nbsp;Press&nbsp;ctrl-C&nbsp;to&nbsp;close&nbsp;connection.&quot;<br>
&lt;br&gt;&lt;br&gt;class&nbsp;StdioProxyFactory(protocol.ClientFactory):&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;protocol&nbsp;=&nbsp;StdioProxyProtocol&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;clientConnectionLost(self,&nbsp;transport,&nbsp;reason):&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reactor.stop()&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;clientConnectionFailed(self,&nbsp;transport,&nbsp;reason):<br>
&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;reason.getErrorMessage()&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reactor.stop()&lt;br&gt;&lt;br&gt;if&nbsp;__name__&nbsp;==&nbsp;'__main__':&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;import&nbsp;sys&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;len(sys.argv)&nbsp;==&nbsp;3:&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Usage:&nbsp;%s&nbsp;host&nbsp;port&quot;&nbsp;%&nbsp;__file__&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
sys.exit(1)&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;reactor.connectTCP(sys.argv[1],&nbsp;int(sys.argv[2]),&nbsp;StdioProxyFactory())&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;reactor.run()&lt;br&gt;-----------------------------------------------------------------------&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;Thanks&nbsp;in&nbsp;advance.<br>
&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;Mike&lt;br&gt;Aug.&nbsp;3,&nbsp;2006&lt;br&gt;&lt;br&gt;&lt;br&gt;<br>

</tt>
