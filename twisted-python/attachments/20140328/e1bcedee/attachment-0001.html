<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;How&nbsp;can&nbsp;I&nbsp;get&nbsp;something&nbsp;similar&nbsp;into&nbsp;a&nbsp;smtp&nbsp;client&nbsp;12?&nbsp;multipart&nbsp;message&lt;br&gt;&lt;div&gt;&lt;br&gt;   &nbsp;fn&nbsp;=&nbsp;&quot;example.mp3&quot;&lt;br&gt;   &nbsp;multipart&nbsp;=&nbsp;MIMEMultipart(&#39;alternative&#39;)&lt;br&gt;   &nbsp;multipart[&#39;Subject&#39;]&nbsp;=&nbsp;&#39;Tutorate!&#39;&lt;br&gt;<br>
<br>
   &nbsp;multipart[&#39;To&#39;]&nbsp;=&nbsp;&#39;Selfie&#39;&lt;br&gt;   &nbsp;multipart[&#39;From&#39;]&nbsp;=&nbsp;&#39;Selfie&#39;&lt;br&gt;   &nbsp;&lt;br&gt;   &nbsp;text&nbsp;=&nbsp;&quot;Hello,&nbsp;how&nbsp;are&nbsp;you,&nbsp;goodbye.&quot;&lt;br&gt;   &nbsp;textpart&nbsp;=&nbsp;MIMEText(text)&lt;br&gt;   &nbsp;multipart.attach(textpart)&lt;br&gt;<br>
<br>
   &nbsp;htmlpart&nbsp;=&nbsp;MIMEText(&quot;&lt;html&gt;&quot;&nbsp;+&nbsp;text&nbsp;+&nbsp;&quot;&lt;/html&gt;&quot;,&nbsp;&#39;html&#39;)&lt;br&gt;   &nbsp;multipart.attach(htmlpart)&lt;br&gt;   &nbsp;&lt;br&gt;   &nbsp;part&nbsp;=&nbsp;MIMEBase(&#39;audio&#39;,&nbsp;&quot;mp3&quot;)&lt;br&gt;   &nbsp;part.set_payload(&nbsp;open(fn,&quot;rb&quot;).read()&nbsp;)&lt;br&gt;<br>
<br>
   &nbsp;Encoders.encode_base64(part)&lt;br&gt;   &nbsp;part.add_header(&#39;Content-Disposition&#39;,&nbsp;&#39;attachment;&nbsp;filename=&quot;%s&quot;&#39;&nbsp;%&nbsp;os.path.basename(fn))&lt;br&gt;   &nbsp;multipart.attach(part)&lt;br&gt;   &nbsp;&lt;br&gt;   &nbsp;io&nbsp;=&nbsp;StringIO.StringIO()&lt;br&gt;<br>
<br>
   &nbsp;g&nbsp;=&nbsp;Generator(io,&nbsp;False)&lt;br&gt;   &nbsp;g.flatten(multipart)&lt;br&gt;   &nbsp;v&nbsp;=&nbsp;io.getvalue()&lt;br&gt;   &nbsp;&lt;br&gt;   &nbsp;class&nbsp;SMTPTutorialClient(smtp.ESMTPClient):&lt;br&gt;   &nbsp;   &nbsp;mailFrom&nbsp;=&nbsp;&quot;&lt;a&nbsp;href=&quot;mailto:mg_selfie@scewpt.com&quot;&nbsp;target=&quot;_blank&quot;&gt;mg_selfie@&lt;/a&gt;&quot;&lt;br&gt;<br>
<br>
   &nbsp;   &nbsp;mailTo&nbsp;=&nbsp;&quot;&lt;a&nbsp;href=&quot;mailto:mg@scewpt.com&quot;&nbsp;target=&quot;_blank&quot;&gt;mg@&lt;/a&gt;&quot;&lt;br&gt;   &nbsp;   &nbsp;def&nbsp;getMailFrom(self):&lt;br&gt;   &nbsp;       &nbsp;result&nbsp;=&nbsp;self.mailFrom&lt;br&gt;   &nbsp;       &nbsp;self.mailFrom&nbsp;=&nbsp;None&lt;br&gt;   &nbsp;       &nbsp;return&nbsp;result&lt;br&gt;<br>
   &nbsp;&lt;br&gt;<br>
   &nbsp;   &nbsp;def&nbsp;getMailTo(self):&lt;br&gt;   &nbsp;       &nbsp;return&nbsp;[self.mailTo]&lt;br&gt;   &nbsp;&lt;br&gt;   &nbsp;   &nbsp;def&nbsp;getMailData(self):&lt;br&gt;   &nbsp;       &nbsp;print&nbsp;v&lt;br&gt;   &nbsp;       &nbsp;return&nbsp;StringIO.StringIO(v)&lt;br&gt;   &nbsp;&lt;br&gt;   &nbsp;   &nbsp;def&nbsp;sentMail(self,&nbsp;code,&nbsp;resp,&nbsp;numOk,&nbsp;addresses,&nbsp;log):&lt;br&gt;<br>
<br>
   &nbsp;       &nbsp;print&nbsp;&#39;Sent&#39;,&nbsp;numOk,&nbsp;&#39;messages&#39;&lt;br&gt;   &nbsp;&lt;br&gt;   &nbsp;       &nbsp;from&nbsp;twisted.internet&nbsp;import&nbsp;reactor&lt;br&gt;   &nbsp;       &nbsp;reactor.stop()&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
