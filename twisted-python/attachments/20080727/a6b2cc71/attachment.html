<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hello,&lt;br&gt;&lt;br&gt;I&#39;m&nbsp;hoping&nbsp;to&nbsp;use&nbsp;existing&nbsp;protocol&nbsp;implementations&nbsp;in&nbsp;twisted,&nbsp;but&nbsp;over&nbsp;a&nbsp;custom&nbsp;tunneling&nbsp;protocol&nbsp;that&nbsp;I&#39;ll&nbsp;call&nbsp;CTP&nbsp;for&nbsp;the&nbsp;remainder&nbsp;of&nbsp;this&nbsp;thread.&nbsp;CTP&nbsp;is&nbsp;basically&nbsp;TCP&nbsp;with&nbsp;a&nbsp;couple&nbsp;of&nbsp;strange&nbsp;characteristics.&nbsp;Besides&nbsp;a&nbsp;custom&nbsp;handshake,&nbsp;two&nbsp;actual&nbsp;tcp&nbsp;connections&nbsp;are&nbsp;used&nbsp;for&nbsp;the&nbsp;data&nbsp;transport,&nbsp;each&nbsp;of&nbsp;which&nbsp;is&nbsp;considered&nbsp;uni-directional;&nbsp;one&nbsp;connection&nbsp;is&nbsp;used&nbsp;for&nbsp;&quot;upstream&quot;&nbsp;and&nbsp;one&nbsp;for&nbsp;&quot;downstream&quot;.&nbsp;&lt;br&gt;<br>
&lt;br&gt;I&nbsp;know&nbsp;how&nbsp;to&nbsp;create&nbsp;a&nbsp;twisted&nbsp;factory&nbsp;/&nbsp;protocol&nbsp;implementation&nbsp;for&nbsp;CTP&nbsp;such&nbsp;that&nbsp;you&nbsp;could&nbsp;write&nbsp;a&nbsp;CTP&nbsp;based&nbsp;protocol&nbsp;by&nbsp;inheriting&nbsp;from&nbsp;CTPProtocol&nbsp;and&nbsp;overriding&nbsp;the&nbsp;&quot;dataRead&quot;&nbsp;function.&nbsp;But&nbsp;this&nbsp;means&nbsp;I&nbsp;have&nbsp;to&nbsp;do&nbsp;more&nbsp;work&nbsp;to&nbsp;get&nbsp;each&nbsp;existing&nbsp;twisted&nbsp;protocol&nbsp;working&nbsp;with&nbsp;my&nbsp;CTP&nbsp;implementation.&lt;br&gt;<br>
&lt;br&gt;So&nbsp;my&nbsp;question&nbsp;is,&nbsp;what&nbsp;is&nbsp;the&nbsp;best&nbsp;way&nbsp;to&nbsp;take&nbsp;an&nbsp;implementation&nbsp;of&nbsp;this&nbsp;protocol&nbsp;and&nbsp;integrate&nbsp;it&nbsp;tightly&nbsp;with&nbsp;twisted&#39;s&nbsp;internals?&nbsp;It&nbsp;seems&nbsp;like&nbsp;I&nbsp;would&nbsp;need&nbsp;a&nbsp;new&nbsp;reactor&nbsp;implementation&nbsp;with&nbsp;a&nbsp;listenCTP&nbsp;function,&nbsp;for&nbsp;one.&nbsp;Of&nbsp;course,&nbsp;I&nbsp;wouldn&#39;t&nbsp;want&nbsp;to&nbsp;just&nbsp;inherit&nbsp;from&nbsp;the&nbsp;SelectReactor,&nbsp;because&nbsp;I&nbsp;want&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;use&nbsp;Epoll&nbsp;(or&nbsp;others)&nbsp;as&nbsp;well.&nbsp;&lt;br&gt;<br>
&lt;br&gt;Please&nbsp;excuse&nbsp;my&nbsp;ignorance&nbsp;of&nbsp;twisted&#39;s&nbsp;architecture.&nbsp;I&nbsp;already&nbsp;have&nbsp;a&nbsp;prototype&nbsp;of&nbsp;this&nbsp;(see&nbsp;orbited&nbsp;0.5.x)&nbsp;but&nbsp;I&nbsp;want&nbsp;my&nbsp;next&nbsp;release&nbsp;to&nbsp;integrate&nbsp;tightly&nbsp;with&nbsp;twisted&#39;s&nbsp;infrastructure&nbsp;instead&nbsp;of&nbsp;re-inventing&nbsp;an&nbsp;API&nbsp;on&nbsp;top.&nbsp;&lt;br&gt;<br>
&lt;br&gt;-Michael&nbsp;Carter&lt;br&gt;&lt;/div&gt;<br>

</tt>
