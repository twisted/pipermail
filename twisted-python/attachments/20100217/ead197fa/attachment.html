<tt>
&lt;meta&nbsp;charset=&quot;utf-8&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-family:&nbsp;Times;&nbsp;font-size:&nbsp;medium;&nbsp;&quot;&gt;&lt;pre&gt;Really&nbsp;I&nbsp;need&nbsp;a&nbsp;large&nbsp;amount&nbsp;of&nbsp;data&nbsp;to&nbsp;be&nbsp;available&nbsp;before&nbsp;I&nbsp;can&nbsp;begin&nbsp;calculations, Json-PRC&nbsp;vs.&nbsp;PB&nbsp;provide&nbsp;a&nbsp;10+&nbsp;times&nbsp;smaller&nbsp;response&nbsp;time&nbsp;for&nbsp;same&nbsp;returning&nbsp;data&lt;/pre&gt;<br>
&lt;/span&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;Feb&nbsp;16,&nbsp;2010&nbsp;at&nbsp;10:08&nbsp;PM,&nbsp;Phil&nbsp;Christensen&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:phil@bubblehouse.org&quot;&gt;phil@bubblehouse.org&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;On&nbsp;Feb&nbsp;16,&nbsp;2010,&nbsp;at&nbsp;2:46&nbsp;PM,&nbsp;Vlad&nbsp;Shevchenko&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;have&nbsp;developed&nbsp;two&nbsp;kind&nbsp;of&nbsp;servers:&lt;br&gt;<br>
&gt;&nbsp; &nbsp; api&nbsp;-&nbsp;http&nbsp;server&lt;br&gt;<br>
&gt;&nbsp; &nbsp; memory_db&nbsp;-&nbsp;dict-based&nbsp;server&nbsp;with&nbsp;some&nbsp;logic&nbsp;of&nbsp;putting&nbsp;data&nbsp;to&nbsp;dict&nbsp;and&nbsp;getting&nbsp;it&nbsp;back.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Api&nbsp;communicate&nbsp;with&nbsp;memory_db&nbsp;via&nbsp;txJSON-RPC&nbsp;but&nbsp;response&nbsp;time&nbsp;is&nbsp;huge&nbsp;under&nbsp;high&nbsp;load.&nbsp;I&nbsp;also&nbsp;try&nbsp;implementation&nbsp;with&nbsp;replacement&nbsp;txJSON-RPC&nbsp;-&gt;&nbsp;Perspective&nbsp;Broker&nbsp;with&nbsp;no&nbsp;success.&nbsp;PB&nbsp;implementation&nbsp;has&nbsp;10+&nbsp;times&nbsp;faster&nbsp;responses&nbsp;when&nbsp;returning&nbsp;data&nbsp;is&nbsp;small&nbsp;(dict&nbsp;with&nbsp;few&nbsp;keys&nbsp;and&nbsp;values&nbsp;like&nbsp;list&nbsp;of&nbsp;1-5&nbsp;strings).&nbsp;However,&nbsp;PM&nbsp;much&nbsp;depends&nbsp;on&nbsp;size&nbsp;of&nbsp;returning&nbsp;value.&nbsp;When&nbsp;I&nbsp;return&nbsp;a&nbsp;list&nbsp;of&nbsp;600&nbsp;items&nbsp;(each&nbsp;is&nbsp;string&nbsp;with&nbsp;length&nbsp;20)&nbsp;response&nbsp;time&nbsp;incredibly&nbsp;growing&nbsp;up.&nbsp;Unlike&nbsp;PB,&nbsp;json-rpc&nbsp;implementation&nbsp;keeps&nbsp;it&nbsp;response-time&nbsp;near&nbsp;the&nbsp;same&nbsp;lever&nbsp;as&nbsp;with&nbsp;small&nbsp;return&nbsp;data.&lt;br&gt;<br>
<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Can&nbsp;you&nbsp;suggest&nbsp;some&nbsp;protocol&nbsp;with&nbsp;a&nbsp;small&nbsp;response?&nbsp;Or&nbsp;should&nbsp;I&nbsp;look&nbsp;into&nbsp;development&nbsp;of&nbsp;my&nbsp;own?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;It&nbsp;definitely&nbsp;depends&nbsp;on&nbsp;your&nbsp;use&nbsp;case...&lt;br&gt;<br>
&lt;br&gt;<br>
PB&nbsp;can&nbsp;still&nbsp;be&nbsp;a&nbsp;good&nbsp;solution&nbsp;for&nbsp;you&nbsp;if&nbsp;you&nbsp;change&nbsp;your&nbsp;architecture&nbsp;a&nbsp;little&nbsp;bit.&nbsp;Instead&nbsp;of&nbsp;returning&nbsp;a&nbsp;600-item&nbsp;list,&nbsp;you&nbsp;could&nbsp;return&nbsp;a&nbsp;pb.Referencable&nbsp;object&nbsp;that&nbsp;can&nbsp;iteratively&nbsp;return&nbsp;each&nbsp;row&nbsp;at&nbsp;a&nbsp;time.&lt;br&gt;<br>
&lt;br&gt;<br>
You&nbsp;may&nbsp;also&nbsp;want&nbsp;to&nbsp;look&nbsp;into&nbsp;using&nbsp;Copyable&nbsp;or&nbsp;Cacheable&nbsp;PB&nbsp;objects.&nbsp;More&nbsp;on&nbsp;that&nbsp;here:&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &lt;a&nbsp;href=&quot;http://twistedmatrix.com/documents/current/core/howto/pb-copyable.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twistedmatrix.com/documents/current/core/howto/pb-copyable.html&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
Of&nbsp;course,&nbsp;if&nbsp;you&nbsp;need&nbsp;a&nbsp;large&nbsp;amount&nbsp;of&nbsp;data&nbsp;to&nbsp;be&nbsp;available&nbsp;before&nbsp;you&nbsp;can&nbsp;begin&nbsp;calculations&nbsp;or&nbsp;whatnot,&nbsp;you&#39;re&nbsp;going&nbsp;to&nbsp;have&nbsp;to&nbsp;wait&nbsp;for&nbsp;it&nbsp;to&nbsp;be&nbsp;sent&nbsp;no&nbsp;matter&nbsp;what&nbsp;protocol&nbsp;you&nbsp;use.&lt;br&gt;<br>
&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
-phil&lt;br&gt;<br>
&lt;/font&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Twisted-Python&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Twisted-Python@twistedmatrix.com&quot;&gt;Twisted-Python@twistedmatrix.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;br&gt;--&nbsp;&lt;br&gt;WBR,&nbsp;Vlad&nbsp;Shevchenko&lt;br&gt;&lt;br&gt;<br>

</tt>
