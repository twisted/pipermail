<tt>
Of&nbsp;course&nbsp;it&nbsp;depends&nbsp;on&nbsp;you&nbsp;definition&nbsp;of&nbsp;&amp;quot;safe&amp;quot;&nbsp;and&nbsp;&amp;quot;secure&amp;quot;,&nbsp;but&nbsp;there&amp;#39;s&nbsp;a&nbsp;few&nbsp;examples&nbsp;around&nbsp;the&nbsp;net. &nbsp;Here&amp;#39;s&nbsp;a&nbsp;few:&lt;br&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://wiki.python.org/moin/Twisted-Examples&quot;&gt;http://wiki.python.org/moin/Twisted-Examples&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://www.linuxjournal.com/article/7871&quot;&gt;http://www.linuxjournal.com/article/7871&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://proxies.xhaus.com/&quot;&gt;http://proxies.xhaus.com/&lt;/a&gt;&lt;br&gt;&lt;br&gt;If&nbsp;you&nbsp;want&nbsp;to&nbsp;add&nbsp;proxy&nbsp;authentication,&nbsp;it&nbsp;shouldn&amp;#39;t&nbsp;be&nbsp;too&nbsp;difficult...check&nbsp;out&nbsp;RFC&nbsp;2068.&lt;br&gt;<br>
&lt;br&gt;&lt;a&nbsp;href=&quot;http://www.ietf.org/rfc/rfc2068.txt&quot;&gt;http://www.ietf.org/rfc/rfc2068.txt&lt;/a&gt;&nbsp;(esp&nbsp;sections&nbsp;10.4.8,&nbsp;11,&nbsp;and&nbsp;14.33-34)&lt;br&gt;&lt;br&gt;It&nbsp;should&nbsp;be&nbsp;similar&nbsp;to&nbsp;implementing&nbsp;basic&nbsp;HTTP&nbsp;auth,&nbsp;except&nbsp;you&nbsp;want&nbsp;to&nbsp;use&nbsp;the&nbsp;&lt;br&gt;<br>
Proxy-Authenticate&nbsp;and&nbsp;Proxy-Authorization&nbsp;headers&nbsp;instead&nbsp;of&nbsp;the&nbsp;regular&nbsp;ones.&lt;br&gt;&lt;br&gt;I&amp;#39;m&nbsp;guessing&nbsp;the&nbsp;flow&nbsp;would&nbsp;go&nbsp;something&nbsp;like:&lt;br&gt;-&nbsp;client&nbsp;requests&nbsp;a&nbsp;proxied&nbsp;resource&nbsp;(&nbsp;without&nbsp;a&nbsp;Proxy-Authorization&nbsp;header&nbsp;)&lt;br&gt;<br>
-&nbsp;server&nbsp;sends&nbsp;back&nbsp;a&nbsp;407&nbsp;with&nbsp;a&nbsp;Proxy-Authenticate&nbsp;header&lt;br&gt;-&nbsp;client&nbsp;prompts&nbsp;user&nbsp;for&nbsp;credentials&lt;br&gt;-&nbsp;client&nbsp;provides&nbsp;request&nbsp;again&nbsp;with&nbsp;Proxy-Authorization&nbsp;header&lt;br&gt;-&nbsp;server&nbsp;proxies&nbsp;the&nbsp;resource&lt;br&gt;&lt;br&gt;of&nbsp;course&nbsp;I&amp;#39;m&nbsp;no&nbsp;expert&nbsp;on&nbsp;web&nbsp;proxies&nbsp;so&nbsp;don&amp;#39;t&nbsp;take&nbsp;my&nbsp;word&nbsp;for&nbsp;it...&lt;br&gt;<br>
&lt;br&gt;I&nbsp;think&nbsp;you&nbsp;should&nbsp;be&nbsp;able&nbsp;to&nbsp;do&nbsp;the&nbsp;above&nbsp;by&nbsp;overriding&nbsp;some&nbsp;of&nbsp;the&nbsp;proxy&nbsp;classes&nbsp;in&nbsp;twisted.web.proxy&lt;br&gt;&lt;br&gt;Good&nbsp;Luck!&lt;br&gt;&lt;br&gt;Kevin&nbsp;Horn&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;Jun&nbsp;18,&nbsp;2009&nbsp;at&nbsp;2:44&nbsp;AM,&nbsp;Andreas&nbsp;Trawoeger&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:atrawog@gmail.com&quot;&gt;atrawog@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;Hi!&lt;br&gt;&lt;br&gt;Could&nbsp;I&nbsp;kindly&nbsp;ask&nbsp;all&nbsp;the&nbsp;Twisted&nbsp;Gurus&nbsp;to&nbsp;take&nbsp;a&nbsp;look&nbsp;Austin&nbsp;Heaps&nbsp;Best&nbsp;Proxy&nbsp;Practices&lt;br&gt;<br>
for&nbsp;Iran&nbsp;&lt;a&nbsp;href=&quot;http://blog.austinheap.com/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://blog.austinheap.com/&lt;/a&gt;&lt;br&gt;&lt;br&gt;The&nbsp;current&nbsp;setup&nbsp;(Squid&nbsp;&amp;amp;&nbsp;iptables)&nbsp;everybody&nbsp;uses&nbsp;is&nbsp;extremely&nbsp;complicated&nbsp;to&nbsp;setup&nbsp;and&nbsp;it&nbsp;should&nbsp;be&nbsp;trivial&nbsp;to&nbsp;implement&nbsp;the&nbsp;requirements&nbsp;in&nbsp;Twisted.&nbsp;Turn&nbsp;it&nbsp;into&nbsp;an&nbsp;egg&nbsp;and&nbsp;allow&nbsp;everybody&nbsp;to&nbsp;simple&nbsp;type&nbsp;easy_install&nbsp;iranproxy.&lt;br&gt;<br>
<br>
&lt;br&gt;I&nbsp;know&nbsp;a&nbsp;little&nbsp;bit&nbsp;of&nbsp;Twisted,&nbsp;because&nbsp;I&amp;#39;m&nbsp;an&nbsp;avid&nbsp;Zenoss&nbsp;user&nbsp;and&nbsp;in&nbsp;different&nbsp;circumstanced&nbsp;I&nbsp;would&nbsp;write&nbsp;the&nbsp;proxy&nbsp;on&nbsp;my&nbsp;own.&nbsp;But&nbsp;in&nbsp;this&nbsp;case&nbsp;a&nbsp;safe&nbsp;implementation&nbsp;is&nbsp;a&nbsp;real&nbsp;must&nbsp;and&nbsp;I&amp;#39;m&nbsp;really&nbsp;worried&nbsp;to&nbsp;make&nbsp;some&nbsp;stupid&nbsp;beginner&nbsp;mistakes.&lt;br&gt;<br>
<br>
&lt;br&gt;So&nbsp;some&nbsp;(example)&nbsp;code&nbsp;and&nbsp;links&nbsp;to&nbsp;websites&nbsp;I&nbsp;should&nbsp;read&nbsp;would&nbsp;be&nbsp;greatly&nbsp;appreciated.&lt;br&gt;&lt;br&gt;&lt;br&gt;Thanks&nbsp;to&nbsp;everybody!&lt;br&gt;&lt;br&gt;cu&nbsp;andreas&lt;br&gt;<br>
&lt;br&gt;_______________________________________________&lt;br&gt;<br>
Twisted-Python&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Twisted-Python@twistedmatrix.com&quot;&gt;Twisted-Python@twistedmatrix.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
