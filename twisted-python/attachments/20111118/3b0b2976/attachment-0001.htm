<tt>
&lt;html&gt;<br>
&lt;body&gt;<br>
Hi!&lt;br&gt;&lt;br&gt;We&nbsp;have&nbsp;a&nbsp;small&nbsp;heartbeat-system&nbsp;based&nbsp;on&nbsp;Twisted.&nbsp;The&nbsp;clients&nbsp;register&lt;br&gt;at&nbsp;the&nbsp;server&nbsp;and&nbsp;send&nbsp;some&nbsp;health&nbsp;information&nbsp;in&nbsp;regular&nbsp;intervals.&lt;br&gt;If&nbsp;the&nbsp;server&nbsp;does&nbsp;not&nbsp;get&nbsp;a&nbsp;lifesign&nbsp;from&nbsp;a&nbsp;client,&nbsp;this&nbsp;is&nbsp;registered&lt;br&gt;in&nbsp;a&nbsp;database.&nbsp;&lt;br&gt;&lt;br&gt;But&nbsp;sometimes,&nbsp;the&nbsp;clients&nbsp;have&nbsp;to&nbsp;go&nbsp;offline.&nbsp;In&nbsp;this&nbsp;case,&nbsp;I'd&nbsp;like&nbsp;&lt;br&gt;them&nbsp;to&nbsp;send&nbsp;a&nbsp;message&nbsp;to&nbsp;the&nbsp;server&nbsp;that&nbsp;they&nbsp;will&nbsp;be&nbsp;gone&nbsp;for&nbsp;a&nbsp;while.&lt;br&gt;When&nbsp;a&nbsp;client&nbsp;goes&nbsp;offline,&nbsp;the&nbsp;twistd&nbsp;daemon&nbsp;for&nbsp;handling&nbsp;the&nbsp;heartbeats&lt;br&gt;is&nbsp;shut&nbsp;down.&lt;br&gt;&lt;br&gt;What&nbsp;is&nbsp;the&nbsp;best&nbsp;way&nbsp;to&nbsp;do&nbsp;this&nbsp;in&nbsp;Twisted?&nbsp;The&nbsp;`clientConnectionLost`&lt;br&gt;method&nbsp;of&nbsp;the&nbsp;factory&nbsp;is&nbsp;only&nbsp;called&nbsp;after&nbsp;disconnecting,&nbsp;AFAICT.&lt;br&gt;&lt;br&gt;Thanks&nbsp;&amp;amp;&nbsp;best&nbsp;regards,&lt;br&gt;&lt;br&gt;--&nbsp;&lt;br&gt;Albert&nbsp;Brandl&lt;br&gt;&lt;BR&nbsp;/&gt;<br>
&lt;BR&nbsp;/&gt;<br>
&lt;img&nbsp;src=&quot;cid:7f536f0e.42d6c947.jpg.a6d3f4ae&quot;&gt;​&lt;br&gt;&lt;font&nbsp;id=&quot;ext-gen2860&quot;&nbsp;face=&quot;arial&quot;&nbsp;size=&quot;1&quot;&gt;&lt;font&nbsp;id=&quot;ext-gen2870&quot;&gt;A-4813&nbsp;Altmünster&lt;/font&gt;&nbsp;-&nbsp;Abteistraße&nbsp;12&nbsp;-&nbsp;web:&nbsp;www.weiermayer.com&nbsp;-&nbsp;phone:&nbsp;+43761287677&nbsp;-&nbsp;fax:&nbsp;+43761220356&nbsp;-&nbsp;mobile:&nbsp;+436642442777&lt;/font&gt;&lt;br&gt;&lt;BR&nbsp;/&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>
<br>

</tt>
