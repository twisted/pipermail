<tt>
&lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;XHTML&nbsp;1.0&nbsp;Transitional//EN&quot;&gt;<br>
&lt;html&gt;&lt;body&nbsp;style='font-family:&nbsp;Verdana,Geneva,sans-serif'&gt;<br>
&lt;p&gt;Crochet&nbsp;is&nbsp;an&nbsp;MIT-licensed&nbsp;library&nbsp;that&nbsp;makes&nbsp;it&nbsp;easier&nbsp;to&nbsp;use&nbsp;Twisted&nbsp;from&nbsp;regular&nbsp;blocking&nbsp;code.&nbsp;Some&nbsp;use&nbsp;cases&nbsp;include:&lt;/p&gt;<br>
&lt;ul&nbsp;class=&quot;simple&quot;&gt;<br>
&lt;li&gt;Easily&nbsp;use&nbsp;Twisted&nbsp;from&nbsp;a&nbsp;blocking&nbsp;framework&nbsp;like&nbsp;Django&nbsp;or&nbsp;Flask.&lt;/li&gt;<br>
&lt;li&gt;Write&nbsp;a&nbsp;library&nbsp;that&nbsp;provides&nbsp;a&nbsp;blocking&nbsp;API,&nbsp;but&nbsp;uses&nbsp;Twisted&nbsp;for&nbsp;its&nbsp;implementation.&lt;/li&gt;<br>
&lt;li&gt;Port&nbsp;blocking&nbsp;code&nbsp;to&nbsp;Twisted&nbsp;more&nbsp;easily,&nbsp;by&nbsp;keeping&nbsp;a&nbsp;backwards&nbsp;compatibility&nbsp;layer.&lt;/li&gt;<br>
&lt;li&gt;Allow&nbsp;normal&nbsp;Twisted&nbsp;programs&nbsp;that&nbsp;use&nbsp;threads&nbsp;to&nbsp;interact&nbsp;with&nbsp;Twisted&nbsp;more&nbsp;cleanly&nbsp;from&nbsp;their&nbsp;threaded&nbsp;parts.&nbsp;For&nbsp;example&nbsp;this&nbsp;can&nbsp;be&nbsp;useful&nbsp;when&nbsp;using&nbsp;Twisted&nbsp;as&nbsp;a&nbsp;WSGI&nbsp;container.&lt;/li&gt;<br>
&lt;/ul&gt;<br>
&lt;p&gt;New&nbsp;in&nbsp;this&nbsp;release:&lt;/p&gt;<br>
&lt;ul&gt;<br>
&lt;li&gt;&lt;tt&nbsp;class=&quot;docutils&nbsp;literal&quot;&gt;crochet.wait_for&lt;/tt&gt;&nbsp;implements&nbsp;the&nbsp;timeout/cancellation&nbsp;pattern&nbsp;documented&nbsp;in&nbsp;previous&nbsp;versions&nbsp;of&nbsp;Crochet.&lt;/li&gt;<br>
&lt;li&gt;Functions&nbsp;wrapped&nbsp;with&nbsp;&lt;tt&nbsp;class=&quot;docutils&nbsp;literal&quot;&gt;wait_for&lt;/tt&gt;&nbsp;and&nbsp;&lt;tt&nbsp;class=&quot;docutils&nbsp;literal&quot;&gt;run_in_reactor&lt;/tt&gt;&nbsp;can&nbsp;now&nbsp;be&nbsp;accessed&nbsp;via&nbsp;the&nbsp;&lt;tt&nbsp;class=&quot;docutils&nbsp;literal&quot;&gt;wrapped_function&lt;/tt&gt;&nbsp;attribute,&nbsp;to&nbsp;ease&nbsp;unit&nbsp;testing&nbsp;of&nbsp;the&nbsp;underlying&nbsp;Twisted&nbsp;code.&lt;/li&gt;<br>
&lt;li&gt;Bug&nbsp;fixes,&nbsp;documentation&nbsp;improvements&nbsp;and&nbsp;more&nbsp;-&nbsp;for&nbsp;a&nbsp;full&nbsp;list&nbsp;see&nbsp;the&lt;/li&gt;<br>
&lt;/ul&gt;<br>
&lt;p&gt;Documentation&nbsp;can&nbsp;be&nbsp;found&nbsp;at&nbsp;&lt;a&nbsp;class=&quot;reference&nbsp;external&quot;&nbsp;href=&quot;https://crochet.readthedocs.org/&quot;&gt;http://crochet.readthedocs.org&lt;/a&gt;&lt;/p&gt;<br>
&lt;p&gt;Bugs&nbsp;and&nbsp;feature&nbsp;requests&nbsp;should&nbsp;be&nbsp;filed&nbsp;at&nbsp;the&nbsp;project&nbsp;&lt;a&nbsp;href=&quot;https://github.com/itamarst/crochet&quot;&gt;https://github.com/itamarst/crochet&lt;/a&gt;&lt;/p&gt;<br>
&lt;p&gt;&nbsp;&lt;/p&gt;<br>
&lt;p&gt;Here&rsquo;s&nbsp;an&nbsp;example&nbsp;of&nbsp;a&nbsp;program&nbsp;using&nbsp;Crochet.&nbsp;Notice&nbsp;that&nbsp;you&nbsp;get&nbsp;a&nbsp;completely&nbsp;blocking&nbsp;interface&nbsp;to&nbsp;Twisted&nbsp;and&nbsp;do&nbsp;not&nbsp;need&nbsp;to&nbsp;run&nbsp;the&nbsp;Twisted&nbsp;reactor,&nbsp;the&nbsp;event&nbsp;loop,&nbsp;yourself.&lt;/p&gt;<br>
&lt;div&nbsp;class=&quot;highlight&quot;&gt;<br>
&lt;pre&nbsp;style=&quot;padding-left:&nbsp;30px;&quot;&gt;&lt;span&nbsp;class=&quot;c&quot;&gt;#!/usr/bin/python&lt;/span&gt;<br>
&lt;span&nbsp;class=&quot;sd&quot;&gt;&quot;&quot;&quot;&lt;/span&gt;<br>
&lt;span&nbsp;class=&quot;sd&quot;&gt;Do&nbsp;a&nbsp;DNS&nbsp;lookup&nbsp;using&nbsp;Twisted's&nbsp;APIs.&lt;/span&gt;<br>
&lt;span&nbsp;class=&quot;sd&quot;&gt;&quot;&quot;&quot;&lt;/span&gt;<br>
&lt;span&nbsp;class=&quot;kn&quot;&gt;from&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;nn&quot;&gt;__future__&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;kn&quot;&gt;import&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;n&quot;&gt;print_function&lt;/span&gt;<br>
<br>
&lt;span&nbsp;class=&quot;c&quot;&gt;#&nbsp;The&nbsp;Twisted&nbsp;code&nbsp;we'll&nbsp;be&nbsp;using:&lt;/span&gt;<br>
&lt;span&nbsp;class=&quot;kn&quot;&gt;from&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;nn&quot;&gt;twisted.names&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;kn&quot;&gt;import&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;n&quot;&gt;client&lt;/span&gt;<br>
<br>
&lt;span&nbsp;class=&quot;kn&quot;&gt;from&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;nn&quot;&gt;crochet&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;kn&quot;&gt;import&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;n&quot;&gt;setup&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&gt;,&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;n&quot;&gt;wait_for&lt;/span&gt;<br>
&lt;span&nbsp;class=&quot;n&quot;&gt;setup&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&gt;()&lt;/span&gt;<br>
<br>
<br>
&lt;span&nbsp;class=&quot;c&quot;&gt;#&nbsp;Crochet&nbsp;layer,&nbsp;wrapping&nbsp;Twisted's&nbsp;DNS&nbsp;library&nbsp;in&nbsp;a&nbsp;blocking&nbsp;call.&lt;/span&gt;<br>
&lt;span&nbsp;class=&quot;nd&quot;&gt;@wait_for&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&gt;timeout&lt;/span&gt;&lt;span&nbsp;class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span&nbsp;class=&quot;mf&quot;&gt;5.0&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&gt;)&lt;/span&gt;<br>
&lt;span&nbsp;class=&quot;k&quot;&gt;def&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;nf&quot;&gt;gethostbyname&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&gt;):&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;sd&quot;&gt;&quot;&quot;&quot;Lookup&nbsp;the&nbsp;IP&nbsp;of&nbsp;a&nbsp;given&nbsp;hostname.&lt;/span&gt;<br>
<br>
&lt;span&nbsp;class=&quot;sd&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;Unlike&nbsp;socket.gethostbyname()&nbsp;which&nbsp;can&nbsp;take&nbsp;an&nbsp;arbitrary&nbsp;amount&nbsp;of&nbsp;time&lt;/span&gt;<br>
&lt;span&nbsp;class=&quot;sd&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;finish,&nbsp;this&nbsp;function&nbsp;will&nbsp;raise&nbsp;crochet.TimeoutError&nbsp;if&nbsp;more&nbsp;than&nbsp;5&lt;/span&gt;<br>
&lt;span&nbsp;class=&quot;sd&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;seconds&nbsp;elapse&nbsp;without&nbsp;an&nbsp;answer&nbsp;being&nbsp;received.&lt;/span&gt;<br>
&lt;span&nbsp;class=&quot;sd&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;n&quot;&gt;d&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;o&quot;&gt;=&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;n&quot;&gt;client&lt;/span&gt;&lt;span&nbsp;class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&gt;lookupAddress&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&gt;)&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span&nbsp;class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&gt;addCallback&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span&nbsp;class=&quot;k&quot;&gt;lambda&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;n&quot;&gt;result&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&gt;:&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;n&quot;&gt;result&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span&nbsp;class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span&nbsp;class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span&nbsp;class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&gt;payload&lt;/span&gt;&lt;span&nbsp;class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&gt;dottedQuad&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&gt;())&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;k&quot;&gt;return&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;n&quot;&gt;d&lt;/span&gt;<br>
<br>
<br>
&lt;span&nbsp;class=&quot;k&quot;&gt;if&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;n&quot;&gt;__name__&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;o&quot;&gt;==&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s&quot;&gt;'__main__'&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&gt;:&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;c&quot;&gt;#&nbsp;Application&nbsp;code&nbsp;using&nbsp;the&nbsp;public&nbsp;API&nbsp;-&nbsp;notice&nbsp;it&nbsp;works&nbsp;in&nbsp;a&nbsp;normal&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;c&quot;&gt;#&nbsp;blocking&nbsp;manner,&nbsp;with&nbsp;no&nbsp;event&nbsp;loop&nbsp;visible:&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;kn&quot;&gt;import&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;nn&quot;&gt;sys&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;n&quot;&gt;name&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;o&quot;&gt;=&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;n&quot;&gt;sys&lt;/span&gt;&lt;span&nbsp;class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&gt;argv&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span&nbsp;class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&gt;]&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;n&quot;&gt;ip&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;o&quot;&gt;=&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;n&quot;&gt;gethostbyname&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&gt;)&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&gt;,&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s&quot;&gt;&quot;-&gt;&quot;&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&gt;,&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;n&quot;&gt;ip&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&gt;)&lt;/span&gt;<br>
&lt;/pre&gt;<br>
&lt;/div&gt;<br>
&lt;p&gt;&nbsp;&lt;/p&gt;<br>
&lt;p&gt;Run&nbsp;on&nbsp;the&nbsp;command&nbsp;line:&lt;/p&gt;<br>
&lt;div&nbsp;class=&quot;highlight-python&quot;&gt;<br>
&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;style=&quot;padding-left:5px;&nbsp;border-left:#1010ff&nbsp;2px&nbsp;solid;&nbsp;margin-left:5px&quot;&gt;<br>
&lt;pre&gt;$&nbsp;python&nbsp;blockingdns.py&nbsp;twistedmatrix.com<br>
twistedmatrix.com&nbsp;-&gt;&nbsp;66.35.39.66&lt;/pre&gt;<br>
&lt;/blockquote&gt;<br>
&lt;/div&gt;<br>
&lt;p&gt;&nbsp;&lt;/p&gt;<br>
&lt;div&gt;&nbsp;&lt;/div&gt;<br>
&lt;/body&gt;&lt;/html&gt;<br>

</tt>
