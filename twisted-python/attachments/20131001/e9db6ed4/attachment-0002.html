<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;I&nbsp;just&nbsp;now&nbsp;realized&nbsp;that&nbsp;my&nbsp;fileno()&nbsp;method&nbsp;was&nbsp;incorrect.&lt;div&gt;It&nbsp;now&nbsp;returns&nbsp;the&nbsp;descriptor&nbsp;instead&nbsp;of&nbsp;the&nbsp;python&nbsp;socket:&lt;/div&gt;&lt;div&gt;return&nbsp;self.socket.fileno()&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;add&nbsp;the&nbsp;socket&nbsp;to&nbsp;the&nbsp;reactor&nbsp;in&nbsp;the&nbsp;constructor&nbsp;like&nbsp;this:&nbsp;reactor.addWriter(self)&lt;/div&gt;<br>
&lt;div&gt;BTW&nbsp;is&nbsp;that&nbsp;OK?&nbsp;Or&nbsp;is&nbsp;it&nbsp;better&nbsp;to&nbsp;add&nbsp;it&nbsp;to&nbsp;the&nbsp;reactor&nbsp;outside&nbsp;of&nbsp;the&nbsp;constructor?&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;Oct&nbsp;1,&nbsp;2013&nbsp;at&nbsp;12:54&nbsp;AM,&nbsp;Phil&nbsp;Mayers&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:p.mayers@imperial.ac.uk&quot;&nbsp;target=&quot;_blank&quot;&gt;p.mayers@imperial.ac.uk&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;On&nbsp;10/01/2013&nbsp;08:30&nbsp;AM,&nbsp;David&nbsp;Stainton&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
&lt;br&gt;<br>
Hi,&lt;br&gt;<br>
&lt;br&gt;<br>
I&#39;m&nbsp;trying&nbsp;to&nbsp;implement&nbsp;an&nbsp;IWriteDescriptor&nbsp;using&nbsp;raw&nbsp;sockets.&lt;br&gt;<br>
So&nbsp;far&nbsp;this&nbsp;is&nbsp;what&nbsp;I&nbsp;wrote...&nbsp;but&nbsp;it&nbsp;doesn&#39;t&nbsp;work:&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://github.com/david415/hushTCP/blob/master/hush_writer.py&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/david415/&lt;u&gt;&lt;/u&gt;hushTCP/blob/master/hush_&lt;u&gt;&lt;/u&gt;writer.py&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
Am&nbsp;I&nbsp;doing&nbsp;something&nbsp;obviously&nbsp;wrong&nbsp;here?&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
I&nbsp;don&#39;t&nbsp;see&nbsp;you&nbsp;trying&nbsp;to&nbsp;add&nbsp;the&nbsp;raw&nbsp;socket&nbsp;to&nbsp;the&nbsp;reactor&nbsp;anywhere;&nbsp;typically&nbsp;you&#39;ll&nbsp;want&nbsp;to&nbsp;do&nbsp;at&nbsp;least&nbsp;reactor.addWriter(hush),&nbsp;but&nbsp;for&nbsp;a&nbsp;proper&nbsp;implementation&nbsp;there&#39;s&nbsp;more&nbsp;-&nbsp;see&nbsp;the&nbsp;IReactorFDSet&nbsp;docs.&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
You&nbsp;may&nbsp;want&nbsp;to&nbsp;look&nbsp;at&nbsp;the&nbsp;udp&nbsp;code&nbsp;in&nbsp;Twisted&nbsp;to&nbsp;see&nbsp;how&nbsp;this&nbsp;is&nbsp;done&nbsp;under&nbsp;the&nbsp;hood&nbsp;(although&nbsp;TBH&nbsp;it&nbsp;can&nbsp;be&nbsp;hard&nbsp;to&nbsp;follow!)&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
______________________________&lt;u&gt;&lt;/u&gt;_________________&lt;br&gt;<br>
Twisted-Python&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Twisted-Python@twistedmatrix.com&quot;&nbsp;target=&quot;_blank&quot;&gt;Twisted-Python@twistedmatrix.&lt;u&gt;&lt;/u&gt;com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twistedmatrix.com/cgi-&lt;u&gt;&lt;/u&gt;bin/mailman/listinfo/twisted-&lt;u&gt;&lt;/u&gt;python&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
