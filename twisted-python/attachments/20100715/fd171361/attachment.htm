<tt>
I&nbsp;have&nbsp;a&nbsp;function&nbsp;and&nbsp;two&nbsp;convenience&nbsp;functions,&nbsp;like&nbsp;this:&lt;br&gt;&lt;br&gt;   &nbsp;@defer.inlineCallbacks&lt;br&gt;   &nbsp;def&nbsp;round_value_and_percent(id,&nbsp;value,&nbsp;percent):&lt;br&gt;           &nbsp;daily&nbsp;=&nbsp;1.&lt;br&gt;&lt;br&gt;           &nbsp;params&nbsp;=&nbsp;dict(nutidin=id,&nbsp;valuein=value,&nbsp;dvin=daily)&lt;br&gt;<br>
<br>
           &nbsp;query&nbsp;=&nbsp;&amp;quot;ROUND_NUT_DV&amp;quot;&lt;br&gt;           &nbsp;q_result&nbsp;=&nbsp;yield&nbsp;named_query_param(ctx,&nbsp;&amp;quot;nut&amp;quot;,&nbsp;query,&nbsp;params)  &nbsp;//&nbsp;db&nbsp;query&lt;br&gt;           &nbsp;rounded&nbsp;=&nbsp;{}&lt;br&gt;           &nbsp;rounded[&amp;quot;value&amp;quot;]&nbsp;=&nbsp;q_result[0][0]&lt;br&gt;<br>
<br>
           &nbsp;rounded[&amp;quot;percent&amp;quot;]&nbsp;=&nbsp;q_result[0][1]&lt;br&gt;           &nbsp;defer.returnValue((rounded[&amp;#39;value&amp;#39;],&nbsp;rounded[&amp;#39;percent&amp;#39;]))&lt;br&gt;           &nbsp;&lt;br&gt;   &nbsp;@defer.inlineCallbacks&lt;br&gt;   &nbsp;def&nbsp;round_val(id,&nbsp;value,&nbsp;rule):&lt;br&gt;<br>
<br>
       &nbsp;&amp;quot;&amp;quot;&amp;quot;&lt;br&gt;       &nbsp;Return&nbsp;first&nbsp;element&nbsp;of&nbsp;round_value_and_percent&lt;br&gt;       &nbsp;&amp;quot;&amp;quot;&amp;quot;&lt;br&gt;       &nbsp;defer.returnValue(round_value_and_percent(id,&nbsp;value,&nbsp;0,&nbsp;rule)[0])&lt;br&gt;&lt;br&gt;       &nbsp;&lt;br&gt;   &nbsp;@defer.inlineCallbacks&lt;br&gt;<br>
<br>
   &nbsp;def&nbsp;round_per(id,&nbsp;percent,&nbsp;rule):&lt;br&gt;       &nbsp;&amp;quot;&amp;quot;&amp;quot;&lt;br&gt;       &nbsp;Return&nbsp;second&nbsp;element&nbsp;of&nbsp;round_value_and_percent.&lt;br&gt;       &nbsp;&amp;quot;&amp;quot;&amp;quot;&lt;br&gt;       &nbsp;defer.returnValue(round_value_and_percent(id,&nbsp;0,&nbsp;percent,&nbsp;rule)[1])&lt;br&gt;<br>
<br>
&lt;br&gt;When&nbsp;I&nbsp;do:&lt;br&gt;result&nbsp;=&nbsp;yield&nbsp;round_val(1,&nbsp;2,&nbsp;3)&lt;br&gt;&lt;br&gt;I&nbsp;get&nbsp;this:&nbsp;Deferred&nbsp;instance&nbsp;has&nbsp;no&nbsp;attribute&nbsp;&amp;#39;__getitem__&amp;#39;&lt;br&gt;&lt;br&gt;Clues&nbsp;appreciated!&lt;br&gt;Ken&lt;br&gt;&lt;br&gt;<br>

</tt>
