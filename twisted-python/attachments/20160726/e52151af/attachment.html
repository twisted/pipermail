<tt>
&lt;html&gt;&lt;head&gt;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html&nbsp;charset=us-ascii&quot;&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&quot;&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;On&nbsp;Jul&nbsp;25,&nbsp;2016,&nbsp;at&nbsp;9:43&nbsp;PM,&nbsp;Jason&nbsp;Litzinger&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:jlitzingerdev@gmail.com&quot;&nbsp;class=&quot;&quot;&gt;jlitzingerdev@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;Hello,&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;I'm&nbsp;looking&nbsp;at&nbsp;making&nbsp;the&nbsp;changes&nbsp;to&nbsp;support&nbsp;IPv6&nbsp;multicast&nbsp;groups&nbsp;as&nbsp;described&lt;br&nbsp;class=&quot;&quot;&gt;in&nbsp;ticket&nbsp;6597&nbsp;but&nbsp;wanted&nbsp;to&nbsp;get&nbsp;some&nbsp;feedback&nbsp;(and&nbsp;get&nbsp;a&nbsp;feel&nbsp;whether&nbsp;this&nbsp;is&lt;br&nbsp;class=&quot;&quot;&gt;even&nbsp;desirable)&nbsp;before&nbsp;formally&nbsp;submitting&nbsp;any&nbsp;patches.&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;for&nbsp;taking&nbsp;this&nbsp;up!&lt;/div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;Specifically:&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;1.&nbsp;&nbsp;I've&nbsp;read&nbsp;[1]&nbsp;and&nbsp;it&nbsp;alludes&nbsp;to&nbsp;udp&nbsp;hopefully&nbsp;disappearing,&nbsp;is&nbsp;that&nbsp;something&nbsp;in&nbsp;the&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;works?&nbsp;&nbsp;Is&nbsp;there&nbsp;a&nbsp;new&nbsp;approach&nbsp;to&nbsp;solving&nbsp;this&nbsp;problem&nbsp;I&nbsp;should&nbsp;look&nbsp;at?&nbsp;&nbsp;A&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;branch&nbsp;in&nbsp;the&nbsp;works&nbsp;where&nbsp;this&nbsp;(conceptual)&nbsp;change&nbsp;belongs?&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;Note:&nbsp;&nbsp;The&nbsp;addressFamily&nbsp;attribute&nbsp;referenced&nbsp;already&nbsp;exists&nbsp;and&nbsp;is&nbsp;set&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;properly&nbsp;for&nbsp;IPv6.&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;'twisted.internet.udp',&nbsp;as&nbsp;an&nbsp;importable&nbsp;module;&nbsp;not&nbsp;'udp'&nbsp;as&nbsp;a&nbsp;feature&nbsp;of&nbsp;Twisted&nbsp;(or&nbsp;of&nbsp;the&nbsp;Internet,&nbsp;for&nbsp;that&nbsp;matter).&nbsp;&nbsp;&lt;/div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;2.&nbsp;&nbsp;The&nbsp;attached&nbsp;change&nbsp;has&nbsp;the&nbsp;side&nbsp;effect&nbsp;that&nbsp;calls&nbsp;to&nbsp;ReactorBase.resolve()&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;IPv6&nbsp;literals&nbsp;will&nbsp;now&nbsp;likely&nbsp;succeed&nbsp;where&nbsp;they&nbsp;may&nbsp;have&nbsp;failed&nbsp;in&nbsp;the&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;past.&nbsp;&nbsp;That&nbsp;means&nbsp;clients&nbsp;counting&nbsp;on&nbsp;resolve&nbsp;raising&nbsp;an&nbsp;exception&nbsp;for&nbsp;an&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;IPv6&nbsp;literal&nbsp;will&nbsp;break.&nbsp;&nbsp;Not&nbsp;sure&nbsp;whether&nbsp;this&nbsp;is&nbsp;considered&nbsp;a&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;compatibility&nbsp;issue,&nbsp;but&nbsp;I&nbsp;wanted&nbsp;to&nbsp;raise&nbsp;it.&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;We&nbsp;have&nbsp;explicitly&nbsp;avoided&nbsp;adding&nbsp;IPv6&nbsp;name&nbsp;resolution&nbsp;to&nbsp;the&nbsp;reactor&nbsp;because&nbsp;the&nbsp;reactor's&nbsp;API&nbsp;for&nbsp;name&nbsp;resolution&nbsp;is&nbsp;fundamentally&nbsp;the&nbsp;wrong&nbsp;shape&nbsp;for&nbsp;IPv6.&nbsp;&nbsp;If&nbsp;you&nbsp;want&nbsp;to&nbsp;add&nbsp;the&nbsp;ability&nbsp;to&nbsp;resolve&nbsp;IPv6&nbsp;names&nbsp;to&nbsp;the&nbsp;reactor&nbsp;itself,&nbsp;please&nbsp;see&nbsp;this&nbsp;ticket:&nbsp;&lt;a&nbsp;href=&quot;https://twistedmatrix.com/trac/ticket/4362&quot;&nbsp;class=&quot;&quot;&gt;https://twistedmatrix.com/trac/ticket/4362&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;For&nbsp;the&nbsp;purposes&nbsp;of&nbsp;this&nbsp;ticket&nbsp;alone,&nbsp;you&nbsp;should&nbsp;probably&nbsp;just&nbsp;skip&nbsp;resolution&nbsp;in&nbsp;_joinAddr1&nbsp;if&nbsp;resolution&nbsp;is&nbsp;&lt;/div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;3.&nbsp;&nbsp;One&nbsp;alternative&nbsp;to&nbsp;the&nbsp;above&nbsp;would&nbsp;be&nbsp;a&nbsp;complete&nbsp;API&nbsp;separation,&nbsp;via&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;something&nbsp;like&nbsp;joinIPv6Group(),&nbsp;and&nbsp;a&nbsp;new&nbsp;resolve.&nbsp;&nbsp;Is&nbsp;that&nbsp;more&nbsp;appealing&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;this&nbsp;case?&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;Given&nbsp;what&nbsp;we've&nbsp;done&nbsp;with&nbsp;connectTCP&nbsp;et.&nbsp;al.,&nbsp;it&nbsp;makes&nbsp;sense&nbsp;to&nbsp;leave&nbsp;'joinGroup'&nbsp;as&nbsp;the&nbsp;API&nbsp;for&nbsp;doing&nbsp;this.&nbsp;&nbsp;But&nbsp;we&nbsp;probably&nbsp;want&nbsp;to&nbsp;leave&nbsp;'.resolve'&nbsp;alone.&lt;/div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;Caveats:&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;1.&nbsp;&nbsp;I&nbsp;have&nbsp;not&nbsp;finished&nbsp;all&nbsp;of&nbsp;the&nbsp;documentation&nbsp;related&nbsp;to&nbsp;developers,&nbsp;I&nbsp;will&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;do&nbsp;so&nbsp;prior&nbsp;to&nbsp;formal&nbsp;submission.&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;think&nbsp;we&nbsp;can&nbsp;do&nbsp;the&nbsp;narrative&nbsp;docs&nbsp;in&nbsp;a&nbsp;separate&nbsp;PR,&nbsp;as&nbsp;the&nbsp;interface&nbsp;looks&nbsp;like&nbsp;the&nbsp;straightforward&nbsp;expansion&nbsp;of&nbsp;the&nbsp;IPv4&nbsp;interface.&nbsp;&nbsp;You&nbsp;should&nbsp;clean&nbsp;up&nbsp;the&nbsp;reference&nbsp;documentation&nbsp;(i.e.&nbsp;docstrings)&nbsp;to&nbsp;ensure&nbsp;they're&nbsp;accurate&nbsp;of&nbsp;course.&lt;/div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;2.&nbsp;&nbsp;I&nbsp;know&nbsp;I&nbsp;need&nbsp;tests&nbsp;and&nbsp;docs&nbsp;and&nbsp;will&nbsp;submit&nbsp;them&nbsp;with&nbsp;the&nbsp;final&nbsp;changes.&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;Testing&nbsp;multicast&nbsp;is&nbsp;...&nbsp;challenging.&nbsp;&nbsp;I&nbsp;barely&nbsp;have&nbsp;any&nbsp;idea&nbsp;how&nbsp;to&nbsp;set&nbsp;up&nbsp;a&nbsp;test&nbsp;environment&nbsp;for&nbsp;IPv4,&nbsp;and&nbsp;no&nbsp;idea&nbsp;what&nbsp;to&nbsp;do&nbsp;for&nbsp;IPv6.&nbsp;&nbsp;If&nbsp;you&nbsp;can&nbsp;speak&nbsp;to&nbsp;this&nbsp;in&nbsp;your&nbsp;tests&nbsp;(and&nbsp;hopefully&nbsp;docs&nbsp;as&nbsp;well)&nbsp;that&nbsp;would&nbsp;be&nbsp;super&nbsp;helpful.&lt;/div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;On&nbsp;to&nbsp;the&nbsp;patches.&nbsp;&nbsp;With&nbsp;these&nbsp;changes,&nbsp;I&nbsp;can&nbsp;use&nbsp;the&nbsp;joinGroup&nbsp;API&nbsp;to&nbsp;add&lt;br&nbsp;class=&quot;&quot;&gt;myself&nbsp;to&nbsp;an&nbsp;IPv6&nbsp;multicast&nbsp;group&nbsp;on&nbsp;Linux&nbsp;(verified&nbsp;via&nbsp;/proc/net/igmp6).&lt;br&nbsp;class=&quot;&quot;&gt;Additionally,&nbsp;trial&nbsp;reports&nbsp;the&nbsp;same&nbsp;two&nbsp;failures&nbsp;before&nbsp;and&nbsp;after&nbsp;these&nbsp;changes&lt;br&nbsp;class=&quot;&quot;&gt;(twisted.python.test.test_release.APIBuilderTests.test_build&nbsp;and&lt;br&nbsp;class=&quot;&quot;&gt;test_buildWithPolicy).&nbsp;&nbsp;These&nbsp;changes&nbsp;struck&nbsp;me&nbsp;as&nbsp;the&nbsp;obvious&nbsp;approach,&nbsp;but&lt;br&nbsp;class=&quot;&quot;&gt;given&nbsp;the&nbsp;changes&nbsp;to&nbsp;resolve,&nbsp;not&nbsp;necessarily&nbsp;the&nbsp;best.&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;diff&nbsp;--git&nbsp;a/twisted/internet/base.py&nbsp;b/twisted/internet/base.py&lt;br&nbsp;class=&quot;&quot;&gt;index&nbsp;4f2c862..e813741&nbsp;100644&lt;br&nbsp;class=&quot;&quot;&gt;---&nbsp;a/twisted/internet/base.py&lt;br&nbsp;class=&quot;&quot;&gt;+++&nbsp;b/twisted/internet/base.py&lt;br&nbsp;class=&quot;&quot;&gt;@@&nbsp;-567,6&nbsp;+567,8&nbsp;@@&nbsp;class&nbsp;ReactorBase(object):&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;defer.succeed('0.0.0.0')&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;abstract.isIPAddress(name):&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;defer.succeed(name)&lt;br&nbsp;class=&quot;&quot;&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;abstract.isIPv6Address(name):&lt;br&nbsp;class=&quot;&quot;&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;defer.succeed(name)&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.resolver.getHostByName(name,&nbsp;timeout)&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Installation.&lt;br&nbsp;class=&quot;&quot;&gt;diff&nbsp;--git&nbsp;a/twisted/internet/udp.py&nbsp;b/twisted/internet/udp.py&lt;br&nbsp;class=&quot;&quot;&gt;index&nbsp;b5a5322..210b079&nbsp;100644&lt;br&nbsp;class=&quot;&quot;&gt;---&nbsp;a/twisted/internet/udp.py&lt;br&nbsp;class=&quot;&quot;&gt;+++&nbsp;b/twisted/internet/udp.py&lt;br&nbsp;class=&quot;&quot;&gt;@@&nbsp;-485,7&nbsp;+485,10&nbsp;@@&nbsp;class&nbsp;MulticastMixin:&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;_joinAddr1(self,&nbsp;addr,&nbsp;interface,&nbsp;join):&lt;br&nbsp;class=&quot;&quot;&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.reactor.resolve(interface).addCallback(self._joinAddr2,&nbsp;addr,&nbsp;join)&lt;br&nbsp;class=&quot;&quot;&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.addressFamily&nbsp;==&nbsp;socket.AF_INET:&lt;br&nbsp;class=&quot;&quot;&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.reactor.resolve(interface).addCallback(self._joinAddr2,&nbsp;addr,&nbsp;join)&lt;br&nbsp;class=&quot;&quot;&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&lt;br&nbsp;class=&quot;&quot;&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.reactor.resolve(interface).addCallback(self._joinAddrIPv6,&nbsp;addr,&nbsp;join)&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;_joinAddr2(self,&nbsp;interface,&nbsp;addr,&nbsp;join):&lt;br&nbsp;class=&quot;&quot;&gt;@@&nbsp;-500,6&nbsp;+503,18&nbsp;@@&nbsp;class&nbsp;MulticastMixin:&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;socket.error&nbsp;as&nbsp;e:&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;failure.Failure(error.MulticastJoinError(addr,&nbsp;interface,&nbsp;*e.args))&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;+&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;_joinAddrIPv6(self,&nbsp;interface,&nbsp;addr,&nbsp;join):&lt;br&nbsp;class=&quot;&quot;&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addr&nbsp;=&nbsp;socket.inet_pton(socket.AF_INET6,&nbsp;addr)&lt;br&nbsp;class=&quot;&quot;&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;interface&nbsp;=&nbsp;socket.inet_pton(socket.AF_INET6,&nbsp;interface)&lt;br&nbsp;class=&quot;&quot;&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;join:&lt;br&nbsp;class=&quot;&quot;&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cmd&nbsp;=&nbsp;socket.IPV6_JOIN_GROUP&lt;br&nbsp;class=&quot;&quot;&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&lt;br&nbsp;class=&quot;&quot;&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cmd&nbsp;=&nbsp;socket.IPV6_LEAVE_GROUP&lt;br&nbsp;class=&quot;&quot;&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:&lt;br&nbsp;class=&quot;&quot;&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.socket.setsockopt(socket.IPPROTO_IPV6,&nbsp;cmd,&nbsp;addr&nbsp;+&nbsp;interface)&lt;br&nbsp;class=&quot;&quot;&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;socket.error&nbsp;as&nbsp;e:&lt;br&nbsp;class=&quot;&quot;&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;failure.Failure(error.MulticastJoinError(addr,&nbsp;interface,&nbsp;*e.args))&lt;br&nbsp;class=&quot;&quot;&gt;+&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;leaveGroup(self,&nbsp;addr,&nbsp;interface=&quot;&quot;):&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Leave&nbsp;multicast&nbsp;group,&nbsp;return&nbsp;Deferred&nbsp;of&nbsp;success.&quot;&quot;&quot;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;This&nbsp;does&nbsp;require&nbsp;the&nbsp;client&nbsp;specify&nbsp;the&nbsp;interface&nbsp;argument&nbsp;when&nbsp;calling&lt;br&nbsp;class=&quot;&quot;&gt;joinGroup,&nbsp;e.g.&nbsp;self.transport.joinGroup(&quot;ff02::1&quot;,&nbsp;interface=&quot;::&quot;).&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;Thanks&nbsp;in&nbsp;advance&nbsp;for&nbsp;any&nbsp;feedback!&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;-Jason&nbsp;Litzinger&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;[1]&nbsp;&lt;a&nbsp;href=&quot;http://twistedmatrix.com/pipermail/twisted-python/2016-March/030188.html&quot;&nbsp;class=&quot;&quot;&gt;http://twistedmatrix.com/pipermail/twisted-python/2016-March/030188.html&lt;/a&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;_______________________________________________&lt;br&nbsp;class=&quot;&quot;&gt;Twisted-Python&nbsp;mailing&nbsp;list&lt;br&nbsp;class=&quot;&quot;&gt;&lt;a&nbsp;href=&quot;mailto:Twisted-Python@twistedmatrix.com&quot;&nbsp;class=&quot;&quot;&gt;Twisted-Python@twistedmatrix.com&lt;/a&gt;&lt;br&nbsp;class=&quot;&quot;&gt;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
