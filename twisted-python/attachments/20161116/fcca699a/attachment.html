<tt>
&lt;html&gt;&lt;head&gt;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html&nbsp;charset=utf-8&quot;&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&quot;&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;On&nbsp;Nov&nbsp;14,&nbsp;2016,&nbsp;at&nbsp;6:58&nbsp;PM,&nbsp;陈健&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:chenjianhappy2008@126.com&quot;&nbsp;class=&quot;&quot;&gt;chenjianhappy2008@126.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;style=&quot;line-height:&nbsp;1.7;&nbsp;font-size:&nbsp;14px;&nbsp;font-family:&nbsp;Arial;&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&nbsp;hi:&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;table&nbsp;class=&quot;&quot;&gt;&lt;tbody&nbsp;class=&quot;&quot;&gt;&lt;tr&nbsp;class=&quot;&quot;&gt;&lt;td&nbsp;class=&quot;votecell&quot;&gt;&lt;div&nbsp;class=&quot;vote&quot;&gt;&lt;div&nbsp;class=&quot;favoritecount&quot;&gt;&lt;b&nbsp;class=&quot;&quot;&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td&nbsp;class=&quot;postcell&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;post-text&quot;&nbsp;itemprop=&quot;text&quot;&gt;&lt;p&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;I&nbsp;write&nbsp;a&nbsp;SSH&nbsp;server&nbsp;with&nbsp;Twisted&nbsp;Conch.&nbsp;But&nbsp;encountered&nbsp;a&nbsp;difficult&nbsp;problem.&nbsp;&nbsp;Assume&nbsp;that&nbsp;user&nbsp;A&nbsp;and&nbsp;user&nbsp;B&nbsp;log&nbsp;in&nbsp;to&nbsp;the&nbsp;twisted&nbsp;ssh&nbsp;server&nbsp;through&nbsp;ssh&nbsp;command.&nbsp;Then&nbsp;user&nbsp;A&nbsp;tail&nbsp;or&nbsp;cat&nbsp;a&nbsp;large&nbsp;file&nbsp;(greater&nbsp;than&nbsp;100M)&nbsp;on&nbsp;the&nbsp;server,&nbsp;which&nbsp;&nbsp;will&nbsp;cause&nbsp;a&nbsp;lot&nbsp;of&nbsp;echoing&nbsp;through&nbsp;the&nbsp;twisted&nbsp;ssh&nbsp;server,&nbsp;making&nbsp;python&nbsp;ssh&nbsp;process&nbsp;(twisted.conch&nbsp;)&nbsp;cpu&nbsp;usage&nbsp;is&nbsp;very&nbsp;high&nbsp;(greater&nbsp;than&nbsp;95%,&nbsp;or&nbsp;even&nbsp;100%),&nbsp;then&nbsp;the&nbsp;user&nbsp;B&nbsp;will&nbsp;be&nbsp;blocked,&nbsp;a&nbsp;long&nbsp;time&nbsp;no&nbsp;response.&nbsp;Is&nbsp;there&nbsp;any&nbsp;way&nbsp;to&nbsp;sleep&nbsp;userA's&nbsp;session(0.5&nbsp;seconds)&nbsp;when&nbsp;find&nbsp;the&nbsp;user&nbsp;A&nbsp;has&nbsp;a&nbsp;large&nbsp;number&nbsp;of&nbsp;echo&nbsp;through&nbsp;the&nbsp;twisted&nbsp;ssh&nbsp;server&nbsp;and&nbsp;not&nbsp;blocking&nbsp;the&nbsp;other&nbsp;connected&nbsp;users?&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;&lt;a&nbsp;href=&quot;http://stackoverflow.com/questions/40601119/python-ssh-server-twisted-conch-takes-up-high-cpu-usage-when-a-large-number-of&quot;&nbsp;class=&quot;&quot;&gt;http://stackoverflow.com/questions/40601119/python-ssh-server-twisted-conch-takes-up-high-cpu-usage-when-a-large-number-of&lt;/a&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;color=&quot;#333333&quot;&nbsp;class=&quot;&quot;&gt;Best&nbsp;regards,&lt;/font&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;color=&quot;#333333&quot;&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/font&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;for&nbsp;getting&nbsp;in&nbsp;touch!&nbsp;&nbsp;I've&nbsp;put&nbsp;an&nbsp;answer&nbsp;on&nbsp;Stack&nbsp;Overflow;&nbsp;I&nbsp;hope&nbsp;others&nbsp;will&nbsp;have&nbsp;more&nbsp;input.&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;-g&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
