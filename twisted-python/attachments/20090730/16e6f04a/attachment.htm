<tt>
Hello,&lt;br&gt;&lt;br&gt;I&nbsp;am&nbsp;writing&nbsp;some&nbsp;scraper&nbsp;scripts&nbsp;and&nbsp;need&nbsp;to&nbsp;pass&nbsp;them&nbsp;through&nbsp;an&nbsp;intercepting&nbsp;proxy.&nbsp;getPage&nbsp;does&nbsp;not&nbsp;support&nbsp;a&nbsp;proxy&nbsp;argument&nbsp;and&nbsp;this&nbsp;code&nbsp;I&nbsp;found&nbsp;on&nbsp;internet&nbsp;won&amp;#39;t&nbsp;work&nbsp;with&nbsp;SSL&nbsp;proxy&nbsp;(stalls&nbsp;indefinitely):&lt;br&gt;<br>
&lt;br&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;def&nbsp;getPage(url,&nbsp;contextFactory=None,&nbsp;*args,&nbsp;**kwargs):&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;   &nbsp;scheme,&nbsp;host,&nbsp;port,&nbsp;path&nbsp;=&nbsp;_parse(url)&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;   &nbsp;factory&nbsp;=&nbsp;HTTPClientFactory(url,&nbsp;*args,&nbsp;**kwargs)&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;   &nbsp;if&nbsp;0:&nbsp;#&nbsp;use&nbsp;a&nbsp;proxy&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;       &nbsp;host,&nbsp;port&nbsp;=&nbsp;&amp;#39;localhost&amp;#39;,&nbsp;8080&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;       &nbsp;factory.path&nbsp;=&nbsp;url&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;   &nbsp;if&nbsp;scheme&nbsp;==&nbsp;&amp;#39;https&amp;#39;:&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;       &nbsp;from&nbsp;twisted.internet&nbsp;import&nbsp;ssl&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;       &nbsp;if&nbsp;contextFactory&nbsp;is&nbsp;None:&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;           &nbsp;contextFactory&nbsp;=&nbsp;ssl.ClientContextFactory()&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;       &nbsp;reactor.connectSSL(host,&nbsp;port,&nbsp;factory,&nbsp;contextFactory)&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;   &nbsp;else:&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;       &nbsp;reactor.connectTCP(host,&nbsp;port,&nbsp;factory)&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;   &nbsp;return&nbsp;factory.deferred&lt;/span&gt;&lt;br&gt;<br>
&lt;br&gt;Plain&nbsp;http&nbsp;proxying&nbsp;works.&nbsp;My&nbsp;guess&nbsp;is&nbsp;that&nbsp;there&nbsp;is&nbsp;an&nbsp;issue&nbsp;with&nbsp;self-signed&nbsp;or&nbsp;otherwise&nbsp;invalid&nbsp;certificate&nbsp;the&nbsp;http&nbsp;proxy&nbsp;supplies.&nbsp;Any&nbsp;clues?&lt;br&gt;&lt;br&gt;--&lt;br&gt;Konrads&nbsp;Smelkovs&lt;br&gt;Applied&nbsp;IT&nbsp;sorcery.&lt;br&gt;<br>

</tt>
