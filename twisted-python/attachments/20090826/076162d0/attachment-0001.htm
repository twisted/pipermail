<tt>
&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Aug&nbsp;26,&nbsp;2009&nbsp;at&nbsp;4:56&nbsp;PM,&nbsp;Martin-Louis&nbsp;Bright&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:mlbright@gmail.com&quot;&gt;mlbright@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
&lt;p&gt;I&nbsp;would&nbsp;like&nbsp;to&nbsp;write&nbsp;a&nbsp;small&nbsp;daemon&nbsp;that&nbsp;monitors&nbsp;(tails)&nbsp;a<br>
server&nbsp;log,&nbsp;parses&nbsp;the&nbsp;entries&nbsp;and&nbsp;sends&nbsp;HTTP&nbsp;requests&nbsp;based&nbsp;on&nbsp;some&nbsp;of&nbsp;those<br>
entries. I&nbsp;would&nbsp;like&nbsp;it&nbsp;if&nbsp;the&nbsp;reading&nbsp;of&nbsp;the&nbsp;log&nbsp;file&nbsp;and&nbsp;the<br>
sending&nbsp;of&nbsp;http&nbsp;requests&nbsp;were&nbsp;asynchronous. Should&nbsp;I&nbsp;use&nbsp;twisted&nbsp;for&nbsp;this?&nbsp;Or&nbsp;is&nbsp;twisted&nbsp;overkill...&lt;/p&gt;&lt;/blockquote&gt;&lt;div&gt;Twisted&nbsp;would&nbsp;be&nbsp;perfectly&nbsp;appropriate&nbsp;for&nbsp;this!&nbsp; The&nbsp;HTTP&nbsp;requests&nbsp;will&nbsp;certainly&nbsp;be&nbsp;non-blocking,&nbsp;assuming&nbsp;you&nbsp;use&nbsp;twisted.web.client&nbsp;(or&nbsp;the&nbsp;new,&nbsp;better&nbsp;thing&nbsp;which&nbsp;I&nbsp;hope&nbsp;will&nbsp;be&nbsp;released&nbsp;before&nbsp;we&nbsp;all&nbsp;get&nbsp;old).&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In&nbsp;fact,&nbsp;if&nbsp;anything,&nbsp;Twisted&nbsp;is&nbsp;under-kill;&nbsp;you&amp;#39;ll&nbsp;need&nbsp;to&nbsp;go&nbsp;a&nbsp;bit&nbsp;further.&nbsp; The&nbsp;one&nbsp;minor&nbsp;issue&nbsp;is&nbsp;that&nbsp;Twisted&nbsp;has&nbsp;no&nbsp;explicit&nbsp;way&nbsp;to&nbsp;do&nbsp;asynchronous&nbsp;file&nbsp;I/O&nbsp;(because&nbsp;most&nbsp;operating&nbsp;systems&nbsp;provide&nbsp;a&nbsp;bewildering&nbsp;array&nbsp;of&nbsp;not-really-working&nbsp;systems&nbsp;for&nbsp;non-blocking&nbsp;file&nbsp;I/O,&nbsp;so&nbsp;it&nbsp;would&nbsp;be&nbsp;challenging&nbsp;for&nbsp;Twisted&nbsp;to&nbsp;do&nbsp;in&nbsp;a&nbsp;way&nbsp;that&nbsp;was&nbsp;useful).&nbsp; There&nbsp;are&nbsp;a&nbsp;number&nbsp;of&nbsp;ways&nbsp;to&nbsp;emulate&nbsp;it&nbsp;though;&nbsp;for&nbsp;log&nbsp;files&nbsp;(which&nbsp;are&nbsp;fairly&nbsp;low&nbsp;volume,&nbsp;and&nbsp;almost&nbsp;by&nbsp;definition&nbsp;will&nbsp;immediately&nbsp;be&nbsp;in&nbsp;your&nbsp;filesystem&nbsp;cache&nbsp;as&nbsp;the&nbsp;parts&nbsp;you&nbsp;want&nbsp;to&nbsp;read&nbsp;become&nbsp;available)&nbsp;you&nbsp;can&nbsp;just&nbsp;do&nbsp;a&nbsp;LoopingCall()&nbsp;which&nbsp;does&nbsp;.read()&nbsp;on&nbsp;a&nbsp;file&nbsp;that&nbsp;it&nbsp;leaves&nbsp;open&nbsp;to&nbsp;retrieve&nbsp;the&nbsp;next&nbsp;chunk&nbsp;of&nbsp;data,&nbsp;and&nbsp;that&nbsp;will&nbsp;probably&nbsp;be&nbsp;good&nbsp;enough.&nbsp; In&nbsp;practice&nbsp;you&nbsp;won&amp;#39;t&nbsp;actually&nbsp;block&nbsp;doing&nbsp;this&nbsp;read()&nbsp;because&nbsp;your&nbsp;kernel&nbsp;is&nbsp;just&nbsp;going&nbsp;to&nbsp;pull&nbsp;the&nbsp;bytes&nbsp;directly&nbsp;out&nbsp;of&nbsp;filesystem&nbsp;cache&nbsp;memory&nbsp;and&nbsp;hand&nbsp;them&nbsp;back&nbsp;to&nbsp;you.&nbsp; It&nbsp;is&nbsp;of&nbsp;course&nbsp;possible&nbsp;to&nbsp;have&nbsp;to&nbsp;wait&nbsp;for&nbsp;the&nbsp;disk&nbsp;or&nbsp;even&nbsp;the&nbsp;network,&nbsp;depending&nbsp;on&nbsp;your&nbsp;underlying&nbsp;filesystem.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;just&nbsp;filed &lt;a&nbsp;href=&quot;http://twistedmatrix.com/trac/ticket/3983&quot;&gt;http://twistedmatrix.com/trac/ticket/3983&lt;/a&gt;&nbsp;for&nbsp;a&nbsp;more&nbsp;thorough&nbsp;solution&nbsp;(mostly&nbsp;in&nbsp;the&nbsp;hopes&nbsp;that&nbsp;somebody&nbsp;will&nbsp;close&nbsp;it&nbsp;as&nbsp;a&nbsp;duplicate&nbsp;and&nbsp;point&nbsp;to&nbsp;some&nbsp;pre-existing&nbsp;issue&nbsp;I&nbsp;couldn&amp;#39;t&nbsp;find&nbsp;through&nbsp;search)&nbsp;so&nbsp;you&nbsp;can&nbsp;monitor&nbsp;future&nbsp;discussion&nbsp;there&nbsp;if&nbsp;you&nbsp;like.&lt;/div&gt;<br>
&lt;/div&gt;<br>

</tt>
