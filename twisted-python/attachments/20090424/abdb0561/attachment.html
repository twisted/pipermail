<tt>
I&nbsp;am&nbsp;trying&nbsp;to&nbsp;understand&nbsp;this&nbsp;concept&nbsp;of&nbsp;async&nbsp;methods&nbsp;and&nbsp;i&nbsp;thought&nbsp;I&nbsp;had&nbsp;it&nbsp;cracked&nbsp;with&nbsp;the&nbsp;code&nbsp;below&nbsp;but&nbsp;it&nbsp;doesn&#39;t&nbsp;seem&nbsp;to&nbsp;work&nbsp;as&nbsp;all&nbsp;the&nbsp;calls&nbsp;to&nbsp;the&nbsp;xmlrpc&nbsp;server&nbsp;return&nbsp;one&nbsp;after&nbsp;the&nbsp;other&nbsp;like&nbsp;this:&lt;br&gt;&lt;br&gt;<br>
Success:I&nbsp;started&nbsp;at&nbsp;Fri&nbsp;Apr&nbsp;24&nbsp;01:12:23&nbsp;2009&nbsp;and&nbsp;i&nbsp;slept&nbsp;5&nbsp;seconds&nbsp;then&nbsp;woke&nbsp;at&nbsp;Fri&nbsp;Apr&nbsp;24&nbsp;01:12:28&nbsp;2009&lt;br&gt;Success:I&nbsp;started&nbsp;at&nbsp;Fri&nbsp;Apr&nbsp;24&nbsp;01:12:28&nbsp;2009&nbsp;and&nbsp;i&nbsp;slept&nbsp;5&nbsp;seconds&nbsp;then&nbsp;woke&nbsp;at&nbsp;Fri&nbsp;Apr&nbsp;24&nbsp;01:12:33&nbsp;2009&lt;br&gt;Success:I&nbsp;started&nbsp;at&nbsp;Fri&nbsp;Apr&nbsp;24&nbsp;01:12:33&nbsp;2009&nbsp;and&nbsp;i&nbsp;slept&nbsp;5&nbsp;seconds&nbsp;then&nbsp;woke&nbsp;at&nbsp;Fri&nbsp;Apr&nbsp;24&nbsp;01:12:38&nbsp;2009&lt;br&gt;<br>
Success:I&nbsp;started&nbsp;at&nbsp;Fri&nbsp;Apr&nbsp;24&nbsp;01:12:38&nbsp;2009&nbsp;and&nbsp;i&nbsp;slept&nbsp;5&nbsp;seconds&nbsp;then&nbsp;woke&nbsp;at&nbsp;Fri&nbsp;Apr&nbsp;24&nbsp;01:12:43&nbsp;2009&lt;br&gt;Success:I&nbsp;started&nbsp;at&nbsp;Fri&nbsp;Apr&nbsp;24&nbsp;01:12:43&nbsp;2009&nbsp;and&nbsp;i&nbsp;slept&nbsp;5&nbsp;seconds&nbsp;then&nbsp;woke&nbsp;at&nbsp;Fri&nbsp;Apr&nbsp;24&nbsp;01:12:48&nbsp;2009&lt;br&gt;Success:I&nbsp;started&nbsp;at&nbsp;Fri&nbsp;Apr&nbsp;24&nbsp;01:12:48&nbsp;2009&nbsp;and&nbsp;i&nbsp;slept&nbsp;5&nbsp;seconds&nbsp;then&nbsp;woke&nbsp;at&nbsp;Fri&nbsp;Apr&nbsp;24&nbsp;01:12:53&nbsp;2009&lt;br&gt;<br>
&lt;br&gt;Am&nbsp;I&nbsp;completly&nbsp;missing&nbsp;the&nbsp;point&nbsp;here&nbsp;or&nbsp;is&nbsp;there&nbsp;something&nbsp;incorrect&nbsp;with&nbsp;my&nbsp;code.&nbsp;AT&nbsp;first&nbsp;I&nbsp;thought&nbsp;it&nbsp;was&nbsp;because&nbsp;the&nbsp;sleep&nbsp;was&nbsp;shutting&nbsp;the&nbsp;whole&nbsp;thing&nbsp;down&nbsp;(probably&nbsp;is)&nbsp;so &nbsp;I&nbsp;have&nbsp;also&nbsp;tried&nbsp;it&nbsp;with&nbsp;a&nbsp;long&nbsp;running&nbsp;network&nbsp;call&nbsp;instead&nbsp;of&nbsp;the&nbsp;time.sleep()&nbsp;and&nbsp;have&nbsp;the&nbsp;same&nbsp;issue.&nbsp;Can&nbsp;someone&nbsp;please&nbsp;point&nbsp;me&nbsp;in&nbsp;the&nbsp;right&nbsp;direction&nbsp;or&nbsp;give&nbsp;a&nbsp;bit&nbsp;of&nbsp;criticism&nbsp;of&nbsp;the&nbsp;code&nbsp;concepts/thought&nbsp;processes&lt;br&gt;<br>
&lt;br&gt;&lt;br&gt;===========&nbsp;Server&nbsp;========================&lt;br&gt;#!/usr/bin/env&nbsp;python&lt;br&gt;&lt;br&gt;from&nbsp;twisted.web&nbsp;import&nbsp;xmlrpc,&nbsp;server&lt;br&gt;from&nbsp;twisted.internet.defer&nbsp;import&nbsp;Deferred&lt;br&gt;from&nbsp;twisted.internet&nbsp;import&nbsp;reactor,&nbsp;threads&lt;br&gt;<br>
import&nbsp;time&lt;br&gt;&lt;br&gt;class&nbsp;MyServer(xmlrpc.XMLRPC):&lt;br&gt;&lt;br&gt;   &nbsp;def&nbsp;blocking_method(self,&nbsp;duration=5):&lt;br&gt;       &nbsp;&quot;&quot;&quot;block&nbsp;the&nbsp;instance&nbsp;for&nbsp;a&nbsp;specified&nbsp;duration&quot;&quot;&quot;&lt;br&gt;       &nbsp;started&nbsp;=&nbsp;time.asctime()&lt;br&gt;<br>
       &nbsp;time.sleep(duration)&lt;br&gt;       &nbsp;data&nbsp;=&nbsp;&quot;I&nbsp;started&nbsp;at&nbsp;%s&nbsp;and&nbsp;i&nbsp;slept&nbsp;%d&nbsp;seconds&nbsp;then&nbsp;woke&nbsp;at&nbsp;%s&quot;&nbsp;%&nbsp;(started,&nbsp;duration,&nbsp;time.asctime())&lt;br&gt;       &nbsp;return&nbsp;data&lt;br&gt;&lt;br&gt;&lt;br&gt;#   &nbsp;def&nbsp;xmlrpc_block_thread(self,&nbsp;duration=10):&lt;br&gt;<br>
#       &nbsp;&quot;&quot;&quot;&nbsp;pass&nbsp;to&nbsp;blocking&nbsp;method&nbsp;using&nbsp;thread&nbsp;&quot;&quot;&quot;&lt;br&gt;#       &nbsp;return&nbsp;threads.deferToThread(self.blocking_method,&nbsp;duration)&lt;br&gt;#&lt;br&gt;#   &nbsp;def&nbsp;xmlrpc_block(self,&nbsp;duration=10):&lt;br&gt;#       &nbsp;&quot;&quot;&quot;&nbsp;pass&nbsp;to&nbsp;blocking&nbsp;method&nbsp;using&nbsp;defered&nbsp;&quot;&quot;&quot;&lt;br&gt;<br>
#       &nbsp;d&nbsp;=&nbsp;Deferred()&lt;br&gt;#       &nbsp;d.callback(self.blocking_method(duration))&lt;br&gt;#       &nbsp;return&nbsp;d&lt;br&gt;&lt;br&gt;   &nbsp;def&nbsp;xmlrpc_block_fixed(self,&nbsp;duration=5):&lt;br&gt;       &nbsp;&quot;&quot;&quot;&nbsp;pass&nbsp;to&nbsp;blocking&nbsp;method&nbsp;using&nbsp;defered&nbsp;&quot;&quot;&quot;&lt;br&gt;<br>
       &nbsp;d&nbsp;=&nbsp;self.blocking_method_fixed(duration) &nbsp;#&nbsp;return&nbsp;a&nbsp;defered&lt;br&gt;       &nbsp;d.addCallback(self.printdata)&lt;br&gt;       &nbsp;d.addErrback(self.printerror)&lt;br&gt;       &nbsp;return&nbsp;d&lt;br&gt;&lt;br&gt;   &nbsp;def&nbsp;blocking_method_fixed(self,&nbsp;duration=5):&lt;br&gt;<br>
       &nbsp;d&nbsp;=&nbsp;Deferred()&lt;br&gt;       &nbsp;d.callback(self.blocking_method(duration))&lt;br&gt;       &nbsp;return&nbsp;d&lt;br&gt;&lt;br&gt;   &nbsp;def&nbsp;printdata(self,&nbsp;val):&lt;br&gt;       &nbsp;return&nbsp;&#39;Success:&#39;+val&lt;br&gt;&lt;br&gt;   &nbsp;def&nbsp;printerror(self,&nbsp;val):&lt;br&gt;       &nbsp;return&nbsp;&#39;Error:&#39;+val&lt;br&gt;<br>
&lt;br&gt;&lt;br&gt;if&nbsp;__name__&nbsp;==&nbsp;&#39;__main__&#39;:&lt;br&gt;   &nbsp;r&nbsp;=&nbsp;MyServer()&lt;br&gt;   &nbsp;reactor.listenTCP(8080,&nbsp;server.Site(r))&lt;br&gt;   &nbsp;reactor.run()&lt;br&gt;&lt;br&gt;===============================================&lt;br&gt;&lt;br&gt;&lt;br&gt;==========&nbsp;Client&nbsp;================================&lt;br&gt;<br>
#!/usr/bin/env&nbsp;python&lt;br&gt;import&nbsp;xmlrpclib&lt;br&gt;import&nbsp;datetime&lt;br&gt;import&nbsp;sys&lt;br&gt;proxy&nbsp;=&nbsp;xmlrpclib.ServerProxy(&quot;&lt;a&nbsp;href=&quot;http://localhost:8080/&quot;&gt;http://localhost:8080/&lt;/a&gt;&quot;,&nbsp;allow_none=True)&lt;br&gt;print&nbsp;&quot;%s&quot;&nbsp;%&nbsp;str(proxy.block_fixed(5))&lt;br&gt;<br>
&lt;br&gt;===============================================&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;Tim&nbsp;Hughes&lt;br&gt;mailto:&lt;a&nbsp;href=&quot;mailto:thughes@thegoldfish.org&quot;&gt;thughes@thegoldfish.org&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;<br>

</tt>
