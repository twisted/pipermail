<tt>
&lt;html&gt;&lt;head&gt;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html&nbsp;charset=us-ascii&quot;&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&quot;&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;On&nbsp;Dec&nbsp;2,&nbsp;2016,&nbsp;at&nbsp;4:41&nbsp;PM,&nbsp;Craig&nbsp;Rodrigues&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:rodrigc@crodrigues.org&quot;&nbsp;class=&quot;&quot;&gt;rodrigc@crodrigues.org&lt;/a&gt;&gt;&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;Glyph,&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;I&nbsp;took&nbsp;your&nbsp;fix,&nbsp;and&nbsp;added&nbsp;some&nbsp;fixes&nbsp;of&nbsp;my&nbsp;own&nbsp;for&nbsp;__repr__()&nbsp;printing&nbsp;of&nbsp;EC&nbsp;keys&nbsp;in&nbsp;this&nbsp;branch:&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;a&nbsp;href=&quot;https://github.com/twisted/twisted/pull/615&quot;&nbsp;class=&quot;&quot;&gt;https://github.com/twisted/twisted/pull/615&lt;/a&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;If&nbsp;I&nbsp;run&nbsp;the&nbsp;tests,&nbsp;I&nbsp;get&nbsp;a&nbsp;new&nbsp;failure:&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;trial&nbsp;twisted.conch.test.test_keys.KeyTests.test_fromBlobECDSA&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;Traceback&nbsp;(most&nbsp;recent&nbsp;call&nbsp;last):&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;File&nbsp;&quot;/Users/crodrigues/twisted_15/src/twisted/conch/test/test_keys.py&quot;,&nbsp;line&nbsp;776,&nbsp;in&nbsp;test_fromBlobECDSA&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;eckey&nbsp;=&nbsp;keys.Key.fromString(ecblob)&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;File&nbsp;&quot;/Users/crodrigues/twisted_15/src/twisted/conch/ssh/keys.py&quot;,&nbsp;line&nbsp;197,&nbsp;in&nbsp;fromString&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;method(data)&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;File&nbsp;&quot;/Users/crodrigues/twisted_15/src/twisted/conch/ssh/keys.py&quot;,&nbsp;line&nbsp;253,&nbsp;in&nbsp;_fromString_BLOB&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;default_backend()))&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;File&nbsp;&quot;/Users/crodrigues/venv-3.6/lib/python3.6/site-packages/cryptography/hazmat/primitives/serialization.py&quot;,&nbsp;line&nbsp;69,&nbsp;in&nbsp;load_ssh_public_key&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;loader(key_type,&nbsp;rest,&nbsp;backend)&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;File&nbsp;&quot;/Users/crodrigues/venv-3.6/lib/python3.6/site-packages/cryptography/hazmat/primitives/serialization.py&quot;,&nbsp;line&nbsp;103,&nbsp;in&nbsp;_load_ssh_ecdsa_public_key&lt;br&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;'Key&nbsp;header&nbsp;and&nbsp;key&nbsp;body&nbsp;contain&nbsp;different&nbsp;key&nbsp;type&nbsp;values.'&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;builtins.ValueError:&nbsp;Key&nbsp;header&nbsp;and&nbsp;key&nbsp;body&nbsp;contain&nbsp;different&nbsp;key&nbsp;type&nbsp;values.&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;Also,&nbsp;if&nbsp;I&nbsp;try&nbsp;to&nbsp;access&nbsp;my&nbsp;machine&nbsp;with:&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;conch&nbsp;192.168.1.2&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;I&nbsp;see&nbsp;that&nbsp;in&nbsp;the&nbsp;matchesKey()&nbsp;function&nbsp;on&nbsp;this&nbsp;line:&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;a&nbsp;href=&quot;https://github.com/twisted/twisted/blob/trunk/src/twisted/conch/client/knownhosts.py#L106&quot;&nbsp;class=&quot;&quot;&gt;https://github.com/twisted/twisted/blob/trunk/src/twisted/conch/client/knownhosts.py#L106&lt;/a&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;self.publicKey&nbsp;is&nbsp;an&nbsp;EC&nbsp;key,&nbsp;while&nbsp;keyObject&nbsp;is&nbsp;an&nbsp;RSA&nbsp;key.&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;Therefore&nbsp;this&nbsp;function&nbsp;always&nbsp;fails,&nbsp;and&nbsp;I&nbsp;cannot&nbsp;log&nbsp;into&nbsp;the&nbsp;box.&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;Any&nbsp;ideas?&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;It&nbsp;looks&nbsp;like&nbsp;&lt;a&nbsp;href=&quot;https://github.com/twisted/twisted/blob/e48500b94a3b3c751a4ccea36db95a45db8c34be/src/twisted/conch/client/knownhosts.py#L434-L446&quot;&nbsp;class=&quot;&quot;&gt;https://github.com/twisted/twisted/blob/e48500b94a3b3c751a4ccea36db95a45db8c34be/src/twisted/conch/client/knownhosts.py#L434-L446&lt;/a&gt;&nbsp;isn't&nbsp;really&nbsp;geared&nbsp;towards&nbsp;the&nbsp;idea&nbsp;that&nbsp;there&nbsp;might&nbsp;be&nbsp;multiple&nbsp;entries&nbsp;for&nbsp;one&nbsp;host.&nbsp;&nbsp;The&nbsp;first&nbsp;step&nbsp;toward&nbsp;a&nbsp;fix&nbsp;would&nbsp;be&nbsp;to&nbsp;correct&nbsp;that&nbsp;algorithm&nbsp;to&nbsp;only&nbsp;fail&nbsp;if&nbsp;no&nbsp;matches&nbsp;are&nbsp;found,&nbsp;or&nbsp;to&nbsp;specifically&nbsp;check&nbsp;the&nbsp;key&nbsp;type&nbsp;before&nbsp;failing.&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;-glyph&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
