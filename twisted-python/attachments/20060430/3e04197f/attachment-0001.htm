<tt>
I&nbsp;found&nbsp;the&nbsp;solution.&lt;br&gt;&lt;br&gt;The&nbsp;problem&nbsp;was&nbsp;that&nbsp;by&nbsp;default&nbsp;our&nbsp;proxys&nbsp;producer&nbsp;is&nbsp;registered&nbsp;with&nbsp;streaming&nbsp;=&nbsp;True&lt;br&gt;which&nbsp;is&nbsp;not&nbsp;what&nbsp;we&nbsp;want.&lt;br&gt;The&nbsp;following&nbsp;line&nbsp;will&nbsp;register&nbsp;our&nbsp;proxys&nbsp;producer&nbsp;with&nbsp;streaming&nbsp;=&nbsp;False<br>
&lt;br&gt;ProducerConsumerProxy.iAmStreaming&nbsp;=&nbsp;False&lt;br&gt;The&nbsp;rest&nbsp;is&nbsp;the&nbsp;same.&lt;br&gt;I&nbsp;think&nbsp;adding&nbsp;an&nbsp;argument&nbsp;to&nbsp;ProducerConsumerProxy.__init__&nbsp;about&nbsp;streaming&nbsp;would&lt;br&gt;be&nbsp;a&nbsp;good&nbsp;idea.&lt;br&gt;proxy&nbsp;=&nbsp;ProducerConsumerProxy(self.client.transport<br>
)&lt;br&gt;dd&nbsp;=&nbsp;FileSender().beginFileTransfer(self.outgoingFile,&nbsp;proxy)&lt;br&gt;dd.addCallback(self.uploadDone)&lt;br&gt;dd.addErrback(self.uploadError)&lt;br&gt;<br>

</tt>
