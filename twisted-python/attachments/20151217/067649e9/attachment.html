<tt>
&lt;html&gt;&lt;head&gt;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html&nbsp;charset=us-ascii&quot;&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&quot;&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;On&nbsp;Dec&nbsp;9,&nbsp;2015,&nbsp;at&nbsp;4:17&nbsp;AM,&nbsp;Sinan&nbsp;Nalkaya&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:sardok@gmail.com&quot;&nbsp;class=&quot;&quot;&gt;sardok@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;&quot;&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&nbsp;class=&quot;&quot;&gt;Hi&nbsp;Everyone,&lt;/span&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&nbsp;class=&quot;&quot;&gt;I&nbsp;am&nbsp;developing&nbsp;a&nbsp;tiny&nbsp;library&nbsp;where&nbsp;you&nbsp;can&nbsp;use&nbsp;your&nbsp;gpio&nbsp;pins&nbsp;(over&nbsp;sysfs)&nbsp;in&nbsp;twisted&nbsp;way.&nbsp;You&nbsp;may&nbsp;find&nbsp;more&nbsp;about,&nbsp;on&nbsp;&lt;a&nbsp;href=&quot;https://github.com/sardok/txgpio&quot;&nbsp;target=&quot;_blank&quot;&nbsp;class=&quot;&quot;&gt;https://github.com/sardok/txgpio&lt;/a&gt;.&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&nbsp;class=&quot;&quot;&gt;I&nbsp;am&nbsp;facing&nbsp;with&nbsp;a&nbsp;race&nbsp;condition&nbsp;issue,&nbsp;where&nbsp;certain&nbsp;files&nbsp;are&nbsp;needed&nbsp;to&nbsp;be&nbsp;created&nbsp;in&nbsp;filesystem,&nbsp;by&nbsp;kernel,&nbsp;in&nbsp;order&nbsp;have&nbsp;the&nbsp;class&nbsp;to&nbsp;finish&nbsp;its&nbsp;initialization.&nbsp;Which&nbsp;means&nbsp;in&nbsp;twisted&nbsp;jargon,&nbsp;a&nbsp;deferred&nbsp;needs&nbsp;to&nbsp;be&nbsp;resolved&nbsp;in&nbsp;__init__&nbsp;(or&nbsp;another&nbsp;method&nbsp;-&nbsp;see&nbsp;below)&nbsp;method&nbsp;in&nbsp;order&nbsp;to&nbsp;have&nbsp;complete&nbsp;object.&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&nbsp;class=&quot;&quot;&gt;After&nbsp;reading&nbsp;this&nbsp;blog&nbsp;post&nbsp;&lt;a&nbsp;href=&quot;http://as.ynchrono.us/2014/12/asynchronous-object-initialization.html&quot;&nbsp;target=&quot;_blank&quot;&nbsp;class=&quot;&quot;&gt;http://as.ynchrono.us/2014/12/asynchronous-object-initialization.html&lt;/a&gt;&nbsp;by&nbsp;Jean-Paul,&nbsp;i&nbsp;believe&nbsp;having&nbsp;'from_'&nbsp;factory&nbsp;method&nbsp;which&nbsp;waits&nbsp;for&nbsp;those&nbsp;certain&nbsp;files&nbsp;to&nbsp;be&nbsp;created&nbsp;before&nbsp;creating&nbsp;the&nbsp;actual&nbsp;class&nbsp;object&nbsp;is&nbsp;the&nbsp;better&nbsp;way.&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&nbsp;class=&quot;&quot;&gt;However,&nbsp;i&nbsp;couldn't&nbsp;find&nbsp;a&nbsp;way&nbsp;to&nbsp;wait&nbsp;for&nbsp;a&nbsp;deferred&nbsp;in&nbsp;order&nbsp;to&nbsp;use&nbsp;the&nbsp;from_&nbsp;function&nbsp;in&nbsp;the&nbsp;following&nbsp;form&nbsp;(which&nbsp;is&nbsp;the&nbsp;common&nbsp;form&nbsp;for&nbsp;using&nbsp;from_&nbsp;factory&nbsp;methods);&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&nbsp;class=&quot;&quot;&gt;obj&nbsp;=&nbsp;sysfs.GPIO.from_unexported_node(*a,&nbsp;**kw)&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:12.8px&quot;&nbsp;class=&quot;&quot;&gt;More&nbsp;or&nbsp;less,&nbsp;i&nbsp;am&nbsp;looking&nbsp;for&nbsp;some&nbsp;thing&nbsp;equivalent&nbsp;of&nbsp;'&lt;span&nbsp;style=&quot;font-size:13.2px;line-height:18.48px&quot;&nbsp;class=&quot;&quot;&gt;asyncio.get_event_loop()'&nbsp;and&nbsp;'&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:13.2px;line-height:18.48px&quot;&nbsp;class=&quot;&quot;&gt;yield&nbsp;from&nbsp;loop.run_in_executor()'&nbsp;as&nbsp;mentioned&nbsp;in&nbsp;the&nbsp;blog&nbsp;post.&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;equivalent&nbsp;of&nbsp;'asyncio.get_event_loop()'&nbsp;is&nbsp;simply&nbsp;'from&nbsp;twisted.internet&nbsp;import&nbsp;reactor'.&nbsp;&nbsp;However,&nbsp;relying&nbsp;upon&nbsp;this&nbsp;is&nbsp;an&nbsp;anti-pattern&nbsp;(I&nbsp;begged&nbsp;Guido&nbsp;not&nbsp;to&nbsp;add&nbsp;get_event_loop&nbsp;to&nbsp;asyncio,&nbsp;since&nbsp;we&nbsp;would&nbsp;love&nbsp;to&nbsp;remove&nbsp;'twisted.internet.reactor'&nbsp;from&nbsp;Twisted,&nbsp;but&nbsp;oh&nbsp;well).&nbsp;&nbsp;The&nbsp;&quot;right&quot;&nbsp;way&nbsp;to&nbsp;do&nbsp;this&nbsp;is&nbsp;simply&nbsp;to&nbsp;accept&nbsp;'reactor'&nbsp;as&nbsp;a&nbsp;parameter&nbsp;to&nbsp;'from_...'.&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;you're&nbsp;using,&nbsp;for&nbsp;example,&nbsp;twisted.internet.task.react,&nbsp;you'll&nbsp;receive&nbsp;the&nbsp;'reactor'&nbsp;as&nbsp;a&nbsp;parameter&nbsp;at&nbsp;the&nbsp;&quot;top&quot;&nbsp;of&nbsp;your&nbsp;program,&nbsp;you'll&nbsp;never&nbsp;have&nbsp;to&nbsp;import&nbsp;it&nbsp;from&nbsp;twisted.internet,&nbsp;and&nbsp;you&nbsp;can&nbsp;just&nbsp;pass&nbsp;it&nbsp;on&nbsp;through.&nbsp;&nbsp;This&nbsp;style&nbsp;is&nbsp;much&nbsp;cleaner.&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;equivalent&nbsp;to&nbsp;'run_in_executor(None,&nbsp;...)'&nbsp;is&nbsp;simply&nbsp;'reactor.callInThread(...)'.&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;I'm&nbsp;glad&nbsp;you&nbsp;found&nbsp;the&nbsp;&quot;right&quot;&nbsp;way&nbsp;to&nbsp;initialize&nbsp;an&nbsp;object&nbsp;asynchronously&nbsp;:-).&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;Hope&nbsp;this&nbsp;helps,&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;-glyph&lt;/div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
