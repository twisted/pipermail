<tt>
&lt;!DOCTYPE&nbsp;html&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;&lt;/title&gt;&lt;style&nbsp;type=&quot;text/css&quot;&gt;p.MsoNormal,p.MsoNoSpacing{margin:0}&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;div&gt;On&nbsp;Sun,&nbsp;May&nbsp;17,&nbsp;2020,&nbsp;at&nbsp;12:22&nbsp;PM,&nbsp;Glyph&nbsp;wrote:&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;id=&quot;qt&quot;&nbsp;style=&quot;overflow-wrap:break-word;&quot;&gt;&lt;div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;qt-&quot;&gt;&lt;div&nbsp;style=&quot;font-family:Menlo-Regular;font-size:12px;font-style:normal;font-variant-caps:normal;font-weight:normal;letter-spacing:normal;text-align:start;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;-webkit-text-stroke-width:0px;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:currentcolor;text-decoration-thickness:auto;&quot;&nbsp;class=&quot;qt-&quot;&gt;&lt;div&nbsp;class=&quot;qt-&quot;&gt;In&nbsp;the&nbsp;one&nbsp;case&nbsp;that&nbsp;may&nbsp;be&nbsp;complicated&nbsp;I&nbsp;think&nbsp;that&nbsp;pinning&nbsp;Twisted&nbsp;will&nbsp;be&nbsp;acceptable,&nbsp;since&nbsp;the&nbsp;service&nbsp;in&nbsp;question&nbsp;is&nbsp;a&nbsp;process&nbsp;supervisor&nbsp;without&nbsp;direct&nbsp;external&nbsp;exposure.&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;div&gt;Well&nbsp;in&nbsp;that&nbsp;case&nbsp;I'll&nbsp;just&nbsp;do&nbsp;my&nbsp;best&nbsp;to&nbsp;add&nbsp;lots&nbsp;of&nbsp;goodies&nbsp;(posix_spawn&nbsp;support!)&nbsp;that&nbsp;will&nbsp;make&nbsp;you&nbsp;want&nbsp;to&nbsp;upgrade&nbsp;that&nbsp;to&nbsp;current&nbsp;twisted&nbsp;and&nbsp;python&nbsp;3.8&nbsp;:).&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Oh&nbsp;it's&nbsp;not&nbsp;for&nbsp;lack&nbsp;of&nbsp;wanting.&nbsp;:-)&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;service&nbsp;in&nbsp;question&nbsp;is&nbsp;actually&nbsp;spawning&nbsp;Python&nbsp;processes,&nbsp;so&nbsp;posix_spawn&nbsp;support&nbsp;doesn't&nbsp;seem&nbsp;likely&nbsp;to&nbsp;help&nbsp;much:&nbsp;fork()&nbsp;+&nbsp;exec()&nbsp;is&nbsp;a&nbsp;drop&nbsp;in&nbsp;the&nbsp;bucket&nbsp;compared&nbsp;to&nbsp;Python&nbsp;imports,&nbsp;particularly&nbsp;in&nbsp;Python&nbsp;3&nbsp;(I'm&nbsp;hoping&nbsp;to&nbsp;explore&nbsp;oxidized-importer&nbsp;[1]&nbsp;to&nbsp;help&nbsp;with&nbsp;this&nbsp;at&nbsp;some&nbsp;point).&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;looking&nbsp;improve&nbsp;process&nbsp;management&nbsp;in&nbsp;Twisted,&nbsp;I&nbsp;think&nbsp;that&nbsp;the&nbsp;lowest-hanging&nbsp;fruit&nbsp;is&nbsp;to&nbsp;watch&nbsp;children&nbsp;with&nbsp;pidfd,&nbsp;rather&nbsp;than&nbsp;reaping&nbsp;all&nbsp;children&nbsp;on&nbsp;SIGCHLD.&nbsp;This&nbsp;O(n)&nbsp;reaping&nbsp;---&nbsp;one&nbsp;waitpid()&nbsp;call&nbsp;per&nbsp;running&nbsp;process&nbsp;---&nbsp;starts&nbsp;to&nbsp;consume&nbsp;substantial&nbsp;CPU.&nbsp;IIRC&nbsp;it&nbsp;pegged&nbsp;a&nbsp;core&nbsp;at&nbsp;20,000&nbsp;processes&nbsp;or&nbsp;so.&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;---Tom&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;[1]:&nbsp;&lt;a&nbsp;href=&quot;https://pypi.org/project/oxidized-importer/&quot;&gt;https://pypi.org/project/oxidized-importer/&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
