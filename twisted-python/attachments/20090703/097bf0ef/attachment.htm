<tt>
&lt;html&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;On&nbsp;2&nbsp;Jul&nbsp;2009,&nbsp;at&nbsp;23:50,&nbsp;Mikhail&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;br&gt;In&nbsp;my&nbsp;example&nbsp;I&nbsp;should&nbsp;have&nbsp;written&nbsp;&lt;br&gt;&lt;br&gt;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;run(application)&lt;br&gt;&lt;br&gt;instead&nbsp;of&nbsp;&lt;br&gt;&lt;br&gt;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;run(...)&lt;br&gt;&lt;br&gt;Then&nbsp;the&nbsp;difference&nbsp;would&nbsp;be&nbsp;more&nbsp;apparent.&nbsp;Namely,&nbsp;in&nbsp;my&nbsp;'wrapper'&lt;br&gt;it&nbsp;is&nbsp;explicit&nbsp;what&nbsp;application&nbsp;will&nbsp;be&nbsp;run&nbsp;and&nbsp;where&nbsp;all&nbsp;the&nbsp;services&lt;br&gt;came&nbsp;from,&nbsp;your&nbsp;'wrapper'&nbsp;is&nbsp;just&nbsp;a&nbsp;customized&nbsp;version&nbsp;of&nbsp;twistd&nbsp;and&nbsp;&lt;br&gt;what&nbsp;will&nbsp;be&nbsp;run&nbsp;depends&nbsp;on&nbsp;the&nbsp;command&nbsp;line&nbsp;and&nbsp;what&nbsp;will&nbsp;be&nbsp;found&nbsp;&lt;br&gt;in&nbsp;the&nbsp;file&nbsp;system.&nbsp;In&nbsp;some&nbsp;cases&nbsp;I'd&nbsp;like&nbsp;to&nbsp;_explicitly_&nbsp;code&nbsp;into&nbsp;&lt;br&gt;main&nbsp;script&nbsp;what&nbsp;functionality&nbsp;my&nbsp;application&nbsp;provides&nbsp;and&nbsp;I&nbsp;do&nbsp;not&lt;br&gt;want&nbsp;twistd&nbsp;search&nbsp;file&nbsp;system&nbsp;for&nbsp;plugins&nbsp;at&nbsp;all.&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#000000&quot;&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#144FAE&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I'm&amp;nbsp;not&amp;nbsp;using&amp;nbsp;plugins,&amp;nbsp;but&amp;nbsp;I&amp;nbsp;had&amp;nbsp;the&amp;nbsp;same&amp;nbsp;requirement&amp;nbsp;as&amp;nbsp;you&amp;nbsp;to&amp;nbsp;explicitly&amp;nbsp;create&amp;nbsp;the&amp;nbsp;app&amp;nbsp;and&amp;nbsp;then&amp;nbsp;run&amp;nbsp;it&amp;nbsp;-&amp;nbsp;because&amp;nbsp;I&amp;nbsp;need&amp;nbsp;the&amp;nbsp;freeze&amp;nbsp;scripts&amp;nbsp;to&amp;nbsp;make&amp;nbsp;a&amp;nbsp;single&amp;nbsp;application.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;My&amp;nbsp;solution&amp;nbsp;looked&amp;nbsp;something&amp;nbsp;like:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;#&nbsp;myapp.py&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;from&nbsp;twisted.scripts._twistd_unix&nbsp;import&nbsp;UnixApplicationRunner&lt;/div&gt;&lt;div&gt;#&nbsp;Of&nbsp;course,&nbsp;that's&nbsp;just&nbsp;because&nbsp;the&nbsp;app&nbsp;is&nbsp;unix&nbsp;only&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;class&nbsp;MyRunner(UnixApplicationRunner):&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;def&nbsp;createOrGetApplication(self):&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;#&nbsp;The&nbsp;stuff&nbsp;that's&nbsp;usually&nbsp;in&nbsp;a&nbsp;tac&nbsp;file&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;application&nbsp;=&nbsp;#&nbsp;...&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;return&nbsp;application&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;def&nbsp;main():&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;setup_logging()&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;config&nbsp;=&nbsp;{&nbsp;#&nbsp;stuff&nbsp;pinched&nbsp;by&nbsp;dumping&nbsp;'config'&nbsp;during&nbsp;a&nbsp;twistd&nbsp;run&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;}&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;#&nbsp;Also&nbsp;do&nbsp;the&nbsp;ServerOptions&nbsp;thing&nbsp;here&nbsp;if&nbsp;necessary&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;MyRunner(config).run()&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;if&nbsp;__name__&nbsp;==&nbsp;'__main__'&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;main()&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
