<tt>
&lt;html&gt;&lt;head&gt;&lt;style&nbsp;type=&quot;text/css&quot;&gt;&lt;!--&nbsp;DIV&nbsp;{margin:0px;}&nbsp;--&gt;&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;div&nbsp;style=&quot;font-family:times&nbsp;new&nbsp;roman,&nbsp;new&nbsp;york,&nbsp;times,&nbsp;serif;font-size:12pt&quot;&gt;&lt;div&gt;Hi,&lt;br&gt;&lt;br&gt;I'm&nbsp;using&nbsp;TCP&nbsp;to&nbsp;pass&nbsp;large&nbsp;files&nbsp;back&nbsp;and&nbsp;fourth.&nbsp;&nbsp;So&nbsp;far&nbsp;I've&nbsp;follow&nbsp;and&nbsp;expanded&nbsp;on&nbsp;the&nbsp;twisted&nbsp;code&nbsp;examples&nbsp;for&nbsp;a&nbsp;simple&nbsp;server/client.&nbsp;&nbsp;&lt;br&gt;Everything&nbsp;works&nbsp;fine&nbsp;for&nbsp;me&nbsp;until&nbsp;the&nbsp;packets&nbsp;get&nbsp;large&nbsp;enough&nbsp;that&nbsp;fragmentation&nbsp;kicks&nbsp;in.&lt;br&gt;&lt;br&gt;From&nbsp;one&nbsp;side,&nbsp;I'm&nbsp;sending&nbsp;packets&nbsp;like&nbsp;so:&lt;br&gt;&lt;br&gt;class&nbsp;EchoClient(protocol.Protocol):&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;connectionMade(self):&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data&nbsp;=&nbsp;&quot;&quot;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;len(data)&nbsp;&lt;&nbsp;10000:&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data=data+'a'&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.transport.write(data)&lt;br&gt;&lt;br&gt;&lt;br&gt;and&nbsp;on&nbsp;the&nbsp;receiving&nbsp;end:&lt;br&gt;&lt;br&gt;def&nbsp;dataReceived(self,<br>
&nbsp;data):&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;data&lt;br&gt;&lt;br&gt;&lt;br&gt;I&nbsp;noticed&nbsp;after&nbsp;multiple&nbsp;iterations&nbsp;the&nbsp;data&nbsp;buffer&nbsp;fills&nbsp;up&nbsp;to&nbsp;the&nbsp;total&nbsp;10000&nbsp;bytes,&nbsp;but&nbsp;this&nbsp;takes&nbsp;3&nbsp;iterations&nbsp;of&nbsp;dataReceived().&nbsp;&nbsp;Common&nbsp;sense&nbsp;suggests&nbsp;to&nbsp;have&nbsp;a&nbsp;simple&nbsp;&quot;if&nbsp;len(data)&nbsp;==&nbsp;totalPacketSize&quot;&nbsp;to&nbsp;solve&nbsp;my&nbsp;problem,&nbsp;but&nbsp;I&nbsp;have&nbsp;different&nbsp;sized&nbsp;packets&nbsp;coming&nbsp;in&nbsp;all&nbsp;the&nbsp;time,&nbsp;and&nbsp;can't&nbsp;hardcode&nbsp;this&nbsp;part.&lt;br&gt;&lt;br&gt;I&nbsp;was&nbsp;wondering&nbsp;if&nbsp;there's&nbsp;any&nbsp;way&nbsp;in&nbsp;Twisted/Python&nbsp;to&nbsp;handle&nbsp;packet&nbsp;fragmentation.&nbsp;&nbsp;Can&nbsp;I&nbsp;access&nbsp;the&nbsp;last&nbsp;fragment&nbsp;flag&nbsp;in&nbsp;the&nbsp;TCP&nbsp;packet&nbsp;somehow?&nbsp;Or&nbsp;is&nbsp;there&nbsp;a&nbsp;total&nbsp;packet&nbsp;size&nbsp;sent&nbsp;with&nbsp;the&nbsp;packet&nbsp;automatically?&lt;br&gt;If&nbsp;not,&nbsp;what&nbsp;would&nbsp;be&nbsp;the&nbsp;best&nbsp;way&nbsp;to&nbsp;solve&nbsp;this?&lt;br&gt;&lt;br&gt;thanks,&lt;br&gt;&lt;br&gt;Nima&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
