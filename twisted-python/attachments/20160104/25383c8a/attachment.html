<tt>
&lt;html&gt;&lt;head&gt;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html&nbsp;charset=us-ascii&quot;&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;Hi&nbsp;Kevin!&nbsp;&nbsp;Sorry&nbsp;for&nbsp;the&nbsp;delay;&nbsp;your&nbsp;message&nbsp;caught&nbsp;me&nbsp;(and&nbsp;I&nbsp;suspect&nbsp;many&nbsp;other&nbsp;people)&nbsp;on&nbsp;vacation.&lt;/div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;On&nbsp;Dec&nbsp;26,&nbsp;2015,&nbsp;at&nbsp;4:08&nbsp;PM,&nbsp;Kevin&nbsp;Mcintyre&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:kebin70@gmail.com&quot;&nbsp;class=&quot;&quot;&gt;kebin70@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;1)&nbsp;Is&nbsp;template&nbsp;block&nbsp;processing&nbsp;done&nbsp;top&nbsp;to&nbsp;bottom&nbsp;sequentially?&nbsp;&nbsp;I've&nbsp;included&nbsp;example.py&nbsp;-&nbsp;it's&nbsp;interesting&nbsp;that&nbsp;by&nbsp;having&nbsp;a&nbsp;blocking&nbsp;call&nbsp;first&nbsp;the&nbsp;second&nbsp;request&nbsp;is&nbsp;blocked,&nbsp;but&nbsp;having&nbsp;the&nbsp;blocking&nbsp;call&nbsp;after&nbsp;a&nbsp;non-blocking&nbsp;call&nbsp;the&nbsp;second&nbsp;request&nbsp;is&nbsp;not.&nbsp;&nbsp;I&nbsp;would've&nbsp;thought&nbsp;it&nbsp;would&nbsp;behave&nbsp;as&nbsp;a&nbsp;deferred&nbsp;list,&nbsp;but&nbsp;looking&nbsp;at&nbsp;_flattenTree&nbsp;and&nbsp;guessing&nbsp;not.&nbsp;&nbsp;Maybe&nbsp;related&nbsp;to&nbsp;wait_for_it&nbsp;example?&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;I'm&nbsp;not&nbsp;&lt;i&nbsp;class=&quot;&quot;&gt;entirely&lt;/i&gt;&nbsp;sure&nbsp;what&nbsp;you&nbsp;mean&nbsp;by&nbsp;&quot;top&nbsp;to&nbsp;bottom&quot;&nbsp;or&nbsp;&quot;sequentially&quot;,&nbsp;but&nbsp;I&nbsp;&lt;i&nbsp;class=&quot;&quot;&gt;think&lt;/i&gt;&nbsp;for&nbsp;all&nbsp;reasonable&nbsp;meanings&nbsp;of&nbsp;these&nbsp;words&nbsp;the&nbsp;answer&nbsp;would&nbsp;be&nbsp;&quot;yes&quot;.&nbsp;&nbsp;However,&nbsp;blocking&nbsp;calls&nbsp;on&nbsp;the&nbsp;main&nbsp;loop&nbsp;always&nbsp;block&nbsp;the&nbsp;entire&nbsp;main&nbsp;loop&nbsp;in&nbsp;Twisted;&nbsp;multiple&nbsp;&lt;i&nbsp;class=&quot;&quot;&gt;requests&lt;/i&gt;&nbsp;do&nbsp;not&nbsp;interact&nbsp;with&nbsp;each&nbsp;other&nbsp;in&nbsp;twisted.web.template,&nbsp;except&nbsp;for&nbsp;the&nbsp;fact&nbsp;that&nbsp;they&nbsp;share&nbsp;a&nbsp;main&nbsp;loop,&nbsp;just&nbsp;as&nbsp;everything&nbsp;else&nbsp;in&nbsp;Twisted&nbsp;does.&lt;/div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;2)&nbsp;Is&nbsp;it&nbsp;possible&nbsp;for&nbsp;a&nbsp;Resource&nbsp;to&nbsp;act&nbsp;as&nbsp;an&nbsp;Element&nbsp;too?&nbsp;&nbsp;I've&nbsp;included&nbsp;a&nbsp;non-working&nbsp;elementresource.py.&nbsp;&nbsp;I'm&nbsp;a&nbsp;total&nbsp;hack,&nbsp;but&nbsp;I&nbsp;would&nbsp;think&nbsp;that&nbsp;if&nbsp;an&nbsp;instance&nbsp;had&nbsp;a&nbsp;loader&nbsp;attr&nbsp;it&nbsp;could&nbsp;be&nbsp;processable.&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;A&nbsp;Resource&nbsp;is&nbsp;a&nbsp;Resource;&nbsp;an&nbsp;Element&nbsp;is&nbsp;an&nbsp;Element.&nbsp;&nbsp;They&nbsp;do&nbsp;different&nbsp;things,&nbsp;and&nbsp;muddling&nbsp;up&nbsp;the&nbsp;request-dispatching&nbsp;API&nbsp;further&nbsp;wouldn't&nbsp;help&nbsp;anything.&nbsp;&nbsp;Multiple&nbsp;inheritance&nbsp;is&nbsp;always&nbsp;a&nbsp;&quot;you&nbsp;have&nbsp;two&nbsp;problems&quot;&nbsp;sort&nbsp;of&nbsp;scenario.&nbsp;&nbsp;However,&nbsp;what&nbsp;I&nbsp;think&nbsp;you&nbsp;want&nbsp;(a&nbsp;place&nbsp;where&nbsp;you&nbsp;could&nbsp;conveniently&nbsp;return&nbsp;an&nbsp;Element&nbsp;&lt;i&nbsp;class=&quot;&quot;&gt;or&lt;/i&gt;&nbsp;a&nbsp;Resource,&nbsp;and&nbsp;the&nbsp;result&nbsp;would&nbsp;be&nbsp;properly&nbsp;adapted)&nbsp;is&nbsp;supported&nbsp;by&nbsp;Klein:&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;https://github.com/twisted/klein/blob/e336c5b1af25badb3f159ab72b3d1bf392d45ba5/klein/resource.py#L225-L226&quot;&nbsp;class=&quot;&quot;&gt;https://github.com/twisted/klein/blob/e336c5b1af25badb3f159ab72b3d1bf392d45ba5/klein/resource.py#L225-L226&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;You&nbsp;can&nbsp;return&nbsp;an&nbsp;Element&nbsp;from&nbsp;any&nbsp;klein&nbsp;route&nbsp;and&nbsp;it&nbsp;will&nbsp;be&nbsp;turned&nbsp;into&nbsp;a&nbsp;Resource&nbsp;for&nbsp;you.&lt;/div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;3)&nbsp;Is&nbsp;it&nbsp;possible&nbsp;to&nbsp;include&nbsp;xmlns:t=&quot;&lt;a&nbsp;href=&quot;http://twistedmatrix.com/ns/twisted.web.template/0.1&quot;&nbsp;class=&quot;&quot;&gt;http://twistedmatrix.com/ns/twisted.web.template/0.1&lt;/a&gt;&quot;&nbsp;not&nbsp;in&nbsp;a&nbsp;tag&nbsp;itself?&nbsp;&nbsp;Or&nbsp;perhaps&nbsp;have&nbsp;a&nbsp;tag&nbsp;like&nbsp;'render-block'&nbsp;that&nbsp;could&nbsp;be&nbsp;transparent-like?&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;Not&nbsp;built-in,&nbsp;but&nbsp;the&nbsp;&lt;a&nbsp;href=&quot;https://twistedmatrix.com/documents/15.5.0/api/twisted.web.iweb.ITemplateLoader.html&quot;&nbsp;class=&quot;&quot;&gt;https://twistedmatrix.com/documents/15.5.0/api/twisted.web.iweb.ITemplateLoader.html&lt;/a&gt;&nbsp;interface&nbsp;allows&nbsp;you&nbsp;to&nbsp;load&nbsp;your&nbsp;template&nbsp;however&nbsp;you&nbsp;like.&nbsp;&nbsp;I&nbsp;have&nbsp;written&nbsp;a&nbsp;couple&nbsp;of&nbsp;small&nbsp;apps&nbsp;that&nbsp;used&nbsp;html5lib&nbsp;with&nbsp;some&nbsp;post-processing&nbsp;to&nbsp;load&nbsp;templates&nbsp;instead&nbsp;of&nbsp;expat,&nbsp;and&nbsp;if&nbsp;I&nbsp;weren't&nbsp;so&nbsp;lazy&nbsp;I&nbsp;would&nbsp;have&nbsp;contributed&nbsp;one&nbsp;of&nbsp;them&nbsp;to&nbsp;Twisted&nbsp;:).&nbsp;&nbsp;You&nbsp;could&nbsp;write&nbsp;a&nbsp;loader&nbsp;that&nbsp;wraps&nbsp;the&nbsp;document&nbsp;in&nbsp;an&nbsp;enclosing&nbsp;tag&nbsp;that&nbsp;adds&nbsp;the&nbsp;XML&nbsp;namespace&nbsp;textually,&nbsp;and&nbsp;that&nbsp;might&nbsp;do&nbsp;the&nbsp;trick.&nbsp;&nbsp;We'd&nbsp;definitely&nbsp;be&nbsp;interested&nbsp;in&nbsp;a&nbsp;contribution&nbsp;that&nbsp;dealt&nbsp;with&nbsp;this.&lt;/div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;4)&nbsp;Is&nbsp;it&nbsp;possible&nbsp;to&nbsp;have&nbsp;xmlns:t=&quot;&lt;a&nbsp;href=&quot;http://twistedmatrix.com/ns/twisted.web.template/0.1&quot;&nbsp;class=&quot;&quot;&gt;http://twistedmatrix.com/ns/twisted.web.template/0.1&lt;/a&gt;&quot;&nbsp;in&nbsp;multiple&nbsp;places&nbsp;in&nbsp;a&nbsp;template?&nbsp;&nbsp;I&nbsp;have&nbsp;some&nbsp;cases&nbsp;with&nbsp;inline&nbsp;scripts&nbsp;that&nbsp;bonk&nbsp;out&nbsp;with&nbsp;&gt;&nbsp;or&nbsp;&lt;&nbsp;characters.&nbsp;&nbsp;This&nbsp;is&nbsp;very&nbsp;much&nbsp;related&nbsp;to&nbsp;#3.&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;&quot;bonk&nbsp;out&quot;?&nbsp;&nbsp;It&nbsp;sounds&nbsp;like&nbsp;you&nbsp;have&nbsp;a&nbsp;cross-site-scripting&nbsp;attack&nbsp;in&nbsp;the&nbsp;making&nbsp;here.&nbsp;&nbsp;Messing&nbsp;with&nbsp;how&nbsp;the&nbsp;template&nbsp;gets&nbsp;loaded&nbsp;is&nbsp;not&nbsp;the&nbsp;right&nbsp;way&nbsp;to&nbsp;address&nbsp;it.&nbsp;&nbsp;Please&nbsp;describe&nbsp;this&nbsp;in&nbsp;more&nbsp;detail&nbsp;so&nbsp;I&nbsp;don't&nbsp;give&nbsp;you&nbsp;advice&nbsp;that&nbsp;is&nbsp;going&nbsp;to&nbsp;get&nbsp;your&nbsp;users&nbsp;pwnt&nbsp;because&nbsp;I&nbsp;don't&nbsp;fully&nbsp;understand&nbsp;your&nbsp;use-case&nbsp;:).&lt;/div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;5)&nbsp;Is&nbsp;it&nbsp;possible&nbsp;for&nbsp;a&nbsp;render&nbsp;element&nbsp;to&nbsp;return&nbsp;something&nbsp;like&nbsp;&quot;&lt;~sometag&nbsp;t:render&gt;...&quot;&nbsp;and&nbsp;process&nbsp;recursively?&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;You&nbsp;mean&nbsp;return&nbsp;a&nbsp;literal&nbsp;string,&nbsp;or&nbsp;do&nbsp;you&nbsp;just&nbsp;mean&nbsp;you&nbsp;want&nbsp;an&nbsp;element&nbsp;to&nbsp;return&nbsp;another&nbsp;element&nbsp;from&nbsp;a&nbsp;renderer?&lt;/div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;6)&nbsp;Is&nbsp;there&nbsp;any&nbsp;examples&nbsp;of&nbsp;connection&nbsp;keep-alive&nbsp;long&nbsp;polling?&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;Just&nbsp;return&nbsp;NOT_DONE_YET,&nbsp;save&nbsp;the&nbsp;request&nbsp;away,&nbsp;and&nbsp;call&nbsp;request.write/request.finish&nbsp;sometime&nbsp;later.&nbsp;&nbsp;It's&nbsp;almost&nbsp;too&nbsp;simple&nbsp;to&nbsp;have&nbsp;an&nbsp;example&nbsp;:).&lt;/div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;7)&nbsp;Examples&nbsp;of&nbsp;request&nbsp;based&nbsp;scoping&nbsp;would&nbsp;be&nbsp;great.&nbsp;&nbsp;All&nbsp;the&nbsp;examples&nbsp;on&nbsp;&lt;a&nbsp;href=&quot;http://twistedmatrix.com/documents/13.0.0/web/howto/twisted-templates.html&quot;&nbsp;class=&quot;&quot;&gt;http://twistedmatrix.com/documents/13.0.0/web/howto/twisted-templates.html&lt;/a&gt;&nbsp;have&nbsp;flatten(None...&nbsp;-&nbsp;&nbsp;I've&nbsp;included&nbsp;request_scope.py&nbsp;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;Setting&nbsp;arbitrary&nbsp;attributes&nbsp;on&nbsp;the&nbsp;request&nbsp;is&nbsp;a&nbsp;terrible&nbsp;anti-pattern,&nbsp;so&nbsp;you&nbsp;won't&nbsp;find&nbsp;any&nbsp;examples&nbsp;of&nbsp;using&nbsp;the&nbsp;request&nbsp;for&nbsp;that.&nbsp;&nbsp;Looking&nbsp;at&nbsp;the&nbsp;documentation&nbsp;now,&nbsp;I&nbsp;can&nbsp;see&nbsp;it&nbsp;doesn't&nbsp;really&nbsp;explain&nbsp;how&nbsp;to&nbsp;manage&nbsp;state&nbsp;necessary&nbsp;for&nbsp;rendering&nbsp;an&nbsp;element,&nbsp;and&nbsp;it&nbsp;probably&nbsp;should.&nbsp;&nbsp;This&nbsp;type&nbsp;of&nbsp;documentation&nbsp;oversight&nbsp;is&nbsp;very&nbsp;common&nbsp;in&nbsp;Twisted,&nbsp;unfortunately,&nbsp;because&nbsp;there's&nbsp;a&nbsp;strange&nbsp;disconnect&nbsp;between&nbsp;the&nbsp;way&nbsp;the&nbsp;average&nbsp;Twisted&nbsp;core&nbsp;developer&nbsp;thinks&nbsp;and&nbsp;the&nbsp;way&nbsp;the&nbsp;average&nbsp;Python&nbsp;developer&nbsp;thinks&nbsp;that&nbsp;continues&nbsp;to&nbsp;mystify&nbsp;me.&nbsp;&nbsp;In&nbsp;this&nbsp;case,&nbsp;we&nbsp;assume&nbsp;you've&nbsp;put&nbsp;your&nbsp;state&nbsp;on&nbsp;'self'&nbsp;so&nbsp;the&nbsp;examples&nbsp;all&nbsp;focus&nbsp;on&nbsp;just&nbsp;how&nbsp;to&nbsp;inject&nbsp;it&nbsp;into&nbsp;the&nbsp;template&nbsp;with&nbsp;slots.&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;is&nbsp;exemplified&nbsp;by&nbsp;this&nbsp;Stack&nbsp;Overflow&nbsp;question&nbsp;I&nbsp;wrote&nbsp;a&nbsp;while&nbsp;ago&nbsp;-&nbsp;&lt;a&nbsp;href=&quot;http://stackoverflow.com/questions/7313761/how-do-i-add-two-integers-together-with-twisted&quot;&nbsp;class=&quot;&quot;&gt;http://stackoverflow.com/questions/7313761/how-do-i-add-two-integers-together-with-twisted&lt;/a&gt;&nbsp;-&nbsp;it's&nbsp;an&nbsp;extremely&nbsp;general&nbsp;problem&nbsp;that's&nbsp;hard&nbsp;to&nbsp;pin&nbsp;down.&nbsp;&nbsp;It&nbsp;shows&nbsp;up&nbsp;particularly&nbsp;often&nbsp;when&nbsp;twisted's&nbsp;users&nbsp;are&nbsp;trying&nbsp;to&nbsp;make&nbsp;multiple&nbsp;protocols,&nbsp;or&nbsp;web&nbsp;resources,&nbsp;interact&nbsp;with&nbsp;each&nbsp;other.&nbsp;&nbsp;The&nbsp;general&nbsp;question&nbsp;is:&nbsp;how&nbsp;do&nbsp;I&nbsp;use&nbsp;Twisted&nbsp;to&nbsp;manage&nbsp;the&nbsp;state&nbsp;associated&nbsp;with&nbsp;these&nbsp;connections?&nbsp;&nbsp;What&nbsp;Twisted&nbsp;API&nbsp;should&nbsp;I&nbsp;use&nbsp;to&nbsp;move&nbsp;state&nbsp;between&nbsp;them?&nbsp;&nbsp;In&nbsp;your&nbsp;case,&nbsp;you're&nbsp;asking&nbsp;how&nbsp;you&nbsp;can&nbsp;use&nbsp;APIs&nbsp;within&nbsp;Element&nbsp;or&nbsp;Resource&nbsp;to&nbsp;move&nbsp;state&nbsp;from&nbsp;your&nbsp;resource's&nbsp;render&nbsp;method&nbsp;to&nbsp;the&nbsp;Element&nbsp;you're&nbsp;instantiating.&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;answer&nbsp;is:&nbsp;your&nbsp;Element&nbsp;is&nbsp;just&nbsp;a&nbsp;Python&nbsp;class.&nbsp;&nbsp;Don't&nbsp;stick&nbsp;stuff&nbsp;onto&nbsp;the&nbsp;request&nbsp;and&nbsp;then&nbsp;pass&nbsp;the&nbsp;request&nbsp;into&nbsp;the&nbsp;Element&nbsp;via&nbsp;the&nbsp;rendering&nbsp;mechanism&nbsp;so&nbsp;that&nbsp;you&nbsp;can&nbsp;pull&nbsp;the&nbsp;state&nbsp;back&nbsp;out&nbsp;again.&nbsp;&nbsp;Just&nbsp;pass&nbsp;the&nbsp;state&nbsp;that&nbsp;the&nbsp;Element&nbsp;needs&nbsp;to&nbsp;do&nbsp;its&nbsp;job&nbsp;into&nbsp;its&nbsp;constructor.&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;reason&nbsp;the&nbsp;docs&nbsp;often&nbsp;don't&nbsp;cover&nbsp;this&nbsp;sort&nbsp;of&nbsp;thing&nbsp;is&nbsp;that&nbsp;it&nbsp;seems&nbsp;bizarre&nbsp;to&nbsp;have&nbsp;to&nbsp;explain&nbsp;how&nbsp;Python&nbsp;classes&nbsp;work;&nbsp;and&nbsp;in&nbsp;fact&nbsp;I'm&nbsp;sure&nbsp;you&nbsp;(and&nbsp;our&nbsp;audience)&nbsp;&lt;i&nbsp;class=&quot;&quot;&gt;do&lt;/i&gt;&nbsp;know&nbsp;how&nbsp;they&nbsp;work,&nbsp;so&nbsp;an&nbsp;explanation&nbsp;of&nbsp;how&nbsp;to&nbsp;write&nbsp;a&nbsp;constructor&nbsp;seems&nbsp;out&nbsp;of&nbsp;place&nbsp;in&nbsp;the&nbsp;documentation&nbsp;for&nbsp;twisted.web.&nbsp;&nbsp;I&nbsp;can&nbsp;see&nbsp;that&nbsp;this&nbsp;is&nbsp;a&nbsp;&quot;best&nbsp;practice&quot;&nbsp;that&nbsp;should&nbsp;at&nbsp;least&nbsp;be&nbsp;touched&nbsp;on&nbsp;though,&nbsp;so&nbsp;that&nbsp;people&nbsp;don't&nbsp;encounter&nbsp;this&nbsp;sort&nbsp;of&nbsp;confusion.&lt;/div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;8)&nbsp;The&nbsp;wait_for_it&nbsp;example,&nbsp;is&nbsp;that&nbsp;meant&nbsp;as&nbsp;a&nbsp;chunked&nbsp;transfer&nbsp;example?&nbsp;&nbsp;It&nbsp;would&nbsp;be&nbsp;cool&nbsp;to&nbsp;have&nbsp;an&nbsp;example&nbsp;I&nbsp;could&nbsp;open&nbsp;in&nbsp;a&nbsp;browser.&nbsp;&nbsp;Trying&nbsp;to&nbsp;wrap&nbsp;my&nbsp;head&nbsp;around&nbsp;this&nbsp;and&nbsp;subviews&nbsp;in&nbsp;the&nbsp;meantime.&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;Chunked&nbsp;transfer&nbsp;is&nbsp;a&nbsp;transport&nbsp;implementation&nbsp;detail;&nbsp;this&nbsp;is&nbsp;meant&nbsp;as&nbsp;an&nbsp;example&nbsp;of&nbsp;how&nbsp;you&nbsp;can&nbsp;use&nbsp;Deferreds.&nbsp;&nbsp;The&nbsp;problem&nbsp;with&nbsp;demonstrating&nbsp;this&nbsp;concept&nbsp;in&nbsp;a&nbsp;browser&nbsp;is&nbsp;that&nbsp;browsers&nbsp;have&nbsp;weird,&nbsp;arbitrary&nbsp;thresholds&nbsp;for&nbsp;incremental&nbsp;rendering&nbsp;and&nbsp;will&nbsp;generally&nbsp;&lt;i&nbsp;class=&quot;&quot;&gt;intentionally&nbsp;avoid&lt;/i&gt;&nbsp;partially&nbsp;rendering&nbsp;anything&nbsp;example-sized,&nbsp;instead&nbsp;opting&nbsp;to&nbsp;leave&nbsp;the&nbsp;page&nbsp;blank&nbsp;until&nbsp;the&nbsp;full&nbsp;body&nbsp;has&nbsp;been&nbsp;received.&nbsp;This&nbsp;example&nbsp;will&nbsp;send&nbsp;&quot;before&nbsp;waiting&nbsp;...&quot;&nbsp;to&nbsp;the&nbsp;browser&nbsp;as&nbsp;soon&nbsp;as&nbsp;the&nbsp;request&nbsp;is&nbsp;sent,&nbsp;but&nbsp;we&nbsp;can't&nbsp;control&nbsp;what&nbsp;the&nbsp;browser&nbsp;actually&nbsp;does&nbsp;with&nbsp;it.&nbsp;&nbsp;I&nbsp;actually&nbsp;tried&nbsp;to&nbsp;fix&nbsp;this&nbsp;up&nbsp;a&nbsp;few&nbsp;months&nbsp;ago&nbsp;and&nbsp;the&nbsp;rules&nbsp;that&nbsp;browsers&nbsp;use&nbsp;for&nbsp;incremental&nbsp;rendering&nbsp;just&nbsp;completely&nbsp;baffled&nbsp;me;&nbsp;if&nbsp;you&nbsp;can&nbsp;figure&nbsp;out&nbsp;a&nbsp;way&nbsp;to&nbsp;reliably&nbsp;demonstrate&nbsp;this&nbsp;it&nbsp;would&nbsp;be&nbsp;great.&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;Thanks&nbsp;for&nbsp;using&nbsp;Twisted!&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;-glyph&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
