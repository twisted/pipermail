<tt>
&lt;html&gt;&lt;body&gt;On&nbsp;04:25&nbsp;am,&nbsp;daniel@keystonewood.com&nbsp;wrote:&lt;br&nbsp;/&gt;&gt;On&nbsp;Apr&nbsp;4,&nbsp;2007,&nbsp;at&nbsp;1:43&nbsp;PM,&nbsp;glyph@divmod.com&nbsp;wrote:&lt;br&nbsp;/&gt;&gt;&gt;On&nbsp;04:35&nbsp;pm,&nbsp;daniel@keystonewood.com&nbsp;wrote:&lt;br&nbsp;/&gt;&gt;&gt;&nbsp;&gt;On&nbsp;Apr&nbsp;3,&nbsp;2007,&nbsp;at&nbsp;8:42&nbsp;PM,&nbsp;Itamar&nbsp;Shtull-Trauring&nbsp;wrote:&lt;br&nbsp;/&gt;&gt;&gt;&nbsp;&gt;&gt;On&nbsp;Tue,&nbsp;2007-04-03&nbsp;at&nbsp;17:07&nbsp;-0400,&nbsp;Daniel&nbsp;Miller&nbsp;wrote:&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;&gt;Well&nbsp;of&nbsp;course&nbsp;it's&nbsp;no&nbsp;big&nbsp;deal&nbsp;to&nbsp;change&nbsp;IQuoter,&nbsp;but&nbsp;that&nbsp;specific&nbsp;&#160;case&nbsp;&lt;br&nbsp;/&gt;&gt;wasn't&nbsp;really&nbsp;my&nbsp;point.&nbsp;My&nbsp;point&nbsp;is&nbsp;that&nbsp;in&nbsp;the&nbsp;real&nbsp;world&nbsp;it's&nbsp;&#160;a&nbsp;BAD&nbsp;THING&nbsp;&lt;br&nbsp;/&gt;&gt;to&nbsp;have&nbsp;to&nbsp;rewrite&nbsp;perfectly&nbsp;good/working/tested&nbsp;code&nbsp;&#160;just&nbsp;because&nbsp;we&nbsp;want&nbsp;&lt;br&nbsp;/&gt;&gt;to&nbsp;use&nbsp;twisted.&nbsp;But&nbsp;this&nbsp;is&nbsp;exactly&nbsp;what&nbsp;&#160;happened&nbsp;to&nbsp;me&nbsp;when&nbsp;twisted&nbsp;was&nbsp;&lt;br&nbsp;/&gt;&gt;introduced&nbsp;into&nbsp;my&nbsp;project.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;Hmm.&nbsp;&#160;Well,&nbsp;I&nbsp;don't&nbsp;know&nbsp;about&nbsp;the&nbsp;&quot;real&nbsp;world&quot;&nbsp;-&nbsp;haven't&nbsp;visited&nbsp;in&nbsp;a&nbsp;while&nbsp;-&nbsp;but&nbsp;in&nbsp;the&nbsp;magical&nbsp;fairy&nbsp;kingdom&nbsp;where&nbsp;*I*&nbsp;live,&nbsp;it&nbsp;is&nbsp;generally&nbsp;considered&nbsp;a&nbsp;good&nbsp;idea&nbsp;to&nbsp;globally&nbsp;consider&nbsp;the&nbsp;implications&nbsp;of&nbsp;a&nbsp;new&nbsp;programming&nbsp;model&nbsp;on&nbsp;&quot;good/working/tested&nbsp;code&quot;.&nbsp;&#160;Networks&nbsp;and&nbsp;concurrency,&nbsp;in&nbsp;particular,&nbsp;have&nbsp;this&nbsp;pesky&nbsp;habit&nbsp;of&nbsp;introducing&nbsp;entirely&nbsp;new&nbsp;error&nbsp;conditions&nbsp;into&nbsp;previously&nbsp;&quot;working&quot;&nbsp;code,&nbsp;breaking&nbsp;all&nbsp;of&nbsp;its&nbsp;assumptions.&nbsp;&#160;This&nbsp;isn't&nbsp;specific&nbsp;to&nbsp;Twisted,&nbsp;but&nbsp;Twisted&nbsp;does&nbsp;deal&nbsp;with&nbsp;networks&nbsp;and&nbsp;concurrency&nbsp;quite&nbsp;a&nbsp;bit.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;&gt;&gt;I'm&nbsp;afraid&nbsp;that&nbsp;the&nbsp;feature&nbsp;you&nbsp;want&nbsp;doesn't&nbsp;make&nbsp;any&nbsp;sense&nbsp;and&nbsp;is,&nbsp;&#160;in&nbsp;a&nbsp;&lt;br&nbsp;/&gt;&gt;&gt;broad&nbsp;sense,&nbsp;impossible.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;&gt;Maybe&nbsp;it's&nbsp;impossible&nbsp;for&nbsp;you&nbsp;to&nbsp;see&nbsp;things&nbsp;the&nbsp;way&nbsp;I&nbsp;see&nbsp;them&nbsp;&#160;because&nbsp;you&nbsp;&lt;br&nbsp;/&gt;&gt;have&nbsp;become&nbsp;drunk&nbsp;on&nbsp;Twisted&nbsp;Kool-Aide.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;You&nbsp;are&nbsp;making&nbsp;it&nbsp;sound&nbsp;like&nbsp;you&nbsp;are&nbsp;bringing&nbsp;a&nbsp;fresh&nbsp;new&nbsp;idea&nbsp;to&nbsp;the&nbsp;discussion&nbsp;here,&nbsp;which&nbsp;I've&nbsp;never&nbsp;heard&nbsp;before&nbsp;and&nbsp;am&nbsp;unwilling&nbsp;to&nbsp;consider&nbsp;because&nbsp;I'm&nbsp;inflexible&nbsp;in&nbsp;my&nbsp;thinking.&nbsp;&#160;That's&nbsp;not&nbsp;what's&nbsp;happening.&nbsp;&#160;This&nbsp;is&nbsp;a&nbsp;frequently-debunked&nbsp;and&nbsp;well-understood&nbsp;issue&nbsp;in&nbsp;the&nbsp;Twisted&nbsp;community.&nbsp;&#160;It&nbsp;seems&nbsp;to&nbsp;come&nbsp;up&nbsp;about&nbsp;once&nbsp;per&nbsp;year.&nbsp;&#160;See&nbsp;my&nbsp;now&nbsp;apparently&nbsp;prescient&nbsp;blog&nbsp;post&nbsp;as&nbsp;of&nbsp;last&nbsp;April:&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;&#160;&nbsp;&#160;&nbsp;http://glyf.livejournal.com/40037.html&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;&gt;In&nbsp;my&nbsp;specific&nbsp;&#160;case&nbsp;I&nbsp;am&nbsp;running&nbsp;&lt;br&nbsp;/&gt;&gt;twisted&nbsp;in&nbsp;a&nbsp;single-threaded&nbsp;environment&nbsp;with&nbsp;a&nbsp;&#160;single&nbsp;synchronized&nbsp;&lt;br&nbsp;/&gt;&gt;resource&nbsp;where&nbsp;each&nbsp;request&nbsp;that&nbsp;needs&nbsp;to&nbsp;access&nbsp;&#160;that&nbsp;resource&nbsp;must&nbsp;gain&nbsp;an&nbsp;&lt;br&nbsp;/&gt;&gt;exclusive&nbsp;lock&nbsp;before&nbsp;doing&nbsp;anything&nbsp;with&nbsp;&#160;it&nbsp;(a&nbsp;classic&nbsp;locking&nbsp;scenario).&nbsp;&lt;br&nbsp;/&gt;&gt;This&nbsp;is&nbsp;not&nbsp;&quot;I'm&nbsp;being&nbsp;lazy&nbsp;and&nbsp;I&nbsp;do&nbsp;&#160;not&nbsp;want&nbsp;to&nbsp;learn&nbsp;how&nbsp;to&nbsp;use&nbsp;&lt;br&nbsp;/&gt;&gt;Deferreds.&quot;&nbsp;Rather,&nbsp;it&nbsp;is&nbsp;a&nbsp;requirement&nbsp;&#160;that&nbsp;is&nbsp;dictated&nbsp;by&nbsp;the&nbsp;system&nbsp;with&nbsp;&lt;br&nbsp;/&gt;&gt;which&nbsp;I&nbsp;am&nbsp;communicating&nbsp;(it&nbsp;does&nbsp;&#160;not&nbsp;support&nbsp;concurrent&nbsp;access&nbsp;through&nbsp;the&nbsp;&lt;br&nbsp;/&gt;&gt;API&nbsp;provided&nbsp;by&nbsp;the&nbsp;&#160;vendor).&nbsp;Thus,&nbsp;my&nbsp;code&nbsp;would&nbsp;be&nbsp;much&nbsp;simpler&nbsp;(both&nbsp;to&nbsp;&lt;br&nbsp;/&gt;&gt;write&nbsp;and&nbsp;&#160;maintain)&nbsp;if&nbsp;I&nbsp;had&nbsp;blockOn(),&nbsp;and&nbsp;it&nbsp;would&nbsp;not&nbsp;have&nbsp;any&nbsp;risk&nbsp;of&nbsp;&lt;br&nbsp;/&gt;&gt;dead&nbsp;&#160;lock&nbsp;or&nbsp;other&nbsp;such&nbsp;concurrency&nbsp;bugs.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;You're&nbsp;confusing&nbsp;two&nbsp;things&nbsp;here.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;On&nbsp;the&nbsp;one&nbsp;hand,&nbsp;you&nbsp;want&nbsp;mutual&nbsp;exclusion&nbsp;for&nbsp;an&nbsp;external&nbsp;resource,&nbsp;which&nbsp;blocks.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;On&nbsp;the&nbsp;other,&nbsp;you&nbsp;want&nbsp;semantics&nbsp;for&nbsp;implementing&nbsp;that&nbsp;mutual&nbsp;exclusion&nbsp;via&nbsp;blocking&nbsp;in&nbsp;your&nbsp;own&nbsp;process.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;The&nbsp;former,&nbsp;as&nbsp;you&nbsp;have&nbsp;already&nbsp;demonstrated,&nbsp;can&nbsp;be&nbsp;implemented&nbsp;without&nbsp;the&nbsp;latter.&nbsp;&#160;The&nbsp;question&nbsp;is,&nbsp;would&nbsp;your&nbsp;code&nbsp;actually&nbsp;be&nbsp;simpler&nbsp;to&nbsp;write&nbsp;and&nbsp;to&nbsp;maintain&nbsp;if&nbsp;you&nbsp;had&nbsp;blockOn?&nbsp;&#160;Nothing&nbsp;you've&nbsp;said&nbsp;so&nbsp;far&nbsp;indicates&nbsp;that&nbsp;it&nbsp;would&nbsp;actually&nbsp;be&nbsp;more&nbsp;maintainable,&nbsp;and&nbsp;I've&nbsp;tried&nbsp;(although&nbsp;perhaps&nbsp;failed)&nbsp;to&nbsp;illustrate&nbsp;the&nbsp;high&nbsp;cost&nbsp;of&nbsp;the&nbsp;*apparent*&nbsp;simplicity&nbsp;at&nbsp;the&nbsp;moment&nbsp;of&nbsp;implementation.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;It&nbsp;strikes&nbsp;me&nbsp;that&nbsp;the&nbsp;process&nbsp;actually&nbsp;making&nbsp;the&nbsp;foreign&nbsp;API&nbsp;call&nbsp;could&nbsp;just&nbsp;block&nbsp;&quot;for&nbsp;real&quot;&nbsp;which&nbsp;would&nbsp;solve&nbsp;the&nbsp;mutual&nbsp;exclusion&nbsp;issue&nbsp;-&nbsp;callers&nbsp;into&nbsp;the&nbsp;PB&nbsp;layer&nbsp;would&nbsp;appear&nbsp;to&nbsp;be&nbsp;getting&nbsp;concurrent&nbsp;access,&nbsp;but&nbsp;responses&nbsp;would&nbsp;be&nbsp;implicitly&nbsp;queued&nbsp;up.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;Another&nbsp;solution&nbsp;here&nbsp;would&nbsp;be&nbsp;for&nbsp;Twisted&nbsp;to&nbsp;have&nbsp;a&nbsp;nice&nbsp;convenience&nbsp;API&nbsp;for&nbsp;dispatching&nbsp;tasks&nbsp;to&nbsp;a&nbsp;process&nbsp;pool.&nbsp;&#160;Right&nbsp;now&nbsp;setting&nbsp;up&nbsp;a&nbsp;process&nbsp;pool&nbsp;is&nbsp;conceptually&nbsp;easy&nbsp;but&nbsp;mechanically&nbsp;difficult;&nbsp;you&nbsp;have&nbsp;to&nbsp;do&nbsp;a&nbsp;lot&nbsp;of&nbsp;typing&nbsp;and&nbsp;make&nbsp;a&nbsp;lot&nbsp;of&nbsp;irrelevant&nbsp;decisions&nbsp;(AMP&nbsp;or&nbsp;PB&nbsp;or&nbsp;pickle?&nbsp;&#160;stdio&nbsp;or&nbsp;sockets?).&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;&gt;You&nbsp;might&nbsp;ask&nbsp;why&nbsp;I&nbsp;bother&nbsp;to&nbsp;&lt;br&nbsp;/&gt;&gt;use&nbsp;Twisted?&nbsp;--&nbsp;Perspective&nbsp;Broker&nbsp;is&nbsp;the&nbsp;most&nbsp;elegant&nbsp;way&nbsp;I&nbsp;could&nbsp;&#160;find&nbsp;to&nbsp;&lt;br&nbsp;/&gt;&gt;call&nbsp;remote&nbsp;methods&nbsp;in&nbsp;Python.&nbsp;If&nbsp;it&nbsp;were&nbsp;abstracted&nbsp;from&nbsp;&#160;Twisted&nbsp;to&nbsp;become&nbsp;&lt;br&nbsp;/&gt;&gt;a&nbsp;fully&nbsp;synchronous&nbsp;library&nbsp;I&nbsp;would&nbsp;use&nbsp;that&nbsp;&#160;instead,&nbsp;but&nbsp;at&nbsp;this&nbsp;point&nbsp;it&nbsp;&lt;br&nbsp;/&gt;&gt;seems&nbsp;that&nbsp;if&nbsp;I&nbsp;want&nbsp;PB&nbsp;I&nbsp;am&nbsp;stuck&nbsp;with&nbsp;Twisted&nbsp;too.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;This&nbsp;is&nbsp;another&nbsp;area&nbsp;where&nbsp;the&nbsp;feature&nbsp;request&nbsp;doesn't&nbsp;quite&nbsp;make&nbsp;sense.&nbsp;&#160;It&nbsp;would&nbsp;be&nbsp;possible&nbsp;to&nbsp;implement&nbsp;something&nbsp;that&nbsp;looked&nbsp;kinda-sorta&nbsp;like&nbsp;PB,&nbsp;which&nbsp;dealt&nbsp;with&nbsp;a&nbsp;single&nbsp;request/response&nbsp;pair&nbsp;over&nbsp;a&nbsp;single&nbsp;socket,&nbsp;in&nbsp;an&nbsp;apparently&nbsp;synchronous&nbsp;and&nbsp;blocking&nbsp;manner.&nbsp;&#160;However,&nbsp;PB&nbsp;itself&nbsp;is&nbsp;a&nbsp;fully&nbsp;symmetrical&nbsp;protocol&nbsp;where&nbsp;the&nbsp;server&nbsp;can&nbsp;send&nbsp;messages&nbsp;to&nbsp;the&nbsp;client&nbsp;at&nbsp;any&nbsp;time,&nbsp;so&nbsp;a&nbsp;full&nbsp;PB&nbsp;implementation&nbsp;is&nbsp;not&nbsp;really&nbsp;possible&nbsp;when&nbsp;any&nbsp;message&nbsp;can&nbsp;be&nbsp;replied&nbsp;to&nbsp;with&nbsp;a&nbsp;&quot;busy,&nbsp;poor&nbsp;implementation&nbsp;doesn't&nbsp;allow&nbsp;me&nbsp;to&nbsp;answer&nbsp;that&nbsp;message&nbsp;in&nbsp;this&nbsp;state&quot;&nbsp;error.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;For&nbsp;a&nbsp;lot&nbsp;of&nbsp;PB&nbsp;applications&nbsp;-&nbsp;those&nbsp;it&nbsp;was&nbsp;designed&nbsp;for,&nbsp;for&nbsp;example,&nbsp;online&nbsp;games&nbsp;-&nbsp;you&nbsp;absolutely&nbsp;need&nbsp;full&nbsp;two-way&nbsp;communication.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;&gt;In&nbsp;short,&nbsp;this&nbsp;feature&nbsp;does&nbsp;&quot;make&nbsp;sense&quot;&nbsp;in&nbsp;my&nbsp;environment.&nbsp;Whether&nbsp;&#160;it's&nbsp;&lt;br&nbsp;/&gt;&gt;possible&nbsp;or&nbsp;not&nbsp;is&nbsp;another&nbsp;matter&nbsp;entirely.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;I&nbsp;am&nbsp;still&nbsp;not&nbsp;convinced.&nbsp;&#160;You&nbsp;can&nbsp;feel&nbsp;free&nbsp;to&nbsp;stop&nbsp;trying&nbsp;to&nbsp;convince&nbsp;me&nbsp;though,&nbsp;or&nbsp;you&nbsp;can&nbsp;write&nbsp;a&nbsp;patch&nbsp;which&nbsp;we&nbsp;can&nbsp;then&nbsp;discuss.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;&gt;You're&nbsp;&quot;Deferreds&nbsp;are&nbsp;hard&quot;&nbsp;comment&nbsp;is&nbsp;an&nbsp;insult.&nbsp;You&nbsp;make&nbsp;it&nbsp;sound&nbsp;&#160;like&nbsp;I&nbsp;&lt;br&nbsp;/&gt;&gt;don't&nbsp;want&nbsp;to&nbsp;think.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;You've&nbsp;also&nbsp;insulted&nbsp;me&nbsp;by&nbsp;implication&nbsp;of&nbsp;not&nbsp;living&nbsp;in&nbsp;the&nbsp;&quot;real&nbsp;world&quot;&nbsp;and&nbsp;being&nbsp;&quot;drunk&quot;&nbsp;on&nbsp;&quot;Kool-Aide&nbsp;[sic]&quot;.&nbsp;&#160;I&nbsp;think&nbsp;that&nbsp;this&nbsp;feature&nbsp;is&nbsp;a&nbsp;symptom&nbsp;of&nbsp;muddy&nbsp;thinking,&nbsp;since&nbsp;I've&nbsp;seen&nbsp;it&nbsp;dozens&nbsp;of&nbsp;times&nbsp;before,&nbsp;and&nbsp;I'm&nbsp;not&nbsp;going&nbsp;to&nbsp;apologize&nbsp;to&nbsp;you&nbsp;for&nbsp;thinking&nbsp;that.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;The&nbsp;difference&nbsp;between&nbsp;the&nbsp;jabs&nbsp;we're&nbsp;trading&nbsp;here&nbsp;is&nbsp;that&nbsp;I'm&nbsp;not&nbsp;using&nbsp;any&nbsp;software&nbsp;that&nbsp;*you*&nbsp;wrote,&nbsp;and&nbsp;I'm&nbsp;not&nbsp;insulting&nbsp;you&nbsp;at&nbsp;the&nbsp;same&nbsp;time&nbsp;I'm&nbsp;posting&nbsp;to&nbsp;a&nbsp;mailing&nbsp;list&nbsp;for&nbsp;that&nbsp;software&nbsp;while&nbsp;demanding&nbsp;impossible&nbsp;features.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;&gt;If&nbsp;I&nbsp;didn't&nbsp;want&nbsp;to&nbsp;think&nbsp;I&nbsp;wouldn't&nbsp;be&nbsp;&#160;be&nbsp;a&nbsp;software&nbsp;developer.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;I&nbsp;don't&nbsp;think&nbsp;that&nbsp;you&nbsp;&quot;don't&nbsp;want&nbsp;to&nbsp;think&quot;,&nbsp;I&nbsp;think&nbsp;that&nbsp;you're&nbsp;mistaken.&nbsp;&#160;However,&nbsp;if&nbsp;indeed&nbsp;you&nbsp;didn't&nbsp;want&nbsp;to&nbsp;think,&nbsp;this&nbsp;is&nbsp;hardly&nbsp;a&nbsp;defense,&nbsp;as&nbsp;you'd&nbsp;clearly&nbsp;not&nbsp;be&nbsp;alone&nbsp;in&nbsp;the&nbsp;software&nbsp;development&nbsp;profession,&nbsp;such&nbsp;as&nbsp;it&nbsp;is.&nbsp;&#160;c.f.&nbsp;http://worsethanfailure.com/&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;&gt;This&nbsp;code&nbsp;obviously&nbsp;won't&nbsp;work&nbsp;because&nbsp;the&nbsp;getPage()&nbsp;has&nbsp;to&nbsp;wait&nbsp;and&nbsp;&lt;br&nbsp;/&gt;&gt;another&nbsp;dataReceived()&nbsp;call&nbsp;could&nbsp;come&nbsp;in&nbsp;with&nbsp;a&nbsp;QUIT&nbsp;command&nbsp;while&nbsp;&#160;the&nbsp;&lt;br&nbsp;/&gt;&gt;first&nbsp;one&nbsp;is&nbsp;still&nbsp;waiting&nbsp;for&nbsp;getPage().&nbsp;Instead&nbsp;you'd&nbsp;need&nbsp;to&nbsp;&#160;accumulate&nbsp;&lt;br&nbsp;/&gt;&gt;the&nbsp;data&nbsp;in&nbsp;a&nbsp;buffer&nbsp;and&nbsp;then&nbsp;do&nbsp;your&nbsp;command&nbsp;processing&nbsp;&#160;logic&nbsp;after&nbsp;all&nbsp;&lt;br&nbsp;/&gt;&gt;data&nbsp;has&nbsp;been&nbsp;received--that&nbsp;is,&nbsp;if&nbsp;you&nbsp;want&nbsp;to&nbsp;use&nbsp;&lt;br&nbsp;/&gt;&gt;blockOn(getPage(...))--it&nbsp;probably&nbsp;wouldn't&nbsp;be&nbsp;the&nbsp;smartest&nbsp;way&nbsp;to&nbsp;do&nbsp;&#160;this&nbsp;&lt;br&nbsp;/&gt;&gt;because&nbsp;it&nbsp;would&nbsp;be&nbsp;nice&nbsp;to&nbsp;start&nbsp;getting&nbsp;pages&nbsp;before&nbsp;we&nbsp;&#160;receive&nbsp;all&nbsp;of&nbsp;&lt;br&nbsp;/&gt;&gt;the&nbsp;data.&nbsp;But&nbsp;this&nbsp;is&nbsp;just&nbsp;one&nbsp;case&nbsp;that&nbsp;doesn't&nbsp;work&nbsp;&#160;with&nbsp;blockOn().&nbsp;I've&nbsp;&lt;br&nbsp;/&gt;&gt;never&nbsp;said&nbsp;that&nbsp;it&nbsp;would&nbsp;magically&nbsp;make&nbsp;every&nbsp;&#160;case&nbsp;easier,&nbsp;it&nbsp;just&nbsp;makes&nbsp;&lt;br&nbsp;/&gt;&gt;some&nbsp;less&nbsp;complicated&nbsp;cases&nbsp;very&nbsp;much&nbsp;&#160;simpler.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;It&nbsp;makes&nbsp;some&nbsp;cases&nbsp;appear&nbsp;simpler&nbsp;*at&nbsp;the&nbsp;expense*&nbsp;of&nbsp;breaking&nbsp;lots&nbsp;of&nbsp;other,&nbsp;correctly-written&nbsp;code,&nbsp;which&nbsp;depends&nbsp;on&nbsp;not&nbsp;having&nbsp;20&nbsp;levels&nbsp;of&nbsp;naive&nbsp;&quot;blockOn&quot;&nbsp;calls&nbsp;above&nbsp;them&nbsp;on&nbsp;the&nbsp;stack.&nbsp;&#160;It's&nbsp;analogous&nbsp;to&nbsp;how&nbsp;there&nbsp;are&nbsp;restrictions&nbsp;on&nbsp;&quot;user&nbsp;code&quot;&nbsp;in&nbsp;UNIX&nbsp;and&nbsp;you're&nbsp;not&nbsp;allowed&nbsp;to&nbsp;handle&nbsp;interrupts&nbsp;directly&nbsp;because&nbsp;the&nbsp;point&nbsp;of&nbsp;the&nbsp;kernel&nbsp;is&nbsp;to&nbsp;allow&nbsp;multiple&nbsp;processes&nbsp;to&nbsp;run&nbsp;at&nbsp;the&nbsp;same&nbsp;time.&nbsp;&#160;The&nbsp;original&nbsp;point&nbsp;of&nbsp;Twisted&nbsp;was&nbsp;a&nbsp;high&nbsp;degree&nbsp;of&nbsp;frustration&nbsp;that&nbsp;so&nbsp;many&nbsp;libraries&nbsp;for&nbsp;speaking&nbsp;protocols&nbsp;implemented&nbsp;their&nbsp;own,&nbsp;incompatible&nbsp;event-loops.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;&gt;Everything&nbsp;I've&nbsp;read&nbsp;about&nbsp;this&nbsp;issue&nbsp;suggests&nbsp;that&nbsp;the&nbsp;twisted&nbsp;&#160;developers&nbsp;&lt;br&nbsp;/&gt;&gt;just&nbsp;don't&nbsp;want&nbsp;to&nbsp;give&nbsp;people&nbsp;what&nbsp;they&nbsp;want&nbsp;because&nbsp;it&nbsp;&#160;would&nbsp;allow&nbsp;them&nbsp;&lt;br&nbsp;/&gt;&gt;to&nbsp;shoot&nbsp;themselves&nbsp;in&nbsp;the&nbsp;foot&nbsp;(for&nbsp;example,&nbsp;by&nbsp;&#160;using&nbsp;blockOn()&nbsp;in&nbsp;a&nbsp;&lt;br&nbsp;/&gt;&gt;multi-threaded&nbsp;environment&nbsp;or&nbsp;in&nbsp;inappropriate&nbsp;&#160;places&nbsp;such&nbsp;as&nbsp;the&nbsp;example&nbsp;&lt;br&nbsp;/&gt;&gt;above).&nbsp;But&nbsp;this&nbsp;is&nbsp;Python&nbsp;and&nbsp;we're&nbsp;&#160;consenting&nbsp;adults.&nbsp;With&nbsp;the&nbsp;proper&nbsp;&lt;br&nbsp;/&gt;&gt;warnings&nbsp;a&nbsp;feature&nbsp;like&nbsp;this&nbsp;could&nbsp;&#160;make&nbsp;twisted&nbsp;much&nbsp;more&nbsp;palatable&nbsp;for&nbsp;&lt;br&nbsp;/&gt;&gt;people&nbsp;with&nbsp;large&nbsp;existing&nbsp;&#160;projects&nbsp;that&nbsp;do&nbsp;not&nbsp;wish&nbsp;to&nbsp;rewrite&nbsp;entire&nbsp;&lt;br&nbsp;/&gt;&gt;sections&nbsp;of&nbsp;code&nbsp;just&nbsp;to&nbsp;&#160;work&nbsp;with&nbsp;deferreds.&nbsp;It&nbsp;would&nbsp;allow&nbsp;people&nbsp;to&nbsp;get&nbsp;&lt;br&nbsp;/&gt;&gt;the&nbsp;easiest&nbsp;thing&nbsp;&#160;working&nbsp;as&nbsp;quickly&nbsp;as&nbsp;possible,&nbsp;and&nbsp;then&nbsp;go&nbsp;back&nbsp;and&nbsp;&lt;br&nbsp;/&gt;&gt;write&nbsp;the&nbsp;&#160;optimal&nbsp;deferred&nbsp;implementation&nbsp;later&nbsp;when&nbsp;&lt;br&nbsp;/&gt;&gt;performance/blocking/etc.&nbsp;&#160;becomes&nbsp;an&nbsp;issue.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;I&nbsp;agree&nbsp;that&nbsp;it&nbsp;would&nbsp;be&nbsp;nice&nbsp;to&nbsp;allow&nbsp;programs&nbsp;to&nbsp;get&nbsp;on&nbsp;the&nbsp;Twisted&nbsp;bandwagon&nbsp;slowly,&nbsp;and&nbsp;to&nbsp;integrate&nbsp;more&nbsp;cleanly&nbsp;with&nbsp;foreign&nbsp;concurrency&nbsp;mechanisms&nbsp;like&nbsp;microthreads&nbsp;and&nbsp;database&nbsp;transactions.&nbsp;&#160;This&nbsp;is&nbsp;exactly&nbsp;what&nbsp;Jim&nbsp;Fulton&nbsp;is&nbsp;working&nbsp;on&nbsp;with&nbsp;the&nbsp;multi-reactor&nbsp;stuff&nbsp;for&nbsp;ZEO.&nbsp;&#160;You&nbsp;can't&nbsp;have&nbsp;one&nbsp;reentrant&nbsp;reactor,&nbsp;but&nbsp;you&nbsp;*can*,&nbsp;at&nbsp;least&nbsp;conceptually,&nbsp;have&nbsp;one&nbsp;reactor&nbsp;start&nbsp;another&nbsp;reactor&nbsp;and&nbsp;wait&nbsp;for&nbsp;it&nbsp;to&nbsp;complete&nbsp;a&nbsp;particular&nbsp;operation.&nbsp;&#160;If&nbsp;you'd&nbsp;like&nbsp;to&nbsp;help&nbsp;other&nbsp;projects&nbsp;gradually&nbsp;adapt&nbsp;to&nbsp;Twisted,&nbsp;perhaps&nbsp;you&nbsp;would&nbsp;like&nbsp;to&nbsp;contribute&nbsp;something&nbsp;to&nbsp;ticket&nbsp;#2545.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;To&nbsp;follow&nbsp;my&nbsp;earlier&nbsp;analogy,&nbsp;this&nbsp;is&nbsp;like&nbsp;the&nbsp;hypervisor&nbsp;and&nbsp;user-mode-kernel&nbsp;facilities&nbsp;in&nbsp;various&nbsp;UNIXes;&nbsp;if&nbsp;you're&nbsp;not&nbsp;allowed&nbsp;to&nbsp;do&nbsp;something&nbsp;in&nbsp;the&nbsp;kernel,&nbsp;it's&nbsp;OK&nbsp;to&nbsp;start&nbsp;your&nbsp;own&nbsp;kernel.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;&gt;Most&nbsp;people&nbsp;that&nbsp;would&nbsp;use&nbsp;blockOn()&nbsp;would&nbsp;probably&nbsp;use&nbsp;it&nbsp;in&nbsp;an&nbsp;&#160;entirely&nbsp;&lt;br&nbsp;/&gt;&gt;synchronous&nbsp;fashion&nbsp;where&nbsp;there&nbsp;would&nbsp;only&nbsp;be&nbsp;one&nbsp;deferred&nbsp;&#160;being&nbsp;processed&nbsp;&lt;br&nbsp;/&gt;&gt;at&nbsp;any&nbsp;given&nbsp;time.&nbsp;In&nbsp;these&nbsp;cases&nbsp;blockOn()&nbsp;would&nbsp;&#160;work&nbsp;just&nbsp;fine&nbsp;(if&nbsp;&lt;br&nbsp;/&gt;&gt;inefficiently).&nbsp;From&nbsp;your&nbsp;point&nbsp;of&nbsp;view&nbsp;that&nbsp;&#160;probably&nbsp;totally&nbsp;defeats&nbsp;the&nbsp;&lt;br&nbsp;/&gt;&gt;purpose&nbsp;of&nbsp;using&nbsp;twisted,&nbsp;but&nbsp;as&nbsp;I&nbsp;have&nbsp;&#160;pointed&nbsp;out&nbsp;above&nbsp;there&nbsp;are&nbsp;other&nbsp;&lt;br&nbsp;/&gt;&gt;useful&nbsp;features&nbsp;in&nbsp;twisted&nbsp;beside&nbsp;&#160;its&nbsp;deferred&nbsp;mechanism&nbsp;(PB).&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;...&nbsp;and&nbsp;as&nbsp;*I've*&nbsp;pointed&nbsp;out&nbsp;above,&nbsp;PB&nbsp;is&nbsp;only&nbsp;possible&nbsp;_because_&nbsp;of&nbsp;Twisted's&nbsp;event&nbsp;loop.&nbsp;&#160;In&nbsp;fact&nbsp;Deferreds&nbsp;were&nbsp;directly&nbsp;extracted&nbsp;from&nbsp;PB&nbsp;-&nbsp;originally&nbsp;every&nbsp;PB&nbsp;method&nbsp;had&nbsp;&quot;pbcallback&quot;&nbsp;and&nbsp;&quot;pberrback&quot;&nbsp;keyword&nbsp;arguments,&nbsp;and&nbsp;the&nbsp;Deferred&nbsp;class&nbsp;was&nbsp;the&nbsp;encapsulation&nbsp;of&nbsp;that&nbsp;so&nbsp;that&nbsp;PB&nbsp;methods&nbsp;could&nbsp;be&nbsp;easily&nbsp;chained&nbsp;and&nbsp;their&nbsp;results&nbsp;passed&nbsp;to&nbsp;other&nbsp;systems.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;&gt;The&nbsp;concept&nbsp;that&nbsp;I&nbsp;am&nbsp;thinking&nbsp;of&nbsp;seems&nbsp;entirely&nbsp;possible,&nbsp;although&nbsp;I&nbsp;&#160;am&nbsp;&lt;br&nbsp;/&gt;&gt;sure&nbsp;it&nbsp;would&nbsp;require&nbsp;rewriting&nbsp;existing&nbsp;reactor&nbsp;implementations.&nbsp;&#160;However,&nbsp;&lt;br&nbsp;/&gt;&gt;in&nbsp;the&nbsp;long&nbsp;run&nbsp;that&nbsp;seems&nbsp;like&nbsp;a&nbsp;small&nbsp;cost&nbsp;if&nbsp;twisted&nbsp;&#160;could&nbsp;be&nbsp;more&nbsp;&lt;br&nbsp;/&gt;&gt;widely&nbsp;adopted&nbsp;because&nbsp;it&nbsp;would&nbsp;play&nbsp;nicer&nbsp;with&nbsp;&#160;existing&nbsp;non-async&nbsp;code.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;If&nbsp;you&nbsp;want&nbsp;to&nbsp;try&nbsp;and&nbsp;go&nbsp;implement&nbsp;this,&nbsp;you&nbsp;can&nbsp;discover&nbsp;just&nbsp;how&nbsp;small&nbsp;the&nbsp;cost&nbsp;is&nbsp;:).&nbsp;&#160;If,&nbsp;in&nbsp;the&nbsp;course&nbsp;of&nbsp;implementing&nbsp;such&nbsp;a&nbsp;thing,&nbsp;you&nbsp;manage&nbsp;to&nbsp;get&nbsp;clean,&nbsp;coherent&nbsp;semantics&nbsp;for&nbsp;&quot;blockOn&quot;,&nbsp;and&nbsp;it&nbsp;passes&nbsp;the&nbsp;full&nbsp;test&nbsp;suite&nbsp;(etc&nbsp;etc)&nbsp;I&nbsp;would&nbsp;not&nbsp;reject&nbsp;such&nbsp;a&nbsp;thing&nbsp;out&nbsp;of&nbsp;hand.&nbsp;&#160;I&nbsp;am&nbsp;suggesting&nbsp;that&nbsp;it&nbsp;is&nbsp;impossible&nbsp;to&nbsp;get&nbsp;coherent&nbsp;semantics&nbsp;for&nbsp;blockOn,&nbsp;and&nbsp;if&nbsp;you&nbsp;submit&nbsp;an&nbsp;implementation&nbsp;I'll&nbsp;point&nbsp;out&nbsp;the&nbsp;specific&nbsp;brokenness&nbsp;of&nbsp;a&nbsp;particular&nbsp;approach,&nbsp;but&nbsp;my&nbsp;main&nbsp;point&nbsp;is&nbsp;that&nbsp;it's&nbsp;impossible&nbsp;because&nbsp;of&nbsp;specific&nbsp;problems,&nbsp;not&nbsp;that&nbsp;it's&nbsp;unacceptable.&lt;br&nbsp;/&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
