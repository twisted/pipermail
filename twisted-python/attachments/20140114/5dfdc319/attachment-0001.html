<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Thanks&nbsp;Jean.&lt;div&gt;&lt;br&gt;&lt;div&gt;Changing&nbsp;reactor&nbsp;kQueue&nbsp;on&nbsp;OSX&nbsp;fixed&nbsp;this&nbsp;issue.&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Mon,&nbsp;Jan&nbsp;13,&nbsp;2014&nbsp;at&nbsp;7:49&nbsp;PM,&nbsp;&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:exarkun@twistedmatrix.com&quot;&nbsp;target=&quot;_blank&quot;&gt;exarkun@twistedmatrix.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;On&nbsp;01:28&nbsp;pm,&nbsp;&lt;a&nbsp;href=&quot;mailto:spuram@kiwiup.com&quot;&nbsp;target=&quot;_blank&quot;&gt;spuram@kiwiup.com&lt;/a&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;<br>
Hi&nbsp;all,&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;am&nbsp;doing&nbsp;load&nbsp;testing&nbsp;on&nbsp;my&nbsp;twisted&nbsp;SSL&nbsp;server.&nbsp;I&nbsp;spawn&nbsp;threads(~2000)&lt;br&gt;<br>
from&nbsp;the&nbsp;application&nbsp;and&nbsp;each&nbsp;thread&nbsp;will&nbsp;act&nbsp;as&nbsp;a&nbsp;SSL&nbsp;client&nbsp;and&nbsp;connect&lt;br&gt;<br>
to&nbsp;the&nbsp;server.&lt;br&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
[snip]&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
Now&nbsp;it&nbsp;fails&nbsp;after&nbsp;1010&nbsp;successful&nbsp;connections.&nbsp;I&nbsp;checked&nbsp;the&nbsp;number&nbsp;of&lt;br&gt;<br>
open&nbsp;files&nbsp;of&nbsp;the&nbsp;server&nbsp;process&nbsp;it&nbsp;remains&nbsp;at&nbsp;1010&nbsp;and&nbsp;there&nbsp;are&nbsp;no&nbsp;stale&lt;br&gt;<br>
open&nbsp;files.&lt;br&gt;<br>
&lt;/div&gt;&lt;/blockquote&gt;<br>
&lt;br&gt;<br>
select()&nbsp;has&nbsp;a&nbsp;hard&nbsp;limit&nbsp;that&nbsp;is&nbsp;often&nbsp;1024.&nbsp; Make&nbsp;sure&nbsp;you&#39;re&nbsp;not&nbsp;using&nbsp;the&nbsp;select()-based&nbsp;reactor&nbsp;(which&nbsp;I&nbsp;think&nbsp;is&nbsp;probably&nbsp;the&nbsp;default&nbsp;on&nbsp;OS&nbsp;X).&lt;br&gt;<br>
&lt;br&gt;<br>
Jean-Paul&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;<br>
Client&nbsp;shows&nbsp;the&nbsp;same&nbsp;error&lt;br&gt;&lt;/div&gt;<br>
*SSLError:&nbsp;[Errno&nbsp;8]&nbsp;_ssl.c:503:&nbsp;EOF&nbsp;occurred&nbsp;in&nbsp;violation&nbsp;of&nbsp;protocol*&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
Twisted&nbsp;logs&nbsp;on&nbsp;the&nbsp;server&nbsp;shows&nbsp;that&nbsp;it&nbsp;connects&nbsp;first&nbsp;and&nbsp;then&lt;br&gt;<br>
disconnects&nbsp;with&nbsp;this&nbsp;error.&lt;br&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
*&lt;&lt;a&nbsp;href=&quot;http://127.0.0.1:5549&quot;&nbsp;target=&quot;_blank&quot;&gt;127.0.0.1:5549&lt;/a&gt;&nbsp;&lt;&lt;a&nbsp;href=&quot;http://127.0.0.1:5549&quot;&nbsp;target=&quot;_blank&quot;&gt;http://127.0.0.1:5549&lt;/a&gt;&gt;&gt;&nbsp; connected*&lt;br&gt;<br>
*&lt;&lt;a&nbsp;href=&quot;http://127.0.0.1:55249&quot;&nbsp;target=&quot;_blank&quot;&gt;127.0.0.1:55249&lt;/a&gt;&nbsp;&lt;&lt;a&nbsp;href=&quot;http://127.0.0.1:55249&quot;&nbsp;target=&quot;_blank&quot;&gt;http://127.0.0.1:55249&lt;/a&gt;&gt;&gt;&nbsp; lost&nbsp;connection:&nbsp;[(&#39;SSL&lt;br&gt;<br>
routines&#39;,&nbsp;&#39;SSL23_READ&#39;,&nbsp;&#39;ssl&nbsp;handshake&nbsp;failure&#39;)]*&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
How&nbsp;can&nbsp;I&nbsp;fix&nbsp;this&nbsp;?&nbsp;How&nbsp;should&nbsp;I&nbsp;approach&nbsp;to&nbsp;debug&nbsp;?&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks&lt;br&gt;<br>
-Sumanth&lt;br&gt;<br>
&lt;/div&gt;&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;div&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;<br>
______________________________&lt;u&gt;&lt;/u&gt;_________________&lt;br&gt;<br>
Twisted-Python&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Twisted-Python@twistedmatrix.com&quot;&nbsp;target=&quot;_blank&quot;&gt;Twisted-Python@twistedmatrix.&lt;u&gt;&lt;/u&gt;com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twistedmatrix.com/cgi-&lt;u&gt;&lt;/u&gt;bin/mailman/listinfo/twisted-&lt;u&gt;&lt;/u&gt;python&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
