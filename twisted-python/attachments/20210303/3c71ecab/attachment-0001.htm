<tt>
&lt;html&gt;&lt;head&gt;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=us-ascii&quot;&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;line-break:&nbsp;after-white-space;&quot;&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;On&nbsp;Mar&nbsp;3,&nbsp;2021,&nbsp;at&nbsp;4:58&nbsp;AM,&nbsp;Jean-Paul&nbsp;Calderone&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:exarkun@twistedmatrix.com&quot;&nbsp;class=&quot;&quot;&gt;exarkun@twistedmatrix.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;meta&nbsp;charset=&quot;UTF-8&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;style=&quot;caret-color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;Menlo-Regular;&nbsp;font-size:&nbsp;14px;&nbsp;font-style:&nbsp;normal;&nbsp;font-variant-caps:&nbsp;normal;&nbsp;font-weight:&nbsp;normal;&nbsp;letter-spacing:&nbsp;normal;&nbsp;text-align:&nbsp;start;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&nbsp;text-decoration:&nbsp;none;&quot;&nbsp;class=&quot;&quot;&gt;Broadly,&nbsp;I&nbsp;agree.&nbsp;&nbsp;But&nbsp;not&nbsp;with&nbsp;this&nbsp;part.&nbsp;&nbsp;It&nbsp;seems&nbsp;like&nbsp;there&nbsp;is&nbsp;clearly&nbsp;a&nbsp;trade-off&nbsp;that&nbsp;is&nbsp;better&nbsp;for&nbsp;everyone.&nbsp;&nbsp;The&nbsp;trade-off&nbsp;represented&nbsp;by&nbsp;#1298:&lt;/div&gt;&lt;div&nbsp;style=&quot;caret-color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;Menlo-Regular;&nbsp;font-size:&nbsp;14px;&nbsp;font-style:&nbsp;normal;&nbsp;font-variant-caps:&nbsp;normal;&nbsp;font-weight:&nbsp;normal;&nbsp;letter-spacing:&nbsp;normal;&nbsp;text-align:&nbsp;start;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&nbsp;text-decoration:&nbsp;none;&quot;&nbsp;class=&quot;&quot;&gt;&lt;ul&nbsp;class=&quot;&quot;&gt;&lt;li&nbsp;class=&quot;&quot;&gt;Breaks&nbsp;application&nbsp;code&nbsp;without&nbsp;providing&nbsp;any&nbsp;new&nbsp;functionality&nbsp;or&nbsp;fixing&nbsp;any&nbsp;bugs&lt;/li&gt;&lt;li&nbsp;class=&quot;&quot;&gt;Captures&nbsp;a&nbsp;long&nbsp;list&nbsp;of&nbsp;TODOs&nbsp;as&nbsp;an&nbsp;arbitrarily&nbsp;complex&nbsp;collection&nbsp;of&nbsp;sources&nbsp;spread&nbsp;across&nbsp;the&nbsp;entire&nbsp;codebase&lt;/li&gt;&lt;li&nbsp;class=&quot;&quot;&gt;All&nbsp;the&nbsp;work&nbsp;of&nbsp;addressing&nbsp;the&nbsp;problems&nbsp;still&nbsp;remains&nbsp;to&nbsp;be&nbsp;done&nbsp;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;caret-color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;Menlo-Regular;&nbsp;font-size:&nbsp;14px;&nbsp;font-style:&nbsp;normal;&nbsp;font-variant-caps:&nbsp;normal;&nbsp;font-weight:&nbsp;normal;&nbsp;letter-spacing:&nbsp;normal;&nbsp;text-align:&nbsp;start;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&nbsp;text-decoration:&nbsp;none;&quot;&nbsp;class=&quot;&quot;&gt;Contrast&nbsp;this&nbsp;with&nbsp;any&nbsp;basic&nbsp;ratchet-style&nbsp;approach&nbsp;(for&nbsp;example,&nbsp;capture&nbsp;the&nbsp;list&nbsp;of&nbsp;mypy&nbsp;errors,&nbsp;then&nbsp;allow&nbsp;any&nbsp;PR&nbsp;that&nbsp;either&nbsp;removes&nbsp;some&nbsp;or&nbsp;doesn't&nbsp;add&nbsp;any&nbsp;new&nbsp;ones):&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;In&nbsp;principle,&nbsp;I&nbsp;agree.&nbsp;&nbsp;And&nbsp;some&nbsp;coarse-grained&nbsp;ratchets&nbsp;are&nbsp;absolutely&nbsp;worth&nbsp;doing,&nbsp;when&nbsp;they're&nbsp;supported&nbsp;by&nbsp;the&nbsp;tools&nbsp;-&nbsp;for&nbsp;example,&nbsp;we&nbsp;have&nbsp;one&nbsp;of&nbsp;these&nbsp;with&nbsp;the&nbsp;way&nbsp;we're&nbsp;handling&nbsp;`disallow_untyped_defs`&nbsp;right&nbsp;now.&nbsp;&nbsp;I&nbsp;wish&nbsp;tools&nbsp;like&nbsp;Mypy&nbsp;would&nbsp;build&nbsp;in&nbsp;ratcheting&nbsp;infrastructure&nbsp;that&nbsp;was&nbsp;easy&nbsp;to&nbsp;use&nbsp;and&nbsp;convenient&nbsp;to&nbsp;deploy.&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;But&nbsp;in&nbsp;practice&nbsp;&lt;i&nbsp;class=&quot;&quot;&gt;this&lt;/i&gt;&nbsp;type&nbsp;of&nbsp;ratchet&nbsp;involves&nbsp;a&nbsp;&quot;#&nbsp;type:&nbsp;ignore&quot;&nbsp;at&nbsp;every&nbsp;single&nbsp;call&nbsp;site,&nbsp;as&nbsp;well&nbsp;as&nbsp;delaying&nbsp;shipping&nbsp;stubs&nbsp;or&nbsp;maintaining&nbsp;separate&nbsp;stubs.&nbsp;&nbsp;As&nbsp;well&nbsp;as&nbsp;building&nbsp;the&nbsp;maladaptive&nbsp;habit&nbsp;that&nbsp;#type:ignore&nbsp;or&nbsp;cast()ing&nbsp;your&nbsp;way&nbsp;out&nbsp;of&nbsp;type&nbsp;errors&nbsp;is&nbsp;the&nbsp;right&nbsp;way&nbsp;to&nbsp;address&nbsp;them&nbsp;in&nbsp;individual&nbsp;features&nbsp;and&nbsp;getting&nbsp;every&nbsp;code&nbsp;reviewer&nbsp;used&nbsp;to&nbsp;that.&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;style=&quot;caret-color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;Menlo-Regular;&nbsp;font-size:&nbsp;14px;&nbsp;font-style:&nbsp;normal;&nbsp;font-variant-caps:&nbsp;normal;&nbsp;font-weight:&nbsp;normal;&nbsp;letter-spacing:&nbsp;normal;&nbsp;text-align:&nbsp;start;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&nbsp;text-decoration:&nbsp;none;&quot;&nbsp;class=&quot;&quot;&gt;&lt;ul&nbsp;class=&quot;&quot;&gt;&lt;li&nbsp;class=&quot;&quot;&gt;At&nbsp;the&nbsp;outset,&nbsp;no&nbsp;application&nbsp;code&nbsp;breaks&nbsp;because&nbsp;nothing&nbsp;has&nbsp;actually&nbsp;changed&lt;/li&gt;&lt;li&nbsp;class=&quot;&quot;&gt;As&nbsp;work&nbsp;towards&lt;span&nbsp;class=&quot;Apple-converted-space&quot;&gt;&nbsp;&lt;/span&gt;&lt;b&nbsp;class=&quot;&quot;&gt;fixing&lt;/b&gt;&lt;span&nbsp;class=&quot;Apple-converted-space&quot;&gt;&nbsp;&lt;/span&gt;the&nbsp;TODOs&nbsp;progresses,&nbsp;if&nbsp;it&lt;span&nbsp;class=&quot;Apple-converted-space&quot;&gt;&nbsp;&lt;/span&gt;&lt;i&nbsp;class=&quot;&quot;&gt;does&lt;/i&gt;&nbsp;break&nbsp;application&nbsp;code&nbsp;then&nbsp;at&nbsp;least&nbsp;applications&nbsp;have&nbsp;a&nbsp;chance&nbsp;at&nbsp;some&nbsp;benefit&lt;/li&gt;&lt;li&nbsp;class=&quot;&quot;&gt;As&nbsp;the&nbsp;work&nbsp;towards&nbsp;fixing&nbsp;the&nbsp;TODOs&nbsp;progresses,&nbsp;maintainers&nbsp;can&nbsp;easily&nbsp;look&nbsp;up&nbsp;what&nbsp;issues&nbsp;remain&nbsp;by&nbsp;consulting&nbsp;the&nbsp;list&nbsp;of&nbsp;errors&nbsp;that&nbsp;feeds&nbsp;the&nbsp;ratchet-style&nbsp;job.&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;caret-color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;Menlo-Regular;&nbsp;font-size:&nbsp;14px;&nbsp;font-style:&nbsp;normal;&nbsp;font-variant-caps:&nbsp;normal;&nbsp;font-weight:&nbsp;normal;&nbsp;letter-spacing:&nbsp;normal;&nbsp;text-align:&nbsp;start;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&nbsp;text-decoration:&nbsp;none;&quot;&nbsp;class=&quot;&quot;&gt;The&nbsp;exact&nbsp;mechanism&nbsp;for&nbsp;the&nbsp;ratchet&nbsp;isn't&nbsp;the&nbsp;point&nbsp;here.&nbsp;&nbsp;Maybe&nbsp;Mypy&nbsp;plays&nbsp;more&nbsp;nicely&nbsp;with&nbsp;inline&nbsp;comments&nbsp;telling&nbsp;it&nbsp;to&nbsp;ignore&nbsp;something,&nbsp;I&nbsp;don't&nbsp;know.&nbsp;&nbsp;The&nbsp;point&nbsp;is:&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;The&nbsp;&quot;exact&nbsp;mechanism&nbsp;for&nbsp;the&nbsp;ratchet&quot;&nbsp;introduces&nbsp;enough&nbsp;hard&nbsp;problems&nbsp;that&nbsp;it&nbsp;inevitably&nbsp;delays&nbsp;tooling&nbsp;adoption&nbsp;for&nbsp;months&nbsp;or&nbsp;years,&nbsp;reduces&nbsp;the&nbsp;benefits&nbsp;of&nbsp;the&nbsp;tooling&nbsp;adoption&nbsp;(what&nbsp;Twisted&nbsp;users&nbsp;really&nbsp;&lt;i&nbsp;class=&quot;&quot;&gt;want&lt;/i&gt;&nbsp;are&nbsp;comprehensive&nbsp;stubs,&nbsp;less&nbsp;than&nbsp;Twisted&nbsp;to&nbsp;type-check&nbsp;internally,&nbsp;I&nbsp;think,&nbsp;and&nbsp;this&nbsp;lets&nbsp;us&nbsp;ship&nbsp;them&nbsp;sooner&nbsp;in&nbsp;at&nbsp;least&nbsp;a&nbsp;mostly-usable&nbsp;state).&lt;/div&gt;&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;style=&quot;caret-color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;Menlo-Regular;&nbsp;font-size:&nbsp;14px;&nbsp;font-style:&nbsp;normal;&nbsp;font-variant-caps:&nbsp;normal;&nbsp;font-weight:&nbsp;normal;&nbsp;letter-spacing:&nbsp;normal;&nbsp;text-align:&nbsp;start;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&nbsp;text-decoration:&nbsp;none;&quot;&nbsp;class=&quot;&quot;&gt;&lt;ul&nbsp;class=&quot;&quot;&gt;&lt;li&nbsp;class=&quot;&quot;&gt;A&nbsp;centralized&nbsp;list&nbsp;of&nbsp;stuff&nbsp;left&nbsp;to&nbsp;do&nbsp;is&nbsp;better&nbsp;than&nbsp;a&nbsp;mess&nbsp;smeared&nbsp;across&nbsp;the&nbsp;whole&nbsp;codebase&lt;/li&gt;&lt;li&nbsp;class=&quot;&quot;&gt;If&nbsp;we're&nbsp;going&nbsp;to&nbsp;risk&nbsp;breaking&nbsp;applications&nbsp;we&nbsp;should&nbsp;at&nbsp;least&nbsp;try&nbsp;to&nbsp;offer&nbsp;some&nbsp;value&nbsp;to&nbsp;them&lt;/li&gt;&lt;li&nbsp;class=&quot;&quot;&gt;We&nbsp;shouldn't&nbsp;make&nbsp;applications&nbsp;deal&nbsp;with&nbsp;every&nbsp;change&nbsp;twice&nbsp;when&nbsp;we&nbsp;could&nbsp;just&nbsp;disturb&nbsp;them&nbsp;once&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;div&gt;Overall&nbsp;I&nbsp;very&nbsp;much&nbsp;appreciate&nbsp;your&nbsp;criticism&nbsp;and&nbsp;I&nbsp;wish&nbsp;that&nbsp;I&nbsp;could&nbsp;provide&nbsp;clear&nbsp;and&nbsp;concrete&nbsp;steps&nbsp;towards&nbsp;a&nbsp;functioning&nbsp;ratchet&nbsp;for&nbsp;&lt;i&nbsp;class=&quot;&quot;&gt;all&lt;/i&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;normal;&quot;&nbsp;class=&quot;&quot;&gt;&nbsp;of&nbsp;these&nbsp;types&nbsp;of&nbsp;tools,&nbsp;but&nbsp;in&nbsp;practice&nbsp;the&nbsp;minor&nbsp;issues&nbsp;caused&nbsp;by&nbsp;the&nbsp;boil-the-ocean&nbsp;approach&nbsp;are&nbsp;an&nbsp;order&nbsp;of&nbsp;magnitude&nbsp;easier&nbsp;to&nbsp;address&nbsp;(and&nbsp;cheaper&nbsp;to&nbsp;leave&nbsp;un-addressed)&nbsp;than&nbsp;the&nbsp;effort&nbsp;required&nbsp;to&nbsp;build&nbsp;ratchets&nbsp;for&nbsp;our&nbsp;contributors&nbsp;that&nbsp;aren't&nbsp;a&nbsp;total&nbsp;nightmare&nbsp;to&nbsp;maintain&nbsp;and&nbsp;interact&nbsp;with.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;normal;&quot;&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;normal;&quot;&nbsp;class=&quot;&quot;&gt;Case&nbsp;in&nbsp;point:&nbsp;running&nbsp;`black`&nbsp;was&nbsp;a&nbsp;giant&nbsp;earthquake&nbsp;in&nbsp;the&nbsp;codebase&nbsp;but&nbsp;the&nbsp;pain&nbsp;associated&nbsp;with&nbsp;that&nbsp;was&nbsp;a&nbsp;drop&nbsp;in&nbsp;the&nbsp;bucket&nbsp;compared&nbsp;to&nbsp;the&nbsp;lingering,&nbsp;years-long&nbsp;nightmare&nbsp;of&nbsp;our&nbsp;attempt&nbsp;to&nbsp;build&nbsp;a&nbsp;style&nbsp;ratchet&nbsp;with&nbsp;twistedchecker.&nbsp;&nbsp;In&nbsp;&lt;/span&gt;&lt;i&nbsp;class=&quot;&quot;&gt;principle&lt;/i&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;normal;&quot;&nbsp;class=&quot;&quot;&gt;&nbsp;what&nbsp;we&nbsp;were&nbsp;trying&nbsp;to&nbsp;do&nbsp;with&nbsp;twistedchecker&nbsp;was&nbsp;very&nbsp;simple,&nbsp;but&nbsp;the&nbsp;practicalities&nbsp;ate&nbsp;us&nbsp;alive.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;normal;&quot;&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;normal;&quot;&nbsp;class=&quot;&quot;&gt;You&nbsp;could&nbsp;of&nbsp;course&nbsp;quite&nbsp;rightly&nbsp;argue&nbsp;that&nbsp;there&nbsp;were&nbsp;multiple&nbsp;conflated&nbsp;issues&nbsp;at&nbsp;play&nbsp;there!&nbsp;&nbsp;But&nbsp;that's&nbsp;also&nbsp;the&nbsp;point:&nbsp;there's&nbsp;always&nbsp;a&nbsp;lot&nbsp;of&nbsp;complexity&nbsp;that&nbsp;comes&nbsp;along&nbsp;with&nbsp;trying&nbsp;to&nbsp;do&nbsp;codemod&nbsp;migrations&nbsp;&quot;the&nbsp;right&nbsp;way&quot;&nbsp;when&nbsp;that's&nbsp;going&nbsp;against&nbsp;the&nbsp;grain&nbsp;of&nbsp;the&nbsp;rest&nbsp;of&nbsp;the&nbsp;ecosystem.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;normal;&quot;&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;normal;&quot;&nbsp;class=&quot;&quot;&gt;I&nbsp;don't&nbsp;love&nbsp;that&nbsp;we've&nbsp;foisted&nbsp;this&nbsp;off&nbsp;onto&nbsp;our&nbsp;users,&nbsp;but&nbsp;I&nbsp;suspect&nbsp;Tobias&nbsp;spent&nbsp;a&nbsp;lot&nbsp;less&nbsp;time&nbsp;fixing&nbsp;the&nbsp;bug&nbsp;here&nbsp;than&nbsp;we've&nbsp;spent&nbsp;writing&nbsp;emails&nbsp;about&nbsp;it&nbsp;at&nbsp;this&nbsp;point&nbsp;;-).&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;normal;&quot;&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;normal;&quot;&nbsp;class=&quot;&quot;&gt;I&nbsp;look&nbsp;forward&nbsp;to&nbsp;the&nbsp;day&nbsp;where&nbsp;I'm&nbsp;wrong&nbsp;about&nbsp;all&nbsp;of&nbsp;this&nbsp;and&nbsp;every&nbsp;new&nbsp;code&nbsp;quality&nbsp;tool&nbsp;comes&nbsp;with&nbsp;a&nbsp;super&nbsp;easy-to-deploy&nbsp;ratchet,&nbsp;though.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;normal;&quot;&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;normal;&quot;&nbsp;class=&quot;&quot;&gt;-g&lt;/span&gt;&lt;/div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
