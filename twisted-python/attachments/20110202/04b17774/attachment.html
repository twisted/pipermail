<tt>
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;On&nbsp;Feb&nbsp;2,&nbsp;2011,&nbsp;at&nbsp;7:42&nbsp;AM,&nbsp;Michael&nbsp;Thompson&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;On&nbsp;2&nbsp;February&nbsp;2011&nbsp;10:11,&nbsp;Jason&nbsp;Heeris&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:jason.heeris@gmail.com&quot;&gt;jason.heeris@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;On&nbsp;2&nbsp;February&nbsp;2011&nbsp;17:53,&nbsp;Albert&nbsp;Brandl&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:albert.brandl@weiermayer.com&quot;&gt;albert.brandl@weiermayer.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&quot;string&quot;&nbsp;could&nbsp;be&nbsp;interpreted&nbsp;as&nbsp;&quot;complete&nbsp;message&quot;.&nbsp;It&nbsp;might&nbsp;e.g.&nbsp;happen&lt;br&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;that&nbsp;a&nbsp;message&nbsp;arrives&nbsp;in&nbsp;three&nbsp;chunks.&nbsp;Each&nbsp;time&nbsp;a&nbsp;chunk&nbsp;is&nbsp;read,&nbsp;the&lt;br&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;dataReceived&nbsp;method&nbsp;is&nbsp;called.&nbsp;When&nbsp;it&nbsp;detects&nbsp;that&nbsp;the&nbsp;message&nbsp;is&lt;br&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;complete,&nbsp;it&nbsp;calls&nbsp;stringReceived&nbsp;with&nbsp;the&nbsp;content&nbsp;of&nbsp;the&nbsp;message.&lt;br&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;Okay,&nbsp;but&nbsp;I&nbsp;don't&nbsp;see&nbsp;how&nbsp;to&nbsp;use&nbsp;that&nbsp;to&nbsp;solve&nbsp;my&nbsp;particular&nbsp;problem.&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;I'm&nbsp;not&nbsp;waiting&nbsp;passively&nbsp;to&nbsp;receive&nbsp;a&nbsp;complete&nbsp;string,&nbsp;I&nbsp;have&nbsp;to&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;react&nbsp;to&nbsp;whatever's&nbsp;sent&nbsp;back,&nbsp;character&nbsp;by&nbsp;character,&nbsp;either&nbsp;by&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;reporting&nbsp;completion,&nbsp;an&nbsp;error&nbsp;or&nbsp;sending&nbsp;more&nbsp;data.&nbsp;In&nbsp;effect,&nbsp;I&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;guess,&nbsp;each&nbsp;character&nbsp;is&nbsp;a&nbsp;&quot;complete&nbsp;message&quot;&nbsp;anyway.&nbsp;I&nbsp;don't&nbsp;think&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;the&nbsp;t.i.protocols&nbsp;offer&nbsp;much&nbsp;for&nbsp;that.&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;Yep&nbsp;you&nbsp;have&nbsp;a&nbsp;pretty&nbsp;simple&nbsp;protocol&nbsp;there&nbsp;so&nbsp;even&nbsp;the&nbsp;basic&nbsp;examples&lt;br&gt;are&nbsp;probably&nbsp;more&nbsp;than&nbsp;you&nbsp;need.&lt;br&gt;&lt;br&gt;Something&nbsp;like&nbsp;this&nbsp;might&nbsp;get&nbsp;you&nbsp;started.&lt;br&gt;&lt;br&gt;class&nbsp;MyProtocol(Protocol):&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;send(self,&nbsp;byte):&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.transport.write(byte)&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.response&nbsp;=&nbsp;Deferred()&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.response&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;dataReceived(self,&nbsp;byte):&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.response.callback(byte)&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;Not&nbsp;quite.&nbsp;&nbsp;You&nbsp;mean:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;class&nbsp;MyProtocol(Protocol):&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;#&nbsp;...&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;def&nbsp;dataReceived(self,&nbsp;data):&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;octet&nbsp;in&nbsp;data:&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process(octet)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;the&nbsp;device&nbsp;outputs&nbsp;multiple&nbsp;bytes&nbsp;it&nbsp;might&nbsp;show&nbsp;up&nbsp;to&nbsp;Twisted&nbsp;as&nbsp;strings&nbsp;of&nbsp;arbitrary&nbsp;length&nbsp;(this&nbsp;depends&nbsp;on&nbsp;timings&nbsp;of&nbsp;the&nbsp;serial&nbsp;port&nbsp;which&nbsp;are&nbsp;basically&nbsp;impossible&nbsp;to&nbsp;control),&nbsp;so&nbsp;if&nbsp;you&nbsp;want&nbsp;to&nbsp;process&nbsp;a&nbsp;byte&nbsp;at&nbsp;a&nbsp;time,&nbsp;you&nbsp;need&nbsp;to&nbsp;specifically&nbsp;iterate&nbsp;through&nbsp;the&nbsp;string&nbsp;that&nbsp;is&nbsp;passed,&nbsp;even&nbsp;if&nbsp;it's&nbsp;&lt;i&gt;usually&lt;/i&gt;&nbsp;one&nbsp;byte&nbsp;long.&nbsp;&nbsp;(Some&nbsp;of&nbsp;the&nbsp;protocol&nbsp;examples&nbsp;showed&nbsp;multibyte&nbsp;sequences&nbsp;as&nbsp;messages.&nbsp;&nbsp;I&nbsp;don't&nbsp;understand&nbsp;the&nbsp;framing&nbsp;well&nbsp;enough&nbsp;to&nbsp;provide&nbsp;a&nbsp;better&nbsp;example&nbsp;though,&nbsp;sorry.)&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
