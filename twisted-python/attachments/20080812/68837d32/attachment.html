<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi,&lt;br&gt;&lt;br&gt;I&#39;ve&nbsp;been&nbsp;playing&nbsp;around&nbsp;with&nbsp;Twisted&#39;s&nbsp;Conch&nbsp;client&nbsp;(which&nbsp;looks&nbsp;extremely&nbsp;well&nbsp;done,&nbsp;thanks!).&nbsp;I&#39;ve&nbsp;been&nbsp;able&nbsp;to&nbsp;connect&nbsp;to&nbsp;a&nbsp;conch&nbsp;server&nbsp;and&nbsp;also&nbsp;connect&nbsp;to&nbsp;other&nbsp;ssh&nbsp;servers&nbsp;and&nbsp;execuate&nbsp;various&nbsp;commands.&nbsp;I&#39;d&nbsp;like&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;connect&nbsp;to&nbsp;an&nbsp;arbitrary&nbsp;SSH&nbsp;server&nbsp;and&nbsp;run&nbsp;/bin/bash.&lt;br&gt;<br>
&lt;br&gt;I&#39;m&nbsp;able&nbsp;to&nbsp;execute&nbsp;a&nbsp;command&nbsp;like&nbsp;so:&lt;br&gt;&lt;br&gt;---------------------&lt;br&gt;class&nbsp;CommandChannel(channel.SSHChannel):&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;....&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;channelOpen(self,&nbsp;data):&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.conn.sendRequest(&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self,&nbsp;&#39;exec&#39;,&nbsp;common.NS(self.command),&nbsp;wantReply=True).addCallback(&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self._gotResponse)&lt;br&gt;---------------------&lt;br&gt;&lt;br&gt;Looking&nbsp;through&nbsp;the&nbsp;SSH&nbsp;spec&nbsp;(connect&nbsp;protocol,&nbsp;rfc4254),&nbsp;it&nbsp;looks&nbsp;like&nbsp;shells&nbsp;are&nbsp;opened&nbsp;with&nbsp;this&nbsp;command.&nbsp;&lt;br&gt;&lt;br&gt;---------------------&lt;br&gt;&lt;br&gt;&lt;pre&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;byte&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SSH_MSG_CHANNEL_REQUEST&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint32&nbsp;&nbsp;&nbsp;&nbsp;recipient&nbsp;channel&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;&nbsp;&nbsp;&nbsp;&quot;shell&quot;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;boolean&nbsp;&nbsp;&nbsp;want&nbsp;reply&lt;br&gt;&lt;/pre&gt;<br>
---------------------&lt;br&gt;&lt;br&gt;It&nbsp;doesn&#39;t&nbsp;look&nbsp;like&nbsp;Conch&nbsp;supports&nbsp;these&nbsp;requests&nbsp;(here&#39;s&nbsp;how&nbsp;CHANNEL_REQUESTs&nbsp;are&nbsp;currently&nbsp;sent&nbsp;out)&lt;br&gt;&lt;br&gt;---------------------&lt;br&gt;(Twisted-8.1.0)&lt;br&gt;twisted/conch/ssh/connection.py&nbsp;(413):&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.transport.sendPacket(MSG_CHANNEL_REQUEST,&nbsp;struct.pack(&#39;&gt;L&#39;,&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.channelsToRemoteChannel[channel])&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;common.NS(requestType)+chr(wantReply)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;data)&lt;br&gt;---------------------&lt;br&gt;&lt;br&gt;I&nbsp;may&nbsp;be&nbsp;misunderstanding&nbsp;how&nbsp;remote&nbsp;shells&nbsp;are&nbsp;started,&nbsp;so&nbsp;any&nbsp;help&nbsp;would&nbsp;be&nbsp;appreciated.&nbsp;&lt;br&gt;&lt;br&gt;Again,&nbsp;I&#39;m&nbsp;trying&nbsp;to&nbsp;launch&nbsp;an&nbsp;interactive&nbsp;/bin/bash&nbsp;shell&nbsp;from&nbsp;a&nbsp;Conch&nbsp;SSH&nbsp;client&nbsp;on&nbsp;an&nbsp;arbitrary&nbsp;remote&nbsp;SSH&nbsp;server.&nbsp;&lt;br&gt;<br>
&lt;br&gt;Thanks&nbsp;for&nbsp;your&nbsp;time.&lt;br&gt;&lt;br&gt;Best&nbsp;Regards,&lt;br&gt;Bill&nbsp;Zeller&lt;br&gt;&lt;/div&gt;<br>

</tt>
