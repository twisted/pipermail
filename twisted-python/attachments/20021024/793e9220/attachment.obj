# rop, test pb stuff
# carball@hush.com

from twisted.spread import flavors, pb

class Cashew( flavors.Cacheable ):
    def __init__( self ):
	self.shell="intact"
	self.observers = []

    def getStateToCacheAndObserveFor( self, persp, observer ):
	self.observers.append( observer )
	return self.getStateToCopyFor( persp )

class RemoteCashew( flavors.RemoteCache ):
    def observe_crackIt( self ):
	self.shell="cracked"
	return "cracked it!"

flavors.setCopierForClass( str(Cashew), RemoteCashew )

