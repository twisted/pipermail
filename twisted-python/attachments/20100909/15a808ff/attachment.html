<tt>
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;On&nbsp;Sep&nbsp;8,&nbsp;2010,&nbsp;at&nbsp;8:12&nbsp;PM,&nbsp;Laurens&nbsp;Van&nbsp;Houtven&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;Actually,&nbsp;I&nbsp;believe&nbsp;much&nbsp;of&nbsp;the&nbsp;confusion&nbsp;is&nbsp;cleared&nbsp;up.&nbsp;Apparently&nbsp;I&nbsp;misunderstood&nbsp;what&nbsp;a&nbsp;Realm&nbsp;does.&nbsp;Oops!&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;The&nbsp;application&nbsp;in&nbsp;the&nbsp;original&nbsp;mail,&nbsp;which&nbsp;I&nbsp;will&nbsp;continue&nbsp;to&nbsp;talk&nbsp;about&nbsp;in&nbsp;this&nbsp;one,&nbsp;is&nbsp;a&nbsp;token&nbsp;endpoint.&nbsp;I've&nbsp;been&nbsp;told&nbsp;an&nbsp;explanation&nbsp;of&nbsp;what&nbsp;that&nbsp;is&nbsp;is&nbsp;in&nbsp;order.&nbsp;To&nbsp;start&nbsp;out:&nbsp;it&nbsp;is&nbsp;NOT&nbsp;the&nbsp;thing&nbsp;that&nbsp;actually&nbsp;serves&nbsp;protected&nbsp;resources,&nbsp;that's&nbsp;a&nbsp;resource&nbsp;server,&nbsp;which&nbsp;is&nbsp;a&nbsp;different&nbsp;beast&nbsp;entirely.&nbsp;The&nbsp;job&nbsp;of&nbsp;a&nbsp;token&nbsp;endpoint&nbsp;is&nbsp;to&nbsp;turn&nbsp;certain&nbsp;kinds&nbsp;of&nbsp;credentials&nbsp;into&nbsp;an&nbsp;access&nbsp;token;&nbsp;the&nbsp;access&nbsp;token,&nbsp;in&nbsp;turn,&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;access&nbsp;protected&nbsp;resources.&nbsp;So&nbsp;basically,&nbsp;these&nbsp;credentials&nbsp;are&nbsp;about&nbsp;already&nbsp;provided&nbsp;access&nbsp;grants,&nbsp;that&nbsp;haven't&nbsp;been&nbsp;turned&nbsp;into&nbsp;access&nbsp;tokens&nbsp;yet.&nbsp;Examples&nbsp;of&nbsp;such&nbsp;credentials&nbsp;which&nbsp;can&nbsp;be&nbsp;turned&nbsp;in&nbsp;for&nbsp;access&nbsp;tokens:&lt;/div&gt;<br>
&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;(...)&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;Does&nbsp;that&nbsp;help?&lt;/div&gt;&lt;div&gt;Laurens&lt;/div&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Somewhat,&nbsp;but&nbsp;it&nbsp;really&nbsp;casts&nbsp;the&nbsp;main&nbsp;issue&nbsp;into&nbsp;sharper&nbsp;focus:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;for&nbsp;any&nbsp;given&nbsp;cred&nbsp;implementation,&nbsp;there&nbsp;are&nbsp;two&nbsp;key&nbsp;questions:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;ol&nbsp;class=&quot;MailOutline&quot;&gt;&lt;li&gt;What&nbsp;is&nbsp;the&nbsp;avatar&nbsp;interface?&lt;/li&gt;&lt;li&gt;What&nbsp;is&nbsp;the&nbsp;associated&nbsp;mind&nbsp;interface?&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;we're&nbsp;not&nbsp;talking&nbsp;about&nbsp;a&nbsp;system&nbsp;where&nbsp;the&nbsp;avatar&nbsp;interface&nbsp;(the&nbsp;one&nbsp;passed&nbsp;to&nbsp;'login',&nbsp;the&nbsp;one&nbsp;that&nbsp;the&nbsp;realm&nbsp;must&nbsp;return&nbsp;something&nbsp;that&nbsp;gets&nbsp;implemented)&nbsp;is&nbsp;IResource,&nbsp;then&nbsp;that's&nbsp;the&nbsp;problem.&nbsp;&nbsp;What&nbsp;&lt;i&gt;is&lt;/i&gt;&nbsp;that&nbsp;interface&nbsp;that&nbsp;you're&nbsp;talking&nbsp;about?&nbsp;&nbsp;Be&nbsp;very&nbsp;specific:&nbsp;what&nbsp;methods&nbsp;does&nbsp;it&nbsp;have&nbsp;and&nbsp;why?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;It&nbsp;sounds&nbsp;like&nbsp;OAuth&nbsp;is&nbsp;very&nbsp;precisely&nbsp;implementing&nbsp;something&nbsp;that&nbsp;maps&nbsp;almost&nbsp;exactly&nbsp;onto&nbsp;the&nbsp;&lt;i&gt;checker&lt;/i&gt;&nbsp;part&nbsp;of&nbsp;cred,&nbsp;but&nbsp;you're&nbsp;doing&nbsp;it&nbsp;by&nbsp;implementing&nbsp;a&nbsp;realm&nbsp;to&nbsp;allow&nbsp;applications&nbsp;to&nbsp;provide&nbsp;their&nbsp;own&nbsp;logic.&nbsp;&nbsp;This&nbsp;might&nbsp;not&nbsp;be&nbsp;the&nbsp;wrong&nbsp;idea,&nbsp;but&nbsp;it&nbsp;needs&nbsp;to&nbsp;be&nbsp;spelled&nbsp;out&nbsp;very&nbsp;clearly.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;As&nbsp;you&nbsp;describe&nbsp;it:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;token&nbsp;endpoints&nbsp;let&nbsp;you&nbsp;trade&nbsp;in&nbsp;some&nbsp;credentials&nbsp;that&nbsp;prove&nbsp;you're&nbsp;supposed&nbsp;to&nbsp;have&nbsp;access&nbsp;for&nbsp;a&nbsp;token&nbsp;that&nbsp;actually&nbsp;*gives*&nbsp;you&nbsp;that&nbsp;access&lt;/blockquote&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In&nbsp;cred-ese,&nbsp;that&nbsp;would&nbsp;be&nbsp;&quot;checkers&nbsp;let&nbsp;you&nbsp;trade&nbsp;in&nbsp;some&nbsp;credentials&nbsp;that&nbsp;prove&nbsp;you're&nbsp;supposed&nbsp;to&nbsp;have&nbsp;access&nbsp;for&nbsp;an&nbsp;&lt;avatar&nbsp;ID,&nbsp;which&nbsp;you&nbsp;give&nbsp;to&nbsp;a&nbsp;Realm&gt;&nbsp;that&nbsp;actually&nbsp;*gives*&nbsp;you&nbsp;that&nbsp;access&quot;.&nbsp;&nbsp;As&nbsp;far&nbsp;as&nbsp;the&nbsp;OAuth&nbsp;response&nbsp;is&nbsp;concerned,&nbsp;it's&nbsp;like&nbsp;a&nbsp;checker.&nbsp;&nbsp;Looking&nbsp;at&nbsp;the&nbsp;individual&nbsp;parts,&nbsp;assuming&nbsp;that&nbsp;the&nbsp;avatar&nbsp;interface&nbsp;for&nbsp;the&nbsp;purposes&nbsp;of&nbsp;this&nbsp;discussion&nbsp;is&nbsp;IResource,&nbsp;it&nbsp;breaks&nbsp;down&nbsp;like&nbsp;this&nbsp;in&nbsp;my&nbsp;mind:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;the&nbsp;access&nbsp;token&nbsp;(an&nbsp;ascii&nbsp;string,&nbsp;mandatory)&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Avatar&nbsp;ID.&nbsp;&nbsp;(See,&nbsp;it's&nbsp;a&nbsp;str!)&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;the&nbsp;expiration&nbsp;time&nbsp;(optional)&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Implementation&nbsp;detail&nbsp;of&nbsp;the&nbsp;session.&nbsp;&nbsp;Avatars&nbsp;are&nbsp;actually&nbsp;sessions,&nbsp;which&nbsp;expire:&nbsp;sometimes&nbsp;(as&nbsp;with&nbsp;POP)&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;a&nbsp;connection,&nbsp;sometimes&nbsp;(as&nbsp;with&nbsp;nevow.guard's&nbsp;HTTP&nbsp;support)&nbsp;with&nbsp;a&nbsp;session&nbsp;timeout.&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;the&nbsp;refresh&nbsp;token&nbsp;(another&nbsp;ascii&nbsp;string,&nbsp;similar&nbsp;to&nbsp;the&nbsp;access&nbsp;token,&nbsp;optional)&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Implementation&nbsp;detail&nbsp;of&nbsp;the&nbsp;authentication&nbsp;protocol.&nbsp;&nbsp;The&nbsp;client&nbsp;library&nbsp;and&nbsp;server&nbsp;library&nbsp;should&nbsp;be&nbsp;transparently&nbsp;refreshing&nbsp;this&nbsp;without&nbsp;telling&nbsp;either&nbsp;the&nbsp;client&nbsp;application&nbsp;code&nbsp;or&nbsp;server&nbsp;application&nbsp;code,&nbsp;right?&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;scope&nbsp;(an&nbsp;ascii&nbsp;string&nbsp;consisting&nbsp;of&nbsp;a&nbsp;set&nbsp;of&nbsp;space-separated&nbsp;words,&nbsp;optional)&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;This&nbsp;part&nbsp;doesn't&nbsp;quite&nbsp;fit,&nbsp;but&nbsp;could&nbsp;be&nbsp;expressed&nbsp;in&nbsp;one&nbsp;of&nbsp;two&nbsp;ways:&nbsp;a&nbsp;modification&nbsp;to&nbsp;the&nbsp;avatar&nbsp;ID,&nbsp;or&nbsp;as&nbsp;some&nbsp;extra&nbsp;structure&nbsp;on&nbsp;the&nbsp;Mind&nbsp;that&nbsp;modifies&nbsp;what&nbsp;functionality&nbsp;the&nbsp;Realm&nbsp;bundles&nbsp;in&nbsp;to&nbsp;your&nbsp;avatar&nbsp;implementation&nbsp;(without&nbsp;changing&nbsp;the&nbsp;interface&nbsp;provided&nbsp;by&nbsp;that&nbsp;object,&nbsp;of&nbsp;course).&lt;br&gt;&lt;br&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
