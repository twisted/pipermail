<tt>
&lt;html&gt;&lt;body&gt;On&nbsp;12:55&nbsp;am,&nbsp;ncesar@lunix.com.ar&nbsp;wrote:&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;&gt;&gt;&nbsp;This&nbsp;is&nbsp;bad&nbsp;form,&nbsp;however.&nbsp;&#160;Particular&nbsp;types&nbsp;of&nbsp;exception&nbsp;should&nbsp;not&nbsp;stop&lt;br&nbsp;/&gt;&gt;&gt;&nbsp;the&nbsp;reactor.&nbsp;&#160;Code&nbsp;that&nbsp;wants&nbsp;the&nbsp;reactor&nbsp;to&nbsp;stop,&nbsp;should&nbsp;call&lt;br&nbsp;/&gt;&gt;&gt;&nbsp;reactor.stop.&nbsp;&#160;Maybe&nbsp;you&nbsp;could&nbsp;make&nbsp;a&nbsp;method&nbsp;that&nbsp;both&nbsp;calls&nbsp;reactor.stop()&lt;br&nbsp;/&gt;&gt;&gt;&nbsp;*and*&nbsp;raises&nbsp;an&nbsp;exception.&lt;br&nbsp;/&gt;&gt;&lt;br&nbsp;/&gt;&gt;This&nbsp;is&nbsp;the&nbsp;way&nbsp;i'm&nbsp;doing&nbsp;it&nbsp;right&nbsp;now,&nbsp;but&nbsp;i'm&nbsp;starting&nbsp;to&nbsp;detect&nbsp;new&lt;br&nbsp;/&gt;&gt;exceptions&nbsp;raised&nbsp;within&nbsp;standard&nbsp;library&nbsp;(among&nbsp;others)&nbsp;code...&nbsp;and&nbsp;instead&lt;br&nbsp;/&gt;&gt;of&nbsp;catching&nbsp;all&nbsp;posibilities&nbsp;I&nbsp;wanted&nbsp;the&nbsp;application&nbsp;to&nbsp;quit&nbsp;(with&nbsp;the&lt;br&nbsp;/&gt;&gt;corresponding&nbsp;logging&nbsp;done).&lt;br&nbsp;/&gt;&gt;&lt;br&nbsp;/&gt;&gt;I&nbsp;was&nbsp;wondering&nbsp;if&nbsp;twistd/the&nbsp;application&nbsp;class&nbsp;could&nbsp;have&nbsp;a&nbsp;&quot;exit&nbsp;on&lt;br&nbsp;/&gt;&gt;Exception&quot;&nbsp;for&nbsp;this&nbsp;type&nbsp;of&nbsp;operations.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;In&nbsp;general&nbsp;this&nbsp;is&nbsp;a&nbsp;bad&nbsp;idea.&nbsp;&#160;There&nbsp;are&nbsp;basically&nbsp;3&nbsp;kinds&nbsp;of&nbsp;code&nbsp;you&nbsp;can&nbsp;write&nbsp;with&nbsp;Twisted:&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;&#160;&nbsp;1.&nbsp;Infrastructure&nbsp;code,&nbsp;which&nbsp;implements&nbsp;a&nbsp;protocol&nbsp;and&nbsp;provides&nbsp;APIs&nbsp;for&nbsp;parsing&nbsp;and&nbsp;dealing&nbsp;with&nbsp;events.&nbsp;&#160;This&nbsp;kind&nbsp;of&nbsp;code&nbsp;should&nbsp;never&nbsp;contain&nbsp;a&nbsp;reactor.stop&nbsp;at&nbsp;all.&lt;br&nbsp;/&gt;&#160;&nbsp;2.&nbsp;Application&nbsp;code&nbsp;which&nbsp;exits&nbsp;in&nbsp;response&nbsp;to&nbsp;a&nbsp;particular&nbsp;user&nbsp;event.&nbsp;&#160;This&nbsp;kind&nbsp;of&nbsp;code&nbsp;should&nbsp;contain&nbsp;exactly&nbsp;1&nbsp;call&nbsp;to&nbsp;reactor.stop,&nbsp;in&nbsp;the&nbsp;handler&nbsp;for&nbsp;the&nbsp;user&nbsp;event&nbsp;that&nbsp;is&nbsp;the&nbsp;explicit&nbsp;stop.&lt;br&nbsp;/&gt;&#160;&nbsp;3.&nbsp;Programs&nbsp;which&nbsp;do&nbsp;one&nbsp;operation,&nbsp;then&nbsp;stop&nbsp;themselves.&nbsp;&#160;This&nbsp;kind&nbsp;of&nbsp;code&nbsp;should&nbsp;contain&nbsp;exactly&nbsp;1&nbsp;call&nbsp;to&nbsp;reactor.stop,&nbsp;in&nbsp;the&nbsp;final&nbsp;callback/errback&nbsp;of&nbsp;the&nbsp;Deferred&nbsp;representing&nbsp;the&nbsp;operation&nbsp;that&nbsp;it&nbsp;is&nbsp;run&nbsp;to&nbsp;perform.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;It&nbsp;sounds&nbsp;like&nbsp;you&nbsp;are&nbsp;writing&nbsp;code&nbsp;of&nbsp;type&nbsp;3.&nbsp;&#160;I'm&nbsp;guessing&nbsp;you're&nbsp;writing&nbsp;a&nbsp;program&nbsp;which&nbsp;does&nbsp;one&nbsp;thing,&nbsp;then&nbsp;shuts&nbsp;itself&nbsp;down.&nbsp;&#160;If&nbsp;that&nbsp;is&nbsp;the&nbsp;case,&nbsp;the&nbsp;&quot;program&quot;&nbsp;should&nbsp;be&nbsp;encapsulated&nbsp;by&nbsp;a&nbsp;Deferred,&nbsp;and&nbsp;there&nbsp;should&nbsp;be&nbsp;a&nbsp;final&nbsp;addBoth&nbsp;which&nbsp;waits&nbsp;for&nbsp;the&nbsp;program&nbsp;to&nbsp;finish&nbsp;when&nbsp;it&nbsp;exits.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;If&nbsp;you&nbsp;*don't*&nbsp;structure&nbsp;your&nbsp;program&nbsp;this&nbsp;way,&nbsp;then&nbsp;you'll&nbsp;discover&nbsp;later&nbsp;that&nbsp;sometimes,&nbsp;you&nbsp;want&nbsp;to&nbsp;run&nbsp;your&nbsp;particular&nbsp;operation&nbsp;TWICE&nbsp;in&nbsp;the&nbsp;lifetime&nbsp;of&nbsp;the&nbsp;process&nbsp;instead&nbsp;of&nbsp;once,&nbsp;and&nbsp;you&nbsp;will&nbsp;have&nbsp;to&nbsp;deal&nbsp;with&nbsp;dozens&nbsp;of&nbsp;calls&nbsp;to&nbsp;reactor.stop&nbsp;littered&nbsp;around&nbsp;your&nbsp;application&nbsp;in&nbsp;lots&nbsp;of&nbsp;places.&nbsp;&#160;Don't&nbsp;try&nbsp;to&nbsp;always&nbsp;stop&nbsp;the&nbsp;*process*&nbsp;when&nbsp;your&nbsp;program&nbsp;is&nbsp;complete:&nbsp;stop&nbsp;the&nbsp;*program*&nbsp;by&nbsp;keeping&nbsp;a&nbsp;Deferred&nbsp;around&nbsp;which&nbsp;represents&nbsp;its&nbsp;complete&nbsp;run.&nbsp;&#160;That&nbsp;way&nbsp;the&nbsp;*driver*&nbsp;for&nbsp;the&nbsp;program&nbsp;is&nbsp;responsible&nbsp;for&nbsp;stopping&nbsp;it,&nbsp;and&nbsp;when&nbsp;you&nbsp;want&nbsp;to&nbsp;aggregate&nbsp;multiple&nbsp;runs&nbsp;of&nbsp;it,&nbsp;you&nbsp;can&nbsp;easily&nbsp;use&nbsp;a&nbsp;tool&nbsp;like&nbsp;DeferredList,&nbsp;or&nbsp;do&nbsp;something&nbsp;different&nbsp;in&nbsp;the&nbsp;callbacks&nbsp;at&nbsp;the&nbsp;end.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
