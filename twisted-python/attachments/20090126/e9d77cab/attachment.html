<tt>
&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Mon,&nbsp;Jan&nbsp;26,&nbsp;2009&nbsp;at&nbsp;12:09&nbsp;PM,&nbsp;Drew&nbsp;Smathers&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:drew.smathers@gmail.com&quot;&gt;drew.smathers@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
&lt;div&nbsp;class=&quot;Ih2E3d&quot;&gt;On&nbsp;Mon,&nbsp;Jan&nbsp;26,&nbsp;2009&nbsp;at&nbsp;4:02&nbsp;PM,&nbsp;Alessio&nbsp;Pace&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:alessio.pace@gmail.com&quot;&gt;alessio.pace@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;Hi,&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;put&nbsp;in&nbsp;my&nbsp;suite&nbsp;of&nbsp;tests&nbsp;some&nbsp;integration&nbsp;tests&nbsp;which&nbsp;deal&lt;br&gt;<br>
&gt;&nbsp;with&nbsp;running&nbsp;some&nbsp;exchange&nbsp;of&nbsp;messages&nbsp;among&nbsp;2&nbsp;endpoints&nbsp;(bound&nbsp;locally&nbsp;on&lt;br&gt;<br>
&gt;&nbsp;the&nbsp;same&nbsp;machine&nbsp;on&nbsp;2&nbsp;different&nbsp;ports).&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;Trial&nbsp;allows&nbsp;you&nbsp;to&nbsp;return&nbsp;a&nbsp;Deferred,&nbsp;which&nbsp;in&nbsp;you&nbsp;case&nbsp;is&nbsp;something&lt;br&gt;<br>
you&nbsp;would&nbsp;call&nbsp;after&nbsp;your&nbsp;endpoints&nbsp;close&nbsp;their&nbsp;connections.&nbsp;&nbsp;You&nbsp;can&lt;br&gt;<br>
grep&nbsp;through&nbsp;twisted&nbsp;sources&nbsp;though&nbsp;to&nbsp;see&nbsp;how&nbsp;this&nbsp;can&nbsp;be&nbsp;done&lt;br&gt;<br>
without&nbsp;network&nbsp;connections&nbsp;in&nbsp;unit&nbsp;tests&nbsp;-&nbsp;look&nbsp;for&nbsp;test&nbsp;cases&nbsp;using&lt;br&gt;<br>
the&nbsp;module&nbsp;simio.&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;Ih2E3d&quot;&gt;&lt;br&gt;<br>
&gt;&nbsp;I&nbsp;noticed&nbsp;(and&nbsp;read&nbsp;afterwards..)&nbsp;that&nbsp;I&nbsp;can&#39;t&nbsp;run()/stop()&nbsp;the&nbsp;reactor&lt;br&gt;<br>
&gt;&nbsp;multiple&nbsp;times,&nbsp;so&nbsp;I&nbsp;was&nbsp;wondering&nbsp;what&#39;s&nbsp;the&nbsp;suggested&nbsp;way&nbsp;to&nbsp;deal&nbsp;with&lt;br&gt;<br>
&gt;&nbsp;this&nbsp;kind&nbsp;of&nbsp;situation.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;You&nbsp;can&nbsp;close&nbsp;connections&nbsp;and&nbsp;reconnect&nbsp;etc.&nbsp;without&nbsp;&quot;restarting&quot;&nbsp;the&lt;br&gt;<br>
reactor&nbsp;-&nbsp;so&nbsp;I&nbsp;don&#39;t&nbsp;see&nbsp;how&nbsp;this&nbsp;is&nbsp;an&nbsp;obstacle.&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;The&nbsp;point&nbsp;is&nbsp;that&nbsp;I&nbsp;must&nbsp;assure&nbsp;multiple&nbsp;test&nbsp;classes&nbsp;have&nbsp;their&nbsp;test&nbsp;methods&nbsp;run&nbsp;within&nbsp;an&nbsp;active&nbsp;reactor.&nbsp;So&nbsp;somewhere&nbsp;a&nbsp;reactor.run()&nbsp;has&nbsp;to&nbsp;be&nbsp;called..&nbsp;Necessarily,&nbsp;if&nbsp;I&nbsp;want&nbsp;that&nbsp;my&nbsp;tests&nbsp;battery&nbsp;to&nbsp;terminate,&nbsp;a&nbsp;reactor.stop()&nbsp;must&nbsp;be&nbsp;invoked&nbsp;by&nbsp;somebody,&nbsp;otherwise&nbsp;the&nbsp;main&nbsp;loop&nbsp;remains&nbsp;running...&lt;br&gt;<br>
&lt;br&gt;The&nbsp;trivial&nbsp;-and&nbsp;not&nbsp;working-&nbsp;idea&nbsp;was&nbsp;to&nbsp;do&nbsp;reactor.run()&nbsp;/&nbsp;reactor.stop()&nbsp;in&nbsp;setUp()&nbsp;/&nbsp;tearDown()&nbsp;methods.&lt;br&gt;&lt;br&gt;I&nbsp;believe&nbsp;extening&nbsp;Trial&nbsp;TestCase&nbsp;is&nbsp;the&nbsp;good&nbsp;way&nbsp;to&nbsp;go,&nbsp;but&nbsp;as&nbsp;you&nbsp;are&nbsp;mentioning,&nbsp;there&nbsp;is&nbsp;not&nbsp;so&nbsp;much&nbsp;documentation...&nbsp;I&#39;m&nbsp;trying&nbsp;to&nbsp;understand&nbsp;how&nbsp;to&nbsp;do&nbsp;from&nbsp;the&nbsp;UDP&nbsp;test&nbsp;case&nbsp;in&nbsp;Twisted&nbsp;trunk..&lt;br&gt;<br>
&nbsp;&lt;br&gt;Thanks.&nbsp;Regards,&lt;br&gt;Alessio&nbsp;Pace.&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
