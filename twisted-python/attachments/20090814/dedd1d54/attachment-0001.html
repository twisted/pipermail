<tt>
&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;Aug&nbsp;13,&nbsp;2009&nbsp;at&nbsp;7:01&nbsp;PM,&nbsp;Laurens&nbsp;Van&nbsp;Houtven&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:lvh@laurensvh.be&quot;&nbsp;target=&quot;_blank&quot;&gt;lvh@laurensvh.be&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
<br>
<br>
&lt;div&gt;<br>
On&nbsp;Thu,&nbsp;Aug&nbsp;13,&nbsp;2009&nbsp;at&nbsp;9:35&nbsp;PM,&nbsp;Glyph&nbsp;Lefkowitz&nbsp;wrote:&lt;br&gt;<br>
&gt;&gt;&nbsp;Short&nbsp;question&nbsp;up&nbsp;front:&nbsp;what&nbsp;exactly&nbsp;should&nbsp;be&nbsp;in&nbsp;the&nbsp;proposed&lt;br&gt;<br>
&gt;&gt;&nbsp;factory&nbsp;class?&nbsp;What&nbsp;does&nbsp;it&nbsp;take?&nbsp;What&nbsp;does&nbsp;it&nbsp;return?&lt;br&gt;<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Factory&nbsp;class&nbsp;proposed&nbsp;by&nbsp;whom&nbsp;and&nbsp;for&nbsp;what?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;I&nbsp;think&nbsp;that&nbsp;was&nbsp;you,&nbsp;and&nbsp;I&nbsp;think&nbsp;it&nbsp;was&nbsp;for&nbsp;gluing&nbsp;the&nbsp;classes&nbsp;in&lt;br&gt;<br>
NMEA&nbsp;together.&nbsp; From&nbsp;your&nbsp;mail&nbsp;on&nbsp;July&nbsp;30:&lt;br&gt;<br>
&lt;br&gt;<br>
&gt;&nbsp;There&nbsp;should&nbsp;also&nbsp;be&nbsp;a&nbsp;factory&nbsp;which&nbsp;nicely&nbsp;hooks&nbsp;everything&nbsp;together&nbsp;and&nbsp;takes&nbsp;only&nbsp;a&nbsp;factory&nbsp;for&nbsp;your&nbsp;IPositioningProvider,&nbsp;so&nbsp;that&nbsp;users&nbsp;can&nbsp;quickly&nbsp;get&nbsp;started&nbsp;with&nbsp;a&nbsp;positioning&nbsp;provider.&lt;br&gt;<br>
&lt;br&gt;<br>
I&#39;m&nbsp;not&nbsp;sure&nbsp;what&nbsp;a&nbsp;factory&nbsp;that&nbsp;takes&nbsp;a&nbsp;factory&nbsp;is.&lt;/blockquote&gt;&lt;div&gt; &lt;/div&gt;&lt;div&gt;That&nbsp;was&nbsp;a&nbsp;typo. &nbsp;There&nbsp;should&nbsp;be&nbsp;a&nbsp;&lt;i&gt;method&lt;/i&gt;&nbsp;which&nbsp;nicely&nbsp;hooks&nbsp;everything&nbsp;together&nbsp;and&nbsp;takes&nbsp;only&nbsp;a&nbsp;factory&nbsp;(etc).&lt;br&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
<br>
I&#39;d&nbsp;think&nbsp;it&#39;s&nbsp;something&nbsp;that&nbsp;implements&nbsp;IPositioningProvider&nbsp;(eg&nbsp;a&nbsp;class)&nbsp;and&nbsp;then<br>
returns&nbsp;the&nbsp;instance?&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;That&#39;s&nbsp;basically&nbsp;right,&nbsp;but&nbsp;I&nbsp;think&nbsp;you&nbsp;might&nbsp;want&nbsp;a&nbsp;separate&nbsp;object. &nbsp;There&nbsp;are&nbsp;other&nbsp;notifications&nbsp;you&nbsp;might&nbsp;want&nbsp;to&nbsp;send&nbsp;to&nbsp;a&nbsp;factory&nbsp;that&nbsp;you&nbsp;wouldn&#39;t&nbsp;want&nbsp;to&nbsp;send&nbsp;to&nbsp;an&nbsp;instance;&nbsp;for&nbsp;example,&nbsp;&quot;no&nbsp;positioning&nbsp;information&nbsp;is&nbsp;available,&nbsp;I&nbsp;will&nbsp;never&nbsp;send&nbsp;you&nbsp;any&nbsp;position&nbsp;data&quot;.&lt;br&gt;<br>
&lt;br&gt;On&nbsp;the&nbsp;other&nbsp;hand,&nbsp;you&nbsp;could&nbsp;just&nbsp;have&nbsp;the&nbsp;class&nbsp;classProvides()&nbsp;the&nbsp;factory&nbsp;interface&nbsp;and&nbsp;implements()&nbsp;the&nbsp;main&nbsp;interface&nbsp;for&nbsp;convenience,&nbsp;since&nbsp;a&nbsp;class&nbsp;&lt;i&gt;is&lt;/i&gt;&nbsp;really&nbsp;a&nbsp;factory&nbsp;in&nbsp;Python.&lt;br&gt;&lt;br&gt;There&nbsp;should&nbsp;actually&nbsp;be&nbsp;several&nbsp;methods&nbsp;which&nbsp;hook&nbsp;things&nbsp;together. &nbsp;One&nbsp;would&nbsp;simply&nbsp;be&nbsp;to&nbsp;construct&nbsp;an&nbsp;NMEAReceiver&nbsp;and&nbsp;give&nbsp;it&nbsp;an&nbsp;IPositionReceiver&nbsp;directly. &nbsp;Another&nbsp;would&nbsp;be&nbsp;to&nbsp;call&nbsp;a&nbsp;function&nbsp;that&nbsp;scans&nbsp;your&nbsp;serial&nbsp;ports,&nbsp;inspects&nbsp;your&nbsp;Windows&nbsp;registry&nbsp;(or&nbsp;whatever)&nbsp;and&nbsp;discovers&nbsp;all&nbsp;GPS&nbsp;devices,&nbsp;normalizes&nbsp;them&nbsp;into&nbsp;a&nbsp;single&nbsp;stream&nbsp;of&nbsp;positioning&nbsp;events,&nbsp;and&nbsp;calls&nbsp;IPositionReceiverFactory.createPositionReceiver()&lt;br&gt;<br>
<br>
&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
Would&nbsp;this&nbsp;be&nbsp;the&nbsp;correct&nbsp;place&nbsp;to&nbsp;implement&nbsp;behavior&nbsp;like&nbsp;&quot;listen&nbsp;on&lt;br&gt;<br>
a&nbsp;bunch&nbsp;of&nbsp;serial&nbsp;ports,&nbsp;until&nbsp;you&nbsp;find&nbsp;something&nbsp;that&nbsp;spews&nbsp;things&lt;br&gt;<br>
that&nbsp;look&nbsp;like&nbsp;NMEA&nbsp;at&nbsp;you&quot;,&nbsp;or&nbsp;should&nbsp;that&nbsp;be&nbsp;another&nbsp;level&nbsp;of&lt;br&gt;<br>
abstraction&nbsp;up?&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;There&nbsp;should&nbsp;be&nbsp;both&nbsp;levels&nbsp;of&nbsp;abstraction. &nbsp;At&nbsp;one&nbsp;level&nbsp;you&#39;ve&nbsp;got&nbsp;SerialPort(NMEAReceiver(MyPositionReceiverFactory().createPositionReceiver(PositionSource(positioning.NMEA,&nbsp;positioning.SerialPort(&quot;/dev/ttyS1&quot;)),&nbsp;&quot;/dev/ttyS1&quot;)&nbsp;and&nbsp;at&nbsp;another&nbsp;you&#39;ve&nbsp;got&nbsp;startGettingPositioningDataSomehow(MyPositionReceiverFactory()). &nbsp;The&nbsp;latter&nbsp;should&nbsp;be&nbsp;implemented&nbsp;in&nbsp;terms&nbsp;of&nbsp;the&nbsp;former.&lt;br&gt;<br>
<br>
&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;Would&nbsp;there&nbsp;be&nbsp;multiple&nbsp;such&nbsp;factories&nbsp;for&nbsp;different&nbsp;kinds&nbsp;of&lt;br&gt;<br>
positioning?&nbsp;I&nbsp;don&#39;t&nbsp;know&nbsp;what&nbsp;cell&nbsp;ID&nbsp;will&nbsp;need&nbsp;to&nbsp;know&nbsp;to&nbsp;set&nbsp;up&nbsp;an&lt;br&gt;<br>
IPositioningProvider,&nbsp;but&nbsp;the&nbsp;NMEA&nbsp;factory&nbsp;and&nbsp;gpsd&nbsp;factory&nbsp;need&lt;br&gt;<br>
completely&nbsp;different&nbsp;kinds&nbsp;of&nbsp;information,&nbsp;for&nbsp;example.&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;Absolutely. &nbsp;The&nbsp;key&nbsp;idea&nbsp;here&nbsp;is&nbsp;that&nbsp;you&nbsp;want&nbsp;there&nbsp;to&nbsp;be&nbsp;a&nbsp;complete&nbsp;separation&nbsp;between&nbsp;application&nbsp;logic&nbsp;(which&nbsp;is&nbsp;your&nbsp;IPositioningReceiver&nbsp;or&nbsp;IPositioningReceiverFactory)&nbsp;and&nbsp;your&nbsp;byte-level&nbsp;parsing&nbsp;code&nbsp;(which&nbsp;is&nbsp;your&nbsp;NMEA&nbsp;or&nbsp;gpsd&nbsp;or&nbsp;Rockwell&nbsp;or&nbsp;cell&nbsp;triangulation&nbsp;or&nbsp;whatever). &nbsp;Then,&nbsp;at&nbsp;the&nbsp;top&nbsp;level&lt;br&gt;<br>
<br>
&lt;br&gt;This&nbsp;is&nbsp;exactly&nbsp;analogous&nbsp;to&nbsp;the&nbsp;way&nbsp;that&nbsp;you&nbsp;can&nbsp;have&nbsp;an&nbsp;IProtocolFactory,&nbsp;completely&nbsp;independent&nbsp;of&nbsp;any&nbsp;stream-communication&nbsp;API. &nbsp;Later,&nbsp;you&nbsp;can&nbsp;do&nbsp;listenSSL&nbsp;or&nbsp;listenTCP,&nbsp;or,&nbsp;with&nbsp;a&nbsp;very&nbsp;slight&nbsp;modification,&nbsp;connectSSL&nbsp;or&nbsp;connectTCP. &nbsp;listenSSL&nbsp;has&nbsp;a&nbsp;different&nbsp;signature&nbsp;from&nbsp;listenTCP,&nbsp;after&nbsp;all.&nbsp;You&nbsp;need&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;give&nbsp;it&nbsp;a&nbsp;certificate. &nbsp;You&nbsp;could&nbsp;also&nbsp;have&nbsp;connecting&nbsp;via&nbsp;SSH&nbsp;connections,&nbsp;via&nbsp;subprocesses,&nbsp;etc;&nbsp;all&nbsp;of&nbsp;these&nbsp;have&nbsp;radically&nbsp;different&nbsp;requirements&nbsp;for&nbsp;construction&nbsp;and&nbsp;set-up,&nbsp;but&nbsp;once&nbsp;you&#39;re&nbsp;going&nbsp;they&nbsp;should&nbsp;all&nbsp;be&nbsp;able&nbsp;to&nbsp;talk&nbsp;to&nbsp;an&nbsp;IProtocol.&lt;br&gt;<br>
<br>
&lt;br&gt;<br>

</tt>
