<tt>
&lt;html&gt;&lt;head&gt;&lt;style&gt;body{font-family:Helvetica,Arial;font-size:13px}&lt;/style&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&quot;&gt;&lt;div&nbsp;id=&quot;bloop_customfont&quot;&nbsp;style=&quot;font-family:Helvetica,Arial;font-size:13px;&nbsp;color:&nbsp;rgba(0,0,0,1.0);&nbsp;margin:&nbsp;0px;&nbsp;line-height:&nbsp;auto;&quot;&gt;Hi&nbsp;Martin,&lt;/div&gt;&nbsp;&lt;br&gt;&lt;p&nbsp;class=&quot;airmail_on&quot;&gt;On&nbsp;June&nbsp;14,&nbsp;2018&nbsp;at&nbsp;8:29:45&nbsp;AM,&nbsp;Martin&nbsp;van&nbsp;Es&nbsp;(&lt;a&nbsp;href=&quot;mailto:mrvanes@gmail.com&quot;&gt;mrvanes@gmail.com&lt;/a&gt;)&nbsp;wrote:&lt;/p&gt;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;clean_bq&quot;&gt;&lt;span&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;Hi,&lt;br&gt;&lt;br&gt;I'm&nbsp;trying&nbsp;to&nbsp;timeout&nbsp;a&nbsp;really&nbsp;simple&nbsp;LineReceiver&nbsp;protocol.&lt;br&gt;&lt;br&gt;It's&nbsp;function&nbsp;is&nbsp;to&nbsp;connect&nbsp;to&nbsp;a&nbsp;daemon,&nbsp;receive&nbsp;a&nbsp;line&nbsp;that's&nbsp;to&nbsp;be&lt;br&gt;displayed&nbsp;to&nbsp;an&nbsp;end-user&nbsp;upon&nbsp;which&nbsp;the&nbsp;user&nbsp;should&nbsp;undertake&nbsp;some&lt;br&gt;action.&nbsp;The&nbsp;action&nbsp;will&nbsp;trigger&nbsp;a&nbsp;second&nbsp;line&nbsp;(fail/success)&nbsp;at&nbsp;which&lt;br&gt;point&nbsp;the&nbsp;daemon&nbsp;will&nbsp;close&nbsp;the&nbsp;connection.&nbsp;If,&nbsp;however,&nbsp;the&nbsp;end-user&lt;br&gt;does&nbsp;not&nbsp;follow-up&nbsp;on&nbsp;the&nbsp;first&nbsp;challenge&nbsp;I&nbsp;want&nbsp;the&nbsp;script&nbsp;to&nbsp;timeout&lt;br&gt;with&nbsp;a&nbsp;failed&nbsp;result.&lt;br&gt;&lt;br&gt;Now,&nbsp;I&nbsp;have&nbsp;the&nbsp;LineReceiver&nbsp;do&nbsp;exactly&nbsp;what&nbsp;I&nbsp;want,&nbsp;but&nbsp;I&nbsp;can't&nbsp;for&lt;br&gt;the&nbsp;life&nbsp;of&nbsp;me&nbsp;understand&nbsp;how&nbsp;I&nbsp;should&nbsp;&quot;wrap&quot;&nbsp;it&nbsp;in&nbsp;the&nbsp;TimoutProtocol&lt;br&gt;so&nbsp;that&nbsp;it&nbsp;disconnects&nbsp;after&nbsp;a&nbsp;couple&nbsp;of&nbsp;seconds?&lt;br&gt;&lt;br&gt;This&nbsp;is&nbsp;my&nbsp;Factory:&lt;br&gt;class&nbsp;WebSSOFactory(ClientFactory):&lt;br&gt;&nbsp;pamh&nbsp;=&nbsp;None&lt;br&gt;&nbsp;client&nbsp;=&nbsp;None&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;I&nbsp;think&nbsp;one&nbsp;problem&nbsp;here&nbsp;is&nbsp;that&nbsp;your&nbsp;WebSSOFactory&nbsp;is&nbsp;not&nbsp;a&nbsp;TimeoutFactory&nbsp;(https://twistedmatrix.com/documents/current/api/twisted.protocols.policies.TimeoutFactory.html).&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;You&nbsp;have&nbsp;to&nbsp;pass&nbsp;a&nbsp;TimeoutFactory&nbsp;to&nbsp;the&nbsp;TimeoutProtocol&nbsp;in&nbsp;order&nbsp;for&nbsp;it&nbsp;to&nbsp;work&nbsp;with&nbsp;the&nbsp;LineReceiver&nbsp;you&nbsp;are&nbsp;wrapping,&nbsp;otherwise&nbsp;the&nbsp;timeout&nbsp;value&nbsp;will&nbsp;not&nbsp;be&nbsp;set;&nbsp;a&nbsp;regular&nbsp;Factoryâ€™s&nbsp;buildProtocol&nbsp;method&nbsp;would&nbsp;not&nbsp;know&nbsp;that&nbsp;it&nbsp;needs&nbsp;to&nbsp;pass&nbsp;the&nbsp;timeout&nbsp;to&nbsp;the&nbsp;TimeoutProtocol.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Hope&nbsp;this&nbsp;helps,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Daniel&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
