<tt>
&lt;div&gt;Hi, &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; Thanks&nbsp;a&nbsp;lot&nbsp;for&nbsp;your&nbsp;reply.&nbsp;The&nbsp;trouble&nbsp;is&nbsp;that&nbsp;the&nbsp;events&nbsp;I&nbsp;have&nbsp;are&nbsp;triggered&nbsp;by&nbsp;a&nbsp;homematic&nbsp;CCU.&nbsp;The&nbsp;CCU&nbsp;does&nbsp;it&nbsp;by&nbsp;multicall&nbsp;which&nbsp;has&nbsp;not&nbsp;yet&nbsp;been&nbsp;implemented&nbsp;in&nbsp;twisted&nbsp;servers.&nbsp;So,&nbsp;I&#39;m&nbsp;running&nbsp;a&nbsp;non-twisted&nbsp;xmlrpc&nbsp;server&nbsp;in&nbsp;a&nbsp;thread&nbsp;so&nbsp;that&nbsp;my&nbsp;CCU&nbsp;triggers&nbsp;the&nbsp;events&nbsp;and&nbsp;it&#39;s&nbsp;happening&nbsp;too.&nbsp;I&nbsp;can&nbsp;see&nbsp;the&nbsp;events&nbsp;printed&nbsp;on&nbsp;the&nbsp;console&nbsp;too.&nbsp;Now,&nbsp;I&nbsp;just&nbsp;want&nbsp;a&nbsp;way&nbsp;to&nbsp;write&nbsp;the&nbsp;same&nbsp;to&nbsp;sockets.&nbsp;Can&#39;t&nbsp;we&nbsp;connect&nbsp;these&nbsp;to&nbsp;txWS&nbsp;factory&nbsp;?&nbsp;Doesn&#39;t&nbsp;the&nbsp;txWS&nbsp;has&nbsp;some&nbsp;socket&nbsp;object&nbsp;so&nbsp;that&nbsp;we&nbsp;can&nbsp;just&nbsp;say&nbsp;socket.write..hmm &lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks,&lt;/div&gt;&lt;div&gt;Vinodh&lt;/div&gt;&lt;div&gt;-------------------------------------------------------------------&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:13px;color:rgb(34,34,34);font-family:arial,sans-serif;background-color:rgb(255,255,255)&quot;&gt;Hi&nbsp;Vinodh,&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px;color:rgb(34,34,34);font-family:arial,sans-serif;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;br&nbsp;style=&quot;font-size:13px;color:rgb(34,34,34);font-family:arial,sans-serif;background-color:rgb(255,255,255)&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px;color:rgb(34,34,34);font-family:arial,sans-serif;background-color:rgb(255,255,255)&quot;&gt;txWS&nbsp;merely&nbsp;lets&nbsp;you&nbsp;connect&nbsp;to&nbsp;a&nbsp;Twisted&nbsp;Factory&nbsp;through&nbsp;WebSockets.&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px;color:rgb(34,34,34);font-family:arial,sans-serif;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-size:13px;color:rgb(34,34,34);font-family:arial,sans-serif;background-color:rgb(255,255,255)&quot;&gt;You&nbsp;will&nbsp;still&nbsp;need&nbsp;to&nbsp;structure&nbsp;your&nbsp;code&nbsp;such&nbsp;that&nbsp;the&nbsp;events&nbsp;that&nbsp;you&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px;color:rgb(34,34,34);font-family:arial,sans-serif;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-size:13px;color:rgb(34,34,34);font-family:arial,sans-serif;background-color:rgb(255,255,255)&quot;&gt;are&nbsp;responding&nbsp;to&nbsp;are&nbsp;connected&nbsp;to&nbsp;that&nbsp;Factory.&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px;color:rgb(34,34,34);font-family:arial,sans-serif;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;br&nbsp;style=&quot;font-size:13px;color:rgb(34,34,34);font-family:arial,sans-serif;background-color:rgb(255,255,255)&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px;color:rgb(34,34,34);font-family:arial,sans-serif;background-color:rgb(255,255,255)&quot;&gt;It&nbsp;might&nbsp;be&nbsp;helpful&nbsp;to&nbsp;rewrite&nbsp;your&nbsp;XML-RPC&nbsp;server&nbsp;to&nbsp;use&nbsp;Twisted&#39;s&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px;color:rgb(34,34,34);font-family:arial,sans-serif;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-size:13px;color:rgb(34,34,34);font-family:arial,sans-serif;background-color:rgb(255,255,255)&quot;&gt;XML-RPC&nbsp;(see&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px;color:rgb(34,34,34);font-family:arial,sans-serif;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;a&nbsp;href=&quot;http://twistedmatrix.com/documents/current/web/howto/xmlrpc.html&quot;&nbsp;target=&quot;_blank&quot;&nbsp;style=&quot;font-size:13px;color:rgb(17,85,204);font-family:arial,sans-serif;background-color:rgb(255,255,255)&quot;&gt;http://twistedmatrix.com/documents/current/web/howto/xmlrpc.html&lt;/a&gt;&lt;span&nbsp;style=&quot;font-size:13px;color:rgb(34,34,34);font-family:arial,sans-serif;background-color:rgb(255,255,255)&quot;&gt; for&nbsp;a&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px;color:rgb(34,34,34);font-family:arial,sans-serif;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-size:13px;color:rgb(34,34,34);font-family:arial,sans-serif;background-color:rgb(255,255,255)&quot;&gt;tutorial&nbsp;on&nbsp;that)&nbsp;and&nbsp;then&nbsp;it&nbsp;will&nbsp;be&nbsp;easier&nbsp;to&nbsp;hook&nbsp;up&nbsp;your&nbsp;events&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px;color:rgb(34,34,34);font-family:arial,sans-serif;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-size:13px;color:rgb(34,34,34);font-family:arial,sans-serif;background-color:rgb(255,255,255)&quot;&gt;without&nbsp;having&nbsp;to&nbsp;worry&nbsp;about&nbsp;threading&nbsp;or&nbsp;other&nbsp;blocking&nbsp;things.&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px;color:rgb(34,34,34);font-family:arial,sans-serif;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;br&nbsp;style=&quot;font-size:13px;color:rgb(34,34,34);font-family:arial,sans-serif;background-color:rgb(255,255,255)&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px;color:rgb(34,34,34);font-family:arial,sans-serif;background-color:rgb(255,255,255)&quot;&gt;If&nbsp;you&#39;re&nbsp;having&nbsp;specific&nbsp;problems&nbsp;with&nbsp;txWS,&nbsp;let&nbsp;me&nbsp;know;&nbsp;it&#39;s&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px;color:rgb(34,34,34);font-family:arial,sans-serif;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-size:13px;color:rgb(34,34,34);font-family:arial,sans-serif;background-color:rgb(255,255,255)&quot;&gt;important&nbsp;to&nbsp;us&nbsp;that&nbsp;txWS&nbsp;work&nbsp;smoothly&nbsp;for&nbsp;people&nbsp;using&nbsp;it.&lt;/span&gt;&lt;br&nbsp;style=&quot;font-size:13px;color:rgb(34,34,34);font-family:arial,sans-serif;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;br&nbsp;style=&quot;font-size:13px;color:rgb(34,34,34);font-family:arial,sans-serif;background-color:rgb(255,255,255)&quot;&gt;&lt;span&nbsp;style=&quot;font-size:13px;color:rgb(34,34,34);font-family:arial,sans-serif;background-color:rgb(255,255,255)&quot;&gt;~&nbsp;C.&lt;/span&gt;&lt;/div&gt;<br>
-------------------------------&lt;div&gt;&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;On&nbsp;Fri,&nbsp;Jun&nbsp;29,&nbsp;2012&nbsp;at&nbsp;04:52:06PM&nbsp;+0200,&nbsp;vinod&nbsp;kumar&nbsp;wrote:&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp;Hi&nbsp;All,&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp; &nbsp; I&nbsp;have&nbsp;run&nbsp;and&nbsp;edited&nbsp;the&nbsp;example&nbsp;provided&nbsp;for&nbsp;txWS.&nbsp;The&nbsp;writing&nbsp;part&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp;from&nbsp;server&nbsp;to&nbsp;client&nbsp;browser&nbsp;is&nbsp;shown&nbsp;only&nbsp;as&nbsp;self.transport.write()&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp;inside&nbsp;dataReceived&nbsp;function&nbsp;in&nbsp;websockets.py.&nbsp;how&nbsp;do&nbsp;I&nbsp;write&nbsp;on&nbsp;to&nbsp;the&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp;socket&nbsp;i.e.&nbsp;on&nbsp;to&nbsp;the&nbsp;browser,&nbsp;from&nbsp;a&nbsp;different&nbsp;function&nbsp;inside&nbsp;server&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp;code(server.tac).&nbsp;I&#39;m&nbsp;just&nbsp;starting&nbsp;another&nbsp;xmlrpc&nbsp;server&nbsp;on&nbsp;a&nbsp;thread&nbsp;where&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp;I&nbsp;receive&nbsp;some&nbsp;notifications.&nbsp;I&nbsp;need&nbsp;to&nbsp;forward&nbsp;the&nbsp;same&nbsp;to&nbsp;socket.&nbsp;The&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp;bold&nbsp;point&nbsp;below&nbsp; is&nbsp;where&nbsp;I&nbsp;want&nbsp;to&nbsp;write&nbsp;on&nbsp;to&nbsp;socket.&nbsp;How&nbsp;can&nbsp;we&nbsp;do&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp;that?&nbsp;Please&nbsp;help&nbsp;me&nbsp;out.&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp;------------------------------&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;-------------------------&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp;import&nbsp;time&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp;from&nbsp;twisted.internet&nbsp;import&nbsp;reactor&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp;from&nbsp;twisted.application&nbsp;import&nbsp;internet&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp;from&nbsp;twisted.application.service&nbsp;import&nbsp;Application,&nbsp;Service&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp;import&nbsp;xmlrpclib&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp;from&nbsp;txws&nbsp;import&nbsp;WebSocketFactory&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp;from&nbsp;src.protocols.websockets&nbsp;import&nbsp;WebSocketServerFactory&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp;from&nbsp;constants&nbsp;import&nbsp;*&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp;class&nbsp;WebSocketService(Service):&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp; &nbsp; &nbsp;&quot;&quot;&quot;&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp; &nbsp; &nbsp;A&nbsp;simple&nbsp;service&nbsp;that&nbsp;listens&nbsp;on&nbsp;port&nbsp;8077&nbsp;for&nbsp;WebSockets&nbsp;traffic.&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp; &nbsp; &nbsp;&quot;&quot;&quot;&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp; &nbsp; &nbsp;def&nbsp;__init__(self):&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;self.start_time&nbsp;=&nbsp;time.time()&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp; &nbsp; &nbsp;def&nbsp;start_service(self,&nbsp;application):&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;&quot;&quot;&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Gets&nbsp;the&nbsp;show&nbsp;on&nbsp;the&nbsp;road.&nbsp;Fires&nbsp;up&nbsp;a&nbsp;factory,&nbsp;binds&nbsp;the&nbsp;port.&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;&quot;&quot;&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echofactory&nbsp;=&nbsp;WebSocketServerFactory(self)&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;factory&nbsp;=&nbsp;WebSocketFactory(echofactory)&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ws_server&nbsp;=&nbsp;internet.TCPServer(8077,&nbsp;factory)&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ws_server.setName(&#39;ws-tcp&#39;)&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ws_server.setServiceParent(&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;application)&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp; &nbsp; &nbsp;def&nbsp;shutdown(self):&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;&quot;&quot;&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Gracefully&nbsp;shuts&nbsp;down&nbsp;the&nbsp;service.&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;&quot;&quot;&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;reactor.callLater(0,&nbsp;reactor.stop)&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp;def&nbsp;listDevices(id):&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp;print&nbsp;&quot;listDevice:&nbsp;%(id)s&quot;&nbsp;%&nbsp;{&quot;id&quot;:&nbsp;str(id)}&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp; return&nbsp;None&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp;def&nbsp;event(id,&nbsp;address,&nbsp;key,&nbsp;value):&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#websocket.send(&quot;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;ufffffffffuuuuuu&quot;)&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp;*&nbsp; &nbsp; &nbsp; &nbsp; #I&nbsp;need&nbsp;to&nbsp;write&nbsp;the&nbsp;below&nbsp;print&nbsp;statement&nbsp;on&nbsp;to&nbsp;browser&nbsp;*&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;print&nbsp;&quot;event:&nbsp;%(id)s:&nbsp;%(address)s:&nbsp;%(key)s&nbsp;=&nbsp;%(value)s&quot;&nbsp;%&nbsp;{&quot;id&quot;:&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp;str(id),&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp;&quot;address&quot;:&nbsp;str(address),&nbsp;&quot;key&quot;:&nbsp;str(key),&nbsp;&quot;value&quot;:&nbsp;str(value)}&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp;def&nbsp;aSillyBlockingMethod(x):&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp; &nbsp; &nbsp;import&nbsp;time&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp; &nbsp; &nbsp;import&nbsp;xmlrpclib&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp; &nbsp; &nbsp;time.sleep(2)&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp; &nbsp; &nbsp;from&nbsp;SimpleXMLRPCServer&nbsp;import&nbsp;SimpleXMLRPCServer&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp; &nbsp; &nbsp;from&nbsp;SimpleXMLRPCServer&nbsp;import&nbsp;SimpleXMLRPCRequestHandler&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp; &nbsp; &nbsp;from&nbsp;constants&nbsp;import&nbsp;*&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp; &nbsp; &nbsp;server&nbsp;=&nbsp;SimpleXMLRPCServer((SERVER_IP,&nbsp;SERVER_PORT),&nbsp;logRequests=True,&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp;allow_none=True)&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp; &nbsp; &nbsp;server.register_introspection_&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;functions()&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp; &nbsp; &nbsp;server.register_multicall_&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;functions()&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp; &nbsp; &nbsp;print&nbsp;&quot;server&nbsp;started&nbsp;at&nbsp;%s&quot;&nbsp;%&nbsp;str(SERVER_URL)&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp; &nbsp; &nbsp;server.register_function(&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;listDevices)&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp; &nbsp; &nbsp;server.register_function(&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;event)&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp; &nbsp; &nbsp;print&nbsp;&#39;function&nbsp;also&nbsp;got&nbsp;registered&#39;&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp; &nbsp; &nbsp;server.serve_forever()&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp; &nbsp; &nbsp;.............................&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;continues&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp;Thanks,&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&gt;&nbsp;Vinodh&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;br&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif;font-size:13px;background-color:rgb(255,255,255)&quot;&gt;&lt;font&nbsp;color=&quot;#222222&quot;&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;<br>

</tt>
