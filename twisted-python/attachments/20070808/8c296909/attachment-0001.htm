<tt>
Hi&nbsp;all,&nbsp;I&nbsp;run&nbsp;a&nbsp;reactor&nbsp;in&nbsp;my&nbsp;thread,&nbsp;so&nbsp;I&nbsp;will&nbsp;get&nbsp;many&nbsp;connection&nbsp;by&nbsp;twisted,&nbsp;and&nbsp;I&nbsp;run&nbsp;another&nbsp;thread&nbsp;for&nbsp;write&nbsp;back&nbsp;data&amp;nbsp;to&amp;nbsp;any&amp;nbsp;connection.&lt;br&gt;But&amp;nbsp;I&amp;#39;ve&amp;nbsp;found&amp;nbsp;the&amp;nbsp;data&amp;nbsp;is&amp;nbsp;in&nbsp;buffer,&amp;nbsp;not&amp;nbsp;sent&amp;nbsp;back&amp;nbsp;immediately.&nbsp;&amp;nbsp;I&nbsp;traced&nbsp;the&nbsp;twisted,&nbsp;found&nbsp;it&nbsp;blocked&nbsp;in&nbsp;class&nbsp;<br>
SelectReactor.doSelect():&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;1:&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;try:&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;r,&nbsp;w,&nbsp;ignored&nbsp;=&nbsp;_select(reads.keys(),&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;writes.keys(),&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[],&nbsp;timeout)<br>
&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;break&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;...&nbsp;...&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;#do&nbsp;sth&lt;br&gt;&lt;br&gt;when&nbsp;the&nbsp;reactor&nbsp;is&nbsp;bloce&nbsp;by&nbsp;_select(),&amp;nbsp;then&nbsp;&nbsp;my&nbsp;another&nbsp;thread&nbsp;modified&nbsp;the&nbsp;&lt;strong&gt;writes&lt;/strong&gt;&nbsp;dictionary,&amp;nbsp;but&amp;nbsp;_select&nbsp;could&nbsp;not&nbsp;know&nbsp;if&amp;nbsp;writes.keys<br>
()&nbsp;is&nbsp;changed,&nbsp;so&nbsp;when&nbsp;the&nbsp;thread&nbsp;want&nbsp;to&nbsp;write&nbsp;something,&nbsp;reactor&nbsp;won&amp;#39;t&amp;nbsp;do&nbsp;response.&nbsp;so,&nbsp;the&nbsp;problem&nbsp;is&nbsp;above.&lt;br&gt;&lt;br&gt;Is&amp;nbsp;there&amp;nbsp;any&amp;nbsp;idea&amp;nbsp;for&amp;nbsp;this?&lt;br&gt;thanks~&amp;nbsp;&nbsp;&lt;br&nbsp;clear=&quot;all&quot;&gt;&nbsp;&lt;br&gt;--&nbsp;&lt;br&gt;eSX&nbsp;<br>

</tt>
