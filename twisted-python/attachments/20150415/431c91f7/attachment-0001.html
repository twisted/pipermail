<tt>
&lt;html&gt;&lt;body&gt;&lt;div&nbsp;style=&quot;color:#000;&nbsp;background-color:#fff;&nbsp;font-family:HelveticaNeue-Light,&nbsp;Helvetica&nbsp;Neue&nbsp;Light,&nbsp;Helvetica&nbsp;Neue,&nbsp;Helvetica,&nbsp;Arial,&nbsp;Lucida&nbsp;Grande,&nbsp;sans-serif;font-size:16px&quot;&gt;&lt;div&nbsp;id=&quot;yui_3_16_0_1_1429080693360_2982&quot;&nbsp;dir=&quot;ltr&quot;&gt;Thank&nbsp;you&nbsp;for&nbsp;your&nbsp;reply.&lt;/div&gt;&lt;div&nbsp;id=&quot;yui_3_16_0_1_1429080693360_2982&quot;&nbsp;dir=&quot;ltr&quot;&gt;In&nbsp;fact&nbsp;I&nbsp;found&nbsp;this&nbsp;code&nbsp;in&nbsp;many&nbsp;forums&nbsp;like&nbsp;S.O&nbsp;and&nbsp;I&nbsp;tried&nbsp;to&nbsp;understand&nbsp;it,&nbsp;by&nbsp;doing&nbsp;exactly&nbsp;&nbsp;all&nbsp;steps&nbsp;you&nbsp;recommend&nbsp;in&nbsp;you&nbsp;response.&nbsp;The&nbsp;difficulty&nbsp;I&nbsp;have&nbsp;found&nbsp;is&nbsp;with&nbsp;the&nbsp;method&nbsp;of&nbsp;the&nbsp;returned&nbsp;object&nbsp;of&nbsp;openFile&nbsp;method&nbsp;of&nbsp;the&nbsp;FileTransferClient&nbsp;class.&nbsp;This&nbsp;returned&nbsp;object&nbsp;that&nbsp;adhere&nbsp;to&nbsp;ISFTP&nbsp;interface;&nbsp;has&nbsp;two&nbsp;methods&nbsp;to&nbsp;write&nbsp;and&nbsp;read:&nbsp;&quot;writeChunk&quot;&nbsp;and&nbsp;&quot;readChunk&quot;.&nbsp;My&nbsp;problem&nbsp;is&nbsp;to&nbsp;use&nbsp;these&nbsp;last&nbsp;functions&nbsp;or&nbsp;methods&nbsp;to&nbsp;perform&nbsp;a&nbsp;file&nbsp;transfert&nbsp;(uploading&nbsp;and&nbsp;downloading)&nbsp;&nbsp;from&nbsp;my&nbsp;local&nbsp;machine&nbsp;running&nbsp;twisted&nbsp;to&nbsp;a&nbsp;SFTP&nbsp;server&nbsp;and&nbsp;vise-versa.&lt;/div&gt;&lt;div&nbsp;id=&quot;yui_3_16_0_1_1429080693360_2982&quot;&nbsp;dir=&quot;ltr&quot;&gt;Can&nbsp;you&nbsp;give&nbsp;me&nbsp;an&nbsp;code&nbsp;example&nbsp;to&nbsp;perform&nbsp;this&nbsp;task?&nbsp;with&nbsp;the&nbsp;methods&nbsp;of&nbsp;the&nbsp;openFile&nbsp;object.&lt;/div&gt;&lt;div&nbsp;id=&quot;yui_3_16_0_1_1429080693360_2982&quot;&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;id=&quot;yui_3_16_0_1_1429080693360_2982&quot;&nbsp;dir=&quot;ltr&quot;&gt;Sanfo&lt;/div&gt;&lt;div&nbsp;id=&quot;yui_3_16_0_1_1429080693360_2982&quot;&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;id=&quot;yui_3_16_0_1_1429080693360_2982&quot;&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;id=&quot;yui_3_16_0_1_1429080693360_2983&quot;&gt;&nbsp;&lt;/div&gt;&lt;div&nbsp;class=&quot;signature&quot;&nbsp;id=&quot;yui_3_16_0_1_1429080693360_2986&quot;&gt;&lt;div&nbsp;id=&quot;yui_3_16_0_1_1429080693360_2985&quot;&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;id=&quot;yui_3_16_0_1_1429080693360_2991&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;id=&quot;yui_3_16_0_1_1429080693360_2990&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-style:italic;color:rgb(112,&nbsp;172,&nbsp;237);&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;style=&quot;font-size:x-small;&quot;&gt;&nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&nbsp;&nbsp;&lt;br&gt;&lt;div&nbsp;class=&quot;qtdSeparateBR&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;yahoo_quoted&quot;&nbsp;style=&quot;display:&nbsp;block;&quot;&gt;&nbsp;&lt;div&nbsp;style=&quot;font-family:&nbsp;HelveticaNeue-Light,&nbsp;Helvetica&nbsp;Neue&nbsp;Light,&nbsp;Helvetica&nbsp;Neue,&nbsp;Helvetica,&nbsp;Arial,&nbsp;Lucida&nbsp;Grande,&nbsp;sans-serif;&nbsp;font-size:&nbsp;16px;&quot;&gt;&nbsp;&lt;div&nbsp;style=&quot;font-family:&nbsp;HelveticaNeue,&nbsp;Helvetica&nbsp;Neue,&nbsp;Helvetica,&nbsp;Arial,&nbsp;Lucida&nbsp;Grande,&nbsp;sans-serif;&nbsp;font-size:&nbsp;16px;&quot;&gt;&nbsp;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;Arial&quot;&gt;&nbsp;Le&nbsp;Mercredi&nbsp;15&nbsp;avril&nbsp;2015&nbsp;6h22,&nbsp;Kevin&nbsp;Horn&nbsp;&lt;kevin.horn@gmail.com&gt;&nbsp;a&nbsp;Ã©crit&nbsp;:&lt;br&gt;&nbsp;&lt;/font&gt;&nbsp;&lt;/div&gt;&nbsp;&nbsp;&lt;br&gt;&lt;br&gt;&nbsp;&lt;div&nbsp;class=&quot;y_msg_container&quot;&gt;&lt;div&nbsp;id=&quot;yiv5417476024&quot;&gt;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;class=&quot;yiv5417476024gmail_extra&quot;&gt;&lt;div&nbsp;class=&quot;yiv5417476024gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;Apr&nbsp;14,&nbsp;2015&nbsp;at&nbsp;6:47&nbsp;AM,&nbsp;halidou&nbsp;SANFO&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;rel=&quot;nofollow&quot;&nbsp;shape=&quot;rect&quot;&nbsp;ymailto=&quot;mailto:sanfo.halidou@yahoo.fr&quot;&nbsp;target=&quot;_blank&quot;&nbsp;href=&quot;mailto:sanfo.halidou@yahoo.fr&quot;&gt;sanfo.halidou@yahoo.fr&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;div&nbsp;class=&quot;yiv5417476024yqt9730450443&quot;&nbsp;id=&quot;yiv5417476024yqt66371&quot;&gt;&lt;blockquote&nbsp;class=&quot;yiv5417476024gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;&lt;div&gt;&lt;div&nbsp;style=&quot;color:#000;background-color:#fff;font-family:HelveticaNeue-Light,&nbsp;Helvetica&nbsp;Neue&nbsp;Light,&nbsp;Helvetica&nbsp;Neue,&nbsp;Helvetica,&nbsp;Arial,&nbsp;Lucida&nbsp;Grande,&nbsp;sans-serif;font-size:16px;&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;span&gt;Hi&nbsp;everybody,&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;span&gt;I&nbsp;am&nbsp;student&nbsp;and&nbsp;need&nbsp;help&nbsp;of&nbsp;any&nbsp;one.&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;span&gt;I&nbsp;am&nbsp;working&nbsp;on&nbsp;internship&nbsp;and&nbsp;I&nbsp;have&nbsp;to&nbsp;implement&nbsp;a&nbsp;SFTP&nbsp;client&nbsp;usign&nbsp;twisted&nbsp;conch&nbsp;module.&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;span&gt;I&nbsp;have&nbsp;program&nbsp;thoe&nbsp;code&nbsp;to&nbsp;establish&nbsp;th&nbsp;ssh&nbsp;tunnel&nbsp;using&nbsp;password&nbsp;authentication.&nbsp;I&nbsp;arrive&nbsp;to&nbsp;create&nbsp;directory&nbsp;with&nbsp;&quot;MakeDirectory&quot;&nbsp;method&nbsp;of&nbsp;FileTransfertClient&nbsp;class.&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;span&gt;But&nbsp;my&nbsp;objective&nbsp;is&nbsp;to&nbsp;upload&nbsp;and&nbsp;download&nbsp;files&nbsp;and&nbsp;the&nbsp;FileTransfertClient&nbsp;&nbsp;class&nbsp;has&nbsp;no&nbsp;method&nbsp;[or&nbsp;as&nbsp;I&nbsp;konw&nbsp;]&nbsp;to&nbsp;do&nbsp;that.&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;span&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;span&gt;Can&nbsp;you&nbsp;help&nbsp;me&nbsp;with&nbsp;way&nbsp;to&nbsp;do&nbsp;the&nbsp;uploading&nbsp;and&nbsp;the&nbsp;downloding&nbsp;with&nbsp;twisted&nbsp;conch?&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;span&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;span&gt;Here&nbsp;is&nbsp;my&nbsp;program.&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;span&gt;&lt;code&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;'''&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Created&nbsp;on&nbsp;8&nbsp;avr.&nbsp;2015&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;@author:&nbsp;hsanfo&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;'''&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;from&nbsp;sys&nbsp;import&nbsp;stdout&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;from&nbsp;twisted.python.log&nbsp;import&nbsp;startLogging,&nbsp;err&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;from&nbsp;twisted.internet&nbsp;import&nbsp;reactor&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;from&nbsp;twisted.internet.defer&nbsp;import&nbsp;Deferred&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;from&nbsp;twisted.conch.ssh.common&nbsp;import&nbsp;NS&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;import&nbsp;twisted.conch.scripts.cftp.ClientOptions&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;from&nbsp;twisted.conch.scripts.cftp&nbsp;import&nbsp;ClientOptions&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;from&nbsp;twisted.conch.ssh.filetransfer&nbsp;import&nbsp;FileTransferClient&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;from&nbsp;twisted.conch.client.connect&nbsp;import&nbsp;connect&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;from&nbsp;twisted.conch.client.default&nbsp;import&nbsp;SSHUserAuthClient,&nbsp;verifyHostKey&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;from&nbsp;twisted.conch.ssh.connection&nbsp;import&nbsp;SSHConnection&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;from&nbsp;twisted.conch.ssh.channel&nbsp;import&nbsp;SSHChannel&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;from&nbsp;twisted.conch.ssh&nbsp;import&nbsp;keys,&nbsp;userauth&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;from&nbsp;twisted.internet&nbsp;import&nbsp;defer&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;class&nbsp;SFTPSession(SSHChannel):&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;name&nbsp;=&nbsp;'session'&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;channelOpen(self,&nbsp;whatever):&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d&nbsp;=&nbsp;self.conn.sendRequest(&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self,&nbsp;'subsystem',&nbsp;NS('sftp'),&nbsp;wantReply=True)&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.addCallbacks(self._cbSFTP)&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;_cbSFTP(self,&nbsp;result):&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;client&nbsp;=&nbsp;FileTransferClient()&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;client.makeConnection(self)&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.dataReceived&nbsp;=&nbsp;client.dataReceived&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.conn._sftp.callback(client)&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;class&nbsp;SFTPConnection(SSHConnection):&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;serviceStarted(self):&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.openChannel(SFTPSession())&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;class&nbsp;ClientUserAuth(userauth.SSHUserAuthClient):&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;getPassword(self,&nbsp;prompt&nbsp;=&nbsp;None):&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#normal&nbsp;password&nbsp;authentication&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;&quot;PASSWORD&nbsp;AUTH&quot;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;defer.succeed('test')&nbsp;#&nbsp;&lt;--&nbsp;YOUR&nbsp;PASSWORD&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;getGenericAnswers(self,&nbsp;name,&nbsp;instruction,&nbsp;prompts):&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#interactive&nbsp;password&nbsp;authentication&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;&quot;INTERACTIVE&nbsp;AUTH&quot;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;['']*len(prompts)&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;i,&nbsp;p&nbsp;in&nbsp;enumerate(prompts):&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if('password'&nbsp;in&nbsp;p[0].lower()):&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response[i]&nbsp;=&nbsp;'test'&nbsp;#&nbsp;&lt;--&nbsp;YOUR&nbsp;PASSWORD&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pass&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#The&nbsp;response&nbsp;is&nbsp;always&nbsp;a&nbsp;sequence,&nbsp;and&nbsp;the&nbsp;length&nbsp;of&nbsp;it&nbsp;is&nbsp;always&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#identical&nbsp;to&nbsp;the&nbsp;length&nbsp;of&nbsp;prompts&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;defer.succeed(response)&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;def&nbsp;sftp(user,&nbsp;host,&nbsp;port):&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;options&nbsp;=&nbsp;ClientOptions()&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;options['host']&nbsp;=&nbsp;host&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;options['port']&nbsp;=&nbsp;port&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;conn&nbsp;=&nbsp;SFTPConnection()&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;conn._sftp&nbsp;=&nbsp;Deferred()&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;auth&nbsp;=&nbsp;SSHUserAuthClient(user,&nbsp;options,&nbsp;conn)&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;#auth&nbsp;=&nbsp;ClientUserAuth(user,&nbsp;options,&nbsp;conn)&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;#connect(host,&nbsp;port,&nbsp;options,&nbsp;verifyHostKey,&nbsp;auth)&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;connect(host,&nbsp;port,&nbsp;options,&nbsp;None,&nbsp;auth)&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;conn._sftp&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;def&nbsp;transfer(client):&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;d&nbsp;=&nbsp;client.makeDirectory('foobarbaz',&nbsp;{})&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;cbDir(ignored):&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;'Made&nbsp;directory'&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;d.addCallback(cbDir)&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;d&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;def&nbsp;main():&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;startLogging(stdout)&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;user&nbsp;=&nbsp;'test'&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;host&nbsp;=&nbsp;'192.168.29.129'&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;port&nbsp;=&nbsp;22&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;d&nbsp;=&nbsp;sftp(user,&nbsp;host,&nbsp;port)&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;d.addCallback(transfer)&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;d.addErrback(err,&nbsp;&quot;Problem&nbsp;with&nbsp;SFTP&nbsp;transfer&quot;)&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;d.addCallback(lambda&nbsp;ignored:&nbsp;reactor.stop())&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;reactor.run()&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;if&nbsp;__name__&nbsp;==&nbsp;'__main__':&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;main()&lt;/div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;span&gt;&lt;code&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-weight:bold;background-color:rgb(255,255,255);color:rgb(68,0,98);&quot;&gt;Best&nbsp;regards&lt;/span&gt;&lt;/div&gt;&lt;span&nbsp;class=&quot;yiv5417476024HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;/font&gt;&lt;/span&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-weight:bold;background-color:rgb(255,255,255);color:rgb(68,0,98);&quot;&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;span&nbsp;style=&quot;font-weight:bold;background-color:rgb(255,255,255);color:rgb(68,0,98);&quot;&gt;SANFO&lt;/span&gt;&lt;div&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;is&nbsp;a&nbsp;multi-step&nbsp;process.&nbsp;&lt;/div&gt;&lt;/div&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;1)&nbsp;Open&nbsp;the&nbsp;StackOverflow&nbsp;page&nbsp;that&nbsp;you&nbsp;copied&nbsp;the&nbsp;above&nbsp;code&nbsp;from.&lt;/div&gt;&lt;div&nbsp;class=&quot;yiv5417476024gmail_extra&quot;&gt;2)&nbsp;Actually&nbsp;read&nbsp;the&nbsp;whole&nbsp;answer.&lt;/div&gt;&lt;div&nbsp;class=&quot;yiv5417476024gmail_extra&quot;&gt;3)&nbsp;Read&nbsp;the&nbsp;documentation&nbsp;for&nbsp;the&nbsp;FileTransferClient&nbsp;class.&nbsp;&nbsp;It's&nbsp;in&nbsp;the&nbsp;Twisted&nbsp;API&nbsp;documentation.&nbsp;&nbsp;It&nbsp;does&nbsp;have&nbsp;an&nbsp;openFile&nbsp;method.&lt;/div&gt;&lt;div&nbsp;class=&quot;yiv5417476024gmail_extra&quot;&gt;4)&nbsp;Use&nbsp;the&nbsp;openFile&nbsp;method.&lt;/div&gt;&lt;div&nbsp;class=&quot;yiv5417476024gmail_extra&quot;&gt;5)&nbsp;read&nbsp;and/or&nbsp;write&nbsp;using&nbsp;the&nbsp;returned&nbsp;object,&nbsp;which&nbsp;(as&nbsp;explained&nbsp;in&nbsp;the&nbsp;SO&nbsp;answer)&nbsp;will&nbsp;adhere&nbsp;to&nbsp;the&nbsp;ISFTPFile&nbsp;interface.&nbsp;&nbsp;That&nbsp;also&nbsp;has&nbsp;documentation,&nbsp;which&nbsp;you&nbsp;should&nbsp;probably&nbsp;read.&lt;/div&gt;&lt;div&nbsp;class=&quot;yiv5417476024gmail_extra&quot;&gt;6)&nbsp;Once&nbsp;you&nbsp;have&nbsp;done&nbsp;all&nbsp;those&nbsp;things,&nbsp;if&nbsp;you&nbsp;still&nbsp;have&nbsp;questions&nbsp;about&nbsp;_specific_&nbsp;problems,&nbsp;feel&nbsp;free&nbsp;to&nbsp;ask&nbsp;them.&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;yiv5417476024gmail_extra&quot;&gt;&lt;div&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;div&nbsp;class=&quot;yiv5417476024gmail_signature&quot;&gt;--&lt;div&gt;Kevin&nbsp;Horn&lt;/div&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;yqt9730450443&quot;&nbsp;id=&quot;yqt77452&quot;&gt;_______________________________________________&lt;br&nbsp;clear=&quot;none&quot;&gt;Twisted-Python&nbsp;mailing&nbsp;list&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;a&nbsp;shape=&quot;rect&quot;&nbsp;ymailto=&quot;mailto:Twisted-Python@twistedmatrix.com&quot;&nbsp;href=&quot;mailto:Twisted-Python@twistedmatrix.com&quot;&gt;Twisted-Python@twistedmatrix.com&lt;/a&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;a&nbsp;shape=&quot;rect&quot;&nbsp;href=&quot;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&lt;/a&gt;&lt;br&nbsp;clear=&quot;none&quot;&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&nbsp;&nbsp;&lt;/div&gt;&nbsp;&lt;/div&gt;&nbsp;&nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
