<tt>
&lt;DIV&gt;This&nbsp;client&nbsp;code&nbsp;is&nbsp;making&nbsp;connections&nbsp;to&nbsp;a&nbsp;legacy&nbsp;app.&nbsp;&nbsp;I&nbsp;do&nbsp;have&nbsp;Java&nbsp;code&nbsp;that&nbsp;simulates&nbsp;what&nbsp;the&nbsp;server&nbsp;side&nbsp;essentially&nbsp;does&nbsp;and&nbsp;this&nbsp;client&nbsp;code&nbsp;does&nbsp;seem&nbsp;to&lt;/DIV&gt;&nbsp;&nbsp;&lt;DIV&gt;work&nbsp;as&nbsp;expected&nbsp;when&nbsp;run&nbsp;against&nbsp;that&nbsp;server&nbsp;code:&lt;/DIV&gt;&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&lt;/DIV&gt;&nbsp;&nbsp;&lt;DIV&gt;commandline=python&nbsp;dd.py&nbsp;localhost&nbsp;140&nbsp;W04FSRV&nbsp;W04PS01&nbsp;2&lt;/DIV&gt;&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&lt;/DIV&gt;&nbsp;&nbsp;&lt;DIV&gt;buildProtocol&nbsp;with&nbsp;myName=&nbsp;W04PS01&nbsp;instanceName=&nbsp;conn1&lt;/DIV&gt;&nbsp;&nbsp;&lt;DIV&gt;conn1&nbsp;connection&nbsp;made.&nbsp;requesting&nbsp;session&nbsp;establishment&nbsp;...&lt;BR&gt;myName=&nbsp;W04PS01&nbsp;&nbsp;&nbsp;remoteName=&nbsp;W04FSRV&lt;/DIV&gt;&nbsp;&nbsp;&lt;DIV&gt;buildProtocol&nbsp;with&nbsp;myName=&nbsp;W04BS03&nbsp;instanceName=&nbsp;conn2&lt;/DIV&gt;&nbsp;&nbsp;&lt;DIV&gt;conn2&nbsp;connection&nbsp;made.&nbsp;requesting&nbsp;session&nbsp;establishment&nbsp;...&lt;BR&gt;myName=&nbsp;W04BS03&nbsp;&nbsp;&nbsp;remoteName=&nbsp;W04FSRV&lt;/DIV&gt;&nbsp;&nbsp;&lt;DIV&gt;conn1&nbsp;Server&nbsp;said:&nbsp;'\x82\x00\x00\x00'&lt;BR&gt;conn1&nbsp;Positive&nbsp;Service&nbsp;Response&nbsp;Packet&nbsp;received!&lt;BR&gt;conn1&nbsp;TRANS&nbsp;CODE=&nbsp;998&lt;/DIV&gt;&nbsp;&nbsp;&lt;DIV&gt;conn1&nbsp;sending&nbsp;server&nbsp;data&nbsp;...&lt;BR&gt;conn1&nbsp;finished&nbsp;sending&nbsp;server&nbsp;data&lt;BR&gt;conn1&nbsp;connection&nbsp;lost&lt;BR&gt;conn1&nbsp;Connection&nbsp;lost&nbsp;-<br>
&nbsp;goodbye!&lt;BR&gt;conn2&nbsp;Server&nbsp;said:&nbsp;'\x82\x00\x00\x00'&lt;BR&gt;conn2&nbsp;Positive&nbsp;Service&nbsp;Response&nbsp;Packet&nbsp;received!&lt;BR&gt;conn2&nbsp;TRANS&nbsp;CODE=&nbsp;998&lt;/DIV&gt;&nbsp;&nbsp;&lt;DIV&gt;conn2&nbsp;sending&nbsp;server&nbsp;data&nbsp;...&lt;BR&gt;conn2&nbsp;finished&nbsp;sending&nbsp;server&nbsp;data&lt;BR&gt;conn2&nbsp;connection&nbsp;lost&lt;BR&gt;conn2&nbsp;Connection&nbsp;lost&nbsp;-&nbsp;goodbye!&lt;BR&gt;&lt;/DIV&gt;&nbsp;&nbsp;&lt;DIV&gt;-------------------------------------------------------------------&lt;/DIV&gt;&nbsp;&nbsp;&lt;DIV&gt;When&nbsp;run&nbsp;against&nbsp;the&nbsp;legacy&nbsp;app&nbsp;on&nbsp;&lt;ip&nbsp;address&gt;,&nbsp;only&nbsp;one&nbsp;connection&nbsp;seems&nbsp;to&nbsp;be&nbsp;&lt;/DIV&gt;&nbsp;&nbsp;&lt;DIV&gt;working&nbsp;(see&nbsp;output&nbsp;below).&nbsp;&nbsp;Also,&nbsp;when&nbsp;I&nbsp;run&nbsp;the&nbsp;code&nbsp;one&nbsp;connection&nbsp;at&nbsp;a&nbsp;time,&nbsp;&lt;/DIV&gt;&nbsp;&nbsp;&lt;DIV&gt;the&nbsp;code&nbsp;works.&lt;/DIV&gt;&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&lt;/DIV&gt;&nbsp;&nbsp;&lt;DIV&gt;Any&nbsp;suggestion&nbsp;what&nbsp;I&nbsp;can&nbsp;do&nbsp;on&nbsp;the&nbsp;client&nbsp;side&nbsp;to&nbsp;help&nbsp;me&nbsp;debug?&lt;/DIV&gt;&nbsp;&nbsp;&lt;DIV&gt;I&nbsp;noticed&nbsp;there's&nbsp;log.msg()'s&nbsp;in&nbsp;the&nbsp;twisted&nbsp;code.&nbsp;&nbsp;Would&nbsp;they&nbsp;have&nbsp;printed&nbsp;out&lt;/DIV&gt;&nbsp;&nbsp;&lt;DIV&gt;on&nbsp;the&nbsp;dos&nbsp;console&nbsp;(i'm&nbsp;using&nbsp;windows&nbsp;xp&nbsp;as&nbsp;the&nbsp;client&nbsp;machine)&nbsp;if&nbsp;they&nbsp;had&lt;/DIV&gt;&nbsp;&nbsp;&lt;DIV&gt;occurred?&lt;/DIV&gt;&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&lt;/DIV&gt;&nbsp;&nbsp;&lt;DIV&gt;Also,&nbsp;one&nbsp;difference&nbsp;between&nbsp;the&nbsp;two&nbsp;&quot;invocations&quot;&nbsp;(connecting&nbsp;to&nbsp;java&nbsp;server&nbsp;code<br>
&nbsp;vs&nbsp;connecting&nbsp;to&nbsp;legacy&nbsp;app)&nbsp;is&nbsp;the&nbsp;port.&nbsp;For&nbsp;connecting&nbsp;to&nbsp;the&nbsp;java&nbsp;server&nbsp;code&nbsp;on&nbsp;localhost,&nbsp;the&nbsp;&quot;remote&quot;&nbsp;port&nbsp;is&nbsp;140;&nbsp;for&nbsp;connecting&nbsp;&nbsp;to&nbsp;the&nbsp;legacy&nbsp;app,&nbsp;the&nbsp;remote&nbsp;port&lt;/DIV&gt;&nbsp;&nbsp;&lt;DIV&gt;is&nbsp;the&nbsp;usual&nbsp;NBT&nbsp;port&nbsp;139.&nbsp;i&nbsp;don't&nbsp;think&nbsp;this&nbsp;should&nbsp;matter;&nbsp;just&nbsp;thought&nbsp;i'd&nbsp;mention&nbsp;it...&lt;/DIV&gt;&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&lt;/DIV&gt;&nbsp;&nbsp;&lt;DIV&gt;commandline=&nbsp;python&nbsp;dd.py&nbsp;&lt;ip&nbsp;address&gt;&nbsp;139&nbsp;W04FSRV&nbsp;W04PS01&nbsp;2&lt;BR&gt;&lt;/DIV&gt;&nbsp;&nbsp;&lt;DIV&gt;buildProtocol&nbsp;with&nbsp;myName=&nbsp;W04PS01&nbsp;instanceName=&nbsp;conn1&lt;/DIV&gt;&nbsp;&nbsp;&lt;DIV&gt;conn1&nbsp;connection&nbsp;made.&nbsp;requesting&nbsp;session&nbsp;establishment&nbsp;...&lt;BR&gt;myName=&nbsp;W04PS01&nbsp;&nbsp;&nbsp;remoteName=&nbsp;W04FSRV&lt;/DIV&gt;&nbsp;&nbsp;&lt;DIV&gt;buildProtocol&nbsp;with&nbsp;myName=&nbsp;W04BS03&nbsp;instanceName=&nbsp;conn2&lt;/DIV&gt;&nbsp;&nbsp;&lt;DIV&gt;conn2&nbsp;connection&nbsp;made.&nbsp;requesting&nbsp;session&nbsp;establishment&nbsp;...&lt;BR&gt;myName=&nbsp;W04BS03&nbsp;&nbsp;&nbsp;remoteName=&nbsp;W04FSRV&lt;/DIV&gt;&nbsp;&nbsp;&lt;DIV&gt;conn2&nbsp;Server&nbsp;said:&nbsp;'\x82\x00\x00\x00'&lt;BR&gt;conn2&nbsp;Positive&nbsp;Service&nbsp;Response&nbsp;Packet&nbsp;received!&lt;BR&gt;conn2&nbsp;TRANS&nbsp;CODE=&nbsp;998&lt;/DIV&gt;&nbsp;&nbsp;&lt;DIV&gt;conn2&nbsp;sending&nbsp;server&nbsp;data&nbsp;...&lt;BR&gt;conn2&nbsp;finished&nbsp;sending&nbsp;server&nbsp;data&lt;BR&gt;conn2<br>
&nbsp;connection&nbsp;lost&lt;BR&gt;conn2&nbsp;Connection&nbsp;lost&nbsp;-&nbsp;goodbye!&lt;BR&gt;&lt;B&gt;&lt;I&gt;&lt;/I&gt;&lt;/B&gt;&lt;/DIV&gt;&nbsp;&nbsp;&lt;DIV&gt;&lt;B&gt;&lt;I&gt;glyph@divmod.com&lt;/I&gt;&lt;/B&gt;&nbsp;wrote:&lt;/DIV&gt;&nbsp;&nbsp;&lt;BLOCKQUOTE&nbsp;class=replbq&nbsp;style=&quot;PADDING-LEFT:&nbsp;5px;&nbsp;MARGIN-LEFT:&nbsp;5px;&nbsp;BORDER-LEFT:&nbsp;#1010ff&nbsp;2px&nbsp;solid&quot;&gt;&lt;BR&gt;On&nbsp;Fri,&nbsp;3&nbsp;Feb&nbsp;2006&nbsp;07:42:27&nbsp;-0800&nbsp;(PST),&nbsp;john&nbsp;peter&nbsp;&lt;NEUZHOUNDXX@YAHOO.COM&gt;wrote:&lt;BR&gt;&lt;BR&gt;&gt;&nbsp;With&nbsp;my&nbsp;initial&nbsp;attempt&nbsp;using&nbsp;Twisted,&nbsp;only&nbsp;one&nbsp;connection&nbsp;seems&nbsp;to&nbsp;succeed,&nbsp;and&nbsp;the&nbsp;other&nbsp;basically&nbsp;hangs.&lt;BR&gt;&lt;BR&gt;This&nbsp;isn't&nbsp;quite&nbsp;a&nbsp;&quot;minimal&quot;&nbsp;example,&nbsp;since&nbsp;I&nbsp;don't&nbsp;have&nbsp;access&nbsp;to&nbsp;the&nbsp;server&nbsp;side&nbsp;that&nbsp;this&nbsp;code&nbsp;is&nbsp;expecting&nbsp;to&nbsp;talk&nbsp;to.&nbsp;Have&nbsp;you&nbsp;tried&nbsp;setting&nbsp;up&nbsp;a&nbsp;simpler&nbsp;server&nbsp;which&nbsp;does&nbsp;a&nbsp;listenTCP&nbsp;and&nbsp;then&nbsp;a&nbsp;server&nbsp;which&nbsp;does&nbsp;connectTCP&nbsp;to&nbsp;it&nbsp;multiple&nbsp;times?&nbsp;Does&nbsp;that&nbsp;work?&lt;BR&gt;&lt;BR&gt;One&nbsp;thing&nbsp;that&nbsp;occurs&nbsp;to&nbsp;me&nbsp;is&nbsp;that&nbsp;if&nbsp;the&nbsp;first&nbsp;byte&nbsp;of&nbsp;the&nbsp;connection&nbsp;is&nbsp;not&nbsp;\x82&nbsp;it&nbsp;will&nbsp;be&nbsp;disconnected&nbsp;immediately;&nbsp;the&nbsp;dataReceived&nbsp;you've&nbsp;written&nbsp;doesn't&nbsp;actually&nbsp;parse&nbsp;any&nbsp;protocol&nbsp;data.&nbsp;Depending&nbsp;on&nbsp;which&nbsp;prints&nbsp;are&nbsp;actually&nbsp;commented&nbsp;out&nbsp;or&nbsp;not&nbsp;that&nbsp;might&nbsp;look&nbsp;like<br>
&nbsp;hanging&nbsp;:)&lt;BR&gt;&lt;BR&gt;_______________________________________________&lt;BR&gt;Twisted-Python&nbsp;mailing&nbsp;list&lt;BR&gt;Twisted-Python@twistedmatrix.com&lt;BR&gt;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&lt;BR&gt;&lt;/BLOCKQUOTE&gt;&nbsp;&nbsp;&lt;DIV&gt;&lt;BR&gt;&lt;/DIV&gt;&lt;p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;hr&nbsp;size=1&gt;&nbsp;&lt;a&nbsp;href=&quot;http://us.rd.yahoo.com/mail_us/taglines/virusmail/*http://mail.yahoo.com&quot;&gt;Yahoo!&nbsp;Mail&lt;/a&gt;&nbsp;-&nbsp;Helps&nbsp;protect&nbsp;you&nbsp;from&nbsp;nasty&nbsp;viruses.
</tt>
