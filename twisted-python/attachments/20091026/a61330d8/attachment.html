<tt>
&lt;br&gt;First&nbsp;of&nbsp;all.&nbsp;Thanx&nbsp;for&nbsp;the&nbsp;help!!!&nbsp;The&nbsp;internet&nbsp;is&nbsp;just&nbsp;fantastic!!&lt;br&gt;&lt;br&gt;I&nbsp;like&nbsp;the&nbsp;wrapper&nbsp;approach.&lt;br&gt;&lt;br&gt;I&nbsp;had&nbsp;not&nbsp;thought&nbsp;of&nbsp;that&nbsp;approach&nbsp;myself.&nbsp;Sounds&nbsp;very&nbsp;reasonable.&nbsp;-So&nbsp;I&nbsp;started&nbsp;wrapping&nbsp;Resolver,&nbsp;but&nbsp;got&nbsp;stuck&nbsp;pretty&nbsp;fast.&nbsp;I&nbsp;get&nbsp;a&nbsp;problem&nbsp;saying&nbsp;that&nbsp;&lt;br&gt;<br>
&lt;br&gt;&#39;NoneType&#39;&nbsp;object&nbsp;has&nbsp;no&nbsp;attribute&nbsp;&#39;addCallback&#39;&lt;br&gt;&lt;br&gt;&quot;addCallback&quot;&nbsp;seems&nbsp;to&nbsp;be&nbsp;implemented&nbsp;in&nbsp;defer.py,&nbsp;but&nbsp;im&nbsp;unsure&nbsp;on&nbsp;how&nbsp;to&nbsp;handle&nbsp;that&nbsp;in&nbsp;the&nbsp;wrapper?&lt;br&gt;&lt;br&gt;Kind&nbsp;regards&lt;br&gt;&lt;br&gt;/Tax&nbsp;&lt;br&gt;<br>
&lt;br&gt;P.S:&lt;br&gt;As&nbsp;a&nbsp;side&nbsp;question:&nbsp;In&nbsp;my&nbsp;old&nbsp;hack&nbsp;approach,&nbsp;which&nbsp;I&nbsp;have&nbsp;had&nbsp;almost<br>
working,&nbsp;I&nbsp;have&nbsp;had&nbsp;problems&nbsp;constructing&nbsp;valid&nbsp;DNS&nbsp;answers.&nbsp;Wold&nbsp;you<br>
happen&nbsp;to&nbsp;know&nbsp;what&nbsp;requirements&nbsp;there&nbsp;is&nbsp;to&nbsp;the&nbsp;returning&nbsp;package,&nbsp;to<br>
be&nbsp;accepted.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;made&nbsp;some&nbsp;attempts&nbsp;by&nbsp;using&nbsp;pickle&nbsp;to&nbsp;capture&nbsp;live&nbsp;packages,&nbsp;but&nbsp;have<br>
a&nbsp;hard&nbsp;time&nbsp;tweaking&nbsp;other&nbsp;values&nbsp;than&nbsp;the&nbsp;address.&nbsp;Ideally&nbsp;I&nbsp;would<br>
like&nbsp;to&nbsp;pass&nbsp;on&nbsp;a&nbsp;very&nbsp;short&nbsp;TTL,&nbsp;so&nbsp;the&nbsp;client&nbsp;would&nbsp;not&nbsp;be&nbsp;bothered<br>
by&nbsp;fake&nbsp;DNS&nbsp;when&nbsp;I&nbsp;turn&nbsp;the&nbsp;system&nbsp;off.&lt;br&gt;<br>
&lt;br&gt;<br>
As&nbsp;you&nbsp;might&nbsp;have&nbsp;guessed,&nbsp;Im&nbsp;building&nbsp;a&nbsp;gateway&nbsp;system&nbsp;for&nbsp;a&nbsp;small&nbsp;set&nbsp;of&nbsp;apartments.&nbsp;Requirements&nbsp;are:&lt;br&gt;<br>
&lt;br&gt;<br>
invalid&nbsp;domains&nbsp;should&nbsp;go&nbsp;to&nbsp;a&nbsp;shop&lt;br&gt;<br>
valid&nbsp;domains&nbsp;should&nbsp;be&nbsp;redirected&nbsp;to&nbsp;the&nbsp;shop&nbsp;if&nbsp;the&nbsp;client&nbsp;have&nbsp;not&nbsp;paid,&nbsp;except&nbsp;if&nbsp;the&nbsp;query&nbsp;is&nbsp;for&nbsp;paypal.&lt;br&gt;<br>
&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2009/10/25&nbsp;&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:exarkun@twistedmatrix.com&quot;&gt;exarkun@twistedmatrix.com&lt;/a&gt;&gt;&lt;/span&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;On&nbsp;24&nbsp;Oct,&nbsp;08:04&nbsp;pm,&nbsp;&lt;a&nbsp;href=&quot;mailto:jesper@taxboel.dk&quot;&gt;jesper@taxboel.dk&lt;/a&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;Im&nbsp;looking&nbsp;at&nbsp;the&nbsp;common.py&nbsp;and&nbsp;I&nbsp;feel&nbsp;a&nbsp;bit&nbsp;confused&nbsp;about&nbsp;how&nbsp;to&nbsp;wrap&lt;br&gt;<br>
&gt;a&lt;br&gt;<br>
&gt;resolver.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;Would&#39;nt&nbsp;a&nbsp;subclass&nbsp;achieve&nbsp;the&nbsp;same&nbsp;thing.&nbsp;I&nbsp;would&nbsp;only&nbsp;need&nbsp;to&lt;br&gt;<br>
&gt;implement&lt;br&gt;<br>
&gt;the&nbsp;changed&nbsp;functions&nbsp;in&nbsp;the&nbsp;subclass.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;I&nbsp;guess&nbsp;my&nbsp;problem&nbsp;is&nbsp;that&nbsp;I&nbsp;dont&nbsp;exactly&nbsp;know&nbsp;how&nbsp;to&nbsp;write&nbsp;a&nbsp;wrapper&lt;br&gt;<br>
&gt;in&lt;br&gt;<br>
&gt;python.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;There&#39;s&nbsp;nothing&nbsp;special&nbsp;to&nbsp;it.&nbsp; Just&nbsp;do&nbsp;the&nbsp;obvious&nbsp;thing:&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp; &nbsp; class&nbsp;SomeWrapper:&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; def&nbsp;__init__(self,&nbsp;wrapee):&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; self.wrapee&nbsp;=&nbsp;wrapee&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; def&nbsp;someMethod(self,&nbsp;args):&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; do&nbsp;something&nbsp;with&nbsp;self.wrapee.someMethod&nbsp;and&nbsp;args&lt;br&gt;<br>
&lt;br&gt;<br>
common.py&nbsp;will&nbsp;show&nbsp;you&nbsp;all&nbsp;the&nbsp;methods&nbsp;that&nbsp;a&nbsp;resolver&nbsp;is&nbsp;expected&nbsp;to&lt;br&gt;<br>
have.&nbsp; Subclassing&nbsp;ResolverBase&nbsp;might&nbsp;help,&nbsp;though&nbsp;it&#39;s&nbsp;unfortunate&nbsp;that&lt;br&gt;<br>
it&nbsp;works&nbsp;by&nbsp;demultiplexing&nbsp;everything&nbsp;to&nbsp;&quot;_lookup&quot;,&nbsp;a&nbsp;private&nbsp;method&lt;br&gt;<br>
that&nbsp;Twisted&#39;s&nbsp;compatibility&nbsp;policy&nbsp;doesn&#39;t&nbsp;guarantee&nbsp;will&nbsp;continue&nbsp;to&lt;br&gt;<br>
operate&nbsp;as&nbsp;it&nbsp;presently&nbsp;does.&lt;br&gt;<br>
&lt;br&gt;<br>
Wrapping&nbsp;(ie&nbsp;&quot;containment&quot;&nbsp;or&nbsp;&quot;has-a&quot;)&nbsp;is&nbsp;just&nbsp;an&nbsp;alternative&lt;br&gt;<br>
implementation&nbsp;strategy&nbsp;to&nbsp;subclassing&nbsp;(ie&nbsp;&quot;inheritance&quot;&nbsp;or&nbsp;&quot;is-a&quot;).&lt;br&gt;<br>
Generally&nbsp;it&#39;s&nbsp;a&nbsp;better&nbsp;approach&nbsp;for&nbsp;various&nbsp;reasons,&nbsp;none&nbsp;of&nbsp;which&nbsp;are&lt;br&gt;<br>
really&nbsp;specific&nbsp;to&nbsp;Twisted.&lt;br&gt;<br>
&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
Jean-Paul&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Twisted-Python&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Twisted-Python@twistedmatrix.com&quot;&gt;Twisted-Python@twistedmatrix.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
