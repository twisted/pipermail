<tt>
&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;5&nbsp;April&nbsp;2011&nbsp;14:21,&nbsp;&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:exarkun@twistedmatrix.com&quot;&gt;exarkun@twistedmatrix.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;On&nbsp;01:39&nbsp;am,&nbsp;&lt;a&nbsp;href=&quot;mailto:brad.milne@devx.runthered.com&quot;&gt;brad.milne@devx.runthered.com&lt;/a&gt;&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;Hi&nbsp;all&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;I&nbsp;have&nbsp;recently&nbsp;started&nbsp;switching&nbsp;to&nbsp;trial.unittest&nbsp;from&nbsp;python&amp;#39;s&nbsp;own.&lt;br&gt;<br>
&amp;gt;The&lt;br&gt;<br>
&amp;gt;trouble&nbsp;I&amp;#39;m&nbsp;experiencing&nbsp;is&nbsp;when&nbsp;a&nbsp;timeout&nbsp;occurs&nbsp;in&nbsp;my&nbsp;test,&nbsp;it&lt;br&gt;<br>
&amp;gt;errbacks().&lt;br&gt;<br>
&amp;gt;Then&nbsp;the&nbsp;@inlineCallbacks&nbsp;decorator&nbsp;sees&nbsp;the&nbsp;error&nbsp;and&nbsp;errbacks().&nbsp;But&lt;br&gt;<br>
&amp;gt;then&lt;br&gt;<br>
&amp;gt;a&nbsp;second&nbsp;@inlineCallback&nbsp;in&nbsp;the&nbsp;chain&nbsp;subsequently&nbsp;sees&nbsp;*that*&nbsp;errback&lt;br&gt;<br>
&amp;gt;and&lt;br&gt;<br>
&amp;gt;tries&nbsp;to&nbsp;errback&nbsp;itself.&nbsp;This&nbsp;results&nbsp;in&nbsp;AlreadyCalledError.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;In&nbsp;the&nbsp;test&nbsp;setup,&nbsp;various&nbsp;services&nbsp;are&nbsp;started.&nbsp;These&nbsp;are&nbsp;tracked&nbsp;and&lt;br&gt;<br>
&amp;gt;then&lt;br&gt;<br>
&amp;gt;shutdown&nbsp;again&nbsp;in&nbsp;the&nbsp;teardown.&nbsp;Also,&nbsp;there&nbsp;is&nbsp;some&nbsp;polling&nbsp;that&lt;br&gt;<br>
&amp;gt;happens&nbsp;as&lt;br&gt;<br>
&amp;gt;part&nbsp;of&nbsp;the&nbsp;tests&nbsp;(waiting&nbsp;on&nbsp;db&nbsp;activities,&nbsp;for&nbsp;example).&nbsp;These&nbsp;use&lt;br&gt;<br>
&amp;gt;deferLater&nbsp;calls,&nbsp;which&nbsp;are&nbsp;also&nbsp;tracked&nbsp;and&nbsp;torn&nbsp;down&nbsp;in&nbsp;the&nbsp;teardown.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;I&amp;#39;ve&nbsp;tried&nbsp;_suppressAlreadyCalled&nbsp;in&nbsp;various&nbsp;places&nbsp;to&nbsp;no&nbsp;avail.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;Below&nbsp;is&nbsp;a&nbsp;simple&nbsp;example&nbsp;that&nbsp;shows&nbsp;the&nbsp;problem.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;I&nbsp;tried&nbsp;running&nbsp;the&nbsp;sample,&nbsp;it&nbsp;completes&nbsp;without&nbsp;error.&nbsp; I&nbsp;guess&nbsp;that&amp;#39;s&lt;br&gt;<br>
not&nbsp;what&nbsp;you&amp;#39;re&nbsp;seeing?&nbsp; What&nbsp;version&nbsp;of&nbsp;Twisted&nbsp;do&nbsp;you&nbsp;have?&lt;br&gt;<br>
&lt;br&gt;<br>
Jean-Paul&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Twisted-Python&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Twisted-Python@twistedmatrix.com&quot;&gt;Twisted-Python@twistedmatrix.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;<br>
&lt;div&gt;Hi&nbsp;Jean-Paul&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&amp;#39;m&nbsp;using&nbsp;10.2.0&nbsp;on&nbsp;a&nbsp;mac.&nbsp;Here&amp;#39;s&nbsp;my&nbsp;interpreter&nbsp;(using&nbsp;buildout):&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;#!/opt/local/Library/Frameworks/Python.framework/Versions/2.6/Resources/Python.app/Contents/MacOS/Python&lt;/div&gt;<br>
&lt;div&gt;import&nbsp;sys&lt;/div&gt;&lt;div&gt;sys.path[0:0]&nbsp;=&nbsp;[&lt;/div&gt;&lt;div&gt;  &nbsp; &amp;#39;/Users/brad/Development/python/workspace/Python-Integration/src&amp;#39;,&lt;/div&gt;&lt;div&gt;  &nbsp; &amp;#39;/Users/brad/Development/python/eggs/nose-0.11.4-py2.6.egg&amp;#39;,&lt;/div&gt;<br>
&lt;div&gt;  &nbsp; &amp;#39;/Users/brad/Development/python/eggs/MiniMock-1.2.5-py2.6.egg&amp;#39;,&lt;/div&gt;&lt;div&gt;  &nbsp; &amp;#39;/Users/brad/Development/python/eggs/suds-0.4-py2.6.egg&amp;#39;,&lt;/div&gt;&lt;div&gt;  &nbsp; &amp;#39;/Users/brad/Development/python/eggs/SOAPpy-0.12.4-py2.6.egg&amp;#39;,&lt;/div&gt;<br>
&lt;div&gt;  &nbsp; &amp;#39;/Users/brad/Development/python/eggs/wstools-0.3-py2.6.egg&amp;#39;,&lt;/div&gt;&lt;div&gt;  &nbsp; &amp;#39;/Users/brad/Development/python/eggs/fpconst-0.7.2-py2.6.egg&amp;#39;,&lt;/div&gt;&lt;div&gt;  &nbsp; &amp;#39;/Users/brad/Development/python/eggs/Twisted-10.2.0-py2.6-macosx-10.6-x86_64.egg&amp;#39;,&lt;/div&gt;<br>
&lt;div&gt;  &nbsp; &amp;#39;/Users/brad/Development/python/eggs/zope.interface-3.6.1-py2.6-macosx-10.6-x86_64.egg&amp;#39;,&lt;/div&gt;&lt;div&gt;  &nbsp; &amp;#39;/Users/brad/Development/python/eggs/pymongo-1.9-py2.6-macosx-10.6-x86_64.egg&amp;#39;,&lt;/div&gt;&lt;div&gt;  &nbsp; &amp;#39;/Users/brad/Development/python/eggs/pytz-2010h-py2.6.egg&amp;#39;,&lt;/div&gt;<br>
&lt;div&gt;  &nbsp; ]&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;python&nbsp;I&nbsp;have&nbsp;at&nbsp;that&nbsp;location&nbsp;(using&nbsp;MacPorts)&nbsp;is&nbsp;2.6.6.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Following&nbsp;your&nbsp;email&nbsp;I&nbsp;see&nbsp;that&nbsp;11.0.0&nbsp;is&nbsp;released&nbsp;so&nbsp;I&nbsp;tried&nbsp;that&nbsp;and&nbsp;got&nbsp;the&nbsp;same&nbsp;error:&lt;/div&gt;<br>
&lt;div&gt;&amp;lt;snip&amp;gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;[ERROR]&lt;/div&gt;&lt;div&gt;Traceback&nbsp;(most&nbsp;recent&nbsp;call&nbsp;last):&lt;/div&gt;&lt;div&gt;  File&nbsp;&amp;quot;/Users/brad/Development/python/eggs/Twisted-11.0.0-py2.6-macosx-10.6-x86_64.egg/twisted/internet/defer.py&amp;quot;,&nbsp;line&nbsp;1076,&nbsp;in&nbsp;gotResult&lt;/div&gt;<br>
&lt;div&gt;  &nbsp; _inlineCallbacks(r,&nbsp;g,&nbsp;deferred)&lt;/div&gt;&lt;div&gt;  File&nbsp;&amp;quot;/Users/brad/Development/python/eggs/Twisted-11.0.0-py2.6-macosx-10.6-x86_64.egg/twisted/internet/defer.py&amp;quot;,&nbsp;line&nbsp;1066,&nbsp;in&nbsp;_inlineCallbacks&lt;/div&gt;&lt;div&gt;  &nbsp; deferred.errback()&lt;/div&gt;<br>
&lt;div&gt;  File&nbsp;&amp;quot;/Users/brad/Development/python/eggs/Twisted-11.0.0-py2.6-macosx-10.6-x86_64.egg/twisted/internet/defer.py&amp;quot;,&nbsp;line&nbsp;388,&nbsp;in&nbsp;errback&lt;/div&gt;&lt;div&gt;  &nbsp; self._startRunCallbacks(fail)&lt;/div&gt;&lt;div&gt;  File&nbsp;&amp;quot;/Users/brad/Development/python/eggs/Twisted-11.0.0-py2.6-macosx-10.6-x86_64.egg/twisted/internet/defer.py&amp;quot;,&nbsp;line&nbsp;448,&nbsp;in&nbsp;_startRunCallbacks&lt;/div&gt;<br>
&lt;div&gt;  &nbsp; raise&nbsp;AlreadyCalledError&lt;/div&gt;&lt;div&gt;twisted.internet.defer.AlreadyCalledError: &lt;/div&gt;&lt;/div&gt;&lt;div&gt;&amp;lt;/snip&amp;gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Many&nbsp;thanks&lt;/div&gt;&lt;div&gt;Brad&lt;/div&gt;<br>

</tt>
