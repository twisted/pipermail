<tt>
&lt;html&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=UTF-8&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;On&nbsp;6/15/20&nbsp;11:43&nbsp;PM,&nbsp;Craig&nbsp;Rodrigues&nbsp;wrote:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;<br>
cite=&quot;mid:CAG=rPVcNYA_eyheUY02HGBF1SONG8xh9V-nYhUj-Z4WoXjQB0w@mail.gmail.com&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;http-equiv=&quot;content-type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=UTF-8&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;In<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;twisted.internet.abstract.FileDescriptor.loseConnection,&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;loseConnection&nbsp;method<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;is&nbsp;defined&nbsp;like:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp;def&nbsp;loseConnection(self,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_connDone=failure.Failure(main.CONNECTION_DONE)):&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;while&nbsp;in&nbsp;twisted.internet._newtls.ConnectionMixin&nbsp;,&nbsp;we<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;have:&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt; &nbsp;def&nbsp;loseConnection(self):&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;If&nbsp;I&nbsp;run&nbsp;&lt;b&gt;tox&nbsp;-e&nbsp;mypy&lt;/b&gt; &nbsp;in&nbsp;trunk,&nbsp;mypy&nbsp;complains&nbsp;with<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this:&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;style=&quot;color:rgb(0,0,0);white-space:pre-wrap&quot;&gt;src/twisted/internet/tcp.py:204:1:&nbsp;error:&nbsp;Definition&nbsp;of&nbsp;&quot;loseConnection&quot;&nbsp;in&nbsp;base&nbsp;class&nbsp;&quot;ConnectionMixin&quot;&nbsp;is&nbsp;incompatible&nbsp;with&nbsp;definition&nbsp;in&nbsp;base&nbsp;class&nbsp;&quot;FileDescriptor&quot;&nbsp;&nbsp;[misc]<br>
<br>
src/twisted/internet/tcp.py:527:1:&nbsp;error:&nbsp;Definition&nbsp;of&nbsp;&quot;loseConnection&quot;&nbsp;in&nbsp;base&nbsp;class&nbsp;&quot;ConnectionMixin&quot;&nbsp;is&nbsp;incompatible&nbsp;with&nbsp;definition&nbsp;in&nbsp;base&nbsp;class&nbsp;&quot;FileDescriptor&quot;&nbsp;&nbsp;[misc]<br>
src/twisted/internet/tcp.py:780:1:&nbsp;error:&nbsp;Definition&nbsp;of&nbsp;&quot;loseConnection&quot;&nbsp;in&nbsp;base&nbsp;class&nbsp;&quot;ConnectionMixin&quot;&nbsp;is&nbsp;incompatible&nbsp;with&nbsp;definition&nbsp;in&nbsp;base&nbsp;class&nbsp;&quot;FileDescriptor&quot;&nbsp;&nbsp;[misc]<br>
src/twisted/internet/tcp.py:789:1:&nbsp;error:&nbsp;Definition&nbsp;of&nbsp;&quot;loseConnection&quot;&nbsp;in&nbsp;base&nbsp;class&nbsp;&quot;ConnectionMixin&quot;&nbsp;is&nbsp;incompatible&nbsp;with&nbsp;definition&nbsp;in&nbsp;base&nbsp;class&nbsp;&quot;FileDescriptor&quot;&nbsp;&nbsp;[misc]<br>
<br>
src/twisted/internet/unix.py:243:1:&nbsp;error:&nbsp;Definition&nbsp;of&nbsp;&quot;loseConnection&quot;&nbsp;in&nbsp;base&nbsp;class&nbsp;&quot;ConnectionMixin&quot;&nbsp;is&nbsp;incompatible&nbsp;with&nbsp;definition&nbsp;in&nbsp;base&nbsp;class&nbsp;&quot;FileDescriptor&quot;&nbsp;&nbsp;[misc]<br>
src/twisted/internet/unix.py:431:1:&nbsp;error:&nbsp;Definition&nbsp;of&nbsp;&quot;loseConnection&quot;&nbsp;in&nbsp;base&nbsp;class&nbsp;&quot;ConnectionMixin&quot;&nbsp;is&nbsp;incompatible&nbsp;with&nbsp;definition&nbsp;in&nbsp;base&nbsp;class&nbsp;&quot;FileDescriptor&quot;&nbsp;&nbsp;[misc]&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;style=&quot;color:rgb(0,0,0);white-space:pre-wrap&quot;&gt;&lt;font&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;<br>
&lt;/font&gt;&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;style=&quot;color:rgb(0,0,0);white-space:pre-wrap&quot;&gt;&lt;font&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;Do&nbsp;the&nbsp;signatures&nbsp;of&nbsp;loseConnection&nbsp;need&nbsp;to&nbsp;match&nbsp;in&nbsp;order&nbsp;for&nbsp;this&nbsp;to&nbsp;be&nbsp;a&nbsp;valid&nbsp;subclass?&lt;/font&gt;&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;style=&quot;color:rgb(0,0,0);white-space:pre-wrap&quot;&gt;&lt;font&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;Is&nbsp;there&nbsp;any&nbsp;way&nbsp;to&nbsp;fix&nbsp;the&nbsp;code&nbsp;so&nbsp;that&nbsp;the&nbsp;mypy&nbsp;error&nbsp;goes&nbsp;away,&nbsp;or&nbsp;do&nbsp;we&nbsp;need&nbsp;to&nbsp;add&nbsp;a&nbsp;comment&nbsp;to&nbsp;turn&nbsp;off&nbsp;the&nbsp;mypy&nbsp;error&nbsp;here?&lt;/font&gt;&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;&lt;font&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;Not&nbsp;directly&nbsp;related,&nbsp;but&nbsp;I&nbsp;ran<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;into&nbsp;a&nbsp;similar&nbsp;issue&nbsp;[1]&nbsp;with&nbsp;the&nbsp;&quot;connectionLost&quot;&nbsp;method&nbsp;in&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HTTP2&nbsp;code&nbsp;including&nbsp;an&nbsp;additional&nbsp;parameter.&nbsp;In&nbsp;this&nbsp;case&nbsp;it<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seems&nbsp;to&nbsp;be&nbsp;used&nbsp;to&nbsp;pass&nbsp;around&nbsp;additional&nbsp;state&nbsp;and&nbsp;follows&nbsp;a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;similar&nbsp;pattern&nbsp;(of&nbsp;the&nbsp;additional&nbsp;parameter&nbsp;being&nbsp;prefixed&nbsp;with<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;an&nbsp;underscore).&nbsp;I'll&nbsp;be&nbsp;curious&nbsp;what&nbsp;the&nbsp;proper&nbsp;way&nbsp;to&nbsp;deal&nbsp;with<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this&nbsp;is!&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/font&gt;&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;&lt;font&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;--Patrick&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/font&gt;&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;&lt;font&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;[1]:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;https://github.com/twisted/twisted/pull/1265#issuecomment-641512616&quot;&gt;https://github.com/twisted/twisted/pull/1265#issuecomment-641512616&lt;/a&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/font&gt;&lt;/p&gt;<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
