<tt>
&lt;div&gt;It&amp;#39;s&nbsp;possible&nbsp;that&nbsp;in&nbsp;some&nbsp;of&nbsp;the&nbsp;cases&nbsp;discussed&nbsp;above,&nbsp;what&nbsp;you&nbsp;want&nbsp;is&nbsp;a&nbsp;custom&nbsp;&lt;i&gt;Portal&lt;/i&gt;.&nbsp;For&nbsp;example,&nbsp;if&nbsp;you&nbsp;want&nbsp;to&nbsp;try&nbsp;a&nbsp;sequence&nbsp;of&nbsp;logins,&nbsp;and&nbsp;choose&nbsp;the&nbsp;first&nbsp;that&nbsp;succeeds:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
<br>
&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;class&nbsp;MultiPortal(object):&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt; &nbsp; &nbsp;def&nbsp;__init__(self,&nbsp;portals):&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;self.portals&nbsp;=&nbsp;portals&lt;/font&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt; &nbsp; &nbsp;@inlineCallbacks&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt; &nbsp; &nbsp;def&nbsp;login(self,&nbsp;*args,&nbsp;**kwargs):&lt;/font&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;for&nbsp;portal&nbsp;in&nbsp;self.portals:&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;try:&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return&nbsp;portal.login(*args,&nbsp;**kwargs)&lt;/font&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;except:&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;continue&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;#&nbsp;Ran&nbsp;out&nbsp;of&nbsp;portals,&nbsp;failed&nbsp;to&nbsp;login:&lt;/font&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;raise&nbsp;Unauthorized()&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Or,&nbsp;let&amp;#39;s&nbsp;say&nbsp;you&amp;#39;re&nbsp;writing&nbsp;a&nbsp;backend&nbsp;that&nbsp;is&nbsp;a&nbsp;combination&nbsp;checker&nbsp;and&nbsp;realm,&nbsp;where&nbsp;separating&nbsp;that&nbsp;two&nbsp;doesn&amp;#39;t&nbsp;make&nbsp;sense.&nbsp;E.g.&nbsp;a&nbsp;backend&nbsp;for&nbsp;a&nbsp;POP3&nbsp;server&nbsp;that&nbsp;is&nbsp;a&nbsp;proxy&nbsp;to&nbsp;another&nbsp;POP3&nbsp;server.&nbsp;In&nbsp;this&nbsp;case&nbsp;there&amp;#39;s&nbsp;no&nbsp;point&nbsp;in&nbsp;writing&nbsp;separate&nbsp;checker&nbsp;and&nbsp;realm,&nbsp;just&nbsp;write&nbsp;a&nbsp;new&nbsp;Portal:&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;class&nbsp;POP3ProxyPortal(object):&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt; &nbsp; &nbsp;def&nbsp;__init__(self,&nbsp;endpoint):&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;self.endpoint&nbsp;=&nbsp;endpoint&lt;/font&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt; &nbsp; &nbsp;@defer.inlineCallbacks&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt; &nbsp; &nbsp;def&nbsp;login(self,&nbsp;credentials,&nbsp;mind,&nbsp;*interfaces):&lt;/font&gt;&lt;span&nbsp;style=&quot;font-family:&amp;#39;courier&nbsp;new&amp;#39;,monospace&quot;&gt; &nbsp; &nbsp; &nbsp;  &lt;/span&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;pop3client&nbsp;=&nbsp;yield&nbsp;self.endpoint.connect(POP3ClientFactory())&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;yield&nbsp;pop3client.login(credentials.username,&nbsp;credentials.password)&lt;/font&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt; &nbsp; &nbsp; &nbsp; &nbsp;defer.returnValue((IMailbox,&nbsp;MailboxProxy(pop3client),&nbsp;pop3client.quit))&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;br&gt;&lt;/div&gt;-- &lt;br&gt;Itamar&nbsp;Turner-Trauring,&nbsp;Future&nbsp;Foundries&nbsp;LLC&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://futurefoundries.com/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://futurefoundries.com/&lt;/a&gt; —&nbsp;Twisted&nbsp;consulting,&nbsp;training&nbsp;and&nbsp;support.&lt;/div&gt;<br>

</tt>
