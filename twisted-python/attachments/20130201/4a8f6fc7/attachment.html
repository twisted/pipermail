<tt>
Hi&nbsp;Duncan,Â &lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;for&nbsp;the&nbsp;response.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&#39;m&nbsp;certainly&nbsp;open&nbsp;to&nbsp;suggestions&nbsp;otherwise,&nbsp;but&nbsp;it&nbsp;seems&nbsp;patching&nbsp;txjsonrpc&nbsp;to&nbsp;do&nbsp;the&nbsp;following&nbsp;would&nbsp;be&nbsp;rather&nbsp;involved.&nbsp;I&nbsp;started&nbsp;working&nbsp;on&nbsp;some&nbsp;of&nbsp;this&nbsp;and&nbsp;realized&nbsp;maintaining&nbsp;backwards&nbsp;compatibility&nbsp;might&nbsp;be&nbsp;very&nbsp;difficult:&lt;div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;*&nbsp;Persistent&nbsp;TCP&nbsp;connections&nbsp;across&nbsp;requests.&nbsp;At&nbsp;first&nbsp;I&nbsp;thought&nbsp;I&nbsp;could&nbsp;just&nbsp;add&nbsp;an&nbsp;additional&nbsp;Proxy&nbsp;and&nbsp;Factory.&nbsp;Unfortunately&nbsp;the&nbsp;BaseProxy&nbsp;and&nbsp;BaseFactory&nbsp;expect&nbsp;a&nbsp;new&nbsp;connection&nbsp;for&nbsp;each&nbsp;request,&nbsp;so&nbsp;this&nbsp;started&nbsp;getting&nbsp;quite&nbsp;involved&nbsp;and&nbsp;would&nbsp;have&nbsp;either&nbsp;require&nbsp;extensive&nbsp;changes&nbsp;to&nbsp;all&nbsp;the&nbsp;transports,&nbsp;or&nbsp;a&nbsp;parallel&nbsp;implementation.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;*&nbsp;The&nbsp;array&nbsp;issue&nbsp;is&nbsp;a&nbsp;bit&nbsp;strange.&nbsp;The&nbsp;only&nbsp;solution&nbsp;I&nbsp;could&nbsp;think&nbsp;of&nbsp;would&nbsp;be&nbsp;to&nbsp;add&nbsp;a&nbsp;&quot;wrap_results&quot;&nbsp;keyword&nbsp;or&nbsp;some&nbsp;such&nbsp;to&nbsp;the&nbsp;Proxy&nbsp;constructor&nbsp;(both&nbsp;client&nbsp;and&nbsp;server,&nbsp;as&nbsp;I&nbsp;think&nbsp;the&nbsp;client&nbsp;compensates&nbsp;for&nbsp;the&nbsp;array&nbsp;wrapper).&nbsp;It&nbsp;would&nbsp;have&nbsp;to&nbsp;default&nbsp;to&nbsp;True&nbsp;for&nbsp;backwards&nbsp;compatibility.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;*&nbsp;Keyword&nbsp;arguments&nbsp;are&nbsp;not&nbsp;supported&nbsp;(but&nbsp;are&nbsp;allowed&nbsp;by&nbsp;2.0&nbsp;spec).&nbsp;I&nbsp;don&#39;t&nbsp;think&nbsp;this&nbsp;would&nbsp;be&nbsp;too&nbsp;hard&nbsp;to&nbsp;add.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&#39;m&nbsp;on&nbsp;the&nbsp;fence&nbsp;as&nbsp;to&nbsp;whether&nbsp;to&nbsp;attack&nbsp;these&nbsp;issues&nbsp;in&nbsp;txjsonrpc,&nbsp;or&nbsp;to&nbsp;revert&nbsp;to&nbsp;my&nbsp;2.0/netstrings&nbsp;only&nbsp;implementation,&nbsp;which&nbsp;itself&nbsp;needs&nbsp;a&nbsp;lot&nbsp;of&nbsp;work&nbsp;(the&nbsp;code&nbsp;is&nbsp;far&nbsp;from&nbsp;ideal,&nbsp;there&nbsp;are&nbsp;no&nbsp;tests,&nbsp;etc.).&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Matthew&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Fri,&nbsp;Feb&nbsp;1,&nbsp;2013&nbsp;at&nbsp;2:30&nbsp;PM,&nbsp;Duncan&nbsp;McGreggor&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:duncan.mcgreggor@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;duncan.mcgreggor@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;On&nbsp;Thu,&nbsp;Jan&nbsp;31,&nbsp;2013&nbsp;at&nbsp;7:43&nbsp;AM,&nbsp;Matthew&nbsp;Williams&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:mgwilliams@gmail.com&quot;&gt;mgwilliams@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
&gt;&nbsp;I&nbsp;have&nbsp;a&nbsp;couple&nbsp;questions&nbsp;regarding&nbsp;txjsonrpc&lt;br&gt;<br>
&gt;&nbsp;(&lt;a&nbsp;href=&quot;https://github.com/oubiwann/txjsonrpc/&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/oubiwann/txjsonrpc/&lt;/a&gt;)&nbsp;in&nbsp;connection&nbsp;with&nbsp;the&nbsp;recent&lt;br&gt;<br>
&gt;&nbsp;addition&nbsp;of&nbsp;version&nbsp;2.0&nbsp;support.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;*&nbsp;How&nbsp;complete&nbsp;is&nbsp;the&nbsp;version&nbsp;2.0&nbsp;support?&nbsp;I&nbsp;had&nbsp;actually&nbsp;tried&nbsp;some&nbsp;years&lt;br&gt;<br>
&gt;&nbsp;ago&nbsp;to&nbsp;add&nbsp;v2.0&nbsp;support,&nbsp;but&nbsp;gave&nbsp;up&nbsp;due&nbsp;to&nbsp;some&nbsp;issues&nbsp;I&nbsp;no&nbsp;longer&nbsp;fully&lt;br&gt;<br>
&gt;&nbsp;recall.&nbsp;Are&nbsp;there&nbsp;any&nbsp;known&nbsp;issues&nbsp;with&nbsp;the&nbsp;present&nbsp;implementation?&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;*&nbsp;I&nbsp;noticed&nbsp;that&nbsp;all&nbsp;results&nbsp;are&nbsp;wrapped&nbsp;in&nbsp;an&nbsp;array&nbsp;(see&nbsp;netstring&nbsp;version&lt;br&gt;<br>
&gt;&nbsp;at&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;https://github.com/oubiwann/txjsonrpc/blob/master/txjsonrpc/netstring/jsonrpc.py#L63-L64&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/oubiwann/txjsonrpc/blob/master/txjsonrpc/netstring/jsonrpc.py#L63-L64&lt;/a&gt;,&lt;br&gt;<br>
&gt;&nbsp;but&nbsp;the&nbsp;web&nbsp;implementation&nbsp;has&nbsp;the&nbsp;same&nbsp;code.).&nbsp;This&nbsp;seems&nbsp;odd,&nbsp;as&nbsp;a&nbsp;jsonrpc&lt;br&gt;<br>
&gt;&nbsp;result&nbsp;can&nbsp;be&nbsp;any&nbsp;valid&nbsp;json&nbsp;value,&nbsp;including&nbsp;a&nbsp;string,&nbsp;integer,&nbsp;array,&nbsp;or&lt;br&gt;<br>
&gt;&nbsp;dict.&nbsp;The&nbsp;result&nbsp;is&nbsp;that&nbsp;on&nbsp;the&nbsp;client&nbsp;end,&nbsp;what&nbsp;I&nbsp;return&nbsp;from&nbsp;the&nbsp;function&lt;br&gt;<br>
&gt;&nbsp;call&nbsp;as&nbsp;{&quot;a&quot;:&nbsp;&quot;b&quot;}&nbsp;is&nbsp;received&nbsp;as&nbsp;[{&quot;a&quot;:&nbsp;&quot;b&quot;}].&nbsp;Is&nbsp;there&nbsp;some&nbsp;reason&nbsp;for&lt;br&gt;<br>
&gt;&nbsp;this?&nbsp;Would&nbsp;a&nbsp;patch&nbsp;altering&nbsp;this&nbsp;behavior&nbsp;(perhaps&nbsp;optionally)&nbsp;be&nbsp;accepted?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;Absolutely!&lt;br&gt;<br>
&lt;br&gt;<br>
Be&nbsp;sure&nbsp;that&nbsp;your&nbsp;patch&nbsp;wouldn&#39;t&nbsp;break&nbsp;existing&nbsp;functionality&nbsp;(for&lt;br&gt;<br>
those&nbsp;that&nbsp;depend&nbsp;upon&nbsp;it)&nbsp;with&nbsp;unit&nbsp;tests&nbsp;for&nbsp;both&nbsp;cases.&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks,&lt;br&gt;<br>
&lt;br&gt;<br>
d&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
