<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;Glyph,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; &nbsp;Thank&nbsp;you&nbsp;so&nbsp;much&nbsp;for&nbsp;your&nbsp;detailed&nbsp;explanation.&nbsp;You&nbsp;are&nbsp;a&nbsp;life&nbsp;saver!&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Best,&lt;/div&gt;&lt;div&gt;Jessica&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2015-05-01&nbsp;3:39&nbsp;GMT+08:00&nbsp;Glyph&nbsp;Lefkowitz&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:glyph@twistedmatrix.com&quot;&nbsp;target=&quot;_blank&quot;&gt;glyph@twistedmatrix.com&lt;/a&gt;&gt;&lt;/span&gt;:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;style=&quot;word-wrap:break-word&quot;&gt;&lt;br&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;On&nbsp;Apr&nbsp;29,&nbsp;2015,&nbsp;at&nbsp;12:33&nbsp;AM,&nbsp;Jessica&nbsp;Tsui&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:jesadjust@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;jesadjust@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi,&nbsp;it&#39;s&nbsp;me&nbsp;again.&nbsp;I&nbsp;am&nbsp;still&nbsp;working&nbsp;on&nbsp;the&nbsp;kivy&nbsp;app,&nbsp;and&nbsp;now&nbsp;I&nbsp;am&nbsp;trying&nbsp;to&nbsp;add&nbsp;a&nbsp;function&nbsp;to&nbsp;the&nbsp;app&nbsp;-&nbsp;the&nbsp;server&nbsp;side&nbsp;has&nbsp;two&nbsp;seconds&nbsp;to&nbsp;decide&nbsp;if&nbsp;he&nbsp;wants&nbsp;to&nbsp;alter&nbsp;the&nbsp;original&nbsp;data&nbsp;sent&nbsp;from&nbsp;one&nbsp;client&nbsp;to&nbsp;other&nbsp;clients.&nbsp;If&nbsp;he&nbsp;would&nbsp;like&nbsp;to&nbsp;do&nbsp;so,&nbsp;he&nbsp;has&nbsp;to&nbsp;press&nbsp;a&nbsp;button.&nbsp;If&nbsp;he&nbsp;does&nbsp;not&nbsp;press&nbsp;the&nbsp;button&nbsp;in&nbsp;2&nbsp;seconds,&nbsp;the&nbsp;original&nbsp;data&nbsp;will&nbsp;be&nbsp;sent&nbsp;to&nbsp;other&nbsp;clients&nbsp;automatically.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Right&nbsp;now&nbsp;I&nbsp;am&nbsp;trying&nbsp;to&nbsp;achieve&nbsp;that&nbsp;with&nbsp;the&nbsp;following&nbsp;code&nbsp;-&nbsp;by&nbsp;calling&nbsp;the&nbsp;MultiClientEcho().dataReceived(msg,&nbsp;&quot;censored&quot;)&nbsp;line&nbsp;in&nbsp;the&nbsp;function&nbsp;as&nbsp;if&nbsp;MultiClientEcho&nbsp;received&nbsp;another&nbsp;data,&nbsp;however&nbsp;once&nbsp;i&nbsp;click&nbsp;the&nbsp;button,&nbsp;the&nbsp;program&nbsp;crashed&nbsp;and&nbsp;said&nbsp;(MultiClientEcho().dataReceived(msg,&nbsp;&quot;censored&quot;)&lt;/div&gt;&lt;div&gt; TypeError:&nbsp;__init__()&nbsp;takes&nbsp;exactly&nbsp;3&nbsp;arguments&nbsp;(1&nbsp;given))&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/span&gt;&lt;div&gt;The&nbsp;first&nbsp;problem&nbsp;here&nbsp;is&nbsp;that&nbsp;&quot;MultiEchoClient()&quot;&nbsp;means&nbsp;&quot;create&nbsp;a&nbsp;&lt;i&gt;new&lt;/i&gt; MultiEchoClient&quot;. &nbsp;Since&nbsp;MultiEchoClient.__init__&nbsp;takes&nbsp;&quot;factory&quot;&nbsp;and&nbsp;&quot;app&quot;&nbsp;parameters,&nbsp;you&nbsp;tried&nbsp;to&nbsp;create&nbsp;it&nbsp;with&nbsp;1&nbsp;parameter&nbsp;(just&nbsp;&quot;self&quot;,&nbsp;which&nbsp;is&nbsp;passed&nbsp;implicitly)&nbsp;instead&nbsp;of&nbsp;the&nbsp;required&nbsp;3&nbsp;(self,&nbsp;factory,&nbsp;app).&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;second&nbsp;problem,&nbsp;once&nbsp;you&#39;ve&nbsp;addressed&nbsp;that,&nbsp;is&nbsp;that&nbsp;you&nbsp;almost&nbsp;certainly&nbsp;don&#39;t&nbsp;want&nbsp;to&nbsp;create&nbsp;a&nbsp;new&nbsp;MultiEchoClient&nbsp;:). &nbsp;It&#39;s&nbsp;not&nbsp;clear&nbsp;to&nbsp;me&nbsp;&lt;i&gt;which&lt;/i&gt; MultiEchoClient&nbsp;you&nbsp;are&nbsp;trying&nbsp;to&nbsp;send&nbsp;this&nbsp;message&nbsp;to.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;third&nbsp;problem&nbsp;is&nbsp;that&nbsp;you&nbsp;should&nbsp;never&nbsp;call&nbsp;dataReceived&nbsp;yourself.&nbsp; dataReceived&nbsp;is&nbsp;a&nbsp;method&nbsp;invoked&nbsp;by&nbsp;Twisted&nbsp;to&nbsp;tell&nbsp;your&nbsp;protocol&nbsp;that&nbsp;data&nbsp;has&nbsp;arrived.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;fourth&nbsp;problem&nbsp;is&nbsp;that&nbsp;you&#39;re&nbsp;treating&nbsp;dataReceived&nbsp;as&nbsp;delivering&nbsp;a&nbsp;discrete&nbsp;message. &nbsp;It&nbsp;doesn&#39;t;&nbsp;it&nbsp;delivers&nbsp;a&nbsp;segment&nbsp;of&nbsp;some&nbsp;data&nbsp;in&nbsp;the&nbsp;stream&nbsp;coming&nbsp;from&nbsp;a&nbsp;client. &nbsp;This&nbsp;is&nbsp;our&nbsp;most&nbsp;popular&nbsp;FAQ;&nbsp;basically,&nbsp;you&nbsp;need&nbsp;to&nbsp;use&nbsp;a&nbsp;NetstringReceiver&nbsp;or&nbsp;something&nbsp;to&nbsp;ensure&nbsp;you&#39;re&nbsp;getting&nbsp;complete&nbsp;messages&nbsp;in&nbsp;dataReceived: &lt;a&nbsp;href=&quot;https://twistedmatrix.com/trac/wiki/FrequentlyAskedQuestions#Whyisprotocol.dataReceivedcalledwithonlypartofthedataIcalledtransport.writewith&quot;&nbsp;target=&quot;_blank&quot;&gt;https://twistedmatrix.com/trac/wiki/FrequentlyAskedQuestions#Whyisprotocol.dataReceivedcalledwithonlypartofthedataIcalledtransport.writewith&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Hopefully&nbsp;once&nbsp;you&#39;ve&nbsp;addressed&nbsp;all&nbsp;these&nbsp;it&nbsp;will&nbsp;work&nbsp;more&nbsp;like&nbsp;you&nbsp;want&nbsp;it&nbsp;to&nbsp;:).&lt;/div&gt;&lt;span&nbsp;class=&quot;&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;I&nbsp;wonder&nbsp;how&nbsp;can&nbsp;I&nbsp;fix&nbsp;this&nbsp;and&nbsp;achieve&nbsp;the&nbsp;function&nbsp;I&nbsp;am&nbsp;aiming&nbsp;at?&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/span&gt;&lt;div&gt;I&#39;ve&nbsp;put&nbsp;other&nbsp;comments&nbsp;inline&nbsp;in&nbsp;the&nbsp;code&nbsp;below.&lt;/div&gt;&lt;span&nbsp;class=&quot;&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;pre&nbsp;style=&quot;color:rgb(155,194,142);font-family:Menlo;font-size:11pt;background-color:rgb(64,64,64)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;import&nbsp;&lt;/span&gt;kivy&lt;br&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;from&nbsp;&lt;/span&gt;kivy.app&nbsp;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;import&nbsp;&lt;/span&gt;App&lt;br&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;from&nbsp;&lt;/span&gt;kivy.uix.label&nbsp;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;import&nbsp;&lt;/span&gt;Label&lt;br&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;from&nbsp;&lt;/span&gt;kivy.uix.scatter&nbsp;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;import&nbsp;&lt;/span&gt;Scatter&lt;br&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;from&nbsp;&lt;/span&gt;kivy.uix.boxlayout&nbsp;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;import&nbsp;&lt;/span&gt;BoxLayout&lt;br&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;from&nbsp;&lt;/span&gt;kivy.uix.scrollview&nbsp;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;import&nbsp;&lt;/span&gt;ScrollView&lt;br&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;from&nbsp;&lt;/span&gt;kivy.uix.button&nbsp;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;import&nbsp;&lt;/span&gt;Button&lt;br&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;from&nbsp;&lt;/span&gt;kivy.graphics.vertex_instructions&nbsp;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;import&nbsp;&lt;/span&gt;Rectangle&lt;br&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;from&nbsp;&lt;/span&gt;kivy.graphics.context_instructions&nbsp;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;import&nbsp;&lt;/span&gt;Color&lt;br&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;from&nbsp;&lt;/span&gt;kivy.graphics.instructions&nbsp;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;import&nbsp;&lt;/span&gt;Instruction&lt;br&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;from&nbsp;&lt;/span&gt;kivy.base&nbsp;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;import&nbsp;&lt;/span&gt;runTouchApp&lt;br&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;from&nbsp;&lt;/span&gt;kivy.lang&nbsp;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;import&nbsp;&lt;/span&gt;Builder&lt;br&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;import&nbsp;&lt;/span&gt;socket&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/span&gt;&lt;div&gt;You&nbsp;don&#39;t&nbsp;actually&nbsp;use&nbsp;&quot;socket&quot;&nbsp;anywhere&nbsp;in&nbsp;this&nbsp;module&nbsp;so&nbsp;you&nbsp;don&#39;t&nbsp;need&nbsp;to&nbsp;import&nbsp;it&nbsp;:).&lt;/div&gt;&lt;span&nbsp;class=&quot;&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;pre&nbsp;style=&quot;color:rgb(155,194,142);font-family:Menlo;font-size:11pt;background-color:rgb(64,64,64)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;from&nbsp;&lt;/span&gt;kivy.core.window&nbsp;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;import&nbsp;&lt;/span&gt;Window&lt;br&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;import&nbsp;&lt;/span&gt;pygame&lt;br&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;import&nbsp;&lt;/span&gt;random&lt;br&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;from&nbsp;&lt;/span&gt;kivy.support&nbsp;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;import&nbsp;&lt;/span&gt;install_twisted_reactor&lt;br&gt;install_twisted_reactor&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;()&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;from&nbsp;&lt;/span&gt;twisted.internet&nbsp;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;import&nbsp;&lt;/span&gt;protocol&lt;span&nbsp;style=&quot;color:rgb(204,120,50)&quot;&gt;,&nbsp;&lt;/span&gt;defer&lt;br&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;from&nbsp;&lt;/span&gt;time&nbsp;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;import&nbsp;&lt;/span&gt;sleep&lt;br&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;from&nbsp;&lt;/span&gt;twisted.internet&nbsp;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;import&nbsp;&lt;/span&gt;reactor&lt;span&nbsp;style=&quot;color:rgb(204,120,50)&quot;&gt;,&nbsp;&lt;/span&gt;task&lt;br&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;from&nbsp;&lt;/span&gt;twisted.protocols.basic&nbsp;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;import&nbsp;&lt;/span&gt;LineReceiver&lt;br&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;from&nbsp;&lt;/span&gt;twisted.internet.protocol&nbsp;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;import&nbsp;&lt;/span&gt;Protocol&lt;span&nbsp;style=&quot;color:rgb(204,120,50)&quot;&gt;,&nbsp;&lt;/span&gt;Factory&lt;br&gt;&lt;br&gt;censored&nbsp;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;=&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(249,113,187)&quot;&gt;0&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(249,113,187)&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;class&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;MultiClientEcho&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;(&lt;/span&gt;protocol.Protocol&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;)&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;:&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;def&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(131,214,241);font-weight:bold&quot;&gt;__init__&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;(&lt;/span&gt;self&lt;span&nbsp;style=&quot;color:rgb(204,120,50)&quot;&gt;,&nbsp;&lt;/span&gt;factory&lt;span&nbsp;style=&quot;color:rgb(204,120,50)&quot;&gt;,&nbsp;&lt;/span&gt;app&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;)&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;:&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;self.factory&nbsp;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;=&nbsp;&lt;/span&gt;factory&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.app&nbsp;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;=&nbsp;&lt;/span&gt;app&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;def&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;connectionMade&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;(&lt;/span&gt;self&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;)&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;:&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;self.factory.clients.append&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;(&lt;/span&gt;self&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;def&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;dataReceived&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;(&lt;/span&gt;self&lt;span&nbsp;style=&quot;color:rgb(204,120,50)&quot;&gt;,&nbsp;&lt;/span&gt;data&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;)&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;:&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;storedmessage&nbsp;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;=&nbsp;&lt;/span&gt;self.factory.app.handle_message&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;(&lt;/span&gt;data&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;global&nbsp;&lt;/span&gt;censored&lt;br&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/span&gt;Rather&nbsp;than&nbsp;making&nbsp;this&nbsp;a&nbsp;global&nbsp;variable,&nbsp;consider&nbsp;putting&nbsp;it&nbsp;(as&nbsp;with&nbsp;&quot;app&quot;&nbsp;and&nbsp;with&nbsp;&quot;clients&quot;)&nbsp;onto&nbsp;the&nbsp;factory,&nbsp;so&nbsp;you&nbsp;can&nbsp;instantiate&nbsp;multiple&nbsp;MultiClientEchoFactory&nbsp;instances&nbsp;in&nbsp;one&nbsp;process.&lt;span&nbsp;class=&quot;&quot;&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;pre&nbsp;style=&quot;color:rgb(155,194,142);font-family:Menlo;font-size:11pt;background-color:rgb(64,64,64)&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;def&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;f&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;(&lt;/span&gt;data&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;)&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;:&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;for&nbsp;&lt;/span&gt;client&nbsp;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;in&nbsp;&lt;/span&gt;self.factory.clients&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;:&lt;br&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/span&gt;&lt;div&gt;This&nbsp;is&nbsp;a&nbsp;bit&nbsp;too&nbsp;much&nbsp;indentation&nbsp;-&nbsp;you&nbsp;should&nbsp;stick&nbsp;to&nbsp;4&nbsp;spaces&nbsp;per&nbsp;indent&nbsp;for&nbsp;stylistic&nbsp;reasons&nbsp;:).&lt;/div&gt;&lt;span&nbsp;class=&quot;&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;pre&nbsp;style=&quot;color:rgb(155,194,142);font-family:Menlo;font-size:11pt;background-color:rgb(64,64,64)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;client.transport.write&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;(&lt;/span&gt;data&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;print&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(133,205,0);font-weight:bold&quot;&gt;&quot;this&nbsp;will&nbsp;run&nbsp;in&nbsp;1&nbsp;sec&nbsp;after&nbsp;it&#39;s&nbsp;scheduled:&nbsp;%s&quot;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;%&nbsp;&lt;/span&gt;data&lt;br&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;pre&nbsp;style=&quot;color:rgb(155,194,142);font-family:Menlo;font-size:11pt;background-color:rgb(64,64,64)&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;if&nbsp;&lt;/span&gt;censored&nbsp;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;==&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(249,113,187)&quot;&gt;0&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;and&nbsp;&lt;/span&gt;storedmessage&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;:&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;reactor.callLater&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;(&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(249,113,187)&quot;&gt;2&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(204,120,50)&quot;&gt;,&nbsp;&lt;/span&gt;f&lt;span&nbsp;style=&quot;color:rgb(204,120,50)&quot;&gt;,&nbsp;&lt;/span&gt;data&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/span&gt;&lt;div&gt;You&#39;re&nbsp;not&nbsp;hanging&nbsp;on&nbsp;to&nbsp;the&nbsp;result&nbsp;of&nbsp;this&nbsp;callLater&nbsp;call,&nbsp;which&nbsp;means&nbsp;you&nbsp;are&nbsp;giving&nbsp;up&nbsp;any&nbsp;way&nbsp;of&nbsp;stopping&nbsp;this&nbsp;call&nbsp;from&nbsp;happening&nbsp;in&nbsp;the&nbsp;future. &nbsp;If&nbsp;you&nbsp;want&nbsp;to&nbsp;allow&nbsp;the&nbsp;caller&nbsp;to&nbsp;cancel&nbsp;it,&nbsp;note&nbsp;that&nbsp;reactor.callLater&nbsp;returns&nbsp;an&nbsp;IDelayedCall,&nbsp;which&nbsp;has&nbsp;a&nbsp;&quot;cancel()&quot;&nbsp;method&nbsp;that&nbsp;stops&nbsp;it&nbsp;from&nbsp;happening&nbsp;if&nbsp;it&nbsp;hasn&#39;t&nbsp;happened&nbsp;yet. &nbsp;See&nbsp;the&nbsp;API&nbsp;documentation&nbsp;here; &lt;a&nbsp;href=&quot;https://twistedmatrix.com/documents/15.1.0/api/twisted.internet.interfaces.IReactorTime.callLater.html&quot;&nbsp;target=&quot;_blank&quot;&gt;https://twistedmatrix.com/documents/15.1.0/api/twisted.internet.interfaces.IReactorTime.callLater.html&lt;/a&gt; &lt;/div&gt;&lt;span&nbsp;class=&quot;&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;pre&nbsp;style=&quot;color:rgb(155,194,142);font-family:Menlo;font-size:11pt;background-color:rgb(64,64,64)&quot;&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,102,102)&quot;&gt;#&nbsp;client.transport.write(data)&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,102,102)&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;elif&nbsp;&lt;/span&gt;censored&nbsp;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;==&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(249,113,187)&quot;&gt;1&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;:&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;reactor.callLater&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;(&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(249,113,187)&quot;&gt;0&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(204,120,50)&quot;&gt;,&nbsp;&lt;/span&gt;f&lt;span&nbsp;style=&quot;color:rgb(204,120,50)&quot;&gt;,&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(133,205,0);font-weight:bold&quot;&gt;&#39;censored&#39;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;censored&nbsp;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;==&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(249,113,187)&quot;&gt;0&lt;br&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/span&gt;&lt;div&gt;I&nbsp;think&nbsp;maybe&nbsp;you&nbsp;mean&nbsp;&quot;censored&nbsp;=&nbsp;0&quot;&nbsp;here?&nbsp;&quot;censored&nbsp;==&nbsp;0&quot;&nbsp;just&nbsp;means&nbsp;&quot;compare&nbsp;censored&nbsp;to&nbsp;0&quot;&nbsp;which&nbsp;will&nbsp;create&nbsp;a&nbsp;True&nbsp;or&nbsp;False&nbsp;value&nbsp;but&nbsp;otherwise&nbsp;do&nbsp;nothing;&nbsp;in&nbsp;this&nbsp;context,&nbsp;it&nbsp;pretty&nbsp;much&nbsp;means&nbsp;&quot;do&nbsp;nothing&quot;.&lt;/div&gt;&lt;span&nbsp;class=&quot;&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;pre&nbsp;style=&quot;color:rgb(155,194,142);font-family:Menlo;font-size:11pt;background-color:rgb(64,64,64)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(249,113,187)&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(249,113,187)&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;def&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;connectionLost&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;(&lt;/span&gt;self&lt;span&nbsp;style=&quot;color:rgb(204,120,50)&quot;&gt;,&nbsp;&lt;/span&gt;reason&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;)&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;:&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;self.factory.clients.remove&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;(&lt;/span&gt;self&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;class&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;MultiClientEchoFactory&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;(&lt;/span&gt;protocol.Factory&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;)&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;:&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;protocol&nbsp;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;=&nbsp;&lt;/span&gt;MultiClientEcho&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;def&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(131,214,241);font-weight:bold&quot;&gt;__init__&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;(&lt;/span&gt;self&lt;span&nbsp;style=&quot;color:rgb(204,120,50)&quot;&gt;,&nbsp;&lt;/span&gt;app&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;)&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;:&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;self.clients&nbsp;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;=&nbsp;[]&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;self.app&nbsp;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;=&nbsp;&lt;/span&gt;app&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;def&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;buildProtocol&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;(&lt;/span&gt;self&lt;span&nbsp;style=&quot;color:rgb(204,120,50)&quot;&gt;,&nbsp;&lt;/span&gt;addr&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;)&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;:&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;return&nbsp;&lt;/span&gt;MultiClientEcho&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;(&lt;/span&gt;self&lt;span&nbsp;style=&quot;color:rgb(204,120,50)&quot;&gt;,&nbsp;&lt;/span&gt;self.app&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;class&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;ServerApp&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;(&lt;/span&gt;App&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;)&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;:&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;def&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;build&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;(&lt;/span&gt;self&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;)&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;:&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;self.label&nbsp;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;=&nbsp;&lt;/span&gt;Label&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;(&lt;/span&gt;text&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;=&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(133,205,0);font-weight:bold&quot;&gt;&quot;server&nbsp;started&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(0,255,0);font-weight:bold&quot;&gt;\n&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(133,205,0);font-weight:bold&quot;&gt;&quot;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;self.approve_btn&nbsp;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;=&nbsp;&lt;/span&gt;Button&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;(&lt;/span&gt;text&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;=&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(133,205,0);font-weight:bold&quot;&gt;&quot;approve&quot;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,102,102)&quot;&gt;#&nbsp;self.approve_btn.bind(on_release=self.send_message)&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,102,102)&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;self.banned_btn&nbsp;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;=&nbsp;&lt;/span&gt;Button&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;(&lt;/span&gt;text&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;=&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(133,205,0);font-weight:bold&quot;&gt;&quot;banned&quot;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;self.banned_btn.bind&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;(&lt;/span&gt;on_release&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;=&lt;/span&gt;self.banned_message&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;self.layout&nbsp;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;=&nbsp;&lt;/span&gt;BoxLayout&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;(&lt;/span&gt;orientation&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;=&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(133,205,0);font-weight:bold&quot;&gt;&#39;vertical&#39;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(204,120,50)&quot;&gt;,&nbsp;&lt;/span&gt;spacing&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;=&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(249,113,187)&quot;&gt;10&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;reactor.listenTCP&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;(&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(249,113,187)&quot;&gt;8000&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(204,120,50)&quot;&gt;,&nbsp;&lt;/span&gt;MultiClientEchoFactory&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;(&lt;/span&gt;self&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;))&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/span&gt;&lt;div&gt;Rather&nbsp;than&nbsp;calling&nbsp;listenTCP&nbsp;directly,&nbsp;you&nbsp;should&nbsp;be&nbsp;using&nbsp;some&nbsp;kind&nbsp;of&nbsp;Endpoint&nbsp;here;&nbsp;TCP4ServerEndpoint&nbsp;if&nbsp;you&nbsp;just&nbsp;want&nbsp;to&nbsp;hard&nbsp;code&nbsp;port&nbsp;8000,&nbsp;or&nbsp;serverFromString&nbsp;if&nbsp;you&nbsp;want&nbsp;to&nbsp;allow&nbsp;your&nbsp;user&nbsp;to&nbsp;customize&nbsp;it. &nbsp;See&nbsp;this&nbsp;document: &lt;a&nbsp;href=&quot;https://twistedmatrix.com/documents/15.1.0/core/howto/endpoints.html&quot;&nbsp;target=&quot;_blank&quot;&gt;https://twistedmatrix.com/documents/15.1.0/core/howto/endpoints.html&lt;/a&gt;&lt;/div&gt;&lt;span&nbsp;class=&quot;&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;pre&nbsp;style=&quot;color:rgb(155,194,142);font-family:Menlo;font-size:11pt;background-color:rgb(64,64,64)&quot;&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;self.layout.add_widget&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;(&lt;/span&gt;self.label&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;self.layout.add_widget&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;(&lt;/span&gt;self.banned_btn&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;return&nbsp;&lt;/span&gt;self.layout&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;def&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;banned_message&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;(&lt;/span&gt;self&lt;span&nbsp;style=&quot;color:rgb(204,120,50)&quot;&gt;,&nbsp;&lt;/span&gt;msg&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;)&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;:&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;global&nbsp;&lt;/span&gt;censored&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;censored&nbsp;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;=&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(249,113,187)&quot;&gt;1&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(249,113,187)&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;self.label.text&nbsp;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;+=&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(133,205,0);font-weight:bold&quot;&gt;&quot;censored&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(0,255,0);font-weight:bold&quot;&gt;\n&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(133,205,0);font-weight:bold&quot;&gt;&quot;&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(133,205,0);font-weight:bold&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;MultiClientEcho&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;()&lt;/span&gt;.dataReceived&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;(&lt;/span&gt;msg&lt;span&nbsp;style=&quot;color:rgb(204,120,50)&quot;&gt;,&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(133,205,0);font-weight:bold&quot;&gt;&quot;censored&quot;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;print&nbsp;&lt;/span&gt;censored&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;return&nbsp;&lt;/span&gt;censored&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;def&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;handle_message&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;(&lt;/span&gt;self&lt;span&nbsp;style=&quot;color:rgb(204,120,50)&quot;&gt;,&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;background-color:rgb(228,228,255)&quot;&gt;msg&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;)&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;:&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;self.label.text&nbsp;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;+=&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(133,205,0);font-weight:bold&quot;&gt;&quot;%s&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(0,255,0);font-weight:bold&quot;&gt;\n&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(133,205,0);font-weight:bold&quot;&gt;&quot;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;%&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;background-color:rgb(228,228,255)&quot;&gt;msg&lt;/span&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;return&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;background-color:rgb(228,228,255)&quot;&gt;msg&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;if&nbsp;&lt;/span&gt;__name__&nbsp;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;==&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(133,205,0);font-weight:bold&quot;&gt;&#39;__main__&#39;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;:&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;ServerApp&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;()&lt;/span&gt;.run&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;()&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;for&nbsp;&lt;/span&gt;i&nbsp;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;in&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(0,204,204)&quot;&gt;range&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;(&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(249,113,187)&quot;&gt;0&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(204,120,50)&quot;&gt;,&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(249,113,187)&quot;&gt;1&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;)&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;:&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(204,153,0);font-weight:bold&quot;&gt;print&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(249,113,187)&quot;&gt;1&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(255,255,255);font-weight:bold&quot;&gt;-&lt;/span&gt;i&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;sleep&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;(&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(249,113,187)&quot;&gt;0.1&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;again&nbsp;for&nbsp;using&nbsp;Twisted!&lt;/div&gt;&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-g&lt;/div&gt;&lt;br&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;br&gt;_______________________________________________&lt;br&gt;<br>
Twisted-Python&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Twisted-Python@twistedmatrix.com&quot;&gt;Twisted-Python@twistedmatrix.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
