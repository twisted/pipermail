<tt>
Hi&nbsp;all,&lt;br&gt;&lt;br&gt;thanks&nbsp;your&nbsp;suggestions&nbsp;are&nbsp;very&nbsp;helpfull&nbsp;and&nbsp;I&nbsp;managed&nbsp;to&nbsp;have&nbsp;something&nbsp;resembling&nbsp;an&nbsp;integration&nbsp;test&nbsp;using&nbsp;Trial&nbsp;:-)&lt;br&gt;&lt;br&gt;Indeed&nbsp;the&nbsp;HTML&nbsp;version&nbsp;does&nbsp;not&nbsp;work&nbsp;for&nbsp;me&nbsp;either&nbsp;but&nbsp;the&nbsp;document&nbsp;still&nbsp;remains&nbsp;helpfull.&nbsp;So,&nbsp;is&nbsp;this&nbsp;documentation&nbsp;something&nbsp;going&nbsp;to&nbsp;be&nbsp;published&nbsp;sooner&nbsp;or&nbsp;later&nbsp;(as&nbsp;I&nbsp;see&nbsp;it&amp;#39;s&nbsp;in&nbsp;a&nbsp;branch)&nbsp;?&lt;br&gt;<br>
&lt;br&gt;Thank&nbsp;you.&nbsp;Regards,&lt;br&gt;Alessio&nbsp;Pace&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Mon,&nbsp;Jan&nbsp;26,&nbsp;2009&nbsp;at&nbsp;6:00&nbsp;PM,&nbsp;Martin&nbsp;Geisler&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:mg@daimi.au.dk&quot;&gt;mg@daimi.au.dk&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;Wj3C7c&quot;&gt;Alessio&nbsp;Pace&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:alessio.pace@gmail.com&quot;&gt;alessio.pace@gmail.com&lt;/a&gt;&amp;gt;&nbsp;writes:&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;gt;&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;put&nbsp;in&nbsp;my&nbsp;suite&nbsp;of&nbsp;tests&nbsp;some&nbsp;integration&nbsp;tests&nbsp;which&lt;br&gt;<br>
&amp;gt;&nbsp;deal&nbsp;with&nbsp;running&nbsp;some&nbsp;exchange&nbsp;of&nbsp;messages&nbsp;among&nbsp;2&nbsp;endpoints&nbsp;(bound&lt;br&gt;<br>
&amp;gt;&nbsp;locally&nbsp;on&nbsp;the&nbsp;same&nbsp;machine&nbsp;on&nbsp;2&nbsp;different&nbsp;ports).&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;I&nbsp;noticed&nbsp;(and&nbsp;read&nbsp;afterwards..)&nbsp;that&nbsp;I&nbsp;can&amp;#39;t&nbsp;run()/stop()&nbsp;the&lt;br&gt;<br>
&amp;gt;&nbsp;reactor&nbsp;multiple&nbsp;times,&nbsp;so&nbsp;I&nbsp;was&nbsp;wondering&nbsp;what&amp;#39;s&nbsp;the&nbsp;suggested&nbsp;way&nbsp;to&lt;br&gt;<br>
&amp;gt;&nbsp;deal&nbsp;with&nbsp;this&nbsp;kind&nbsp;of&nbsp;situation.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Sorry&nbsp;if&nbsp;perhaps&nbsp;it&nbsp;is&nbsp;documented&nbsp;somewhere&nbsp;on&nbsp;the&nbsp;Twisted&nbsp;doc&nbsp;but&lt;br&gt;<br>
&amp;gt;&nbsp;apart&nbsp;from&nbsp;the&nbsp;mention&nbsp;to&nbsp;&amp;quot;Trial&amp;quot;&nbsp;(which&nbsp;I&amp;#39;m&nbsp;not&nbsp;sure&nbsp;responds&nbsp;to&nbsp;my&lt;br&gt;<br>
&amp;gt;&nbsp;needs)&nbsp;I&nbsp;haven&amp;#39;t&nbsp;found&nbsp;much.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;Trial&nbsp;is&nbsp;what&nbsp;you&nbsp;want,&nbsp;it&nbsp;knows&nbsp;how&nbsp;to&nbsp;deal&nbsp;with&nbsp;the&nbsp;Deferreds&nbsp;you&nbsp;are&lt;br&gt;<br>
likely&nbsp;to&nbsp;return&nbsp;from&nbsp;your&nbsp;tests.&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;point&nbsp;is&nbsp;that&nbsp;you&nbsp;can&nbsp;do&nbsp;stuff&nbsp;like&nbsp;this&nbsp;where&nbsp;getPage&nbsp;is&nbsp;a&nbsp;function&lt;br&gt;<br>
which&nbsp;returns&nbsp;a&nbsp;Deferred:&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp;&amp;nbsp;def&nbsp;test_something(self):&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;p&nbsp;=&nbsp;getPage(&amp;quot;&lt;a&nbsp;href=&quot;http://example.com/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://example.com/&lt;/a&gt;&amp;quot;)&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;p.addCallback(self.assertEquals,&nbsp;&amp;quot;&amp;lt;html&amp;gt;...&amp;lt;/html&amp;gt;&amp;quot;)&lt;br&gt;<br>
&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;return&nbsp;p&lt;br&gt;<br>
&lt;br&gt;<br>
When&nbsp;you&nbsp;return&nbsp;p&nbsp;from&nbsp;the&nbsp;test,&nbsp;the&nbsp;reactor&nbsp;will&nbsp;wait&nbsp;until&nbsp;p&nbsp;has&nbsp;fired&lt;br&gt;<br>
before&nbsp;starting&nbsp;the&nbsp;next&nbsp;test.&nbsp;When&nbsp;p&nbsp;fires,&nbsp;the&nbsp;callbacks&nbsp;are&nbsp;executed&lt;br&gt;<br>
like&nbsp;normal,&nbsp;and&nbsp;here&nbsp;the&nbsp;callsback&nbsp;compares&nbsp;the&nbsp;HTML&nbsp;retrieved&nbsp;with&nbsp;the&lt;br&gt;<br>
expected&nbsp;content.&nbsp;If&nbsp;p&nbsp;does&nbsp;not&nbsp;fire&nbsp;within&nbsp;a&nbsp;given&nbsp;timeout&nbsp;(120&nbsp;seconds&lt;br&gt;<br>
by&nbsp;default,&nbsp;I&nbsp;think)&nbsp;the&nbsp;reactor&nbsp;will&nbsp;declare&nbsp;the&nbsp;test&nbsp;a&nbsp;failure.&lt;br&gt;<br>
&lt;br&gt;<br>
Take&nbsp;a&nbsp;look&nbsp;at&nbsp;the&nbsp;tutorial&nbsp;here:&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp;&amp;nbsp;&lt;a&nbsp;href=&quot;http://twistedmatrix.com/trac/browser/branches/trial-tutorial-2443/doc/core/howto/trial.xhtml&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twistedmatrix.com/trac/browser/branches/trial-tutorial-2443/doc/core/howto/trial.xhtml&lt;/a&gt;&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
Use&nbsp;the&nbsp;link&nbsp;for&nbsp;&amp;quot;Original&nbsp;Format&amp;quot;&nbsp;at&nbsp;the&nbsp;bottom&nbsp;to&nbsp;view&nbsp;as&nbsp;HTML,&nbsp;though&lt;br&gt;<br>
I&amp;#39;m&nbsp;getting&nbsp;an&nbsp;XML&nbsp;parse&nbsp;error&nbsp;from&nbsp;my&nbsp;browser&nbsp;when&nbsp;I&nbsp;do&nbsp;this.&lt;br&gt;<br>
&lt;br&gt;<br>
I&amp;#39;m&nbsp;using&nbsp;the&nbsp;twisted.protocols.loopback&nbsp;module&nbsp;for&nbsp;connecting&nbsp;several&lt;br&gt;<br>
parties&nbsp;with&nbsp;a&nbsp;pseudo-transport.&nbsp;This&nbsp;allows&nbsp;the&nbsp;testing&nbsp;code&nbsp;to&nbsp;behave&lt;br&gt;<br>
like&nbsp;in&nbsp;your&nbsp;normal&nbsp;application,&nbsp;but&nbsp;the&nbsp;communication&nbsp;is&nbsp;done&nbsp;with&lt;br&gt;<br>
function&nbsp;calls&nbsp;instead&nbsp;of&nbsp;actual&nbsp;network&nbsp;traffic.&lt;br&gt;<br>
&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
--&lt;br&gt;<br>
Martin&nbsp;Geisler&lt;br&gt;<br>
&lt;br&gt;<br>
VIFF&nbsp;(Virtual&nbsp;Ideal&nbsp;Functionality&nbsp;Framework)&nbsp;brings&nbsp;easy&nbsp;and&nbsp;efficient&lt;br&gt;<br>
SMPC&nbsp;(Secure&nbsp;Multiparty&nbsp;Computation)&nbsp;to&nbsp;Python.&nbsp;See:&nbsp;&lt;a&nbsp;href=&quot;http://viff.dk/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://viff.dk/&lt;/a&gt;.&lt;br&gt;<br>
&lt;/font&gt;&lt;br&gt;_______________________________________________&lt;br&gt;<br>
Twisted-Python&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Twisted-Python@twistedmatrix.com&quot;&gt;Twisted-Python@twistedmatrix.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
