<tt>
thanks&nbsp;jean-Pul.i&nbsp;can&nbsp;use&nbsp;commandline&nbsp;to&nbsp;intercat&nbsp;with&nbsp;server&nbsp;by&nbsp;the&nbsp;StandardIO.&lt;br&gt;it&#39;s&nbsp;so&nbsp;easy&nbsp;with&nbsp;it&nbsp;&lt;br&gt;&lt;br&gt;and&nbsp;there&nbsp;is&nbsp;a&nbsp;sample&nbsp;in&nbsp;Twisted&nbsp;NetWork&nbsp;Programming&nbsp;Essentials&lt;br&gt;&lt;br&gt;wow&lt;br&gt;&lt;br&gt;from&nbsp;twisted.internet&nbsp;import&nbsp;stdio,&nbsp;reactor,&nbsp;protocol&nbsp;<br>
&lt;br&gt;from&nbsp;twisted.protocols&nbsp;import&nbsp;basic&nbsp;<br>
&lt;br&gt;import&nbsp;re&nbsp;<br>
&lt;br&gt;&nbsp;<br>
&lt;br&gt;class&nbsp;DataForwardingProtocol(protocol.Protocol):&nbsp;<br>
&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;_&nbsp;_init_&nbsp;_(self):&nbsp;<br>
&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.output&nbsp;=&nbsp;None&nbsp;<br>
&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.normalizeNewlines&nbsp;=&nbsp;False&nbsp;<br>
&lt;br&gt;&nbsp;<br>
&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;dataReceived(self,&nbsp;data):&nbsp;<br>
&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.normalizeNewlines:&nbsp;<br>
&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data&nbsp;=&nbsp;re.sub(r&quot;(\r\n|\n)&quot;,&nbsp;&quot;\r\n&quot;,&nbsp;data)&nbsp;<br>
&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.output:&nbsp;<br>
&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.output.write(data)&nbsp;<br>
&lt;br&gt;&nbsp;<br>
&lt;br&gt;class&nbsp;StdioProxyProtocol(DataForwardingProtocol):&nbsp;<br>
&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;connectionMade(self):&nbsp;<br>
&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputForwarder&nbsp;=&nbsp;DataForwardingProtocol(&nbsp;)&nbsp;<br>
&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputForwarder.output&nbsp;=&nbsp;self.transport&nbsp;<br>
&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputForwarder.normalizeNewlines&nbsp;=&nbsp;True&nbsp;<br>
&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stdioWrapper&nbsp;=&nbsp;stdio.StandardIO(inputForwarder)&nbsp;<br>
&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.output&nbsp;=&nbsp;stdioWrapper&nbsp;<br>
&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Connected&nbsp;to&nbsp;server.&nbsp;&nbsp;Press&nbsp;ctrl-C&nbsp;to&nbsp;close&nbsp;connection.&quot;&nbsp;<br>
&lt;br&gt;&nbsp;<br>
&lt;br&gt;class&nbsp;StdioProxyFactory(protocol.ClientFactory):&nbsp;<br>
&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;protocol&nbsp;=&nbsp;StdioProxyProtocol&nbsp;<br>
&lt;br&gt;&nbsp;<br>
&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;clientConnectionLost(self,&nbsp;transport,&nbsp;reason):&nbsp;<br>
&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reactor.stop(&nbsp;)&nbsp;<br>
&lt;br&gt;&nbsp;<br>
&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;clientConnectionFailed(self,&nbsp;transport,&nbsp;reason):&nbsp;<br>
&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;reason.getErrorMessage(&nbsp;)&nbsp;<br>
&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reactor.stop(&nbsp;)&nbsp;<br>
&lt;br&gt;&nbsp;<br>
&lt;br&gt;if&nbsp;__name__&nbsp;==&nbsp;&#39;_&nbsp;_main_&nbsp;_&#39;:&nbsp;<br>
&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;import&nbsp;sys&nbsp;<br>
&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;len(sys.argv)&nbsp;==&nbsp;3:&nbsp;<br>
&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Usage:&nbsp;%s&nbsp;host&nbsp;port&quot;&nbsp;%&nbsp;_&nbsp;_file_&nbsp;_&nbsp;<br>
&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sys.exit(1)&nbsp;<br>
&lt;br&gt;&nbsp;<br>
&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;reactor.connectTCP(sys.argv[1],&nbsp;int(sys.argv[2]),&nbsp;StdioProxyFactory(&nbsp;))&nbsp;<br>
&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;reactor.run(&nbsp;)&nbsp;<br>
&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;Dec&nbsp;2,&nbsp;2008&nbsp;at&nbsp;10:11&nbsp;PM,&nbsp;Jean-Paul&nbsp;Calderone&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:exarkun@divmod.com&quot;&gt;exarkun@divmod.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;Wj3C7c&quot;&gt;On&nbsp;Tue,&nbsp;2&nbsp;Dec&nbsp;2008&nbsp;21:38:18&nbsp;+0800,&nbsp;lei&nbsp;ren&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:reynold.lei@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;reynold.lei@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
hello&nbsp;,everybody:&lt;br&gt;<br>
&nbsp;&nbsp;i&nbsp;am&nbsp;a&nbsp;new&nbsp;to&nbsp;use&nbsp;the&nbsp;twisted.&nbsp;i&nbsp;woul&#39;d&nbsp;like&nbsp;to&nbsp;complete&nbsp;a&nbsp;WEBGAME&nbsp;with&lt;br&gt;<br>
it.but&nbsp;i&nbsp;have&nbsp;a&nbsp;problem&nbsp;for&nbsp;the&nbsp;twisted&lt;br&gt;<br>
i&nbsp;have&nbsp;complete&nbsp;the&nbsp;server&nbsp;,and&nbsp;the&nbsp;simple&nbsp;client.but&nbsp;,i&nbsp;want&nbsp;to&nbsp;the&nbsp;client&lt;br&gt;<br>
have&nbsp;more&nbsp;function.&nbsp;one&nbsp;is&nbsp;let&nbsp;the&nbsp;usr&nbsp;input&nbsp;some&nbsp;command&nbsp;to&nbsp;the&nbsp;server&lt;br&gt;<br>
but&nbsp;when&nbsp;i&nbsp;write&nbsp;the&nbsp;code&nbsp;,i&nbsp;found&nbsp;it&#39;s&nbsp;hard&nbsp;,if&nbsp;i&nbsp;want&nbsp;to&nbsp;get&nbsp;the&nbsp;user&#39;s&lt;br&gt;<br>
input&nbsp;with&nbsp;raw_input()&nbsp;in&nbsp;a&nbsp;while&nbsp;loop,but&nbsp;it&nbsp;will&nbsp;block&nbsp;to&nbsp;wait&nbsp;the&nbsp;user&#39;&lt;br&gt;<br>
input&lt;br&gt;<br>
what&nbsp;can&nbsp;i&nbsp;do&nbsp;for&nbsp;this&nbsp;.use&nbsp;thread?&nbsp;of&nbsp;twisted&nbsp;have&nbsp;some&nbsp;more&nbsp;power&nbsp;feature&lt;br&gt;<br>
for&nbsp;the&nbsp;problem,,thank&nbsp;you&nbsp;every&nbsp;body&lt;br&gt;<br>
&lt;br&gt;<br>
ps:the&nbsp;problem&nbsp;like&nbsp;a&nbsp;MUD&nbsp;game&nbsp;,user&nbsp;can&nbsp;send&nbsp;the&nbsp;command&nbsp;to&nbsp;the&nbsp;server&nbsp;and&lt;br&gt;<br>
reveive&nbsp;the&nbsp;message&nbsp;from&nbsp;server&nbsp;.and&nbsp;the&nbsp;user&nbsp;can&nbsp;send&nbsp;command&nbsp;everytime&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>
The&nbsp;way&nbsp;to&nbsp;read&nbsp;from&nbsp;stdin&nbsp;without&nbsp;blocking&nbsp;the&nbsp;reactor&nbsp;is&nbsp;to&nbsp;use&lt;br&gt;<br>
twisted.internet.stdio.StandardIO,&nbsp;a&nbsp;transport&nbsp;which&nbsp;lets&nbsp;a&nbsp;protocol&lt;br&gt;<br>
interact&nbsp;with&nbsp;standard&nbsp;in&nbsp;and&nbsp;standard&nbsp;out.&lt;br&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;<br>
&lt;br&gt;<br>
Jean-Paul&lt;/font&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;Wj3C7c&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Twisted-Python&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Twisted-Python@twistedmatrix.com&quot;&nbsp;target=&quot;_blank&quot;&gt;Twisted-Python@twistedmatrix.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
