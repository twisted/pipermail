from twisted.internet.protocol import Protocol
import twisted.internet.error
from simpleprotos import SimpleClientFactory
factory = SimpleClientFactory()

# open a large nonsense file to send (18KB)
f = file('builder.dat')
data = f.read()
print len(data)
f.close()

from twisted.internet import reactor
reactor.connectTCP('127.0.0.1', 10000, factory)
reactor.callLater(1.0, factory.sendMessage, data)
reactor.run()


