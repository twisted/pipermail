<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;Transitional//EN&quot;&gt;<br>
&lt;HTML&gt;&lt;HEAD&gt;<br>
&lt;META&nbsp;http-equiv=Content-Type&nbsp;content=&quot;text/html;&nbsp;charset=iso-8859-1&quot;&gt;<br>
&lt;META&nbsp;content=&quot;MSHTML&nbsp;6.00.2800.1276&quot;&nbsp;name=GENERATOR&gt;<br>
&lt;STYLE&gt;&lt;/STYLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&nbsp;bgColor=#ffffff&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Tahoma&nbsp;size=2&gt;Hi&nbsp;there.&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Tahoma&nbsp;size=2&gt;I&nbsp;am&nbsp;writing&nbsp;a&nbsp;file&nbsp;transfer&nbsp;program&nbsp;using&nbsp;twisted&nbsp;<br>
as&nbsp;my&nbsp;framework.&nbsp;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Tahoma&nbsp;size=2&gt;I&nbsp;have&nbsp;been&nbsp;having&nbsp;some&nbsp;problems&nbsp;as&nbsp;far&nbsp;as&nbsp;memory&nbsp;<br>
usage&nbsp;is&nbsp;concerned&nbsp;(i.e.&nbsp;both&nbsp;client&nbsp;and&nbsp;server&nbsp;just&nbsp;eat&nbsp;through&nbsp;<br>
available&nbsp;memory&nbsp;without&nbsp;ever&nbsp;releasing&nbsp;it&nbsp;back&nbsp;to&nbsp;the&nbsp;kernel&nbsp;while&nbsp;transfering&nbsp;<br>
data).&nbsp;I&nbsp;am&nbsp;aware&nbsp;that&nbsp;in&nbsp;theory,&nbsp;the&nbsp;client&nbsp;and&nbsp;server&nbsp;will&nbsp;consume&nbsp;at&nbsp;least&nbsp;as&nbsp;<br>
much&nbsp;memory&nbsp;as&nbsp;the&nbsp;file&nbsp;to&nbsp;be&nbsp;transferred,&nbsp;but&nbsp;this&nbsp;memory&nbsp;should&nbsp;also&nbsp;be&nbsp;made&nbsp;<br>
available&nbsp;to&nbsp;the&nbsp;O/S&nbsp;after&nbsp;the&nbsp;operation&nbsp;has&nbsp;completed.&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Tahoma&nbsp;size=2&gt;I&nbsp;also&nbsp;use&nbsp;a&nbsp;garbage&nbsp;collector,&nbsp;which&nbsp;makes&nbsp;things&nbsp;<br>
just&nbsp;marginally&nbsp;better&nbsp;and&nbsp;the&nbsp;only&nbsp;TWISTED&nbsp;operations&nbsp;I&nbsp;use&nbsp;are&nbsp;a&nbsp;few&nbsp;<br>
transport&nbsp;write&nbsp;and&nbsp;callLater&nbsp;commands.&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Tahoma&nbsp;size=2&gt;The&nbsp;only&nbsp;culprits&nbsp;responsible&nbsp;for&nbsp;this&nbsp;I&nbsp;can&nbsp;<br>
imagine&nbsp;to&nbsp;be&nbsp;a&nbsp;difference&nbsp;between&nbsp;the&nbsp;hardcoded&nbsp;buffer&nbsp;sizes&nbsp;in&nbsp;TWISTED&nbsp;and&nbsp;the&nbsp;<br>
amount&nbsp;of&nbsp;data&nbsp;I&nbsp;send&nbsp;(I&nbsp;send&nbsp;64Kb&nbsp;of&nbsp;data&nbsp;per&nbsp;request&nbsp;for&nbsp;faster&nbsp;delivery&nbsp;in&nbsp;<br>
LANs)&nbsp;and/or&nbsp;possibly&nbsp;that&nbsp;this&nbsp;memory&nbsp;lost&nbsp;is&nbsp;in&nbsp;many&nbsp;small&nbsp;chunks&nbsp;of&nbsp;data&nbsp;--&nbsp;<br>
in&nbsp;this&nbsp;case&nbsp;no&nbsp;O/S&nbsp;can&nbsp;free&nbsp;this&nbsp;data,&nbsp;since&nbsp;there&nbsp;are&nbsp;always&nbsp;limits&nbsp;only&nbsp;above&nbsp;<br>
which&nbsp;the&nbsp;kernel&nbsp;will&nbsp;deem&nbsp;an&nbsp;amount&nbsp;of&nbsp;memory&nbsp;worth&nbsp;the&nbsp;trouble&nbsp;to&nbsp;be&nbsp;released&nbsp;<br>
(I&nbsp;think&nbsp;glibc&nbsp;has&nbsp;around&nbsp;a&nbsp;2MB&nbsp;limit)...&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Tahoma&nbsp;size=2&gt;As&nbsp;professional&nbsp;network&nbsp;programmers,&nbsp;do&nbsp;you&nbsp;<br>
believe&nbsp;my&nbsp;diagnosis&nbsp;is&nbsp;correct?&nbsp;Have&nbsp;you&nbsp;encountered&nbsp;such&nbsp;problems&nbsp;in&nbsp;the&nbsp;past?&nbsp;<br>
Are&nbsp;there&nbsp;workarounds&nbsp;for&nbsp;this?&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Tahoma&nbsp;size=2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Tahoma&nbsp;size=2&gt;Many&nbsp;thanks,&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Tahoma&nbsp;size=2&gt;&lt;/FONT&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Tahoma&nbsp;size=2&gt;Nick.&lt;/FONT&gt;&lt;/DIV&gt;&lt;/BODY&gt;&lt;/HTML&gt;<br>

</tt>
