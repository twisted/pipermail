<tt>
&lt;DIV&gt;I&nbsp;do&nbsp;hereby&nbsp;consigne&nbsp;all&nbsp;copyrights&nbsp;for&nbsp;this&nbsp;patch&nbsp;to&nbsp;Glyph,&nbsp;as&nbsp;required&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;by&nbsp;Twisted:&nbsp;&lt;A&nbsp;href=&quot;http://www.twistedmatrix.com/developers/contributing&quot;&gt;http://www.twistedmatrix.com/developers/contributing&lt;/A&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;Appologies&nbsp;for&nbsp;not&nbsp;using&nbsp;diff,&nbsp;but&nbsp;I&nbsp;am&nbsp;not&nbsp;yet&nbsp;able&nbsp;to&nbsp;download&nbsp;the&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;cygwin&nbsp;package.&nbsp;(perhaps&nbsp;Sunday&nbsp;bandwidth&nbsp;here&nbsp;will&nbsp;be&nbsp;better!)&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;The&nbsp;first&nbsp;part&nbsp;was&nbsp;developed&nbsp;by&nbsp;twisted:&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;callLater(self,&nbsp;_seconds,&nbsp;_f,&nbsp;*args,&nbsp;**kw):&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;See&nbsp;twisted.internet.interfaces.IReactorTime.callLater.&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert&nbsp;callable(_f),&nbsp;&quot;%s&nbsp;is&nbsp;not&nbsp;callable&quot;&nbsp;%&nbsp;_f&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert&nbsp;sys.maxint&nbsp;&gt;=&nbsp;_seconds&nbsp;&gt;=&nbsp;0,&nbsp;\&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;%s&nbsp;is&nbsp;not&nbsp;greater&nbsp;than&nbsp;or&nbsp;equal&nbsp;to&nbsp;0&nbsp;seconds&quot;&nbsp;%&nbsp;(_seconds,)&lt;BR&gt;#&nbsp;patch&nbsp;follows&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;BR&gt;#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tple&nbsp;=&nbsp;DelayedCall(seconds()&nbsp;+&nbsp;_seconds,&nbsp;_f,&nbsp;args,&nbsp;kw,&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;_seconds&nbsp;!=&nbsp;0:&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ttc&nbsp;=&nbsp;_seconds&nbsp;+&nbsp;seconds()&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;else:&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ttc&nbsp;=&nbsp;_seconds&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tple&nbsp;=&nbsp;DelayedCall(ttc,&nbsp;_f,&nbsp;args,&nbsp;kw,&lt;BR&gt;#&nbsp;end&nbsp;of&nbsp;patch&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self._pendingTimedCalls.remove,&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self._resetCallLater)&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;insort(self._pendingTimedCalls,&nbsp;tple)&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;tple&lt;BR&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;The&nbsp;second&nbsp;part&nbsp;is&nbsp;my&nbsp;contribution:&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;runUntilCurrent(self):&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Run&nbsp;all&nbsp;pending&nbsp;timed&nbsp;calls.&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.threadCallQueue:&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Keep&nbsp;track&nbsp;of&nbsp;how&nbsp;many&nbsp;calls&nbsp;we&nbsp;actually&nbsp;make,&nbsp;as&nbsp;we're&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;making&nbsp;them,&nbsp;in&nbsp;case&nbsp;another&nbsp;call&nbsp;is&nbsp;added&nbsp;to&nbsp;the&nbsp;queue&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;while&nbsp;we're&nbsp;in&nbsp;this&nbsp;loop.&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count&nbsp;=&nbsp;0&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(f,&nbsp;a,&nbsp;kw)&nbsp;in&nbsp;self.threadCallQueue:&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;try:&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f(*a,&nbsp;**kw)&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;log.err()&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count&nbsp;+=&nbsp;1&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;del&nbsp;self.threadCallQueue[:count]&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;now&nbsp;=&nbsp;seconds()&lt;BR&gt;#&nbsp;patch&nbsp;follows&lt;BR&gt;#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;self._pendingTimedCalls&nbsp;and&nbsp;(self._pendingTimedCalls[-1].time&nbsp;&lt;=&nbsp;now):&lt;BR&gt;#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call&nbsp;=&nbsp;self._pendingTimedCalls.pop()&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;do=[]&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while<br>
&nbsp;self._pendingTimedCalls&nbsp;and&nbsp;(self._pendingTimedCalls[-1].time&nbsp;&lt;=&nbsp;now):&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;do.append(self._pendingTimedCalls.pop())&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;call&nbsp;in&nbsp;do:&lt;BR&gt;#&nbsp;end&nbsp;of&nbsp;patch&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call.called&nbsp;=&nbsp;1&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call.func(*call.args,&nbsp;**call.kw)&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;log.deferr()&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;hasattr(call,<br>
&nbsp;&quot;creator&quot;):&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e&nbsp;=&nbsp;&quot;\n&quot;&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e&nbsp;+=&nbsp;&quot;&nbsp;C:&nbsp;previous&nbsp;exception&nbsp;occurred&nbsp;in&nbsp;&quot;&nbsp;+&nbsp;\&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;a&nbsp;DelayedCall&nbsp;created&nbsp;here:\n&quot;&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e&nbsp;+=&nbsp;&quot;&nbsp;C:&quot;&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e&nbsp;+=&nbsp;&quot;&quot;.join(call.creator).rstrip().replace(&quot;\n&quot;,&quot;\n&nbsp;C:&quot;)&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e&nbsp;+=<br>
&nbsp;&quot;\n&quot;&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;log.msg(e)&lt;BR&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;Sincerly,&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;&lt;BR&gt;&lt;BR&gt;Bill&nbsp;la&nbsp;Forge&lt;br&gt;http://www.geocities.com/laforge49/&lt;p&gt;&lt;font&nbsp;face=arial&nbsp;size=-1&gt;<br>
&lt;a&nbsp;href=&quot;http://in.rd.yahoo.com/specials/mailtg/*http://yahoo.shaadi.com/india-matrimony/&quot;&nbsp;target=&quot;_blank&quot;&gt;<br>
&lt;b&gt;Yahoo!&nbsp;India&nbsp;Matrimony&lt;/a&gt;:&lt;/b&gt;&nbsp;Find&nbsp;your&nbsp;partner&nbsp;<br>
&lt;a&nbsp;href=&quot;http://in.rd.yahoo.com/specials/mailtg2/*http://yahoo.shaadi.com/india-matrimony/community.php&quot;&nbsp;target=&quot;_blank&quot;&gt;online&lt;/a&gt;.&lt;/font&gt;
</tt>
