<tt>
&lt;font&nbsp;style=&quot;font-family:&nbsp;Arial,&nbsp;Helvetica,&nbsp;sans-serif;&nbsp;font-size:&nbsp;10pt&quot;&gt;&lt;font&nbsp;face=&quot;Tahoma,&nbsp;Arial,&nbsp;Sans-Serif&quot;&nbsp;size=&quot;2&quot;&gt;&lt;strong&gt;&lt;/strong&gt;&lt;/font&gt;&lt;font&nbsp;style=&quot;font-family:&nbsp;Arial,Helvetica,sans-serif;&nbsp;font-size:&nbsp;10pt;&quot;&gt;Using&nbsp;the&nbsp;current&nbsp;trunk&nbsp;r27366&nbsp;(which&nbsp;is&nbsp;after&nbsp;#4014&nbsp;fixed&nbsp;a&nbsp;related&nbsp;issue),&nbsp;I&nbsp;am&nbsp;having&nbsp;trouble&nbsp;with&nbsp;an&nbsp;implementation&nbsp;of&nbsp;web.guard&nbsp;wrapped&nbsp;XMLRPC.&nbsp;&nbsp;This&nbsp;is&nbsp;a&nbsp;new&nbsp;test&nbsp;implementation&nbsp;to&nbsp;expose&nbsp;both&nbsp;a&nbsp;soap&nbsp;and&nbsp;xmlrpc&nbsp;interface.&nbsp;&nbsp;SOAP&nbsp;works,&nbsp;but&nbsp;xmlrpc&nbsp;throws&nbsp;UnsupportedMethod&nbsp;POST.&lt;br&gt;&lt;br&gt;Here&nbsp;is&nbsp;my&nbsp;test&nbsp;code,&nbsp;can&nbsp;anybody&nbsp;tell&nbsp;me&nbsp;if&nbsp;im&nbsp;doing&nbsp;something&nbsp;wrong?&nbsp;&nbsp;Again,&nbsp;/soap&nbsp;works,&nbsp;but&nbsp;/rpc2&nbsp;freaks&nbsp;on&nbsp;the&nbsp;POST&nbsp;method&nbsp;being&nbsp;unavailable.&lt;br&gt;&lt;br&gt;######&nbsp;test-script.py&lt;br&gt;&lt;br&gt;from&nbsp;zope.interface&nbsp;import&nbsp;implements&lt;br&gt;from&nbsp;twisted.internet&nbsp;import&nbsp;reactor&lt;br&gt;from&nbsp;twisted.web.resource&nbsp;import&nbsp;IResource,&nbsp;Resource&lt;br&gt;from&nbsp;twisted.web&nbsp;import&nbsp;server,&nbsp;guard&lt;br&gt;from&nbsp;twisted.cred.portal&nbsp;import&nbsp;IRealm&lt;br&gt;from&nbsp;twisted.python&nbsp;import&nbsp;log&lt;br&gt;&lt;br&gt;from&nbsp;zope.interface&nbsp;import&nbsp;implements&lt;br&gt;&lt;br&gt;from&nbsp;twisted.python&nbsp;import&nbsp;log&lt;br&gt;from&nbsp;twisted.internet&nbsp;import&nbsp;reactor&lt;br&gt;from&nbsp;twisted.web&nbsp;import&nbsp;server,&nbsp;resource,&nbsp;guard,&nbsp;xmlrpc,&nbsp;soap&lt;br&gt;from&nbsp;twisted.cred.portal&nbsp;import&nbsp;IRealm,&nbsp;Portal&lt;br&gt;from&nbsp;twisted.cred.checkers&nbsp;import&nbsp;InMemoryUsernamePasswordDatabaseDontUse&lt;br&gt;&lt;br&gt;import&nbsp;sys&lt;br&gt;&lt;br&gt;def&nbsp;getQuote():&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&quot;Victory&nbsp;to&nbsp;the&nbsp;burgeois,&nbsp;you&nbsp;capitalist&nbsp;swine!&quot;&lt;br&gt;&lt;br&gt;class&nbsp;XMLRPCQuoter(xmlrpc.XMLRPC):&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;xmlrpc_quote(self):&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;getQuote()&lt;br&gt;&lt;br&gt;class&nbsp;SOAPQuoter(soap.SOAPPublisher):&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;soap_quote(self):&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;getQuote()&lt;br&gt;&lt;br&gt;class&nbsp;WebServicesRealm(object):&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;implements(IRealm)&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;requestAvatar(self,&nbsp;avatarId,&nbsp;mind,&nbsp;*interfaces):&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;resource.IResource&nbsp;in&nbsp;interfaces:&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node&nbsp;=&nbsp;resource.Resource()&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.putChild(&quot;rpc2&quot;,&nbsp;XMLRPCQuoter())&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.putChild(&quot;soap&quot;,&nbsp;SOAPQuoter())&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;resource.IResource,&nbsp;node,&nbsp;lambda:&nbsp;None&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;raise&nbsp;NotImplementedError()&lt;br&gt;&lt;br&gt;if&nbsp;__name__&nbsp;==&nbsp;&quot;__main__&quot;:&lt;br&gt;&nbsp;&nbsp;&nbsp;log.startLogging(sys.stdout)&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;checker&nbsp;=&nbsp;[InMemoryUsernamePasswordDatabaseDontUse(foo='bar')]&lt;br&gt;&nbsp;&nbsp;&nbsp;webServicesWrapper&nbsp;=&nbsp;guard.HTTPAuthSessionWrapper(Portal(WebServicesRealm(),&nbsp;checker),&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[guard.BasicCredentialFactory(&quot;test&quot;)])&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;reactor.listenTCP(9999,&nbsp;server.Site(webServicesWrapper))&lt;br&gt;&nbsp;&nbsp;&nbsp;reactor.run()&lt;br&gt;&lt;br&gt;######&lt;br&gt;&lt;br&gt;http://localhost:9999/soap&nbsp;*good*&lt;br&gt;http://localhost:9999/rpc2&nbsp;*bad;&nbsp;POST&nbsp;isnt&nbsp;an&nbsp;allowed&nbsp;method*&lt;br&gt;&lt;br&gt;Thanks,&lt;br&gt;&lt;br&gt;TWKiel&lt;br&gt;&lt;br&gt;&lt;/font&gt;&lt;br&gt;&lt;/font&gt;<br>

</tt>
