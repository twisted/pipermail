<tt>
Put&nbsp;self.dbcon&nbsp;in&nbsp;the&nbsp;MyFactory&nbsp;class.&nbsp;MyProtocol&nbsp;instances&nbsp;can&nbsp;access&nbsp;it&nbsp;via&nbsp;self.factory.&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;Mar&nbsp;24,&nbsp;2009&nbsp;at&nbsp;6:10&nbsp;PM,&nbsp;Pet&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:petshmidt@googlemail.com&quot;&gt;petshmidt@googlemail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;Hi,&lt;br&gt;<br>
&lt;br&gt;<br>
I&amp;#39;ve&nbsp;wrote&nbsp;an&nbsp;daemon&nbsp;which&nbsp;does&nbsp;some&nbsp;queries&nbsp;to&nbsp;db&nbsp;and&nbsp;sends&nbsp;response&lt;br&gt;<br>
back&nbsp;to&nbsp;client.&nbsp;Do&nbsp;I&nbsp;need&nbsp;to&nbsp;make&nbsp;for&nbsp;every&nbsp;request&nbsp;from&nbsp;client&nbsp;(new&lt;br&gt;<br>
instance&nbsp;of&nbsp; MyProtocol)&nbsp;a&nbsp;new&nbsp;connection&nbsp;to&nbsp;DB?&nbsp;Or&nbsp;can&nbsp;I&nbsp;somehow&lt;br&gt;<br>
prepare&nbsp;connection,&nbsp;so&nbsp;I&nbsp;could&nbsp;save&nbsp;some&nbsp;time?&nbsp;Maybe&nbsp;make&nbsp;connection&lt;br&gt;<br>
in&nbsp;Factory&nbsp;and&nbsp;pass&nbsp;it&nbsp;to&nbsp;Protocol?&nbsp;But&nbsp;what&nbsp;happens&nbsp;if&nbsp;too&nbsp;much&lt;br&gt;<br>
clients&nbsp;are&nbsp;connected&nbsp;to&nbsp;server?&nbsp;What&nbsp;is&nbsp;the&nbsp;way&nbsp;to&nbsp;control&nbsp;it?&lt;br&gt;<br>
&lt;br&gt;<br>
Regards,&nbsp;Pet&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
class&nbsp;MyProtocol(basic.LineReceiver):&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp; &nbsp; def&nbsp;__init__(self):&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; print&nbsp;&amp;quot;new&nbsp;connection&amp;quot;&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; self.dbcon&nbsp;=&nbsp;adbapi.ConnectionPool(&amp;quot;pyPgSQL.PgSQL&amp;quot;,&lt;br&gt;<br>
database=&amp;quot;data&amp;quot;,&nbsp;user=&amp;#39;pet&amp;#39;,&nbsp;host=&amp;#39;local&amp;#39;,&nbsp;password=&amp;#39;some&amp;#39;)&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
class&nbsp;MyFactory(protocol.ServerFactory):&lt;br&gt;<br>
&nbsp; &nbsp; protocol&nbsp;=&nbsp;MyProtocol&lt;br&gt;<br>
&lt;br&gt;<br>
class&nbsp;MyService(internet.TCPServer):&lt;br&gt;<br>
&nbsp; &nbsp; def&nbsp;__init__(self):&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; internet.TCPServer.__init__(self,PORT,MyFactory())&lt;br&gt;<br>
&lt;br&gt;<br>
def&nbsp;main():&lt;br&gt;<br>
&nbsp; &nbsp; reactor.listenTCP(PORT,&nbsp;MyFactory())&lt;br&gt;<br>
&nbsp; &nbsp; reactor.run()&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
if&nbsp;__name__&nbsp;==&nbsp;&amp;#39;__main__&amp;#39;:&lt;br&gt;<br>
&nbsp; &nbsp; main()&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Twisted-Python&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Twisted-Python@twistedmatrix.com&quot;&gt;Twisted-Python@twistedmatrix.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;br&gt;--&nbsp;&lt;br&gt;&lt;a&nbsp;href=&quot;http://www.alvinatorsplayground.blogspot.com/&quot;&gt;http://www.alvinatorsplayground.blogspot.com/&lt;/a&gt;&lt;br&gt;<br>

</tt>
