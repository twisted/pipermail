<tt>
Wow,&nbsp;I&nbsp;feel&nbsp;like&nbsp;an&nbsp;idiot&nbsp;now!&nbsp;&nbsp;I&nbsp;never&nbsp;thought&nbsp;to&nbsp;test&nbsp;that.&nbsp;&nbsp;Thank&nbsp;you&nbsp;so&nbsp;much!&lt;br&gt;&lt;br&gt;Is&nbsp;there&nbsp;any&nbsp;reason&nbsp;DNS&nbsp;would&nbsp;work&nbsp;in&nbsp;a&nbsp;standalone&nbsp;python&nbsp;app&nbsp;and&nbsp;when&nbsp;I&nbsp;embed&nbsp;the&nbsp;library&nbsp;via&nbsp;the&nbsp;C&nbsp;API&nbsp;dns&nbsp;stops&nbsp;working?&nbsp;&nbsp;Is&nbsp;there&nbsp;a&nbsp;library&nbsp;I&nbsp;should&nbsp;import&nbsp;to&nbsp;fix&nbsp;that?&lt;br&gt;<br>
&lt;br&gt;James&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;Dec&nbsp;4,&nbsp;2008&nbsp;at&nbsp;10:43&nbsp;AM,&nbsp;Jean-Paul&nbsp;Calderone&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:exarkun@divmod.com&quot;&gt;exarkun@divmod.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;Wj3C7c&quot;&gt;On&nbsp;Thu,&nbsp;4&nbsp;Dec&nbsp;2008&nbsp;10:28:46&nbsp;-0500,&nbsp;James&nbsp;Joplin&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:thejayjay@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;thejayjay@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
We&nbsp;have&nbsp;been&nbsp;using&nbsp;python&nbsp;embedded&nbsp;via&nbsp;the&nbsp;C&nbsp;API&nbsp;and&nbsp;have&nbsp;used&nbsp;Twisted&nbsp;for&lt;br&gt;<br>
various&nbsp;things.&nbsp;&nbsp;We&nbsp;have&nbsp;come&nbsp;across&nbsp;some&nbsp;strange&nbsp;behavior&nbsp;and&nbsp;I&nbsp;cannot&lt;br&gt;<br>
figure&nbsp;out&nbsp;what&nbsp;is&nbsp;going&nbsp;on.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
from&nbsp;twisted.internet&nbsp;import&nbsp;reactor&lt;br&gt;<br>
from&nbsp;twisted.web.client&nbsp;import&nbsp;downloadPage&lt;br&gt;<br>
&lt;br&gt;<br>
...&lt;br&gt;<br>
&lt;br&gt;<br>
def&nbsp;fetchRepo():&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;gameType,&nbsp;gameName,&nbsp;setupComplete,&nbsp;cp&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(setupComplete):&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;url&nbsp;=&nbsp;urlbase&nbsp;+&nbsp;&quot;/&quot;&nbsp;+&nbsp;gameType&nbsp;+&nbsp;&quot;/&quot;&nbsp;+&nbsp;gameName&nbsp;+&lt;br&gt;<br>
&quot;/repo.ini&quot;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;&quot;url&nbsp;is&nbsp;:&nbsp;&quot;&nbsp;+&nbsp;url&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d&nbsp;=&nbsp;downloadPage(url,&nbsp;&quot;C:\\svntest\\gamerepo.ini&quot;)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.addCallback(downloadSuccess)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.addErrback(downloadFailure)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#cp.readfp(open(&quot;C:\\game-repo.ini&quot;))&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;&quot;urls&nbsp;not&nbsp;setup,&nbsp;throw&nbsp;errors&nbsp;etc.&quot;&lt;br&gt;<br>
...&lt;br&gt;<br>
&lt;br&gt;<br>
This&nbsp;is&nbsp;an&nbsp;example&nbsp;of&nbsp;how&nbsp;we&nbsp;have&nbsp;been&nbsp;using&nbsp;downloadPage&nbsp;from&lt;br&gt;<br>
twisted.web.client.&nbsp;&nbsp;I&nbsp;have&nbsp;no&nbsp;problems&nbsp;getting&nbsp;the&nbsp;example&nbsp;to&nbsp;work&nbsp;when&nbsp;I&lt;br&gt;<br>
make&nbsp;a&nbsp;simple&nbsp;app&nbsp;or&nbsp;write&nbsp;the&nbsp;code&nbsp;into&nbsp;the&nbsp;intrepeter.&nbsp;&nbsp;But&nbsp;if&nbsp;I&nbsp;use&nbsp;it&lt;br&gt;<br>
inside&nbsp;my&nbsp;app&nbsp;I&nbsp;get&nbsp;the&nbsp;user&nbsp;timeout&nbsp;below.&lt;br&gt;<br>
&lt;br&gt;<br>
Unhandled&nbsp;error&nbsp;in&nbsp;Deferred:&lt;br&gt;<br>
Traceback&nbsp;(most&nbsp;recent&nbsp;call&nbsp;last):&lt;br&gt;<br>
Failure:&nbsp;twisted.internet.error.TimeoutError:&nbsp;User&nbsp;timeout&nbsp;caused&nbsp;connection&lt;br&gt;<br>
failure.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Am&nbsp;I&nbsp;forgetting&nbsp;something&nbsp;trivial?&nbsp;&nbsp;The&nbsp;reactor&nbsp;is&nbsp;running&nbsp;as&nbsp;we&nbsp;use&nbsp;PB&nbsp;for&lt;br&gt;<br>
database&nbsp;pooling.&nbsp;&nbsp;Can&nbsp;I&nbsp;not&nbsp;call&nbsp;downloadPage&nbsp;after&nbsp;a&nbsp;reactor&nbsp;is&nbsp;setup&nbsp;and&lt;br&gt;<br>
connected?&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>
Calling&nbsp;downloadPage&nbsp;after&nbsp;reactor.run&nbsp;is&nbsp;fine.&nbsp;&nbsp;I&#39;d&nbsp;take&nbsp;a&nbsp;look&nbsp;at&nbsp;DNS&nbsp;and&lt;br&gt;<br>
firewall&nbsp;settings&nbsp;for&nbsp;problems&nbsp;there.&lt;br&gt;<br>
&lt;br&gt;<br>
Jean-Paul&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Twisted-Python&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Twisted-Python@twistedmatrix.com&quot;&nbsp;target=&quot;_blank&quot;&gt;Twisted-Python@twistedmatrix.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
