<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi,&lt;div&gt;I&nbsp;am&nbsp;using&nbsp;Pika&#39;s&nbsp;asynchronous&nbsp;consumer&nbsp;implementation&nbsp;with&nbsp;Scrapy&nbsp;and&nbsp;Twisted.&nbsp;I&nbsp;have&nbsp;twisted&nbsp;reactor&nbsp;running&nbsp;on&nbsp;the&nbsp;main&nbsp;thread,&nbsp;and&nbsp;Rabbit&nbsp;consumer&nbsp;running&nbsp;on&nbsp;a&nbsp;background&nbsp;thread.&nbsp;When&nbsp;I&nbsp;get&nbsp;a&nbsp;message&nbsp;and&nbsp;want&nbsp;to&nbsp;start&nbsp;my&nbsp;spider,&nbsp;I&nbsp;use&nbsp;&#39;callFromThread&#39;&nbsp;to&nbsp;wake&nbsp;the&nbsp;reactor&nbsp;thread,&nbsp;init&nbsp;the&nbsp;spider&nbsp;and&nbsp;start&nbsp;crawling.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Alas,&nbsp;on&nbsp;high&nbsp;load&nbsp;of&nbsp;Q&nbsp;messages,&nbsp;I&nbsp;find&nbsp;that&nbsp;because&nbsp;&#39;callFromThread&#39;&nbsp;is&nbsp;called&nbsp;all&nbsp;the&nbsp;time,&nbsp;Scrapy&nbsp;does&nbsp;not&nbsp;start&nbsp;downloading&nbsp;until&nbsp;there&nbsp;is&nbsp;some&nbsp;&#39;break&#39;&nbsp;in&nbsp;these&nbsp;calls.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;am&nbsp;wondering&nbsp;what&nbsp;is&nbsp;the&nbsp;best&nbsp;approach&nbsp;to&nbsp;gain&nbsp;high&nbsp;scale&nbsp;with&nbsp;Scrapy,&nbsp;Twisted&nbsp;and&nbsp;RabbitMQ.&nbsp;Should&nbsp;I&nbsp;continue&nbsp;using&nbsp;the&nbsp;current&nbsp;design,&nbsp;and&nbsp;simply&nbsp;do&nbsp;some&nbsp;buffering&nbsp;or&nbsp;batching&nbsp;to&nbsp;reduce&nbsp;the&nbsp;&#39;callFromThread&#39;&nbsp;frequency?&nbsp;Perhaps&nbsp;I&nbsp;should&nbsp;use&nbsp;a&nbsp;synchronous&nbsp;design?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&lt;/div&gt;&lt;/div&gt;<br>

</tt>
