<tt>
I&nbsp;implement&nbsp;specific&nbsp;proxy&nbsp;server,&nbsp;so&nbsp;after&nbsp;analyze&nbsp;i&nbsp;think&nbsp;that&nbsp;this&nbsp;happens&nbsp;if&nbsp;client&nbsp;disconnected&nbsp;from&nbsp;server,&nbsp;but&nbsp;server&nbsp;already&nbsp;made&nbsp;connection&nbsp;to&nbsp;proxied&nbsp;service,&nbsp;so&nbsp;call&nbsp;resumeProducing()&nbsp;(in&nbsp;connectionMade&nbsp;),&nbsp;throws&nbsp;exception&nbsp;(because&nbsp;socket&nbsp;already&nbsp;closed) &nbsp;&amp;quot;file&nbsp;descriptor&nbsp;can&nbsp;not&nbsp;be&nbsp;a&nbsp;negative&nbsp;integer&nbsp;(-1)&amp;quot;&lt;br&gt;<br>
&lt;br&gt;So&nbsp;this&nbsp;looks&nbsp;like&nbsp;my&nbsp;bug&nbsp;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2010/9/20&nbsp;Glyph&nbsp;Lefkowitz&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:glyph@twistedmatrix.com&quot;&nbsp;target=&quot;_blank&quot;&gt;glyph@twistedmatrix.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
<br>
&lt;div&nbsp;style=&quot;word-wrap:&nbsp;break-word;&quot;&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;On&nbsp;Sep&nbsp;17,&nbsp;2010,&nbsp;at&nbsp;8:21&nbsp;PM,&nbsp;ruslan&nbsp;usifov&nbsp;wrote:&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;span&nbsp;style=&quot;border-collapse:&nbsp;separate;&nbsp;font-family:&nbsp;&amp;#39;Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono&amp;#39;;&nbsp;font-style:&nbsp;normal;&nbsp;font-variant:&nbsp;normal;&nbsp;font-weight:&nbsp;normal;&nbsp;letter-spacing:&nbsp;normal;&nbsp;line-height:&nbsp;normal;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;word-spacing:&nbsp;0px;&nbsp;font-size:&nbsp;medium;&quot;&gt;Its&nbsp;a&nbsp;simply&nbsp;fastcgi&nbsp;proxy,&nbsp;which&nbsp;reads&nbsp;all&nbsp;request(analize&nbsp;it,&nbsp;do&nbsp;some&nbsp;pending&nbsp;things&nbsp;and&nbsp;then&nbsp;proxy&nbsp;request&nbsp;to&nbsp;real&nbsp;worker)&lt;br&gt;<br>
<br>
&lt;/span&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;am&nbsp;very&nbsp;curious&nbsp;about&nbsp;your&nbsp;problem,&nbsp;but&nbsp;I&nbsp;cannot&nbsp;help&nbsp;you&nbsp;with&nbsp;it&nbsp;with&nbsp;the&nbsp;incomplete&nbsp;snippets&nbsp;you&nbsp;have&nbsp;provided.&nbsp; Can&nbsp;you&nbsp;reduce&nbsp;your&nbsp;program&nbsp;to&nbsp;a&nbsp;smaller&nbsp;test&nbsp;program&nbsp;that&nbsp;produces&nbsp;this&nbsp;traceback?&lt;/div&gt;<br>
<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Here&nbsp;is&nbsp;a&nbsp;guide&nbsp;to&nbsp;producing&nbsp;a&nbsp;useful&nbsp;example:&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;http://sscce.org/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://sscce.org/&lt;/a&gt;&amp;gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;span&nbsp;style=&quot;border-collapse:&nbsp;separate;&nbsp;font-family:&nbsp;&amp;#39;Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono&amp;#39;;&nbsp;font-style:&nbsp;normal;&nbsp;font-variant:&nbsp;normal;&nbsp;font-weight:&nbsp;normal;&nbsp;letter-spacing:&nbsp;normal;&nbsp;line-height:&nbsp;normal;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;word-spacing:&nbsp;0px;&nbsp;font-size:&nbsp;medium;&quot;&gt;Thank&nbsp;for&nbsp;your&nbsp;help.&lt;br&gt;<br>
<br>
&lt;/span&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;Thanks&nbsp;for&nbsp;reporting&nbsp;the&nbsp;bug.&nbsp; I&nbsp;hope&nbsp;you&nbsp;can&nbsp;provide&nbsp;us&nbsp;with&nbsp;enough&nbsp;information&nbsp;to&nbsp;get&nbsp;it&nbsp;fixed&nbsp;:).&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;span&nbsp;style=&quot;border-collapse:&nbsp;separate;&nbsp;font-family:&nbsp;&amp;#39;Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono&amp;#39;;&nbsp;font-style:&nbsp;normal;&nbsp;font-variant:&nbsp;normal;&nbsp;font-weight:&nbsp;normal;&nbsp;letter-spacing:&nbsp;normal;&nbsp;line-height:&nbsp;normal;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;word-spacing:&nbsp;0px;&nbsp;font-size:&nbsp;medium;&quot;&gt;PS:&nbsp;i&nbsp;use&nbsp;kqreactor.py&nbsp;from&nbsp;this&nbsp;branch&lt;span&gt; &lt;/span&gt;&lt;a&nbsp;href=&quot;http://twistedmatrix.com/trac/browser/branches/kqreactor-1918-3/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twistedmatrix.com/trac/browser/branches/kqreactor-1918-3/&lt;/a&gt;&lt;span&gt; &lt;/span&gt;&lt;br&gt;<br>
<br>
&lt;/span&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;you&nbsp;use&nbsp;the&nbsp;kqreactor.py&nbsp;from&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;http://trac.calendarserver.org/browser/CalendarServer/trunk/twext/internet/kqreactor.py&quot;&nbsp;target=&quot;_blank&quot;&gt;http://trac.calendarserver.org/browser/CalendarServer/trunk/twext/internet/kqreactor.py&lt;/a&gt;&amp;gt;,&nbsp;does&nbsp;it&nbsp;make&nbsp;any&nbsp;difference,&nbsp;or&nbsp;do&nbsp;you&nbsp;still&nbsp;see&nbsp;the&nbsp;same&nbsp;traceback?&lt;/div&gt;<br>
<br>
&lt;br&gt;&lt;/div&gt;&lt;br&gt;_______________________________________________&lt;br&gt;<br>
Twisted-Python&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:Twisted-Python@twistedmatrix.com&quot;&nbsp;target=&quot;_blank&quot;&gt;Twisted-Python@twistedmatrix.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
