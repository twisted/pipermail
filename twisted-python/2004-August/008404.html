<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] including plugins.tml in a package
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20including%20plugins.tml%20in%20a%20package&In-Reply-To=4120CAFB.1080608%40fettig.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008401.html">
   <LINK REL="Next"  HREF="008405.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] including plugins.tml in a package</H1>
    <B>Matt Goodall</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20including%20plugins.tml%20in%20a%20package&In-Reply-To=4120CAFB.1080608%40fettig.net"
       TITLE="[Twisted-Python] including plugins.tml in a package">matt at pollenation.net
       </A><BR>
    <I>Mon Aug 16 12:05:12 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="008401.html">[Twisted-Python] including plugins.tml in a package
</A></li>
        <LI>Next message: <A HREF="008405.html">[Twisted-Python] including plugins.tml in a package
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8404">[ date ]</a>
              <a href="thread.html#8404">[ thread ]</a>
              <a href="subject.html#8404">[ subject ]</a>
              <a href="author.html#8404">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 2004-08-16 at 15:55, Abe Fettig wrote:
&gt;<i> Hi folks,
</I>&gt;<i> 
</I>&gt;<i> It's come to my attention that my current Hep package for windows 
</I>&gt;<i> (packaged using bdist_win32) doesn't put the plugins.tml file where it 
</I>&gt;<i> should be (under site-packages/hep).  In googling around for a solution, 
</I>&gt;<i> I came across this post:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://twistedmatrix.com/pipermail/twisted-python/2002-October/001814.html">http://twistedmatrix.com/pipermail/twisted-python/2002-October/001814.html</A>
</I>&gt;<i> 
</I>&gt;<i> Which describes using an &quot;undocumented hack&quot; in distutils to get the 
</I>&gt;<i> plugins.tml in the right place.  Is that the correct way to do this?
</I>&gt;<i> 
</I>&gt;<i> Thanks,
</I>&gt;<i> Abe
</I>
Nevow tinkers with distutils to install a .css in amongst the Python
modules. Here's the config:

        from distutils.command import install
        from distutils.core import setup
        
        for scheme in install.INSTALL_SCHEMES.values():
            scheme['data'] = scheme['purelib']
        
        setup(
            author='Donavon Preston et al',
            author_email='<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">dp at divmod.org</A>',
            name='nevow',
            version='0.2pre',
            description='Web Application Framework',
            url='<A HREF="http://www.nevow.com/',">http://www.nevow.com/',</A>
        #    download_url='<A HREF="http://www.nevow.com/',">http://www.nevow.com/',</A>
            packages=['formless', 'nevow', 'nevow.flat', 'nevow.test'],
            data_files=[
                ['formless', ['formless/freeform-default.css']],
                ]
            )

I can't remember where that hack came from but all it does is change the
scheme(s) so that data files install to the same base directory as the
Python packages and modules. That's good enough for Nevow but you may
need something smarter.

Cheers, Matt

-- 
     __
    /  \__     Matt Goodall, Pollenation Internet Ltd
    \__/  \    w: <A HREF="http://www.pollenation.net">http://www.pollenation.net</A>
  __/  \__/    e: <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">matt at pollenation.net</A>
 /  \__/  \    t: +44 (0)113 2252500
 \__/  \__/
 /  \          Any views expressed are my own and do not necessarily
 \__/          reflect the views of my employer.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008401.html">[Twisted-Python] including plugins.tml in a package
</A></li>
	<LI>Next message: <A HREF="008405.html">[Twisted-Python] including plugins.tml in a package
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8404">[ date ]</a>
              <a href="thread.html#8404">[ thread ]</a>
              <a href="subject.html#8404">[ subject ]</a>
              <a href="author.html#8404">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
