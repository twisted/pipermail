<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] module interface checking tool
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20module%20interface%20checking%20tool&In-Reply-To=1092111809.26823.13.camel%40kazekage">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008322.html">
   <LINK REL="Next"  HREF="008324.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] module interface checking tool</H1>
    <B>Dave Peticolas</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20module%20interface%20checking%20tool&In-Reply-To=1092111809.26823.13.camel%40kazekage"
       TITLE="[Twisted-Python] module interface checking tool">dave at krondo.com
       </A><BR>
    <I>Tue Aug 10 01:03:40 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="008322.html">[Twisted-Python] module interface checking tool
</A></li>
        <LI>Next message: <A HREF="008324.html">[Twisted-Python] module interface checking tool
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8323">[ date ]</a>
              <a href="thread.html#8323">[ thread ]</a>
              <a href="subject.html#8323">[ subject ]</a>
              <a href="author.html#8323">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 2004-08-09 at 21:23, Glyph Lefkowitz wrote:
&gt;<i> On Mon, 2004-08-09 at 22:48, Dave Peticolas wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; On the subject of adbapi using t.i.threads._putResultInDeferred,
</I>&gt;<i> &gt; the latter function is useful for anyone managing their own threads.
</I>&gt;<i> &gt; Anyone object if it is renamed to putResultInDeferred and made
</I>&gt;<i> &gt; public?
</I>&gt;<i> 
</I>&gt;<i> Actually, yes, I would object.
</I>&gt;<i> 
</I>&gt;<i> It's a severe wart that adbapi uses t.p.threadpool directly; IIRC it's
</I>&gt;<i> one of the major issues with doing a proper reactor shut-down.  It
</I>&gt;<i> should be doing reactor.callInThread, not its own thread management.  I
</I>&gt;<i> will note that the API which uses it is simply a deferToThread clone.
</I>&gt;<i> 
</I>&gt;<i> All the thread-management logic in adbapi can easily be ported to use
</I>&gt;<i> t.i.threads.deferToThread and use logical task queue identifiers instead
</I>&gt;<i> of physical thread IDs.  If you agree, please create an issue in the
</I>&gt;<i> tracker for this.
</I>
I agree, with the caveat that the reactor threadpool size
adjustment api will need to be enhanced so that adbapi can
request more threads if the max connections is high, without
reducing threads if the max is low. suggestThreadPoolSize
is too crude to do that. Min threads probably needs to be
adjustable as well. Agreed?

dave




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008322.html">[Twisted-Python] module interface checking tool
</A></li>
	<LI>Next message: <A HREF="008324.html">[Twisted-Python] module interface checking tool
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8323">[ date ]</a>
              <a href="thread.html#8323">[ thread ]</a>
              <a href="subject.html#8323">[ subject ]</a>
              <a href="author.html#8323">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
