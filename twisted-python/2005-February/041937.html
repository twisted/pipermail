<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] HTTP client should be more tolerant?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20HTTP%20client%20should%20be%20more%20tolerant%3F&In-Reply-To=%3C7t3bwc3o2x.fsf%40fingon.iki.fi%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="041933.html">
   <LINK REL="Next"  HREF="041934.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] HTTP client should be more tolerant?</H1>
    <B>Markus Stenberg</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20HTTP%20client%20should%20be%20more%20tolerant%3F&In-Reply-To=%3C7t3bwc3o2x.fsf%40fingon.iki.fi%3E"
       TITLE="[Twisted-Python] HTTP client should be more tolerant?">fingon at iki.fi
       </A><BR>
    <I>Thu Feb  3 22:12:54 MST 2005</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="041933.html">[Twisted-Python] HTTP client should be more tolerant?
</A></li>
        <LI>Next message (by thread): <A HREF="041934.html">[Twisted-Python] HTTP client should be more tolerant?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41937">[ date ]</a>
              <a href="thread.html#41937">[ thread ]</a>
              <a href="subject.html#41937">[ subject ]</a>
              <a href="author.html#41937">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>James Y Knight &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">foom at fuhm.net</A>&gt; writes:
&gt;<i> On Feb 3, 2005, at 10:36 AM, Markus Stenberg wrote:
</I>&lt;snip&gt;
&gt;&gt;<i> Some UNIXish servers, while breaking RFC, seem to work on
</I>&gt;&gt;<i> browsers. I'd say
</I>&gt;&gt;<i> following this advice would be good, and therefore tuned my twisted
</I>&gt;&gt;<i> http
</I>&gt;&gt;<i> client to be 'tolerant' (all major and minor browsers that I am
</I>&gt;&gt;<i> aware of
</I>&gt;&gt;<i> are).
</I>&gt;<i> OMG. *What* evil server does that?
</I>
Offhand I can remember only some old ones, i.e. they have been fixed since
(some 'minimal web servers' in assorted languages were guilty of this,
mostly in the HTTP/1.0 and before days). But many, many CGI scripts are
broken that way still (because if you code on UNIX, and dump headers using
say, perl's print, you don't naturally use \r\n unless you really know the
standard, and unfortunately many CGI authors don't seem to. And web servers
usually dump the results out directly =&gt; corruption spreads.

&gt;&gt;<i> I'm also considering implementing HTTP/1.1 client. Has anyone done
</I>&gt;&gt;<i> anything about it? Thoughts? 'Give up, bad idea'?
</I>&gt;<i> Thought about it, but still working on the new HTTP server. (see
</I>&gt;<i> twisted.web2 in svn trunk). Hopefully a new client could reuse much of
</I>&gt;<i> the work for the new server (esp. header parsing/generation).
</I>
One could imagine that given correct header parsing/generation and request
parsing code (chunked de/encoding for example needs to be implemented in
both ends), it would be trivial. I'll take a look ;)

&gt;&gt;<i> I also rewrote the proxy for my local use a bit, mostly to make it more
</I>&gt;&gt;<i> component-oriented AND correct (currently HTTP/1.1 clients do not get
</I>&gt;&gt;<i> persistent service, which is inefficient). Unfortunately changes are
</I>&gt;&gt;<i> mixed
</I>&gt;&gt;<i> among some other code, but has there been any work on proxy recently?
</I>&gt;&gt;<i> I might have interest in submitting patch or two to make it more
</I>&gt;&gt;<i> correct in
</I>&gt;&gt;<i> some things.
</I>&gt;<i> A proxy should only be a small glue layer between the server and
</I>&gt;<i> client, so once those two are working well, a correctly operating
</I>&gt;<i> (non-caching) proxy should be pretty easy. A caching proxy, of course,
</I>&gt;<i> is a whole other project.
</I>
True. The tricky part is making it modular so that it can be extended
without say, subclassing whole set of classes (as is needed to change the
current twisted.web.proxy). Obviously, less clean hack of mutating the
static variables of classes that point to subclasses works to limited
degree too, but I avoid stuff like that.

&gt;<i> James
</I>
-Markus


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="041933.html">[Twisted-Python] HTTP client should be more tolerant?
</A></li>
	<LI>Next message (by thread): <A HREF="041934.html">[Twisted-Python] HTTP client should be more tolerant?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41937">[ date ]</a>
              <a href="thread.html#41937">[ thread ]</a>
              <a href="subject.html#41937">[ subject ]</a>
              <a href="author.html#41937">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
