<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: Persistence in browsers?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20Persistence%20in%20browsers%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009472.html">
   <LINK REL="Next"  HREF="009597.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: Persistence in browsers?</H1>
    <B>David Bolen</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Re%3A%20Persistence%20in%20browsers%3F&In-Reply-To="
       TITLE="[Twisted-Python] Re: Persistence in browsers?">db3l at fitlinxx.com
       </A><BR>
    <I>Mon Feb  7 12:30:38 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="009472.html">[Twisted-Python] Persistence in browsers?
</A></li>
        <LI>Next message: <A HREF="009597.html">[Twisted-Python] Re: Persistence in browsers?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9473">[ date ]</a>
              <a href="thread.html#9473">[ thread ]</a>
              <a href="subject.html#9473">[ subject ]</a>
              <a href="author.html#9473">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&quot;Tibi Dondera&quot; &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">incoming at pronet-romania.com</A>&gt; writes:

&gt;<i> Short version:
</I>&gt;<i> I have 10.000 - 100.000 web browsers that are connected to my site, and
</I>&gt;<i> I need to inform them __real-time__ (a max of 3-5 seconds delay) of an
</I>&gt;<i> event that happened on the server. Is twisted the right way to go, given
</I>&gt;<i> the fact that it promises asynchronous event handling ?
</I>
Independent of twisted versus other methods (which some other notes
have addressed), I think such a load is going to require that you
consider distributing your notification system.  For example,
notifying 100000 clients in 5 seconds is 20000 packets per second
being generated which is a non-trivial load on both a machine (not
quite sure you can hit this from application space on typical machines
even) and its corresponding bandwidth (say 64 byte packets including
protocol overhead would saturate a 10Mbit stream).

At the least you might try tiering your notification system - the code
running on your page would connect to one of a pool of servers
(ideally geographically distributed over the network or else backbone
latencies and bandwidths might become an issue), and those servers
would maintain a single connection back to a central server.  This
could be tiered multiple times for more efficiency or scaleability.

Then, your question really becomes one of what sort of fan-out factor
do you need to optimize notifications.  For example, the central
server(s) would notice the change, but only have to notify the next
tier (perhaps 10s of machines).  Those 10s of machines would either
each notify their own next tier, or directly notify a bunch of leaf
machines.

With this sort of structure, the number of individual clients that any
given &quot;node&quot; in the system has to support is far less and the system
can grow incrementally by first permitting the ratio of clients to
leaf nodes to increase, and then adding leaf nodes (or another tier)
when needed to suddenly bring that ratio back down.

-- David



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009472.html">[Twisted-Python] Persistence in browsers?
</A></li>
	<LI>Next message: <A HREF="009597.html">[Twisted-Python] Re: Persistence in browsers?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9473">[ date ]</a>
              <a href="thread.html#9473">[ thread ]</a>
              <a href="subject.html#9473">[ subject ]</a>
              <a href="author.html#9473">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
