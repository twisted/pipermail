<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Re: Both pb.Copyable and pb.RemoteCopy: How to use?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Re%3A%20Both%20pb.Copyable%20and%20pb.RemoteCopy%3A%20How%20to%20use%3F&In-Reply-To=%3Cuwttgwcq6.fsf%40fitlinxx.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="042018.html">
   <LINK REL="Next"  HREF="042099.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Re: Both pb.Copyable and pb.RemoteCopy: How to use?</H1>
    <B>David Bolen</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Re%3A%20Both%20pb.Copyable%20and%20pb.RemoteCopy%3A%20How%20to%20use%3F&In-Reply-To=%3Cuwttgwcq6.fsf%40fitlinxx.com%3E"
       TITLE="[Twisted-Python] Re: Both pb.Copyable and pb.RemoteCopy: How to use?">db3l at fitlinxx.com
       </A><BR>
    <I>Thu Feb 10 10:23:29 MST 2005</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="042018.html">[Twisted-Python] Both pb.Copyable and pb.RemoteCopy: How to use?
</A></li>
        <LI>Next message (by thread): <A HREF="042099.html">[Twisted-Python] Re: Both pb.Copyable and pb.RemoteCopy: How to	use?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42026">[ date ]</a>
              <a href="thread.html#42026">[ thread ]</a>
              <a href="subject.html#42026">[ subject ]</a>
              <a href="author.html#42026">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Steve Freitas &lt;<A HREF="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">sflist at ihonk.com</A>&gt; writes:

&gt;<i> I'm plugging through the pb docs, and a note says that if you want
</I>&gt;<i> to send an object over the wire in either direction, just make the
</I>&gt;<i> desired class inherit from both pb.Copyable and
</I>&gt;<i> pb.RemoteCopy. That's cool. But, what to do after that? Meaning,
</I>&gt;<i> only the sender can grab a root object (pb.Root), and so only the
</I>&gt;<i> sender can send jellyable objects out.
</I>
Not quite - jellyable objects may be used in any portion of the PB RPC
mechanism, originating on either side of the connection.

&gt;<i> I realize one answer to this would be to run a server on both sides,
</I>&gt;<i> but I'm in the situation where my client can contact my server, but
</I>&gt;<i> not the other way around. So, is it possible for the sender to
</I>&gt;<i> contact the receiver, and then for them to start swapping objects
</I>&gt;<i> willy nilly? (Note that the next place I'm going to take this is
</I>&gt;<i> pb.Cacheable, so beware. :-) )
</I>
Yes.  E.g., after the client connects, it may receive objects as part
of responses to queries, and those objects may be any flavor of
jellyable (copyable, cacheable, referenceable, etc...).  In turn, the
client can then use those objects as parameters for further calls to
the server.  In the case of copyable for example, this results in
another remote copy, in the case of referenceable the object reference
is sent and on the server side it actually receives a reference to the
original instance of the object that it first sent back to the client.
(Note that referenceables are only usable in this way within a single
session)

If the client sends over a referencable for something that it
originates, then the server may use that object to initiate
unsolicited calls back to the client, even though the client may have
formed the connection to the server in the first place.  That's why
the PB docs talk about a PB session really being peer-to-peer once
established as either side can initiate a request.

So you could, for example, have the client call a well-defined method
on the server root object (or any other server referenceable) to pass
on a useful reference that the server could then use for later calls.

The &quot;mind&quot; object in an authenticated PB session can also be useful as
it can provide access to a reference to the client that is
automatically provided on each call through that session.

One of the things I try to tell developers here is that while PB is
very capable and can appear daunting, it might help to realize how
simple (in the elegant sense) it is.  There's not really as much
&quot;magic&quot; going on as you might think, and once a session has been
established, everything is pretty symmetric in terms of what can be
done across that session.

-- David



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="042018.html">[Twisted-Python] Both pb.Copyable and pb.RemoteCopy: How to use?
</A></li>
	<LI>Next message (by thread): <A HREF="042099.html">[Twisted-Python] Re: Both pb.Copyable and pb.RemoteCopy: How to	use?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42026">[ date ]</a>
              <a href="thread.html#42026">[ thread ]</a>
              <a href="subject.html#42026">[ subject ]</a>
              <a href="author.html#42026">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
