<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Final request URI from an Agent response
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Final%20request%20URI%20from%20an%20Agent%20response&In-Reply-To=%3CF71D36BD91BA4621ABE0746F41D32C1B%40jsphere.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="059143.html">
   <LINK REL="Next"  HREF="059147.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Final request URI from an Agent response</H1>
    <B>Jonathan Jacobs</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Final%20request%20URI%20from%20an%20Agent%20response&In-Reply-To=%3CF71D36BD91BA4621ABE0746F41D32C1B%40jsphere.com%3E"
       TITLE="[Twisted-Python] Final request URI from an Agent response">jonathan+twisted at jsphere.com
       </A><BR>
    <I>Fri Mar 15 05:11:07 MDT 2013</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="059143.html">[Twisted-Python] Twisted BoF session
</A></li>
        <LI>Next message (by thread): <A HREF="059147.html">[Twisted-Python] Final request URI from an Agent response
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59142">[ date ]</a>
              <a href="thread.html#59142">[ thread ]</a>
              <a href="subject.html#59142">[ subject ]</a>
              <a href="author.html#59142">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Twisters, 

I'm interested in working on ticket #5435: The ability to discover the final URI of an Agent request/response. Thomas summarised a previous IRC conversation on this topic quite well in a comment on the ticket [1].

The biggest issue I've encountered so far is that Request.uri is a relative URI. Since it is not possible to reconstruct an absolute URI given the information that Request has, at the very least the URI scheme is lost, we have a few options:

* Allow Request.uri to be either an absolute URI or a relative URI byte string, however this means that consumers of this attribute need to be aware that it could be either;

* Add a new attribute/method to Request (and parameter to Request.__init__) for the absolute URI, again this means that consumers need to be aware that the absolute URI might not be present.

If we are to change Request's URI API, it would be a good idea to do this as few times as possible. (One seems like a good number to me.)

JP commented that it would be nice if there was an object that represented a URL we could use, referring to ticket #5388. And although I would love to see #5388 finished (and might even be persuaded to work on it), discussions with Itamar and reading ticket comments have left me weary of the many nuanced complexities of this task.

What are the thoughts on changing the meaning of Request.uri?

Should the IRI branch be finished before attempting this ticket? (Note that this doesn't necessarily include my volunteering.)


[1] &lt;<A HREF="https://twistedmatrix.com/trac/ticket/5435#comment:9">https://twistedmatrix.com/trac/ticket/5435#comment:9</A>&gt; 

-- 
Jonathan




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="059143.html">[Twisted-Python] Twisted BoF session
</A></li>
	<LI>Next message (by thread): <A HREF="059147.html">[Twisted-Python] Final request URI from an Agent response
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59142">[ date ]</a>
              <a href="thread.html#59142">[ thread ]</a>
              <a href="subject.html#59142">[ subject ]</a>
              <a href="author.html#59142">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
