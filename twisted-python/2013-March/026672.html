<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] logging in twisted based projects
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20logging%20in%20twisted%20based%20projects&In-Reply-To=CAFPU7%3DsH1Qf3Qps87cUXFspf7Wf%2BJp5M3%3DO_P3hQYtRPLD_3qA%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026670.html">
   <LINK REL="Next"  HREF="026673.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] logging in twisted based projects</H1>
    <B>exarkun at twistedmatrix.com</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20logging%20in%20twisted%20based%20projects&In-Reply-To=CAFPU7%3DsH1Qf3Qps87cUXFspf7Wf%2BJp5M3%3DO_P3hQYtRPLD_3qA%40mail.gmail.com"
       TITLE="[Twisted-Python] logging in twisted based projects">exarkun at twistedmatrix.com
       </A><BR>
    <I>Thu Mar 14 10:57:30 EDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026670.html">[Twisted-Python] logging in twisted based projects
</A></li>
        <LI>Next message: <A HREF="026673.html">[Twisted-Python] Twisted BoF session
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26672">[ date ]</a>
              <a href="thread.html#26672">[ thread ]</a>
              <a href="subject.html#26672">[ subject ]</a>
              <a href="author.html#26672">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 01:52 pm, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">stephen at thorne.id.au</A> wrote:
&gt;<i>It's also perfectly fine to use python's logging module from within
</I>&gt;<i>twisted, you don't have to use twisted.log, but you should be aware 
</I>&gt;<i>this
</I>&gt;<i>will make your log files hard to correlate (between twistd.log and your 
</I>&gt;<i>own
</I>&gt;<i>logfiles).
</I>
For posterity: within programs that *use* Twisted.

Please don't use it within code being contributed to Twisted itself. :)

Also, there is no such thing as &quot;twisted.log&quot;.  There is 
&quot;twisted.python.log&quot;.

Also, using stdlib logging doesn't necessarily force you to have two log 
files.  It sounds like Sergey already knows how to avoid this, since he 
mentioned PythonLoggingObserver which bridges twisted.python.log to 
stdlib logging.

Also, twisted.python.log doesn't prevent any filtering you might want to 
do, it just doesn't support it the same way the stdlib logging module 
does it.  If you want to filter log messages, a good way to do it is 
probably to write a log observer that implements your filtering logic 
and then passes any unfiltered messages to another log observer.  In 
this way you can apply filtering regardless of what ultimate observer 
you want to use.

For example:

    def makeLevelFilter(level, observer):
        def filter(event):
            if event.get(&quot;level&quot;, 0) &gt; level:
                return observer(event)
        return filter

    obs = FileLogObserver(...)
    addObserver(makeLevelFilter(7, obs.emit))

Jean-Paul
&gt;<i>
</I>&gt;<i>On Thu, Mar 14, 2013 at 10:05 AM, Sergey Gerasimov &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">sergun at gmail.com</A>&gt; 
</I>&gt;<i>wrote:
</I>&gt;&gt;<i>I&#8217;m implementing some project based on twisted.****
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>** **
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>I would like to use some logging mechanism in my modules and see both
</I>&gt;&gt;<i>twisted generated log records and log records from my modules****
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>and be able to filter log records by level and  source (generated by
</I>&gt;&gt;<i>twisted, or subset of my modules).****
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>** **
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>What should I do in this case?****
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Log with python logging module in my code and send log records 
</I>&gt;&gt;<i>generated
</I>&gt;&gt;<i>by twisted to PythonLoggingObserver? ****
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Or should I avoid using of python logging module and log only with 
</I>&gt;&gt;<i>twisted
</I>&gt;&gt;<i>logging module? I didn&#8217;t find features like filtering logs in twisted
</I>&gt;&gt;<i>logging.****
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>** **
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Am I right that twisted based log observer uses blocking i/o? 
</I>&gt;&gt;<i>Example:****
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>observer = log.FileLogObserver(sys.stdout) # sys.stdio.write used in
</I>&gt;&gt;<i>implementation****
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>** **
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>** **
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>_______________________________________________
</I>&gt;&gt;<i>Twisted-Python mailing list
</I>&gt;&gt;<i><A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">Twisted-Python at twistedmatrix.com</A>
</I>&gt;&gt;<i><A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python</A>
</I>&gt;<i>
</I>
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026670.html">[Twisted-Python] logging in twisted based projects
</A></li>
	<LI>Next message: <A HREF="026673.html">[Twisted-Python] Twisted BoF session
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26672">[ date ]</a>
              <a href="thread.html#26672">[ thread ]</a>
              <a href="subject.html#26672">[ subject ]</a>
              <a href="author.html#26672">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
