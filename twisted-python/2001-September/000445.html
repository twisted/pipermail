<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Questions about twisted.python.delay.Delayed
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Questions%20about%20twisted.python.delay.Delayed&In-Reply-To=20010930132056.A4019%40mattcamp.dyn.dhs.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000443.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Questions about twisted.python.delay.Delayed</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Questions%20about%20twisted.python.delay.Delayed&In-Reply-To=20010930132056.A4019%40mattcamp.dyn.dhs.org"
       TITLE="[Twisted-Python] Questions about twisted.python.delay.Delayed">glyph at twistedmatrix.com
       </A><BR>
    <I>Sun Sep 30 18:34:59 EDT 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="000443.html">[Twisted-Python] Questions about twisted.python.delay.Delayed
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#445">[ date ]</a>
              <a href="thread.html#445">[ thread ]</a>
              <a href="subject.html#445">[ subject ]</a>
              <a href="author.html#445">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sunday, September 30, 2001, at 01:20  PM, Matt Campbell wrote:

&gt;<i> I'm a relatively new user of Twisted (started using it in late August
</I>&gt;<i> to write a custom server), and I have a few questions about the
</I>&gt;<i> twisted.python.delay.Delayed class.
</I>
Welcome to the club!

&gt;<i> 1.  Why does Delayed measure time in units of five-second ticks by
</I>&gt;<i> default?
</I>
To highlight the fact that tick-time is not the same thing as 
real-time.  It's adjustable.

&gt;<i> 2.  Why is Delayed.run() called every five seconds or so even when there
</I>&gt;<i> are no delayed tasks scheduled?  Wouldn't the process's CPU usage be
</I>&gt;<i> slightly lower if Delayed.timeout() returned None when the queue is 
</I>&gt;<i> empty?
</I>
A Delayed is a simulation, which is advancing through time at some 
multipler of real time.  I originally intended that other kinds of 
scheduled callbacks would work differently, but it so happens that 
Delayed works really fulfill that whole requirement.

Your optimization sounds like a good idea, though.

&gt;<i> 3.  What is the recommended way to specify, for example, that a function
</I>&gt;<i> should be called approximately 30 seconds from now?  Should I pass 6 as
</I>&gt;<i> the number of ticks to Delayed.later(), or is there a better way to do 
</I>&gt;<i> it?
</I>
You should create your own Delayed for processing whatever type of 
events these are, and give it an appropriate ticktime.  If you have an 
event that happens every 30 seconds, make the ticktime 30, and use 
Delayed.loop with an argument of 1 to kick off your callback.

--
______      you are in a maze of twisted little applications, all
|<i>   |_\     remarkably consistent.
</I>|<i>     |          -- glyph lefkowitz, glyph @ twisted matrix . com
</I>|<i>_____|             <A HREF="http://www.twistedmatrix.com/">http://www.twistedmatrix.com/</A>
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000443.html">[Twisted-Python] Questions about twisted.python.delay.Delayed
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#445">[ date ]</a>
              <a href="thread.html#445">[ thread ]</a>
              <a href="subject.html#445">[ subject ]</a>
              <a href="author.html#445">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
