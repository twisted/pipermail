<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Compatibility issues with Twisted and OpenSSL	1.0.2f
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Compatibility%20issues%20with%20Twisted%20and%20OpenSSL%0A%091.0.2f&In-Reply-To=%3CCCF7499F-EBB4-4949-A22A-8238A207D005%40twistedmatrix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030135.html">
   <LINK REL="Next"  HREF="030128.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Compatibility issues with Twisted and OpenSSL	1.0.2f</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Compatibility%20issues%20with%20Twisted%20and%20OpenSSL%0A%091.0.2f&In-Reply-To=%3CCCF7499F-EBB4-4949-A22A-8238A207D005%40twistedmatrix.com%3E"
       TITLE="[Twisted-Python] Compatibility issues with Twisted and OpenSSL	1.0.2f">glyph at twistedmatrix.com
       </A><BR>
    <I>Sat Feb 13 13:32:40 MST 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="030135.html">[Twisted-Python] Compatibility issues with Twisted and OpenSSL	1.0.2f
</A></li>
        <LI>Next message: <A HREF="030128.html">[Twisted-Python] A little present for emacs / flycheck users
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30136">[ date ]</a>
              <a href="thread.html#30136">[ thread ]</a>
              <a href="subject.html#30136">[ subject ]</a>
              <a href="author.html#30136">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> On Feb 9, 2016, at 12:08 PM, Glyph Lefkowitz &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">glyph at twistedmatrix.com</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i> On Feb 8, 2016, at 10:56 PM, Amber Hawkie Brown &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">hawkowl at atleastfornow.net</A> &lt;mailto:<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">hawkowl at atleastfornow.net</A>&gt;&gt; wrote:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Hi everyone,
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> There's a known issue with Twisted + PyOpenSSL&gt;=0.13 using OpenSSL version 1.0.2f. Please note, this only potentially affects you if:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> - You use Windows or OS X -- Cryptography 1.2.2's wheels have a bundled 1.0.2f.
</I>&gt;&gt;<i> OR
</I>&gt;&gt;<i> - You use a Linux or FreeBSD distribution which has OpenSSL 1.0.2f. If you are using a released distribution of Ubuntu or Debian, you most likely have a *patched* (so, still secure) past version (like Ubuntu 15.10, which has a patched 1.0.2d). If you are using Fedora 23, you may have 1.0.2f. You can check by running &quot;openssl version&quot;.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> There is also an unrelated issue with CFFI that causes Cryptography 1.2 wheels for Windows/OS X to cause CPython to crash on interpreter shutdown.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> The current highest working Cryptography version that causes a test suite pass is 1.2.2 on Linux with OpenSSL versions other than 1.0.2f, 1.1.2 on Windows &amp; OS X without an unreleased CFFI patch, and 1.2.1 once the CFFI patch is released. Our Windows and OS X builders have their Cryptography dependencies pinned to 1.1.2 until these problems are solved.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Please note, this doesn't mean your applications may or may not work in practice with OpenSSL 1.0.2f! It just means the test suite does not pass, so we can't be absolutely sure that 1.0.2f will not cause problems for you. The latest patched versions of OpenSSL are strongly recommended from a security standpoint.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> The relevant issues are:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> - Make tests pass on 1.0.2f (Twisted, <A HREF="https://twistedmatrix.com/trac/ticket/8189">https://twistedmatrix.com/trac/ticket/8189</A> &lt;<A HREF="https://twistedmatrix.com/trac/ticket/8189">https://twistedmatrix.com/trac/ticket/8189</A>&gt;)
</I>&gt;&gt;<i> - Crash during interpreter shutdown when using static callbacks (CFFI, <A HREF="https://bitbucket.org/cffi/cffi/issues/246/crash-during-interpreter-shutdown-when">https://bitbucket.org/cffi/cffi/issues/246/crash-during-interpreter-shutdown-when</A> &lt;<A HREF="https://bitbucket.org/cffi/cffi/issues/246/crash-during-interpreter-shutdown-when">https://bitbucket.org/cffi/cffi/issues/246/crash-during-interpreter-shutdown-when</A>&gt;)
</I>&gt;<i> 
</I>&gt;<i> Thanks for the write-up, Amber.
</I>&gt;<i> 
</I>&gt;<i> The main consequence of this constellation of unfortunate facts is that it is causing problems for Twisted development right now; the cffi issue may be causing some issues with crashing at shutdown, but the crash occurs after interpreter teardown so even programs that depend on &quot;clean&quot; shutdown (in the sense that they need to do work at shutdown time) should be affected.  Systems that require a 0 exit-status from a daemon might be but hopefully there aren't many of those.
</I>
One of these issues - the CFFI crash - <A HREF="https://bitbucket.org/cffi/cffi/issues/246/crash-during-interpreter-shutdown-when">https://bitbucket.org/cffi/cffi/issues/246/crash-during-interpreter-shutdown-when</A> &lt;<A HREF="https://bitbucket.org/cffi/cffi/issues/246/crash-during-interpreter-shutdown-when">https://bitbucket.org/cffi/cffi/issues/246/crash-during-interpreter-shutdown-when</A>&gt; - is now fixed and released in cffi 1.5.2.  So we should start returning to normal shortly ;).

&gt;<i> All of these issues are under active investigation by the Cryptography and CFFI teams, and the one thing that might be an issue in Twisted (the 1.0.2f compatibility issue as Amber described above) has already gotten some attention from Tristan Seligmann and there should be a fix available shortly.
</I>&gt;<i> 
</I>&gt;<i> In any case, I'm very happy that we are communicating better about arcane issues like this :).  We'll try to send an update when they're all resolved.
</I>&gt;<i> 
</I>&gt;<i> -glyph
</I>&gt;<i> 
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://twistedmatrix.com/pipermail/twisted-python/attachments/20160213/3995143c/attachment.html">http://twistedmatrix.com/pipermail/twisted-python/attachments/20160213/3995143c/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030135.html">[Twisted-Python] Compatibility issues with Twisted and OpenSSL	1.0.2f
</A></li>
	<LI>Next message: <A HREF="030128.html">[Twisted-Python] A little present for emacs / flycheck users
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30136">[ date ]</a>
              <a href="thread.html#30136">[ thread ]</a>
              <a href="subject.html#30136">[ subject ]</a>
              <a href="author.html#30136">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
