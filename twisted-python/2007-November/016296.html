<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Two main loops
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Two%20main%20loops&In-Reply-To=20071112171344.8162.303221679.divmod.quotient.34933%40ohm">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016294.html">
   <LINK REL="Next"  HREF="016297.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Two main loops</H1>
    <B>Jasper</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Two%20main%20loops&In-Reply-To=20071112171344.8162.303221679.divmod.quotient.34933%40ohm"
       TITLE="[Twisted-Python] Two main loops">jasper at peak.org
       </A><BR>
    <I>Mon Nov 12 13:47:50 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="016294.html">[Twisted-Python] Two main loops
</A></li>
        <LI>Next message: <A HREF="016297.html">[Twisted-Python] Two main loops
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16296">[ date ]</a>
              <a href="thread.html#16296">[ thread ]</a>
              <a href="subject.html#16296">[ subject ]</a>
              <a href="author.html#16296">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jean-Paul Calderone wrote:
&gt;<i> On Mon, 12 Nov 2007 08:58:55 -0800, Jasper &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">jasper at peak.org</A>&gt; wrote:
</I>&gt;&gt;<i> Maarten ter Huurne wrote:
</I>&gt;&gt;&gt;<i> Why would that happen?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Twisted never blocks; if it has to wait for something (such as a 
</I>&gt;&gt;&gt;<i> transmission buffer becoming ready to accept more data), it will 
</I>&gt;&gt;&gt;<i> register a callback and the reactor will continue (and call your 
</I>&gt;&gt;&gt;<i> rendering code).
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Bye,
</I>&gt;&gt;&gt;<i>                 Maarten
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Maybe I'm misunderstanding what's going on underneath, but Twisted 
</I>&gt;&gt;<i> sure seems to block while I send one large chunk of data.
</I>&gt;<i>
</I>&gt;<i> There are a lot of different pieces in any non-trivial program.  There 
</I>&gt;<i> are
</I>&gt;<i> also at least a couple different meanings for the word &quot;block&quot;.
</I>[further elaboration snipped]


I think the confusion here is stemming from us attaching different 
meanings to &quot;Twisted&quot;.  I've been meaning the entire package, i.e. the 
modules I got when I installed Twisted.  You (Glyph, Maarten, etc.) seem 
to mean only the lower level inner bits, like reactor.  I'd actually 
understood this when I sent the above, and I apologize for the snarky 
reply. ;-)

To get to the point, I actually do feel that the fault lies with 
Twisted, or more specifically PB.  Code using PB wants to be as unaware 
of the details of network transmission as possible.  It certainly 
doesn't want to slice things into a bazillion chunks for individual 
transmission, and then puzzle them back together on the other end.

IMHO it makes more sense for PB to understand it shouldn't block, and to 
chunk and schedule its serialization (and unserialization) in the same 
manner as the TCP packets sent underneath.  I'm guessing this would make 
for cleaner separation, and more general usefulness.

Also, let me clarify that I'm not suggesting that someone else do this, 
nor bitching and moaning about what I'm getting out of a free project; 
it's something I intend to do myself as I have time.

-Jasper



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016294.html">[Twisted-Python] Two main loops
</A></li>
	<LI>Next message: <A HREF="016297.html">[Twisted-Python] Two main loops
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16296">[ date ]</a>
              <a href="thread.html#16296">[ thread ]</a>
              <a href="subject.html#16296">[ subject ]</a>
              <a href="author.html#16296">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
