<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Two main loops
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Two%20main%20loops&In-Reply-To=4738864F.2020501%40peak.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016293.html">
   <LINK REL="Next"  HREF="016296.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Two main loops</H1>
    <B>Jean-Paul Calderone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Two%20main%20loops&In-Reply-To=4738864F.2020501%40peak.org"
       TITLE="[Twisted-Python] Two main loops">exarkun at divmod.com
       </A><BR>
    <I>Mon Nov 12 12:13:44 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="016293.html">[Twisted-Python] Two main loops
</A></li>
        <LI>Next message: <A HREF="016296.html">[Twisted-Python] Two main loops
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16294">[ date ]</a>
              <a href="thread.html#16294">[ thread ]</a>
              <a href="subject.html#16294">[ subject ]</a>
              <a href="author.html#16294">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 12 Nov 2007 08:58:55 -0800, Jasper &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">jasper at peak.org</A>&gt; wrote:
&gt;<i>Maarten ter Huurne wrote:
</I>&gt;&gt;<i>On Sunday 11 November 2007, Jasper wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>Jean-Paul Calderone wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>Practically speaking, you probably don't need to render more than about
</I>&gt;&gt;&gt;&gt;<i>3000 frames per second.  ;)
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>Jean-Paul
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>That depends.  When I send moderately sized objects over Twisted, this
</I>&gt;&gt;&gt;<i>approach causes my frame rate to stop while Twisted is busy, and worse
</I>&gt;&gt;&gt;<i>makes my GUI non-interactive.  For a game, this is generally
</I>&gt;&gt;&gt;<i>unacceptable...
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Why would that happen?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Twisted never blocks; if it has to wait for something (such as a 
</I>&gt;&gt;<i>transmission buffer becoming ready to accept more data), it will register a 
</I>&gt;&gt;<i>callback and the reactor will continue (and call your rendering code).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Bye,
</I>&gt;&gt;<i>                 Maarten
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>Maybe I'm misunderstanding what's going on underneath, but Twisted sure 
</I>&gt;<i>seems to block while I send one large chunk of data.
</I>
There are a lot of different pieces in any non-trivial program.  There are
also at least a couple different meanings for the word &quot;block&quot;.

The network code at the very bottom of Twisted won't ever wait for a
network event to happen before continuing execution.  That's what Maarten
ter Huurne was pointing out.

Some parts of Twisted (for example, the serializers for PB) might spend a
long time using the CPU in order to provide the functionality they are
supposed to provide.

The main difference between these two cases is that in the former, you are
subject to arbitrary delays by other parties whereas in the latter case,
the delays are in response to actions your application has explicitly taken.

The latter case can be solved by asking functions to do less work at a time,
as has been suggested a couple times in this thread.  Since the former case
never happens in Twisted, there's no need to fix it. :)

Jean-Paul


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016293.html">[Twisted-Python] Two main loops
</A></li>
	<LI>Next message: <A HREF="016296.html">[Twisted-Python] Two main loops
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16294">[ date ]</a>
              <a href="thread.html#16294">[ thread ]</a>
              <a href="subject.html#16294">[ subject ]</a>
              <a href="author.html#16294">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
