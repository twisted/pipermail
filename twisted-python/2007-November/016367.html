<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Transfering a file through ActionScript xml	sockets
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Transfering%20a%20file%20through%20ActionScript%20xml%0A%09sockets&In-Reply-To=460030.41244.qm%40web8707.mail.in.yahoo.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016366.html">
   <LINK REL="Next"  HREF="016368.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Transfering a file through ActionScript xml	sockets</H1>
    <B>Douglas Bagnall</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Transfering%20a%20file%20through%20ActionScript%20xml%0A%09sockets&In-Reply-To=460030.41244.qm%40web8707.mail.in.yahoo.com"
       TITLE="[Twisted-Python] Transfering a file through ActionScript xml	sockets">douglas at paradise.net.nz
       </A><BR>
    <I>Wed Nov 28 15:33:25 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="016366.html">[Twisted-Python] Transfering a file through ActionScript xml sockets
</A></li>
        <LI>Next message: <A HREF="016368.html">[Twisted-Python] Transfering a file through ActionScript xml	sockets
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16367">[ date ]</a>
              <a href="thread.html#16367">[ thread ]</a>
              <a href="subject.html#16367">[ subject ]</a>
              <a href="author.html#16367">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>hi Raj


&gt;<i> I am using action script xml sockets.
</I>&gt;<i> Now anyone can help me in transferring a file to client using action script xml sockets.
</I>

Why not just use HTTP? It was invented for transferring files.

Anyway, to use an XMLSocket, you'd use need to be sure your file didn't
contain zero bytes.  Then the server would use a socket class like this:


class FileSender(LineOnlyReceiver):
    delimiter = chr(0)

    def send(self, filename):
        f = open(filename)
        msg = f.read()
        f.close()
        self.transport.write(msg + self.delimiter)


and the Actionscript side would be something like:

   /* within the receiver class */
   this.onData = function(msg:String){
	trace(&quot;got the file contents: &quot; + msg);
   }


If it does contain zero bytes you need to get rid of them somehow.  The
easiest way might be to run the string through python's urllib.urlencode
on the server side, followed by actionscript's LoadVars.decode on the
client side.

But really you should use HTTP. It'll be simpler.

Douglas


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016366.html">[Twisted-Python] Transfering a file through ActionScript xml sockets
</A></li>
	<LI>Next message: <A HREF="016368.html">[Twisted-Python] Transfering a file through ActionScript xml	sockets
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16367">[ date ]</a>
              <a href="thread.html#16367">[ thread ]</a>
              <a href="subject.html#16367">[ subject ]</a>
              <a href="author.html#16367">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
