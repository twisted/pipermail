<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] help! - listenTCP failing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20help%21%20-%20listenTCP%20failing&In-Reply-To=1048653131.1631.38.camel%40rebirth">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003365.html">
   <LINK REL="Next"  HREF="003374.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] help! - listenTCP failing</H1>
    <B>Jp Calderone</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20help%21%20-%20listenTCP%20failing&In-Reply-To=1048653131.1631.38.camel%40rebirth"
       TITLE="[Twisted-Python] help! - listenTCP failing">exarkun at intarweb.us
       </A><BR>
    <I>Wed Mar 26 20:54:48 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="003365.html">[Twisted-Python] help! - listenTCP failing
</A></li>
        <LI>Next message: <A HREF="003374.html">[Twisted-Python] help! - listenTCP failing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3367">[ date ]</a>
              <a href="thread.html#3367">[ thread ]</a>
              <a href="subject.html#3367">[ subject ]</a>
              <a href="author.html#3367">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Mar 26, 2003 at 04:32:11PM +1200, David McNab wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> I'm building an app that will need the ability to start and stop
</I>&gt;<i> protocol servers dynamically.
</I>&gt;<i> 
</I>&gt;<i> As part of figuring this out, I've added an ApplicationService to the
</I>&gt;<i> app, and within ApplicationService.startService(), I'm calling
</I>&gt;<i> self.get_application.listenTCP(portnum, myprotocol).
</I>&gt;<i> 
</I>&gt;<i> This is having no visible effect, since the port is not getting opened.
</I>&gt;<i> 
</I>&gt;<i> I tried, within startService(), calling reactor.listenTCP() instead.
</I>&gt;<i> This starts up the protocol and opens the port just fine, but when I
</I>&gt;<i> later call app.unlistenTCP(port) to shut down the protocol, I get the
</I>&gt;<i> exception (see below).
</I>&gt;<i> 
</I>&gt;<i> What am I doing wrong?
</I>&gt;<i> What's the best and simplest way to dynamically start and stop server
</I>&gt;<i> protocols at runtime()?
</I>&gt;<i> 
</I>
  It seems as though reactor.listenTCP() is never being invoked.  The
traceback you got below is a result of this.  I've fixed it in CVS so that
it raises twisted.internet.error.NotListeningError now, instead of a
confusing UnboundLocalError.

  Why reactor.listenTCP() isn't being invoked is unclear.  You might try
adding some debug prints to the critical portions of the code, or stepping
through it with pdb.

  If you are still stuck after some attempts, post a little code (keyword:
little) that demonstrates the problem, so a developer can easily duplicate
and then fix it.

  Jp

-- 
&quot;There is no reason for any individual to have a computer in their
home.&quot;
                -- Ken Olson, President of DEC, World Future Society
                   Convention, 1977
-- 
 up 6 days, 21:59, 4 users, load average: 0.52, 0.41, 0.19


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003365.html">[Twisted-Python] help! - listenTCP failing
</A></li>
	<LI>Next message: <A HREF="003374.html">[Twisted-Python] help! - listenTCP failing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3367">[ date ]</a>
              <a href="thread.html#3367">[ thread ]</a>
              <a href="subject.html#3367">[ subject ]</a>
              <a href="author.html#3367">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
