<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Updated defer.html
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Updated%20defer.html&In-Reply-To=%3C20030309213919.GA82276%40doublegemini.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="035716.html">
   <LINK REL="Next"  HREF="035721.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Updated defer.html</H1>
    <B>Clark C. Evans</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=Re%3A%20%5BTwisted-Python%5D%20Updated%20defer.html&In-Reply-To=%3C20030309213919.GA82276%40doublegemini.com%3E"
       TITLE="[Twisted-Python] Updated defer.html">cce at clarkevans.com
       </A><BR>
    <I>Sun Mar  9 14:39:19 MST 2003</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="035716.html">[Twisted-Python] Re: [Twisted-commits] Updated defer.html so	that the first 4 examples are runnable, split the 3rd
</A></li>
        <LI>Next message (by thread): <A HREF="035721.html">[Twisted-Python] Updated defer.html
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35718">[ date ]</a>
              <a href="thread.html#35718">[ thread ]</a>
              <a href="subject.html#35718">[ subject ]</a>
              <a href="author.html#35718">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, Mar 09, 2003 at 01:12:22AM -0500, Steve Waterbury wrote:
|<i> &gt; You've sacrificed clarity for runnability.  
</I>|<i> Having read it carefully, I have to agree with Andrew here.  
</I>
Runnable vs clarity is a false choice.  If it isn't runnable then
it has no hope of being clear.  [clear changes to already runnable
code counts as runnable]

In fact, I had a complete mis-understanding of what Deferred
was all about for quite some time, mostly a fault of that
document for not having a runnable example.   The focus on 
'clarity' failed to show what Deferred actually *does*; it
had stuff, for example, about the main reactor event loop,
which is a completely othogonal issue, you don't neven need
the twisted reactor to use Deferred.   By the previous
documentation not focusing on a *tangable* runnable result
the explanation sunk into ickyness.

|<i> Here I disagree.  Newbies are generally served better by 
</I>|<i> examples with lots of (germane) comments ... but not 
</I>|<i> extraneous stuff, like the Timer.  And I think it would be 
</I>|<i> &quot;nice&quot; if they were executable, but if it comes down to 
</I>|<i> choosing between clarity and executability, clarity should win.  
</I>
Documenting Deferreds suffers from a bootstrap problem; it is 
advantageous to introduce Deferreds before Threads, but to 
understand why you need Deferrerds you must already have
read about Threads.   The typical solution to a bootstrap 
documentation problems is to iterate into a circle, introduce
each concept and then after both concepts are glossed over
going into more detail about each one.   An introduction 
to threads, and the Timer is the simplest threaded operation,
is essential for motivating Deferreds...  And, to be a bit
defensive, you can't jump on my case here as examples later
on use the Timer.

Suggestion for improvement:

  Move the 'timer' example into the first part showing
  how a blocking operation becomes threaded, and showing
  how Python (without Twisted) supports callbacks.  

  Then, use this example of Python's callbacks to describe
  how it has several problems: (a) it doesn't handle errors
  well, (b) it doesn't allow for more than one callback, etc.

  Finally, re-write the timer example using Deferred for a 
  callback.   In this example, put the previously introduced
  code in a *grey* font so that it isn't destracting.

But, really, all examples should be completely runnable
or else you make a serious risk of losing the reader.

|<i> &gt; perhaps it's overly jargonistic, but it is the way I think about Deferreds;
</I>|<i> &gt; they are the primary tool Twisted provides to abstract away blocking
</I>|<i> &gt; operations into a fundamentally asynchronous framework.
</I>|<i> 
</I>|<i> Total agreement.  If they don't know what &quot;asynchronous&quot; 
</I>|<i> means, they can look it up!  Sheesh, it's a standard term.  
</I>|<i> (Twisted-specific jargon is not a problem in the docs 
</I>|<i> either, as it is always defined when introduced.)
</I>
Deferreds have *nothing* to do with deferring execution.  They are
only an improvement/embellishment on the Python callback mechanism.
That they are very useful in asynchronous contexts is nice, but
that isn't what they do - they don't provide asychronous execution.


|<i> &gt; Again, with the next two examples I think you've obscured the point in your
</I>|<i> &gt; efforts to make everything explicit.  I'd rather have a 10 line example
</I>|<i> &gt; that illustrates a concept, than a 20 line example that obscures the same
</I>|<i> &gt; concept behind irrelevant method definitions, etc.  ...
</I>|<i> 
</I>|<i> Agreed also.  
</I>|<i> 
</I>|<i> That said, I think there are cases where the in-line examples seem
</I>|<i> a trifle too elliptical.  I'll have to be more specific, I know, 
</I>|<i> so I'll send an example when I have time.  
</I>
Well, I disagree with both of you here.  You need *all* of
the code so that a newbie doesn't have to fill-in the 
details, and get frustrated when they don't grok it.

In general, examples should build on the previous example,
and to make things clear, code that hasn't changed could
be made grey; or code that has changed can be made bold.
Use visual clues.  Electrons on the screen are cheap.

Best,

Clark


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="035716.html">[Twisted-Python] Re: [Twisted-commits] Updated defer.html so	that the first 4 examples are runnable, split the 3rd
</A></li>
	<LI>Next message (by thread): <A HREF="035721.html">[Twisted-Python] Updated defer.html
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35718">[ date ]</a>
              <a href="thread.html#35718">[ thread ]</a>
              <a href="subject.html#35718">[ subject ]</a>
              <a href="author.html#35718">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
