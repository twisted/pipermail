<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Twisted-Python] Importing twisted.names.client blocks
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Importing%20twisted.names.client%20blocks&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009361.html">
   <LINK REL="Next"  HREF="009366.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Twisted-Python] Importing twisted.names.client blocks</H1>
    <B>Ralf Schmitt</B> 
    <A HREF="mailto:twisted-python%40twistedmatrix.com?Subject=%5BTwisted-Python%5D%20Importing%20twisted.names.client%20blocks&In-Reply-To="
       TITLE="[Twisted-Python] Importing twisted.names.client blocks">ralf at brainbot.com
       </A><BR>
    <I>Tue Jan 25 09:59:40 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="009361.html">[Twisted-Python] Mandrake Problem
</A></li>
        <LI>Next message: <A HREF="009366.html">[Twisted-Python] Importing twisted.names.client blocks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9363">[ date ]</a>
              <a href="thread.html#9363">[ thread ]</a>
              <a href="subject.html#9363">[ subject ]</a>
              <a href="author.html#9363">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I started testing a program today which imported twisted.names.client. 
On every second run, the program didn't return from the import and hung 
for some time (until I pressed some key, strange...). Turns out, that I 
don't have Crypto installed and twisted.protocol.dns then tries to read 
2 bytes from
/dev/random, /dev/srandom, and /dev/urandom (in that order, until first 
success) in order to determine a random source. If it succeeds with one 
of those devices, it will also use that method later to read a random 
integer.
The man page for urandom (on linux+fbsd) tells me that /dev/random is 
for 'uses that  need  very  high quality randomness such as one-time pad 
or key generation' and that reads to /dev/random will block when the 
entropy  pool  is  empty.
In contrast /dev/urandom will not block, but it's output may be analyzed 
by an attacker ('Knowledge  of  how  to  do this is not available in the 
current non-classified liter&#173;ature'...but then that linux man page is 
very old...).
I suggest that the usage of /dev/random should be stopped. If it doesn't 
bite you on import, it will do so later, when you're doing lots of dns 
request (a coworker of mine had written http crawler and told me, that 
it started getting slower after 3 hours or so, guess that was the time 
when /dev/random ran out of entropy). After all, when none of those 
devices is available, the code will also fallback to using random.randint.

- Ralf



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009361.html">[Twisted-Python] Mandrake Problem
</A></li>
	<LI>Next message: <A HREF="009366.html">[Twisted-Python] Importing twisted.names.client blocks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9363">[ date ]</a>
              <a href="thread.html#9363">[ thread ]</a>
              <a href="subject.html#9363">[ subject ]</a>
              <a href="author.html#9363">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/twisted-python">More information about the Twisted-Python
mailing list</a><br>
</body></html>
