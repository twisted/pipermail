<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Divunal-devel] The Problem with Perspectives</TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glyph%40divunal.com">
   <LINK REL="Previous"  HREF="000041.html">
   <LINK REL="Next" HREF="000044.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Divunal-devel] The Problem with Perspectives</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:glyph%40divunal.com"
       TITLE="[Divunal-devel] The Problem with Perspectives">glyph@divunal.com</A><BR>
    <I>Tue, 20 Jul 1999 12:46:21 -0400 (EDT)</I>
    <P><UL>
        <LI> Previous message: <A HREF="000041.html">[Divunal-devel] The Problem with Perspectives</A></li>
        <LI> Next message: <A HREF="000044.html">[Divunal-devel] The Problem with Perspectives</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42">[ date ]</a>
              <a href="thread.html#42">[ thread ]</a>
              <a href="subject.html#42">[ subject ]</a>
              <a href="author.html#42">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, 20 Jul 1999, James Knight wrote:

&gt;<i> At 9:09 AM -0400 7/20/99, Michael Dartt wrote:
</I>&gt;<i> &gt;How about this:
</I>[snip]

&gt;<i> The usual case is that either people will see an object normally, or will
</I>&gt;<i> not be able to see an object at all (say the room is dark or something).
</I>&gt;<i> So, it makes sense to optimize for these cases, and special case a slower
</I>&gt;<i> method for anything else (e.g. name being a dynamic property).
</I>
That's pretty much the case.

&gt;<i> The perspective idea is good, except that you can manipulate objects
</I>&gt;<i> not in your perspective. Right now you can manipulate things in the
</I>
The word `perspective' is really vague here.  I think what you mean is you
can manipulate objects out of your *focus*.  You can't just manipulate
random objects anywhere.

When I was using the word &quot;perspective&quot; I was referring to the feature
that allows the same thing to look different to different people -- it's
not a technical term so let's not use it as one.

&gt;<i> current location, in the outermost location, in your inventory, and in
</I>&gt;<i> your focus. So you'd have to keep a up-to-date list of all those
</I>&gt;<i> places. Not to mention that focusRefresh is (currently) the only
</I>&gt;<i> notification mechanism available. But that could be changed...So maybe
</I>
I've made a few baby steps in that direction in Location and Room, but
yes, updating needs a lot of work.  1.1.

&gt;<i> a good way to do it is to cache the items' 'perspectivised names' for
</I>&gt;<i> each player in a seperate table in the location until a refresh gets
</I>&gt;<i> called on it, at which point the cache has to be flushed. This would
</I>&gt;<i> avoid doing the dynamic property evaluation for each Thing lookup,
</I>&gt;<i> which would really suck. Instead, two table lookups have to be done
</I>&gt;<i> for any location that has a dynamic-named thing in it, which is much
</I>&gt;<i> faster.
</I>
Dynamic property evaluation is to be minimized wherever possible... but I
am afraid I don't really understand the *other* method you're talking
about here.

&gt;<i> Keeping a shared perspective tag probably won't help in many situations,
</I>&gt;<i> and will just complicate things a lot.
</I>
I suppose I don't understand what you mean by a &quot;shared perspective tag&quot;
here -- it seems to me that you are both proposing the same thing.

I think that a good way to do this might be just to cache a second table
of synonyms for the *object* rather than the player.  That way, if bob
turns into the Masked Man upon putting on his Super Conceal-O-Matic Mask,
you can still refer to him as 'bob'.  Also, after he takes *off* the mask,
it seems appropriate to be able to refer to him as 'mr. mask' or
something.

I have a feeling this might just be me and my infocom nostalgia though --
it made sense to me if I played a game and I found out something was a
scepter after a while I could still refer to it as a stick, or when I
restarted the game I could refer to it as a scepter before my character
knew of it as such, because it made more sense to me that way.

I think this (being the change in structure of hears()) is the last major
change that should happen before the 1.0 release.  Everything else we want
to do can be done pretty well within the framework that exists -- although
I think that better docs are a necessity to call this thing a &quot;release&quot;.  
Javadoc'ing needs to happen in the source code, and a lot.

--glyph


</pre>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000041.html">[Divunal-devel] The Problem with Perspectives</A></li>
	<LI> Next message: <A HREF="000044.html">[Divunal-devel] The Problem with Perspectives</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42">[ date ]</a>
              <a href="thread.html#42">[ thread ]</a>
              <a href="subject.html#42">[ subject ]</a>
              <a href="author.html#42">[ author ]</a>
         </LI>
       </UL>
</body></html>
