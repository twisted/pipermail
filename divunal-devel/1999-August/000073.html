<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Divunal-devel] StringUtilities</TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:evil_ivan%40yahoo.com">
   <LINK REL="Previous"  HREF="000075.html">
   <LINK REL="Next" HREF="000074.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Divunal-devel] StringUtilities</H1>
    <B>Phil Christensen</B> 
    <A HREF="mailto:evil_ivan%40yahoo.com"
       TITLE="[Divunal-devel] StringUtilities">evil_ivan@yahoo.com</A><BR>
    <I>Wed, 11 Aug 1999 11:12:10 -0700 (PDT)</I>
    <P><UL>
        <LI> Previous message: <A HREF="000075.html">[Divunal-devel] release criterea</A></li>
        <LI> Next message: <A HREF="000074.html">[Divunal-devel] eraser broken</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#73">[ date ]</a>
              <a href="thread.html#73">[ thread ]</a>
              <a href="subject.html#73">[ subject ]</a>
              <a href="author.html#73">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>After many trials and tribulations, I've finished much of twisted.util.StringUtilities. This class, I think, is extremely useful. It has methods that emulate perl's split and join functions (allowing you to easily split a string into an array based on a delimiter and concatanate a String[] (actually, an array of Objects) into a single String, given a field separator)....There's also replaceInString which replaces all or some occurances of a sequence within a string with some other string.

Finally, and most importantly, it provides a mechanism to do variable substitution that is prespectives-compatible. For example.....

In my Smoking Room there is a component Class_Smokeable. It has several properties, namely strings that get displayed when a player does something with a child of this object:

-------------------------------------------------------------
	string &quot;subjectHearsLight&quot; &quot;You light $t .&quot;
	string &quot;othersHearLight&quot; &quot;$m lights $t .&quot;
	string &quot;alreadyLit&quot; &quot;$t is already lit.&quot;
	string &quot;subjectHearsPrepare&quot; &quot;You fill up $t with fine tobacco.&quot;
	string &quot;alreadyPrepared&quot; &quot;$t is already prepared.&quot;
	string &quot;emptyPipe&quot; &quot;$t is empty. You need to prepare it.&quot;
	string &quot;unlitPipe&quot; &quot;$t isn't lit!&quot;
	string &quot;othersHearSmoke&quot; &quot;$m puffs away on $t .&quot;
	string &quot;subjectHearsSmoke&quot; &quot;You puff away on $t .&quot;
	string &quot;othersHearPrepare&quot; &quot;$m fills up $t with fine tobacco.&quot;
-------------------------------------------------------------

Then in the verb code for SmokePipe.java, this is all that's required (in this case, when a player &quot;prepare&quot;s the pipe.)

-------------------------------------------------------------
String[] vars = {&quot;$m&quot;, &quot;$t&quot;};
Object[] subs = {d.subject(), d.directObject()};

Object[] othersHear = StringUtilities.substituteVariables(
		d.directObject().getString(&quot;othersHearPrepare&quot;),
		vars, subs);
Object[] subjectHears = StringUtilities.substituteVariables(
		d.directObject().getString(&quot;subjectHearsPrepare&quot;),
		vars, subs);

d.subject().topplace().tellAll(d.subject(), subjectHears, othersHear);
-------------------------------------------------------------

which results in:

-------------------------------------------------------------
&gt;<i> prepare pipe
</I>You fill up carved bit pipe with fine tobacco.
-------------------------------------------------------------

This does reveal a change in the perspectives engine, previously, &quot;the&quot; was automatically inserted. Has this changed permanently? (Or worse yet, is it unchanged, meaning that's a bug on my part?)

Anyways, twisted.util.StringUtilities has been fully javadoc'd, so it should be pretty straightforward to use.

-phil&lt;hr size=1&gt;&lt;b&gt;Do You Yahoo!?&lt;/b&gt;&lt;br&gt;Get your free @yahoo.com address at &lt;a href=&quot;<A HREF="http://mail.yahoo.com/"">http://mail.yahoo.com/&quot;</A>&gt;Yahoo! Mail&lt;/a&gt;.&lt;br&gt;


</pre>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000075.html">[Divunal-devel] release criterea</A></li>
	<LI> Next message: <A HREF="000074.html">[Divunal-devel] eraser broken</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#73">[ date ]</a>
              <a href="thread.html#73">[ thread ]</a>
              <a href="subject.html#73">[ subject ]</a>
              <a href="author.html#73">[ author ]</a>
         </LI>
       </UL>
</body></html>
