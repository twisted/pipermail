<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Divunal-devel] Re: [Reality] Re: darkness</TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glyph%40divunal.com">
   <LINK REL="Previous"  HREF="000090.html">
   <LINK REL="Next" HREF="000092.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Divunal-devel] Re: [Reality] Re: darkness</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:glyph%40divunal.com"
       TITLE="[Divunal-devel] Re: [Reality] Re: darkness">glyph@divunal.com</A><BR>
    <I>Sun, 22 Aug 1999 20:01:11 -0400 (EDT)</I>
    <P><UL>
        <LI> Previous message: <A HREF="000090.html">[Divunal-devel] darkness</A></li>
        <LI> Next message: <A HREF="000092.html">[Divunal-devel] Re: [Reality] Re: darkness</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#91">[ date ]</a>
              <a href="thread.html#91">[ thread ]</a>
              <a href="subject.html#91">[ subject ]</a>
              <a href="author.html#91">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This works, except for the fact that it doesn't :-)

Explanation follows.

On Sun, 22 Aug 1999, James Knight wrote:

&gt;<i> At 6:27 PM -0400 8/22/99, Glyph Lefkowitz wrote:
</I>&gt;<i> 
</I>&gt;<i> Nononono...those should really be properties...not special things like they
</I>&gt;<i> are now. Then the 'to' versions already exist, and everything is all happy.
</I>&gt;<i> Also they will inherit, and do all those nice things properties do.
</I>&gt;<i> However, there is one real bug with dynamic properties combined with
</I>&gt;<i> Property Change Listeners (which don't exist yet, but we should add)...that
</I>&gt;<i> is that there's no real good way to tell if a dynamicproperty has changed.
</I>&gt;<i> This is basically a concrete limitation, in that there is no way to work
</I>&gt;<i> around it in a general way. However, for specific instances, it is workable.
</I>
If these properties inherit, then you need to register property change
listeners for the full property table of the superclass for each subclass
(addPropertyChangeListener(&quot;*&quot;,theChangeListener)?) EXCEPT where the
subclass has an overriding property, in which case this is ignored.

Doesn't that sound like a big performance hit for a really negligible
gain?

&gt;<i> Lets take for example the mirror in the Divunal demo area. That has a
</I>&gt;<i> dynamicproperty for its description that takes the description of the
</I>&gt;<i> Player looking at it, and uses that in its string. Now, the mirror should
</I>&gt;<i> really change when you change your description. To do this, it needs to be
</I>&gt;<i> registered as a Property Change Listener on the Player's description, and
</I>&gt;<i> if that changes, trigger a property change event on _it's_ description [to
</I>&gt;<i> that player].
</I>
Except for the fact that it's using fullyDescribeTo, which isn't the
description -- it's the description+*elements*.  Does that mean that
descriptors are now going to be dynamic too?  Should these be shuffled
into the main property table?  

&gt;<i> The same kinda thing might be workable for dark rooms too, although it is a
</I>&gt;<i> significantly more complex example, and I haven't fully thought it out yet.
</I>&gt;<i> However, given that darkness is a fairly general thing, and in fact, ALL
</I>&gt;<i> rooms should be &quot;Class_Dark Room&quot; really (with the darkness set to light),
</I>&gt;<i> it might be better to rethink doing it as dynamicproperties for description
</I>&gt;<i> and stuff.
</I>
Darkness is certainly not a general thing.  Most places aren't dark.  The
outdoors, for example, can't be dark, although it can be night ... in the
same way that all rooms should not be &quot;class_submersed room&quot; with most
places set to a water-level of 0...

Since the only property change listeners we'd ever need to add have to do
with the way things look (name, description, etc) it seems to me that we
should special-case those properties and then just make sure the
description gets refreshed... this wouldn't make darkness cleaner, really,
it would just make it more complicated (since the property change
listeners would have to be wired together in much the same way the current
eventhandlers are)

Considering that darkness actually *does* work now, this isn't necessary
... as a matter of fact, it seems to complicate things more for me...
although I think my opinion would be greatly swayed if somebody could
think darkness *all* the way through.

Also, let's PLEASE keep our maillists straight.  TR does not have
darkness as a feature, and since those people can't look at the code we're
discussing, I think we'd best keep the discussion here.

--glyph


</pre>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000090.html">[Divunal-devel] darkness</A></li>
	<LI> Next message: <A HREF="000092.html">[Divunal-devel] Re: [Reality] Re: darkness</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#91">[ date ]</a>
              <a href="thread.html#91">[ thread ]</a>
              <a href="subject.html#91">[ subject ]</a>
              <a href="author.html#91">[ author ]</a>
         </LI>
       </UL>
</body></html>
