<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Divunal-author] Charge interfaces
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:radix%40twistedmatrix.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000328.html">
   <LINK REL="Next"  HREF="000330.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Divunal-author] Charge interfaces
   </H1>
    <B>Christopher Armstrong
    </B> 
    <A HREF="mailto:radix%40twistedmatrix.com"
       TITLE="[Divunal-author] Charge interfaces">radix@twistedmatrix.com
       </A><BR>
    <I>Tue, 13 May 2003 16:33:00 -0400</I>
    <P><UL>
        <LI> Previous message: <A HREF="000328.html">[Divunal-author] Charge interfaces
</A></li>
        <LI> Next message: <A HREF="000330.html">[Divunal-author] goals, gears, golems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#329">[ date ]</a>
              <a href="thread.html#329">[ thread ]</a>
              <a href="subject.html#329">[ subject ]</a>
              <a href="author.html#329">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 2003.05.12 15:09, Christopher Armstrong wrote:
&gt;<i> I implemented it. 
</I>
I rewrote it to use a current system, rather than one request/response per
second. Along with this, I implemented reality.chronology, which is a 
simulated real-time scheduler. The two important methods in that are
timer.callLater(ticks_INTEGER, f, ...) and timer.time() --&gt; current age
of reality in ticks. I did this so I could minimize the nuances that
would come about from calculating charge over time. (btw, the length of a
tick is a reactor.callLater(1, ...).)

Another benefit of chronology is that it will make down-time transparent.
When you restart the server, there will be no gap in time for any scheduled
events, as long as all reality coders religiously use chronology as opposed
to the `time' module and reactor.callLater.

Anyway, back to charge.
Right now there's a Radio you can touch or zap (and it will play music),
a battery you can touch or zap (and will blow up if you do it enough) and
connect to a battery charger.

Still todo:
 * make the battery charger a capacitor (right now it's only an IChargeSource
   and never runs out of charge).
 * connect battery to radio (nasty bugs with this)
 * unify IConnectTool and IConnectTarget, there's no reason for them to be 
   separate. In fact, it would be nice if I didn't need the IConnect* at all
   and rather looked up ICharge* implementors.
 * make Connecting try to pick up one of the objects involved before doing 
   the connecting.
 * some other stuff

I'll be getting together with exarkun sometime around the end of the week.

-- 
 Twisted | Christopher Armstrong: International Man of Twistery
  Radix  |          Release Manager,  Twisted Project
---------+     <A HREF="http://twistedmatrix.com/users/radix.twistd/">http://twistedmatrix.com/users/radix.twistd/</A>



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000328.html">[Divunal-author] Charge interfaces
</A></li>
	<LI> Next message: <A HREF="000330.html">[Divunal-author] goals, gears, golems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#329">[ date ]</a>
              <a href="thread.html#329">[ thread ]</a>
              <a href="subject.html#329">[ subject ]</a>
              <a href="author.html#329">[ author ]</a>
         </LI>
       </UL>
</body></html>
