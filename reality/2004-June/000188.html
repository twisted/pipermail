<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Reality] collectionary
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:reality%40twistedmatrix.com?Subject=%5BReality%5D%20collectionary&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000187.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Reality] collectionary</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:reality%40twistedmatrix.com?Subject=%5BReality%5D%20collectionary&In-Reply-To="
       TITLE="[Reality] collectionary">glyph at divmod.com
       </A><BR>
    <I>Mon Jun  7 23:53:43 MDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000187.html">[Reality] Is collect() broken?
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#188">[ date ]</a>
              <a href="thread.html#188">[ thread ]</a>
              <a href="subject.html#188">[ subject ]</a>
              <a href="author.html#188">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Notes from IRC.

Since certain systems may want to involve themselves in the collect()
process but not do anything with containment or physical relationships,
we need a way to hook into that WITHOUT implying physical relationships.

For example, a &quot;frotz&quot; spell may want to cause things to give off a
&quot;glow&quot;, and the &quot;glow&quot; is actually an object, but not physically
contained or an exit from the object, but logically associated with it
in an abstract way.

This means that ICollector needs some extra methods to provide these
hooks, e.g. the link and unlink methods currently on container.  In
order to distinguish between these &quot;external&quot; uses, where only the
system that places the link should remove it, and &quot;normal&quot; uses, where
there is a defined API for adding and removing objects in some
conceptual, usually physical relationship, we should have several
different implementations of find and more, but only one implementation
of link and unlink.  A Collector base-class which implements link and
unlink in the canonical way that Container currently does should move
into simulacrum.  Container should subclass that to provide a
location-aware containment graph.  Room should subclass Container to
provide an exit-aware containment graph.

We should also eliminate distance from the collection process as much as
possible.  Distance should be part of a criterion, which will be managed
by Room's exit machinery to propogate and add distance through exits. 
Distance should be added, I think, by using proxies.  The proxy returned
by a room would return &quot;too far away&quot; proxies or Refusals for
_contained_ objects from .find() and .more(), but _exits_ would not be
returned at all.  The &quot;too many hops&quot; limit is really to prevent
griefing the containment system, and should not be mixed up with the
&quot;too far away&quot; limit.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000187.html">[Reality] Is collect() broken?
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#188">[ date ]</a>
              <a href="thread.html#188">[ thread ]</a>
              <a href="subject.html#188">[ subject ]</a>
              <a href="author.html#188">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/reality">More information about the Reality
mailing list</a><br>
</body></html>
