<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Reality] Re: [Divunal-author]Propgating events (fwd)</TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glyph%40twistedmatrix.com">
   <LINK REL="Previous"  HREF="000032.html">
   <LINK REL="Next" HREF="000034.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Reality] Re: [Divunal-author]Propgating events (fwd)</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:glyph%40twistedmatrix.com"
       TITLE="[Reality] Re: [Divunal-author]Propgating events (fwd)">glyph@twistedmatrix.com</A><BR>
    <I>Sat, 2 Oct 1999 18:11:24 -0400 (EDT)</I>
    <P><UL>
        <LI> Previous message: <A HREF="000032.html">[Reality] Sound/music in client</A></li>
        <LI> Next message: <A HREF="000034.html">[Reality] Re: [Divunal-author]Propgating events (fwd)</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33">[ date ]</a>
              <a href="thread.html#33">[ thread ]</a>
              <a href="subject.html#33">[ subject ]</a>
              <a href="author.html#33">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, 2 Oct 1999, Michael Dartt wrote:

&gt;<i> Off the top of my head:
</I>&gt;<i> 
</I>&gt;<i> Perhaps a &quot;Propogate events to&quot; list in rooms, possibly allowing for
</I>&gt;<i> certain &quot;wildcards&quot; like the ones below and, ideally something like &quot;all
</I>&gt;<i> other rooms in the forest&quot;.
</I>
Agreed, but thinking of it like a wildcard, or glob pattern, involves
searching.  And that's slow ;-)

&gt;<i> This sounds like it could get into the &quot;separate maps&quot; issue, and that
</I>&gt;<i> might be the most expedient way of dealing with it (and having &quot;shards&quot;
</I>&gt;<i> down the road).  It might be sufficient to have a) a property on rooms
</I>&gt;<i> to denote what area(s) they belong to (e.g. Maxwell's Castle, Tenth's
</I>&gt;<i> Mansion) or b) a vector for each area of &quot;pointers&quot; to included rooms. 
</I>&gt;<i> The former might fit better with the current setup, while the latter
</I>&gt;<i> would probably be faster to use.
</I>
One of the ideas that I've been playing around with (but haven't actually
gotten around to implementing) is something very much like this.  Since I
don't respect UO's server platform :-) I would call it &quot;Zones&quot; not
&quot;shards&quot; (shards are weird, much more complex than this, also ...)

This is also useful if you want to send periodic events to locations.  I
don't know if we actually need to make any server modifications to do this
though... it may be possible to do in another way which just modifies an
authoring verb (more on this later, though...

&gt;<i> In any PropEvent parent class would be handy for handling universal
</I>&gt;<i> propogation issues, being extended for individual things like weather,
</I>&gt;<i> sounds, time of day, etc.
</I>
Yup.

&gt;<i> Something I thought about a bit a while ago, that seems pertinet here:
</I>&gt;<i> should we change room's descriptions when the weather/time of day/etc
</I>&gt;<i> changes?  Certainly more realistic, but probably too panful to
</I>&gt;<i> implement.
</I>
Why too difficult?  We just describe all &quot;outdoor&quot; rooms in such a way
that a sentence at the end describing the weather or whatever would be
appropriate, then we make it a description element.  It seems simple to
me.  (Is this the geek in me overriding the writer?)

&gt;<i> Sorry I can't send code, but doing this requires much more time and
</I>&gt;<i> knowledge of the server than I have.
</I>
&quot;No code is the best code.&quot;  A little more detail on my previous idea:
what if there were just an uber-room ... let's call it the &quot;ethereal plain
of atrii&quot; wherein resided a bunch of rooms called things like &quot;Tenth's
House&quot; or &quot;Maxwell's Castle&quot;...

Inside &quot;tenth's house&quot;, we have all the rooms comprising tenth's house --
gods can walk around on the meta-map to perform large editing functions.
Also, this might be a good way to deal with &quot;lost objects&quot;: we won't have
to remember what all the rooms are called, even if they're completely
disjoint from the rest of the area, because we can &quot;step outside&quot; and have
a look at the item list.  (Authors would have to be sternly reminded not
to do anything goofy like pick up rooms and put them inside other rooms!)

&gt;<i> &gt; &gt; Another thing for the todo list... Propgated events (e.g., a unifed way to
</I>&gt;<i> &gt; &gt; say &quot;everyone in adjacent rooms hears&quot; or &quot;everyone in non-obstructed
</I>&gt;<i> &gt; &gt; adjacent rooms&quot; hears.) Progated events in general also includes weather
</I>&gt;<i> &gt; &gt; and stuff, but this would be nice to think about soon, too.
</I>
What Mike was talking about was good, obviously, and I'd like to do it,
but these questions are really about 2 different kinds of things:

Large, area-spanning effects should be implemented as discussed above, I
think, or by some small modification of it.  A good one I can think of off
the top of my head is an earthquake -- you run the earthquake on the
uber-room and its effects filter down.

Broadcasting events to adjacent rooms, or through walls, however, is a
different issue.  In this case, the event starts in one room, and then
goes through to another.  More importantly, the *effect* of the event
should change from room-to-room.

This can be accomplished now (enumerate the portals; check to see if the
portals are &quot;wide open&quot; (not obstructed), &quot;somewhat open&quot; (obstructed,
but with an intervening object), or &quot;closed&quot; (obstructed and sealed)...
Of course, that leads to other questions.  How thick are the walls?  How
does sound travel through them?

Although there will probably be some common (or at least similiar) code
for doing things like this, I don't think that there is anything really
generic we can do to facilitate the wide range of differing effects that
propogating events would require.

So, in short, the principal difference is between events which affect a
*fixed* group of rooms with a *given* effect, and events which affect a
*calculated* group of rooms with a *group* of effects.

I will put both of these on my ever-growing TODO list =)


</pre>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000032.html">[Reality] Sound/music in client</A></li>
	<LI> Next message: <A HREF="000034.html">[Reality] Re: [Divunal-author]Propgating events (fwd)</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33">[ date ]</a>
              <a href="thread.html#33">[ thread ]</a>
              <a href="subject.html#33">[ subject ]</a>
              <a href="author.html#33">[ author ]</a>
         </LI>
       </UL>
</body></html>
