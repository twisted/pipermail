<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Reality] Re: Current Task: OBJECT PROXIES.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:reality%40twistedmatrix.com?Subject=%5BReality%5D%20Re%3A%20Current%20Task%3A%20OBJECT%20PROXIES.&In-Reply-To=60ed19d40605011755m20da19feo991ccb9c3af21964%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000204.html">
   <LINK REL="Next"  HREF="000206.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Reality] Re: Current Task: OBJECT PROXIES.</H1>
    <B>Christopher Armstrong</B> 
    <A HREF="mailto:reality%40twistedmatrix.com?Subject=%5BReality%5D%20Re%3A%20Current%20Task%3A%20OBJECT%20PROXIES.&In-Reply-To=60ed19d40605011755m20da19feo991ccb9c3af21964%40mail.gmail.com"
       TITLE="[Reality] Re: Current Task: OBJECT PROXIES.">radix at twistedmatrix.com
       </A><BR>
    <I>Thu May  4 09:09:37 CDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000204.html">[Reality] Current Task: OBJECT PROXIES.
</A></li>
        <LI>Next message: <A HREF="000206.html">[Reality] Re: Current Task: OBJECT PROXIES.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#205">[ date ]</a>
              <a href="thread.html#205">[ thread ]</a>
              <a href="subject.html#205">[ subject ]</a>
              <a href="author.html#205">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 5/1/06, Christopher Armstrong &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/reality">radix at twistedmatrix.com</A>&gt; wrote:
&gt;<i> Jp and I will be working on &quot;OBJECT PROXIES&quot; starting tonight. These are
</I>&gt;<i> meant to solve the problem of dynamically changing the behavior based on
</I>&gt;<i> intermediary game objects. FOR EXAMPLE: A sound-proof glass window should
</I>&gt;<i> let light through but not sound. This would be implemented by capturing
</I>&gt;<i> events which traverse the glass window, and removing aurial concepts from
</I>&gt;<i> that event. MAYBE. We don't actually know how we're going to do this, but
</I>&gt;<i> we'll write some unit tests and see where that takes us.
</I>
We did it.  Rooms can now be dark (a LocationLighting powerup on a
room, with candelas set to 0), and they'll make everything inside of
them invisible[1]. It does this by powering up the room for
ILocationProxy, which will get a chance to proxy all of its contents
found during a findProviders traversal (as opposed to an IProxy, which
gets a chance to proxy all objects found *through* it, like the
objects on the other side of a red glass window).

Then we implemented a torch. The torch is a Thing with a LightSource
powerup; the LightSource powers up its thing for ILightSource, and
provides a candelas attribute. The LightingLocation proxy searches for
(calls findProviders with) ILightSource, accumulates all the light
sources, and adds it to the ambient light of the room, to decide
whether it is bright enough to see anything.

None of this stuff is yet available to builders in the game world, but
hopefully we'll try to do something about that before we merge.

I think this is the first lighting system in a looong time. Reality? TR/J?


1: Perhaps the LocationLighting proxy should, when it gets a chance to
proxy the actual location, return an IVisible whose name is &quot;dark
place&quot;? That would let the player know whether they're standing in
complete blackness or floating in a pure white abyss,  for example.

--
Christopher Armstrong
International Man of Twistery
<A HREF="http://radix.twistedmatrix.com/">http://radix.twistedmatrix.com/</A>
<A HREF="http://twistedmatrix.com/">http://twistedmatrix.com/</A>
<A HREF="http://canonical.com/">http://canonical.com/</A>

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000204.html">[Reality] Current Task: OBJECT PROXIES.
</A></li>
	<LI>Next message: <A HREF="000206.html">[Reality] Re: Current Task: OBJECT PROXIES.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#205">[ date ]</a>
              <a href="thread.html#205">[ thread ]</a>
              <a href="subject.html#205">[ subject ]</a>
              <a href="author.html#205">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/reality">More information about the Reality
mailing list</a><br>
</body></html>
