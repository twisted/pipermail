<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Reality] we're the most frontingest
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:reality%40twistedmatrix.com?Subject=%5BReality%5D%20we%27re%20the%20most%20frontingest&In-Reply-To=20060519044537.28682.1098839844.divmod.quotient.2671%40ohm">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000212.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Reality] we're the most frontingest</H1>
    <B>Christopher Armstrong</B> 
    <A HREF="mailto:reality%40twistedmatrix.com?Subject=%5BReality%5D%20we%27re%20the%20most%20frontingest&In-Reply-To=20060519044537.28682.1098839844.divmod.quotient.2671%40ohm"
       TITLE="[Reality] we're the most frontingest">radix at twistedmatrix.com
       </A><BR>
    <I>Fri May 19 13:11:21 CDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000212.html">[Reality] we're the most frontingest
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#213">[ date ]</a>
              <a href="thread.html#213">[ thread ]</a>
              <a href="subject.html#213">[ subject ]</a>
              <a href="author.html#213">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 5/19/06, <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/reality">glyph at divmod.com</A> &lt;<A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/reality">glyph at divmod.com</A>&gt; wrote:

&gt;<i> === proxy() design patterns, and quantum fronting in Imaginary ===
</I>...
&gt;<i> In the case of [un]illuminated environments -- and more generally, in any
</I>&gt;<i> implementation of proxy() that might want to interfere with a player's ability
</I>&gt;<i> to see or interact with objects -- there are a few general types of
</I>&gt;<i> interaction:
</I>&gt;<i>
</I>&gt;<i>     - see an object (.isOrExtends(IVisible))
</I>&gt;<i>     - designate an object as a target of some kind (.isOrExtends(IDesignatable))
</I>&gt;<i>       two other parent interfaces extend this one:
</I>&gt;<i>         - physically interact with an object (.isOrExtends(IReachable))
</I>&gt;<i>         - remotely indicate an object (.isOrExtends(IAimedTarget))
</I>&gt;<i>
</I>...
&gt;<i> The proposed solution here is to allow proxy() to return both providers of the
</I>&gt;<i> requested interface and providers of a new interface, IWaveform.  IWaveform has
</I>&gt;<i> one method: collapse(observer), which returns a provider of the originally
</I>&gt;<i> requested interface passed to proxy().  collapse(player) will be called at the
</I>&gt;<i> end of the resolve() phase of Action, if the given things do not implement the
</I>&gt;<i> interface they are supposed to implement at that point (and, obviously, do
</I>&gt;<i> provide IWaveform; otherwise this is simply an error.)
</I>&gt;<i>
</I>&gt;<i> For example, the IlluminatedThing wrapper will implement IVisible and
</I>&gt;<i> IWaveform, since it knows what to do in the case of visibility, but it provides
</I>&gt;<i> a general &quot;can I reach this&quot; implementation for _all_ tool and target
</I>&gt;<i> interfaces, not merely those it can explicitly single out.  i.e., for any
</I>&gt;<i> interface LocationLighting.proxy is passed that isOrExtends(IDesignatable), an
</I>&gt;<i> IlluminatedThing will be returned, whose collapse() method will make the
</I>&gt;<i> appropriate rolls: can I see this?  can I interact with it?  what's the chance
</I>&gt;<i> I will hit it if it's an IAimedTarget?  how long will it take to rummage for
</I>&gt;<i> it?  (the last only once we implement some kind of actions-taking-time system).
</I>

So, I'm still vaguely uncomfortable with IWaveform (for one, since its
specification is still pretty vague; I don't think IlluminatedThing
has been thought through to the point where we *really* know how its
IWaveform implementation will work).

Let me state a (perceived) problem, concentrated down from glyph's
huge and twisty maze of logic:

Currently, modification of object behavior that needs to take into
consideration the state of the actor/observer can use only one
strategy: do the observer-dependent logic in the Concept, where the
observer is available.

Unfortunately, there are (probably) use cases where conceptualization
of objects and/or events is too late in the process: those cases where
we want to change more than how how an observer perceives something,
but make the outcome of the action dependent on the actor.

Shoot a gun in the dark at a noisy enemy (while an innocent bystander
is standing next to him). Is your &quot;Listen&quot; check (based on Wis) high
enough to beat the enemy's &quot;Move Silently&quot; check? Asking this question
in ShotFiredConcept makes no sense, because the concept can't decide
who the bullet actually hits.  As a perhaps simpler example, consider
finding the exit out of a dark room: you need to &quot;grope my way out of
here&quot;, which means feel along the wall until you've found an exit and
walk through it. Conceptualization-time, again, is too late to decide
whether you find an exit, or how long it takes to find the exit (which
should be based on the actor's knowledge of the layout of the room,
for example).

How do we solve this? I know glyph's answer already, but I want to see
what other's immediate impressions are. Perhaps this shouldn't even be
a function of the proxy system, or we need to modify some logic
elsewhere.

Of course, my current suggestion is the same as glyph's: Don't
implement IWaveform (or any solution to this problem) yet, but wait
until we've thought harder and actually get to the point where we want
to implement combat in dark rooms :-)

(also, non-dark-room use cases would be appreciated)

-- 
Christopher Armstrong
International Man of Twistery
<A HREF="http://radix.twistedmatrix.com/">http://radix.twistedmatrix.com/</A>
<A HREF="http://twistedmatrix.com/">http://twistedmatrix.com/</A>
<A HREF="http://canonical.com/">http://canonical.com/</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000212.html">[Reality] we're the most frontingest
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#213">[ date ]</a>
              <a href="thread.html#213">[ thread ]</a>
              <a href="subject.html#213">[ subject ]</a>
              <a href="author.html#213">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://twistedmatrix.com/cgi-bin/mailman/listinfo/reality">More information about the Reality
mailing list</a><br>
</body></html>
