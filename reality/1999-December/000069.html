<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Reality] Markov/Probability tables added</TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glyph%40twistedmatrix.com">
   <LINK REL="Previous"  HREF="000068.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Reality] Markov/Probability tables added</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:glyph%40twistedmatrix.com"
       TITLE="[Reality] Markov/Probability tables added">glyph@twistedmatrix.com</A><BR>
    <I>Tue, 28 Dec 1999 00:17:34 -0500 (EST)</I>
    <P><UL>
        <LI> Previous message: <A HREF="000068.html">[Reality] Markov/Probability tables added</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69">[ date ]</a>
              <a href="thread.html#69">[ thread ]</a>
              <a href="subject.html#69">[ subject ]</a>
              <a href="author.html#69">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 27 Dec 1999 <A HREF="mailto:sneftel@popmail.com">sneftel@popmail.com</A> wrote:

&gt;<i> &gt; Sounds interesting.  This is the only part of your design which sounds
</I>&gt;<i> &gt; slightly erroneous.  Why do you need to extend them AND place them into a
</I>&gt;<i> &gt; super-location?  (&quot;Zone&quot; is what we called them in our proposal).  It
</I>&gt;<i> &gt; seems to me like UpdateDescHandler should be MetaUpdateDescHandler and it
</I>&gt;<i> &gt; should be handled on the zone only (outdoors).  It should cascade down
</I>&gt;<i> &gt; into each room and set the 'weather' description element on them, not call
</I>&gt;<i> &gt; event handlers (since, when does 'motif' ever do ANYTHING but update this
</I>&gt;<i> &gt; particular description?  Since you'd never want to handle another event or
</I>&gt;<i> &gt; do something different there, you might as well embed all the code in the
</I>&gt;<i> &gt; one toplevel event handler.
</I>
&gt;<i> You're absolutely right. I did this particular oddity because I didn't
</I>&gt;<i> know (at the time) how to refer to each object in a room without
</I>&gt;<i> broadcasting an event.
</I>
Okay, well hopefully you know that =)

&gt;<i> However, I had a good reason to extend Class_Outside: For each room,
</I>&gt;<i> the weather strings can be unique and tailored to the room's
</I>&gt;<i> setting(&quot;Sunlight filters through the trees&quot; instead of &quot;It is
</I>&gt;<i> sunny&quot;). At the same time, however, I didn't want to manually go
</I>&gt;<i> through and write all the weather strings for every single room, just
</I>&gt;<i> the important ones. So Class_Outside has default weather strings,
</I>&gt;<i> which may or may not be overridden by the rooms' own strings. I could
</I>&gt;<i> have implemented this in the handler, but I think this could give me
</I>&gt;<i> slightly more flexibility in breaking up zones (e.g. insted of
</I>&gt;<i> Class_Outside, have Class_Forested or Class_Streetlevel).
</I>
&gt;<i> What do you think? is the extra flexibility worth the double
</I>&gt;<i> nomination required?
</I>
The double-nomination is more work on the part of the authors; this is
always bad =).  You should probably make it possible to override those
strings; but default to the ones in the meta-room rather than relying on
the presence of the superclass of each sub-room.  The extra flexibility is
good, but --

'---
|<i>
</I>|<i>  String desc = room.getString(&quot;weather description&quot;);
</I>|<i>  if (desc == null)
</I>|<i>      desc=zone.getString(&quot;weather description&quot;);
</I>|<i>
</I>`---

; something like that will preserve the flexibility and save the authors
work at the same time =)

Finally, if you want to get really complicated, as in your final example,
you could either do the subclass thing (but as I said, that's a lot of
work for authors) or do sub-zones, like

+ Outside
|<i>
</I>\--+ Street Level
   |
   \--o Street
   |  |
   |  o More Street
   |  |
   |  o Even More Street
   |
   + Forest
   |
   \--o Forest
      |
      o More Forest
      |
      o Even More Forest


And write the weather system to explicitly (do everything as tree, rather
than a two-level structure) or implicitly (broadcast an event, but
normally don't handle it unless your rooms are actually zones) support it.


</pre>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000068.html">[Reality] Markov/Probability tables added</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#69">[ date ]</a>
              <a href="thread.html#69">[ thread ]</a>
              <a href="subject.html#69">[ subject ]</a>
              <a href="author.html#69">[ author ]</a>
         </LI>
       </UL>
</body></html>
