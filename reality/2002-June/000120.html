<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Reality] Exits
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:reality%40twistedmatrix.com">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000123.html">
   <LINK REL="Next"  HREF="000121.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Reality] Exits
   </H1>
    <B>Christopher Armstrong
    </B> 
    <A HREF="mailto:reality%40twistedmatrix.com"
       TITLE="[Reality] Exits">reality@twistedmatrix.com
       </A><BR>
    <I>17 Jun 2002 14:09:02 -0400</I>
    <P><UL>
        <LI> Previous message: <A HREF="000123.html">[Reality] Exits
</A></li>
        <LI> Next message: <A HREF="000121.html">[Reality] Exits
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#120">[ date ]</a>
              <a href="thread.html#120">[ thread ]</a>
              <a href="subject.html#120">[ subject ]</a>
              <a href="author.html#120">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;&gt;&gt;&gt;&gt;<i> &quot;Jp&quot; == Jp Calderone &lt;<A HREF="mailto:exarkun@meson.dyndns.org">exarkun@meson.dyndns.org</A>&gt; writes:
</I>
    Jp&gt; On 17 Jun 2002, Christopher Armstrong wrote:

    &gt;&gt; Here's the use case: we need to be able to have a ship (which is made of
    &gt;&gt; multiple rooms) enter a spaceport entirely and make its entrances
    &gt;&gt; available to people in the spaceport. The ship may have multiple
    &gt;&gt; entrances: one for the cockpit and one for the cargo bay, f.e.

    Jp&gt;   Other things that come to mind - temporary or permanant enclosures,
    Jp&gt; such as a tent Thing that could be carried around and then unpacked,
    Jp&gt; set up, and entered; ground vehicles; or &quot;scenery&quot; such as an oil drum.

What differing requirements do these have? I think it would be fine if we
just checked if any new objects entering a room have an &quot;entrances&quot; attribute
(or perhaps something a bit more explicit), and if so, update the room's
exits.

Is that all you meant? how about going a bit more in depth for these cases?

    &gt;&gt; Hrm, then again, we could just make the special Area-checking part of
    &gt;&gt; the Exit class, so that's no worry (i.e., add a set_source method that
    &gt;&gt; checks whether source is an area object, if it is, tell it to update its
    &gt;&gt; entrances).

    Jp&gt;   Yea, movement hooks would do most of it, then exit can track the
    Jp&gt; rest.  Area should have an interface for adding/removing these exits
    Jp&gt; (as well as getting a list of them, of course).

That's what the 'entrances' attribute would be (A list of Exit objects meant to
be exposed to the containing room). adding and removing stuff from &quot;entrances&quot;
can probably be implicit -- that's the point of having Exit objects track what
their 'source' and 'dest' properties are. Unless you can come up with another
reason for an explicit API :)

    Jp&gt;   It would be nice if this didn't break the existing exit code.  I

I don't personally care about breaking existing Reality code, especially since
there's so little of it. I think we need to come up with a good solution before
we generate a ton of code.

    Jp&gt; guess these types of exits would only be accessable via a new ability?
    Jp&gt; Enter/leave or something like that.  Could this be folded into the

No need, if we tell the containing room about the exits, it can add the exits
to its own internal exits until the thing leaves again. OR, it can simply look
up exits dynamically on any enterable objects inside of it (which may be able
to prevent some &quot;woops, I accidentally left an exit back there&quot; bugs, but then
again, if it doesn't rely on the &quot;end-coder&quot; to do anything it may not be a
problem).

Of course, if you wanted to make an explicit &quot;enter&quot; verb, I guess there's
nothing stopping you.

    Jp&gt; existing interface on Thing, perhaps with an option &quot;of&quot; or &quot;on&quot;
    Jp&gt; parameter to findDirection() that defaults to None?  Or maybe it makes
    Jp&gt; sense to do the access in a new method..

You lost me there. :)

-- 
                                Chris Armstrong
                         &lt;&lt; <A HREF="mailto:radix@twistedmatrix.com">radix@twistedmatrix.com</A> &gt;&gt;
                <A HREF="http://twistedmatrix.com/users/carmstro.twistd/">http://twistedmatrix.com/users/carmstro.twistd/</A>



</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000123.html">[Reality] Exits
</A></li>
	<LI> Next message: <A HREF="000121.html">[Reality] Exits
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#120">[ date ]</a>
              <a href="thread.html#120">[ thread ]</a>
              <a href="subject.html#120">[ subject ]</a>
              <a href="author.html#120">[ author ]</a>
         </LI>
       </UL>
</body></html>
