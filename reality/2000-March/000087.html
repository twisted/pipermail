<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Reality] Faucet API &amp; class, round 1</TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glyph%40twistedmatrix.com">
   <LINK REL="Previous"  HREF="000086.html">
   <LINK REL="Next" HREF="000088.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Reality] Faucet API &amp; class, round 1</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:glyph%40twistedmatrix.com"
       TITLE="[Reality] Faucet API &amp; class, round 1">glyph@twistedmatrix.com</A><BR>
    <I>Thu, 16 Mar 2000 11:26:30 -0500 (EST)</I>
    <P><UL>
        <LI> Previous message: <A HREF="000086.html">[Reality] Faucet API &amp; class, round 1</A></li>
        <LI> Next message: <A HREF="000088.html">[Reality] Faucet API &amp; class, round 1</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#87">[ date ]</a>
              <a href="thread.html#87">[ thread ]</a>
              <a href="subject.html#87">[ subject ]</a>
              <a href="author.html#87">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Good idea, but I don't think as many parts of this are generalizable as
you think; but let me address each one specifically.

On Thu, 16 Mar 2000, Michael Dartt wrote:

&gt;<i> Faucet class (faucet.py): contains structures, functions, etc. common to
</I>&gt;<i> all Faucets, regardless of front-end, excepting networking/protocol stuff,
</I>&gt;<i> which will go in protocol.py
</I>
Well, it might be better to just put the 'common' stuff in protocol.py,
since the protocol should ideally not only define the bytes being sent
over the wire, but the higher-level *meaning* of those bytes... however...

&gt;<i> Faucet GUI API: function and variable names and construction, so that
</I>&gt;<i> it'll be easier to write, read, and debug Faucet front-ends (assuming
</I>&gt;<i> programmers follow this :-j)
</I>
Well, this exists to some extent already.  I mean, the name, hears,
et. al. methods are there... there are things to implement to do all of
the major functions, and as it gets complete, more of those will
appear.  FaucetProtocol defines this.

&gt;<i> The inheritance structure would go: FaucetProtocol -&gt; Faucet -&gt; GUIFaucet
</I>&gt;<i> (e.g. GtkFaucet, TkFaucet, NcursesFaucet, etc.)
</I>
You might want to eliminate the first or second link in this chain
(depending on how you want to do naming) , for the reasons I gave above...

&gt;<i> Below are my lists for what I think should go into the two things I've
</I>&gt;<i> mentioned above.  Let me know what needs changing.  (Or if there are any
</I>&gt;<i> suggestions....)
</I>
Will do :-)

&gt;<i> Functions are denoted with a dollar sign ($).  The other symbols have no
</I>&gt;<i> significance.  (It's all indentation.  :-)
</I>
&quot;It's all about the whitespace, baby...&quot;

&gt;<i> --Mike
</I>&gt;<i> ------
</I>&gt;<i> 
</I>&gt;<i> * Common stuff (Faucet.py)
</I>&gt;<i> 	- history
</I>&gt;<i> 	  $ history up
</I>&gt;<i> 	  $ history down
</I>&gt;<i> 	  $ save history
</I>
All good stuff.  This can definitely be generalized.

&gt;<i> 	- keys
</I>&gt;<i> 	  - shortcuts (keypad #s for moving, other user-defined, etc) dict
</I>&gt;<i> 	  - expansions (&quot;u&quot; for &quot;go up&quot;, etc.) dict
</I>&gt;<i> 	  - etc. (Return, Up, Down, et al) dict
</I>&gt;<i> 	  $ load shortcuts, etc.
</I>&gt;<i> 	  $ change shortcuts
</I>&gt;<i> 	  $ key functions (what Return, et al do)
</I>
Also not bad.

&gt;<i> 	- items dictionary
</I>&gt;<i> 	  $ refresh
</I>&gt;<i> 	  $ add items
</I>&gt;<i> 	  $ remove items
</I>&gt;<i> 	  $ clear	  
</I>
Aah, here we get into a problem.

The GUI frontend is going to need to know about add/removes, especially if
we're going to put the items display into a tree (GtkCTree) or list
(GtkCList).  Not to mention the hariness of doing this in
ncurses.  I don't know if keeping the dictionary around will always be
useful... or if it is, to what degree... different formats of storage may
prove useful here.

&gt;<i> 	- description dictionary
</I>&gt;<i> 	  $ refresh
</I>&gt;<i> 	  $ add key
</I>&gt;<i> 	  $ remove key
</I>&gt;<i> 	  $ clear
</I>
OK, this could quite possibly be generic, since there's no need for
elements of the description to be distinct to the player...

&gt;<i> 	- exits list
</I>&gt;<i> 	  $ add exits to desc
</I>
This not so much.  I'd ideally like to have a graphical compass of some
kind at some point... the exits in the room desc was always supposed to be
temporary (but it's been around so long it's grown into a kind of de facto
standard)

&gt;<i> * UI pieces (API)
</I>&gt;<i> 	- Login window
</I>&lt;snip&gt;

Why do we need an API to access login-windows?  I can't see a reason that
that would be helpful in-game...

&gt;<i> 	  @ &quot;save password&quot; check box
</I>&gt;<i> 	    - label
</I>
Uh... I dunno... the little security demon in my head is screaming about
that one ;)

&gt;<i> 	  @ &quot;auto-login&quot; check box
</I>&gt;<i> 	    - label
</I>
This too ... but I guess AIM does it... hm.

&gt;<i> 	  $ save fields &amp; prefs
</I>
OK...

&gt;<i> 	- Game window
</I>
&lt;snip&gt;

When you say &quot;API&quot;, what do you mean here?  What I was thinking you meant
was entry points for the &quot;gui plugins&quot; that Dave and I suggested, but it
looks like you're talking about something different... what programmers
would be using this API?

&gt;<i> 	- Authoring window
</I>&gt;<i> 	  @ window title
</I>&gt;<i> 	  @ OK button
</I>&gt;<i> 	    - button label
</I>&gt;<i> 	  @ Cancel button
</I>&gt;<i> 	    - button label
</I>&gt;<i> 	  @ Clear button
</I>&gt;<i> 	    - button label
</I>&gt;<i> 	  @ text field 
</I>&gt;<i> 	  $ get text from box
</I>
well, this would be useful in any case...

&gt;<i> * Save following in Faucet dir (one file, XML?):
</I>
Ooh yes, let's use XML!  It will be dynamic and efficient and
multithreaded and enterprise wide!  Not to mention scalable and
multi-architectured and hluaghlaughlauglhagluahg (ad infinitum).

No, I think that a nice, simple tab-delimited text file will be fine
:<i>-) those were a standard long before XML got its claws into the lives and
</I>sanity of programmers everywhere.  And, as in most places where XML is
suggested, we need none of its features and it would probably just serve
to make things slow and stupid.

On a more positive XML-type note, it might be a nice thing to use for the
map format, if pickle doesn't scale well ... and it would be nice to have
something slightly more human-readable... I know you're probably looking
at all those wonderfully easy-to-use XML APIs in python and wondering what
to do with them.  So am I :)

                      ______      __   __  _____  _     _
                     |  ____ |      \_/   |_____] |_____|
                     |_____| |_____  |    |       |     |
                     @ t w i s t e d m a t r i x  . c o m
                     <A HREF="http://www.twistedmatrix.com/~glyph/">http://www.twistedmatrix.com/~glyph/</A>








</pre>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000086.html">[Reality] Faucet API &amp; class, round 1</A></li>
	<LI> Next message: <A HREF="000088.html">[Reality] Faucet API &amp; class, round 1</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#87">[ date ]</a>
              <a href="thread.html#87">[ thread ]</a>
              <a href="subject.html#87">[ subject ]</a>
              <a href="author.html#87">[ author ]</a>
         </LI>
       </UL>
</body></html>
