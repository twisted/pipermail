<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Reality] Faucet API &amp; class, round 1</TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mad96%40hampshire.edu">
   <LINK REL="Previous"  HREF="000087.html">
   <LINK REL="Next" HREF="000089.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Reality] Faucet API &amp; class, round 1</H1>
    <B>Michael Dartt</B> 
    <A HREF="mailto:mad96%40hampshire.edu"
       TITLE="[Reality] Faucet API &amp; class, round 1">mad96@hampshire.edu</A><BR>
    <I>Thu, 16 Mar 2000 12:38:53 -0500 (EST)</I>
    <P><UL>
        <LI> Previous message: <A HREF="000087.html">[Reality] Faucet API &amp; class, round 1</A></li>
        <LI> Next message: <A HREF="000089.html">[Reality] Faucet API &amp; class, round 1</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#88">[ date ]</a>
              <a href="thread.html#88">[ thread ]</a>
              <a href="subject.html#88">[ subject ]</a>
              <a href="author.html#88">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Clarification: the GUI API is basically us saying, &quot;If you write a
front-end, could you please name your functions and variables/widgets/etc.
according to these guidelines?&quot;  So it's really just an interface--no
official code to go with it.

The criteria I used for splitting stuff up was that the GUI stuff only
deals with toolkit-specific issues--widgets, displaying info, etc.  The
Faucet module will handle the manipulation and storage of the information,
since that's common to all clients, no matter what toolkit is being used.
Finally, the front-end won't be ignorant of the stuff in Faucet.py, b/c
it'll inherit from it.

The point of this is to make it easier to develop Faucets--the only thing
one has to do is write the GUI code.

As far as merging Faucet.py with FaucetProtocol, I'm a bit leery of that
b/c the protocol implies the means by which the Faucet interacts with the
Pump, rather than how the Faucet operates internally.

Does this clear things up?


--Mike


On Thu, 16 Mar 2000, Glyph Lefkowitz wrote:

&gt;<i> 
</I>&gt;<i> Good idea, but I don't think as many parts of this are generalizable as
</I>&gt;<i> you think; but let me address each one specifically.
</I>&gt;<i> 
</I>&gt;<i> On Thu, 16 Mar 2000, Michael Dartt wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; Faucet class (faucet.py): contains structures, functions, etc. common to
</I>&gt;<i> &gt; all Faucets, regardless of front-end, excepting networking/protocol stuff,
</I>&gt;<i> &gt; which will go in protocol.py
</I>&gt;<i> 
</I>&gt;<i> Well, it might be better to just put the 'common' stuff in protocol.py,
</I>&gt;<i> since the protocol should ideally not only define the bytes being sent
</I>&gt;<i> over the wire, but the higher-level *meaning* of those bytes... however...
</I>&gt;<i> 
</I>&gt;<i> &gt; Faucet GUI API: function and variable names and construction, so that
</I>&gt;<i> &gt; it'll be easier to write, read, and debug Faucet front-ends (assuming
</I>&gt;<i> &gt; programmers follow this :-j)
</I>&gt;<i> 
</I>&gt;<i> Well, this exists to some extent already.  I mean, the name, hears,
</I>&gt;<i> et. al. methods are there... there are things to implement to do all of
</I>&gt;<i> the major functions, and as it gets complete, more of those will
</I>&gt;<i> appear.  FaucetProtocol defines this.
</I>&gt;<i> 
</I>&gt;<i> &gt; The inheritance structure would go: FaucetProtocol -&gt; Faucet -&gt; GUIFaucet
</I>&gt;<i> &gt; (e.g. GtkFaucet, TkFaucet, NcursesFaucet, etc.)
</I>&gt;<i> 
</I>&gt;<i> You might want to eliminate the first or second link in this chain
</I>&gt;<i> (depending on how you want to do naming) , for the reasons I gave above...
</I>&gt;<i> 
</I>&gt;<i> &gt; Below are my lists for what I think should go into the two things I've
</I>&gt;<i> &gt; mentioned above.  Let me know what needs changing.  (Or if there are any
</I>&gt;<i> &gt; suggestions....)
</I>&gt;<i> 
</I>&gt;<i> Will do :-)
</I>&gt;<i> 
</I>&gt;<i> &gt; Functions are denoted with a dollar sign ($).  The other symbols have no
</I>&gt;<i> &gt; significance.  (It's all indentation.  :-)
</I>&gt;<i> 
</I>&gt;<i> &quot;It's all about the whitespace, baby...&quot;
</I>&gt;<i> 
</I>&gt;<i> &gt; --Mike
</I>&gt;<i> &gt; ------
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; * Common stuff (Faucet.py)
</I>&gt;<i> &gt; 	- history
</I>&gt;<i> &gt; 	  $ history up
</I>&gt;<i> &gt; 	  $ history down
</I>&gt;<i> &gt; 	  $ save history
</I>&gt;<i> 
</I>&gt;<i> All good stuff.  This can definitely be generalized.
</I>&gt;<i> 
</I>&gt;<i> &gt; 	- keys
</I>&gt;<i> &gt; 	  - shortcuts (keypad #s for moving, other user-defined, etc) dict
</I>&gt;<i> &gt; 	  - expansions (&quot;u&quot; for &quot;go up&quot;, etc.) dict
</I>&gt;<i> &gt; 	  - etc. (Return, Up, Down, et al) dict
</I>&gt;<i> &gt; 	  $ load shortcuts, etc.
</I>&gt;<i> &gt; 	  $ change shortcuts
</I>&gt;<i> &gt; 	  $ key functions (what Return, et al do)
</I>&gt;<i> 
</I>&gt;<i> Also not bad.
</I>&gt;<i> 
</I>&gt;<i> &gt; 	- items dictionary
</I>&gt;<i> &gt; 	  $ refresh
</I>&gt;<i> &gt; 	  $ add items
</I>&gt;<i> &gt; 	  $ remove items
</I>&gt;<i> &gt; 	  $ clear	  
</I>&gt;<i> 
</I>&gt;<i> Aah, here we get into a problem.
</I>&gt;<i> 
</I>&gt;<i> The GUI frontend is going to need to know about add/removes, especially if
</I>&gt;<i> we're going to put the items display into a tree (GtkCTree) or list
</I>&gt;<i> (GtkCList).  Not to mention the hariness of doing this in
</I>&gt;<i> ncurses.  I don't know if keeping the dictionary around will always be
</I>&gt;<i> useful... or if it is, to what degree... different formats of storage may
</I>&gt;<i> prove useful here.
</I>&gt;<i> 
</I>&gt;<i> &gt; 	- description dictionary
</I>&gt;<i> &gt; 	  $ refresh
</I>&gt;<i> &gt; 	  $ add key
</I>&gt;<i> &gt; 	  $ remove key
</I>&gt;<i> &gt; 	  $ clear
</I>&gt;<i> 
</I>&gt;<i> OK, this could quite possibly be generic, since there's no need for
</I>&gt;<i> elements of the description to be distinct to the player...
</I>&gt;<i> 
</I>&gt;<i> &gt; 	- exits list
</I>&gt;<i> &gt; 	  $ add exits to desc
</I>&gt;<i> 
</I>&gt;<i> This not so much.  I'd ideally like to have a graphical compass of some
</I>&gt;<i> kind at some point... the exits in the room desc was always supposed to be
</I>&gt;<i> temporary (but it's been around so long it's grown into a kind of de facto
</I>&gt;<i> standard)
</I>&gt;<i> 
</I>&gt;<i> &gt; * UI pieces (API)
</I>&gt;<i> &gt; 	- Login window
</I>&gt;<i> &lt;snip&gt;
</I>&gt;<i> 
</I>&gt;<i> Why do we need an API to access login-windows?  I can't see a reason that
</I>&gt;<i> that would be helpful in-game...
</I>&gt;<i> 
</I>&gt;<i> &gt; 	  @ &quot;save password&quot; check box
</I>&gt;<i> &gt; 	    - label
</I>&gt;<i> 
</I>&gt;<i> Uh... I dunno... the little security demon in my head is screaming about
</I>&gt;<i> that one ;)
</I>&gt;<i> 
</I>&gt;<i> &gt; 	  @ &quot;auto-login&quot; check box
</I>&gt;<i> &gt; 	    - label
</I>&gt;<i> 
</I>&gt;<i> This too ... but I guess AIM does it... hm.
</I>&gt;<i> 
</I>&gt;<i> &gt; 	  $ save fields &amp; prefs
</I>&gt;<i> 
</I>&gt;<i> OK...
</I>&gt;<i> 
</I>&gt;<i> &gt; 	- Game window
</I>&gt;<i> 
</I>&gt;<i> &lt;snip&gt;
</I>&gt;<i> 
</I>&gt;<i> When you say &quot;API&quot;, what do you mean here?  What I was thinking you meant
</I>&gt;<i> was entry points for the &quot;gui plugins&quot; that Dave and I suggested, but it
</I>&gt;<i> looks like you're talking about something different... what programmers
</I>&gt;<i> would be using this API?
</I>&gt;<i> 
</I>&gt;<i> &gt; 	- Authoring window
</I>&gt;<i> &gt; 	  @ window title
</I>&gt;<i> &gt; 	  @ OK button
</I>&gt;<i> &gt; 	    - button label
</I>&gt;<i> &gt; 	  @ Cancel button
</I>&gt;<i> &gt; 	    - button label
</I>&gt;<i> &gt; 	  @ Clear button
</I>&gt;<i> &gt; 	    - button label
</I>&gt;<i> &gt; 	  @ text field 
</I>&gt;<i> &gt; 	  $ get text from box
</I>&gt;<i> 
</I>&gt;<i> well, this would be useful in any case...
</I>&gt;<i> 
</I>&gt;<i> &gt; * Save following in Faucet dir (one file, XML?):
</I>&gt;<i> 
</I>&gt;<i> Ooh yes, let's use XML!  It will be dynamic and efficient and
</I>&gt;<i> multithreaded and enterprise wide!  Not to mention scalable and
</I>&gt;<i> multi-architectured and hluaghlaughlauglhagluahg (ad infinitum).
</I>&gt;<i> 
</I>&gt;<i> No, I think that a nice, simple tab-delimited text file will be fine
</I>&gt;<i> :-) those were a standard long before XML got its claws into the lives and
</I>&gt;<i> sanity of programmers everywhere.  And, as in most places where XML is
</I>&gt;<i> suggested, we need none of its features and it would probably just serve
</I>&gt;<i> to make things slow and stupid.
</I>&gt;<i> 
</I>&gt;<i> On a more positive XML-type note, it might be a nice thing to use for the
</I>&gt;<i> map format, if pickle doesn't scale well ... and it would be nice to have
</I>&gt;<i> something slightly more human-readable... I know you're probably looking
</I>&gt;<i> at all those wonderfully easy-to-use XML APIs in python and wondering what
</I>&gt;<i> to do with them.  So am I :)
</I>&gt;<i> 
</I>&gt;<i>                       ______      __   __  _____  _     _
</I>&gt;<i>                      |  ____ |      \_/   |_____] |_____|
</I>&gt;<i>                      |_____| |_____  |    |       |     |
</I>&gt;<i>                      @ t w i s t e d m a t r i x  . c o m
</I>&gt;<i>                      <A HREF="http://www.twistedmatrix.com/~glyph/">http://www.twistedmatrix.com/~glyph/</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Reality mailing list
</I>&gt;<i> <A HREF="mailto:Reality@twistedmatrix.com">Reality@twistedmatrix.com</A>
</I>&gt;<i> <A HREF="http://twistedmatrix.com/cgi-bin/mailman/listinfo/reality">http://twistedmatrix.com/cgi-bin/mailman/listinfo/reality</A>
</I>&gt;<i> 
</I>



</pre>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000087.html">[Reality] Faucet API &amp; class, round 1</A></li>
	<LI> Next message: <A HREF="000089.html">[Reality] Faucet API &amp; class, round 1</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#88">[ date ]</a>
              <a href="thread.html#88">[ thread ]</a>
              <a href="subject.html#88">[ subject ]</a>
              <a href="author.html#88">[ author ]</a>
         </LI>
       </UL>
</body></html>
