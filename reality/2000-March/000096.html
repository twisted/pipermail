<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Reality] Socials questions</TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:glyph%40twistedmatrix.com">
   <LINK REL="Previous"  HREF="000095.html">
   <LINK REL="Next" HREF="000097.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Reality] Socials questions</H1>
    <B>Glyph Lefkowitz</B> 
    <A HREF="mailto:glyph%40twistedmatrix.com"
       TITLE="[Reality] Socials questions">glyph@twistedmatrix.com</A><BR>
    <I>Wed, 22 Mar 2000 15:15:27 -0500 (EST)</I>
    <P><UL>
        <LI> Previous message: <A HREF="000095.html">[Reality] Socials questions</A></li>
        <LI> Next message: <A HREF="000097.html">[Reality] Socials questions</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#96">[ date ]</a>
              <a href="thread.html#96">[ thread ]</a>
              <a href="subject.html#96">[ subject ]</a>
              <a href="author.html#96">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 22 Mar 2000, Michael Dartt wrote:

&gt;<i> I'm parsing in the socials from a text file and storing them in a
</I>&gt;<i> dictionary (Socials.socials, indexed by name, of course).  IIUnderstandC,
</I>&gt;<i> I need to put an action() function in socials.py, which will be executed
</I>&gt;<i> as if it were a verb.  Here's what I'm wondering:
</I>&gt;<i> 
</I>&gt;<i> 1) Since the socials are being held in their own dictionary, how will the
</I>&gt;<i> game know to call the socials &quot;verb&quot; when someone calls, say, &quot;bite&quot;?  Or
</I>&gt;<i> will &quot;socials&quot; be called whenever the given verb can't be found?
</I>
Socials is a regular verb; as such, its action method will be invoked when
it is found on an object.

I assume you're using a class for some of this stuff, so somewhere in
socials you'll have a line that looks like

socials=Socials(&quot;socials.txt&quot;)

You should, at least, have a module-global representation of whatever
object you're using to keep track of the socials you read in.

Then after that,

names=socials.getNamesTuple()

This will tell the core that your verb has the names listed in 'names'
(again, this has to be module-global).

&gt;<i> 2) Should I throw an InappropriateVerb exception or a NoVerb exception if
</I>&gt;<i> the requested social doesn't exist?
</I>
InappropriateVerb; you really shouldn't ever raise NoVerb yourself.  
Think of InappropriateVerb as a NoVerb but giving the game an extra chance
to correct itself, if it somehow found your verb in error.

&gt;<i> 3) Should the action() method be inside the Socials class, or outside it?
</I>&gt;<i> Is this true for all verbs?
</I>
It should be outside it.  The 'verb' is basically a module; you don't
*need* to define a socials class at all (although I can see how it might
be convenient).  The only things that the game will look for are a
module-global variable called 'names' and one called 'action'.  'names',
as I said before, should be a tuple containing the names that your verb
can be referred to as; 'action' should be a method which takes on
argument.

&gt;<i> I was thinking originally that the socials dictionary would be part of the
</I>&gt;<i> given reality, e.g. self.socials = Socials(&quot;socials.txt&quot;), and it could
</I>&gt;<i> then be referenced by whatever does the verb checking, so that the socials
</I>&gt;<i> stuff isn't run unless the requested one actually exists.
</I>
I don't think this would be a good idea, since it would negate the
benefits of being able to reload the socials module to reload the socials
file.

Also, socials shouldn't really have to be a 'special' verb... seems like
it would just add more crap to debug, without adding any functionality.

                      ______      __   __  _____  _     _
                     |  ____ |      \_/   |_____] |_____|
                     |_____| |_____  |    |       |     |
                     @ t w i s t e d m a t r i x  . c o m
                     <A HREF="http://www.twistedmatrix.com/~glyph/">http://www.twistedmatrix.com/~glyph/</A>





</pre>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000095.html">[Reality] Socials questions</A></li>
	<LI> Next message: <A HREF="000097.html">[Reality] Socials questions</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#96">[ date ]</a>
              <a href="thread.html#96">[ thread ]</a>
              <a href="subject.html#96">[ subject ]</a>
              <a href="author.html#96">[ author ]</a>
         </LI>
       </UL>
</body></html>
